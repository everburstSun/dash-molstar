/*! For license information please see dash_molstar.min.js.LICENSE.txt */
window.dash_molstar=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="";var r,i=function(){var t=document.currentScript;if(!t){for(var e=document.getElementsByTagName("script"),n=[],r=0;r<e.length;r++)n.push(e[r]);t=(n=n.filter((function(t){return!t.async&&!t.text&&!t.textContent}))).slice(-1)[0]}return t};if(Object.defineProperty(n,"p",{get:(r=i().src.split("/").slice(0,-1).join("/")+"/",function(){return r})}),"undefined"!=typeof jsonpScriptSrc){var o=jsonpScriptSrc;jsonpScriptSrc=function(t){var e=function(t){return/\/_dash-component-suites\//.test(t.src)}(i()),n=o(t);if(!e)return n;var r=n.split("/"),a=r.slice(-1)[0].split(".");return a.splice(1,0,"v1_2_14m1703831891"),r.splice(-1,1,a.join(".")),r.join("/")}}return n(n.s=24)}([function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return a})),n.d(e,"d",(function(){return u})),n.d(e,"e",(function(){return s}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function a(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{s(r.next(t))}catch(t){o(t)}}function u(t){try{s(r.throw(t))}catch(t){o(t)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}s((r=r.apply(t,e||[])).next())}))}function u(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(u){return function(s){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&u[0]?r.return:u[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,u[1])).done)return i;switch(r=0,i&&(u=[2&u[0],i.value]),u[0]){case 0:case 1:i=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,r=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==u[0]&&2!==u[0])){a=0;continue}if(3===u[0]&&(!i||u[1]>i[0]&&u[1]<i[3])){a.label=u[1];break}if(6===u[0]&&a.label<i[1]){a.label=i[1],i=u;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(u);break}i[2]&&a.ops.pop(),a.trys.pop();continue}u=e.call(t,a)}catch(t){u=[6,t],r=0}finally{n=i=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,s])}}}Object.create;function s(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}Object.create;"function"==typeof SuppressedError&&SuppressedError},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return r}));var r=function(){if("undefined"!=typeof window&&window.performance){var e=window.performance;return function(){return e.now()}}return void 0!==t&&"undefined"!==t.hrtime&&"function"==typeof t.hrtime?function(){var e=t.hrtime();return 1e3*e[0]+e[1]/1e6}:Date.now?function(){return Date.now()}:function(){return+new Date}}()}).call(this,n(7))},function(t,e,n){"use strict";(function(t){n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return o}));var r=void 0!==t&&null!=t.versions&&null!=t.versions.node,i="undefined"==typeof XMLHttpRequest||r?n(17):XMLHttpRequest,o="undefined"==typeof File||r?function(){function t(t,e,n){var r;this.blob=new Blob(t,n),this.size=this.blob.size,this.type=this.blob.type,this.name=e,this.lastModified=null!==(r=null==n?void 0:n.lastModified)&&void 0!==r?r:0,this.webkitRelativePath=""}return t.prototype.arrayBuffer=function(){return this.blob.arrayBuffer()},t.prototype.slice=function(t,e,n){return this.blob.slice(t,e,n)},t.prototype.stream=function(){return this.blob.stream()},t.prototype.text=function(){return this.blob.text()},t}():File}).call(this,n(7))},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return r}));var r,i=n(1);!function(e){var n="undefined"!=typeof btoa?btoa:function(e){return t.from(e).toString("base64")},r=[];e.create22=function(){for(var t=+new Date+Object(i.a)(),e=0;e<16;e++)r[e]=String.fromCharCode((t+255*Math.random())%255|0),t=Math.floor(t/255);return n(r.join("")).replace(/\+/g,"-").replace(/\//g,"_").substr(0,22)},e.createv4=function(){var t=+new Date+Object(i.a)();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var n=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"===e?n:3&n|8).toString(16)}))},e.is=function(t){return"string"==typeof t}}(r||(r={}))}).call(this,n(12).Buffer)},function(t,e){t.exports=window.PropTypes},function(t,e,n){(function(t,r){var i;(function(){var o="Expected a function",a="__lodash_placeholder__",u=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],s="[object Arguments]",c="[object Array]",l="[object Boolean]",d="[object Date]",f="[object Error]",p="[object Function]",m="[object GeneratorFunction]",h="[object Map]",g="[object Number]",v="[object Object]",y="[object RegExp]",_="[object Set]",b="[object String]",x="[object Symbol]",A="[object WeakMap]",w="[object ArrayBuffer]",S="[object DataView]",C="[object Float32Array]",B="[object Float64Array]",I="[object Int8Array]",P="[object Int16Array]",E="[object Int32Array]",M="[object Uint8Array]",k="[object Uint16Array]",D="[object Uint32Array]",O=/\b__p \+= '';/g,N=/\b(__p \+=) '' \+/g,T=/(__e\(.*?\)|\b__t\)) \+\n'';/g,U=/&(?:amp|lt|gt|quot|#39);/g,R=/[&<>"']/g,L=RegExp(U.source),G=RegExp(R.source),q=/<%-([\s\S]+?)%>/g,F=/<%([\s\S]+?)%>/g,j=/<%=([\s\S]+?)%>/g,H=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,V=/^\w*$/,z=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Y=/[\\^$.*+?()[\]{}|]/g,K=RegExp(Y.source),Z=/^\s+/,W=/\s/,X=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Q=/\{\n\/\* \[wrapped with (.+)\] \*/,J=/,? & /,$=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,tt=/[()=,{}\[\]\/\s]/,et=/\\(\\)?/g,nt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,rt=/\w*$/,it=/^[-+]0x[0-9a-f]+$/i,ot=/^0b[01]+$/i,at=/^\[object .+?Constructor\]$/,ut=/^0o[0-7]+$/i,st=/^(?:0|[1-9]\d*)$/,ct=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,lt=/($^)/,dt=/['\n\r\u2028\u2029\\]/g,ft="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",pt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",mt="[\\ud800-\\udfff]",ht="["+pt+"]",gt="["+ft+"]",vt="\\d+",yt="[\\u2700-\\u27bf]",_t="[a-z\\xdf-\\xf6\\xf8-\\xff]",bt="[^\\ud800-\\udfff"+pt+vt+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",xt="\\ud83c[\\udffb-\\udfff]",At="[^\\ud800-\\udfff]",wt="(?:\\ud83c[\\udde6-\\uddff]){2}",St="[\\ud800-\\udbff][\\udc00-\\udfff]",Ct="[A-Z\\xc0-\\xd6\\xd8-\\xde]",Bt="(?:"+_t+"|"+bt+")",It="(?:"+Ct+"|"+bt+")",Pt="(?:"+gt+"|"+xt+")"+"?",Et="[\\ufe0e\\ufe0f]?"+Pt+("(?:\\u200d(?:"+[At,wt,St].join("|")+")[\\ufe0e\\ufe0f]?"+Pt+")*"),Mt="(?:"+[yt,wt,St].join("|")+")"+Et,kt="(?:"+[At+gt+"?",gt,wt,St,mt].join("|")+")",Dt=RegExp("['’]","g"),Ot=RegExp(gt,"g"),Nt=RegExp(xt+"(?="+xt+")|"+kt+Et,"g"),Tt=RegExp([Ct+"?"+_t+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[ht,Ct,"$"].join("|")+")",It+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[ht,Ct+Bt,"$"].join("|")+")",Ct+"?"+Bt+"+(?:['’](?:d|ll|m|re|s|t|ve))?",Ct+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",vt,Mt].join("|"),"g"),Ut=RegExp("[\\u200d\\ud800-\\udfff"+ft+"\\ufe0e\\ufe0f]"),Rt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Lt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Gt=-1,qt={};qt[C]=qt[B]=qt[I]=qt[P]=qt[E]=qt[M]=qt["[object Uint8ClampedArray]"]=qt[k]=qt[D]=!0,qt[s]=qt[c]=qt[w]=qt[l]=qt[S]=qt[d]=qt[f]=qt[p]=qt[h]=qt[g]=qt[v]=qt[y]=qt[_]=qt[b]=qt[A]=!1;var Ft={};Ft[s]=Ft[c]=Ft[w]=Ft[S]=Ft[l]=Ft[d]=Ft[C]=Ft[B]=Ft[I]=Ft[P]=Ft[E]=Ft[h]=Ft[g]=Ft[v]=Ft[y]=Ft[_]=Ft[b]=Ft[x]=Ft[M]=Ft["[object Uint8ClampedArray]"]=Ft[k]=Ft[D]=!0,Ft[f]=Ft[p]=Ft[A]=!1;var jt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ht=parseFloat,Vt=parseInt,zt="object"==typeof t&&t&&t.Object===Object&&t,Yt="object"==typeof self&&self&&self.Object===Object&&self,Kt=zt||Yt||Function("return this")(),Zt=e&&!e.nodeType&&e,Wt=Zt&&"object"==typeof r&&r&&!r.nodeType&&r,Xt=Wt&&Wt.exports===Zt,Qt=Xt&&zt.process,Jt=function(){try{var t=Wt&&Wt.require&&Wt.require("util").types;return t||Qt&&Qt.binding&&Qt.binding("util")}catch(t){}}(),$t=Jt&&Jt.isArrayBuffer,te=Jt&&Jt.isDate,ee=Jt&&Jt.isMap,ne=Jt&&Jt.isRegExp,re=Jt&&Jt.isSet,ie=Jt&&Jt.isTypedArray;function oe(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function ae(t,e,n,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var a=t[i];e(r,a,n(a),t)}return r}function ue(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function se(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function ce(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function le(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}function de(t,e){return!!(null==t?0:t.length)&&xe(t,e,0)>-1}function fe(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function pe(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function me(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function he(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function ge(t,e,n,r){var i=null==t?0:t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function ve(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var ye=Ce("length");function _e(t,e,n){var r;return n(t,(function(t,n,i){if(e(t,n,i))return r=n,!1})),r}function be(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function xe(t,e,n){return e==e?function(t,e,n){var r=n-1,i=t.length;for(;++r<i;)if(t[r]===e)return r;return-1}(t,e,n):be(t,we,n)}function Ae(t,e,n,r){for(var i=n-1,o=t.length;++i<o;)if(r(t[i],e))return i;return-1}function we(t){return t!=t}function Se(t,e){var n=null==t?0:t.length;return n?Pe(t,e)/n:NaN}function Ce(t){return function(e){return null==e?void 0:e[t]}}function Be(t){return function(e){return null==t?void 0:t[e]}}function Ie(t,e,n,r,i){return i(t,(function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)})),n}function Pe(t,e){for(var n,r=-1,i=t.length;++r<i;){var o=e(t[r]);void 0!==o&&(n=void 0===n?o:n+o)}return n}function Ee(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function Me(t){return t?t.slice(0,Ze(t)+1).replace(Z,""):t}function ke(t){return function(e){return t(e)}}function De(t,e){return pe(e,(function(e){return t[e]}))}function Oe(t,e){return t.has(e)}function Ne(t,e){for(var n=-1,r=t.length;++n<r&&xe(e,t[n],0)>-1;);return n}function Te(t,e){for(var n=t.length;n--&&xe(e,t[n],0)>-1;);return n}function Ue(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}var Re=Be({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),Le=Be({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Ge(t){return"\\"+jt[t]}function qe(t){return Ut.test(t)}function Fe(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function je(t,e){return function(n){return t(e(n))}}function He(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var u=t[n];u!==e&&u!==a||(t[n]=a,o[i++]=n)}return o}function Ve(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}function ze(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=[t,t]})),n}function Ye(t){return qe(t)?function(t){var e=Nt.lastIndex=0;for(;Nt.test(t);)++e;return e}(t):ye(t)}function Ke(t){return qe(t)?function(t){return t.match(Nt)||[]}(t):function(t){return t.split("")}(t)}function Ze(t){for(var e=t.length;e--&&W.test(t.charAt(e)););return e}var We=Be({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var Xe=function t(e){var n,r=(e=null==e?Kt:Xe.defaults(Kt.Object(),e,Xe.pick(Kt,Lt))).Array,i=e.Date,W=e.Error,ft=e.Function,pt=e.Math,mt=e.Object,ht=e.RegExp,gt=e.String,vt=e.TypeError,yt=r.prototype,_t=ft.prototype,bt=mt.prototype,xt=e["__core-js_shared__"],At=_t.toString,wt=bt.hasOwnProperty,St=0,Ct=(n=/[^.]+$/.exec(xt&&xt.keys&&xt.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",Bt=bt.toString,It=At.call(mt),Pt=Kt._,Et=ht("^"+At.call(wt).replace(Y,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Mt=Xt?e.Buffer:void 0,kt=e.Symbol,Nt=e.Uint8Array,Ut=Mt?Mt.allocUnsafe:void 0,jt=je(mt.getPrototypeOf,mt),zt=mt.create,Yt=bt.propertyIsEnumerable,Zt=yt.splice,Wt=kt?kt.isConcatSpreadable:void 0,Qt=kt?kt.iterator:void 0,Jt=kt?kt.toStringTag:void 0,ye=function(){try{var t=to(mt,"defineProperty");return t({},"",{}),t}catch(t){}}(),Be=e.clearTimeout!==Kt.clearTimeout&&e.clearTimeout,Qe=i&&i.now!==Kt.Date.now&&i.now,Je=e.setTimeout!==Kt.setTimeout&&e.setTimeout,$e=pt.ceil,tn=pt.floor,en=mt.getOwnPropertySymbols,nn=Mt?Mt.isBuffer:void 0,rn=e.isFinite,on=yt.join,an=je(mt.keys,mt),un=pt.max,sn=pt.min,cn=i.now,ln=e.parseInt,dn=pt.random,fn=yt.reverse,pn=to(e,"DataView"),mn=to(e,"Map"),hn=to(e,"Promise"),gn=to(e,"Set"),vn=to(e,"WeakMap"),yn=to(mt,"create"),_n=vn&&new vn,bn={},xn=Po(pn),An=Po(mn),wn=Po(hn),Sn=Po(gn),Cn=Po(vn),Bn=kt?kt.prototype:void 0,In=Bn?Bn.valueOf:void 0,Pn=Bn?Bn.toString:void 0;function En(t){if(za(t)&&!Na(t)&&!(t instanceof On)){if(t instanceof Dn)return t;if(wt.call(t,"__wrapped__"))return Eo(t)}return new Dn(t)}var Mn=function(){function t(){}return function(e){if(!Va(e))return{};if(zt)return zt(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function kn(){}function Dn(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=void 0}function On(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function Nn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Tn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Un(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Rn(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Un;++e<n;)this.add(t[e])}function Ln(t){var e=this.__data__=new Tn(t);this.size=e.size}function Gn(t,e){var n=Na(t),r=!n&&Oa(t),i=!n&&!r&&La(t),o=!n&&!r&&!i&&$a(t),a=n||r||i||o,u=a?Ee(t.length,gt):[],s=u.length;for(var c in t)!e&&!wt.call(t,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||uo(c,s))||u.push(c);return u}function qn(t){var e=t.length;return e?t[Rr(0,e-1)]:void 0}function Fn(t,e){return Co(yi(t),Xn(e,0,t.length))}function jn(t){return Co(yi(t))}function Hn(t,e,n){(void 0!==n&&!Ma(t[e],n)||void 0===n&&!(e in t))&&Zn(t,e,n)}function Vn(t,e,n){var r=t[e];wt.call(t,e)&&Ma(r,n)&&(void 0!==n||e in t)||Zn(t,e,n)}function zn(t,e){for(var n=t.length;n--;)if(Ma(t[n][0],e))return n;return-1}function Yn(t,e,n,r){return er(t,(function(t,i,o){e(r,t,n(t),o)})),r}function Kn(t,e){return t&&_i(e,xu(e),t)}function Zn(t,e,n){"__proto__"==e&&ye?ye(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Wn(t,e){for(var n=-1,i=e.length,o=r(i),a=null==t;++n<i;)o[n]=a?void 0:gu(t,e[n]);return o}function Xn(t,e,n){return t==t&&(void 0!==n&&(t=t<=n?t:n),void 0!==e&&(t=t>=e?t:e)),t}function Qn(t,e,n,r,i,o){var a,u=1&e,c=2&e,f=4&e;if(n&&(a=i?n(t,r,i,o):n(t)),void 0!==a)return a;if(!Va(t))return t;var A=Na(t);if(A){if(a=function(t){var e=t.length,n=new t.constructor(e);e&&"string"==typeof t[0]&&wt.call(t,"index")&&(n.index=t.index,n.input=t.input);return n}(t),!u)return yi(t,a)}else{var O=ro(t),N=O==p||O==m;if(La(t))return fi(t,u);if(O==v||O==s||N&&!i){if(a=c||N?{}:oo(t),!u)return c?function(t,e){return _i(t,no(t),e)}(t,function(t,e){return t&&_i(e,Au(e),t)}(a,t)):function(t,e){return _i(t,eo(t),e)}(t,Kn(a,t))}else{if(!Ft[O])return i?t:{};a=function(t,e,n){var r=t.constructor;switch(e){case w:return pi(t);case l:case d:return new r(+t);case S:return function(t,e){var n=e?pi(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case C:case B:case I:case P:case E:case M:case"[object Uint8ClampedArray]":case k:case D:return mi(t,n);case h:return new r;case g:case b:return new r(t);case y:return function(t){var e=new t.constructor(t.source,rt.exec(t));return e.lastIndex=t.lastIndex,e}(t);case _:return new r;case x:return i=t,In?mt(In.call(i)):{}}var i}(t,O,u)}}o||(o=new Ln);var T=o.get(t);if(T)return T;o.set(t,a),Xa(t)?t.forEach((function(r){a.add(Qn(r,e,n,r,t,o))})):Ya(t)&&t.forEach((function(r,i){a.set(i,Qn(r,e,n,i,t,o))}));var U=A?void 0:(f?c?Ki:Yi:c?Au:xu)(t);return ue(U||t,(function(r,i){U&&(r=t[i=r]),Vn(a,i,Qn(r,e,n,i,t,o))})),a}function Jn(t,e,n){var r=n.length;if(null==t)return!r;for(t=mt(t);r--;){var i=n[r],o=e[i],a=t[i];if(void 0===a&&!(i in t)||!o(a))return!1}return!0}function $n(t,e,n){if("function"!=typeof t)throw new vt(o);return xo((function(){t.apply(void 0,n)}),e)}function tr(t,e,n,r){var i=-1,o=de,a=!0,u=t.length,s=[],c=e.length;if(!u)return s;n&&(e=pe(e,ke(n))),r?(o=fe,a=!1):e.length>=200&&(o=Oe,a=!1,e=new Rn(e));t:for(;++i<u;){var l=t[i],d=null==n?l:n(l);if(l=r||0!==l?l:0,a&&d==d){for(var f=c;f--;)if(e[f]===d)continue t;s.push(l)}else o(e,d,r)||s.push(l)}return s}En.templateSettings={escape:q,evaluate:F,interpolate:j,variable:"",imports:{_:En}},En.prototype=kn.prototype,En.prototype.constructor=En,Dn.prototype=Mn(kn.prototype),Dn.prototype.constructor=Dn,On.prototype=Mn(kn.prototype),On.prototype.constructor=On,Nn.prototype.clear=function(){this.__data__=yn?yn(null):{},this.size=0},Nn.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Nn.prototype.get=function(t){var e=this.__data__;if(yn){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return wt.call(e,t)?e[t]:void 0},Nn.prototype.has=function(t){var e=this.__data__;return yn?void 0!==e[t]:wt.call(e,t)},Nn.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=yn&&void 0===e?"__lodash_hash_undefined__":e,this},Tn.prototype.clear=function(){this.__data__=[],this.size=0},Tn.prototype.delete=function(t){var e=this.__data__,n=zn(e,t);return!(n<0)&&(n==e.length-1?e.pop():Zt.call(e,n,1),--this.size,!0)},Tn.prototype.get=function(t){var e=this.__data__,n=zn(e,t);return n<0?void 0:e[n][1]},Tn.prototype.has=function(t){return zn(this.__data__,t)>-1},Tn.prototype.set=function(t,e){var n=this.__data__,r=zn(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},Un.prototype.clear=function(){this.size=0,this.__data__={hash:new Nn,map:new(mn||Tn),string:new Nn}},Un.prototype.delete=function(t){var e=Ji(this,t).delete(t);return this.size-=e?1:0,e},Un.prototype.get=function(t){return Ji(this,t).get(t)},Un.prototype.has=function(t){return Ji(this,t).has(t)},Un.prototype.set=function(t,e){var n=Ji(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},Rn.prototype.add=Rn.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},Rn.prototype.has=function(t){return this.__data__.has(t)},Ln.prototype.clear=function(){this.__data__=new Tn,this.size=0},Ln.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Ln.prototype.get=function(t){return this.__data__.get(t)},Ln.prototype.has=function(t){return this.__data__.has(t)},Ln.prototype.set=function(t,e){var n=this.__data__;if(n instanceof Tn){var r=n.__data__;if(!mn||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Un(r)}return n.set(t,e),this.size=n.size,this};var er=Ai(cr),nr=Ai(lr,!0);function rr(t,e){var n=!0;return er(t,(function(t,r,i){return n=!!e(t,r,i)})),n}function ir(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],a=e(o);if(null!=a&&(void 0===u?a==a&&!Ja(a):n(a,u)))var u=a,s=o}return s}function or(t,e){var n=[];return er(t,(function(t,r,i){e(t,r,i)&&n.push(t)})),n}function ar(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=ao),i||(i=[]);++o<a;){var u=t[o];e>0&&n(u)?e>1?ar(u,e-1,n,r,i):me(i,u):r||(i[i.length]=u)}return i}var ur=wi(),sr=wi(!0);function cr(t,e){return t&&ur(t,e,xu)}function lr(t,e){return t&&sr(t,e,xu)}function dr(t,e){return le(e,(function(e){return Fa(t[e])}))}function fr(t,e){for(var n=0,r=(e=si(e,t)).length;null!=t&&n<r;)t=t[Io(e[n++])];return n&&n==r?t:void 0}function pr(t,e,n){var r=e(t);return Na(t)?r:me(r,n(t))}function mr(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":Jt&&Jt in mt(t)?function(t){var e=wt.call(t,Jt),n=t[Jt];try{t[Jt]=void 0;var r=!0}catch(t){}var i=Bt.call(t);r&&(e?t[Jt]=n:delete t[Jt]);return i}(t):function(t){return Bt.call(t)}(t)}function hr(t,e){return t>e}function gr(t,e){return null!=t&&wt.call(t,e)}function vr(t,e){return null!=t&&e in mt(t)}function yr(t,e,n){for(var i=n?fe:de,o=t[0].length,a=t.length,u=a,s=r(a),c=1/0,l=[];u--;){var d=t[u];u&&e&&(d=pe(d,ke(e))),c=sn(d.length,c),s[u]=!n&&(e||o>=120&&d.length>=120)?new Rn(u&&d):void 0}d=t[0];var f=-1,p=s[0];t:for(;++f<o&&l.length<c;){var m=d[f],h=e?e(m):m;if(m=n||0!==m?m:0,!(p?Oe(p,h):i(l,h,n))){for(u=a;--u;){var g=s[u];if(!(g?Oe(g,h):i(t[u],h,n)))continue t}p&&p.push(h),l.push(m)}}return l}function _r(t,e,n){var r=null==(t=vo(t,e=si(e,t)))?t:t[Io(qo(e))];return null==r?void 0:oe(r,t,n)}function br(t){return za(t)&&mr(t)==s}function xr(t,e,n,r,i){return t===e||(null==t||null==e||!za(t)&&!za(e)?t!=t&&e!=e:function(t,e,n,r,i,o){var a=Na(t),u=Na(e),p=a?c:ro(t),m=u?c:ro(e),A=(p=p==s?v:p)==v,C=(m=m==s?v:m)==v,B=p==m;if(B&&La(t)){if(!La(e))return!1;a=!0,A=!1}if(B&&!A)return o||(o=new Ln),a||$a(t)?Vi(t,e,n,r,i,o):function(t,e,n,r,i,o,a){switch(n){case S:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case w:return!(t.byteLength!=e.byteLength||!o(new Nt(t),new Nt(e)));case l:case d:case g:return Ma(+t,+e);case f:return t.name==e.name&&t.message==e.message;case y:case b:return t==e+"";case h:var u=Fe;case _:var s=1&r;if(u||(u=Ve),t.size!=e.size&&!s)return!1;var c=a.get(t);if(c)return c==e;r|=2,a.set(t,e);var p=Vi(u(t),u(e),r,i,o,a);return a.delete(t),p;case x:if(In)return In.call(t)==In.call(e)}return!1}(t,e,p,n,r,i,o);if(!(1&n)){var I=A&&wt.call(t,"__wrapped__"),P=C&&wt.call(e,"__wrapped__");if(I||P){var E=I?t.value():t,M=P?e.value():e;return o||(o=new Ln),i(E,M,n,r,o)}}if(!B)return!1;return o||(o=new Ln),function(t,e,n,r,i,o){var a=1&n,u=Yi(t),s=u.length,c=Yi(e).length;if(s!=c&&!a)return!1;var l=s;for(;l--;){var d=u[l];if(!(a?d in e:wt.call(e,d)))return!1}var f=o.get(t),p=o.get(e);if(f&&p)return f==e&&p==t;var m=!0;o.set(t,e),o.set(e,t);var h=a;for(;++l<s;){d=u[l];var g=t[d],v=e[d];if(r)var y=a?r(v,g,d,e,t,o):r(g,v,d,t,e,o);if(!(void 0===y?g===v||i(g,v,n,r,o):y)){m=!1;break}h||(h="constructor"==d)}if(m&&!h){var _=t.constructor,b=e.constructor;_==b||!("constructor"in t)||!("constructor"in e)||"function"==typeof _&&_ instanceof _&&"function"==typeof b&&b instanceof b||(m=!1)}return o.delete(t),o.delete(e),m}(t,e,n,r,i,o)}(t,e,n,r,xr,i))}function Ar(t,e,n,r){var i=n.length,o=i,a=!r;if(null==t)return!o;for(t=mt(t);i--;){var u=n[i];if(a&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++i<o;){var s=(u=n[i])[0],c=t[s],l=u[1];if(a&&u[2]){if(void 0===c&&!(s in t))return!1}else{var d=new Ln;if(r)var f=r(c,l,s,t,e,d);if(!(void 0===f?xr(l,c,3,r,d):f))return!1}}return!0}function wr(t){return!(!Va(t)||(e=t,Ct&&Ct in e))&&(Fa(t)?Et:at).test(Po(t));var e}function Sr(t){return"function"==typeof t?t:null==t?Ku:"object"==typeof t?Na(t)?Mr(t[0],t[1]):Er(t):ns(t)}function Cr(t){if(!po(t))return an(t);var e=[];for(var n in mt(t))wt.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Br(t){if(!Va(t))return function(t){var e=[];if(null!=t)for(var n in mt(t))e.push(n);return e}(t);var e=po(t),n=[];for(var r in t)("constructor"!=r||!e&&wt.call(t,r))&&n.push(r);return n}function Ir(t,e){return t<e}function Pr(t,e){var n=-1,i=Ua(t)?r(t.length):[];return er(t,(function(t,r,o){i[++n]=e(t,r,o)})),i}function Er(t){var e=$i(t);return 1==e.length&&e[0][2]?ho(e[0][0],e[0][1]):function(n){return n===t||Ar(n,t,e)}}function Mr(t,e){return co(t)&&mo(e)?ho(Io(t),e):function(n){var r=gu(n,t);return void 0===r&&r===e?vu(n,t):xr(e,r,3)}}function kr(t,e,n,r,i){t!==e&&ur(e,(function(o,a){if(i||(i=new Ln),Va(o))!function(t,e,n,r,i,o,a){var u=_o(t,n),s=_o(e,n),c=a.get(s);if(c)return void Hn(t,n,c);var l=o?o(u,s,n+"",t,e,a):void 0,d=void 0===l;if(d){var f=Na(s),p=!f&&La(s),m=!f&&!p&&$a(s);l=s,f||p||m?Na(u)?l=u:Ra(u)?l=yi(u):p?(d=!1,l=fi(s,!0)):m?(d=!1,l=mi(s,!0)):l=[]:Za(s)||Oa(s)?(l=u,Oa(u)?l=uu(u):Va(u)&&!Fa(u)||(l=oo(s))):d=!1}d&&(a.set(s,l),i(l,s,r,o,a),a.delete(s));Hn(t,n,l)}(t,e,a,n,kr,r,i);else{var u=r?r(_o(t,a),o,a+"",t,e,i):void 0;void 0===u&&(u=o),Hn(t,a,u)}}),Au)}function Dr(t,e){var n=t.length;if(n)return uo(e+=e<0?n:0,n)?t[e]:void 0}function Or(t,e,n){e=e.length?pe(e,(function(t){return Na(t)?function(e){return fr(e,1===t.length?t[0]:t)}:t})):[Ku];var r=-1;return e=pe(e,ke(Qi())),function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}(Pr(t,(function(t,n,i){return{criteria:pe(e,(function(e){return e(t)})),index:++r,value:t}})),(function(t,e){return function(t,e,n){var r=-1,i=t.criteria,o=e.criteria,a=i.length,u=n.length;for(;++r<a;){var s=hi(i[r],o[r]);if(s){if(r>=u)return s;var c=n[r];return s*("desc"==c?-1:1)}}return t.index-e.index}(t,e,n)}))}function Nr(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var a=e[r],u=fr(t,a);n(u,a)&&jr(o,si(a,t),u)}return o}function Tr(t,e,n,r){var i=r?Ae:xe,o=-1,a=e.length,u=t;for(t===e&&(e=yi(e)),n&&(u=pe(t,ke(n)));++o<a;)for(var s=0,c=e[o],l=n?n(c):c;(s=i(u,l,s,r))>-1;)u!==t&&Zt.call(u,s,1),Zt.call(t,s,1);return t}function Ur(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(n==r||i!==o){var o=i;uo(i)?Zt.call(t,i,1):ti(t,i)}}return t}function Rr(t,e){return t+tn(dn()*(e-t+1))}function Lr(t,e){var n="";if(!t||e<1||e>9007199254740991)return n;do{e%2&&(n+=t),(e=tn(e/2))&&(t+=t)}while(e);return n}function Gr(t,e){return Ao(go(t,e,Ku),t+"")}function qr(t){return qn(Mu(t))}function Fr(t,e){var n=Mu(t);return Co(n,Xn(e,0,n.length))}function jr(t,e,n,r){if(!Va(t))return t;for(var i=-1,o=(e=si(e,t)).length,a=o-1,u=t;null!=u&&++i<o;){var s=Io(e[i]),c=n;if("__proto__"===s||"constructor"===s||"prototype"===s)return t;if(i!=a){var l=u[s];void 0===(c=r?r(l,s,u):void 0)&&(c=Va(l)?l:uo(e[i+1])?[]:{})}Vn(u,s,c),u=u[s]}return t}var Hr=_n?function(t,e){return _n.set(t,e),t}:Ku,Vr=ye?function(t,e){return ye(t,"toString",{configurable:!0,enumerable:!1,value:Vu(e),writable:!0})}:Ku;function zr(t){return Co(Mu(t))}function Yr(t,e,n){var i=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(n=n>o?o:n)<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var a=r(o);++i<o;)a[i]=t[i+e];return a}function Kr(t,e){var n;return er(t,(function(t,r,i){return!(n=e(t,r,i))})),!!n}function Zr(t,e,n){var r=0,i=null==t?r:t.length;if("number"==typeof e&&e==e&&i<=2147483647){for(;r<i;){var o=r+i>>>1,a=t[o];null!==a&&!Ja(a)&&(n?a<=e:a<e)?r=o+1:i=o}return i}return Wr(t,e,Ku,n)}function Wr(t,e,n,r){var i=0,o=null==t?0:t.length;if(0===o)return 0;for(var a=(e=n(e))!=e,u=null===e,s=Ja(e),c=void 0===e;i<o;){var l=tn((i+o)/2),d=n(t[l]),f=void 0!==d,p=null===d,m=d==d,h=Ja(d);if(a)var g=r||m;else g=c?m&&(r||f):u?m&&f&&(r||!p):s?m&&f&&!p&&(r||!h):!p&&!h&&(r?d<=e:d<e);g?i=l+1:o=l}return sn(o,4294967294)}function Xr(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a=t[n],u=e?e(a):a;if(!n||!Ma(u,s)){var s=u;o[i++]=0===a?0:a}}return o}function Qr(t){return"number"==typeof t?t:Ja(t)?NaN:+t}function Jr(t){if("string"==typeof t)return t;if(Na(t))return pe(t,Jr)+"";if(Ja(t))return Pn?Pn.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function $r(t,e,n){var r=-1,i=de,o=t.length,a=!0,u=[],s=u;if(n)a=!1,i=fe;else if(o>=200){var c=e?null:Li(t);if(c)return Ve(c);a=!1,i=Oe,s=new Rn}else s=e?[]:u;t:for(;++r<o;){var l=t[r],d=e?e(l):l;if(l=n||0!==l?l:0,a&&d==d){for(var f=s.length;f--;)if(s[f]===d)continue t;e&&s.push(d),u.push(l)}else i(s,d,n)||(s!==u&&s.push(d),u.push(l))}return u}function ti(t,e){return null==(t=vo(t,e=si(e,t)))||delete t[Io(qo(e))]}function ei(t,e,n,r){return jr(t,e,n(fr(t,e)),r)}function ni(t,e,n,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&e(t[o],o,t););return n?Yr(t,r?0:o,r?o+1:i):Yr(t,r?o+1:0,r?i:o)}function ri(t,e){var n=t;return n instanceof On&&(n=n.value()),he(e,(function(t,e){return e.func.apply(e.thisArg,me([t],e.args))}),n)}function ii(t,e,n){var i=t.length;if(i<2)return i?$r(t[0]):[];for(var o=-1,a=r(i);++o<i;)for(var u=t[o],s=-1;++s<i;)s!=o&&(a[o]=tr(a[o]||u,t[s],e,n));return $r(ar(a,1),e,n)}function oi(t,e,n){for(var r=-1,i=t.length,o=e.length,a={};++r<i;){var u=r<o?e[r]:void 0;n(a,t[r],u)}return a}function ai(t){return Ra(t)?t:[]}function ui(t){return"function"==typeof t?t:Ku}function si(t,e){return Na(t)?t:co(t,e)?[t]:Bo(su(t))}var ci=Gr;function li(t,e,n){var r=t.length;return n=void 0===n?r:n,!e&&n>=r?t:Yr(t,e,n)}var di=Be||function(t){return Kt.clearTimeout(t)};function fi(t,e){if(e)return t.slice();var n=t.length,r=Ut?Ut(n):new t.constructor(n);return t.copy(r),r}function pi(t){var e=new t.constructor(t.byteLength);return new Nt(e).set(new Nt(t)),e}function mi(t,e){var n=e?pi(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function hi(t,e){if(t!==e){var n=void 0!==t,r=null===t,i=t==t,o=Ja(t),a=void 0!==e,u=null===e,s=e==e,c=Ja(e);if(!u&&!c&&!o&&t>e||o&&a&&s&&!u&&!c||r&&a&&s||!n&&s||!i)return 1;if(!r&&!o&&!c&&t<e||c&&n&&i&&!r&&!o||u&&n&&i||!a&&i||!s)return-1}return 0}function gi(t,e,n,i){for(var o=-1,a=t.length,u=n.length,s=-1,c=e.length,l=un(a-u,0),d=r(c+l),f=!i;++s<c;)d[s]=e[s];for(;++o<u;)(f||o<a)&&(d[n[o]]=t[o]);for(;l--;)d[s++]=t[o++];return d}function vi(t,e,n,i){for(var o=-1,a=t.length,u=-1,s=n.length,c=-1,l=e.length,d=un(a-s,0),f=r(d+l),p=!i;++o<d;)f[o]=t[o];for(var m=o;++c<l;)f[m+c]=e[c];for(;++u<s;)(p||o<a)&&(f[m+n[u]]=t[o++]);return f}function yi(t,e){var n=-1,i=t.length;for(e||(e=r(i));++n<i;)e[n]=t[n];return e}function _i(t,e,n,r){var i=!n;n||(n={});for(var o=-1,a=e.length;++o<a;){var u=e[o],s=r?r(n[u],t[u],u,n,t):void 0;void 0===s&&(s=t[u]),i?Zn(n,u,s):Vn(n,u,s)}return n}function bi(t,e){return function(n,r){var i=Na(n)?ae:Yn,o=e?e():{};return i(n,t,Qi(r,2),o)}}function xi(t){return Gr((function(e,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,a=i>2?n[2]:void 0;for(o=t.length>3&&"function"==typeof o?(i--,o):void 0,a&&so(n[0],n[1],a)&&(o=i<3?void 0:o,i=1),e=mt(e);++r<i;){var u=n[r];u&&t(e,u,r,o)}return e}))}function Ai(t,e){return function(n,r){if(null==n)return n;if(!Ua(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=mt(n);(e?o--:++o<i)&&!1!==r(a[o],o,a););return n}}function wi(t){return function(e,n,r){for(var i=-1,o=mt(e),a=r(e),u=a.length;u--;){var s=a[t?u:++i];if(!1===n(o[s],s,o))break}return e}}function Si(t){return function(e){var n=qe(e=su(e))?Ke(e):void 0,r=n?n[0]:e.charAt(0),i=n?li(n,1).join(""):e.slice(1);return r[t]()+i}}function Ci(t){return function(e){return he(Fu(Ou(e).replace(Dt,"")),t,"")}}function Bi(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=Mn(t.prototype),r=t.apply(n,e);return Va(r)?r:n}}function Ii(t){return function(e,n,r){var i=mt(e);if(!Ua(e)){var o=Qi(n,3);e=xu(e),n=function(t){return o(i[t],t,i)}}var a=t(e,n,r);return a>-1?i[o?e[a]:a]:void 0}}function Pi(t){return zi((function(e){var n=e.length,r=n,i=Dn.prototype.thru;for(t&&e.reverse();r--;){var a=e[r];if("function"!=typeof a)throw new vt(o);if(i&&!u&&"wrapper"==Wi(a))var u=new Dn([],!0)}for(r=u?r:n;++r<n;){var s=Wi(a=e[r]),c="wrapper"==s?Zi(a):void 0;u=c&&lo(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?u[Wi(c[0])].apply(u,c[3]):1==a.length&&lo(a)?u[s]():u.thru(a)}return function(){var t=arguments,r=t[0];if(u&&1==t.length&&Na(r))return u.plant(r).value();for(var i=0,o=n?e[i].apply(this,t):r;++i<n;)o=e[i].call(this,o);return o}}))}function Ei(t,e,n,i,o,a,u,s,c,l){var d=128&e,f=1&e,p=2&e,m=24&e,h=512&e,g=p?void 0:Bi(t);return function v(){for(var y=arguments.length,_=r(y),b=y;b--;)_[b]=arguments[b];if(m)var x=Xi(v),A=Ue(_,x);if(i&&(_=gi(_,i,o,m)),a&&(_=vi(_,a,u,m)),y-=A,m&&y<l){var w=He(_,x);return Ui(t,e,Ei,v.placeholder,n,_,w,s,c,l-y)}var S=f?n:this,C=p?S[t]:t;return y=_.length,s?_=yo(_,s):h&&y>1&&_.reverse(),d&&c<y&&(_.length=c),this&&this!==Kt&&this instanceof v&&(C=g||Bi(C)),C.apply(S,_)}}function Mi(t,e){return function(n,r){return function(t,e,n,r){return cr(t,(function(t,i,o){e(r,n(t),i,o)})),r}(n,t,e(r),{})}}function ki(t,e){return function(n,r){var i;if(void 0===n&&void 0===r)return e;if(void 0!==n&&(i=n),void 0!==r){if(void 0===i)return r;"string"==typeof n||"string"==typeof r?(n=Jr(n),r=Jr(r)):(n=Qr(n),r=Qr(r)),i=t(n,r)}return i}}function Di(t){return zi((function(e){return e=pe(e,ke(Qi())),Gr((function(n){var r=this;return t(e,(function(t){return oe(t,r,n)}))}))}))}function Oi(t,e){var n=(e=void 0===e?" ":Jr(e)).length;if(n<2)return n?Lr(e,t):e;var r=Lr(e,$e(t/Ye(e)));return qe(e)?li(Ke(r),0,t).join(""):r.slice(0,t)}function Ni(t){return function(e,n,i){return i&&"number"!=typeof i&&so(e,n,i)&&(n=i=void 0),e=ru(e),void 0===n?(n=e,e=0):n=ru(n),function(t,e,n,i){for(var o=-1,a=un($e((e-t)/(n||1)),0),u=r(a);a--;)u[i?a:++o]=t,t+=n;return u}(e,n,i=void 0===i?e<n?1:-1:ru(i),t)}}function Ti(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=au(e),n=au(n)),t(e,n)}}function Ui(t,e,n,r,i,o,a,u,s,c){var l=8&e;e|=l?32:64,4&(e&=~(l?64:32))||(e&=-4);var d=[t,e,i,l?o:void 0,l?a:void 0,l?void 0:o,l?void 0:a,u,s,c],f=n.apply(void 0,d);return lo(t)&&bo(f,d),f.placeholder=r,wo(f,t,e)}function Ri(t){var e=pt[t];return function(t,n){if(t=au(t),(n=null==n?0:sn(iu(n),292))&&rn(t)){var r=(su(t)+"e").split("e");return+((r=(su(e(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return e(t)}}var Li=gn&&1/Ve(new gn([,-0]))[1]==1/0?function(t){return new gn(t)}:Ju;function Gi(t){return function(e){var n=ro(e);return n==h?Fe(e):n==_?ze(e):function(t,e){return pe(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function qi(t,e,n,i,u,s,c,l){var d=2&e;if(!d&&"function"!=typeof t)throw new vt(o);var f=i?i.length:0;if(f||(e&=-97,i=u=void 0),c=void 0===c?c:un(iu(c),0),l=void 0===l?l:iu(l),f-=u?u.length:0,64&e){var p=i,m=u;i=u=void 0}var h=d?void 0:Zi(t),g=[t,e,n,i,u,p,m,s,c,l];if(h&&function(t,e){var n=t[1],r=e[1],i=n|r,o=i<131,u=128==r&&8==n||128==r&&256==n&&t[7].length<=e[8]||384==r&&e[7].length<=e[8]&&8==n;if(!o&&!u)return t;1&r&&(t[2]=e[2],i|=1&n?0:4);var s=e[3];if(s){var c=t[3];t[3]=c?gi(c,s,e[4]):s,t[4]=c?He(t[3],a):e[4]}(s=e[5])&&(c=t[5],t[5]=c?vi(c,s,e[6]):s,t[6]=c?He(t[5],a):e[6]);(s=e[7])&&(t[7]=s);128&r&&(t[8]=null==t[8]?e[8]:sn(t[8],e[8]));null==t[9]&&(t[9]=e[9]);t[0]=e[0],t[1]=i}(g,h),t=g[0],e=g[1],n=g[2],i=g[3],u=g[4],!(l=g[9]=void 0===g[9]?d?0:t.length:un(g[9]-f,0))&&24&e&&(e&=-25),e&&1!=e)v=8==e||16==e?function(t,e,n){var i=Bi(t);return function o(){for(var a=arguments.length,u=r(a),s=a,c=Xi(o);s--;)u[s]=arguments[s];var l=a<3&&u[0]!==c&&u[a-1]!==c?[]:He(u,c);if((a-=l.length)<n)return Ui(t,e,Ei,o.placeholder,void 0,u,l,void 0,void 0,n-a);var d=this&&this!==Kt&&this instanceof o?i:t;return oe(d,this,u)}}(t,e,l):32!=e&&33!=e||u.length?Ei.apply(void 0,g):function(t,e,n,i){var o=1&e,a=Bi(t);return function e(){for(var u=-1,s=arguments.length,c=-1,l=i.length,d=r(l+s),f=this&&this!==Kt&&this instanceof e?a:t;++c<l;)d[c]=i[c];for(;s--;)d[c++]=arguments[++u];return oe(f,o?n:this,d)}}(t,e,n,i);else var v=function(t,e,n){var r=1&e,i=Bi(t);return function e(){var o=this&&this!==Kt&&this instanceof e?i:t;return o.apply(r?n:this,arguments)}}(t,e,n);return wo((h?Hr:bo)(v,g),t,e)}function Fi(t,e,n,r){return void 0===t||Ma(t,bt[n])&&!wt.call(r,n)?e:t}function ji(t,e,n,r,i,o){return Va(t)&&Va(e)&&(o.set(e,t),kr(t,e,void 0,ji,o),o.delete(e)),t}function Hi(t){return Za(t)?void 0:t}function Vi(t,e,n,r,i,o){var a=1&n,u=t.length,s=e.length;if(u!=s&&!(a&&s>u))return!1;var c=o.get(t),l=o.get(e);if(c&&l)return c==e&&l==t;var d=-1,f=!0,p=2&n?new Rn:void 0;for(o.set(t,e),o.set(e,t);++d<u;){var m=t[d],h=e[d];if(r)var g=a?r(h,m,d,e,t,o):r(m,h,d,t,e,o);if(void 0!==g){if(g)continue;f=!1;break}if(p){if(!ve(e,(function(t,e){if(!Oe(p,e)&&(m===t||i(m,t,n,r,o)))return p.push(e)}))){f=!1;break}}else if(m!==h&&!i(m,h,n,r,o)){f=!1;break}}return o.delete(t),o.delete(e),f}function zi(t){return Ao(go(t,void 0,To),t+"")}function Yi(t){return pr(t,xu,eo)}function Ki(t){return pr(t,Au,no)}var Zi=_n?function(t){return _n.get(t)}:Ju;function Wi(t){for(var e=t.name+"",n=bn[e],r=wt.call(bn,e)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e}function Xi(t){return(wt.call(En,"placeholder")?En:t).placeholder}function Qi(){var t=En.iteratee||Zu;return t=t===Zu?Sr:t,arguments.length?t(arguments[0],arguments[1]):t}function Ji(t,e){var n,r,i=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map}function $i(t){for(var e=xu(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,mo(i)]}return e}function to(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return wr(n)?n:void 0}var eo=en?function(t){return null==t?[]:(t=mt(t),le(en(t),(function(e){return Yt.call(t,e)})))}:os,no=en?function(t){for(var e=[];t;)me(e,eo(t)),t=jt(t);return e}:os,ro=mr;function io(t,e,n){for(var r=-1,i=(e=si(e,t)).length,o=!1;++r<i;){var a=Io(e[r]);if(!(o=null!=t&&n(t,a)))break;t=t[a]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&Ha(i)&&uo(a,i)&&(Na(t)||Oa(t))}function oo(t){return"function"!=typeof t.constructor||po(t)?{}:Mn(jt(t))}function ao(t){return Na(t)||Oa(t)||!!(Wt&&t&&t[Wt])}function uo(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&st.test(t))&&t>-1&&t%1==0&&t<e}function so(t,e,n){if(!Va(n))return!1;var r=typeof e;return!!("number"==r?Ua(n)&&uo(e,n.length):"string"==r&&e in n)&&Ma(n[e],t)}function co(t,e){if(Na(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Ja(t))||(V.test(t)||!H.test(t)||null!=e&&t in mt(e))}function lo(t){var e=Wi(t),n=En[e];if("function"!=typeof n||!(e in On.prototype))return!1;if(t===n)return!0;var r=Zi(n);return!!r&&t===r[0]}(pn&&ro(new pn(new ArrayBuffer(1)))!=S||mn&&ro(new mn)!=h||hn&&"[object Promise]"!=ro(hn.resolve())||gn&&ro(new gn)!=_||vn&&ro(new vn)!=A)&&(ro=function(t){var e=mr(t),n=e==v?t.constructor:void 0,r=n?Po(n):"";if(r)switch(r){case xn:return S;case An:return h;case wn:return"[object Promise]";case Sn:return _;case Cn:return A}return e});var fo=xt?Fa:as;function po(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||bt)}function mo(t){return t==t&&!Va(t)}function ho(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in mt(n)))}}function go(t,e,n){return e=un(void 0===e?t.length-1:e,0),function(){for(var i=arguments,o=-1,a=un(i.length-e,0),u=r(a);++o<a;)u[o]=i[e+o];o=-1;for(var s=r(e+1);++o<e;)s[o]=i[o];return s[e]=n(u),oe(t,this,s)}}function vo(t,e){return e.length<2?t:fr(t,Yr(e,0,-1))}function yo(t,e){for(var n=t.length,r=sn(e.length,n),i=yi(t);r--;){var o=e[r];t[r]=uo(o,n)?i[o]:void 0}return t}function _o(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var bo=So(Hr),xo=Je||function(t,e){return Kt.setTimeout(t,e)},Ao=So(Vr);function wo(t,e,n){var r=e+"";return Ao(t,function(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(X,"{\n/* [wrapped with "+e+"] */\n")}(r,function(t,e){return ue(u,(function(n){var r="_."+n[0];e&n[1]&&!de(t,r)&&t.push(r)})),t.sort()}(function(t){var e=t.match(Q);return e?e[1].split(J):[]}(r),n)))}function So(t){var e=0,n=0;return function(){var r=cn(),i=16-(r-n);if(n=r,i>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function Co(t,e){var n=-1,r=t.length,i=r-1;for(e=void 0===e?r:e;++n<e;){var o=Rr(n,i),a=t[o];t[o]=t[n],t[n]=a}return t.length=e,t}var Bo=function(t){var e=Sa(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(z,(function(t,n,r,i){e.push(r?i.replace(et,"$1"):n||t)})),e}));function Io(t){if("string"==typeof t||Ja(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Po(t){if(null!=t){try{return At.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Eo(t){if(t instanceof On)return t.clone();var e=new Dn(t.__wrapped__,t.__chain__);return e.__actions__=yi(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var Mo=Gr((function(t,e){return Ra(t)?tr(t,ar(e,1,Ra,!0)):[]})),ko=Gr((function(t,e){var n=qo(e);return Ra(n)&&(n=void 0),Ra(t)?tr(t,ar(e,1,Ra,!0),Qi(n,2)):[]})),Do=Gr((function(t,e){var n=qo(e);return Ra(n)&&(n=void 0),Ra(t)?tr(t,ar(e,1,Ra,!0),void 0,n):[]}));function Oo(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:iu(n);return i<0&&(i=un(r+i,0)),be(t,Qi(e,3),i)}function No(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r-1;return void 0!==n&&(i=iu(n),i=n<0?un(r+i,0):sn(i,r-1)),be(t,Qi(e,3),i,!0)}function To(t){return(null==t?0:t.length)?ar(t,1):[]}function Uo(t){return t&&t.length?t[0]:void 0}var Ro=Gr((function(t){var e=pe(t,ai);return e.length&&e[0]===t[0]?yr(e):[]})),Lo=Gr((function(t){var e=qo(t),n=pe(t,ai);return e===qo(n)?e=void 0:n.pop(),n.length&&n[0]===t[0]?yr(n,Qi(e,2)):[]})),Go=Gr((function(t){var e=qo(t),n=pe(t,ai);return(e="function"==typeof e?e:void 0)&&n.pop(),n.length&&n[0]===t[0]?yr(n,void 0,e):[]}));function qo(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}var Fo=Gr(jo);function jo(t,e){return t&&t.length&&e&&e.length?Tr(t,e):t}var Ho=zi((function(t,e){var n=null==t?0:t.length,r=Wn(t,e);return Ur(t,pe(e,(function(t){return uo(t,n)?+t:t})).sort(hi)),r}));function Vo(t){return null==t?t:fn.call(t)}var zo=Gr((function(t){return $r(ar(t,1,Ra,!0))})),Yo=Gr((function(t){var e=qo(t);return Ra(e)&&(e=void 0),$r(ar(t,1,Ra,!0),Qi(e,2))})),Ko=Gr((function(t){var e=qo(t);return e="function"==typeof e?e:void 0,$r(ar(t,1,Ra,!0),void 0,e)}));function Zo(t){if(!t||!t.length)return[];var e=0;return t=le(t,(function(t){if(Ra(t))return e=un(t.length,e),!0})),Ee(e,(function(e){return pe(t,Ce(e))}))}function Wo(t,e){if(!t||!t.length)return[];var n=Zo(t);return null==e?n:pe(n,(function(t){return oe(e,void 0,t)}))}var Xo=Gr((function(t,e){return Ra(t)?tr(t,e):[]})),Qo=Gr((function(t){return ii(le(t,Ra))})),Jo=Gr((function(t){var e=qo(t);return Ra(e)&&(e=void 0),ii(le(t,Ra),Qi(e,2))})),$o=Gr((function(t){var e=qo(t);return e="function"==typeof e?e:void 0,ii(le(t,Ra),void 0,e)})),ta=Gr(Zo);var ea=Gr((function(t){var e=t.length,n=e>1?t[e-1]:void 0;return n="function"==typeof n?(t.pop(),n):void 0,Wo(t,n)}));function na(t){var e=En(t);return e.__chain__=!0,e}function ra(t,e){return e(t)}var ia=zi((function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,i=function(e){return Wn(e,t)};return!(e>1||this.__actions__.length)&&r instanceof On&&uo(n)?((r=r.slice(n,+n+(e?1:0))).__actions__.push({func:ra,args:[i],thisArg:void 0}),new Dn(r,this.__chain__).thru((function(t){return e&&!t.length&&t.push(void 0),t}))):this.thru(i)}));var oa=bi((function(t,e,n){wt.call(t,n)?++t[n]:Zn(t,n,1)}));var aa=Ii(Oo),ua=Ii(No);function sa(t,e){return(Na(t)?ue:er)(t,Qi(e,3))}function ca(t,e){return(Na(t)?se:nr)(t,Qi(e,3))}var la=bi((function(t,e,n){wt.call(t,n)?t[n].push(e):Zn(t,n,[e])}));var da=Gr((function(t,e,n){var i=-1,o="function"==typeof e,a=Ua(t)?r(t.length):[];return er(t,(function(t){a[++i]=o?oe(e,t,n):_r(t,e,n)})),a})),fa=bi((function(t,e,n){Zn(t,n,e)}));function pa(t,e){return(Na(t)?pe:Pr)(t,Qi(e,3))}var ma=bi((function(t,e,n){t[n?0:1].push(e)}),(function(){return[[],[]]}));var ha=Gr((function(t,e){if(null==t)return[];var n=e.length;return n>1&&so(t,e[0],e[1])?e=[]:n>2&&so(e[0],e[1],e[2])&&(e=[e[0]]),Or(t,ar(e,1),[])})),ga=Qe||function(){return Kt.Date.now()};function va(t,e,n){return e=n?void 0:e,qi(t,128,void 0,void 0,void 0,void 0,e=t&&null==e?t.length:e)}function ya(t,e){var n;if("function"!=typeof e)throw new vt(o);return t=iu(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=void 0),n}}var _a=Gr((function(t,e,n){var r=1;if(n.length){var i=He(n,Xi(_a));r|=32}return qi(t,r,e,n,i)})),ba=Gr((function(t,e,n){var r=3;if(n.length){var i=He(n,Xi(ba));r|=32}return qi(e,r,t,n,i)}));function xa(t,e,n){var r,i,a,u,s,c,l=0,d=!1,f=!1,p=!0;if("function"!=typeof t)throw new vt(o);function m(e){var n=r,o=i;return r=i=void 0,l=e,u=t.apply(o,n)}function h(t){return l=t,s=xo(v,e),d?m(t):u}function g(t){var n=t-c;return void 0===c||n>=e||n<0||f&&t-l>=a}function v(){var t=ga();if(g(t))return y(t);s=xo(v,function(t){var n=e-(t-c);return f?sn(n,a-(t-l)):n}(t))}function y(t){return s=void 0,p&&r?m(t):(r=i=void 0,u)}function _(){var t=ga(),n=g(t);if(r=arguments,i=this,c=t,n){if(void 0===s)return h(c);if(f)return di(s),s=xo(v,e),m(c)}return void 0===s&&(s=xo(v,e)),u}return e=au(e)||0,Va(n)&&(d=!!n.leading,a=(f="maxWait"in n)?un(au(n.maxWait)||0,e):a,p="trailing"in n?!!n.trailing:p),_.cancel=function(){void 0!==s&&di(s),l=0,r=c=i=s=void 0},_.flush=function(){return void 0===s?u:y(ga())},_}var Aa=Gr((function(t,e){return $n(t,1,e)})),wa=Gr((function(t,e,n){return $n(t,au(e)||0,n)}));function Sa(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new vt(o);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(Sa.Cache||Un),n}function Ca(t){if("function"!=typeof t)throw new vt(o);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}Sa.Cache=Un;var Ba=ci((function(t,e){var n=(e=1==e.length&&Na(e[0])?pe(e[0],ke(Qi())):pe(ar(e,1),ke(Qi()))).length;return Gr((function(r){for(var i=-1,o=sn(r.length,n);++i<o;)r[i]=e[i].call(this,r[i]);return oe(t,this,r)}))})),Ia=Gr((function(t,e){return qi(t,32,void 0,e,He(e,Xi(Ia)))})),Pa=Gr((function(t,e){return qi(t,64,void 0,e,He(e,Xi(Pa)))})),Ea=zi((function(t,e){return qi(t,256,void 0,void 0,void 0,e)}));function Ma(t,e){return t===e||t!=t&&e!=e}var ka=Ti(hr),Da=Ti((function(t,e){return t>=e})),Oa=br(function(){return arguments}())?br:function(t){return za(t)&&wt.call(t,"callee")&&!Yt.call(t,"callee")},Na=r.isArray,Ta=$t?ke($t):function(t){return za(t)&&mr(t)==w};function Ua(t){return null!=t&&Ha(t.length)&&!Fa(t)}function Ra(t){return za(t)&&Ua(t)}var La=nn||as,Ga=te?ke(te):function(t){return za(t)&&mr(t)==d};function qa(t){if(!za(t))return!1;var e=mr(t);return e==f||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!Za(t)}function Fa(t){if(!Va(t))return!1;var e=mr(t);return e==p||e==m||"[object AsyncFunction]"==e||"[object Proxy]"==e}function ja(t){return"number"==typeof t&&t==iu(t)}function Ha(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}function Va(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function za(t){return null!=t&&"object"==typeof t}var Ya=ee?ke(ee):function(t){return za(t)&&ro(t)==h};function Ka(t){return"number"==typeof t||za(t)&&mr(t)==g}function Za(t){if(!za(t)||mr(t)!=v)return!1;var e=jt(t);if(null===e)return!0;var n=wt.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&At.call(n)==It}var Wa=ne?ke(ne):function(t){return za(t)&&mr(t)==y};var Xa=re?ke(re):function(t){return za(t)&&ro(t)==_};function Qa(t){return"string"==typeof t||!Na(t)&&za(t)&&mr(t)==b}function Ja(t){return"symbol"==typeof t||za(t)&&mr(t)==x}var $a=ie?ke(ie):function(t){return za(t)&&Ha(t.length)&&!!qt[mr(t)]};var tu=Ti(Ir),eu=Ti((function(t,e){return t<=e}));function nu(t){if(!t)return[];if(Ua(t))return Qa(t)?Ke(t):yi(t);if(Qt&&t[Qt])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[Qt]());var e=ro(t);return(e==h?Fe:e==_?Ve:Mu)(t)}function ru(t){return t?(t=au(t))===1/0||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function iu(t){var e=ru(t),n=e%1;return e==e?n?e-n:e:0}function ou(t){return t?Xn(iu(t),0,4294967295):0}function au(t){if("number"==typeof t)return t;if(Ja(t))return NaN;if(Va(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Va(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=Me(t);var n=ot.test(t);return n||ut.test(t)?Vt(t.slice(2),n?2:8):it.test(t)?NaN:+t}function uu(t){return _i(t,Au(t))}function su(t){return null==t?"":Jr(t)}var cu=xi((function(t,e){if(po(e)||Ua(e))_i(e,xu(e),t);else for(var n in e)wt.call(e,n)&&Vn(t,n,e[n])})),lu=xi((function(t,e){_i(e,Au(e),t)})),du=xi((function(t,e,n,r){_i(e,Au(e),t,r)})),fu=xi((function(t,e,n,r){_i(e,xu(e),t,r)})),pu=zi(Wn);var mu=Gr((function(t,e){t=mt(t);var n=-1,r=e.length,i=r>2?e[2]:void 0;for(i&&so(e[0],e[1],i)&&(r=1);++n<r;)for(var o=e[n],a=Au(o),u=-1,s=a.length;++u<s;){var c=a[u],l=t[c];(void 0===l||Ma(l,bt[c])&&!wt.call(t,c))&&(t[c]=o[c])}return t})),hu=Gr((function(t){return t.push(void 0,ji),oe(Su,void 0,t)}));function gu(t,e,n){var r=null==t?void 0:fr(t,e);return void 0===r?n:r}function vu(t,e){return null!=t&&io(t,e,vr)}var yu=Mi((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Bt.call(e)),t[e]=n}),Vu(Ku)),_u=Mi((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Bt.call(e)),wt.call(t,e)?t[e].push(n):t[e]=[n]}),Qi),bu=Gr(_r);function xu(t){return Ua(t)?Gn(t):Cr(t)}function Au(t){return Ua(t)?Gn(t,!0):Br(t)}var wu=xi((function(t,e,n){kr(t,e,n)})),Su=xi((function(t,e,n,r){kr(t,e,n,r)})),Cu=zi((function(t,e){var n={};if(null==t)return n;var r=!1;e=pe(e,(function(e){return e=si(e,t),r||(r=e.length>1),e})),_i(t,Ki(t),n),r&&(n=Qn(n,7,Hi));for(var i=e.length;i--;)ti(n,e[i]);return n}));var Bu=zi((function(t,e){return null==t?{}:function(t,e){return Nr(t,e,(function(e,n){return vu(t,n)}))}(t,e)}));function Iu(t,e){if(null==t)return{};var n=pe(Ki(t),(function(t){return[t]}));return e=Qi(e),Nr(t,n,(function(t,n){return e(t,n[0])}))}var Pu=Gi(xu),Eu=Gi(Au);function Mu(t){return null==t?[]:De(t,xu(t))}var ku=Ci((function(t,e,n){return e=e.toLowerCase(),t+(n?Du(e):e)}));function Du(t){return qu(su(t).toLowerCase())}function Ou(t){return(t=su(t))&&t.replace(ct,Re).replace(Ot,"")}var Nu=Ci((function(t,e,n){return t+(n?"-":"")+e.toLowerCase()})),Tu=Ci((function(t,e,n){return t+(n?" ":"")+e.toLowerCase()})),Uu=Si("toLowerCase");var Ru=Ci((function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}));var Lu=Ci((function(t,e,n){return t+(n?" ":"")+qu(e)}));var Gu=Ci((function(t,e,n){return t+(n?" ":"")+e.toUpperCase()})),qu=Si("toUpperCase");function Fu(t,e,n){return t=su(t),void 0===(e=n?void 0:e)?function(t){return Rt.test(t)}(t)?function(t){return t.match(Tt)||[]}(t):function(t){return t.match($)||[]}(t):t.match(e)||[]}var ju=Gr((function(t,e){try{return oe(t,void 0,e)}catch(t){return qa(t)?t:new W(t)}})),Hu=zi((function(t,e){return ue(e,(function(e){e=Io(e),Zn(t,e,_a(t[e],t))})),t}));function Vu(t){return function(){return t}}var zu=Pi(),Yu=Pi(!0);function Ku(t){return t}function Zu(t){return Sr("function"==typeof t?t:Qn(t,1))}var Wu=Gr((function(t,e){return function(n){return _r(n,t,e)}})),Xu=Gr((function(t,e){return function(n){return _r(t,n,e)}}));function Qu(t,e,n){var r=xu(e),i=dr(e,r);null!=n||Va(e)&&(i.length||!r.length)||(n=e,e=t,t=this,i=dr(e,xu(e)));var o=!(Va(n)&&"chain"in n&&!n.chain),a=Fa(t);return ue(i,(function(n){var r=e[n];t[n]=r,a&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__),i=n.__actions__=yi(this.__actions__);return i.push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,me([this.value()],arguments))})})),t}function Ju(){}var $u=Di(pe),ts=Di(ce),es=Di(ve);function ns(t){return co(t)?Ce(Io(t)):function(t){return function(e){return fr(e,t)}}(t)}var rs=Ni(),is=Ni(!0);function os(){return[]}function as(){return!1}var us=ki((function(t,e){return t+e}),0),ss=Ri("ceil"),cs=ki((function(t,e){return t/e}),1),ls=Ri("floor");var ds,fs=ki((function(t,e){return t*e}),1),ps=Ri("round"),ms=ki((function(t,e){return t-e}),0);return En.after=function(t,e){if("function"!=typeof e)throw new vt(o);return t=iu(t),function(){if(--t<1)return e.apply(this,arguments)}},En.ary=va,En.assign=cu,En.assignIn=lu,En.assignInWith=du,En.assignWith=fu,En.at=pu,En.before=ya,En.bind=_a,En.bindAll=Hu,En.bindKey=ba,En.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Na(t)?t:[t]},En.chain=na,En.chunk=function(t,e,n){e=(n?so(t,e,n):void 0===e)?1:un(iu(e),0);var i=null==t?0:t.length;if(!i||e<1)return[];for(var o=0,a=0,u=r($e(i/e));o<i;)u[a++]=Yr(t,o,o+=e);return u},En.compact=function(t){for(var e=-1,n=null==t?0:t.length,r=0,i=[];++e<n;){var o=t[e];o&&(i[r++]=o)}return i},En.concat=function(){var t=arguments.length;if(!t)return[];for(var e=r(t-1),n=arguments[0],i=t;i--;)e[i-1]=arguments[i];return me(Na(n)?yi(n):[n],ar(e,1))},En.cond=function(t){var e=null==t?0:t.length,n=Qi();return t=e?pe(t,(function(t){if("function"!=typeof t[1])throw new vt(o);return[n(t[0]),t[1]]})):[],Gr((function(n){for(var r=-1;++r<e;){var i=t[r];if(oe(i[0],this,n))return oe(i[1],this,n)}}))},En.conforms=function(t){return function(t){var e=xu(t);return function(n){return Jn(n,t,e)}}(Qn(t,1))},En.constant=Vu,En.countBy=oa,En.create=function(t,e){var n=Mn(t);return null==e?n:Kn(n,e)},En.curry=function t(e,n,r){var i=qi(e,8,void 0,void 0,void 0,void 0,void 0,n=r?void 0:n);return i.placeholder=t.placeholder,i},En.curryRight=function t(e,n,r){var i=qi(e,16,void 0,void 0,void 0,void 0,void 0,n=r?void 0:n);return i.placeholder=t.placeholder,i},En.debounce=xa,En.defaults=mu,En.defaultsDeep=hu,En.defer=Aa,En.delay=wa,En.difference=Mo,En.differenceBy=ko,En.differenceWith=Do,En.drop=function(t,e,n){var r=null==t?0:t.length;return r?Yr(t,(e=n||void 0===e?1:iu(e))<0?0:e,r):[]},En.dropRight=function(t,e,n){var r=null==t?0:t.length;return r?Yr(t,0,(e=r-(e=n||void 0===e?1:iu(e)))<0?0:e):[]},En.dropRightWhile=function(t,e){return t&&t.length?ni(t,Qi(e,3),!0,!0):[]},En.dropWhile=function(t,e){return t&&t.length?ni(t,Qi(e,3),!0):[]},En.fill=function(t,e,n,r){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&so(t,e,n)&&(n=0,r=i),function(t,e,n,r){var i=t.length;for((n=iu(n))<0&&(n=-n>i?0:i+n),(r=void 0===r||r>i?i:iu(r))<0&&(r+=i),r=n>r?0:ou(r);n<r;)t[n++]=e;return t}(t,e,n,r)):[]},En.filter=function(t,e){return(Na(t)?le:or)(t,Qi(e,3))},En.flatMap=function(t,e){return ar(pa(t,e),1)},En.flatMapDeep=function(t,e){return ar(pa(t,e),1/0)},En.flatMapDepth=function(t,e,n){return n=void 0===n?1:iu(n),ar(pa(t,e),n)},En.flatten=To,En.flattenDeep=function(t){return(null==t?0:t.length)?ar(t,1/0):[]},En.flattenDepth=function(t,e){return(null==t?0:t.length)?ar(t,e=void 0===e?1:iu(e)):[]},En.flip=function(t){return qi(t,512)},En.flow=zu,En.flowRight=Yu,En.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r},En.functions=function(t){return null==t?[]:dr(t,xu(t))},En.functionsIn=function(t){return null==t?[]:dr(t,Au(t))},En.groupBy=la,En.initial=function(t){return(null==t?0:t.length)?Yr(t,0,-1):[]},En.intersection=Ro,En.intersectionBy=Lo,En.intersectionWith=Go,En.invert=yu,En.invertBy=_u,En.invokeMap=da,En.iteratee=Zu,En.keyBy=fa,En.keys=xu,En.keysIn=Au,En.map=pa,En.mapKeys=function(t,e){var n={};return e=Qi(e,3),cr(t,(function(t,r,i){Zn(n,e(t,r,i),t)})),n},En.mapValues=function(t,e){var n={};return e=Qi(e,3),cr(t,(function(t,r,i){Zn(n,r,e(t,r,i))})),n},En.matches=function(t){return Er(Qn(t,1))},En.matchesProperty=function(t,e){return Mr(t,Qn(e,1))},En.memoize=Sa,En.merge=wu,En.mergeWith=Su,En.method=Wu,En.methodOf=Xu,En.mixin=Qu,En.negate=Ca,En.nthArg=function(t){return t=iu(t),Gr((function(e){return Dr(e,t)}))},En.omit=Cu,En.omitBy=function(t,e){return Iu(t,Ca(Qi(e)))},En.once=function(t){return ya(2,t)},En.orderBy=function(t,e,n,r){return null==t?[]:(Na(e)||(e=null==e?[]:[e]),Na(n=r?void 0:n)||(n=null==n?[]:[n]),Or(t,e,n))},En.over=$u,En.overArgs=Ba,En.overEvery=ts,En.overSome=es,En.partial=Ia,En.partialRight=Pa,En.partition=ma,En.pick=Bu,En.pickBy=Iu,En.property=ns,En.propertyOf=function(t){return function(e){return null==t?void 0:fr(t,e)}},En.pull=Fo,En.pullAll=jo,En.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?Tr(t,e,Qi(n,2)):t},En.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?Tr(t,e,void 0,n):t},En.pullAt=Ho,En.range=rs,En.rangeRight=is,En.rearg=Ea,En.reject=function(t,e){return(Na(t)?le:or)(t,Ca(Qi(e,3)))},En.remove=function(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],o=t.length;for(e=Qi(e,3);++r<o;){var a=t[r];e(a,r,t)&&(n.push(a),i.push(r))}return Ur(t,i),n},En.rest=function(t,e){if("function"!=typeof t)throw new vt(o);return Gr(t,e=void 0===e?e:iu(e))},En.reverse=Vo,En.sampleSize=function(t,e,n){return e=(n?so(t,e,n):void 0===e)?1:iu(e),(Na(t)?Fn:Fr)(t,e)},En.set=function(t,e,n){return null==t?t:jr(t,e,n)},En.setWith=function(t,e,n,r){return r="function"==typeof r?r:void 0,null==t?t:jr(t,e,n,r)},En.shuffle=function(t){return(Na(t)?jn:zr)(t)},En.slice=function(t,e,n){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&so(t,e,n)?(e=0,n=r):(e=null==e?0:iu(e),n=void 0===n?r:iu(n)),Yr(t,e,n)):[]},En.sortBy=ha,En.sortedUniq=function(t){return t&&t.length?Xr(t):[]},En.sortedUniqBy=function(t,e){return t&&t.length?Xr(t,Qi(e,2)):[]},En.split=function(t,e,n){return n&&"number"!=typeof n&&so(t,e,n)&&(e=n=void 0),(n=void 0===n?4294967295:n>>>0)?(t=su(t))&&("string"==typeof e||null!=e&&!Wa(e))&&!(e=Jr(e))&&qe(t)?li(Ke(t),0,n):t.split(e,n):[]},En.spread=function(t,e){if("function"!=typeof t)throw new vt(o);return e=null==e?0:un(iu(e),0),Gr((function(n){var r=n[e],i=li(n,0,e);return r&&me(i,r),oe(t,this,i)}))},En.tail=function(t){var e=null==t?0:t.length;return e?Yr(t,1,e):[]},En.take=function(t,e,n){return t&&t.length?Yr(t,0,(e=n||void 0===e?1:iu(e))<0?0:e):[]},En.takeRight=function(t,e,n){var r=null==t?0:t.length;return r?Yr(t,(e=r-(e=n||void 0===e?1:iu(e)))<0?0:e,r):[]},En.takeRightWhile=function(t,e){return t&&t.length?ni(t,Qi(e,3),!1,!0):[]},En.takeWhile=function(t,e){return t&&t.length?ni(t,Qi(e,3)):[]},En.tap=function(t,e){return e(t),t},En.throttle=function(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new vt(o);return Va(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),xa(t,e,{leading:r,maxWait:e,trailing:i})},En.thru=ra,En.toArray=nu,En.toPairs=Pu,En.toPairsIn=Eu,En.toPath=function(t){return Na(t)?pe(t,Io):Ja(t)?[t]:yi(Bo(su(t)))},En.toPlainObject=uu,En.transform=function(t,e,n){var r=Na(t),i=r||La(t)||$a(t);if(e=Qi(e,4),null==n){var o=t&&t.constructor;n=i?r?new o:[]:Va(t)&&Fa(o)?Mn(jt(t)):{}}return(i?ue:cr)(t,(function(t,r,i){return e(n,t,r,i)})),n},En.unary=function(t){return va(t,1)},En.union=zo,En.unionBy=Yo,En.unionWith=Ko,En.uniq=function(t){return t&&t.length?$r(t):[]},En.uniqBy=function(t,e){return t&&t.length?$r(t,Qi(e,2)):[]},En.uniqWith=function(t,e){return e="function"==typeof e?e:void 0,t&&t.length?$r(t,void 0,e):[]},En.unset=function(t,e){return null==t||ti(t,e)},En.unzip=Zo,En.unzipWith=Wo,En.update=function(t,e,n){return null==t?t:ei(t,e,ui(n))},En.updateWith=function(t,e,n,r){return r="function"==typeof r?r:void 0,null==t?t:ei(t,e,ui(n),r)},En.values=Mu,En.valuesIn=function(t){return null==t?[]:De(t,Au(t))},En.without=Xo,En.words=Fu,En.wrap=function(t,e){return Ia(ui(e),t)},En.xor=Qo,En.xorBy=Jo,En.xorWith=$o,En.zip=ta,En.zipObject=function(t,e){return oi(t||[],e||[],Vn)},En.zipObjectDeep=function(t,e){return oi(t||[],e||[],jr)},En.zipWith=ea,En.entries=Pu,En.entriesIn=Eu,En.extend=lu,En.extendWith=du,Qu(En,En),En.add=us,En.attempt=ju,En.camelCase=ku,En.capitalize=Du,En.ceil=ss,En.clamp=function(t,e,n){return void 0===n&&(n=e,e=void 0),void 0!==n&&(n=(n=au(n))==n?n:0),void 0!==e&&(e=(e=au(e))==e?e:0),Xn(au(t),e,n)},En.clone=function(t){return Qn(t,4)},En.cloneDeep=function(t){return Qn(t,5)},En.cloneDeepWith=function(t,e){return Qn(t,5,e="function"==typeof e?e:void 0)},En.cloneWith=function(t,e){return Qn(t,4,e="function"==typeof e?e:void 0)},En.conformsTo=function(t,e){return null==e||Jn(t,e,xu(e))},En.deburr=Ou,En.defaultTo=function(t,e){return null==t||t!=t?e:t},En.divide=cs,En.endsWith=function(t,e,n){t=su(t),e=Jr(e);var r=t.length,i=n=void 0===n?r:Xn(iu(n),0,r);return(n-=e.length)>=0&&t.slice(n,i)==e},En.eq=Ma,En.escape=function(t){return(t=su(t))&&G.test(t)?t.replace(R,Le):t},En.escapeRegExp=function(t){return(t=su(t))&&K.test(t)?t.replace(Y,"\\$&"):t},En.every=function(t,e,n){var r=Na(t)?ce:rr;return n&&so(t,e,n)&&(e=void 0),r(t,Qi(e,3))},En.find=aa,En.findIndex=Oo,En.findKey=function(t,e){return _e(t,Qi(e,3),cr)},En.findLast=ua,En.findLastIndex=No,En.findLastKey=function(t,e){return _e(t,Qi(e,3),lr)},En.floor=ls,En.forEach=sa,En.forEachRight=ca,En.forIn=function(t,e){return null==t?t:ur(t,Qi(e,3),Au)},En.forInRight=function(t,e){return null==t?t:sr(t,Qi(e,3),Au)},En.forOwn=function(t,e){return t&&cr(t,Qi(e,3))},En.forOwnRight=function(t,e){return t&&lr(t,Qi(e,3))},En.get=gu,En.gt=ka,En.gte=Da,En.has=function(t,e){return null!=t&&io(t,e,gr)},En.hasIn=vu,En.head=Uo,En.identity=Ku,En.includes=function(t,e,n,r){t=Ua(t)?t:Mu(t),n=n&&!r?iu(n):0;var i=t.length;return n<0&&(n=un(i+n,0)),Qa(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&xe(t,e,n)>-1},En.indexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:iu(n);return i<0&&(i=un(r+i,0)),xe(t,e,i)},En.inRange=function(t,e,n){return e=ru(e),void 0===n?(n=e,e=0):n=ru(n),function(t,e,n){return t>=sn(e,n)&&t<un(e,n)}(t=au(t),e,n)},En.invoke=bu,En.isArguments=Oa,En.isArray=Na,En.isArrayBuffer=Ta,En.isArrayLike=Ua,En.isArrayLikeObject=Ra,En.isBoolean=function(t){return!0===t||!1===t||za(t)&&mr(t)==l},En.isBuffer=La,En.isDate=Ga,En.isElement=function(t){return za(t)&&1===t.nodeType&&!Za(t)},En.isEmpty=function(t){if(null==t)return!0;if(Ua(t)&&(Na(t)||"string"==typeof t||"function"==typeof t.splice||La(t)||$a(t)||Oa(t)))return!t.length;var e=ro(t);if(e==h||e==_)return!t.size;if(po(t))return!Cr(t).length;for(var n in t)if(wt.call(t,n))return!1;return!0},En.isEqual=function(t,e){return xr(t,e)},En.isEqualWith=function(t,e,n){var r=(n="function"==typeof n?n:void 0)?n(t,e):void 0;return void 0===r?xr(t,e,void 0,n):!!r},En.isError=qa,En.isFinite=function(t){return"number"==typeof t&&rn(t)},En.isFunction=Fa,En.isInteger=ja,En.isLength=Ha,En.isMap=Ya,En.isMatch=function(t,e){return t===e||Ar(t,e,$i(e))},En.isMatchWith=function(t,e,n){return n="function"==typeof n?n:void 0,Ar(t,e,$i(e),n)},En.isNaN=function(t){return Ka(t)&&t!=+t},En.isNative=function(t){if(fo(t))throw new W("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return wr(t)},En.isNil=function(t){return null==t},En.isNull=function(t){return null===t},En.isNumber=Ka,En.isObject=Va,En.isObjectLike=za,En.isPlainObject=Za,En.isRegExp=Wa,En.isSafeInteger=function(t){return ja(t)&&t>=-9007199254740991&&t<=9007199254740991},En.isSet=Xa,En.isString=Qa,En.isSymbol=Ja,En.isTypedArray=$a,En.isUndefined=function(t){return void 0===t},En.isWeakMap=function(t){return za(t)&&ro(t)==A},En.isWeakSet=function(t){return za(t)&&"[object WeakSet]"==mr(t)},En.join=function(t,e){return null==t?"":on.call(t,e)},En.kebabCase=Nu,En.last=qo,En.lastIndexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r;return void 0!==n&&(i=(i=iu(n))<0?un(r+i,0):sn(i,r-1)),e==e?function(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}(t,e,i):be(t,we,i,!0)},En.lowerCase=Tu,En.lowerFirst=Uu,En.lt=tu,En.lte=eu,En.max=function(t){return t&&t.length?ir(t,Ku,hr):void 0},En.maxBy=function(t,e){return t&&t.length?ir(t,Qi(e,2),hr):void 0},En.mean=function(t){return Se(t,Ku)},En.meanBy=function(t,e){return Se(t,Qi(e,2))},En.min=function(t){return t&&t.length?ir(t,Ku,Ir):void 0},En.minBy=function(t,e){return t&&t.length?ir(t,Qi(e,2),Ir):void 0},En.stubArray=os,En.stubFalse=as,En.stubObject=function(){return{}},En.stubString=function(){return""},En.stubTrue=function(){return!0},En.multiply=fs,En.nth=function(t,e){return t&&t.length?Dr(t,iu(e)):void 0},En.noConflict=function(){return Kt._===this&&(Kt._=Pt),this},En.noop=Ju,En.now=ga,En.pad=function(t,e,n){t=su(t);var r=(e=iu(e))?Ye(t):0;if(!e||r>=e)return t;var i=(e-r)/2;return Oi(tn(i),n)+t+Oi($e(i),n)},En.padEnd=function(t,e,n){t=su(t);var r=(e=iu(e))?Ye(t):0;return e&&r<e?t+Oi(e-r,n):t},En.padStart=function(t,e,n){t=su(t);var r=(e=iu(e))?Ye(t):0;return e&&r<e?Oi(e-r,n)+t:t},En.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),ln(su(t).replace(Z,""),e||0)},En.random=function(t,e,n){if(n&&"boolean"!=typeof n&&so(t,e,n)&&(e=n=void 0),void 0===n&&("boolean"==typeof e?(n=e,e=void 0):"boolean"==typeof t&&(n=t,t=void 0)),void 0===t&&void 0===e?(t=0,e=1):(t=ru(t),void 0===e?(e=t,t=0):e=ru(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var i=dn();return sn(t+i*(e-t+Ht("1e-"+((i+"").length-1))),e)}return Rr(t,e)},En.reduce=function(t,e,n){var r=Na(t)?he:Ie,i=arguments.length<3;return r(t,Qi(e,4),n,i,er)},En.reduceRight=function(t,e,n){var r=Na(t)?ge:Ie,i=arguments.length<3;return r(t,Qi(e,4),n,i,nr)},En.repeat=function(t,e,n){return e=(n?so(t,e,n):void 0===e)?1:iu(e),Lr(su(t),e)},En.replace=function(){var t=arguments,e=su(t[0]);return t.length<3?e:e.replace(t[1],t[2])},En.result=function(t,e,n){var r=-1,i=(e=si(e,t)).length;for(i||(i=1,t=void 0);++r<i;){var o=null==t?void 0:t[Io(e[r])];void 0===o&&(r=i,o=n),t=Fa(o)?o.call(t):o}return t},En.round=ps,En.runInContext=t,En.sample=function(t){return(Na(t)?qn:qr)(t)},En.size=function(t){if(null==t)return 0;if(Ua(t))return Qa(t)?Ye(t):t.length;var e=ro(t);return e==h||e==_?t.size:Cr(t).length},En.snakeCase=Ru,En.some=function(t,e,n){var r=Na(t)?ve:Kr;return n&&so(t,e,n)&&(e=void 0),r(t,Qi(e,3))},En.sortedIndex=function(t,e){return Zr(t,e)},En.sortedIndexBy=function(t,e,n){return Wr(t,e,Qi(n,2))},En.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var r=Zr(t,e);if(r<n&&Ma(t[r],e))return r}return-1},En.sortedLastIndex=function(t,e){return Zr(t,e,!0)},En.sortedLastIndexBy=function(t,e,n){return Wr(t,e,Qi(n,2),!0)},En.sortedLastIndexOf=function(t,e){if(null==t?0:t.length){var n=Zr(t,e,!0)-1;if(Ma(t[n],e))return n}return-1},En.startCase=Lu,En.startsWith=function(t,e,n){return t=su(t),n=null==n?0:Xn(iu(n),0,t.length),e=Jr(e),t.slice(n,n+e.length)==e},En.subtract=ms,En.sum=function(t){return t&&t.length?Pe(t,Ku):0},En.sumBy=function(t,e){return t&&t.length?Pe(t,Qi(e,2)):0},En.template=function(t,e,n){var r=En.templateSettings;n&&so(t,e,n)&&(e=void 0),t=su(t),e=du({},e,r,Fi);var i,o,a=du({},e.imports,r.imports,Fi),u=xu(a),s=De(a,u),c=0,l=e.interpolate||lt,d="__p += '",f=ht((e.escape||lt).source+"|"+l.source+"|"+(l===j?nt:lt).source+"|"+(e.evaluate||lt).source+"|$","g"),p="//# sourceURL="+(wt.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Gt+"]")+"\n";t.replace(f,(function(e,n,r,a,u,s){return r||(r=a),d+=t.slice(c,s).replace(dt,Ge),n&&(i=!0,d+="' +\n__e("+n+") +\n'"),u&&(o=!0,d+="';\n"+u+";\n__p += '"),r&&(d+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=s+e.length,e})),d+="';\n";var m=wt.call(e,"variable")&&e.variable;if(m){if(tt.test(m))throw new W("Invalid `variable` option passed into `_.template`")}else d="with (obj) {\n"+d+"\n}\n";d=(o?d.replace(O,""):d).replace(N,"$1").replace(T,"$1;"),d="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var h=ju((function(){return ft(u,p+"return "+d).apply(void 0,s)}));if(h.source=d,qa(h))throw h;return h},En.times=function(t,e){if((t=iu(t))<1||t>9007199254740991)return[];var n=4294967295,r=sn(t,4294967295);t-=4294967295;for(var i=Ee(r,e=Qi(e));++n<t;)e(n);return i},En.toFinite=ru,En.toInteger=iu,En.toLength=ou,En.toLower=function(t){return su(t).toLowerCase()},En.toNumber=au,En.toSafeInteger=function(t){return t?Xn(iu(t),-9007199254740991,9007199254740991):0===t?t:0},En.toString=su,En.toUpper=function(t){return su(t).toUpperCase()},En.trim=function(t,e,n){if((t=su(t))&&(n||void 0===e))return Me(t);if(!t||!(e=Jr(e)))return t;var r=Ke(t),i=Ke(e);return li(r,Ne(r,i),Te(r,i)+1).join("")},En.trimEnd=function(t,e,n){if((t=su(t))&&(n||void 0===e))return t.slice(0,Ze(t)+1);if(!t||!(e=Jr(e)))return t;var r=Ke(t);return li(r,0,Te(r,Ke(e))+1).join("")},En.trimStart=function(t,e,n){if((t=su(t))&&(n||void 0===e))return t.replace(Z,"");if(!t||!(e=Jr(e)))return t;var r=Ke(t);return li(r,Ne(r,Ke(e))).join("")},En.truncate=function(t,e){var n=30,r="...";if(Va(e)){var i="separator"in e?e.separator:i;n="length"in e?iu(e.length):n,r="omission"in e?Jr(e.omission):r}var o=(t=su(t)).length;if(qe(t)){var a=Ke(t);o=a.length}if(n>=o)return t;var u=n-Ye(r);if(u<1)return r;var s=a?li(a,0,u).join(""):t.slice(0,u);if(void 0===i)return s+r;if(a&&(u+=s.length-u),Wa(i)){if(t.slice(u).search(i)){var c,l=s;for(i.global||(i=ht(i.source,su(rt.exec(i))+"g")),i.lastIndex=0;c=i.exec(l);)var d=c.index;s=s.slice(0,void 0===d?u:d)}}else if(t.indexOf(Jr(i),u)!=u){var f=s.lastIndexOf(i);f>-1&&(s=s.slice(0,f))}return s+r},En.unescape=function(t){return(t=su(t))&&L.test(t)?t.replace(U,We):t},En.uniqueId=function(t){var e=++St;return su(t)+e},En.upperCase=Gu,En.upperFirst=qu,En.each=sa,En.eachRight=ca,En.first=Uo,Qu(En,(ds={},cr(En,(function(t,e){wt.call(En.prototype,e)||(ds[e]=t)})),ds),{chain:!1}),En.VERSION="4.17.21",ue(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){En[t].placeholder=En})),ue(["drop","take"],(function(t,e){On.prototype[t]=function(n){n=void 0===n?1:un(iu(n),0);var r=this.__filtered__&&!e?new On(this):this.clone();return r.__filtered__?r.__takeCount__=sn(n,r.__takeCount__):r.__views__.push({size:sn(n,4294967295),type:t+(r.__dir__<0?"Right":"")}),r},On.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),ue(["filter","map","takeWhile"],(function(t,e){var n=e+1,r=1==n||3==n;On.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:Qi(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}})),ue(["head","last"],(function(t,e){var n="take"+(e?"Right":"");On.prototype[t]=function(){return this[n](1).value()[0]}})),ue(["initial","tail"],(function(t,e){var n="drop"+(e?"":"Right");On.prototype[t]=function(){return this.__filtered__?new On(this):this[n](1)}})),On.prototype.compact=function(){return this.filter(Ku)},On.prototype.find=function(t){return this.filter(t).head()},On.prototype.findLast=function(t){return this.reverse().find(t)},On.prototype.invokeMap=Gr((function(t,e){return"function"==typeof t?new On(this):this.map((function(n){return _r(n,t,e)}))})),On.prototype.reject=function(t){return this.filter(Ca(Qi(t)))},On.prototype.slice=function(t,e){t=iu(t);var n=this;return n.__filtered__&&(t>0||e<0)?new On(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),void 0!==e&&(n=(e=iu(e))<0?n.dropRight(-e):n.take(e-t)),n)},On.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},On.prototype.toArray=function(){return this.take(4294967295)},cr(On.prototype,(function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),i=En[r?"take"+("last"==e?"Right":""):e],o=r||/^find/.test(e);i&&(En.prototype[e]=function(){var e=this.__wrapped__,a=r?[1]:arguments,u=e instanceof On,s=a[0],c=u||Na(e),l=function(t){var e=i.apply(En,me([t],a));return r&&d?e[0]:e};c&&n&&"function"==typeof s&&1!=s.length&&(u=c=!1);var d=this.__chain__,f=!!this.__actions__.length,p=o&&!d,m=u&&!f;if(!o&&c){e=m?e:new On(this);var h=t.apply(e,a);return h.__actions__.push({func:ra,args:[l],thisArg:void 0}),new Dn(h,d)}return p&&m?t.apply(this,a):(h=this.thru(l),p?r?h.value()[0]:h.value():h)})})),ue(["pop","push","shift","sort","splice","unshift"],(function(t){var e=yt[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);En.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var i=this.value();return e.apply(Na(i)?i:[],t)}return this[n]((function(n){return e.apply(Na(n)?n:[],t)}))}})),cr(On.prototype,(function(t,e){var n=En[e];if(n){var r=n.name+"";wt.call(bn,r)||(bn[r]=[]),bn[r].push({name:e,func:n})}})),bn[Ei(void 0,2).name]=[{name:"wrapper",func:void 0}],On.prototype.clone=function(){var t=new On(this.__wrapped__);return t.__actions__=yi(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=yi(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=yi(this.__views__),t},On.prototype.reverse=function(){if(this.__filtered__){var t=new On(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},On.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=Na(t),r=e<0,i=n?t.length:0,o=function(t,e,n){var r=-1,i=n.length;for(;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=sn(e,t+a);break;case"takeRight":t=un(t,e-a)}}return{start:t,end:e}}(0,i,this.__views__),a=o.start,u=o.end,s=u-a,c=r?u:a-1,l=this.__iteratees__,d=l.length,f=0,p=sn(s,this.__takeCount__);if(!n||!r&&i==s&&p==s)return ri(t,this.__actions__);var m=[];t:for(;s--&&f<p;){for(var h=-1,g=t[c+=e];++h<d;){var v=l[h],y=v.iteratee,_=v.type,b=y(g);if(2==_)g=b;else if(!b){if(1==_)continue t;break t}}m[f++]=g}return m},En.prototype.at=ia,En.prototype.chain=function(){return na(this)},En.prototype.commit=function(){return new Dn(this.value(),this.__chain__)},En.prototype.next=function(){void 0===this.__values__&&(this.__values__=nu(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?void 0:this.__values__[this.__index__++]}},En.prototype.plant=function(t){for(var e,n=this;n instanceof kn;){var r=Eo(n);r.__index__=0,r.__values__=void 0,e?i.__wrapped__=r:e=r;var i=r;n=n.__wrapped__}return i.__wrapped__=t,e},En.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof On){var e=t;return this.__actions__.length&&(e=new On(this)),(e=e.reverse()).__actions__.push({func:ra,args:[Vo],thisArg:void 0}),new Dn(e,this.__chain__)}return this.thru(Vo)},En.prototype.toJSON=En.prototype.valueOf=En.prototype.value=function(){return ri(this.__wrapped__,this.__actions__)},En.prototype.first=En.prototype.head,Qt&&(En.prototype[Qt]=function(){return this}),En}();Kt._=Xe,void 0===(i=function(){return Xe}.call(e,n,e,r))||(r.exports=i)}).call(this)}).call(this,n(6),n(18)(t))},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var s,c=[],l=!1,d=-1;function f(){l&&s&&(l=!1,s.length?c=s.concat(c):d=-1,c.length&&p())}function p(){if(!l){var t=u(f);l=!0;for(var e=c.length;e;){for(s=c,c=[];++d<e;)s&&s[d].run();d=-1,e=c.length}s=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function m(t,e){this.fun=t,this.array=e}function h(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new m(t,e)),1!==c.length||l||u(p)},m.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=h,i.addListener=h,i.once=h,i.off=h,i.removeListener=h,i.removeAllListeners=h,i.emit=h,i.prependListener=h,i.prependOnceListener=h,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e,n){"use strict";(function(t,r,i,o){n.d(e,"a",(function(){return c}));var a=n(0);var u=void 0!==i?"undefined"!=typeof window?{setImmediate:function(t){for(var e,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return(e=window).setImmediate.apply(e,Object(a.e)([t],n,!1))},clearImmediate:function(t){return window.clearImmediate(t)}}:{setImmediate:i,clearImmediate:o}:function(){var e,n,i,o,a,u,s,c=(e="undefined"!=typeof window&&window,n="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,e||void 0!==t&&t||n),l={},d="undefined"!=typeof document?document:void 0,f=1;function p(t){delete l[t]}function m(t){var e=l[t];p(t),function(t){var e=t.callback,n=t.args;switch(n.length){case 0:e();break;case 1:e(n[0]);break;case 2:e(n[0],n[1]);break;case 3:e(n[0],n[1],n[2]);break;default:e.apply(void 0,n)}}(e)}return void 0!==r&&"[object process]"==={}.toString.call(r)?i=function(t){r.nextTick((function(){m(t)}))}:function(){if(c&&c.postMessage&&!c.importScripts){var t=!0,e=c.onmessage;return c.onmessage=function(){t=!1},c.postMessage("","*"),c.onmessage=e,t}}()?(u="setImmediate$"+Math.random()+"$",s=function(t){t.source===c&&"string"==typeof t.data&&0===t.data.indexOf(u)&&m(+t.data.slice(u.length))},window.addEventListener?window.addEventListener("message",s,!1):window.attachEvent("onmessage",s),i=function(t){window.postMessage(u+t,"*")}):"undefined"!=typeof MessageChannel?((a=new MessageChannel).port1.onmessage=function(t){m(t.data)},i=function(t){a.port2.postMessage(t)}):d&&"onreadystatechange"in d.createElement("script")?(o=d.documentElement,i=function(t){var e=d.createElement("script");e.onreadystatechange=function(){m(t),e.onreadystatechange=null,o.removeChild(e),e=null},o.appendChild(e)}):i=function(t){setTimeout(m,0,t)},{setImmediate:function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];"function"!=typeof t&&(t=new Function(""+t));var r={callback:t,args:e};return l[f]=r,i(f),f++},clearImmediate:p}}();function s(t){u.setImmediate(t)}var c={setImmediate:u.setImmediate,clearImmediate:u.clearImmediate,immediatePromise:function(){return new Promise(s)},delay:function(t,e){return void 0===e&&(e=void 0),new Promise((function(n){return setTimeout(n,t,e)}))}}}).call(this,n(6),n(7),n(11).setImmediate,n(11).clearImmediate)},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return r}));var r=function(){try{return!0}catch(t){return!1}}();!function(){try{var e=t.env.DEBUG}catch(t){return!1}}()}).call(this,n(7))},function(t,e){t.exports=window.React},function(t,e,n){(function(t){var r=void 0!==t&&t||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function o(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new o(i.call(setTimeout,r,arguments),clearTimeout)},e.setInterval=function(){return new o(i.call(setInterval,r,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},n(16),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,n(6))},function(t,e,n){"use strict";(function(t){var r=n(13),i=n(14),o=n(15);function a(){return s.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function u(t,e){if(a()<e)throw new RangeError("Invalid typed array length");return s.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=s.prototype:(null===t&&(t=new s(e)),t.length=e),t}function s(t,e,n){if(!(s.TYPED_ARRAY_SUPPORT||this instanceof s))return new s(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return d(this,t)}return c(this,t,e,n)}function c(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r);s.TYPED_ARRAY_SUPPORT?(t=e).__proto__=s.prototype:t=f(t,e);return t}(t,e,n,r):"string"==typeof e?function(t,e,n){"string"==typeof n&&""!==n||(n="utf8");if(!s.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|m(e,n),i=(t=u(t,r)).write(e,n);i!==r&&(t=t.slice(0,i));return t}(t,e,n):function(t,e){if(s.isBuffer(e)){var n=0|p(e.length);return 0===(t=u(t,n)).length||e.copy(t,0,0,n),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(r=e.length)!=r?u(t,0):f(t,e);if("Buffer"===e.type&&o(e.data))return f(t,e.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function l(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function d(t,e){if(l(e),t=u(t,e<0?0:0|p(e)),!s.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function f(t,e){var n=e.length<0?0:0|p(e.length);t=u(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function p(t){if(t>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|t}function m(t,e){if(s.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return q(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return F(t).length;default:if(r)return q(t).length;e=(""+e).toLowerCase(),r=!0}}function h(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return E(this,e,n);case"utf8":case"utf-8":return B(this,e,n);case"ascii":return I(this,e,n);case"latin1":case"binary":return P(this,e,n);case"base64":return C(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function g(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function v(t,e,n,r,i){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof e&&(e=s.from(e,r)),s.isBuffer(e))return 0===e.length?-1:y(t,e,n,r,i);if("number"==typeof e)return e&=255,s.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):y(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function y(t,e,n,r,i){var o,a=1,u=t.length,s=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;a=2,u/=2,s/=2,n/=2}function c(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(i){var l=-1;for(o=n;o<u;o++)if(c(t,o)===c(e,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===s)return l*a}else-1!==l&&(o-=o-l),l=-1}else for(n+s>u&&(n=u-s),o=n;o>=0;o--){for(var d=!0,f=0;f<s;f++)if(c(t,o+f)!==c(e,f)){d=!1;break}if(d)return o}return-1}function _(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var u=parseInt(e.substr(2*a,2),16);if(isNaN(u))return a;t[n+a]=u}return a}function b(t,e,n,r){return j(q(e,t.length-n),t,n,r)}function x(t,e,n,r){return j(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function A(t,e,n,r){return x(t,e,n,r)}function w(t,e,n,r){return j(F(e),t,n,r)}function S(t,e,n,r){return j(function(t,e){for(var n,r,i,o=[],a=0;a<t.length&&!((e-=2)<0);++a)n=t.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(e,t.length-n),t,n,r)}function C(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function B(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var o,a,u,s,c=t[i],l=null,d=c>239?4:c>223?3:c>191?2:1;if(i+d<=n)switch(d){case 1:c<128&&(l=c);break;case 2:128==(192&(o=t[i+1]))&&(s=(31&c)<<6|63&o)>127&&(l=s);break;case 3:o=t[i+1],a=t[i+2],128==(192&o)&&128==(192&a)&&(s=(15&c)<<12|(63&o)<<6|63&a)>2047&&(s<55296||s>57343)&&(l=s);break;case 4:o=t[i+1],a=t[i+2],u=t[i+3],128==(192&o)&&128==(192&a)&&128==(192&u)&&(s=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&u)>65535&&s<1114112&&(l=s)}null===l?(l=65533,d=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),i+=d}return function(t){var e=t.length;if(e<=4096)return String.fromCharCode.apply(String,t);var n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=4096));return n}(r)}e.Buffer=s,e.SlowBuffer=function(t){+t!=t&&(t=0);return s.alloc(+t)},e.INSPECT_MAX_BYTES=50,s.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=a(),s.poolSize=8192,s._augment=function(t){return t.__proto__=s.prototype,t},s.from=function(t,e,n){return c(null,t,e,n)},s.TYPED_ARRAY_SUPPORT&&(s.prototype.__proto__=Uint8Array.prototype,s.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&s[Symbol.species]===s&&Object.defineProperty(s,Symbol.species,{value:null,configurable:!0})),s.alloc=function(t,e,n){return function(t,e,n,r){return l(e),e<=0?u(t,e):void 0!==n?"string"==typeof r?u(t,e).fill(n,r):u(t,e).fill(n):u(t,e)}(null,t,e,n)},s.allocUnsafe=function(t){return d(null,t)},s.allocUnsafeSlow=function(t){return d(null,t)},s.isBuffer=function(t){return!(null==t||!t._isBuffer)},s.compare=function(t,e){if(!s.isBuffer(t)||!s.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},s.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(t,e){if(!o(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return s.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=s.allocUnsafe(e),i=0;for(n=0;n<t.length;++n){var a=t[n];if(!s.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},s.byteLength=m,s.prototype._isBuffer=!0,s.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)g(this,e,e+1);return this},s.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)g(this,e,e+3),g(this,e+1,e+2);return this},s.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)g(this,e,e+7),g(this,e+1,e+6),g(this,e+2,e+5),g(this,e+3,e+4);return this},s.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?B(this,0,t):h.apply(this,arguments)},s.prototype.equals=function(t){if(!s.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===s.compare(this,t)},s.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},s.prototype.compare=function(t,e,n,r,i){if(!s.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(this===t)return 0;for(var o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(e>>>=0),u=Math.min(o,a),c=this.slice(r,i),l=t.slice(e,n),d=0;d<u;++d)if(c[d]!==l[d]){o=c[d],a=l[d];break}return o<a?-1:a<o?1:0},s.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},s.prototype.indexOf=function(t,e,n){return v(this,t,e,n,!0)},s.prototype.lastIndexOf=function(t,e,n){return v(this,t,e,n,!1)},s.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return _(this,t,e,n);case"utf8":case"utf-8":return b(this,t,e,n);case"ascii":return x(this,t,e,n);case"latin1":case"binary":return A(this,t,e,n);case"base64":return w(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function I(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function P(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function E(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=e;o<n;++o)i+=G(t[o]);return i}function M(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function k(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function D(t,e,n,r,i,o){if(!s.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function O(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-n,2);i<o;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function N(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-n,4);i<o;++i)t[n+i]=e>>>8*(r?i:3-i)&255}function T(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function U(t,e,n,r,o){return o||T(t,0,n,4),i.write(t,e,n,r,23,4),n+4}function R(t,e,n,r,o){return o||T(t,0,n,8),i.write(t,e,n,r,52,8),n+8}s.prototype.slice=function(t,e){var n,r=this.length;if((t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t),s.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=s.prototype;else{var i=e-t;n=new s(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+t]}return n},s.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||k(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r},s.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||k(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},s.prototype.readUInt8=function(t,e){return e||k(t,1,this.length),this[t]},s.prototype.readUInt16LE=function(t,e){return e||k(t,2,this.length),this[t]|this[t+1]<<8},s.prototype.readUInt16BE=function(t,e){return e||k(t,2,this.length),this[t]<<8|this[t+1]},s.prototype.readUInt32LE=function(t,e){return e||k(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},s.prototype.readUInt32BE=function(t,e){return e||k(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},s.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||k(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*e)),r},s.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||k(t,e,this.length);for(var r=e,i=1,o=this[t+--r];r>0&&(i*=256);)o+=this[t+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},s.prototype.readInt8=function(t,e){return e||k(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},s.prototype.readInt16LE=function(t,e){e||k(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},s.prototype.readInt16BE=function(t,e){e||k(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},s.prototype.readInt32LE=function(t,e){return e||k(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},s.prototype.readInt32BE=function(t,e){return e||k(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},s.prototype.readFloatLE=function(t,e){return e||k(t,4,this.length),i.read(this,t,!0,23,4)},s.prototype.readFloatBE=function(t,e){return e||k(t,4,this.length),i.read(this,t,!1,23,4)},s.prototype.readDoubleLE=function(t,e){return e||k(t,8,this.length),i.read(this,t,!0,52,8)},s.prototype.readDoubleBE=function(t,e){return e||k(t,8,this.length),i.read(this,t,!1,52,8)},s.prototype.writeUIntLE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||D(this,t,e,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},s.prototype.writeUIntBE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||D(this,t,e,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},s.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,1,255,0),s.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},s.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,2,65535,0),s.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):O(this,t,e,!0),e+2},s.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,2,65535,0),s.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):O(this,t,e,!1),e+2},s.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,4,4294967295,0),s.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):N(this,t,e,!0),e+4},s.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,4,4294967295,0),s.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):N(this,t,e,!1),e+4},s.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);D(this,t,e,n,i-1,-i)}var o=0,a=1,u=0;for(this[e]=255&t;++o<n&&(a*=256);)t<0&&0===u&&0!==this[e+o-1]&&(u=1),this[e+o]=(t/a>>0)-u&255;return e+n},s.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);D(this,t,e,n,i-1,-i)}var o=n-1,a=1,u=0;for(this[e+o]=255&t;--o>=0&&(a*=256);)t<0&&0===u&&0!==this[e+o+1]&&(u=1),this[e+o]=(t/a>>0)-u&255;return e+n},s.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,1,127,-128),s.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},s.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,2,32767,-32768),s.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):O(this,t,e,!0),e+2},s.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,2,32767,-32768),s.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):O(this,t,e,!1),e+2},s.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,4,2147483647,-2147483648),s.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):N(this,t,e,!0),e+4},s.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),s.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):N(this,t,e,!1),e+4},s.prototype.writeFloatLE=function(t,e,n){return U(this,t,e,!0,n)},s.prototype.writeFloatBE=function(t,e,n){return U(this,t,e,!1,n)},s.prototype.writeDoubleLE=function(t,e,n){return R(this,t,e,!0,n)},s.prototype.writeDoubleBE=function(t,e,n){return R(this,t,e,!1,n)},s.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i,o=r-n;if(this===t&&n<e&&e<r)for(i=o-1;i>=0;--i)t[i+e]=this[i+n];else if(o<1e3||!s.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+e]=this[i+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o},s.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!s.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var o;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(o=e;o<n;++o)this[o]=t;else{var a=s.isBuffer(t)?t:q(new s(t,r).toString()),u=a.length;for(o=0;o<n-e;++o)this[o+e]=a[o%u]}return this};var L=/[^+\/0-9A-Za-z-_]/g;function G(t){return t<16?"0"+t.toString(16):t.toString(16)}function q(t,e){var n;e=e||1/0;for(var r=t.length,i=null,o=[],a=0;a<r;++a){if((n=t.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function F(t){return r.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(L,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function j(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}}).call(this,n(6))},function(t,e,n){"use strict";e.byteLength=function(t){var e=c(t),n=e[0],r=e[1];return 3*(n+r)/4-r},e.toByteArray=function(t){var e,n,r=c(t),a=r[0],u=r[1],s=new o(function(t,e,n){return 3*(e+n)/4-n}(0,a,u)),l=0,d=u>0?a-4:a;for(n=0;n<d;n+=4)e=i[t.charCodeAt(n)]<<18|i[t.charCodeAt(n+1)]<<12|i[t.charCodeAt(n+2)]<<6|i[t.charCodeAt(n+3)],s[l++]=e>>16&255,s[l++]=e>>8&255,s[l++]=255&e;2===u&&(e=i[t.charCodeAt(n)]<<2|i[t.charCodeAt(n+1)]>>4,s[l++]=255&e);1===u&&(e=i[t.charCodeAt(n)]<<10|i[t.charCodeAt(n+1)]<<4|i[t.charCodeAt(n+2)]>>2,s[l++]=e>>8&255,s[l++]=255&e);return s},e.fromByteArray=function(t){for(var e,n=t.length,i=n%3,o=[],a=0,u=n-i;a<u;a+=16383)o.push(l(t,a,a+16383>u?u:a+16383));1===i?(e=t[n-1],o.push(r[e>>2]+r[e<<4&63]+"==")):2===i&&(e=(t[n-2]<<8)+t[n-1],o.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"="));return o.join("")};for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=0,s=a.length;u<s;++u)r[u]=a[u],i[a.charCodeAt(u)]=u;function c(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function l(t,e,n){for(var i,o,a=[],u=e;u<n;u+=3)i=(t[u]<<16&16711680)+(t[u+1]<<8&65280)+(255&t[u+2]),a.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,n,r,i){var o,a,u=8*i-r-1,s=(1<<u)-1,c=s>>1,l=-7,d=n?i-1:0,f=n?-1:1,p=t[e+d];for(d+=f,o=p&(1<<-l)-1,p>>=-l,l+=u;l>0;o=256*o+t[e+d],d+=f,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=r;l>0;a=256*a+t[e+d],d+=f,l-=8);if(0===o)o=1-c;else{if(o===s)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,r),o-=c}return(p?-1:1)*a*Math.pow(2,o-r)},e.write=function(t,e,n,r,i,o){var a,u,s,c=8*o-i-1,l=(1<<c)-1,d=l>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,m=r?1:-1,h=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(u=isNaN(e)?1:0,a=l):(a=Math.floor(Math.log(e)/Math.LN2),e*(s=Math.pow(2,-a))<1&&(a--,s*=2),(e+=a+d>=1?f/s:f*Math.pow(2,1-d))*s>=2&&(a++,s/=2),a+d>=l?(u=0,a=l):a+d>=1?(u=(e*s-1)*Math.pow(2,i),a+=d):(u=e*Math.pow(2,d-1)*Math.pow(2,i),a=0));i>=8;t[n+p]=255&u,p+=m,u/=256,i-=8);for(a=a<<i|u,c+=i;c>0;t[n+p]=255&a,p+=m,a/=256,c-=8);t[n+p-m]|=128*h}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){(function(t,e){!function(t,n){"use strict";if(!t.setImmediate){var r,i,o,a,u,s=1,c={},l=!1,d=t.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(t);f=f&&f.setTimeout?f:t,"[object process]"==={}.toString.call(t.process)?r=function(t){e.nextTick((function(){m(t)}))}:!function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?t.MessageChannel?((o=new MessageChannel).port1.onmessage=function(t){m(t.data)},r=function(t){o.port2.postMessage(t)}):d&&"onreadystatechange"in d.createElement("script")?(i=d.documentElement,r=function(t){var e=d.createElement("script");e.onreadystatechange=function(){m(t),e.onreadystatechange=null,i.removeChild(e),e=null},i.appendChild(e)}):r=function(t){setTimeout(m,0,t)}:(a="setImmediate$"+Math.random()+"$",u=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(a)&&m(+e.data.slice(a.length))},t.addEventListener?t.addEventListener("message",u,!1):t.attachEvent("onmessage",u),r=function(e){t.postMessage(a+e,"*")}),f.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var i={callback:t,args:e};return c[s]=i,r(s),s++},f.clearImmediate=p}function p(t){delete c[t]}function m(t){if(l)setTimeout(m,0,t);else{var e=c[t];if(e){l=!0;try{!function(t){var e=t.callback,n=t.args;switch(n.length){case 0:e();break;case 1:e(n[0]);break;case 2:e(n[0],n[1]);break;case 3:e(n[0],n[1],n[2]);break;default:e.apply(void 0,n)}}(e)}finally{p(t),l=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,n(6),n(7))},function(t,e){t.exports=XMLHttpRequest},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){var r=n(20);"string"==typeof r&&(r=[[t.i,r,""]]);var i={insertAt:"top",hmr:!0,transform:void 0,insertInto:void 0};n(22)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){(e=n(21)(!1)).push([t.i,'.msp-semi-transparent-background{opacity:.8 !important}.msp-plugin{font-family:"Helvetica Neue","Segoe UI",Helvetica,"Source Sans Pro",Arial,sans-serif;font-size:14px;line-height:1.42857143;position:absolute;left:0;top:0;right:0;bottom:0;/*! normalize.css v3.0.3 | MIT License | github.com/necolas/normalize.css */background:#ecf2f8}.msp-plugin *{box-sizing:border-box}.msp-plugin [hidden],.msp-plugin template{display:none}.msp-plugin a{background-color:rgba(0,0,0,0)}.msp-plugin a:active,.msp-plugin a:hover{outline:0}.msp-plugin abbr[title]{border-bottom:1px dotted}.msp-plugin b,.msp-plugin strong{font-weight:bold}.msp-plugin small{font-size:80%}.msp-plugin img{border:0}.msp-plugin svg:not(:root){overflow:hidden}.msp-plugin button,.msp-plugin input,.msp-plugin optgroup,.msp-plugin select,.msp-plugin textarea{color:inherit;font:inherit;margin:0}.msp-plugin button{overflow:visible}.msp-plugin button,.msp-plugin select{text-transform:none}.msp-plugin button,.msp-plugin html input[type=button],.msp-plugin input[type=reset],.msp-plugin input[type=submit]{-webkit-appearance:button;cursor:pointer}.msp-plugin button[disabled],.msp-plugin html input[disabled]{cursor:default}.msp-plugin button::-moz-focus-inner,.msp-plugin input::-moz-focus-inner{border:0;padding:0}.msp-plugin input{line-height:normal}.msp-plugin input[type=checkbox],.msp-plugin input[type=radio]{box-sizing:border-box;padding:0}.msp-plugin input[type=number]::-webkit-inner-spin-button,.msp-plugin input[type=number]::-webkit-outer-spin-button{height:auto}.msp-plugin textarea{overflow:auto}.msp-plugin .msp-layout-expanded,.msp-plugin .msp-layout-standard{left:0;right:0;top:0;bottom:0}.msp-plugin .msp-layout-standard{border:1px solid #b5cbe2}.msp-plugin .msp-layout-region{overflow:hidden}.msp-plugin .msp-layout-static,.msp-plugin .msp-layout-scrollable{position:absolute}.msp-plugin .msp-scrollable{overflow-y:auto}.msp-plugin .msp-scrollable-container{position:absolute;left:0;right:0;top:0;bottom:0;overflow-y:auto}.msp-plugin .msp-layout-static{overflow:hidden}.msp-plugin .msp-layout-top .msp-layout-static,.msp-plugin .msp-layout-main .msp-layout-static,.msp-plugin .msp-layout-bottom .msp-layout-static{left:0;right:0;top:0;bottom:0}.msp-plugin .msp-layout-right .msp-layout-static{left:0;right:0;top:0;bottom:0}.msp-plugin .msp-layout-right .msp-layout-scrollable{left:0;right:0;top:43px;bottom:0}.msp-plugin .msp-layout-left .msp-layout-static{left:0;right:0;bottom:0;top:0}.msp-plugin .msp-layout-standard-outside{position:absolute}.msp-plugin .msp-layout-standard-outside .msp-layout-main{position:absolute;left:0;right:0;bottom:0;top:0}.msp-plugin .msp-layout-standard-outside .msp-layout-top{position:absolute;right:0;height:97px;top:-97px;width:50%;border-left:1px solid #b5cbe2;border-bottom:1px solid #b5cbe2}.msp-plugin .msp-layout-standard-outside .msp-layout-bottom{position:absolute;left:0;right:0;height:97px;top:-97px;width:50%;border-bottom:1px solid #b5cbe2}.msp-plugin .msp-layout-standard-outside .msp-layout-right{position:absolute;width:50%;right:0;bottom:-295px;height:295px;border-left:1px solid #b5cbe2;border-top:1px solid #b5cbe2}.msp-plugin .msp-layout-standard-outside .msp-layout-left{position:absolute;width:50%;left:0;bottom:0;bottom:-295px;height:295px;border-top:1px solid #b5cbe2}.msp-plugin .msp-layout-standard-outside .msp-layout-hide-right .msp-layout-right{display:none}.msp-plugin .msp-layout-standard-outside .msp-layout-hide-right .msp-layout-left{width:100%}.msp-plugin .msp-layout-standard-outside .msp-layout-hide-left .msp-layout-left{display:none}.msp-plugin .msp-layout-standard-outside .msp-layout-hide-left .msp-layout-right{width:100%;border-left:none}.msp-plugin .msp-layout-standard-outside .msp-layout-collapse-left .msp-layout-left{width:32px}.msp-plugin .msp-layout-standard-outside .msp-layout-collapse-left .msp-layout-right{left:32px;width:auto}.msp-plugin .msp-layout-standard-outside .msp-layout-hide-top .msp-layout-top{display:none}.msp-plugin .msp-layout-standard-outside .msp-layout-hide-top .msp-layout-bottom{width:100%;border-left:none}.msp-plugin .msp-layout-standard-outside .msp-layout-hide-bottom .msp-layout-bottom{display:none}.msp-plugin .msp-layout-standard-outside .msp-layout-hide-bottom .msp-layout-top{width:100%;border-left:none}.msp-plugin .msp-layout-standard-landscape{position:absolute}.msp-plugin .msp-layout-standard-landscape .msp-layout-main{position:absolute;left:330px;right:300px;bottom:70px;top:100px}.msp-plugin .msp-layout-standard-landscape .msp-layout-top{position:absolute;left:330px;right:300px;height:100px;top:0;border-bottom:1px solid #b5cbe2}.msp-plugin .msp-layout-standard-landscape .msp-layout-bottom{position:absolute;left:330px;right:300px;height:70px;bottom:0;border-top:1px solid #b5cbe2}.msp-plugin .msp-layout-standard-landscape .msp-layout-right{position:absolute;width:300px;right:0;bottom:0;top:0;border-left:1px solid #b5cbe2}.msp-plugin .msp-layout-standard-landscape .msp-layout-left{position:absolute;width:330px;left:0;bottom:0;top:0;border-right:1px solid #b5cbe2}.msp-plugin .msp-layout-standard-landscape .msp-layout-hide-right .msp-layout-right{display:none}.msp-plugin .msp-layout-standard-landscape .msp-layout-hide-right .msp-layout-main,.msp-plugin .msp-layout-standard-landscape .msp-layout-hide-right .msp-layout-top,.msp-plugin .msp-layout-standard-landscape .msp-layout-hide-right .msp-layout-bottom{right:0}.msp-plugin .msp-layout-standard-landscape .msp-layout-hide-left .msp-layout-left{display:none}.msp-plugin .msp-layout-standard-landscape .msp-layout-hide-left .msp-layout-main,.msp-plugin .msp-layout-standard-landscape .msp-layout-hide-left .msp-layout-top,.msp-plugin .msp-layout-standard-landscape .msp-layout-hide-left .msp-layout-bottom{left:0}.msp-plugin .msp-layout-standard-landscape .msp-layout-collapse-left .msp-layout-left{width:32px}.msp-plugin .msp-layout-standard-landscape .msp-layout-collapse-left .msp-layout-main,.msp-plugin .msp-layout-standard-landscape .msp-layout-collapse-left .msp-layout-top,.msp-plugin .msp-layout-standard-landscape .msp-layout-collapse-left .msp-layout-bottom{left:32px}.msp-plugin .msp-layout-standard-landscape .msp-layout-hide-bottom .msp-layout-bottom{display:none}.msp-plugin .msp-layout-standard-landscape .msp-layout-hide-bottom .msp-layout-main{bottom:0}.msp-plugin .msp-layout-standard-landscape .msp-layout-hide-top .msp-layout-top{display:none}.msp-plugin .msp-layout-standard-landscape .msp-layout-hide-top .msp-layout-main{top:0}.msp-plugin .msp-layout-standard-portrait{position:absolute}.msp-plugin .msp-layout-standard-portrait .msp-layout-main{position:absolute;left:0;right:0;bottom:361px;top:97px}.msp-plugin .msp-layout-standard-portrait .msp-layout-top{position:absolute;right:0;height:97px;top:0;width:50%;border-left:1px solid #b5cbe2;border-bottom:1px solid #b5cbe2}.msp-plugin .msp-layout-standard-portrait .msp-layout-bottom{position:absolute;left:0;right:0;height:97px;width:50%;border-bottom:1px solid #b5cbe2}.msp-plugin .msp-layout-standard-portrait .msp-layout-right{position:absolute;width:50%;right:0;bottom:0;height:361px;border-left:1px solid #b5cbe2;border-top:1px solid #b5cbe2}.msp-plugin .msp-layout-standard-portrait .msp-layout-left{position:absolute;width:50%;left:0;bottom:0;height:361px;border-top:1px solid #b5cbe2}.msp-plugin .msp-layout-standard-portrait .msp-layout-hide-right .msp-layout-right{display:none}.msp-plugin .msp-layout-standard-portrait .msp-layout-hide-right .msp-layout-left{width:100%}.msp-plugin .msp-layout-standard-portrait .msp-layout-hide-left .msp-layout-left{display:none}.msp-plugin .msp-layout-standard-portrait .msp-layout-hide-left .msp-layout-right{width:100%;border-left:none}.msp-plugin .msp-layout-standard-portrait .msp-layout-hide-right.msp-layout-hide-left .msp-layout-main{bottom:0}.msp-plugin .msp-layout-standard-portrait .msp-layout-collapse-left .msp-layout-left{width:32px}.msp-plugin .msp-layout-standard-portrait .msp-layout-collapse-left .msp-layout-right{left:32px;width:auto}.msp-plugin .msp-layout-standard-portrait .msp-layout-hide-top .msp-layout-top{display:none}.msp-plugin .msp-layout-standard-portrait .msp-layout-hide-top .msp-layout-bottom{width:100%;border-left:none}.msp-plugin .msp-layout-standard-portrait .msp-layout-hide-bottom .msp-layout-bottom{display:none}.msp-plugin .msp-layout-standard-portrait .msp-layout-hide-bottom .msp-layout-top{width:100%;border-left:none}.msp-plugin .msp-layout-standard-portrait .msp-layout-hide-top.msp-layout-hide-bottom .msp-layout-main{top:0}.msp-plugin .msp-layout-standard-reactive{position:absolute}@media(orientation: landscape),(min-width: 1000px){.msp-plugin .msp-layout-standard-reactive .msp-layout-main{position:absolute;left:330px;right:300px;bottom:70px;top:100px}.msp-plugin .msp-layout-standard-reactive .msp-layout-top{position:absolute;left:330px;right:300px;height:100px;top:0;border-bottom:1px solid #b5cbe2}.msp-plugin .msp-layout-standard-reactive .msp-layout-bottom{position:absolute;left:330px;right:300px;height:70px;bottom:0;border-top:1px solid #b5cbe2}.msp-plugin .msp-layout-standard-reactive .msp-layout-right{position:absolute;width:300px;right:0;bottom:0;top:0;border-left:1px solid #b5cbe2}.msp-plugin .msp-layout-standard-reactive .msp-layout-left{position:absolute;width:330px;left:0;bottom:0;top:0;border-right:1px solid #b5cbe2}.msp-plugin .msp-layout-standard-reactive .msp-layout-hide-right .msp-layout-right{display:none}.msp-plugin .msp-layout-standard-reactive .msp-layout-hide-right .msp-layout-main,.msp-plugin .msp-layout-standard-reactive .msp-layout-hide-right .msp-layout-top,.msp-plugin .msp-layout-standard-reactive .msp-layout-hide-right .msp-layout-bottom{right:0}.msp-plugin .msp-layout-standard-reactive .msp-layout-hide-left .msp-layout-left{display:none}.msp-plugin .msp-layout-standard-reactive .msp-layout-hide-left .msp-layout-main,.msp-plugin .msp-layout-standard-reactive .msp-layout-hide-left .msp-layout-top,.msp-plugin .msp-layout-standard-reactive .msp-layout-hide-left .msp-layout-bottom{left:0}.msp-plugin .msp-layout-standard-reactive .msp-layout-collapse-left .msp-layout-left{width:32px}.msp-plugin .msp-layout-standard-reactive .msp-layout-collapse-left .msp-layout-main,.msp-plugin .msp-layout-standard-reactive .msp-layout-collapse-left .msp-layout-top,.msp-plugin .msp-layout-standard-reactive .msp-layout-collapse-left .msp-layout-bottom{left:32px}.msp-plugin .msp-layout-standard-reactive .msp-layout-hide-bottom .msp-layout-bottom{display:none}.msp-plugin .msp-layout-standard-reactive .msp-layout-hide-bottom .msp-layout-main{bottom:0}.msp-plugin .msp-layout-standard-reactive .msp-layout-hide-top .msp-layout-top{display:none}.msp-plugin .msp-layout-standard-reactive .msp-layout-hide-top .msp-layout-main{top:0}}@media(orientation: portrait)and (max-width: 1000px){.msp-plugin .msp-layout-standard-reactive .msp-layout-main{position:absolute;left:0;right:0;bottom:361px;top:97px}.msp-plugin .msp-layout-standard-reactive .msp-layout-top{position:absolute;right:0;height:97px;top:0;width:50%;border-left:1px solid #b5cbe2;border-bottom:1px solid #b5cbe2}.msp-plugin .msp-layout-standard-reactive .msp-layout-bottom{position:absolute;left:0;right:0;height:97px;width:50%;border-bottom:1px solid #b5cbe2}.msp-plugin .msp-layout-standard-reactive .msp-layout-right{position:absolute;width:50%;right:0;bottom:0;height:361px;border-left:1px solid #b5cbe2;border-top:1px solid #b5cbe2}.msp-plugin .msp-layout-standard-reactive .msp-layout-left{position:absolute;width:50%;left:0;bottom:0;height:361px;border-top:1px solid #b5cbe2}.msp-plugin .msp-layout-standard-reactive .msp-layout-hide-right .msp-layout-right{display:none}.msp-plugin .msp-layout-standard-reactive .msp-layout-hide-right .msp-layout-left{width:100%}.msp-plugin .msp-layout-standard-reactive .msp-layout-hide-left .msp-layout-left{display:none}.msp-plugin .msp-layout-standard-reactive .msp-layout-hide-left .msp-layout-right{width:100%;border-left:none}.msp-plugin .msp-layout-standard-reactive .msp-layout-hide-right.msp-layout-hide-left .msp-layout-main{bottom:0}.msp-plugin .msp-layout-standard-reactive .msp-layout-collapse-left .msp-layout-left{width:32px}.msp-plugin .msp-layout-standard-reactive .msp-layout-collapse-left .msp-layout-right{left:32px;width:auto}.msp-plugin .msp-layout-standard-reactive .msp-layout-hide-top .msp-layout-top{display:none}.msp-plugin .msp-layout-standard-reactive .msp-layout-hide-top .msp-layout-bottom{width:100%;border-left:none}.msp-plugin .msp-layout-standard-reactive .msp-layout-hide-bottom .msp-layout-bottom{display:none}.msp-plugin .msp-layout-standard-reactive .msp-layout-hide-bottom .msp-layout-top{width:100%;border-left:none}.msp-plugin .msp-layout-standard-reactive .msp-layout-hide-top.msp-layout-hide-bottom .msp-layout-main{top:0}}.msp-plugin .msp-layout-expanded{position:fixed}@media(orientation: landscape){.msp-plugin .msp-layout-expanded .msp-layout-main{position:absolute;left:330px;right:300px;bottom:70px;top:100px}.msp-plugin .msp-layout-expanded .msp-layout-top{position:absolute;left:330px;right:300px;height:100px;top:0;border-bottom:1px solid #b5cbe2}.msp-plugin .msp-layout-expanded .msp-layout-bottom{position:absolute;left:330px;right:300px;height:70px;bottom:0;border-top:1px solid #b5cbe2}.msp-plugin .msp-layout-expanded .msp-layout-right{position:absolute;width:300px;right:0;bottom:0;top:0;border-left:1px solid #b5cbe2}.msp-plugin .msp-layout-expanded .msp-layout-left{position:absolute;width:330px;left:0;bottom:0;top:0;border-right:1px solid #b5cbe2}.msp-plugin .msp-layout-expanded .msp-layout-hide-right .msp-layout-right{display:none}.msp-plugin .msp-layout-expanded .msp-layout-hide-right .msp-layout-main,.msp-plugin .msp-layout-expanded .msp-layout-hide-right .msp-layout-top,.msp-plugin .msp-layout-expanded .msp-layout-hide-right .msp-layout-bottom{right:0}.msp-plugin .msp-layout-expanded .msp-layout-hide-left .msp-layout-left{display:none}.msp-plugin .msp-layout-expanded .msp-layout-hide-left .msp-layout-main,.msp-plugin .msp-layout-expanded .msp-layout-hide-left .msp-layout-top,.msp-plugin .msp-layout-expanded .msp-layout-hide-left .msp-layout-bottom{left:0}.msp-plugin .msp-layout-expanded .msp-layout-collapse-left .msp-layout-left{width:32px}.msp-plugin .msp-layout-expanded .msp-layout-collapse-left .msp-layout-main,.msp-plugin .msp-layout-expanded .msp-layout-collapse-left .msp-layout-top,.msp-plugin .msp-layout-expanded .msp-layout-collapse-left .msp-layout-bottom{left:32px}.msp-plugin .msp-layout-expanded .msp-layout-hide-bottom .msp-layout-bottom{display:none}.msp-plugin .msp-layout-expanded .msp-layout-hide-bottom .msp-layout-main{bottom:0}.msp-plugin .msp-layout-expanded .msp-layout-hide-top .msp-layout-top{display:none}.msp-plugin .msp-layout-expanded .msp-layout-hide-top .msp-layout-main{top:0}}@media(orientation: portrait){.msp-plugin .msp-layout-expanded .msp-layout-main{position:absolute;left:0;right:0;bottom:361px;top:97px}.msp-plugin .msp-layout-expanded .msp-layout-top{position:absolute;right:0;height:97px;top:0;width:50%;border-left:1px solid #b5cbe2;border-bottom:1px solid #b5cbe2}.msp-plugin .msp-layout-expanded .msp-layout-bottom{position:absolute;left:0;right:0;height:97px;width:50%;border-bottom:1px solid #b5cbe2}.msp-plugin .msp-layout-expanded .msp-layout-right{position:absolute;width:50%;right:0;bottom:0;height:361px;border-left:1px solid #b5cbe2;border-top:1px solid #b5cbe2}.msp-plugin .msp-layout-expanded .msp-layout-left{position:absolute;width:50%;left:0;bottom:0;height:361px;border-top:1px solid #b5cbe2}.msp-plugin .msp-layout-expanded .msp-layout-hide-right .msp-layout-right{display:none}.msp-plugin .msp-layout-expanded .msp-layout-hide-right .msp-layout-left{width:100%}.msp-plugin .msp-layout-expanded .msp-layout-hide-left .msp-layout-left{display:none}.msp-plugin .msp-layout-expanded .msp-layout-hide-left .msp-layout-right{width:100%;border-left:none}.msp-plugin .msp-layout-expanded .msp-layout-hide-right.msp-layout-hide-left .msp-layout-main{bottom:0}.msp-plugin .msp-layout-expanded .msp-layout-collapse-left .msp-layout-left{width:32px}.msp-plugin .msp-layout-expanded .msp-layout-collapse-left .msp-layout-right{left:32px;width:auto}.msp-plugin .msp-layout-expanded .msp-layout-hide-top .msp-layout-top{display:none}.msp-plugin .msp-layout-expanded .msp-layout-hide-top .msp-layout-bottom{width:100%;border-left:none}.msp-plugin .msp-layout-expanded .msp-layout-hide-bottom .msp-layout-bottom{display:none}.msp-plugin .msp-layout-expanded .msp-layout-hide-bottom .msp-layout-top{width:100%;border-left:none}.msp-plugin .msp-layout-expanded .msp-layout-hide-top.msp-layout-hide-bottom .msp-layout-main{top:0}}.msp-plugin ::-webkit-scrollbar{width:10px;height:10px}.msp-plugin ::-webkit-scrollbar-track{border-radius:0;background-color:#e3ebf4}.msp-plugin ::-webkit-scrollbar-thumb{border-radius:0;background-color:#f2f6fa}.msp-plugin .msp-form-control,.msp-plugin .msp-control-row select,.msp-plugin .msp-control-row button,.msp-plugin .msp-control-row input[type=text],.msp-plugin .msp-btn{display:block;width:100%;background:#f5f8fb;border:none;padding:0 10px;line-height:30px;height:32px;-webkit-appearance:none;-moz-appearance:none;appearance:none;-webkit-box-shadow:none;box-shadow:none;background-image:none}.msp-plugin .msp-form-control::-moz-placeholder,.msp-plugin .msp-control-row select::-moz-placeholder,.msp-plugin .msp-control-row button::-moz-placeholder,.msp-plugin .msp-control-row input[type=text]::-moz-placeholder,.msp-plugin .msp-btn::-moz-placeholder{color:#878787;opacity:1}.msp-plugin .msp-form-control:-ms-input-placeholder,.msp-plugin .msp-control-row select:-ms-input-placeholder,.msp-plugin .msp-control-row button:-ms-input-placeholder,.msp-plugin .msp-control-row input[type=text]:-ms-input-placeholder,.msp-plugin .msp-btn:-ms-input-placeholder{color:#878787}.msp-plugin .msp-form-control::-webkit-input-placeholder,.msp-plugin .msp-control-row select::-webkit-input-placeholder,.msp-plugin .msp-control-row button::-webkit-input-placeholder,.msp-plugin .msp-control-row input[type=text]::-webkit-input-placeholder,.msp-plugin .msp-btn::-webkit-input-placeholder{color:#878787}.msp-plugin .msp-form-control:hover,.msp-plugin .msp-control-row select:hover,.msp-plugin .msp-control-row button:hover,.msp-plugin .msp-control-row input[type=text]:hover,.msp-plugin .msp-btn:hover{color:#325880;background-color:#e3ebf4;border:none;outline-offset:-1px !important;outline:1px solid #acc5df !important}.msp-plugin .msp-form-control:active,.msp-plugin .msp-control-row select:active,.msp-plugin .msp-control-row button:active,.msp-plugin .msp-control-row input[type=text]:active,.msp-plugin .msp-btn:active,.msp-plugin .msp-form-control:focus,.msp-plugin .msp-control-row select:focus,.msp-plugin .msp-control-row button:focus,.msp-plugin .msp-control-row input[type=text]:focus,.msp-plugin .msp-btn:focus{color:#333;background-color:#f5f8fb;border:none;outline-offset:0;outline:none}.msp-plugin .msp-form-control[disabled],.msp-plugin .msp-control-row select[disabled],.msp-plugin .msp-control-row button[disabled],.msp-plugin .msp-control-row input[disabled][type=text],.msp-plugin [disabled].msp-btn,.msp-plugin .msp-form-control[readonly],.msp-plugin .msp-control-row select[readonly],.msp-plugin .msp-control-row button[readonly],.msp-plugin .msp-control-row input[readonly][type=text],.msp-plugin [readonly].msp-btn,fieldset[disabled] .msp-plugin .msp-form-control,fieldset[disabled] .msp-plugin .msp-control-row select,fieldset[disabled] .msp-plugin .msp-control-row button,fieldset[disabled] .msp-plugin .msp-control-row input[type=text],fieldset[disabled] .msp-plugin .msp-btn{background:#ecf2f8;opacity:.35}.msp-plugin .msp-btn,.msp-plugin .msp-control-row button{display:inline-block;margin-bottom:0;text-align:center;touch-action:manipulation;cursor:pointer;background-image:none;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;padding:0 10px;line-height:32px;border:none;-moz-box-sizing:border-box;box-sizing:border-box}.msp-plugin .msp-btn[disabled],.msp-plugin .msp-control-row button[disabled]{background:#ecf2f8;opacity:.35}.msp-plugin .msp-btn-block,.msp-plugin .msp-control-row button{display:block;width:100%}.msp-plugin .msp-btn,.msp-plugin .msp-control-row button,.msp-plugin .msp-btn:active,.msp-plugin .msp-btn-link:focus,.msp-plugin .msp-btn:hover{outline:none}.msp-plugin .msp-material-icon svg{display:inline-flex;vertical-align:middle;font-size:1.2em;margin-bottom:3px;fill:currentColor;width:1em;height:1em;flex-shrink:0;user-select:none}.msp-plugin .msp-btn-block>.msp-material-icon,.msp-plugin .msp-control-row button>.msp-material-icon{margin-left:0;margin-right:.4em}.msp-plugin .msp-btn-childless>.msp-material-icon{margin-left:0;margin-right:0}.msp-plugin .msp-btn-icon{border:none;height:32px;width:32px;line-height:32px;padding:0;text-align:center}.msp-plugin .msp-btn-icon:hover{color:#325880;background-color:#e3ebf4;border:none;outline-offset:-1px !important;outline:1px solid #acc5df !important}.msp-plugin .msp-btn-icon[disabled],.msp-plugin .msp-btn-icon[disabled]:hover,.msp-plugin .msp-btn-icon[disabled]:active{color:#878787}.msp-plugin .msp-btn-icon-small{border:none;height:32px;width:20px;line-height:32px;padding:0;text-align:center}.msp-plugin .msp-btn-icon-small:hover{color:#325880;background-color:#e3ebf4;border:none;outline-offset:-1px !important;outline:1px solid #acc5df !important}.msp-plugin .msp-btn-icon-small[disabled],.msp-plugin .msp-btn-icon-small[disabled]:hover,.msp-plugin .msp-btn-icon-small[disabled]:active{color:#878787}.msp-plugin .msp-btn-link{font-weight:normal;border-radius:0}.msp-plugin .msp-btn-link,.msp-plugin .msp-btn-link:active,.msp-plugin .msp-btn-link.active,.msp-plugin .msp-btn-link[disabled],fieldset[disabled] .msp-plugin .msp-btn-link{background-color:rgba(0,0,0,0);-webkit-box-shadow:none;box-shadow:none}.msp-plugin .msp-btn-link,.msp-plugin .msp-btn-link:hover,.msp-plugin .msp-btn-link:focus,.msp-plugin .msp-btn-link:active{border-color:rgba(0,0,0,0)}.msp-plugin .msp-btn-link:hover,.msp-plugin .msp-btn-link:focus{text-decoration:none;background-color:rgba(0,0,0,0)}.msp-plugin .msp-btn-link[disabled]:hover,.msp-plugin .msp-btn-link[disabled]:focus,fieldset[disabled] .msp-plugin .msp-btn-link:hover,fieldset[disabled] .msp-plugin .msp-btn-link:focus{text-decoration:none}.msp-plugin .msp-btn-link .msp-icon{font-size:100%}.msp-plugin .msp-btn-link,.msp-plugin .msp-btn-link:active,.msp-plugin .msp-btn-link:focus{color:#333;text-decoration:none}.msp-plugin .msp-btn-link:hover{color:#325880;text-decoration:none}.msp-plugin .msp-btn-link-toggle-on{color:#333}.msp-plugin .msp-btn-link-toggle-off,.msp-plugin .msp-btn-link-toggle-off:active,.msp-plugin .msp-btn-link-toggle-off:focus{color:#878787 !important}.msp-plugin .msp-btn-link-toggle-off:hover,.msp-plugin .msp-btn-link-toggle-on:hover{color:#325880 !important}.msp-plugin .msp-btn-action,.msp-plugin .msp-btn-action:active,.msp-plugin .msp-btn-action:focus{color:#333;background:#f5f8fb}.msp-plugin .msp-btn-action:hover{color:#325880;background:#fff}.msp-plugin .msp-btn-action[disabled],.msp-plugin .msp-btn-action[disabled]:hover,.msp-plugin .msp-btn-action[disabled]:active,.msp-plugin .msp-btn-action[disabled]:focus{color:#363636}.msp-plugin .msp-btn-commit-on,.msp-plugin .msp-btn-commit-on:active,.msp-plugin .msp-btn-commit-on:focus{color:#325880;background:#f4f7fb}.msp-plugin .msp-btn-commit-on:hover{color:#325880;background:#fdfdfe}.msp-plugin .msp-btn-commit-on[disabled],.msp-plugin .msp-btn-commit-on[disabled]:hover,.msp-plugin .msp-btn-commit-on[disabled]:active,.msp-plugin .msp-btn-commit-on[disabled]:focus{color:#335b84}.msp-plugin .msp-btn-commit-off,.msp-plugin .msp-btn-commit-off:active,.msp-plugin .msp-btn-commit-off:focus{color:#333;background:#fbfcfd}.msp-plugin .msp-btn-commit-off:hover{color:#325880;background:#fff}.msp-plugin .msp-btn-commit-off[disabled],.msp-plugin .msp-btn-commit-off[disabled]:hover,.msp-plugin .msp-btn-commit-off[disabled]:active,.msp-plugin .msp-btn-commit-off[disabled]:focus{color:#363636}.msp-plugin .msp-btn-remove:hover{color:#bf3a31}.msp-plugin .msp-btn-commit-on:hover{color:#5a8bbe}.msp-plugin .msp-btn-action{height:32px;line-height:32px}.msp-plugin input[type=file]{display:block}.msp-plugin input[type=range]{display:block;width:100%}.msp-plugin select[multiple],.msp-plugin select[size]{height:auto}.msp-plugin textarea.msp-form-control,.msp-plugin textarea.msp-btn{height:auto}.msp-plugin .msp-control-top-offset{margin-top:1px}.msp-plugin .msp-btn-commit{text-align:right;padding-top:0;padding-bottom:0;padding-right:10px;padding-left:0;line-height:32px;border:none;overflow:hidden;font-weight:bold}.msp-plugin .msp-btn-commit .msp-icon{display:block-inline;line-height:32px;width:32px;text-align:center}.msp-plugin select.msp-form-control,.msp-plugin .msp-control-row select,.msp-plugin select.msp-btn{background:none;background-color:#f5f8fb;background-size:8px 12px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAUCAMAAACzvE1FAAAADFBMVEUzMzMzMzMzMzMzMzMKAG/3AAAAA3RSTlMAf4C/aSLHAAAAPElEQVR42q3NMQ4AIAgEQTn//2cLdRKppSGzBYwzVXvznNWs8C58CiussPJj8h6NwgorrKRdTvuV9v16Afn0AYFOB7aYAAAAAElFTkSuQmCC);background-repeat:no-repeat;background-position:right 10px center;padding-right:24px}.msp-plugin select.msp-form-control:-moz-focusring,.msp-plugin .msp-control-row select:-moz-focusring,.msp-plugin select.msp-btn:-moz-focusring{color:rgba(0,0,0,0);text-shadow:0 0 0 #333}.msp-plugin .msp-default-bg{background:#ecf2f8}.msp-plugin .msp-transparent-bg{background:rgba(0,0,0,0)}.msp-plugin .msp-no-hover-outline:hover{color:#325880;background-color:inherit;border:none;outline-offset:0 !important;outline:none !important}.msp-plugin .msp-icon-inline{margin-right:8px}.msp-plugin .msp-control-row{position:relative;height:32px;background:#ecf2f8;margin-top:1px}.msp-plugin .msp-control-row>span.msp-control-row-label,.msp-plugin .msp-control-row>button.msp-control-button-label{line-height:32px;display:block;width:120px;text-align:right;padding:0 10px;color:#595959;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;cursor:default}.msp-plugin .msp-control-row>button.msp-control-button-label{background:#ecf2f8;cursor:pointer}.msp-plugin .msp-control-row .msp-control-current{background:#ecf2f8}.msp-plugin .msp-control-row>div.msp-control-row-ctrl{position:absolute;left:120px;top:0;right:0;bottom:0}.msp-plugin .msp-control-row>div{background:#f5f8fb}.msp-plugin .msp-control-row>.msp-flex-row{background:#ecf2f8}.msp-plugin .msp-control-label-short>span{width:80px !important}.msp-plugin .msp-control-label-short>div:nth-child(2){left:80px !important}.msp-plugin .msp-control-col-2{float:left;width:50%}.msp-plugin .msp-control-group{position:relative}.msp-plugin .msp-toggle-button .msp-icon{display:inline-block;margin-right:6px}.msp-plugin .msp-toggle-button>div>button:hover{border-color:#e3ebf4 !important;border:none;outline-offset:-1px !important;outline:1px solid #acc5df !important}.msp-plugin .msp-slider>div:first-child{position:absolute;top:0;left:18px;bottom:0;right:62px;display:flex}.msp-plugin .msp-slider>div:last-child{position:absolute;height:32px;line-height:32px;text-align:center;right:0;width:50px;top:0;bottom:0}.msp-plugin .msp-slider input[type=text]{padding-right:6px;padding-left:4px;font-size:80%;text-align:right}.msp-plugin .msp-slider2>div:first-child{position:absolute;height:32px;line-height:32px;text-align:center;left:0;width:25px;top:0;bottom:0;font-size:80%}.msp-plugin .msp-slider2>div:nth-child(2){position:absolute;top:0;left:35px;bottom:0;right:37px;display:flex}.msp-plugin .msp-slider2>div:last-child{position:absolute;height:32px;line-height:32px;text-align:center;right:0;width:25px;top:0;bottom:0;font-size:80%}.msp-plugin .msp-slider2 input[type=text]{padding-right:4px;padding-left:4px;font-size:80%;text-align:center}.msp-plugin .msp-toggle-color-picker button{border:10px solid #f5f8fb !important;margin:0;text-align:center;padding-right:10px;padding-left:10px}.msp-plugin .msp-toggle-color-picker button:hover{border-color:#e3ebf4 !important;border:none;outline-offset:-1px !important;outline:1px solid #acc5df !important}.msp-plugin .msp-toggle-color-picker .msp-color-picker{position:absolute;z-index:100000;background:#ecf2f8;border-top:1px solid #ecf2f8;padding-bottom:5px;width:100%}.msp-plugin .msp-toggle-color-picker-above .msp-color-picker{top:-85px;height:85px}.msp-plugin .msp-toggle-color-picker-below .msp-color-picker{top:32px;height:80px}.msp-plugin .msp-control-offset{padding-left:10px}.msp-plugin .msp-accent-offset{padding-left:1px;margin-left:8px;border-left:2px solid #e98b39}.msp-plugin .msp-control-group-wrapper{margin-bottom:0px;margin-top:1px}.msp-plugin .msp-control-group-header{background:#ecf2f8}.msp-plugin .msp-control-group-header>button,.msp-plugin .msp-control-group-header div{padding-left:4px;text-align:left;height:24px !important;line-height:24px !important;font-size:85% !important;background:#ecf2f8 !important;color:#595959}.msp-plugin .msp-control-group-header .msp-icon{height:24px !important;line-height:24px !important}.msp-plugin .msp-control-group-header>span{padding-left:5px;line-height:21.3333333333px;font-size:70%;background:#ecf2f8;color:#595959}.msp-plugin .msp-control-current{background:#ecf2f8}.msp-plugin .msp-control-group-footer{background:#dae5f1;height:5px;font-size:1px;margin-top:1px}.msp-plugin .msp-control-group-expander{display:block;position:absolute;line-height:32px;padding:0;left:0;top:0;width:120px;text-align:left;background:rgba(0,0,0,0)}.msp-plugin .msp-control-group-expander .msp-icon{line-height:29px;width:31px;text-align:center;font-size:100%}.msp-plugin .msp-plugin-layout_controls{position:absolute;left:10px;top:10px}.msp-plugin .msp-plugin-layout_controls>button:first-child{margin-right:6px}.msp-plugin .msp-empty-control{display:none}.msp-plugin .msp-control .msp-btn-block,.msp-plugin .msp-control .msp-control-row button,.msp-plugin .msp-control-row .msp-control button{margin-bottom:0px;margin-top:0px}.msp-plugin .msp-row-text{height:32px;position:relative;background:#ecf2f8;margin-top:1px}.msp-plugin .msp-row-text>div{line-height:32px;text-align:center;color:#595959}.msp-plugin .msp-help span{display:none}.msp-plugin .msp-help:hover span{display:inline-block;background:linear-gradient(#ecf2f8, rgba(236, 242, 248, 0.8))}.msp-plugin .msp-help-text{position:relative;background:#ecf2f8;margin-top:1px}.msp-plugin .msp-help-text>div{padding:5px 10px;text-align:left;color:#595959}.msp-plugin .msp-help-description{font-style:italic}.msp-plugin .msp-help-legend{padding-top:10px}.msp-plugin .msp-scale-legend>div{width:100%;height:30px}.msp-plugin .msp-scale-legend>div>span{padding:5px;color:#fff;font-weight:bold;background-color:rgba(0,0,0,.2)}.msp-plugin .msp-table-legend>div{margin-right:5px;display:inline-flex}.msp-plugin .msp-table-legend>div .msp-table-legend-color{width:30px;height:20px}.msp-plugin .msp-table-legend>div .msp-table-legend-text{margin:0 5px}.msp-plugin .msp-image-preview{position:relative;background:#ecf2f8;margin-top:1px;padding:10px}.msp-plugin .msp-image-preview canvas{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.msp-plugin .msp-image-preview>span{margin-top:6px;display:block;text-align:center;font-size:80%;line-height:15px}.msp-plugin .msp-copy-image-wrapper{position:relative}.msp-plugin .msp-copy-image-wrapper div{font-weight:bold;padding:3px;margin:1px 0;width:100%;background:#f5f8fb;text-align:center}.msp-plugin .msp-copy-image-wrapper img{margin-top:1px}.msp-plugin .msp-slider-base{position:relative;height:14px;padding:5px 0;width:100%;border-radius:6px;align-self:center;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.msp-plugin .msp-slider-base *{box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.msp-plugin .msp-slider-base-rail{position:absolute;width:100%;background-color:#d4e1ee;height:4px;border-radius:2px}.msp-plugin .msp-slider-base-track{position:absolute;left:0;height:4px;border-radius:6px;background-color:tint(#333333, 60%)}.msp-plugin .msp-slider-base-handle{position:absolute;margin-left:-11px;margin-top:-9px;width:22px;height:22px;cursor:pointer;border-radius:50%;background-color:#333;border:4px solid #d4e1ee}.msp-plugin .msp-slider-base-handle:hover{background-color:#325880}.msp-plugin .msp-slider-base-mark{position:absolute;top:18px;left:0;width:100%;font-size:12px}.msp-plugin .msp-slider-base-mark-text{position:absolute;display:inline-block;vertical-align:middle;text-align:center;cursor:pointer;color:#999}.msp-plugin .msp-slider-base-mark-text-active{color:#666}.msp-plugin .msp-slider-base-step{position:absolute;width:100%;height:4px;background:rgba(0,0,0,0)}.msp-plugin .msp-slider-base-dot{position:absolute;bottom:-2px;margin-left:-4px;width:8px;height:8px;border:2px solid #e9e9e9;background-color:#fff;cursor:pointer;border-radius:50%;vertical-align:middle}.msp-plugin .msp-slider-base-dot:first-child{margin-left:-4px}.msp-plugin .msp-slider-base-dot:last-child{margin-left:-4px}.msp-plugin .msp-slider-base-dot-active{border-color:tint(#333333, 50%)}.msp-plugin .msp-slider-base-disabled{background:#ecf2f8;opacity:.35}.msp-plugin .msp-slider-base-disabled .msp-slider-base-handle,.msp-plugin .msp-slider-base-disabled .msp-slider-base-dot{cursor:not-allowed}.msp-plugin .msp-slider-base-disabled .msp-slider-base-mark-text,.msp-plugin .msp-slider-base-disabled .msp-slider-base-dot{cursor:not-allowed !important}.msp-plugin .msp-description{padding:10px;font-size:85%;background:#ecf2f8;text-align:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;font-weight:light;cursor:default}.msp-plugin .msp-description:not(:first-child){border-top:1px solid #d4e1ee}.msp-plugin .msp-color-picker input{color:#000 !important}.msp-plugin .msp-no-webgl{position:absolute;width:100%;height:100%;left:0;top:0;display:table;text-align:center;background:#ecf2f8}.msp-plugin .msp-no-webgl>div{display:table-cell;vertical-align:middle;text-align:center;width:100%;height:100%}.msp-plugin .msp-no-webgl>div b{font-size:120%}.msp-plugin .msp-loader-msp-btn-file{position:relative;overflow:hidden}.msp-plugin .msp-loader-msp-btn-file input[type=file]{position:absolute;top:0;right:0;min-width:100%;min-height:100%;font-size:100px;text-align:right;filter:alpha(opacity=0);opacity:0;outline:none;background:#fff;cursor:inherit;display:block}.msp-plugin .msp-controls-section{margin-bottom:10px}.msp-plugin .msp-combined-color-button{border:4px solid #f5f8fb !important;margin:0;text-align:center;padding-right:10px;padding-left:10px}.msp-plugin .msp-combined-color-button:hover{border-color:#e3ebf4 !important;border:none;outline-offset:-1px !important;outline:1px solid #acc5df !important}.msp-plugin .msp-combined-color-swatch{width:100%;display:grid;grid-gap:1px;grid-template-columns:repeat(6, auto)}.msp-plugin .msp-combined-color-swatch .msp-btn:hover,.msp-plugin .msp-combined-color-swatch .msp-control-row button:hover,.msp-plugin .msp-control-row .msp-combined-color-swatch button:hover{outline-offset:-1px !important;outline:1px solid #acc5df !important}.msp-plugin .msp-action-select{position:relative}.msp-plugin .msp-action-select select{padding-left:42px}.msp-plugin .msp-action-select option:first-child{color:#595959}.msp-plugin .msp-action-select>.msp-icon{display:block;top:0;left:10px;position:absolute;line-height:32px}.msp-plugin .msp-simple-help-section{height:28px;line-height:28px;margin-top:5px;margin-bottom:5px;padding:0 10px;font-weight:500;background:#ecf2f8;color:#333}.msp-plugin .msp-left-panel-controls-buttons{position:absolute;width:32px;top:0;bottom:0;padding-top:10px;background:#ecf2f8}.msp-plugin .msp-left-panel-controls-buttons-bottom{position:absolute;bottom:0}.msp-plugin .msp-left-panel-controls-button-data-dirty{position:absolute;width:6px;height:6px;background:#e98b39;border-radius:3px;right:6px;bottom:6px}.msp-plugin .msp-left-panel-controls .msp-scrollable-container{left:33px}.msp-plugin .msp-mapped-parameter-group{position:relative}.msp-plugin .msp-mapped-parameter-group>.msp-control-row:first-child>div:nth-child(2){right:33px}.msp-plugin .msp-mapped-parameter-group>button:first-child{right:33px}.msp-plugin .msp-mapped-parameter-group>.msp-btn-icon{position:absolute;right:0;width:32px;top:0;padding:0}.msp-plugin .msp-shape-filled{fill:#333;stroke:#333}.msp-plugin .msp-shape-empty{fill:none;stroke:#333}.msp-plugin .msp-no-overflow{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.msp-plugin .msp-25-lower-contrast-text{color:#737373}.msp-plugin .msp-expandable-group-color-stripe{position:absolute;left:0;top:30px;width:120px;height:2px}.msp-plugin .msp-section-header{height:32px;line-height:32px;margin-top:10px;margin-bottom:10px;text-align:right;padding:0 10px;font-weight:bold;background:#ecf2f8;overflow:hidden;cursor:default}.msp-plugin .msp-section-header>.msp-icon{display:block;float:left}.msp-plugin .msp-section-header>small{font-weight:normal}.msp-plugin .msp-current-header{height:32px;line-height:32px;margin-bottom:10px;text-align:center;font-weight:bold;background:#ecf2f8}.msp-plugin .msp-flex-row{margin-top:1px;background:#ecf2f8;display:flex;flex-direction:row;width:inherit;height:32px}.msp-plugin .msp-flex-row>.msp-flex-item{margin:0;flex:1 1 auto;margin-right:1px;overflow:hidden}.msp-plugin .msp-flex-row>.msp-flex-item:last-child{margin-right:0}.msp-plugin .msp-flex-row>select,.msp-plugin .msp-flex-row>button{margin:0;flex:1 1 auto;margin-right:1px;height:32px;overflow:hidden}.msp-plugin .msp-flex-row .msp-btn-icon,.msp-plugin .msp-flex-row .msp-btn-icon-small{flex:0 0 32px;max-width:32px}.msp-plugin .msp-flex-row>select{background:none}.msp-plugin .msp-flex-row>select>option[value=_]{display:none}.msp-plugin .msp-flex-row>select:last-child,.msp-plugin .msp-flex-row>button:last-child{margin-right:0}.msp-plugin .msp-flex-row>button.msp-control-button-label{background:#ecf2f8}.msp-plugin .msp-state-list{list-style:none}.msp-plugin .msp-state-list>li{position:relative;overflow:hidden}.msp-plugin .msp-state-list>li>button:first-child{text-align:left;border-left:10px solid #c0d3e7 !important}.msp-plugin .msp-state-list>li>div{position:absolute;right:0;top:0}.msp-plugin .msp-tree-row{position:relative;margin-top:0;margin-bottom:1px;background:rgba(0,0,0,0)}.msp-plugin .msp-tree-row-current .msp-btn-tree-label{border-radius:0 !important}.msp-plugin .msp-tree-row-current .msp-btn-tree-label>span{font-weight:bold}.msp-plugin .msp-tree-row .msp-btn-tree-label{text-align:left;border-radius:0 0 0 8px;border-left-width:4px;border-left-style:solid}.msp-plugin .msp-tree-row .msp-btn-tree-label>small{color:#666}.msp-plugin .msp-tree-updates-wrapper .msp-control-group-header:last-child{margin-bottom:1px}.msp-plugin .msp-viewport-top-left-controls{position:absolute;left:10px;top:10px}.msp-plugin .msp-viewport-top-left-controls .msp-traj-controls{line-height:32px;float:left;margin-right:10px;background-color:#f5f8fb}.msp-plugin .msp-viewport-top-left-controls .msp-traj-controls>span{color:#333;margin-left:10px;margin-right:10px;font-size:85%;display:inline-block}.msp-plugin .msp-viewport-top-left-controls .msp-state-snapshot-viewport-controls{line-height:32px;float:left;margin-right:10px}.msp-plugin .msp-viewport-top-left-controls .msp-state-snapshot-viewport-controls>button{background-color:#f5f8fb}.msp-plugin .msp-viewport-top-left-controls .msp-state-snapshot-viewport-controls>select{display:inline-block;width:200px;margin-right:10px}.msp-plugin .msp-viewport-top-left-controls .msp-animation-viewport-controls{line-height:32px;float:left;margin-right:10px;position:relative}.msp-plugin .msp-viewport-top-left-controls .msp-animation-viewport-controls>div:first-child{position:relative;display:inline-block}.msp-plugin .msp-viewport-top-left-controls .msp-animation-viewport-controls>div:first-child>button{position:relative}.msp-plugin .msp-viewport-top-left-controls .msp-animation-viewport-controls .msp-animation-viewport-controls-select{width:290px;position:absolute;left:0;margin-top:10px;background:#d4e1ee}.msp-plugin .msp-viewport-top-left-controls .msp-animation-viewport-controls .msp-animation-viewport-controls-select .msp-control-row:first-child{margin-top:0}.msp-plugin .msp-selection-viewport-controls{position:relative;margin:10px auto 0 auto;width:430px}.msp-plugin .msp-selection-viewport-controls-actions{position:absolute;width:100%;top:32px;background:#d4e1ee}.msp-plugin .msp-selection-viewport-controls>.msp-flex-row .msp-btn,.msp-plugin .msp-selection-viewport-controls>.msp-flex-row .msp-control-row button,.msp-plugin .msp-control-row .msp-selection-viewport-controls>.msp-flex-row button{padding:0 5px}.msp-plugin .msp-selection-viewport-controls select.msp-form-control,.msp-plugin .msp-selection-viewport-controls select.msp-btn,.msp-plugin .msp-selection-viewport-controls .msp-control-row select,.msp-plugin .msp-control-row .msp-selection-viewport-controls select{padding:0 5px;text-align:center;background:#f5f8fb;flex:0 0 80px;text-overflow:ellipsis}.msp-plugin .msp-param-object-list-item{margin-top:1px;position:relative}.msp-plugin .msp-param-object-list-item>button{text-align:left}.msp-plugin .msp-param-object-list-item>button>span{font-weight:bold}.msp-plugin .msp-param-object-list-item>div{position:absolute;right:0;top:0}.msp-plugin .msp-state-actions .msp-transform-wrapper:last-child{margin-bottom:10px}.msp-plugin .msp-button-row{display:flex;flex-direction:row;height:32px;width:inherit}.msp-plugin .msp-button-row>button{margin:0;flex:1 1 auto;margin-right:1px;height:32px;text-align-last:center;background:none;padding:0 10px;overflow:hidden}.msp-plugin .msp-action-menu-options-no-header,.msp-plugin .msp-action-menu-options .msp-control-group-children{max-height:300px;overflow:hidden;overflow-y:auto}.msp-plugin .msp-action-menu-options .msp-control-row,.msp-plugin .msp-action-menu-options button,.msp-plugin .msp-action-menu-options .msp-icon,.msp-plugin .msp-action-menu-options .msp-flex-row{height:24px;line-height:24px}.msp-plugin .msp-action-menu-options button{text-align:left}.msp-plugin .msp-action-menu-options .msp-action-menu-button{margin-top:1px;display:flex}.msp-plugin .msp-action-menu-options .msp-action-menu-button .msp-icon{margin-right:6px}.msp-plugin .msp-representation-entry{position:relative}.msp-plugin .msp-representation-entry>.msp-control-group-header>.msp-btn,.msp-plugin .msp-control-row .msp-representation-entry>.msp-control-group-header>button{font-weight:bold}.msp-plugin .msp-representation-entry>.msp-control-group-header>.msp-icon,.msp-plugin .msp-representation-entry>.msp-control-group-header>.msp-btn-link{line-height:24px;height:24px}.msp-plugin .msp-control-group-presets-wrapper{position:absolute;right:0;top:0}.msp-plugin .msp-control-group-presets-wrapper .msp-control-group-header{background:rgba(0,0,0,0)}.msp-plugin .msp-control-group-presets-wrapper button{background:rgba(0,0,0,0) !important}.msp-plugin .msp-parameter-matrix input{flex:1 1 auto;min-width:0}.msp-plugin .msp-btn-apply-simple{text-align:left}.msp-plugin .msp-btn-apply-simple .msp-icon{margin-right:10px}.msp-plugin .msp-type-class-Root{border-left-color:#ecf2f8}.msp-plugin .msp-type-class-Group{border-left-color:#e98b39}.msp-plugin .msp-type-class-Data{border-left-color:#bfc8c9}.msp-plugin .msp-type-class-Object{border-left-color:#54d98c}.msp-plugin .msp-type-class-Representation3D{border-left-color:#4aa3df}.msp-plugin .msp-type-class-Behavior{border-left-color:#b07cc6}.msp-plugin .msp-accent-color-cyan{color:#bfc8c9}.msp-plugin .msp-accent-bg-cyan{background:#bfc8c9}.msp-plugin .msp-transform-header-brand-cyan{border-bottom:1px solid #bfc8c9}.msp-plugin .msp-transform-header-brand-cyan:active,.msp-plugin .msp-transform-header-brand-cyan:focus{border-bottom:1px solid #bfc8c9}.msp-plugin .msp-accent-color-red{color:#ef8b80}.msp-plugin .msp-accent-bg-red{background:#ef8b80}.msp-plugin .msp-transform-header-brand-red{border-bottom:1px solid #ef8b80}.msp-plugin .msp-transform-header-brand-red:active,.msp-plugin .msp-transform-header-brand-red:focus{border-bottom:1px solid #ef8b80}.msp-plugin .msp-accent-color-gray{color:#46637f}.msp-plugin .msp-accent-bg-gray{background:#46637f}.msp-plugin .msp-transform-header-brand-gray{border-bottom:1px solid #46637f}.msp-plugin .msp-transform-header-brand-gray:active,.msp-plugin .msp-transform-header-brand-gray:focus{border-bottom:1px solid #46637f}.msp-plugin .msp-accent-color-green{color:#54d98c}.msp-plugin .msp-accent-bg-green{background:#54d98c}.msp-plugin .msp-transform-header-brand-green{border-bottom:1px solid #54d98c}.msp-plugin .msp-transform-header-brand-green:active,.msp-plugin .msp-transform-header-brand-green:focus{border-bottom:1px solid #54d98c}.msp-plugin .msp-accent-color-purple{color:#b07cc6}.msp-plugin .msp-accent-bg-purple{background:#b07cc6}.msp-plugin .msp-transform-header-brand-purple{border-bottom:1px solid #b07cc6}.msp-plugin .msp-transform-header-brand-purple:active,.msp-plugin .msp-transform-header-brand-purple:focus{border-bottom:1px solid #b07cc6}.msp-plugin .msp-accent-color-blue{color:#4aa3df}.msp-plugin .msp-accent-bg-blue{background:#4aa3df}.msp-plugin .msp-transform-header-brand-blue{border-bottom:1px solid #4aa3df}.msp-plugin .msp-transform-header-brand-blue:active,.msp-plugin .msp-transform-header-brand-blue:focus{border-bottom:1px solid #4aa3df}.msp-plugin .msp-accent-color-orange{color:#e98b39}.msp-plugin .msp-accent-bg-orange{background:#e98b39}.msp-plugin .msp-transform-header-brand-orange{border-bottom:1px solid #e98b39}.msp-plugin .msp-transform-header-brand-orange:active,.msp-plugin .msp-transform-header-brand-orange:focus{border-bottom:1px solid #e98b39}.msp-plugin .msp-volume-channel-inline-controls>:first-child{position:absolute;left:0;top:0;height:32px;right:32px}.msp-plugin .msp-volume-channel-inline-controls .msp-slider>div:first-child{right:42px}.msp-plugin .msp-volume-channel-inline-controls .msp-slider>div:last-child{width:30px}.msp-plugin .msp-volume-channel-inline-controls>button{position:absolute;right:0;width:32px;top:0;padding:0}.msp-plugin .msp-volume-channel-inline-controls>button .msp-material-icon{margin-right:0}.msp-plugin .msp-list-unstyled{padding-left:0;list-style:none}.msp-plugin .msp-drag-drop-overlay{border:12px dashed #333;background:rgba(0,0,0,.36);display:flex;align-items:center;justify-content:center;position:absolute;left:0;right:0;top:0;bottom:0;font-size:48px;font-weight:bold}.msp-plugin .msp-task-state{line-height:32px}.msp-plugin .msp-task-state>span{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;cursor:default}.msp-plugin .msp-overlay-tasks{position:absolute;display:flex;top:0;left:0;bottom:0;right:0;height:100%;width:100%;z-index:1000;justify-content:center;align-items:center;background:rgba(0,0,0,.25)}.msp-plugin .msp-overlay-tasks .msp-task-state>div{height:32px;margin-top:1px;position:relative;width:100%;background:#ecf2f8}.msp-plugin .msp-overlay-tasks .msp-task-state>div>div{height:32px;line-height:32px;display:inline-block;padding:0 10px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;cursor:default;white-space:nowrap;background:#ecf2f8;position:absolute}.msp-plugin .msp-overlay-tasks .msp-task-state>div>button{display:inline-block;margin-top:-3px}.msp-plugin .msp-background-tasks{position:absolute;left:0;bottom:0;z-index:1000}.msp-plugin .msp-background-tasks .msp-task-state>div{height:32px;margin-top:1px;position:relative;width:100%;background:#ecf2f8}.msp-plugin .msp-background-tasks .msp-task-state>div>div{height:32px;line-height:32px;display:inline-block;padding:0 10px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;cursor:default;white-space:nowrap;background:#ecf2f8;position:absolute}.msp-plugin .msp-background-tasks .msp-task-state>div>button{display:inline-block;margin-top:-3px}.msp-plugin .msp-viewport{position:absolute;left:0;top:0;right:0;bottom:0;background:#ecf2f8}.msp-plugin .msp-viewport .msp-btn-link{background:rgba(0,0,0,.2)}.msp-plugin .msp-viewport-expanded{position:fixed;z-index:1000}.msp-plugin .msp-viewport-host3d{position:absolute;left:0;top:0;right:0;bottom:0;-webkit-user-select:none;user-select:none;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-touch-callout:none;touch-action:manipulation}.msp-plugin .msp-viewport-host3d>canvas{background-color:#ecf2f8;background-image:linear-gradient(45deg, lightgrey 25%, transparent 25%, transparent 75%, lightgrey 75%, lightgrey),linear-gradient(45deg, lightgrey 25%, transparent 25%, transparent 75%, lightgrey 75%, lightgrey);background-size:60px 60px;background-position:0 0,30px 30px}.msp-plugin .msp-viewport-controls{position:absolute;right:10px;top:10px;width:32px}.msp-plugin .msp-viewport-controls-buttons{text-align:right;position:relative}.msp-plugin .msp-viewport-controls-buttons>div{position:relative;margin-bottom:4px}.msp-plugin .msp-viewport-controls-buttons button{padding:0;text-align:center;width:32px;position:relative}.msp-plugin .msp-viewport-controls-buttons .msp-btn-link-toggle-off{color:#878787}.msp-plugin .msp-viewport-controls-buttons .msp-btn-link:hover{color:#325880}.msp-plugin .msp-semi-transparent-background{background:#ecf2f8;opacity:.5;position:absolute;top:0;left:0;width:100%;height:100%}.msp-plugin .msp-viewport-controls-panel{width:290px;top:0;right:36px;position:absolute;background:#d4e1ee}.msp-plugin .msp-viewport-controls-panel .msp-control-group-wrapper:first-child{padding-top:0}.msp-plugin .msp-viewport-controls-panel .msp-viewport-controls-panel-controls{overflow-y:auto;max-height:400px}.msp-plugin .msp-highlight-toast-wrapper{position:absolute;right:10px;bottom:10px;max-width:95%;z-index:10000}.msp-plugin .msp-highlight-info{color:#325880;padding:3px 10px;background:#ecf2f8;opacity:90%;text-align:right;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;cursor:default}.msp-plugin .msp-highlight-info-hr{margin-inline:0px;margin-block:3px;border:none;height:1px;background-color:#325880}.msp-plugin .msp-highlight-info-additional{font-size:85%;display:inline-block;color:#5a8bbe}.msp-plugin .msp-log-wrap{position:absolute;right:0;top:0;left:0;bottom:0;overflow:hidden}.msp-plugin .msp-log{position:absolute;right:-20px;top:0;left:0;bottom:0;overflow-y:scroll;overflow-x:hidden;font-size:90%;background:#d4e1ee}.msp-plugin .msp-log{font-size:90%;color:#404040}.msp-plugin .msp-log ul{padding:0;margin:0}.msp-plugin .msp-log li{clear:both;margin:0;background:#ecf2f8;position:relative}.msp-plugin .msp-log li:not(:last-child){border-bottom:1px solid #b5cbe2}.msp-plugin .msp-log .msp-log-entry{margin-left:110px;background:#e7eef6;padding:3px 25px 3px 10px}.msp-plugin .msp-log .msp-log-timestamp{padding:3px 10px 3px 10px;float:left;text-align:right;width:110px;color:#666;font-size:100%}.msp-plugin .msp-log .msp-log-timestamp small{font-size:100%}.msp-plugin .msp-log .label{margin-top:-3px;font-size:7pt}.msp-plugin .msp-log-entry-badge{position:absolute;left:0;top:0;bottom:0;width:6px}.msp-plugin .msp-log-entry-message{background:#0cca5d}.msp-plugin .msp-log-entry-info{background:#5e3673}.msp-plugin .msp-log-entry-error{background:#fd354b}.msp-plugin .msp-log-entry-warning{background:#fcc937}.msp-plugin .msp-sequence{position:absolute;right:0;top:0;left:0;bottom:0;background:#ecf2f8}.msp-plugin .msp-sequence-select{position:relative;height:24px;width:100%;margin-bottom:1px;background:#d4e1ee;text-align:left}.msp-plugin .msp-sequence-select>span{display:inline-block;line-height:24px;padding:0 10px;font-size:85%;font-weight:bold;cursor:default}.msp-plugin .msp-sequence-select>select{display:inline-block;max-width:120px;width:auto;text-overflow:ellipsis;font-size:85%;height:24px;line-height:24px;background-size:6px 8px;background-color:#d4e1ee}.msp-plugin .msp-sequence-wrapper{word-break:break-word;padding:10px 10px 3px 10px;user-select:none}.msp-plugin .msp-sequence-wrapper-non-empty{font-size:85%;line-height:180%;font-family:"Courier New",monospace;background:#f5f8fb;width:100%;overflow-y:auto;overflow-x:hidden;position:absolute;top:25px;left:0;bottom:0;right:0}.msp-plugin .msp-sequence-chain-label{margin-left:10px;margin-top:10px;user-select:none;color:#325880;font-size:90%;line-height:90%;padding-left:.2em}.msp-plugin .msp-sequence-wrapper span{cursor:pointer}.msp-plugin .msp-sequence-wrapper .msp-sequence-residue-long{margin:0em .2em 0em .2em}.msp-plugin .msp-sequence-wrapper .msp-sequence-residue-long-begin{margin:0em .2em 0em 0em}.msp-plugin .msp-sequence-wrapper .msp-sequence-label{color:#325880;font-size:90%;line-height:90%;padding-bottom:1em;padding-left:.2em}.msp-plugin .msp-sequence-wrapper .msp-sequence-number{color:#325880;word-break:keep-all;cursor:default;position:relative;top:-1.1em;left:3.1em;padding:0px;margin-left:-3em;font-size:80%}.msp-plugin .msp-sequence-wrapper .msp-sequence-number-long{left:3.3em}.msp-plugin .msp-sequence-wrapper .msp-sequence-number-long-negative{left:2.7em}.msp-plugin .msp-sequence-wrapper .msp-sequence-number-negative{left:2.5em}.msp-plugin .msp-sequence-wrapper .msp-sequence-present{color:#333}.msp-plugin .msp-sequence-wrapper .msp-sequence-missing{color:#878787}.msp-plugin .msp-transformer .msp-entity-badge{position:absolute;top:0;right:0;height:32px;line-height:32px;width:32px}.msp-plugin .msp-layout-right,.msp-plugin .msp-layout-left{background:#d4e1ee}.msp-plugin .msp-transformer-wrapper{position:relative}.msp-plugin .msp-transformer-wrapper .msp-entity-badge{left:0;top:0}.msp-plugin .msp-transformer-wrapper:first-child .msp-panel-description-content{top:33px}.msp-plugin .msp-transformer-wrapper:not(:first-child) .msp-panel-description-content{bottom:33px}.msp-plugin .msp-transform-wrapper{margin-bottom:10px}.msp-plugin .msp-transform-wrapper-collapsed{margin-bottom:1px}.msp-plugin .msp-transform-update-wrapper{margin-bottom:1px}.msp-plugin .msp-transform-update-wrapper-collapsed{margin-bottom:1px}.msp-plugin .msp-transform-update-wrapper>.msp-transform-header>button,.msp-plugin .msp-transform-update-wrapper-collapsed>.msp-transform-header>button{text-align:left;padding-left:32px;line-height:24px;background:#e3ebf4}.msp-plugin .msp-transform-wrapper>.msp-transform-header>button{text-align:left;background:#ecf2f8;font-weight:bold;padding-right:5px}.msp-plugin .msp-transform-header{position:relative}.msp-plugin .msp-transform-header>button>small{font-weight:normal;float:right}.msp-plugin .msp-transform-header>button>span:first-child{margin-right:10px}.msp-plugin .msp-transform-header>button:hover{color:#595959}.msp-plugin .msp-transform-header-brand{margin-bottom:-1px}.msp-plugin .msp-transform-header-brand svg{fill:#333;stroke:#333}.msp-plugin .msp-transform-default-params{background:#ecf2f8;position:absolute;left:0;top:0;width:32px;padding:0}.msp-plugin .msp-transform-default-params:hover{background:#fff}.msp-plugin .msp-transform-apply-wrap{position:relative;margin-top:1px;width:100%;height:32px}.msp-plugin .msp-transform-refresh{width:87px;margin-left:33px;background:#ecf2f8;text-align:right}.msp-plugin .msp-transform-apply{display:block;position:absolute;left:120px;right:0;top:0}.msp-plugin .msp-transform-apply-wider{margin-left:33px}.msp-plugin .msp-data-beh{margin:10px 0 !important}.msp-plugin .msp-toast-container{position:relative;z-index:1001}.msp-plugin .msp-toast-container .msp-toast-entry{color:#333;background:#d4e1ee;position:relative;float:right;min-height:32px;margin-top:10px;border:1px solid #b5cbe2;display:table}.msp-plugin .msp-toast-container .msp-toast-entry .msp-toast-title{height:100%;line-height:32px;padding:0 10px;background:#ecf2f8;font-weight:bold;display:table-cell;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;font-weight:light;cursor:pointer}.msp-plugin .msp-toast-container .msp-toast-entry .msp-toast-message{padding:3px 42px 3px 10px;display:table-cell}.msp-plugin .msp-toast-container .msp-toast-entry .msp-toast-message a{text-decoration:none;color:#325880;font-weight:bold}.msp-plugin .msp-toast-container .msp-toast-entry .msp-toast-message a:hover{text-decoration:underline;color:#5a8bbe}.msp-plugin .msp-toast-container .msp-toast-entry .msp-toast-message a:active,.msp-plugin .msp-toast-container .msp-toast-entry .msp-toast-message a:focus{color:#325880;outline-offset:0;outline:none}.msp-plugin .msp-toast-container .msp-toast-entry .msp-toast-hide{position:absolute;width:42px;right:0;top:0;bottom:0}.msp-plugin .msp-toast-container .msp-toast-entry .msp-toast-hide .msp-btn-icon{background:rgba(0,0,0,0);position:absolute;top:1px;right:0;left:0;bottom:0;width:100%;text-align:right;padding-right:5px}.msp-plugin .msp-help-row{position:relative;height:32px;background:#ecf2f8;margin-top:1px;display:table;width:100%}.msp-plugin .msp-help-row>span{width:120px;text-align:right;padding:3px 10px;color:#595959;display:table-cell;font-weight:bold;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;cursor:default}.msp-plugin .msp-help-row>div{background:#f5f8fb;position:relative;padding:3px 10px;display:table-cell}.msp-plugin .msp-canvas{width:100%;height:100%;background-color:#f3f2ee}.msp-plugin .msp-canvas text{-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.msp-plugin .msp-canvas circle{stroke:#000;stroke-width:10;stroke-opacity:.3}.msp-plugin .msp-canvas circle:hover{fill:#ae5d04;stroke:#000;stroke-width:10px}.msp-plugin .msp-canvas .info{fill:#fff;stroke:#000;stroke-width:3}.msp-plugin .msp-canvas .show{visibility:visible}.msp-plugin .msp-canvas .hide{visibility:hidden}.msp-plugin .msp-canvas .delete-button rect{fill:#ed4337;stroke:#000}.msp-plugin .msp-canvas .delete-button text{stroke:#fff;fill:#fff}.msp-plugin .msp-canvas .delete-button:hover{stroke:#000;stroke-width:3;fill:#ff6961}.msp-plugin .msp-canvas .infoCircle:hover{fill:#4c66b2}.msp-plugin .msp-canvas:focus{outline:none}.msp-plugin .msp-logo{display:block;position:absolute;bottom:10px;right:10px;height:32px;width:100px;background-repeat:no-repeat;background-position:bottom right;background-size:auto;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFcAAAAgCAYAAABn7+QVAAAABGdBTUEAALGOfPtRkwAAACBjSFJNAACHDwAAjA8AAP1SAACBQAAAfXkAAOmLAAA85QAAGcxzPIV3AAAKL2lDQ1BJQ0MgUHJvZmlsZQAASMedlndUVNcWh8+9d3qhzTACUobeu8AA0nuTXkVhmBlgKAMOMzSxIaICEUVEmiJIUMSA0VAkVkSxEBRUsAckCCgxGEVULG9G1ouurLz38vL746xv7bP3ufvsvc9aFwCSpy+XlwZLAZDKE/CDPJzpEZFRdOwAgAEeYIApAExWRrpfsHsIEMnLzYWeIXICXwQB8HpYvAJw09AzgE4H/5+kWel8geiYABGbszkZLBEXiDglS5Auts+KmBqXLGYYJWa+KEERy4k5YZENPvsssqOY2ak8tojFOaezU9li7hXxtkwhR8SIr4gLM7mcLBHfErFGijCVK+I34thUDjMDABRJbBdwWIkiNhExiR8S5CLi5QDgSAlfcdxXLOBkC8SXcklLz+FzExIFdB2WLt3U2ppB9+RkpXAEAsMAJiuZyWfTXdJS05m8HAAW7/xZMuLa0kVFtjS1trQ0NDMy/apQ/3Xzb0rc20V6Gfi5ZxCt/4vtr/zSGgBgzIlqs/OLLa4KgM4tAMjd+2LTOACApKhvHde/ug9NPC+JAkG6jbFxVlaWEZfDMhIX9A/9T4e/oa++ZyQ+7o/y0F058UxhioAurhsrLSVNyKdnpDNZHLrhn4f4Hwf+dR4GQZx4Dp/DE0WEiaaMy0sQtZvH5gq4aTw6l/efmvgPw/6kxbkWidL4EVBjjIDUdSpAfu0HKAoRINH7xV3/o2+++DAgfnnhKpOLc//vN/1nwaXiJYOb8DnOJSiEzhLyMxf3xM8SoAEBSAIqkAfKQB3oAENgBqyALXAEbsAb+IMQEAlWAxZIBKmAD7JAHtgECkEx2An2gGpQBxpBM2gFx0EnOAXOg0vgGrgBboP7YBRMgGdgFrwGCxAEYSEyRIHkIRVIE9KHzCAGZA+5Qb5QEBQJxUIJEA8SQnnQZqgYKoOqoXqoGfoeOgmdh65Ag9BdaAyahn6H3sEITIKpsBKsBRvDDNgJ9oFD4FVwArwGzoUL4B1wJdwAH4U74PPwNfg2PAo/g+cQgBARGqKKGCIMxAXxR6KQeISPrEeKkAqkAWlFupE+5CYyiswgb1EYFAVFRxmibFGeqFAUC7UGtR5VgqpGHUZ1oHpRN1FjqFnURzQZrYjWR9ugvdAR6AR0FroQXYFuQrejL6JvoyfQrzEYDA2jjbHCeGIiMUmYtZgSzD5MG+YcZhAzjpnDYrHyWH2sHdYfy8QKsIXYKuxR7FnsEHYC+wZHxKngzHDuuCgcD5ePq8AdwZ3BDeEmcQt4Kbwm3gbvj2fjc/Cl+EZ8N/46fgK/QJAmaBPsCCGEJMImQiWhlXCR8IDwkkgkqhGtiYFELnEjsZJ4jHiZOEZ8S5Ih6ZFcSNEkIWkH6RDpHOku6SWZTNYiO5KjyALyDnIz+QL5EfmNBEXCSMJLgi2xQaJGokNiSOK5JF5SU9JJcrVkrmSF5AnJ65IzUngpLSkXKabUeqkaqZNSI1Jz0hRpU2l/6VTpEukj0lekp2SwMloybjJsmQKZgzIXZMYpCEWd4kJhUTZTGikXKRNUDFWb6kVNohZTv6MOUGdlZWSXyYbJZsvWyJ6WHaUhNC2aFy2FVko7ThumvVuitMRpCWfJ9iWtS4aWzMstlXOU48gVybXJ3ZZ7J0+Xd5NPlt8l3yn/UAGloKcQqJClsF/hosLMUupS26WspUVLjy+9pwgr6ikGKa5VPKjYrzinpKzkoZSuVKV0QWlGmabsqJykXK58RnlahaJir8JVKVc5q/KULkt3oqfQK+m99FlVRVVPVaFqveqA6oKatlqoWr5am9pDdYI6Qz1evVy9R31WQ0XDTyNPo0XjniZek6GZqLlXs09zXktbK1xrq1an1pS2nLaXdq52i/YDHbKOg84anQadW7oYXYZusu4+3Rt6sJ6FXqJejd51fVjfUp+rv09/0ABtYG3AM2gwGDEkGToZZhq2GI4Z0Yx8jfKNOo2eG2sYRxnvMu4z/mhiYZJi0mhy31TG1Ns037Tb9HczPTOWWY3ZLXOyubv5BvMu8xfL9Jdxlu1fdseCYuFnsdWix+KDpZUl37LVctpKwyrWqtZqhEFlBDBKGJet0dbO1husT1m/tbG0Edgct/nN1tA22faI7dRy7eWc5Y3Lx+3U7Jh29Xaj9nT7WPsD9qMOqg5MhwaHx47qjmzHJsdJJ12nJKejTs+dTZz5zu3O8y42Lutczrkirh6uRa4DbjJuoW7Vbo/c1dwT3FvcZz0sPNZ6nPNEe/p47vIc8VLyYnk1e816W3mv8+71IfkE+1T7PPbV8+X7dvvBft5+u/0erNBcwVvR6Q/8vfx3+z8M0A5YE/BjICYwILAm8EmQaVBeUF8wJTgm+Ejw6xDnkNKQ+6E6ocLQnjDJsOiw5rD5cNfwsvDRCOOIdRHXIhUiuZFdUdiosKimqLmVbiv3rJyItogujB5epb0qe9WV1QqrU1afjpGMYcaciEXHhsceiX3P9Gc2MOfivOJq42ZZLqy9rGdsR3Y5e5pjxynjTMbbxZfFTyXYJexOmE50SKxInOG6cKu5L5I8k+qS5pP9kw8lf0oJT2lLxaXGpp7kyfCSeb1pymnZaYPp+umF6aNrbNbsWTPL9+E3ZUAZqzK6BFTRz1S/UEe4RTiWaZ9Zk/kmKyzrRLZ0Ni+7P0cvZ3vOZK577rdrUWtZa3vyVPM25Y2tc1pXvx5aH7e+Z4P6hoINExs9Nh7eRNiUvOmnfJP8svxXm8M3dxcoFWwsGN/isaWlUKKQXziy1XZr3TbUNu62ge3m26u2fyxiF10tNimuKH5fwiq5+o3pN5XffNoRv2Og1LJ0/07MTt7O4V0Ouw6XSZfllo3v9tvdUU4vLyp/tSdmz5WKZRV1ewl7hXtHK30ru6o0qnZWva9OrL5d41zTVqtYu712fh9739B+x/2tdUp1xXXvDnAP3Kn3qO9o0GqoOIg5mHnwSWNYY9+3jG+bmxSaips+HOIdGj0cdLi32aq5+YjikdIWuEXYMn00+uiN71y/62o1bK1vo7UVHwPHhMeefh/7/fBxn+M9JxgnWn/Q/KG2ndJe1AF15HTMdiZ2jnZFdg2e9D7Z023b3f6j0Y+HTqmeqjkte7r0DOFMwZlPZ3PPzp1LPzdzPuH8eE9Mz/0LERdu9Qb2Dlz0uXj5kvulC31OfWcv210+dcXmysmrjKud1yyvdfRb9Lf/ZPFT+4DlQMd1q+tdN6xvdA8uHzwz5DB0/qbrzUu3vG5du73i9uBw6PCdkeiR0TvsO1N3U+6+uJd5b+H+xgfoB0UPpR5WPFJ81PCz7s9to5ajp8dcx/ofBz++P84af/ZLxi/vJwqekJ9UTKpMNk+ZTZ2adp++8XTl04ln6c8WZgp/lf619rnO8x9+c/ytfzZiduIF/8Wn30teyr889GrZq565gLlHr1NfL8wXvZF/c/gt423fu/B3kwtZ77HvKz/ofuj+6PPxwafUT5/+BQOY8/xvJtwPAAAACXBIWXMAAC4iAAAuIgGq4t2SAAANMElEQVRoQ92aB1xURx7H/69sY5eOFBELCipESsSC0RCMJRZMrICHGiMmGjWaqDk7YEsuGok5TS6xi56KGtsFG6jBiAYLKhqVc8GGBZG+fd97N+/twNJWFksS7/v5DG/nN/OG/fze/838Z4CA/wMCE9d9W8oQ3mUMBSojBTqWAuBQAweHIC56lanXHw8xJixM6qhQNcX1KuQykluyKzMPVxvF5XUh3hIpgFSiQz8AJBItSKU6sCsX55P9byLxxRKwYl3W5O6dg5o62IMRmcpyBBz87wNYcyH3R4iL+gh3+8MhHaTqYJKUKO2dPYTigIqza1MlLZLnzh3arQ/uZzVn14YOIGRyJWXrqgR5U6VI1kRJS92VBEEry+wrAnC3F04XL3cY4OMF7/p6weC2zSDQzQG3/IlM7dspdPmU0VxtLqYf5haM6HYOBYLVUwcXByQy92JxXioexUzFhT5cySn3TrjrC4WP3EsPHuPfZGJVZg4HCdt/wF0aT8LWUHT/jTpl4fZU3KNBSHytQ0D33uDR0qfjoqg3hmOpQU65d4u2cW4X6NCyJ1ZeIeKSFRC3p1q4kzYdmzr6Zk98p6rsj+rhi0KoFe5gIm53M/ypDhbNJQgC3kbTFUGSi+LiwmgsWyQ5zk9McESCZ8gEVHvF1kneWJI5CJT2SHWDbUQ0vNbEvqr4OClwCyZ+RzSQ+psomqOwUgOL5vL4BIdCi/aBvtJb3AdYsoirs0usnWfH1vbNOmPlFWHmWlve2DFB3t0nhvh0qm2wRRZuG+ksFyUlDe4qcbYRJ0H8v6NxSxVPNZcnPPJDIAlY8PWnXWVYqsPhZb3lDAfzW3T50xbmZ+MfyFhbRcr7yNj1EZ1gdb+O8DFvMKk7it4+ywYjY11k0s1po8KpmA4tITUmnHaWS5HBKJKr0aC5zXw6QJvgNzyhXDIZS3UgCN3UJq3fdLd188PKs3H8+Bjpvn2x/jv2TwnbsOezt3/YPavTss3TXXHzi4U3Vic/+H5gq+7rkLEkmgb5yWwVb3CnNiFAcD+aOtaGaMobmzrqLaoyIwlC11RkNB/JvPGCiGjQXJ43h8QCSRGzEqeG1Xmah77u48QCPdM7NBYrjSPveJg069i7H2UcjUpndWSZrZ3bFRfHlic8nL1TnezcM2Vyh0dLtsbnzdu8JHHW5qVt8G3Pj9qOT4RYluOE/UYllQZPCvFxMik1cbGRSKsbWwlKUPhxhDGxZJ25Ls28oX2X3k60HmZiqQqDTj+rqX8fB7lTC6xYT2569zA9Jb5m7xz8r3aB03uE9fpOFP7WYujZ/TPo22MSDOs1FT4ePBfG9ZvQsod/12kUJf190prli4YnJ6Mt2HOSMKICGLL/5su3Tn6wPxMYZE4lvMH/RAZP6NjaJGBsJSJIi3mrTg6d9bAYem05YSxS6WJgQdR2LFtnLk9oxFigRaKpq2aEuWMJDizu6UlQosltuo3FivU8zgyOkEhkRzz941u2CogDxyYhgMzDrWb4rMXN0Q36vN4TZr43XuTt0WyeoiR/MwqV509JqgzOSx+77zcw8nGM4UMx2r+5qYJpqpByHVztcc3E+QdFXJWx8dE78MgCDaZYldi5eIB/jwj577/+NB9VJ/GajmHj2nYZKpPZNW5aVJ9v2ULDwlaXdsvFYlvzpo1l9PD4yXUoKStAY3MgFjuAexNvcFA4C+32NgqY3HcofHFg18ioH1adRSHyjdBgCQJaQ/y2SFyzAIMKuSkp+1YAepIOGwZ1Bgo9UGu4gCK2z9ZfoEit3yMI1X8XxZwh+B2al2/7jOnfbsKqGaNeB7RYgmsAmvJi2LHkbwaC0baXyElKKpVe7f/JVlpsY4978Abp0PxsvqcSVVZfMGoud3Z44+HZ8vOeG2m3GWOkntNwK8CTgky4eiWJK9fqflUZJRe0jFirZmgvDSPu29or2PmdzhEgpkVC3/ziIpiRvL1ETUua74+NLed3aEnRg4IC3F2Edp6DNx/AmqxcXLMeFK0w3M8L1yxToTfCtCNZUKTRY8VMZv4TyC/VxFiM3OM7N0BudiaMW/g9VgBkto7QIWyYKDstaSEYGdo3dEQNY/n5/EbKJHBq2QPcOozBWk24K00UGgM3QuI2GisA5cVXIOdyYqHeKBo0cEDSaSwLLNu8TJ5968o6LQORI3oMETRPRycI9GrhkHH7Di/UjQpEvzYeQnlZKMQ0rB1Y/25+xO4M2Fl61/KcazTo4W5ONuRcOIUVEx3CI0Fqax8lljsO9w2tuTMuyksHVcHvwKHX2xIcU9aFsgmQEbR5MX50aztQYJzWu19NY3lmjp6pekIrxmbfvv6woLQQqwCBzZujn0SYqfbX5KkLGprVL51IXgMcW5VdgFgqh4DwkaR/WAxBi837Co5j4Hbmj3wucglL9cJy4ENKzRkVf5+q9Bqnpol9WKpDYuR0DfoKabcL8rGCotfBEQ0GLy41ewk81VyWIfYV3lNmXj2NNizVaNvtPfBBc2B1Hl07BKqi2xkkyf0HSxYg0D7eFn9G5rJ69EAYfXj4zgos1QtaYoq16G2qRCYWA0dw5oFqcb9cAyfvPG50ufq4FI/wdPg5t777+VKoNh1ZPzVbIAiWIwl69qm9G9Lad+kJFF5QKFosXCthjXrI/W0jsCw5G62+Tz0D5p8mU3sxrp7FWwClZKYcHWMawvKqvuf6PZh86HwBusW6VY0g/FzlEru0mHAsPB05mnN3X7sHKzNz+K91Df2o+VQIorDBVGz2lpPHvhobdvRy+v7ewT2HYrUmdy/tBU3po5Ren55MP7e+a6MP2F8aHLHXqr9ExO8Y46oQr08bFS6cflkD/1gT+wYLH1aeydGCSD8Q5ox5Ymo1YdUmgqTI2ZkpWziDToMVM0adCpRntrAERc/B0qvFImSsrWAsWdvYx/j1rkRtYNBGo+bbk9gnGKZ19Q0GgzgVlm4yJeQYq8ydsfb4eW158a6LaTuxYkaZuQN0mrLtb39y/KkL2V+Shdved7URrz9Wj7Fn7xfBuAOZuGbiTqkKRu09Y8HgtkFg5A3+qcpgq8zloUT0vItpyUZthXlq0amKQfnbTgNw5AIsvTos3o2SYGL10vAA0r8eY/mdV4nWgBUz26/eqWMwz7JeQeDrbIcM1idgyXpzp6xOyzHoVBuyUrdiBeD6ySQw6DVr+n9+XImlBmE5ggHOiGs8wleg0G7e8urEQwBNEuavywjpYY2BGse8oQ9QHjgM7bK0/ApfiWDslhOGEq1+NZZqwnH526/cOVbdYP7K13OelKcBY/O5ICKsNpeHFJMJ1zL2aVQlBaAqfgDKswdUKIFYhJutAqVqDznDI1xDdbRVFkkc6YzDQ9piqX448HNSmE+jitVq/mkU4OqzERd9sEJnGNJ/W7pgcGalsTp9FDLRdF5QGwJ0wNpEoAhOi0GGao0M8Fe+DkzpIEgYpMY9G2fuxMRj+axBvyrryEbITtsIjNGwcuDnvzzEzVahJ+gsVnURfTK/Vg6uYUDSNH8gVG/0Ltqy6E2FVNajjYf5WFNZ8AhQcvb88zxvsIEZzBvcV4hYYyQsiP4Jt9YPbyAycgcytM2qn4G/moz9qMpYnkaZK0CIv8y9cKQk72JqkYqAZVi1GmlAxXVGX3DdWHYGKwDurSLBxrb1yLRDo/ftTxkflpQyxW5lyhTJ97vm+azYNneWiCJ+HtxtICnCeTZ/wH0m9yaQHHNAEJ6X+ZGHeINLtLpIiIusP2JrwxspJyLyyzVL+WttY3kabe74xCNFBMd+xXDcl2MTfinBcqPggP5Kfe+bqimTomTwWkg8tPaNjLC3bX5CxtKljjqxViGzyfFrFfTFB/3GK3w9zTvd49eyobCsNGPvlCl1ziKeGWQwxI2sYWx2QamwsFWWcQfO4hbM9EgNLIiaK1zrofGRy8PQ34o1mmf+Hyz5/nub9Kprh4qVS4WzBR6SFEOLVv3hze7zYOiAFTDqveUQ03829O0yDJrYm8+Lr9+/AztOn1SxHPNy/xoqklxEi9qAo7kPq0rGvcIBaOIah3s0yDOZO/rro6rIxDP1Pi1rIBKABb3tiIqCw0fzL38GmvKbuMUyOoMODmf9Ct8d3l3CsfpByR9Pu4KbXg5zhjxBUZlSp8yPPoF7NIhwWG5jb5/h16kbltBrShLw+K4SCvOVCYt2no7HslWg7e9iW5fWcxVNvIGmGVMRGYEoO4zmykLhsBx3heTk4VSgW+lENSObQ8n9POSOHUEi90L97dHOlQKtXg9FFSVwu+A+XLmbx5Tp2F1qhvr7d7Ezb+MhBPjD8tdbNA+SSGSgYwmUGpFwo7AczuYX/an/iEdM6B3qKqbZAbguIKJQEZEosYSLi3efzsKyVZxd3/V1Cc0FisQMGsMAUqkBXfXoqgXChjlgF/LAfCiLOXfuQ5G2tDRcY5CGaRhxO41R4qJlRJSaEZVrjOLbapY6Z9BASkJswn18Sw2CVqx/t5ghncoZElQsBTqm8u+X3A0UaRm48gcD8D/XZskfp8IFSwAAAABJRU5ErkJggg==)}.msp-plugin .msp-plugin-content{color:#333}\n',""]),t.exports=e},function(t,e,n){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=function(t,e){var n=t[1]||"",r=t[3];if(!r)return n;if(e&&"function"==typeof btoa){var i=(a=r,u=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),s="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(u),"/*# ".concat(s," */")),o=r.sources.map((function(t){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(t," */")}));return[n].concat(o).concat([i]).join("\n")}var a,u,s;return[n].join("\n")}(e,t);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,r){"string"==typeof t&&(t=[[null,t,""]]);var i={};if(r)for(var o=0;o<this.length;o++){var a=this[o][0];null!=a&&(i[a]=!0)}for(var u=0;u<t.length;u++){var s=[].concat(t[u]);r&&i[s[0]]||(n&&(s[2]?s[2]="".concat(n," and ").concat(s[2]):s[2]=n),e.push(s))}},e}},function(t,e,n){var r,i,o={},a=(r=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===i&&(i=r.apply(this,arguments)),i}),u=function(t,e){return e?e.querySelector(t):document.querySelector(t)},s=function(t){var e={};return function(t,n){if("function"==typeof t)return t();if(void 0===e[t]){var r=u.call(this,t,n);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(t){r=null}e[t]=r}return e[t]}}(),c=null,l=0,d=[],f=n(23);function p(t,e){for(var n=0;n<t.length;n++){var r=t[n],i=o[r.id];if(i){i.refs++;for(var a=0;a<i.parts.length;a++)i.parts[a](r.parts[a]);for(;a<r.parts.length;a++)i.parts.push(_(r.parts[a],e))}else{var u=[];for(a=0;a<r.parts.length;a++)u.push(_(r.parts[a],e));o[r.id]={id:r.id,refs:1,parts:u}}}}function m(t,e){for(var n=[],r={},i=0;i<t.length;i++){var o=t[i],a=e.base?o[0]+e.base:o[0],u={css:o[1],media:o[2],sourceMap:o[3]};r[a]?r[a].parts.push(u):n.push(r[a]={id:a,parts:[u]})}return n}function h(t,e){var n=s(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=d[d.length-1];if("top"===t.insertAt)r?r.nextSibling?n.insertBefore(e,r.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),d.push(e);else if("bottom"===t.insertAt)n.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var i=s(t.insertAt.before,n);n.insertBefore(e,i)}}function g(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=d.indexOf(t);e>=0&&d.splice(e,1)}function v(t){var e=document.createElement("style");if(void 0===t.attrs.type&&(t.attrs.type="text/css"),void 0===t.attrs.nonce){var r=function(){0;return n.nc}();r&&(t.attrs.nonce=r)}return y(e,t.attrs),h(t,e),e}function y(t,e){Object.keys(e).forEach((function(n){t.setAttribute(n,e[n])}))}function _(t,e){var n,r,i,o;if(e.transform&&t.css){if(!(o="function"==typeof e.transform?e.transform(t.css):e.transform.default(t.css)))return function(){};t.css=o}if(e.singleton){var a=l++;n=c||(c=v(e)),r=A.bind(null,n,a,!1),i=A.bind(null,n,a,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(t){var e=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",y(e,t.attrs),h(t,e),e}(e),r=S.bind(null,n,e),i=function(){g(n),n.href&&URL.revokeObjectURL(n.href)}):(n=v(e),r=w.bind(null,n),i=function(){g(n)});return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else i()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=a()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var n=m(t,e);return p(n,e),function(t){for(var r=[],i=0;i<n.length;i++){var a=n[i];(u=o[a.id]).refs--,r.push(u)}t&&p(m(t,e),e);for(i=0;i<r.length;i++){var u;if(0===(u=r[i]).refs){for(var s=0;s<u.parts.length;s++)u.parts[s]();delete o[u.id]}}}};var b,x=(b=[],function(t,e){return b[t]=e,b.filter(Boolean).join("\n")});function A(t,e,n,r){var i=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=x(e,i);else{var o=document.createTextNode(i),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(o,a[e]):t.appendChild(o)}}function w(t,e){var n=e.css,r=e.media;if(r&&t.setAttribute("media",r),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}function S(t,e,n){var r=n.css,i=n.sourceMap,o=void 0===e.convertToAbsoluteUrls&&i;(e.convertToAbsoluteUrls||o)&&(r=f(r)),i&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var a=new Blob([r],{type:"text/css"}),u=t.href;t.href=URL.createObjectURL(a),u&&URL.revokeObjectURL(u)}},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=e.protocol+"//"+e.host,r=n+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(t,e){var i,o=e.trim().replace(/^"(.*)"$/,(function(t,e){return e})).replace(/^'(.*)'$/,(function(t,e){return e}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(o)?t:(i=0===o.indexOf("//")?o:0===o.indexOf("/")?n+o:r+o.replace(/^\.\//,""),"url("+JSON.stringify(i)+")")}))}},function(t,e,n){"use strict";n.r(e);var r={};n.r(r),n.d(r,"getArrayBounds",(function(){return bt})),n.d(r,"createArray",(function(){return xt})),n.d(r,"fillArrayValues",(function(){return At})),n.d(r,"createAndFillArray",(function(){return wt})),n.d(r,"isTypedArray",(function(){return St})),n.d(r,"typedArrayWindow",(function(){return Ct}));var i={};n.r(i),n.d(i,"defaultBondTest",(function(){return Js})),n.d(i,"atomicSequence",(function(){return $s})),n.d(i,"water",(function(){return tc})),n.d(i,"atomicHet",(function(){return ec})),n.d(i,"spheres",(function(){return nc})),n.d(i,"bundleElementImpl",(function(){return rc})),n.d(i,"bundleGenerator",(function(){return ic}));var o={};n.r(o),n.d(o,"none",(function(){return lc})),n.d(o,"all",(function(){return dc})),n.d(o,"residues",(function(){return fc})),n.d(o,"chains",(function(){return pc})),n.d(o,"atoms",(function(){return gc})),n.d(o,"rings",(function(){return yc})),n.d(o,"querySelection",(function(){return _c})),n.d(o,"bondedAtomicPairs",(function(){return bc}));var a={};n.r(a),n.d(a,"wholeResidues",(function(){return cf})),n.d(a,"includeSurroundings",(function(){return mf})),n.d(a,"querySelection",(function(){return hf})),n.d(a,"intersectBy",(function(){return gf})),n.d(a,"exceptBy",(function(){return vf})),n.d(a,"union",(function(){return yf})),n.d(a,"expandProperty",(function(){return _f})),n.d(a,"includeConnected",(function(){return bf})),n.d(a,"surroundingLigands",(function(){return Af}));var u={};n.r(u),n.d(u,"pick",(function(){return Ef})),n.d(u,"first",(function(){return Mf})),n.d(u,"getCurrentStructureProperties",(function(){return kf})),n.d(u,"withSameAtomProperties",(function(){return Df})),n.d(u,"areIntersectedBy",(function(){return Of})),n.d(u,"within",(function(){return Nf})),n.d(u,"isConnectedTo",(function(){return Tf}));var s={};n.r(s),n.d(s,"merge",(function(){return Uf})),n.d(s,"intersect",(function(){return Rf}));var c={};n.r(c),n.d(c,"atomCount",(function(){return Lf})),n.d(c,"countQuery",(function(){return Gf})),n.d(c,"propertySet",(function(){return qf}));var l={};n.r(l),n.d(l,"Location",(function(){return ci})),n.d(l,"Loci",(function(){return vp})),n.d(l,"Bundle",(function(){return Ys})),n.d(l,"Stats",(function(){return pp})),n.d(l,"property",(function(){return yp})),n.d(l,"atomicProperty",(function(){return bp})),n.d(l,"coarseProperty",(function(){return xp})),n.d(l,"residueIndex",(function(){return Ap})),n.d(l,"chainIndex",(function(){return wp})),n.d(l,"entityIndex",(function(){return Sp}));var d=n(10),f=n.n(d),p=n(4),m=n.n(p),h=1e-6;function g(t,e,n){return Math.abs(t-e)<=n}function v(t,e,n){return Math.max(e,Math.min(n,t))}function y(t,e,n){return t+(e-t)*n}function _(t,e,n,r,i,o){var a=(n-t)*o,u=(r-e)*o,s=i*i;return(2*e-2*n+a+u)*(i*s)+(-3*e+3*n-2*a-u)*s+a*i+e}function b(t,e,n,r){var i=1-r;return i*i*t+2*i*r*e+r*r*n}var x=isFinite;function A(){return A.zero()}!function(t){function e(){var t=[.1,0,0];return t[0]=0,t}function n(t,n,r){var i=e();return i[0]=t,i[1]=n,i[2]=r,i}function r(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function i(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t}function o(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}function a(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t}function u(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t}function s(t){var e=t[0],n=t[1],r=t[2];return e*e+n*n+r*r}function c(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}function l(t,e){var n=e[0],r=e[1],i=e[2],o=n*n+r*r+i*i;return o>0&&(o=1/Math.sqrt(o),t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o),t}function d(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function f(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[0],u=n[1],s=n[2];return t[0]=i*s-o*u,t[1]=o*a-r*s,t[2]=r*u-i*a,t}t.zero=e,t.clone=function(t){var n=e();return n[0]=t[0],n[1]=t[1],n[2]=t[2],n},t.isFinite=function(t){return x(t[0])&&x(t[1])&&x(t[2])},t.hasNaN=function(t){return isNaN(t[0])||isNaN(t[1])||isNaN(t[2])},t.setNaN=function(t){return t[0]=NaN,t[1]=NaN,t[2]=NaN,t},t.fromObj=function(t){return n(t.x,t.y,t.z)},t.toObj=function(t){return{x:t[0],y:t[1],z:t[2]}},t.fromArray=function(t,e,n){return t[0]=e[n+0],t[1]=e[n+1],t[2]=e[n+2],t},t.toArray=function(t,e,n){return e[n+0]=t[0],e[n+1]=t[1],e[n+2]=t[2],e},t.create=n,t.ofArray=function(t){var n=e();return n[0]=t[0],n[1]=t[1],n[2]=t[2],n},t.set=function(t,e,n,r){return t[0]=e,t[1]=n,t[2]=r,t},t.copy=r,t.add=i,t.sub=o,t.mul=function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t},t.div=function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t},t.scale=a,t.scaleAndAdd=u,t.scaleAndSub=function(t,e,n,r){return t[0]=e[0]-n[0]*r,t[1]=e[1]-n[1]*r,t[2]=e[2]-n[2]*r,t},t.addScalar=function(t,e,n){return t[0]=e[0]+n,t[1]=e[1]+n,t[2]=e[2]+n,t},t.subScalar=function(t,e,n){return t[0]=e[0]-n,t[1]=e[1]-n,t[2]=e[2]-n,t},t.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t},t.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t},t.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t},t.trunc=function(t,e){return t[0]=Math.trunc(e[0]),t[1]=Math.trunc(e[1]),t[2]=Math.trunc(e[2]),t},t.abs=function(t,e){return t[0]=Math.abs(e[0]),t[1]=Math.abs(e[1]),t[2]=Math.abs(e[2]),t},t.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t},t.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t},t.clamp=function(t,e,n,r){return t[0]=Math.max(n[0],Math.min(r[0],e[0])),t[1]=Math.max(n[1],Math.min(r[1],e[1])),t[2]=Math.max(n[2],Math.min(r[2],e[2])),t},t.distance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return Math.sqrt(n*n+r*r+i*i)},t.squaredDistance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return n*n+r*r+i*i},t.magnitude=function(t){var e=t[0],n=t[1],r=t[2];return Math.sqrt(e*e+n*n+r*r)},t.squaredMagnitude=s,t.setMagnitude=function(t,e,n){return a(t,l(t,e),n)},t.negate=c,t.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t},t.normalize=l,t.dot=d,t.cross=f,t.lerp=function(t,e,n,r){var i=e[0],o=e[1],a=e[2];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t[2]=a+r*(n[2]-a),t};var p=e();function m(t,e){var n=Math.sqrt(s(t)*s(e));if(0===n)return Math.PI/2;var r=d(t,e)/n;return Math.acos(v(r,-1,1))}t.slerp=function(t,e,n,r){var o=v(d(e,n),-1,1),s=Math.acos(o)*r;return u(p,n,e,-o),l(p,p),i(t,a(t,e,Math.cos(s)),a(p,p,Math.sin(s)))},t.hermite=function(t,e,n,r,i,o){var a=o*o,u=a*(2*o-3)+1,s=a*(o-2)+o,c=a*(o-1),l=a*(3-2*o);return t[0]=e[0]*u+n[0]*s+r[0]*c+i[0]*l,t[1]=e[1]*u+n[1]*s+r[1]*c+i[1]*l,t[2]=e[2]*u+n[2]*s+r[2]*c+i[2]*l,t},t.bezier=function(t,e,n,r,i,o){var a=1-o,u=a*a,s=o*o,c=u*a,l=3*o*u,d=3*s*a,f=s*o;return t[0]=e[0]*c+n[0]*l+r[0]*d+i[0]*f,t[1]=e[1]*c+n[1]*l+r[1]*d+i[1]*f,t[2]=e[2]*c+n[2]*l+r[2]*d+i[2]*f,t},t.quadraticBezier=function(t,e,n,r,i){return t[0]=b(e[0],n[0],r[0],i),t[1]=b(e[1],n[1],r[1],i),t[2]=b(e[2],n[2],r[2],i),t},t.spline=function(t,e,n,r,i,o,a){return t[0]=_(e[0],n[0],r[0],i[0],o,a),t[1]=_(e[1],n[1],r[1],i[1],o,a),t[2]=_(e[2],n[2],r[2],i[2],o,a),t},t.random=function(t,e){var n=2*Math.random()*Math.PI,r=2*Math.random()-1,i=Math.sqrt(1-r*r)*e;return t[0]=Math.cos(n)*i,t[1]=Math.sin(n)*i,t[2]=r*e,t},t.transformMat4=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=1/(n[3]*r+n[7]*i+n[11]*o+n[15]||1);return t[0]=(n[0]*r+n[4]*i+n[8]*o+n[12])*a,t[1]=(n[1]*r+n[5]*i+n[9]*o+n[13])*a,t[2]=(n[2]*r+n[6]*i+n[10]*o+n[14])*a,t},t.transformDirection=function(t,e,n){var r=e[0],i=e[1],o=e[2];return t[0]=n[0]*r+n[4]*i+n[8]*o,t[1]=n[1]*r+n[5]*i+n[9]*o,t[2]=n[2]*r+n[6]*i+n[10]*o,l(t,t)},t.transformMat4Offset=function(t,e,n,r,i,o){var a=e[0+i],u=e[1+i],s=e[2+i],c=1/(n[3+o]*a+n[7+o]*u+n[11+o]*s+n[15+o]||1);return t[0+r]=(n[0+o]*a+n[4+o]*u+n[8+o]*s+n[12+o])*c,t[1+r]=(n[1+o]*a+n[5+o]*u+n[9+o]*s+n[13+o])*c,t[2+r]=(n[2+o]*a+n[6+o]*u+n[10+o]*s+n[14+o])*c,t},t.transformMat3=function(t,e,n){var r=e[0],i=e[1],o=e[2];return t[0]=r*n[0]+i*n[3]+o*n[6],t[1]=r*n[1]+i*n[4]+o*n[7],t[2]=r*n[2]+i*n[5]+o*n[8],t},t.transformQuat=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[0],u=n[1],s=n[2],c=n[3],l=c*r+u*o-s*i,d=c*i+s*r-a*o,f=c*o+a*i-u*r,p=-a*r-u*i-s*o;return t[0]=l*c+p*-a+d*-s-f*-u,t[1]=d*c+p*-u+f*-a-l*-s,t[2]=f*c+p*-s+l*-u-d*-a,t},t.angle=m;var g=e(),y=e(),A=e(),w=e(),S=e(),C=e(),B=e();t.dihedralAngle=function(t,e,n,r){o(g,t,e),o(y,n,e),o(A,e,n),o(w,r,n),f(S,g,y),f(C,A,w);var i=m(S,C);return f(B,S,C),d(y,B)>0?i:-i},t.directionFromSpherical=function(e,n,r,i){return t.set(e,i*Math.cos(r)*Math.sin(n),i*Math.sin(r)*Math.sin(n),i*Math.cos(n))},t.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]},t.equals=function(t,e){var n=t[0],r=t[1],i=t[2],o=e[0],a=e[1],u=e[2];return Math.abs(n-o)<=h*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(r-a)<=h*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(i-u)<=h*Math.max(1,Math.abs(i),Math.abs(u))};var P=e();t.makeRotation=function(e,n,r){var i=m(n,r);if(Math.abs(i)<1e-4)return I.setIdentity(e);if(Math.abs(i-Math.PI)<h)return I.fromScaling(e,t.negUnit);var o=f(P,n,r);return I.fromRotation(e,i,o)},t.isZero=function(t){return 0===t[0]&&0===t[1]&&0===t[2]},t.projectPointOnVector=function(t,e,n,r){return o(t,e,r),i(t,a(t,n,d(n,t)/s(n)),r)};var E=e();function M(t,e,n){return a(t,n,d(n,e)/s(n))}t.projectPointOnPlane=function(t,e,n,r){return l(E,n),o(t,e,r),o(t,e,a(E,E,d(t,E)))},t.projectOnVector=M;var k=e();t.projectOnPlane=function(t,e,n){return M(k,e,n),o(t,e,k)},t.orthogonalize=function(t,e,n){return l(t,f(t,f(t,e,n),e))},t.matchDirection=function(t,e,n){return d(e,n)>0?r(t,e):c(t,r(t,e)),t};var D=e(),O=e();t.triangleNormal=function(t,e,n,r){return o(D,n,e),o(O,r,e),l(t,f(t,D,O))},t.toString=function(t,e){return"[".concat(t[0].toPrecision(e)," ").concat(t[1].toPrecision(e)," ").concat(t[2].toPrecision(e),"]")},t.origin=n(0,0,0),t.unit=n(1,1,1),t.negUnit=n(-1,-1,-1),t.unitX=n(1,0,0),t.unitY=n(0,1,0),t.unitZ=n(0,0,1),t.negUnitX=n(-1,0,0),t.negUnitY=n(0,-1,0),t.negUnitZ=n(0,0,-1)}(A||(A={}));Math.PI;var w,S=Math.PI/180;function C(t){return t*S}function B(t){return t/S}function I(){return I.zero()}function P(){return P.zero()}function E(){return E.zero()}function M(){return M.zero()}function k(t){throw new Error("unreachable")}function D(){return D.zero()}!function(t){function e(){var t=[.1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];return t[0]=0,t}function n(){var t=e();return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function r(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function i(t){for(var e=0;e<16;e++)t[e]=0;return t}t.zero=e,t.identity=n,t.setIdentity=r,t.setZero=i,t.ofRows=function(t){for(var n=e(),r=0;r<4;r++)for(var i=t[r],o=0;o<4;o++)n[4*o+r]=i[o];return n};var o=n();function a(t,e,n){for(var r=0;r<16;r++)if(Math.abs(t[r]-e[r])>n)return!1;return!0}function u(t,e,n,r){t[4*n+e]=r}function s(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function c(t,e){var n=e[0]+e[5]+e[10],r=0;return n>0?(r=2*Math.sqrt(n+1),t[3]=.25*r,t[0]=(e[6]-e[9])/r,t[1]=(e[8]-e[2])/r,t[2]=(e[1]-e[4])/r):e[0]>e[5]&&e[0]>e[10]?(r=2*Math.sqrt(1+e[0]-e[5]-e[10]),t[3]=(e[6]-e[9])/r,t[0]=.25*r,t[1]=(e[1]+e[4])/r,t[2]=(e[8]+e[2])/r):e[5]>e[10]?(r=2*Math.sqrt(1+e[5]-e[0]-e[10]),t[3]=(e[8]-e[2])/r,t[0]=(e[1]+e[4])/r,t[1]=.25*r,t[2]=(e[6]+e[9])/r):(r=2*Math.sqrt(1+e[10]-e[0]-e[5]),t[3]=(e[1]-e[4])/r,t[0]=(e[8]+e[2])/r,t[1]=(e[6]+e[9])/r,t[2]=.25*r),t}function l(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],u=e[5],s=e[6],c=e[7],l=e[8],d=e[9],f=e[10],p=e[11],m=e[12],h=e[13],g=e[14],v=e[15],y=n*u-r*a,_=n*s-i*a,b=n*c-o*a,x=r*s-i*u,A=r*c-o*u,w=i*c-o*s,S=l*h-d*m,C=l*g-f*m,B=l*v-p*m,I=d*g-f*h,P=d*v-p*h,E=f*v-p*g,M=y*E-_*P+b*I+x*B-A*C+w*S;return!!M&&(M=1/M,t[0]=(u*E-s*P+c*I)*M,t[1]=(i*P-r*E-o*I)*M,t[2]=(h*w-g*A+v*x)*M,t[3]=(f*A-d*w-p*x)*M,t[4]=(s*B-a*E-c*C)*M,t[5]=(n*E-i*B+o*C)*M,t[6]=(g*b-m*w-v*_)*M,t[7]=(l*w-f*b+p*_)*M,t[8]=(a*P-u*B+c*S)*M,t[9]=(r*B-n*P-o*S)*M,t[10]=(m*A-h*b+v*y)*M,t[11]=(d*b-l*A-p*y)*M,t[12]=(u*C-a*I-s*S)*M,t[13]=(n*I-r*C+i*S)*M,t[14]=(h*_-m*x-g*y)*M,t[15]=(l*x-d*_+f*y)*M,!0)}function d(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],u=e[4],s=e[5],c=e[6],l=e[7],d=e[8],f=e[9],p=e[10],m=e[11],h=e[12],g=e[13],v=e[14],y=e[15],_=n[0],b=n[1],x=n[2],A=n[3];return t[0]=_*r+b*u+x*d+A*h,t[1]=_*i+b*s+x*f+A*g,t[2]=_*o+b*c+x*p+A*v,t[3]=_*a+b*l+x*m+A*y,_=n[4],b=n[5],x=n[6],A=n[7],t[4]=_*r+b*u+x*d+A*h,t[5]=_*i+b*s+x*f+A*g,t[6]=_*o+b*c+x*p+A*v,t[7]=_*a+b*l+x*m+A*y,_=n[8],b=n[9],x=n[10],A=n[11],t[8]=_*r+b*u+x*d+A*h,t[9]=_*i+b*s+x*f+A*g,t[10]=_*o+b*c+x*p+A*v,t[11]=_*a+b*l+x*m+A*y,_=n[12],b=n[13],x=n[14],A=n[15],t[12]=_*r+b*u+x*d+A*h,t[13]=_*i+b*s+x*f+A*g,t[14]=_*o+b*c+x*p+A*v,t[15]=_*a+b*l+x*m+A*y,t}function f(t,e,n){var i=n[0],o=n[1],a=n[2],u=Math.sqrt(i*i+o*o+a*a);if(Math.abs(u)<h)return r(t);i*=u=1/u,o*=u,a*=u;var s=Math.sin(e),c=Math.cos(e),l=1-c;return t[0]=i*i*l+c,t[1]=o*i*l+a*s,t[2]=a*i*l-o*s,t[3]=0,t[4]=i*o*l-a*s,t[5]=o*o*l+c,t[6]=a*o*l+i*s,t[7]=0,t[8]=i*a*l+o*s,t[9]=o*a*l-i*s,t[10]=a*a*l+c,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}t.isIdentity=function(t,e){return a(t,o,void 0===e?h:e)},t.hasNaN=function(t){for(var e=0;e<16;e++)if(isNaN(t[e]))return!0;return!1},t.areEqual=a,t.setValue=u,t.getValue=function(t,e,n){return t[4*n+e]},t.toArray=function(t,e,n){return e[n+0]=t[0],e[n+1]=t[1],e[n+2]=t[2],e[n+3]=t[3],e[n+4]=t[4],e[n+5]=t[5],e[n+6]=t[6],e[n+7]=t[7],e[n+8]=t[8],e[n+9]=t[9],e[n+10]=t[10],e[n+11]=t[11],e[n+12]=t[12],e[n+13]=t[13],e[n+14]=t[14],e[n+15]=t[15],e},t.fromArray=function(t,e,n){return t[0]=e[n+0],t[1]=e[n+1],t[2]=e[n+2],t[3]=e[n+3],t[4]=e[n+4],t[5]=e[n+5],t[6]=e[n+6],t[7]=e[n+7],t[8]=e[n+8],t[9]=e[n+9],t[10]=e[n+10],t[11]=e[n+11],t[12]=e[n+12],t[13]=e[n+13],t[14]=e[n+14],t[15]=e[n+15],t},t.fromBasis=function(t,e,n,r){return i(t),u(t,0,0,e[0]),u(t,1,0,e[1]),u(t,2,0,e[2]),u(t,0,1,n[0]),u(t,1,1,n[1]),u(t,2,1,n[2]),u(t,0,2,r[0]),u(t,1,2,r[1]),u(t,2,2,r[2]),u(t,3,3,1),t},t.copy=s,t.clone=function(t){return s(e(),t)},t.getTranslation=function(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t},t.getScaling=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[4],a=e[5],u=e[6],s=e[8],c=e[9],l=e[10];return t[0]=Math.sqrt(n*n+r*r+i*i),t[1]=Math.sqrt(o*o+a*a+u*u),t[2]=Math.sqrt(s*s+c*c+l*l),t},t.getRotation=c,t.extractRotation=function(t,e){var n=1/Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]),r=1/Math.sqrt(e[4]*e[4]+e[5]*e[5]+e[6]*e[6]),i=1/Math.sqrt(e[8]*e[8]+e[9]*e[9]+e[10]*e[10]);return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=0,t[4]=e[4]*r,t[5]=e[5]*r,t[6]=e[6]*r,t[7]=0,t[8]=e[8]*i,t[9]=e[9]*i,t[10]=e[10]*i,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},t.transpose=function(t,e){if(t===e){var n=e[1],r=e[2],i=e[3],o=e[6],a=e[7],u=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=o,t[11]=e[14],t[12]=i,t[13]=a,t[14]=u}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t},t.tryInvert=l,t.invert=function(t,e){return l(t,e)||console.warn("non-invertible matrix.",e),t},t.mul=d,t.mulOffset=function(t,e,n,r,i,o){var a=e[0+i],u=e[1+i],s=e[2+i],c=e[3+i],l=e[4+i],d=e[5+i],f=e[6+i],p=e[7+i],m=e[8+i],h=e[9+i],g=e[10+i],v=e[11+i],y=e[12+i],_=e[13+i],b=e[14+i],x=e[15+i],A=n[0+o],w=n[1+o],S=n[2+o],C=n[3+o];return t[0+r]=A*a+w*l+S*m+C*y,t[1+r]=A*u+w*d+S*h+C*_,t[2+r]=A*s+w*f+S*g+C*b,t[3+r]=A*c+w*p+S*v+C*x,A=n[4+o],w=n[5+o],S=n[6+o],C=n[7+o],t[4+r]=A*a+w*l+S*m+C*y,t[5+r]=A*u+w*d+S*h+C*_,t[6+r]=A*s+w*f+S*g+C*b,t[7+r]=A*c+w*p+S*v+C*x,A=n[8+o],w=n[9+o],S=n[10+o],C=n[11+o],t[8+r]=A*a+w*l+S*m+C*y,t[9+r]=A*u+w*d+S*h+C*_,t[10+r]=A*s+w*f+S*g+C*b,t[11+r]=A*c+w*p+S*v+C*x,A=n[12+o],w=n[13+o],S=n[14+o],C=n[15+o],t[12+r]=A*a+w*l+S*m+C*y,t[13+r]=A*u+w*d+S*h+C*_,t[14+r]=A*s+w*f+S*g+C*b,t[15+r]=A*c+w*p+S*v+C*x,t},t.mul3=function(t,e,n,r){return d(t,d(t,e,n),r)},t.translate=function(t,e,n){var r,i,o,a,u,s,c,l,d,f,p,m,h=n[0],g=n[1],v=n[2];return e===t?(t[12]=e[0]*h+e[4]*g+e[8]*v+e[12],t[13]=e[1]*h+e[5]*g+e[9]*v+e[13],t[14]=e[2]*h+e[6]*g+e[10]*v+e[14],t[15]=e[3]*h+e[7]*g+e[11]*v+e[15]):(r=e[0],i=e[1],o=e[2],a=e[3],u=e[4],s=e[5],c=e[6],l=e[7],d=e[8],f=e[9],p=e[10],m=e[11],t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=u,t[5]=s,t[6]=c,t[7]=l,t[8]=d,t[9]=f,t[10]=p,t[11]=m,t[12]=r*h+u*g+d*v+e[12],t[13]=i*h+s*g+f*v+e[13],t[14]=o*h+c*g+p*v+e[14],t[15]=a*h+l*g+m*v+e[15]),t},t.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t},t.setTranslation=function(t,e){return t[12]=e[0],t[13]=e[1],t[14]=e[2],t},t.setAxes=function(t,e,n,r){return t[0]=n[0],t[4]=n[1],t[8]=n[2],t[1]=r[0],t[5]=r[1],t[9]=r[2],t[2]=e[0],t[6]=e[1],t[10]=e[2],t},t.rotate=function(t,e,r,i){var o=i[0],a=i[1],u=i[2],s=Math.sqrt(o*o+a*a+u*u);if(Math.abs(s)<h)return n();o*=s=1/s,a*=s,u*=s;var c=Math.sin(r),l=Math.cos(r),d=1-l,f=e[0],p=e[1],m=e[2],g=e[3],v=e[4],y=e[5],_=e[6],b=e[7],x=e[8],A=e[9],w=e[10],S=e[11],C=o*o*d+l,B=a*o*d+u*c,I=u*o*d-a*c,P=o*a*d-u*c,E=a*a*d+l,M=u*a*d+o*c,k=o*u*d+a*c,D=a*u*d-o*c,O=u*u*d+l;return t[0]=f*C+v*B+x*I,t[1]=p*C+y*B+A*I,t[2]=m*C+_*B+w*I,t[3]=g*C+b*B+S*I,t[4]=f*P+v*E+x*M,t[5]=p*P+y*E+A*M,t[6]=m*P+_*E+w*M,t[7]=g*P+b*E+S*M,t[8]=f*k+v*D+x*O,t[9]=p*k+y*D+A*O,t[10]=m*k+_*D+w*O,t[11]=g*k+b*D+S*O,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t},t.fromRotation=f,t.scale=function(t,e,n){var r=n[0],i=n[1],o=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},t.scaleUniformly=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t[9]=e[9]*n,t[10]=e[10]*n,t[11]=e[11]*n,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},t.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},t.fromUniformScaling=function(t,e){return t[0]=e,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},t.fromMat3=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[4]=e[3],t[5]=e[4],t[6]=e[5],t[8]=e[6],t[9]=e[7],t[10]=e[8],t},t.compose=function(t,e,n,r){var i=n[0],o=n[1],a=n[2],u=n[3],s=i+i,c=o+o,l=a+a,d=i*s,f=i*c,p=i*l,m=o*c,h=o*l,g=a*l,v=u*s,y=u*c,_=u*l,b=r[0],x=r[1],A=r[2];return t[0]=(1-(m+g))*b,t[1]=(f+_)*b,t[2]=(p-y)*b,t[3]=0,t[4]=(f-_)*x,t[5]=(1-(d+g))*x,t[6]=(h+v)*x,t[7]=0,t[8]=(p+y)*A,t[9]=(h-v)*A,t[10]=(1-(d+m))*A,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t};var p=[0,0,0],m=e();function v(t){var e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],u=t[6],s=t[7],c=t[8],l=t[9],d=t[10],f=t[11],p=t[12],m=t[13],h=t[14],g=t[15];return(e*a-n*o)*(d*g-f*h)-(e*u-r*o)*(l*g-f*m)+(e*s-i*o)*(l*h-d*m)+(n*u-r*a)*(c*g-f*p)-(n*s-i*a)*(c*h-d*p)+(r*s-i*u)*(c*m-l*p)}t.decompose=function(t,e,n,r){var i=A.magnitude(A.set(p,t[0],t[1],t[2])),o=A.magnitude(A.set(p,t[4],t[5],t[6])),a=A.magnitude(A.set(p,t[8],t[9],t[10]));v(t)<0&&(i=-i),e[0]=t[12],e[1]=t[13],e[2]=t[14],s(m,t);var u=1/i,l=1/o,d=1/a;return m[0]*=u,m[1]*=u,m[2]*=u,m[4]*=l,m[5]*=l,m[6]*=l,m[8]*=d,m[9]*=d,m[10]*=d,c(n,m),r[0]=i,r[1]=o,r[2]=a,t},t.makeTable=function(t){for(var e="",n=0;n<4;n++){for(var r=0;r<4;r++)e+=t[4*r+n].toString(),r<3&&(e+=" ");n<3&&(e+="\n")}return e},t.determinant=v,t.isRotationAndTranslation=function(t,e){return function(t,e){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],u=t[5],s=t[6],c=t[7],l=t[8],d=t[9],f=t[10],p=t[11];if(!(g(t[15],1,e)&&g(o,0,e)&&g(c,0,e)&&g(p,0,e)))return!1;if(!g(Math.abs(n*(u*f-s*d)-r*(a*f-s*l)+i*(a*d-u*l)),1,e))return!1;return!0}(t,void 0!==e?e:h)},t.isTranslationAndUniformScaling=function(t,e){return function(t,e){var n=t[0];return g(t[1],0,e)&&g(t[2],0,e)&&g(t[3],0,e)&&g(t[4],0,e)&&g(t[5],n,e)&&g(t[6],0,e)&&g(t[7],0,e)&&g(t[8],0,e)&&g(t[9],0,e)&&g(t[10],n,e)&&g(t[11],0,e)&&g(t[15],1,e)}(t,void 0!==e?e:h)},t.fromQuat=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n+n,u=r+r,s=i+i,c=n*a,l=r*a,d=r*u,f=i*a,p=i*u,m=i*s,h=o*a,g=o*u,v=o*s;return t[0]=1-d-m,t[1]=l+v,t[2]=f-g,t[3]=0,t[4]=l-v,t[5]=1-c-m,t[6]=p+h,t[7]=0,t[8]=f+g,t[9]=p-h,t[10]=1-c-d,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},t.fromEuler=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=Math.cos(r),u=Math.sin(r),s=Math.cos(i),c=Math.sin(i),l=Math.cos(o),d=Math.sin(o);if("XYZ"===n){var f=a*l,p=a*d,m=u*l,h=u*d;t[0]=s*l,t[4]=-s*d,t[8]=c,t[1]=p+m*c,t[5]=f-h*c,t[9]=-u*s,t[2]=h-f*c,t[6]=m+p*c,t[10]=a*s}else if("YXZ"===n){var g=s*l,v=s*d,y=c*l,_=c*d;t[0]=g+_*u,t[4]=y*u-v,t[8]=a*c,t[1]=a*d,t[5]=a*l,t[9]=-u,t[2]=v*u-y,t[6]=_+g*u,t[10]=a*s}else if("ZXY"===n){g=s*l,v=s*d,y=c*l,_=c*d;t[0]=g-_*u,t[4]=-a*d,t[8]=y+v*u,t[1]=v+y*u,t[5]=a*l,t[9]=_-g*u,t[2]=-a*c,t[6]=u,t[10]=a*s}else if("ZYX"===n){f=a*l,p=a*d,m=u*l,h=u*d;t[0]=s*l,t[4]=m*c-p,t[8]=f*c+h,t[1]=s*d,t[5]=h*c+f,t[9]=p*c-m,t[2]=-c,t[6]=u*s,t[10]=a*s}else if("YZX"===n){var b=a*s,x=a*c,A=u*s,w=u*c;t[0]=s*l,t[4]=w-b*d,t[8]=A*d+x,t[1]=d,t[5]=a*l,t[9]=-u*l,t[2]=-c*l,t[6]=x*d+A,t[10]=b-w*d}else if("XZY"===n){b=a*s,x=a*c,A=u*s,w=u*c;t[0]=s*l,t[4]=-d,t[8]=c*l,t[1]=b*d+w,t[5]=a*l,t[9]=x*d-A,t[2]=A*d-x,t[6]=u*l,t[10]=w*d+b}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},t.perspective=function(t,e,n,r,i,o,a){var u=2*o/(n-e),s=2*o/(r-i),c=(n+e)/(n-e),l=(r+i)/(r-i),d=-(a+o)/(a-o),f=-2*a*o/(a-o);return t[0]=u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=s,t[6]=0,t[7]=0,t[8]=c,t[9]=l,t[10]=d,t[11]=-1,t[12]=0,t[13]=0,t[14]=f,t[15]=0,t},t.ortho=function(t,e,n,r,i,o,a){var u=1/(n-e),s=1/(r-i),c=1/(a-o),l=(n+e)*u,d=(r+i)*s,f=(a+o)*c;return t[0]=2*u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*s,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=-2*c,t[11]=0,t[12]=-l,t[13]=-d,t[14]=-f,t[15]=1,t},t.lookAt=function(t,e,n,i){var o,a,u,s,c,l,d,f,p,m,g=e[0],v=e[1],y=e[2],_=i[0],b=i[1],x=i[2],A=n[0],w=n[1],S=n[2];return Math.abs(g-A)<h&&Math.abs(v-w)<h&&Math.abs(y-S)<h?r(t):(d=g-A,f=v-w,p=y-S,o=b*(p*=m=1/Math.sqrt(d*d+f*f+p*p))-x*(f*=m),a=x*(d*=m)-_*p,u=_*f-b*d,(m=Math.sqrt(o*o+a*a+u*u))?(o*=m=1/m,a*=m,u*=m):(o=0,a=0,u=0),s=f*u-p*a,c=p*o-d*u,l=d*a-f*o,(m=Math.sqrt(s*s+c*c+l*l))?(s*=m=1/m,c*=m,l*=m):(s=0,c=0,l=0),t[0]=o,t[1]=s,t[2]=d,t[3]=0,t[4]=a,t[5]=c,t[6]=f,t[7]=0,t[8]=u,t[9]=l,t[10]=p,t[11]=0,t[12]=-(o*g+a*v+u*y),t[13]=-(s*g+c*v+l*y),t[14]=-(d*g+f*v+p*y),t[15]=1,t)},t.targetTo=function(t,e,n,r){var i=e[0],o=e[1],a=e[2],u=r[0],s=r[1],c=r[2],l=i-n[0],d=o-n[1],f=a-n[2],p=l*l+d*d+f*f;p>0&&(l*=p=1/Math.sqrt(p),d*=p,f*=p);var m=s*f-c*d,h=c*l-u*f,g=u*d-s*l;return(p=m*m+h*h+g*g)>0&&(m*=p=1/Math.sqrt(p),h*=p,g*=p),t[0]=m,t[1]=h,t[2]=g,t[3]=0,t[4]=d*g-f*h,t[5]=f*m-l*g,t[6]=l*h-d*m,t[7]=0,t[8]=l,t[9]=d,t[10]=f,t[11]=0,t[12]=i,t[13]=o,t[14]=a,t[15]=1,t},t.fromPermutation=function(t,e){i(t);for(var n=0;n<4;n++){u(t,n,e[n],1)}return t},t.getMaxScaleOnAxis=function(t){var e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],n=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],r=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,n,r))};var y=[1,0,0],_=[0,1,0],b=[0,0,1];t.rotX90=f(e(),C(90),y),t.rotX180=f(e(),C(180),y),t.rotY90=f(e(),C(90),_),t.rotY180=f(e(),C(180),_),t.rotY270=f(e(),C(270),_),t.rotZ90=f(e(),C(90),b),t.rotZ180=f(e(),C(180),b),t.rotXY90=d(e(),t.rotX90,t.rotY90),t.rotZY90=d(e(),t.rotZ90,t.rotY90),t.rotZYZ90=d(e(),t.rotZY90,t.rotZ90),t.rotZ90X180=d(e(),t.rotZ90,t.rotX180),t.rotY90Z180=d(e(),t.rotY90,t.rotZ180),t.id=n()}(I||(I={})),function(t){function e(){var t=[.1,0,0,0,0,0,0,0,0];return t[0]=0,t}function n(){var t=e();return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function r(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}t.zero=e,t.identity=n,t.setIdentity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},t.toArray=function(t,e,n){return e[n+0]=t[0],e[n+1]=t[1],e[n+2]=t[2],e[n+3]=t[3],e[n+4]=t[4],e[n+5]=t[5],e[n+6]=t[6],e[n+7]=t[7],e[n+8]=t[8],e},t.fromArray=function(t,e,n){return t[0]=e[n+0],t[1]=e[n+1],t[2]=e[n+2],t[3]=e[n+3],t[4]=e[n+4],t[5]=e[n+5],t[6]=e[n+6],t[7]=e[n+7],t[8]=e[n+8],t},t.fromMat4=r,t.create=function(t,n,r,i,o,a,u,s,c){var l=e();return l[0]=t,l[1]=n,l[2]=r,l[3]=i,l[4]=o,l[5]=a,l[6]=u,l[7]=s,l[8]=c,l};var i=n();function o(t,e,n){for(var r=0;r<9;r++)if(Math.abs(t[r]-e[r])>n)return!1;return!0}function a(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function u(t,e){if(t===e){var n=e[1],r=e[2],i=e[5];t[1]=e[3],t[2]=e[6],t[3]=n,t[5]=e[7],t[6]=r,t[7]=i}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t}function s(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],u=e[5],s=e[6],c=e[7],l=e[8],d=l*a-u*c,f=-l*o+u*s,p=c*o-a*s,m=n*d+r*f+i*p;return m?(m=1/m,t[0]=d*m,t[1]=(-l*r+i*c)*m,t[2]=(u*r-i*a)*m,t[3]=f*m,t[4]=(l*n-i*s)*m,t[5]=(-u*n+i*o)*m,t[6]=p*m,t[7]=(-c*n+r*s)*m,t[8]=(a*n-r*o)*m,t):(console.warn("non-invertible matrix.",e),t)}function c(t){var e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],u=t[6],s=t[7],c=t[8];return e*(c*o-a*s)+n*(-c*i+a*u)+r*(s*i-o*u)}function l(t){return t[0]+t[4]+t[8]}function d(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t}function f(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t}t.isIdentity=function(t,e){return o(t,i,void 0===e?h:e)},t.hasNaN=function(t){for(var e=0;e<9;e++)if(isNaN(t[e]))return!0;return!1},t.clone=function(t){return a(e(),t)},t.areEqual=o,t.setValue=function(t,e,n,r){t[3*n+e]=r},t.getValue=function(t,e,n){return t[3*n+e]},t.copy=a,t.transpose=u,t.invert=s,t.symmtricFromUpper=function(t,e){return t===e?(t[3]=e[1],t[6]=e[2],t[7]=e[5]):(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[1],t[4]=e[4],t[5]=e[5],t[6]=e[2],t[7]=e[5],t[8]=e[8]),t},t.symmtricFromLower=function(t,e){return t===e?(t[1]=e[3],t[2]=e[6],t[5]=e[7]):(t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[3],t[4]=e[4],t[5]=e[7],t[6]=e[6],t[7]=e[7],t[8]=e[8]),t},t.determinant=c,t.trace=l,t.sub=d,t.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t},t.mul=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],u=e[4],s=e[5],c=e[6],l=e[7],d=e[8],f=n[0],p=n[1],m=n[2],h=n[3],g=n[4],v=n[5],y=n[6],_=n[7],b=n[8];return t[0]=f*r+p*a+m*c,t[1]=f*i+p*u+m*l,t[2]=f*o+p*s+m*d,t[3]=h*r+g*a+v*c,t[4]=h*i+g*u+v*l,t[5]=h*o+g*s+v*d,t[6]=y*r+_*a+b*c,t[7]=y*i+_*u+b*l,t[8]=y*o+_*s+b*d,t},t.subScalar=function(t,e,n){return t[0]=e[0]-n,t[1]=e[1]-n,t[2]=e[2]-n,t[3]=e[3]-n,t[4]=e[4]-n,t[5]=e[5]-n,t[6]=e[6]-n,t[7]=e[7]-n,t[8]=e[8]-n,t},t.addScalar=function(t,e,n){return t[0]=e[0]+n,t[1]=e[1]+n,t[2]=e[2]+n,t[3]=e[3]+n,t[4]=e[4]+n,t[5]=e[5]+n,t[6]=e[6]+n,t[7]=e[7]+n,t[8]=e[8]+n,t},t.mulScalar=f;var p=Math.PI/3,m=e();t.symmetricEigenvalues=function(e,n){var r=n[1]*n[1]+n[2]*n[2]+n[5]*n[5];if(0===r)e[0]=n[0],e[1]=n[4],e[2]=n[8];else{var i=l(n)/3,o=n[0]-i,a=n[4]-i,u=n[8]-i,s=o*o+a*a+u*u+2*r,h=Math.sqrt(s/6);f(m,t.Identity,i),d(m,n,m),f(m,m,1/h);var g=c(m)/2,v=g<=-1?p:g>=1?0:Math.acos(g)/3;e[0]=i+2*h*Math.cos(v),e[2]=i+2*h*Math.cos(v+2*p),e[1]=3*i-e[0]-e[2]}return e};var g=[.1,0,0],v=[.1,0,0],y=[.1,0,0],_=[.1,0,0],b=[.1,0,0],x=[.1,0,0];t.eigenvector=function(t,e,n){A.set(g,e[0]-n,e[1],e[2]),A.set(v,e[1],e[4]-n,e[5]),A.set(y,e[2],e[5],e[8]-n),A.cross(_,g,v),A.cross(b,g,y),A.cross(x,v,y);var r=A.dot(_,_),i=A.dot(b,b),o=A.dot(x,x),a=r,u=0;return i>a&&(a=i,u=1),o>a&&(u=2),0===u?A.scale(t,_,1/Math.sqrt(r)):1===u?A.scale(t,b,1/Math.sqrt(i)):A.scale(t,x,1/Math.sqrt(o)),t},t.directionTransform=function(t,e){return r(t,e),s(t,t),u(t,t),t},t.Identity=n(),t.innerProduct=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]+t[4]*e[4]+t[5]*e[5]+t[6]*e[6]+t[7]*e[7]+t[8]*e[8]}}(P||(P={})),function(t){function e(){var t=[.1,0];return t[0]=0,t}t.zero=e,t.clone=function(t){var n=e();return n[0]=t[0],n[1]=t[1],n},t.create=function(t,n){var r=e();return r[0]=t,r[1]=n,r},t.hasNaN=function(t){return isNaN(t[0])||isNaN(t[1])},t.toArray=function(t,e,n){return e[n+0]=t[0],e[n+1]=t[1],e},t.fromArray=function(t,e,n){return t[0]=e[n+0],t[1]=e[n+1],t},t.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t},t.set=function(t,e,n){return t[0]=e,t[1]=n,t},t.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t},t.sub=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t},t.mul=function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t},t.div=function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t},t.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t},t.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t},t.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t},t.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t},t.distance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1];return Math.sqrt(n*n+r*r)},t.squaredDistance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1];return n*n+r*r},t.magnitude=function(t){var e=t[0],n=t[1];return Math.sqrt(e*e+n*n)},t.squaredMagnitude=function(t){var e=t[0],n=t[1];return e*e+n*n},t.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t},t.areEqual=function(t,e){return t[0]===e[0]&&t[1]===e[1]},t.toString=function(t,e){return"[".concat(t[0].toPrecision(e)," ").concat(t[1].toPrecision(e),"}]")}}(E||(E={})),function(t){function e(){var t=[.1,0,0,0];return t[0]=0,t}function n(t,e){return t[0]=e.center[0],t[1]=e.center[1],t[2]=e.center[2],t[3]=e.radius,t}t.zero=e,t.clone=function(t){var n=e();return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n},t.create=function(t,n,r,i){var o=e();return o[0]=t,o[1]=n,o[2]=r,o[3]=i,o},t.fromSphere=n,t.ofSphere=function(t){return n(e(),t)},t.hasNaN=function(t){return isNaN(t[0])||isNaN(t[1])||isNaN(t[2])||isNaN(t[3])},t.toArray=function(t,e,n){return e[n+0]=t[0],e[n+1]=t[1],e[n+2]=t[2],e[n+3]=t[3],e},t.fromArray=function(t,e,n){return t[0]=e[n+0],t[1]=e[n+1],t[2]=e[n+2],t[3]=e[n+3],t},t.toVec3Array=function(t,e,n){e[n+0]=t[0],e[n+1]=t[1],e[n+2]=t[2]},t.fromVec3Array=function(t,e,n){return t[0]=e[n+0],t[1]=e[n+1],t[2]=e[n+2],t[3]=0,t},t.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},t.set=function(t,e,n,r,i){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t},t.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t},t.distance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2],o=e[3]-t[3];return Math.sqrt(n*n+r*r+i*i+o*o)},t.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[4]=e[4]*n,t},t.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t[3]=Math.round(e[3]),t},t.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t[3]=Math.ceil(e[3]),t},t.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t[3]=Math.floor(e[3]),t},t.squaredDistance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2],o=e[3]-t[3];return n*n+r*r+i*i+o*o},t.norm=function(t){var e=t[0],n=t[1],r=t[2],i=t[3];return Math.sqrt(e*e+n*n+r*r+i*i)},t.squaredNorm=function(t){var e=t[0],n=t[1],r=t[2],i=t[3];return e*e+n*n+r*r+i*i},t.transformMat4=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3];return t[0]=n[0]*r+n[4]*i+n[8]*o+n[12]*a,t[1]=n[1]*r+n[5]*i+n[9]*o+n[13]*a,t[2]=n[2]*r+n[6]*i+n[10]*o+n[14]*a,t[3]=n[3]*r+n[7]*i+n[11]*o+n[15]*a,t},t.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]},t.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t},t.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]},t.equals=function(t,e){var n=t[0],r=t[1],i=t[2],o=t[3],a=e[0],u=e[1],s=e[2],c=e[3];return Math.abs(n-a)<=h*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(r-u)<=h*Math.max(1,Math.abs(r),Math.abs(u))&&Math.abs(i-s)<=h*Math.max(1,Math.abs(i),Math.abs(s))&&Math.abs(o-c)<=h*Math.max(1,Math.abs(o),Math.abs(c))},t.toString=function(t,e){return"[".concat(t[0].toPrecision(e)," ").concat(t[1].toPrecision(e)," ").concat(t[2].toPrecision(e),"  ").concat(t[3].toPrecision(e),"]")}}(M||(M={})),function(t){function e(){var t=[.1,0,0,0];return t[0]=0,t}function n(){var t=e();return t[3]=1,t}function r(t,e,n){n*=.5;var r=Math.sin(n);return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=Math.cos(n),t}function i(t,e,n,r){var i,o,a,u,s,c=e[0],l=e[1],d=e[2],f=e[3],p=n[0],m=n[1],h=n[2],g=n[3];return(o=c*p+l*m+d*h+f*g)<0&&(o=-o,p=-p,m=-m,h=-h,g=-g),1-o>1e-6?(i=Math.acos(o),a=Math.sin(i),u=Math.sin((1-r)*i)/a,s=Math.sin(r*i)/a):(u=1-r,s=r),t[0]=u*c+s*p,t[1]=u*l+s*m,t[2]=u*d+s*h,t[3]=u*f+s*g,t}function o(t,e){var n,r=e[0]+e[4]+e[8];if(r>0)n=Math.sqrt(r+1),t[3]=.5*n,n=.5/n,t[0]=(e[5]-e[7])*n,t[1]=(e[6]-e[2])*n,t[2]=(e[1]-e[3])*n;else{var i=0;e[4]>e[0]&&(i=1),e[8]>e[3*i+i]&&(i=2);var o=(i+1)%3,a=(i+2)%3;n=Math.sqrt(e[3*i+i]-e[3*o+o]-e[3*a+a]+1),t[i]=.5*n,n=.5/n,t[3]=(e[3*o+a]-e[3*a+o])*n,t[o]=(e[3*o+i]+e[3*i+o])*n,t[a]=(e[3*a+i]+e[3*i+a])*n}return t}t.zero=e,t.identity=n,t.setIdentity=function(t){t[0]=0,t[1]=0,t[2]=0,t[3]=1},t.hasNaN=function(t){return isNaN(t[0])||isNaN(t[1])||isNaN(t[2])||isNaN(t[3])},t.create=function(t,e,r,i){var o=n();return o[0]=t,o[1]=e,o[2]=r,o[3]=i,o},t.setAxisAngle=r,t.getAxisAngle=function(t,e){var n=2*Math.acos(e[3]),r=Math.sin(n/2);return 0!==r?(t[0]=e[0]/r,t[1]=e[1]/r,t[2]=e[2]/r):(t[0]=1,t[1]=0,t[2]=0),n},t.multiply=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],u=n[0],s=n[1],c=n[2],l=n[3];return t[0]=r*l+a*u+i*c-o*s,t[1]=i*l+a*s+o*u-r*c,t[2]=o*l+a*c+r*s-i*u,t[3]=a*l-r*u-i*s-o*c,t},t.rotateX=function(t,e,n){n*=.5;var r=e[0],i=e[1],o=e[2],a=e[3],u=Math.sin(n),s=Math.cos(n);return t[0]=r*s+a*u,t[1]=i*s+o*u,t[2]=o*s-i*u,t[3]=a*s-r*u,t},t.rotateY=function(t,e,n){n*=.5;var r=e[0],i=e[1],o=e[2],a=e[3],u=Math.sin(n),s=Math.cos(n);return t[0]=r*s-o*u,t[1]=i*s+a*u,t[2]=o*s+r*u,t[3]=a*s-i*u,t},t.rotateZ=function(t,e,n){n*=.5;var r=e[0],i=e[1],o=e[2],a=e[3],u=Math.sin(n),s=Math.cos(n);return t[0]=r*s+i*u,t[1]=i*s-r*u,t[2]=o*s+a*u,t[3]=a*s-o*u,t},t.calculateW=function(t,e){var n=e[0],r=e[1],i=e[2];return t[0]=n,t[1]=r,t[2]=i,t[3]=Math.sqrt(Math.abs(1-n*n-r*r-i*i)),t},t.slerp=i,t.invert=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n*n+r*r+i*i+o*o,u=a?1/a:0;return t[0]=-n*u,t[1]=-r*u,t[2]=-i*u,t[3]=o*u,t},t.conjugate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t},t.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]},t.fromMat3=o,t.fromEuler=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=Math.cos(r/2),u=Math.cos(i/2),s=Math.cos(o/2),c=Math.sin(r/2),l=Math.sin(i/2),d=Math.sin(o/2);switch(n){case"XYZ":t[0]=c*u*s+a*l*d,t[1]=a*l*s-c*u*d,t[2]=a*u*d+c*l*s,t[3]=a*u*s-c*l*d;break;case"YXZ":t[0]=c*u*s+a*l*d,t[1]=a*l*s-c*u*d,t[2]=a*u*d-c*l*s,t[3]=a*u*s+c*l*d;break;case"ZXY":t[0]=c*u*s-a*l*d,t[1]=a*l*s+c*u*d,t[2]=a*u*d+c*l*s,t[3]=a*u*s-c*l*d;break;case"ZYX":t[0]=c*u*s-a*l*d,t[1]=a*l*s+c*u*d,t[2]=a*u*d-c*l*s,t[3]=a*u*s+c*l*d;break;case"YZX":t[0]=c*u*s+a*l*d,t[1]=a*l*s+c*u*d,t[2]=a*u*d-c*l*s,t[3]=a*u*s-c*l*d;break;case"XZY":t[0]=c*u*s-a*l*d,t[1]=a*l*s-c*u*d,t[2]=a*u*d+c*l*s,t[3]=a*u*s+c*l*d;break;default:k()}return t};var a=[0,0,0];function u(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n*n+r*r+i*i+o*o;return a>0&&(a=1/Math.sqrt(a),t[0]=n*a,t[1]=r*a,t[2]=i*a,t[3]=o*a),t}t.fromUnitVec3=function(t,e,n){var r=A.dot(e,n)+1;return r<h?(r=0,Math.abs(e[0])>Math.abs(e[2])?A.set(a,-e[1],e[0],0):A.set(a,0,-e[2],e[1])):A.cross(a,e,n),t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=r,u(t,t),t},t.clone=function(t){var n=e();return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n},t.toArray=function(t,e,n){return e[n+0]=t[0],e[n+1]=t[1],e[n+2]=t[2],e[n+3]=t[3],e},t.fromArray=function(t,e,n){return t[0]=e[n+0],t[1]=e[n+1],t[2]=e[n+2],t[3]=e[n+3],t},t.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},t.set=function(t,e,n,r,i){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t},t.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]},t.equals=function(t,e){var n=t[0],r=t[1],i=t[2],o=t[3],a=e[0],u=e[1],s=e[2],c=e[3];return Math.abs(n-a)<=h*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(r-u)<=h*Math.max(1,Math.abs(r),Math.abs(u))&&Math.abs(i-s)<=h*Math.max(1,Math.abs(i),Math.abs(s))&&Math.abs(o-c)<=h*Math.max(1,Math.abs(o),Math.abs(c))},t.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t},t.normalize=u;var s=[0,0,0],c=[1,0,0],l=[0,1,0];t.rotationTo=function(t,e,n){var i=A.dot(e,n);return i<-.999999?(A.cross(s,c,e),A.magnitude(s)<1e-6&&A.cross(s,l,e),A.normalize(s,s),r(t,s,Math.PI),t):i>.999999?(t[0]=0,t[1]=0,t[2]=0,t[3]=1,t):(A.cross(s,e,n),t[0]=s[0],t[1]=s[1],t[2]=s[2],t[3]=1+i,u(t,t))};var d=e(),f=e();t.sqlerp=function(t,e,n,r,o,a){return i(d,e,o,a),i(f,n,r,a),i(t,d,f,2*a*(1-a)),t};var p=[0,0,0,0,0,0,0,0,0];t.setAxes=function(t,e,n,r){return p[0]=n[0],p[3]=n[1],p[6]=n[2],p[1]=r[0],p[4]=r[1],p[7]=r[2],p[2]=-e[0],p[5]=-e[1],p[8]=-e[2],u(t,o(t,p))},t.toString=function(t,e){return"[".concat(t[0].toPrecision(e)," ").concat(t[1].toPrecision(e)," ").concat(t[2].toPrecision(e),"  ").concat(t[3].toPrecision(e),"]")},t.Identity=n()}(D||(D={})),function(t){function e(t,e,i){var o=function(t,e,n){for(var r=[],i=0;i<e.length;i++)r[i]=e[e.length-i-1];var o=[1];for(i=1;i<t.length;i++)o[i]=t[r[i-1]];return{dimensions:t,axisOrderFastToSlow:r,axisOrderSlowToFast:e,accessDimensions:o,defaultCtor:n||Float64Array}}(t,e,i),a=n(o),u=a.get,s=a.set,c=a.add,l=a.dataOffset,d=a.getCoords;return{rank:t.length,dimensions:t,axisOrderSlowToFast:e,create:r(o),get:u,set:s,add:c,dataOffset:l,getCoords:d}}function n(t){var e=t.dimensions,n=t.axisOrderFastToSlow;switch(e.length){case 1:return{get:function(t,e){return t[e]},set:function(t,e,n){return t[e]=n},add:function(t,e,n){return t[e]+=n},dataOffset:function(t){return t},getCoords:function(t,e){return e[0]=t,e}};case 2:if(0===n[0]&&1===n[1]){var r=e[0];return{get:function(t,e,n){return t[n*r+e]},set:function(t,e,n,i){return t[n*r+e]=i},add:function(t,e,n,i){return t[n*r+e]+=i},dataOffset:function(t,e){return e*r+t},getCoords:function(t,e){return e[0]=t%r,e[1]=Math.floor(t/r),e}}}if(1===n[0]&&0===n[1]){var o=e[1];return{get:function(t,e,n){return t[e*o+n]},set:function(t,e,n,r){return t[e*o+n]=r},add:function(t,e,n,r){return t[e*o+n]+=r},dataOffset:function(t,e){return t*o+e},getCoords:function(t,e){return e[0]=Math.floor(t/o),e[1]=t%o,e}}}throw new Error("bad axis order");case 3:if(0===n[0]&&1===n[1]&&2===n[2]){var a=e[0],u=e[1],s=a*u;return{get:function(t,e,n,r){return t[e+n*a+r*s]},set:function(t,e,n,r,i){return t[e+n*a+r*s]=i},add:function(t,e,n,r,i){return t[e+n*a+r*s]+=i},dataOffset:function(t,e,n){return t+e*a+n*s},getCoords:function(t,e){var n=Math.floor(t/a);return e[0]=t%a,e[1]=n%u,e[2]=Math.floor(n/u),e}}}if(0===n[0]&&2===n[1]&&1===n[2]){var c=e[0],l=e[2],d=c*l;return{get:function(t,e,n,r){return t[e+r*c+n*d]},set:function(t,e,n,r,i){return t[e+r*c+n*d]=i},add:function(t,e,n,r,i){return t[e+r*c+n*d]+=i},dataOffset:function(t,e,n){return t+n*c+e*d},getCoords:function(t,e){var n=Math.floor(t/c);return e[0]=t%c,e[1]=Math.floor(n/l),e[2]=n%l,e}}}if(1===n[0]&&0===n[1]&&2===n[2]){var f=e[1],p=e[0],m=f*p;return{get:function(t,e,n,r){return t[n+e*f+r*m]},set:function(t,e,n,r,i){return t[n+e*f+r*m]=i},add:function(t,e,n,r,i){return t[n+e*f+r*m]+=i},dataOffset:function(t,e,n){return e+t*f+n*m},getCoords:function(t,e){var n=Math.floor(t/f);return e[0]=n%p,e[1]=t%f,e[2]=Math.floor(n/p),e}}}if(1===n[0]&&2===n[1]&&0===n[2]){var h=e[1],g=e[2],v=h*g;return{get:function(t,e,n,r){return t[n+r*h+e*v]},set:function(t,e,n,r,i){return t[n+r*h+e*v]=i},add:function(t,e,n,r,i){return t[n+r*h+e*v]+=i},dataOffset:function(t,e,n){return e+n*h+t*v},getCoords:function(t,e){var n=Math.floor(t/h);return e[0]=Math.floor(n/g),e[1]=t%h,e[2]=n%g,e}}}if(2===n[0]&&0===n[1]&&1===n[2]){var y=e[2],_=e[0],b=y*_;return{get:function(t,e,n,r){return t[r+e*y+n*b]},set:function(t,e,n,r,i){return t[r+e*y+n*b]=i},add:function(t,e,n,r,i){return t[r+e*y+n*b]+=i},dataOffset:function(t,e,n){return n+t*y+e*b},getCoords:function(t,e){var n=Math.floor(t/y);return e[0]=n%_,e[1]=Math.floor(n/_),e[2]=t%y,e}}}if(2===n[0]&&1===n[1]&&0===n[2]){var x=e[2],A=e[1],w=x*A;return{get:function(t,e,n,r){return t[r+n*x+e*w]},set:function(t,e,n,r,i){return t[r+n*x+e*w]=i},add:function(t,e,n,r,i){return t[r+n*x+e*w]+=i},dataOffset:function(t,e,n){return n+e*x+t*w},getCoords:function(t,e){var n=Math.floor(t/x);return e[0]=Math.floor(n/A),e[1]=n%A,e[2]=t%x,e}}}throw new Error("bad axis order");default:return{get:function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return e[i(t,n)]},set:function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return e[i(t,n)]=n[n.length-1]},add:function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return e[i(t,n)]+=n[n.length-1]},dataOffset:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return i(t,e)},getCoords:function(e,n){return function(t,e,n){for(var r=t.dimensions,i=t.axisOrderFastToSlow,o=r.length,a=e,u=0;u<o;u++){var s=r[i[u]];n[i[u]]=a%s,a=Math.floor(a/s)}return n[i[o+1]]=a,n}(t,e,n)}}}}function r(t){for(var e=t.dimensions,n=1,r=0,i=e.length;r<i;r++)n*=e[r];return function(e){return new(e||t.defaultCtor)(n)}}function i(t,e){for(var n=t.accessDimensions,r=t.axisOrderFastToSlow,i=n.length-1,o=n[i]*e[r[i]],a=i-1;a>=0;a--)o=(o+e[r[a]])*n[a];return o}function o(t,e){for(var n=[],r=0;r<t.length;r++)n[r]=t[e[r]];return n}t.create=function(t,e){return{space:t,data:e}},t.Space=e,t.Data1=function(t){return t},t.Vector=function(t,n){return e([t],[0],n)},t.ColumnMajorMatrix=function(t,n,r){return e([t,n],[1,0],r)},t.RowMajorMatrix=function(t,n,r){return e([t,n],[0,1],r)},t.toMat4=function(t,e,n){if(2!==e.rank)throw new Error("Invalid tensor rank");for(var r=Math.min(4,e.dimensions[0]),i=Math.min(4,e.dimensions[1]),o=0;o<r;o++)for(var a=0;a<i;a++)I.setValue(t,o,a,e.get(n,o,a));return t},t.toMat3=function(t,e,n){if(2!==e.rank)throw new Error("Invalid tensor rank");for(var r=Math.min(3,e.dimensions[0]),i=Math.min(3,e.dimensions[1]),o=0;o<r;o++)for(var a=0;a<i;a++)P.setValue(t,o,a,e.get(n,o,a));return t},t.toVec3=function(t,e,n){if(1!==e.rank)throw new Error("Invalid tensor rank");for(var r=Math.min(3,e.dimensions[0]),i=0;i<r;i++)t[i]=n[i];return t},t.toVec4=function(t,e,n){if(1!==e.rank)throw new Error("Invalid tensor rank");for(var r=Math.min(4,e.dimensions[0]),i=0;i<r;i++)t[i]=n[i];return t},t.areEqualExact=function(t,e){var n=t.length;if(n!==e.length)return!1;for(var r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0},t.invertAxisOrder=function(t){for(var e=[],n=0;n<t.length;n++)e[n]=t[t.length-n-1];return e},t.convertToCanonicalAxisIndicesFastToSlow=function(t){for(var e=new Int32Array(t.length),n=0;n<t.length;n++)e[t[n]]=n;return function(t){return o(t,e)}},t.convertToCanonicalAxisIndicesSlowToFast=function(t){for(var e=new Int32Array(t.length),n=0;n<t.length;n++)e[t[t.length-n-1]]=n;return function(t){return o(t,e)}}}(w||(w={}));var O,N,T=n(0);function U(t,e,n,r){r=t[e],t[e]=t[n],t[n]=r}function R(t,e){return(t=Math.abs(t))>(e=Math.abs(e))?(e/=t,t*Math.sqrt(1+e*e)):e>0?(t/=e,e*Math.sqrt(1+t*t)):0}(N=O||(O={})).create=function(t,e,n){void 0===n&&(n=Float32Array);var r=t*e;return{data:new n(r),size:r,cols:t,rows:e}},N.get=function(t,e,n){return t.data[t.rows*n+e]},N.set=function(t,e,n,r){return t.data[t.rows*n+e]=r,t},N.add=function(t,e,n,r){return t.data[t.rows*n+e]+=r,t},N.makeZero=function(t){return t.data.fill(0),t},N.clone=function(t){return{data:t.data.slice(),size:t.size,cols:t.cols,rows:t.rows}},N.fromArray=function(t,e,n){return{data:t,size:e*n,cols:e,rows:n}},N.transpose=function(t,e){if(t.cols!==e.rows||t.rows!==e.cols)throw new Error("transpose: matrix dimensions incompatible");if(t.data===e.data)throw new Error("transpose: matrices share memory");for(var n=e.rows,r=e.cols,i=e.data,o=t.data,a=0,u=0,s=0;a<n;s+=1,u+=r,++a)for(var c=s,l=0;l<r;c+=n,l++)o[c]=i[u+l];return t},N.multiplyABt=function(t,e,n){for(var r=e.cols,i=e.rows,o=n.rows,a=e.data,u=n.data,s=t.data,c=0,l=0,d=0;c<i;l+=r,c++)for(var f=0,p=0;p<o;d++,p++){for(var m=0,h=l,g=0;g<r;h++,f++,g++)m+=a[h]*u[f];s[d]=m}return t},N.meanRows=function(t){for(var e=t.rows,n=t.cols,r=t.data,i=new Array(n),o=0;o<n;++o)i[o]=0;for(var a=0,u=0;a<e;++a)for(o=0;o<n;++o,++u)i[o]+=r[u];for(o=0;o<n;++o)i[o]/=e;return i},N.subRows=function(t,e){for(var n=t.rows,r=t.cols,i=t.data,o=0,a=0;o<n;++o)for(var u=0;u<r;++u,++a)i[a]-=e[u];return t};var L;function G(t,e,n,r){var i=0,o=0,a=t.rows,u=t.cols,s=a,c=u;s<c&&(i=1,o=s,s=c,c=o);var l=O.create(s,s),d=O.create(1,c),f=O.create(c,c);if(0===i)O.transpose(l,t);else{for(o=0;o<u*a;o++)l.data[o]=t.data[o];for(;o<c*s;o++)l.data[o]=0}if(function(t,e,n,r,i,o,a,u){for(var s=0,c=0,l=0,d=0,f=Math.max(o,30),p=0,m=0,h=0,g=0,v=0,y=0,_=0,b=0,x=0,A=0,w=0,S=0,C=0,B=0,I=0,P=0,E=0,M=4660,k=0,D=0,O=0,N=new Float64Array(a<<3);s<a;s++){for(l=0,w=0;l<o;l++)w+=(b=t[s*e+l])*b;if(N[s]=w,r){for(l=0;l<a;l++)r[s*i+l]=0;r[s*i+s]=1}}for(;d<f;d++){for(v=0,s=0;s<a-1;s++)for(c=s+1;c<a;c++){for(p=s*e|0,m=c*e|0,I=N[s],P=0,E=N[c],l=2,P+=t[p]*t[m],P+=t[p+1]*t[m+1];l<o;l++)P+=t[p+l]*t[m+l];if(!(Math.abs(P)<=2.384185792e-7*Math.sqrt(I*E))){for(C=R(P*=2,S=I-E),S<0?(B=.5*(C-S),y=P/(C*(_=Math.sqrt(B/C))*2)):_=P/(C*(y=Math.sqrt((C+S)/(2*C)))*2),I=0,E=0,l=2,x=y*t[p]+_*t[m],A=-_*t[p]+y*t[m],t[p]=x,t[m]=A,I+=x*x,E+=A*A,x=y*t[p+1]+_*t[m+1],A=-_*t[p+1]+y*t[m+1],t[p+1]=x,t[m+1]=A,I+=x*x,E+=A*A;l<o;l++)x=y*t[p+l]+_*t[m+l],A=-_*t[p+l]+y*t[m+l],t[p+l]=x,t[m+l]=A,I+=x*x,E+=A*A;if(N[s]=I,N[c]=E,v=1,r)for(g=c*i|0,l=2,x=y*r[h=s*i|0]+_*r[g],A=-_*r[h]+y*r[g],r[h]=x,r[g]=A,x=y*r[h+1]+_*r[g+1],A=-_*r[h+1]+y*r[g+1],r[h+1]=x,r[g+1]=A;l<a;l++)x=y*r[h+l]+_*r[g+l],A=-_*r[h+l]+y*r[g+l],r[h+l]=x,r[g+l]=A}}if(0===v)break}for(s=0;s<a;s++){for(l=0,w=0;l<o;l++)w+=(b=t[s*e+l])*b;N[s]=Math.sqrt(w)}for(s=0;s<a-1;s++){for(c=s,l=s+1;l<a;l++)N[c]<N[l]&&(c=l);if(s!==c&&(U(N,s,c,w),r)){for(l=0;l<o;l++)U(t,s*e+l,c*e+l,b);for(l=0;l<a;l++)U(r,s*i+l,c*i+l,b)}}for(s=0;s<a;s++)n[s]=N[s];if(r)for(s=0;s<u;s++){for(w=s<a?N[s]:0;w<=1e-37;){for(D=1/o,l=0;l<o;l++)k=0!=(256&(M=214013*M+2531011)>>16)?D:-D,t[s*e+l]=k;for(d=0;d<2;d++)for(c=0;c<s;c++){for(w=0,l=0;l<o;l++)w+=t[s*e+l]*t[c*e+l];for(O=0,l=0;l<o;l++)b=t[s*e+l]-w*t[c*e+l],t[s*e+l]=b,O+=Math.abs(b);for(O=O?1/O:0,l=0;l<o;l++)t[s*e+l]*=O}for(w=0,l=0;l<o;l++)w+=(b=t[s*e+l])*b;w=Math.sqrt(w)}for(_=1/w,l=0;l<o;l++)t[s*e+l]*=_}}(l.data,s,d.data,f.data,c,s,c,s),e){for(o=0;o<c;o++)e.data[o]=d.data[o];for(;o<u;o++)e.data[o]=0}0===i?(n&&O.transpose(n,l),r&&O.transpose(r,f)):(n&&O.transpose(n,f),r&&O.transpose(r,l))}function q(t){return 0}function F(t){return function(e){return t[e]}}function j(t){return 0===t[3]&&0===t[7]&&0===t[11]&&1===t[15]}function H(t,e){var n=t.matrix,r=e.x,i=e.y,o=e.z,a=n[0],u=n[4],s=n[8],c=n[12];return j(n)?function(t){return a*r[t]+u*i[t]+s*o[t]+c}:function(t){var e=r[t],l=i[t],d=o[t],f=n[3]*e+n[7]*l+n[11]*d+n[15]||1;return(a*e+u*l+s*d+c)/f}}function V(t,e){var n=t.matrix,r=e.x,i=e.y,o=e.z,a=n[1],u=n[5],s=n[9],c=n[13];return j(n)?function(t){return a*r[t]+u*i[t]+s*o[t]+c}:function(t){var e=r[t],l=i[t],d=o[t],f=n[3]*e+n[7]*l+n[11]*d+n[15]||1;return(a*e+u*l+s*d+c)/f}}function z(t,e){var n=t.matrix,r=e.x,i=e.y,o=e.z,a=n[2],u=n[6],s=n[10],c=n[14];return j(n)?function(t){return a*r[t]+u*i[t]+s*o[t]+c}:function(t){var e=r[t],l=i[t],d=o[t],f=n[3]*e+n[7]*l+n[11]*d+n[15]||1;return(a*e+u*l+s*d+c)/f}}!function(t){function e(e,n,r){var i=r||{},o=i.assembly,a=i.ncsId,u=i.hkl,s=i.spgrOp,c=i.key,l=u?A.clone(u):A();s=null!=s?s:-1,c=null!=c?c:-1,a=a||-1;var d=I.isIdentity(n),f=function(t,e){if(!t)return"";if(t.assembly)return(n=t)&&n.matrix&&n.inverse&&"string"==typeof n.name?t.suffix:e?"":"_".concat(t.assembly.operId);var n;if(void 0!==t.spgrOp&&void 0!==t.hkl&&-1!==t.spgrOp){var r=t.hkl,i=r[0],o=r[1],a=r[2];return"-".concat(t.spgrOp+1,"_").concat(5+i).concat(5+o).concat(5+a)}if(-1!==t.ncsId)return"_".concat(t.ncsId);return""}(r,d);return d?{name:e,assembly:o,matrix:n,inverse:I.identity(),isIdentity:!0,hkl:l,spgrOp:s,ncsId:a,suffix:f,key:c}:(I.isRotationAndTranslation(n,t.RotationTranslationEpsilon)||console.warn("Symmetry operator (".concat(e,") should be a composition of rotation and translation.")),{name:e,assembly:o,matrix:n,inverse:I.invert(I(),n),isIdentity:!1,hkl:l,spgrOp:s,key:c,ncsId:a,suffix:f})}t.DefaultName="1_555",t.Default=e(t.DefaultName,I.identity()),t.RotationTranslationEpsilon=.005,t.create=e,t.checkIfRotationAndTranslation=function(e,n){for(var r=I.identity(),i=0;i<3;i++)for(var o=0;o<3;o++)I.setValue(r,i,o,P.getValue(e,i,o));return I.setTranslation(r,n),I.isRotationAndTranslation(r,t.RotationTranslationEpsilon)},t.ofRotationAndOffset=function(t,n,r,i){for(var o=I.identity(),a=0;a<3;a++)for(var u=0;u<3;u++)I.setValue(o,a,u,P.getValue(n,a,u));return I.setTranslation(o,r),e(t,o,{ncsId:i})};var n=D.identity(),r=D(),i=D(),o=A();function a(e,n,r){var i=u(t.Default,n),o=e.isIdentity?i:u(e,n),a=function(t,e){return t.isIdentity?{x:F(e.x),y:F(e.y),z:F(e.z)}:{x:H(t,e),y:V(t,e),z:z(t,e)}}(e,n);return{operator:e,coordinates:n,invariantPosition:i,position:o,x:a.x,y:a.y,z:a.z,r:r}}function u(t,e){return t.isIdentity?(r=(n=e).x,i=n.y,o=n.z,function(t,e){return e[0]=r[t],e[1]=i[t],e[2]=o[t],e}):function(t,e){var n=t.matrix,r=e.x,i=e.y,o=e.z;if(j(n))return function(t,e){var a=r[t],u=i[t],s=o[t];return e[0]=n[0]*a+n[4]*u+n[8]*s+n[12],e[1]=n[1]*a+n[5]*u+n[9]*s+n[13],e[2]=n[2]*a+n[6]*u+n[10]*s+n[14],e};return function(t,e){return e[0]=r[t],e[1]=i[t],e[2]=o[t],A.transformMat4(e,e,n),e}}(t,e);var n,r,i,o}t.lerpFromIdentity=function(t,e,i){var a=e.inverse;if(e.isIdentity)return I.copy(t,a);var u=1-i;I.getRotation(r,a),D.slerp(r,n,r,u);var s=D.getAxisAngle(o,r);return I.fromRotation(t,s,o),I.setValue(t,0,3,u*I.getValue(a,0,3)),I.setValue(t,1,3,u*I.getValue(a,1,3)),I.setValue(t,2,3,u*I.getValue(a,2,3)),t},t.slerp=function(t,e,n,a){if(Math.abs(a)<=1e-5)return I.copy(t,e);if(Math.abs(a-1)<=1e-5)return I.copy(t,n);I.getRotation(r,e),I.getRotation(i,n),D.slerp(i,r,i,a);var u=D.getAxisAngle(o,i);return I.fromRotation(t,u,o),I.setValue(t,0,3,y(I.getValue(e,0,3),I.getValue(n,0,3),a)),I.setValue(t,1,3,y(I.getValue(e,1,3),I.getValue(n,1,3),a)),I.setValue(t,2,3,y(I.getValue(e,2,3),I.getValue(n,2,3),a)),t},t.compose=function(t,n){var r=I.mul(I(),n.matrix,t.matrix);return e(n.name,r,n)},t.createMapping=function(t,e,n){return void 0===n&&(n=q),a(t,e,n)},t.createCoordinateMapper=u}(L||(L={}));var Y=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[-1,0,0,0],[0,-1,0,0],[0,0,-1,0],[0,1,0,.5],[1,0,0,.5],[-1,0,0,.5],[0,0,1,.5],[0,-1,0,.5],[0,0,-1,.5],[1,0,0,.25],[0,-1,0,.25],[0,0,1,.25],[-1,0,0,.25],[0,1,0,.25],[0,-1,0,.75],[0,0,1,.75],[0,1,0,.75],[1,0,0,.75],[-1,0,0,.75],[0,0,-1,.25],[0,0,-1,.75],[1,-1,0,0],[-1,1,0,0],[0,0,1,1/3],[0,0,1,2/3],[1,0,0,2/3],[0,1,0,1/3],[0,-1,0,2/3],[1,-1,0,1/3],[-1,1,0,2/3],[-1,0,0,1/3],[1,0,0,1/3],[0,1,0,2/3],[0,-1,0,1/3],[1,-1,0,2/3],[-1,1,0,1/3],[-1,0,0,2/3],[0,0,-1,1/3],[0,0,-1,2/3],[0,0,1,5/6],[0,0,1,1/6],[0,0,-1,5/6],[0,0,-1,1/6]],K=[[0,1,2],[3,4,5],[3,1,5],[3,6,5],[7,6,2],[8,6,5],[0,4,2],[0,4,9],[7,10,2],[7,10,9],[0,10,2],[8,10,5],[3,1,11],[3,6,11],[0,10,9],[8,6,11],[3,4,2],[0,4,5],[3,4,9],[7,10,5],[8,4,9],[8,10,9],[8,10,2],[0,6,9],[3,10,9],[0,10,11],[7,1,9],[8,1,11],[7,4,11],[7,6,9],[7,10,11],[3,10,2],[8,1,5],[0,4,11],[3,1,2],[3,1,9],[7,4,2],[8,1,2],[8,1,9],[3,6,9],[7,4,9],[8,6,2],[8,6,9],[3,6,2],[12,13,14],[15,16,14],[12,17,18],[15,19,18],[20,13,18],[21,16,18],[20,17,14],[21,19,14],[0,1,5],[8,10,11],[7,6,11],[7,6,5],[8,4,2],[7,4,5],[7,1,5],[7,1,11],[0,10,5],[0,1,11],[0,6,11],[0,6,5],[3,10,11],[8,4,11],[15,13,22],[12,16,22],[15,17,23],[12,19,23],[21,13,23],[20,16,23],[21,17,22],[20,19,22],[4,0,2],[1,3,2],[4,0,14],[1,3,18],[4,0,9],[1,3,9],[4,0,18],[1,3,14],[10,7,9],[6,8,9],[4,7,14],[6,3,18],[10,0,18],[1,8,14],[1,3,5],[4,0,5],[6,8,11],[10,7,11],[1,3,11],[4,0,11],[10,7,2],[6,8,2],[3,10,22],[7,1,23],[8,4,23],[0,6,22],[1,0,5],[4,3,5],[1,0,23],[4,3,22],[10,7,14],[6,8,18],[8,6,22],[7,10,23],[4,3,11],[1,0,11],[1,0,22],[4,3,23],[10,7,18],[6,8,14],[8,6,23],[7,10,22],[6,7,11],[10,8,11],[8,1,23],[0,10,22],[3,6,22],[7,4,23],[4,3,2],[1,0,2],[10,8,2],[6,7,2],[4,3,9],[1,0,9],[10,8,9],[6,7,9],[4,8,14],[6,0,18],[10,3,18],[1,7,14],[4,8,18],[6,0,14],[10,3,14],[1,7,18],[6,7,5],[10,8,5],[6,8,5],[10,7,5],[8,1,22],[0,10,23],[3,6,23],[7,4,22],[4,24,2],[25,3,2],[4,24,26],[25,3,27],[4,24,27],[25,3,26],[28,29,26],[30,31,26],[32,33,26],[34,35,27],[36,37,27],[38,39,27],[2,0,1],[1,2,0],[1,25,5],[24,0,5],[39,36,40],[35,38,40],[37,34,40],[33,30,41],[29,32,41],[31,28,41],[5,3,4],[4,5,3],[25,1,5],[0,24,5],[24,4,5],[3,25,5],[4,3,41],[25,1,40],[24,4,41],[3,25,40],[4,3,40],[25,1,41],[24,4,40],[3,25,41],[35,34,40],[37,36,40],[39,38,40],[29,28,41],[31,30,41],[33,32,41],[3,5,4],[5,4,3],[25,1,2],[0,24,2],[24,4,2],[3,25,2],[25,1,9],[0,24,9],[24,4,9],[3,25,9],[30,33,26],[32,29,26],[28,31,26],[36,39,27],[38,35,27],[34,37,27],[0,2,1],[2,1,0],[30,33,42],[32,29,42],[28,31,42],[36,39,43],[38,35,43],[34,37,43],[7,9,6],[9,6,7],[25,1,11],[0,24,11],[24,4,11],[3,25,11],[35,34,44],[37,36,44],[39,38,44],[29,28,45],[31,30,45],[33,32,45],[8,11,10],[11,10,8],[1,25,2],[24,0,2],[1,25,42],[24,0,43],[1,25,43],[24,0,42],[1,25,27],[24,0,26],[1,25,26],[24,0,27],[1,25,9],[24,0,9],[4,24,5],[25,3,5],[4,24,11],[25,3,11],[1,0,40],[4,3,44],[0,24,45],[1,0,41],[4,3,45],[0,24,44],[0,24,40],[0,24,41],[2,3,4],[5,3,1],[5,0,4],[4,2,3],[1,5,3],[4,5,0],[2,7,6],[2,8,10],[5,8,6],[5,7,10],[1,9,7],[4,9,8],[1,11,8],[4,11,7],[9,0,6],[9,3,10],[11,3,6],[11,0,10],[6,2,7],[10,2,8],[6,5,8],[10,5,7],[9,7,1],[9,8,4],[11,8,1],[11,7,4],[6,9,0],[10,9,3],[6,11,3],[10,11,0],[9,7,6],[9,8,10],[11,8,6],[11,7,10],[6,9,7],[10,9,8],[6,11,8],[10,11,7],[2,3,10],[5,8,1],[11,0,4],[10,2,3],[1,5,8],[4,11,0],[5,0,1],[2,0,4],[2,3,1],[1,5,0],[4,2,0],[1,2,3],[11,8,10],[11,7,6],[9,7,10],[9,8,6],[10,11,8],[6,11,7],[10,9,7],[6,9,8],[5,8,10],[5,7,6],[2,7,10],[2,8,6],[4,11,8],[1,11,7],[4,9,7],[1,9,8],[11,3,10],[11,0,6],[9,0,10],[9,3,6],[10,5,8],[6,5,7],[10,2,7],[6,2,8],[11,8,4],[11,7,1],[9,7,4],[9,8,1],[10,11,3],[6,11,0],[10,9,0],[6,9,3],[22,15,13],[22,12,16],[14,12,13],[14,15,16],[13,22,15],[16,22,12],[13,14,12],[16,14,15],[22,21,17],[22,20,19],[14,20,17],[14,21,19],[13,23,21],[16,23,20],[13,18,20],[16,18,21],[23,15,17],[23,12,19],[18,12,17],[18,15,19],[17,22,21],[19,22,20],[17,14,20],[19,14,21],[23,21,13],[23,20,16],[18,20,13],[18,21,16],[17,23,15],[19,23,12],[17,18,12],[19,18,15],[5,0,6],[2,7,4],[9,3,1],[6,5,0],[4,2,7],[1,9,3],[0,2,4],[3,2,1],[0,5,1],[2,1,3],[2,4,0],[5,1,0],[7,9,10],[8,9,6],[7,11,6],[9,6,8],[9,10,7],[11,6,7],[1,7,11],[4,8,11],[1,8,9],[4,7,9],[0,9,10],[3,9,6],[3,11,10],[0,11,6],[2,6,8],[2,10,7],[5,6,7],[5,10,8],[6,0,11],[10,3,11],[6,3,9],[10,0,9],[7,2,10],[8,2,6],[8,5,10],[7,5,6],[9,1,8],[9,4,7],[11,1,7],[11,4,8],[7,9,4],[8,9,1],[8,11,4],[7,11,1],[9,6,3],[9,10,0],[11,6,0],[11,10,3],[19,12,23],[13,15,22],[16,21,18],[17,20,14],[20,14,17],[21,18,16],[15,22,13],[12,23,19],[18,16,21],[14,17,20],[23,19,12],[22,13,15],[19,20,22],[13,21,23],[16,15,14],[17,12,18],[20,18,13],[21,14,19],[15,23,17],[12,22,16],[18,19,15],[14,13,12],[23,16,20],[22,17,21],[16,12,22],[17,15,23],[19,21,14],[13,20,18],[12,14,13],[15,18,19],[21,22,17],[20,23,16],[14,16,15],[18,17,12],[22,19,20],[23,13,21],[16,20,23],[17,21,22],[19,15,18],[13,12,14],[12,18,17],[15,14,16],[21,23,13],[20,22,19],[14,19,21],[18,13,20],[22,16,12],[23,17,15],[19,12,22],[17,21,23],[16,15,18],[13,20,14],[20,14,13],[15,18,16],[21,23,17],[12,22,19],[18,16,15],[14,13,20],[22,19,12],[23,17,21],[3,2,4],[3,5,1],[0,5,4],[2,4,3],[5,1,3],[5,4,0],[1,7,9],[4,8,9],[1,8,11],[4,7,11],[0,9,6],[3,9,10],[3,11,6],[0,11,10],[2,6,7],[2,10,8],[5,6,8],[5,10,7],[6,0,9],[10,3,9],[6,3,11],[10,0,11],[7,2,6],[8,2,10],[8,5,6],[7,5,10],[9,1,7],[9,4,8],[11,1,8],[11,4,7],[7,9,1],[8,9,4],[8,11,1],[7,11,4],[9,6,0],[9,10,3],[11,6,3],[11,10,0],[8,9,10],[8,11,6],[7,11,10],[9,10,8],[11,6,8],[11,10,7],[6,0,2],[10,3,2],[6,3,5],[10,0,5],[7,2,1],[8,2,4],[8,5,1],[7,5,4],[9,1,0],[9,4,3],[11,1,3],[11,4,0],[1,7,2],[4,8,2],[1,8,5],[4,7,5],[0,9,1],[3,9,4],[3,11,1],[0,11,4],[2,6,0],[2,10,3],[5,6,3],[5,10,0],[0,2,6],[3,2,10],[3,5,6],[0,5,10],[2,1,7],[2,4,8],[5,1,8],[5,4,7],[16,12,14],[13,21,18],[19,15,23],[17,20,22],[12,14,16],[21,18,13],[15,23,19],[20,22,17],[14,16,12],[18,13,21],[23,19,15],[22,17,20],[19,20,18],[17,15,14],[16,21,22],[13,12,23],[20,18,19],[15,14,17],[21,22,16],[12,23,13],[18,19,20],[14,17,15],[22,16,21],[23,13,12],[6,0,5],[10,3,5],[6,3,2],[10,0,2],[7,2,4],[8,2,1],[8,5,4],[7,5,1],[9,1,3],[9,4,0],[11,1,0],[11,4,3],[1,7,5],[4,8,5],[1,8,2],[4,7,2],[0,9,4],[3,9,1],[3,11,4],[0,11,1],[2,6,3],[2,10,0],[5,6,0],[5,10,3],[0,2,10],[3,2,6],[3,5,10],[0,5,6],[2,1,8],[2,4,7],[5,1,7],[5,4,8],[21,17,23],[20,16,22],[12,13,18],[15,19,14],[23,21,17],[22,20,16],[18,12,13],[14,15,19],[17,23,21],[16,22,20],[13,18,12],[19,14,15],[21,13,22],[20,19,23],[12,17,14],[15,16,18],[23,15,13],[22,12,19],[18,20,17],[14,21,16],[17,22,15],[16,23,12],[13,14,20],[19,18,21],[15,17,22],[12,16,23],[20,13,14],[21,19,18],[22,21,13],[23,20,19],[14,12,17],[18,15,16],[13,23,15],[19,22,12],[17,18,20],[16,14,21],[15,13,23],[12,19,22],[20,17,18],[21,16,14],[22,15,17],[23,12,16],[14,20,13],[18,21,19],[13,22,21],[19,23,20],[17,14,12],[16,18,15],[6,5,3],[4,9,3],[9,3,4],[5,7,4],[4,5,7],[5,3,6]],Z=[[0],[0,1],[0,2],[0,3],[0,2,4,5],[0,6],[0,7],[0,6,4,8],[0,7,4,9],[0,6,2,1],[0,3,1,10],[0,6,2,1,4,8,5,11],[0,12,1,7],[0,1,13,14],[0,12,1,7,4,15,11,9],[0,16,2,17],[0,18,12,17],[0,16,5,19],[0,20,13,19],[0,18,12,17,4,21,15,19],[0,16,2,17,4,22,5,19],[0,16,2,17,23,24,13,25,26,20,27,28,4,22,5,19],[0,16,17,2,29,21,30,15],[0,20,13,19,29,31,32,33],[0,16,6,34],[0,18,7,34],[0,16,7,35],[0,16,36,37],[0,18,36,38],[0,16,14,39],[0,20,40,34],[0,16,8,41],[0,18,8,42],[0,16,9,42],[0,16,6,34,4,22,8,41],[0,18,7,34,4,21,9,41],[0,16,7,35,4,22,9,42],[0,16,6,34,23,24,14,39],[0,16,10,43,23,24,7,35],[0,16,36,37,23,24,9,42],[0,16,8,41,23,24,40,38],[0,16,6,34,23,24,14,39,26,20,40,38,4,22,8,41],[0,16,44,45,23,24,46,47,26,20,48,49,4,22,50,51],[0,16,6,34,29,21,9,42],[0,16,8,41,29,21,7,35],[0,16,36,37,29,21,14,39],[0,16,2,17,1,52,6,34],[0,16,2,17,53,54,9,42],[0,16,12,33,1,52,7,35],[0,16,2,17,11,55,8,41],[0,56,2,57,1,58,6,37],[0,56,15,25,1,58,9,39],[0,20,27,17,1,59,40,34],[0,56,12,28,1,58,7,38],[0,16,5,19,1,52,8,41],[0,22,13,28,1,55,14,38],[0,18,13,60,1,61,14,43],[0,16,15,30,1,52,9,42],[0,16,5,19,11,55,6,34],[0,21,12,19,1,54,7,41],[0,20,13,19,1,59,14,41],[0,20,3,30,1,59,10,42],[0,18,12,17,1,61,7,34,4,21,15,19,11,54,9,41],[0,24,13,17,1,62,14,34,4,20,27,19,11,59,40,41],[0,16,2,17,1,52,6,34,4,22,5,19,11,55,8,41],[0,16,12,33,1,52,7,35,4,22,15,30,11,55,9,42],[0,31,3,17,1,63,10,34,4,56,32,19,11,58,36,41],[0,22,2,19,64,59,14,38,4,16,5,17,65,62,40,39],[0,16,2,17,1,52,6,34,23,24,13,25,64,62,14,39,26,20,27,28,65,59,40,38,4,22,5,19,11,55,8,41],[0,16,2,17,66,67,44,45,23,24,13,25,68,69,46,47,26,20,27,28,70,71,48,49,4,22,5,19,72,73,50,51],[0,16,2,17,1,52,6,34,29,21,15,30,53,54,9,42],[0,16,5,19,1,52,8,41,29,21,12,33,53,54,7,35],[0,20,13,19,1,59,14,41,29,31,32,33,53,63,36,35],[0,31,3,17,1,63,10,34,29,20,27,30,53,59,40,42],[0,16,74,75],[0,18,76,77],[0,16,78,79],[0,18,80,81],[0,16,74,75,29,21,82,83],[0,21,84,85,29,16,86,87],[0,16,88,89],[0,16,88,89,29,21,90,91],[0,16,74,75,1,52,88,89],[0,16,78,79,1,52,92,93],[0,16,94,95,11,55,88,89],[0,16,82,83,53,54,88,89],[0,16,74,75,1,52,88,89,29,21,82,83,53,54,90,91],[0,21,84,85,96,97,88,91,29,16,86,87,98,99,90,89],[0,16,74,75,2,17,100,101],[0,16,94,95,5,19,100,101],[0,18,76,77,2,33,102,103],[0,18,104,105,106,107,100,108],[0,16,78,79,2,17,109,108],[0,16,82,83,15,30,100,101],[0,18,80,81,2,33,110,111],[0,18,112,113,114,115,100,108],[0,16,74,75,2,17,100,101,29,21,82,83,15,30,116,117],[0,21,84,85,118,119,116,101,29,16,86,87,120,121,100,117],[0,16,74,75,6,34,122,123],[0,16,74,75,8,41,124,125],[0,16,78,79,7,35,122,123],[0,16,82,83,9,42,122,123],[0,16,74,75,7,35,126,127],[0,16,74,75,9,42,128,129],[0,16,78,79,6,34,126,127],[0,16,78,79,8,41,128,129],[0,16,74,75,6,34,122,123,29,21,82,83,9,42,128,129],[0,16,74,75,7,35,126,127,29,21,82,83,8,41,124,125],[0,21,84,85,6,42,130,131,29,16,86,87,9,34,132,133],[0,21,84,85,7,41,134,135,29,16,86,87,8,35,136,137],[0,16,89,88,2,17,122,123],[0,16,89,88,12,33,126,127],[0,16,89,88,5,19,124,125],[0,16,89,88,15,30,128,129],[0,16,88,89,6,34,100,101],[0,16,89,88,7,35,109,108],[0,16,89,88,8,41,138,139],[0,16,89,88,9,42,116,117],[0,16,89,88,6,34,100,101,29,21,91,90,9,42,116,117],[0,16,89,88,7,35,109,108,29,21,91,90,8,41,138,139],[0,16,89,88,2,17,122,123,29,21,91,90,15,30,128,129],[0,16,89,88,118,121,132,131,29,21,91,90,120,119,130,133],[0,16,74,75,2,17,100,101,1,52,88,89,6,34,122,123],[0,16,74,75,12,33,109,108,1,52,88,89,7,35,126,127],[0,16,74,75,2,17,100,101,11,55,140,141,8,41,124,125],[0,16,74,75,2,17,100,101,53,54,90,91,9,42,128,129],[0,16,74,75,5,19,138,139,1,52,88,89,8,41,124,125],[0,16,74,75,15,30,116,117,1,52,88,89,9,42,128,129],[0,16,94,95,5,19,100,101,11,55,88,89,6,34,124,125],[0,16,94,95,15,30,109,108,11,55,88,89,7,35,128,129],[0,16,78,79,2,17,109,108,1,52,92,93,6,34,126,127],[0,16,78,79,12,33,100,101,1,52,92,93,7,35,122,123],[0,16,82,83,12,33,138,139,53,54,88,89,8,41,126,127],[0,16,82,83,2,17,116,117,53,54,88,89,9,42,122,123],[0,16,78,79,5,19,116,117,1,52,92,93,8,41,128,129],[0,16,82,83,15,30,100,101,1,52,90,91,9,42,122,123],[0,16,82,83,15,30,100,101,53,54,88,89,6,34,128,129],[0,16,82,83,5,19,109,108,53,54,88,89,7,35,124,125],[0,16,74,75,2,17,100,101,1,52,88,89,6,34,122,123,29,21,82,83,15,30,116,117,53,54,90,91,9,42,128,129],[0,16,74,75,12,33,109,108,1,52,88,89,7,35,126,127,29,21,82,83,5,19,138,139,53,54,90,91,8,41,124,125],[0,21,84,85,118,119,116,101,96,97,88,91,9,34,132,133,29,16,86,87,120,121,100,117,98,99,90,89,6,42,130,131],[0,21,84,85,142,143,138,108,96,97,88,91,8,35,136,137,29,16,86,87,144,145,109,139,98,99,90,89,7,41,134,135],[0,146,147],[0,148,149],[0,150,151],[0,146,147,152,153,154,155,156,157],[0,158,159],[0,146,147,1,160,161],[0,146,147,1,160,161,152,153,154,162,163,164,155,156,157,165,166,167],[0,158,159,1,168,169],[0,146,147,101,170,171],[0,146,147,100,172,173],[0,148,149,174,175,171],[0,148,149,100,176,177],[0,150,151,178,179,171],[0,150,151,100,180,181],[0,146,147,100,172,173,152,153,154,182,183,184,155,156,157,185,186,187],[0,158,159,101,188,189],[0,146,147,122,190,191],[0,146,147,123,192,193],[0,146,147,126,194,195],[0,146,147,127,196,197],[0,146,147,122,190,191,152,153,154,198,199,200,155,156,157,201,202,203],[0,158,159,123,204,205],[0,146,147,126,194,195,152,153,154,206,207,208,155,156,157,209,210,211],[0,158,159,129,212,213],[0,146,147,101,170,171,1,160,161,123,192,193],[0,146,147,108,214,215,1,160,161,127,196,197],[0,146,147,100,172,173,1,160,161,122,190,191],[0,146,147,109,216,217,1,160,161,126,194,195],[0,146,147,100,172,173,1,160,161,122,190,191,152,153,154,182,183,184,162,163,164,198,199,200,155,156,157,185,186,187,165,166,167,201,202,203],[0,158,159,101,188,189,1,168,169,123,204,205],[0,146,147,109,216,217,1,160,161,126,194,195,152,153,154,218,219,220,162,163,164,206,207,208,155,156,157,221,222,223,165,166,167,209,210,211],[0,158,159,117,224,225,1,168,169,129,212,213],[0,146,147,16,226,227],[0,148,149,18,228,229],[0,150,151,18,230,231],[0,150,151,16,232,233],[0,148,149,16,234,235],[0,146,147,18,236,237],[0,146,147,52,238,239],[0,146,147,16,226,227,1,160,161,52,238,239],[0,146,147,18,236,237,1,160,161,61,240,241],[0,146,147,16,226,227,100,172,173,101,170,171],[0,148,149,18,228,229,242,172,181,243,214,244],[0,150,151,18,230,231,245,172,177,246,214,247],[0,150,151,16,232,233,245,172,177,174,170,248],[0,148,149,16,234,235,242,172,181,178,170,249],[0,146,147,18,236,237,100,172,173,108,214,215],[0,146,147,16,226,227,122,190,191,123,192,193],[0,146,147,16,226,227,126,194,195,127,196,197],[0,146,147,18,236,237,126,194,195,123,192,193],[0,146,147,18,236,237,122,190,191,127,196,197],[0,146,147,52,238,239,122,190,191,101,170,171],[0,146,147,61,240,241,126,194,195,101,170,171],[0,146,147,52,238,239,100,172,173,123,192,193],[0,146,147,61,240,241,100,172,173,127,196,197],[0,146,147,16,226,227,100,172,173,101,170,171,1,160,161,52,239,238,122,190,191,123,192,193],[0,146,147,16,226,227,109,216,217,108,214,215,1,160,161,52,239,238,126,194,195,127,196,197],[0,146,147,18,236,237,109,216,217,101,170,171,1,160,161,61,241,240,126,194,195,123,192,193],[0,146,147,18,236,237,100,172,173,108,214,215,1,160,161,61,241,240,122,190,191,127,196,197],[0,16,2,17,158,250,251,252,159,253,254,255],[0,16,2,17,158,250,251,252,159,253,254,255,23,24,13,25,256,257,258,259,260,261,262,263,26,20,27,28,264,265,266,267,268,269,270,271,4,22,5,19,272,273,274,275,276,277,278,279],[0,16,2,17,158,250,251,252,159,253,254,255,29,21,15,30,280,281,282,283,284,285,286,287],[0,20,13,19,158,273,266,259,159,261,278,271],[0,20,13,19,158,273,266,259,159,261,278,271,29,31,32,33,280,288,289,290,284,291,292,293],[0,16,2,17,158,250,251,252,159,253,254,255,1,52,6,34,168,294,295,296,169,297,298,299],[0,16,2,17,158,250,251,252,159,253,254,255,53,54,9,42,300,301,302,303,304,305,306,307],[0,16,2,17,158,250,251,252,159,253,254,255,1,52,6,34,168,294,295,296,169,297,298,299,23,24,13,25,256,257,258,259,260,261,262,263,64,62,14,39,308,309,310,311,312,313,314,315,26,20,27,28,264,265,266,267,268,269,270,271,65,59,40,38,316,317,318,319,320,321,322,323,4,22,5,19,272,273,274,275,276,277,278,279,11,55,8,41,324,325,326,327,328,329,330,331],[0,16,2,17,158,250,251,252,159,253,254,255,66,67,44,45,332,333,334,335,336,337,338,339,23,24,13,25,256,257,258,259,260,261,262,263,68,69,46,47,340,341,342,343,344,345,346,347,26,20,27,28,264,265,266,267,268,269,270,271,70,71,48,49,348,349,350,351,352,353,354,355,4,22,5,19,272,273,274,275,276,277,278,279,72,73,50,51,356,357,358,359,360,361,362,363],[0,16,2,17,158,250,251,252,159,253,254,255,1,52,6,34,168,294,295,296,169,297,298,299,29,21,15,30,280,281,282,283,284,285,286,287,53,54,9,42,300,301,302,303,304,305,306,307],[0,20,13,19,158,273,266,259,159,261,278,271,1,59,14,41,168,325,318,311,169,313,330,323],[0,20,13,19,158,273,266,259,159,261,278,271,1,59,14,41,168,325,318,311,169,313,330,323,29,31,32,33,280,288,289,290,284,291,292,293,53,63,36,35,300,364,365,366,304,367,368,369],[0,16,2,17,158,250,251,252,159,253,254,255,100,101,75,74,370,371,188,372,373,374,375,189],[0,16,2,17,158,250,251,252,159,253,254,255,116,117,83,82,376,377,224,378,379,380,381,225],[0,16,2,17,158,250,251,252,159,253,254,255,100,101,75,74,370,371,188,372,373,374,375,189,23,24,13,25,256,257,258,259,260,261,262,263,382,383,384,385,386,387,388,389,390,391,392,393,26,20,27,28,264,265,266,267,268,269,270,271,394,395,396,397,398,399,400,401,402,403,404,405,4,22,5,19,272,273,274,275,276,277,278,279,138,139,95,94,406,407,408,409,410,411,412,413],[0,24,5,28,158,265,258,275,159,277,270,263,414,415,416,417,418,419,420,421,422,423,424,425,23,16,27,19,256,273,251,267,260,269,278,255,426,427,428,429,430,431,432,433,434,435,436,437,26,22,13,17,264,250,274,259,268,261,254,279,438,439,440,441,442,443,444,445,446,447,448,449,4,20,2,25,272,257,266,252,276,253,262,271,450,451,452,453,454,455,456,457,458,459,460,461],[0,16,2,17,158,250,251,252,159,253,254,255,100,101,75,74,370,371,188,372,373,374,375,189,29,21,15,30,280,281,282,283,284,285,286,287,116,117,83,82,376,377,224,378,379,380,381,225],[0,20,13,19,158,273,266,259,159,261,278,271,450,415,440,429,454,431,420,445,458,447,436,425],[0,20,13,19,158,273,266,259,159,261,278,271,462,463,464,465,466,467,468,469,470,471,472,473],[0,20,13,19,158,273,266,259,159,261,278,271,462,463,464,465,466,467,468,469,470,471,472,473,29,31,32,33,280,288,289,290,284,291,292,293,450,415,440,429,454,431,420,445,458,447,436,425],[0,16,2,17,158,250,251,252,159,253,254,255,123,122,88,89,204,474,475,476,205,477,478,479],[0,16,2,17,158,250,251,252,159,253,254,255,123,122,88,89,204,474,475,476,205,477,478,479,23,24,13,25,256,257,258,259,260,261,262,263,480,481,482,483,484,485,486,487,488,489,490,491,26,20,27,28,264,265,266,267,268,269,270,271,492,493,494,495,496,497,498,499,500,501,502,503,4,22,5,19,272,273,274,275,276,277,278,279,125,124,140,141,504,505,506,507,508,509,510,511],[0,16,2,17,158,250,251,252,159,253,254,255,123,122,88,89,204,474,475,476,205,477,478,479,29,21,15,30,280,281,282,283,284,285,286,287,129,128,90,91,212,512,513,514,213,515,516,517],[0,16,2,17,158,250,251,252,159,253,254,255,129,128,90,91,212,512,513,514,213,515,516,517],[0,16,2,17,158,250,251,252,159,253,254,255,129,128,90,91,212,512,513,514,213,515,516,517,23,24,13,25,256,257,258,259,260,261,262,263,518,519,520,521,522,523,524,525,526,527,528,529,26,20,27,28,264,265,266,267,268,269,270,271,530,531,532,533,534,535,536,537,538,539,540,541,4,22,5,19,272,273,274,275,276,277,278,279,127,126,92,93,542,543,544,545,546,547,548,549],[0,20,13,19,158,273,266,259,159,261,278,271,550,551,552,553,554,555,556,557,558,559,560,561,29,31,32,33,280,288,289,290,284,291,292,293,562,563,564,565,566,567,568,569,570,571,572,573],[0,16,2,17,158,250,251,252,159,253,254,255,100,101,75,74,370,371,188,372,373,374,375,189,1,52,6,34,168,294,295,296,169,297,298,299,122,123,89,88,475,476,204,474,479,478,477,205],[0,16,2,17,158,250,251,252,159,253,254,255,100,101,75,74,370,371,188,372,373,374,375,189,53,54,9,42,300,301,302,303,304,305,306,307,128,129,91,90,513,514,212,512,517,516,515,213],[0,16,2,17,158,250,251,252,159,253,254,255,116,117,83,82,376,377,224,378,379,380,381,225,1,52,6,34,168,294,295,296,169,297,298,299,128,129,91,90,513,514,212,512,517,516,515,213],[0,16,2,17,158,250,251,252,159,253,254,255,116,117,83,82,376,377,224,378,379,380,381,225,53,54,9,42,300,301,302,303,304,305,306,307,122,123,89,88,475,476,204,474,479,478,477,205],[0,16,2,17,158,250,251,252,159,253,254,255,100,101,75,74,370,371,188,372,373,374,375,189,1,52,6,34,168,294,295,296,169,297,298,299,122,123,89,88,475,476,204,474,479,478,477,205,23,24,13,25,256,257,258,259,260,261,262,263,382,383,384,385,386,387,388,389,390,391,392,393,64,62,14,39,308,309,310,311,312,313,314,315,481,480,483,482,486,487,484,485,491,490,489,488,26,20,27,28,264,265,266,267,268,269,270,271,394,395,396,397,398,399,400,401,402,403,404,405,65,59,40,38,316,317,318,319,320,321,322,323,493,492,495,494,498,499,496,497,503,502,501,500,4,22,5,19,272,273,274,275,276,277,278,279,138,139,95,94,406,407,408,409,410,411,412,413,11,55,8,41,324,325,326,327,328,329,330,331,124,125,141,140,506,507,504,505,511,510,509,508],[0,16,2,17,158,250,251,252,159,253,254,255,116,117,83,82,376,377,224,378,379,380,381,225,1,52,6,34,168,294,295,296,169,297,298,299,128,129,91,90,513,514,212,512,517,516,515,213,23,24,13,25,256,257,258,259,260,261,262,263,574,575,576,577,578,579,580,581,582,583,584,585,64,62,14,39,308,309,310,311,312,313,314,315,519,518,521,520,524,525,522,523,529,528,527,526,26,20,27,28,264,265,266,267,268,269,270,271,586,587,588,589,590,591,592,593,594,595,596,597,65,59,40,38,316,317,318,319,320,321,322,323,531,530,533,532,536,537,534,535,541,540,539,538,4,22,5,19,272,273,274,275,276,277,278,279,109,108,79,78,598,599,600,601,602,603,604,605,11,55,8,41,324,325,326,327,328,329,330,331,126,127,93,92,544,545,542,543,549,548,547,546],[0,24,5,28,158,265,258,275,159,277,270,263,414,415,416,417,418,419,420,421,422,423,424,425,66,69,50,49,332,349,342,359,336,361,354,347,493,123,483,140,498,507,204,485,503,490,509,205,23,16,27,19,256,273,251,267,260,269,278,255,426,427,428,429,430,431,432,433,434,435,436,437,68,67,48,51,340,357,334,351,344,353,362,339,124,480,89,494,506,499,484,474,511,478,501,488,26,22,13,17,264,250,274,259,268,261,254,279,438,439,440,441,442,443,444,445,446,447,448,449,70,73,46,45,348,333,358,343,352,345,338,363,122,492,141,482,475,487,496,505,479,510,489,500,4,20,2,25,272,257,266,252,276,253,262,271,450,451,452,453,454,455,456,457,458,459,460,461,72,71,44,47,356,341,350,335,360,337,346,355,481,125,495,88,486,476,504,497,491,502,477,508],[0,24,5,28,158,265,258,275,159,277,270,263,414,415,416,417,418,419,420,421,422,423,424,425,606,607,608,609,610,611,612,613,614,615,616,617,531,129,521,92,536,545,212,523,541,528,547,213,23,16,27,19,256,273,251,267,260,269,278,255,426,427,428,429,430,431,432,433,434,435,436,437,618,619,620,621,622,623,624,625,626,627,628,629,126,518,91,532,544,537,522,512,549,516,539,526,26,22,13,17,264,250,274,259,268,261,254,279,438,439,440,441,442,443,444,445,446,447,448,449,630,631,632,633,634,635,636,637,638,639,640,641,128,530,93,520,513,525,534,543,517,548,527,538,4,20,2,25,272,257,266,252,276,253,262,271,450,451,452,453,454,455,456,457,458,459,460,461,642,643,644,645,646,647,648,649,650,651,652,653,519,127,533,90,524,514,542,535,529,540,515,546],[0,16,2,17,158,250,251,252,159,253,254,255,100,101,75,74,370,371,188,372,373,374,375,189,1,52,6,34,168,294,295,296,169,297,298,299,122,123,89,88,475,476,204,474,479,478,477,205,29,21,15,30,280,281,282,283,284,285,286,287,116,117,83,82,376,377,224,378,379,380,381,225,53,54,9,42,300,301,302,303,304,305,306,307,128,129,91,90,513,514,212,512,517,516,515,213],[0,20,13,19,158,273,266,259,159,261,278,271,462,463,464,465,466,467,468,469,470,471,472,473,1,59,14,41,168,325,318,311,169,313,330,323,551,550,553,552,556,557,554,555,561,560,559,558,29,31,32,33,280,288,289,290,284,291,292,293,450,415,440,429,454,431,420,445,458,447,436,425,53,63,36,35,300,364,365,366,304,367,368,369,563,562,565,564,568,569,566,567,573,572,571,570],[0,16],[0,18],[0,16,26,20],[0,2,23,13],[0,3,4,32],[0,2,29,15],[0,3,29,27],[0,52],[0,63],[0,52,26,59],[0,63,26,54],[0,52,16,1],[0,18,1,61],[0,52,16,1,26,59,20,65],[0,31,1,63],[0,1,24,62],[0,15,1,9],[0,5,1,8],[0,31,1,63,26,21,65,54],[0,2,57,56],[0,60,3,16],[0,22,57,3],[0,2,28,20],[0,17,13,24],[0,20,19,13,4,24,17,27],[0,22,57,3,4,16,60,32],[0,22,57,3,23,20,30,12,26,24,33,15,4,16,60,32],[0,22,57,3,29,18,27,25],[0,22,3,57,1,55,10,37],[0,22,385,396,3,57,109,117],[0,22,57,3,159,279,654,655,158,274,656,657,29,18,25,27,284,658,262,269,280,659,257,267]],W={"P 1":0,"P -1":1,"P 1 2 1":2,"P 1 21 1":3,"C 1 2 1":4,"P 1 m 1":5,"P 1 c 1":6,"C 1 m 1":7,"C 1 c 1":8,"P 1 2/m 1":9,"P 1 21/m 1":10,"C 1 2/m 1":11,"P 1 2/c 1":12,"P 1 21/c 1":13,"C 1 2/c 1":14,"P 2 2 2":15,"P 2 2 21":16,"P 21 21 2":17,"P 21 21 21":18,"C 2 2 21":19,"C 2 2 2":20,"F 2 2 2":21,"I 2 2 2":22,"I 21 21 21":23,"P m m 2":24,"P m c 21":25,"P c c 2":26,"P m a 2":27,"P c a 21":28,"P n c 2":29,"P m n 21":30,"P b a 2":31,"P n a 21":32,"P n n 2":33,"C m m 2":34,"C m c 21":35,"C c c 2":36,"A m m 2":37,"A b m 2":38,"A m a 2":39,"A b a 2":40,"F m m 2":41,"F d d 2":42,"I m m 2":43,"I b a 2":44,"I m a 2":45,"P 2/m 2/m 2/m":46,"P m m m":46,"P 2/n 2/n 2/n":47,"P n n n":47,"P 2/c 2/c 2/m":48,"P c c m":48,"P 2/b 2/a 2/n":49,"P b a n":49,"P 21/m 2/m 2/a":50,"P m m a":50,"P 2/n 21/n 2/a":51,"P n n a":51,"P 2/m 2/n 21/a":52,"P m n a":52,"P 21/c 2/c 2/a":53,"P c c a":53,"P 21/b 21/a 2/m":54,"P b a m":54,"P 21/c 21/c 2/n":55,"P c c n":55,"P 2/b 21/c 21/m":56,"P b c m":56,"P 21/n 21/n 2/m":57,"P n n m":57,"P 21/m 21/m 2/n":58,"P m m n":58,"P 21/b 2/c 21/n":59,"P b c n":59,"P 21/b 21/c 21/a":60,"P b c a":60,"P 21/n 21/m 21/a":61,"P n m a":61,"C 2/m 2/c 21/m":62,"C m c m":62,"C 2/m 2/c 21/a":63,"C m c a":63,"C 2/m 2/m 2/m":64,"C m m m":64,"C 2/c 2/c 2/m":65,"C c c m":65,"C 2/m 2/m 2/a":66,"C m m a":66,"C 2/c 2/c 2/a":67,"C c c a":67,"F 2/m 2/m 2/m":68,"F m m m":68,"F 2/d 2/d 2/d":69,"F d d d":69,"I 2/m 2/m 2/m":70,"I m m m":70,"I 2/b 2/a 2/m":71,"I b a m":71,"I 21/b 21/c 21/a":72,"I b c a":72,"I 21/m 21/m 21/a":73,"I m m a":73,"P 4":74,"P 41":75,"P 42":76,"P 43":77,"I 4":78,"I 41":79,"P -4":80,"I -4":81,"P 4/m":82,"P 42/m":83,"P 4/n":84,"P 42/n":85,"I 4/m":86,"I 41/a":87,"P 4 2 2":88,"P 4 21 2":89,"P 41 2 2":90,"P 41 21 2":91,"P 42 2 2":92,"P 42 21 2":93,"P 43 2 2":94,"P 43 21 2":95,"I 4 2 2":96,"I 41 2 2":97,"P 4 m m":98,"P 4 b m":99,"P 42 c m":100,"P 42 n m":101,"P 4 c c":102,"P 4 n c":103,"P 42 m c":104,"P 42 b c":105,"I 4 m m":106,"I 4 c m":107,"I 41 m d":108,"I 41 c d":109,"P -4 2 m":110,"P -4 2 c":111,"P -4 21 m":112,"P -4 21 c":113,"P -4 m 2":114,"P -4 c 2":115,"P -4 b 2":116,"P -4 n 2":117,"I -4 m 2":118,"I -4 c 2":119,"I -4 2 m":120,"I -4 2 d":121,"P 4/m 2/m 2/m":122,"P4/m m m":122,"P 4/m 2/c 2/c":123,"P4/m c c":123,"P 4/n 2/b 2/m":124,"P4/n b m":124,"P 4/n 2/n 2/c":125,"P4/n n c":125,"P 4/m 21/b 2/m":126,"P4/m b m":126,"P 4/m 21/n 2/c":127,"P4/m n c":127,"P 4/n 21/m 2/m":128,"P4/n m m":128,"P 4/n 2/c 2/c":129,"P4/n c c":129,"P 42/m 2/m 2/c":130,"P42/m m c":130,"P 42/m 2/c 2/m":131,"P42/m c m":131,"P 42/n 2/b 2/c":132,"P42/n b c":132,"P 42/n 2/n 2/m":133,"P42/n n m":133,"P 42/m 21/b 2/c":134,"P42/m b c":134,"P 42/m 21/n 2/m":135,"P42/m n m":135,"P 42/n 21/m 2/c":136,"P42/n m c":136,"P 42/n 21/c 2/m":137,"P42/n c m":137,"I 4/m 2/m 2/m":138,"I4/m m m":138,"I 4/m 2/c 2/m":139,"I4/m c m":139,"I 41/a 2/m 2/d":140,"I41/a m d":140,"I 41/a 2/c 2/d":141,"I41/a c d":141,"P 3":142,"P 31":143,"P 32":144,"H 3":145,"R 3":146,"P -3":147,"H -3":148,"R -3":149,"P 3 1 2":150,"P 3 2 1":151,"P 31 1 2":152,"P 31 2 1":153,"P 32 1 2":154,"P 32 2 1":155,"H 3 2":156,"R 3 2":157,"P 3 m 1":158,"P 3 1 m":159,"P 3 c 1":160,"P 3 1 c":161,"H 3 m":162,"R 3 m":163,"H 3 c":164,"R 3 c":165,"P -3 1 2/m":166,"P -3 1 m":166,"P -3 1 2/c":167,"P -3 1 c":167,"P -3 2/m 1":168,"P -3 m 1":168,"P -3 2/c 1":169,"P -3 c 1":169,"H -3 2/m":170,"H -3 m":170,"R -3 2/m":171,"R -3 m":171,"H -3 2/c":172,"H -3 c":172,"R -3 2/c":173,"R -3 c":173,"P 6":174,"P 61":175,"P 65":176,"P 62":177,"P 64":178,"P 63":179,"P -6":180,"P 6/m":181,"P 63/m":182,"P 6 2 2":183,"P 61 2 2":184,"P 65 2 2":185,"P 62 2 2":186,"P 64 2 2":187,"P 63 2 2":188,"P 6 m m":189,"P 6 c c":190,"P 63 c m":191,"P 63 m c":192,"P -6 m 2":193,"P -6 c 2":194,"P -6 2 m":195,"P -6 2 c":196,"P 6/m 2/m 2/m":197,"P 6/m m m":197,"P 6/m 2/c 2/c":198,"P 6/m c c":198,"P 63/m 2/c 2/m":199,"P 63/m c m":199,"P 63/m 2/m 2/c":200,"P 63/m m c":200,"P 2 3":201,"F 2 3":202,"I 2 3":203,"P 21 3":204,"I 21 3":205,"P 2/m -3":206,"P m -3":206,"P 2/n -3":207,"P n -3":207,"F 2/m -3":208,"F m -3":208,"F 2/d -3":209,"F d -3":209,"I 2/m -3":210,"I m -3":210,"P 21/a -3":211,"P a -3":211,"I 21/a -3":212,"I a -3":212,"P 4 3 2":213,"P 42 3 2":214,"F 4 3 2":215,"F 41 3 2":216,"I 4 3 2":217,"P 43 3 2":218,"P 41 3 2":219,"I 41 3 2":220,"P -4 3 m":221,"F -4 3 m":222,"I -4 3 m":223,"P -4 3 n":224,"F -4 3 c":225,"I -4 3 d":226,"P 4/m -3 2/m":227,"P m -3 m":227,"P 4/n -3 2/n":228,"P n -3 n":228,"P 42/m -3 2/n":229,"P m -3 n":229,"P 42/n -3 2/m":230,"P n -3 m":230,"F 4/m -3 2/m":231,"F m -3 m":231,"F 4/m -3 2/c":232,"F m -3 c":232,"F 41/d -3 2/m":233,"F d -3 m":233,"F 41/d -3 2/c":234,"F d -3 c":234,"I 4/m -3 2/m":235,"I m -3 m":235,"I 41/a -3 2/d":236,"I a -3 d":236,"P 1 1 2":237,"P 1 1 21":238,"B 1 1 2":239,"B 2":239,"A 1 2 1":240,"C 1 21 1":241,"I 1 2 1":242,"I 2":242,"I 1 21 1":243,"P 1 1 m":244,"P 1 1 b":245,"B 1 1 m":246,"B 1 1 b":247,"P 1 1 2/m":248,"P 1 1 21/m":249,"B 1 1 2/m":250,"P 1 1 2/b":251,"P 1 1 21/b":252,"P 1 21/n 1":253,"P 1 21/a 1":254,"B 1 1 2/b":255,"P 21 2 2":256,"P 2 21 2":257,"P 21 21 2 (a)":258,"P 21 2 21":259,"P 2 21 21":260,"C 2 2 21a)":261,"C 2 2 2a":262,"F 2 2 2a":263,"I 2 2 2a":264,"P 21/m 21/m 2/n a":265,"P 42 21 2a":266,"I 2 3a":267};function X(t){if(t<146)return t+1;if(146===t)return 1146;if(t<149)return t+1-1;if(149===t)return 1148;if(t<157)return t+1-2;if(157===t)return 1155;if(t<163)return t+1-3;if(163===t)return 1160;if(t<165)return t+1-4;if(165===t)return 1161;if(t<171)return t+1-5;if(171===t)return 1166;if(t<173)return t+1-6;if(173===t)return 1167;if(t<237)return t+1-7;if(237===t)return 1003;if(238===t)return 1004;if(239===t)return 1005;if(240===t)return 2005;if(241===t)return 3005;if(242===t)return 4005;if(243===t)return 5005;if(244===t)return 1006;if(245===t)return 1007;if(246===t)return 1008;if(247===t)return 1009;if(248===t)return 1010;if(249===t)return 1011;if(250===t)return 1012;if(251===t)return 1013;if(252===t)return 1014;if(253===t)return 2014;if(254===t)return 3014;if(255===t)return 1015;if(256===t)return 1017;if(257===t)return 2017;if(258===t)return 1018;if(259===t)return 2018;if(260===t)return 3018;if(261===t)return 1020;if(262===t)return 1021;if(263===t)return 1022;if(264===t)return 1023;if(265===t)return 1059;if(266===t)return 1094;if(267===t)return 1197;throw new Error("unknown spacegroup index '".concat(t,"'"))}var Q,J,$,tt,et=function(){for(var t=Object.create(null),e=0,n=Object.keys(W);e<n.length;e++){var r=n[e];t[W[r]]=r}return t}(),nt=function(){for(var t=Object.create(null),e=0,n=Object.keys(W);e<n.length;e++){var r=n[e],i=W[r];t[i]=X(i)}return t}();function rt(t,e,n){return t[e]-t[n]}function it(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function ot(t,e,n,r){var i=n+r>>1;return e(t,n,r)>0?e(t,n,i)>0?e(t,i,r)>0?i:r:n:e(t,r,i)>0?e(t,i,n)>0?i:n:r}function at(t,e,n){var r=t.cmp,i=t.swap,o=t.data,a=t.parts,u=e+1,s=n;for(i(o,e,ot(o,r,e,n));r(o,s,e)>0;)--s;for(var c=e+1;c<=s;c++){var l=r(o,c,e);if(l>0){for(i(o,c,s),--s;r(o,s,e)>0;)--s;c--}else 0===l&&(i(o,c,u),u++)}for(c=e;c<u;c++)i(o,c,e+s-c);a[0]=s-u+e+1,a[1]=s}function ut(t,e,n){for(var r=t.data,i=t.cmp,o=t.swap,a=e+1;a<=n;a++)for(var u=a-1;u>=e&&i(r,u,u+1)>0;)o(r,u,u+1),u-=1}function st(t,e,n){for(var r=t.parts;e<n;){if(n-e<16)return void ut(t,e,n);at(t,e,n);var i=r[0],o=r[1];i-e<n-o?(st(t,e,i-1),e=o+1):(st(t,o+1,n),n=i-1)}}function ct(t,e,n,r){var i=n+1,o=r;it(t,n,ot(t,rt,n,r));for(var a=t[n];t[o]>a;)--o;for(var u=n+1;u<=o;u++){var s=t[u];if(s>a){for(it(t,u,o),--o;t[o]>a;)--o;u--}else s===a&&(it(t,u,i),++i)}for(u=n;u<i;u++)it(t,u,n+o-u);e[0]=o-i+n+1,e[1]=o}function lt(t,e,n){for(var r=e+1;r<=n;r++){for(var i=t[r],o=r-1;o>=e&&t[o]>i;)t[o+1]=t[o],o-=1;t[o+1]=i}}function dt(t,e){return void 0===e&&(e=rt),function(t,e,n,r){void 0===r&&(r=rt);r===rt?function t(e,n,r,i){for(;r<i;){if(i-r<16)return void lt(e,r,i);ct(e,n,r,i);var o=n[0],a=n[1];o-r<i-a?(t(e,n,r,o-1),r=a+1):(t(e,n,a+1,i),i=o-1)}}(t,[0,0],e,n-1):st({data:t,cmp:r,swap:it,parts:[0,0]},e,n-1);return t}(t,0,t.length,e)}function ft(t,e,n,r,i){return st({data:t,cmp:r,swap:i,parts:[0,0]},e,n-1),t}function pt(t,e,n){return t[e].key<t[n].key?-1:1}function mt(t,e,n){var r=n&&n.start||0,i=n&&n.end||t.length;if(i-r<=0)throw new Error("Can only bucket non-empty collections.");return function(t,e,n,r,i){for(var o=new Map,a=[],u=e(t[0]),s=!0,c=r;c<i;c++){var l=e(t[c]);if(o.has(l))o.get(l).count++,u!==l&&(s=!1);else{var d={key:l,count:1,offset:c};o.set(l,d),a[a.length]=d}u=l}var f=new Int32Array(a.length+1);f[a.length]=i;var p=!0;if(n){c=1;for(var m=a.length;c<m;c++)if(a[c-1].key>a[c].key){p=!1;break}}if(s&&p){for(c=0;c<a.length;c++)f[c]=a[c].offset;return f}n&&!p&&ft(a,0,a.length,pt,it);var h=0;for(c=0;c<a.length;c++){var g=a[c];g.offset=h,h+=g.count}var v=new Int32Array(i-r);for(c=r;c<i;c++){l=e(t[c]);v[(d=o.get(l)).offset++]=t[c]}for(c=0,m=v.length;c<m;c++)t[c+r]=v[c];for(f[0]=r,c=1;c<a.length;c++)f[c]=a[c-1].offset+r;return f}(t,e,!(!n||!n.sort),r,i)}!function(t){function e(e,n,r){var i=function(t){var e="number"==typeof t?function(t){switch(t){case 1146:return 146;case 1148:return 149;case 1155:return 157;case 1160:return 163;case 1161:return 165;case 1166:return 171;case 1167:return 173;case 1003:return 237;case 1004:return 238;case 1005:return 239;case 2005:return 240;case 3005:return 241;case 4005:return 242;case 5005:return 243;case 1006:return 244;case 1007:return 245;case 1008:return 246;case 1009:return 247;case 1010:return 248;case 1011:return 249;case 1012:return 250;case 1013:return 251;case 1014:return 252;case 2014:return 253;case 3014:return 254;case 1015:return 255;case 1017:return 256;case 2017:return 257;case 1018:return 258;case 2018:return 259;case 3018:return 260;case 1020:return 261;case 1021:return 262;case 1022:return 263;case 1023:return 264;case 1059:return 265;case 1094:return 266;case 1197:return 267}var e=0;return t>146&&++e,t>148&&++e,t>155&&++e,t>160&&++e,t>161&&++e,t>166&&++e,t>167&&++e,t-1+e}(t):W[t];return void 0===e||void 0===et[e]?-1:e}(e);if(i<0)return console.warn("Unknown spacegroup '".concat(e,"', returning a 'P 1' with cellsize [1, 1, 1]")),t.Zero;var o=n[0]*n[1]*n[2],a=r[0],u=r[1],s=r[2],c=n[0],l=n[1],d=n[2],f=Math.cos(u),p=(Math.cos(a)-Math.cos(u)*Math.cos(s))/Math.sin(s),m=Math.sqrt(1-f*f-p*p),h=[c,0,0],g=[Math.cos(s)*l,Math.sin(s)*l,0],v=[f*d,p*d,m*d],y=I.ofRows([[h[0],g[0],v[0],0],[0,g[1],v[1],0],[0,0,v[2],0],[0,0,0,1]]);return{index:i,size:n,volume:o,anglesInRadians:r,toFractional:I.invert(I.zero(),y),fromFractional:y}}t.Zero=e("P 1",A.create(1,1,1),A.create(Math.PI/2,Math.PI/2,Math.PI/2)),t.isZero=function(t){return!t||0===t.index&&1===t.size[0]&&1===t.size[1]&&1===t.size[1]},t.create=e}(Q||(Q={})),function(t){function e(t){var e=Z[t.index].map((function(t){return n=Y[(e=K[t])[0]],r=Y[e[1]],i=Y[e[2]],I.ofRows([n,r,i,[0,0,0,1]]);var e,n,r,i}));return{name:et[t.index],num:nt[t.index],cell:t,operators:e}}t.ZeroP1=e(Q.Zero),t.create=e;var n=A(),r=I();function i(t,e,i,o,a,u){return A.set(n,i,o,a),I.fromTranslation(r,n),I.mul(u,I.mul(u,I.mul(u,t.cell.fromFractional,r),t.operators[e]),t.cell.toFractional)}t.setOperatorMatrix=i,t.getSymmetryOperator=function(t,e,n,r,o){var a=i(t,e,n,r,o,I.zero());return L.create("".concat(e+1,"_").concat(5+n).concat(5+r).concat(5+o),a,{hkl:A.create(n,r,o),spgrOp:e})};var o=A(),a=A(),u=A(),s=A();function c(t,e,n){var r=[];if(t>0?r.push("+X"):t<0&&r.push("-X"),e>0?r.push("+Y"):e<0&&r.push("-Y"),n>0?r.push("+Z"):n<0&&r.push("-Z"),1===r.length)return"+"===r[0].charAt(0)?r[0].substr(1):r[0];if(2===r.length){var i=r[0].charAt(0),o=r[1].charAt(0);if("+"===i)return"".concat(r[0].substr(1)).concat(r[1]);if("+"===o)return"".concat(r[1].substr(1)).concat(r[0])}throw new Error("unknown rotation '".concat(r,"', ").concat(t," ").concat(e," ").concat(n))}function l(t){switch(t){case.5:return"1/2";case 1/4:return"1/4";case 3/4:return"3/4";case 1/3:return"1/3";case 2/3:return"2/3";case 1/6:return"1/6";case 5/6:return"5/6"}return""}function d(t,e){return""===e?t:t.length>2?"".concat(t,"+").concat(e):"-"===t.charAt(0)?"".concat(e).concat(t):"".concat(e,"+").concat(t)}t.getSymmetryOperatorRef=function(t,e,r,i,c,l){var d=I.zero();A.set(n,r,i,c),A.floor(o,l),I.copy(d,t.operators[e]),A.floor(a,A.transformMat4(a,l,d)),I.getTranslation(s,d),A.sub(s,s,a),A.add(s,s,o),A.add(s,s,n),I.setTranslation(d,s),I.mul(d,t.cell.fromFractional,d),I.mul(d,d,t.cell.toFractional),A.sub(u,a,o);var f=r-u[0],p=i-u[1],m=c-u[2];return L.create("".concat(e+1,"_").concat(5+f).concat(5+p).concat(5+m),d,{hkl:A.create(f,p,m),spgrOp:e})},t.getOperatorXyz=function(t){return[d(c(t[0],t[4],t[8]),l(t[12])),d(c(t[1],t[5],t[9]),l(t[13])),d(c(t[2],t[6],t[10]),l(t[14]))].join(",")}}(J||(J={})),function(t){t.add=function(t,e,n){t.squaredDistances[t.count]=n,t.indices[t.count++]=e},t.reset=function(t){t.count=0},t.create=function(){return{count:0,indices:[],squaredDistances:[]}},t.copy=function(t,e){for(var n=0;n<e.count;++n)t.indices[n]=e.indices[n],t.squaredDistances[n]=e.squaredDistances[n];return t.count=e.count,t}}($||($={})),function(t){function e(t){var e=t.growBy*t.elementSize;t.currentSize=e,t.currentIndex=0,t.currentChunk=new t.ctor(e),t.allocatedSize+=e,t.chunks[t.chunks.length]=t.currentChunk}function n(t,e){var n=t.ctor,r=t.chunks,i=t.currentIndex;if(!r.length)return new n(0);if(1===r.length&&(e||i===t.allocatedSize))return r[0];for(var o=0,a=0,u=r.length-1;a<u;a++)o+=r[a].length;var s=new n(o+=t.currentIndex),c=0;if(s.buffer)for(a=0,u=r.length-1;a<u;a++)s.set(r[a],c),c+=r[a].length;else for(a=0,u=r.length-1;a<u;a++){for(var l=r[a],d=0,f=l.length;d<f;d++)s[c+d]=l[d];c+=l.length}var p=r[r.length-1];if(s.buffer&&i>=t.currentSize)s.set(p,c);else for(d=0,f=p.length;d<f;d++)s[c+d]=p[d];return s}t.is=function(t){return t.creator&&t.chunkSize},t.add4=function(t,n,r,i,o){t.currentIndex>=t.currentSize&&e(t);var a=t.currentChunk,u=t.currentIndex;return a[u]=n,a[u+1]=r,a[u+2]=i,a[u+3]=o,t.currentIndex+=4,t.elementCount++},t.add3=function(t,n,r,i){t.currentIndex>=t.currentSize&&e(t);var o=t.currentChunk,a=t.currentIndex;return o[a]=n,o[a+1]=r,o[a+2]=i,t.currentIndex+=3,t.elementCount++},t.add2=function(t,n,r){t.currentIndex>=t.currentSize&&e(t);var i=t.currentChunk,o=t.currentIndex;return i[o]=n,i[o+1]=r,t.currentIndex+=2,t.elementCount++},t.add=function(t,n){return t.currentIndex>=t.currentSize&&e(t),t.currentChunk[t.currentIndex]=n,t.currentIndex+=1,t.elementCount++},t.addRepeat=function(t,n,r){for(var i=0;i<n;i++)t.currentIndex>=t.currentSize&&e(t),t.currentChunk[t.currentIndex++]=r,t.elementCount++;return t.elementCount},t.addMany=function(t,n){for(var r=t.elementSize,i=0,o=n.length;i<o;i+=r){t.currentIndex>=t.currentSize&&e(t);for(var a=t.currentChunk,u=0;u<r;u++)a[t.currentIndex++]=n[i+u];t.elementCount++}return t.elementCount},t.compact=function(t,e){return void 0===e&&(e=!1),n(t,e)},t._compact=n,t.create=function(t,e,n,r){var i={ctor:t,elementSize:e,growBy:Math.max(1,Math.ceil(n)),allocatedSize:0,elementCount:0,currentSize:0,currentChunk:void 0,currentIndex:0,chunks:[]};if(void 0===r)return i;if("number"==typeof r)return i.currentChunk=new t(r*e),i.allocatedSize=r*e,i.currentSize=i.currentChunk.length,i.chunks[0]=i.currentChunk,i;var o=r;if(o.length%e!=0)throw new Error("initialChunk length must be a multiple of the element size.");return i.currentChunk=o,i.allocatedSize=o.length,i.currentSize=o.length,i.chunks[0]=o,i}}(tt||(tt={}));var ht=function(){function t(t,e){this.getHash=t,this.areEqual=e,this.id=0,this.byHash=new Map,this.groups=[]}return t.prototype.createGroup=function(t,e){var n=this.id++,r=[t];return this.groups[n]=r,{id:n,keys:r,value:e}},t.prototype.add=function(t,e){var n=this.getHash(e);if(this.byHash.has(n)){for(var r=this.byHash.get(n),i=0,o=r.length;i<o;i++){var a=r[i];if(this.areEqual(e,a.value))return a.keys[a.keys.length]=t,a.value}var u=this.createGroup(t,e);return r[r.length]=u,u.value}u=this.createGroup(t,e);return this.byHash.set(n,[u]),u.value},t}();function gt(t,e){var n=23;return n=31*(n=31*n+t|0)+e|0,n=(3735928559^(n^=n>>4))+(n<<5),n^=n>>11}function vt(t,e){return(t+e)*(t+e+1)/2+e}function yt(t,e){return t<e?vt(t,e):vt(e,t)}function _t(t){for(var e=2166136261,n=0,r=t.length;n<r;++n)e^=t[n],e+=(e<<1)+(e<<4)+(e<<7)+(e<<8)+(e<<24);return e>>>0}function bt(t,e){return{start:e&&void 0!==e.start?Math.max(Math.min(e.start,t-1),0):0,end:e&&void 0!==e.end?Math.min(e.end,t):t}}function xt(t,e){var n=e&&void 0!==e.array?e.array:Array,r=bt(t,e),i=r.start,o=r.end;return{array:new n(o-i),start:i,end:o}}function At(t,e,n){for(var r=0,i=e.length;r<i;r++)e[r]=t(n+r);return e}function wt(t,e,n){var r=xt(t,n);return At(e,r.array,r.start)}function St(t){return!!t.buffer&&"number"==typeof t.byteLength&&"number"==typeof t.BYTES_PER_ELEMENT}function Ct(t,e){var n=t.constructor,r=t.buffer,i=t.length,o=t.byteOffset,a=t.BYTES_PER_ELEMENT,u=bt(i,e),s=u.start,c=u.end;return 0===s&&c===i?t:new n(r,o+a*s,Math.min(i,c-s))}function Bt(t,e,n){var r=e,i=0,o=1;for(45===t.charCodeAt(r)?(o=-1,++r):43===t.charCodeAt(r)&&++r;r<n;r++){var a=t.charCodeAt(r)-48;if(a>9||a<0)return o*i|0;i=10*i+a|0}return o*i}function It(t,e,n,r){return 43===e.charCodeAt(n)&&n++,t*Math.pow(10,Bt(e,n,r))}function Pt(t,e,n){var r=e,i=1,o=0,a=0,u=1;for(45===t.charCodeAt(r)?(i=-1,++r):43===t.charCodeAt(r)&&++r;r<n;){var s=t.charCodeAt(r)-48;if(!(s>=0&&s<10)){if(-2===s){for(++r;r<n;){if(!((s=t.charCodeAt(r)-48)>=0&&s<10))return 53===s||21===s?It(i*(o+a/u),t,r+1,n):i*(o+a/u);a=10*a+s,u*=10,++r}return i*(o+a/u)}if(53===s||21===s)return It(i*o,t,r+1,n);break}o=10*o+s,++r}return i*o}var Et,Mt,kt;function Dt(t,e,n,r){return{schema:n,__array:void 0,isDefined:0===r,rowCount:e,value:function(e){return t},valueKind:function(t){return r},toArray:function(n){for(var r=xt(e,n).array,i=0,o=r.length;i<o;i++)r[i]=t;return r},areValuesEqual:function(t,e){return!0}}}function Ot(t){var e=t.value,n=t.valueKind,r=t.areValuesEqual,i=t.rowCount;return{schema:t.schema,__array:void 0,isDefined:!0,rowCount:i,value:e,valueKind:n||function(t){return 0},toArray:function(t){for(var n=xt(i,t),r=n.array,o=n.start,a=0,u=r.length;a<u;a++)r[a]=e(a+o);return r},areValuesEqual:r||function(t,n){return e(t)===e(n)}}}function Nt(t){var e=t.array,n=t.schema,r=t.valueKind,i=e.length,o=n.T,a="str"===n.valueType?"lowercase"===n.transform?function(t){var n=e[t];return"string"==typeof n?n.toLowerCase():"".concat(null!=n?n:o).toLowerCase()}:"uppercase"===n.transform?function(t){var n=e[t];return"string"==typeof n?n.toUpperCase():"".concat(null!=n?n:o).toUpperCase()}:function(t){var n=e[t];return"string"==typeof n?n:"".concat(null!=n?n:o)}:function(t){return e[t]},u=St(e);return{schema:n,__array:e,isDefined:!0,rowCount:i,value:a,valueKind:r||function(t){return 0},toArray:"str"===n.valueType?"lowercase"===n.transform?function(t){for(var n=bt(i,t),r=n.start,a=n.end,u=new(t&&void 0!==t.array?t.array:e.constructor)(a-r),s=0,c=a-r;s<c;s++){var l=e[r+s];u[s]="string"==typeof l?l.toLowerCase():"".concat(null!=l?l:o).toLowerCase()}return u}:"uppercase"===n.transform?function(t){for(var n=bt(i,t),r=n.start,a=n.end,u=new(t&&void 0!==t.array?t.array:e.constructor)(a-r),s=0,c=a-r;s<c;s++){var l=e[r+s];u[s]="string"==typeof l?l.toUpperCase():"".concat(null!=l?l:o).toUpperCase()}return u}:function(t){for(var n=bt(i,t),r=n.start,a=n.end,u=new(t&&void 0!==t.array?t.array:e.constructor)(a-r),s=0,c=a-r;s<c;s++){var l=e[r+s];u[s]="string"==typeof l?l:"".concat(null!=l?l:o)}return u}:u?function(t){return Ct(e,t)}:function(t){var n=bt(i,t),r=n.start,o=n.end;if(0===r&&o===e.length)return e;for(var a=new(t&&void 0!==t.array?t.array:e.constructor)(o-r),u=0,s=o-r;u<s;u++)a[u]=e[r+u];return a},areValuesEqual:function(t,n){return e[t]===e[n]}}}!function(t){var e;function n(t,e){return Dt(e.T,t,e,1)}function r(t){return Ot(t)}!function(t){function e(e,n){return void 0===n&&(n=t.float),{"@type":"tensor",T:e.create(),space:e,valueType:"tensor",baseType:n}}t.str={"@type":"str",T:"",valueType:"str"},t.ustr={"@type":"str",T:"",valueType:"str",transform:"uppercase"},t.lstr={"@type":"str",T:"",valueType:"str",transform:"lowercase"},t.int={"@type":"int",T:0,valueType:"int"},t.coord={"@type":"coord",T:0,valueType:"float"},t.float={"@type":"float",T:0,valueType:"float"},t.Str=function(t){var e;return{"@type":"str",T:null!==(e=null==t?void 0:t.defaultValue)&&void 0!==e?e:"",transform:null==t?void 0:t.transform,valueType:"str"}},t.Int=function(t){return void 0===t&&(t=0),{"@type":"int",T:t,valueType:"int"}},t.Float=function(t){return void 0===t&&(t=0),{"@type":"float",T:t,valueType:"float"}},t.Tensor=e,t.Vector=function(n,r){return void 0===r&&(r=t.float),e(w.Vector(n,"int"===r["@type"]?Int32Array:Float64Array),r)},t.Matrix=function(n,r,i){return void 0===i&&(i=t.float),e(w.ColumnMajorMatrix(n,r,"int"===i["@type"]?Int32Array:Float64Array),i)},t.Aliased=function(t){return t},t.List=function(t,e,n){return void 0===n&&(n=[]),{"@type":"list",T:n,separator:t,itemParse:e,valueType:"list"}}}(e=t.Schema||(t.Schema={})),t.is=function(t){return!!t&&!!t.schema&&!!t.value},t.ValueKind={Present:0,NotPresent:1,Unknown:2},t.Undefined=n,t.ofConst=function(t,e,n){return Dt(t,e,n,0)},t.ofLambda=r,t.range=function(t,n){return r({value:function(e){return e+t},rowCount:Math.max(n-t+1,0),schema:e.int})},t.ofArray=function(t){return Nt(t)},t.ofIntArray=function(t){return Nt({array:t,schema:e.int})},t.ofFloatArray=function(t){return Nt({array:t,schema:e.float})},t.ofStringArray=function(t){return Nt({array:t,schema:e.str})},t.ofStringAliasArray=function(t){return Nt({array:t,schema:e.Aliased(e.str)})},t.ofStringListArray=function(t,n){return void 0===n&&(n=","),Nt({array:t,schema:e.List(n,(function(t){return t}))})},t.ofIntTokens=function(t){var n=t.count,r=t.data,i=t.indices;return Ot({value:function(t){return Bt(r,i[2*t],i[2*t+1])||0},rowCount:n,schema:e.int})},t.ofFloatTokens=function(t){var n=t.count,r=t.data,i=t.indices;return Ot({value:function(t){return Pt(r,i[2*t],i[2*t+1])||0},rowCount:n,schema:e.float})},t.ofStringTokens=function(t){var n=t.count,r=t.data,i=t.indices;return Ot({value:function(t){var e=r.substring(i[2*t],i[2*t+1]);return"."===e||"?"===e?"":e},rowCount:n,schema:e.str})},t.window=function(t,e,n){return function(t,e,n){return t.isDefined?0===e&&n===t.rowCount?t:t.__array&&St(t.__array)?function(t,e,n){var r=Ct(t.__array,{start:e,end:n}),i=t.valueKind;return Nt({array:r,schema:t.schema,valueKind:function(t){return i(e+t)}})}(t,e,n):function(t,e,n){var r=t.value,i=t.valueKind,o=t.areValuesEqual,a=0===e?r:function(t){return r(t+e)},u=n-e;return{schema:t.schema,__array:void 0,isDefined:t.isDefined,rowCount:u,value:a,valueKind:0===e?i:function(t){return i(t+e)},toArray:function(t){for(var n=xt(u,t).array,i=0,o=n.length;i<o;i++)n[i]=r(i+e);return n},areValuesEqual:0===e?o:function(t,n){return o(t+e,n+e)}}}(t,e,n):Et.Undefined(n-e,t.schema)}(t,e,n)},t.view=function(t,e,n){return void 0===n&&(n=!0),i=e,o=n,0===(r=t).rowCount||o&&function(t,e){if(t.length!==e)return!1;for(var n=0,r=t.length;n<r;n++)if(t[n]!==n)return!1;return!0}(i,r.rowCount)?r:r.__array&&typeof r.value(0)==typeof r.__array[0]?function(t,e){for(var n=t.__array,r=new n.constructor(e.length),i=0,o=e.length;i<o;i++)r[i]=n[e[i]];var a=t.valueKind;return Nt({array:r,schema:t.schema,valueKind:function(t){return a(e[t])}})}(r,i):function(t,e){var n=t.value,r=t.valueKind,i=t.areValuesEqual,o=e.length;return{schema:t.schema,__array:void 0,isDefined:t.isDefined,rowCount:o,value:function(t){return n(e[t])},valueKind:function(t){return r(e[t])},toArray:function(t){for(var r=xt(o,t).array,i=0,a=r.length;i<a;i++)r[i]=n(e[i]);return r},areValuesEqual:function(t,n){return i(e[t],e[n])}}}(r,i);var r,i,o},t.createFirstIndexMap=function(t){return function(t){for(var e=new Map,n=0,r=t.rowCount;n<r;n++){var i=t.value(n);e.has(i)||e.set(t.value(n),n)}return e}(t)},t.createIndexer=function(t){return function(t){for(var e=new Map,n=0,r=t.rowCount;n<r;n++){var i=t.value(n);e.has(i)||e.set(t.value(n),n)}return function(t){return e.has(t)?e.get(t):-1}}(t)},t.mapToArray=function(t,e,n){return function(t,e,n){for(var r=new n(t.rowCount),i=0,o=t.rowCount;i<o;i++)r[i]=e(t.value(i));return r}(t,e,n||Array)},t.areEqual=function(t,e){return function(t,e){return t===e||t.rowCount===e.rowCount&&t.isDefined===e.isDefined&&t.schema.valueType===e.schema.valueType&&(t.__array&&e.__array?function(t,e){for(var n=t.__array,r=e.__array,i=0,o=t.rowCount;i<o;i++)if(n[i]!==r[i])return!1;return!0}(t,e):function(t,e){for(var n=t.value,r=e.value,i=0,o=t.rowCount;i<o;i++)if(n(i)!==r(i))return!1;return!0}(t,e))}(t,e)},t.indicesOf=function(t,e){return function(t,e){for(var n=[],r=t.value,i=0,o=t.rowCount;i<o;i++)e(r(i))&&(n[n.length]=i);return n}(t,e)},t.asArrayColumn=function(t,e){return t.__array?t:t.isDefined?Nt({array:t.toArray({array:e}),schema:t.schema,valueKind:t.valueKind}):n(t.rowCount,t.schema)},t.copyToArray=function(t,e,n){if(void 0===n&&(n=0),t.isDefined){var r=t.__array;if(r)for(var i=0,o=r.length;i<o;i++)e[n+i]=r[i];else for(i=0,o=t.rowCount;i<o;i++)e[n+i]=t.value(i)}},t.isIdentity=function(t){for(var e=0,n=t.rowCount;e<n;e++)if(e!==t.value(e))return!1;return!0}}(Et||(Et={})),function(t){t.create=function(t){return t},t.has=function(t,e){return 0!=(t&e)},t.hasAll=function(t,e){return!!e&&(t&e)===e}}(Mt||(Mt={})),function(t){t.create=function(t){return void 0===t&&(t=512),{current:[],offset:0,capacity:t,chunks:[]}},t.getString=function(t){return t.chunks.length?(t.offset>0&&(t.chunks[t.chunks.length]=t.current.length===t.offset?t.current.join(""):t.current.slice(0,t.offset).join("")),t.chunks.join("")):t.current.length===t.offset?t.current.join(""):t.current.splice(0,t.offset).join("")},t.getSize=function(t){for(var e=0,n=0,r=t.chunks;n<r.length;n++){e+=r[n].length}for(var i=0;i<t.offset;i++)e+=t.current[i].length;return e},t.getChunks=function(t){return t.offset>0&&(t.current.length===t.offset?t.chunks[t.chunks.length]=t.current.join(""):t.chunks[t.chunks.length]=t.current.slice(0,t.offset).join(""),t.offset=0),t.chunks};var e=[];function n(t,n){n>0&&r(t,e[n])}function r(t,e){t.offset===t.capacity&&(t.chunks[t.chunks.length]=t.current.join(""),t.offset=0),t.current[t.offset++]=e}!function(){for(var t="",n=0;n<512;n++)e[n]=t,t+=" "}(),t.newline=function(t){r(t,"\n")},t.whitespace=n,t.whitespace1=function(t){r(t," ")},t.write=function(t,e){e&&(t.offset===t.capacity&&(t.chunks[t.chunks.length]=t.current.join(""),t.offset=0),t.current[t.offset++]=e)},t.writeSafe=r,t.writePadLeft=function(t,e,i){e?(n(t,i-e.length),r(t,e)):n(t,i)},t.writePadRight=function(t,e,i){if(e){var o=i-e.length;r(t,e),n(t,o)}else n(t,i)},t.writeInteger=function(t,e){r(t,""+e)},t.writeIntegerAndSpace=function(t,e){r(t,e+" ")},t.writeIntegerPadLeft=function(t,e,i){var o=""+e;n(t,i-o.length),r(t,o)},t.writeIntegerPadRight=function(t,e,i){var o=""+e,a=i-o.length;r(t,o),n(t,a)},t.writeFloat=function(t,e,n){r(t,""+Math.round(n*e)/n)},t.writeFloatPadLeft=function(t,e,i,o){var a=""+Math.round(i*e)/i;n(t,o-a.length),r(t,a)},t.writeFloatPadRight=function(t,e,i,o){var a=""+Math.round(i*e)/i,u=o-a.length;r(t,a),n(t,u)}}(kt||(kt={}));var Tt,Ut,Rt,Lt=n(3);function Gt(t,e){return t-e}function qt(t,e){void 0===t&&(t=0),void 0===e&&(e=Number.MAX_SAFE_INTEGER);var n=t;return function(){var t=n;return n=(n+1)%e,t}}!function(t){var e=function(){function t(){this.size=0}return t.prototype.has=function(t){return!1},t.prototype.forEach=function(t,e){return e},t}(),n=function(){function t(t){this.idx=t,this.size=1}return t.prototype.has=function(t){return t===this.idx},t.prototype.forEach=function(t,e){return t(this.idx,e),e},t}(),r=function(){function t(t,e){this.mask=t,this.size=e,this.length=t.length}return t.prototype.has=function(t){return t<this.length&&!!this.mask[t]},t.prototype._forEach=function(t,e){for(var n=0;n<this.length;n++)this.mask[n]&&t(n,e)},t.prototype.forEach=function(t,e){return this._forEach(t,e),e},t}(),i=function(){function t(t){this.size=t}return t.prototype.has=function(t){return!0},t.prototype._forEach=function(t,e){for(var n=0;n<this.size;n++)t(n,e)},t.prototype.forEach=function(t,e){return this._forEach(t,e),e},t}(),o=function(){function t(t){this.set=t,this._flat=void 0,this.size=t.size}return t.prototype.has=function(t){return this.set.has(t)},t.prototype._forEach=function(t,e){for(var n=0,r=this.flatten();n<r.length;n++){t(r[n],e)}},t.prototype.flatten=function(){if(this._flat)return this._flat;var t,e=new Int32Array(this.size),n=0;return this.set.forEach((function(t){return e[n++]=t})),t=e,Array.prototype.sort.call(t,Gt),this._flat=e,this._flat},t.prototype.forEach=function(t,e){return this._forEach(t,e),e},t}();function a(t){return new o(t)}function u(t,e){return new r(t,e)}t.always=function(t){return new i(t)},t.never=new e,t.ofSet=a,t.singleton=function(t){return new n(t)},t.ofUniqueIndices=function(t){var a=t.length;if(0===a)return new e;if(1===a)return new n(t[0]);for(var u=0,s=0,c=t;s<c.length;s++){(p=c[s])>u&&(u=p)}if(a===u)return new i(a);if(a/u<1/12){for(var l=new Set,d=0,f=t;d<f.length;d++){var p=f[d];l.add(p)}return new o(l)}for(var m=new Int8Array(u+1),h=0,g=t;h<g.length;h++){m[p=g[h]]=1}return new r(m,t.length)},t.ofMask=u,t.hasAny=function(t,e){for(var n=0,r=e;n<r.length;n++){var i=r[n];if(t.has(i))return!0}return!1},t.complement=function(t,e){var n=0,r=0;if(e.forEach((function(e){t.has(e)||(n++,e>r&&(r=e))})),n/r<1/12){var i=new Set;return e.forEach((function(e){t.has(e)||i.add(e)})),a(i)}var o=new Uint8Array(r+1);return e.forEach((function(e){t.has(e)||(o[e]=1)})),u(o,n)}}(Tt||(Tt={})),(Rt=Ut||(Ut={})).create=function(t){return{ref:t}},Rt.set=function(t,e){return t.ref=e,t};var Ft,jt,Ht=qt(0,2147483647);!function(t){t.create=function(t,e){return{id:Ht(),version:0,value:t,metadata:e}},t.withValue=function(t,e){return{id:t.id,version:t.version+1,value:e,metadata:t.metadata}}}(Ft||(Ft={})),function(t){function e(t,e){return Ut.set(t,Ft.withValue(t.ref,e))}t.create=function(t,e){return Ut.create(Ft.create(t,e))},t.update=e,t.set=function(t,e){return Ut.set(t,e)},t.updateIfChanged=function(t,n){return t.ref.value!==n?e(t,n):t}}(jt||(jt={}));function Vt(t,e){var n=t.length;if(n!==e.length)return!1;for(var r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}var zt=Object.prototype.hasOwnProperty;function Yt(t,e){if(t===e)return!0;if(!t||!e)return!1;var n=Object.keys(t);if(Object.keys(e).length!==n.length)return!1;for(var r=0,i=n;r<i.length;r++){var o=i[r];if(!zt.call(t,o)||t[o]!==e[o])return!1}return!0}function Kt(t,e){return void 0!==t?t:e}Object.assign;var Zt,Wt,Xt;!function(t){function e(t,e,n){var r=Object.create(null),i=Object.keys(e);r._rowCount=n.length,r._columns=i,r._schema=e;for(var o=0,a=i;o<a.length;o++){var u=a[o];r[u]=Et.view(t[u],n)}return r}function n(t,e){for(var n=Object.create(null),r=t._columns,i=0;i<r.length;i++){var o=r[i];n[o]=t[o].value(e)}return n}t.is=function(t){return t&&"number"==typeof t._rowCount&&!!t._columns&&!!t._schema},t.pickColumns=function(t,e,n){void 0===n&&(n={});var r=Object.create(null),i=Object.keys(t);r._rowCount=e._rowCount,r._columns=i,r._schema=t;for(var o=0,a=i;o<a.length;o++){var u=a[o];if(e[u])r[u]=e[u];else{if(!n[u])throw Error("Cannot find column '".concat(u,"'."));r[u]=n[u]}}return r},t.ofColumns=function(t,e){var n=Object.keys(e),r=e[n[0]].rowCount;return Object(T.a)({_rowCount:r,_columns:n,_schema:t},e)},t.ofPartialColumns=function(t,e,n){var r=Object.create(null),i=Object.keys(t);r._rowCount=n,r._columns=i,r._schema=t;for(var o=0,a=i;o<a.length;o++){var u=a[o];r[u]=u in e?e[u]:Et.Undefined(n,t[u])}return r},t.ofUndefinedColumns=function(t,e){var n=Object.create(null),r=Object.keys(t);n._rowCount=e,n._columns=r,n._schema=t;for(var i=0,o=r;i<o.length;i++){var a=o[i];n[a]=Et.Undefined(e,t[a])}return n},t.ofRows=function(t,e){var n=Object.create(null),r=e.length,i=Object.keys(t);n._rowCount=r,n._columns=i,n._schema=t;for(var o=function(i){n[i]=Et.ofLambda({rowCount:r,schema:t[i],value:function(t){return e[t][i]},valueKind:function(t){return void 0===e[t][i]?1:0}})},a=0,u=i;a<u.length;a++){o(u[a])}return n},t.ofArrays=function(t,e){var n,r=Object.create(null),i=Object.keys(t);r._rowCount=0,r._columns=i,r._schema=t;for(var o=0,a=i;o<a.length;o++){var u=a[o];void 0!==e[u]?(r[u]=Et.ofArray({array:e[u],schema:t[u]}),r._rowCount=null===(n=e[u])||void 0===n?void 0:n.length):r[u]=Et.Undefined(r._rowCount,t[u])}return r},t.view=e,t.pick=function(t,n,r){for(var i=[],o=0,a=t._rowCount;o<a;++o)r(o)&&i.push(o);return e(t,n,i)},t.window=function(t,e,n,r){if(0===n&&r===t._rowCount)return t;var i=Object.create(null),o=Object.keys(e);i._rowCount=r-n,i._columns=o,i._schema=e;for(var a=0,u=o;a<u.length;a++){var s=u[a];i[s]=Et.window(t[s],n,r)}return i},t.concat=function(t,e){var n=Object.create(null),r=Object.keys(e);n._rowCount=0;for(var i=0,o=t;i<o.length;i++){var a=o[i];n._rowCount+=a._rowCount}for(var u={},s=0,c=r;s<c.length;s++){u[c[s]]=new Array(n._rowCount)}n._columns=r,n._schema=e;for(var l=0,d=0,f=t;d<f.length;d++){a=f[d];for(var p=0,m=r;p<m.length;p++){var h=m[p];Et.copyToArray(a[h],u[h],l)}l+=a._rowCount}for(var g=0,v=r;g<v.length;g++){n[h=v[g]]=Et.ofArray({array:u[h],schema:e[h]})}return n},t.columnToArray=function(t,e,n){t[e]=Et.asArrayColumn(t[e],n)},t.sort=function(t,e){for(var n=new Int32Array(t._rowCount),r=0,i=n.length;r<i;r++)n[r]=r;dt(n,(function(t,n,r){return e(n,r)}));var o=!0;for(r=0,i=n.length;r<i;r++)if(n[r]!==r){o=!1;break}if(o)return t;var a=Object.create(null);a._rowCount=t._rowCount,a._columns=t._columns,a._schema=t._schema;for(var u=0,s=t._columns;u<s.length;u++){var c=s[u];a[c]=Et.view(t[c],n,!1)}return a},t.areEqual=function(t,e){if(t._rowCount!==e._rowCount)return!1;if(t._columns.length!==e._columns.length)return!1;for(var n=0,r=t._columns;n<r.length;n++){if(!e[a=r[n]])return!1}for(var i=0,o=t._columns;i<o.length;i++){var a=o[i];if(!Et.areEqual(t[a],e[a]))return!1}return!0},t.getRow=n,t.pickRow=function(t,e){for(var r=0,i=t._rowCount;r<i;++r)if(e(r))return n(t,r)},t.getRows=function(t){for(var e=[],r=t._rowCount,i=0;i<r;i++)e[i]=n(t,i);return e},t.toArrays=function(t){for(var e={},n=t._columns,r=0;r<n.length;r++){var i=n[r];e[i]=t[i].toArray()}return e},t.formatToString=function(t){var e=kt.create(),n=t._columns,r=t._rowCount,i=1;kt.write(e,"|");for(var o=0;o<n.length;o++)kt.write(e,n[o]),kt.write(e,"|"),i+=n[o].length+1;kt.newline(e),kt.write(e,new Array(i+1).join("-")),kt.newline(e);for(var a=0;a<r;a++){kt.write(e,"|");for(o=0;o<n.length;o++){var u=t[n[o]];0===u.valueKind(a)?(kt.write(e,u.value(a)),kt.write(e,"|")):kt.write(e,".|")}kt.newline(e)}return kt.getString(e)}}(Zt||(Zt={})),(Xt=Wt||(Wt={})).ofTables=function(t,e,n){var r=Object.keys(n),i=Object.create(null),o=[];i._name=t,i._tableNames=o,i._schema=e;for(var a=0,u=r;a<u.length;a++){var s=u[a];Zt.is(n[s])&&(i[s]=n[s],o[o.length]=s)}return i},Xt.getTablesAsRows=function(t){for(var e={},n=0,r=t._tableNames;n<r.length;n++){var i=r[n];e[i]=Zt.getRows(t[i])}return e};var Qt;!function(){function t(t){this.getKey=t,this.map=new Map,this.keys=[],this.groups=[]}t.prototype.add=function(t){var e=this.getKey(t);if(this.map.has(e)){(n=this.map.get(e))[n.length]=t}else{var n=[t];this.map.set(e,n),this.keys[this.keys.length]=e,this.groups[this.groups.length]=n}},t.prototype.getGrouping=function(){return{keys:this.keys,groups:this.groups,map:this.map}}}();function Jt(t){if(Array.from)return Array.from(t);for(var e=[];;){var n=t.next(),r=n.done,i=n.value;if(r)break;e[e.length]=i}return e}function $t(t,e,n){for(var r=e-t+1,i=n?new n(r):new Int32Array(r),o=0;o<r;o++)i[o]=o+t;return i}function te(t,e){for(var n=new(function(t){var e=t.constructor;if(!e)throw new Error("data does not define a constructor and it should");return e}(t))(e.length),r=0,i=e.length;r<i;r++)n[r]=t[e[r]];return n}!function(t){t.Zero=0;var e,n,r=(e=new ArrayBuffer(8),n=new ArrayBuffer(8),{_int32:new Int32Array(e),_float64:new Float64Array(e),_int32_1:new Int32Array(n),_float64_1:new Float64Array(n)}),i=r._int32,o=r._float64,a=r._int32_1,u=r._float64_1;t.is=function(t){return"number"==typeof t},t.create=function(t,e){return i[0]=t,i[1]=e,o[0]},t.diff=function(t){return o[0]=t,i[1]-i[0]},t.fst=function(t){return o[0]=t,i[0]},t.snd=function(t){return o[0]=t,i[1]},t.areEqual=function(t,e){return o[0]=t,u[0]=e,i[0]===a[0]&&i[1]===a[1]},t.compare=function(t,e){o[0]=t,u[0]=e;var n=i[0]-a[0];return 0!==n?n:i[1]-a[1]},t.compareInArray=function(t,e,n){o[0]=t[e],u[0]=t[n];var r=i[0]-a[0];return 0!==r?r:i[1]-a[1]},t.hashCode=function(t){return o[0]=t,gt(i[0],i[1])},t.toString=function(t){return o[0]=t,"(".concat(i[0],", ").concat(i[1],")")}}(Qt||(Qt={}));var ee=Qt.Zero;function ne(t,e){return e<t?Qt.create(t,t):Qt.create(t,e+1)}function re(t,e){return e<=t?Qt.create(t,t):Qt.create(t,e)}function ie(t){return t<0?Qt.create(0,0):Qt.create(0,t)}var oe=Qt.is,ae=Qt.fst,ue=Qt.snd,se=Qt.fst;function ce(t){return Qt.snd(t)-1}var le=Qt.diff,de=Qt.hashCode,fe=Qt.toString;function pe(t,e){return Qt.fst(t)<=e&&e<Qt.snd(t)}function me(t,e){var n=ae(t);return e>=n&&e<ue(t)?e-n:-1}function he(t,e){return Qt.fst(t)+e}var ge,ve,ye=Qt.areEqual;function _e(t,e){var n=le(t),r=le(e);return 0===n&&0===r||n>0&&r>0&&ce(t)>=se(e)&&se(t)<=ce(e)}function be(t,e){return le(t)?!le(e)||ae(t)<=ae(e)&&ue(t)>=ue(e):0===le(e)}function xe(t,e){var n=ae(t);if(e<=n)return 0;var r=ue(t);return e>=r?r-n:e-n}function Ae(t,e,n){var r=ae(n),i=ae(t);if(e<=r+i)return r;var o=ue(n);return e>=o+i?o:e-i}function we(t,e,n){return re(xe(t,e),xe(t,n+1))}function Se(t,e){return _e(t,e)?re(Math.max(ae(t),ae(e)),Math.min(ue(t),ue(e))):ee}function Ce(t,e){return le(we(t,se(e),ce(e)))}(ve=ge||(ge={})).Empty=ee,ve.ofSingleton=function(t){return ne(t,t)},ve.ofRange=ne,ve.ofBounds=re,ve.ofLength=ie,ve.is=oe,ve.has=pe,ve.indexOf=me,ve.getAt=he,ve.start=ae,ve.end=ue,ve.min=se,ve.max=ce,ve.size=le,ve.hashCode=de,ve.toString=fe,ve.areEqual=ye,ve.areIntersecting=_e,ve.isSubInterval=be,ve.findPredecessorIndex=xe,ve.findPredecessorIndexInInterval=Ae,ve.findRange=we,ve.intersectionSize=Ce,ve.intersect=Se;var Be=[];function Ie(t){return[t]}function Pe(t){return t}function Ee(t){return dt(t),t}function Me(t,e){if(e<t)return[];for(var n=new Int32Array(e-t+1),r=t;r<=e;r++)n[r-t]=r;return n}function ke(t){return t&&(Array.isArray(t)||!!t.buffer)}function De(t){return t[t.length-1]-t[0]+1===t.length}function Oe(t){return t[0]}function Ne(t){return t[t.length-1]+1}function Te(t){return t[0]}function Ue(t){return t[t.length-1]}function Re(t){return t.length}function Le(t){var e,n,r,i,o,a=t.length;return a?a>2?(e=a,n=t[0],r=t[a-1],i=t[a>>1],o=31*(o=31*(o=31*(o=31*(o=23)+e|0)+n|0)+r|0)+i|0,o=(3735928559^(o^=o>>4))+(o<<5),o^=o>>11):function(t,e,n){var r=23;return r=31*(r=31*(r=31*r+t|0)+e|0)+n|0,r=(3735928559^(r^=r>>4))+(r<<5),r^=r>>11}(a,t[0],t[a-1]):0}function Ge(t){var e=t.length;return e>5?"[".concat(t[0],", ").concat(t[1],", ..., ").concat(t[e-1],"], length ").concat(e):"[".concat(t.join(", "),"]")}function qe(t,e){var n=t.length;return 0===n?-1:t[0]<=e&&e<=t[n-1]?Ze(t,e,0,n):-1}function Fe(t,e,n){return je(t,e,ge.start(n),ge.end(n))}function je(t,e,n,r){return 0===t.length||r<=n?-1:t[n]<=e&&e<=t[r-1]?Ze(t,e,n,r):-1}function He(t,e){return qe(t,e)>=0}function Ve(t,e){if(t===e)return!0;var n=t.length;if(n!==e.length||t[0]!==e[0]||t[n-1]!==e[n-1])return!1;if(De(t))return!0;n--;for(var r=1;r<n;r++)if(t[r]!==e[r])return!1;return!0}function ze(t,e){var n=t.length;return e<=t[0]?0:e>t[n-1]?n:We(t,e,0,n)}function Ye(t,e,n){var r=ge.start(n),i=ge.end(n),o=t[r];return e<=o?r:i>r&&e>t[i-1]?i:e-o<=11?function(t,e,n,r){for(var i=n;i<r;i++)if(e<=t[i])return i;return r}(t,e,r+1,i):We(t,e,r,i)}function Ke(t,e,n){return ge.ofBounds(ze(t,e),ze(t,n+1))}function Ze(t,e,n,r){for(var i=n,o=r-1;i<=o;){if(i+11>o){for(var a=i;a<=o;a++)if(e===t[a])return a;return-1}var u=i+o>>1,s=t[u];if(e<s)o=u-1;else{if(!(e>s))return u;i=u+1}}return-1}function We(t,e,n,r){for(var i=n,o=r-1;i<o;){if(i+11>o){for(var a=i;a<=o;a++)if(e<=t[a])return a;return o+1}var u=i+o>>1,s=t[u];if(e<s)o=u-1;else{if(!(e>s))return u;i=u+1}}return i>o?o+1:t[i]>=e?i:i+1}function Xe(t,e){if(t===e)return!0;for(var n=cn(t,e),r=n.startI,i=n.startJ,o=n.endI,a=n.endJ;r<o&&i<a;){var u=t[r],s=e[i];if(u<s)r++;else{if(!(u>s))return!0;i++}}return!1}function Qe(t,e){if(t===e)return!0;var n=e.length,r=cn(t,e),i=r.startI,o=r.startJ,a=r.endI,u=r.endJ;if(u-o<n||a-i<n)return!1;for(var s=0;i<a&&o<u;){var c=t[i],l=e[o];c<l?i++:c>l?o++:(i++,o++,s++)}return s===n}function Je(t,e){if(t===e)return t;var n=t.length,r=e.length;if(0===n)return e;if(0===r)return t;if(t[0]>e[0])return Je(e,t);var i=cn(t,e),o=i.startI,a=i.startJ,u=i.endI,s=i.endJ,c=tn(t,e,o,a,u,s);if(c===n&&c===r||c===r)return t;if(c===n)return e;var l=new Int32Array(n+r-c),d=0,f=0,p=0;for(d=0;d<o;d++)l[p++]=t[d];for(;f<s&&t[o]>e[f];)l[p++]=e[f++];for(;d<u&&f<s;){var m=t[d],h=e[f];m<h?(l[p++]=m,d++):m>h?(l[p++]=h,f++):(l[p++]=m,d++,f++)}for(;d<u;d++)l[p++]=t[d];for(;f<s;f++)l[p++]=e[f];for(;d<n;d++)l[p++]=t[d];for(;f<r;f++)l[p++]=e[f];return l}function $e(t,e){if(t===e)return Re(t);var n=cn(t,e);return tn(t,e,n.startI,n.startJ,n.endI,n.endJ)}function tn(t,e,n,r,i,o){for(var a=n,u=r,s=0;a<i&&u<o;){var c=t[a],l=e[u];c<l?a++:c>l?u++:(a++,u++,s++)}return s}function en(t,e){if(t===e)return t;var n=cn(t,e),r=n.startI,i=n.startJ,o=n.endI,a=n.endJ,u=tn(t,e,r,i,o,a),s=t.length,c=e.length;if(!u)return Be;if(u===s&&u===c||u===c)return e;if(u===s)return t;for(var l=new Int32Array(u),d=0,f=r,p=i;f<o&&p<a;){var m=t[f],h=e[p];m<h?f++:(m>h||(l[d++]=m,f++),p++)}return l}function nn(t,e){if(t===e)return Be;for(var n=t.length,r=cn(t,e),i=r.startI,o=r.startJ,a=r.endI,u=r.endJ,s=i,c=o,l=0;s<a&&c<u;){(m=t[s])<(h=e[c])?s++:m>h?c++:(s++,c++,l++)}if(!l)return t;if(l>=n)return Be;for(var d=new Int32Array(n-l),f=0,p=0;p<i;p++)d[f++]=t[p];for(s=i,c=o;s<a&&c<u;){var m,h;(m=t[s])<(h=e[c])?(d[f++]=m,s++):(m>h||s++,c++)}for(;s<n;s++)d[f++]=t[s];return d}function rn(t){if(t.length<2)return t;for(var e=1,n=0,r=t.length-1;n<r;n++)t[n]!==t[n+1]&&e++;if(e===t.length)return t;var i=new Int32Array(e),o=0;for(n=0,r=t.length-1;n<r;n++)t[n]!==t[n+1]&&(i[o++]=t[n]);return i[o]=t[t.length-1],i}function on(t,e){if(Ve(t,e))return $t(0,t.length-1);for(var n=cn(t,e),r=n.startI,i=n.startJ,o=n.endI,a=n.endJ,u=r,s=i,c=0;u<o&&s<a;){(p=t[u])<(m=e[s])?u++:p>m?s++:(u++,s++,c++)}var l=t.length;if(!c)return Be;if(c===l)return $t(0,t.length-1);var d=new Int32Array(c),f=0;for(u=r,s=i;u<o&&s<a;){var p,m;(p=t[u])<(m=e[s])?u++:(p>m||(d[f++]=u,u++),s++)}return d}var an,un,sn={startI:0,startJ:0,endI:0,endJ:0};function cn(t,e){var n=t.length,r=e.length,i=n/r;return n>=128||r>=128||i<=.34||i>=2.99?(sn.startI=ze(t,Oe(e)),sn.startJ=ze(e,Oe(t)),sn.endI=ze(t,Ne(e)),sn.endJ=ze(e,Ne(t))):(sn.startI=0,sn.startJ=0,sn.endI=n,sn.endJ=r),sn}(un=an||(an={})).Empty=Be,un.ofUnsortedArray=Ee,un.ofSingleton=Ie,un.ofSortedArray=Pe,un.ofRange=Me,un.ofBounds=function(t,e){return Me(t,e-1)},un.is=ke,un.isRange=De,un.has=He,un.indexOf=qe,un.indexOfInInterval=Fe,un.indexOfInRange=je,un.start=Oe,un.end=Ne,un.min=Te,un.max=Ue,un.size=Re,un.hashCode=Le,un.toString=Ge,un.areEqual=Ve,un.areIntersecting=Xe,un.isSubset=Qe,un.union=Je,un.intersect=en,un.subtract=nn,un.findPredecessorIndex=ze,un.findPredecessorIndexInInterval=Ye,un.findRange=Ke,un.intersectionSize=$e,un.deduplicate=rn,un.indicesOf=on;var ln,dn,fn=ge.Empty,pn=ge.ofSingleton,mn=ge.ofRange,hn=ge.ofBounds;function gn(t){return t.length?an.isRange(t)?ge.ofRange(t[0],t[t.length-1]):t:fn}function vn(t){return ge.is(t)?ge.size(t):an.size(t)}function yn(t,e){return ge.is(t)?ge.has(t,e):an.has(t,e)}function _n(t,e){return ge.is(t)?ge.indexOf(t,e):an.indexOf(t,e)}function bn(t,e){return ge.is(t)?ge.getAt(t,e):t[e]}function xn(t){return ge.is(t)?ge.min(t):an.min(t)}function An(t){return ge.is(t)?ge.max(t):an.max(t)}function wn(t){return ge.is(t)?ge.start(t):an.start(t)}function Sn(t){return ge.is(t)?ge.end(t):an.end(t)}function Cn(t){return ge.is(t)?ge.hashCode(t):an.hashCode(t)}function Bn(t,e){return ge.is(t)?ge.is(e)?ge.areEqual(t,e):Un(t,e):ge.is(e)?Un(e,t):an.areEqual(t,e)}function In(t,e){return ge.is(t)?ge.is(e)?ge.areIntersecting(t,e):Rn(e,t):ge.is(e)?Rn(t,e):an.areIntersecting(t,e)}function Pn(t,e){return ge.is(t)?ge.is(e)?ge.isSubInterval(t,e):function(t,e){var n=ge.min(t),r=ge.max(t);if(r-n+1==0)return!1;var i=an.min(e),o=an.max(e);return i>=n&&o<=r}(t,e):ge.is(e)?function(t,e){var n=ge.min(e),r=ge.max(e);if(r-n+1==0)return!0;var i=an.min(t),o=an.max(t);if(n<i||r>o)return!1;var a=an.findRange(t,n,r);return ge.size(a)===ge.size(e)}(t,e):an.isSubset(t,e)}function En(t,e){return ge.is(t)?ge.findPredecessorIndex(t,e):an.findPredecessorIndex(t,e)}function Mn(t,e,n){return ge.is(t)?ge.findPredecessorIndexInInterval(t,e,n):an.findPredecessorIndexInInterval(t,e,n)}function kn(t,e,n){return ge.is(t)?ge.findRange(t,e,n):an.findRange(t,e,n)}function Dn(t,e){return ge.is(t)?ge.is(e)?ge.intersectionSize(t,e):Gn(e,t):ge.is(e)?Gn(t,e):an.intersectionSize(t,e)}function On(t,e){return ge.is(t)?ge.is(e)?function(t,e){if(ge.areEqual(t,e))return t;var n=ge.size(t),r=ge.size(e);if(!r)return t;if(!n)return e;var i,o,a,u,s=ge.min(t),c=ge.min(e);if(function(t,e){var n=vn(t),r=vn(e);return 0===n&&0===r||n>0&&r>0&&An(t)>=xn(e)&&xn(t)<=An(e)}(t,e))return ge.ofRange(Math.min(s,c),Math.max(ge.max(t),ge.max(e)));s<c?(i=n,o=s,a=r,u=c):(i=r,o=c,a=n,u=s);for(var l=new Int32Array(n+r),d=0;d<i;d++)l[d]=d+o;for(d=0;d<a;d++)l[d+i]=d+u;return gn(l)}(t,e):Ln(e,t):ge.is(e)?Ln(t,e):gn(an.union(t,e))}function Nn(t,e){return ge.is(t)?ge.is(e)?ge.intersect(t,e):qn(e,t):ge.is(e)?qn(t,e):gn(an.intersect(t,e))}function Tn(t,e){return ge.is(t)?ge.is(e)?function(t,e){if(ge.areEqual(t,e))return fn;if(!ge.areIntersecting(t,e))return t;var n=ge.min(t),r=ge.max(t),i=ge.min(e),o=ge.max(e);if(r<n||o<i)return t;if(ge.isSubInterval(e,t))return fn;if(ge.isSubInterval(t,e)){var a=i-n,u=r-o;if(a<=0)return ge.ofRange(o+1,o+u);if(u<=0)return ge.ofRange(n,n+a-1);for(var s=new Int32Array(a+u),c=0,l=0;l<a;l++)s[c++]=n+l;for(l=1;l<=u;l++)s[c++]=o+l;return gn(s)}return n<i?ge.ofRange(n,i-1):ge.ofRange(o+1,r)}(t,e):function(t,e){var n=ge.min(t),r=ge.max(t);if(r<n)return t;var i=r-n+1,o=an.findRange(e,n,r),a=ge.start(o),u=ge.end(o),s=u-a;if(0===s)return t;var c=i-s;if(c<=0)return fn;for(var l=new Int32Array(c),d=e.length-1,f=e[Math.min(a,d)],p=e[Math.min(u,d)],m=0,h=n;h<f;h++)l[m++]=h;for(h=f;h<=p;h++)an.indexOfInInterval(e,h,o)<0&&(l[m++]=h);for(h=p+1;h<=r;h++)l[m++]=h;return gn(l)}(t,e):ge.is(e)?function(t,e){var n=ge.min(e),r=ge.max(e);if(r<n)return t;var i=an.findRange(t,n,r),o=ge.start(i),a=ge.end(i),u=t.length-(a-o);if(u<=0)return fn;if(u===t.length)return t;for(var s=new Int32Array(u),c=0,l=0;l<o;l++)s[c++]=t[l];l=a;for(var d=t.length;l<d;l++)s[c++]=t[l];return gn(s)}(t,e):gn(an.subtract(t,e))}function Un(t,e){return ge.size(t)===an.size(e)&&ge.start(t)===an.start(e)&&ge.end(t)===an.end(e)}function Rn(t,e){return 0!==t.length&&0!==ge.size(an.findRange(t,ge.min(e),ge.max(e)))}function Ln(t,e){var n=ge.size(e);if(!n)return t;if(function(t,e){return vn(t)?!vn(e)||xn(t)<=xn(e)&&An(t)>=An(e):0===vn(e)}(e,t))return e;for(var r=ge.min(e),i=ge.max(e),o=an.findRange(t,r,i),a=ge.start(o),u=ge.end(o),s=new Int32Array(a+(t.length-u)+n),c=0,l=0;l<a;l++)s[c++]=t[l];for(l=r;l<=i;l++)s[c++]=l;l=u;for(var d=t.length;l<d;l++)s[c++]=t[l];return gn(s)}function Gn(t,e){if(!ge.size(e))return 0;var n=an.findRange(t,ge.min(e),ge.max(e));return ge.end(n)-ge.start(n)}function qn(t,e){if(!ge.size(e))return fn;var n=an.findRange(t,ge.min(e),ge.max(e)),r=ge.start(n),i=ge.end(n),o=i-r;if(!o)return fn;if(o===t.length)return t;for(var a=new Int32Array(o),u=0,s=r;s<i;s++)a[u++]=t[s];return gn(a)}function Fn(t,e,n){if(e===n)return t;var r=vn(t),i=e.length,o=n.length;if(0===r||0===i||0===o)return fn;for(var a=an.findPredecessorIndex(n,e[xn(t)]),u=an.findPredecessorIndex(n,e[An(t)]+1),s=0,c=0,l=0,d=a;l<r&&d<u;){(p=e[bn(t,l)])<(m=n[d])?l++:(p>m||(s++,l++),d++)}if(0===s)return fn;if(s===i&&s===o)return t;var f=new Int32Array(s);for(c=0,l=0,d=a;l<r&&d<u;){var p,m;(p=e[bn(t,l)])<(m=n[d])?l++:(p>m||(f[c++]=d,l++),d++)}return gn(f)}function jn(t){for(var e=an.ofSortedArray(t),n=an.max(e),r=new Int32Array(n),i=0,o=t.length-1;i<o;i++)for(var a=t[i],u=t[i+1];a<u;a++)r[a]=i;return{offsets:e,index:r,count:t.length-1}}function Hn(t,e){for(var n=ge.start(e),r=new Int32Array(t.length+1),i=0,o=t.length;i<o;i++)r[i]=t[i]-n;return r[t.length]=ge.end(e)-n,jn(r)}function Vn(t){return t.count}function zn(t,e){return t.index[e]}function Yn(t,e,n){var r=t.offsets,i=n>=ln.max(r)?-1:ln.findPredecessorIndex(r,n-1);return ln.findRange(e,ln.getAt(r,i),ln.getAt(r,i+1)-1)}(dn=ln||(ln={})).Empty=fn,dn.ofSingleton=pn,dn.ofRange=mn,dn.ofBounds=hn,dn.ofSortedArray=gn,dn.has=yn,dn.indexOf=_n,dn.getAt=bn,dn.min=xn,dn.max=An,dn.start=wn,dn.end=Sn,dn.size=vn,dn.hashCode=Cn,dn.areEqual=Bn,dn.areIntersecting=In,dn.isSubset=Pn,dn.union=On,dn.intersect=Nn,dn.indexedIntersect=Fn,dn.subtract=Tn,dn.findPredecessorIndex=En,dn.findPredecessorIndexInInterval=Mn,dn.findRange=kn,dn.intersectionSize=Dn,dn.forEach=function(t,e,n){return function(t,e,n){if(ge.is(t))for(var r=ge.min(t),i=r,o=ge.max(t);i<=o;i++)e(i,i-r,n);else for(i=0,o=t.length;i<o;i++)e(t[i],i,n);return n}(t,e,n)},dn.forEachSegment=function(t,e,n,r){return function(t,e,n,r){if(ge.is(t))for(var i=0,o=ge.min(t),a=ge.max(t);o<=a;o++){for(var u=e(o),s=o+1;s<a&&e(s)===u;)s++;o=s-1,n(u,i,r),i++}else for(i=0,o=0,a=t.length;o<a;o++){for(u=e(t[o]),s=o+1;s<a&&e(t[s])===u;)s++;o=s-1,n(u,i,r),i++}return r}(t,e,n,r)},dn.isInterval=function(t){return ge.is(t)},dn.isSortedArray=function(t){return!ge.is(t)},dn.toArray=function(t){var e=[];return dn.forEach(t,(function(t){return e.push(t)})),e},dn.toString=function(t){return function(t){return ge.is(t)?ge.toString(t):an.toString(t)}(t)};var Kn,Zn,Wn=function(){function t(t,e,n,r){this.segments=t,this.segmentMap=e,this.set=n,this.segmentMin=0,this.segmentMax=0,this.setRange=ge.Empty,this.value={index:0,start:0,end:0},this.hasNext=!1,this.setRange=r,this.updateSegmentRange()}return t.prototype.move=function(){for(;this.hasNext;){if(this.updateValue()){this.value.index=this.segmentMin++,this.hasNext=this.segmentMax>=this.segmentMin&&ge.size(this.setRange)>0;break}this.updateSegmentRange()}return this.value},t.prototype.updateValue=function(){var t=this.segments[this.segmentMin+1],e=ln.findPredecessorIndexInInterval(this.set,t,this.setRange);return this.value.start=ge.start(this.setRange),this.value.end=e,this.setRange=ge.ofBounds(e,ge.end(this.setRange)),e>this.value.start},t.prototype.updateSegmentRange=function(){var t=ge.min(this.setRange),e=ge.max(this.setRange);e<t?this.hasNext=!1:(this.segmentMin=this.segmentMap[ln.getAt(this.set,t)],this.segmentMax=this.segmentMap[ln.getAt(this.set,e)],this.hasNext=this.segmentMax>=this.segmentMin)},t.prototype.setSegment=function(t){this.setRange=ge.ofBounds(t.start,t.end),this.updateSegmentRange()},t}();function Xn(t,e,n){var r=void 0!==n?ge.ofBounds(n.start,n.end):ge.ofBounds(0,ln.size(e));return new Wn(t.offsets,t.index,e,r)}(Zn=Kn||(Kn={})).create=jn,Zn.ofOffsets=Hn,Zn.count=Vn,Zn.getSegment=zn,Zn.projectValue=Yn,Zn.transientSegments=Xn;var Qn,Jn=function(){function t(t){this.head=t>0?0:-1,this.prev=new Int32Array(t),this.next=new Int32Array(t);for(var e=0;e<t;e++)this.next[e]=e+1,this.prev[e]=e-1;this.prev[0]=-1,this.next[t-1]=-1}return t.prototype.remove=function(t){var e=this.prev,n=this.next,r=e[t],i=n[t];r>=0&&(n[r]=i,e[t]=-1),i>=0&&(e[i]=r,n[t]=-1),t===this.head&&(this.head=r<0?i:r)},t.prototype.has=function(t){return this.prev[t]>=0||this.next[t]>=0||this.head===t},t}();!function(t){function e(){return new Map}t.Empty=new Map,t.keyArray=function(t){return Jt(t.keys())},t.Mutable=e,t.asImmutable=function(t){return t},t.copy=function(t){for(var n=e(),r=t.keys();;){var i=r.next(),o=i.done,a=i.value;if(o)break;n.set(a,t.get(a))}return n},t.addFrom=function(t,e){for(var n=e.keys();;){var r=n.next(),i=r.done,o=r.value;if(i)break;t.set(o,e.get(o))}return t}}(Qn||(Qn={}));var $n,tr,er=function(){function t(t){this.xs=[],this.index=-1,this.length=0,this.hasNext=!1,this.length=t.length,this.hasNext=t.length>0,this.xs=t,this.index=-1,this.lastValue=t.length>0?t[0]:void 0}return t.prototype.move=function(){return++this.index,this.lastValue=this.xs[this.index],this.hasNext=this.index<this.length-1,this.lastValue},t}(),nr=function(){function t(t,e){this.max=e,this.value=0,this.hasNext=!1,this.value=t-1,this.hasNext=e>=t}return t.prototype.move=function(){return++this.value,this.hasNext=this.value<this.max,this.value},t}(),rr=function(){function t(t){this.value=t,this.hasNext=!0}return t.prototype.move=function(){return this.hasNext=!1,this.value},t}(),ir=function(){function t(t,e){this.base=t,this.f=e,this.hasNext=!1,this.hasNext=t.hasNext}return t.prototype.move=function(){var t=this.f(this.base.move());return this.hasNext=this.base.hasNext,t},t}(),or=function(){function t(t,e){this.base=t,this.p=e,this.hasNext=this.findNext()}return t.prototype.move=function(){var t=this.next;return this.hasNext=this.findNext(),t},t.prototype.findNext=function(){for(;this.base.hasNext;)if(this.next=this.base.move(),this.p(this.next))return!0;return!1},t}();function ar(){return ar.empty()}function ur(){return ur.zero()}function sr(){return sr.zero()}(tr=$n||($n={})).Empty=new nr(0,-1),tr.Array=function(t){return new er(t)},tr.Value=function(t){return new rr(t)},tr.Range=function(t,e){return new nr(t,e)},tr.map=function(t,e){return new ir(t,e)},tr.filter=function(t,e){return new or(t,e)},tr.forEach=function(t,e,n){for(;t.hasNext;)if(e(t.move(),n))return n;return n},function(t){function e(){return{origin:A(),dirA:A(),dirB:A(),dirC:A()}}function n(t,e){return A.copy(t.origin,e.origin),A.copy(t.dirA,e.dirA),A.copy(t.dirB,e.dirB),A.copy(t.dirC,e.dirC),t}function r(t,e){return A.set(t,2*A.magnitude(e.dirA),2*A.magnitude(e.dirB),2*A.magnitude(e.dirC))}t.create=function(t,e,n,r){return{origin:t,dirA:e,dirB:n,dirC:r}},t.empty=e,t.copy=n,t.clone=function(t){return n(e(),t)},t.size=r;var i=A();t.volume=function(t){return r(i,t),i[0]*i[1]*i[2]},t.normalize=function(t,e){return A.copy(t.origin,e.origin),A.normalize(t.dirA,e.dirA),A.normalize(t.dirB,e.dirB),A.normalize(t.dirC,e.dirC),t};var o=P();t.transform=function(t,e,n){A.transformMat4(t.origin,e.origin,n);var r=P.directionTransform(o,n);return A.transformMat3(t.dirA,e.dirA,r),A.transformMat3(t.dirB,e.dirB,r),A.transformMat3(t.dirC,e.dirC,r),t},t.scale=function(t,e,n){return A.scale(t.dirA,e.dirA,n),A.scale(t.dirB,e.dirB,n),A.scale(t.dirC,e.dirC,n),t}}(ar||(ar={})),function(t){function e(t){return void 0!==t.extrema}function n(t,e){return{center:t,radius:e}}function r(t,e){var n;return void 0!==t.extrema?(t.extrema.length=0,(n=t.extrema).push.apply(n,e)):t.extrema=e,t}t.hasExtrema=e,t.create=n,t.zero=function(){return{center:A(),radius:0}},t.clone=function(t){var r=n(A.clone(t.center),t.radius);return e(t)&&(r.extrema=t.extrema.map((function(t){return A.clone(t)}))),r},t.set=function(t,e,n){return A.copy(t.center,e),t.radius=n,t},t.copy=function(t,n){return A.copy(t.center,n.center),t.radius=n.radius,e(n)&&r(t,n.extrema.map((function(t){return A.clone(t)}))),t},t.setExtrema=r,t.computeBounding=function(t){for(var e=t.x,n=t.y,r=t.z,i=t.indices,o=0,a=0,u=0,s=0,c=ln.size(i),l=0;l<c;l++){o+=e[d=ln.getAt(i,l)],a+=n[d],u+=r[d]}for(c>0&&(o/=c,a/=c,u/=c),l=0;l<c;l++){var d,f=e[d=ln.getAt(i,l)]-o,p=n[d]-a,m=r[d]-u,h=f*f+p*p+m*m;h>s&&(s=h)}return{center:A.create(o,a,u),radius:Math.sqrt(s)}},t.transform=function(t,n,i){return A.transformMat4(t.center,n.center,i),t.radius=n.radius*I.getMaxScaleOnAxis(i),e(n)&&r(t,n.extrema.map((function(t){return A.transformMat4(A(),t,i)}))),t},t.translate=function(t,n,i){return A.add(t.center,n.center,i),e(n)&&r(t,n.extrema.map((function(t){return A.add(A(),t,i)}))),t},t.toArray=function(t,e,n){return A.toArray(t.center,e,n),e[n+3]=t.radius,e},t.fromArray=function(t,e,n){return A.fromArray(t.center,e,n),t.radius=e[n+3],t},t.fromBox3D=function(e,n){return A.scale(e.center,A.add(e.center,n.max,n.min),.5),e.radius=A.distance(e.center,n.max),t.setExtrema(e,[A.create(n.min[0],n.min[1],n.min[2]),A.create(n.max[0],n.max[1],n.max[2]),A.create(n.max[0],n.min[1],n.min[2]),A.create(n.min[0],n.max[1],n.max[2]),A.create(n.min[0],n.min[1],n.max[2]),A.create(n.max[0],n.min[1],n.max[2]),A.create(n.max[0],n.max[1],n.min[2]),A.create(n.min[0],n.max[1],n.min[2])]),e},t.fromAxes3D=function(t,e){return A.copy(t.center,e.origin),t.radius=Math.max(A.magnitude(e.dirA),A.magnitude(e.dirB),A.magnitude(e.dirC)),t};var i=A();t.fromDimensionsAndTransform=function(e,n,r){var o=n[0],a=n[1],u=n[2],s=A.create(0,0,0);A.transformMat4(s,s,r);var c=A.create(o,a,u);A.transformMat4(c,c,r);var l=A.create(o,0,0);A.transformMat4(l,l,r);var d=A.create(0,a,u);A.transformMat4(d,d,r);var f=A.create(0,0,u);A.transformMat4(f,f,r);var p=A.create(o,0,u);A.transformMat4(p,p,r);var m=A.create(o,a,0);A.transformMat4(m,m,r);var h=A.create(0,a,0);A.transformMat4(h,h,r),A.add(i,s,c),A.scale(i,i,.5);var g=Math.max(A.distance(s,c),A.distance(l,d));return t.set(e,i,g/2),t.setExtrema(e,[s,c,l,d,f,p,m,h]),e};var o=A();t.addVec3=function(e,n,r){return A.distance(n.center,r)<n.radius?t.copy(e,n):(A.sub(o,n.center,r),A.sub(o,n.center,o),A.setMagnitude(o,o,n.radius),A.scale(e.center,A.add(o,o,r),.5),e.radius=A.distance(e.center,r),e)},t.expandBySphere=function(t,n,i){return A.copy(t.center,n.center),t.radius=Math.max(n.radius,A.distance(n.center,i.center)+i.radius),e(n)&&e(i)&&r(t,Object(T.e)(Object(T.e)([],n.extrema.map((function(t){return A.clone(t)})),!0),i.extrema.map((function(t){return A.clone(t)})),!0)),t};var a=A();t.expand=function(t,n,i){var o,u;if(A.copy(t.center,n.center),t.radius=n.radius+i,n.radius<1e-12||(null!==(u=null===(o=n.extrema)||void 0===o?void 0:o.length)&&void 0!==u?u:0)<=1)return t.extrema=void 0,t;if(e(n)){for(var s=new Float32Array(3*n.extrema.length),c=0;c<n.extrema.length;c++)A.toArray(n.extrema[c],s,3*c);var l=hr.calculateMomentsAxes(s);ar.scale(l,ar.normalize(l,l),i),r(t,n.extrema.map((function(e){A.normalize(a,A.sub(a,e,n.center));var r=A.clone(e),i=A.dot(a,l.dirA)<0?-1:1;A.scaleAndAdd(r,r,l.dirA,i);var o=A.dot(a,l.dirB)<0?-1:1;A.scaleAndAdd(r,r,l.dirB,o);var u=A.dot(a,l.dirC)<0?-1:1;return A.scaleAndAdd(r,r,l.dirC,u),A.distance(t.center,r)>t.radius&&(n.extrema.length>=14&&A.normalize(a,A.sub(a,r,n.center)),A.scaleAndAdd(r,t.center,a,t.radius)),r})))}return t},t.exactEquals=function(t,e){return t.radius===e.radius&&A.exactEquals(t.center,e.center)},t.equals=function(t,e){var n=t.radius,r=e.radius;return Math.abs(n-r)<=h*Math.max(1,Math.abs(n),Math.abs(r))&&A.equals(t.center,e.center)},t.includes=function(t,n){if(e(n)){for(var r=0,i=n.extrema;r<i.length;r++){var o=i[r];if(A.distance(t.center,o)>t.radius)return!1}return!0}return A.distance(t.center,n.center)+n.radius<=t.radius},t.overlaps=function(t,e){return A.distance(t.center,e.center)<=t.radius+e.radius},t.distance=function(t,e){return A.distance(t.center,e.center)-t.radius+e.radius},t.distanceToVec=function(t,e){var n=t.center,r=t.radius;return A.distance(e,n)-r}}(ur||(ur={})),function(t){function e(){return{min:A(),max:A()}}function n(t,e){return A.copy(t.min,e.min),A.copy(t.max,e.max),t}t.create=function(t,e){return{min:t,max:e}},t.zero=e,t.copy=n,t.clone=function(t){return n(e(),t)};var r=A();function i(t,e){for(var n=0,r=e.length;n<r;n++)c(t,e[n]);return t}function o(t,e){return s(t),i(t,e),t}function a(t,e){return A.sub(t,e.max,e.min)}t.fromSphere3D=function(t,e){return ur.hasExtrema(e)&&e.extrema.length>=14?o(t,e.extrema):(A.set(r,e.radius,e.radius,e.radius),A.sub(t.min,e.center,r),A.add(t.max,e.center,r),t)},t.addVec3Array=i,t.fromVec3Array=o,t.addSphere3D=function(t,e){return ur.hasExtrema(e)&&e.extrema.length>=14?i(t,e.extrema):(c(t,A.subScalar(r,e.center,e.radius)),c(t,A.addScalar(r,e.center,e.radius)),t)},t.intersectsSphere3D=function(t,e){return A.clamp(r,e.center,t.min,t.max),A.squaredDistance(r,e.center)<=e.radius*e.radius},t.computeBounding=function(t){for(var e=A.create(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),n=A.create(-Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE),r=t.x,i=t.y,o=t.z,a=t.indices,u=0,s=ln.size(a);u<s;u++){var c=ln.getAt(a,u);e[0]=Math.min(r[c],e[0]),e[1]=Math.min(i[c],e[1]),e[2]=Math.min(o[c],e[2]),n[0]=Math.max(r[c],n[0]),n[1]=Math.max(i[c],n[1]),n[2]=Math.max(o[c],n[2])}return{min:e,max:n}},t.size=a;var u=A();function s(t){return A.set(t.min,Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),A.set(t.max,-Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE),t}function c(t,e){return A.min(t.min,t.min,e),A.max(t.max,t.max,e),t}t.volume=function(t){return a(u,t),u[0]*u[1]*u[2]},t.setEmpty=s,t.add=c,t.expand=function(t,e,n){return A.sub(t.min,e.min,n),A.add(t.max,e.max,n),t},t.scale=function(t,e,n){return A.scale(t.min,e.min,n),A.scale(t.max,e.max,n),t};var l=A();t.transform=function(t,e,n){var r=e.min,i=r[0],o=r[1],a=r[2],u=e.max,d=u[0],f=u[1],p=u[2];return s(t),c(t,A.transformMat4(l,A.set(l,i,o,a),n)),c(t,A.transformMat4(l,A.set(l,i,o,p),n)),c(t,A.transformMat4(l,A.set(l,i,f,a),n)),c(t,A.transformMat4(l,A.set(l,i,f,p),n)),c(t,A.transformMat4(l,A.set(l,d,o,a),n)),c(t,A.transformMat4(l,A.set(l,d,o,p),n)),c(t,A.transformMat4(l,A.set(l,d,f,a),n)),c(t,A.transformMat4(l,A.set(l,d,f,p),n)),t},t.containsVec3=function(t,e){return!(e[0]<t.min[0]||e[0]>t.max[0]||e[1]<t.min[1]||e[1]>t.max[1]||e[2]<t.min[2]||e[2]>t.max[2])},t.overlaps=function(t,e){return!(t.max[0]<e.min[0]||t.min[0]>e.max[0]||t.max[1]<e.min[1]||t.min[1]>e.max[1]||t.max[2]<e.min[2]||t.min[2]>e.max[2])},t.containsSphere3D=function(t,e){var n=e.center,r=e.radius;return!(n[0]-r<t.min[0]||n[0]+r>t.max[0]||n[1]-r<t.min[1]||n[1]+r>t.max[1]||n[2]-r<t.min[2]||n[2]+r>t.max[2])},t.nearestIntersectionWithRay=function(t,e,n,r){var i,o,a,u,s,c,l=e.min,d=l[0],f=l[1],p=l[2],m=e.max,h=m[0],g=m[1],v=m[2],y=n[0],_=n[1],b=n[2],x=1/r[0],w=1/r[1],S=1/r[2];return x>=0?(i=(d-y)*x,o=(h-y)*x):(i=(h-y)*x,o=(d-y)*x),w>=0?(a=(f-_)*w,u=(g-_)*w):(a=(g-_)*w,u=(f-_)*w),S>=0?(s=(p-b)*S,c=(v-b)*S):(s=(v-b)*S,c=(p-b)*S),a>i&&(i=a),u<o&&(o=u),s>i&&(i=s),c<o&&(o=c),A.scale(t,r,i),A.set(t,t[0]+y,t[1]+_,t[2]+b)}}(sr||(sr={}));var cr=function(t,e){this.parent=null,this.child=null,this.degree=0,this.isMarked=!1,this.key=t,this.value=e,this.prev=this,this.next=this},lr=new(function(){function t(t){if(this._index=-1,this._items=[],this._len=0,t){var e=t,n=0;do{this._items[n++]=e,e=e.next}while(t!==e);this._len=n}}return t.prototype.hasNext=function(){return this._index<this._len-1},t.prototype.next=function(){return this._items[++this._index]},t.prototype.reset=function(t){this._index=-1,this._len=0;var e=t,n=0;do{this._items[n++]=e,e=e.next}while(t!==e);this._len=n},t}()),dr=function(){function t(t){this._minNode=null,this._nodeCount=0,this._compare=t||this._defaultCompare}return t.prototype.clear=function(){this._minNode=null,this._nodeCount=0},t.prototype.decreaseKey=function(t,e){if(!t)throw new Error("Cannot decrease key of non-existent node");if(this._compare({key:e},{key:t.key})>0)throw new Error("New key is larger than old key");t.key=e;var n=t.parent;n&&this._compare(t,n)<0&&(this._cut(t,n,this._minNode),this._cascadingCut(n,this._minNode)),this._compare(t,this._minNode)<0&&(this._minNode=t)},t.prototype.delete=function(t){var e=t.parent;e&&(this._cut(t,e,this._minNode),this._cascadingCut(e,this._minNode)),this._minNode=t,this.extractMinimum()},t.prototype.extractMinimum=function(){var t=this._minNode;if(t){if(t.child){var e=t.child;do{e.parent=null,e=e.next}while(e!==t.child)}var n=null;t.next!==t&&(n=t.next),this._removeNodeFromList(t),this._nodeCount--,this._minNode=this._mergeLists(n,t.child),this._minNode&&(this._minNode=this._consolidate(this._minNode))}return t},t.prototype.findMinimum=function(){return this._minNode},t.prototype.insert=function(t,e){var n=new cr(t,e);return this._minNode=this._mergeLists(this._minNode,n),this._nodeCount++,n},t.prototype.isEmpty=function(){return null===this._minNode},t.prototype.size=function(){return null===this._minNode?0:this._getNodeListSize(this._minNode)},t.prototype.union=function(t){this._minNode=this._mergeLists(this._minNode,t._minNode),this._nodeCount+=t._nodeCount},t.prototype._defaultCompare=function(t,e){return t.key>e.key?1:t.key<e.key?-1:0},t.prototype._cut=function(t,e,n){t.parent=null,e.degree--,t.next===t?e.child=null:e.child=t.next,this._removeNodeFromList(t);var r=this._mergeLists(n,t);return t.isMarked=!1,r},t.prototype._cascadingCut=function(t,e){var n=t.parent;return n&&(t.isMarked?(e=this._cut(t,n,e),e=this._cascadingCut(n,e)):t.isMarked=!0),e},t.prototype._consolidate=function(t){var e=[];for(lr.reset(t);lr.hasNext();){for(var n=lr.next(),r=e[n.degree];r;){if(this._compare(n,r)>0){var i=n;n=r,r=i}this._linkHeaps(r,n),e[n.degree]=null,n.degree++,r=e[n.degree]}e[n.degree]=n}for(var o=null,a=0;a<e.length;a++){var u=e[a];u&&(u.next=u,u.prev=u,o=this._mergeLists(o,u))}return o},t.prototype._removeNodeFromList=function(t){var e=t.prev,n=t.next;e.next=n,n.prev=e,t.next=t,t.prev=t},t.prototype._linkHeaps=function(t,e){this._removeNodeFromList(t),e.child=this._mergeLists(t,e.child),t.parent=e,t.isMarked=!1},t.prototype._mergeLists=function(t,e){if(!t)return e||null;if(!e)return t;var n=t.next;return t.next=e.next,t.next.prev=t,e.next=n,e.next.prev=e,this._compare(t,e)<0?t:e},t.prototype._getNodeListSize=function(t){var e=0,n=t;do{e++,n.child&&(e+=this._getNodeListSize(n.child)),n=n.next}while(n!==t);return e},t}();function fr(t,e,n){return new pr(t,e,n)}var pr=function(){function t(t,e,n){var r=function(t,e,n){var r,i,o=sr.expand(sr(),e.box,A.create(.5,.5,.5)),a=t.indices,u=sr.size(A(),o),s=ln.size(a),c="number"==typeof n?n:32,l=Array.isArray(n)&&n;if(l&&!A.isZero(l))i=[Math.ceil(u[0]/l[0]),Math.ceil(u[1]/l[1]),Math.ceil(u[2]/l[2])],r=l;else if(s>0){var d=Math.ceil(s/c),f=Math.pow(d/(u[0]*u[1]*u[2]),1/3);i=[Math.ceil(u[0]*f),Math.ceil(u[1]*f),Math.ceil(u[2]*f)],r=[u[0]/i[0],u[1]/i[1],u[2]/i[2]]}else r=u,i=[1,1,1];var p={x:t.x,y:t.y,z:t.z,indices:a,radius:t.radius};return function(t){for(var e=t.expandedBox,n=t.size,r=n[0],i=n[1],o=n[2],a=t.data,u=a.x,s=a.y,c=a.z,l=a.radius,d=a.indices,f=t.elementCount,p=t.delta,m=r*i*o,h=e.min,g=h[0],v=h[1],y=h[2],_=0,b=0,x=new Uint32Array(m),A=new Int32Array(f),w=0;w<f;w++){var S=ln.getAt(d,w),C=Math.floor((u[S]-g)/p[0]),B=Math.floor((s[S]-v)/p[1]),I=Math.floor((c[S]-y)/p[2]),P=(C*i+B)*o+I;1===(x[P]+=1)&&(b+=1),A[w]=P}if(l)for(w=0;w<f;w++){S=ln.getAt(d,w);l[S]>_&&(_=l[S])}for(var E=new Int32Array(b),M=(S=0,0);S<m;S++){var k=x[S];k>0&&(x[S]=M+1,E[M]=k,M+=1)}var D=new Uint32Array(b);for(S=1;S<b;++S)D[S]+=D[S-1]+E[S-1];var O=new Int32Array(b),N=new Int32Array(f);for(S=0;S<f;S++){var T=x[A[S]];if(T>0){var U=T-1;N[D[U]+O[U]]=S,O[U]+=1}}return{size:t.size,bucketArray:N,bucketCounts:E,bucketOffset:D,grid:x,delta:p,min:t.expandedBox.min,data:t.data,maxRadius:_,expandedBox:t.expandedBox,boundingBox:t.boundingBox,boundingSphere:t.boundingSphere}}({size:i,data:p,expandedBox:o,boundingBox:e.box,boundingSphere:e.sphere,elementCount:s,delta:r})}(t,e,n);this.ctx={grid:r,x:.1,y:.1,z:.1,k:1,stopIf:void 0,radius:.1,isCheck:!1},this.boundary={box:r.boundingBox,sphere:r.boundingSphere},this.buckets={offset:r.bucketOffset,count:r.bucketCounts,array:r.bucketArray},this.result=$.create()}return t.prototype.find=function(t,e,n,r,i){this.ctx.x=t,this.ctx.y=e,this.ctx.z=n,this.ctx.radius=r,this.ctx.isCheck=!1;var o=null!=i?i:this.result;return mr(this.ctx,o),o},t.prototype.nearest=function(t,e,n,r,i,o){void 0===r&&(r=1),this.ctx.x=t,this.ctx.y=e,this.ctx.z=n,this.ctx.k=r,this.ctx.stopIf=i;var a=null!=o?o:this.result;return function(t,e){var n=t.grid,r=n.min,i=n.expandedBox,o=n.boundingSphere.center,a=n.size,u=a[0],s=a[1],c=a[2],l=n.bucketOffset,d=n.bucketCounts,f=n.bucketArray,p=n.grid,m=n.data,h=m.x,g=m.y,v=m.z,y=m.indices,_=m.radius,b=n.delta,x=n.maxRadius,w=t.x,S=t.y,C=t.z,B=t.k,I=t.stopIf,P=ln.size(y);if($.reset(e),0===P||B<=0)return!1;var E,M,k,D,O=!1,N=1,T=!0,U=0,R=Ar,L=wr,G=0,q=!0,F=!1,j=Sr,H=x*x;R.length=0,j.length=0,br.clear(),Cr.clear(),A.set(_r,w,S,C),sr.containsVec3(i,_r)?(E=Math.floor((w-r[0])/b[0]),M=Math.floor((S-r[1])/b[1]),k=Math.floor((C-r[2])/b[2])):(sr.nearestIntersectionWithRay(_r,i,_r,A.normalize(yr,A.sub(yr,o,_r))),E=Math.max(0,Math.min(u-1,Math.floor((_r[0]-r[0])/b[0]))),M=Math.max(0,Math.min(s-1,Math.floor((_r[1]-r[1])/b[1]))),k=Math.max(0,Math.min(c-1,Math.floor((_r[2]-r[2])/b[2]))));var V=0!==x?Math.max(1,Math.min(u-1,Math.ceil(x/b[0]))):1,z=0!==x?Math.max(1,Math.min(s-1,Math.ceil(x/b[1]))):1,Y=0!==x?Math.max(1,Math.min(c-1,Math.ceil(x/b[2]))):1;R.push(E,M,k,(E*s+M)*c+k);for(;e.count<P;){for(var K=4*N,Z=0;Z<K;Z+=4)if(D=R[Z+3],!br.has(D)){br.add(D),F=br.size>=p.length;var W=p[D];if(0!==W){for(var X=G,Q=W-1,J=l[Q],tt=d[Q],et=J+tt,nt=J;nt<et;nt++){var rt=f[nt],it=ln.getAt(y,rt),ot=h[it]-w,at=g[it]-S,ut=v[it]-C,st=ot*ot+at*at+ut*ut;if(0!==x){var ct=_[it];st-=ct*ct}q&&st>G&&(G=st),Cr.insert(st,rt)}X<G&&(q=!1)}}L.length=0,U=0,xr.clear();for(Z=0;Z<K;Z+=4){E=R[Z],M=R[Z+1],k=R[Z+2];for(var lt=-V;lt<=V;lt++){var dt=E+lt;if(!(dt<0||dt>=u))for(var ft=-z;ft<=z;ft++){var pt=M+ft;if(!(pt<0||pt>=s))for(var mt=-Y;mt<=Y;mt++){var ht=k+mt;if(!(ht<0||ht>=c)&&(D=(dt*s+pt)*c+ht,!xr.has(D)&&(xr.add(D),!br.has(D)))){if(!T){var gt=r[0]+dt*b[0]-w,vt=r[1]+pt*b[1]-S,yt=r[2]+ht*b[2]-C;if(gt*gt+vt*vt+yt*yt-H>G){j.push(dt,pt,ht,D);continue}}L.push(dt,pt,ht,D),U++}}}}}if(T=!1,0===U){if(1===B){if(At=Cr.findMinimum()){var _t=At,bt=_t.key,xt=_t.value;return $.add(e,xt,bt),!0}}else for(;!Cr.isEmpty()&&(F||Cr.findMinimum().key<=G)&&e.count<B;){var At;bt=(At=Cr.extractMinimum()).key,xt=At.value;$.add(e,xt,bt),I&&!O&&(O=I(xt,bt))}if(e.count>=B||O||e.count>=P)return e.count>0;if(T=!0,q=!0,j.length>0){nt=0;for(var wt=j.length;nt<wt;nt++)R.push(j[nt]);j.length=0,N=R.length}}else{var St=R;R=L,L=St,N=U}}e.count}(this.ctx,a),a},t.prototype.check=function(t,e,n,r){return this.ctx.x=t,this.ctx.y=e,this.ctx.z=n,this.ctx.radius=r,this.ctx.isCheck=!0,mr(this.ctx,this.result)},t}();function mr(t,e){var n=t.grid,r=n.min,i=n.size,o=i[0],a=i[1],u=i[2],s=n.bucketOffset,c=n.bucketCounts,l=n.bucketArray,d=n.grid,f=n.data,p=f.x,m=f.y,h=f.z,g=f.indices,v=f.radius,y=n.delta,_=n.maxRadius,b=t.radius,x=t.isCheck,A=t.x,w=t.y,S=t.z,C=b+_,B=C*C;$.reset(e);var I=Math.max(0,Math.floor((A-C-r[0])/y[0])),P=Math.max(0,Math.floor((w-C-r[1])/y[1])),E=Math.max(0,Math.floor((S-C-r[2])/y[2])),M=Math.min(o-1,Math.floor((A+C-r[0])/y[0])),k=Math.min(a-1,Math.floor((w+C-r[1])/y[1])),D=Math.min(u-1,Math.floor((S+C-r[2])/y[2]));if(I>M||P>k||E>D)return!1;for(var O=I;O<=M;O++)for(var N=P;N<=k;N++)for(var T=E;T<=D;T++){var U=d[(O*a+N)*u+T];if(0!==U)for(var R=U-1,L=s[R],G=L+c[R],q=L;q<G;q++){var F=ln.getAt(g,l[q]),j=p[F]-A,H=m[F]-w,V=h[F]-S,z=j*j+H*H+V*V;if(z<=B){if(_>0&&Math.sqrt(z)-v[F]>b)continue;if(x)return!0;$.add(e,l[q],z)}}}return e.count>0}var hr,gr,vr,yr=A(),_r=A(),br=new Set,xr=new Set,Ar=[.1],wr=[.1],Sr=[.1],Cr=new dr;function Br(t){return t}!function(t){function e(t){if(3===t.length)return ar.create(A.fromArray(A(),t,0),A.create(1,0,0),A.create(0,1,0),A.create(0,0,1));var e=O.fromArray(t,3,t.length/3),n=e.rows,r=n/3,i=O.create(3,3),o=O.create(1,3),a=O.create(3,3),u=O.create(3,3),s=O.meanRows(e),c=O.subRows(O.clone(e),s),l=O.transpose(O.create(n,3),c);O.multiplyABt(i,l,l),G(i,o,a,u);var d=A.create(s[0],s[1],s[2]),f=A.create(a.data[0],a.data[3],a.data[6]),p=A.create(a.data[1],a.data[4],a.data[7]),m=A.create(a.data[2],a.data[5],a.data[8]);return A.scale(f,f,Math.sqrt(o.data[0]/r)),A.scale(p,p,Math.sqrt(o.data[1]/r)),A.scale(m,m,Math.sqrt(o.data[2]/r)),ar.create(d,f,p,m)}function n(t){var e=ar.clone(t);return A.magnitude(e.dirC)<h&&A.cross(e.dirC,e.dirA,e.dirB),ar.normalize(e,e)}t.ofPositions=function(t){var n=e(t);return{momentsAxes:n,boxAxes:i(t,n)}},t.calculateMomentsAxes=e,t.calculateNormalizedAxes=n;var r=A();function i(t,e){if(3===t.length)return ar.clone(e);for(var i=-1/0,o=-1/0,a=-1/0,u=-1/0,s=-1/0,c=-1/0,l=A(),d=A(),f=e.origin,p=n(e),m=0,h=t.length;m<h;m+=3){A.projectPointOnVector(l,A.fromArray(l,t,m),p.dirA,f);var g=A.dot(p.dirA,A.normalize(d,A.sub(d,l,f))),v=A.distance(l,f);g>0?v>i&&(i=v):v>o&&(o=v),A.projectPointOnVector(l,A.fromArray(l,t,m),p.dirB,f);var y=A.dot(p.dirB,A.normalize(d,A.sub(d,l,f))),_=A.distance(l,f);y>0?_>a&&(a=_):_>u&&(u=_),A.projectPointOnVector(l,A.fromArray(l,t,m),p.dirC,f);var b=A.dot(p.dirC,A.normalize(d,A.sub(d,l,f))),x=A.distance(l,f);b>0?x>s&&(s=x):x>c&&(c=x)}var w=A.setMagnitude(A(),p.dirA,(i+o)/2),S=A.setMagnitude(A(),p.dirB,(a+u)/2),C=A.setMagnitude(A(),p.dirC,(s+c)/2),B=A.isFinite(w),I=A.isFinite(S),P=A.isFinite(C),E=A(),M=function(t,e,n){A.copy(r,f),B&&A.scaleAndAdd(r,r,p.dirA,t),I&&A.scaleAndAdd(r,r,p.dirB,e),P&&A.scaleAndAdd(r,r,p.dirC,n),A.add(E,E,r)};return M(i,a,s),M(i,a,-c),M(i,-u,-c),M(i,-u,s),M(-o,-u,-c),M(-o,-u,s),M(-o,a,s),M(-o,a,-c),A.scale(E,E,1/8),ar.create(E,w,S,C)}t.calculateBoxAxes=i}(hr||(hr={})),function(t){t.create=function(t,e,n){var r=!!t[0].cell,i=!!t[0].velocities,o=!!t[0].forces;return{id:Lt.a.create22(),frames:t,hasCell:r,hasVelocities:i,hasForces:o,deltaTime:e,timeOffset:n}},t.getAtomicConformation=function(t,e,a){var u,s,c=t.x,l=t.y,d=t.z;return t.xyzOrdering.frozen?a?t.xyzOrdering.isIdentity?(c=i(c,a),l=i(l,a),d=i(d,a)):Vt(t.xyzOrdering.index,a)||(c=r(c,t.xyzOrdering.index,a),l=r(l,t.xyzOrdering.index,a),d=r(d,t.xyzOrdering.index,a)):t.xyzOrdering.isIdentity||(c=o(c,t.xyzOrdering.index),l=o(l,t.xyzOrdering.index),d=o(d,t.xyzOrdering.index)):a&&(t.xyzOrdering.isIdentity?(t.xyzOrdering.isIdentity=!1,t.xyzOrdering.index=a,n(c,a),n(l,a),n(d,a)):Vt(t.xyzOrdering.index,a)||(c=r(c,t.xyzOrdering.index,a),l=r(l,t.xyzOrdering.index,a),d=r(d,t.xyzOrdering.index,a))),t.xyzOrdering.frozen=!0,{id:Lt.a.create22(),atomId:e.atomId,occupancy:null!==(u=e.occupancy)&&void 0!==u?u:Et.ofConst(1,t.elementCount,Et.Schema.int),B_iso_or_equiv:null!==(s=e.B_iso_or_equiv)&&void 0!==s?s:Et.ofConst(0,t.elementCount,Et.Schema.float),xyzDefined:!0,x:c,y:l,z:d}};var e=[.123];function n(t,n){for(var r=e,i=0,o=t.length;i<o;i++)r[i]=t[n[i]];for(i=0,o=t.length;i<o;i++)t[i]=r[i]}function r(t,e,n){for(var r=new Float32Array(t.length),i=0,o=t.length;i<o;i++)r[i]=t[e[n[i]]];return r}function i(t,e){for(var n=new Float32Array(t.length),r=0,i=t.length;r<i;r++)n[r]=t[e[r]];return n}function o(t,e){for(var n=new Float32Array(t.length),r=0,i=t.length;r<i;r++)n[e[r]]=t[r];return n}}(gr||(gr={})),(vr||(vr={})).create=function(t,e,n,r){return{id:Lt.a.create22(),label:t,basic:e,sourceData:r,bonds:n}},(Br||(Br={})).getUUID=function(t){return t.__key||(t.__key=Lt.a.create22()),t.__key};var Ir=function(){function t(){this._list=[],this._set=new Set,this._refs=new Map,this._assets=new Map}return Object.defineProperty(t.prototype,"all",{get:function(){return this._list},enumerable:!1,configurable:!0}),t.prototype.add=function(t){this._set.has(t)||(this._list.push(t),this._set.add(t))},t.prototype.reference=function(t,e){var n=this._refs.get(t)||0;n+=e?1:-1,this._refs.set(t,Math.max(n,0))},t.prototype.hasReference=function(t){return(this._refs.get(t)||0)>0},t.prototype.has=function(t){return this._set.has(t)},t.prototype.assets=function(t,e){var n=this._assets.get(t);if(n)for(var r=0,i=n;r<i.length;r++){i[r].dispose()}e?this._assets.set(t,e):this._assets.delete(t)},t.prototype.dispose=function(){this._assets.forEach((function(t){for(var e=0,n=t;e<n.length;e++){n[e].dispose()}}))},t}();function Pr(t){for(var e=1/0,n=-1/0,r=0,i=t.length;r<i;++r)t[r]<e&&(e=t[r]),t[r]>n&&(n=t[r]);return[e,n]}function Er(t,e){for(var n=0,r=e?Math.min(e,t.length):t.length;n<r;++n)t[n]=n;return t}function Mr(t,e){return!(t.indexOf(e)>=0)&&(t.push(e),!0)}var kr,Dr=n(1),Or=n(8),Nr=n(9),Tr="undefined"!=typeof performance&&!!performance.mark&&performance.measure&&!Nr.a;function Ur(t){return{taskId:t.id,taskName:t.name,message:"",startedTime:0,canAbort:!0,isIndeterminate:!0,current:0,max:0}}function Rr(t,e,n){var r,i={abortRequested:!1,treeAborted:!1,reason:""};return{updateRateMs:n,lastNotified:Object(Dr.a)(),observer:e,abortToken:i,taskId:t.id,root:{progress:Ur(t),children:[]},tryAbort:(r=i,function(t){r.abortRequested=!0,r.reason=t||r.reason})}}function Lr(t){return{progress:Object(T.a)({},t.progress),children:t.children.map(Lr)}}function Gr(t){return t.progress.canAbort&&t.children.every(Gr)}function qr(t,e){return Object(T.b)(this,void 0,void 0,(function(){var n,r;return Object(T.d)(this,(function(i){switch(i.label){case 0:kr.markStart(t),e.node.progress.startedTime=Object(Dr.a)(),i.label=1;case 1:return i.trys.push([1,3,,7]),[4,t.f(e)];case 2:return n=i.sent(),kr.markEnd(t),kr.measure(t),e.info.abortToken.abortRequested&&Fr(e.info),[2,n];case 3:return r=i.sent(),Hr.isAbort(r)?(e.isAborted=!0,e.node.children.length>0?[4,new Promise((function(t){e.onChildrenFinished=t}))]:[3,5]):[3,6];case 4:i.sent(),i.label=5;case 5:t.onAbort&&t.onAbort(),i.label=6;case 6:throw r;case 7:return[2]}}))}))}function Fr(t){throw t.abortToken.treeAborted||(t.abortToken.treeAborted=!0,function t(e){var n=e.progress;n.isIndeterminate=!0,n.canAbort=!1,n.message="Aborting...";for(var r=0,i=e.children;r<i.length;r++){var o=i[r];t(o)}}(t.root),jr(t,Object(Dr.a)())),Hr.Aborted(t.abortToken.reason)}function jr(t,e){t.lastNotified=e;var n=function(t){return{root:Lr(t.root),canAbort:Gr(t.root),requestAbort:t.tryAbort}}(t);t.observer(n)}!function(t){function e(t){return"startTask".concat(t.id)}function n(t){return"endTask".concat(t.id)}t.markStart=function(t){Tr&&performance.mark(e(t))},t.markEnd=function(t){Tr&&performance.mark(n(t))},t.measure=function(t){Tr&&performance.measure("✳️ ".concat(t.name),e(t),n(t))}}(kr||(kr={}));var Hr,Vr,zr,Yr,Kr=function(){function t(t,e){this.isSynchronous=!1,this.isExecuting=!0,this.lastUpdatedTime=0,this.onChildrenFinished=void 0,this.node=e,this.info=t}return t.prototype.checkAborted=function(){this.info.abortToken.abortRequested&&(this.isAborted=!0,Fr(this.info))},Object.defineProperty(t.prototype,"shouldUpdate",{get:function(){return this.checkAborted(),Object(Dr.a)()-this.lastUpdatedTime>this.info.updateRateMs},enumerable:!1,configurable:!0}),t.prototype.updateProgress=function(t){if(this.checkAborted(),t){var e=this.node.progress;"string"==typeof t?(e.message=t,e.isIndeterminate=!0):(void 0!==t.canAbort&&(e.canAbort=t.canAbort),void 0!==t.message&&(e.message=t.message),void 0!==t.current&&(e.current=t.current),void 0!==t.max&&(e.max=t.max),e.isIndeterminate=void 0===e.current||void 0===e.max,void 0!==t.isIndeterminate&&(e.isIndeterminate=t.isIndeterminate))}},t.prototype.update=function(t,e){if(this.lastUpdatedTime=Object(Dr.a)(),this.updateProgress(t),!e)return jr(this.info,this.lastUpdatedTime),this.checkAborted(),Or.a.immediatePromise()},t.prototype.runChild=function(e,n){return Object(T.b)(this,void 0,void 0,(function(){var r,i,o,a,u,s,c;return Object(T.d)(this,(function(l){switch(l.label){case 0:this.updateProgress(n),r={progress:Ur(e),children:[]},(i=this.node.children).push(r),o=new t(this.info,r),l.label=1;case 1:return l.trys.push([1,3,4,5]),[4,qr(e,o)];case 2:return[2,l.sent()];case 3:if(a=l.sent(),Hr.isAbort(a)&&this.isAborted)return[2,void 0];throw a;case 4:if((u=i.indexOf(r))>=0){for(s=u,c=i.length-1;s<c;s++)i[s]=i[s+1];i.pop()}return 0===i.length&&this.onChildrenFinished&&this.onChildrenFinished(),[7];case 5:return[2]}}))}))},t}(),Zr=new(function(){function t(){this.shouldUpdate=!1,this.isSynchronous=!0}return t.prototype.update=function(t,e){},t}());function Wr(t,e,n,r,i){return Object(T.b)(this,void 0,void 0,(function(){var o,a,u,s,c,l,d;return Object(T.d)(this,(function(f){switch(f.label){case 0:if(o=Math.max(e,0),a=0,u=0,t.isSynchronous)return r(Number.MAX_SAFE_INTEGER,n),[2,n];s=Object(Dr.a)(),c=0,l=0,f.label=1;case 1:return(c=r(o,n))>0?(a+=c,d=Object(Dr.a)()-s,l+=d,u+=d,t.shouldUpdate?[4,i(t,n,a)]:[3,3]):[3,4];case 2:f.sent(),o=Math.round(l*a/u)+1,s=Object(Dr.a)(),l=0,f.label=3;case 3:return[3,1];case 4:return t.shouldUpdate?[4,i(t,n,a)]:[3,6];case 5:f.sent(),f.label=6;case 6:return[2,n]}}))}))}!function(t){var e=function(){function t(t,e,n){this.name=t,this.f=e,this.onAbort=n,this.id=i()}return t.prototype.run=function(t,e){return void 0===e&&(e=250),t?function(t,e,n){void 0===n&&(n=250);var r=Rr(t,e,n);return qr(t,new Kr(r,r.root))}(this,t,e):this.f(Zr)},t.prototype.runAsChild=function(t,e){return t.isSynchronous?this.f(Zr):function(t,e,n){return t.runChild(e,n)}(t,this,e)},t.prototype.runInContext=function(t){return t.isSynchronous?this.f(Zr):function(t,e){return qr(e,t)}(t,this)},t}();function n(t){var e=t;return!!t&&"number"==typeof e.id&&"string"==typeof e.name&&!!e.run}function r(t,n,r){return new e(t,n,r)}t.is=n,t.isAbort=function(t){return!!t&&!!t.isAborted},t.Aborted=function(t){return{isAborted:!0,reason:t,toString:function(){return"Aborted".concat(t?": "+t:"")}}},t.create=r,t.constant=function(t,e){var n=this;return r(t,(function(t){return Object(T.b)(n,void 0,void 0,(function(){return Object(T.d)(this,(function(t){return[2,e]}))}))}))},t.empty=function(){var t=this;return r("",(function(e){return Object(T.b)(t,void 0,void 0,(function(){return Object(T.d)(this,(function(t){return[2]}))}))}))},t.fail=function(t,e){var n=this;return r(t,(function(t){return Object(T.b)(n,void 0,void 0,(function(){return Object(T.d)(this,(function(t){throw new Error(e)}))}))}))},t.resolveInContext=function(t,e){return n(t)?e?t.runInContext(e):t.run():t};var i=qt(0,1073741823)}(Hr||(Hr={})),(Vr||(Vr={})).Synchronous=Zr,function(t){t.format=function(t){return function t(e,n){void 0===n&&(n="");var r=e.progress;if(!e.children.length)return r.isIndeterminate?"".concat(n).concat(r.taskName,": ").concat(r.message):"".concat(n).concat(r.taskName,": [").concat(r.current,"/").concat(r.max,"] ").concat(r.message);var i=n+"  |_ ",o=e.children.map((function(e){return t(e,i)}));return r.isIndeterminate?"".concat(n).concat(r.taskName,": ").concat(r.message,"\n").concat(o.join("\n")):"".concat(n).concat(r.taskName,": [").concat(r.current,"/").concat(r.max,"] ").concat(r.message,"\n").concat(o.join("\n"))}(t.root)}}(zr||(zr={})),function(t){t.areEqual=function(t,e){if(t===e)return!0;if(t.vertexCount!==e.vertexCount||t.edgeCount!==e.edgeCount)return!1;for(var n=t.a,r=t.b,i=t.offset,o=e.a,a=e.b,u=e.offset,s=0,c=t.a.length;s<c;s++)if(n[s]!==o[s])return!1;for(s=0,c=t.b.length;s<c;s++)if(r[s]!==a[s])return!1;for(s=0,c=t.offset.length;s<c;s++)if(i[s]!==u[s])return!1;for(var l=0,d=Object.keys(t.edgeProps);l<d.length;l++){var f=d[l],p=t.edgeProps[f],m=e.edgeProps[f];if(!m)return!1;for(s=0,c=p.length;s<c;s++)if(p[s]!==m[s])return!1}return!0};var e=function(){function t(t,e,n,r,i,o){this.offset=t,this.a=e,this.b=n,this.edgeCount=r,this.props=o,this.vertexCount=t.length-1,this.edgeProps=i||{}}return t.prototype.getEdgeIndex=function(t,e){var n,r;t<e?(n=t,r=e):(n=e,r=t);for(var i=this.offset[n],o=this.offset[n+1];i<o;i++)if(this.b[i]===r)return i;return-1},t.prototype.getDirectedEdgeIndex=function(t,e){for(var n=this.offset[t],r=this.offset[t+1];n<r;n++)if(this.b[n]===e)return n;return-1},t.prototype.getVertexEdgeCount=function(t){return this.offset[t+1]-this.offset[t]},t}();function n(t,n,r,i,o,a){return new e(t,n,r,i,o,a)}t.create=n;var r=function(){function t(t,e,n){this.vertexCount=t,this.xs=e,this.ys=n,this.current=0,this.curA=0,this.curB=0,this.edgeCount=e.length,this.offsets=new Int32Array(this.vertexCount+1),this.bucketFill=new Int32Array(this.vertexCount);for(var r=new Int32Array(this.vertexCount),i=0,o=this.xs.length;i<o;i++)r[this.xs[i]]++;for(i=0,o=this.ys.length;i<o;i++)r[this.ys[i]]++;var a=0;for(i=0;i<this.vertexCount;i++)this.offsets[i]=a,a+=r[i];this.offsets[this.vertexCount]=a,this.slotCount=a,this.a=new Int32Array(a),this.b=new Int32Array(a)}return t.prototype.createGraph=function(t,e){return n(this.offsets,this.a,this.b,this.edgeCount,t,e)},t.prototype.addNextEdge=function(){var t=this.xs[this.current],e=this.ys[this.current],n=this.offsets[t]+this.bucketFill[t];this.a[n]=t,this.b[n]=e,this.bucketFill[t]++;var r=this.offsets[e]+this.bucketFill[e];this.a[r]=e,this.b[r]=t,this.bucketFill[e]++,this.current++,this.curA=n,this.curB=r},t.prototype.addAllEdges=function(){for(var t=0;t<this.edgeCount;t++)this.addNextEdge()},t.prototype.assignProperty=function(t,e){t[this.curA]=e,t[this.curB]=e},t.prototype.assignDirectedProperty=function(t,e,n,r){t[this.curA]=e,t[this.curB]=r,n[this.curB]=e,n[this.curA]=r},t}();t.EdgeBuilder=r;var i=function(){function t(t,e,n){this.vertexCount=t,this.xs=e,this.ys=n,this.current=0,this.curA=0,this.edgeCount=e.length,this.offsets=new Int32Array(this.vertexCount+1),this.bucketFill=new Int32Array(this.vertexCount);for(var r=new Int32Array(this.vertexCount),i=0,o=this.xs.length;i<o;i++)r[this.xs[i]]++;var a=0;for(i=0;i<this.vertexCount;i++)this.offsets[i]=a,a+=r[i];this.offsets[this.vertexCount]=a,this.slotCount=a,this.a=new Int32Array(a),this.b=new Int32Array(a)}return t.prototype.createGraph=function(t,e){return n(this.offsets,this.a,this.b,this.edgeCount,t,e)},t.prototype.addNextEdge=function(){var t=this.xs[this.current],e=this.ys[this.current],n=this.offsets[t]+this.bucketFill[t];this.a[n]=t,this.b[n]=e,this.bucketFill[t]++,this.current++,this.curA=n},t.prototype.addAllEdges=function(){for(var t=0;t<this.edgeCount;t++)this.addNextEdge()},t.prototype.assignProperty=function(t,e){t[this.curA]=e},t}();t.DirectedEdgeBuilder=i;var o=function(){function t(t){this.vertexCount=t,this.xs=[],this.ys=[],this.included=new Set}return t.prototype.addEdge=function(t,e){var n=t,r=e;t>e&&(n=e,r=t);var i=vt(n,r);return!this.included.has(i)&&(this.included.add(i),this.xs[this.xs.length]=n,this.ys[this.ys.length]=r,!0)},t.prototype.getGraph=function(){return a(this.vertexCount,this.xs,this.ys)},t.prototype.getEdgeBuiler=function(){return new r(this.vertexCount,this.xs,this.ys)},t}();function a(e,n,r){var i=new t.EdgeBuilder(e,n,r);return i.addAllEdges(),i.createGraph({})}t.UniqueEdgeBuilder=o,t.fromVertexPairs=a,t.induceByVertices=function(t,e,r){for(var i=t.b,o=t.offset,a=t.vertexCount,u=t.edgeProps,s=new Int32Array(a),c=0,l=e.length;c<l;c++)s[e[c]]=c+1;var d=0;for(c=0;c<a;c++)if(0!==s[c])for(var f=o[c],p=o[c+1];f<p;f++)i[f]>c&&0!==s[i[f]]&&d++;var m=new Int32Array(e.length+1),h=new Int32Array(2*d),g=new Int32Array(2*d),v=new Int32Array(2*d),y=0,_=0;for(c=0;c<a;c++)if(0!==s[c]){var b=s[c]-1;for(f=o[c],p=o[c+1];f<p;f++){var x=s[i[f]];0!==x&&(g[y]=b,v[y]=x-1,h[y]=f,y++)}m[++_]=y}for(var A={},w=0,S=Object.keys(u);w<S.length;w++){var C=S[w];A[C]=te(u[C],h)}return n(m,g,v,d,A,r)},t.connectedComponents=function(t){var e=t.vertexCount;if(0===e)return{componentCount:0,componentIndex:new Int32Array(0)};if(0===t.edgeCount){for(var n=new Int32Array(e),r=0,i=e;r<i;r++)n[r]=r;return{componentCount:e,componentIndex:n}}var o=new Int32Array(e);for(r=0,i=e;r<i;r++)o[r]=-1;var a=0;o[0]=a;var u=t.offset,s=t.b,c=[0],l=new Jn(e);for(l.remove(0);c.length>0;){for(var d=c.pop(),f=o[d],p=u[d],m=u[d+1];p<m;p++){var h=s[p];l.has(h)&&(l.remove(h),c.push(h),o[h]=f)}0===c.length&&l.head>=0&&(c.push(l.head),o[l.head]=++a,l.remove(l.head))}return{componentCount:e,componentIndex:o}},t.areVertexSetsConnected=function(t,e,n,r){if(an.areIntersecting(e,n))return!0;if(r<1)return!1;for(var i=new Set,o=0,a=e.length;o<a;++o)i.add(e[o]);return function t(e,n,r,i,o){for(var a=e.b,u=e.offset,s=[],c=0,l=n.length;c<l;++c)for(var d=n[c],f=u[d],p=u[d+1];f<p;++f){var m=a[f];if(!o.has(m)){if(an.has(r,m))return!0;o.add(m),s[s.length]=m}}return i>1&&t(e,s,r,i-1,o)}(t,e,n,r,i)}}(Yr||(Yr={}));var Xr,Qr,Jr,$r,ti,ei=function(){function t(){this.map=new Map,this.applicable=new Map}return t.prototype.add=function(t,e,n){this.map.set(t,e),n&&this.applicable.set(t,n)},t.prototype.remove=function(t){this.map.delete(t),this.applicable.delete(t)},t.prototype.get=function(t){return this.map.get(t)},t.prototype.isApplicable=function(t){if(!this.map.has(t.sourceData.kind))return!1;var e=this.applicable.get(t.sourceData.kind);return!e||e(t)},t}();function ni(t,e,n,r){for(var i=new Yr.EdgeBuilder(r,t,e),o=new Int32Array(i.slotCount),a=new Array(i.slotCount),u=new Array(i.slotCount),s=new Int8Array(i.slotCount),c=new Array(i.slotCount),l=new Array(i.slotCount),d=0,f=i.edgeCount;d<f;d++)i.addNextEdge(),i.assignProperty(o,n.key?n.key[d]:-1),i.assignDirectedProperty(a,n.operatorA?n.operatorA[d]:-1,u,n.operatorB?n.operatorB[d]:-1),i.assignProperty(s,n.order?n.order[d]:1),i.assignProperty(c,n.distance?n.distance[d]:-1),i.assignProperty(l,n.flag?n.flag[d]:1);return i.createGraph({key:o,operatorA:a,operatorB:u,order:s,distance:c,flag:l})}function ri(t){var e=t.data,n=t.indices;return function(t,r){var i=n[2*t],o=n[2*r],a=n[2*t+1]-i;if(a!==n[2*r+1]-o)return!1;for(var u=0;u<a;u++)if(e.charCodeAt(u+i)!==e.charCodeAt(u+o))return!1;return!0}}function ii(t,e,n,r){return{rowCount:e,name:t,fieldNames:Object(T.e)([],n,!0),getField:function(t){return r[t]}}}function oi(t,e,n){return function(t,e,n){for(var r=Object.create(null),i=0,o=Object.keys(t);i<o.length;i++){var a=o[i];r[a]=fi(a,t[a],e,n)}return Wt.ofTables(e.header,t,r)}(t,e,n)}function ai(t){switch(t.valueType){case"str":return function(e,n,r){return i=t,o=e,a=e.str,u=e.toStringArray,{schema:i,__array:o.__array,isDefined:o.isDefined,rowCount:o.rowCount,value:"lowercase"===i.transform?function(t){return a(t).toLowerCase()}:"uppercase"===i.transform?function(t){return a(t).toUpperCase()}:a,valueKind:o.valueKind,areValuesEqual:o.areValuesEqual,toArray:"lowercase"===i.transform?function(t){return Array.from(u(t)).map((function(t){return t.toLowerCase()}))}:"uppercase"===i.transform?function(t){return Array.from(u(t)).map((function(t){return t.toUpperCase()}))}:u};var i,o,a,u};case"int":return function(e,n,r){return ui(t,e,e.int,e.toIntArray)};case"float":return function(e,n,r){return ui(t,e,e.float,e.toFloatArray)};case"list":throw new Error("Use createListColumn instead.");case"tensor":throw new Error("Use createTensorColumn instead.")}}function ui(t,e,n,r){return{schema:t,__array:e.__array,isDefined:e.isDefined,rowCount:e.rowCount,value:n,valueKind:e.valueKind,areValuesEqual:e.areValuesEqual,toArray:r}}function si(t,e,n){var i=t.space,o=e.fieldNames.includes("".concat(n,"[0]"))||e.fieldNames.includes("".concat(n,"[0][0]"))||e.fieldNames.includes("".concat(n,"[0][0][0]")),a=o?0:1,u=e.fieldNames.includes("".concat(n,"_1"))||e.fieldNames.includes("".concat(n,"_11"))||e.fieldNames.includes("".concat(n,"_111"))?"underscore":"brackets",s=function(t,e,n,r){var i=n?0:1;switch(e){case 1:return"brackets"===r?function(e){return"".concat(t,"[").concat(e+i,"]")}:function(e){return"".concat(t,"_").concat(e+i)};case 2:return"brackets"===r?function(e,n){return"".concat(t,"[").concat(e+i,"][").concat(n+i,"]")}:function(e,n){return"".concat(t,"_").concat(e+i).concat(n+i)};case 3:return"brackets"===r?function(e,n,r){return"".concat(t,"[").concat(e+i,"][").concat(n+i,"][").concat(r+i,"]")}:function(e,n,r){return"".concat(t,"_").concat(e+i).concat(n+i).concat(r+i)};default:throw new Error("Tensors with rank > 3 or rank 0 are currently not supported.")}}(n,i.rank,o,u),c=e.getField(s(a,a,a))||Et.Undefined(e.rowCount,t),l=function(t){return function(t,e,n,r){var i=e.create();if(1===e.rank)for(var o=e.dimensions[0],a=0;a<o;a++){var u=t.getField(r(a));e.set(i,a,u?u.float(n):0)}else if(2===e.rank){o=e.dimensions[0];var s=e.dimensions[1];for(a=0;a<o;a++)for(var c=0;c<s;c++){u=t.getField(r(a,c));e.set(i,a,c,u?u.float(n):0)}}else{if(3!==e.rank)throw new Error("Tensors with rank > 3 or rank 0 are currently not supported.");var l=e.dimensions[0],d=e.dimensions[1],f=e.dimensions[2];for(a=0;a<l;a++)for(c=0;c<d;c++)for(var p=0;p<f;p++){u=t.getField(r(a,c,p));e.set(i,a,c,p,u?u.float(n):0)}}return i}(e,i,t,s)};return{schema:t,__array:void 0,isDefined:c.isDefined,rowCount:e.rowCount,value:l,valueKind:c.valueKind,areValuesEqual:function(t,e){return w.areEqualExact(l(t),l(e))},toArray:function(t){return r.createAndFillArray(e.rowCount,l,t)}}}!function(t){t.create=function(t,e){var n=t.name,r=new ei;return{descriptor:t,formatRegistry:r,isApplicable:function(t){return r.isApplicable(t)},get:function(i){var o=(null==e?void 0:e.asDynamic)?i._dynamicPropertyData:i._staticPropertyData;if(o[n])return o[n];if(!i.customProperties.has(t)){var a=r.get(i.sourceData.kind);if(a)return o[n]=a(i),i.customProperties.add(t),o[n]}},set:function(t,r){(null==e?void 0:e.asDynamic)?t._dynamicPropertyData[n]=r:t._staticPropertyData[n]=r},delete:function(t){(null==e?void 0:e.asDynamic)?delete t._dynamicPropertyData[n]:delete t._staticPropertyData[n]}}}}(Xr||(Xr={})),(Jr=Qr||(Qr={})).Descriptor={name:"index_pair_bonds"},Jr.Provider=Xr.create(Jr.Descriptor,{asDynamic:!0}),Jr.DefaultProps={maxDistance:-1},Jr.fromData=function(t,e){void 0===e&&(e={});var n=Object(T.a)(Object(T.a)({},Jr.DefaultProps),e),r=t.pairs,i=t.count;return{bonds:ni(r.indexA.toArray(),r.indexB.toArray(),{key:r.key&&r.key.toArray(),operatorA:r.operatorA&&r.operatorA.toArray(),operatorB:r.operatorB&&r.operatorB.toArray(),order:r.order&&r.order.toArray(),distance:r.distance&&r.distance.toArray(),flag:r.flag&&r.flag.toArray()},i),maxDistance:n.maxDistance}},Jr.getEdgeIndexForOperators=function(t,e,n,r,i){var o,a,u,s;e<n?(o=e,a=n,u=r,s=i):(o=n,a=e,u=i,s=r);for(var c=t.offset[o],l=t.offset[o+1];c<l;c++)if(t.b[c]===a&&t.edgeProps.operatorA[c]===u&&t.edgeProps.operatorB[c]===s)return c;return-1},function(t){function e(t,e){var n=Object.keys(e);return{rowCount:n.length>0?e[n[0]].rowCount:0,name:t,fieldNames:n,getField:function(t){return e[t]}}}t.empty=function(t){return{rowCount:0,name:t,fieldNames:[],getField:function(t){}}},t.ofFields=e,t.ofTable=function(t,n){for(var r={},i=0,o=n._columns;i<o.length;i++){var a=o[i];r[a]=$r.ofColumn(n[a])}return e(t,r)}}(ii||(ii={})),function(t){function e(t){var e=t.length,n=function(e){var n=t[e];return n&&"."!==n&&"?"!==n?n:""},i=function(e){var n=t[e];return Bt(n,0,n.length)||0},o=function(e){var n=t[e];return Pt(n,0,n.length)||0};return{__array:void 0,binaryEncoding:void 0,isDefined:!0,rowCount:e,str:n,int:i,float:o,valueKind:function(e){var n=t[e],r=n.length;if(r>1)return 0;if(0===r)return 1;var i=n.charCodeAt(0);return 46===i?1:63===i?2:0},areValuesEqual:function(e,n){return t[e]===t[n]},toStringArray:function(i){return i?r.createAndFillArray(e,n,i):t},toIntArray:function(t){return r.createAndFillArray(e,i,t)},toFloatArray:function(t){return r.createAndFillArray(e,o,t)}}}function n(t){var e,n,i,o=t.rowCount,a=t.valueKind,u=t.areValuesEqual,s=t.isDefined;switch(t.schema.valueType){case"float":case"int":e=function(e){return""+t.value(e)},n=t.value,i=t.value;break;case"str":e=t.value,n=function(e){var n=t.value(e);return Bt(n,0,n.length)||0},i=function(e){var n=t.value(e);return Pt(n,0,n.length)||0};break;case"list":var c=t.schema.separator;e=function(e){return t.value(e).join(c)},n=function(t){return NaN},i=function(t){return NaN};break;default:throw new Error("unsupported valueType '".concat(t.schema.valueType,"'"))}return{__array:void 0,binaryEncoding:void 0,isDefined:s,rowCount:o,str:e,int:n,float:i,valueKind:a,areValuesEqual:u,toStringArray:function(t){return r.createAndFillArray(o,e,t)},toIntArray:function(t){return r.createAndFillArray(o,n,t)},toFloatArray:function(t){return r.createAndFillArray(o,i,t)}}}t.ofString=function(t){return e([t])},t.ofStrings=e,t.ofNumbers=function(t){var e=t.length,n=function(e){return""+t[e]},i=function(e){return t[e]},o=function(n){return!n||n.array&&t instanceof n.array?t:r.createAndFillArray(e,i,n)};return{__array:void 0,binaryEncoding:void 0,isDefined:!0,rowCount:e,str:n,int:i,float:i,valueKind:function(t){return 0},areValuesEqual:function(e,n){return t[e]===t[n]},toStringArray:function(t){return r.createAndFillArray(e,n,t)},toIntArray:o,toFloatArray:o}},t.ofTokens=function(t){var e=t.data,n=t.indices,i=t.count,o=function(t){var r=e.substring(n[2*t],n[2*t+1]);return"."===r||"?"===r?"":r},a=function(t){return Bt(e,n[2*t],n[2*t+1])||0},u=function(t){return Pt(e,n[2*t],n[2*t+1])||0};return{__array:void 0,binaryEncoding:void 0,isDefined:!0,rowCount:i,str:o,int:a,float:u,valueKind:function(t){var r=n[2*t],i=n[2*t+1]-r;if(i>1)return 0;if(0===i)return 1;var o=e.charCodeAt(r);return 46===o?1:63===o?2:0},areValuesEqual:ri(t),toStringArray:function(t){return r.createAndFillArray(i,o,t)},toIntArray:function(t){return r.createAndFillArray(i,a,t)},toFloatArray:function(t){return r.createAndFillArray(i,u,t)}}},t.ofColumn=n,t.ofUndefined=function(t,e){return n(Et.Undefined(t,e))}}($r||($r={})),function(t){function e(t){return t.replace(".","_").replace(/\[/,"_").replace(/(\[|\])/g,"")}t.canonical=e,t.equal=function(t,n){return e(t)===e(n)},t.create=function(t,n,r){void 0===r&&(r=!1);var i="".concat(t).concat(n?".".concat(n):"");return r?e(i):i}}(ti||(ti={}));var ci,li=function(t,e,n){this._isDefined=n;var i=Object.keys(e);this._rowCount=t.rowCount,this._columns=i,this._schema=e;for(var o=Object.create(null),a=function(n){Object.defineProperty(u,n,{get:function(){if(o[n])return o[n];var i=e[n];if("list"===i.valueType)o[n]=function(t,e,n){var i=t.separator,o=t.itemParse,a=e.getField(n),u=a?function(t){return a.str(t).split(i).map((function(t){return o(t.trim())})).filter((function(t){return!!t}))}:function(t){return[]};return{schema:t,__array:void 0,isDefined:!!a,rowCount:e.rowCount,value:u,valueKind:a?a.valueKind:function(){return 1},areValuesEqual:function(t,e){return Vt(u(t),u(e))},toArray:function(t){return r.createAndFillArray(e.rowCount,u,t)}}}(i,t,n);else if("tensor"===i.valueType)o[n]=si(i,t,n);else{var a=ai(i),u=t.getField(n);o[n]=u?a(u,t,n):Et.Undefined(t.rowCount,i)}return o[n]},enumerable:!0,configurable:!1})},u=this,s=0,c=i;s<c.length;s++)a(c[s])};function di(t,e,n,r){var i=ti.create(e,t),o=ti.canonical(i);if(o in n)return n[o];if(r&&i in r)for(var a=0,u=r[i];a<u.length;a++){var s=u[a],c=ti.canonical(s);if(c in n)return n[c]}}function fi(t,e,n,r){var i=n.categories[t];if(r){for(var o=function(t){for(var e=Object.create(null),n=0,r=Object.keys(t.categories);n<r.length;n++)for(var i=r[n],o=0,a=t.categories[i].fieldNames;o<a.length;o++){var u=a[o];e[ti.create(i,u,!0)]=t.categories[i].getField(u)}return e}(n),a=Object.create(null),u=[],s=0,c=0,l=Object.keys(e);c<l.length;c++){var d=l[c],f=di(d,t,o,r);f&&(a[d]=f,u.push(d),s=f.rowCount)}i={rowCount:s,name:t,fieldNames:Object(T.e)([],u,!0),getField:function(t){return a[t]}}}return new li(i||ii.empty(t),e,!!i)}!function(t){function e(t,e,n){return{kind:"element-location",structure:t,unit:e,element:n||0}}t.create=e,t.clone=function(t){return e(t.structure,t.unit,t.element)},t.set=function(t,e,n,r){return e&&(t.structure=e),n&&(t.unit=n),void 0!==r&&(t.element=r),t},t.copy=function(t,e){return t.unit=e.unit,t.element=e.element,t},t.is=function(t){return!!t&&"element-location"===t.kind},t.areEqual=function(t,e){return t.unit===e.unit&&t.element===e.element};var n=A(),r=A();t.distance=function(t,e){return t.unit.conformation.position(t.element,n),e.unit.conformation.position(e.element,r),A.distance(n,r)},t.position=function(t,e){return e.unit.conformation.position(e.element,t)},t.residueIndex=function(t){return t.unit.model.atomicHierarchy.residueAtomSegments.index[t.element]},t.chainIndex=function(t){return t.unit.model.atomicHierarchy.chainAtomSegments.index[t.element]}}(ci||(ci={}));var pi=function(){function t(t,e){this.getHash=t,this.areEqual=e,this.size=0,this.byHash=new Map}return t.prototype.add=function(t){var e=this.getHash(t);if(this.byHash.has(e)){for(var n=this.byHash.get(e),r=0,i=n.length;r<i;r++)if(this.areEqual(t,n[r]))return!1;return n[n.length]=t,this.size++,!0}return this.byHash.set(e,[t]),this.size++,!0},t.prototype.has=function(t){var e=this.getHash(t);if(!this.byHash.has(e))return!1;for(var n=this.byHash.get(e),r=0,i=n.length;r<i;r++)if(this.areEqual(t,n[r]))return!0;return!1},t}();function mi(t,e){return new pi(t,e)}function hi(t){return{previous:null,next:null,inList:!0,value:t}}var gi,vi,yi,_i,bi,xi;!function(){function t(){this.count=0,this.first=null,this.last=null}t.prototype.addFirst=function(t){var e=hi(t);return e.inList=!0,this.first&&(this.first.previous=e),e.next=this.first,this.first=e,this.count++,this.last||(this.last=e),e},t.prototype.addLast=function(t){var e=hi(t);return null!==this.last&&(this.last.next=e),e.previous=this.last,this.last=e,null===this.first&&(this.first=e),e.inList=!0,this.count++,e},t.prototype.removeFirst=function(){var t=this.first;if(t)return this.remove(t),t.value},t.prototype.removeLast=function(){var t=this.last;if(t)return this.remove(t),t.value},t.prototype.remove=function(t){t.inList&&(t.inList=!1,null!==t.previous?t.previous.next=t.next:null===t.previous&&(this.first=t.next),null!==t.next?t.next.previous=t.previous:null===t.next&&(this.last=t.previous),t.next=null,t.previous=null,this.count--)},t.prototype.find=function(t){for(var e=this.first;null!==e;){if(e.value===t)return e;e=e.next}}}();function Ai(t,e){var n=e||{},r=n.description,i=void 0===r?void 0:r,o=n.isOptional,a=void 0!==o&&o,u=n.isRest,s=void 0!==u&&u,c=n.defaultValue;return{type:t,isOptional:a,isRest:s,defaultValue:void 0===c?void 0:c,description:i}}function wi(t){var e=t;return"function"==typeof e&&!!e.info&&!!e.args&&"string"==typeof e.info.namespace&&!!e.type}function Si(t,e,n){return function(t,e,n,r){var i=function(t){return yi.Apply(yi.Symbol(i.id),t)};return i.info={namespace:"",name:t,description:r},i.id="",i.args=e,i.type=n,i}("",t,e,n)}function Ci(t){!function t(e,n,r){if(wi(r))return r.info.namespace=e,r.info.name=r.info.name||Ii(n),void(r.id="".concat(r.info.namespace,".").concat(r.info.name));for(var i="".concat(r["@namespace"]||Ii(n)),o=e?"".concat(e,".").concat(i):i,a=0,u=Object.keys(r);a<u.length;a++){var s=u[a];("object"==typeof r[s]||wi(r[s]))&&t(o,s,r[s])}}("","",t)}function Bi(t){var e=[];return function t(e,n){if(wi(e))return void n.push(e);for(var r=0,i=Object.keys(e);r<i.length;r++){var o=i[r];("object"==typeof e[o]||wi(e[o]))&&t(e[o],n)}}(t,e),e}function Ii(t){var e=/([a-z])([A-Z])([a-z]|$)/g;return t.replace(e,(function(t,e,n,r){return"".concat(e,"-").concat(n.toLocaleLowerCase()).concat(r)})).replace(e,(function(t,e,n,r){return"".concat(e,"-").concat(n.toLocaleLowerCase()).concat(r)}))}function Pi(t,e){return Si(_i.Dictionary({0:Ai(t)}),t,e)}function Ei(t,e){return Si(_i.List(t,{nonEmpty:!0}),t,e)}function Mi(t,e,n){return Si(_i.Dictionary({0:Ai(t),1:Ai(t)}),e,n)}!function(t){t.create=function(){return{keys:new Set,array:[]}},t.add=function(t,e,n){var r=t.keys,i=t.array;return!r.has(e)&&(r.add(e),i[i.length]=n,!0)},t.has=function(t,e){return t.keys.has(e)}}(gi||(gi={})),function(t){function e(t,e,n){return{kind:"value",namespace:t,name:e,parent:n}}function n(t,e,n,r){for(var i=Object.create(null),o=0,a=r;o<a.length;o++){i[a[o]]=!0}return{kind:"oneof",namespace:t,name:e,type:n,values:i}}t.Variable=function(t,e,n){return{kind:"variable",name:t,type:e,isConstraint:n}},t.Value=e,t.Container=function(t,e,n,r){return{kind:"container",namespace:t,name:e,child:n,alias:r}},t.Union=function(t){return{kind:"union",types:t}},t.OneOf=n,t.Any={kind:"any"},t.AnyValue={kind:"any-value"},t.Num=e("","Number"),t.Str=e("","String"),t.Bool=n("","Bool",t.Str,["true","false"]),t.oneOfValues=function(t){var e=t.values;return Object.keys(e).sort()}}(vi||(vi={})),function(t){function e(t){return!!t&&!!t.head&&"object"==typeof t}function n(t){return!!t&&"string"==typeof t.name}t.Symbol=function(t){return{name:t}},t.Apply=function(t,e){return e?{head:t,args:e}:{head:t}},t.isArgumentsArray=function(t){return!!t&&Array.isArray(t)},t.isArgumentsMap=function(t){return!!t&&!Array.isArray(t)},t.isLiteral=function(t){return!e(t)&&!n(t)},t.isApply=e,t.isSymbol=n}(yi||(yi={})),function(t){function e(t){return{kind:"dictionary",map:t,"@type":0}}t.None=e({}),t.Dictionary=e,t.List=function(t,e){var n=(e||{}).nonEmpty;return{kind:"list",type:t,nonEmpty:void 0!==n&&n,"@type":0}}}(_i||(_i={})),(xi=bi||(bi={})).AnyVar=vi.Variable("a",vi.Any),xi.AnyValueVar=vi.Variable("a",vi.Any),xi.ConstrainedVar=vi.Variable("a",vi.Any,!0),xi.Regex=vi.Value("Core","Regex"),xi.Set=function(t){return vi.Container("Core","Set",t||xi.AnyValueVar)},xi.List=function(t){return vi.Container("Core","List",t||xi.AnyVar)},xi.Fn=function(t,e){return vi.Container("Core","Fn",t||xi.AnyVar,e)},xi.Flags=function(t,e){return vi.Container("Core","Flags",t,e)},xi.BitFlags=xi.Flags(vi.Num,"BitFlags");_i.Dictionary({0:Ai(vi.Num),1:Ai(vi.Num)});var ki={"@header":"Language Primitives",type:{"@header":"Types",bool:Si(_i.Dictionary({0:Ai(vi.AnyValue)}),vi.Bool,"Convert a value to boolean."),num:Si(_i.Dictionary({0:Ai(vi.AnyValue)}),vi.Num,"Convert a value to number."),str:Si(_i.Dictionary({0:Ai(vi.AnyValue)}),vi.Str,"Convert a value to string."),regex:Si(_i.Dictionary({0:Ai(vi.Str,{description:"Expression"}),1:Ai(vi.Str,{isOptional:!0,description:"Flags, e.g. 'i' for ignore case"})}),bi.Regex,"Creates a regular expression from a string using the ECMAscript syntax."),list:Si(_i.List(bi.AnyVar),bi.List()),set:Si(_i.List(bi.AnyValueVar),bi.Set()),bitflags:Si(_i.Dictionary({0:Ai(vi.Num)}),bi.BitFlags,"Interpret a number as bitflags."),compositeKey:Si(_i.List(vi.AnyValue),vi.AnyValue)},logic:{"@header":"Logic",not:Pi(vi.Bool),and:Ei(vi.Bool),or:Ei(vi.Bool)},ctrl:{"@header":"Control",eval:Si(_i.Dictionary({0:Ai(bi.Fn(bi.AnyVar))}),bi.AnyVar,"Evaluate a function."),fn:Si(_i.Dictionary({0:Ai(bi.AnyVar)}),bi.Fn(bi.AnyVar),'Wrap an expression to a "lazy" function.'),if:Si(_i.Dictionary({0:Ai(vi.Bool,{description:"Condition"}),1:Ai(vi.Variable("a",vi.Any),{description:"If true"}),2:Ai(vi.Variable("b",vi.Any),{description:"If false"})}),vi.Union([vi.Variable("a",vi.Any),vi.Variable("b",vi.Any)])),assoc:Si(_i.Dictionary({0:Ai(vi.Str,{description:"Name"}),1:Ai(vi.Variable("a",vi.Any),{description:"Value to assign"})}),vi.Variable("a",vi.Any))},rel:{"@header":"Relational",eq:Mi(vi.Variable("a",vi.AnyValue,!0),vi.Bool),neq:Mi(vi.Variable("a",vi.AnyValue,!0),vi.Bool),lt:Mi(vi.Num,vi.Bool),lte:Mi(vi.Num,vi.Bool),gr:Mi(vi.Num,vi.Bool),gre:Mi(vi.Num,vi.Bool),inRange:Si(_i.Dictionary({0:Ai(vi.Num,{description:"Value to test"}),1:Ai(vi.Num,{description:"Minimum value"}),2:Ai(vi.Num,{description:"Maximum value"})}),vi.Bool,"Check if the value of the 1st argument is >= 2nd and <= 3rd.")},math:{"@header":"Math",add:Ei(vi.Num),sub:Ei(vi.Num),mult:Ei(vi.Num),div:Mi(vi.Num,vi.Num),pow:Mi(vi.Num,vi.Num),mod:Mi(vi.Num,vi.Num),min:Ei(vi.Num),max:Ei(vi.Num),cantorPairing:Mi(vi.Num,vi.Num),sortedCantorPairing:Mi(vi.Num,vi.Num),invertCantorPairing:Si(_i.Dictionary({0:Ai(vi.Num)}),bi.List(vi.Num)),floor:Pi(vi.Num),ceil:Pi(vi.Num),roundInt:Pi(vi.Num),trunc:Pi(vi.Num),abs:Pi(vi.Num),sign:Pi(vi.Num),sqrt:Pi(vi.Num),cbrt:Pi(vi.Num),sin:Pi(vi.Num),cos:Pi(vi.Num),tan:Pi(vi.Num),asin:Pi(vi.Num),acos:Pi(vi.Num),atan:Pi(vi.Num),sinh:Pi(vi.Num),cosh:Pi(vi.Num),tanh:Pi(vi.Num),exp:Pi(vi.Num),log:Pi(vi.Num),log10:Pi(vi.Num),atan2:Mi(vi.Num,vi.Num)},str:{"@header":"Strings",concat:Ei(vi.Str),match:Si(_i.Dictionary({0:Ai(bi.Regex),1:Ai(vi.Str)}),vi.Bool)},list:{"@header":"Lists",getAt:Si(_i.Dictionary({0:Ai(bi.List()),1:Ai(vi.Num)}),bi.AnyVar),equal:Si(_i.Dictionary({0:Ai(bi.List()),1:Ai(bi.List())}),vi.Bool)},set:{"@header":"Sets",has:Si(_i.Dictionary({0:Ai(bi.Set(bi.ConstrainedVar)),1:Ai(bi.ConstrainedVar)}),vi.Bool,"Check if the the 1st argument includes the value of the 2nd."),isSubset:Si(_i.Dictionary({0:Ai(bi.Set(bi.ConstrainedVar)),1:Ai(bi.Set(bi.ConstrainedVar))}),vi.Bool,"Check if the the 1st argument is a subset of the 2nd.")},flags:{"@header":"Flags",hasAny:Si(_i.Dictionary({0:Ai(bi.Flags(bi.ConstrainedVar)),1:Ai(bi.Flags(bi.ConstrainedVar))}),vi.Bool,"Check if the the 1st argument has at least one of the 2nd one's flags."),hasAll:Si(_i.Dictionary({0:Ai(bi.Flags(bi.ConstrainedVar)),1:Ai(bi.Flags(bi.ConstrainedVar))}),vi.Bool,"Check if the the 1st argument has all 2nd one's flags.")}};Ci(ki);var Di,Oi=Bi(ki);!function(){for(var t=Object.create(null),e=0,n=Oi;e<n.length;e++){var r=n[e];t[r.id]=r}}();function Ni(t,e){return Si(_i.Dictionary({0:Ai(Di.ElementReference,{isOptional:!0,defaultValue:"slot.current-atom"})}),t,e)}function Ti(t,e){return Si(_i.None,t,e)}!function(t){t.ElementSymbol=vi.Value("Structure","ElementSymbol"),t.AtomName=vi.Value("Structure","AtomName"),t.BondFlag=vi.OneOf("Structure","BondFlag",vi.Str,["covalent","metallic","ion","hydrogen","sulfide","computed","aromatic"]),t.BondFlags=bi.Flags(t.BondFlag,"BondFlags"),t.SecondaryStructureFlag=vi.OneOf("Structure","SecondaryStructureFlag",vi.Str,["alpha","beta","3-10","pi","sheet","strand","helix","turn","none"]),t.SecondaryStructureFlags=bi.Flags(t.SecondaryStructureFlag,"SecondaryStructureFlag"),t.RingFingerprint=vi.Value("Structure","RingFingerprint"),t.EntityType=vi.OneOf("Structure","EntityType",vi.Str,["polymer","non-polymer","water","branched"]),t.EntitySubtype=vi.OneOf("Structure","EntitySubtype",vi.Str,["other","polypeptide(D)","polypeptide(L)","polydeoxyribonucleotide","polyribonucleotide","polydeoxyribonucleotide/polyribonucleotide hybrid","cyclic-pseudo-peptide","peptide nucleic acid","oligosaccharide"]),t.ObjectPrimitive=vi.OneOf("Structure","ObjectPrimitive",vi.Str,["atomistic","sphere","gaussian","other"]),t.ResidueId=vi.Value("Structure","ResidueId"),t.ElementSet=vi.Value("Structure","ElementSet"),t.ElementSelection=vi.Value("Structure","ElementSelection"),t.ElementReference=vi.Value("Structure","ElementReference"),t.ElementSelectionQuery=bi.Fn(t.ElementSelection,"ElementSelectionQuery")}(Di||(Di={}));var Ui={core:ki,structureQuery:{"@header":"Structure Queries",type:{"@header":"Types",elementSymbol:Si(_i.Dictionary({0:Ai(vi.Str)}),Di.ElementSymbol,"Create element symbol representation from a string value."),atomName:Si(_i.Dictionary({0:Ai(vi.AnyValue)}),Di.AtomName,"Convert a value to an atom name."),entityType:Si(_i.Dictionary({0:Ai(Di.EntityType)}),Di.EntityType,"Create normalized representation of entity type: ".concat(vi.oneOfValues(Di.EntityType).join(", "),".")),bondFlags:Si(_i.List(Di.BondFlag),Di.BondFlags,"Create bond flags representation from a list of strings. Allowed flags: ".concat(vi.oneOfValues(Di.BondFlag).join(", "),".")),ringFingerprint:Si(_i.List(Di.ElementSymbol,{nonEmpty:!0}),Di.RingFingerprint,"Create ring fingerprint from the supplied atom element list."),secondaryStructureFlags:Si(_i.List(Di.SecondaryStructureFlag),Di.SecondaryStructureFlags,"Create secondary structure flags representation from a list of strings. Allowed flags: ".concat(vi.oneOfValues(Di.SecondaryStructureFlag).join(", "),".")),authResidueId:Si(_i.Dictionary({0:Ai(vi.Str,{description:"auth_asym_id"}),1:Ai(vi.Num,{description:"auth_seq_id"}),2:Ai(vi.Str,{description:"pdbx_PDB_ins_code",isOptional:!0})}),Di.ResidueId,'Residue identifier based on "auth_" annotation.'),labelResidueId:Si(_i.Dictionary({0:Ai(vi.Str,{description:"label_entity_id"}),1:Ai(vi.Str,{description:"label_asym_id"}),2:Ai(vi.Num,{description:"label_seq_id"}),3:Ai(vi.Str,{description:"pdbx_PDB_ins_code",isOptional:!0})}),Di.ResidueId,'Residue identifier based on mmCIF\'s "label_" annotation.')},slot:{"@header":"Iteration Slots",element:Si(_i.None,Di.ElementReference,"A reference to the current element."),elementSetReduce:Si(_i.None,vi.Variable("a",vi.AnyValue,!0),"Current value of the element set reducer.")},generator:{"@header":"Generators",all:Si(_i.None,Di.ElementSelectionQuery,"The entire structure."),atomGroups:Si(_i.Dictionary({"entity-test":Ai(vi.Bool,{isOptional:!0,defaultValue:!0,description:"Test for the 1st atom of every entity"}),"chain-test":Ai(vi.Bool,{isOptional:!0,defaultValue:!0,description:"Test for the 1st atom of every chain"}),"residue-test":Ai(vi.Bool,{isOptional:!0,defaultValue:!0,description:"Test for the 1st atom every residue"}),"atom-test":Ai(vi.Bool,{isOptional:!0,defaultValue:!0}),"group-by":Ai(vi.Any,{isOptional:!0,defaultValue:"atom-key",description:"Group atoms to sets based on this property. Default: each atom has its own set"})}),Di.ElementSelectionQuery,"Return all atoms for which the tests are satisfied, grouped into sets."),bondedAtomicPairs:Si(_i.Dictionary({0:Ai(vi.Bool,{isOptional:!0,defaultValue:"true for covalent bonds",description:"Test each bond with this predicate. Each bond is visited twice with swapped atom order."})}),Di.ElementSelectionQuery,"Return all pairs of atoms for which the test is satisfied."),rings:Si(_i.Dictionary({fingerprint:Ai(Di.RingFingerprint,{isOptional:!0}),"only-aromatic":Ai(vi.Bool,{isOptional:!0,defaultValue:!1})}),Di.ElementSelectionQuery,"Return all rings or those with the specified fingerprint and/or only aromatic rings."),queryInSelection:Si(_i.Dictionary({0:Ai(Di.ElementSelectionQuery),query:Ai(Di.ElementSelectionQuery),"in-complement":Ai(vi.Bool,{isOptional:!0,defaultValue:!1})}),Di.ElementSelectionQuery,"Executes query only on atoms that are in the source selection."),empty:Si(_i.None,Di.ElementSelectionQuery,"Nada.")},modifier:{"@header":"Selection Modifications",queryEach:Si(_i.Dictionary({0:Ai(Di.ElementSelectionQuery),query:Ai(Di.ElementSelectionQuery)}),Di.ElementSelectionQuery,"Query every atom set in the input selection separately."),intersectBy:Si(_i.Dictionary({0:Ai(Di.ElementSelectionQuery),by:Ai(Di.ElementSelectionQuery)}),Di.ElementSelectionQuery,"Intersect each atom set from the first sequence from atoms in the second one."),exceptBy:Si(_i.Dictionary({0:Ai(Di.ElementSelectionQuery),by:Ai(Di.ElementSelectionQuery)}),Di.ElementSelectionQuery,"Remove all atoms from 'selection' that occur in 'by'."),unionBy:Si(_i.Dictionary({0:Ai(Di.ElementSelectionQuery),by:Ai(Di.ElementSelectionQuery)}),Di.ElementSelectionQuery,"For each atom set A in the orginal sequence, combine all atoms sets in the target selection that intersect with A."),union:Si(_i.Dictionary({0:Ai(Di.ElementSelectionQuery)}),Di.ElementSelectionQuery,"Collects all atom sets in the sequence into a single atom set."),cluster:Si(_i.Dictionary({0:Ai(Di.ElementSelectionQuery),"min-distance":Ai(vi.Num,{isOptional:!0,defaultValue:0}),"max-distance":Ai(vi.Num),"min-size":Ai(vi.Num,{description:"Minimal number of sets to merge, must be at least 2",isOptional:!0,defaultValue:2}),"max-size":Ai(vi.Num,{description:"Maximal number of sets to merge, if not set, no limit",isOptional:!0})}),Di.ElementSelectionQuery,"Combines atom sets that have mutual distance in the interval [min-radius, max-radius]. Minimum/maximum size determines how many atom sets can be combined."),includeSurroundings:Si(_i.Dictionary({0:Ai(Di.ElementSelectionQuery),radius:Ai(vi.Num),"atom-radius":Ai(vi.Num,{isOptional:!0,defaultValue:0,description:"Value added to each atom before the distance check, for example VDW radius. Using this argument is computationally demanding."}),"as-whole-residues":Ai(vi.Bool,{isOptional:!0})}),Di.ElementSelectionQuery,"For each atom set in the selection, include all surrouding atoms/residues that are within the specified radius."),surroundingLigands:Si(_i.Dictionary({0:Ai(Di.ElementSelectionQuery),radius:Ai(vi.Num),"include-water":Ai(vi.Bool,{isOptional:!0,defaultValue:!0})}),Di.ElementSelectionQuery,"Find all ligands components around the source query."),includeConnected:Si(_i.Dictionary({0:Ai(Di.ElementSelectionQuery),"bond-test":Ai(vi.Bool,{isOptional:!0,defaultValue:"true for covalent bonds"}),"layer-count":Ai(vi.Num,{isOptional:!0,defaultValue:1,description:"Number of bonded layers to include."}),"fixed-point":Ai(vi.Bool,{isOptional:!0,defaultValue:!1,description:"Continue adding layers as long as new connections exist."}),"as-whole-residues":Ai(vi.Bool,{isOptional:!0})}),Di.ElementSelectionQuery,"Pick all atom sets that are connected to the target."),wholeResidues:Si(_i.Dictionary({0:Ai(Di.ElementSelectionQuery)}),Di.ElementSelectionQuery,"Expand the selection to whole residues."),expandProperty:Si(_i.Dictionary({0:Ai(Di.ElementSelectionQuery),property:Ai(vi.AnyValue)}),Di.ElementSelectionQuery,"To each atom set in the selection, add all atoms that have the same property value that was already present in the set.")},filter:{"@header":"Selection Filters",pick:Si(_i.Dictionary({0:Ai(Di.ElementSelectionQuery),test:Ai(vi.Bool)}),Di.ElementSelectionQuery,"Pick all atom sets that satisfy the test."),first:Si(_i.Dictionary({0:Ai(Di.ElementSelectionQuery)}),Di.ElementSelectionQuery,"Take the 1st atom set in the sequence."),withSameAtomProperties:Si(_i.Dictionary({0:Ai(Di.ElementSelectionQuery),source:Ai(Di.ElementSelectionQuery),property:Ai(vi.Any)}),Di.ElementSelectionQuery,"Pick all atom sets for which the set of given atom properties is a subset of the source properties."),intersectedBy:Si(_i.Dictionary({0:Ai(Di.ElementSelectionQuery),by:Ai(Di.ElementSelectionQuery)}),Di.ElementSelectionQuery,"Pick all atom sets that have non-zero intersection with the target."),within:Si(_i.Dictionary({0:Ai(Di.ElementSelectionQuery),target:Ai(Di.ElementSelectionQuery),"min-radius":Ai(vi.Num,{isOptional:!0,defaultValue:0}),"max-radius":Ai(vi.Num),"atom-radius":Ai(vi.Num,{isOptional:!0,defaultValue:0,description:"Value added to each atom before the distance check, for example VDW radius. Using this argument is computationally demanding."}),invert:Ai(vi.Bool,{isOptional:!0,defaultValue:!1,description:"If true, pick only atom sets that are further than the specified radius."})}),Di.ElementSelectionQuery,"Pick all atom sets from selection that have any atom within the radius of any atom from target."),isConnectedTo:Si(_i.Dictionary({0:Ai(Di.ElementSelectionQuery),target:Ai(Di.ElementSelectionQuery),"bond-test":Ai(vi.Bool,{isOptional:!0,defaultValue:"true for covalent bonds"}),disjunct:Ai(vi.Bool,{isOptional:!0,defaultValue:!0,description:"If true, there must exist a bond to an atom that lies outside the given atom set to pass test."}),invert:Ai(vi.Bool,{isOptional:!0,defaultValue:!1,description:"If true, return atom sets that are not connected."})}),Di.ElementSelectionQuery,"Pick all atom sets that are connected to the target.")},combinator:{"@header":"Selection Combinators",intersect:Si(_i.List(Di.ElementSelectionQuery),Di.ElementSelectionQuery,"Return all unique atom sets that appear in all of the source selections."),merge:Si(_i.List(Di.ElementSelectionQuery),Di.ElementSelectionQuery,"Merges multiple selections into a single one. Only unique atom sets are kept."),distanceCluster:Si(_i.Dictionary({matrix:Ai(bi.List(bi.List(vi.Num)),{description:"Distance matrix, represented as list of rows (num[][])). Lower triangle is min distance, upper triangle is max distance."}),selections:Ai(bi.List(Di.ElementSelectionQuery),{description:"A list of held selections."})}),Di.ElementSelectionQuery,"Pick combinations of atom sets from the source sequences that are mutually within distances specified by a matrix.")},atomSet:{"@header":"Atom Sets",atomCount:Si(_i.None,vi.Num),countQuery:Si(_i.Dictionary({0:Ai(Di.ElementSelectionQuery)}),vi.Num,"Counts the number of occurences of a specific query inside the current atom set."),reduce:Si(_i.Dictionary({initial:Ai(vi.Variable("a",vi.AnyValue,!0),{description:"Initial value assigned to slot.atom-set-reduce. Current atom is set to the 1st atom of the current set for this."}),value:Ai(vi.Variable("a",vi.AnyValue,!0),{description:"Expression executed for each atom in the set"})}),vi.Variable("a",vi.AnyValue,!0),"Execute the value expression for each atom in the current atom set and return the result. Works the same way as Array.reduce in JavaScript (``result = value(value(...value(initial)))``)"),propertySet:Si(_i.Dictionary({0:Ai(bi.ConstrainedVar)}),bi.Set(bi.ConstrainedVar),"Returns a set with all values of the given property in the current atom set.")},atomProperty:{"@header":"Atom Properties",core:{"@header":"Core Properties",elementSymbol:Ni(Di.ElementSymbol),vdw:Ni(vi.Num,"Van der Waals radius"),mass:Ni(vi.Num,"Atomic weight"),atomicNumber:Ni(vi.Num,"Atomic number"),x:Ni(vi.Num,"Cartesian X coordinate"),y:Ni(vi.Num,"Cartesian Y coordinate"),z:Ni(vi.Num,"Cartesian Z coordinate"),atomKey:Ni(vi.AnyValue,"Unique value for each atom. Main use case is grouping of atoms."),bondCount:Si(_i.Dictionary({0:Ai(Di.ElementReference,{isOptional:!0,defaultValue:"slot.current-atom"}),flags:Ai(Di.BondFlags,{isOptional:!0,defaultValue:"covalent"})}),vi.Num,"Number of bonds (by default only covalent bonds are counted)."),sourceIndex:Ni(vi.Num,"Index of the atom/element in the input file."),operatorName:Ni(vi.Str,"Name of the symmetry operator applied to this element."),operatorKey:Ni(vi.Num,"Key of the symmetry operator applied to this element."),modelIndex:Ni(vi.Num,"Index of the model in the input file."),modelLabel:Ni(vi.Str,"Label/header of the model in the input file.")},topology:{connectedComponentKey:Ni(vi.AnyValue,"Unique value for each connected component.")},macromolecular:{"@header":"Macromolecular Properties (derived from the mmCIF format)",authResidueId:Ni(Di.ResidueId,"type.auth-residue-id symbol executed on current atom's residue"),labelResidueId:Ni(Di.ResidueId,"type.label-residue-id symbol executed on current atom's residue"),residueKey:Ni(vi.AnyValue,"Unique value for each tuple ``(label_entity_id,auth_asym_id, auth_seq_id, pdbx_PDB_ins_code)``, main use case is grouping of atoms"),chainKey:Ni(vi.AnyValue,"Unique value for each tuple ``(label_entity_id, auth_asym_id)``, main use case is grouping of atoms"),entityKey:Ni(vi.AnyValue,"Unique value for each tuple ``label_entity_id``, main use case is grouping of atoms"),isHet:Ni(vi.Bool,"Equivalent to atom_site.group_PDB !== ATOM"),id:Ni(vi.Num,"_atom_site.id"),label_atom_id:Ni(Di.AtomName),label_alt_id:Ni(vi.Str),label_comp_id:Ni(vi.Str),label_asym_id:Ni(vi.Str),label_entity_id:Ni(vi.Str),label_seq_id:Ni(vi.Num),auth_atom_id:Ni(Di.AtomName),auth_comp_id:Ni(vi.Str),auth_asym_id:Ni(vi.Str),auth_seq_id:Ni(vi.Num),pdbx_PDB_ins_code:Ni(vi.Str),pdbx_formal_charge:Ni(vi.Num),occupancy:Ni(vi.Num),B_iso_or_equiv:Ni(vi.Num),entityType:Ni(Di.EntityType,"Type of the entity as defined in mmCIF (polymer, non-polymer, branched, water)"),entitySubtype:Ni(Di.EntitySubtype,"Subtype of the entity as defined in mmCIF _entity_poly.type and _pdbx_entity_branch.type (other, polypeptide(D), polypeptide(L), polydeoxyribonucleotide, polyribonucleotide, polydeoxyribonucleotide/polyribonucleotide hybrid, cyclic-pseudo-peptide, peptide nucleic acid, oligosaccharide)"),entityPrdId:Ni(vi.Str,"The PRD ID of the entity."),entityDescription:Ni(bi.List(vi.Str)),objectPrimitive:Ni(Di.ObjectPrimitive,"Type of the primitive object used to model this segment as defined in mmCIF/IHM (atomistic, sphere, gaussian, other)"),secondaryStructureKey:Ni(vi.AnyValue,"Unique value for each secondary structure element."),secondaryStructureFlags:Ni(Di.SecondaryStructureFlags),isModified:Ni(vi.Bool,"True if the atom belongs to modification of a standard residue."),modifiedParentName:Ni(vi.Str,"'3-letter' code of the modifed parent residue."),isNonStandard:Ni(vi.Bool,"True if this is a non-standard residue."),chemCompType:Ni(vi.Str,"Type of the chemical component as defined in mmCIF.")}},bondProperty:{"@header":"Bond Properties",flags:Ti(Di.BondFlags),order:Ti(vi.Num),key:Ti(vi.Num),length:Ti(vi.Num),atomA:Ti(Di.ElementReference),atomB:Ti(Di.ElementReference)}},internal:{"@header":"Internal Queries",generator:{"@header":"Generators",bundleElement:Si(_i.Dictionary({groupedUnits:Ai(vi.Any),set:Ai(vi.Any),ranges:Ai(vi.Any)}),vi.Any),bundle:Si(_i.Dictionary({elements:Ai(vi.Any)}),Di.ElementSelectionQuery,"A selection with single structure containing represented by the bundle."),current:Si(_i.None,Di.ElementSelectionQuery,"Current selection provided by the query context. Avoid using this in State Transforms.")}}};Ci(Ui);var Ri,Li=Bi(Ui);!function(){for(var t=Object.create(null),e=0,n=Li;e<n.length;e++){var r=n[e];t[r.id]=r}}();function Gi(){return Gi.zero()}function qi(){return qi.zero()}function Fi(t){return t}function ji(t,e,n,r){return{label:t,description:n,list:r,type:e}}!function(t){t.core=Ui.core,t.struct=Ui.structureQuery,t.internal=Ui.internal,t.atomName=function(e){return t.struct.type.atomName([e])},t.es=function(e){return t.struct.type.elementSymbol([e])},t.list=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.core.type.list(e)},t.set=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.core.type.set(e)},t.re=function(e,n){return t.core.type.regex([e,n])},t.fn=function(e){return t.core.ctrl.fn([e])},t.evaluate=function(e){return t.core.ctrl.eval([e])};var e=t.struct.atomProperty.core,n=t.struct.atomProperty.macromolecular,r=t.struct.atomProperty.topology;function i(t){return e[t]()}function o(t){return r[t]()}function a(t){return n[t]()}t.acp=i,t.atp=o,t.ammp=a;var u=t.struct.atomSet.propertySet;t.acpSet=function(t){return u([i(t)])},t.atpSet=function(t){return u([o(t)])},t.ammpSet=function(t){return u([a(t)])}}(Ri||(Ri={})),function(t){function e(){var t=[.1,0,0];return t[0]=0,t}function n(t,e){var n=e[0],r=e[1],i=e[2],o=Math.sqrt(r*r+i*i),a=(B(Math.atan2(i,r))+360)%360;return 0===Math.round(1e4*o)&&(a=Number.NaN),t[0]=a,t[1]=o,t[2]=n,t}function r(t,e,n){return t[0]=e[0]-a*n,t[1]=e[1],t[2]=e[2],t}t.zero=e,t.create=function(t,n,r){var i=e();return i[0]=t,i[1]=n,i[2]=r,i},t.fromColor=function(t,e){var n=Fi.toRgb(e),r=function(t,e,n){t=m(t),e=m(e),n=m(n);var r=h((.4124564*t+.3575761*e+.1804375*n)/u),i=h((.2126729*t+.7151522*e+.072175*n)/s),o=h((.0193339*t+.119192*e+.9503041*n)/c);return[r,i,o]}(n[0],n[1],n[2]),i=r[0],o=r[1],a=r[2],l=116*o-16;return t[0]=l<0?0:l,t[1]=500*(i-o),t[2]=200*(o-a),t},t.fromHcl=function(t,e){return qi.toLab(t,e)},t.toColor=function(t){var e=(t[0]+16)/116,n=isNaN(t[1])?e:e+t[1]/500,r=isNaN(t[2])?e:e-t[2]/200;e=s*p(e);var i=f(3.2404542*(n=u*p(n))-1.5371385*e-.4985314*(r=c*p(r))),o=f(-.969266*n+1.8760108*e+.041556*r),a=f(.0556434*n-.2040259*e+1.0572252*r);return Fi.fromRgb(Math.round(v(i,0,255)),Math.round(v(o,0,255)),Math.round(v(a,0,255)))},t.toHcl=n,t.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},t.darken=r,t.lighten=function(t,e,n){return r(t,e,-n)};var i=[0,0,0];function o(t,e,r){return n(i,e),qi.toLab(t,qi.saturate(i,i,r))}t.saturate=o,t.desaturate=function(t,e,n){return o(t,e,-n)};var a=18,u=.95047,s=1,c=1.08883,l=.137931034,d=.12841855;function f(t){return 255*(t<=.00304?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function p(t){return t>.206896552?t*t*t:d*(t-l)}function m(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function h(t){return t>.008856452?Math.pow(t,1/3):t/d+l}}(Gi||(Gi={})),function(t){function e(){var t=[.1,0,0];return t[0]=0,t}t.zero=e,t.create=function(t,n,r){var i=e();return i[0]=t,i[1]=n,i[2]=r,i};var n=[0,0,0];t.fromColor=function(t,e){return Gi.toHcl(t,Gi.fromColor(n,e))},t.fromLab=function(t,e){return Gi.toHcl(t,e)};var r=[0,0,0];function i(t,e){var n=e[0],r=e[1],i=e[2];return isNaN(n)&&(n=0),n=C(n),t[0]=i,t[1]=Math.cos(n)*r,t[2]=Math.sin(n)*r,t}function o(t,e,n){return t[0]=e[0],t[1]=Math.max(0,e[1]+s*n),t[2]=e[2],t}t.toColor=function(t){return Gi.toColor(i(r,t))},t.toLab=i,t.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},t.saturate=o,t.desaturate=function(t,e,n){return o(t,e,-n)};var a=[0,0,0];function u(t,e,n){return i(a,e),Gi.toHcl(t,Gi.darken(a,a,n))}t.darken=u,t.lighten=function(t,e,n){return u(t,e,-n)};var s=18}(qi||(qi={})),function(t){function e(t,e,n){return t<<16|e<<8|n}function n(t,e,n){return 255*t<<16|255*e<<8|255*n}t.toStyle=function(t){return"rgb(".concat(t>>16&255,", ").concat(t>>8&255,", ").concat(255&t,")")},t.toHexStyle=function(t){return"#"+("000000"+t.toString(16)).slice(-6)},t.toHexString=function(t){return"0x"+("000000"+t.toString(16)).slice(-6)},t.toRgbString=function(e){return"RGB: ".concat(t.toRgb(e).join(", "))},t.toRgb=function(t){return[t>>16&255,t>>8&255,255&t]},t.toRgbNormalized=function(t){return[(t>>16&255)/255,(t>>8&255)/255,(255&t)/255]},t.fromHexStyle=function(t){return parseInt(t.replace("#","0x"))},t.fromHexString=function(t){return parseInt(t)},t.fromRgb=e,t.fromNormalizedRgb=n,t.fromArray=function(t,n){return e(t[n],t[n+1],t[n+2])},t.fromNormalizedArray=function(t,e){return n(t[e],t[e+1],t[e+2])},t.toArray=function(t,e,n){return e[n]=t>>16&255,e[n+1]=t>>8&255,e[n+2]=255&t,e},t.toArrayNormalized=function(t,e,n){return e[n]=(t>>16&255)/255,e[n+1]=(t>>8&255)/255,e[n+2]=(255&t)/255,e},t.toVec3=function(t,e){return t[0]=e>>16&255,t[1]=e>>8&255,t[2]=255&e,t},t.toVec3Normalized=function(t,e){return t[0]=(e>>16&255)/255,t[1]=(e>>8&255)/255,t[2]=(255&e)/255,t},t.interpolate=function(t,e,n){var r=t>>16&255,i=t>>8&255,o=255&t;return r+((e>>16&255)-r)*n<<16|i+((e>>8&255)-i)*n<<8|o+((255&e)-o)*n};var r=[0,0,0];function i(t,e){return qi.fromColor(r,t),qi.toColor(qi.saturate(r,r,e))}t.saturate=i,t.desaturate=function(t,e){return i(t,-e)};var o=[0,0,0];function a(t,e){return Gi.fromColor(o,t),Gi.toColor(Gi.darken(o,o,e))}function u(t){return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}function s(t){return.2126*u((t>>16&255)/255)+.7152*u((t>>8&255)/255)+.0722*u((255&t)/255)}function c(t){return t<.04045?.0773993808*t:Math.pow(.9478672986*t+.0521327014,2.4)}function l(t){return t<.0031308?12.92*t:1.055*Math.pow(t,.41666)-.055}t.darken=a,t.lighten=function(t,e){return a(t,-e)},t.luminance=s,t.contrast=function(t,e){var n=s(t),r=s(e);return n>r?(n+.05)/(r+.05):(r+.05)/(n+.05)},t.sRGBToLinear=function(t){return n(c((t>>16&255)/255),c((t>>8&255)/255),c((255&t)/255))},t.linearToSRGB=function(t){return n(l((t>>16&255)/255),l((t>>8&255)/255),l((255&t)/255))}}(Fi||(Fi={}));function Hi(t,e){return void 0===e&&(e=" "),t.replace(/([a-z\xE0-\xFF])([A-Z\xC0\xDF])/g,"$1".concat(e,"$2"))}var Vi=function(t){return t.toUpperCase()};function zi(t){return t.toLowerCase().replace(/^\w|\s\w/g,Vi)}function Yi(t){return t.replace(/_/g," ")}function Ki(t){return t.replace(/-/g," ")}function Zi(t){return zi(Hi(Yi(Ki(t))))}var Wi={"orange-red":ji("Orange-Red","sequential","Orange-Red, sequential color scheme from ColorBrewer 2.0",[16775148,16705736,16635038,16628612,16551257,15689032,14102559,11730944,8323072]),"purple-blue":ji("Purple-Blue","sequential","Purple-Blue, sequential color scheme from ColorBrewer 2.0",[16775163,15525874,13685222,10927579,7645647,3576e3,356528,285325,145496]),"blue-purple":ji("Blue-Purple","sequential","Blue-Purple, sequential color scheme from ColorBrewer 2.0",[16252157,14740724,12571622,10403034,9213638,9202609,8929693,8458108,5046347]),oranges:ji("Oranges","sequential","",[16774635,16705230,16634018,16625259,16616764,15821075,14239745,10892803,8333060]),"blue-green":ji("Blue-Green","sequential","",[16252157,15070713,13429990,10082505,6734500,4304502,2329413,27948,17435]),"yellow-orange-brown":ji("Yellow-Orange-Brown","sequential","",[16777189,16775100,16704401,16696399,16685353,15495188,13388802,10040324,6694150]),"yellow-green":ji("Yellow-Green","sequential","",[16777189,16252089,14282915,11394446,7915129,4303709,2327619,26679,17705]),reds:ji("Reds","sequential","",[16774640,16703698,16563105,16552562,16476746,15678252,13309981,10817301,6750221]),"red-purple":ji("Red-Purple","sequential","",[16775155,16638173,16565696,16424885,16214177,14496919,11403646,7995767,4784234]),greens:ji("Greens","sequential","",[16252149,15070688,13101504,10607003,7652470,4303709,2329413,27948,17435]),"yellow-green-blue":ji("Yellow-Green-Blue","sequential","",[16777177,15595697,13101492,8375739,4306628,1937856,2252456,2438292,531800]),purples:ji("Purples","sequential","",[16579581,15724021,14342891,12369372,10394312,8420794,6967715,5515151,4128893]),"green-blue":ji("Green-Blue","sequential","",[16252144,14742491,13429701,11066805,8113348,5157843,2854078,551084,540801]),greys:ji("Greys","sequential","",[16777215,15790320,14277081,12434877,9868950,7566195,5395026,2434341,0]),"yellow-orange-red":ji("Yellow-Orange-Red","sequential","",[16777164,16772512,16701814,16691788,16616764,16535082,14883356,12386342,8388646]),"purple-red":ji("Purple-Red","sequential","",[16250105,15196655,13941210,13210823,14640560,15149450,13505110,9961539,6750239]),blues:ji("Blues","sequential","",[16251903,14609399,13032431,10406625,7057110,4362950,2191797,545180,536683]),"purple-blue-green":ji("Purple-Blue-Green","sequential","",[16775163,15524592,13685222,10927579,6793679,3576e3,164234,93273,83510]),spectral:ji("Spectral","diverging","",[10355010,13975119,16018755,16625249,16703627,16777151,15136152,11263396,6734501,3311805,6180770]),"red-yellow-green":ji("Red-Yellow-Green","diverging","",[10813478,14102567,16018755,16625249,16703627,16777151,14282635,10934634,6733155,1742928,26679]),"red-blue":ji("Red-Blue","diverging","",[6750239,11671595,14049357,16033154,16636871,16250871,13755888,9618910,4428739,2188972,340065]),"pink-yellow-green":ji("Pink-Yellow-Green","diverging","",[9306450,12917629,14579630,15840986,16638191,16250871,15136208,12116358,8371265,5083681,2581529]),"purple-green":ji("Purple-Green","diverging","",[4194379,7744131,10055851,12756431,15193320,16250871,14282963,10935200,5942881,1800247,17435]),"red-yellow-blue":ji("Red-Yellow-Blue","diverging","Red-Yellow-Blue, diverging color scheme from ColorBrewer 2.0",[10813478,14102567,16018755,16625249,16703632,16777151,14742520,11262441,7646673,4552116,3225237]),"brown-white-green":ji("Brown-White-Green","diverging","",[5517317,9195786,12550445,14664317,16181443,16119285,13101797,8441281,3512207,91742,15408]),"red-grey":ji("Red-Grey","diverging","",[6750239,11671595,14049357,16033154,16636871,16777215,14737632,12237498,8882055,5066061,1710618]),"orange-purple":ji("Orange-Purple","diverging","",[8338184,11753478,14713364,16627811,16703670,16250871,14211819,11709394,8418220,5515144,2949195]),"set-2":ji("Set-2","qualitative","",[6734501,16551266,9281739,15174339,10934356,16767279,15058068,11776947]),accent:ji("Accent","qualitative","",[8374655,12496596,16629894,16777113,3697840,15729279,12540695,6710886]),"set-1":ji("Set-1","qualitative","",[14948892,3636920,5091146,9981603,16744192,16777011,10901032,16220607,10066329]),"set-3":ji("Set-3","qualitative","",[9294791,16777139,12499674,16482418,8434131,16626786,11787881,16567781,14277081,12353725,13429701,16772463]),"dark-2":ji("Dark-2","qualitative","",[1810039,14245634,7696563,15149450,6727198,15117058,10909213,6710886]),paired:ji("Paired","qualitative","",[10931939,2062516,11722634,3383340,16489113,14883356,16629615,16744192,13284054,6962586,16777113,11622696]),"pastel-2":ji("Pastel-2","qualitative","",[11789005,16633260,13358568,16042724,15136201,16773806,15852236,13421772]),"pastel-1":ji("Pastel-1","qualitative","",[16495790,11783651,13429701,14601188,16701862,16777164,15063229,16636652,15921906]),"many-distinct":ji("Many-Distinct","qualitative","",[1810039,14245634,7696563,15149450,6727198,15117058,10909213,6710886,14948892,3636920,5091146,9981603,16744192,16777011,10901032,16220607,10066329,6734501,16551266,9281739,15174339,10934356,16767279,15058068,11776947]),magma:ji("Magma","sequential","Perceptually uniform shades of black-red-white",[4329332,4853881,5378684,5903742,6363263,6888576,7413633,7938689,8463745,8988801,9513600,10038655,10563454,11088508,11613562,12138360,12728949,13254258,13714030,14239338,14699366,15094114,15489119,15753309,16017499,16216411,16350045,16483424,16551523,16619368,16621934,16689780,16692091,16694402,16696969,16633746,16636058,16638371,16575148,16577461,16514239]),inferno:ji("Inferno","sequential","Perceptually uniform shades of black-red-yellow",[4721514,5246316,5771373,6296430,6821486,7346542,7871597,8396651,8921450,9446504,9971557,10496610,10956127,11481435,12006486,12466258,12926285,13386056,13780802,14241085,14570295,14965297,15229227,15558693,15757342,15956248,16154897,16288267,16421638,16489734,16492043,16494612,16496926,16368426,16305463,16111429,15982678,15853928,15856253,16119953,16580260]),plasma:ji("Plasma","sequential","Perceptually uniform shades of blue-red-yellow",[1771148,2426257,3081365,3671193,4195228,4784799,5308834,5833124,6357158,6815911,7340200,7864744,8324007,8783782,9309348,9769377,10164126,10624154,11018902,11413393,11808141,12137352,12466307,12795519,13124730,13453685,13717361,14046573,14309992,14573668,14837344,15035483,15299159,15497299,15695438,15893834,16091974,16224833,16357693,16425017,16557877,16625457,16627245,16629289,16631334,16567845,16438820,16310052,16115494,15921190,15726625]),viridis:ji("Viridis","sequential","Perceptually uniform shades of blue-green-yellow",[4524123,4656994,4658793,4726127,4727668,4663929,4599933,4535937,4406404,4276870,4081800,3952010,3822475,3627148,3497356,3302029,3172237,3042446,2912654,2782862,2652814,2523022,2393229,2328973,2198924,2069132,2004874,2005897,2007175,2139525,2337154,2666111,3060348,3520376,4045684,4570991,5227369,5883748,6605661,7392854,8180303,8967495,9819967,10672695,11525166,12443174,13295646,14148121,15000344,15852828,16639780]),cividis:ji("Cividis","sequential","Perceptually uniform shades of blue-green-yellow, should look effectively identical to colorblind and non-colorblind users",[11367,12400,537456,1455727,2046574,2571629,3031404,3425388,3754092,4148075,4476779,4805227,5133932,5396844,5725549,5988462,6317166,6580079,6843249,7171698,7434867,7697781,7960951,8289656,8618104,8881272,9209976,9538679,9867127,10195830,10524533,10853235,11181938,11510640,11839343,12168045,12497002,12891240,13219941,13548642,13943134,14271834,14666326,14995025,15389516,15718470,16112703,16507190,16639799]),twilight:ji("Twilight","sequential","Perceptually uniform shades of white-blue-black-red-white, cyclic",[14670305,14211037,13554648,12766675,11847630,10993866,10139847,9351365,8628419,8036290,7509952,7048895,6718653,6519739,6386105,6252470,6184114,6181293,6112935,6044831,5976470,5777291,5447293,5052270,4592479,4067665,3674181,3281211,3150646,3543352,4067644,4657728,5379141,6166345,6953549,7741007,8463184,9120336,9777743,10304079,10830671,11291984,11687762,12083541,12348505,12613471,12878439,13077872,13211771,13411209,13545111,13809830,14074293,14338756,14537169,14735067,14801121]),turbo:ji("Turbo","sequential","Improved (smooth) rainbow colormap for visualization",[4866485,4872413,4354034,3770361,3120629,2667241,2475736,2611140,3073454,3928216,5109892,6487408,8126047,9829201,11531332,13167162,14605618,15780908,16693543,16753699,16748063,16741916,16146200,15026195,13644558,12198408,10818563,9833728]),rainbow:ji("Rainbow","sequential","",[3367393,3516485,16383744,15501073,12526114]),"red-white-blue":ji("Red-White-Blue","diverging","",[12526114,16777215,3367393])},Xi=Object.keys(Wi).map((function(t){return[t,Wi[t].label,zi(Wi[t].type)]}));Xi.filter((function(t){return"diverging"===Wi[t[0]].type||"sequential"===Wi[t[0]].type})),Xi.filter((function(t){return"qualitative"===Wi[t[0]].type}));function Qi(t){return t in Wi?Wi[t]:(console.warn("unknown color list named '".concat(t,"'")),Wi["red-yellow-blue"])}var Ji,$i={domain:[0,1],reverse:!1,listOrName:"red-yellow-blue",minLabel:"",maxLabel:""};(Ji||(Ji={})).create=function(t){var e=Object(T.a)(Object(T.a)({},$i),t),n=e.domain,r=e.reverse,i=e.listOrName,o="string"==typeof i?Qi(i).list:i,a=r?o.slice().reverse():o,u=a.length-1,s=0,c=0,l=0;function d(t,e){s=(l=e)-(c=t)||1}d(n[0],n[1]);var f,p=Kt(t.minLabel,c.toString()),m=Kt(t.maxLabel,l.toString());if(a.every((function(t){return Array.isArray(t)}))){var h=Object(T.e)([],a,!0);h.sort((function(t,e){return t[1]-e[1]}));var g=h.map((function(t){return t[0]})),y=an.ofSortedArray(h.map((function(t){return t[1]}))),_=g.length-1;f=function(t){var e=v((t-c)/s,0,1),n=an.findPredecessorIndex(y,e);if(0===n)return g[c];if(n>_)return g[_];var r=y[n-1],i=v((e-r)/(y[n]-r),0,1);return Fi.interpolate(g[n-1],g[n],i)}}else f=function(t){var e=Math.min(a.length-1,Math.max(0,(t-c)/s*u)),n=Math.floor(e),r=a[n],i=a[Math.ceil(e)];return Fi.interpolate(r,i,e-n)};return{color:f,colorToArray:function(t,e,n){Fi.toArray(f(t),e,n)},normalizedColorToArray:function(t,e,n){Fi.toArrayNormalized(f(t),e,n)},setDomain:d,get legend(){return function(t,e,n){return{kind:"scale-legend",minLabel:t,maxLabel:e,colors:n}}(p,m,a)}}};var to,eo,no,ro=new Set(["145","147","149","289","291","293","445","475","491","510","604","045","05L","07E","07Y","08U","09X","0AT","0BD","0H0","0HX","0LP","0MK","0NZ","0TS","0UB","0V4","0WK","0XY","0YT","10M","12E","14T","15L","16F","16G","16O","17T","18D","18O","18T","1AR","1BW","1CF","1FT","1GL","1GN","1JB","1LL","1NA","1S3","1S4","1SD","1X4","20S","20X","22O","22S","23V","24S","25E","26M","26O","26Q","26R","26V","26W","26Y","27C","2DG","2DR","2F8","2FG","2FL","2FP","2GL","2GS","2H5","2HA","2M4","2M5","2M8","2OS","2WP","2WS","32O","34V","38J","3BU","3CM","3DO","3DY","3FM","3GR","3HD","3J3","3J4","3LJ","3LR","3MF","3MG","3MK","3R3","3S6","3SA","3YW","40J","42D","44S","46D","46M","46Z","48Z","49A","49S","49T","49V","4AM","4CQ","4GC","4GL","4GP","4JA","4N2","4NN","4QY","4R1","4RS","4SG","4U0","4U1","4U2","4UZ","4V5","50A","51N","56N","57S","5DI","5GF","5GO","5II","5KQ","5KS","5KT","5KV","5L2","5L3","5LS","5LT","5MM","5N6","5QP","5RP","5SA","5SP","5TH","5TJ","5TK","5TM","61J","62I","64K","66O","6BG","6C2","6DM","6GB","6GP","6GR","6K3","6KH","6KL","6KS","6KU","6KW","6LA","6LS","6LW","6MJ","6MN","6PG","6PY","6PZ","6S2","6SA","6UD","6Y6","6YR","6ZC","73E","79J","7CV","7D1","7GP","7JZ","7K2","7K3","7NU","7SA","83Y","89Y","8B7","8B9","8EX","8GA","8GG","8GP","8I4","8LM","8LR","8OQ","8PK","8S0","8YV","95Z","96O","98U","9AM","9C1","9CD","9GP","9KJ","9MR","9OK","9PG","9QG","9QZ","9S7","9SG","9SJ","9SM","9SP","9T1","9T7","9VP","9WJ","9WN","9WZ","9YW","A0K","A1Q","A2G","A5C","A6P","AAL","AAO","ABC","ABD","ABE","ABF","ABL","AC1","ACG","ACR","ACX","ADA","ADG","ADR","AF1","AFD","AFL","AFO","AFP","AFR","AGC","AGH","AGL","AGR","AH2","AH8","AHG","AHM","AHR","AIG","ALL","ALX","AMG","AMN","AMU","AMV","ANA","AOG","AOS","AQA","ARA","ARB","ARE","ARI","ARW","ASC","ASG","ASO","AXP","AXR","AY9","AZC","B0D","B16","B1H","B1N","B2G","B4G","B6D","B7G","B8D","B9D","BBK","BBV","BCD","BCW","BDF","BDG","BDP","BDR","BDZ","BEM","BFN","BFP","BG6","BG8","BGC","BGL","BGN","BGP","BGS","BHG","BM3","BM7","BMA","BMX","BND","BNG","BNX","BO1","BOG","BQY","BRI","BS7","BTG","BTU","BW3","BWG","BXF","BXP","BXX","BXY","BZD","C3B","C3G","C3X","C4B","C4W","C4X","C5X","CAP","CBF","CBI","CBK","CDR","CE5","CE6","CE8","CEG","CEX","CEY","CEZ","CGF","CJB","CKB","CKP","CNP","CR1","CR6","CRA","CT3","CTO","CTR","CTT","D0N","D1M","D5E","D6G","DAF","DAG","DAN","DDA","DDB","DDL","DEG","DEL","DFR","DFX","DG0","DGC","DGD","DGM","DGO","DGS","DGU","DIG","DJB","DJE","DK4","DKX","DKZ","DL6","DLD","DLF","DLG","DMU","DNO","DO8","DOM","DP5","DPC","DQQ","DQR","DR2","DR3","DR4","DR5","DRI","DSR","DT6","DVC","DYM","E3M","E4P","E5G","EAG","EBG","EBQ","EEN","EEQ","EGA","EJT","EMP","EMZ","EPG","EQP","EQV","ERE","ERI","ETT","EUS","F1P","F1X","F55","F58","F6P","F8X","FBP","FCA","FCB","FCT","FDP","FDQ","FFC","FFX","FIF","FIX","FK9","FKD","FMF","FMO","FNG","FNY","FRU","FSA","FSI","FSM","FSR","FSW","FU4","FUB","FUC","FUD","FUF","FUL","FUY","FVQ","FX1","FYJ","G0S","G16","G1P","G20","G28","G2F","G3F","G3I","G4D","G4S","G6D","G6P","G6S","G7P","G8Z","GAA","GAC","GAD","GAF","GAL","GAT","GBH","GC1","GC4","GC9","GCB","GCD","GCN","GCO","GCS","GCT","GCU","GCV","GCW","GDA","GDL","GE1","GE3","GFP","GIV","GL0","GL1","GL2","GL4","GL5","GL6","GL7","GL9","GLA","GLB","GLC","GLD","GLF","GLG","GLO","GLP","GLS","GLT","GLW","GM0","GMB","GMH","GMT","GMZ","GN1","GN4","GNS","GNX","GP0","GP1","GP4","GPH","GPK","GPM","GPO","GPQ","GPU","GPV","GPW","GQ1","GRF","GRX","GS1","GS4","GS9","GSA","GSD","GTE","GTH","GTK","GTM","GTR","GU0","GU1","GU2","GU3","GU4","GU5","GU6","GU8","GU9","GUF","GUL","GUP","GUZ","GXL","GXV","GYE","GYG","GYP","GYU","GYV","GZL","H1M","H1S","H2P","H3S","H53","H6Q","H6Z","HBZ","HD4","HDL","HMS","HNV","HNW","HSG","HSH","HSJ","HSQ","HSR","HSU","HSX","HSY","HSZ","HTG","HTM","HVC","I57","IAB","IDC","IDF","IDG","IDR","IDS","IDT","IDU","IDX","IDY","IEM","IN1","IPT","ISD","ISL","ISX","IVG","IXD","J5B","JFZ","JHM","JLT","JRV","JS2","JSV","JV4","JVA","JVS","JZR","K5B","K99","KBA","KBG","KD5","KDA","KDB","KDD","KDE","KDF","KDM","KDN","KDO","KDR","KFN","KG1","KGM","KHP","KME","KO1","KO2","KOT","KQC","KTU","L1L","L6N","L6S","L6T","LAG","LAH","LAI","LAK","LAO","LAT","LB2","LBS","LBT","LCN","LDY","LEC","LER","LFC","LFR","LGC","LGU","LKA","LKS","LM2","LMO","LMT","LMU","LNV","LOG","LOX","LPK","LRH","LSM","LTG","LTM","LVO","LVZ","LXB","LXC","LXZ","LZ0","M1F","M1P","M2F","M3M","M3N","M55","M6D","M6P","M7B","M7P","M8C","MA1","MA2","MA3","MA8","MAB","MAF","MAG","MAL","MAN","MAT","MAV","MAW","MBE","MBF","MBG","MCU","MDA","MDP","MFA","MFB","MFU","MG5","MGA","MGC","MGL","MGS","MJJ","MLB","MLR","MMA","MMN","MN0","MNA","MQG","MQT","MRH","MRP","MSX","MTT","MUB","MUG","MUR","MVP","MXY","MXZ","MYG","N1L","N3U","N9S","NA1","NAA","NAG","NBG","NBX","NBY","NDG","NED","NFG","NG1","NG6","NGA","NGB","NGC","NGE","NGF","NGK","NGL","NGR","NGS","NGY","NGZ","NHF","NLC","NM6","NM9","NNG","NPF","NSQ","NT1","NTF","NTO","NTP","NXD","NYT","O1G","OAK","OEL","OI7","OPM","ORP","OSU","OTG","OTN","OTU","OX2","P53","P6P","P8E","PA1","PA5","PAV","PDX","PH5","PKM","PNA","PNG","PNJ","PNW","PPC","PRP","PSG","PSJ","PSV","PTQ","PUF","PZU","QDK","QIF","QKH","QPS","QV4","R1P","R1X","R2B","R2G","R5P","RAA","RAE","RAF","RAM","RAO","RAT","RB5","RBL","RCD","RDP","REL","RER","RF5","RG1","RGG","RHA","RHC","RI2","RIB","RIP","RM4","RNS","RNT","ROB","ROR","RP3","RP5","RP6","RPA","RR7","RRJ","RRY","RST","RTG","RTV","RUB","RUG","RUU","RV7","RVG","RVM","RWI","RY7","RZM","S6P","S7P","S81","SA0","SCG","SCR","SDD","SDY","SEJ","SF6","SF9","SFJ","SFU","SG4","SG5","SG6","SG7","SGA","SGC","SGD","SGN","SGS","SHB","SHD","SHG","SI3","SIA","SID","SIO","SIZ","SLB","SLM","SLT","SMD","SN5","SNG","SOE","SOG","SOL","SOR","SR1","SSG","SSH","STW","STZ","SUC","SUP","SUS","SWE","SZZ","T68","T6D","T6P","T6T","TA6","TAG","TCB","TCG","TDG","TEU","TF0","TFU","TGA","TGK","TGR","TGY","TH1","TM5","TM6","TM9","TMR","TMX","TNX","TOA","TOC","TQY","TRE","TRV","TS8","TT7","TTV","TTZ","TU4","TUG","TUJ","TUP","TUR","TVD","TVG","TVM","TVS","TVV","TVY","TW7","TWA","TWD","TWG","TWJ","TWY","TXB","TYV","U1Y","U2A","U2D","U63","U8V","U97","U9A","U9D","U9G","U9J","U9M","UAP","UBH","UBO","UCD","UDC","UEA","V3M","V3P","V71","VG1","VJ1","VJ4","VKN","VTB","W9T","WIA","WOO","WUN","WZ1","WZ2","WZ4","X0X","X1P","X1X","X2F","X2Y","X34","X4S","X5S","X6X","X6Y","XBP","XDP","XDX","XGP","XIL","XKJ","XLF","XLS","XMM","XS2","XUL","XXM","XXR","XXX","XY6","XY9","XYB","XYF","XYL","XYP","XYS","XYT","XYZ","YDR","YIO","YJM","YKR","YO5","YX0","YX1","YYB","YYH","YYJ","YYK","YYM","YYQ","YYR","YZ0","YZT","Z0F","Z15","Z16","Z2D","Z2T","Z3K","Z3L","Z3Q","Z3U","Z4K","Z4R","Z4S","Z4U","Z4V","Z4W","Z4Y","Z57","Z5J","Z5L","Z61","Z6G","Z6H","Z6J","Z6W","Z8H","Z8T","Z9D","Z9E","Z9H","Z9K","Z9L","Z9M","Z9N","Z9W","ZB0","ZB1","ZB2","ZB3","ZCD","ZCZ","ZD0","ZDC","ZDM","ZDO","ZEE","ZEL","ZGE","ZMR","UMQ","SQD"]);!function(t){t[t.FilledSphere=0]="FilledSphere",t[t.FilledCube=1]="FilledCube",t[t.CrossedCube=2]="CrossedCube",t[t.DividedDiamond=3]="DividedDiamond",t[t.FilledCone=4]="FilledCone",t[t.DevidedCone=5]="DevidedCone",t[t.FlatBox=6]="FlatBox",t[t.FilledStar=7]="FilledStar",t[t.FilledDiamond=8]="FilledDiamond",t[t.FlatDiamond=9]="FlatDiamond",t[t.FlatHexagon=10]="FlatHexagon",t[t.Pentagon=11]="Pentagon",t[t.DiamondPrism=12]="DiamondPrism",t[t.PentagonalPrism=13]="PentagonalPrism",t[t.HexagonalPrism=14]="HexagonalPrism",t[t.HeptagonalPrism=15]="HeptagonalPrism"}(no||(no={}));var io,oo={Blue:37052,Green:42577,Yellow:16765952,Orange:16021792,Pink:16162465,Purple:10830745,LightBlue:9424105,Brown:10582605,Red:15539236,Secondary:15854817};!function(t){t[t.Hexose=0]="Hexose",t[t.HexNAc=1]="HexNAc",t[t.Hexosamine=2]="Hexosamine",t[t.Hexuronate=3]="Hexuronate",t[t.Deoxyhexose=4]="Deoxyhexose",t[t.DeoxyhexNAc=5]="DeoxyhexNAc",t[t.DiDeoxyhexose=6]="DiDeoxyhexose",t[t.Pentose=7]="Pentose",t[t.Deoxynonulosonate=8]="Deoxynonulosonate",t[t.DiDeoxynonulosonate=9]="DiDeoxynonulosonate",t[t.Unknown=10]="Unknown",t[t.Assigned=11]="Assigned"}(io||(io={}));(to={})[io.Hexose]="Hexose",to[io.HexNAc]="HexNAc",to[io.Hexosamine]="Hexosamine",to[io.Hexuronate]="Hexuronate",to[io.Deoxyhexose]="Deoxyhexose",to[io.DeoxyhexNAc]="DeoxyhexNAc",to[io.DiDeoxyhexose]="Di-deoxyhexose",to[io.Pentose]="Pentose",to[io.Deoxynonulosonate]="Deoxynonulosonate",to[io.DiDeoxynonulosonate]="Di-deoxynonulosonate",to[io.Unknown]="Unknown",to[io.Assigned]="Assigned";(eo={})[io.Hexose]=no.FilledSphere,eo[io.HexNAc]=no.FilledCube,eo[io.Hexosamine]=no.CrossedCube,eo[io.Hexuronate]=no.DividedDiamond,eo[io.Deoxyhexose]=no.FilledCone,eo[io.DeoxyhexNAc]=no.DevidedCone,eo[io.DiDeoxyhexose]=no.FlatBox,eo[io.Pentose]=no.FilledStar,eo[io.Deoxynonulosonate]=no.FilledDiamond,eo[io.DiDeoxynonulosonate]=no.FlatDiamond,eo[io.Unknown]=no.FlatHexagon,eo[io.Assigned]=no.Pentagon;var ao={abbr:"Unk",name:"Unknown",color:oo.Secondary,type:io.Unknown},uo=[{abbr:"Glc",name:"Glucose",color:oo.Blue,type:io.Hexose},{abbr:"Man",name:"Mannose",color:oo.Green,type:io.Hexose},{abbr:"Gal",name:"Galactose",color:oo.Yellow,type:io.Hexose},{abbr:"Gul",name:"Gulose",color:oo.Orange,type:io.Hexose},{abbr:"Alt",name:"Altrose",color:oo.Pink,type:io.Hexose},{abbr:"All",name:"Allose",color:oo.Purple,type:io.Hexose},{abbr:"Tal",name:"Talose",color:oo.LightBlue,type:io.Hexose},{abbr:"Ido",name:"Idose",color:oo.Brown,type:io.Hexose},{abbr:"GlcNAc",name:"N-Acetyl Glucosamine",color:oo.Blue,type:io.HexNAc},{abbr:"ManNAc",name:"N-Acetyl Mannosamine",color:oo.Green,type:io.HexNAc},{abbr:"GalNAc",name:"N-Acetyl Galactosamine",color:oo.Yellow,type:io.HexNAc},{abbr:"GulNAc",name:"N-Acetyl Gulosamine",color:oo.Orange,type:io.HexNAc},{abbr:"AltNAc",name:"N-Acetyl Altrosamine",color:oo.Pink,type:io.HexNAc},{abbr:"AllNAc",name:"N-Acetyl Allosamine",color:oo.Purple,type:io.HexNAc},{abbr:"TalNAc",name:"N-Acetyl Talosamine",color:oo.LightBlue,type:io.HexNAc},{abbr:"IdoNAc",name:"N-Acetyl Idosamine",color:oo.Brown,type:io.HexNAc},{abbr:"GlcN",name:"Glucosamine",color:oo.Blue,type:io.Hexosamine},{abbr:"ManN",name:"Mannosamine",color:oo.Green,type:io.Hexosamine},{abbr:"GalN",name:"Galactosamine",color:oo.Yellow,type:io.Hexosamine},{abbr:"GulN",name:"Gulosamine",color:oo.Orange,type:io.Hexosamine},{abbr:"AltN",name:"Altrosamine",color:oo.Pink,type:io.Hexosamine},{abbr:"AllN",name:"Allosamine",color:oo.Purple,type:io.Hexosamine},{abbr:"TalN",name:"Talosamine",color:oo.LightBlue,type:io.Hexosamine},{abbr:"IdoN",name:"Idosamine",color:oo.Brown,type:io.Hexosamine},{abbr:"GlcA",name:"Glucuronic Acid",color:oo.Blue,type:io.Hexuronate},{abbr:"ManA",name:"Mannuronic Acid",color:oo.Green,type:io.Hexuronate},{abbr:"GalA",name:"Galacturonic Acid",color:oo.Yellow,type:io.Hexuronate},{abbr:"GulA",name:"Guluronic Acid",color:oo.Orange,type:io.Hexuronate},{abbr:"AltA",name:"Altruronic Acid",color:oo.Pink,type:io.Hexuronate},{abbr:"AllA",name:"Alluronic Acid",color:oo.Purple,type:io.Hexuronate},{abbr:"TalA",name:"Taluronic Acid",color:oo.LightBlue,type:io.Hexuronate},{abbr:"IdoA",name:"Iduronic Acid",color:oo.Brown,type:io.Hexuronate},{abbr:"Qui",name:"Quinovose",color:oo.Blue,type:io.Deoxyhexose},{abbr:"Rha",name:"Rhamnose",color:oo.Green,type:io.Deoxyhexose},{abbr:"6dGul",name:"6-Deoxy Gulose",color:oo.Orange,type:io.Deoxyhexose},{abbr:"6dAlt",name:"6-Deoxy Altrose",color:oo.Pink,type:io.Deoxyhexose},{abbr:"6dTal",name:"6-Deoxy Talose",color:oo.LightBlue,type:io.Deoxyhexose},{abbr:"Fuc",name:"Fucose",color:oo.Red,type:io.Deoxyhexose},{abbr:"QuiNAc",name:"N-Acetyl Quinovosamine",color:oo.Blue,type:io.DeoxyhexNAc},{abbr:"RhaNAc",name:"N-Acetyl Rhamnosamine",color:oo.Green,type:io.DeoxyhexNAc},{abbr:"6dAltNAc",name:"N-Acetyl 6-Deoxy Altrosamine",color:oo.Pink,type:io.DeoxyhexNAc},{abbr:"6dTalNAc",name:"N-Acetyl 6-Deoxy Talosamine",color:oo.LightBlue,type:io.DeoxyhexNAc},{abbr:"FucNAc",name:"N-Acetyl Fucosamine",color:oo.Red,type:io.DeoxyhexNAc},{abbr:"Oli",name:"Olivose",color:oo.Blue,type:io.DiDeoxyhexose},{abbr:"Tyv",name:"Tyvelose",color:oo.Green,type:io.DiDeoxyhexose},{abbr:"Abe",name:"Abequose",color:oo.Orange,type:io.DiDeoxyhexose},{abbr:"Par",name:"Paratose",color:oo.Pink,type:io.DiDeoxyhexose},{abbr:"Dig",name:"Digitoxose",color:oo.Purple,type:io.DiDeoxyhexose},{abbr:"Col",name:"Colitose",color:oo.LightBlue,type:io.DiDeoxyhexose},{abbr:"Ara",name:"Arabinose",color:oo.Green,type:io.Pentose},{abbr:"Lyx",name:"Lyxose",color:oo.Yellow,type:io.Pentose},{abbr:"Xyl",name:"Xylose",color:oo.Orange,type:io.Pentose},{abbr:"Rib",name:"Ribose",color:oo.Pink,type:io.Pentose},{abbr:"Kdn",name:"Keto-Deoxy Nonulonic Acid",color:oo.Green,type:io.Deoxynonulosonate},{abbr:"Neu5Ac",name:"N-Acetyl Neuraminic Acid",color:oo.Purple,type:io.Deoxynonulosonate},{abbr:"Neu5Gc",name:"N-Glycolyl Neuraminic Acid",color:oo.LightBlue,type:io.Deoxynonulosonate},{abbr:"Neu",name:"Neuraminic Acid",color:oo.Brown,type:io.Deoxynonulosonate},{abbr:"Sia",name:"Sialic acid",color:oo.Red,type:io.Deoxynonulosonate},{abbr:"Pse",name:"Pseudaminic Acid",color:oo.Green,type:io.DiDeoxynonulosonate},{abbr:"Leg",name:"Legionaminic Acid",color:oo.Yellow,type:io.DiDeoxynonulosonate},{abbr:"Aci",name:"Acinetaminic Acid",color:oo.Pink,type:io.DiDeoxynonulosonate},{abbr:"4eLeg",name:"4-Epilegionaminic Acid",color:oo.LightBlue,type:io.DiDeoxynonulosonate},{abbr:"Bac",name:"Bacillosamine",color:oo.Blue,type:io.Unknown},{abbr:"LDmanHep",name:"L-Glycero-D-Manno Heptose",color:oo.Green,type:io.Unknown},{abbr:"Kdo",name:"Keto-Deoxy Octulonic Acid",color:oo.Yellow,type:io.Unknown},{abbr:"Dha",name:"3-Deoxy Lyxo-Heptulosaric Acid",color:oo.Orange,type:io.Unknown},{abbr:"DDmanHep",name:"D-Glycero-D-Manno-Heptose",color:oo.Pink,type:io.Unknown},{abbr:"MurNAc",name:"N-Acetyl Muramic Acid",color:oo.Purple,type:io.Unknown},{abbr:"MurNGc",name:"N-Glycolyl Muramic Acid",color:oo.LightBlue,type:io.Unknown},{abbr:"Mur",name:"Muramic Acid",color:oo.Brown,type:io.Unknown},{abbr:"Api",name:"Apicose",color:oo.Green,type:io.Assigned},{abbr:"Fru",name:"Fructose",color:oo.Green,type:io.Assigned},{abbr:"Tag",name:"Tagatose",color:oo.Yellow,type:io.Assigned},{abbr:"Sor",name:"Sorbose",color:oo.Orange,type:io.Assigned},{abbr:"Psi",name:"Psicose",color:oo.Pink,type:io.Assigned}],so=function(){for(var t=new Map,e=0,n=uo.length;e<n;++e){var r=uo[e];t.set(r.abbr,r)}return t}(),co={Glc:["GLC","BGC","Z8T","TRE","MLR"],Man:["MAN","BMA"],Gal:["GLA","GAL","GZL","GXL","GIV"],Gul:["4GL","GL0","GUP","Z8H"],Alt:["Z6H","3MK","SHD"],All:["AFD","ALL","WOO","Z2D"],Tal:["ZEE","A5C","SDY"],Ido:["ZCD","Z0F","4N2"],GlcNAc:["NDG","NAG","NGZ"],ManNAc:["BM3","BM7"],GalNAc:["A2G","NGA","YYQ"],GulNAc:["LXB"],AltNAc:[],AllNAc:["NAA"],TalNAc:[],IdoNAc:["LXZ","HSQ"],GlcN:["PA1","GCS"],ManN:["95Z"],GalN:["X6X","1GN"],GulN:[],AltN:[],AllN:[],TalN:[],IdoN:[],GlcA:["GCU","BDP"],ManA:["MAV","BEM"],GalA:["ADA","GTR","GTK"],GulA:["LGU"],AltA:[],AllA:[],TalA:["X1X","X0X"],IdoA:["IDR"],Qui:["G6D","YYK"],Rha:["RAM","RM4","XXR"],"6dGul":["66O"],"6dAlt":[],"6dTal":[],Fuc:["FUC","FUL","FCA","FCB","GYE"],QuiNAc:["Z9W"],RhaNAc:[],"6dAltNAc":[],"6dTalNAc":[],FucNAc:["49T"],Oli:["DDA","RAE","Z5J"],Tyv:["TYV"],Abe:["ABE"],Par:["PZU"],Dig:["Z3U"],Col:[],Ara:["64K","ARA","ARB","AHR","FUB","BXY","BXX","SEJ"],Lyx:["LDY","Z4W"],Xyl:["XYS","XYP","XYZ","HSY","LXC"],Rib:["YYM","RIP","RIB","BDR","0MK","Z6J","32O"],Kdn:["KDM","KDN"],Neu5Ac:["SIA","SLB"],Neu5Gc:["NGC","NGE"],Neu:[],Sia:[],Pse:[],Leg:[],Aci:[],"4eLeg":[],Bac:[],LDmanHep:["GMH"],Kdo:["KDO"],Dha:[],DDmanHep:["289"],MurNAc:["MUB","AMU"],MurNGc:[],Mur:["1S4","MUR"],Api:["XXM"],Fru:["BDF","Z9N","FRU","LFR"],Tag:["T6T"],Sor:["SOE","UEA"],Psi:["PSV","SF6","SF9","TTV"]},lo={Glc:["AGLC","BGLC"],GlcNAc:["AGLCNA","BGLCNA","BGLCN0"],GlcA:["AGLCA","BGLCA","BGLCA0"],Man:["AMAN","BMAN"],Rha:["ARHM","BRHM"],Ara:["AARB","BARB"],Gal:["AGAL","BGAL"],GalNAc:["AGALNA","BGALNA"],Gul:["AGUL","BGUL"],Alt:["AALT","BALT"],All:["AALL","BALL"],Tal:["ATAL","BTAL"],Ido:["AIDO","BIDO"],IdoA:["AIDOA","BIDOA"],Fuc:["AFUC","BFUC"],Lyx:["ALYF","BLYF"],Xyl:["AXYL","BXYL","AXYF","BXYF"],Rib:["ARIB","BRIB"],Fru:["AFRU","BFRU"],Neu5Ac:["ANE5AC","BNE5AC"]},fo={Glc:["0GA","0GB","1GA","1GB","2GA","2GB","3GA","3GB","4GA","4GB","6GA","6GB","ZGA","ZGB","YGA","YGB","XGA","XGB","WGA","WGB","VGA","VGB","UGA","UGB","TGA","TGB","SGA","SGB","RGA","RGB","QGA","QGB","PGA","PGB","0gA","0gB","1gA","1gB","2gA","2gB","3gA","3gB","4gA","4gB","6gA","6gB","ZgA","ZgB","YgA","YgB","XgA","XgB","WgA","WgB","VgA","VgB","UgA","UgB","TgA","TgB","SgA","SgB","RgA","RgB","QgA","QgB","PgA","PgB"],GlcNAc:["0YA","0YB","1YA","1YB","3YA","3YB","4YA","4YB","6YA","6YB","WYA","WYB","VYA","VYB","UYA","UYB","QYA","QYB","0yA","0yB","1yA","1yB","3yA","3yB","4yA","4yB","6yA","6yB","WyA","WyB","VyA","VyB","UyA","UyB","QyA","QyB","0YS","0Ys","3YS","3Ys","4YS","4Ys","6YS","6Ys","QYS","QYs","UYS","UYs","VYS","VYs","WYS","WYs","0yS","0ys","3yS","3ys","4yS","4ys"],GlcA:["0ZA","0ZB","1ZA","1ZB","2ZA","2ZB","3ZA","3ZB","4ZA","4ZB","ZZA","ZZB","YZA","YZB","WZA","WZB","TZA","TZB","0zA","0zB","1zA","1zB","2zA","2zB","3zA","3zB","4zA","4zB","ZzA","ZzB","YzA","YzB","WzA","WzB","TzA","TzB","0ZBP"],GlcN:["0YN","3YN","4YN","6YN","WYN","VYN","UYN","QYN","3Yn","4Yn","WYn","0Yn","0YP","3YP","4YP","6YP","WYP","VYP","UYP","QYP","0Yp","3Yp","4Yp","WYp"],Man:["0MA","0MB","1MA","1MB","2MA","2MB","3MA","3MB","4MA","4MB","6MA","6MB","ZMA","ZMB","YMA","YMB","XMA","XMB","WMA","WMB","VMA","VMB","UMA","UMB","TMA","TMB","SMA","SMB","RMA","RMB","QMA","QMB","PMA","PMB","0mA","0mB","1mA","1mB","2mA","2mB","3mA","3mB","4mA","4mB","6mA","6mB","ZmA","ZmB","YmA","YmB","XmA","XmB","WmA","WmB","VmA","VmB","UmA","UmB","TmA","TmB","SmA","SmB","RmA","RmB","QmA","QmB","PmA","PmB"],ManNAc:["0WA","0WB","1WA","1WB","3WA","3WB","4WA","4WB","6WA","6WB","WWA","WWB","VWA","VWB","UWA","UWB","QWA","QWB","0wA","0wB","1wA","1wB","3wA","3wB","4wA","4wB","6wA","6wB","WwA","WwB","VwA","VwB","UwA","UwB","QwA","QwB"],Ara:["0AA","0AB","1AA","1AB","2AA","2AB","3AA","3AB","4AA","4AB","ZAA","ZAB","YAA","YAB","WAA","WAB","TAA","TAB","0AD","0AU","1AD","1AU","2AD","2AU","3AD","3AU","5AD","5AU","ZAD","ZAU","0aA","0aB","1aA","1aB","2aA","2aB","3aA","3aB","4aA","4aB","ZaA","ZaB","YaA","YaB","WaA","WaB","TaA","TaB","0aD","0aU","1aD","1aU","2aD","2aU","3aD","3aU","5aD","5aU","ZaD","ZaU"],Gal:["0LA","0LB","1LA","1LB","2LA","2LB","3LA","3LB","4LA","4LB","6LA","6LB","ZLA","ZLB","YLA","YLB","XLA","XLB","WLA","WLB","VLA","VLB","ULA","ULB","TLA","TLB","SLA","SLB","RLA","RLB","QLA","QLB","PLA","PLB","0lA","0lB","1lA","1lB","2lA","2lB","3lA","3lB","4lA","4lB","6lA","6lB","ZlA","ZlB","YlA","YlB","XlA","XlB","WlA","WlB","VlA","VlB","UlA","UlB","TlA","TlB","SlA","SlB","RlA","RlB","QlA","QlB","PlA","PlB"],GalNAc:["0VA","0VB","1VA","1VB","3VA","3VB","4VA","4VB","6VA","6VB","WVA","WVB","VVA","VVB","UVA","UVB","QVA","QVB","0vA","0vB","1vA","1vB","3vA","3vB","4vA","4vB","6vA","6vB","WvA","WvB","VvA","VvB","UvA","UvB","QvA","QvB"],GalA:["0OA","0OB","1OA","1OB","2OA","2OB","3OA","3OB","4OA","4OB","ZOA","ZOB","YOA","YOB","WOA","WOB","TOA","TOB","0oA","0oB","1oA","1oB","2oA","2oB","3oA","3oB","4oA","4oB","ZoA","ZoB","YoA","YoB","WoA","WoB","ToA","ToB"],Gul:["0KA","0KB","1KA","1KB","2KA","2KB","3KA","3KB","4KA","4KB","6KA","6KB","ZKA","ZKB","YKA","YKB","XKA","XKB","WKA","WKB","VKA","VKB","UKA","UKB","TKA","TKB","SKA","SKB","RKA","RKB","QKA","QKB","PKA","PKB","0kA","0kB","1kA","1kB","2kA","2kB","3kA","3kB","4kA","4kB","6kA","6kB","ZkA","ZkB","YkA","YkB","XkA","XkB","WkA","WkB","VkA","VkB","UkA","UkB","TkA","TkB","SkA","SkB","RkA","RkB","QkA","QkB","PkA","PkB"],Alt:["0EA","0EB","1EA","1EB","2EA","2EB","3EA","3EB","4EA","4EB","6EA","6EB","ZEA","ZEB","YEA","YEB","XEA","XEB","WEA","WEB","VEA","VEB","UEA","UEB","TEA","TEB","SEA","SEB","REA","REB","QEA","QEB","PEA","PEB","0eA","0eB","1eA","1eB","2eA","2eB","3eA","3eB","4eA","4eB","6eA","6eB","ZeA","ZeB","YeA","YeB","XeA","XeB","WeA","WeB","VeA","VeB","UeA","UeB","TeA","TeB","SeA","SeB","ReA","ReB","QeA","QeB","PeA","PeB"],All:["0NA","0NB","1NA","1NB","2NA","2NB","3NA","3NB","4NA","4NB","6NA","6NB","ZNA","ZNB","YNA","YNB","XNA","XNB","WNA","WNB","VNA","VNB","UNA","UNB","TNA","TNB","SNA","SNB","RNA","RNB","QNA","QNB","PNA","PNB","0nA","0nB","1nA","1nB","2nA","2nB","3nA","3nB","4nA","4nB","6nA","6nB","ZnA","ZnB","YnA","YnB","XnA","XnB","WnA","WnB","VnA","VnB","UnA","UnB","TnA","TnB","SnA","SnB","RnA","RnB","QnA","QnB","PnA","PnB"],Tal:["0TA","0TB","1TA","1TB","2TA","2TB","3TA","3TB","4TA","4TB","6TA","6TB","ZTA","ZTB","YTA","YTB","XTA","XTB","WTA","WTB","VTA","VTB","UTA","UTB","TTA","TTB","STA","STB","RTA","RTB","QTA","QTB","PTA","PTB","0tA","0tB","1tA","1tB","2tA","2tB","3tA","3tB","4tA","4tB","6tA","6tB","ZtA","ZtB","YtA","YtB","XtA","XtB","WtA","WtB","VtA","VtB","UtA","UtB","TtA","TtB","StA","StB","RtA","RtB","QtA","QtB","PtA","PtB"],Ido:["0IA","0IB","1IA","1IB","2IA","2IB","3IA","3IB","4IA","4IB","6IA","6IB","ZIA","ZIB","YIA","YIB","XIA","XIB","WIA","WIB","VIA","VIB","UIA","UIB","TIA","TIB","SIA","SIB","RIA","RIB","QIA","QIB","PIA","PIB","0iA","0iB","1iA","1iB","2iA","2iB","3iA","3iB","4iA","4iB","6iA","6iB","ZiA","ZiB","YiA","YiB","XiA","XiB","WiA","WiB","ViA","ViB","UiA","UiB","TiA","TiB","SiA","SiB","RiA","RiB","QiA","QiB","PiA","PiB"],IdoA:["0UA","0UB","1UA","1UB","2UA","2UB","3UA","3UB","4UA","4UB","ZUA","ZUB","YUA","YUB","WUA","WUB","TUA","TUB","0uA","0uB","1uA","1uB","2uA","2uB","3uA","3uB","4uA","4uB","ZuA","ZuB","YuA","YuB","WuA","WuB","TuA","TuB","YuAP"],Fuc:["0FA","0FB","1FA","1FB","2FA","2FB","3FA","3FB","4FA","4FB","ZFA","ZFB","YFA","YFB","WFA","WFB","TFA","TFB","0fA","0fB","1fA","1fB","2fA","2fB","3fA","3fB","4fA","4fB","ZfA","ZfB","YfA","YfB","WfA","WfB","TfA","TfB"],Rha:["0HA","0HB","1HA","1HB","2HA","2HB","3HA","3HB","4HA","4HB","ZHA","ZHB","YHA","YHB","WHA","WHB","THA","THB","0hA","0hB","1hA","1hB","2hA","2hB","3hA","3hB","4hA","4hB","ZhA","ZhB","YhA","YhB","WhA","WhB","ThA","ThB"],Qui:["0QA","0QB","1QA","1QB","2QA","2QB","3QA","3QB","4QA","4QB","ZQA","ZQB","YQA","YQB","WQA","WQB","TQA","TQB","0qA","0qB","1qA","1qB","2qA","2qB","3qA","3qB","4qA","4qB","ZqA","ZqB","YqA","YqB","WqA","WqB","TqA","TqB"],Lyx:["0DA","0DB","1DA","1DB","2DA","2DB","3DA","3DB","4DA","4DB","ZDA","ZDB","YDA","YDB","WDA","WDB","TDA","TDB","0DD","0DU","1DD","1DU","2DD","2DU","3DD","3DU","5DD","5DU","ZDD","ZDU","0dA","0dB","1dA","1dB","2dA","2dB","3dA","3dB","4dA","4dB","ZdA","ZdB","YdA","YdB","WdA","WdB","TdA","TdB","0dD","0dU","1dD","1dU","2dD","2dU","3dD","3dU","5dD","5dU","ZdD","ZdU"],Xyl:["0XA","0XB","1XA","1XB","2XA","2XB","3XA","3XB","4XA","4XB","ZXA","ZXB","YXA","YXB","WXA","WXB","TXA","TXB","0XD","0XU","1XD","1XU","2XD","2XU","3XD","3XU","5XD","5XU","ZXD","ZXU","0xA","0xB","1xA","1xB","2xA","2xB","3xA","3xB","4xA","4xB","ZxA","ZxB","YxA","YxB","WxA","WxB","TxA","TxB","0xD","0xU","1xD","1xU","2xD","2xU","3xD","3xU","5xD","5xU","ZxD","ZxU"],Rib:["0RA","0RB","1RA","1RB","2RA","2RB","3RA","3RB","4RA","4RB","ZRA","ZRB","YRA","YRB","WRA","WRB","TRA","TRB","0RD","0RU","1RD","1RU","2RD","2RU","3RD","3RU","5RD","5RU","ZRD","ZRU","0rA","0rB","1rA","1rB","2rA","2rB","3rA","3rB","4rA","4rB","ZrA","ZrB","YrA","YrB","WrA","WrB","TrA","TrB","0rD","0rU","1rD","1rU","2rD","2rU","3rD","3rU","5rD","5rU","ZrD","ZrU"],Fru:["0CA","0CB","1CA","1CB","2CA","2CB","3CA","3CB","4CA","4CB","5CA","5CB","WCA","WCB","0CD","0CU","1CD","1CU","2CD","2CU","3CD","3CU","4CD","4CU","6CD","6CU","WCD","WCU","VCD","VCU","UCD","UCU","QCD","QCU","0cA","0cB","1cA","1cB","2cA","2cB","3cA","3cB","4cA","4cB","5cA","5cB","WcA","WcB","0cD","0cU","1cD","1cU","2cD","2cU","3cD","3cU","4cD","4cU","6cD","6cU","WcD","WcU","VcD","VcU","UcD","UcU","QcD","QcU"],Tag:["0JA","0JB","1JA","1JB","2JA","2JB","3JA","3JB","4JA","4JB","5JA","5JB","WJA","WJB","0JD","0JU","1JD","1JU","2JD","2JU","3JD","3JU","4JD","4JU","6JD","6JU","WJD","WJU","VJD","VJU","UJD","UJU","QJD","QJU","0jA","0jB","1jA","1jB","2jA","2jB","3jA","3jB","4jA","4jB","5jA","5jB","WjA","WjB","0jD","0jU","1jD","1jU","2jD","2jU","3jD","3jU","4jD","4jU","6jD","6jU","WjD","WjU","VjD","VjU","UjD","UjU","QjD","QjU"],Sor:["0BA","0BB","1BA","1BB","2BA","2BB","3BA","3BB","4BA","4BB","5BA","5BB","WBA","WBB","0BD","0BU","1BD","1BU","2BD","2BU","3BD","3BU","4BD","4BU","6BD","6BU","WBD","WBU","VBD","VBU","UBD","UBU","QBD","QBU","0bA","0bB","1bA","1bB","2bA","2bB","3bA","3bB","4bA","4bB","5bA","5bB","WbA","WbB","0bD","0bU","1bD","1bU","2bD","2bU","3bD","3bU","4bD","4bU","6bD","6bU","WbD","WbU","VbD","VbU","UbD","UbU","QbD","QbU"],Psi:["0PA","0PB","1PA","1PB","2PA","2PB","3PA","3PB","4PA","4PB","5PA","5PB","WPA","WPB","0PD","0PU","1PD","1PU","2PD","2PU","3PD","3PU","4PD","4PU","6PD","6PU","WPD","WPU","VPD","VPU","UPD","UPU","QPD","QPU","0pA","0pB","1pA","1pB","2pA","2pB","3pA","3pB","4pA","4pB","5pA","5pB","WpA","WpB","0pD","0pU","1pD","1pU","2pD","2pU","3pD","3pU","4pD","4pU","6pD","6pU","WpD","WpU","VpD","VpU","UpD","UpU","QpD","QpU"],Neu5Ac:["0SA","0SB","4SA","4SB","7SA","7SB","8SA","8SB","9SA","9SB","ASA","ASB","BSA","BSB","CSA","CSB","DSA","DSB","ESA","ESB","FSA","FSB","GSA","GSB","HSA","HSB","ISA","ISB","JSA","JSB","KSA","KSB","0sA","0sB","4sA","4sB","7sA","7sB","8sA","8sB","9sA","9sB","AsA","AsB","BsA","BsB","CsA","CsB","DsA","DsB","EsA","EsB","FsA","FsB","GsA","GsB","HsA","HsB","IsA","IsB","JsA","JsB","KsA","KsB"],Neu5Gc:["0GL","4GL","7GL","8GL","9GL","CGL","DGL","EGL","FGL","GGL","HGL","IGL","JGL","KGL","0gL","4gL","7gL","8gL","9gL","AgL","BgL","CgL","DgL","EgL","FgL","GgL","HgL","IgL","JgL","KgL"],Tyv:["0TV","0Tv","1TV","1Tv","2TV","2Tv","4TV","4Tv","YTV","YTv","0tV","0tv","1tV","1tv","2tV","2tv","4tV","4tv","YtV","Ytv"],Abe:["0AE","2AE","4AE","YGa","0AF","2AF","4AF","YAF"],Bac:["0BC","3BC","0bC","3bC"],Kdn:["0KN","4KN","5KN","7KN","8KN","9KN","AKN","BKN","CKN","DKN","EKN","FKN","GKN","HKN","IKN","JKN","KKN","LKN","MKN","NKN","OKN","PKN","QKN","RKN","SKN","TKN","UKN","VKN","WKN","XKN","YKN","0Kn","4Kn","5Kn","7Kn","8Kn","9Kn","AKn","BKn","CKn","DKn","EKn","FKn","GKn","HKn","IKn","JKn","KKn","LKn","MKn","NKn","OKn","PKn","QKn","RKn","SKn","TKn","UKn","VKn","WKn","XKn","YKn"],Kdo:["0KO","4KO","5KO","7KO","8KO","AKO","BKO","CKO","DKO","EKO","FKO","GKO","HKO","IKO","JKO","KKO","0Ko","4Ko","5Ko","7Ko","8Ko","AKo","BKo","CKo","DKo","EKo","FKo","GKo","HKo","IKo","JKo","KKo"]},po=function(){for(var t=new Map,e=0,n=uo.length;e<n;++e){var r=uo[e],i=co[r.abbr];if(i)for(var o=0,a=i.length;o<a;++o)t.set(i[o],r);var u=lo[r.abbr];if(u)for(o=0,a=u.length;o<a;++o)t.set(u[o],r)}return ro.forEach((function(e){t.has(e)||t.set(e,ao)})),t}();!function(){for(var t=new Map,e=0,n=uo.length;e<n;++e){var r=uo[e],i=co[r.abbr];if(i)for(var o=0,a=i.length;o<a;++o)t.set(i[o],r);var u=lo[r.abbr];if(u)for(o=0,a=u.length;o<a;++o)t.set(u[o],r);var s=fo[r.abbr];if(s)for(o=0,a=s.length;o<a;++o)t.has(s[o])||t.set(s[o],r)}ro.forEach((function(e){t.has(e)||t.set(e,ao)}))}();var mo,ho,go=po;(ho=mo||(mo={})).toArray=function(t){return Jt(t.values())},ho.isSuperset=function(t,e){var n=!0;return e.forEach((function(e){t.has(e)||(n=!1)})),n},ho.add=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0;r<e.length;r++)e[r].forEach((function(e){return t.add(e)}));return t},ho.union=function(t,e){var n=new Set(t);return e.forEach((function(t){return n.add(t)})),n},ho.unionMany=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(0===t.length)return new Set;1===t.length&&new Set(t[0]);for(var n=new Set(t[0]),r=1,i=t.length;r<i;r++)t[r].forEach((function(t){return n.add(t)}));return n},ho.unionManyArrays=function(t){if(0===t.length)return new Set;for(var e=new Set(t[0]),n=1;n<t.length;n++)for(var r=0,i=t[n];r<i.length;r++){var o=i[r];e.add(o)}return e},ho.intersection=function(t,e){var n=new Set;return e.forEach((function(e){t.has(e)&&n.add(e)})),n},ho.areIntersecting=function(t,e){var n=!1;return e.forEach((function(e){t.has(e)&&(n=!0)})),n},ho.intersectionSize=function(t,e){var n=0;return e.forEach((function(e){t.has(e)&&(n+=1)})),n},ho.difference=function(t,e){var n=new Set(t);return e.forEach((function(t){return n.delete(t)})),n},ho.differenceSize=function(t,e){var n=t.size;return t.forEach((function(t){e.has(t)&&(n-=1)})),n},ho.areEqual=function(t,e){if(t.size!==e.size)return!1;var n=!0;return e.forEach((function(e){t.has(e)||(n=!1)})),n};var vo,yo=new Set(["DAPC","DBPC","DFPC","DGPC","DIPC","DLPC","DNPC","DOPC","DPPC","DRPC","DTPC","DVPC","DXPC","DYPC","LPPC","PAPC","PEPC","PGPC","PIPC","POPC","PRPC","PUPC","DAPE","DBPE","DFPE","DGPE","DIPE","DLPE","DNPE","DOPE","DPPE","DRPE","DTPE","DUPE","DVPE","DXPE","DYPE","LPPE","PAPE","PGPE","PIPE","POPE","PQPE","PRPE","PUPE","DAPS","DBPS","DFPS","DGPS","DIPS","DLPS","DNPS","DOPS","DPPS","DRPS","DTPS","DUPS","DVPS","DXPS","DYPS","LPPS","PAPS","PGPS","PIPS","POPS","PQPS","PRPS","PUPS","DAPG","DBPG","DFPG","DGPG","DIPG","DLPG","DNPG","DOPG","DPPG","DRPG","DTPG","DVPG","DXPG","DYPG","LPPG","PAPG","PGPG","PIPG","POPG","PRPG","DAPA","DBPA","DFPA","DGPA","DIPA","DLPA","DNPA","DOPA","DPPA","DRPA","DTPA","DVPA","DXPA","DYPA","LPPA","PAPA","PGPA","PIPA","POPA","PRPA","PUPA","DPP","DPPI","PAPI","PIPI","POP","POPI","PUPI","PVP","PVPI","PADG","PIDG","PODG","PUDG","PVDG","APC","CPC","IPC","LPC","OPC","PPC","TPC","UPC","VPC","BNSM","DBSM","DPSM","DXSM","PGSM","PNSM","POSM","PVSM","XNSM","DPCE","DXCE","PNCE","XNCE","DMPC"]),_o=new Set(["118","119","543","1AL","1CU","2FK","2HP","2OF","3CO","3MT","3NI","3OF","3P8","4MO","4PU","4TI","6MO","ACT","AG","AL","ALF","AM","ATH","AU","AU3","AUC","AZI","BA","BCT","BEF","BF4","BO4","BR","BS3","BSY","CA","CAC","CD","CD1","CD3","CD5","CE","CF","CHT","CL","CO","CO3","CO5","CON","CR","CS","CSB","CU","CU1","CU3","CUA","CUZ","CYN","DME","DMI","DSC","DTI","DY","E4N","EDR","EMC","ER3","EU","EU3","F","FE","FE2","FPO","GA","GD3","GEP","HAI","HG","HGC","IN","IOD","IR","IR3","IRI","IUM","K","KO4","LA","LCO","LCP","LI","LU","MAC","MG","MH2","MH3","MLI","MMC","MN","MN3","MN5","MN6","MO1","MO2","MO3","MO4","MO5","MO6","MOO","MOS","MOW","MW1","MW2","MW3","NA","NA2","NA5","NA6","NAO","NAW","ND","NET","NH4","NI","NI1","NI2","NI3","NO2","NO3","NRU","NT3","O4M","OAA","OC1","OC2","OC3","OC4","OC5","OC6","OC7","OC8","OCL","OCM","OCN","OCO","OF1","OF2","OF3","OH","OS","OS4","OXL","PB","PBM","PD","PDV","PER","PI","PO3","PO4","PR","PT","PT4","PTN","RB","RH3","RHD","RHF","RU","SB","SCN","SE4","SEK","SM","SMO","SO3","SO4","SR","T1A","TB","TBA","TCN","TEA","TH","THE","TL","TMA","TRA","UNX","V","VN3","VO4","W","WO5","Y1","YB","YB2","YH","YT3","ZCM","ZN","ZN2","ZN3","ZNO","ZO3","ZR","NCO","OHX"]),bo=function(){for(var t=Object.create(null),e=[],n="A".charCodeAt(0);n<="Z".charCodeAt(0);n++)e[e.length]=String.fromCharCode(n);for(n="a".charCodeAt(0);n<="z".charCodeAt(0);n++)e[e.length]=String.fromCharCode(n);for(n="0".charCodeAt(0);n<="9".charCodeAt(0);n++)e[e.length]=String.fromCharCode(n);for(var r=0,i=e;r<i.length;r++){var o=i[r];t[o]=o.toUpperCase();for(var a=0,u=e;a<u.length;a++){var s=u[a];t[o+s]=(o+s).toUpperCase();for(var c=0,l=e;c<l.length;c++){var d=l[c];t[o+s+d]=(o+s+d).toUpperCase()}}}return t}();function xo(t){return bo[t]||t.toUpperCase()}var Ao;new Map([[1,"H"],[2,"He"],[3,"Li"],[4,"Be"],[5,"B"],[6,"C"],[7,"N"],[8,"O"],[9,"F"],[10,"Ne"],[11,"Na"],[12,"Mg"],[13,"Al"],[14,"Si"],[15,"P"],[16,"S"],[17,"Cl"],[18,"Ar"],[19,"K"],[20,"Ca"],[21,"Sc"],[22,"Ti"],[23,"V"],[24,"Cr"],[25,"Mn"],[26,"Fe"],[27,"Co"],[28,"Ni"],[29,"Cu"],[30,"Zn"],[31,"Ga"],[32,"Ge"],[33,"As"],[34,"Se"],[35,"Br"],[36,"Kr"],[37,"Rb"],[38,"Sr"],[39,"Y"],[40,"Zr"],[41,"Nb"],[42,"Mo"],[43,"Tc"],[44,"Ru"],[45,"Rh"],[46,"Pd"],[47,"Ag"],[48,"Cd"],[49,"In"],[50,"Sn"],[51,"Sb"],[52,"Te"],[53,"I"],[54,"Xe"],[55,"Cs"],[56,"Ba"],[57,"La"],[58,"Ce"],[59,"Pr"],[60,"Nd"],[61,"Pm"],[62,"Sm"],[63,"Eu"],[64,"Gd"],[65,"Tb"],[66,"Dy"],[67,"Ho"],[68,"Er"],[69,"Tm"],[70,"Yb"],[71,"Lu"],[72,"Hf"],[73,"Ta"],[74,"W"],[75,"Re"],[76,"Os"],[77,"Ir"],[78,"Pt"],[79,"Au"],[80,"Hg"],[81,"Tl"],[82,"Pb"],[83,"Bi"],[84,"Po"],[85,"At"],[86,"Rn"],[87,"Fr"],[88,"Ra"],[89,"Ac"],[90,"Th"],[91,"Pa"],[92,"U"],[93,"Np"],[94,"Pu"],[95,"Am"],[96,"Cm"],[97,"Bk"],[98,"Cf"],[99,"Es"],[100,"Fm"],[101,"Md"],[102,"No"],[103,"Lr"],[104,"Rf"],[105,"Db"],[106,"Sg"],[107,"Bh"],[108,"Hs"],[109,"Mt"],[110,"Ds"],[111,"Rg"],[112,"Cn"],[113,"Uut"],[114,"Fl"],[115,"Uup"],[116,"Lv"],[117,"Uus"],[118,"Uuo"]].map((function(t){return[t[0],xo(t[1])]})));!function(t){t[t.unknown=0]="unknown",t[t.polymer=1]="polymer",t[t["non-polymer"]=2]="non-polymer",t[t.macrolide=3]="macrolide",t[t.water=4]="water",t[t.branched=5]="branched"}(Ao||(Ao={}));var wo,So,Co=((vo={})[0]={trace:new Set,directionFrom:new Set,directionTo:new Set,backboneStart:new Set,backboneEnd:new Set,coarseBackbone:new Set},vo[1]={trace:new Set(["CA"]),directionFrom:new Set(["C"]),directionTo:new Set(["O","OC1","O1","OX1","OXT","OT1"]),backboneStart:new Set(["N"]),backboneEnd:new Set(["C"]),coarseBackbone:new Set(["CA","BB","CA1"])},vo[2]={trace:new Set(["CA"]),directionFrom:new Set(["C"]),directionTo:new Set(["O"]),backboneStart:new Set(["N"]),backboneEnd:new Set(["CD"]),coarseBackbone:new Set(["CA"])},vo[3]={trace:new Set(["CA"]),directionFrom:new Set(["C"]),directionTo:new Set(["O"]),backboneStart:new Set(["N"]),backboneEnd:new Set(["CG"]),coarseBackbone:new Set(["CA"])},vo[4]={trace:new Set(["O3'","O3*"]),directionFrom:new Set(["C4'","C4*"]),directionTo:new Set(["C3'","C3*"]),backboneStart:new Set(["P"]),backboneEnd:new Set(["O3'","O3*"]),coarseBackbone:new Set(["P"])},vo[5]={trace:new Set(["O3'","O3*"]),directionFrom:new Set(["C3'","C3*"]),directionTo:new Set(["C1'","C1*"]),backboneStart:new Set(["P"]),backboneEnd:new Set(["O3'","O3*"]),coarseBackbone:new Set(["P"])},vo[6]={trace:new Set(["N4'","N4*"]),directionFrom:new Set(["N4'","N4*"]),directionTo:new Set(["C7'","C7*"]),backboneStart:new Set(["N1'","N1*"]),backboneEnd:new Set(["C'","C*"]),coarseBackbone:new Set(["P"])},vo),Bo=(new Set(["CA","C","N","O","O1","O2","OC1","OC2","OT1","OT2","OX1","OXT","H","H1","H2","H3","HA","HN","HXT","BB"]),new Set(["P","OP1","OP2","HOP2","HOP3","O2'","O3'","O4'","O5'","C1'","C2'","C3'","C4'","C5'","H1'","H2'","H2''","HO2'","H3'","H4'","H5'","H5''","HO3'","HO5'","O2*","O3*","O4*","O5*","C1*","C2*","C3*","C4*","C5*"]),new Set(["d-peptide linking","d-peptide nh3 amino terminus","d-peptide cooh carboxy terminus","d-gamma-peptide, c-delta linking","d-beta-peptide, c-gamma linking"])),Io=new Set(["l-peptide linking","l-peptide nh3 amino terminus","l-peptide cooh carboxy terminus","l-gamma-peptide, c-delta linking","l-beta-peptide, c-gamma linking"]),Po=new Set(["d-gamma-peptide, c-delta linking","l-gamma-peptide, c-delta linking"]),Eo=new Set(["d-beta-peptide, c-gamma linking","l-beta-peptide, c-gamma linking"]),Mo=new Set(["d-peptide nh3 amino terminus","d-peptide cooh carboxy terminus","l-peptide nh3 amino terminus","l-peptide cooh carboxy terminus"]),ko=new Set(["peptide linking","peptide-like"]),Do=mo.unionMany(Bo,Io,ko),Oo=new Set(["dna linking","l-dna linking","dna oh 5 prime terminus","dna oh 3 prime terminus"]),No=new Set(["rna linking","l-rna linking","rna oh 5 prime terminus","rna oh 3 prime terminus"]),To=mo.unionMany(new Set(["d-saccharide, beta linking","l-saccharide, beta linking","d-saccharide, alpha linking","l-saccharide, alpha linking","l-saccharide","d-saccharide","saccharide"]),new Set(["d-saccharide 1,4 and 1,4 linking","l-saccharide 1,4 and 1,4 linking","d-saccharide 1,4 and 1,6 linking","l-saccharide 1,4 and 1,6 linking"])),Uo=new Set(["non-polymer","other"]),Ro=new Set(["ion"]),Lo=new Set(["lipid"]),Go=new Set(["SOL","WAT","HOH","H2O","W","DOD","D3O","TIP","TIP3","TIP4","SPC"]),qo=new Set(["HIS","ARG","LYS","ILE","PHE","LEU","TRP","ALA","MET","PRO","CYS","ASN","VAL","GLY","SER","GLN","TYR","ASP","GLU","THR","SEC","PYL","UNK","MSE","SEP","TPO","PTR","PCA","HYP","HSD","HSE","HSP","LSN","ASPP","GLUP","HID","HIE","HIP","LYN","ASH","GLH"]),Fo=new Set(["DAL","DAR","DSG","DAS","DCY","DGL","DGN","DHI","DIL","DLE","DLY","MED","DPN","DPR","DSN","DTH","DTR","DTY","DVA","DNE"]),jo=mo.unionMany(qo,Fo),Ho=(new Set(["NME","ACE","NH2","FOR","FMT"]),new Set(["A","C","T","G","I","U","N"])),Vo=new Set(["DA","DC","DT","DG","DI","DU","DN"]),zo=new Set(["APN","CPN","TPN","GPN"]),Yo=(new Set(["A","G","I","DA","DG","DI","APN","GPN"]),new Set(["C","T","U","DC","DT","DU","CPN","TPN"]),mo.unionMany(Ho,Vo,zo)),Ko=mo.unionMany(jo,Yo);function Zo(t,e){return e=e.toUpperCase(),zo.has(e)?8:Do.has(t)?5:No.has(t)?6:Oo.has(t)?7:To.has(t)?9:Go.has(e)?2:_o.has(e)?3:yo.has(e)?4:Uo.has(t)?go.has(e)?9:jo.has(e)?5:Ho.has(e)?6:Vo.has(e)?7:1:0}function Wo(t,e){return 5===e?Po.has(t)?2:Eo.has(t)?3:Mo.has(t)?0:1:6===e?4:7===e?5:8===e?6:0}function Xo(t){return t=t.toUpperCase(),jo.has(t)?"peptide linking":Ho.has(t)?"rna linking":Vo.has(t)?"dna linking":go.has(t)?"saccharide":"other"}function Qo(t){return t=t.toUpperCase(),Go.has(t)?"water":Ko.has(t)?"polymer":go.has(t)?"branched":"non-polymer"}function Jo(t,e){return t=t.toUpperCase(),Io.has(e)?"polypeptide(L)":Bo.has(e)?"polypeptide(D)":No.has(e)?"polyribonucleotide":Oo.has(e)?"polydeoxyribonucleotide":To.has(e)||go.has(t)?"oligosaccharide":zo.has(t)?"peptide nucleic acid":qo.has(t)?"polypeptide(L)":Fo.has(t)?"polypeptide(D)":Ho.has(t)?"polyribonucleotide":Vo.has(t)?"polydeoxyribonucleotide":Ro.has(e)||_o.has(t)?"ion":Lo.has(e)||yo.has(t)?"lipid":ko.has(e)?"peptide-like":"other"}function $o(t){return ta(t)||ea(t)}function ta(t){return 7===t||6===t||8===t}function ea(t){return 5===t}(So=wo||(wo={})).is=Mt.has,So.create=Mt.create,So.SecondaryStructureMmcif={helx_lh_27_p:1058,helx_lh_3t_p:2082,helx_lh_al_p:4130,helx_lh_a_n:524321,helx_lh_b_n:1048609,helx_lh_ga_p:8226,helx_lh_n:33,helx_lh_om_p:16418,helx_lh_ot_n:131105,helx_lh_ot_p:546,helx_lh_p:34,helx_lh_pi_p:32802,helx_lh_pp_p:65570,helx_lh_z_n:262177,helx_n:1,helx_ot_n:1,helx_ot_p:2,helx_p:2,helx_rh_27_p:1090,helx_rh_3t_p:2114,helx_rh_al_p:4162,helx_rh_a_n:524353,helx_rh_b_n:1048641,helx_rh_ga_p:8258,helx_rh_n:65,helx_rh_om_p:16450,helx_rh_ot_n:131137,helx_rh_ot_p:578,helx_rh_p:66,helx_rh_pi_p:32834,helx_rh_pp_p:65602,helx_rh_z_n:262209,strn:4194308,turn_ot_p:33554448,turn_p:16,turn_ty1p_p:67109136,turn_ty1_p:67109008,turn_ty2p_p:134218e3,turn_ty2_p:134217872,turn_ty3p_p:268435728,turn_ty3_p:268435600,bend:8,other:0},So.SecondaryStructurePdb={1:4162,2:16450,3:32834,4:8258,5:2114,6:4130,7:16418,8:8226,9:1026,10:65538},So.SecondaryStructureStride={H:4098,G:2050,I:32770,E:8388612,B:4194308,T:16,C:536870912},So.SecondaryStructureDssp={H:4098,B:4194308,E:8388612,G:2050,I:32770,T:16,S:8};var na;!function(t){function e(t){switch(t){case"covalent":return 1;case"metal-coordination":return 2;case"hydrogen-bond":return 4;case"disulfide":return 8;case"aromatic":return 16;case"computed":return 32}}t.is=Mt.has,t.create=function(t){return Mt.create(t)},t.isCovalent=function(t){return 0!=(1&t)},t.isAll=function(t){return t===Math.pow(2,6)-1},t.Names={covalent:1,"metal-coordination":2,"hydrogen-bond":4,disulfide:8,aromatic:16,computed:32},t.isName=function(e){return e in t.Names},t.fromName=e,t.fromNames=function(t){for(var n=0,r=0,i=t.length;r<i;++r)n|=e(t[r]);return n}}(na||(na={}));var ra,ia,oa,aa,ua=A.add,sa=A.squaredDistance,ca=A.distance,la=function(){function t(){this.count=0,this.center=A(),this.radiusSq=0}return t.prototype.reset=function(){A.set(this.center,0,0,0),this.radiusSq=0,this.count=0},t.prototype.includeStep=function(t){ua(this.center,this.center,t),this.count++},t.prototype.finishedIncludeStep=function(){0!==this.count&&A.scale(this.center,this.center,1/this.count)},t.prototype.radiusStep=function(t){var e=sa(t,this.center);e>this.radiusSq&&(this.radiusSq=e)},t.prototype.radiusSphereStep=function(t,e){var n=ca(t,this.center)+e,r=n*n;r>this.radiusSq&&(this.radiusSq=r)},t.prototype.getSphere=function(t){return t||(t=ur()),A.copy(t.center,this.center),t.radius=Math.sqrt(this.radiusSq),t},t.prototype.getCount=function(){return this.count},t}();ra=la||(la={}),ia=new ra,oa=A(),aa=A(),ra.fromArrays=function(t,e){var n=t.x,r=t.y,i=t.z;ia.reset();for(var o=n.length,a=0;a<o;a++)A.set(oa,n[a],r[a],i[a]),ia.includeStep(oa);for(ia.finishedIncludeStep(),a=0;a<o;a++)A.set(oa,n[a],r[a],i[a]),ia.radiusStep(oa);return A.copy(e.center,ia.center),e.radius=Math.sqrt(ia.radiusSq),e},ra.fromProvider=function(t,e,n){ia.reset();for(var r=0;r<t;r++)e(r,oa),ia.includeStep(oa);for(ia.finishedIncludeStep(),r=0;r<t;r++)e(r,oa),ia.radiusStep(oa);return A.copy(n.center,ia.center),n.radius=Math.sqrt(ia.radiusSq),n},ra.fromPairProvider=function(t,e,n){ia.reset();for(var r=0;r<t;r++)e(r,oa,aa),ia.includeStep(oa),ia.includeStep(aa);for(ia.finishedIncludeStep(),r=0;r<t;r++)e(r,oa,aa),ia.radiusStep(oa),ia.radiusStep(aa);return A.copy(n.center,ia.center),n.radius=Math.sqrt(ia.radiusSq),n};var da=function(){function t(e){this.map=e;var n=0,r=[],i=new Map,o=new Map;this.map.forEach((function(e){e.forEach((function(e){n+=e.edgeCount,e.connectedIndices.forEach((function(n){e.getEdges(n).forEach((function(a){var u=e.unitA,s=e.unitB,c=t.getEdgeKey(n,u,a.indexB,s);i.set(c,r.length);var l=t.getVertexKey(n,u),d=o.get(l);void 0===d?o.set(l,[r.length]):d.push(r.length),r.push(Object(T.a)(Object(T.a)({},a),{indexA:n,unitA:u,unitB:s}))}))}))}))})),this.edgeCount=n,this.edges=r,this.edgeKeyIndex=i,this.vertexKeyIndex=o}return t.prototype.getConnectedUnits=function(t){return this.map.has(t)?this.map.get(t):pa},t.prototype.getEdgeIndex=function(e,n,r,i){var o=t.getEdgeKey(e,n,r,i),a=this.edgeKeyIndex.get(o);return void 0!==a?a:-1},t.prototype.hasEdge=function(t,e,n,r){return-1!==this.getEdgeIndex(t,e,n,r)},t.prototype.getEdge=function(t,e,n,r){var i=this.getEdgeIndex(t,e,n,r);return-1!==i?this.edges[i]:void 0},t.prototype.getEdgeIndices=function(e,n){return this.vertexKeyIndex.get(t.getVertexKey(e,n))||[]},t}();!function(t){var e=function(){function t(t,e,n,r,i){this.unitA=t,this.unitB=e,this.edgeCount=n,this.connectedIndices=r,this.edgeMap=i}return t.prototype.hasEdges=function(t){return this.edgeMap.has(t)},t.prototype.getEdges=function(t){return this.edgeMap.has(t)?this.edgeMap.get(t):pa},Object.defineProperty(t.prototype,"areUnitsOrdered",{get:function(){return this.unitA<this.unitB},enumerable:!1,configurable:!0}),t}();function n(t,e,n){t.has(e)?t.get(e).push(n):t.set(e,[n])}t.UnitPairEdges=e,t.getEdgeKey=function(t,e,n,r){return"".concat(t,"|").concat(e,"|").concat(n,"|").concat(r)},t.getVertexKey=function(t,e){return"".concat(t,"|").concat(e)};var r=function(){function t(){this.map=new Map}return t.prototype.startUnitPair=function(t,e){this.uA=t,this.uB=e,this.mapAB=new Map,this.mapBA=new Map,this.linkedA=gi.create(),this.linkedB=gi.create(),this.linkCount=0},t.prototype.finishUnitPair=function(){0!==this.linkCount&&(n(this.map,this.uA,new e(this.uA,this.uB,this.linkCount,this.linkedA.array,this.mapAB)),n(this.map,this.uB,new e(this.uB,this.uA,this.linkCount,this.linkedB.array,this.mapBA)))},t.prototype.add=function(t,e,r){n(this.mapAB,t,{indexB:e,props:r}),n(this.mapBA,e,{indexB:t,props:r}),gi.add(this.linkedA,t,t),gi.add(this.linkedB,e,e),this.linkCount+=1},t.prototype.getMap=function(){return this.map},t}();t.Builder=r}(da||(da={}));var fa,pa=[];(fa||(fa={})).Empty=Yr.create([],[],[],0,{flags:[],order:[],key:[]});var ma,ha,ga=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(T.c)(e,t),e.prototype.getBondFromLocation=function(t){return Ns.isAtomic(t.aUnit)&&Ns.isAtomic(t.bUnit)?this.getEdge(t.aIndex,t.aUnit.id,t.bIndex,t.bUnit.id):void 0},e.prototype.getBondIndexFromLocation=function(t){return Ns.isAtomic(t.aUnit)&&Ns.isAtomic(t.bUnit)?this.getEdgeIndex(t.aIndex,t.aUnit.id,t.bIndex,t.bUnit.id):-1},e}(da);ma=ga||(ga={}),ha=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(T.c)(e,t),e}(da.UnitPairEdges),ma.UnitPairBonds=ha;var va={forceCompute:!1,noCompute:!1,maxRadius:4},ya={H:0,h:0,D:0,d:0,T:0,t:0,He:2,HE:2,he:2,Li:3,LI:3,li:3,Be:4,BE:4,be:4,B:5,b:5,C:6,c:6,N:7,n:7,O:8,o:8,F:9,f:9,Ne:10,NE:10,ne:10,Na:11,NA:11,na:11,Mg:12,MG:12,mg:12,Al:13,AL:13,al:13,Si:14,SI:14,si:14,P:15,p:15,S:16,s:16,Cl:17,CL:17,cl:17,Ar:18,AR:18,ar:18,K:19,k:19,Ca:20,CA:20,ca:20,Sc:21,SC:21,sc:21,Ti:22,TI:22,ti:22,V:23,v:23,Cr:24,CR:24,cr:24,Mn:25,MN:25,mn:25,Fe:26,FE:26,fe:26,Co:27,CO:27,co:27,Ni:28,NI:28,ni:28,Cu:29,CU:29,cu:29,Zn:30,ZN:30,zn:30,Ga:31,GA:31,ga:31,Ge:32,GE:32,ge:32,As:33,AS:33,as:33,Se:34,SE:34,se:34,Br:35,BR:35,br:35,Kr:36,KR:36,kr:36,Rb:37,RB:37,rb:37,Sr:38,SR:38,sr:38,Y:39,y:39,Zr:40,ZR:40,zr:40,Nb:41,NB:41,nb:41,Mo:42,MO:42,mo:42,Tc:43,TC:43,tc:43,Ru:44,RU:44,ru:44,Rh:45,RH:45,rh:45,Pd:46,PD:46,pd:46,Ag:47,AG:47,ag:47,Cd:48,CD:48,cd:48,In:49,IN:49,in:49,Sn:50,SN:50,sn:50,Sb:51,SB:51,sb:51,Te:52,TE:52,te:52,I:53,i:53,Xe:54,XE:54,xe:54,Cs:55,CS:55,cs:55,Ba:56,BA:56,ba:56,La:57,LA:57,la:57,Ce:58,CE:58,ce:58,Pr:59,PR:59,pr:59,Nd:60,ND:60,nd:60,Pm:61,PM:61,pm:61,Sm:62,SM:62,sm:62,Eu:63,EU:63,eu:63,Gd:64,GD:64,gd:64,Tb:65,TB:65,tb:65,Dy:66,DY:66,dy:66,Ho:67,HO:67,ho:67,Er:68,ER:68,er:68,Tm:69,TM:69,tm:69,Yb:70,YB:70,yb:70,Lu:71,LU:71,lu:71,Hf:72,HF:72,hf:72,Ta:73,TA:73,ta:73,W:74,w:74,Re:75,RE:75,re:75,Os:76,OS:76,os:76,Ir:77,IR:77,ir:77,Pt:78,PT:78,pt:78,Au:79,AU:79,au:79,Hg:80,HG:80,hg:80,Tl:81,TL:81,tl:81,Pb:82,PB:82,pb:82,Bi:83,BI:83,bi:83,Po:84,PO:84,po:84,At:85,AT:85,at:85,Rn:86,RN:86,rn:86,Fr:87,FR:87,fr:87,Ra:88,RA:88,ra:88,Ac:89,AC:89,ac:89,Th:90,TH:90,th:90,Pa:91,PA:91,pa:91,U:92,u:92,Np:93,NP:93,np:93,Pu:94,PU:94,pu:94,Am:95,AM:95,am:95,Cm:96,CM:96,cm:96,Bk:97,BK:97,bk:97,Cf:98,CF:98,cf:98,Es:99,ES:99,es:99,Fm:100,FM:100,fm:100,Md:101,MD:101,md:101,No:102,NO:102,no:102,Lr:103,LR:103,lr:103,Rf:104,RF:104,rf:104,Db:105,DB:105,db:105,Sg:106,SG:106,sg:106,Bh:107,BH:107,bh:107,Hs:108,HS:108,hs:108,Mt:109,MT:109,mt:109},_a={0:1.42,1:1.42,3:2.7,4:2.7,6:1.75,7:1.6,8:1.52,11:2.7,12:2.7,13:2.7,14:1.9,15:2,16:1.9,17:1.8,19:2.7,20:2.7,21:2.7,22:2.7,23:2.7,24:2.7,25:2.7,26:2.7,27:2.7,28:2.7,29:2.7,30:2.7,31:2.7,33:2.68,37:2.7,38:2.7,39:2.7,40:2.7,41:2.7,42:2.7,43:2.7,44:2.7,45:2.7,46:2.7,47:2.7,48:2.7,49:2.7,50:2.7,55:2.7,56:2.7,57:2.7,58:2.7,59:2.7,60:2.7,61:2.7,62:2.7,63:2.7,64:2.7,65:2.7,66:2.7,67:2.7,68:2.7,69:2.7,70:2.7,71:2.7,72:2.7,73:2.7,74:2.7,75:2.7,76:2.7,77:2.7,78:2.7,79:2.7,80:2.7,81:2.7,82:2.7,83:2.7,87:2.7,88:2.7,89:2.7,90:2.7,91:2.7,92:2.7,93:2.7,94:2.7,95:2.7,96:2.7,97:2.7,98:2.7,99:2.7,100:2.7,101:2.7,102:2.7,103:2.7,104:2.7,105:2.7,106:2.7,107:2.7,108:2.7,109:2.88},ba={0:.8,20:1.31,27:1.2,35:1.15,44:1.1,54:1,60:1.84,72:1.88,84:1.75,85:1.56,86:1.76,98:1.6,99:1.68,100:1.63,112:1.6,113:1.59,114:1.36,129:1.45,135:1.47,144:1.6,152:1.45,170:1.4,180:1.55,202:2.4,222:2.24,224:1.91,225:1.98,243:2.02,269:2,293:1.9,316:1.8,420:2.37,480:2.3,512:2.3,544:2.3,612:2.1,629:1.54,665:1,813:2.6,854:2.27,894:1.93,896:2.1,937:2.05,938:2.06,981:1.62,1258:2.68,1309:2.33,1484:1,1763:2.14,1823:2.48,1882:2.1,1944:1.72,2380:2.34,3367:2.44,3733:2.11,3819:2.6,3821:2.36,4736:2.75,5724:2.73,5959:2.63,6519:2.84,6750:2.87,8991:2.81},xa=function(){for(var t=new Set,e=0,n=["LI","NA","K","RB","CS","FR","BE","MG","CA","SR","BA","RA","AL","GA","IN","SN","TL","PB","BI","SC","TI","V","CR","MN","FE","CO","NI","CU","ZN","Y","ZR","NB","MO","TC","RU","RH","PD","AG","CD","LA","HF","TA","W","RE","OS","IR","PT","AU","HG","AC","RF","DB","SG","BH","HS","MT","CE","PR","ND","PM","SM","EU","GD","TB","DY","HO","ER","TM","YB","LU","TH","PA","U","NP","PU","AM","CM","BK","CF","ES","FM","MD","NO","LR"];e<n.length;e++){var r=n[e];t.add(ya[r])}return t}();function Aa(t){var e=ya[t];return void 0===e?-1:e}function wa(t){if(t<0)return 2.001;var e=_a[t];return void 0===e?2.001:e}function Sa(t,e,n,r){var i=function(t,e){if(t<0||e<0)return-1;var n,r,i=ba[(n=t,r=e,n<r?(n+r)*(n+r+1)/2+r:(n+r)*(n+r+1)/2+n)];return void 0===i?-1:i}(t,e);return i>0?i:e<0?n:(n+r)/1.95}var Ca=ya.H;function Ba(t){return t===Ca}var Ia=new Map([["HIS|CD2|CG",2],["HIS|CE1|ND1",2],["ARG|CZ|NH2",2],["PHE|CE1|CZ",2],["PHE|CD2|CE2",2],["PHE|CD1|CG",2],["TRP|CD1|CG",2],["TRP|CD2|CE2",2],["TRP|CE3|CZ3",2],["TRP|CH2|CZ2",2],["ASN|CG|OD1",2],["GLN|CD|OE1",2],["TYR|CD1|CG",2],["TYR|CD2|CE2",2],["TYR|CE1|CZ",2],["ASP|CG|OD1",2],["GLU|CD|OE1",2],["G|C8|N7",2],["G|C4|C5",2],["G|C2|N3",2],["G|C6|O6",2],["C|C4|N3",2],["C|C5|C6",2],["C|C2|O2",2],["A|C2|N3",2],["A|C6|N1",2],["A|C4|C5",2],["A|C8|N7",2],["U|C5|C6",2],["U|C2|O2",2],["U|C4|O4",2],["DG|C8|N7",2],["DG|C4|C5",2],["DG|C2|N3",2],["DG|C6|O6",2],["DC|C4|N3",2],["DC|C5|C6",2],["DC|C2|O2",2],["DA|C2|N3",2],["DA|C6|N1",2],["DA|C4|C5",2],["DA|C8|N7",2],["DT|C5|C6",2],["DT|C2|O2",2],["DT|C4|O4",2]]);function Pa(t,e,n){var r;return e=(r=e<n?[e,n]:[n,e])[0],n=r[1],jo.has(t)&&"C"===e&&"O"===n||Yo.has(t)&&"OP1"===e&&"P"===n?2:Ia.get("".concat(t,"|").concat(e,"|").concat(n))||1}var Ea=new Map([["LYS|NZ|RET|C15",2]]);function Ma(t,e,n,r){var i,o;return t>n&&(t=(i=[n,t])[0],n=i[1],e=(o=[r,e])[0],r=o[1]),Ea.get("".concat(t,"|").concat(e,"|").concat(n,"|").concat(r))||1}var ka,Da=Et.Schema,Oa=Da.str,Na=Da.int,Ta=Da.float,Ua=Da.coord,Ra=Da.Aliased,La=Da.Matrix,Ga=Da.Vector,qa=Da.lstr,Fa=Da.List,ja={atom_site:{auth_asym_id:Oa,auth_atom_id:Oa,auth_comp_id:Oa,auth_seq_id:Na,B_iso_or_equiv:Ta,Cartn_x:Ua,Cartn_y:Ua,Cartn_z:Ua,group_PDB:Ra(Oa),id:Na,label_alt_id:Oa,label_asym_id:Oa,label_atom_id:Oa,label_comp_id:Oa,label_entity_id:Oa,label_seq_id:Na,occupancy:Ta,type_symbol:Oa,pdbx_PDB_ins_code:Oa,pdbx_PDB_model_num:Na,pdbx_formal_charge:Na,pdbx_label_index:Na,pdbx_sifts_xref_db_name:Oa,pdbx_sifts_xref_db_acc:Oa,pdbx_sifts_xref_db_num:Oa,pdbx_sifts_xref_db_res:Oa,ihm_model_id:Na},atom_site_anisotrop:{id:Na,type_symbol:Oa,U:La(3,3),U_esd:La(3,3),pdbx_auth_seq_id:Oa,pdbx_auth_asym_id:Oa,pdbx_auth_atom_id:Oa,pdbx_auth_comp_id:Oa,pdbx_label_seq_id:Na,pdbx_label_alt_id:Oa,pdbx_label_asym_id:Oa,pdbx_label_atom_id:Oa,pdbx_label_comp_id:Oa,pdbx_PDB_ins_code:Oa},atom_sites:{entry_id:Oa,fract_transf_matrix:La(3,3),fract_transf_vector:Ga(3)},audit_author:{name:Oa,pdbx_ordinal:Na,identifier_ORCID:Oa},audit_conform:{dict_location:Oa,dict_name:Oa,dict_version:Oa},cell:{angle_alpha:Ta,angle_beta:Ta,angle_gamma:Ta,entry_id:Oa,length_a:Ta,length_b:Ta,length_c:Ta,Z_PDB:Na,pdbx_unique_axis:Oa},chem_comp:{formula:Oa,formula_weight:Ta,id:Oa,mon_nstd_flag:Ra(qa),name:Oa,type:Ra(qa),pdbx_synonyms:Fa(";",(function(t){return t}))},chem_comp_bond:{atom_id_1:Oa,atom_id_2:Oa,comp_id:Oa,value_order:Ra(qa),pdbx_ordinal:Na,pdbx_stereo_config:Ra(qa),pdbx_aromatic_flag:Ra(qa)},citation:{book_publisher:Oa,country:Oa,id:Oa,journal_abbrev:Oa,journal_id_ASTM:Oa,journal_id_CSD:Oa,journal_id_ISSN:Oa,journal_volume:Oa,page_first:Oa,page_last:Oa,title:Oa,year:Na,pdbx_database_id_DOI:Oa,pdbx_database_id_PubMed:Na},citation_author:{citation_id:Oa,name:Oa,ordinal:Na},database_2:{database_id:Ra(qa),database_code:Oa},entity:{details:Oa,formula_weight:Ta,id:Oa,src_method:Ra(qa),type:Ra(qa),pdbx_description:Fa(",",(function(t){return t})),pdbx_number_of_molecules:Na,pdbx_mutation:Oa,pdbx_fragment:Oa,pdbx_ec:Fa(",",(function(t){return t}))},entity_poly:{entity_id:Oa,nstd_linkage:Ra(qa),nstd_monomer:Ra(qa),type:Ra(Oa),pdbx_strand_id:Fa(",",(function(t){return t})),pdbx_seq_one_letter_code:Oa,pdbx_seq_one_letter_code_can:Oa,pdbx_target_identifier:Oa},entity_poly_seq:{entity_id:Oa,hetero:Ra(qa),mon_id:Oa,num:Na},entry:{id:Oa},exptl:{entry_id:Oa,method:Ra(Oa)},software:{classification:Oa,date:Oa,description:Oa,name:Oa,type:Ra(qa),version:Oa,pdbx_ordinal:Na},struct:{entry_id:Oa,title:Oa,pdbx_descriptor:Oa},struct_asym:{details:Oa,entity_id:Oa,id:Oa,pdbx_modified:Oa,pdbx_blank_PDB_chainid_flag:Ra(Oa)},struct_conf:{beg_label_asym_id:Oa,beg_label_comp_id:Oa,beg_label_seq_id:Na,beg_auth_asym_id:Oa,beg_auth_comp_id:Oa,beg_auth_seq_id:Na,conf_type_id:Ra(qa),details:Oa,end_label_asym_id:Oa,end_label_comp_id:Oa,end_label_seq_id:Na,end_auth_asym_id:Oa,end_auth_comp_id:Oa,end_auth_seq_id:Na,id:Oa,pdbx_beg_PDB_ins_code:Oa,pdbx_end_PDB_ins_code:Oa,pdbx_PDB_helix_class:Oa,pdbx_PDB_helix_length:Na,pdbx_PDB_helix_id:Oa},struct_conn:{conn_type_id:Ra(qa),details:Oa,id:Oa,ptnr1_label_asym_id:Oa,ptnr1_label_atom_id:Oa,ptnr1_label_comp_id:Oa,ptnr1_label_seq_id:Na,ptnr1_auth_asym_id:Oa,ptnr1_auth_comp_id:Oa,ptnr1_auth_seq_id:Na,ptnr1_symmetry:Oa,ptnr2_label_asym_id:Oa,ptnr2_label_atom_id:Oa,ptnr2_label_comp_id:Oa,ptnr2_label_seq_id:Na,ptnr2_auth_asym_id:Oa,ptnr2_auth_comp_id:Oa,ptnr2_auth_seq_id:Na,ptnr2_symmetry:Oa,pdbx_ptnr1_PDB_ins_code:Oa,pdbx_ptnr1_label_alt_id:Oa,pdbx_ptnr1_standard_comp_id:Oa,pdbx_ptnr2_PDB_ins_code:Oa,pdbx_ptnr2_label_alt_id:Oa,pdbx_ptnr3_PDB_ins_code:Oa,pdbx_ptnr3_label_alt_id:Oa,pdbx_ptnr3_label_asym_id:Oa,pdbx_ptnr3_label_atom_id:Oa,pdbx_ptnr3_label_comp_id:Oa,pdbx_ptnr3_label_seq_id:Na,pdbx_PDB_id:Oa,pdbx_dist_value:Ta,pdbx_value_order:Ra(qa)},struct_conn_type:{criteria:Oa,id:Ra(qa),reference:Oa},struct_keywords:{entry_id:Oa,text:Fa(",",(function(t){return t})),pdbx_keywords:Oa},struct_ncs_oper:{code:Ra(Oa),details:Oa,id:Na,matrix:La(3,3),vector:Ga(3)},struct_sheet_range:{beg_label_asym_id:Oa,beg_label_comp_id:Oa,beg_label_seq_id:Na,end_label_asym_id:Oa,end_label_comp_id:Oa,end_label_seq_id:Na,beg_auth_asym_id:Oa,beg_auth_comp_id:Oa,beg_auth_seq_id:Na,end_auth_asym_id:Oa,end_auth_comp_id:Oa,end_auth_seq_id:Na,id:Oa,sheet_id:Oa,pdbx_beg_PDB_ins_code:Oa,pdbx_end_PDB_ins_code:Oa},struct_site:{details:Oa,id:Oa,pdbx_num_residues:Na,pdbx_evidence_code:Oa,pdbx_auth_asym_id:Oa,pdbx_auth_comp_id:Oa,pdbx_auth_seq_id:Oa,pdbx_auth_ins_code:Oa},struct_site_gen:{details:Oa,id:Oa,label_alt_id:Oa,label_asym_id:Oa,label_atom_id:Oa,label_comp_id:Oa,label_seq_id:Na,auth_asym_id:Oa,auth_comp_id:Oa,auth_seq_id:Oa,site_id:Oa,symmetry:Oa,pdbx_auth_ins_code:Oa,pdbx_num_res:Na},symmetry:{entry_id:Oa,cell_setting:Ra(qa),Int_Tables_number:Na,space_group_name_Hall:Oa,"space_group_name_H-M":Oa},pdbx_database_status:{status_code:Ra(Oa),status_code_sf:Ra(Oa),status_code_mr:Ra(Oa),entry_id:Oa,recvd_initial_deposition_date:Oa,SG_entry:Ra(qa),deposit_site:Ra(Oa),process_site:Ra(Oa),status_code_cs:Ra(Oa),methods_development_category:Ra(Oa),pdb_format_compatible:Ra(qa)},pdbx_nonpoly_scheme:{asym_id:Oa,entity_id:Oa,mon_id:Oa,pdb_strand_id:Oa,ndb_seq_num:Oa,pdb_seq_num:Oa,auth_seq_num:Oa,pdb_mon_id:Oa,auth_mon_id:Oa,pdb_ins_code:Oa},pdbx_database_related:{db_name:Oa,details:Oa,db_id:Oa,content_type:Ra(Oa)},pdbx_entity_nonpoly:{entity_id:Oa,comp_id:Oa,name:Oa},pdbx_chem_comp_synonyms:{name:Oa,comp_id:Oa,provenance:Ra(Oa)},pdbx_chem_comp_identifier:{comp_id:Oa,identifier:Oa,type:Ra(Oa),program:Oa,program_version:Oa},pdbx_unobs_or_zero_occ_residues:{id:Na,polymer_flag:Ra(qa),occupancy_flag:Ra(Na),PDB_model_num:Na,auth_asym_id:Oa,auth_comp_id:Oa,auth_seq_id:Oa,PDB_ins_code:Oa,label_asym_id:Oa,label_comp_id:Oa,label_seq_id:Na},pdbx_struct_mod_residue:{id:Na,auth_asym_id:Oa,auth_comp_id:Oa,auth_seq_id:Na,PDB_ins_code:Oa,label_asym_id:Oa,label_comp_id:Oa,label_seq_id:Na,parent_comp_id:Oa,details:Oa},pdbx_struct_oper_list:{id:Oa,type:Ra(Oa),name:Oa,symmetry_operation:Oa,matrix:La(3,3),vector:Ga(3)},pdbx_struct_assembly:{method_details:Oa,oligomeric_details:Oa,oligomeric_count:Na,details:Oa,id:Oa},pdbx_struct_assembly_gen:{asym_id_list:Fa(",",(function(t){return t})),assembly_id:Oa,oper_expression:Oa},pdbx_reference_entity_list:{prd_id:Oa,ref_entity_id:Oa,type:Ra(qa),details:Oa,component_id:Na},pdbx_reference_entity_link:{link_id:Na,prd_id:Oa,details:Oa,ref_entity_id_1:Oa,ref_entity_id_2:Oa,entity_seq_num_1:Na,entity_seq_num_2:Na,comp_id_1:Oa,comp_id_2:Oa,atom_id_1:Oa,atom_id_2:Oa,value_order:Ra(qa),component_1:Na,component_2:Na,link_class:Ra(Oa)},pdbx_reference_entity_poly_link:{link_id:Na,prd_id:Oa,ref_entity_id:Oa,component_id:Na,entity_seq_num_1:Na,entity_seq_num_2:Na,comp_id_1:Oa,comp_id_2:Oa,atom_id_1:Oa,atom_id_2:Oa,value_order:Ra(qa)},pdbx_molecule:{prd_id:Oa,instance_id:Na,asym_id:Oa},pdbx_molecule_features:{prd_id:Oa,class:Ra(qa),type:Ra(qa),name:Oa,details:Oa},entity_src_nat:{entity_id:Oa,pdbx_organism_scientific:Oa,pdbx_plasmid_name:Oa,pdbx_src_id:Na,pdbx_beg_seq_num:Na,pdbx_end_seq_num:Na},entity_src_gen:{entity_id:Oa,pdbx_gene_src_gene:Fa(",",(function(t){return t})),pdbx_gene_src_scientific_name:Oa,plasmid_name:Oa,pdbx_src_id:Na,pdbx_beg_seq_num:Na,pdbx_end_seq_num:Na},pdbx_entity_src_syn:{organism_scientific:Oa,entity_id:Oa,pdbx_src_id:Na,pdbx_beg_seq_num:Na,pdbx_end_seq_num:Na},pdbx_entity_branch_descriptor:{entity_id:Oa,descriptor:Oa,type:Ra(qa),program:Oa,program_version:Oa,ordinal:Na},pdbx_entity_instance_feature:{details:Oa,feature_type:Ra(Oa),auth_asym_id:Oa,asym_id:Oa,auth_seq_num:Oa,seq_num:Na,comp_id:Oa,auth_comp_id:Oa,ordinal:Na},pdbx_entity_branch_list:{entity_id:Oa,hetero:Ra(qa),comp_id:Oa,num:Na},pdbx_entity_branch_link:{link_id:Na,details:Oa,entity_id:Oa,entity_branch_list_num_1:Na,entity_branch_list_num_2:Na,comp_id_1:Oa,comp_id_2:Oa,atom_id_1:Oa,leaving_atom_id_1:Oa,atom_stereo_config_1:Ra(qa),atom_id_2:Oa,leaving_atom_id_2:Oa,atom_stereo_config_2:Ra(qa),value_order:Ra(qa)},pdbx_entity_branch:{entity_id:Oa,type:Ra(Oa)},pdbx_branch_scheme:{entity_id:Oa,hetero:Ra(qa),asym_id:Oa,mon_id:Oa,num:Na,pdb_asym_id:Oa,pdb_seq_num:Oa,pdb_mon_id:Oa,auth_asym_id:Oa,auth_seq_num:Oa,auth_mon_id:Oa},pdbx_chem_comp_related:{comp_id:Oa,related_comp_id:Oa,relationship_type:Ra(Oa),details:Oa},ihm_starting_model_details:{starting_model_id:Oa,entity_id:Oa,entity_description:Oa,asym_id:Oa,entity_poly_segment_id:Na,starting_model_source:Ra(Oa),starting_model_auth_asym_id:Oa,starting_model_sequence_offset:Na,dataset_list_id:Na},ihm_starting_comparative_models:{id:Na,starting_model_id:Oa,starting_model_auth_asym_id:Oa,starting_model_seq_id_begin:Na,starting_model_seq_id_end:Na,template_auth_asym_id:Oa,template_seq_id_begin:Na,template_seq_id_end:Na,template_sequence_identity:Ta,template_sequence_identity_denominator:Ra(Na),template_dataset_list_id:Na,alignment_file_id:Na},ihm_starting_model_seq_dif:{id:Na,entity_id:Oa,asym_id:Oa,seq_id:Na,comp_id:Oa,starting_model_id:Oa,db_asym_id:Oa,db_seq_id:Na,db_comp_id:Oa,details:Oa},ihm_model_representation:{id:Na,name:Oa,details:Oa},ihm_model_representation_details:{id:Na,representation_id:Na,entity_poly_segment_id:Na,entity_id:Oa,entity_description:Oa,entity_asym_id:Oa,model_object_primitive:Ra(Oa),starting_model_id:Oa,model_mode:Ra(Oa),model_granularity:Ra(Oa),model_object_count:Na},ihm_struct_assembly_details:{id:Na,assembly_id:Na,parent_assembly_id:Na,entity_description:Oa,entity_id:Oa,asym_id:Oa,entity_poly_segment_id:Na},ihm_struct_assembly:{id:Na,name:Oa,description:Oa},ihm_modeling_protocol:{id:Na,num_steps:Na,protocol_name:Oa},ihm_modeling_protocol_details:{id:Na,protocol_id:Na,step_id:Na,struct_assembly_id:Na,dataset_group_id:Na,struct_assembly_description:Oa,step_name:Oa,step_method:Oa,num_models_begin:Na,num_models_end:Na,multi_scale_flag:Ra(qa),multi_state_flag:Ra(qa),ordered_flag:Ra(qa),script_file_id:Na,software_id:Na},ihm_multi_state_modeling:{state_id:Na,state_group_id:Na,population_fraction:Ta,population_fraction_sd:Ta,state_type:Oa,state_name:Oa,experiment_type:Ra(Oa),details:Oa},ihm_modeling_post_process:{id:Na,protocol_id:Na,analysis_id:Na,step_id:Na,type:Ra(Oa),feature:Ra(Oa),num_models_begin:Na,num_models_end:Na},ihm_ensemble_info:{ensemble_id:Na,ensemble_name:Oa,post_process_id:Na,model_group_id:Na,ensemble_clustering_method:Ra(Oa),ensemble_clustering_feature:Ra(Oa),num_ensemble_models:Na,num_ensemble_models_deposited:Na,ensemble_precision_value:Ta,ensemble_file_id:Na},ihm_model_list:{model_id:Na,model_name:Oa,assembly_id:Na,protocol_id:Na,representation_id:Na},ihm_model_group:{id:Na,name:Oa,details:Oa},ihm_model_group_link:{model_id:Na,group_id:Na},ihm_model_representative:{id:Na,model_group_id:Na,model_id:Na,selection_criteria:Ra(Oa)},ihm_dataset_list:{id:Na,data_type:Ra(Oa),database_hosted:Ra(qa)},ihm_dataset_group:{id:Na,name:Oa,application:Ra(Oa),details:Oa},ihm_dataset_group_link:{dataset_list_id:Na,group_id:Na},ihm_related_datasets:{dataset_list_id_derived:Na,dataset_list_id_primary:Na},ihm_dataset_related_db_reference:{id:Na,dataset_list_id:Na,db_name:Ra(Oa),accession_code:Oa,version:Oa,details:Oa},ihm_external_reference_info:{reference_id:Na,reference_provider:Oa,reference_type:Ra(Oa),reference:Oa,refers_to:Ra(Oa),associated_url:Oa},ihm_external_files:{id:Na,reference_id:Na,file_path:Oa,content_type:Ra(Oa),file_size_bytes:Ta,details:Oa},ihm_dataset_external_reference:{id:Na,dataset_list_id:Na,file_id:Na},ihm_localization_density_files:{id:Na,file_id:Na,ensemble_id:Na,entity_id:Oa,entity_poly_segment_id:Na,asym_id:Oa},ihm_predicted_contact_restraint:{id:Na,group_id:Na,entity_id_1:Oa,entity_id_2:Oa,asym_id_1:Oa,asym_id_2:Oa,comp_id_1:Oa,comp_id_2:Oa,seq_id_1:Na,seq_id_2:Na,rep_atom_1:Ra(Oa),rep_atom_2:Ra(Oa),distance_lower_limit:Ta,distance_upper_limit:Ta,probability:Ta,restraint_type:Ra(Oa),model_granularity:Ra(Oa),dataset_list_id:Na,software_id:Na},ihm_cross_link_list:{id:Na,group_id:Na,entity_description_1:Oa,entity_description_2:Oa,entity_id_1:Oa,entity_id_2:Oa,comp_id_1:Oa,comp_id_2:Oa,seq_id_1:Na,seq_id_2:Na,linker_type:Ra(Oa),dataset_list_id:Na},ihm_cross_link_restraint:{id:Na,group_id:Na,entity_id_1:Oa,entity_id_2:Oa,asym_id_1:Oa,asym_id_2:Oa,comp_id_1:Oa,comp_id_2:Oa,seq_id_1:Na,seq_id_2:Na,atom_id_1:Oa,atom_id_2:Oa,restraint_type:Ra(Oa),conditional_crosslink_flag:Ra(Oa),model_granularity:Ra(Oa),distance_threshold:Ta,psi:Ta,sigma_1:Ta,sigma_2:Ta},ihm_cross_link_result_parameters:{id:Na,restraint_id:Na,model_id:Na,psi:Ta,sigma_1:Ta,sigma_2:Ta},ihm_2dem_class_average_restraint:{id:Na,dataset_list_id:Na,number_raw_micrographs:Na,pixel_size_width:Ta,pixel_size_height:Ta,image_resolution:Ta,image_segment_flag:Ra(qa),number_of_projections:Na,struct_assembly_id:Na,details:Oa},ihm_2dem_class_average_fitting:{id:Na,restraint_id:Na,model_id:Na,cross_correlation_coefficient:Ta,rot_matrix:La(3,3),tr_vector:Ga(3)},ihm_3dem_restraint:{id:Na,dataset_list_id:Na,model_id:Na,struct_assembly_id:Na,fitting_method:Oa,number_of_gaussians:Na,cross_correlation_coefficient:Ta},ihm_sas_restraint:{id:Na,dataset_list_id:Na,model_id:Na,struct_assembly_id:Na,profile_segment_flag:Ra(qa),fitting_atom_type:Oa,fitting_method:Oa,fitting_state:Ra(Oa),radius_of_gyration:Ta,chi_value:Ta,details:Oa},ihm_starting_model_coord:{ordinal_id:Na,starting_model_id:Oa,group_PDB:Ra(Oa),id:Na,type_symbol:Oa,entity_id:Oa,atom_id:Oa,comp_id:Oa,seq_id:Na,asym_id:Oa,Cartn_x:Ta,Cartn_y:Ta,Cartn_z:Ta,B_iso_or_equiv:Ta},ihm_sphere_obj_site:{id:Na,entity_id:Oa,seq_id_begin:Na,seq_id_end:Na,asym_id:Oa,Cartn_x:Ta,Cartn_y:Ta,Cartn_z:Ta,object_radius:Ta,rmsf:Ta,model_id:Na},ihm_gaussian_obj_site:{id:Na,entity_id:Oa,seq_id_begin:Na,seq_id_end:Na,asym_id:Oa,mean_Cartn_x:Ta,mean_Cartn_y:Ta,mean_Cartn_z:Ta,weight:Ta,covariance_matrix:La(3,3),model_id:Na},ihm_gaussian_obj_ensemble:{id:Na,entity_id:Oa,seq_id_begin:Na,seq_id_end:Na,asym_id:Oa,mean_Cartn_x:Ta,mean_Cartn_y:Ta,mean_Cartn_z:Ta,weight:Ta,covariance_matrix:La(3,3),ensemble_id:Na},ihm_feature_list:{feature_id:Na,feature_type:Ra(Oa),entity_type:Ra(Oa)},ihm_poly_residue_feature:{ordinal_id:Na,feature_id:Na,entity_id:Oa,asym_id:Oa,comp_id_begin:Oa,comp_id_end:Oa,seq_id_begin:Na,seq_id_end:Na},ihm_derived_distance_restraint:{id:Na,group_id:Na,feature_id_1:Na,feature_id_2:Na,group_conditionality:Ra(Oa),random_exclusion_fraction:Ta,distance_upper_limit:Ta,restraint_type:Ra(Oa),dataset_list_id:Na},ma_model_list:{ordinal_id:Na,model_id:Na,model_group_id:Na,model_name:Oa,model_group_name:Oa,model_type:Ra(Oa),data_id:Na},ma_target_entity:{entity_id:Oa,data_id:Na,origin:Ra(Oa)},ma_target_entity_instance:{asym_id:Oa,entity_id:Oa,details:Oa},ma_target_ref_db_details:{target_entity_id:Oa,db_name:Ra(Oa),db_code:Oa,db_accession:Oa,seq_db_isoform:Oa,seq_db_align_begin:Oa,seq_db_align_end:Oa,ncbi_taxonomy_id:Oa,organism_scientific:Oa},ma_data:{id:Na,content_type:Ra(Oa),content_type_other_details:Oa,name:Oa},ma_software_group:{ordinal_id:Na,group_id:Na,software_id:Na},ma_qa_metric:{id:Na,name:Oa,type:Ra(Oa),mode:Ra(Oa),software_group_id:Na},ma_qa_metric_global:{ordinal_id:Na,model_id:Na,metric_id:Na,metric_value:Ta},ma_qa_metric_local:{ordinal_id:Na,model_id:Na,label_asym_id:Oa,label_seq_id:Na,label_comp_id:Oa,metric_id:Na,metric_value:Ta}};!function(t){!function(t){t[t.Int8=1]="Int8",t[t.Int16=2]="Int16",t[t.Int32=3]="Int32",t[t.Uint8=4]="Uint8",t[t.Uint16=5]="Uint16",t[t.Uint32=6]="Uint32"}(t.IntDataType||(t.IntDataType={})),function(t){t[t.Float32=32]="Float32",t[t.Float64=33]="Float64"}(t.FloatDataType||(t.FloatDataType={})),t.getDataType=function(e){return e instanceof Int8Array?t.IntDataType.Int8:e instanceof Int16Array?t.IntDataType.Int16:e instanceof Int32Array?t.IntDataType.Int32:e instanceof Uint8Array?t.IntDataType.Uint8:e instanceof Uint16Array?t.IntDataType.Uint16:e instanceof Uint32Array?t.IntDataType.Uint32:e instanceof Float32Array?t.FloatDataType.Float32:e instanceof Float64Array?t.FloatDataType.Float64:t.IntDataType.Int32},t.isSignedIntegerDataType=function(t){if(t instanceof Int8Array||t instanceof Int16Array||t instanceof Int32Array)return!0;for(var e=0,n=t.length;e<n;e++)if(e<0)return!1;return!0}}(ka||(ka={}));new Uint16Array(new Uint8Array([18,52]).buffer)[0];var Ha,Va;function za(t,e,n){var r,i=1;for(r=0;r<e;r++){var o=i*t;if(Math.abs(Math.round(o)-o)<=n)return r;i*=10}return-1}function Ya(t){return Ha.classify(t)}!function(t){function e(t,e){return t>=0?Math.ceil((t+1)/e):Math.ceil((t+1)/(-e-1))}function n(t,n,r){var i=t.limit8,o=t.limit16;n.pack8+=e(r,i),n.pack16+=e(r,o),n.count+=1}function r(t,n){t.pack8+=e(n,127),t.pack16+=e(n,32767),t.count+=1}function i(t){return 4*t.count<2*t.pack16?{length:4*t.count,elem:4}:2*t.pack16<t.pack8?{length:2*t.pack16,elem:2}:{length:t.pack8,elem:1}}function o(t,e){for(var r={pack8:0,pack16:0,count:0},o=0,a=t.length;o<a;o++)n(e,r,t[o]);return Object(T.a)(Object(T.a)({},i(r)),{kind:"pack"})}function a(t,e){for(var n={pack8:0,pack16:0,count:0},o=t[0],a=1,u=t.length;a<u;a++)r(n,t[a]-o),o=t[a];return Object(T.a)(Object(T.a)({},i(n)),{kind:"delta"})}function u(t,e){for(var r={pack8:0,pack16:0,count:0},o=1,a=1,u=t.length;a<u;a++)t[a-1]!==t[a]?(n(e,r,t[a-1]),n(e,r,o),o=1):o++;return n(e,r,t[t.length-1]),n(e,r,o),Object(T.a)(Object(T.a)({},i(r)),{kind:"rle"})}function s(t,e){for(var n={pack8:0,pack16:0,count:0},o=1,a=0,u=0,s=1,c=t.length;s<c;s++){var l=t[s]-a;u!==l?(r(n,u),r(n,o),o=1):o++,u=l,a=t[s]}return r(n,u),r(n,o),Object(T.a)(Object(T.a)({},i(n)),{kind:"delta-rle"})}function c(t){var e=function(t){for(var e=!1,n=0,r=t.length;n<r;n++)if(t[n]<0){e=!0;break}return e?{signed:e,limit8:127,limit16:32767}:{signed:e,limit8:255,limit16:65535}}(t),n=[o(t,e),u(t,e),a(t),s(t)];return n.sort((function(t,e){return t.length-e.length})),n}t.getSize=c,t.classify=function(t){if(t.length<2)return Za.by(Za.byteArray);var e=c(t)[0];switch(e.kind){case"pack":return Za.by(Za.integerPacking);case"rle":return Za.by(Za.runLength).and(Za.integerPacking);case"delta":return Za.by(Za.delta).and(Za.integerPacking);case"delta-rle":return Za.by(Za.delta).and(Za.runLength).and(Za.integerPacking);default:k()}}}(Ha||(Ha={})),(Va||(Va={})).classify=function(t){var e=function(t,e,n){for(var r=1,i=0,o=0,a=t.length;o<a;o++){if(r>=0){var u=za(t[o],e,n);u<0?r=-1:u>r&&(r=u)}var s=Math.abs(t[o]);if(s>n){var c=Math.floor(Math.log10(Math.abs(s)))+1;c>i&&(i=c)}}return{mantissaDigits:r,integerDigits:i}}(t,4,1e-6),n=e.mantissaDigits,r=e.integerDigits;if(n<0||n+r>10)return Za.by(Za.byteArray);if(0===n)return Ha.classify(t);for(var i=function(t){for(var e=1,n=0;n<t;n++)e*=10;return e}(n),o=new Int32Array(t.length),a=0,u=t.length;a<u;a++)o[a]=Math.round(i*t[a]);var s=Ha.getSize(o)[0],c=Za.by(Za.fixedPoint(i));switch(s.kind){case"pack":return c.and(Za.integerPacking);case"rle":return c.and(Za.runLength).and(Za.integerPacking);case"delta":return c.and(Za.delta).and(Za.integerPacking);case"delta-rle":return c.and(Za.delta).and(Za.runLength).and(Za.integerPacking);default:k()}};var Ka,Za,Wa,Xa,Qa,Ja,$a=function(){function t(t){this.providers=t}return t.prototype.and=function(e){return new t(this.providers.concat([e]))},t.prototype.encode=function(t){for(var e=[],n=0,r=this.providers;n<r.length;n++){var i=(0,r[n])(t);if(!i.encodings.length)throw new Error("Encodings must be non-empty.");t=i.data;for(var o=0,a=i.encodings;o<a.length;o++){var u=a[o];e.push(u)}}if(!(t instanceof Uint8Array))throw new Error("The encoding must result in a Uint8Array. Fix your encoding chain.");return{encoding:e,data:t}},t}();function tu(t){return function(e,n){return n[t].value(e)}}function eu(t){return function(e,n){return n[t].value(e).join(n[t].schema.separator)}}function nu(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return function(n,r){var i;return(i=r[t].schema.space).get.apply(i,Object(T.e)([r[t].value(n)],e,!1))}}function ru(t){return function(e,n){return n[t].valueKind(e)}}function iu(t,e){var n=[],r=ru(t);if(1===e.rank)for(var i=e.dimensions[0],o=0;o<i;o++){var a="".concat(t,"[").concat(o+1,"]");n.push({name:a,type:2,value:nu(t,o),valueKind:r})}else if(2===e.rank){i=e.dimensions[0];var u=e.dimensions[1];for(o=0;o<i;o++)for(var s=0;s<u;s++){var c="".concat(t,"[").concat(o+1,"][").concat(s+1,"]");n.push({name:c,type:2,value:nu(t,o,s),valueKind:r})}}else{if(3!==e.rank)throw new Error("Tensors with rank > 3 or rank 0 are currently not supported.");var l=e.dimensions[0],d=e.dimensions[1],f=e.dimensions[2];for(o=0;o<l;o++)for(s=0;s<d;s++)for(var p=0;p<f;p++){var m="".concat(t,"[").concat(o+1,"][").concat(s+1,"][").concat(p+1,"]");n.push({name:m,type:2,value:nu(t,o,s,p),valueKind:r})}}return n}function ou(t){for(var e=[],n=0,r=Object.keys(t);n<r.length;n++){var i=r[n],o=t[i];"int"===o.valueType?e.push({name:i,type:1,value:tu(i),valueKind:ru(i)}):"float"===o.valueType?e.push({name:i,type:2,value:tu(i),valueKind:ru(i)}):"str"===o.valueType?e.push({name:i,type:0,value:tu(i),valueKind:ru(i)}):"list"===o.valueType?e.push({name:i,type:0,value:eu(i),valueKind:ru(i)}):"tensor"===o.valueType?e.push.apply(e,iu(i,o.space)):k(o.valueType)}return e}function au(t){return t.fields.some((function(t){return!!t.shouldInclude}))?t.fields.filter((function(e){return!e.shouldInclude||t.source.some((function(t){return e.shouldInclude(t.data)}))})):t.fields}function uu(t,e){var n=t.instance(e),r=n.source.filter((function(t){return t.rowCount>0}));return r.length?{instance:n,rowCount:r.reduce((function(t,e){return t+e.rowCount}),0),source:r.map((function(t){return{data:t.data,keys:function(){return t.keys?t.keys():$n.Range(0,t.rowCount-1)},rowCount:t.rowCount}}))}:{instance:n,rowCount:0,source:[]}}!function(t){function e(t){return new $a([t])}function n(t){switch(t.kind){case"ByteArray":return Za.byteArray;case"FixedPoint":return Za.fixedPoint(t.factor);case"IntervalQuantization":return Za.intervalQuantizaiton(t.min,t.max,t.numSteps);case"RunLength":return Za.runLength;case"Delta":return Za.delta;case"IntegerPacking":return Za.integerPacking;case"StringArray":return Za.stringArray}}t.by=e,t.fromEncoding=function(t){for(var r=e(n(t[0])),i=1;i<t.length;i++)r=r.and(n(t[i]));return r}}(Ka||(Ka={})),function(t){var e,n;t.by=function(t){return new $a([t])};var r=((e={})[ka.IntDataType.Int16]=function(t,e,n){t.setInt16(2*e,n,!0)},e[ka.IntDataType.Uint16]=function(t,e,n){t.setUint16(2*e,n,!0)},e[ka.IntDataType.Int32]=function(t,e,n){t.setInt32(4*e,n,!0)},e[ka.IntDataType.Uint32]=function(t,e,n){t.setUint32(4*e,n,!0)},e[ka.FloatDataType.Float32]=function(t,e,n){t.setFloat32(4*e,n,!0)},e[ka.FloatDataType.Float64]=function(t,e,n){t.setFloat64(8*e,n,!0)},e),i=((n={})[ka.IntDataType.Int16]=2,n[ka.IntDataType.Uint16]=2,n[ka.IntDataType.Int32]=4,n[ka.IntDataType.Uint32]=4,n[ka.FloatDataType.Float32]=4,n[ka.FloatDataType.Float64]=8,n);function o(t){var e=ka.getDataType(t);if(e===ka.IntDataType.Int8)return function(t){return{encodings:[{kind:"ByteArray",type:ka.IntDataType.Int8}],data:new Uint8Array(t.buffer,t.byteOffset)}}(t);if(e===ka.IntDataType.Uint8)return function(t){return{encodings:[{kind:"ByteArray",type:ka.IntDataType.Uint8}],data:t}}(t);for(var n=new Uint8Array(t.length*i[e]),o=r[e],a=new DataView(n.buffer),u=0,s=t.length;u<s;u++)o(a,u,t[u]);return{encodings:[{kind:"ByteArray",type:e}],data:n}}function a(t,e){for(var n=0,r=0,i=t.length;r<i;r++)n+=t[r]/e|0;return n+=t.length}function u(t,e){for(var n=-e-1,r=0,i=0,o=t.length;i<o;i++){var a=t[i];r+=a>=0?a/e|0:a/n|0}return r+=t.length}t.byteArray=o,t.fixedPoint=function(t){return function(e){return function(t,e){for(var n=ka.getDataType(t),r=new Int32Array(t.length),i=0,o=t.length;i<o;i++)r[i]=Math.round(t[i]*e);return{encodings:[{kind:"FixedPoint",factor:e,srcType:n}],data:r}}(e,t)}},t.intervalQuantizaiton=function(t,e,n,r){return void 0===r&&(r=Int32Array),function(i){return function(t,e,n,r,i){var o=ka.getDataType(t);if(!t.length)return{encodings:[{kind:"IntervalQuantization",min:e,max:n,numSteps:r,srcType:o}],data:new Int32Array(0)};if(n<e){var a=e;e=n,n=a}for(var u=(n-e)/(r-1),s=new i(t.length),c=0,l=t.length;c<l;c++){var d=t[c];s[c]=d<=e?0:d>=n?r-1:0|Math.round((d-e)/u)}return{encodings:[{kind:"IntervalQuantization",min:e,max:n,numSteps:r,srcType:o}],data:s}}(i,t,e,n,r)}},t.runLength=function(t){var e=ka.getDataType(t);if(void 0===e&&(t=new Int32Array(t),e=ka.IntDataType.Int32),!t.length)return{encodings:[{kind:"RunLength",srcType:e,srcSize:0}],data:new Int32Array(0)};for(var n=2,r=1,i=t.length;r<i;r++)t[r-1]!==t[r]&&(n+=2);var o=new Int32Array(n),a=0,u=1;for(r=1,i=t.length;r<i;r++)t[r-1]!==t[r]?(o[a]=t[r-1],o[a+1]=u,u=1,a+=2):++u;return o[a]=t[t.length-1],o[a+1]=u,{encodings:[{kind:"RunLength",srcType:e,srcSize:t.length}],data:o}},t.delta=function(t){if(!ka.isSignedIntegerDataType(t))throw new Error("Only signed integer types can be encoded using delta encoding.");var e=ka.getDataType(t);if(void 0===e&&(t=new Int32Array(t),e=ka.IntDataType.Int32),!t.length)return{encodings:[{kind:"Delta",origin:0,srcType:e}],data:new t.constructor(0)};var n=new t.constructor(t.length),r=t[0];n[0]=t[0];for(var i=1,o=t.length;i<o;i++)n[i]=t[i]-t[i-1];return n[0]=0,{encodings:[{kind:"Delta",origin:r,srcType:e}],data:n}},t.integerPacking=function(t){var e=function(t){var e=function(t){for(var e=0,n=t.length;e<n;e++)if(t[e]<0)return!0;return!1}(t),n=e?u(t,127):a(t,255),r=e?u(t,32767):a(t,65535);return 4*t.length<2*r?{isSigned:e,size:t.length,bytesPerElement:4}:2*r<n?{isSigned:e,size:r,bytesPerElement:2}:{isSigned:e,size:n,bytesPerElement:1}}(t);return 4===e.bytesPerElement?o(t):function(t,e){for(var n=e.isSigned?1===e.bytesPerElement?127:32767:1===e.bytesPerElement?255:65535,r=-n-1,i=t.length,a=e.isSigned?1===e.bytesPerElement?new Int8Array(e.size):new Int16Array(e.size):1===e.bytesPerElement?new Uint8Array(e.size):new Uint16Array(e.size),u=0,s=0;s<i;s++){var c=t[s];if(c>=0)for(;c>=n;)a[u]=n,++u,c-=n;else for(;c<=r;)a[u]=r,++u,c-=r;a[u]=c,++u}var l=o(a);return{encodings:[{kind:"IntegerPacking",byteCount:e.bytesPerElement,isUnsigned:!e.isSigned,srcSize:i},l.encodings[0]],data:l.data}}(t,e)},t.stringArray=function(t){var e=Object.create(null),n=[],r=new Int32Array(t.length),i=tt.create(Int32Array,1,Math.min(1024,t.length<32?t.length+1:Math.round(t.length/8)+1));tt.add(i,0);for(var o=0,a=0,u=0,s=t;u<s.length;u++){var c=s[u];if(null!=c){var l=e[c];void 0===l&&(o+=c.length,n[l=n.length]=c,e[c]=l,tt.add(i,o)),r[a++]=l}else r[a++]=-1}var d=tt.compact(i),f=Ya(d).encode(d),p=Ya(r).encode(r);return{encodings:[{kind:"StringArray",dataEncoding:p.encoding,stringData:n.join(""),offsetEncoding:f.encoding,offsets:f.data}],data:p.data}}}(Za||(Za={})),function(t){function e(t,e,n){return{name:t,type:1,value:e,valueKind:n&&n.valueKind,defaultFormat:n?{encoder:n.encoder,typedArray:n.typedArray}:void 0,shouldInclude:n&&n.shouldInclude}}t.str=function(t,e,n){return{name:t,type:0,value:e,valueKind:n&&n.valueKind,defaultFormat:n&&n.encoder?{encoder:n.encoder}:void 0,shouldInclude:n&&n.shouldInclude}},t.int=e,t.float=function(t,e,n){return{name:t,type:2,value:e,valueKind:n&&n.valueKind,defaultFormat:n?{encoder:n.encoder,typedArray:n.typedArray,digitCount:void 0!==n.digitCount?n.digitCount:void 0}:void 0,shouldInclude:n&&n.shouldInclude}},t.index=function(t){return e(t,(function(t,e,n){return n+1}),{typedArray:Int32Array,encoder:Za.by(Za.delta).and(Za.runLength).and(Za.integerPacking)})};var n=function(){function e(){this.fields=[]}return e.prototype.index=function(e){return this.fields.push(t.index(e)),this},e.prototype.str=function(e,n,r){return this.fields.push(t.str(e,n,r)),this},e.prototype.int=function(e,n,r){return this.fields.push(t.int(e,n,r)),this},e.prototype.vec=function(e,n,r){for(var i=0;i<n.length;i++)this.fields.push(t.int("".concat(e,"[").concat(i+1,"]"),n[i],r));return this},e.prototype.float=function(e,n,r){return this.fields.push(t.float(e,n,r)),this},e.prototype.many=function(t){for(var e=0;e<t.length;e++)this.fields.push(t[e]);return this},e.prototype.add=function(t){return this.fields.push(t),this},e.prototype.getFields=function(){return this.fields},e}();t.Builder=n,t.build=function(){return new n}}(Wa||(Wa={})),(Qa=Xa||(Xa={})).Empty={fields:[],source:[]},Qa.filterOf=function(t){for(var e=[],n=[],r=[],i=[],o=0,a=t.split(/[\r\n]+/);o<a.length;o++){var u=a[o];if(0!==(u=u.trim()).length){var s=/^!/.test(u);s&&(u=u.substr(1));var c=u.split(/\./),l=c[1],d=s?l?i:n:l?r:e;d[d.length]=u,l&&!e.includes(c[0])&&(e[e.length]=c[0])}}var f=r.map((function(t){return t.split(".")[0]}));return{includeCategory:function(t){return!n.includes(t)&&(e.length<=0||-1!==e.indexOf(t))},includeField:function(t,e){var n=t+"."+e;return!i.includes(n)&&(!f.includes(t)||r.includes(n))}}},Qa.DefaultFilter={includeCategory:function(t){return!0},includeField:function(t,e){return!0}},Qa.DefaultFormatter={getFormat:function(t,e){}},Qa.ofTable=function(t,e){return e?{fields:ou(t._schema),source:[{data:t,rowCount:e.length,keys:function(){return $n.Array(e)}}]}:{fields:ou(t._schema),source:[{data:t,rowCount:t._rowCount}]}},function(t){function e(t,e,n){t.startDataBlock(e);for(var r=function(e){t.writeCategory({name:e,instance:function(){return Xa.ofTable(n[e])}})},i=0,o=n._tableNames;i<o.length;i++){r(o[i])}}t.writeDatabase=e,t.writeDatabaseCollection=function(t,n){for(var r=0,i=Object.keys(n);r<i.length;r++){var o=i[r];e(t,o,n[o])}}}(Ja||(Ja={}));var su=function(){function t(){this.builder=kt.create(),this.encoded=!1,this.dataBlockCreated=!1,this.filter=Xa.DefaultFilter,this.formatter=Xa.DefaultFormatter,this.isBinary=!1,this.binaryEncodingProvider=void 0}return t.prototype.setFilter=function(t){this.filter=t||Xa.DefaultFilter},t.prototype.isCategoryIncluded=function(t){return this.filter.includeCategory(t)},t.prototype.setFormatter=function(t){this.formatter=t||Xa.DefaultFormatter},t.prototype.startDataBlock=function(t){this.dataBlockCreated=!0,kt.write(this.builder,"data_".concat((t||"").replace(/[ \n\t]/g,"").toUpperCase(),"\n#\n"))},t.prototype.writeCategory=function(t,e,n){if(this.encoded)throw new Error("The writer contents have already been encoded, no more writing.");if(!this.dataBlockCreated)throw new Error("No data block created.");if((null==n?void 0:n.ignoreFilter)||this.filter.includeCategory(t.name)){var r=uu(t,e),i=r.instance,o=r.rowCount,a=r.source;o&&(1===o?function(t,e,n,r,i,o){var a=au(e),u=n[0],s=u.data,c=a.reduce((function(e,n){return i.includeField(t.name,n.name)?Math.max(e,n.name.length):0}),0);if(0===c)return;c+=t.name.length+6;for(var l=u.keys().move(),d=lu(t.name,e.fields,o),f=0;f<a.length;f++){var p=a[f];if(i.includeField(t.name,p.name))kt.writePadRight(r,"_".concat(t.name,".").concat(p.name),c),cu(r,s,l,p,d[f],0)||kt.newline(r)}kt.write(r,"#\n")}(t,i,a,this.builder,this.filter,this.formatter):function(t,e,n,r,i,o){var a=au(e),u=i===Xa.DefaultFilter?a:a.filter((function(e){return i.includeField(t.name,e.name)})),s=u.length;if(0===s)return;var c=lu(t.name,u,o);du(r,"loop_");for(var l=0;l<s;l++)du(r,"_".concat(t.name,".").concat(u[l].name));for(var d=0,f=0;f<n.length;f++){var p=n[f],m=p.data;if(0!==p.rowCount)for(var h=p.keys();h.hasNext;){for(var g=h.move(),v=!1,y=0;y<s;y++)v=cu(r,m,g,u[y],c[y],d);v||kt.newline(r),d++}}kt.write(r,"#\n")}(t,i,a,this.builder,this.filter,this.formatter))}},t.prototype.encode=function(){this.encoded=!0},t.prototype.writeTo=function(t){for(var e=kt.getChunks(this.builder),n=0,r=e.length;n<r;n++)t.writeString(e[n])},t.prototype.getSize=function(){return kt.getSize(this.builder)},t.prototype.getData=function(){return kt.getString(this.builder)},t}();function cu(t,e,n,r,i,o){var a,u=r.valueKind,s=u?u(n,e):0;if(0!==s)1===s?function(t){kt.writeSafe(t,". ")}(t):function(t){kt.writeSafe(t,"? ")}(t);else{var c=r.value(n,e,o),l=r.type;if(0===l)return"string"==typeof(a=c)&&a.indexOf("\n")>=0?(fu(t,c),!0):function(t,e){if(!e)return kt.writeSafe(t,". "),!1;for(var n=e.charCodeAt(0),r=!1,i=0,o=!1,a=!1,u=0,s=e.length-1;u<=s;u++){switch(e.charCodeAt(u)){case 9:r=!0;break;case 10:return fu(t,e),!0;case 32:r=!0;break;case 34:if(u&&u===s)break;if(o)return fu(t,e),!0;a=!0,r=!0,i=0;break;case 39:if(u&&u===s)break;if(a)return fu(t,e),!0;o=!0,r=!0,i=1}}r||35!==n&&36!==n&&59!==n&&91!==n&&93!==n&&95!==n||(r=!0);r?(kt.writeSafe(t,i?'"':"'"),kt.writeSafe(t,e),kt.writeSafe(t,i?'" ':"' ")):(kt.writeSafe(t,e),kt.writeSafe(t," "));return!1}(t,c);1===l?function(t,e){kt.writeInteger(t,e),kt.whitespace1(t)}(t,c):function(t,e,n){kt.writeFloat(t,e,n),kt.whitespace1(t)}(t,c,i)}return!1}function lu(t,e,n){for(var r,i=[],o=0,a=e;o<a.length;o++){var u=a[o],s=n.getFormat(t,u.name);s&&void 0!==s.digitCount?i[i.length]=2===u.type?Math.pow(10,Math.max(0,Math.min(s.digitCount,15))):0:i[i.length]=2===u.type?Math.pow(10,(r=u).defaultFormat&&void 0!==r.defaultFormat.digitCount?Math.max(0,Math.min(r.defaultFormat.digitCount,16)):6):0}return i}function du(t,e){kt.write(t,e),kt.newline(t)}function fu(t,e){kt.writeSafe(t,"\n;"+e),kt.writeSafe(t,"\n;\n")}function pu(t,e,n){for(var r=0,i=n.length;r<i;r++){var o=n.charCodeAt(r);if(o<128)t[e++]=o>>>0&127|0;else if(o<2048)t[e++]=o>>>6&31|192,t[e++]=o>>>0&63|128;else if(o<65536)t[e++]=o>>>12&15|224,t[e++]=o>>>6&63|128,t[e++]=o>>>0&63|128;else{if(!(o<1114112))throw new Error("bad codepoint "+o);t[e++]=o>>>18&7|240,t[e++]=o>>>12&63|128,t[e++]=o>>>6&63|128,t[e++]=o>>>0&63|128}}}var mu=function(){for(var t=[],e=0;e<1024;e++)t[e]=String.fromCharCode(e);return t}();function hu(t){throw new Error(t)}var gu="undefined"!=typeof TextDecoder?new TextDecoder:void 0;function vu(t,e,n){if(gu){var r=e||n!==t.length?t.subarray(e,e+n):t;return gu.decode(r)}return function(t,e,n){for(var r=mu,i=void 0,o=0,a=[],u=e,s=e+n;u<s;u++){var c=t[u];0==(128&c)?a[o++]=r[c]:192==(224&c)?a[o++]=r[(15&c)<<6|63&t[++u]]:224==(240&c)?a[o++]=String.fromCharCode((15&c)<<12|(63&t[++u])<<6|(63&t[++u])<<0):240==(248&c)?a[o++]=String.fromCharCode((7&c)<<18|(63&t[++u])<<12|(63&t[++u])<<6|(63&t[++u])<<0):hu("Invalid byte "+c.toString(16)),512===o&&((i=i||[])[i.length]=a.join(""),o=0)}return i?(o>0&&(i[i.length]=a.slice(0,o).join("")),i.join("")):a.slice(0,o).join("")}(t,e,n)}function yu(t){for(var e=0,n=0,r=t.length;n<r;n++){var i=t.charCodeAt(n);i<128?e+=1:i<2048?e+=2:i<65536?e+=3:i<1114112?e+=4:hu("bad codepoint "+i)}return e}function _u(t){var e=new ArrayBuffer(function t(e){var n=typeof e;if("string"===n){var r=yu(e);if(r<32)return 1+r;if(r<256)return 2+r;if(r<65536)return 3+r;if(r<4294967296)return 5+r}if(e instanceof Uint8Array){var i=e.byteLength;if(i<256)return 2+i;if(i<65536)return 3+i;if(i<4294967296)return 5+i}if("number"===n){if(Math.floor(e)!==e)return 9;if(e>=0){if(e<128)return 1;if(e<256)return 2;if(e<65536)return 3;if(e<4294967296)return 5;throw new Error("Number too big 0x"+e.toString(16))}if(e>=-32)return 1;if(e>=-128)return 2;if(e>=-32768)return 3;if(e>=-2147483648)return 5;throw new Error("Number too small -0x"+e.toString(16).substr(1))}if("boolean"===n||null==e)return 1;if("object"===n){var o,a=0;if(Array.isArray(e)){o=e.length;for(var u=0;u<o;u++)a+=t(e[u])}else{var s=Object.keys(e);o=s.length;for(u=0;u<o;u++){var c=s[u];a+=t(c)+t(e[c])}}if(o<16)return 1+a;if(o<65536)return 3+a;if(o<4294967296)return 5+a;throw new Error("Array or object too long 0x"+o.toString(16))}throw new Error("Unknown type "+n)}(t)),n=new DataView(e),r=new Uint8Array(e);return function t(e,n,r,i){var o=typeof e;if("string"===o){var a=yu(e);if(a<32)return n.setUint8(i,160|a),pu(r,i+1,e),1+a;if(a<256)return n.setUint8(i,217),n.setUint8(i+1,a),pu(r,i+2,e),2+a;if(a<65536)return n.setUint8(i,218),n.setUint16(i+1,a),pu(r,i+3,e),3+a;if(a<4294967296)return n.setUint8(i,219),n.setUint32(i+1,a),pu(r,i+5,e),5+a}if(e instanceof Uint8Array){var u=e.byteLength,s=new Uint8Array(n.buffer);if(u<256)return n.setUint8(i,196),n.setUint8(i+1,u),s.set(e,i+2),2+u;if(u<65536)return n.setUint8(i,197),n.setUint16(i+1,u),s.set(e,i+3),3+u;if(u<4294967296)return n.setUint8(i,198),n.setUint32(i+1,u),s.set(e,i+5),5+u}if("number"===o){if(!isFinite(e))throw new Error("Number not finite: "+e);if(Math.floor(e)!==e)return n.setUint8(i,203),n.setFloat64(i+1,e),9;if(e>=0){if(e<128)return n.setUint8(i,e),1;if(e<256)return n.setUint8(i,204),n.setUint8(i+1,e),2;if(e<65536)return n.setUint8(i,205),n.setUint16(i+1,e),3;if(e<4294967296)return n.setUint8(i,206),n.setUint32(i+1,e),5;throw new Error("Number too big 0x"+e.toString(16))}if(e>=-32)return n.setInt8(i,e),1;if(e>=-128)return n.setUint8(i,208),n.setInt8(i+1,e),2;if(e>=-32768)return n.setUint8(i,209),n.setInt16(i+1,e),3;if(e>=-2147483648)return n.setUint8(i,210),n.setInt32(i+1,e),5;throw new Error("Number too small -0x"+(-e).toString(16).substr(1))}if(null==e)return n.setUint8(i,192),1;if("boolean"===o)return n.setUint8(i,e?195:194),1;if("object"===o){var c,l=0,d=Array.isArray(e),f=void 0;if(d?c=e.length:(f=Object.keys(e),c=f.length),c<16?(n.setUint8(i,c|(d?144:128)),l=1):c<65536?(n.setUint8(i,d?220:222),n.setUint16(i+1,c),l=3):c<4294967296&&(n.setUint8(i,d?221:223),n.setUint32(i+1,c),l=5),d)for(var p=0;p<c;p++)l+=t(e[p],n,r,i+l);else{p=0;for(var m=f.length;p<m;p++){var h=f[p];l+=t(h,n,r,i+l),l+=t(e[h],n,r,i+l)}}return l}throw new Error("Unknown type "+o)}(t,n,r,0),r}var bu,xu,Au,wu=function(){function t(t,e,n){this.autoClassify=n,this.dataBlocks=[],this.filter=Xa.DefaultFilter,this.formatter=Xa.DefaultFormatter,this.isBinary=!0,this.binaryEncodingProvider=void 0,this.binaryEncodingProvider=e,this.data={encoder:t,version:"0.3.0",dataBlocks:this.dataBlocks}}return t.prototype.setFilter=function(t){this.filter=t||Xa.DefaultFilter},t.prototype.isCategoryIncluded=function(t){return this.filter.includeCategory(t)},t.prototype.setFormatter=function(t){this.formatter=t||Xa.DefaultFormatter},t.prototype.startDataBlock=function(t){this.dataBlocks.push({header:(t||"").replace(/[ \n\t]/g,"").toUpperCase(),categories:[]})},t.prototype.writeCategory=function(t,e,n){if(!this.data)throw new Error("The writer contents have already been encoded, no more writing.");if(!this.dataBlocks.length)throw new Error("No data block created.");if((null==n?void 0:n.ignoreFilter)||this.filter.includeCategory(t.name)){var r=uu(t,e),i=r.instance,o=r.rowCount,a=r.source;if(o){for(var u={name:"_"+t.name,columns:[],rowCount:o},s=0,c=au(i);s<c.length;s++){var l=c[s];if(this.filter.includeField(t.name,l.name)){var d=this.formatter.getFormat(t.name,l.name);u.columns.push(Cu(t.name,l,a,o,d,this.binaryEncodingProvider,this.autoClassify))}}u.columns.length&&this.dataBlocks[this.dataBlocks.length-1].categories.push(u)}}},t.prototype.encode=function(){this.encodedData||(this.encodedData=_u(this.data),this.data=null,this.dataBlocks=null)},t.prototype.writeTo=function(t){t.writeBinary(this.encodedData)},t.prototype.getData=function(){return this.encode(),this.encodedData},t.prototype.getSize=function(){return this.encodedData.length},t}();function Su(t,e){return 0===t?Ka.by(Za.stringArray):1===t?Ya(e):(n=e,Va.classify(n));var n}function Cu(t,e,n,r,i,o,a){var u=function(t,e,n,r){for(var i=0===t.type,o=new e(n),a=new Uint8Array(n),u=t.valueKind,s=t.value,c=!0,l=0,d=0;d<r.length;d++)for(var f=r[d].data,p=r[d].keys();p.hasNext;){var m=p.move(),h=u?u(m,f):0;if(0!==h)a[l]=h,i&&(o[l]=""),c=!1;else{var g=s(m,f,l);"string"!=typeof g||g?a[l]=0:(a[l]=1,c=!1),o[l]=g}l++}return{array:o,allPresent:c,mask:a}}(e,function(t,e){return e&&e.typedArray?e.typedArray:t.defaultFormat&&t.defaultFormat.typedArray?t.defaultFormat.typedArray:0===t.type?Array:1===t.type?Int32Array:Float64Array}(e,i),r,n),s=u.array,c=u.allPresent,l=u.mask,d=function(t,e,n,r){return n&&n.encoder?n.encoder:e.defaultFormat&&e.defaultFormat.encoder?e.defaultFormat.encoder:r?r.get(t,e.name):void 0}(t,e,i,o);d||(a?d=Su(e.type,s):d=0===e.type?Ka.by(Za.stringArray):Ka.by(Za.byteArray));var f=d.encode(s),p=void 0;if(!c){var m=Ka.by(Za.runLength).and(Za.byteArray).encode(l);p=m.data.length<l.length?m:Ka.by(Za.byteArray).encode(l)}return{name:e.name,data:f,mask:p}}!function(t){t.Encoder=Ja,t.Category=Xa,t.Field=Wa,t.Encoding=Za,t.createEncoder=function(t){var e=t||{},n=e.binary,r=void 0!==n&&n,i=e.encoderName;return r?new wu(void 0===i?"mol*":i,t?t.binaryEncodingPovider:void 0,!!t&&!!t.binaryAutoClassifyEncoding):new su},t.fields=function(){return t.Field.build()};var e=t.Encoding;function n(t){var n=t.precision;if(void 0!==n){var r=Math.pow(10,n),i=e.by(e.fixedPoint(r));switch(t.encoding){case"pack":return i.and(e.integerPacking);case"rle":return i.and(e.runLength).and(e.integerPacking);case"delta":return i.and(e.delta).and(e.integerPacking);case"delta-rle":return i.and(e.delta).and(e.runLength).and(e.integerPacking)}}else switch(t.encoding){case"pack":return e.by(e.integerPacking);case"rle":return e.by(e.runLength).and(e.integerPacking);case"delta":return e.by(e.delta).and(e.integerPacking);case"delta-rle":return e.by(e.delta).and(e.runLength).and(e.integerPacking)}throw new Error("cannot be reached")}t.Encodings={deltaRLE:e.by(e.delta).and(e.runLength).and(e.integerPacking),fixedPoint2:e.by(e.fixedPoint(100)).and(e.delta).and(e.integerPacking),fixedPoint3:e.by(e.fixedPoint(1e3)).and(e.delta).and(e.integerPacking)},t.categoryInstance=function(t,e){return{fields:t,source:[e]}},t.createEncodingProviderFromCifFrame=function(t){return{get:function(e,n){var r=t.categories[e];if(r){var i=r.getField(n);return i&&i.binaryEncoding?Ka.fromEncoding(i.binaryEncoding):void 0}}}},t.createEncodingProviderFromJsonConfig=function(t){return{get:function(e,r){for(var i=0;i<t.length;i++){var o=t[i];if(o.categoryName===e&&o.columnName===r)return n(o)}}}}}(bu||(bu={})),function(t){t.Descriptor={name:"chem_comp_bond",cifExport:{prefix:"",categories:[{name:"chem_comp_bond",instance:function(e){var n=t.Provider.get(e.firstModel);if(!n)return bu.Category.Empty;var r=n.data;if(!r)return bu.Category.Empty;for(var i=e.structures[0].uniqueResidueNames,o=r.comp_id,a=r._rowCount,u=[],s=0;s<a;s++)i.has(o.value(s))&&(u[u.length]=s);return bu.Category.ofTable(r,u)}}]}},t.Provider=Xr.create(t.Descriptor),t.chemCompBondFromTable=function(t,e){return Zt.pick(e,ja.chem_comp_bond,(function(n){return t.properties.chemicalComponentMap.has(e.comp_id.value(n))}))},t.getEntriesFromChemCompBond=function(t){var n=new Map;function r(t){if(n.has(t))return n.get(t);var r=new e(t);return n.set(t,r),r}for(var i=t.comp_id,o=t.atom_id_1,a=t.atom_id_2,u=t.value_order,s=t.pdbx_aromatic_flag,c=t._rowCount,l=t.pdbx_ordinal,d=r(i.value(0)),f=0;f<c;f++){var p=i.value(f),m=o.value(f),h=a.value(f),g=u.value(f),v="y"===s.value(f),y=l.value(f);d.id!==p&&(d=r(p));var _=1,b=1;switch(v&&(_|=16),g.toLowerCase()){case"delo":_|=16;break;case"doub":b=2;break;case"trip":b=3;break;case"quad":b=4}d.add(m,h,b,_,y)}return n};var e=function(){function t(t){this.id=t,this.map=new Map}return t.prototype.add=function(t,e,n,r,i,o){void 0===o&&(o=!0);var a=this.map.get(t);if(void 0!==a){void 0===a.get(e)&&a.set(e,{order:n,flags:r,key:i})}else{var u=new Map;u.set(e,{order:n,flags:r,key:i}),this.map.set(t,u)}o&&this.add(e,t,n,r,i,!1)},t}();t.Entry=e}(xu||(xu={})),function(t){function e(t,e){for(var n=t.units,r=0,i=n.length;r<i;r++)if(an.indexOf(n[r].elements,e)>=0)return!0;return!1}t.Descriptor={name:"struct_conn",cifExport:{prefix:"",categories:[{name:"struct_conn",instance:function(n){var r=t.Provider.get(n.firstModel);if(!r||0===r.entries.length)return bu.Category.Empty;for(var i=n.structures[0],o=[],a=0,u=r.entries;a<u.length;a++){var s=u[a];e(i,s.partnerA.atomIndex)&&e(i,s.partnerB.atomIndex)&&(o[o.length]=s.rowIndex)}return bu.Category.ofTable(r.data,o)}}]}},t.Provider=Xr.create(t.Descriptor),t.isExhaustive=function(e){var n=t.Provider.get(e);return!!n&&n.data.id.rowCount/e.atomicConformation.atomId.rowCount>.95},t.getAtomIndexFromEntries=function(t){for(var e=new Map,n=0,r=t;n<r.length;n++){var i=r[n],o=i.partnerA.atomIndex,a=i.partnerB.atomIndex;e.has(o)?e.get(o).push(i):e.set(o,[i]),e.has(a)?e.get(a).push(i):e.set(a,[i])}return e},t.getEntriesFromStructConn=function(t,e){for(var n=t.conn_type_id,r=t.pdbx_dist_value,i=t.pdbx_value_order,o={label_asym_id:t.ptnr1_label_asym_id,label_seq_id:t.ptnr1_label_seq_id,auth_seq_id:t.ptnr1_auth_seq_id,label_atom_id:t.ptnr1_label_atom_id,label_alt_id:t.pdbx_ptnr1_label_alt_id,ins_code:t.pdbx_ptnr1_PDB_ins_code,symmetry:t.ptnr1_symmetry},a={label_asym_id:t.ptnr2_label_asym_id,label_seq_id:t.ptnr2_label_seq_id,auth_seq_id:t.ptnr2_auth_seq_id,label_atom_id:t.ptnr2_label_atom_id,label_alt_id:t.pdbx_ptnr2_label_alt_id,ins_code:t.pdbx_ptnr2_PDB_ins_code,symmetry:t.ptnr2_symmetry},u=Array.from(e.entities.data.id.toArray()),s=function(t,n){if(0===n.label_asym_id.valueKind(t)){var r=n.label_asym_id.value(t),i=n.label_atom_id.value(t);if(i)for(var o=n.label_alt_id.value(t),a=0,s=u;a<s.length;a++){var c=s[a],l=e.atomicHierarchy.index.findResidue(c,r,n.auth_seq_id.value(t),n.ins_code.value(t));if(!(l<0)){var d=e.atomicHierarchy.index.findAtomOnResidue(l,i,o);if(!(d<0))return{residueIndex:l,atomIndex:d,symmetry:n.symmetry.value(t)}}}}},c=[],l=0;l<t._rowCount;l++){var d=s(l,o),f=s(l,a);if(void 0!==d&&void 0!==f){var p=n.value(l),m=0,h=1;switch(i.value(l)||""){case"sing":h=1;break;case"doub":h=2;break;case"trip":h=3;break;case"quad":h=4;break;default:h=Ma(t.ptnr1_label_comp_id.value(l),t.ptnr1_label_atom_id.value(l),t.ptnr2_label_comp_id.value(l),t.ptnr2_label_atom_id.value(l))}switch(p){case"covale":m=1;break;case"disulf":m=9;break;case"hydrog":m=4;break;case"metalc":m=2}c.push({rowIndex:l,flags:m,order:h,distance:r.value(l),partnerA:d,partnerB:f})}}return c}}(Au||(Au={}));var Bu=A.distance;function Iu(t,e,n,r,i,o,a){for(var u=new Yr.EdgeBuilder(o,t,e),s=new Uint16Array(u.slotCount),c=new Int8Array(u.slotCount),l=new Uint32Array(u.slotCount),d=0,f=u.edgeCount;d<f;d++)u.addNextEdge(),u.assignProperty(s,r[d]),u.assignProperty(c,n[d]),u.assignProperty(l,i[d]);return u.createGraph({flags:s,order:c,key:l},{canRemap:a})}var Pu=A(),Eu=A();function Mu(t,e,n){return t.conformation.position(e,Pu),t.conformation.position(n,Eu),Bu(Pu,Eu)}var ku=new Set;function Du(t,e){var n=Object(T.a)(Object(T.a)({},va),e);return n.noCompute||th.isCoarseGrained(t.model)&&!Qr.Provider.get(t.model)&&!Au.isExhaustive(t.model)?fa.Empty:!n.forceCompute&&Qr.Provider.get(t.model)?function(t){for(var e=Qr.Provider.get(t.model),n=t.elements,r=t.model.atomicHierarchy.atoms.type_symbol,i=t.elements.length,o=e.maxDistance,a=e.bonds,u=a.offset,s=a.b,c=a.edgeProps,l=c.order,d=c.distance,f=c.flag,p=c.key,m=c.operatorA,h=c.operatorB,v=t.model.atomicHierarchy.atomSourceIndex,y=th.getInvertedAtomSourceIndex(t.model).invertedIndex,_=[],b=[],x=[],A=[],w=[],S=t.conformation.operator.key,C=0;C<i;C++)for(var B=n[C],I=Aa(r.value(B)),P=Ba(I),E=v.value(B),M=u[E],k=u[E+1];M<k;++M){var D=y[s[M]];if(!(B>=D)){var O=an.indexOf(t.elements,D);if(!(O<0)){var N=m[M],T=h[M];if(!(N>=0&&N!==S||T>=0&&T!==S)){var U=Aa(r.value(D)),R=d[M],L=Mu(t,B,D),G=!1;if(R>=0)G=g(L,R,.3);else if(o>=0)G=L<o;else{G=L<Sa(I,U,wa(I),wa(U)),P&&Ba(U)&&(G=!1)}G&&(_[_.length]=C,b[b.length]=O,A[A.length]=l[M],x[x.length]=f[M],w[w.length]=p[M])}}}}return Iu(_,b,A,x,w,i,!1)}(t):function(t,e){for(var n=e.maxRadius,r=t.model.atomicConformation,i=r.x,o=r.y,a=r.z,u=t.elements.length,s=t.elements,c=t.residueIndex,l=t.chainIndex,d=t.model.atomicHierarchy.atoms,f=d.type_symbol,p=d.label_atom_id,m=d.label_alt_id,h=d.label_comp_id,g=t.model.atomicHierarchy.residues.label_seq_id,v=t.model.atomicHierarchy.index,y=t.model.sequence.byEntityKey,_=t.lookup3d,b=Au.Provider.get(t.model),x=xu.Provider.get(t.model),A=Au.isExhaustive(t.model),w=[],S=[],C=[],B=[],I=[],P=-1,E=void 0,M=!0,k=!0,D=!0,O=ku,N=0;N<u;N++){var T=s[N],U=f.value(T);M&&"H"!==U&&"O"!==U&&(M=!1);var R=e.forceCompute?void 0:b&&b.byAtomIndex.get(T),L=!1;if(R)for(var G=0,q=R;G<q.length;G++){var F=q[G],j=F.partnerA,H=F.partnerB;if(j.symmetry===H.symmetry){var V=j.atomIndex===T?H:j;(ut=an.indexOf(t.elements,V.atomIndex))<0||s[ut]<T||(w[w.length]=N,S[S.length]=ut,C[C.length]=F.flags,B[B.length]=F.order,I[I.length]=F.rowIndex,L||O.clear(),L=!0,O.add(ut))}}if(!A){var z=c[T],Y=g.value(z),K=h.value(T);if(!e.forceCompute&&z!==P)if(x&&x.entries.has(K)){var Z=y[v.getEntityFromChain(l[T])];E=Z&&Z.sequence.microHet.has(Y)?void 0:x.entries.get(K).map}else E=void 0;P=z;for(var W=Aa(U),X=p.value(T),Q=E?E.get(X):void 0,J=_.find(i[T],o[T],a[T],n),$=J.indices,tt=J.count,et=J.squaredDistances,nt=Ba(W),rt=wa(W),it=m.value(T),ot=xa.has(W),at=0;at<tt;at++){var ut=$[at];if(!L||!O.has(ut)){var st=s[ut];if(!(st<=T)){var ct=m.value(st);if(!it||!ct||it===ct){var lt=Aa(f.value(st)),dt=Ba(lt);if(!nt||!dt){var ft=(ot||xa.has(lt))&&!(nt||dt),pt=c[st];if(z===pt&&Q){var mt=Q.get(p.value(st));if(mt){w[w.length]=N,S[S.length]=ut,B[B.length]=mt.order;var ht=mt.flags;ft&&(1|ht&&(ht^=1),ht|=2),C[C.length]=ht,I[I.length]=mt.key}}else{var gt=Math.sqrt(et[at]);if(0!==gt)if(gt<=Sa(W,lt,rt,wa(lt))){w[w.length]=N,S[S.length]=ut,B[B.length]=Pa(K,X,p.value(st)),C[C.length]=32|(ft?2:1),I[I.length]=-1;var vt=g.value(pt);Y===vt&&(k=!1),Math.abs(Y-vt)>1&&(D=!1)}}}}}}}}}return Iu(w,S,B,C,I,u,M||k&&D)}(t,n)}var Ou=A.distance,Nu=A.set,Tu=A.squaredDistance,Uu=A.transformMat4,Ru=A(),Lu=A();function Gu(t,e,n,r){return t.conformation.position(e,Ru),n.conformation.position(r,Lu),Ou(Ru,Lu)}var qu=I(),Fu=A();var ju,Hu=Object(T.a)(Object(T.a)({},va),{ignoreWater:!0,ignoreIon:!0});function Vu(t,e){var n=new da.Builder,r=t.models.some((function(t){return Qr.Provider.get(t)})),i=t.models.some((function(t){return Au.isExhaustive(t)}));return e.noCompute||t.isCoarseGrained&&!r&&!i||dp.eachUnitPair(t,(function(t,r){!function(t,e,n,r){var i=n.maxRadius,o=t.elements,a=t.residueIndex,u=t.model.atomicConformation,s=u.x,c=u.y,l=u.z,d=e.elements,f=e.residueIndex,p=t.elements.length,m=t.model.atomicHierarchy.atoms,h=m.type_symbol,v=m.label_alt_id,y=m.label_atom_id,_=m.label_comp_id,b=e.model.atomicHierarchy.atoms,x=b.type_symbol,A=b.label_alt_id,w=b.label_atom_id,S=b.label_comp_id,C=t.model.atomicHierarchy.residues.auth_seq_id,B=e.model.atomicHierarchy.residues.auth_seq_id,P=t.model.atomicConformation.occupancy,E=e.model.atomicConformation.occupancy,M=P.isDefined&&E.isDefined,k=t.model===e.model&&Au.Provider.get(t.model),D=!n.forceCompute&&t.model===e.model&&Qr.Provider.get(t.model),O=t.model.atomicHierarchy.atomSourceIndex,N=(D?th.getInvertedAtomSourceIndex(e.model):{invertedIndex:void 0}).invertedIndex,T=t.model===e.model&&Au.isExhaustive(t.model),U=I.mul(qu,e.conformation.operator.inverse,t.conformation.operator.matrix),R=!I.isIdentity(U),L=e.boundary.sphere,G=L.center,q=L.radius,F=(q+i)*(q+i);r.startUnitPair(t.id,e.id);for(var j=t.conformation.operator.key,H=e.conformation.operator.key,V=0;V<p;V++){var z=o[V];if(Nu(Fu,s[z],c[z],l[z]),R&&Uu(Fu,Fu,U),!(Tu(Fu,G)>F))if(n.forceCompute||!D){var Y=n.forceCompute?void 0:k&&k.byAtomIndex.get(z);if(Y&&Y.length){for(var K=!1,Z=0,W=Y;Z<W.length;Z++){var X=W[Z],Q=X.partnerA,J=X.partnerB,$=Q.atomIndex===z?J:Q;(Ot=an.indexOf(e.elements,$.atomIndex))<0||(Gu(t,z,e,$.atomIndex)>i||(r.add(V,Ot,{order:X.order,flag:X.flags,key:X.rowIndex}),K=!0))}if(K)continue}if(!T){var tt=P.value(z),et=e.lookup3d.find(Fu[0],Fu[1],Fu[2],i),nt=et.indices,rt=et.count,it=et.squaredDistances;if(0!==rt)for(var ot=Aa(h.value(z)),at=Ba(ot),ut=wa(ot),st=v.value(z),ct=xa.has(ot),lt=y.value(z),dt=_.value(a[z]),ft=0;ft<rt;ft++){Nt=d[Ot=nt[ft]];var pt=A.value(Nt);if((!st||!pt||st===pt)&&!(M&&E.value(Nt)<1&&tt<1&&C.value(z)===B.value(Nt))){var mt=Ba(Rt=Aa(x.value(Nt)));if(!at||!mt){var ht=(ct||xa.has(Rt))&&!(at||mt);if(0!==(Gt=Math.sqrt(it[ft])))if(Gt<=Sa(ot,Rt,ut,wa(Rt))){var gt=w.value(Nt),vt=S.value(f[Nt]);r.add(V,Ot,{order:Ma(dt,vt,lt,gt),flag:32|(ht?2:1),key:-1})}}}}}}else for(var yt=D.maxDistance,_t=D.bonds,bt=_t.offset,xt=_t.b,At=_t.edgeProps,wt=At.order,St=At.distance,Ct=At.flag,Bt=At.key,It=At.operatorA,Pt=At.operatorB,Et=O.value(z),Mt=Aa(h.value(z)),kt=bt[Et],Dt=bt[Et+1];kt<Dt;++kt){var Ot,Nt=N[xt[kt]];if(!((Ot=an.indexOf(e.elements,Nt))<0)){var Tt=It[kt],Ut=Pt[kt];if(!(Tt>=0&&Tt!==j&&Tt!==H||Ut>=0&&Ut!==H&&Ut!==j)){var Rt=Aa(h.value(Nt)),Lt=St[kt],Gt=Gu(t,z,e,Nt),qt=!1;if(Lt>=0)qt=g(Gt,Lt,.3);else if(yt>=0)qt=Gt<yt;else{qt=Gt<Sa(Mt,Rt,wa(Mt),wa(Rt)),Ba(Mt)&&Ba(Rt)&&(qt=!1)}qt&&r.add(V,Ot,{order:wt[kt],flag:Ct[kt],key:Bt[kt]})}}}}r.finishUnitPair()}(t,r,e,n)}),{maxRadius:e.maxRadius,validUnit:function(t){return e.validUnit(t)},validUnitPair:function(n,r){return e.validUnitPair(t,n,r)}}),new ga(n.getMap())}function zu(t,e){var n=Object(T.a)(Object(T.a)({},Hu),e);return Vu(t,Object(T.a)(Object(T.a)({},n),{validUnit:e&&e.validUnit||function(t){return Ns.isAtomic(t)},validUnitPair:e&&e.validUnitPair||function(t,e,r){if(!dp.validUnitPair(t,e,r))return!1;var i=e.model.atomicHierarchy.derived.residue.moleculeType,o=r.model.atomicHierarchy.derived.residue.moleculeType,a=!(Ns.isAtomic(e)&&2===i[e.residueIndex[e.elements[0]]]||Ns.isAtomic(r)&&2===o[r.residueIndex[r.elements[0]]]),u=!Ns.isAtomic(e)||3!==i[e.residueIndex[e.elements[0]]],s=!Ns.isAtomic(r)||3!==o[r.residueIndex[r.elements[0]]],c=u&&s;return!(!a&&n.ignoreWater||!c&&n.ignoreIon)||function(t,e){if(t.model!==e.model||!Ns.isAtomic(t)||!Ns.isAtomic(e))return!1;var n=Au.Provider.get(t.model);if(!n)return!1;for(var r=t.elements.length<e.elements.length?t:e,i=t.elements.length>=e.elements.length?t:e,o=r.elements,a=i.elements,u=an.indexOf,s=0,c=o.length;s<c;s++){var l=o[s],d=n.byAtomIndex.get(l);if(null==d?void 0:d.length)for(var f=0,p=d;f<p.length;f++){var m=p[f],h=m.partnerA.atomIndex===l?m.partnerB.atomIndex:m.partnerA.atomIndex;if(u(a,h)>=0)return!0}}return!1}(e,r)}}))}function Yu(t){for(var e=function(t,e){return{startVertex:0,endVertex:0,count:0,isRingAtom:new Int32Array(e),marked:new Int32Array(e),queue:new Int32Array(e),pred:new Int32Array(e),depth:new Int32Array(e),left:new Int32Array(5),right:new Int32Array(5),color:new Int32Array(e),currentColor:0,currentAltLoc:"",hasAltLoc:!1,rings:[],currentRings:[],unit:t,bonds:t.bonds,altLoc:t.model.atomicHierarchy.atoms.label_alt_id}}(t,function(t){var e=Kn.transientSegments(t.model.atomicHierarchy.residueAtomSegments,t.elements),n=0;for(;e.hasNext;){var r=e.move();n=Math.max(n,r.end-r.start)}return n}(t)),n=Kn.transientSegments(t.model.atomicHierarchy.residueAtomSegments,t.elements);n.hasNext;){var r=n.move();Xu(e,r.start,r.end)}return e.rings}function Ku(t){t.count=t.endVertex-t.startVertex;for(var e=t.isRingAtom,n=t.pred,r=t.color,i=t.depth,o=t.marked,a=0;a<t.count;a++)e[a]=0,n[a]=-1,o[a]=-1,r[a]=0,i[a]=0;t.currentColor=0,t.currentAltLoc="",t.hasAltLoc=!1}function Zu(t){for(var e=t.depth,n=0;n<t.count;n++)e[n]=t.count+1}function Wu(t,e){var n=t.bonds.offset,r=t.startVertex+e,i=n[r],o=n[r+1]-i;return!(o<=1||t.isRingAtom[e]&&2===o)}function Xu(t,e,n){if(t.startVertex=e,t.endVertex=n,!(t.endVertex-t.startVertex<3)){t.currentRings=[];for(var r=t.unit.elements,i=[],o=t.startVertex;o<t.endVertex;o++){Mr(i,s=t.altLoc.value(r[o]))}!function(t,e){var n=t.indexOf(e);if(n<0)return!1;for(var r=n,i=t.length-1;r<i;r++)t[r]=t[r+1];t.pop()}(i,"");var a=1;if(0===i.length){Ku(t);for(o=0;o<t.count;o++)Wu(t,o)&&(Zu(t),a=Ju(t,o,a))}else for(var u=0;u<i.length;u++){Ku(t),t.hasAltLoc=!0,t.currentAltLoc=i[u];for(o=0;o<t.count;o++){var s;if(Wu(t,o))(s=t.altLoc.value(r[t.startVertex+o]))&&s!==t.currentAltLoc||(Zu(t),a=Ju(t,o,a))}}o=0;for(var c=t.currentRings.length;o<c;o++)t.rings.push(t.currentRings[o])}}function Qu(t,e,n,r){if(n<e)return!1;for(var i=t.pred,o=t.color,a=t.left,u=t.right,s=++t.currentColor,c=e,l=0;l<5&&(o[c]=s,!((c=i[c])<0));l++);var d=0,f=0,p=!1,m=0;c=n;for(l=0;l<5;l++){if(o[c]===s){m=c,p=!0;break}if(u[f++]=c,(c=i[c])<0)break}if(!p)return!1;c=e;for(l=0;l<5&&(a[d++]=c,m!==c)&&!((c=i[c])<0);l++);var h=d+f;if(h<3)return!1;var g=new Int32Array(h),v=0;for(l=0;l<d;l++)g[v++]=t.startVertex+a[l],r[a[l]]=1;for(l=f-1;l>=0;l--)g[v++]=t.startVertex+u[l],r[u[l]]=1;dt(g);for(var y=0,_=t.currentRings.length;y<_;y++){var b=t.currentRings[y];if(g.length===b.length){if(an.areEqual(g,b))return!1}else if(g.length>b.length&&an.isSubset(g,b))return!1}return t.currentRings.push(an.ofSortedArray(g)),!0}function Ju(t,e,n){var r=t.bonds,i=t.startVertex,o=t.endVertex,a=t.isRingAtom,u=t.marked,s=t.queue,c=t.pred,l=t.depth,d=t.unit.elements,f=r.b,p=r.edgeProps.flags,m=r.offset;u[e]=n,l[e]=0,s[0]=e;for(var h=0,g=1;h<g;)for(var v=s[h++],y=l[v],_=i+v,b=m[_],x=m[_+1],A=b;A<x;A++){var w=f[A];if(!(w<i||w>=o)&&na.isCovalent(p[A])){if(t.hasAltLoc){var S=t.altLoc.value(d[w]);if(S&&t.currentAltLoc!==S)continue}var C=w-i;if(u[C]!==n){var B=Math.min(l[C],y+1);B>5||(l[C]=B,u[C]=n,s[g++]=C,c[C]=v)}else if(c[C]!==v&&c[v]!==C&&Qu(t,v,C,a))return n+1}}return n+1}function $u(t){for(var e=t.length,n=new Int32Array(2*e),r=0;r<n.length;r++)n[r]=-1;for(var i="",o="",a=0,u=1;u<n.length;u++){for(r=n[u-a-1];-1!==r&&(i=t[u%e])!==(o=t[(a+r+1)%e]);)i<o&&(a=u-r-1),r=n[r];-1===r&&(i=t[u%e])!==(o=t[(a+r+1)%e])?(i<o&&(a=u),n[u-a]=-1):n[u-a]=r+1}return a}function ts(t,e){var n,r=t.length,i=[];for(n=0;n<r-1;n++)i.push(t[(n+e)%r]),i.push("-");return i.push(t[(n+e)%r]),i.join("")}!function(t){function e(t,e,n,r,i,o){return{kind:"bond-location",aStructure:t,aUnit:e,aIndex:n,bStructure:r,bUnit:i,bIndex:o}}function n(t,e){return t.aStructure.label===e.aStructure.label&&t.bStructure.label===e.bStructure.label&&t.aIndex===e.aIndex&&t.bIndex===e.bIndex&&t.aUnit.id===e.aUnit.id&&t.bUnit.id===e.bUnit.id}function r(t,e){return{kind:"bond-loci",structure:t,bonds:e}}t.Location=e,t.isLocation=function(t){return!!t&&"bond-location"===t.kind},t.areLocationsEqual=n,t.Loci=r,t.isLoci=function(t){return!!t&&"bond-loci"===t.kind},t.areLociEqual=function(t,e){if(t.structure!==e.structure)return!1;if(t.bonds.length!==e.bonds.length)return!1;for(var r=0,i=t.bonds.length;r<i;++r)if(!n(t.bonds[r],e.bonds[r]))return!1;return!0},t.isLociEmpty=function(t){return 0===t.bonds.length},t.remapLoci=function(t,n){if(n===t.structure)return t;var i=[];return t.bonds.forEach((function(r){var o=n.unitMap.get(r.aUnit.id);if(o){var a=n.unitMap.get(r.bUnit.id);if(a){var u=r.aUnit.elements[r.aIndex],s=an.indexOf(o.elements,u);if(-1!==s){var c=r.bUnit.elements[r.bIndex],l=an.indexOf(a.elements,c);-1!==l&&i.push(e(t.structure,o,s,t.structure,a,l))}}}})),r(n,i)},t.toStructureElementLoci=function(t){for(var e=[],n=new Map,r=0,i=t.bonds;r<i.length;r++){var o=i[r],a=o.aIndex,u=o.aUnit,s=o.bIndex,c=o.bUnit;u===c?n.has(u.id)?n.get(u.id).push(a,s):n.set(u.id,[a,s]):(n.has(u.id)?n.get(u.id).push(a):n.set(u.id,[a]),n.has(c.id)?n.get(c.id).push(s):n.set(c.id,[s]))}return n.forEach((function(n,r){e.push({unit:t.structure.unitMap.get(r),indices:an.deduplicate(an.ofUnsortedArray(n))})})),l.Loci(t.structure,e)},t.toFirstStructureElementLoci=function(t){var e=t.bonds[0],n=e.aUnit,r=e.aIndex;return l.Loci(t.structure,[{unit:n,indices:ln.ofSingleton(r)}])},t.getType=function(t,e){if(e.aUnit===e.bUnit){var n=e.aUnit.bonds,r=n.getEdgeIndex(e.aIndex,e.bIndex);return r<0?na.create(0):na.create(n.edgeProps.flags[r])}var i=t.interUnitBonds.getBondFromLocation(e);return i?na.create(i.props.flag):na.create(0)},t.getOrder=function(t,e){if(e.aUnit===e.bUnit){var n=e.aUnit.bonds,r=n.getEdgeIndex(e.aIndex,e.bIndex);return r<0?0:n.edgeProps.order[r]}var i=t.interUnitBonds.getBondFromLocation(e);return i?i.props.order:0},t.getIntraUnitBondCount=function(t){for(var e=0,n=0,r=t.units.length;n<r;++n){var i=t.units[n];Ns.isAtomic(i)&&(e+=i.bonds.edgeCount)}return e};var i=function(){function t(){this.current={},this.hasNext=!1}return t.prototype.move=function(){return this.advance(),this.current},t.prototype.setElement=function(t,e,n){this.structure=t,this.unit=e,this.index=n,this.interBondIndices=t.interUnitBonds.getEdgeIndices(n,e.id),this.interBondCount=this.interBondIndices.length,this.interBondIndex=0,this.intraBondEnd=e.bonds.offset[n+1],this.intraBondIndex=e.bonds.offset[n],this.hasNext=this.interBondIndex<this.interBondCount||this.intraBondIndex<this.intraBondEnd},t.prototype.advance=function(){if(this.intraBondIndex<this.intraBondEnd)this.current.otherUnit=this.unit,this.current.otherIndex=this.unit.bonds.b[this.intraBondIndex],this.current.type=this.unit.bonds.edgeProps.flags[this.intraBondIndex],this.current.order=this.unit.bonds.edgeProps.order[this.intraBondIndex],this.intraBondIndex+=1;else{if(!(this.interBondIndex<this.interBondCount))return void(this.hasNext=!1);var t=this.structure.interUnitBonds.edges[this.interBondIndex];this.current.otherUnit=this.structure.unitMap.get(t.unitA!==this.unit.id?t.unitA:t.unitB),this.current.otherIndex=t.indexA!==this.index?t.indexA:t.indexB,this.current.type=t.props.flag,this.current.order=t.props.order,this.interBondIndex+=1}this.hasNext=this.interBondIndex<this.interBondCount||this.intraBondIndex<this.intraBondEnd},t}();t.ElementBondIterator=i,t.getBoundingSphere=function(t,e){return la.fromPairProvider(t.bonds.length,(function(e,n,r){var i=t.bonds[e],o=i.aUnit,a=i.aIndex,u=i.bUnit,s=i.bIndex;o.conformation.position(o.elements[a],n),u.conformation.position(u.elements[s],r)}),e)}}(ju||(ju={}));var es=new Set;function ns(t,e){var n=Co[t];if(void 0!==n){var r=n[e];if(void 0!==r)return r}return es}var rs=A.zero();function is(t,e){for(var n=t.conformation.position,r=new Float32Array(3*e.length),i=t.elements,o=0,a=e.length;o<a;++o)n(i[e[o]],rs),A.toArray(rs,r,3*o);return r}var os,as,us,ss=function(){function t(t,e){this.unit=e,this.all=t}return Object.defineProperty(t.prototype,"index",{get:function(){return this._index||(this._index=function(t,e){for(var n=new Map,r=new Map,i=0,o=t.length;i<o;i++)for(var a=0,u=(f=t[i]).length;a<u;a++){var s=f[a];n.has(s)?n.get(s).push(i):n.set(s,[i])}for(var c=0,l=e.length;c<l;c++)for(a=0,u=(f=t[i=e[c]]).length;a<u;a++){s=f[a];r.has(s)?r.get(s).push(i):r.set(s,[i])}var d=new Yr.UniqueEdgeBuilder(t.length);for(i=0,o=t.length;i<o;i++){var f;for(a=0,u=(f=t[i]).length;a<u;a++){s=f[a];var p=n.get(s);if(1!==p.length)for(var m=0,h=p.length;m<h;m++){var g=p[m];i>=g||d.addEdge(i,g)}}}var v=Yr.connectedComponents(d.getGraph()),y=v.componentIndex,_=[];for(a=0;a<v.componentCount;a++)_[a]=[];for(i=0,o=t.length;i<o;i++)_[y[i]].push(i);return{elementRingIndices:n,elementAromaticRingIndices:r,ringComponentIndex:y,ringComponents:_}}(this.all,this.aromaticRings)),this._index},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"byFingerprint",{get:function(){return this._byFingerprint||(this._byFingerprint=function(t,e){for(var n=new Map,r=0,i=0,o=e.length;i<o;i++){var a=e[i],u=os.fingerprint(t,a);n.has(u)?n.get(u).push(r):n.set(u,[r]),r++}return n}(this.unit,this.all)),this._byFingerprint},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"elementRingIndices",{get:function(){return this.index.elementRingIndices},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"elementAromaticRingIndices",{get:function(){return this.index.elementAromaticRingIndices},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ringComponentIndex",{get:function(){return this.index.ringComponentIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ringComponents",{get:function(){return this.index.ringComponents},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"aromaticRings",{get:function(){return this._aromaticRings||(this._aromaticRings=function(t,e){for(var n=[],r=0,i=e.length;r<i;++r)os.isAromatic(t,e[r])&&n.push(r);return n}(this.unit,this.all)),this._aromaticRings},enumerable:!1,configurable:!0}),t}();function cs(t,e){for(var n=t.elements,r=t.model.atomicHierarchy.residueAtomSegments.index,i=r[n[e[0]]],o=1,a=e.length;o<a;o++)if(i!==r[n[e[o]]])return-1;return i}function ls(t,e,n){var r=t.byFingerprint.get(e);if(r)for(var i=0,o=r.length;i<o;i++){var a=r[i],u=cs(t.unit,t.all[a]);u>=0&&(n.has(u)?n.get(u).push(a):n.set(u,[a]))}}!function(t){function e(t){return function(t){for(var e=t.length,n=new Array(e),r=0;r<e;r++)n[r]=t[e-r-1];var i=$u(t),o=$u(n),a=!1;for(r=0;r<e;r++){var u=t[(r+i)%e],s=n[(r+o)%e];if(u!==s){a=u<s;break}}return a?ts(t,i):ts(n,o)}(t)}t.fingerprint=function(t,n){for(var r=t.elements,i=t.model.atomicHierarchy.atoms.type_symbol,o=[],a=0,u=n.length;a<u;a++)o[o.length]=i.value(r[n[a]]);return e(o)},t.elementFingerprint=e;var n=new Set(["B","C","N","O","SI","P","S","GE","AS","SN","SB","BI"]);t.isAromatic=function(t,e){var r=t.elements,i=t.bonds,o=i.b,a=i.offset,u=i.edgeProps.flags,s=t.model.atomicHierarchy.atoms,c=s.type_symbol;if("PRO"===s.label_comp_id.value(t.elements[e[0]]))return!1;for(var l=0,d=!1,f=0,p=e.length;f<p;++f){var m=e[f];!d&&n.has(c.value(r[m]))&&(d=!0);for(var h=a[m],g=a[m+1];h<g;++h)na.is(16,u[h])&&an.has(e,o[h])&&(l+=1)}if(l===2*e.length)return!0;if(!d)return!1;if(e.length<5)return!1;if(l>0)return!1;var v=hr.calculateMomentsAxes(is(t,e));return A.magnitude(v.dirC)<.05},t.getAltId=function(t,e){for(var n=t.model.atomicHierarchy.atoms.label_alt_id,r=t.elements,i=0,o=e.length;i<o;++i){var a=r[e[i]],u=n.value(a);if(u)return u}return""}}(os||(os={})),(as=ss||(ss={})).create=function(t){var e=Yu(t);return new as(e,t)},as.byFingerprintAndResidue=function(t,e){for(var n=new Map,r=0,i=e.length;r<i;r++)ls(t,e[r],n);return n},function(t){function e(t){return t[t.length-1]}function n(t){return t.length/2}function r(t,e){return t[2*e]}function i(t,e){return t[2*e+1]+1}function o(t,e){return t[2*e]}function a(t,e){return t[2*e+1]}function u(t,e){return s(t,e,0)}function s(t,r,i){if(o(t,i)>ln.max(r)||e(t)<ln.min(r))return-1;for(var u=i,s=n(t);u<s;++u){var c=ge.ofRange(o(t,u),a(t,u));if(ln.areIntersecting(c,r))return u}return-1}t.ofSortedRanges=function(t){return an.ofSortedArray(t)},t.start=function(t){return t[0]},t.end=function(t){return t[t.length-1]+1},t.min=function(t){return t[0]},t.max=e,t.size=function(t){for(var e=0,n=0,r=t.length;n<r;n+=2)e+=t[n+1]-t[n]+1;return e},t.count=n,t.startAt=r,t.endAt=i,t.minAt=o,t.maxAt=a,t.areEqual=function(t,e){if(t.length!==e.length)return!1;for(var n=0,r=t.length;n<r;++n)if(t[n]!==e[n])return!1;return!0},t.forEach=function(t,e){for(var n=0,r=0,i=t.length;r<i;r+=2)for(var o=t[r],a=t[r+1];o<=a;++o)e(o,n),++n},t.has=function(t,e){return-1!==u(t,e)},t.hasFrom=function(t,e,n){return-1!==s(t,e,n)},t.firstIntersectionIndex=u,t.firstIntersectionIndexFrom=s,t.transientSegments=function(t,e){return new c(t,e)};var c=function(){function t(t,e){this.ranges=t,this.set=e,this.value={index:0,start:0,end:0},this.curIndex=0,this.hasNext=!1,this.curIndex=u(t,e),this.hasNext=-1!==this.curIndex}return t.prototype.updateValue=function(){this.value.index=this.curIndex,this.value.start=ln.findPredecessorIndex(this.set,r(this.ranges,this.curIndex)),this.value.end=ln.findPredecessorIndex(this.set,i(this.ranges,this.curIndex))},t.prototype.move=function(){return this.hasNext&&(this.updateValue(),this.curIndex=s(this.ranges,this.set,this.curIndex+1),this.hasNext=-1!==this.curIndex),this.value},t}();t.Iterator=c}(us||(us={}));var ds=A.zero();function fs(t){var e=function(t){for(var e=t.conformation.invariantPosition,n=t.elements,r=new Float32Array(3*n.length),i=0,o=n.length;i<o;i++)e(n[i],ds),A.toArray(ds,r,3*i);return r}(t);return hr.ofPositions(e)}var ps=A.dot,ms=A.copy,hs=A.scaleAndSub,gs=A.scaleAndAdd,vs=function(){function t(t){this.minDist=[],this.maxDist=[],this.extrema=[],this.centroidHelper=new la,this.dir=function(t){var e;switch(t){case"6":e=Object(T.e)([],ys,!0);break;case"14":e=Object(T.e)(Object(T.e)([],ys,!0),_s,!0);break;case"26":e=Object(T.e)(Object(T.e)(Object(T.e)([],ys,!0),_s,!0),bs,!0);break;case"98":e=Object(T.e)(Object(T.e)(Object(T.e)(Object(T.e)(Object(T.e)(Object(T.e)([],ys,!0),_s,!0),bs,!0),xs,!0),As,!0),ws,!0)}return e.map((function(t){var e=A.create(t[0],t[1],t[2]);return A.normalize(e,e)}))}(t),this.dirLength=this.dir.length,this.reset()}return t.prototype.computeExtrema=function(t,e){var n=ps(this.dir[t],e);n<this.minDist[t]&&(this.minDist[t]=n,ms(this.extrema[2*t],e)),n>this.maxDist[t]&&(this.maxDist[t]=n,ms(this.extrema[2*t+1],e))},t.prototype.computeSphereExtrema=function(t,e,n){var r=this.dir[t],i=ps(r,e);i-n<this.minDist[t]&&(this.minDist[t]=i-n,hs(this.extrema[2*t],e,r,n)),i+n>this.maxDist[t]&&(this.maxDist[t]=i+n,gs(this.extrema[2*t+1],e,r,n))},t.prototype.includeSphere=function(t){if(ur.hasExtrema(t)&&t.extrema.length>1)for(var e=0,n=t.extrema;e<n.length;e++){var r=n[e];this.includePosition(r)}else this.includePositionRadius(t.center,t.radius)},t.prototype.includePosition=function(t){for(var e=0;e<this.dirLength;++e)this.computeExtrema(e,t)},t.prototype.includePositionRadius=function(t,e){for(var n=0;n<this.dirLength;++n)this.computeSphereExtrema(n,t,e)},t.prototype.finishedIncludeStep=function(){for(var t=0;t<this.extrema.length;t++)this.centroidHelper.includeStep(this.extrema[t]);this.centroidHelper.finishedIncludeStep()},t.prototype.radiusSphere=function(t){if(ur.hasExtrema(t)&&t.extrema.length>1)for(var e=0,n=t.extrema;e<n.length;e++){var r=n[e];this.radiusPosition(r)}else this.radiusPositionRadius(t.center,t.radius)},t.prototype.radiusPosition=function(t){this.centroidHelper.radiusStep(t)},t.prototype.radiusPositionRadius=function(t,e){this.centroidHelper.radiusSphereStep(t,e)},t.prototype.getSphere=function(t){return ur.setExtrema(this.centroidHelper.getSphere(t),this.extrema.slice())},t.prototype.getBox=function(t){return sr.fromVec3Array(t||sr(),this.extrema)},t.prototype.reset=function(){for(var t=0;t<this.dirLength;++t)this.minDist[t]=1/0,this.maxDist[t]=-1/0,this.extrema[2*t]=A(),this.extrema[2*t+1]=A();this.centroidHelper.reset()},t}();var ys=[[1,0,0],[0,1,0],[0,0,1]],_s=[[1,1,1],[-1,1,1],[-1,-1,1],[1,-1,1]],bs=[[1,1,0],[1,-1,0],[1,0,1],[1,0,-1],[0,1,1],[0,1,-1]],xs=[[0,1,2],[0,2,1],[1,0,2],[2,0,1],[1,2,0],[2,1,0],[0,1,-2],[0,2,-1],[1,0,-2],[2,0,-1],[1,-2,0],[2,-1,0]],As=[[1,1,2],[2,1,1],[1,2,1],[1,-1,2],[1,1,-2],[1,-1,-2],[2,-1,1],[2,1,-1],[2,-1,-1],[1,-2,1],[1,2,-1],[1,-2,-1]],ws=[[2,2,1],[1,2,2],[2,1,2],[2,-2,1],[2,2,-1],[2,-2,-1],[1,-2,2],[1,2,-2],[1,-2,-2],[2,-1,2],[2,1,-2],[2,-1,-2]],Ss=A.set,Cs=new vs("14"),Bs=new vs("98");function Is(t){var e=sr.computeBounding(t);return{box:e,sphere:ur.fromBox3D(ur(),e)}}var Ps=A();function Es(t){var e=t.x,n=t.y,r=t.z,i=t.radius,o=t.indices,a=ln.size(o);if(a>25e4)return Is(t);var u=a>1e4?Cs:Bs;u.reset();for(var s=0;s<a;s++){var c=ln.getAt(o,s);Ss(Ps,e[c],n[c],r[c]),u.includePositionRadius(Ps,i&&i[c]||0)}u.finishedIncludeStep();for(s=0;s<a;s++){c=ln.getAt(o,s);Ss(Ps,e[c],n[c],r[c]),u.radiusPositionRadius(Ps,i&&i[c]||0)}var l=u.getSphere();if(!i&&ur.hasExtrema(l)&&a<=l.extrema.length){var d=[];for(s=0;s<a;s++){c=ln.getAt(o,s);d.push(A.create(e[c],n[c],r[c]))}ur.setExtrema(l,d)}return{box:u.getBox(),sphere:l}}var Ms,ks,Ds,Os,Ns,Ts,Us=function(){function t(){this.data=new Map}return t.prototype.get=function(t){var e=an.hashCode(t);if(this.data.has(e))for(var n=0,r=this.data.get(e);n<r.length;n++){var i=r[n],o=i[0],a=i[1];if(an.areEqual(t,o))return a}},t.prototype.set=function(t,e){var n=an.hashCode(t);if(this.data.has(n)){for(var r=this.data.get(n),i=0,o=r;i<o.length;i++){var a=o[i];if(an.areEqual(t,a[0]))return void(a[1]=e)}r.push([t,e])}else this.data.set(n,[[t,e]])},t.get=function(e){return e._dynamicPropertyData.ElementSetIntraBondCache||(e._dynamicPropertyData.ElementSetIntraBondCache=new t),e._dynamicPropertyData.ElementSetIntraBondCache},t}(),Rs=function(){function t(t,e,n){this.operatorsProvider=n,this.id=t,this.details=e}return Object.defineProperty(t.prototype,"operatorGroups",{get:function(){return this._operators||(this._operators=this.operatorsProvider()),this._operators},enumerable:!1,configurable:!0}),t}();function Ls(t,e,n){if(!t._rowCount)return[];for(var r=function(t){for(var e=t.id,n=t.matrix,r=t.vector,i=t._schema,o=new Map,a=A(),u=0,s=t._rowCount;u<s;u++){var c=w.toMat4(I(),i.matrix.space,n.value(u));w.toVec3(a,i.vector.space,r.value(u)),I.setTranslation(c,a),I.setValue(c,3,3,1),o.set(e.value(u),c)}return o}(n),i=[],o=0;o<t._rowCount;o++)i[i.length]=Gs(t,e,o,r);return i}function Gs(t,e,n,r){for(var i=t.id.value(n),o=t.details.value(n),a=[],u=e.assembly_id,s=e.oper_expression,c=e.asym_id_list,l=0,d=e._rowCount;l<d;l++)u.value(l)===i&&(a[a.length]={assemblyId:i,expression:s.value(l),asymIds:c.value(l)});return Rs.create(i,o,function(t,e){return function(){for(var n=[],r=0,i=0;i<t.length;i++){var o=t[i],a=qs(js(o.expression)),u=Fs(e,a,r,o.assemblyId),s=jf.generators.atoms({chainTest:jf.pred.and(jf.pred.eq((function(t){return $d.unit.operator_name(t.element)}),L.DefaultName),jf.pred.inSet((function(t){return $d.chain.label_asym_id(t.element)}),o.asymIds))});n[n.length]={selector:s,operators:u,asymIds:o.asymIds},r+=u.length}return n}}(a,r))}function qs(t){for(var e=[],n=[],r=0;r<t.length;r++)n[r]="";return function t(e,n,r,i){if(r<0)return void(n[n.length]=i.slice(0));for(var o=e[r],a=o.length,u=0;u<a;u++)i[r]=o[u],t(e,n,r-1,i)}(t,e,t.length-1,n),e}function Fs(t,e,n,r){for(var i=[],o=n,a=0,u=e;a<u.length;a++){for(var s=u[a],c=I.identity(),l=0;l<s.length;l++)I.mul(c,c,t.get(s[l]));o++,i[i.length]=L.create("ASM_".concat(o),c,{assembly:{id:r,operId:o,operList:s}})}return i}function js(t){for(var e,n=/\(?([^\(\)]+)\)?]*/g,r=[],i=[];e=n.exec(t);)r[r.length]=e[1];return r.forEach((function(t){var e=[];t.split(",").forEach((function(t){var n=t.indexOf("-");if(n>0)for(var r=parseInt(t.substring(0,n)),i=parseInt(t.substr(n+1)),o=r;o<=i;o++)e[e.length]=o.toString();else e[e.length]=t.trim()})),i[i.length]=e})),i}function Hs(t){if(0!==t._rowCount){for(var e=t.id,n=t.matrix,r=t.vector,i=ja.struct_ncs_oper.matrix.space,o=ja.struct_ncs_oper.vector.space,a=[],u=0;u<t._rowCount;u++){var s=w.toMat3(P(),i,n.value(u)),c=w.toVec3(A(),o,r.value(u));if(L.checkIfRotationAndTranslation(s,c)&&("given"!==t.code.value(u)||P.isIdentity(s)||A.isZero(c))){var l=e.value(u);a[a.length]=L.ofRotationAndOffset("ncs_".concat(l),s,c,l)}}return a}}function Vs(t){for(var e=t.bonds,n=e.b,r=e.edgeProps,i=e.offset,o=(r.order,r.flags),a=t.rings.elementAromaticRingIndices,u=[],s=new Map,c=new Map,l=function(t,e,n){var r=u.length;u.push(an.ofUnsortedArray([t,e,n])),s.set(yt(t,e),n),c.has(t)?c.get(t).push(r):c.set(t,[r])},d=0;d<t.elements.length;d++){if(!a.has(d))if(!(i[d+1]-i[d]+1<2)){for(var f=[],p=i[d],m=i[d+1];p<m;p++){var h=o[p];na.is(h,16)&&f.push(n[p])}if(f.length>=2){l(d,f[0],f[1]);for(var g=1,v=f.length;g<v;g++)l(d,f[g],f[0])}}}return{getThirdElement:function(t,e){return s.get(yt(t,e))},getTripletIndices:function(t){return c.get(t)},triplets:u}}!function(t){t.create=function(e,n,r){return new t(e,n,r)}}(Rs||(Rs={})),(ks=Ms||(Ms={})).Default={assemblies:[],spacegroup:J.ZeroP1,isNonStandardCrystalFrame:!1},ks.findAssembly=function(t,e){var n=e.toLocaleLowerCase(),r=Ds.Provider.get(t);return r?function(t,e){for(var n=0,r=t.length;n<r;n++)if(e(t[n]))return t[n]}(r.assemblies,(function(t){return t.id.toLowerCase()===n})):void 0},ks.getUnitcellLabel=function(t){var e=t.spacegroup,n=e.cell,r=e.name,i=e.num,o=n.size,a=n.anglesInRadians,u=o[0].toFixed(2),s=o[1].toFixed(2),c=o[2].toFixed(2),l=B(a[0]).toFixed(2),d=B(a[1]).toFixed(2),f=B(a[2]).toFixed(2),p=[];return p.push("Unit Cell <b>".concat(r,"</b> #").concat(i)),p.push("".concat(u,"×").concat(s,"×").concat(c," Å")),p.push("α=".concat(l,"° β=").concat(d,"° γ=").concat(f,"°")),p.join(" | ")},(Os=Ds||(Ds={})).Descriptor={name:"model_symmetry"},Os.Provider=Xr.create(Os.Descriptor),Os.fromData=function(t){var e=Ls(t.pdbx_struct_assembly,t.pdbx_struct_assembly_gen,t.pdbx_struct_oper_list),n=function(t,e){if(0===t._rowCount||0===e._rowCount)return J.ZeroP1;var n=e.length_a.value(0),r=e.length_b.value(0),i=e.length_c.value(0);if(0===n||0===r||0===i)return J.ZeroP1;var o=e.angle_alpha.value(0),a=e.angle_beta.value(0),u=e.angle_gamma.value(0);if(0===o||0===a||0===u)return J.ZeroP1;var s=function(t){var e=t.Int_Tables_number.value(0),n=t["space_group_name_H-M"].value(0);return t.Int_Tables_number.isDefined?t["space_group_name_H-M"].isDefined?n:e:n}(t),c=Q.create(s,A.create(n,r,i),A.scale(A(),A.create(o,a,u),Math.PI/180));return J.create(c)}(t.symmetry,t.cell);return{assemblies:e,spacegroup:n,isNonStandardCrystalFrame:(t.atom_sites._rowCount,!1),ncsOperators:Hs(t.struct_ncs_oper)}},Os.fromCell=function(t,e){var n=Q.create("P 1",t,e);return{assemblies:[],spacegroup:J.create(n),isNonStandardCrystalFrame:!1}},function(t){var e,n;function r(t){for(var e=[],n=0,r=t.length;n<r;n++)e.push(t[n].id);return _t(e)}function i(t){var e={};return{elements:t[0].elements,units:t,get unitIndexMap(){return e.unitIndexMap||(e.unitIndexMap=function(t){for(var e=Qn.Mutable(),n=0,r=t.length;n<r;n++)e.set(t[n].id,n);return e}(t)),e.unitIndexMap},hashCode:o(t[0]),transformHash:r(t)}}function o(t){return gt(t.invariantId,an.hashCode(t.elements))}!function(t){t[t.Atomic=0]="Atomic",t[t.Spheres=1]="Spheres",t[t.Gaussians=2]="Gaussians"}(t.Kinds||(t.Kinds={})),t.isAtomic=function(t){return 0===t.kind},t.isCoarse=function(t){return 1===t.kind||2===t.kind},t.isSpheres=function(t){return 1===t.kind},t.isGaussians=function(t){return 2===t.kind},t.create=function(t,e,n,r,i,o,s,c,d){switch(i){case 0:return new a(t,e,n,r,o,c,L.createMapping(s,o.atomicConformation),null!=d?d:u());case 1:return p(t,e,n,r,o,1,c,L.createMapping(s,o.coarseConformation.spheres,function(t){var e=t.coarseConformation.spheres.radius;return function(t){return e[t]}}(o)),null!=d?d:l());case 2:return p(t,e,n,r,o,2,c,L.createMapping(s,o.coarseConformation.gaussians,(function(t){return 0})),null!=d?d:l())}},t.SymmetryGroup=i,function(t){t.areInvariantElementsEqual=function(t,e){return t.hashCode===e.hashCode&&an.areEqual(t.elements,e.elements)},t.getUnitSymmetryGroupsIndexMap=function(t){for(var e=Qn.Mutable(),n=0,r=t.length;n<r;++n)for(var i=t[n],o=0,a=i.units.length;o<a;++o)e.set(i.units[o].id,n);return e}}(i=t.SymmetryGroup||(t.SymmetryGroup={})),t.conformationId=function(e){return t.isAtomic(e)?e.model.atomicConformation.id:e.model.coarseConformation.id},t.hashUnit=o,function(t){t[t.None=0]="None",t[t.MultiChain=1]="MultiChain",t[t.Partitioned=2]="Partitioned",t[t.FastBoundary=4]="FastBoundary"}(e=t.Trait||(t.Trait={})),function(t){t.is=Mt.has,t.create=Mt.create}(n=t.Traits||(t.Traits={}));var a=function(){function r(t,e,n,r,i,o,a,u){this.kind=0,this.objectPrimitive="atomistic",this.id=t,this.invariantId=e,this.chainGroupId=n,this.traits=r,this.model=i,this.elements=o,this.conformation=a,this.residueIndex=i.atomicHierarchy.residueAtomSegments.index,this.chainIndex=i.atomicHierarchy.chainAtomSegments.index,this.props=u}return r.prototype.getChild=function(t){return t.length===this.elements.length?this:new r(this.id,this.invariantId,this.chainGroupId,this.traits,this.model,t,this.conformation,u())},r.prototype.applyOperator=function(t,e,n){void 0===n&&(n=!1);var i=n?e:L.compose(this.conformation.operator,e);return new r(t,this.invariantId,this.chainGroupId,this.traits,this.model,this.elements,L.createMapping(i,this.model.atomicConformation,this.conformation.r),this.props)},r.prototype.remapModel=function(e,n,i){var o,a;i||(i=Object(T.a)(Object(T.a)({},this.props),{bonds:n&&!(null===(a=null===(o=this.props.bonds)||void 0===o?void 0:o.props)||void 0===a?void 0:a.canRemap)?void 0:m(this,this.props.bonds,e,n)}),t.isSameConformation(this,e)||(i.boundary=void 0,i.lookup3d=void 0,i.principalAxes=void 0));var u=this.conformation.operator,s=Ds.Provider.get(e);if(-1!==u.spgrOp&&s&&s!==Ds.Provider.get(this.model)){var c=u.hkl,l=c[0],d=c[1],f=c[2],p=s.spacegroup.cell.toFractional,h=A.transformMat4(A(),th.getCenter(e),p);u=J.getSymmetryOperatorRef(s.spacegroup,u.spgrOp,l,d,f,h)}var g=this.model.atomicConformation!==e.atomicConformation||u!==this.conformation.operator?L.createMapping(u,e.atomicConformation):this.conformation;return new r(this.id,this.invariantId,this.chainGroupId,this.traits,e,this.elements,g,i)},Object.defineProperty(r.prototype,"boundary",{get:function(){if(this.props.boundary)return this.props.boundary;var t=this.model.atomicConformation,r=t.x,i=t.y,o=t.z;return this.props.boundary=n.is(this.traits,e.FastBoundary)?Is({x:r,y:i,z:o,indices:this.elements}):Es({x:r,y:i,z:o,indices:this.elements}),this.props.boundary},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"lookup3d",{get:function(){if(this.props.lookup3d)return this.props.lookup3d;var t=this.model.atomicConformation,e=t.x,n=t.y,r=t.z;return this.props.lookup3d=fr({x:e,y:n,z:r,indices:this.elements},this.boundary),this.props.lookup3d},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"principalAxes",{get:function(){return this.props.principalAxes||(this.props.principalAxes=fs(this)),this.props.principalAxes},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"bonds",{get:function(){if(this.props.bonds)return this.props.bonds;var t=Us.get(this.model),e=t.get(this.elements);return e||(e=Du(this),t.set(this.elements,e)),this.props.bonds=e,this.props.bonds},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"rings",{get:function(){return this.props.rings||(this.props.rings=ss.create(this)),this.props.rings},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"resonance",{get:function(){return this.props.resonance||(this.props.resonance={delocalizedTriplets:Vs(this)}),this.props.resonance},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"polymerElements",{get:function(){return this.props.polymerElements||(this.props.polymerElements=function(t){for(var e=[],n=t.elements,r=t.model,i=t.model.atomicHierarchy.residueAtomSegments,o=r.atomicHierarchy.derived.residue.traceElementIndex,a=us.transientSegments(t.model.atomicRanges.polymerRanges,n),u=Kn.transientSegments(i,n);a.hasNext;){var s=a.move();for(u.setSegment(s);u.hasNext;){var c=u.move(),l=c.start,d=c.end,f=c.index;if(ln.areIntersecting(ge.ofRange(n[l],n[d-1]),n)){var p=o[f];e.push(-1===p?i.offsets[f]:p)}}}return an.ofSortedArray(e)}(this)),this.props.polymerElements},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"gapElements",{get:function(){return this.props.gapElements||(this.props.gapElements=function(t){for(var e=[],n=t.elements,r=t.model,i=t.residueIndex,o=t.model.atomicHierarchy.residueAtomSegments,a=r.atomicHierarchy.derived.residue.traceElementIndex,u=us.transientSegments(t.model.atomicRanges.gapRanges,t.elements);u.hasNext;){var s=u.move(),c=i[n[s.start]],l=i[n[s.end-1]],d=a[c],f=a[l];e.push(-1===d?o.offsets[c]:d),e.push(-1===f?o.offsets[l]:f)}return an.ofSortedArray(e)}(this)),this.props.gapElements},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"nucleotideElements",{get:function(){return this.props.nucleotideElements||(this.props.nucleotideElements=function(t){for(var e=[],n=t.elements,r=t.model,i=r.atomicHierarchy,o=i.chainAtomSegments,a=i.residueAtomSegments,u=r.atomicHierarchy.derived.residue,s=u.moleculeType,c=u.traceElementIndex,l=Kn.transientSegments(o,n),d=Kn.transientSegments(a,n);l.hasNext;)for(d.setSegment(l.move());d.hasNext;){var f=d.move().index;if(ta(s[f])){var p=c[f];e.push(-1===p?a.offsets[f]:p)}}return an.ofSortedArray(e)}(this)),this.props.nucleotideElements},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"proteinElements",{get:function(){return this.props.proteinElements||(this.props.proteinElements=function(t){for(var e=[],n=t.elements,r=t.model,i=r.atomicHierarchy,o=i.chainAtomSegments,a=i.residueAtomSegments,u=r.atomicHierarchy.derived.residue,s=u.moleculeType,c=u.traceElementIndex,l=Kn.transientSegments(o,n),d=Kn.transientSegments(a,n);l.hasNext;)for(d.setSegment(l.move());d.hasNext;){var f=d.move().index;if(ea(s[f])){var p=c[f];e.push(-1===p?a.offsets[f]:p)}}return an.ofSortedArray(e)}(this)),this.props.proteinElements},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"residueCount",{get:function(){if(void 0!==this.props.residueCount)return this.props.residueCount;for(var t=0,e=Kn.transientSegments(this.model.atomicHierarchy.residueAtomSegments,this.elements);e.hasNext;)e.move(),t+=1;return this.props.residueCount=t,this.props.residueCount},enumerable:!1,configurable:!0}),r.prototype.getResidueIndex=function(t){return this.residueIndex[this.elements[t]]},r}();function u(){return{}}t.Atomic=a;var s=function(){function r(t,e,n,r,i,o,a,u,s){this.kind=o,this.objectPrimitive=1===o?"sphere":"gaussian",this.id=t,this.invariantId=e,this.chainGroupId=n,this.traits=r,this.model=i,this.elements=a,this.conformation=u,this.coarseElements=1===o?i.coarseHierarchy.spheres:i.coarseHierarchy.gaussians,this.coarseConformation=1===o?i.coarseConformation.spheres:i.coarseConformation.gaussians,this.props=s}return r.prototype.getChild=function(t){return t.length===this.elements.length?this:p(this.id,this.invariantId,this.chainGroupId,this.traits,this.model,this.kind,t,this.conformation,l())},r.prototype.applyOperator=function(t,e,n){void 0===n&&(n=!1);var r=n?e:L.compose(this.conformation.operator,e);return p(t,this.invariantId,this.chainGroupId,this.traits,this.model,this.kind,this.elements,L.createMapping(r,this.getCoarseConformation(),this.conformation.r),this.props)},r.prototype.remapModel=function(e,n,i){var o=this.getCoarseConformation(),a=c(this.kind,e);i||(i=Object(T.a)({},this.props),t.isSameConformation(this,e)||(i.boundary=void 0,i.lookup3d=void 0,i.principalAxes=void 0));var u=o!==a?L.createMapping(this.conformation.operator,a):this.conformation;return new r(this.id,this.invariantId,this.chainGroupId,this.traits,e,this.kind,this.elements,u,i)},Object.defineProperty(r.prototype,"boundary",{get:function(){if(this.props.boundary)return this.props.boundary;var t=this.getCoarseConformation(),r=t.x,i=t.y,o=t.z;return this.props.boundary=n.is(this.traits,e.FastBoundary)?Is({x:r,y:i,z:o,indices:this.elements}):Es({x:r,y:i,z:o,indices:this.elements}),this.props.boundary},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"lookup3d",{get:function(){if(this.props.lookup3d)return this.props.lookup3d;var t=this.getCoarseConformation(),e=t.x,n=t.y,r=t.z;return this.props.lookup3d=fr({x:e,y:n,z:r,indices:this.elements},this.boundary),this.props.lookup3d},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"principalAxes",{get:function(){return this.props.principalAxes||(this.props.principalAxes=fs(this)),this.props.principalAxes},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"polymerElements",{get:function(){return this.props.polymerElements||(this.props.polymerElements=function(t){for(var e=[],n=t.elements,r=t.model.coarseHierarchy,i=r.spheres,o=r.gaussians,a=Ns.isSpheres(t)?i.polymerRanges:o.polymerRanges,u=us.transientSegments(a,n);u.hasNext;)for(var s=u.move(),c=s.start,l=s.end,d=c;d<l;++d)e.push(n[d]);return an.ofSortedArray(e)}(this)),this.props.polymerElements},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"gapElements",{get:function(){return this.props.gapElements||(this.props.gapElements=function(t){for(var e=[],n=t.elements,r=t.model.coarseHierarchy,i=r.spheres,o=r.gaussians,a=Ns.isSpheres(t)?i.gapRanges:o.gapRanges,u=us.transientSegments(a,n);u.hasNext;){var s=u.move(),c=s.start,l=s.end;e.push(n[c],n[l-1])}return an.ofSortedArray(e)}(this)),this.props.gapElements},enumerable:!1,configurable:!0}),r.prototype.getCoarseConformation=function(){return c(this.kind,this.model)},r}();function c(t,e){return 1===t?e.coarseConformation.spheres:e.coarseConformation.gaussians}function l(){return{}}var d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(T.c)(e,t),e}(s);t.Spheres=d;var f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(T.c)(e,t),e}(s);function p(t,e,n,r,i,o,a,u,c){return new s(t,e,n,r,i,o,a,u,c)}function m(t,e,n,r){var i;if(e){if(t.model.atomicConformation.id===n.atomicConformation.id)return e;var o=Qr.Provider.get(t.model);if(o){var a=Qr.Provider.get(n);return a&&o!==a?void 0:e}return(null===(i=e.props)||void 0===i?void 0:i.canRemap)||!r||h(t,n)?e:void 0}}function h(t,e){var n=th.CoordinatesHistory.get(th.getRoot(e));if(n)return n.areEqual(t.elements,t.kind,e);for(var r=t.elements,i=t.conformation.coordinates,o=i.x,a=i.y,u=i.z,s=g(t.kind,e),c=s.x,l=s.y,d=s.z,f=0,p=r.length;f<p;f++){var m=r[f];if(o[m]!==c[m]||a[m]!==l[m]||u[m]!==d[m])return!1}return!0}function g(t,e){return 0===t?e.atomicConformation:1===t?e.coarseConformation.spheres:e.coarseConformation.gaussians}function v(t,e){return 0===t?e.atomicHierarchy:1===t?e.coarseHierarchy.spheres:e.coarseHierarchy.gaussians}t.Gaussians=f,t.areSameChainOperatorGroup=function(t,e){return t.chainGroupId===e.chainGroupId&&t.conformation.operator.name===e.conformation.operator.name},t.areOperatorsEqual=function(t,e){return I.areEqual(t.conformation.operator.matrix,e.conformation.operator.matrix,1e-6)},t.areConformationsEqual=function(t,e){return t===e||!!an.areEqual(t.elements,e.elements)&&h(t,e.model)},t.isSameConformation=h,t.getModelConformationOfKind=g,t.getConformation=function(t){return g(t.kind,t.model)},t.getModelHierarchyOfKind=v,t.getHierarchy=function(t){return v(t.kind,t.model)}}(Ns||(Ns={})),function(t){t.add=function(t,e,n,r){t.indices[t.count]=n,t.units[t.count]=e,t.squaredDistances[t.count]=r,t.count++},t.create=function(){return{count:0,indices:[],units:[],squaredDistances:[]}},t.copy=function(t,e){for(var n=0;n<e.count;++n)t.indices[n]=e.indices[n],t.units[n]=e.units[n],t.squaredDistances[n]=e.squaredDistances[n];return t.count=e.count,t}}(Ts||(Ts={}));var zs,Ys,Ks=function(){function t(t){this.structure=t,this.pivot=A(),this.heap=new dr,this.findContext={result:Ts.create(),closeUnitsResult:$.create(),unitGroupResult:$.create()};for(var e=t.units,n=t.boundary,r=e.length,i=new Float32Array(r),o=new Float32Array(r),a=new Float32Array(r),u=new Float32Array(r),s=A(),c=0;c<r;c++){var l=e[c],d=l.boundary.sphere;A.transformMat4(s,d.center,l.conformation.operator.matrix),i[c]=s[0],o[c]=s[1],a[c]=s[2],u[c]=d.radius}var f={x:i,y:o,z:a,radius:u,indices:ln.ofBounds(0,r)};this.unitLookup=fr(f,n)}return t.prototype.findUnitIndices=function(t,e,n,r){return this.unitLookup.find(t,e,n,r)},t.prototype.find=function(t,e,n,r,i){return this._find(t,e,n,r,null!=i?i:this.findContext)},t.prototype._find=function(t,e,n,r,i){$.reset(i.result);var o=this.structure.units,a=this.unitLookup.find(t,e,n,r,i.closeUnitsResult);if(0===a.count)return i.result;for(var u=0,s=a.count;u<s;u++){var c=o[a.indices[u]];A.set(this.pivot,t,e,n),c.conformation.operator.isIdentity||A.transformMat4(this.pivot,this.pivot,c.conformation.operator.inverse);for(var l=c.lookup3d.find(this.pivot[0],this.pivot[1],this.pivot[2],r,i.unitGroupResult),d=0,f=l.count;d<f;d++)Ts.add(i.result,c,l.indices[d],l.squaredDistances[d])}return i.result},t.prototype.nearest=function(t,e,n,r,i){return void 0===r&&(r=1),this._nearest(t,e,n,r,null!=i?i:this.findContext)},t.prototype._nearest=function(t,e,n,r,i){var o=i.result,a=this.heap;$.reset(o),a.clear();var u=this.structure.units,s=0,c=this.unitLookup.nearest(t,e,n,u.length,(function(t){return(s+=u[t].elements.length)>=r}),i.closeUnitsResult);if(0===c.count)return o;for(var l=0,d=-Number.MAX_VALUE,f=0,p=c.count;f<p;f++){var m=c.squaredDistances[f];if(l>=r&&d<m)break;A.set(this.pivot,t,e,n),(b=u[c.indices[f]]).conformation.operator.isIdentity||A.transformMat4(this.pivot,this.pivot,b.conformation.operator.inverse);var h=b.lookup3d.nearest(this.pivot[0],this.pivot[1],this.pivot[2],r,void 0,i.unitGroupResult);if(0!==h.count){l+=h.count,d=Math.max(d,h.squaredDistances[h.count-1]);for(var g=0,v=h.count;g<v;g++)a.insert(h.squaredDistances[g],{index:h.indices[g],unit:b})}}if(1===r){if(w=a.findMinimum()){var y=w.key,_=w.value,b=_.unit,x=_.index;Ts.add(o,b,x,y)}}else for(;!a.isEmpty()&&o.count<r;){y=(w=a.extractMinimum()).key;var w,S=w.value;b=S.unit,x=S.index;Ts.add(o,b,x,y)}return o},t.prototype.findIntoBuilder=function(t,e,n,r,i){var o=this.structure.units,a=this.unitLookup.find(t,e,n,r);if(0!==a.count)for(var u=0,s=a.count;u<s;u++){var c=o[a.indices[u]];A.set(this.pivot,t,e,n),c.conformation.operator.isIdentity||A.transformMat4(this.pivot,this.pivot,c.conformation.operator.inverse);var l=c.lookup3d.find(this.pivot[0],this.pivot[1],this.pivot[2],r);if(0!==l.count){var d=c.elements;i.beginUnit(c.id);for(var f=0,p=l.count;f<p;f++)i.addElement(d[l.indices[f]]);i.commitUnit()}}},t.prototype.findIntoBuilderIf=function(t,e,n,r,i,o){var a=this.structure.units,u=this.unitLookup.find(t,e,n,r);if(0!==u.count)for(var s=l.Location.create(this.structure),c=0,d=u.count;c<d;c++){var f=a[u.indices[c]];A.set(this.pivot,t,e,n),f.conformation.operator.isIdentity||A.transformMat4(this.pivot,this.pivot,f.conformation.operator.inverse);var p=f.lookup3d.find(this.pivot[0],this.pivot[1],this.pivot[2],r);if(0!==p.count){var m=f.elements;s.unit=f,i.beginUnit(f.id);for(var h=0,g=p.count;h<g;h++)s.element=m[p.indices[h]],o(s)&&i.addElement(s.element);i.commitUnit()}}},t.prototype.findIntoBuilderWithRadius=function(t,e,n,r,i,o,a,u){var s=this.structure.units,c=this.unitLookup.find(t,e,n,o);if(0!==c.count)for(var d=l.Location.create(this.structure),f=r+i+o,p=0,m=c.count;p<m;p++){var h=s[c.indices[p]];A.set(this.pivot,t,e,n),h.conformation.operator.isIdentity||A.transformMat4(this.pivot,this.pivot,h.conformation.operator.inverse);var g=h.lookup3d.find(this.pivot[0],this.pivot[1],this.pivot[2],f);if(0!==g.count){var v=h.elements;d.unit=h,u.beginUnit(h.id);for(var y=0,_=g.count;y<_;y++){d.element=v[g.indices[y]];var b=a(d);Math.sqrt(g.squaredDistances[y])-r-b>o||u.addElement(v[g.indices[y]])}u.commitUnit()}}},t.prototype.check=function(t,e,n,r){var i=this.structure.units,o=this.unitLookup.find(t,e,n,r);if(0===o.count)return!1;for(var a=0,u=o.count;a<u;a++){var s=i[o.indices[a]];if(A.set(this.pivot,t,e,n),s.conformation.operator.isIdentity||A.transformMat4(this.pivot,this.pivot,s.conformation.operator.inverse),s.lookup3d.check(this.pivot[0],this.pivot[1],this.pivot[2],r))return!0}return!1},Object.defineProperty(t.prototype,"boundary",{get:function(){return this.structure.boundary},enumerable:!1,configurable:!0}),t}();function Zs(t,e){if(0===e.length)return dp.Empty;if(1===e.length)return e[0];for(var n=new Map,r=new Set,i=0,o=e;i<o.length;i++)for(var a=o[i].units,u=0,s=a.length;u<s;u++){var c=a[u];if(n.has(c.id)){if(r.has(c.id))continue;var l=an.union(n.get(c.id),c.elements);n.set(c.id,l),l.length===t.unitMap.get(c.id).elements.length&&r.add(c.id)}else n.set(c.id,c.elements),c.elements.length===t.unitMap.get(c.id).elements.length&&r.add(c.id)}var d=t.subsetBuilder(!0);return n.forEach(Ws,d),d.getStructure()}function Ws(t,e){this.setUnit(e,t)}function Xs(t,e){if(t===e)return!0;var n,r;t.units.length<e.units.length?(n=t,r=e):(n=e,r=t);for(var i=n.units,o=r.unitMap,a=0,u=i.length;a<u;a++){var s=i[a];if(o.has(s.id)){var c=o.get(s.id);if(an.areIntersecting(s.elements,c.elements))return!0}}return!1}function Qs(t,e){if(t===e)return dp.Empty;if(!Xs(t,e))return t;for(var n=t.units,r=e.unitMap,i=[],o=0,a=n.length;o<a;o++){var u=n[o];if(r.has(u.id)){var s=r.get(u.id),c=an.subtract(u.elements,s.elements);c.length>0&&(i[i.length]=u.getChild(c))}else i[i.length]=u}return dp.create(i,{parent:t.parent||e.parent})}function Js(t){return na.isCovalent(t.atomicBond.type)}function $s(){return function(t){for(var e=t.inputStructure,n=l.Location.create(e),r=[],i=0,o=e.units;i<o.length;i++){var a=o[i];if(0===a.kind){n.unit=a;var u=a.elements;if(n.element=u[0],"polymer"===$d.entity.type(n)){for(var s=Kn.transientSegments(a.model.atomicHierarchy.residueAtomSegments,u),c=0;s.hasNext;)c++,s.move();c<8||r.push(a)}}}return zs.Singletons(e,dp.create(r,{parent:e}))}}function tc(){return function(t){for(var e=t.inputStructure,n=l.Location.create(e),r=[],i=0,o=e.units;i<o.length;i++){var a=o[i];if(0===a.kind){n.unit=a;var u=a.elements;n.element=u[0],"water"===$d.entity.type(n)&&r.push(a)}}return zs.Singletons(e,dp.create(r,{parent:e}))}}function ec(){return function(t){for(var e=t.inputStructure,n=l.Location.create(e),r=[],i=0,o=e.units;i<o.length;i++){var a=o[i];if(0===a.kind){n.unit=a;var u=a.elements;if(n.element=u[0],"water"!==$d.entity.type(n)){if("polymer"===$d.entity.type(n)){for(var s=Kn.transientSegments(a.model.atomicHierarchy.residueAtomSegments,u),c=0;s.hasNext;)c++,s.move();if(c>=8)continue}r.push(a)}}}return zs.Singletons(e,dp.create(r,{parent:e}))}}function nc(){return function(t){for(var e=t.inputStructure,n=[],r=0,i=e.units;r<i.length;r++){var o=i[r];1===o.kind&&n.push(o)}return zs.Singletons(e,dp.create(n,{parent:e}))}}function rc(t,e,n){return{groupedUnits:t,ranges:e,set:n}}function ic(t){return function(e){var n={hash:e.inputStructure.hashCode,elements:t};return zs.Sequence(e.inputStructure,[Ys.toStructure(n,e.inputStructure)])}}!function(t){function e(t,e){return{kind:"singletons",source:t,structure:e}}function n(t,e){return{kind:"sequence",source:t,structures:e}}function r(t){return e(t,dp.Empty)}function i(t){return"singletons"===t.kind}function o(t){return i(t)?0===t.structure.units.length:0===t.structures.length}function a(t){return o(t)?dp.Empty:i(t)?t.structure:Zs(t.source,t.structures)}function u(t,i,o){return 0===i.length?r(t):o?e(t,Zs(t,i)):n(t,i)}t.Singletons=e,t.Sequence=n,t.Empty=r,t.isSingleton=i,t.isEmpty=o,t.structureCount=function(t){return i(t)?t.structure.elementCount:t.structures.length},t.unionStructure=a,t.toLociWithCurrentUnits=function(t){for(var e=[],n=t.source.unitMap,r=0,i=a(t).units;r<i.length;r++){var o=i[r];o===n.get(o.id)?e[e.length]={unit:o,indices:ln.ofBounds(0,o.elements.length)}:e[e.length]={unit:o,indices:ln.ofSortedArray(an.indicesOf(n.get(o.id).elements,o.elements))}}return l.Loci(t.source,e)},t.toLociWithSourceUnits=function(t){for(var e=[],n=t.source.unitMap,r=0,i=a(t).units;r<i.length;r++){var o=i[r],u=n.get(o.id);e[e.length]=u===o?{unit:u,indices:ln.ofBounds(0,u.elements.length)}:{unit:u,indices:ln.ofSortedArray(an.indicesOf(u.elements,o.elements))}}return l.Loci(t.source,e)};var s=function(){function t(t){this.source=t,this.structures=[],this.allSingletons=!0}return t.prototype.add=function(t){var e=t.elementCount;0!==e&&(this.structures[this.structures.length]=t,1!==e&&(this.allSingletons=!1))},t.prototype.getSelection=function(){return u(this.source,this.structures,this.allSingletons)},t}(),c=function(){function t(t){this.structure=t,this.structures=[],this.allSingletons=!0,this.uniqueSets=mi(dp.hashCode,dp.areUnitIdsAndIndicesEqual)}return t.prototype.add=function(t){var e=t.elementCount;0!==e&&this.uniqueSets.add(t)&&(this.structures[this.structures.length]=t,1!==e&&(this.allSingletons=!1))},t.prototype.getSelection=function(){return u(this.structure,this.structures,this.allSingletons)},t}();t.LinearBuilder=function(t){return new s(t)},t.UniqueBuilder=function(t){return new c(t)},t.forEach=function(e,n){var r=0;if(t.isSingleton(e))for(var i=0,o=e.structure.units;i<o.length;i++)for(var a=o[i],u=a.elements,s=0,c=u.length;s<c;s++){n(dp.create([a.getChild(an.ofSingleton(u[s]))],{parent:e.source}),r++)}else for(var l=0,d=e.structures;l<d.length;l++){n(d[l],r++)}},t.withInputStructure=function(t,r){return i(t)?e(r,t.structure):n(r,t.structures)}}(zs||(zs={})),function(t){function e(t){for(var e=[],n=0,r=t.elements;n<r.length;n++){var i=(h=r[n]).unit,o=h.indices;if(0!==ln.size(o)){var a=[],u=[];if(ln.isInterval(o))1===ln.size(o)?u.push(ge.min(o)):a.push(ge.min(o),ge.max(o));else for(var s=0,c=o.length;s<c;){var l=s;for(s++;s<c&&o[s-1]+1===o[s];)s++;var d=s;if(d-l>2)a.push(o[l],o[d-1]);else for(var f=l;f<d;f++)u[u.length]=o[f]}e.push({unit:i,set:an.ofSortedArray(u),ranges:us.ofSortedRanges(a)})}}for(var p=new Map,m=(s=0,e.length);s<m;++s){var h,g,v=gt(_t((h=e[s]).ranges),_t(h.set));if(p.has(v))(g=p.get(v).groupedUnits).has(h.unit.invariantId)?g.get(h.unit.invariantId).push(h.unit.id):g.set(h.unit.invariantId,[h.unit.id]);else(g=new Map).set(h.unit.invariantId,[h.unit.id]),p.set(v,{groupedUnits:g,set:h.set,ranges:h.ranges})}var y=[];return p.forEach((function(t){var e=[];t.groupedUnits.forEach((function(t){return e.push(an.ofUnsortedArray(t))})),e.sort((function(t,e){return t[0]-e[0]})),y.push({groupedUnits:e,set:t.set,ranges:t.ranges})})),{hash:t.structure.hashCode,elements:y}}function n(t,e){for(var n=[],r=0,i=t.length;r<i;++r){var o=t[r];e.unitMap.has(o)&&n.push(e.unitMap.get(o))}return n}function r(t){return Ri.internal.generator.bundleElement({groupedUnits:Ri.core.type.list(t.groupedUnits.map((function(t){return Ri.core.type.list(t)}))),ranges:Ri.core.type.list(t.ranges),set:Ri.core.type.list(t.set)})}t.Empty={hash:-1,elements:[]},t.fromSubStructure=function(t,n){return e(zs.toLociWithSourceUnits(zs.Singletons(t,n)))},t.fromSelection=function(t){return e(zs.toLociWithSourceUnits(t))},t.fromLoci=e,t.toLoci=function(t,e){-1!==t.hash&&t.hash!==e.hashCode&&new Error("Bundle not compatible with given structure");for(var r=[],i=0,o=t.elements;i<o.length;i++)for(var a=o[i],u=function(t){var i=n(t,e);if(0===i.length)return"continue";var o=void 0;if(0===a.ranges.length)o=a.set;else if(0===a.set.length)if(2===a.ranges.length)o=ge.ofRange(a.ranges[0],a.ranges[1]);else{var u=new Int32Array(us.size(a.ranges));us.forEach(a.ranges,(function(t,e){return u[e]=t})),o=an.ofSortedArray(u)}else{var s=us.size(a.ranges),c=new Int32Array(a.set.length+s);us.forEach(a.ranges,(function(t,e){return c[e]=t})),c.set(a.set,s),o=an.ofUnsortedArray(c)}for(var l=0,d=i;l<d.length;l++){var f=d[l];r.push({unit:f,indices:o})}},s=0,c=a.groupedUnits;s<c.length;s++){u(c[s])}return vp(e,r)},t.toStructure=function(t,e){-1!==t.hash&&t.hash!==e.hashCode&&new Error("Bundle not compatible with given structure");for(var r=[],i=0,o=t.elements;i<o.length;i++)for(var a=o[i],u=function(t){var i=n(t,e);if(0===i.length)return"continue";var o=i[0].elements,u=us.size(a.ranges),s=a.set.length,c=new Int32Array(s+u),l=void 0;if(0===u){for(var d=0,f=s;d<f;++d)c[d]=o[a.set[d]];l=an.ofSortedArray(c)}else if(0===s)us.forEach(a.ranges,(function(t,e){return c[e]=o[t]})),l=an.ofSortedArray(c);else if(an.min(a.set)>us.max(a.ranges)){us.forEach(a.ranges,(function(t,e){return c[e]=o[t]}));for(d=0,f=s;d<f;++d)c[d+u]=o[a.set[d]];l=an.ofSortedArray(c)}else if(us.min(a.ranges)>an.max(a.set)){for(d=0,f=s;d<f;++d)c[d]=o[a.set[d]];us.forEach(a.ranges,(function(t,e){return c[e+s]=o[t]})),l=an.ofSortedArray(c)}else{us.forEach(a.ranges,(function(t,e){return c[e]=o[t]}));for(d=0,f=s;d<f;++d)c[d+u]=o[a.set[d]];l=an.ofUnsortedArray(c)}for(var p=0,m=i;p<m.length;p++){var h=m[p];r.push(h.getChild(l))}},s=0,c=a.groupedUnits;s<c.length;s++){u(c[s])}return dp.create(r,{parent:e})},t.toExpression=function(t){return Ri.internal.generator.bundle({elements:Ri.core.type.list(t.elements.map(r))})},t.areEqual=function(t,e){if(t.elements.length!==e.elements.length)return!1;for(var n=0,r=t.elements.length;n<r;++n){var i=t.elements[n],o=e.elements[n];if(i.groupedUnits.length!==o.groupedUnits.length)return!1;for(var a=0,u=o.groupedUnits.length;a<u;++a)if(!an.areEqual(i.groupedUnits[a],o.groupedUnits[a]))return!1;if(!an.areEqual(i.set,o.set))return!1;if(!us.areEqual(i.ranges,o.ranges))return!1}return!0}}(Ys||(Ys={}));var oc,ac=function(){function t(t,e){this.currentElementStack=[],this.currentAtomicBondStack=[],this.currentStructureStack=[],this.inputStructureStack=[],this.timeCreated=Object(Dr.a)(),this.element=l.Location.create(void 0),this.currentStructure=void 0,this.atomicBond=new uc,this.currentSelection=void 0,this.inputStructure=t,this.timeoutMs=e&&e.timeoutMs||0,this.currentSelection=e&&e.currentSelection}return t.prototype.pushCurrentElement=function(){return this.currentElementStack[this.currentElementStack.length]=this.element,this.element=l.Location.create(void 0),this.element},t.prototype.popCurrentElement=function(){this.element=this.currentElementStack.pop()},t.prototype.pushCurrentBond=function(){return this.atomicBond&&this.currentAtomicBondStack.push(this.atomicBond),this.atomicBond=new uc,this.atomicBond},t.prototype.popCurrentBond=function(){this.currentAtomicBondStack.length>0?this.atomicBond=this.currentAtomicBondStack.pop():this.atomicBond=void 0},t.prototype.pushCurrentStructure=function(){this.currentStructure&&this.currentStructureStack.push(this.currentStructure)},t.prototype.popCurrentStructure=function(){this.currentStructureStack.length?this.currentStructure=this.currentStructureStack.pop():this.currentStructure=void 0},t.prototype.pushInputStructure=function(t){this.inputStructureStack.push(this.inputStructure),this.inputStructure=t},t.prototype.popInputStructure=function(){if(0===this.inputStructureStack.length)throw new Error("Must push before pop.");this.inputStructure=this.inputStructureStack.pop()},t.prototype.throwIfTimedOut=function(){if(0!==this.timeoutMs&&Object(Dr.a)()-this.timeCreated>this.timeoutMs)throw new Error("The query took too long to execute (> ".concat(this.timeoutMs/1e3,"s)."))},t.prototype.tryGetCurrentSelection=function(){if(!this.currentSelection)throw new Error("The current selection is not assigned.");return this.currentSelection},t}(),uc=function(){function t(){this.a=l.Location.create(void 0),this.aIndex=0,this.b=l.Location.create(void 0),this.bIndex=0,this.type=0,this.order=0,this.key=-1,this.testFn=Js}return t.prototype.setStructure=function(t){this.a.structure=t,this.b.structure=t},t.prototype.setTestFn=function(t){this.testFn=t||Js},t.prototype.test=function(t,e){return!!this.testFn(t)||!!e&&(this.swap(),this.testFn(t))},t.prototype.swap=function(){var t=this.aIndex;this.aIndex=this.bIndex,this.bIndex=t;var e=this.a.unit;this.a.unit=this.b.unit,this.b.unit=e;var n=this.a.element;this.a.element=this.b.element,this.b.element=n},Object.defineProperty(t.prototype,"length",{get:function(){return l.Location.distance(this.a,this.b)},enumerable:!1,configurable:!0}),t}();(oc||(oc={})).run=function(t,e,n){return t(new ac(e,n))};var sc=function(){function t(t){this.source=t,this.set=mi(dp.hashCode,dp.areUnitIdsAndIndicesEqual),this.structures=[],this.allSingletons=!0}return t.prototype.add=function(t){t.elementCount&&(1!==t.elementCount&&(this.allSingletons=!1),this.set.add(t)&&(this.structures[this.structures.length]=t))},t.prototype.getSelection=function(){return this.allSingletons?zs.Singletons(this.source,Zs(this.source,this.structures)):zs.Sequence(this.source,this.structures)},t}(),cc=function(){function t(t){this.source=t,this.builders=[],this.builderMap=new Map}return t.prototype.add=function(t,e,n){var r=this.builderMap.get(t);r||(r=this.source.subsetBuilder(!0),this.builders[this.builders.length]=r,this.builderMap.set(t,r)),r.addToUnit(e,n)},t.prototype.allSingletons=function(){for(var t=0,e=this.builders.length;t<e;t++)if(this.builders[t].elementCount>1)return!1;return!0},t.prototype.singletonSelection=function(){for(var t=this.source.subsetBuilder(!0),e=l.Location.create(this.source),n=0,r=this.builders.length;n<r;n++)this.builders[n].setSingletonLocation(e),t.addToUnit(e.unit.id,e.element);return zs.Singletons(this.source,t.getStructure())},t.prototype.fullSelection=function(){for(var t=new Array(this.builders.length),e=0,n=this.builders.length;e<n;e++)t[e]=this.builders[e].getStructure();return zs.Sequence(this.source,t)},t.prototype.getSelection=function(){return 0===this.builders.length?zs.Empty(this.source):this.allSingletons()?this.singletonSelection():this.fullSelection()},t}(),lc=function(t){return zs.Sequence(t.inputStructure,[])},dc=function(t){return zs.Singletons(t.inputStructure,t.inputStructure)};function fc(t){return gc(Object(T.a)(Object(T.a)({},t),{groupBy:function(t){return $d.residue.key(t.element)}}))}function pc(t){return gc(Object(T.a)(Object(T.a)({},t),{groupBy:function(t){return $d.chain.key(t.element)}}))}function mc(t){return!0}function hc(t){return 0}function gc(t){if(!(t&&(t.atomTest||t.residueTest||t.chainTest||t.entityTest||t.unitTest||t.groupBy)))return dc;if(t.atomTest&&!t.residueTest&&!t.chainTest&&!t.entityTest&&!t.unitTest&&!t.groupBy)return e=t.atomTest,function(t){var n=t.inputStructure,r=n.units,i=t.pushCurrentElement(),o=n.subsetBuilder(!0);i.structure=n;for(var a=0,u=r;a<u.length;a++){var s=u[a];i.unit=s;var c=s.elements;o.beginUnit(s.id);for(var l=0,d=c.length;l<d;l++)i.element=c[l],e(t)&&o.addElement(i.element);o.commitUnit(),t.throwIfTimedOut()}return t.popCurrentElement(),zs.Singletons(n,o.getStructure())};var e,n={unitTest:t.unitTest||mc,entityTest:t.entityTest||mc,chainTest:t.chainTest||mc,residueTest:t.residueTest||mc,atomTest:t.atomTest||mc,groupBy:t.groupBy||hc};return t.groupBy?function(t){var e=t.unitTest,n=t.entityTest,r=t.chainTest,i=t.residueTest,o=t.atomTest,a=t.groupBy;return function(t){var u=t.inputStructure,s=u.units,c=t.pushCurrentElement(),l=new cc(u);c.structure=u;for(var d=0,f=s;d<f.length;d++){var p=f[d];if(c.unit=p,e(t)){var m=p.elements,h=p.model;if(0===p.kind)for(var g=Kn.transientSegments(h.atomicHierarchy.chainAtomSegments,m),v=Kn.transientSegments(h.atomicHierarchy.residueAtomSegments,m);g.hasNext;){var y=g.move();if(c.element=m[y.start],n(t)&&r(t))for(v.setSegment(y);v.hasNext;){var _=v.move();if(c.element=m[_.start],i(t))for(var b=_.start,x=_.end;b<x;b++)c.element=m[b],o(t)&&l.add(a(t),p.id,c.element)}}else{var A=h.coarseHierarchy.spheres.chainElementSegments;for(g=Kn.transientSegments(A,m);g.hasNext;){y=g.move();if(c.element=m[y.start],n(t)&&r(t))for(b=y.start,x=y.end;b<x;b++)c.element=m[b],i(t)&&l.add(a(t),p.id,c.element)}}t.throwIfTimedOut()}}return t.popCurrentElement(),l.getSelection()}}(n):function(t){var e=t.unitTest,n=t.entityTest,r=t.chainTest,i=t.residueTest,o=t.atomTest;return function(t){var a=t.inputStructure,u=a.units,s=t.pushCurrentElement(),c=a.subsetBuilder(!0),l=i===mc&&o===mc,d=o===mc;s.structure=a;for(var f=0,p=u;f<p.length;f++){var m=p[f];if(s.unit=m,e(t)){var h=m.elements,g=m.model;if(c.beginUnit(m.id),0===m.kind)for(var v=Kn.transientSegments(m.model.atomicHierarchy.chainAtomSegments,h),y=Kn.transientSegments(m.model.atomicHierarchy.residueAtomSegments,h);v.hasNext;){var _=v.move();if(s.element=h[_.start],n(t)&&r(t))if(l)c.addElementRange(h,_.start,_.end);else for(y.setSegment(_);y.hasNext;){var b=y.move();if(s.element=h[b.start],i(t))if(d)c.addElementRange(h,b.start,b.end);else for(var x=b.start,A=b.end;x<A;x++)s.element=h[x],o(t)&&c.addElement(s.element)}}else{var w=g.coarseHierarchy.spheres.chainElementSegments;for(v=Kn.transientSegments(w,h);v.hasNext;){_=v.move();if(s.element=h[_.start],n(t)&&r(t))if(l)c.addElementRange(h,_.start,_.end);else for(x=_.start,A=_.end;x<A;x++)s.element=h[x],i(t)&&c.addElement(s.element)}}c.commitUnit(),t.throwIfTimedOut()}}return t.popCurrentElement(),zs.Singletons(a,c.getStructure())}}(n)}function vc(t,e,n){for(var r=new Int32Array(e.length),i=0,o=e.length;i<o;i++)r[i]=t.elements[e[i]];return dp.create([t.getChild(an.ofSortedArray(r))],{parent:n})}function yc(t,e){return function(n){var r=n.inputStructure.units,i=zs.LinearBuilder(n.inputStructure);if(t&&0!==t.length){for(var o=gi.create(),a=0;a<t.length;a++)gi.add(o,t[a],t[a]);for(var u=0,s=r;u<s.length;u++){v=s[u];if(Ns.isAtomic(v))for(var c=v.rings,l=0,d=o.array;l<d.length;l++){var f=d[l];if(c.byFingerprint.has(f))for(var p=0,m=c.byFingerprint.get(f);p<m.length;p++){b=m[p];e&&!c.aromaticRings.includes(b)||i.add(vc(v,c.all[b],n.inputStructure))}}}}else for(var h=0,g=r;h<g.length;h++){var v=g[h];if(Ns.isAtomic(v))if(e)for(var y=0,_=v.rings.aromaticRings;y<_.length;y++){var b=_[y];i.add(vc(v,v.rings.all[b],n.inputStructure))}else for(var x=0,A=v.rings.all;x<A.length;x++){var b=A[x];i.add(vc(v,b,n.inputStructure))}}return i.getSelection()}}function _c(t,e,n){return void 0===n&&(n=!1),function(r){var i=t(r);if(0===zs.structureCount(i))return i;var o=n?Qs(r.inputStructure,zs.unionStructure(i)):zs.unionStructure(i);if(0===o.elementCount)return zs.Empty(r.inputStructure);r.throwIfTimedOut(),r.pushInputStructure(o);var a=e(r);return r.popInputStructure(),zs.withInputStructure(a,r.inputStructure)}}function bc(t){return function(e){var n=e.inputStructure,r=n.interUnitBonds,i=zs.UniqueBuilder(e.inputStructure);e.pushCurrentBond();var o=e.atomicBond;o.setTestFn(t),o.setStructure(n);for(var a=0,u=n.units;a<u.length;a++){var s=u[a];if(0===s.kind){var c=s.bonds,l=c.offset,d=c.b,f=c.edgeProps,p=f.flags,m=f.order,h=f.key;o.a.unit=s,o.b.unit=s;for(var g=0,v=s.elements.length;g<v;g++){o.aIndex=g,o.a.element=s.elements[g];for(var y=l[g],_=l[g+1];y<_;y++){if(o.bIndex=d[y],o.b.element=s.elements[d[y]],o.type=p[y],o.order=m[y],o.key=h[y],o.test(e,!1))(A=n.subsetBuilder(!1)).beginUnit(s.id),A.addElement(o.a.element),A.addElement(o.b.element),A.commitUnit(),i.add(A.getStructure())}}}}for(var b=0,x=r.edges;b<x.length;b++){var A,w=x[b];if(o.a.unit=n.unitMap.get(w.unitA),o.a.element=o.a.unit.elements[w.indexA],o.aIndex=w.indexA,o.b.unit=n.unitMap.get(w.unitB),o.b.element=o.b.unit.elements[w.indexB],o.bIndex=w.indexB,o.order=w.props.order,o.type=w.props.flag,o.key=w.props.key,o.test(e,!1))(A=n.subsetBuilder(!1)).addToUnit(o.a.unit.id,o.a.element),A.addToUnit(o.b.unit.id,o.b.element),i.add(A.getStructure())}return e.popCurrentBond(),i.getSelection()}}var xc,Ac,wc=function(){function t(t){this.parent=t,this.ids=[],this.unitMap=Qn.Mutable(),this.parentId=-1,this.currentUnit=gi.create(),this.elementCount=0}return t.prototype.addToUnit=function(t,e){var n=this.unitMap.get(t);if(n)gi.add(n,e,e)&&this.elementCount++;else{var r=gi.create();gi.add(r,e,e),this.unitMap.set(t,r),this.ids[this.ids.length]=t,this.elementCount++}},t.prototype.has=function(t,e){var n=this.unitMap.get(t);return!!n&&gi.has(n,e)},t.prototype.beginUnit=function(t){this.parentId=t,this.unitMap.has(t)?this.currentUnit=this.unitMap.get(t):this.currentUnit=this.currentUnit.array.length>0?gi.create():this.currentUnit},t.prototype.addElement=function(t){gi.add(this.currentUnit,t,t)&&this.elementCount++},t.prototype.commitUnit=function(){0===this.currentUnit.array.length||this.unitMap.has(this.parentId)||(this.ids[this.ids.length]=this.parentId,this.unitMap.set(this.parentId,this.currentUnit),this.parentId=-1)},t.prototype.getStructure=function(){if(this.isEmpty)return dp.Empty;var t=[];dt(this.ids);for(var e=Ff.UnitEquivalenceBuilder(),n=0,r=this.ids.length;n<r;n++){var i=this.ids[n],o=this.parent.unitMap.get(i),a=this.unitMap.get(i).array,u=a.length;if(a.length!==o.elements.length){u>1&&dt(a);var s=o.getChild(an.ofSortedArray(a)),c=e.add(s.id,s);s!==c&&(s=c.applyOperator(s.id,s.conformation.operator,!0)),t[t.length]=s}else t[t.length]=o,e.add(o.id,o)}return dp.create(t,{parent:this.parent})},Object.defineProperty(t.prototype,"isEmpty",{get:function(){return 0===this.elementCount},enumerable:!1,configurable:!0}),t}();function Sc(t){return{data:t,position:0,length:t.length,lineNumber:1,tokenStart:0,tokenEnd:0}}!function(t){function e(t){return t.data.substring(t.tokenStart,t.tokenEnd)}function n(t){for(var e=t.data;t.position<t.length;)switch(e.charCodeAt(t.position)){case 10:return t.tokenEnd=t.position,++t.position,++t.lineNumber,!0;case 13:return t.tokenEnd=t.position,++t.position,++t.lineNumber,10===e.charCodeAt(t.position)&&++t.position,!0;default:++t.position}return t.tokenEnd=t.position,t.tokenStart!==t.tokenEnd}function r(t){return t.tokenStart=t.position,n(t)}function i(t,e,n){for(var i=0,o=0;o<e;o++){if(!r(t))return i;xc.addUnchecked(n,t.tokenStart,t.tokenEnd),i++}return i}function o(t,e,n){for(var r=t.data,i=e,o=n-1,a=r.charCodeAt(i);(9===a||32===a)&&i<=o;)a=r.charCodeAt(++i);for(a=r.charCodeAt(o);(9===a||32===a)&&o>=i;)a=r.charCodeAt(--o);return t.tokenStart=i,t.tokenEnd=o+1,t.position=n,t}t.getTokenString=e,t.reset=function(t){t.position=0,t.lineNumber=1,t.tokenStart=0,t.tokenEnd=0},t.eatLine=n,t.markStart=function(t){t.tokenStart=t.position},t.markLine=r,t.readLine=function(t){return r(t),e(t)},t.readLineTrim=function(t){r(t);var n=t.position;return o(t,t.tokenStart,t.tokenEnd),t.position=n,e(t)},t.markLines=function(t,e){var n=xc.create(t.data,2*e);return i(t,e,n),n},t.readLines=function(e,n){for(var r=[],i=0;i<n;i++)r.push(t.readLine(e));return r},t.readLinesAsync=function(t,e,n,r){return void 0===r&&(r=1e5),Object(T.b)(this,void 0,void 0,(function(){var o,a;return Object(T.d)(this,(function(u){switch(u.label){case 0:return o=xc.create(t.data,2*e),a=0,[4,Wr(n,r,t,(function(t,n){var r=Math.min(e-a,t);return i(n,r,o),a+=r,r}),(function(t,e){return t.update({message:"Parsing...",current:e.position,max:e.length})}))];case 1:return u.sent(),[2,o]}}))}))},t.readAllLines=function(e){for(var n=t(e),i=xc.create(n.data,Math.max(e.length/80,2));r(n);)xc.add(i,n.tokenStart,n.tokenEnd);return i},t.readAllLinesAsync=function(e,n,i){return void 0===i&&(i=1e5),Object(T.b)(this,void 0,void 0,(function(){var o,a;return Object(T.d)(this,(function(u){switch(u.label){case 0:return o=t(e),a=xc.create(o.data,Math.max(e.length/80,2)),[4,Wr(n,i,o,(function(t,e){return function(t,e,n){for(var i=0,o=0;o<e;o++){if(!r(t))return i;xc.add(n,t.tokenStart,t.tokenEnd),i++}}(e,t,a),e.position<e.length?t:0}),(function(t,e){return t.update({message:"Parsing...",current:e.position,max:e.length})}))];case 1:return u.sent(),[2,a]}}))}))},t.eatValue=function(t){for(;t.position<t.length;)switch(t.data.charCodeAt(t.position)){case 9:case 10:case 13:case 32:return void(t.tokenEnd=t.position);default:++t.position}t.tokenEnd=t.position},t.skipWhitespace=function(t){for(var e=-1;t.position<t.length;){var n=t.data.charCodeAt(t.position);switch(n){case 9:case 32:e=n,++t.position;break;case 10:13!==e&&++t.lineNumber,e=n,++t.position;break;case 13:e=n,++t.position,++t.lineNumber;break;default:return e}}return e},t.trim=o}(Sc||(Sc={})),function(t){function e(t,e,n){var r=t;r.offset>r.indicesLenMinus2&&function(t){var e=new Uint32Array(1.61*t.indices.length|0);e.set(t.indices),t.indices=e,t.indicesLenMinus2=e.length-2|0}(r),r.indices[r.offset++]=e,r.indices[r.offset++]=n,t.count++}t.add=e,t.addToken=function(t,n){e(t,n.tokenStart,n.tokenEnd)},t.addUnchecked=function(t,e,n){t.indices[t.offset++]=e,t.indices[t.offset++]=n,t.count++},t.create=function(t,e){return{data:t,indicesLenMinus2:(e=Math.max(10,e))-2|0,count:0,offset:0,indices:new Uint32Array(e)}}}(xc||(xc={})),function(t){t.error=function(t,n){return void 0===n&&(n=-1),new e(t,n)},t.success=function(t,e){return void 0===e&&(e=[]),new n(t,e)};var e=function(){function t(t,e){this.message=t,this.line=e,this.isError=!0}return t.prototype.toString=function(){return this.line>=0?"[Line ".concat(this.line,"] ").concat(this.message):this.message},t}();t.Error=e;var n=function(t,e){this.result=t,this.warnings=e,this.isError=!1};t.Success=n}(Ac||(Ac={}));var Cc,Bc,Ic=Et.Schema,Pc=Ic.str,Ec=Ic.float,Mc=Ic.List,kc=Ic.lstr,Dc=Ic.Aliased,Oc=Ic.int,Nc=Ic.coord,Tc={chem_comp:{formula:Pc,formula_weight:Ec,id:Pc,mon_nstd_parent_comp_id:Mc(",",(function(t){return t})),name:Pc,one_letter_code:Pc,three_letter_code:Pc,type:Dc(kc),pdbx_synonyms:Mc(";",(function(t){return t})),pdbx_type:Pc,pdbx_ambiguous_flag:Pc,pdbx_replaced_by:Pc,pdbx_replaces:Pc,pdbx_formal_charge:Oc,pdbx_model_coordinates_details:Pc,pdbx_model_coordinates_db_code:Pc,pdbx_ideal_coordinates_details:Pc,pdbx_ideal_coordinates_missing_flag:Dc(kc),pdbx_model_coordinates_missing_flag:Dc(kc),pdbx_initial_date:Pc,pdbx_modified_date:Pc,pdbx_release_status:Dc(Pc),pdbx_processing_site:Dc(Pc)},chem_comp_atom:{alt_atom_id:Pc,atom_id:Pc,charge:Oc,model_Cartn_x:Nc,model_Cartn_y:Nc,model_Cartn_z:Nc,comp_id:Pc,type_symbol:Pc,pdbx_align:Oc,pdbx_ordinal:Oc,pdbx_model_Cartn_x_ideal:Nc,pdbx_model_Cartn_y_ideal:Nc,pdbx_model_Cartn_z_ideal:Nc,pdbx_stereo_config:Dc(kc),pdbx_aromatic_flag:Dc(kc),pdbx_leaving_atom_flag:Dc(kc)},chem_comp_bond:{atom_id_1:Pc,atom_id_2:Pc,comp_id:Pc,value_order:Dc(kc),pdbx_ordinal:Oc,pdbx_stereo_config:Dc(kc),pdbx_aromatic_flag:Dc(kc)},pdbx_chem_comp_descriptor:{comp_id:Pc,descriptor:Pc,type:Dc(kc),program:Pc,program_version:Pc},pdbx_chem_comp_identifier:{comp_id:Pc,identifier:Pc,type:Dc(Pc),program:Pc,program_version:Pc}},Uc=Et.Schema,Rc=Uc.str,Lc=Uc.float,Gc=Uc.lstr,qc=Uc.Aliased,Fc=Uc.int,jc={pdbx_reference_molecule:{prd_id:Rc,formula_weight:Lc,formula:Rc,type:qc(Gc),type_evidence_code:Rc,class:qc(Gc),class_evidence_code:Rc,name:Rc,represent_as:qc(Gc),chem_comp_id:Rc,compound_details:Rc,description:Rc,representative_PDB_id_code:Rc,release_status:qc(Gc),replaces:Rc,replaced_by:Rc},pdbx_reference_entity_list:{prd_id:Rc,ref_entity_id:Rc,type:qc(Gc),details:Rc,component_id:Fc},pdbx_reference_entity_nonpoly:{prd_id:Rc,ref_entity_id:Rc,name:Rc,chem_comp_id:Rc},pdbx_reference_entity_link:{link_id:Fc,prd_id:Rc,details:Rc,ref_entity_id_1:Rc,ref_entity_id_2:Rc,entity_seq_num_1:Fc,entity_seq_num_2:Fc,comp_id_1:Rc,comp_id_2:Rc,atom_id_1:Rc,atom_id_2:Rc,value_order:qc(Gc),component_1:Fc,component_2:Fc,link_class:qc(Rc)},pdbx_reference_entity_poly_link:{link_id:Fc,prd_id:Rc,ref_entity_id:Rc,component_id:Fc,entity_seq_num_1:Fc,entity_seq_num_2:Fc,comp_id_1:Rc,comp_id_2:Rc,atom_id_1:Rc,atom_id_2:Rc,value_order:qc(Gc)},pdbx_reference_entity_poly:{prd_id:Rc,ref_entity_id:Rc,type:qc(Rc),db_code:Rc,db_name:Rc},pdbx_reference_entity_poly_seq:{prd_id:Rc,ref_entity_id:Rc,mon_id:Rc,parent_mon_id:Rc,num:Fc,observed:qc(Gc),hetero:qc(Gc)},pdbx_reference_entity_sequence:{prd_id:Rc,ref_entity_id:Rc,type:qc(Rc),NRP_flag:qc(Rc),one_letter_codes:Rc},pdbx_reference_entity_src_nat:{prd_id:Rc,ref_entity_id:Rc,ordinal:Fc,organism_scientific:Rc,taxid:Rc,db_code:Rc,db_name:Rc},pdbx_prd_audit:{prd_id:Rc,date:Rc,processing_site:qc(Rc),action_type:qc(Rc)}},Hc=Et.Schema,Vc=Hc.str,zc={datablock:{id:Vc,description:Vc},dictionary:{title:Vc,datablock_id:Vc,version:Vc},dictionary_history:{version:Vc,update:Vc,revision:Vc},sub_category:{id:Vc,description:Vc},category_group_list:{id:Vc,parent_id:Vc,description:Vc},item_type_list:{code:Vc,primitive_code:Vc,construct:Vc,detail:Vc},item_units_list:{code:Vc,detail:Vc},item_units_conversion:{from_code:Vc,to_code:Vc,operator:Vc,factor:Hc.float}},Yc=Et.Schema,Kc=Yc.str,Zc=Yc.int,Wc=Yc.float,Xc=Yc.Aliased,Qc=Yc.Vector,Jc=(Xc(Kc),Xc(Kc),Xc(Kc),Xc(Kc),Qc(3),Qc(3),{volume_data_3d_info:{name:Kc,axis_order:Qc(3,Zc),origin:Qc(3),dimensions:Qc(3),sample_rate:Zc,sample_count:Qc(3,Zc),spacegroup_number:Zc,spacegroup_cell_size:Qc(3),spacegroup_cell_angles:Qc(3),mean_source:Wc,mean_sampled:Wc,sigma_source:Wc,sigma_sampled:Wc,min_source:Wc,min_sampled:Wc,max_source:Wc,max_sampled:Wc},volume_data_3d:{values:Wc}}),$c=Et.Schema,tl=$c.float,el=$c.int,nl=$c.str,rl={cell:{angle_alpha:tl,angle_beta:tl,angle_gamma:tl,formula_units_z:el,length_a:tl,length_b:tl,length_c:tl,volume:tl},chemical:{melting_point:tl,name_common:nl,name_systematic:nl},chemical_formula:{moiety:nl,sum:nl,weight:tl},space_group:{crystal_system:nl,it_number:el,"name_h-m_full":nl},space_group_symop:{operation_xyz:nl},geom_bond:{atom_site_label_1:nl,atom_site_label_2:nl,distance:tl,publ_flag:nl,site_symmetry_1:nl,site_symmetry_2:nl,valence:tl},audit:{block_doi:nl},database_code:{cod:nl,csd:nl,depnum_ccdc_archive:nl,depnum_ccdc_fiz:nl,icsd:nl,mdf:nl,nbs:nl},atom_site:{adp_type:nl,calc_flag:nl,disorder_assembly:nl,disorder_group:nl,fract_x:tl,fract_y:tl,fract_z:tl,label:nl,occupancy:tl,refinement_flags:nl,site_symmetry_multiplicity:el,type_symbol:nl,u_iso_or_equiv:tl},atom_site_aniso:{label:nl,u_11:tl,u:(0,$c.Matrix)(3,3),u_12:tl,u_13:tl,u_22:tl,u_23:tl,u_33:tl},atom_type:{description:nl,symbol:nl},atom_type_scat:{dispersion_imag:tl,dispersion_real:tl,source:nl}},il={"cell.formula_units_z":["cell_formula_units_Z"],"space_group.it_number":["space_group_IT_number","symmetry_Int_Tables_number"],"space_group.name_h-m_full":["symmetry_space_group_name_H-M"],"space_group_symop.operation_xyz":["symmetry_equiv_pos_as_xyz"],"geom_bond.atom_site_label_1":["geom_bond_atom_site_id_1"],"geom_bond.atom_site_label_2":["geom_bond_atom_site_id_2"],"geom_bond.distance":["geom_bond_dist"],"audit.block_doi":["audit_block_DOI"],"database_code.cod":["database_code_COD"],"database_code.csd":["database_code_CSD"],"database_code.depnum_ccdc_archive":["database_code_depnum_CCDC_archive"],"database_code.depnum_ccdc_fiz":["database_code_depnum_CCDC_fiz"],"database_code.icsd":["database_code_ICSD"],"database_code.mdf":["database_code_MDF"],"database_code.nbs":["database_code_NBS"],"atom_site.adp_type":["atom_site_ADP_type","atom_site_thermal_displace_type"],"atom_site.label":["atom_site_id"],"atom_site.site_symmetry_multiplicity":["atom_site_symmetry_multiplicity"],"atom_site.u_iso_or_equiv":["atom_site_U_iso_or_equiv"],"atom_site_aniso.label":["atom_site_anisotrop_id"],"atom_site_aniso.u_11":["atom_site_aniso_U_11","atom_site_anisotrop_U_11"],"atom_site_aniso.u_12":["atom_site_aniso_U_12","atom_site_anisotrop_U_12"],"atom_site_aniso.u_13":["atom_site_aniso_U_13","atom_site_anisotrop_U_13"],"atom_site_aniso.u_22":["atom_site_aniso_U_22","atom_site_anisotrop_U_22"],"atom_site_aniso.u_23":["atom_site_aniso_U_23","atom_site_anisotrop_U_23"],"atom_site_aniso.u_33":["atom_site_aniso_U_33","atom_site_anisotrop_U_33"]},ol=Et.Schema.int,al={volume_data_3d_info:Jc.volume_data_3d_info,segmentation_data_table:{set_id:ol,segment_id:ol},segmentation_data_3d:{values:ol}},ul={mmCIF:function(t){return oi(ja,t)},CCD:function(t){return oi(Tc,t)},BIRD:function(t){return oi(jc,t)},dic:function(t){return oi(zc,t)},cifCore:function(t){return oi(rl,t,il)},densityServer:function(t){return oi(Jc,t)},segmentation:function(t){return oi(al,t)}},sl={type_symbol:Et.Schema.Aliased(ja.atom_site.type_symbol),label_atom_id:ja.atom_site.label_atom_id,auth_atom_id:ja.atom_site.auth_atom_id,label_alt_id:ja.atom_site.label_alt_id,label_comp_id:ja.atom_site.label_comp_id,auth_comp_id:ja.atom_site.auth_comp_id,pdbx_formal_charge:ja.atom_site.pdbx_formal_charge},cl={group_PDB:ja.atom_site.group_PDB,label_seq_id:ja.atom_site.label_seq_id,auth_seq_id:ja.atom_site.auth_seq_id,pdbx_PDB_ins_code:ja.atom_site.pdbx_PDB_ins_code},ll={label_asym_id:ja.atom_site.label_asym_id,auth_asym_id:ja.atom_site.auth_asym_id,label_entity_id:ja.atom_site.label_entity_id};!function(t){t.EmptyResidueKey=function(){return{label_entity_id:"",label_asym_id:"",auth_seq_id:0,pdbx_PDB_ins_code:void 0}}}(Cc||(Cc={})),function(t){function e(t,e){return t.residueAtomSegments.index[t.chainAtomSegments.offsets[e]]}function n(t,e){return t.residueAtomSegments.index[t.chainAtomSegments.offsets[e+1]-1]+1}t.chainStartResidueIndex=e,t.chainEndResidueIndexExcl=n,t.chainResidueCount=function(t,r){return n(t,r)-e(t,r)}}(Bc||(Bc={}));var dl,fl,pl={H:1,D:1,T:1,HE:2,LI:3,BE:4,B:5,C:6,N:7,O:8,F:9,NE:10,NA:11,MG:12,AL:13,SI:14,P:15,S:16,CL:17,AR:18,K:19,CA:20,SC:21,TI:22,V:23,CR:24,MN:25,FE:26,CO:27,NI:28,CU:29,ZN:30,GA:31,GE:32,AS:33,SE:34,BR:35,KR:36,RB:37,SR:38,Y:39,ZR:40,NB:41,MO:42,TC:43,RU:44,RH:45,PD:46,AG:47,CD:48,IN:49,SN:50,SB:51,TE:52,I:53,XE:54,CS:55,BA:56,LA:57,CE:58,PR:59,ND:60,PM:61,SM:62,EU:63,GD:64,TB:65,DY:66,HO:67,ER:68,TM:69,YB:70,LU:71,HF:72,TA:73,W:74,RE:75,OS:76,IR:77,PT:78,AU:79,HG:80,TL:81,PB:82,BI:83,PO:84,AT:85,RN:86,FR:87,RA:88,AC:89,TH:90,PA:91,U:92,NP:93,PU:94,AM:95,CM:96,BK:97,CF:98,ES:99,FM:100,MD:101,NO:102,LR:103,RF:104,DB:105,SG:106,BH:107,HS:108,MT:109},ml={1:1.1,2:1.4,3:1.81,4:1.53,5:1.92,6:1.7,7:1.55,8:1.52,9:1.47,10:1.54,11:2.27,12:1.73,13:1.84,14:2.1,15:1.8,16:1.8,17:1.75,18:1.88,19:2.75,20:2.31,21:2.3,22:2.15,23:2.05,24:2.05,25:2.05,26:2.05,27:2,28:2,29:2,30:2.1,31:1.87,32:2.11,33:1.85,34:1.9,35:1.83,36:2.02,37:3.03,38:2.49,39:2.4,40:2.3,41:2.15,42:2.1,43:2.05,44:2.05,45:2,46:2.05,47:2.1,48:2.2,49:2.2,50:1.93,51:2.17,52:2.06,53:1.98,54:2.16,55:3.43,56:2.68,57:2.5,58:2.48,59:2.47,60:2.45,61:2.43,62:2.42,63:2.4,64:2.38,65:2.37,66:2.35,67:2.33,68:2.32,69:2.3,70:2.28,71:2.27,72:2.25,73:2.2,74:2.1,75:2.05,76:2,77:2,78:2.05,79:2.1,80:2.05,81:1.96,82:2.02,83:2.07,84:1.97,85:2.02,86:2.2,87:3.48,88:2.83,89:2,90:2.4,91:2,92:2.3,93:2,94:2,95:2,96:2,97:2,98:2,99:2,100:2,101:2,102:2,103:2,104:2,105:2,106:2,107:2,108:2,109:2};function hl(t){var e=pl[t];return void 0===e?0:e}function gl(t,e,n,r){return{type:t,key:e,elements:n,getIndex:r}}function vl(t,e,n,r,i,o){for(var a=t.residues,u=a.auth_seq_id,s=a.label_seq_id,c=a.pdbx_PDB_ins_code,l=n.endSeqId,d=n.endInsCode,f=n.key,p=n.type,m="label"===e?s:u,h=r;h<i;){var g=m.value(h);if(o.type[h]=p,o.key[h]=f,g>l||g===l&&c.value(h)===d)break;h++}}(fl=dl||(dl={})).Descriptor={name:"model_secondary_structure"},fl.Provider=Xr.create(fl.Descriptor),fl.fromStruct=function(t,e,n){var r=new Map,i=[{kind:"none"}],o=function(t,e){if(t._rowCount>0){if(0!==t.beg_label_seq_id.valueKind(0)||0!==t.end_label_seq_id.valueKind(0))return"auth"}else if(e&&(0!==e.beg_label_seq_id.valueKind(0)||0!==e.end_label_seq_id.valueKind(0)))return"auth";return"label"}(t,e);!function(t,e,n,r){if(t._rowCount)for(var i=t.beg_label_asym_id,o=t.beg_label_seq_id,a=t.beg_auth_seq_id,u=t.pdbx_beg_PDB_ins_code,s=t.end_label_seq_id,c=t.end_auth_seq_id,l=t.pdbx_end_PDB_ins_code,d=t.pdbx_PDB_helix_class,f=t.conf_type_id,p=t.details,m="label"===e?o:a,h="label"===e?s:c,g=0,v=t._rowCount;g<v;g++){var y=wo.create(0===d.valueKind(g)?wo.SecondaryStructurePdb[d.value(g)]:0===f.valueKind(g)?wo.SecondaryStructureMmcif[f.value(g)]:536870912),_={kind:"helix",flags:y,type_id:0===f.valueKind(g)?f.value(g):"helx_p",helix_class:d.value(g),details:0===p.valueKind(g)?p.value(g):void 0},b={startSeqId:m.value(g),startInsCode:u.value(g),endSeqId:h.value(g),endInsCode:l.value(g),type:y,key:r.length};r[r.length]=_;var x=i.value(g);if(n.has(x)){var A=n.get(x);A.has(b.startSeqId)?A.get(b.startSeqId).push(b):A.set(b.startSeqId,[b])}else n.set(x,new Map([[b.startSeqId,[b]]]))}}(t,o,r,i),function(t,e,n,r,i){if(t._rowCount)for(var o=t.beg_label_asym_id,a=t.beg_label_seq_id,u=t.beg_auth_seq_id,s=t.pdbx_beg_PDB_ins_code,c=t.end_label_seq_id,l=t.end_auth_seq_id,d=t.pdbx_end_PDB_ins_code,f=t.sheet_id,p="label"===e?a:u,m="label"===e?c:l,h=new Map,g=r+1,v=0,y=t._rowCount;v<y;v++){var _=f.value(v),b=void 0;h.has(_)?b=h.get(_):(b=g++,h.set(_,b));var x=wo.create(8388612),A={kind:"sheet",flags:x,sheet_id:_,symmetry:void 0},w={startSeqId:p.value(v),startInsCode:s.value(v),endSeqId:m.value(v),endInsCode:d.value(v),type:x,key:i.length};i[i.length]=A;var S=o.value(v);if(n.has(S)){var C=n.get(S);C.has(w.startSeqId)?C.get(w.startSeqId).push(w):C.set(w.startSeqId,[w])}else n.set(S,new Map([[w.startSeqId,[w]]]))}}(e,o,r,t._rowCount,i);var a=n.residues._rowCount,u={type:new Int32Array(a),key:new Int32Array(a),elements:i};return r.size>0&&function(t,e,n,r){for(var i=t.chainAtomSegments.count,o=t.chains.label_asym_id,a=t.residues,u=a.auth_seq_id,s=a.label_seq_id,c=a.pdbx_PDB_ins_code,l="label"===e?s:u,d=0;d<i;d++){var f=Bc.chainStartResidueIndex(t,d),p=Bc.chainEndResidueIndexExcl(t,d),m=o.value(d);if(n.has(m))for(var h=n.get(m),g=f;g<p;g++){var v=l.value(g);if(h.has(v))for(var y=h.get(v),_=0,b=y;_<b.length;_++){var x=b[_],A=c.value(g);x.startInsCode===A&&vl(t,e,x,g,p,r)}}}}(n,o,r,u),gl(u.type,u.key,u.elements,(function(t){return t}))};var yl,_l,bl,xl={U:ja.atom_site_anisotrop.U,U_esd:ja.atom_site_anisotrop.U_esd};(_l=yl||(yl={})).Schema=xl,_l.Descriptor={name:"atom_site_anisotrop",cifExport:{prefix:"",categories:[{name:"atom_site_anisotrop",instance:function(t){return _l.Provider.get(t.firstModel)&&Bl.is(t.firstModel.sourceData)?bu.Category.ofTable(t.firstModel.sourceData.data.db.atom_site_anisotrop):bu.Category.Empty}}]}},_l.Provider=Xr.create(_l.Descriptor),_l.getElementToAnsiotrop=function(t,e){var n=new Int32Array(t.rowCount);n.fill(-1);for(var r=0,i=t.rowCount;r<i;r++)n[t.value(r)]=r;var o=new Int32Array(t.rowCount);for(o.fill(-1),r=0,i=e.rowCount;r<i;++r){var a=n[e.value(r)];-1!==a&&(o[a]=r)}return o},_l.getElementToAnsiotropFromLabel=function(t,e){for(var n={},r=0,i=t.rowCount;r<i;r++)n[t.value(r)]=r;var o=new Int32Array(t.rowCount);for(o.fill(-1),r=0,i=e.rowCount;r<i;++r){var a=n[e.value(r)];void 0!==a&&(o[a]=r)}return o},function(t){var e,n="molstar_global_model_transform_info";function r(e){return t.Provider.get(e)}t.Schema=((e={})[n]={matrix:Et.Schema.Matrix(4,4,Et.Schema.float)},e),t.Descriptor=Br({name:n,cifExport:{categories:[{name:n,instance:function(e){var n=r(e.firstModel);if(!n)return bu.Category.Empty;var i=Zt.ofRows(t.Schema.molstar_global_model_transform_info,[{matrix:n}]);return bu.Category.ofTable(i)}}],prefix:"molstar"}}),t.Provider=Xr.create(t.Descriptor),t.attach=function(e,n){e.customProperties.has(t.Descriptor)||e.customProperties.add(t.Descriptor),t.Provider.set(e,n)},t.get=r,t.fromMmCif=function(e){if(Bl.is(e.sourceData)){var r=e.sourceData.data.frame.categories[n];if(r){var i,o=(i=t.Schema[n],new li(r,i,!0));if(0!==o._rowCount)return o.matrix.value(0)}}},t.hasData=function(t){if(!Bl.is(t.sourceData))return!1;var e=t.sourceData.data.frame.categories[n];return!!e&&e.rowCount>0},t.writeMmCif=function(e,r){e.writeCategory({name:n,instance:function(){var e=Zt.ofRows(t.Schema.molstar_global_model_transform_info,[{matrix:r}]);return bu.Category.ofTable(e)}})}}(bl||(bl={}));ja.atom_site.label_comp_id,ja.atom_site.label_seq_id,ja.atom_site.pdbx_PDB_ins_code,ja.atom_site.label_asym_id,ja.atom_site.label_entity_id,ja.atom_site.auth_atom_id,ja.atom_site.auth_seq_id,ja.atom_site.auth_asym_id,Object(T.a)(Object(T.a)({},ja.chem_comp_bond),{molstar_protonation_variant:Et.Schema.Str()});var Al=Object(T.a)(Object(T.a)({},ja.chem_comp),{type:Et.Schema.Aliased(Et.Schema.str)});function wl(t,e){var n=e.ihm_model_group,r=e.ihm_model_group_link,i=Zt.pickRow(r,(function(e){return r.model_id.value(e)===t}));if(i){var o=Zt.pickRow(n,(function(t){return n.id.value(t)===i.group_id}));if(o)return o.name}return""}var Sl={entry:ja.entry,struct:ja.struct,struct_asym:ja.struct_asym,ihm_model_list:ja.ihm_model_list,ihm_model_group:ja.ihm_model_group,ihm_model_group_link:ja.ihm_model_group_link,entity:ja.entity,entity_poly:ja.entity_poly,entity_poly_seq:ja.entity_poly_seq,pdbx_entity_branch:ja.pdbx_entity_branch,chem_comp:Al,pdbx_chem_comp_identifier:ja.pdbx_chem_comp_identifier,atom_site:ja.atom_site,ihm_sphere_obj_site:ja.ihm_sphere_obj_site,ihm_gaussian_obj_site:ja.ihm_gaussian_obj_site,pdbx_unobs_or_zero_occ_residues:ja.pdbx_unobs_or_zero_occ_residues,pdbx_molecule:ja.pdbx_molecule};!function(){function t(){this.count=0,this.ids=[],this.types=[],this.descriptions=[],this.compoundsMap=new Map,this.namesMap=new Map,this.heteroMap=new Map,this.chainMap=new Map}t.prototype.set=function(t,e){this.count+=1,this.ids.push("".concat(this.count)),this.types.push(t),this.descriptions.push([e])},t.prototype.getEntityId=function(t,e,n,r){return 2===e?(void 0===this.waterId&&(this.set("water",(null==r?void 0:r.customName)||"Water"),this.waterId="".concat(this.count)),this.waterId):$o(e)?this.compoundsMap.has(n)?this.compoundsMap.get(n):(this.chainMap.has(n)||(this.set("polymer",(null==r?void 0:r.customName)||"Polymer ".concat(this.chainMap.size+1)),this.chainMap.set(n,"".concat(this.count))),this.chainMap.get(n)):(this.heteroMap.has(t)||(this.set("non-polymer",(null==r?void 0:r.customName)||this.namesMap.get(t)||t),this.heteroMap.set(t,"".concat(this.count))),this.heteroMap.get(t))},t.prototype.getEntityTable=function(){return Zt.ofPartialColumns(Sl.entity,{id:Et.ofStringArray(this.ids),type:Et.ofStringAliasArray(this.types),pdbx_description:Et.ofStringListArray(this.descriptions)},this.count)},t.prototype.setCompounds=function(t){for(var e=0,n=t.length;e<n;++e){var r=t[e],i=r.chains,o=r.description;this.set("polymer",o);for(var a=0,u=i.length;a<u;++a)this.compoundsMap.set(i[a],"".concat(this.count))}},t.prototype.setNames=function(t){var e=this;t.forEach((function(t){return e.namesMap.set(t[0],t[1])}))}}();var Cl,Bl,Il,Pl,El,Ml=[new Set(["CA"]),new Set(["C"]),new Set(["N"])],kl=[new Set(["P","O3'","O3*"]),new Set(["C4'","C4*"]),new Set(["O2'","O2*","F2'","F2*"])],Dl=[new Set(["P","O3'","O3*"]),new Set(["C3'","C3*"]),new Set(["O2'","O2*","F2'","F2*"])],Ol=new Set(["FMN","NCN","FNS","FMA","ATP","ADP","AMP","GTP","GDP","GMP","LIG"]),Nl=(Cl=new Map,[{id:"HIS",name:"HISTIDINE",type:"l-peptide linking"},{id:"ARG",name:"ARGININE",type:"l-peptide linking"},{id:"LYS",name:"LYSINE",type:"l-peptide linking"},{id:"ILE",name:"ISOLEUCINE",type:"l-peptide linking"},{id:"PHE",name:"PHENYLALANINE",type:"l-peptide linking"},{id:"LEU",name:"LEUCINE",type:"l-peptide linking"},{id:"TRP",name:"TRYPTOPHAN",type:"l-peptide linking"},{id:"ALA",name:"ALANINE",type:"l-peptide linking"},{id:"MET",name:"METHIONINE",type:"l-peptide linking"},{id:"CYS",name:"CYSTEINE",type:"l-peptide linking"},{id:"ASN",name:"ASPARAGINE",type:"l-peptide linking"},{id:"VAL",name:"VALINE",type:"l-peptide linking"},{id:"GLY",name:"GLYCINE",type:"peptide linking"},{id:"SER",name:"SERINE",type:"l-peptide linking"},{id:"GLN",name:"GLUTAMINE",type:"l-peptide linking"},{id:"TYR",name:"TYROSINE",type:"l-peptide linking"},{id:"ASP",name:"ASPARTIC ACID",type:"l-peptide linking"},{id:"GLU",name:"GLUTAMIC ACID",type:"l-peptide linking"},{id:"THR",name:"THREONINE",type:"l-peptide linking"},{id:"PRO",name:"PROLINE",type:"l-peptide linking"},{id:"SEC",name:"SELENOCYSTEINE",type:"l-peptide linking"},{id:"PYL",name:"PYRROLYSINE",type:"l-peptide linking"},{id:"MSE",name:"SELENOMETHIONINE",type:"l-peptide linking"},{id:"SEP",name:"PHOSPHOSERINE",type:"l-peptide linking"},{id:"TPO",name:"PHOSPHOTHREONINE",type:"l-peptide linking"},{id:"PTR",name:"O-PHOSPHOTYROSINE",type:"l-peptide linking"},{id:"PCA",name:"PYROGLUTAMIC ACID",type:"l-peptide linking"},{id:"A",name:"ADENOSINE-5'-MONOPHOSPHATE",type:"rna linking"},{id:"C",name:"CYTIDINE-5'-MONOPHOSPHATE",type:"rna linking"},{id:"T",name:"THYMIDINE-5'-MONOPHOSPHATE",type:"rna linking"},{id:"G",name:"GUANOSINE-5'-MONOPHOSPHATE",type:"rna linking"},{id:"I",name:"INOSINIC ACID",type:"rna linking"},{id:"U",name:"URIDINE-5'-MONOPHOSPHATE",type:"rna linking"},{id:"DA",name:"2'-DEOXYADENOSINE-5'-MONOPHOSPHATE",type:"dna linking"},{id:"DC",name:"2'-DEOXYCYTIDINE-5'-MONOPHOSPHATE",type:"dna linking"},{id:"DT",name:"THYMIDINE-5'-MONOPHOSPHATE",type:"dna linking"},{id:"DG",name:"2'-DEOXYGUANOSINE-5'-MONOPHOSPHATE",type:"dna linking"},{id:"DI",name:"2'-DEOXYINOSINE-5'-MONOPHOSPHATE",type:"dna linking"},{id:"DU",name:"2'-DEOXYURIDINE-5'-MONOPHOSPHATE",type:"dna linking"}].forEach((function(t){return Cl.set(t.id,t)})),Cl),Tl=function(){var t=new Map;return[{id:"ZN2",name:"ZINC ION",type:"ion"},{id:"SOD",name:"SODIUM ION",type:"ion"},{id:"CES",name:"CESIUM ION",type:"ion"},{id:"CLA",name:"CHLORIDE ION",type:"ion"},{id:"CAL",name:"CALCIUM ION",type:"ion"},{id:"POT",name:"POTASSIUM ION",type:"ion"}].forEach((function(e){return t.set(e.id,e)})),t}();!function(){function t(t,e){this.seqId=t,this.atomId=e,this.namesMap=new Map,this.comps=new Map,this.ids=[],this.names=[],this.types=[],this.mon_nstd_flags=[]}t.prototype.set=function(t){this.comps.set(t.id,t),this.ids.push(t.id),this.names.push(t.name),this.types.push(t.type),this.mon_nstd_flags.push(Ko.has(t.id)?"y":"n")},t.prototype.getAtomIds=function(t){for(var e=new Set,n=this.seqId.value(t);t<this.seqId.rowCount;){var r=this.seqId.value(t);if(r!==n)break;e.add(this.atomId.value(t)),t+=1}return e},t.prototype.hasAtomIds=function(t,e){for(var n=0,r=e.length;n<r;++n)if(!mo.areIntersecting(t,e[n]))return!1;return!0},t.prototype.getType=function(t){return this.hasAtomIds(t,Ml)?"peptide linking":this.hasAtomIds(t,kl)?"rna linking":this.hasAtomIds(t,Dl)?"dna linking":"other"},t.prototype.has=function(t){return this.comps.has(t)},t.prototype.get=function(t){return this.comps.get(t)},t.prototype.add=function(t,e){if(!this.has(t))if(Nl.has(t))this.set(Nl.get(t));else if(Go.has(t))this.set({id:t,name:"WATER",type:"non-polymer"});else if(Ol.has(t.toUpperCase()))this.set({id:t,name:this.namesMap.get(t)||t,type:"non-polymer"});else if(go.has(t.toUpperCase()))this.set({id:t,name:this.namesMap.get(t)||t,type:"saccharide"});else{var n=this.getAtomIds(e);if(1===n.size&&Tl.has(t))this.set(Tl.get(t));else{var r=this.getType(n);this.set({id:t,name:this.namesMap.get(t)||t,type:r})}}return this.get(t)},t.prototype.getChemCompTable=function(){return Zt.ofPartialColumns(Sl.chem_comp,{id:Et.ofStringArray(this.ids),name:Et.ofStringArray(this.names),type:Et.ofStringAliasArray(this.types),mon_nstd_flag:Et.ofStringAliasArray(this.mon_nstd_flags)},this.ids.length)},t.prototype.setNames=function(t){var e=this;t.forEach((function(t){return e.namesMap.set(t[0],t[1])}))}}();Ds.Provider.formatRegistry.add("mmCIF",(function(t){if(Bl.is(t.sourceData))return Ds.fromData(t.sourceData.data.db)})),dl.Provider.formatRegistry.add("mmCIF",(function(t){if(Bl.is(t.sourceData)){var e=t.sourceData.data.db,n=e.struct_conf,r=e.struct_sheet_range;return dl.fromStruct(n,r,t.atomicHierarchy)}})),yl.Provider.formatRegistry.add("mmCIF",(function(t){if(Bl.is(t.sourceData)){var e=t.sourceData.data.db.atom_site_anisotrop;return{data:Zt.ofColumns(yl.Schema,e),elementToAnsiotrop:yl.getElementToAnsiotrop(t.atomicConformation.atomId,e.id)}}}),(function(t){return!!Bl.is(t.sourceData)&&t.sourceData.data.db.atom_site_anisotrop.U.isDefined})),xu.Provider.formatRegistry.add("mmCIF",(function(t){if(Bl.is(t.sourceData)){var e=t.sourceData.data.db.chem_comp_bond;if(0!==e._rowCount)return{data:e,entries:xu.getEntriesFromChemCompBond(e)}}})),Au.Provider.formatRegistry.add("mmCIF",(function(t){if(Bl.is(t.sourceData)){var e=t.sourceData.data.db.struct_conn;if(0!==e._rowCount){var n=Au.getEntriesFromStructConn(e,t);return{data:e,byAtomIndex:Au.getAtomIndexFromEntries(n),entries:n}}}})),bl.Provider.formatRegistry.add("mmCIF",bl.fromMmCif,bl.hasData),(Il=Bl||(Bl={})).is=function(t){return"mmCIF"===(null==t?void 0:t.kind)},Il.fromFrame=function(t,e,n){return e||(e=ul.mmCIF(t)),{kind:"mmCIF",name:e._name,data:{db:e,frame:t,source:n}}},(El=Pl||(Pl={})).CoordinateType={get:function(t){return t._staticPropertyData.__CcdCoordinateType__},set:function(t,e){return t._staticPropertyData.__CcdCoordinateType__=e}},El.is=function(t){return"CCD"===(null==t?void 0:t.kind)},El.fromFrame=function(t,e){return e||(e=ul.CCD(t)),{kind:"CCD",name:e._name,data:{db:e,frame:t}}};var Ul=Object.prototype.hasOwnProperty;var Rl=n(2);function Ll(t,e){return t[e]|t[e+1]<<8}function Gl(t,e){return 16777216*t[e+3]+(t[e+2]<<16|t[e+1]<<8|t[e])}function ql(t,e,n){for(var r,i,o="",a=0;a<n;a++)o+="%"+((i=t[e+a].toString(16)).length<2?"0"+i:i);try{r=decodeURIComponent(o)}catch(r){return function(t,e,n){for(var r="",i=0;i<n;i++)r+=String.fromCharCode(t[e+i]);return r}(t,e,n)}return r}var Fl=function(){for(var t=new Uint32Array(256),e=0;e<256;e++){for(var n=e,r=0;r<8;r++)1&n?n=3988292384^n>>>1:n>>>=1;t[e]=n}return t}();function jl(t,e,n){return 4294967295^function(t,e,n,r){for(var i=0;i<r;i++)t=Fl[255&(t^e[n+i])]^t>>>8;return t}(4294967295,t,e,n)}var Hl,Vl,zl=(Hl=Uint16Array,Vl=Uint32Array,{next_code:new Hl(16),bl_count:new Hl(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new Hl(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new Vl(32),flmap:new Hl(512),fltree:[],fdmap:new Hl(32),fdtree:[],lmap:new Hl(32768),ltree:[],ttree:[],dmap:new Hl(32768),dtree:[],imap:new Hl(512),itree:[],rev15:new Hl(32768),lhst:new Vl(286),dhst:new Vl(30),ihst:new Vl(19),lits:new Vl(15e3),strt:new Hl(65536),prev:new Hl(32768)});function Yl(t,e,n){for(var r=t.length,i=zl.rev15,o=0;o<r;o+=2)if(0!==t[o+1])for(var a=o>>1,u=t[o+1],s=a<<4|u,c=e-u,l=t[o]<<c,d=l+(1<<c);l!==d;){n[i[l]>>>15-e]=s,l++}}function Kl(t,e){for(var n=t.length,r=zl.bl_count,i=0;i<=e;i++)r[i]=0;for(i=1;i<n;i+=2)r[t[i]]++;var o=zl.next_code,a=0;r[0]=0;for(var u=1;u<=e;u++)a=a+r[u-1]<<1,o[u]=a;for(var s=0;s<n;s+=2){var c=t[s+1];0!==c&&(t[s]=o[c],o[c]++)}}function Zl(t,e){for(var n=zl.rev15,r=15-e,i=0;i<t.length;i+=2){var o=t[i]<<e-t[i+1];t[i]=n[o]>>>r}}function Wl(t,e,n){return Object(T.b)(this,void 0,void 0,(function(){var r;return Object(T.d)(this,(function(i){switch(i.label){case 0:if(3===e[0]&&0===e[1])return[2,n||new Uint8Array(0)];r=function(t,e){var n=void 0===e;return void 0===e&&(e=new Uint8Array(t.length>>>2<<3)),{data:t,buf:e,noBuf:n,BFINAL:0,off:0,pos:0}}(e,n),i.label=1;case 1:return 0!==r.BFINAL?[3,4]:t.shouldUpdate?[4,t.update({message:"Inflating blocks...",current:r.pos,max:e.length})]:[3,3];case 2:i.sent(),i.label=3;case 3:return function(t,e){for(var n=t.data,r=t.noBuf,i=t.buf,o=t.BFINAL,a=t.off,u=t.pos,s=0;0===o&&s<e;){var c=void 0,l=void 0,d=0,f=0;o=td(n,u,1),s+=1;var p=td(n,u+1,2);if(u+=3,0!==p){if(r&&(i=Xl(i,a+(1<<17))),1===p)c=zl.flmap,l=zl.fdmap,d=511,f=31;else{if(2!==p)throw new Error("unknown BTYPE ".concat(p));var m=$l(n,u,5)+257,h=$l(n,u+5,5)+1,g=$l(n,u+10,4)+4;u+=14;for(var v=0;v<38;v+=2)zl.itree[v]=0,zl.itree[v+1]=0;var y=1;for(v=0;v<g;v++){var _=$l(n,u+3*v,3);zl.itree[1+(zl.ordr[v]<<1)]=_,_>y&&(y=_)}u+=3*g,Kl(zl.itree,y),Yl(zl.itree,y,zl.imap),c=zl.lmap,l=zl.dmap,u=Ql(zl.imap,(1<<y)-1,m+h,n,u,zl.ttree);var b=Jl(zl.ttree,0,m,zl.ltree);d=(1<<b)-1;var x=Jl(zl.ttree,m,h,zl.dtree);f=(1<<x)-1,Kl(zl.ltree,b),Yl(zl.ltree,b,c),Kl(zl.dtree,x),Yl(zl.dtree,x,l)}for(;;){var A=c[ed(n,u)&d];u+=15&A;var w=A>>>4;if(w>>>8==0)i[a++]=w;else{if(256===w)break;var S=a+w-254;if(w>264){var C=zl.ldef[w-257];S=a+(C>>>3)+$l(n,u,7&C),u+=7&C}var B=l[ed(n,u)&f];u+=15&B;var I=B>>>4,P=zl.ddef[I],E=(P>>>4)+td(n,u,15&P);for(u+=15&P,r&&(i=Xl(i,a+(1<<17)));a<S;)i[a]=i[a++-E],i[a]=i[a++-E],i[a]=i[a++-E],i[a]=i[a++-E];a=S}}}else{0!=(7&u)&&(u+=8-(7&u));var M=4+(u>>>3),k=n[M-4]|n[M-3]<<8;r&&(i=Xl(i,a+k)),i.set(new Uint8Array(n.buffer,n.byteOffset+M,k),a),u=M+k<<3,a+=k}}t.buf=i,t.BFINAL=o,t.off=a,t.pos=u}(r,100),[3,1];case 4:return[2,r.buf.length===r.off?r.buf:r.buf.slice(0,r.off)]}}))}))}function Xl(t,e){var n=t.length;if(e<=n)return t;var r=new Uint8Array(Math.max(n<<1,e));return r.set(t,0),r}function Ql(t,e,n,r,i,o){for(var a=0;a<n;){var u=t[ed(r,i)&e];i+=15&u;var s=u>>>4;if(s<=15)o[a]=s,a++;else{var c=0,l=0;16===s?(l=3+$l(r,i,2),i+=2,c=o[a-1]):17===s?(l=3+$l(r,i,3),i+=3):18===s&&(l=11+$l(r,i,7),i+=7);for(var d=a+l;a<d;)o[a]=c,a++}}return i}function Jl(t,e,n,r){for(var i=0,o=0,a=r.length>>>1;o<n;){var u=t[o+e];r[o<<1]=0,r[1+(o<<1)]=u,u>i&&(i=u),o++}for(;o<a;)r[o<<1]=0,r[1+(o<<1)]=0,o++;return i}function $l(t,e,n){return(t[e>>>3]|t[1+(e>>>3)]<<8)>>>(7&e)&(1<<n)-1}function td(t,e,n){return(t[e>>>3]|t[1+(e>>>3)]<<8|t[2+(e>>>3)]<<16)>>>(7&e)&(1<<n)-1}function ed(t,e){return(t[e>>>3]|t[1+(e>>>3)]<<8|t[2+(e>>>3)]<<16)>>>(7&e)}!function(){for(var t=0;t<32768;t++){var e=t;e=(4278255360&(e=(4042322160&(e=(3435973836&(e=(2863311530&e)>>>1|(1431655765&e)<<1))>>>2|(858993459&e)<<2))>>>4|(252645135&e)<<4))>>>8|(16711935&e)<<8,zl.rev15[t]=(e>>>16|e<<16)>>>17}function n(t,e,n){for(;0!=e--;)t.push(0,n)}for(t=0;t<32;t++)zl.ldef[t]=zl.of0[t]<<3|zl.exb[t],zl.ddef[t]=zl.df0[t]<<4|zl.dxb[t];n(zl.fltree,144,8),n(zl.fltree,112,9),n(zl.fltree,24,7),n(zl.fltree,8,8),Kl(zl.fltree,9),Yl(zl.fltree,9,zl.flmap),Zl(zl.fltree,9),n(zl.fdtree,32,5),Kl(zl.fdtree,5),Yl(zl.fdtree,5,zl.fdmap),Zl(zl.fdtree,5),n(zl.itree,19,0),n(zl.ltree,286,0),n(zl.dtree,30,0),n(zl.ttree,320,0)}();var nd;function rd(t,e,n){return void 0===n&&(n=!1),Object(T.b)(this,void 0,void 0,(function(){var r,i,o,a,u,s,c,l,d,f,p,m,h;return Object(T.d)(this,(function(g){switch(g.label){case 0:for(r=Object.create(null),i=new Uint8Array(e),o=i.length-4;101010256!==Gl(i,o);)o--;a=o,a+=4,u=Ll(i,a+=4),a+=2,a+=2,s=Gl(i,a+=4),a+=4,a=s,c=0,g.label=1;case 1:return c<u?(a+=4,a+=4,a+=4,a+=4,l=Gl(i,a+=4),d=Gl(i,a+=4),f=Ll(i,a+=4),p=Ll(i,a+2),m=Ll(i,a+4),a+=6,h=Gl(i,a+=8),a+=4,a+=f+p+m,[4,id(t,i,h,r,l,d,n)]):[3,4];case 2:g.sent(),g.label=3;case 3:return c++,[3,1];case 4:return[2,r]}}))}))}function id(t,e,n,r,i,o,a){return Object(T.b)(this,void 0,void 0,(function(){var u,s,c,l,d,f;return Object(T.d)(this,(function(p){switch(p.label){case 0:return n+=4,n+=2,u=Ll(e,n+=2),n+=2,n+=4,n+=4,s=Ll(e,n+=8),c=Ll(e,n+=2),l=ql(e,n+=2,s),n+=s,n+=c,a?(r[l]={size:o,csize:i},[2]):(d=new Uint8Array(e.buffer,n),0!==u?[3,1]:(r[l]=new Uint8Array(d.buffer.slice(n,n+i)),[3,4]));case 1:return 8!==u?[3,3]:(f=new Uint8Array(o),[4,od(t,d,f)]);case 2:return p.sent(),r[l]=f,[3,4];case 3:throw new Error("unknown compression method: ".concat(u));case 4:return[2]}}))}))}function od(t,e,n){return Object(T.b)(this,void 0,void 0,(function(){return Object(T.d)(this,(function(r){return[2,Wl(t,e,n)]}))}))}function ad(t,e,n){return Object(T.b)(this,void 0,void 0,(function(){var r,i,o,a,u,s,c,l,d;return Object(T.d)(this,(function(f){switch(f.label){case 0:if(r=e[3],i=10,4&r&&(o=Ll(e,i),i+=o),8&r){for(a=i;0!==e[a];)++a;i=a+1}if(16&r){for(a=i;0!==e[a];)++a;i=a+1}return 1&r&&(i+=2),p=Gl(e,e.length-8),u=p>>0,s=Gl(e,e.length-4),void 0===n&&(n=new Uint8Array(s)),c=new Uint8Array(e.buffer,e.byteOffset+i,e.length-i-8),[4,od(t,c,n)];case 1:return l=f.sent(),d=jl(l,0,l.length),u!==d&&console.error("ungzip: checksums don't match"),[2,l]}var p}))}))}function ud(t,e){return hd(t,e)}function sd(t){return"string"==typeof t?vd(t,t,"string"):vd(t.title,t.url,t.type||"string",t.body,t.headers)}function cd(t){return t?"Failed to download data. Possible reasons: Resource is not available, or CORS is not allowed on the server.":"Failed to open file."}function ld(t,e,n){return new Promise((function(r,i){if(function(t){if(!Rl.b&&t instanceof FileReader)return t.readyState===FileReader.DONE;if(t instanceof Rl.c)return t.readyState===Rl.c.DONE;throw new Error("unknown data type")}(n)){var o=n.error;null!=o?i(null!=o?o:cd(n instanceof Rl.c)):r(n)}else{var a=!1;n.onerror=function(t){if(!a){var e=t.target.error;i(null!=e?e:cd(n instanceof Rl.c))}},n.onprogress=function(n){if(t.shouldUpdate&&!a)try{n.lengthComputable?t.update({message:e,isIndeterminate:!1,current:n.loaded,max:n.total}):t.update({message:"".concat(e," ").concat((n.loaded/1024/1024).toFixed(2)," MB"),isIndeterminate:!0})}catch(n){a=!0,i(n)}},n.onload=function(t){r(n)}}}))}function dd(t){return/\.gz$/i.test(t)?nd.Gzip:/\.zip$/i.test(t)?nd.Zip:nd.None}!function(t){t[t.None=0]="None",t[t.Gzip=1]="Gzip",t[t.Zip=2]="Zip"}(nd||(nd={}));var fd=/^(__MACOSX|.DS_Store)/;function pd(t,e,n){return Object(T.b)(this,void 0,void 0,(function(){var r,i;return Object(T.d)(this,(function(o){switch(o.label){case 0:switch(n){case nd.None:return[3,1];case nd.Gzip:return[3,2];case nd.Zip:return[3,3]}return[3,5];case 1:return[2,e];case 2:return[2,ad(t,e)];case 3:return[4,rd(t,e.buffer)];case 4:if(r=o.sent(),1!==(i=Object.keys(r).filter((function(t){return!fd.test(t)}))).length)throw new Error("can only decompress zip files with a single entry");return[2,r[i[0]]];case 5:return[2]}}))}))}function md(t,e,n,r){return Object(T.b)(this,void 0,void 0,(function(){var i,o;return Object(T.d)(this,(function(a){switch(a.label){case 0:if(null===(i=e instanceof ArrayBuffer?new Uint8Array(e):e))throw new Error("no data given");if(r===nd.None)return[3,4];if(!(i instanceof Uint8Array))throw new Error("need Uint8Array for decompression");return[4,pd(t,i,r)];case 1:return o=a.sent(),"string"!==n?[3,3]:[4,t.update({message:"Decoding text..."})];case 2:return a.sent(),i=vu(o,0,o.length),[3,4];case 3:i=o,a.label=4;case 4:return"binary"===n&&i instanceof Uint8Array?[2,i]:[3,5];case 5:return"zip"===n&&i instanceof Uint8Array?[4,rd(t,i.buffer)]:[3,7];case 6:return[2,a.sent()];case 7:if("string"===n&&"string"==typeof i)return[2,i];if("xml"===n&&"string"==typeof i)return[2,(new DOMParser).parseFromString(i,"application/xml")];if("json"===n&&"string"==typeof i)return[2,JSON.parse(i)];a.label=8;case 8:throw new Error("could not get requested response data '".concat(n,"'"))}}))}))}function hd(t,e){var n=this;if(Rl.b)return function(t,e){var n=this;return Hr.create("Read File",(function(r){return Object(T.b)(n,void 0,void 0,(function(){var n,i;return Object(T.d)(this,(function(o){switch(o.label){case 0:return n="zip"===e?nd.None:dd(t.name),[4,r.update({message:"Opening file...",canAbort:!1})];case 1:return o.sent(),"binary"!==e&&"zip"!==e&&n===nd.None?[3,3]:[4,t.arrayBuffer()];case 2:return i=o.sent(),[3,5];case 3:return[4,t.text()];case 4:i=o.sent(),o.label=5;case 5:return[4,r.update({message:"Processing file...",canAbort:!1})];case 6:return o.sent(),[4,md(r,i,e,n)];case 7:return[2,o.sent()]}}))}))}))}(t,e);var r=void 0;return Hr.create("Read File",(function(i){return Object(T.b)(n,void 0,void 0,(function(){var n,o;return Object(T.d)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,,5,6]),r=new FileReader,n="zip"===e?nd.None:dd(t.name),"binary"===e||"zip"===e||n!==nd.None?r.readAsArrayBuffer(t):r.readAsText(t),[4,i.update({message:"Opening file...",canAbort:!0})];case 1:return a.sent(),[4,ld(i,"Reading...",r)];case 2:return o=a.sent(),[4,i.update({message:"Processing file...",canAbort:!1})];case 3:return a.sent(),[4,md(i,o.result,e,n)];case 4:return[2,a.sent()];case 5:return r=void 0,[7];case 6:return[2]}}))}))}),(function(){r&&r.abort()}))}var gd=function(){function t(){}return t.get=function(){return this.pool.length?this.pool.pop():new Rl.c},t.emptyFunc=function(){},t.deposit=function(e){this.pool.length<this.poolSize&&(e.onabort=t.emptyFunc,e.onerror=t.emptyFunc,e.onload=t.emptyFunc,e.onprogress=t.emptyFunc,this.pool.push(e))},t.pool=[],t.poolSize=15,t}();function vd(t,e,n,r,i){var o=this;if(Rl.b&&e.startsWith("file://"))return function(t,e,n,r,i){if(!Rl.b)throw new Error("This function should only be used when running in Node.js");if(!e.startsWith("file://"))throw new Error("This function is only for URLs with protocol file://");var o=e.substring("file://".length),a=function(){if(!_d)throw new Error("When running in Node.js and reading from files, call mol-util/data-source's setFSModule function first.");return _d}().readFileSync(o);return ud(new Rl.a([a],"raw-data"),n)}(0,e,n);var a=void 0;return Hr.create(t||"Download",(function(t){return Object(T.b)(o,void 0,void 0,(function(){var o,u,s,c,l,d;return Object(T.d)(this,(function(f){switch(f.label){case 0:if((a=gd.get()).open(r?"post":"get",e,!0),i)for(o=0,u=i;o<u.length;o++)s=u[o],c=s[0],l=s[1],a.setRequestHeader(c,l);return a.responseType=function(t){switch(t){case"json":return"json";case"xml":return"document";case"string":return"text";case"binary":case"zip":return"arraybuffer"}}(n),a.send(r),[4,t.update({message:"Waiting for server...",canAbort:!0})];case 1:return f.sent(),[4,ld(t,"Downloading...",a)];case 2:return d=f.sent(),a=void 0,[4,t.update({message:"Parsing response...",canAbort:!1})];case 3:return f.sent(),[2,function(t,e){if(t.status>=200&&t.status<400){var n=t.response;if(gd.deposit(t),("binary"===e||"zip"===e)&&n instanceof ArrayBuffer)return new Uint8Array(n);if("string"===e&&"string"==typeof n)return n;if("xml"===e&&n instanceof XMLDocument)return n;if("json"===e&&"object"==typeof n)return n;throw new Error("could not get requested response data '".concat(e,"'"))}throw gd.deposit(t),new Error("Download failed with status code ".concat(t.status))}(d,n)]}}))}))}),(function(){a&&(a.abort(),a=void 0)}))}var yd,_d=void 0;!function(t){function e(t,e){return Object(T.a)({kind:"url",id:Lt.a.create22(),url:t},e)}t.Url=e,t.File=function(t){return{kind:"file",id:Lt.a.create22(),name:t.name,file:t}},t.isUrl=function(t){return"url"===(null==t?void 0:t.kind)},t.isFile=function(t){return"file"===(null==t?void 0:t.kind)},t.Wrapper=function(t,e,n){return{data:t,dispose:function(){n.release(e)}}},t.getUrl=function(t){return"string"==typeof t?t:t.url},t.getUrlAsset=function(t,n,r){return"string"==typeof n?t.tryFindUrl(n,r)||e(n,{body:r}):n}}(yd||(yd={}));var bd;!function(){function t(){this._assets=new Map}Object.defineProperty(t.prototype,"assets",{get:function(){return Jt(this._assets.values())},enumerable:!1,configurable:!0}),t.prototype.tryFindUrl=function(t,e){for(var n=this.assets.values();;){var r=n.next();if(r.done)return;var i=r.value.asset;if(yd.isUrl(i)&&i.url===t&&(i.body||"")===(e||""))return i}},t.prototype.set=function(t,e){this._assets.set(t.id,{asset:t,file:e,refCount:0})},t.prototype.get=function(t){return this._assets.get(t.id)},t.prototype.delete=function(t){return this._assets.delete(t.id)},t.prototype.has=function(t){return this._assets.has(t.id)},t.prototype.resolve=function(t,e,n){var r=this;return void 0===n&&(n=!0),yd.isUrl(t)?Hr.create("Download ".concat(t.title||t.url),(function(i){return Object(T.b)(r,void 0,void 0,(function(){var r,o,a,u,s,c,l,d,f;return Object(T.d)(this,(function(p){switch(p.label){case 0:return this._assets.has(t.id)?((r=this._assets.get(t.id)).refCount++,a=(o=yd).Wrapper,[4,ud(r.file,e).runInContext(i)]):[3,2];case 1:return[2,a.apply(o,[p.sent(),t,this])];case 2:return n?[3,4]:(s=(u=yd).Wrapper,[4,sd(Object(T.a)(Object(T.a)({},t),{type:e})).runInContext(i)]);case 3:return[2,s.apply(u,[p.sent(),t,this])];case 4:return[4,sd(Object(T.a)(Object(T.a)({},t),{type:"binary"})).runInContext(i)];case 5:return c=p.sent(),l=new Rl.a([c],"raw-data"),this._assets.set(t.id,{asset:t,file:l,refCount:1}),f=(d=yd).Wrapper,[4,ud(l,e).runInContext(i)];case 6:return[2,f.apply(d,[p.sent(),t,this])]}}))}))})):Hr.create("Read ".concat(t.name),(function(i){return Object(T.b)(r,void 0,void 0,(function(){var r,o,a,u,s;return Object(T.d)(this,(function(c){switch(c.label){case 0:return this._assets.has(t.id)?((r=this._assets.get(t.id)).refCount++,a=(o=yd).Wrapper,[4,ud(r.file,e).runInContext(i)]):[3,2];case 1:return[2,a.apply(o,[c.sent(),t,this])];case 2:if(!(t.file instanceof Rl.a))throw new Error("Cannot resolve file asset '".concat(t.name,"' (").concat(t.id,")"));return n&&this._assets.set(t.id,{asset:t,file:t.file,refCount:1}),s=(u=yd).Wrapper,[4,ud(t.file,e).runInContext(i)];case 3:return[2,s.apply(u,[c.sent(),t,this])]}}))}))}))},t.prototype.release=function(t){var e=this._assets.get(t.id);e&&(e.refCount--,e.refCount<=0&&this._assets.delete(t.id))}}();!function(t){function e(t,e){return e?(e.label&&(t.label=e.label),e.description&&(t.description=e.description),e.legend&&(t.legend=e.legend),e.fieldLabels&&(t.fieldLabels=e.fieldLabels),e.isHidden&&(t.isHidden=e.isHidden),e.shortLabel&&(t.shortLabel=e.shortLabel),e.twoColumns&&(t.twoColumns=e.twoColumns),e.isEssential&&(t.isEssential=e.isEssential),e.category&&(t.category=e.category),e.hideIf&&(t.hideIf=e.hideIf),e.help&&(t.help=e.help),t):t}function n(t,n,r){return e({type:"select",defaultValue:x(t,n),options:n,cycle:null==r?void 0:r.cycle},r)}function r(t,e){return e?(void 0!==e.min&&(t.min=e.min),void 0!==e.max&&(t.max=e.max),void 0!==e.step&&(t.step=e.step),t):t}function i(t,n){var r=e({type:"group",defaultValue:(null==n?void 0:n.customDefault)||u(t),params:t},n);return(null==n?void 0:n.presets)&&(r.presets=n.presets),(null==n?void 0:n.isExpanded)&&(r.isExpanded=n.isExpanded),(null==n?void 0:n.isFlat)&&(r.isFlat=n.isFlat),(null==n?void 0:n.pivot)&&(r.pivot=n.pivot),r}function o(){return u(this.element)}function a(){throw new Error("getValue not set. Fix runtime.")}function u(t){for(var e={},n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];t[i].isOptional||(e[i]=t[i].defaultValue)}return e}function s(t,e,n){return function(){return t(e,n)}}function c(t,e,n){if(e)if("value-ref"===t.type)(r=e).ref?r.getValue=s(t.resolveRef,r.ref,n):r.getValue=function(){throw new Error("Unset ref in ValueRef value.")};else if("data-ref"===t.type){(r=e).ref?r.getValue=s(n,r.ref,n):r.getValue=function(){throw new Error("Unset ref in ValueRef value.")}}else if("group"===t.type)f(t.params,e,n);else if("mapped"===t.type){var r=e;c(t.map(r.name),r.params,n)}else if("object-list"===t.type){if(!d(t.element))return;for(var i=0,o=e;i<o.length;i++){var a=o[i];f(t.element,a,n)}}}function l(t){if("value-ref"===t.type||"data-ref"===t.type)return!0;if("group"===t.type){if(d(t.params))return!0}else if("mapped"===t.type)for(var e=0,n=t.select.options;e<n.length;e++){var r=n[e][0];if(l(t.map(r)))return!0}else if("object-list"===t.type)return d(t.element);return!1}function d(t){for(var e=0,n=Object.keys(t);e<n.length;e++){if(l(t[n[e]]))return!0}return!1}function f(t,e,n){for(var r=0,i=Object.keys(t);r<i.length;r++){var o=i[r];c(t[o],null==e?void 0:e[o],n)}}function p(t,e,n){if(e===n)return!0;if("object"!=typeof e||"object"!=typeof n)return!1;for(var r=0,i=Object.keys(t);r<i.length;r++){var o=i[r];if(!m(t[o],e[o],n[o]))return!1}return!0}function m(t,e,n){if(e===n)return!0;if("group"===t.type)return p(t.params,e,n);if("mapped"===t.type){var r=n;return(u=e).name===r.name&&m(t.map(u.name),u.params,r.params)}if("multi-select"===t.type){r=n;if((u=e).length!==r.length)return!1;if(u.length<10){for(var i=0,o=u.length;i<o;i++)if(u[i]!==r[i]&&r.indexOf(u[i])<0)return!1}else{var a=new Set(r);for(i=0,o=u.length;i<o;i++)if(u[i]!==r[i]&&!a.has(u[i]))return!1}return!0}if("interval"===t.type)return e[0]===n[0]&&e[1]===n[1];if("line-graph"===t.type){r=n;if((u=e).length!==r.length)return!1;for(i=0,o=u.length;i<o;i++)if(!E.areEqual(u[i],r[i]))return!1;return!0}if("vec3"===t.type)return A.equals(e,n);if("mat4"===t.type)return I.areEqual(e,n,h);if("script"===t.type){r=n;return(u=e).language===r.language&&u.expression===r.expression}if("object-list"===t.type){r=n;var u,s=(u=e).length;if(s!==r.length)return!1;for(i=0;i<s;i++)if(!p(t.element,u[i],r[i]))return!1;return!0}return"object"==typeof e&&"object"==typeof n&&Yt(e,n)}function g(t,e,n){if(void 0===e)return Object(T.a)({},n);if(void 0===n)return Object(T.a)({},e);for(var r=Object.create(null),i=0,o=Object.keys(t);i<o.length;i++){var a=o[i];r[a]=v(t[a],e[a],n[a])}return r}function v(t,e,n){if(void 0===e)return"object"!=typeof n||Array.isArray(n)?n:Object(T.a)({},n);if(void 0===n)return"object"!=typeof e||Array.isArray(e)?e:Object(T.a)({},e);if("group"===t.type)return g(t.params,e,n);if("mapped"===t.type){var r=e,i=n;if(r.name!==i.name)return Object(T.a)({},i);var o=t.map(i.name);return{name:i.name,params:v(o,r.params,i.params)}}return"value"===t.type?n:"object"==typeof e&&"object"==typeof n?Array.isArray(n)?n:Object(T.a)(Object(T.a)({},e),n):n}function y(t,e){for(var n=0,r=t.options;n<r.length;n++){if(r[n][0]===e)return!0}return!1}function _(t,e,n){if(null==e)return n?t.defaultValue:void 0;if("value"===t.type)return e;if("group"===t.type){for(var r=Object.create(null),i=0,o=Object.keys(t.params);i<o.length;i++){var a=o[i],u=t.params[a];void 0===e[a]?n&&(r[a]=u.defaultValue):r[a]=_(u,e[a],n)}return r}if("mapped"===t.type){var s=e;if("string"!=typeof s.name)return t.defaultValue;if(void 0===s.params)return n?t.defaultValue:void 0;if(!y(t.select,s.name))return t.defaultValue;u=t.map(s.name);return{name:s.name,params:_(u,s.params,n)}}if("select"===t.type)return y(t,e)?e:t.defaultValue;if("multi-select"===t.type){if(!Array.isArray(e))return t.defaultValue;r=e.filter((function(t){return y(this,t)}),t);return e.length>0&&0===r.length?t.defaultValue:r}return"object-list"===t.type?Array.isArray(e)?e.map((function(e){return b(t.element,e,n?"all":"skip")})):t.defaultValue:e}function b(t,e,n){if("object"!=typeof e||null===e)return n?u(t):e;for(var r=Object.create(null),i=0,o=Object.keys(t);i<o.length;i++){var a=o[i],s=t[a];void 0===e[a]?"all"===n&&(r[a]=s.defaultValue):r[a]=_(s,e[a],"skip"!==n)}return r}function x(t,e){for(var n=0,r=e;n<r.length;n++){if(r[n][0]===t)return t}return e.length>0?e[0][0]:void 0}t.Essential={isEssential:!0},t.Optional=function(t){var e=Object(T.a)({},t);return e.isOptional=!0,e},t.Value=function(t,n){return e({type:"value",defaultValue:t},n)},t.Select=n,t.MultiSelect=function(t,n,r){var i=e({type:"multi-select",defaultValue:t,options:n},r);return(null==r?void 0:r.emptyValue)&&(i.emptyValue=r.emptyValue),i},t.Boolean=function(t,n){return e({type:"boolean",defaultValue:t},n)},t.Text=function(t,n){return void 0===t&&(t=""),e({type:"text",defaultValue:t},n)},t.Color=function(t,n){var r=e({type:"color",defaultValue:t},n);return(null==n?void 0:n.isExpanded)&&(r.isExpanded=n.isExpanded),r},t.ColorList=function(t,n){var r;if("string"==typeof t){var i=Qi(t);r={kind:"qualitative"!==i.type?"interpolate":"set",colors:i.list}}else r=t;return e({type:"color-list",presetKind:(null==n?void 0:n.presetKind)||"all",defaultValue:r,offsets:!!(null==n?void 0:n.offsets)},n)},t.Vec3=function(t,n,i){return e(r({type:"vec3",defaultValue:t},n),i)},t.Mat4=function(t,n){return e({type:"mat4",defaultValue:t},n)},t.Url=function(t,n){return e({type:"url",defaultValue:"string"==typeof t?yd.Url(t):yd.Url(t.url,{body:t.body})},n)},t.File=function(t){var n=e({type:"file",defaultValue:null},t);return(null==t?void 0:t.accept)&&(n.accept=t.accept),n},t.FileList=function(t){var n=e({type:"file-list",defaultValue:null},t);return(null==t?void 0:t.accept)&&(n.accept=t.accept),n},t.Numeric=function(t,n,i){var o=e(r({type:"number",defaultValue:t},n),i);return(null==i?void 0:i.immediateUpdate)&&(o.immediateUpdate=!0),o},t.Interval=function(t,n,i){return e(r({type:"interval",defaultValue:t},n),i)},t.LineGraph=function(t,n){var r=e({type:"line-graph",defaultValue:t},n);return(null==n?void 0:n.getVolume)&&(r.getVolume=n.getVolume),r},t.Group=i,t.EmptyGroup=function(t){return i({},t)},t.Mapped=function(t,r,i,o){var a=x(t,r);return e({type:"mapped",defaultValue:{name:a,params:i(a).defaultValue},select:n(a,r,o),map:i},o)},t.MappedStatic=function(t,r,i){var o=(null==i?void 0:i.options)?i.options:Object.keys(r).map((function(t){return[t,r[t].label||Zi(t)]})),a=x(t,o);return e({type:"mapped",defaultValue:{name:a,params:r[a].defaultValue},select:n(a,o,i),map:function(t){return r[t]}},i)},t.ObjectList=function(t,n,r){return e({type:"object-list",element:t,getLabel:n,ctor:o,defaultValue:(null==r?void 0:r.defaultValue)||[]},r)},t.ValueRef=function(t,n,r){var i;return e({type:"value-ref",defaultValue:{ref:null!==(i=null==r?void 0:r.defaultRef)&&void 0!==i?i:"",getValue:a},getOptions:t,resolveRef:n},r)},t.DataRef=function(t){var n;return e({type:"data-ref",defaultValue:{ref:null!==(n=null==t?void 0:t.defaultRef)&&void 0!==n?n:"",getValue:a}},t)},t.Converted=function(t,n,r){return e({type:"converted",defaultValue:n(r.defaultValue),converted:r,fromValue:t,toValue:n},r)},t.Conditioned=function(t,r,i,o,a){var u=Object.keys(r).map((function(t){return[t,t]}));return e({type:"conditioned",select:n(i(t),u,a),defaultValue:t,conditionParams:r,conditionForValue:i,conditionedValue:o},a)},t.Script=function(t,n){return e({type:"script",defaultValue:t},n)},t.For=function(t){return 0},t.getDefaultValues=u,t.resolveRefs=f,t.setDefaultValues=function(t,e){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];t[i].isOptional||(t[i].defaultValue=e[i])}},t.clone=function(t){return function t(e){if(null===e||"object"!=typeof e)return e;if(e instanceof Array){for(var n=[],r=0,i=e.length;r<i;r++)n[r]=t(e[r]);return n}if("object"==typeof e&&!("prototype"in e)){n={};for(var o in e)Ul.call(e,o)&&(n[o]=t(e[o]));return n}throw new Error("Can't clone, type \"".concat(typeof e,'" unsupported'))}(t)},t.validate=function(t,e){},t.areEqual=p,t.isParamEqual=m,t.merge=g,t.mergeParam=v,t.normalizeParams=b,t.objectToOptions=function(t,e){for(var n=[],r=0,i=Object.keys(t);r<i.length;r++){var o=i[r];if(e){var a=e(o,t[o]);n.push("string"==typeof a?[o,a]:[o,a[0],a[1]])}else"string"==typeof t[o]?n.push([o,t[o]]):n.push([o,null===e?o:Zi(o)])}return n},t.arrayToOptions=function(t,e){for(var n=[],r=0,i=t;r<i.length;r++){var o=i[r];e?n.push([o,e(o)]):n.push([o,null===e?o:Zi(o)])}return n},t.optionLabel=function(t,e){for(var n=0,r=t.options;n<r.length;n++){var i=r[n];if(i[0]===e)return i[1]}return""}}(bd||(bd={}));var xd,Ad,wd=-27.888;function Sd(t,e,n,r){var i=A.distance(t,r),o=A.distance(e,r),a=A.distance(e,n),u=A.distance(t,n),s=wd/i-wd/o+(wd/a-wd/u);return s<-9.9?-9.9:s}function Cd(t,e,n){for(var r=e.residueIndices,i=e.cIndices,o=e.hIndices,a=e.nIndices,u=e.oIndices,s=t.model.atomicHierarchy.index,c=t.conformation.invariantPosition,l=t.model.atomicHierarchy.derived.residue.traceElementIndex,d=r.length,f=[],p=[],m=[],h=A(),g=A(),v=A(),y=A(),_=A(),b=A(),x=A(),w=0,S=r.length;w<S;++w){var C=w,B=r[w],I=u[C],P=i[C],E=l[B];if(-1!==I&&-1!==P&&-1===s.findAtomOnResidue(B,"OXT")){c(I,h),c(P,g),c(E,v);for(var M=n.find(v[0],v[1],v[2],9),k=M.indices,D=M.count,O=0;O<D;++O){var N=k[O];if(N!==C&&N-1!==C&&N+1!==C){var T=a[N];if(-1!==T){c(T,y);var U=o[N];if(-1===U){if(0===N)continue;var R=N-1,L=u[R],G=i[R];if(-1===L||-1===G)continue;c(L,x),c(G,b),A.sub(_,b,x);var q=A.distance(x,b);A.scaleAndAdd(_,y,_,1/q)}else c(U,_);var F=Sd(h,g,y,_);F>-.5||(f[f.length]=C,p[p.length]=N,m[m.length]=F)}}}}}return function(t,e,n,r){for(var i=new Yr.DirectedEdgeBuilder(t,e,n),o=new Float32Array(i.slotCount),a=0,u=i.edgeCount;a<u;a++)i.addNextEdge(),i.assignProperty(o,r[a]);return i.createGraph({energies:r})}(d,f,p,m)}(Ad=xd||(xd={})).is=Mt.has,Ad.create=Mt.create;var Bd=function(t,e,n){this.partner1=Math.min(t,e),this.partner2=Math.max(t,e),this.type=n};function Id(t,e){if(e.type!==t.type)return!1;if(e.partner1!==t.firstEnd+1)return!1;if(0===e.type){if(e.partner2===t.secondEnd+1)return!0}else if(e.partner2===t.secondStart-1)return!0;return!1}function Pd(t,e){return t.type===e.type&&e.firstStart-t.firstEnd<6&&t.firstStart<e.firstStart&&0===e.nextLadder&&(0===t.type?Ed(t,e):Ed(e,t))}function Ed(t,e){return e.secondStart-t.secondEnd>0&&(e.secondStart-t.secondEnd<6&&e.firstStart-t.firstEnd<3||e.secondStart-t.secondEnd<3)}function Md(t){return xd.is(t,8)||xd.is(t,1)||xd.is(t,16)}var kd,Dd={oldDefinition:bd.Boolean(!0,{description:"Whether to use the old DSSP convention for the annotation of turns and helices, causes them to be two residues shorter"}),oldOrdering:bd.Boolean(!0,{description:"Alpha-helices are preferred over 3-10 helices"})};function Od(t,e){return Object(T.b)(this,void 0,void 0,(function(){var n,r,i,o,a,u,s,c,l,d,f,p,m,h,g,v,y,_,b,x,w;return Object(T.d)(this,(function(S){for(n=function(t){for(var e=t.model.atomicHierarchy.index,n=t.proteinElements,r=t.residueIndex,i=n.length,o=new Uint32Array(i),a=new Int32Array(i),u=new Int32Array(i),s=new Int32Array(i),c=new Int32Array(i),l=0;l<i;++l){var d=r[n[l]];o[l]=d,a[l]=e.findAtomOnResidue(d,"C"),u[l]=e.findAtomOnResidue(d,"H"),s[l]=e.findAtomOnResidue(d,"O"),c[l]=e.findAtomOnResidue(d,"N")}return{residueIndices:an.ofSortedArray(o),cIndices:a,hIndices:u,oIndices:s,nIndices:c}}(t),r=n.residueIndices,i=function(t,e){for(var n=t.model.atomicConformation,r=n.x,i=n.y,o=n.z,a=t.model.atomicHierarchy.derived.residue.traceElementIndex,u=new Uint32Array(e.length),s=0,c=e.length;s<c;++s)u[s]=a[e[s]];var l={x:r,y:i,z:o,indices:an.ofSortedArray(u)};return fr(l,Es(l))}(t,r),o=Cd(t,n,i),a=r.length,u=new Uint32Array(a),s=function(t,e){var n=e.cIndices,r=e.nIndices,i=e.residueIndices,o=t.conformation.position,a=t.model.atomicHierarchy.index,u=t.model.atomicHierarchy.derived.residue.traceElementIndex,s=i.length,c=function(t,e){return-1===t?A.setNaN(e):o(t,e)},l=A(),d=A(),f=A(),p=A(),m=A(),h=A(),g=A(),v=A(),y=A();if(0===s)return{phi:new Float32Array(0),psi:new Float32Array(0)};var _=new Float32Array(s-1),b=new Float32Array(s-1);c(-1,l),c(-1,d),c(-1,f),c(n[0],p),c(u[i[0]],m),c(r[0],h),c(n[1],g),c(u[i[1]],v),c(r[1],y);for(var x=0;x<s-1;++x)-1===a.findAtomOnResidue(i[x],"OXT")&&(_[x]=B(A.dihedralAngle(l,h,m,p)),b[x]=B(A.dihedralAngle(h,m,p,y)),l=p,d=m,f=h,p=g,m=v,h=y,c(n[x+1],g),c(u[i[x+1]],v),c(r[x+1],y));return{phi:_,psi:b}}(t,n),c=[],l=[],d=e.oldDefinition?Ud:Ld,f=e.oldOrdering?Rd:Gd,function(t){for(var e=t.proteinInfo,n=t.hbonds,r=t.flags,i=[1024,2048,4096,128,256,512],o=0;o<3;o++)for(var a=0,u=e.residueIndices.length-1;a<u;++a)if(-1!==n.getDirectedEdgeIndex(a,a+o+3))if(r[a]|=i[o+3]|i[o],t.params.oldDefinition)for(var s=1;s<o+3;++s)r[a+s]|=64|i[o+3];else for(s=0;s<=o+3;++s)r[a+s]|=64|i[o+3]}(p={params:e,getResidueFlag:d,getFlagName:f,unit:t,proteinInfo:n,flags:u,hbonds:o,torsionAngles:s,ladders:c,bridges:l}),function(t){for(var e=t.proteinInfo,n=t.flags,r=e.residueIndices.length,i=[1024,2048,4096,128,256,512],o=[0,0,0,8,1,16],a=t.params.oldOrdering?[4,3,5]:[3,4,5],u=0;u<a.length;u++)for(var s=a[u],c=1,l=r-s;c<l;c++){var d=xd.create(n[c]),f=xd.create(n[c-1]),p=xd.create(n[c+1]);if(t.params.oldOrdering){if(3===s&&(xd.is(d,1)||xd.is(p,1))||5===s&&(xd.is(d,1)||xd.is(d,8)||xd.is(p,1)||xd.is(p,8)))continue}else if(4===s&&(xd.is(d,8)||xd.is(p,8))||5===s&&(xd.is(d,1)||xd.is(d,8)||xd.is(p,1)||xd.is(p,8)))continue;if(xd.is(d,i[s])&&xd.is(d,i[s-3])&&xd.is(f,i[s])&&xd.is(f,i[s-3]))if(t.params.oldDefinition)for(var m=0;m<s;m++)n[c+m]|=o[s];else for(m=-1;m<=s;m++)n[c+m]|=o[s]}}(p),function(t){var e=t.unit,n=t.flags,r=t.proteinInfo,i=e.conformation.position,o=e.model.atomicHierarchy.derived.residue.traceElementIndex,a=r.residueIndices,u=r.nIndices,s=a.length,c=function(t,e){return-1===t?A.setNaN(e):i(t,e)},l=A(),d=A(),f=A(),p=A(),m=A(),h=A(),g=A();t:for(var v=2;v<s-2;v++){for(var y=0;y<4;y++){var _=v+y-2;if(c(o[_],p),c(u[_+1],m),A.squaredDistance(p,m)>6.25)continue t}var b=a[v-2],x=a[v],w=a[v+2],S=o[b],C=o[x],I=o[w];c(S,l),c(C,d),c(I,f),A.sub(h,l,d),A.sub(g,d,f);var P=B(A.angle(h,g));P&&P>70&&(n[v]|=32)}}(p),function(t){for(var e,n,r=t.proteinInfo,i=t.hbonds,o=t.flags,a=t.bridges,u=i.offset,s=i.b,c=0,l=r.residueIndices.length;c<l;++c)for(var d=u[c],f=u[c+1];d<f;d++){var p=s[d];c>p||((e=c+1)!==(n=p)&&-1!==i.getDirectedEdgeIndex(n,e+1)&&(o[e]|=2,o[n]|=2,a[a.length]=new Bd(e,n,0)),(e=c)!==(n=p-1)&&-1!==i.getDirectedEdgeIndex(n-1,e)&&(o[e]|=2,o[n]|=2,a[a.length]=new Bd(n,e,0)),(e=c)!==(n=p)&&-1!==i.getDirectedEdgeIndex(n,e)&&(o[e]|=2,o[n]|=2,a[a.length]=new Bd(n,e,1)),(e=c+1)!==(n=p-1)&&-1!==i.getDirectedEdgeIndex(n-1,e+1)&&(o[e]|=2,o[n]|=2,a[a.length]=new Bd(n,e,1)))}a.sort((function(t,e){return t.partner1>e.partner1?1:t.partner1<e.partner1?-1:0}))}(p),function(t){for(var e=t.bridges,n=t.ladders,r=0;r<e.length;r++){for(var i=e[r],o=!1,a=0;a<n.length;a++){var u=n[a];Id(u,i)&&(o=!0,u.firstEnd++,0===i.type?u.secondEnd++:u.secondStart--)}o||(n[n.length]={previousLadder:0,nextLadder:0,firstStart:i.partner1,firstEnd:i.partner1,secondStart:i.partner2,secondEnd:i.partner2,type:i.type})}for(var s=0;s<n.length;s++)for(var c=n[s],l=s;l<n.length;l++){var d=n[l];Pd(c,d)&&(c.nextLadder=l,d.previousLadder=s)}}(p),function(t){for(var e=t.ladders,n=t.flags,r=0;r<e.length;r++){for(var i=e[r],o=i.firstStart;o<=i.firstEnd;o++){var a=i.firstStart-o,u=i.secondStart-a;i.firstStart!==i.firstEnd?(n[o]|=4,n[u]|=4):(!Md(n[o])&&xd.is(n[o],4)&&(n[o]|=2),!Md(n[u])&&xd.is(n[u],4)&&(n[u]|=2))}if(0!==i.nextLadder){var s=e[i.nextLadder];for(o=i.firstStart;o<=s.firstEnd;o++)n[o]|=4;if(0===i.type)for(o=i.secondStart;o<=s.secondEnd;o++)n[o]|=4;else for(o=s.secondEnd;o<=i.secondStart;o++)n[o]|=4}}}(p),m=function(t,e){for(var n=new Uint32Array(t.length),r=0,i=t.length;r<i;++r){var o=xd.create(t[r]);n[r]=e(o)}return n}(u,d),h=new Uint32Array(a),g=[],v=[],y=function(t){return an.indexOf(r,t)},_=0,b=r.length;_<b;++_)x=m[_],h[_]=x,w=d(u[_]),0!==v.length&&w===v[v.length-1].flags||(v[v.length]=Nd(Td(x),u[_],d)),g[_]=v.length-1;return[2,gl(h,g,v,y)]}))}))}function Nd(t,e,n){return"helix"===t?{kind:"helix",flags:n(e)}:"sheet"===t?{kind:"sheet",flags:n(e)}:"turn"===t||"bend"===t?{kind:"turn",flags:n(e)}:{kind:"none"}}function Td(t){return t===wo.SecondaryStructureDssp.H||t===wo.SecondaryStructureDssp.G||t===wo.SecondaryStructureDssp.I?"helix":t===wo.SecondaryStructureDssp.B||t===wo.SecondaryStructureDssp.E?"sheet":t===wo.SecondaryStructureDssp.T?"turn":t===wo.SecondaryStructureDssp.S?"bend":"none"}function Ud(t){return xd.is(t,1)?wo.SecondaryStructureDssp.H:xd.is(t,4)?wo.SecondaryStructureDssp.E:xd.is(t,2)?wo.SecondaryStructureDssp.B:xd.is(t,8)?wo.SecondaryStructureDssp.G:xd.is(t,16)?wo.SecondaryStructureDssp.I:xd.is(t,64)?wo.SecondaryStructureDssp.T:xd.is(t,32)?wo.SecondaryStructureDssp.S:0}function Rd(t){return xd.is(t,1)?"H":xd.is(t,4)?"E":xd.is(t,2)?"B":xd.is(t,8)?"G":xd.is(t,16)?"I":xd.is(t,64)?"T":xd.is(t,32)?"S":"-"}function Ld(t){return xd.is(t,16)?wo.SecondaryStructureDssp.I:xd.is(t,1)?wo.SecondaryStructureDssp.H:xd.is(t,4)?wo.SecondaryStructureDssp.E:xd.is(t,2)?wo.SecondaryStructureDssp.B:xd.is(t,8)?wo.SecondaryStructureDssp.G:xd.is(t,64)?wo.SecondaryStructureDssp.T:xd.is(t,32)?wo.SecondaryStructureDssp.S:0}function Gd(t){return xd.is(t,16)?"I":xd.is(t,1)?"H":xd.is(t,4)?"E":xd.is(t,2)?"B":xd.is(t,8)?"G":xd.is(t,64)?"T":xd.is(t,32)?"S":"-"}function qd(t){var e="model";if(t){e="dssp";for(var n=0,r=t.models.length;n<r;++n){var i=t.models[n];if(th.isFromPdbArchive(i)||th.hasSecondaryStructure(i)){e="model";break}}}return{type:bd.MappedStatic(e,{model:bd.EmptyGroup({label:"Model"}),dssp:bd.Group(Dd,{label:"DSSP",isFlat:!0})},{options:[["model","Model"],["dssp","DSSP"]]})}}!function(t){function e(t){var e=this,n=t.descriptor.name,r="root"===t.type?"inheritedPropertyData":"currentPropertyData",i=function(e){return n in e[r]||(e[r][n]={props:Object(T.a)({},bd.getDefaultValues(t.getParams(e))),data:Ft.create(void 0)}),e[r][n]},o=function(t,e,o){var a=i(t);t[r][n]={props:e,data:Ft.withValue(a.data,o)}};return{label:t.label,descriptor:t.descriptor,isHidden:t.isHidden,getParams:function(e){var n=bd.clone(t.getParams(e));return bd.setDefaultValues(n,i(e).props),n},defaultParams:t.defaultParams,isApplicable:t.isApplicable,attach:function(n,r,a,u){return void 0===a&&(a={}),Object(T.b)(e,void 0,void 0,(function(){var e,s,c,l,d,f;return Object(T.d)(this,(function(p){switch(p.label){case 0:return u&&r.customPropertyDescriptors.reference(t.descriptor,!0),"root"===t.type&&(r=r.root),e=i(r.root).props,s=i(r),c=bd.merge(t.defaultParams,e,a),s.data.value&&bd.areEqual(t.defaultParams,s.props,c)?[2]:[4,t.obtain(n,r,c)];case 1:return l=p.sent(),d=l.value,f=l.assets,r.customPropertyDescriptors.add(t.descriptor),r.customPropertyDescriptors.assets(t.descriptor,f),o(r,c,d),[2]}}))}))},ref:function(e,n){return e.customPropertyDescriptors.reference(t.descriptor,n)},get:function(t){return i(t).data},set:function(e,n,r){void 0===n&&(n={}),"root"===t.type&&(e=e.root);var a=i(e),u=bd.merge(t.defaultParams,a.props,n);bd.areEqual(t.defaultParams,a.props,u)||(o(e,u,r),e.customPropertyDescriptors.assets(t.descriptor))},props:function(t){return i(t).props}}}t.createProvider=e,t.createSimple=function(t,n,r){var i=this,o={value:bd.Value(r,{isHidden:!0})};return e({label:Zi(t),descriptor:Br({name:t}),isHidden:!0,type:n,defaultParams:o,getParams:function(){return{value:bd.Value(r,{isHidden:!0})}},isApplicable:function(){return!0},obtain:function(t,e,n){return Object(T.b)(i,void 0,void 0,(function(){return Object(T.d)(this,(function(t){return[2,Object(T.a)(Object(T.a)({},bd.getDefaultValues(o)),n)]}))}))}})}}(kd||(kd={}));var Fd=qd(),jd=kd.createProvider({label:"Secondary Structure",descriptor:Br({name:"molstar_computed_secondary_structure"}),type:"root",defaultParams:Fd,getParams:qd,isApplicable:function(t){return!0},obtain:function(t,e,n){return Object(T.b)(void 0,void 0,void 0,(function(){var t,r,i;return Object(T.d)(this,(function(o){switch(o.label){case 0:switch(t=Object(T.a)(Object(T.a)({},bd.getDefaultValues(Fd)),n),t.type.name){case"dssp":return[3,1];case"model":return[3,3]}return[3,5];case 1:return r={},[4,Hd(e,t.type.params)];case 2:return[2,(r.value=o.sent(),r)];case 3:return i={},[4,Vd(e)];case 4:return[2,(i.value=o.sent(),i)];case 5:return[2]}}))}))}});function Hd(t,e){return Object(T.b)(this,void 0,void 0,(function(){var n,r,i,o,a;return Object(T.d)(this,(function(u){switch(u.label){case 0:n=new Map,r=0,i=t.unitSymmetryGroups.length,u.label=1;case 1:return r<i?(o=t.unitSymmetryGroups[r].units[0],!Ns.isAtomic(o)||th.isCoarseGrained(o.model)?[3,3]:[4,Od(o,e)]):[3,4];case 2:a=u.sent(),n.set(o.invariantId,a),u.label=3;case 3:return++r,[3,1];case 4:return[2,n]}}))}))}function Vd(t){return Object(T.b)(this,void 0,void 0,(function(){var e,n,r,i,o;return Object(T.d)(this,(function(a){for(e=new Map,n=0,r=t.unitSymmetryGroups.length;n<r;++n)i=t.unitSymmetryGroups[n].units[0],Ns.isAtomic(i)&&(o=dl.Provider.get(i.model))&&e.set(i.invariantId,o);return[2,e]}))}))}function zd(){throw new Error("Property only available for atomic models.")}function Yd(t){if(t)throw new Error("Property only available for coarse models (".concat(t,")."));throw new Error("Property only available for coarse models.")}var Kd={key:function(t){return t.element},x:function(t){return t.unit.conformation.x(t.element)},y:function(t){return t.unit.conformation.y(t.element)},z:function(t){return t.unit.conformation.z(t.element)},id:function(t){return Ns.isAtomic(t.unit)?t.unit.model.atomicConformation.atomId.value(t.element):zd()},occupancy:function(t){return Ns.isAtomic(t.unit)?t.unit.model.atomicConformation.occupancy.value(t.element):zd()},B_iso_or_equiv:function(t){return Ns.isAtomic(t.unit)?t.unit.model.atomicConformation.B_iso_or_equiv.value(t.element):zd()},sourceIndex:function(t){return Ns.isAtomic(t.unit)?t.unit.model.atomicHierarchy.atomSourceIndex.value(t.element):t.element},type_symbol:function(t){return Ns.isAtomic(t.unit)?t.unit.model.atomicHierarchy.atoms.type_symbol.value(t.element):zd()},label_atom_id:function(t){return Ns.isAtomic(t.unit)?t.unit.model.atomicHierarchy.atoms.label_atom_id.value(t.element):zd()},auth_atom_id:function(t){return Ns.isAtomic(t.unit)?t.unit.model.atomicHierarchy.atoms.auth_atom_id.value(t.element):zd()},label_alt_id:function(t){return Ns.isAtomic(t.unit)?t.unit.model.atomicHierarchy.atoms.label_alt_id.value(t.element):zd()},label_comp_id:Zd,auth_comp_id:function(t){return Ns.isAtomic(t.unit)?t.unit.model.atomicHierarchy.atoms.auth_comp_id.value(t.element):zd()},pdbx_formal_charge:function(t){return Ns.isAtomic(t.unit)?t.unit.model.atomicHierarchy.atoms.pdbx_formal_charge.value(t.element):zd()},vdw_radius:function(t){return Ns.isAtomic(t.unit)?(e=t.unit.model.atomicHierarchy.atoms.type_symbol.value(t.element),void 0===(n=pl[e])?1.7:ml[n]):zd();var e,n}};function Zd(t){return Ns.isAtomic(t.unit)||zd(),t.unit.model.atomicHierarchy.atoms.label_comp_id.value(t.element)}function Wd(t){return Ns.isAtomic(t.unit)?t.unit.model.atomicHierarchy.residues.label_seq_id.value(t.unit.residueIndex[t.element]):zd()}function Xd(t){Ns.isAtomic(t.unit)||zd();var e=t.unit.model.sequence.byEntityKey[Qd(t)];return e&&e.sequence.microHet.get(Wd(t))||[Zd(t)]}function Qd(t){switch(t.unit.kind){case 0:return t.unit.model.atomicHierarchy.index.getEntityFromChain(t.unit.chainIndex[t.element]);case 1:return t.unit.model.coarseHierarchy.spheres.entityKey[t.element];case 2:return t.unit.model.coarseHierarchy.gaussians.entityKey[t.element]}}var Jd=[],$d={constant:{true:function(t){return!0},false:function(t){return!1},zero:function(t){return 0}},atom:Kd,residue:{key:function(t){return Ns.isAtomic(t.unit)?t.unit.residueIndex[t.element]:zd()},group_PDB:function(t){return Ns.isAtomic(t.unit)?t.unit.model.atomicHierarchy.residues.group_PDB.value(t.unit.residueIndex[t.element]):zd()},label_seq_id:Wd,auth_seq_id:function(t){return Ns.isAtomic(t.unit)?t.unit.model.atomicHierarchy.residues.auth_seq_id.value(t.unit.residueIndex[t.element]):zd()},pdbx_PDB_ins_code:function(t){return Ns.isAtomic(t.unit)?t.unit.model.atomicHierarchy.residues.pdbx_PDB_ins_code.value(t.unit.residueIndex[t.element]):zd()},isNonStandard:function(t){return Ns.isAtomic(t.unit)?Xd(t).some((function(e){return"n"===t.unit.model.properties.chemicalComponentMap.get(e).mon_nstd_flag[0]})):zd()},hasMicroheterogeneity:function(t){Ns.isAtomic(t.unit)||zd();var e=t.unit.model.sequence.byEntityKey[Qd(t)];return e&&e.sequence.microHet.has(Wd(t))},microheterogeneityCompIds:Xd,secondary_structure_type:function(t){var e;Ns.isAtomic(t.unit)||zd();var n=null===(e=jd.get(t.structure).value)||void 0===e?void 0:e.get(t.unit.invariantId);return n?n.type[n.getIndex(t.unit.residueIndex[t.element])]:536870912},secondary_structure_key:function(t){var e;Ns.isAtomic(t.unit)||zd();var n=null===(e=jd.get(t.structure).value)||void 0===e?void 0:e.get(t.unit.invariantId);return n?n.key[n.getIndex(t.unit.residueIndex[t.element])]:-1},chem_comp_type:function(t){return Ns.isAtomic(t.unit)?t.unit.model.properties.chemicalComponentMap.get(Zd(t)).type:zd()}},chain:{key:function(t){return Ns.isAtomic(t.unit)?t.unit.chainIndex[t.element]:zd()},label_asym_id:function(t){return Ns.isAtomic(t.unit)?t.unit.model.atomicHierarchy.chains.label_asym_id.value(t.unit.chainIndex[t.element]):zd()},auth_asym_id:function(t){return Ns.isAtomic(t.unit)?t.unit.model.atomicHierarchy.chains.auth_asym_id.value(t.unit.chainIndex[t.element]):zd()},label_entity_id:function(t){return Ns.isAtomic(t.unit)?t.unit.model.atomicHierarchy.chains.label_entity_id.value(t.unit.chainIndex[t.element]):zd()}},entity:{key:Qd,id:function(t){return t.unit.model.entities.data.id.value(Qd(t))},type:function(t){return t.unit.model.entities.data.type.value(Qd(t))},src_method:function(t){return t.unit.model.entities.data.src_method.value(Qd(t))},pdbx_description:function(t){return t.unit.model.entities.data.pdbx_description.value(Qd(t))},formula_weight:function(t){return t.unit.model.entities.data.formula_weight.value(Qd(t))},pdbx_number_of_molecules:function(t){return t.unit.model.entities.data.pdbx_number_of_molecules.value(Qd(t))},details:function(t){return t.unit.model.entities.data.details.value(Qd(t))},pdbx_mutation:function(t){return t.unit.model.entities.data.pdbx_mutation.value(Qd(t))},pdbx_fragment:function(t){return t.unit.model.entities.data.pdbx_fragment.value(Qd(t))},pdbx_ec:function(t){return t.unit.model.entities.data.pdbx_ec.value(Qd(t))},subtype:function(t){return t.unit.model.entities.subtype.value(Qd(t))},prd_id:function(t){var e,n;return null!==(n=null===(e=t.unit.model.entities.prd_id)||void 0===e?void 0:e.value(Qd(t)))&&void 0!==n?n:""}},unit:{id:function(t){return t.unit.id},chainGroupId:function(t){return t.unit.chainGroupId},multiChain:function(t){return Ns.Traits.is(t.unit.traits,Ns.Trait.MultiChain)},object_primitive:function(t){return t.unit.objectPrimitive},operator_name:function(t){return t.unit.conformation.operator.name},operator_key:function(t){return t.unit.conformation.operator.key},model_index:function(t){return t.unit.model.modelNum},model_label:function(t){return t.unit.model.label},model_entry_id:function(t){return t.unit.model.entryId},hkl:function(t){return t.unit.conformation.operator.hkl},spgrOp:function(t){return t.unit.conformation.operator.spgrOp},model_num:function(t){return t.unit.model.modelNum},pdbx_struct_assembly_id:function(t){var e;return(null===(e=t.unit.conformation.operator.assembly)||void 0===e?void 0:e.id)||L.DefaultName},pdbx_struct_oper_list_ids:function(t){var e;return(null===(e=t.unit.conformation.operator.assembly)||void 0===e?void 0:e.operList)||Jd},struct_ncs_oper_id:function(t){return t.unit.conformation.operator.ncsId}},coarse:{key:Kd.key,entityKey:function(t){return Ns.isCoarse(t.unit)?t.unit.coarseElements.entityKey[t.element]:Yd()},x:Kd.x,y:Kd.y,z:Kd.z,asym_id:function(t){return Ns.isCoarse(t.unit)?t.unit.coarseElements.asym_id.value(t.element):Yd()},entity_id:function(t){return Ns.isCoarse(t.unit)?t.unit.coarseElements.entity_id.value(t.element):Yd()},seq_id_begin:function(t){return Ns.isCoarse(t.unit)?t.unit.coarseElements.seq_id_begin.value(t.element):Yd()},seq_id_end:function(t){return Ns.isCoarse(t.unit)?t.unit.coarseElements.seq_id_end.value(t.element):Yd()},sphere_radius:function(t){return Ns.isSpheres(t.unit)?t.unit.coarseConformation.radius[t.element]:Yd("spheres")},sphere_rmsf:function(t){return Ns.isSpheres(t.unit)?t.unit.coarseConformation.rmsf[t.element]:Yd("spheres")},gaussian_weight:function(t){return Ns.isGaussians(t.unit)?t.unit.coarseConformation.weight[t.element]:Yd("gaussians")},gaussian_covariance_matrix:function(t){return Ns.isGaussians(t.unit)?t.unit.coarseConformation.covariance_matrix[t.element]:Yd("gaussians")}}},tf=function(){function t(t){var e;this.index=new Map,this.checkOperator=!1,this.checkOperator=null!==(e=null==t?void 0:t.checkOperator)&&void 0!==e&&e}return t.prototype.add=function(t){var e=this.index.get(t.label_asym_id);e||(e=new Map,this.index.set(t.label_asym_id,e));var n=e.get(t.label_seq_id);return n||(n=[],e.set(t.label_seq_id,n)),!this._find(t,n)&&(n.push(t),!0)},t.prototype.hasLabelAsymId=function(t){return this.index.has(t)},t.prototype.has=function(t){var e,n,r=ef(t);if(this.index.has(r)){var i=this.index.get(r),o=nf(t);if(i.has(o))for(var a=i.get(o),u=rf(t),s=of(t),c=af(t),l=null!==(e=uf(t))&&void 0!==e?e:"1_555",d=0,f=a;d<f.length;d++){var p=f[d];if(p.label_comp_id===u&&p.label_alt_id===s&&p.ins_code===c&&(!this.checkOperator||(null!==(n=p.operator_name)&&void 0!==n?n:"1_555")===l))return p}}},t.getLabel=function(t,e){var n;return void 0===e&&(e=!1),"".concat(t.label_asym_id," ").concat(t.label_comp_id," ").concat(t.label_seq_id,":").concat(t.ins_code,":").concat(t.label_alt_id).concat(e?" "+(null!==(n=t.operator_name)&&void 0!==n?n:"1_555"):"")},t.getEntryFromLocation=function(t){var e;return{label_asym_id:ef(t),label_comp_id:rf(t),label_seq_id:nf(t),label_alt_id:of(t),ins_code:af(t),operator_name:null!==(e=uf(t))&&void 0!==e?e:"1_555"}},t.prototype._find=function(t,e){for(var n,r,i=0,o=e;i<o.length;i++){var a=o[i];if(a.label_comp_id===t.label_comp_id&&a.label_alt_id===t.label_alt_id&&a.ins_code===t.ins_code&&(!this.checkOperator||(null!==(n=a.operator_name)&&void 0!==n?n:"1_555")===(null!==(r=t.operator_name)&&void 0!==r?r:"1_555")))return!0}return!1},t}(),ef=$d.chain.label_asym_id,nf=$d.residue.label_seq_id,rf=$d.atom.label_comp_id,of=$d.atom.label_alt_id,af=$d.residue.pdbx_PDB_ins_code,uf=$d.unit.operator_name;function sf(t,e,n){for(var r=e.subsetBuilder(!0),i=0,o=n.units;i<o.length;i++){var a=o[i];if(0===a.kind){var u=a.model.atomicHierarchy.residueAtomSegments,s=e.unitMap.get(a.id).elements,c=a.elements;r.beginUnit(a.id);for(var l=Kn.transientSegments(u,c);l.hasNext;)for(var d=l.move().index,f=u.offsets[d],p=u.offsets[d+1];f<p;f++)an.has(s,f)&&r.addElement(f);r.commitUnit(),t.throwIfTimedOut()}else r.setUnit(a.id,a.elements)}return r.getStructure()}function cf(t){return function(e){var n=t(e);if(zs.isSingleton(n))return zs.Singletons(e.inputStructure,sf(e,e.inputStructure,n.structure));for(var r=new sc(e.inputStructure),i=0,o=n.structures;i<o.length;i++){var a=o[i];r.add(sf(e,e.inputStructure,a))}return r.getSelection()}}function lf(t,e,n,r){for(var i=new wc(e),o=e.lookup3d,a=r.radius,u=0,s=n.units;u<s.length;u++){for(var c=s[u],l=c.conformation,d=l.x,f=l.y,p=l.z,m=c.elements,h=0,g=m.length;h<g;h++){var v=m[h];o.findIntoBuilder(d(v),f(v),p(v),a,i)}t.throwIfTimedOut()}return r.wholeResidues?sf(t,e,i.getStructure()):i.getStructure()}function df(t,e,n,r){var i=new wc(e),o=e.lookup3d,a=r.elementRadius,u=r.elementRadiusClosure,s=r.sourceMaxRadius,c=r.radius;t.pushCurrentElement(),t.element.structure=n;for(var l=0,d=n.units;l<d.length;l++){var f=d[l];t.element.unit=f;for(var p=f.conformation,m=p.x,h=p.y,g=p.z,v=f.elements,y=0,_=v.length;y<_;y++){var b=v[y];t.element.element=b;var x=a(t);o.findIntoBuilderWithRadius(m(b),h(b),g(b),x,s,c,u,i)}t.throwIfTimedOut()}return t.popCurrentElement(),r.wholeResidues?sf(t,e,i.getStructure()):i.getStructure()}function ff(t,e){return function(n){return t.element.structure=n.structure,t.element.unit=n.unit,t.element.element=n.element,e(t)}}function pf(t,e){var n=0;t.element.structure=t.inputStructure;for(var r=0,i=t.inputStructure.units;r<i.length;r++){var o=i[r];t.element.unit=o;for(var a=o.elements,u=0,s=a.length;u<s;u++){var c=a[u];t.element.element=c;var l=e(t);l>n&&(n=l)}}return t.throwIfTimedOut(),n}function mf(t,e){return function(n){var r=t(n);if(e.elementRadius){var i=Object(T.a)(Object(T.a)({},e),{elementRadius:e.elementRadius,elementRadiusClosure:ff(n,e.elementRadius),sourceMaxRadius:pf(n,e.elementRadius)});if(zs.isSingleton(r)){var o=df(n,n.inputStructure,r.structure,i);return zs.Singletons(n.inputStructure,o)}for(var a=new sc(n.inputStructure),u=0,s=r.structures;u<s.length;u++){var c=s[u];a.add(df(n,n.inputStructure,c,i))}return a.getSelection()}if(zs.isSingleton(r)){o=lf(n,n.inputStructure,r.structure,e);return zs.Singletons(n.inputStructure,o)}a=new sc(n.inputStructure);for(var l=0,d=r.structures;l<d.length;l++){c=d[l];a.add(lf(n,n.inputStructure,c,e))}return a.getSelection()}}function hf(t,e){return function(n){var r=t(n);if(0===zs.structureCount(r))return r;var i=zs.UniqueBuilder(n.inputStructure),o=function(t){return i.add(t)};return zs.forEach(r,(function(t,r){n.pushInputStructure(t),zs.forEach(e(n),o),n.popInputStructure(),r%10==0&&n.throwIfTimedOut()})),i.getSelection()}}function gf(t,e){return function(n){var r=t(n);if(0===zs.structureCount(r))return r;var i=e(n);if(0===zs.structureCount(i))return zs.Empty(n.inputStructure);var o=zs.unionStructure(i),a=zs.UniqueBuilder(n.inputStructure);return zs.forEach(r,(function(t,e){var r=function(t,e){if(t===e)return t;if(!Xs(t,e))return dp.Empty;var n,r;t.units.length<e.units.length?(n=t,r=e):(n=e,r=t);for(var i=n.units,o=r.unitMap,a=[],u=0,s=i.length;u<s;u++){var c=i[u];if(o.has(c.id)){var l=o.get(c.id);if(an.areIntersecting(c.elements,l.elements)){var d=an.intersect(c.elements,l.elements);a[a.length]=c.getChild(d)}}}return dp.create(a,{parent:t.parent||e.parent})}(o,t);0!==r.elementCount&&a.add(r),e%50==0&&n.throwIfTimedOut()})),a.getSelection()}}function vf(t,e){return function(n){var r=t(n);if(0===zs.structureCount(r))return r;var i=e(n);if(0===zs.structureCount(i))return r;var o=zs.unionStructure(i),a=zs.UniqueBuilder(n.inputStructure);return zs.forEach(r,(function(t,e){var r=Qs(t,o);0!==r.elementCount&&a.add(r),e%50==0&&n.throwIfTimedOut()})),a.getSelection()}}function yf(t){return function(e){var n=zs.LinearBuilder(e.inputStructure);return n.add(zs.unionStructure(t(e))),n.getSelection()}}function _f(t,e){return function(n){var r=t(n),i=new Map,o=[];n.pushCurrentElement(),zs.forEach(r,(function(t,r){n.element.structure=t;for(var a=0,u=t.units;a<u.length;a++){var s=u[a];n.element.unit=s;for(var c=s.elements,l=0,d=c.length;l<d;l++){n.element.element=c[l];var f=e(n),p=void 0;i.has(f)?p=i.get(f):(p=gi.create(),i.set(f,p)),gi.add(p,r,r)}}o[r]=n.inputStructure.subsetBuilder(!0),r%10==0&&n.throwIfTimedOut()})),n.element.structure=n.inputStructure;for(var a=0,u=n.inputStructure.units;a<u.length;a++){var s=u[a];n.element.unit=s;for(var c=s.elements,l=0,d=c.length;l<d;l++){n.element.element=c[l];var f=e(n);if(i.has(f))for(var p=i.get(f).array,m=0,h=p.length;m<h;m++)o[p[m]].addToUnit(s.id,c[l])}}n.popCurrentElement();for(var g=zs.UniqueBuilder(n.inputStructure),v=0,y=o;v<y.length;v++){var _=y[v];g.add(_.getStructure())}return g.getSelection()}}function bf(t){var e=t.query,n=t.layerCount,r=t.wholeResidues,i=t.bondTest,o=t.fixedPoint,a=Math.max(n,0);return function(t){var n=zs.UniqueBuilder(t.inputStructure),u=e(t);return t.pushCurrentBond(),t.atomicBond.setTestFn(i),zs.forEach(u,(function(e,i){var u=e;if(o)for(;;){var s=u.elementCount;if((u=xf(t,r,u)).elementCount===s)break}else for(var c=0;c<a;c++)u=xf(t,r,u);n.add(u),i%10==0&&t.throwIfTimedOut()})),t.popCurrentBond(),n.getSelection()}}function xf(t,e,n){var r=function(t,e){for(var n=t.inputStructure,r=n.interUnitBonds,i=new wc(n),o=t.atomicBond,a=0,u=e.units;a<u.length;a++){var s=u[a];if(0===s.kind){var c=n.unitMap.get(s.id),l=c.bonds,d=l.offset,f=l.b,p=l.edgeProps,m=p.flags,h=p.order,g=p.key;o.setStructure(n),o.a.unit=c,o.b.unit=c;for(O=0,N=s.elements.length;O<N;O++){i.addToUnit(s.id,s.elements[O]);for(var v=an.indexOf(c.elements,s.elements[O]),y=d[v],_=d[v+1];y<_;y++){var b=f[y],x=c.elements[b];an.has(s.elements,x)||i.has(s.id,x)||(o.aIndex=v,o.a.element=s.elements[O],o.bIndex=b,o.b.element=x,o.type=m[y],o.order=h[y],o.key=g[y],o.test(t,!0)&&i.addToUnit(s.id,x))}}for(var A=0,w=r.getConnectedUnits(c.id);A<w.length;A++)for(var S=w[A],C=e.unitMap.get(S.unitB),B=n.unitMap.get(S.unitB),I=0,P=S.connectedIndices;I<P.length;I++){var E=P[I];if(an.has(s.elements,c.elements[E]))for(var M=0,k=S.getEdges(E);M<k.length;M++){var D=k[M];x=B.elements[D.indexB];C&&an.has(C.elements,x)||i.has(S.unitB,x)||(o.a.unit=c,o.aIndex=E,o.a.element=c.elements[E],o.b.unit=B,o.bIndex=D.indexB,o.b.element=x,o.type=D.props.flag,o.order=D.props.order,o.key=D.props.key,o.test(t,!0)&&i.addToUnit(S.unitB,x))}}}else{i.beginUnit(s.id);for(var O=0,N=s.elements.length;O<N;O++)i.addElement(s.elements[O]);i.commitUnit()}}return i.getStructure()}(t,n);return e?sf(t,t.inputStructure,r):r}function Af(t){var e=t.query,n=t.radius,r=t.includeWater;return function(t){for(var i=zs.unionStructure(e(t)),o=sf(t,t.inputStructure,lf(t,t.inputStructure,i,{radius:n})),a=function(t){var e=t.models[0],n=new Set;if(!Bl.is(e.sourceData))return n;for(var r=e.sourceData.data.db.pdbx_molecule,i=r._rowCount,o=r.asym_id,a=0;a<i;a++)n.add(o.value(a));return n}(t.inputStructure),u=function(t){var e,n,r=t.models[0],i=new Pf;if(!Bl.is(r.sourceData))return i;for(var o=r.sourceData.data.db.struct_conn,a=o.conn_type_id,u=o.ptnr1_label_asym_id,s=o.ptnr1_label_comp_id,c=o.ptnr1_label_seq_id,l=o.ptnr1_symmetry,d=o.pdbx_ptnr1_label_alt_id,f=o.pdbx_ptnr1_PDB_ins_code,p=o.ptnr2_label_asym_id,m=o.ptnr2_label_comp_id,h=o.ptnr2_label_seq_id,g=o.ptnr2_symmetry,v=o.pdbx_ptnr2_label_alt_id,y=o.pdbx_ptnr2_PDB_ins_code,_=0;_<o._rowCount;_++){var b=a.value(_);if("covale"===b||"metalc"===b){var x={label_asym_id:u.value(_),label_comp_id:s.value(_),label_seq_id:c.value(_),label_alt_id:d.value(_),ins_code:f.value(_),operator_name:null!==(e=l.value(_))&&void 0!==e?e:"1_555"},A={label_asym_id:p.value(_),label_comp_id:m.value(_),label_seq_id:h.value(_),label_alt_id:v.value(_),ins_code:y.value(_),operator_name:null!==(n=g.value(_))&&void 0!==n?n:"1_555"};i.addEdge(x,A)}}return i}(t.inputStructure),s=l.Location.create(o),c=new Map,d=new tf({checkOperator:!0}),f=0,p=o.units;f<p.length;f++){if(0===(M=p[f]).kind){s.unit=M;for(var m=M.elements,h=Kn.transientSegments(M.model.atomicHierarchy.chainAtomSegments,m),g=Kn.transientSegments(M.model.atomicHierarchy.residueAtomSegments,m);h.hasNext;){var v=h.move();s.element=m[v.start];var y=$d.chain.label_asym_id(s),_=$d.unit.operator_name(s);if(a.has(y))c.has(y)?Mr(c.get(y),_):c.set(y,[_]);else{var b=$d.entity.type(s);if("water"!==b&&"polymer"!==b)for(g.setSegment(v);g.hasNext;){var x=g.move();s.element=m[x.start],u.addComponent(tf.getEntryFromLocation(s),d)}}}t.throwIfTimedOut()}}for(var A=t.inputStructure.subsetBuilder(!0),w=0,S=t.inputStructure.units;w<S.length;w++){if(0===(M=S[w]).kind){s.unit=M;m=M.elements,h=Kn.transientSegments(M.model.atomicHierarchy.chainAtomSegments,m),g=Kn.transientSegments(M.model.atomicHierarchy.residueAtomSegments,m);for(A.beginUnit(M.id);h.hasNext;){v=h.move();s.element=m[v.start];y=$d.chain.label_asym_id(s),_=$d.unit.operator_name(s);if(c.has(y)&&c.get(y).indexOf(_)>=0)A.addElementRange(m,v.start,v.end);else if(d.hasLabelAsymId(y))for(g.setSegment(v);g.hasNext;){x=g.move();s.element=m[x.start],d.has(s)&&A.addElementRange(m,x.start,x.end)}}A.commitUnit(),t.throwIfTimedOut()}}var C=Zs(t.inputStructure,[A.getStructure(),i]);if(r){for(var B=new wc(t.inputStructure),I=t.inputStructure.lookup3d,P=0,E=C.units;P<E.length;P++){for(var M,k=(M=E[P]).conformation,D=k.x,O=k.y,N=k.z,T=0,U=(m=M.elements).length;T<U;T++){var R=m[T];I.findIntoBuilderIf(D(R),O(R),N(R),n,B,Sf),B.addToUnit(M.id,R)}t.throwIfTimedOut()}return zs.Sequence(t.inputStructure,[B.getStructure()])}return zs.Sequence(t.inputStructure,[C])}}var wf=$d.entity.type;function Sf(t){return"water"===wf(t)}var Cf,Bf,If,Pf=function(){function t(){this.vertices=new Map,this.edges=new Map}return t.prototype.addVertex=function(t,e){this.vertices.has(e)||(this.vertices.set(e,t),this.edges.set(e,[]))},t.prototype.addEdge=function(t,e){var n=tf.getLabel(t),r=tf.getLabel(e);this.addVertex(t,n),this.addVertex(e,r),Mr(this.edges.get(n),r),Mr(this.edges.get(r),n)},t.prototype.addComponent=function(t,e){var n=tf.getLabel(t);if(this.vertices.has(n)){var r=new Set,i=new Set,o=[n];for(i.add(n),e.add(t);o.length>0;){var a=o.pop();r.add(a);for(var u=this.vertices.get(a),s=0,c=this.edges.get(a);s<c.length;s++){var l=c[s];if(!r.has(l)&&(o.push(l),!i.has(l))){i.add(l);var d=this.vertices.get(l);u.operator_name===d.operator_name?e.add(Object(T.a)(Object(T.a)({},d),{operator_name:t.operator_name})):e.add(d)}}}}else e.add(t)},t}();function Ef(t,e){return function(n){var r=t(n),i=zs.LinearBuilder(n.inputStructure);return n.pushCurrentElement(),zs.forEach(r,(function(t,r){n.currentStructure=t,e(n)&&i.add(t),r%100&&n.throwIfTimedOut()})),n.popCurrentStructure(),i.getSelection()}}function Mf(t){return function(e){var n=t(e),r=zs.LinearBuilder(e.inputStructure);if("singletons"===n.kind){if(n.structure.elementCount>0){var i=n.structure.units[0],o=dp.create([i.getChild(an.ofSingleton(i.elements[0]))],{parent:e.inputStructure});r.add(o)}}else n.structures.length>0&&r.add(n.structures[0]);return r.getSelection()}}function kf(t,e,n){var r=t.currentStructure.units,i=t.pushCurrentElement();i.structure=t.currentStructure;for(var o=0,a=r;o<a.length;o++){var u=a[o];i.unit=u;var s=u.elements,c=e;if(c){for(var l=0,d=s.length;l<d;l++)i.element=s[l],n.add(c(t));t.throwIfTimedOut()}}return t.popCurrentElement(),n}function Df(t,e,n){return function(r){var i=t(r),o=function(t,e,n){var r=new Set,i=e(t);return t.pushCurrentElement(),zs.forEach(i,(function(e,i){t.currentStructure=e,kf(t,n,r),i%10&&t.throwIfTimedOut()})),t.popCurrentElement(),r}(r,e,n),a=zs.LinearBuilder(r.inputStructure);return r.pushCurrentStructure(),zs.forEach(i,(function(t,e){r.currentStructure=t;var i=kf(r,n,new Set);mo.isSuperset(o,i)&&a.add(t),e%10&&r.throwIfTimedOut()})),r.popCurrentStructure(),a.getSelection()}}function Of(t,e){return function(n){var r=zs.unionStructure(e(n)),i=zs.LinearBuilder(n.inputStructure);return zs.forEach(t(n),(function(t,e){Xs(r,t)&&i.add(t),e%10&&n.throwIfTimedOut()})),i.getSelection()}}function Nf(t){return function(e){var n={queryCtx:e,selection:t.query(e),target:t.target(e),maxRadius:t.maxRadius,minRadius:t.minRadius?Math.max(0,t.minRadius):0,elementRadius:t.elementRadius,invert:!!t.invert};return 0===n.minRadius&&void 0===t.minRadius?function(t){var e=t.queryCtx,n=t.selection,r=t.target,i=t.maxRadius,o=t.invert,a=zs.unionStructure(r).lookup3d,u=zs.LinearBuilder(e.inputStructure),s=A.zero();return zs.forEach(n,(function(t,n){for(var r=t.units,c=!1,l=0,d=r.length;l<d;l++){for(var f=r[l],p=f.elements,m=f.conformation,h=m.position,g=m.r,v=0,y=p.length;v<y;v++){var _=p[v];if(h(_,s),a.check(s[0],s[1],s[2],i+g(_))){c=!0;break}}if(c)break}o&&(c=!c),c&&u.add(t),n%10==0&&e.throwIfTimedOut()})),u.getSelection()}(n):0===n.minRadius?function(t){var e=t.queryCtx,n=t.selection,r=t.target,i=t.maxRadius,o=t.invert,a=t.elementRadius,u=zs.unionStructure(r),s=zs.LinearBuilder(e.inputStructure);return e.pushCurrentElement(),zs.forEach(n,(function(t,n){var r=function(t,e,n,r,i){return 0===e.elementCount||0===n.elementCount||(e.elementCount<=n.elementCount?Bf.check(t,e,n,r,i):Bf.check(t,n,e,r,i))}(e,u,t,i,a);o&&(r=!r),r&&s.add(t),n%10==0&&e.throwIfTimedOut()})),e.popCurrentElement(),s.getSelection()}(n):function(t){var e=t.queryCtx,n=t.selection,r=t.target,i=t.minRadius,o=t.maxRadius,a=t.invert,u=t.elementRadius,s=zs.unionStructure(r),c=zs.LinearBuilder(e.inputStructure);return e.pushCurrentElement(),zs.forEach(n,(function(t,n){var r=function(t,e,n,r,i,o){return 0===e.elementCount||0===n.elementCount||(e.elementCount<=n.elementCount?Cf.check(t,e,n,r,i,o):Cf.check(t,n,e,r,i,o))}(e,s,t,i,o,u);a&&(r=!r),r&&c.add(t),n%10==0&&e.throwIfTimedOut()})),e.popCurrentElement(),c.getSelection()}(n)}}function Tf(t){var e=t.query,n=t.target,r=t.disjunct,i=t.invert,o=t.bondTest;return function(t){var a=n(t);if(zs.isEmpty(a))return a;var u=e(t);if(zs.isEmpty(u))return u;var s={queryCtx:t,input:t.inputStructure,disjunct:r,target:zs.unionStructure(a)},c=zs.LinearBuilder(t.inputStructure);return t.pushCurrentBond(),t.atomicBond.setTestFn(o),zs.forEach(u,(function(e,n){!function(t,e){var n=t.queryCtx,r=t.input,i=t.target,o=t.disjunct,a=n.atomicBond,u=r.interUnitBonds;a.setStructure(r);for(var s=0,c=e.units;s<c.length;s++){var l=c[s];if(Ns.isAtomic(l))for(var d=r.unitMap.get(l.id),f=d.bonds,p=f.offset,m=f.b,h=f.edgeProps,g=h.flags,v=h.order,y=h.key,_=u.getConnectedUnits(l.id),b=_.length,x=l.elements,A=d.elements,w=0,S=x.length;w<S;w++){var C=an.indexOf(A,x[w]);a.a.unit=d,a.b.unit=d;for(var B=p[C],I=p[C+1];B<I;B++)if(a.b.element=d.elements[m[B]],(!o||!an.has(l.elements,a.b.element))&&i.hasElement(a.b)&&(a.aIndex=C,a.a.element=x[w],a.bIndex=m[B],a.type=g[B],a.order=v[B],a.key=y[B],a.test(n,!0)))return!0;for(var P=0;P<b;P++)for(var E=_[P],M=r.unitMap.get(E.unitB),k=M.elements,D=E.getEdges(C),O=0,N=D.length;O<N;O++){var T=D[O];if(a.b.unit=M,a.b.element=k[T.indexB],i.hasElement(a.b)&&(!o||!e.hasElement(a.b))&&(a.a.unit=d,a.aIndex=C,a.a.element=x[w],a.bIndex=T.indexB,a.type=T.props.flag,a.order=T.props.order,a.key=T.props.key,a.test(n,!0)))return!0}}}return!1}(s,e)?i&&c.add(e):c.add(e),n%5==0&&t.throwIfTimedOut()})),t.popCurrentBond(),c.getSelection()}}function Uf(t){return 0===t.length?lc:1===t.length?t[0]:function(e){for(var n=zs.UniqueBuilder(e.inputStructure),r=function(r){zs.forEach(t[r](e),(function(t,i){n.add(t),r%100&&e.throwIfTimedOut()}))},i=0;i<t.length;i++)r(i);return n.getSelection()}}function Rf(t){return 0===t.length?lc:1===t.length?t[0]:function(e){for(var n=[],r=0;r<t.length;r++)n.push(t[r](e));var i=0,o=zs.structureCount(n[0]);for(r=1;r<n.length;r++){var a=zs.structureCount(n[r]);a<o&&(i=r,o=a)}e.throwIfTimedOut();var u=mi((function(t){return t.hashCode}),dp.areUnitIdsAndIndicesEqual);zs.forEach(n[i],(function(t){return u.add(t)}));for(var s=zs.UniqueBuilder(e.inputStructure),c=0;c<n.length;c++)c!==i&&(zs.forEach(n[c],(function(t){u.has(t)&&s.add(t)})),e.throwIfTimedOut());return s.getSelection()}}function Lf(t){return t.currentStructure.elementCount}function Gf(t){return function(e){var n=t(e);return zs.structureCount(n)}}function qf(t){return function(e){var n=new Set;return kf(e,t,n)}}!function(t){var e=A.zero();function n(t,n,r,i,o,a,u){var s=n.elements,c=n.conformation.position,l=e;t.element.unit=n;for(var d=!1,f=0,p=s.length;f<p;f++){var m=s[f];t.element.element=m;var h=Math.max(0,A.distance(r,c(m,l))-i-u(t));if(h<o)return 0;h<a&&(d=!0)}return d?1:2}function r(t,e,r,i,o,a,u){for(var s=e.units,c=!1,l=0,d=s.length;l<d;l++){var f=n(t,s[l],r,i,o,a,u);if(0===f)return 0;1===f&&(c=!0)}return c?1:2}var i=A.zero();t.check=function(t,e,n,o,a,u){if(0===e.elementCount||0===n.elementCount)return 0;var s=e.units,c=!1;t.element.structure=e;for(var l=0,d=s.length;l<d;l++){var f=s[l],p=f.elements,m=f.conformation.position;t.element.unit=f;for(var h=0,g=p.length;h<g;h++){var v=p[h];t.element.element=v;var y=r(t,n,m(v,i),u(t),o,a,u);if(0===y)return!1;1===y&&(c=!0)}}return c}}(Cf||(Cf={})),function(t){var e=A.zero();function n(t,n,r,i,o,a){var u=n.elements,s=n.conformation.position,c=e;t.element.unit=n;for(var l=0,d=u.length;l<d;l++){var f=u[l];if(t.element.element=f,Math.max(0,A.distance(r,s(f,c))-i-a(t))<=o)return!0}return!1}function r(t,e,r,i,o,a){for(var u=e.units,s=0,c=u.length;s<c;s++)if(n(t,u[s],r,i,o,a))return!0;return!1}var i=A.zero();t.check=function(t,e,n,o,a){if(0===e.elementCount||0===n.elementCount)return 0;var u=e.units;t.element.structure=e;for(var s=0,c=u.length;s<c;s++){var l=u[s];t.element.unit=l;for(var d=l.elements,f=l.conformation.position,p=0,m=d.length;p<m;p++){var h=d[p];if(t.element.element=h,r(t,n,f(h,i),a(t),o,a))return!0}}return!1}}(Bf||(Bf={})),function(t){function e(t){return!0}function n(t){return!1}t.eq=function(t,e){return function(n){return t(n)===e}},t.lt=function(t,e){return function(n){return t(n)<e}},t.lte=function(t,e){return function(n){return t(n)<=e}},t.gt=function(t,e){return function(n){return t(n)>e}},t.gte=function(t,e){return function(n){return t(n)>=e}},t.inSet=function(t,e){if((o=e)&&o.has)return function(n){return e.has(t(n))};if(0===e.length)return n;for(var r=new Set,i=0;i<e.length;i++)r.add(e[i]);return function(e){return r.has(t(e))};var o},t.and=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];switch(t.length){case 0:return e;case 1:return t[0];case 2:var r=t[0],i=t[1];return function(t){return r(t)&&i(t)};case 3:var o=t[0],a=t[1],u=t[2];return function(t){return o(t)&&a(t)&&u(t)};case 4:var s=t[0],c=t[1],l=t[2],d=t[3];return function(t){return s(t)&&c(t)&&l(t)&&d(t)};case 5:var f=t[0],p=t[1],m=t[2],h=t[3],g=t[4];return function(t){return f(t)&&p(t)&&m(t)&&h(t)&&g(t)};case 6:var v=t[0],y=t[1],_=t[2],b=t[3],x=t[4],A=t[5];return function(t){return v(t)&&y(t)&&_(t)&&b(t)&&x(t)&&A(t)};default:var w=t.length;return function(e){for(var n=0;n<w;n++)if(!t[n])return!1;return!0}}},t.or=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];switch(t.length){case 0:return n;case 1:return t[0];case 2:var r=t[0],i=t[1];return function(t){return r(t)||i(t)};case 3:var o=t[0],a=t[1],u=t[2];return function(t){return o(t)||a(t)||u(t)};case 4:var s=t[0],c=t[1],l=t[2],d=t[3];return function(t){return s(t)||c(t)||l(t)||d(t)};case 5:var f=t[0],p=t[1],m=t[2],h=t[3],g=t[4];return function(t){return f(t)||p(t)||m(t)||h(t)||g(t)};case 6:var v=t[0],y=t[1],_=t[2],b=t[3],x=t[4],A=t[5];return function(t){return v(t)||y(t)||_(t)||b(t)||x(t)||A(t)};default:var w=t.length;return function(e){for(var n=0;n<w;n++)if(t[n])return!0;return!1}}}}(If||(If={}));var Ff,jf={generators:o,filters:u,modifiers:a,combinators:s,pred:If,internal:i,atomset:c};function Hf(t,e,n,r,i,o){var a=t.spacegroup,u=t.ncsOperators,s=[],c=a.cell.toFractional,l=A.transformMat4(A(),o,c),d=J.getSymmetryOperatorRef(a,e,n,r,i,l);if(u&&u.length)for(var f=0,p=u.length;f<p;++f){var m=u[f],h=I.mul(I(),d.matrix,m.matrix),g=L.create("".concat(d.name," ").concat(m.name),h,{assembly:d.assembly,ncsId:m.ncsId,hkl:d.hkl,spgrOp:d.spgrOp});s.push(g)}else s.push(d);return s}function Vf(t,e,n,r){var i=t.spacegroup,o=t.ncsOperators,a=o&&o.length||0,u=[];!a&&e[0]<=0&&n[0]>=0&&e[1]<=0&&n[1]>=0&&e[2]<=0&&n[2]>=0&&(u[0]=J.getSymmetryOperator(i,0,0,0,0));for(var s=0;s<i.operators.length;s++)for(var c=e[0];c<=n[0];c++)for(var l=e[1];l<=n[1];l++)for(var d=e[2];d<=n[2];d++)(a||0!==s||0!==c||0!==l||0!==d)&&u.push.apply(u,Hf(t,s,c,l,d,r));return u}function zf(t,e){for(var n=dp.Builder({label:t.label,dynamicBonds:t.dynamicBonds}),r=t.units,i=0,o=e;i<o.length;i++)for(var a=o[i],u=0,s=r;u<s.length;u++){var c=s[u];n.addWithOperator(c,a)}return n.getStructure()}!function(t){function e(t,e){return t.invariantId===e.invariantId&&t.model.id===e.model.id&&an.areEqual(t.elements,e.elements)}function n(){return t=Ns.hashUnit,new ht(t,e);var t}t.buildAssembly=function(t,e){var n=this;return Hr.create("Build Assembly",(function(r){return Object(T.b)(n,void 0,void 0,(function(){var n,r,i,o,a,u,s,c,l,d,f,p,m,h,g,v;return Object(T.d)(this,(function(y){if(1!==(n=t.models).length)throw new Error("Can only build assemblies from structures based on 1 model.");if(!(r=Ms.findAssembly(n[0],e)))throw new Error("Assembly '".concat(e,"' is not defined."));for(i=L.create(r.id,I.identity(),{assembly:{id:r.id,operId:0,operList:[]}}),o=dp.Builder({coordinateSystem:i,label:t.label,dynamicBonds:t.dynamicBonds}),a=new ac(t),u=0,s=r.operatorGroups;u<s.length;u++)if(c=s[u],l=c.selector(a),0!==zs.structureCount(l))for(d=zs.unionStructure(l).units,f=0,p=c.operators;f<p.length;f++)for(m=p[f],h=0,g=d;h<g.length;h++)v=g[h],o.addWithOperator(v,m);return[2,o.getStructure()]}))}))}))},t.buildSymmetryAssembly=function(t,e,n){var r=this;return Hr.create("Build Symmetry Assembly",(function(i){return Object(T.b)(r,void 0,void 0,(function(){var r,i,o,a,u,s,c,l,d,f,p,m,h,g,v,y,_,b,x,w,S,C,B,I,P;return Object(T.d)(this,(function(E){if(1!==(r=t.models).length)throw new Error("Can only build symmetry assemblies from structures based on 1 model.");for(i=A(),o=dp.Builder({label:t.label,representativeModel:r[0],dynamicBonds:t.dynamicBonds}),a=new ac(t),u=0,s=e;u<s.length;u++)if(c=s[u],M=c.asymIds,l=jf.generators.atoms({chainTest:jf.pred.and(jf.pred.eq((function(t){return $d.unit.operator_name(t.element)}),L.DefaultName),jf.pred.inSet((function(t){return $d.chain.label_asym_id(t.element)}),M))}),d=l(a),0!==zs.structureCount(d))for(f=zs.unionStructure(d).units,p=0,m=c.operators;p<m.length;p++)for(h=m[p],g=h.index,v=h.shift,y=v[0],_=v[1],b=v[2],x=Hf(n,g,y,_,b,i),w=0,S=f;w<S.length;w++)for(C=S[w],B=0,I=x;B<I.length;B++)P=I[B],o.addWithOperator(C,P);var M;return[2,o.getStructure()]}))}))}))},t.builderSymmetryMates=function(t,e){return Hr.create("Find Symmetry Mates",(function(n){return function(t,e,n){return Object(T.b)(this,void 0,void 0,(function(){function r(t,e){return"".concat(t.invariantId,"|").concat(e.name)}var i,o,a,u,s,c,l,d,f,p,m,h,g,v,y,_,b,x,w,S,C;return Object(T.d)(this,(function(B){switch(B.label){case 0:if(1!==(i=e.models).length)throw new Error("Can only build symmetries from structures based on 1 model.");return(o=Ds.Provider.get(i[0]))?(a=o.spacegroup,Q.isZero(a.cell)?[2,e]:t.shouldUpdate?[4,t.update("Initialing...")]:[3,2]):[2,e];case 1:B.sent(),B.label=2;case 2:u=th.getCenter(i[0]),s=function(t,e){if(t._operators_333&&A.equals(e,t._operators_333.ref))return t._operators_333.operators;return t._operators_333={ref:A.clone(e),operators:Vf(t,A.create(-3,-3,-3),A.create(3,3,3),e)},t._operators_333.operators}(o,u),c=e.lookup3d,l=new Set,d=dp.Builder({label:e.label,dynamicBonds:e.dynamicBonds}),f=e.units,p=A.zero(),m=0,h=s,B.label=3;case 3:if(!(m<h.length))return[3,6];for(g=h[m],v=0,y=f;v<y.length;v++)for(_=y[v],b=_.lookup3d.boundary.sphere,A.transformMat4(p,b.center,g.matrix),x=c.findUnitIndices(p[0],p[1],p[2],b.radius+n),w=0,S=x.count;w<S;w++)f[x.indices[w]].lookup3d.check(p[0],p[1],p[2],b.radius+n)&&(C=r(_,g),l.has(C)||(d.addWithOperator(_,g),l.add(C)));return t.shouldUpdate?[4,t.update("Building symmetry...")]:[3,5];case 4:B.sent(),B.label=5;case 5:return m++,[3,3];case 6:return[2,d.getStructure()]}}))}))}(n,t,e)}))},t.buildSymmetryRange=function(t,e,n){return Hr.create("Build Symmetry",(function(r){return function(t,e,n,r){return Object(T.b)(this,void 0,void 0,(function(){var t,i,o,a,u;return Object(T.d)(this,(function(s){if(1!==(t=e.models).length)throw new Error("Can only build symmetries from structures based on 1 model.");return(i=Ds.Provider.get(t[0]))?(o=i.spacegroup,Q.isZero(o.cell)?[2,e]:(a=th.getCenter(t[0]),u=Vf(i,n,r,a),[2,zf(e,u)])):[2,e]}))}))}(0,t,e,n)}))},t.buildNcs=function(t){return Hr.create("Build NCS",(function(e){return function(t,e){return Object(T.b)(this,void 0,void 0,(function(){var t,n,r;return Object(T.d)(this,(function(i){if(1!==(t=e.models).length)throw new Error("Can only build NCS from structures based on 1 model.");return(n=Ds.Provider.get(t[0]))&&(r=n.ncsOperators)&&r.length?[2,zf(e,r)]:[2,e]}))}))}(0,t)}))},t.areUnitsEquivalent=e,t.UnitEquivalenceBuilder=n,t.computeTransformGroups=function(t){for(var e=n(),r=0,i=t.units;r<i.length;r++){var o=i[r];e.add(o.id,o)}for(var a=[],u=0,s=e.groups;u<s.length;u++){var c=s[u];a.push(Ns.SymmetryGroup(c.map((function(e){return t.unitMap.get(e)}))))}return a},t.areTransformGroupsEquivalent=function(t,e){if(t.length!==e.length)return!1;for(var n=0,r=t.length;n<r;++n){var i=t[n].units,o=e[n].units;if(i.length!==o.length)return!1;if(t[n].hashCode!==e[n].hashCode)return!1;for(var a=0,u=i.length;a<u;a++)if(i[a].conformation!==o[a].conformation)return!1}return!0}}(Ff||(Ff={}));var Yf=function(){function t(t,e){this.parent=t,this.isSorted=e,this.ids=[],this.unitMap=Qn.Mutable(),this.parentId=-1,this.currentUnit=[],this.elementCount=0}return t.prototype.addToUnit=function(t,e){var n=this.unitMap.get(t);n?n[n.length]=e:(this.unitMap.set(t,[e]),this.ids[this.ids.length]=t),this.elementCount++},t.prototype.beginUnit=function(t){this.parentId=t,this.currentUnit=this.currentUnit.length>0?[]:this.currentUnit},t.prototype.addElement=function(t){this.currentUnit[this.currentUnit.length]=t,this.elementCount++},t.prototype.addElementRange=function(t,e,n){for(var r=e;r<n;r++)this.currentUnit[this.currentUnit.length]=t[r],this.elementCount++},t.prototype.commitUnit=function(){0!==this.currentUnit.length&&(this.ids[this.ids.length]=this.parentId,this.unitMap.set(this.parentId,this.currentUnit),this.parentId=-1)},t.prototype.setUnit=function(t,e){this.ids[this.ids.length]=t,this.unitMap.set(t,e),this.elementCount+=e.length},t.prototype._getStructure=function(t){if(this.isEmpty)return dp.Empty;var e=[];dt(this.ids);for(var n=Ff.UnitEquivalenceBuilder(),r=0,i=this.ids.length;r<i;r++){var o=this.ids[r],a=this.parent.unitMap.get(o),u=this.unitMap.get(o),s=!1;t&&(this.isSorted||dt(u),u=an.deduplicate(an.ofSortedArray(this.currentUnit)),s=!0);var c=u.length;if(u.length!==a.elements.length){!this.isSorted&&!s&&c>1&&dt(u);var l=a.getChild(an.ofSortedArray(u)),d=n.add(l.id,l);l!==d&&(l=d.applyOperator(l.id,l.conformation.operator,!0)),e[e.length]=l}else e[e.length]=a,n.add(a.id,a)}return dp.create(e,{parent:this.parent})},t.prototype.getStructure=function(){return this._getStructure(!1)},t.prototype.getStructureDeduplicate=function(){return this._getStructure(!0)},t.prototype.setSingletonLocation=function(t){var e=this.ids[0];t.unit=this.parent.unitMap.get(e),t.element=this.unitMap.get(e)[0]},Object.defineProperty(t.prototype,"isEmpty",{get:function(){return 0===this.elementCount},enumerable:!1,configurable:!0}),t}();function Kf(t,e){for(var n=1;e--;)n*=t--;return n}var Zf=function(){function t(t,e){var n,r;this.array=t,this.hasNext=!1,this.index=(1<<e)-1,this.size=(n=t.length,(r=e)>n?0:Kf(n,r)/Kf(r,r)),this.maxIndex=1<<t.length,this.value=new Array(e),this.hasNext=e>0&&e<=t.length}return t.prototype.move=function(){if(this.hasNext){for(var t=0,e=0,n=this.index;n;n>>>=1,t++)1&n&&(this.value[e++]=this.array[t]);this.index=function(t){var e=t&-t,n=t+e;return n|((n&-n)/e>>1)-1}(this.index),this.hasNext=this.index<this.maxIndex}return this.value},t}();function Wf(t,e){for(var n=[],r=new Zf(t,e);r.hasNext;)n.push(r.move().slice());return n}var Xf=[],Qf={links:Xf,terminalLinks:Xf,elements:Xf,partialElements:Xf,getElementIndices:function(){return Xf},getLinkIndices:function(){return Xf},getTerminalLinkIndices:function(){return Xf}},Jf=xo("C"),$f=xo("O"),tp=[os.elementFingerprint([Jf,Jf,Jf,$f]),os.elementFingerprint([Jf,Jf,Jf,Jf,$f]),os.elementFingerprint([Jf,Jf,Jf,Jf,Jf,$f]),os.elementFingerprint([Jf,Jf,Jf,Jf,Jf,Jf,$f])];function ep(t,e){for(var n=-1,r=-1,i=-1,o=-1,a=t.elements,u=t.model.atomicHierarchy.atoms,s=u.type_symbol,c=u.label_atom_id,l=t.bonds,d=l.b,f=l.offset,p=0,m=e.length;p<m;++p){var h=a[e[p]];if(s.value(h)===Jf){for(var g=0,v=0,y=f[e[p]],_=f[e[p]+1];y<_;++y){var b=a[d[y]],x=s.value(b);x===$f?++g:x===Jf&&++v}if(2===g){n=h;break}1===g&&1===v?r=h:c.value(h).startsWith("C1")?i=h:o=h}}return-1!==n?n:-1!==r?r:-1!==i?i:-1!==o?o:a[e[0]]}function np(t,e,n,r){var i=e.conformation.position;return A.normalize(t,A.sub(t,r,i(n,t))),t}function rp(t,e){var n=t.elements;return t.model.atomicHierarchy.atoms.label_atom_id.value(n[e])}function ip(t,e){if(e&&e.length){for(var n=t.unit,r=t.all,i=new Set,o=Wf(Er(new Array(e.length)),2),a=0,u=o.length;a<u;++a){var s=o[a],c=r[e[s[0]]],l=r[e[s[1]]];an.areIntersecting(c,l)&&os.getAltId(n,c)===os.getAltId(n,l)&&(i.add(e[s[0]]),i.add(e[s[1]]))}if(i.size){var d=[];for(a=0,u=e.length;a<u;++a)i.has(e[a])||d.push(e[a]);return d}return e}}function op(t,e){return e.properties.saccharideComponentMap.get(t)}function ap(t){if(0===t.models.reduce((function(t,e){return t+e.properties.saccharideComponentMap.size}),0))return Qf;var e=[],n=[],r=[],i=[],o=new Map;function a(t,e,n){return"".concat(t,"|").concat(e,"|").concat(n)}function u(t,e){o.has(t)?o.get(t).push(e):o.set(t,[e])}function s(t,e){A.sub(r[t].geometry.direction,r[e].geometry.center,r[t].geometry.center),A.normalize(r[t].geometry.direction,r[t].geometry.direction)}var c=A();function l(t,e,n){var i=n.conformation.position,o=r[t].geometry;A.sub(o.direction,i(n.elements[e],c),o.center),A.normalize(o.direction,o.direction)}for(var d=0,f=t.units.length;d<f;++d){var p=t.units[d];if(Ns.isAtomic(p))for(var m=p.model,h=p.rings,g=m.atomicHierarchy,v=g.chainAtomSegments,y=g.residueAtomSegments,_=g.atoms.label_comp_id,b=Kn.transientSegments(v,p.elements),x=Kn.transientSegments(y,p.elements),w=void 0;b.hasNext;)for(x.setSegment(b.move());x.hasNext;){var S=x.move().index,C=op(_.value(y.offsets[S]),m);if(C){w||(w=ss.byFingerprintAndResidue(h,tp));var B=ip(h,w.get(S));if(B&&B.length){for(var I=[],P=0,E=B.length;P<E;++P){var M=h.all[B[P]],k=ep(p,M),D=hr.calculateMomentsAxes(is(p,M)),O=hr.calculateNormalizedAxes(D),N=A.copy(A(),O.origin),U=A.copy(A(),O.dirC),R=np(A(),p,k,N);A.orthogonalize(R,U,R);var L=os.getAltId(p,M),G=r.length;I.push(G),u(a(S,p.id,L),G),L&&u(a(S,p.id,""),G),r.push({geometry:{center:N,normal:U,direction:R},component:C,ringIndex:B[P],altId:L,unit:p,residueIndex:S})}var q=Wf(Er(new Array(B.length)),2);for(P=0,E=q.length;P<E;++P){var F=q[P],j=h.all[B[F[0]]],H=h.all[B[F[1]]];if(Yr.areVertexSetsConnected(p.bonds,j,H,3)){var V=I[F[0]],z=I[F[1]];r[V].altId===r[z].altId&&(s(V,z),s(z,V),e.push({carbohydrateIndexA:V,carbohydrateIndexB:z}),e.push({carbohydrateIndexA:z,carbohydrateIndexB:V}))}}}else i.push({unit:p,residueIndex:S,component:C})}}}function Y(t,e){return o.get(a(t.getResidueIndex(e),t.id,function(t,e){var n=t.elements;return t.model.atomicHierarchy.atoms.label_alt_id.value(n[e])}(t,e)))||[]}for(d=0,f=r.length;d<f;++d){var K=r[d];for(p=K.unit,P=d+1;P<f;++P){var Z=r[P];if(p===Z.unit&&K.residueIndex!==Z.residueIndex){var W=p.rings.all[K.ringIndex],X=p.rings.all[Z.ringIndex];Yr.areVertexSetsConnected(p.bonds,W,X,3)&&(s(d,P),s(P,d),e.push({carbohydrateIndexA:d,carbohydrateIndexB:P}),e.push({carbohydrateIndexA:P,carbohydrateIndexB:d}))}}}for(d=0,f=t.units.length;d<f;++d){p=t.units[d];Ns.isAtomic(p)&&t.interUnitBonds.getConnectedUnits(p.id).forEach((function(r){r.connectedIndices.forEach((function(i){r.getEdges(i).forEach((function(o){var a=o.props,u=o.indexB;if(na.isCovalent(a.flag)){var c=t.unitMap.get(r.unitA),d=t.unitMap.get(r.unitB),f=Y(c,i),p=Y(d,u);if(f.length>0&&p.length>0)for(var m=f.length,h=p.length,g=0,v=Math.max(m,h);g<v;++g){var y=f[Math.min(g,m-1)],_=p[Math.min(g,h-1)];((A=rp(c,i)).startsWith("O1")||A.startsWith("C1"))&&s(y,_),e.push({carbohydrateIndexA:y,carbohydrateIndexB:_})}else if(0===p.length)for(var b=0,x=f;b<x.length;b++){var A;y=x[b];((A=rp(c,i)).startsWith("O1")||A.startsWith("C1"))&&l(y,u,d),n.push({carbohydrateIndex:y,elementIndex:u,elementUnit:d,fromCarbohydrate:!0})}else if(0===f.length)for(var w=0,S=p;w<S.length;w++){_=S[w];n.push({carbohydrateIndex:_,elementIndex:i,elementUnit:c,fromCarbohydrate:!1})}}}))}))}))}return Object(T.a)({links:e,terminalLinks:n,elements:r,partialElements:i},function(t,e,n){function r(t,e){return vt(t.id,e)}function i(t,e,n){var i=[],o=t.get(r(e,n));if(void 0!==o)for(var a=0,u=o;a<u.length;a++){Mr(i,u[a])}return i}for(var o=new Map,a=0,u=t.length;a<u;++a)for(var s=t[a],c=s.unit,l=s.ringIndex,d=c.rings.all[l],f=0,p=d.length;f<p;++f){var m=r(c,c.elements[d[f]]);void 0===(C=o.get(m))?o.set(m,[a]):C.push(a)}var h=new Map;for(a=0,u=e.length;a<u;++a){var g=e[a],v=t[g.carbohydrateIndexA];for(c=v.unit,l=v.ringIndex,d=c.rings.all[l],f=0,p=d.length;f<p;++f){m=r(c,c.elements[d[f]]);void 0===(C=h.get(m))?h.set(m,[a]):C.push(a)}}var y=new Map;for(a=0,u=n.length;a<u;++a){var _=n[a],b=_.fromCarbohydrate,x=_.carbohydrateIndex,A=_.elementUnit,w=_.elementIndex;if(b){var S=t[x];for(c=S.unit,l=S.ringIndex,d=c.rings.all[l],f=0,p=d.length;f<p;++f){m=r(c,c.elements[d[f]]);void 0===(C=y.get(m))?y.set(m,[a]):C.push(a)}}else{var C;m=r(A,A.elements[w]);void 0===(C=y.get(m))?y.set(m,[a]):C.push(a)}}return{getElementIndices:function(t,e){return i(o,t,e)},getLinkIndices:function(t,e){return i(h,t,e)},getTerminalLinkIndices:function(t,e){return i(y,t,e)}}}(r,e,n))}var up=ur(),sp=new vs("14"),cp=new vs("98");function lp(t){var e=t.units,n=e.length>500?sp:cp;n.reset();for(var r=0,i=e.length;r<i;r++){var o=(a=e[r]).boundary;(u=a.conformation.operator).isIdentity?n.includeSphere(o.sphere):(ur.transform(up,o.sphere,u.matrix),n.includeSphere(up))}n.finishedIncludeStep();for(r=0,i=e.length;r<i;r++){var a,u;o=(a=e[r]).boundary;(u=a.conformation.operator).isIdentity?n.radiusSphere(o.sphere):(ur.transform(up,o.sphere,u.matrix),n.radiusSphere(up))}return{box:n.getBox(),sphere:n.getSphere()}}var dp=function(){function t(t,e,n,r,i){this.units=t,this.unitMap=e,this.unitIndexMap=n,this.state=r,this._child=null==i?void 0:i.child,this._target=null==i?void 0:i.target,this._proxy=void 0}return t.prototype.subsetBuilder=function(t){return new Yf(this,t)},Object.defineProperty(t.prototype,"elementCount",{get:function(){return this.state.elementCount},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bondCount",{get:function(){return-1===this.state.bondCount&&(this.state.bondCount=this.interUnitBonds.edgeCount+ju.getIntraUnitBondCount(this)),this.state.bondCount},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCustomProperties",{get:function(){return!!this.state.customProps&&this.state.customProps.all.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"customPropertyDescriptors",{get:function(){return this.state.customProps||(this.state.customProps=new Ir),this.state.customProps},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentPropertyData",{get:function(){return this.state.propertyData||(this.state.propertyData=Object.create(null)),this.state.propertyData},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"inheritedPropertyData",{get:function(){return this.parent?this.parent.currentPropertyData:this.currentPropertyData},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"polymerResidueCount",{get:function(){return-1===this.state.polymerResidueCount&&(this.state.polymerResidueCount=function(t){for(var e=t.units,n=0,r=0,i=e.length;r<i;r++)n+=e[r].polymerElements.length;return n}(this)),this.state.polymerResidueCount},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"polymerGapCount",{get:function(){return-1===this.state.polymerGapCount&&(this.state.polymerGapCount=function(t){for(var e=t.units,n=0,r=0,i=e.length;r<i;r++)n+=e[r].gapElements.length/2;return n}(this)),this.state.polymerGapCount},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"polymerUnitCount",{get:function(){return-1===this.state.polymerUnitCount&&(this.state.polymerUnitCount=function(t){for(var e=t.units,n=0,r=0,i=e.length;r<i;r++)e[r].polymerElements.length>0&&(n+=1);return n}(this)),this.state.polymerUnitCount},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uniqueElementCount",{get:function(){return-1===this.state.uniqueElementCount&&(this.state.uniqueElementCount=function(t){for(var e=t.unitSymmetryGroups,n=0,r=0,i=e.length;r<i;r++)n+=e[r].elements.length;return n}(this)),this.state.uniqueElementCount},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"atomicResidueCount",{get:function(){return-1===this.state.atomicResidueCount&&(this.state.atomicResidueCount=function(t){for(var e=t.units,n=0,r=0,i=e.length;r<i;r++){var o=e[r];if(Ns.isAtomic(o))for(var a=o.elements,u=o.residueIndex,s=-1,c=-1,l=0,d=a.length;l<d;++l)(s=u[a[l]])!==c&&(n+=1,c=s)}return n}(this)),this.state.atomicResidueCount},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isCoarseGrained",{get:function(){return this.models.some((function(t){return th.isCoarseGrained(t)}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isEmpty",{get:function(){return 0===this.units.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hashCode",{get:function(){return-1!==this.state.hashCode?this.state.hashCode:this.computeHash()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"transformHash",{get:function(){return-1!==this.state.transformHash||(this.state.transformHash=_t(this.units.map((function(t){return t.id})))),this.state.transformHash},enumerable:!1,configurable:!0}),t.prototype.computeHash=function(){for(var t=23,e=0,n=this.units.length;e<n;e++){var r=this.units[e];t=31*(t=31*t+r.id|0)+an.hashCode(r.elements)|0}return-1===(t=function(t){var e=t^t>>4;return e=(3735928559^e)+(e<<5),e^=e>>11}(t=31*t+this.elementCount|0))&&(t=0),this.state.hashCode=t,t},t.prototype.elementLocations=function(){return new t.ElementLocationIterator(this)},Object.defineProperty(t.prototype,"root",{get:function(){var t;return null!==(t=this.state.parent)&&void 0!==t?t:this},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this.state.parent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"coordinateSystem",{get:function(){return this.state.coordinateSystem},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"label",{get:function(){return this.state.label},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"boundary",{get:function(){return this.state.boundary||(this.state.boundary=lp(this)),this.state.boundary},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lookup3d",{get:function(){return this.state.lookup3d||(this.state.lookup3d=new Ks(this)),this.state.lookup3d},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"interUnitBonds",{get:function(){return this.state.interUnitBonds||(this.parent&&this.state.dynamicBonds===this.parent.state.dynamicBonds&&this.parent.state.interUnitBonds&&0===this.parent.state.interUnitBonds.edgeCount?this.state.interUnitBonds=new ga(new Map):this.state.interUnitBonds=zu(this,{ignoreWater:!this.dynamicBonds,ignoreIon:!this.dynamicBonds,validUnit:this.state.interBondsValidUnit,validUnitPair:this.state.interBondsValidUnitPair})),this.state.interUnitBonds},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dynamicBonds",{get:function(){return this.state.dynamicBonds},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"interBondsValidUnit",{get:function(){return this.state.interBondsValidUnit},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"interBondsValidUnitPair",{get:function(){return this.state.interBondsValidUnitPair},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"unitSymmetryGroups",{get:function(){return this.state.unitSymmetryGroups||(this.state.unitSymmetryGroups=Ff.computeTransformGroups(this)),this.state.unitSymmetryGroups},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"unitSymmetryGroupsIndexMap",{get:function(){return this.state.unitSymmetryGroupsIndexMap||(this.state.unitSymmetryGroupsIndexMap=Ns.SymmetryGroup.getUnitSymmetryGroupsIndexMap(this.unitSymmetryGroups)),this.state.unitSymmetryGroupsIndexMap},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"carbohydrates",{get:function(){return this.state.carbohydrates||(this.state.carbohydrates=ap(this)),this.state.carbohydrates},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"models",{get:function(){return this.state.models||(this.state.models=function(t){for(var e=t.units,n=gi.create(),r=0,i=e;r<i.length;r++){var o=i[r];gi.add(n,o.model.id,o.model)}return n.array}(this)),this.state.models},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uniqueResidueNames",{get:function(){return this.state.uniqueResidueNames||(this.state.uniqueResidueNames=function(t){for(var e=$d.residue.microheterogeneityCompIds,n=new Set,r=l.Location.create(t),i=0,o=t.unitSymmetryGroups;i<o.length;i++){var a=o[i].units[0];if(Ns.isAtomic(a)){var u=Kn.transientSegments(a.model.atomicHierarchy.residueAtomSegments,a.elements);for(r.unit=a;u.hasNext;){var s=u.move();r.element=a.elements[s.start];for(var c=e(r),d=0,f=c;d<f.length;d++){var p=f[d];n.add(p)}}}}return n}(this))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uniqueElementSymbols",{get:function(){return this.state.uniqueElementSymbols||(this.state.uniqueElementSymbols=function(t){for(var e=$d.atom.type_symbol,n=new Set,r=l.Location.create(t),i=0,o=t.unitSymmetryGroups;i<o.length;i++){var a=o[i].units[0];if(Ns.isAtomic(a)){r.unit=a;for(var u=0,s=a.elements.length;u<s;++u)r.element=a.elements[u],n.add(e(r))}}return n}(this))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"entityIndices",{get:function(){return this.state.entityIndices||(this.state.entityIndices=function(t){for(var e=t.units,n=l.Location.create(t),r=gi.create(),i=0,o=e;i<o.length;i++){var a=o[i],u=0===a.kind?$d.entity.key:$d.coarse.entityKey;n.unit=a;for(var s=a.elements,c=Kn.transientSegments(a.model.atomicHierarchy.chainAtomSegments,s);c.hasNext;){var d=c.move();n.element=s[d.start];var f=u(n);gi.add(r,f,f)}}return dt(r.array),r.array}(this))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uniqueAtomicResidueIndices",{get:function(){return this.state.uniqueAtomicResidueIndices||(this.state.uniqueAtomicResidueIndices=function(t){for(var e=new Map,n=[],r=t.unitSymmetryGroups,i=0,o=r;i<o.length;i++){var a=o[i].units[0];if(Ns.isAtomic(a)){var u=void 0;e.has(a.model.id)?u=e.get(a.model.id):(u=gi.create(),n.push(a.model.id),e.set(a.model.id,u));for(var s=Kn.transientSegments(a.model.atomicHierarchy.residueAtomSegments,a.elements);s.hasNext;){var c=s.move();gi.add(u,c.index,c.index)}}}for(var l=new Map,d=0,f=n;d<f.length;d++){var p=f[d],m=e.get(p).array;dt(m),l.set(p,m)}return l}(this))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isAtomic",{get:function(){for(var t=0,e=this.units;t<e.length;t++){var n=e[t];if(!Ns.isAtomic(n))return!1}return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasAtomic",{get:function(){for(var t=0,e=this.units;t<e.length;t++){var n=e[t];if(Ns.isAtomic(n))return!0}return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isCoarse",{get:function(){for(var t=0,e=this.units;t<e.length;t++){var n=e[t];if(!Ns.isCoarse(n))return!1}return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCoarse",{get:function(){for(var t=0,e=this.units;t<e.length;t++){var n=e[t];if(Ns.isCoarse(n))return!0}return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"serialMapping",{get:function(){return this.state.serialMapping||(this.state.serialMapping=function(t){for(var e=t.units,n=t.elementCount,r=t.unitIndexMap,i=new Uint32Array(e.length),o=new Uint32Array(n),a=new Uint32Array(n),u=0,s=0,c=e.length;u<c;++u){i[u]=s;for(var l=e[u].elements,d=0,f=l.length;d<f;++d){var p=s+d;o[p]=u,a[p]=l[d]}s+=l.length}return{cumulativeUnitElementCount:i,unitIndices:o,elementIndices:a,getSerialIndex:function(t,e){return i[r.get(t.id)]+ln.indexOf(t.elements,e)}}}(this))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"model",{get:function(){if(this.state.model)return this.state.model;if(this.state.representativeModel)return this.state.representativeModel;if(this.state.masterModel)return this.state.masterModel;var t=this.models;if(t.length>1)throw new Error("The structure is based on multiple models and has neither a master- nor a representative-model.");return this.state.model=t[0],this.state.model},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"masterModel",{get:function(){return this.state.masterModel},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"representativeModel",{get:function(){return this.state.representativeModel},enumerable:!1,configurable:!0}),t.prototype.hasElement=function(t){return!!this.unitMap.has(t.unit.id)&&an.has(this.unitMap.get(t.unit.id).elements,t.element)},t.prototype.getModelIndex=function(t){return this.models.indexOf(t)},t.prototype.remapModel=function(e){for(var n=this.state,r=n.dynamicBonds,i=n.interUnitBonds,o=n.parent,a=[],u=0,s=this.unitSymmetryGroups;u<s.length;u++){var c=s[u],l=c.units[0].remapModel(e,r);a.push(l);for(var d=1,f=c.units.length;d<f;++d){var p=c.units[d];a.push(p.remapModel(e,r,l.props))}}return t.create(a,{parent:null==o?void 0:o.remapModel(e),label:this.label,interUnitBonds:r?void 0:i,dynamicBonds:r,interBondsValidUnit:this.state.interBondsValidUnit,interBondsValidUnitPair:this.state.interBondsValidUnitPair,coordinateSystem:this.state.coordinateSystem,masterModel:this.state.masterModel,representativeModel:this.state.representativeModel})},t.prototype.asParent=function(){if(this._proxy)return this._proxy;if(this.parent){var e=this.parent.coordinateSystem.isIdentity?this.parent:t.transform(this.parent,this.parent.coordinateSystem.inverse),n=this.coordinateSystem.isIdentity?e:t.transform(e,this.coordinateSystem.matrix);this._proxy=new t(n.units,n.unitMap,n.unitIndexMap,Object(T.a)(Object(T.a)({},n.state),{dynamicBonds:this.dynamicBonds}),{child:this,target:this.parent})}else this._proxy=this;return this._proxy},Object.defineProperty(t.prototype,"child",{get:function(){return this._child},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"target",{get:function(){var t;return null!==(t=this._target)&&void 0!==t?t:this},enumerable:!1,configurable:!0}),t}();function fp(t,e,n){return t[e].id-t[n].id}!function(t){function e(t){return{kind:"structure-loci",structure:t}}function n(e,n){void 0===n&&(n={});for(var r=Qn.Mutable(),i=Qn.Mutable(),o=0,a=!0,u=e.length>0?e[0].id:0,s=0,c=e.length;s<c;s++){var l=e[s];r.set(l.id,l),o+=l.elements.length,l.id<u&&(a=!1),u=l.id}a||ft(e,0,e.length,fp,it);for(s=0,c=e.length;s<c;s++)i.set(e[s].id,s);var d={hashCode:-1,transformHash:-1,elementCount:o,bondCount:-1,uniqueElementCount:-1,atomicResidueCount:-1,polymerResidueCount:-1,polymerGapCount:-1,polymerUnitCount:-1,dynamicBonds:!1,coordinateSystem:L.Default,label:""};return n.parent&&(d.parent=n.parent.parent||n.parent),n.interUnitBonds&&(d.interUnitBonds=n.interUnitBonds),n.interBondsValidUnit?d.interBondsValidUnit=n.interBondsValidUnit:n.parent&&(d.interBondsValidUnit=n.parent.interBondsValidUnit),n.interBondsValidUnitPair?d.interBondsValidUnitPair=n.interBondsValidUnitPair:n.parent&&(d.interBondsValidUnitPair=n.parent.interBondsValidUnitPair),n.dynamicBonds?d.dynamicBonds=n.dynamicBonds:n.parent&&(d.dynamicBonds=n.parent.dynamicBonds),n.coordinateSystem?d.coordinateSystem=n.coordinateSystem:n.parent&&(d.coordinateSystem=n.parent.coordinateSystem),n.label?d.label=n.label:n.parent&&(d.label=n.parent.label),n.masterModel?d.masterModel=n.masterModel:n.parent&&(d.masterModel=n.parent.masterModel),n.representativeModel?d.representativeModel=n.representativeModel:n.parent&&(d.representativeModel=n.parent.representativeModel),new t(e,r,i,d)}t.Empty=n([]),t.Loci=e,t.toStructureElementLoci=function(t){for(var e=[],n=0,r=t.units;n<r.length;n++){var i=r[n];e.push({unit:i,indices:ge.ofBounds(0,i.elements.length)})}return l.Loci(t,e)},t.toSubStructureElementLoci=function(t,e){return zs.toLociWithSourceUnits(zs.Singletons(t,e))},t.isLoci=function(t){return!!t&&"structure-loci"===t.kind},t.areLociEqual=function(t,e){return t.structure===e.structure},t.isLociEmpty=function(t){return t.structure.isEmpty},t.remapLoci=function(t,n){return n===t.structure?t:e(n)},t.create=n,t.ofTrajectory=function(e,i){return Object(T.b)(this,void 0,void 0,(function(){var o,a,u,s,c,l,d,f,p,m,h,g,v;return Object(T.d)(this,(function(y){switch(y.label){case 0:if(0===e.frameCount)return[2,t.Empty];o=[],a=void 0,u=0,s=0,c=e.frameCount,y.label=1;case 1:return s<c?[4,Hr.resolveInContext(e.getFrameAtIndex(s),i)]:[3,4];case 2:for(l=y.sent(),a||(a=l),d=r(l),f=0,p=d.units.length;f<p;++f)m=d.units[f],h=m.invariantId+u,g=m.chainGroupId+u,v=Ns.create(o.length,h,g,m.traits,m.kind,m.model,m.conformation.operator,m.elements),o.push(v);u=o.length,y.label=3;case 3:return++s,[3,1];case 4:return[2,n(o,{representativeModel:a,label:a.label})]}}))}))};function r(t,e){void 0===e&&(e={});for(var n=t.atomicHierarchy.chainAtomSegments,r=t.atomicHierarchy.index,u=t.atomicHierarchy.chains.auth_asym_id,s=t.atomicChainOperatorMappinng,c=new a(Object(T.a)({label:t.label},e)),l=0;l<n.count;l++){var d=s.get(l)||L.Default,f=n.offsets[l],p=(Bc.chainResidueCount(t.atomicHierarchy,l),n.offsets[l+1],n.offsets[l],!1);if(i(t,l))for(;l+1<n.count&&i(t,l+1);){if(s.get(l)!==s.get(l+1))break;p=!0,l++}else for(;l+1<n.count&&n.offsets[l+1]-n.offsets[l]==1&&n.offsets[l+2]-n.offsets[l+1]==1;){if(!0,r.getEntityFromChain(l)!==r.getEntityFromChain(l+1))break;if(u.value(l)!==u.value(l+1))break;if(s.get(l)!==s.get(l+1))break;p=!0,l++}var m=an.ofBounds(f,n.offsets[l+1]);c.addUnit(0,t,d,m,p?Ns.Trait.MultiChain:Ns.Trait.None)}var h=t.coarseHierarchy;return h.isDefined&&(h.spheres.count>0&&o(c,t,t.coarseHierarchy.spheres,1),h.gaussians.count>0&&o(c,t,t.coarseHierarchy.gaussians,2)),c.getStructure()}function i(t,e){var n=t.atomicHierarchy.index.getEntityFromChain(e);return"water"===t.entities.data.type.value(n)}function o(t,e,n,r){for(var i=n.chainElementSegments,o=0;o<i.count;o++){var a=an.ofBounds(i.offsets[o],i.offsets[o+1]);t.addUnit(r,e,L.Default,a,Ns.Trait.None)}}t.ofModel=r,t.transform=function(t,e){if(I.isIdentity(e))return t;if(!I.isRotationAndTranslation(e,L.RotationTranslationEpsilon))throw new Error("Only rotation/translation combination can be applied.");for(var r=[],i=0,o=t.units;i<o.length;i++){var a=o[i],u=a.conformation.operator,s=L.create(u.name,e,u);r.push(a.applyOperator(a.id,s))}var c=t.coordinateSystem;return n(r,{parent:t,coordinateSystem:L.compose(L.create(c.name,e,c),c)})};var a=function(){function t(t){void 0===t&&(t={}),this.props=t,this.units=[],this.invariantId=qt(),this.chainGroupId=-1,this.inChainGroup=!1,this.p=A(),this.singleElementUnits=new Map}return t.prototype.beginChainGroup=function(){this.chainGroupId++,this.inChainGroup=!0},t.prototype.endChainGroup=function(){this.inChainGroup=!1},t.prototype.addUnit=function(t,e,n,r,i,o){void 0===o&&(o=this.invariantId());var a=this.inChainGroup?this.chainGroupId:++this.chainGroupId,u=Ns.create(this.units.length,o,a,i,t,e,n,r);return this.add(u)},t.prototype.add=function(t){if(1===t.elements.length){t.conformation.position(t.elements[0],this.p);var e=[t.invariantId,this.p[0],this.p[1],this.p[2]].join("|");if(this.singleElementUnits.has(e))return this.singleElementUnits.get(e);this.singleElementUnits.set(e,t)}return this.units.push(t),t},t.prototype.addWithOperator=function(t,e,n){return void 0===n&&(n=!1),this.add(t.applyOperator(this.units.length,e,n))},t.prototype.getStructure=function(){return n(this.units,this.props)},Object.defineProperty(t.prototype,"isEmpty",{get:function(){return 0===this.units.length},enumerable:!1,configurable:!0}),t}();function u(t,e){if(t===e)return!0;if(t.elementCount!==e.elementCount)return!1;var n=t.units.length;if(n!==e.units.length)return!1;for(var r=0;r<n;r++)if(t.units[r].id!==e.units[r].id)return!1;return!0}function s(t,e){return t===e||t.hashCode===e.hashCode&&Ff.areTransformGroupsEquivalent(t.unitSymmetryGroups,e.unitSymmetryGroups)}t.StructureBuilder=a,t.Builder=function(t){return void 0===t&&(t={}),new a(t)},t.hashCode=function(t){return t.hashCode},t.conformationHash=function(t){return function(t){for(var e=0,n=0,r=t.length;n<r;n++)e=(e<<5)-e+t.charCodeAt(n++)|0;return e}(t.units.map((function(t){return Ns.conformationId(t)})).join("|"))},t.areUnitIdsEqual=u,t.areUnitIdsAndIndicesEqual=function(t,e){if(t===e)return!0;if(!u(t,e))return!1;for(var n=0,r=t.units.length;n<r;n++)if(!an.areEqual(t.units[n].elements,e.units[n].elements))return!1;return!0},t.areHierarchiesEqual=function(t,e){if(t.hashCode!==e.hashCode)return!1;var n=t.models.length;if(n!==e.models.length)return!1;for(var r=0;r<n;r++)if(!th.areHierarchiesEqual(t.models[r],e.models[r]))return!1;return!0},t.areEquivalent=s,t.areRootsEquivalent=function(t,e){return s(t.root,e.root)},t.areRootsEqual=function(t,e){return t.root===e.root};var c=function(){function t(t){this.structure=t,this.unitIndex=0,this.maxIdx=0,this.idx=-1,this.current=l.Location.create(t),this.hasNext=t.elementCount>0,this.hasNext&&(this.elements=t.units[0].elements,this.maxIdx=this.elements.length-1,this.current.unit=t.units[0])}return t.prototype.move=function(){return this.advance(),this.current.element=this.elements[this.idx],this.current},t.prototype.advance=function(){if(this.idx<this.maxIdx)return this.idx++,void(this.idx===this.maxIdx&&(this.hasNext=this.unitIndex+1<this.structure.units.length));this.idx=0,this.unitIndex++,this.unitIndex>=this.structure.units.length?this.hasNext=!1:(this.current.unit=this.structure.units[this.unitIndex],this.elements=this.current.unit.elements,this.maxIdx=this.elements.length-1,0===this.maxIdx&&(this.hasNext=this.unitIndex+1<this.structure.units.length))},t}();t.ElementLocationIterator=c;var d=A();function f(t,e,n){for(var r=t.elements,i=t.conformation,o=i.position,a=i.r,u=d,s=Number.MAX_VALUE,c=0,l=r.length;c<l;c++){var f=r[c],p=A.distance(e,o(f,u))-n-a(f);p<s&&(s=p)}return s}function p(t,e,n){for(var r=t.units,i=Number.MAX_VALUE,o=0,a=r.length;o<a;o++){var u=f(r[o],e,n);u<i&&(i=u)}return i}t.minDistanceToPoint=p;var m,h=A();function g(t){return t.unitSymmetryGroups.filter((function(t){return t.units[0].polymerElements.length>0}))}t.distance=function(t,e){if(0===t.elementCount||0===e.elementCount)return 0;for(var n=t.units,r=Number.MAX_VALUE,i=0,o=n.length;i<o;i++)for(var a=n[i],u=a.elements,s=a.conformation,c=s.position,l=s.r,d=0,f=u.length;d<f;d++){var m=u[d],g=p(e,c(m,h),l(m));g<r&&(r=g)}return r},t.elementDescription=function(t){return 1===t.elementCount?"1 element":"".concat(t.elementCount," elements")},t.validUnitPair=function(t,e,n){return t.masterModel?e.model===n.model||e.model===t.masterModel||n.model===t.masterModel:e.model===n.model},t.eachUnitPair=function(t,e,n){var r=n.maxRadius,i=n.validUnit,o=n.validUnitPair;if(t.units.some((function(t){return i(t)})))for(var a=t.lookup3d,u=A(),s=0,c=t.units;s<c.length;s++){var l=c[s];if(i(l)){var d=l.boundary.sphere;A.transformMat4(u,d.center,l.conformation.operator.matrix);for(var f=a.findUnitIndices(u[0],u[1],u[2],d.radius+r),p=0;p<f.count;p++){var m=t.units[f.indices[p]];l.id>=m.id||i(m)&&o(l,m)&&(m.elements.length>=l.elements.length?e(l,m):e(m,l))}}}},t.eachAtomicHierarchyElement=function(t,e){for(var n=e.chain,r=e.residue,i=e.atom,o=l.Location.create(t),a=0,u=t.units;a<u.length;a++){var s=u[a];if(0===s.kind){o.unit=s;for(var c=s.elements,d=Kn.transientSegments(s.model.atomicHierarchy.chainAtomSegments,c),f=Kn.transientSegments(s.model.atomicHierarchy.residueAtomSegments,c);d.hasNext;){var p=d.move();if(n&&(o.element=c[p.start],n(o)),r||i)for(f.setSegment(p);f.hasNext;){var m=f.move();if(r&&(o.element=c[m.start],r(o)),i)for(var h=m.start,g=m.end;h<g;h++)o.element=c[h],i(o)}}}}},t.DefaultSizeThresholds={smallResidueCount:10,mediumResidueCount:5e3,largeResidueCount:3e4,highSymmetryUnitCount:10,fiberResidueCount:15},function(t){t[t.Small=0]="Small",t[t.Medium=1]="Medium",t[t.Large=2]="Large",t[t.Huge=3]="Huge",t[t.Gigantic=4]="Gigantic"}(m=t.Size||(t.Size={})),t.getSize=function(e,n,r){void 0===n&&(n={}),void 0===r&&(r=1);var i=Object(T.a)(Object(T.a)({},t.DefaultSizeThresholds),n);return e.polymerResidueCount>=i.largeResidueCount*r?function(t,e){var n=g(t);return n.length>=1&&n[0].units.length>e.highSymmetryUnitCount}(e,i)?m.Huge:m.Gigantic:function(t,e){var n=g(t);return 1===n.length&&n[0].units.length>2&&n[0].units[0].polymerElements.length<e.fiberResidueCount}(e,i)||e.polymerResidueCount<i.smallResidueCount*r?m.Small:e.polymerResidueCount<i.mediumResidueCount*r?m.Medium:m.Large},t.Index=kd.createSimple("index","root"),t.MaxIndex=kd.createSimple("max_index","root");t.getPrincipalAxes=function(e){if(e.currentPropertyData.__PrincipalAxes__)return e.currentPropertyData.__PrincipalAxes__;var n=l.Loci.getPrincipalAxes(t.toStructureElementLoci(e));return e.currentPropertyData.__PrincipalAxes__=n,n}}(dp||(dp={}));var pp,mp,hp,gp=Qt.diff;function vp(t,e){return{kind:"element-loci",structure:t,elements:e}}function yp(t){return t}function _p(t){throw new Error("Property only available for ".concat(t," models."))}function bp(t){return function(e){return Ns.isAtomic(e.unit)?t(e):_p("atomic")}}function xp(t){return function(e){return Ns.isCoarse(e.unit)?t(e):_p("coarse")}}function Ap(t){return Ns.isAtomic(t.unit)?t.unit.residueIndex[t.element]:-1}function wp(t){return Ns.isAtomic(t.unit)?t.unit.chainIndex[t.element]:-1}function Sp(t){return $d.entity.key(t)}!function(t){function e(t){for(var e=0,n=t.elements;e<n.length;e++){var r=n[e];if(ln.size(r.indices)>0)return!1}return!0}function n(t){for(var e=0,n=0,r=t.elements;n<r.length;n++){var i=r[n].indices;e+="number"==typeof i?gp(i):i.length}return e}function r(n){return e(n)?n:t(n.structure,[{unit:n.elements[0].unit,indices:ln.ofSingleton(ln.start(n.elements[0].indices))}])}function i(t){return t.length>3&&an.isRange(t)?ge.ofRange(t[0],t[t.length-1]):an.ofSortedArray(t)}function o(e,n){for(var r=[],o=new Set,a=0,s=e.elements;a<s.length;a++){var c=s[a];if(u(c))r[r.length]=c;else if(0===c.unit.kind){for(var l=c.unit.elements,d=c.unit.model.atomicHierarchy,f=c.unit.model.atomicHierarchy.atoms.label_alt_id,p=d.residueAtomSegments,m=p.index,h=p.offsets,g=[],v=c.indices,y=ln.size(v),_=0;_<y;){o.clear();var b=l[ln.getAt(v,_)],x=m[b];for(o.add(f.value(b)),_++;_<y;){var A=l[ln.getAt(v,_)];if(m[A]!==x)break;o.add(f.value(A)),_++}for(var w=o.has(""),S=h[x],C=h[x+1];S<C;S++){var B=ln.indexOf(l,S);if(B>=0){var I=f.value(S);n&&!w&&I&&!o.has(I)||(g[g.length]=B)}}}r[r.length]={unit:c.unit,indices:i(g)}}else r[r.length]=c}return t(e.structure,r)}function a(t){switch(t.kind){case 0:return t.model.atomicHierarchy.chainAtomSegments;case 1:return t.model.coarseHierarchy.spheres.chainElementSegments;case 2:return t.model.coarseHierarchy.gaussians.chainElementSegments}}function u(t){return t.unit.elements.length===ln.size(t.indices)}function s(t,e,n){for(var r=a(t).index,o=t.elements,u=0,s=0,c=o.length;s<c;s++){var l=r[o[s]];e.has(l)&&u++}if(u!==t.elements.length){var d=new Int32Array(u);u=0;for(s=0,c=o.length;s<c;s++){l=r[o[s]];e.has(l)&&(d[u++]=s)}d.length>0&&(n[n.length]={unit:t,indices:i(d)})}else n[n.length]={unit:t,indices:ge.ofBounds(0,u)}}function c(t,e,n,r,i){for(var o=a(t.elements[0].unit).index,u=new Set,c=e;c<n;c++)for(var l=t.elements[c],d=l.indices,f=l.unit.elements,p=0,m=ln.size(d);p<m;p++)u.add(o[f[ln.getAt(d,p)]]);if(r)for(var h=t.elements[0].unit,g=0,v=t.structure.units;g<v.length;g++){var y=v[g];Ns.areSameChainOperatorGroup(y,h)&&s(y,u,i)}else for(c=e;c<n;c++)s(t.elements[c].unit,u,i)}function l(e){for(var n=[],r=0,i=e.elements.length;r<i;r++){var o=e.elements[r];if(Ns.Traits.is(o.unit.traits,Ns.Trait.Partitioned)){for(var a=r;r<i&&Ns.areSameChainOperatorGroup(e.elements[r].unit,o.unit);)r++;var s=r;r--,c(e,a,s,!0,n)}else u(o)?n[n.length]=o:c(e,r,r+1,!1,n)}return t(e.structure,n)}function d(t){return"".concat(t.unit.model.id,"|").concat($d.entity.id(t))}function f(t,e){for(var n=[],r=0,i=ln.size(e);r<i;++r)n.push(t[ln.getAt(e,r)]);return an.ofSortedArray(n)}function p(t,e){return an.isRange(t)&&an.areEqual(t,e)?ge.ofLength(t.length):i(an.indicesOf(t,e))}t.is=function(t){return!!t&&"element-loci"===t.kind},t.areEqual=function(t,e){if(t.structure!==e.structure)return!1;if(t.elements.length!==e.elements.length)return!1;for(var n=0,r=t.elements.length;n<r;++n){var i=t.elements[n],o=e.elements[n];if(i.unit.id!==o.unit.id)return!1;if(!ln.areEqual(i.indices,o.indices))return!1}return!0},t.isEmpty=e,t.isWholeStructure=function(t){return n(t)===t.structure.elementCount},t.size=n,t.all=function(e){return t(e,e.units.map((function(t){return{unit:t,indices:ln.ofBounds(0,t.elements.length)}})))},t.none=function(e){return t(e,[])},t.getFirstLocation=function(t,n){if(!e(t)){var r=t.elements[0].unit,i=r.elements[ln.getAt(t.elements[0].indices,0)];return n?(n.structure=t.structure,n.unit=t.elements[0].unit,n.element=i,n):ci.create(t.structure,r,i)}},t.firstElement=r,t.firstResidue=function(t){return e(t)?t:o(r(t))},t.firstChain=function(t){return e(t)?t:l(r(t))},t.toStructure=function(t){for(var e=[],n=function(t){var n=t.unit,r=t.indices,i=new Int32Array(ln.size(r));ln.forEach(r,(function(t,e){return i[e]=n.elements[t]})),e.push(n.getChild(an.ofSortedArray(i)))},r=0,i=t.elements;r<i.length;r++){n(i[r])}return dp.create(e,{parent:t.structure.parent})},t.forEachLocation=function(e,n){if(!t.isEmpty(e))for(var r=ci.create(e.structure),i=0,o=e.elements;i<o.length;i++){var a=o[i],u=a.unit,s=a.indices;r.unit=u;for(var c=a.unit.elements,l=0,d=ln.size(s);l<d;l++)r.element=c[ln.getAt(s,l)],n(r)}},t.remap=function(e,n){if(n===e.structure)return e;var r=[];return e.elements.forEach((function(t){if(n.unitMap.has(t.unit.id)){var e=n.unitMap.get(t.unit.id),i=ln.indexedIntersect(t.indices,t.unit.elements,e.elements);ln.size(i)>0&&r.push({unit:e,indices:i})}})),t(n,r)},t.union=function e(n,r){if(n.elements.length>r.elements.length)return e(r,n);if(t.isEmpty(n))return r;for(var i=new Map,o=0,a=n.elements;o<a.length;o++){var u=a[o];i.set(u.unit.id,u.indices)}for(var s=[],c=0,l=r.elements;c<l.length;c++){u=l[c];i.has(u.unit.id)?(s[s.length]={unit:u.unit,indices:ln.union(i.get(u.unit.id),u.indices)},i.delete(u.unit.id)):s[s.length]=u}return i.forEach((function(t,e){s[s.length]={unit:n.structure.unitMap.get(e),indices:t}})),t(n.structure,s)},t.subtract=function(e,n){for(var r=new Map,i=0,o=n.elements;i<o.length;i++){var a=o[i];r.set(a.unit.id,a.indices)}for(var u=[],s=0,c=e.elements;s<c.length;s++){a=c[s];if(r.has(a.unit.id)){var l=ln.subtract(a.indices,r.get(a.unit.id));if(0===ln.size(l))continue;u[u.length]={unit:a.unit,indices:l}}else u[u.length]=a}return t(e.structure,u)},t.intersect=function(e,n){for(var r=new Map,i=0,o=e.elements;i<o.length;i++){var a=o[i];r.set(a.unit.id,a.indices)}for(var u=[],s=0,c=n.elements;s<c.length;s++){a=c[s];if(r.has(a.unit.id)){var l=ln.intersect(r.get(a.unit.id),a.indices);0!==ln.size(l)&&(u[u.length]={unit:a.unit,indices:l})}}return t(e.structure,u)},t.areIntersecting=function e(n,r){if(n.elements.length>r.elements.length)return e(r,n);if(t.isEmpty(n))return t.isEmpty(r);for(var i=new Map,o=0,a=n.elements;o<a.length;o++){var u=a[o];i.set(u.unit.id,u.indices)}for(var s=0,c=r.elements;s<c.length;s++){u=c[s];if(i.has(u.unit.id)&&ln.areIntersecting(i.get(u.unit.id),u.indices))return!0}return!1},t.isSubset=function(e,n){if(t.isEmpty(e))return t.isEmpty(n);for(var r=new Map,i=0,o=e.elements;i<o.length;i++){var a=o[i];r.set(a.unit.id,a.indices)}for(var u=!1,s=0,c=n.elements;s<c.length;s++){a=c[s];if(r.has(a.unit.id)){if(!ln.isSubset(r.get(a.unit.id),a.indices))return!1;u=!0}}return u},t.extendToWholeResidues=o,t.extendToWholeChains=l,t.extendToWholeEntities=function(e){for(var n=[],r=ci.create(e.structure),i=new Set,o=e.structure.units,a=0,u=e.elements.length;a<u;a++){var s=e.elements[a];r.unit=s.unit,r.element=s.unit.elements[0],i.add(d(r))}a=0;for(var c=o.length;a<c;++a){var l=o[a];if(r.unit=l,r.element=l.elements[0],i.has(d(r))){var f=ln.ofBounds(0,l.elements.length);n[n.length]={unit:l,indices:f}}}return t(e.structure,n)},t.extendToWholeModels=function(e){for(var n=[],r=new Set,i=e.structure.units,o=0,a=e.elements.length;o<a;o++){var u=e.elements[o];r.add(u.unit.model.id)}o=0;for(var s=i.length;o<s;++o){var c=i[o];if(r.has(c.model.id)){var l=ln.ofBounds(0,c.elements.length);n[n.length]={unit:c,indices:l}}}return t(e.structure,n)},t.extendToAllInstances=function(e){for(var n=[],r=new Map,i=0,o=e.elements.length;i<o;i++){var a=e.elements[i],u=a.unit.model,s=f(a.unit.elements,a.indices);r.has(u)?r.set(u,an.union(s,r.get(u))):r.set(u,s)}i=0;for(var c=e.structure.units.length;i<c;++i){var l=e.structure.units[i];if(s=r.get(l.model)){var d=p(l.elements,s);ln.size(d)&&(n[n.length]={unit:l,indices:d})}}return t(e.structure,n)},t.extendToWholeOperators=function(e){for(var n=[],r=new Set,i=e.structure.units,o=0,a=e.elements.length;o<a;o++){var u=e.elements[o];r.add(u.unit.conformation.operator.name)}o=0;for(var s=i.length;o<s;++o){var c=i[o];if(r.has(c.conformation.operator.name)){var l=ln.ofBounds(0,c.elements.length);n[n.length]={unit:c,indices:l}}}return t(e.structure,n)};var m=new vs("98"),h=A();t.getBoundary=function(t,e){m.reset();for(var n=0,r=t.elements;n<r.length;n++)for(var i=(f=r[n]).indices,o=f.unit.conformation.position,a=f.unit.conformation.r,u=f.unit.elements,s=0,c=ln.size(i);s<c;s++){o(p=u[ln.getAt(i,s)],h),e&&A.transformMat4(h,h,e),m.includePositionRadius(h,a(p))}m.finishedIncludeStep();for(var l=0,d=t.elements;l<d.length;l++){var f;for(i=(f=d[l]).indices,o=f.unit.conformation.position,a=f.unit.conformation.r,u=f.unit.elements,s=0,c=ln.size(i);s<c;s++){var p;o(p=u[ln.getAt(i,s)],h),e&&A.transformMat4(h,h,e),m.radiusPositionRadius(h,a(p))}}return{box:m.getBox(),sphere:m.getSphere()}};var g=A();function v(t,e,n){void 0===n&&(n=0);for(var r=n,i=0,o=t.elements;i<o.length;i++){for(var a=o[i],u=a.indices,s=a.unit.conformation.position,c=a.unit.elements,l=ln.size(u),d=0;d<l;d++){s(c[ln.getAt(u,d)],g),A.toArray(g,e,r+3*d)}r+=3*l}return e}function y(t,e,n,r,i){dt(e);for(var o=[],a=[],u=0,s=e.length;u<s;){var c=u;for(u++;u<s&&e[u-1]+1===e[u];)u++;var l=u;if(l-c>12)o[o.length]=e[c],o[o.length]=e[l-1];else for(var d=c;d<l;d++)a[a.length]=e[d]}return n?{atom:{set:a,ranges:o},chain:{opName:[t]},entity:{modelLabel:r,modelIndex:i}}:{atom:{set:a,ranges:o},chain:{opName:[t]}}}t.toPositionsArray=v,t.getPrincipalAxes=function(t){var e=n(t),r=v(t,new Float32Array(3*e));return hr.ofPositions(r)},t.getPrincipalAxesMany=function(t){var e=0;t.forEach((function(t){e+=n(t)}));var r=new Float32Array(3*e),i=0;return t.forEach((function(t){v(t,r,i),i+=3*n(t)})),hr.ofPositions(r)},t.toExpression=function(e){var n;if(t.isEmpty(e))return Ri.struct.generator.empty();for(var r,i,o=e.structure.models,a=new Map,u=0,s=e.elements;u<s.length;u++){var c=(b=s[u]).indices,l=b.unit.elements,d=b.unit.conformation.operator.name,f=void 0;a.has(d)?f=a.get(d).xs:(f=gi.create(),a.set(d,{modelLabel:b.unit.model.label,modelIndex:b.unit.model.modelNum,xs:f}));for(var p=0,m=ln.size(c);p<m;p++){var h=(r=b.unit,i=l[ln.getAt(c,p)],Ns.isAtomic(r)?r.model.atomicHierarchy.atomSourceIndex.value(i):i);gi.add(f,h,h)}}for(var g=[],v=a.keys();;){var _=v.next();if(_.done)break;var b=a.get(_.value);g.push(y(_.value,b.xs.array,o.length>1,b.modelLabel,b.modelIndex))}for(var x=new Map,A=(p=0,g.length);p<A;++p){var w=g[p],S=gt(_t(w.atom.ranges),_t(w.atom.set));d="".concat(S,"|").concat(w.entity?w.entity.modelLabel+w.entity.modelIndex:"");x.has(d)?(n=x.get(d).chain.opName).push.apply(n,w.chain.opName):x.set(d,w)}var C=[];return x.forEach((function(t){var e=t.atom,n=e.ranges,r=e.set,i=t.chain.opName,o=Ri.struct.atomProperty.core.operatorName(),a=Ri.struct.atomProperty.core.sourceIndex(),u=[];r.length>0&&(u[u.length]=Ri.core.set.has([Ri.core.type.set(r),a]));for(var s=0,c=n.length/2;s<c;s++)u[u.length]=Ri.core.rel.inRange([a,n[2*s],n[2*s+1]]);if(t.entity){var l=t.entity,d=l.modelLabel,f=l.modelIndex;C.push(Ri.struct.generator.atomGroups({"atom-test":u.length>1?Ri.core.logic.or(u):u[0],"chain-test":i.length>1?Ri.core.set.has([Ri.core.type.set(i),o]):Ri.core.rel.eq([o,i[0]]),"entity-test":Ri.core.logic.and([Ri.core.rel.eq([Ri.struct.atomProperty.core.modelLabel(),d]),Ri.core.rel.eq([Ri.struct.atomProperty.core.modelIndex(),f])])}))}else C.push(Ri.struct.generator.atomGroups({"atom-test":u.length>1?Ri.core.logic.or(u):u[0],"chain-test":i.length>1?Ri.core.set.has([Ri.core.type.set(i),o]):Ri.core.rel.eq([o,i[0]])}))})),Ri.struct.modifier.union([1===C.length?C[0]:Ri.struct.combinator.merge(C.map((function(t){return Ri.struct.modifier.union([t])})))])}}(vp||(vp={})),function(t){function e(){return{elementCount:0,conformationCount:0,residueCount:0,chainCount:0,unitCount:0,structureCount:0,firstElementLoc:ci.create(void 0),firstConformationLoc:ci.create(void 0),firstResidueLoc:ci.create(void 0),firstChainLoc:ci.create(void 0),firstUnitLoc:ci.create(void 0),firstStructureLoc:ci.create(void 0)}}function n(t,e,n){var r=t.get(e)||0;t.set(e,r+n)}function r(t,e,r){var i=r.indices,o=r.unit,a=o.elements,u=ln.size(i),s=new Map,c=new Map;if(u>0&&ci.set(t.firstElementLoc,e,o,a[ln.start(i)]),u===a.length)t.unitCount+=1,1===t.unitCount&&ci.set(t.firstUnitLoc,e,o,a[ln.start(i)]);else if(1===u){if(Ns.Traits.is(o.traits,Ns.Trait.MultiChain))return;t.elementCount+=1,1===t.elementCount&&ci.set(t.firstElementLoc,e,o,a[ln.start(i)])}else if(Ns.isAtomic(o))for(var l=o.model.atomicHierarchy.residueAtomSegments,d=l.index,f=l.offsets,p=o.model.atomicHierarchy.atoms.label_alt_id,m=0,h=function(){s.clear();var r=0,l=a[ln.getAt(i,m)],h=d[l];for(n(s,p.value(l),1),++m,++r;m<u;){var g=a[ln.getAt(i,m)];if(d[g]!==h)break;n(s,p.value(g),1),++m,++r}if(f[h+1]-f[h]===r)t.residueCount+=1,1===t.residueCount&&ci.set(t.firstResidueLoc,e,o,f[h]);else{c.clear();for(var v=f[h],y=f[h+1];v<y;++v)n(c,p.value(v),1);c.get("")===s.get("")&&s.forEach((function(n,i){if(c.get(i)===n){if(""!==i&&(t.conformationCount+=1,1===t.conformationCount))for(var a=f[h],u=f[h+1];a<u;++a)if(i===p.value(a)){ci.set(t.firstConformationLoc,e,o,a);break}r-=n}})),t.elementCount+=r}};m<u;)h();else t.elementCount+=u,1===t.elementCount&&ci.set(t.firstElementLoc,e,o,a[ln.start(i)])}function i(t,e,n){var r=n.indices,i=n.unit,o=ln.size(r);if(0!==o){var a=i.elements;if(Ns.Traits.is(i.traits,Ns.Trait.MultiChain)){var u=Ns.isAtomic(i)?i.model.atomicHierarchy.chainAtomSegments:Ns.isSpheres(i)?i.model.coarseHierarchy.spheres.chainElementSegments:Ns.isGaussians(i)?i.model.coarseHierarchy.gaussians.chainElementSegments:void 0;if(u)for(var s=u.index,c=u.offsets,l=0;l<o;){var d=0,f=a[ln.getAt(r,l)],p=s[f];for(++l,++d;l<o;){if(s[a[ln.getAt(r,l)]]!==p)break;++l,++d}c[p+1]-c[p]===d?(t.chainCount+=1,1===t.chainCount&&ci.set(t.firstChainLoc,e,i,c[p])):1===o&&(t.elementCount+=1,1===t.elementCount&&ci.set(t.firstElementLoc,e,i,f))}else console.warn("StructureElement loci stats: unknown unit type")}else o===a.length&&(t.chainCount+=1,1===t.chainCount&&ci.set(t.firstChainLoc,e,i,a[ln.start(r)]))}}function o(t,e,r,i,o){var a=r[i],u=Ns.isAtomic(a.unit)?a.unit.model.atomicHierarchy.chainAtomSegments:Ns.isSpheres(a.unit)?a.unit.model.coarseHierarchy.spheres.chainElementSegments:Ns.isGaussians(a.unit)?a.unit.model.coarseHierarchy.gaussians.chainElementSegments:void 0;if(u){for(var s=u.index,c=u.offsets,l=new Map,d=i;d<o;d++){var f=(a=r[d]).indices,p=a.unit;if(0!==(_=ln.size(f))){var m=p.elements;if(Ns.Traits.is(p.traits,Ns.Trait.MultiChain))for(var h=0;h<_;){var g=0,v=s[b=m[ln.getAt(f,h)]];for(++h,++g;h<_;){if(s[m[ln.getAt(f,h)]]!==v)break;++h,++g}n(l,v,g)}else n(l,s[b=m[ln.start(f)]],m.length)}}var y=-1;if(l.forEach((function(e,n){c[n+1]-c[n]===e&&(t.chainCount+=1,1===t.chainCount&&(y=n))})),!(y<0))for(d=i;d<o;d++){var _;f=(a=r[d]).indices,p=a.unit;if(0!==(_=ln.size(f)))for(m=p.elements,h=0;h<_;){var b;if((v=s[b=m[ln.getAt(f,h)]])===y)return void ci.set(t.firstChainLoc,e,p,b)}}}else console.warn("StructureElement loci stats: unknown unit type")}t.create=e,t.ofLoci=function(t){var n=e();if(vp.isEmpty(t))return n;var a=!1;if(vp.isWholeStructure(t)){if(n.structureCount+=1,1===n.structureCount){var u=t.elements[0],s=u.unit,c=u.indices;ci.set(n.firstStructureLoc,t.structure,s,s.elements[ln.min(c)])}}else for(var l=0,d=t.elements;l<d.length;l++){var f=d[l];r(n,t.structure,f),Ns.Traits.is(f.unit.traits,Ns.Trait.Partitioned)?a=!0:i(n,t.structure,f)}if(a)for(var p=0,m=t.elements.length;p<m;p++){f=t.elements[p];if(Ns.Traits.is(f.unit.traits,Ns.Trait.Partitioned)){for(var h=p;p<m&&Ns.areSameChainOperatorGroup(t.elements[p].unit,f.unit);)p++;var g=p;p--,g-h==1?i(n,t.structure,f):o(n,t.structure,t.elements,h,g)}}return n},t.add=function(t,e,n){return 1===e.elementCount&&0===n.elementCount?ci.copy(t.firstElementLoc,e.firstElementLoc):0===e.elementCount&&1===n.elementCount&&ci.copy(t.firstElementLoc,n.firstElementLoc),1===e.conformationCount&&0===n.conformationCount?ci.copy(t.firstConformationLoc,e.firstConformationLoc):0===e.conformationCount&&1===n.conformationCount&&ci.copy(t.firstConformationLoc,n.firstConformationLoc),1===e.residueCount&&0===n.residueCount?ci.copy(t.firstResidueLoc,e.firstResidueLoc):0===e.residueCount&&1===n.residueCount&&ci.copy(t.firstResidueLoc,n.firstResidueLoc),1===e.chainCount&&0===n.chainCount?ci.copy(t.firstChainLoc,e.firstChainLoc):0===e.chainCount&&1===n.chainCount&&ci.copy(t.firstChainLoc,n.firstChainLoc),1===e.unitCount&&0===n.unitCount?ci.copy(t.firstUnitLoc,e.firstUnitLoc):0===e.unitCount&&1===n.unitCount&&ci.copy(t.firstUnitLoc,n.firstUnitLoc),1===e.structureCount&&0===n.structureCount?ci.copy(t.firstStructureLoc,e.firstStructureLoc):0===e.structureCount&&1===n.structureCount&&ci.copy(t.firstStructureLoc,n.firstStructureLoc),t.elementCount=e.elementCount+n.elementCount,t.conformationCount=e.conformationCount+n.conformationCount,t.residueCount=e.residueCount+n.residueCount,t.chainCount=e.chainCount+n.chainCount,t.unitCount=e.unitCount+n.unitCount,t.structureCount=e.structureCount+n.structureCount,t}}(pp||(pp={})),function(t){function e(t){var e=this,n=t.descriptor.name,r="static"===t.type?"_staticPropertyData":"_dynamicPropertyData",i=function(e){return n in e[r]||(e[r][n]={props:Object(T.a)({},bd.getDefaultValues(t.getParams(e))),data:Ft.create(void 0)}),e[r][n]},o=function(t,e,o){var a=i(t);t[r][n]={props:e,data:Ft.withValue(a.data,o)}};return{label:t.label,descriptor:t.descriptor,isHidden:t.isHidden,getParams:function(e){var n=bd.clone(t.getParams(e));return bd.setDefaultValues(n,i(e).props),n},defaultParams:t.defaultParams,isApplicable:t.isApplicable,attach:function(n,r,a,u){return void 0===a&&(a={}),Object(T.b)(e,void 0,void 0,(function(){var e,s,c,l,d;return Object(T.d)(this,(function(f){switch(f.label){case 0:return u&&r.customProperties.reference(t.descriptor,!0),e=i(r),s=bd.merge(t.defaultParams,e.props,a),e.data.value&&bd.areEqual(t.defaultParams,e.props,s)?[2]:[4,t.obtain(n,r,s)];case 1:return c=f.sent(),l=c.value,d=c.assets,r.customProperties.add(t.descriptor),r.customProperties.assets(t.descriptor,d),o(r,s,l),[2]}}))}))},ref:function(e,n){return e.customProperties.reference(t.descriptor,n)},get:function(t){var e;return null===(e=i(t))||void 0===e?void 0:e.data},set:function(e,n,r){void 0===n&&(n={});var a=i(e),u=bd.merge(t.defaultParams,a.props,n);bd.areEqual(t.defaultParams,a.props,u)||(o(e,u,r),e.customProperties.assets(t.descriptor))},props:function(t){return i(t).props}}}t.createProvider=e,t.createSimple=function(t,n,r){var i=this,o={value:bd.Value(r,{isHidden:!0})};return e({label:Zi(t),descriptor:Br({name:t}),isHidden:!0,type:n,defaultParams:o,getParams:function(){return{value:bd.Value(r,{isHidden:!0})}},isApplicable:function(){return!0},obtain:function(t,e,n){return Object(T.b)(i,void 0,void 0,(function(){return Object(T.d)(this,(function(t){return[2,Object(T.a)(Object(T.a)({},bd.getDefaultValues(o)),n)]}))}))}})}}(mp||(mp={})),function(t){var e=this;function n(t){if(!Bl.is(t.sourceData))return!1;var e=t.sourceData.data.db.atom_site,n=e.pdbx_sifts_xref_db_name,r=e.pdbx_sifts_xref_db_acc,i=e.pdbx_sifts_xref_db_num,o=e.pdbx_sifts_xref_db_res;return n.isDefined&&r.isDefined&&i.isDefined&&o.isDefined}function r(t){if(Bl.is(t.sourceData)){var e=t.sourceData.data.db.atom_site,n=e.pdbx_sifts_xref_db_name,r=e.pdbx_sifts_xref_db_acc,i=e.pdbx_sifts_xref_db_num,o=e.pdbx_sifts_xref_db_res;if(n.isDefined&&r.isDefined&&i.isDefined&&o.isDefined){for(var a=t.atomicHierarchy.atomSourceIndex,u=t.atomicHierarchy.residueAtomSegments,s=u.count,c=u.offsets,l=new Array(s),d=new Array(s),f=new Array(s),p=new Array(s),m=0;m<s;m++){var h=a.value(c[m]);0===n.valueKind(h)?(l[m]=n.value(h),d[m]=r.value(h),f[m]=i.value(h),p[m]=o.value(h)):(l[m]="",d[m]="",f[m]="",p[m]="")}return{dbName:l,accession:d,num:f,residue:p}}}}t.Provider=mp.createProvider({label:"SIFTS Mapping",descriptor:Br({name:"sifts_sequence_mapping"}),type:"static",defaultParams:{},getParams:function(){return{}},isApplicable:function(t){return n(t)},obtain:function(t,n){return Object(T.b)(e,void 0,void 0,(function(){return Object(T.d)(this,(function(t){return[2,{value:r(n)}]}))}))}}),t.isAvailable=n,t.getKey=function(e){var n=e.unit.model,r=t.Provider.get(n).value;if(!r)return"";var i=n.atomicHierarchy.residueAtomSegments.index[e.element];return r.accession[i]},t.getLabel=function(e){var n=e.unit.model,r=t.Provider.get(n).value;if(r){var i=n.atomicHierarchy.residueAtomSegments.index[e.element],o=r.dbName[i];if(o)return"".concat(o," ").concat(r.accession[i]," ").concat(r.num[i]," ").concat(r.residue[i])}}}(hp||(hp={}));bu.Field;var Cp=bu.Encodings;function Bp(t){var e=$d.chain.label_asym_id(t),n=t.unit.conformation.operator.suffix;return n?e+n:e}function Ip(t){var e=$d.chain.auth_asym_id(t),n=t.unit.conformation.operator.suffix;return n?e+n:e}var Pp={shouldInclude:function(t){var e;return!!(null===(e=t.atom_site)||void 0===e?void 0:e.pdbx_label_index.isDefined)},value:function(t,e){var n=e.sourceIndex.value(t.element);return e.atom_site.pdbx_label_index.value(n)}},Ep={shouldInclude:function(t){return hp.isAvailable(t.structure.models[0])},pdbx_sifts_xref_db_name:{value:function(t,e){var n=e.sourceIndex.value(t.element);return e.atom_site.pdbx_sifts_xref_db_name.value(n)},valueKind:function(t,e){var n=e.sourceIndex.value(t.element);return e.atom_site.pdbx_sifts_xref_db_name.valueKind(n)}},pdbx_sifts_xref_db_acc:{value:function(t,e){var n=e.sourceIndex.value(t.element);return e.atom_site.pdbx_sifts_xref_db_acc.value(n)},valueKind:function(t,e){var n=e.sourceIndex.value(t.element);return e.atom_site.pdbx_sifts_xref_db_acc.valueKind(n)}},pdbx_sifts_xref_db_num:{value:function(t,e){var n=e.sourceIndex.value(t.element);return e.atom_site.pdbx_sifts_xref_db_num.value(n)},valueKind:function(t,e){var n=e.sourceIndex.value(t.element);return e.atom_site.pdbx_sifts_xref_db_num.valueKind(n)}},pdbx_sifts_xref_db_res:{value:function(t,e){var n=e.sourceIndex.value(t.element);return e.atom_site.pdbx_sifts_xref_db_res.value(n)},valueKind:function(t,e){var n=e.sourceIndex.value(t.element);return e.atom_site.pdbx_sifts_xref_db_res.valueKind(n)}}},Mp={name:"atom_site",instance:function(t){var e=t.structures;return{fields:bu.fields().str("group_PDB",$d.residue.group_PDB).index("id").str("type_symbol",$d.atom.type_symbol).str("label_atom_id",$d.atom.label_atom_id).str("label_comp_id",$d.atom.label_comp_id).int("label_seq_id",$d.residue.label_seq_id,{encoder:Cp.deltaRLE,valueKind:function(t,e){var n=t.unit.model;return n.atomicHierarchy.residues.label_seq_id.valueKind(n.atomicHierarchy.residueAtomSegments.index[t.element])}}).str("label_alt_id",$d.atom.label_alt_id).str("pdbx_PDB_ins_code",$d.residue.pdbx_PDB_ins_code).str("label_asym_id",Bp).str("label_entity_id",$d.chain.label_entity_id).float("Cartn_x",$d.atom.x,{digitCount:3,encoder:Cp.fixedPoint3}).float("Cartn_y",$d.atom.y,{digitCount:3,encoder:Cp.fixedPoint3}).float("Cartn_z",$d.atom.z,{digitCount:3,encoder:Cp.fixedPoint3}).float("occupancy",$d.atom.occupancy,{digitCount:2,encoder:Cp.fixedPoint2}).float("B_iso_or_equiv",$d.atom.B_iso_or_equiv,{digitCount:2,encoder:Cp.fixedPoint2}).int("pdbx_formal_charge",$d.atom.pdbx_formal_charge,{encoder:Cp.deltaRLE,valueKind:function(t,e){return t.unit.model.atomicHierarchy.atoms.pdbx_formal_charge.valueKind(t.element)}}).str("auth_atom_id",$d.atom.auth_atom_id).str("auth_comp_id",$d.atom.auth_comp_id).int("auth_seq_id",$d.residue.auth_seq_id,{encoder:Cp.deltaRLE}).str("auth_asym_id",Ip).int("pdbx_PDB_model_num",$d.unit.model_num,{encoder:Cp.deltaRLE}).int("pdbx_label_index",Pp.value,{shouldInclude:Pp.shouldInclude}).str("pdbx_sifts_xref_db_name",Ep.pdbx_sifts_xref_db_name.value,{shouldInclude:Ep.shouldInclude,valueKind:Ep.pdbx_sifts_xref_db_name.valueKind}).str("pdbx_sifts_xref_db_acc",Ep.pdbx_sifts_xref_db_acc.value,{shouldInclude:Ep.shouldInclude,valueKind:Ep.pdbx_sifts_xref_db_acc.valueKind}).str("pdbx_sifts_xref_db_num",Ep.pdbx_sifts_xref_db_num.value,{shouldInclude:Ep.shouldInclude,valueKind:Ep.pdbx_sifts_xref_db_num.valueKind}).str("pdbx_sifts_xref_db_res",Ep.pdbx_sifts_xref_db_res.value,{shouldInclude:Ep.shouldInclude,valueKind:Ep.pdbx_sifts_xref_db_res.valueKind}).getFields(),source:e.map((function(t){return{data:{structure:t,sourceIndex:t.model.atomicHierarchy.atomSourceIndex,atom_site:Bl.is(t.model.sourceData)?t.model.sourceData.data.db.atom_site:void 0},rowCount:t.elementCount,keys:function(){return t.elementLocations()}}}))}}};function kp(t,e){return t?"".concat(t,"_").concat(e):e}function Dp(t){return t?"pdbx_".concat(t,"_PDB_ins_code"):"pdbx_PDB_ins_code"}function Op(t,e){return function(n,r){return e(t(n,r))}}function Np(t,e,n){n&&n.includeModelNum&&t.int("pdbx_PDB_model_num",Op(e,$d.unit.model_num))}function Tp(t,e){var n=e&&e.prefix,r=bu.fields().str(kp(n,"label_comp_id"),Op(t,$d.atom.label_comp_id)).int(kp(n,"label_seq_id"),Op(t,$d.residue.label_seq_id),{encoder:Cp.deltaRLE,valueKind:function(e,n){var r=t(e,n),i=r.unit.model;return i.atomicHierarchy.residues.label_seq_id.valueKind(i.atomicHierarchy.residueAtomSegments.index[r.element])}}).str(Dp(n),Op(t,$d.residue.pdbx_PDB_ins_code)).str(kp(n,"label_asym_id"),Op(t,$d.chain.label_asym_id)).str(kp(n,"label_entity_id"),Op(t,$d.chain.label_entity_id)).str(kp(n,"auth_comp_id"),Op(t,$d.atom.auth_comp_id)).int(kp(n,"auth_seq_id"),Op(t,$d.residue.auth_seq_id),{encoder:Cp.deltaRLE}).str(kp(n,"auth_asym_id"),Op(t,$d.chain.auth_asym_id));return Np(r,t,e),r.getFields()}var Up=bu.Field,Rp={name:"struct_conf",instance:function(t){var e=jp(t,"helix");return{fields:qp(),source:[{data:e,rowCount:e.length}]}}},Lp={name:"struct_sheet_range",instance:function(t){var e=jp(t,"sheet").sort(Gp);return{fields:Fp(),source:[{data:e,rowCount:e.length}]}}};function Gp(t,e){var n=t.element,r=e.element;return n.sheet_id<r.sheet_id?-1:n.sheet_id===r.sheet_id?t.start.element-e.start.element:1}var qp=function(){return Object(T.e)(Object(T.e)(Object(T.e)([Up.str("conf_type_id",(function(t,e){return e[t].element.type_id})),Up.str("id",(function(t,e,n){return"".concat(e[t].element.type_id).concat(n+1)}))],Tp((function(t,e){return e[t].start}),{prefix:"beg"}),!0),Tp((function(t,e){return e[t].end}),{prefix:"end"}),!0),[Up.str("pdbx_PDB_helix_class",(function(t,e){return e[t].element.helix_class})),Up.str("details",(function(t,e){return e[t].element.details||""}),{valueKind:function(t,e){return e[t].element.details?0:2}}),Up.int("pdbx_PDB_helix_length",(function(t,e){return e[t].length}))],!1)},Fp=function(){return Object(T.e)(Object(T.e)(Object(T.e)([Up.str("sheet_id",(function(t,e){return e[t].element.sheet_id})),Up.index("id")],Tp((function(t,e){return e[t].start}),{prefix:"beg"}),!0),Tp((function(t,e){return e[t].end}),{prefix:"end"}),!0),[Up.str("symmetry",(function(t,e){return""}),{valueKind:function(t,e){return 2}})],!1)};function jp(t,e){var n=dl.Provider.get(t.firstModel);if(!n)return[];for(var r=n.key,i=n.elements,o=[],a=t.structures[0],u=0,s=a.unitSymmetryGroups;u<s.length;u++){var c=s[u].units[0];if(Ns.isAtomic(c))for(var d=c.model.atomicHierarchy.residueAtomSegments,f=Kn.transientSegments(d,c.elements),p=void 0,m=!0;f.hasNext;){m&&(p=f.move());var h=p.index,g=r[h],v=i[g];if(v.kind===e){for(var y=h;f.hasNext;)if(y=p.index,g!==r[(p=f.move()).index]){m=!1,o[o.length]={start:l.Location.create(a,c,d.offsets[h]),end:l.Location.create(a,c,d.offsets[y]),length:y-h+1,element:v};break}}else m=!0}}return o}function Hp(t,e){if(Bl.is(t.sourceData))return t.sourceData.data.db[e]}function Vp(t){return mo.unionMany.apply(mo,t.map((function(t){return t.uniqueResidueNames})))}function zp(t){if(0===t.length)return[];if(1===t.length)return t[0].entityIndices;for(var e=gi.create(),n=0,r=t;n<r.length;n++)for(var i=0,o=r[n].entityIndices;i<o.length;i++){var a=o[i];gi.add(e,a,a)}return dt(e.array),e.array}function Yp(t,e){return{name:t,instance:function(n){var r=n.structures;if(e&&!e(r[0]))return bu.Category.Empty;var i=r[0].model;if(!Bl.is(i.sourceData))return bu.Category.Empty;var o=i.sourceData.data.db[t];return o&&o._rowCount?bu.Category.ofTable(o):bu.Category.Empty}}}var Kp=bu.Category,Zp={name:"chem_comp",instance:function(t){t.firstModel;var e=t.structures,n=t.cache,r=Hp(e[0].model,"chem_comp");if(!r)return Kp.Empty;var i=r.id,o=n.uniqueResidueNames||(n.uniqueResidueNames=Vp(e)),a=Et.indicesOf(i,(function(t){return o.has(t)}));return Kp.ofTable(r,a)}},Wp={name:"chem_comp_bond",instance:function(t){t.firstModel;var e=t.structures,n=t.cache,r=Hp(e[0].model,"chem_comp_bond");if(!r)return Kp.Empty;var i=r.comp_id,o=n.uniqueResidueNames||(n.uniqueResidueNames=Vp(e)),a=Et.indicesOf(i,(function(t){return o.has(t)}));return Kp.ofTable(r,a)}},Xp={name:"pdbx_chem_comp_identifier",instance:function(t){var e=t.firstModel,n=t.structures,r=t.cache,i=Hp(e,"pdbx_chem_comp_identifier");if(!i)return Kp.Empty;var o=i.comp_id,a=r.uniqueResidueNames||(r.uniqueResidueNames=Vp(n)),u=Et.indicesOf(o,(function(t){return a.has(t)}));return Kp.ofTable(i,u)}},Qp={name:"pdbx_nonpoly_scheme",instance:function(t){var e=t.firstModel,n=(t.structures,t.cache,Hp(e,"pdbx_nonpoly_scheme"));return n?Kp.ofTable(n):Kp.Empty}},Jp=bu.Category,$p=nm("struct_asym"),tm=nm("entity_poly"),em=nm("entity_poly_seq");function nm(t){return{name:t,instance:function(e){var n=e.structures,r=e.cache;return function(t,e,n){var r=Hp(t[0].model,e);if(!r)return Jp.Empty;var i=r.entity_id,o=n.uniqueEntityIds||(n.uniqueEntityIds=function(t){if(0===t.length)return new Set;var e=t[0].model.entities.data.id;return new Set(zp(t).map((function(t){return e.value(t)})))}(t)),a=Et.indicesOf(i,(function(t){return o.has(t)}));return Jp.ofTable(r,a)}(n,t,r)}}}var rm,im=bu.Category;!function(t){t.create=function(t){var e=Array.isArray(t)?t:[t];return{structures:e,firstModel:e[0].model,cache:Object.create(null)}}}(rm||(rm={}));var om={name:"entity",instance:function(t){var e=t.structures,n=zp(e);return im.ofTable(e[0].model.entities.data,n)}};function am(t){return t.units.every((function(t){return t.conformation.operator.isIdentity}))}function um(t){return am(t)&&t.units.every((function(t){return!t.conformation.operator.assembly&&!t.conformation.operator.suffix}))}var sm;Yp("entry"),Yp("exptl"),Yp("cell",am),Yp("symmetry",am),Yp("pdbx_struct_assembly",um),Yp("pdbx_struct_assembly_gen",um),Yp("pdbx_struct_oper_list",um),Yp("pdbx_entity_branch"),Yp("pdbx_entity_branch_link"),Yp("pdbx_branch_scheme"),Yp("struct_conn"),Yp("atom_sites");!function(t){t.AtomSitePositionsFieldNames=new Set(["id","Cartn_x","Cartn_y","Cartn_z"])}(sm||(sm={}));var cm={molstar_atom_site_operator_mapping:{label_asym_id:Et.Schema.Str(),auth_asym_id:Et.Schema.Str(),operator_name:Et.Schema.Str(),suffix:Et.Schema.Str(),assembly_id:Et.Schema.Str(),assembly_operator_id:Et.Schema.Int(),symmetry_operator_index:Et.Schema.Int(),symmetry_hkl:Et.Schema.Vector(3),ncs_id:Et.Schema.Int()}},lm=function(t,e){return void 0===e[t].operator.assembly?1:0},dm=function(t,e){return-1===e[t].operator.spgrOp?1:0};bu.fields().str("label_asym_id",(function(t,e){return e[t].label_asym_id})).str("auth_asym_id",(function(t,e){return e[t].auth_asym_id})).str("operator_name",(function(t,e){return e[t].operator.name})).str("suffix",(function(t,e){return e[t].operator.suffix})).str("assembly_id",(function(t,e){var n;return(null===(n=e[t].operator.assembly)||void 0===n?void 0:n.id)||""}),{valueKind:lm}).int("assembly_operator_id",(function(t,e){var n;return(null===(n=e[t].operator.assembly)||void 0===n?void 0:n.operId)||0}),{valueKind:lm}).int("symmetry_operator_index",(function(t,e){return e[t].operator.spgrOp}),{valueKind:dm}).vec("symmetry_hkl",[function(t,e){return e[t].operator.hkl[0]},function(t,e){return e[t].operator.hkl[1]},function(t,e){return e[t].operator.hkl[2]}],{valueKind:dm}).int("ncs_id",(function(t,e){return e[t].operator.ncsId}),{valueKind:dm}).getFields();function fm(t,e){return e?1===e.length?vt(e.charCodeAt(0),t):2===e.length?vt(e.charCodeAt(0),vt(e.charCodeAt(1),t)):"".concat(t," ").concat(e):t}function pm(t,e,n,r){if(t.has(e)){(i=t.get(e)).has(n)||i.set(n,r)}else{var i=new Map;t.set(e,i),i.set(n,r)}}function mm(t){throw new Error("Missing entity entry for entity id '".concat(t,"'."))}var hm=Cc.EmptyResidueKey(),gm=function(){function t(t){this.map=t,this.entityIndex=t.entities.getEntityIndex,this.residueOffsets=this.map.segments.residueAtomSegments.offsets}return t.prototype.getEntityFromChain=function(t){return this.map.chain_index_entity_index[t]},t.prototype.findEntity=function(t){var e=this.map.label_asym_id.get(t);return void 0!==e?e:-1},t.prototype.findChainLabel=function(t){var e=this.entityIndex(t.label_entity_id);if(e<0||!this.map.entity_index_label_asym_id.has(e))return-1;var n=this.map.entity_index_label_asym_id.get(e);return n&&n.has(t.label_asym_id)?n.get(t.label_asym_id):-1},t.prototype.findChainAuth=function(t){if(!this.map.auth_asym_id_auth_seq_id.has(t.auth_asym_id))return-1;var e=this.map.auth_asym_id_auth_seq_id.get(t.auth_asym_id);return e.has(t.auth_seq_id)?e.get(t.auth_seq_id):-1},t.prototype.findResidue=function(t,e,n,r){var i;1===arguments.length?i=t:(hm.label_entity_id=t,hm.label_asym_id=e,hm.auth_seq_id=n,hm.pdbx_PDB_ins_code=r,i=hm);var o=this.findChainLabel(i);if(o<0)return-1;var a=this.map.chain_index_auth_seq_id.get(o),u=fm(i.auth_seq_id,i.pdbx_PDB_ins_code||"");return a.has(u)?a.get(u):-1},t.prototype.findResidueLabel=function(t){var e=this.findChainLabel(t);if(e<0)return-1;var n=this.map.chain_index_label_seq_id.get(e),r=fm(t.label_seq_id,t.pdbx_PDB_ins_code||"");return n.has(r)?n.get(r):-1},t.prototype.findResidueAuth=function(t){var e=this.findChainAuth(t);if(e<0)return-1;var n=this.map.chain_index_auth_seq_id.get(e),r=fm(t.auth_seq_id,t.pdbx_PDB_ins_code||"");return n.has(r)?n.get(r):-1},t.prototype.findResidueInsertion=function(t){var e=this.findChainLabel(t);if(e<0)return-1;var n=this.map.chain_index_label_seq_id.get(e),r=fm(t.label_seq_id,t.pdbx_PDB_ins_code||"");if(n.has(r))return n.get(r);var i=an.findPredecessorIndex(this.map.label_seq_id,t.label_seq_id),o=Bc.chainStartResidueIndex(this.map.segments,e);if(i<o)return o;var a=Bc.chainEndResidueIndexExcl(this.map.segments,e)-1;return i>=a?a:i},t.prototype.findAtom=function(t){var e=this.findResidue(t);return e<0?-1:void 0===t.label_alt_id?vm(this.residueOffsets[e],this.residueOffsets[e+1],this.map.label_atom_id,t.label_atom_id):ym(this.residueOffsets[e],this.residueOffsets[e+1],this.map.label_atom_id,this.map.label_alt_id,t.label_atom_id,t.label_alt_id)},t.prototype.findAtomAuth=function(t){var e=this.findResidueAuth(t);return e<0?-1:void 0===t.label_alt_id?vm(this.residueOffsets[e],this.residueOffsets[e+1],this.map.auth_atom_id,t.auth_atom_id):ym(this.residueOffsets[e],this.residueOffsets[e+1],this.map.auth_atom_id,this.map.label_alt_id,t.auth_atom_id,t.label_alt_id)},t.prototype.findAtomOnResidue=function(t,e,n){return void 0===n?vm(this.residueOffsets[t],this.residueOffsets[t+1],this.map.label_atom_id,e):ym(this.residueOffsets[t],this.residueOffsets[t+1],this.map.label_atom_id,this.map.label_alt_id,e,n)},t.prototype.findAtomsOnResidue=function(t,e){return function(t,e,n,r){for(var i=t;i<e;i++)if(r.has(n.value(i)))return i;return-1}(this.residueOffsets[t],this.residueOffsets[t+1],this.map.label_atom_id,e)},t.prototype.findElementOnResidue=function(t,e){return function(t,e,n,r){for(var i=t;i<e;i++)if(n.value(i)===r)return i;return-1}(this.residueOffsets[t],this.residueOffsets[t+1],this.map.type_symbol,e)},t}();function vm(t,e,n,r){for(var i=t;i<e;i++)if(n.value(i)===r)return i;return-1}function ym(t,e,n,r,i,o){for(var a=t;a<e;a++)if(n.value(a)===i&&r.value(a)===o)return a;return-1}function _m(t,e,n){for(var r=function(t,e,n){return{entities:t,segments:n,label_seq_id:an.ofSortedArray(e.residues.label_seq_id.toArray({array:Int32Array})),label_atom_id:e.atoms.label_atom_id,auth_atom_id:e.atoms.auth_atom_id,label_alt_id:e.atoms.label_alt_id,type_symbol:e.atoms.type_symbol,chain_index_entity_index:new Int32Array(e.chains._rowCount),entity_index_label_asym_id:new Map,chain_index_label_seq_id:new Map,auth_asym_id_auth_seq_id:new Map,chain_index_auth_seq_id:new Map,label_asym_id:new Map}}(e,t,n),i=t.residues,o=i.label_seq_id,a=i.auth_seq_id,u=i.pdbx_PDB_ins_code,s=t.chains,c=s.label_entity_id,l=s.label_asym_id,d=s.auth_asym_id,f=ge.ofBounds(0,t.atoms._rowCount),p=Kn.transientSegments(n.chainAtomSegments,f);p.hasNext;){var m=p.move(),h=m.index,g=e.getEntityIndex(c.value(h));g<0&&mm(c.value(h)),r.chain_index_entity_index[h]=g;var v=d.value(h),y=r.auth_asym_id_auth_seq_id.get(v);y||(y=new Map,r.auth_asym_id_auth_seq_id.set(v,y));var _=l.value(h);r.label_asym_id.has(_)||r.label_asym_id.set(_,g),pm(r.entity_index_label_asym_id,g,_,h);var b=new Map,x=new Map;r.chain_index_label_seq_id.set(h,b),r.chain_index_auth_seq_id.set(h,x);for(var A=Kn.transientSegments(n.residueAtomSegments,f,m);A.hasNext;){var w=A.move().index,S=a.value(w),C=u.value(w);b.set(fm(o.value(w),C),w),x.set(fm(S,C),w),y.set(S,h)}}return new gm(r)}function bm(t,e,n,r,i,o){var a,u,s=function(t){if(0===t._rowCount)return{residues:[],chains:[]};for(var e=t._rowCount,n=[0],r=[0],i=t.label_entity_id,o=t.label_asym_id,a=t.label_seq_id,u=t.auth_seq_id,s=t.pdbx_PDB_ins_code,c=1;c<e;c++){var l=!i.areValuesEqual(c-1,c)||!o.areValuesEqual(c-1,c);(l||!a.areValuesEqual(c-1,c)||!u.areValuesEqual(c-1,c)||!s.areValuesEqual(c-1,c))&&(n[n.length]=c),l&&(r[r.length]=c)}return{residues:n,chains:r}}(t),c=function(t,e,n){var r=Zt.ofColumns(sl,{type_symbol:Et.ofArray({array:Et.mapToArray(t.type_symbol,xo),schema:Et.Schema.Aliased(Et.Schema.str)}),label_atom_id:t.label_atom_id,auth_atom_id:t.auth_atom_id,label_alt_id:t.label_alt_id,label_comp_id:t.label_comp_id,auth_comp_id:t.auth_comp_id,pdbx_formal_charge:t.pdbx_formal_charge}),i=Zt.view(t,cl,n.residues),o=Zt.view(t,ll,n.chains);if(!i.label_seq_id.isDefined){for(var a=new Int32Array(i.label_seq_id.rowCount),u=n.residues,s=n.chains,c=0,l=0,d=0,f=a.length;d<f;++d)u[d]>=s[c+1]&&(c+=1,l=0),a[d]=++l;i.label_seq_id=Et.ofIntArray(a)}return Zt.columnToArray(i,"label_seq_id",Int32Array),Zt.columnToArray(i,"auth_seq_id",Int32Array),{atoms:r,residues:i,chains:o,atomSourceIndex:e}}(t,e,s),l=function(t,e){var n=new Map;if(!Bl.is(e))return n;var r=oi(cm,e.data.frame).molstar_atom_site_operator_mapping;if(0===r._rowCount)return n;for(var i=new Map,o=new Map,a=0;a<r._rowCount;a++){var u=0===r.assembly_operator_id.valueKind(a)?{id:r.assembly_id.value(a),operList:[],operId:r.assembly_operator_id.value(a)}:void 0,s=L.create(r.operator_name.value(a),I.identity(),{assembly:u,spgrOp:0===r.symmetry_operator_index.valueKind(a)?r.symmetry_operator_index.value(a):void 0,hkl:A.ofArray(r.symmetry_hkl.value(a)),ncsId:r.ncs_id.value(a)}),c=r.suffix.value(a),l=r.label_asym_id.value(a);i.set("".concat(l).concat(c),{name:l,operator:s});var d=r.auth_asym_id.value(a);o.set("".concat(d).concat(c),d)}var f=t.chains,p=f.label_asym_id,m=f.auth_asym_id,h=new Array(p.rowCount),g=new Array(p.rowCount);for(a=0;a<p.rowCount;a++){l=p.value(a),d=m.value(a);if(i.has(l)){var v=i.get(l),y=v.name;s=v.operator;n.set(a,s),h[a]=y,g[a]=o.get(d)||d}else h[a]=l,g[a]=d}return t.chains.label_asym_id=Et.ofArray({array:h,valueKind:t.chains.label_asym_id.valueKind,schema:t.chains.label_asym_id.schema}),t.chains.auth_asym_id=Et.ofArray({array:g,valueKind:t.chains.auth_asym_id.valueKind,schema:t.chains.auth_asym_id.schema}),n}(c,i);if(o&&(a=o.atomicHierarchy,u=c,Zt.areEqual(a.chains,u.chains)&&Zt.areEqual(a.residues,u.residues)&&Zt.areEqual(a.atoms,u.atoms)))return{sameAsPrevious:!0,hierarchy:o.atomicHierarchy,chainOperatorMapping:l};var d={residueAtomSegments:Kn.ofOffsets(s.residues,ge.ofBounds(0,t._rowCount)),chainAtomSegments:Kn.ofOffsets(s.chains,ge.ofBounds(0,t._rowCount))},f=_m(c,n,d),p=function(t,e,n,r){for(var i=t.atoms,o=i.label_comp_id,a=i.type_symbol,u=i._rowCount,s=t.residues._rowCount,c=e.residueAtomSegments.offsets,l=new Uint8Array(u),d=0;d<u;++d)l[d]=hl(a.value(d));var f=new Int32Array(s),p=new Int32Array(s),m=new Int32Array(s),h=new Uint8Array(s),g=new Uint8Array(s),v=new Map,y=new Map;for(d=0;d<s;++d){var _=o.value(c[d]),b=r,x=void 0,A=void 0;if(v.has(_))x=v.get(_),A=y.get(_);else{var w=void 0;b.has(_)?w=b.get(_).type:(Nr.a||console.info("chemComp not found",_),w=Xo(_)),A=Wo(w,x=Zo(w,_)),v.set(_,x),y.set(_,A)}h[d]=x,g[d]=A;var S=ns(A,"trace"),C=n.findAtomsOnResidue(d,S);if(-1===C){var B=ns(A,"coarseBackbone");-1===(C=n.findAtomsOnResidue(d,B))&&$o(x)&&(C=n.findElementOnResidue(d,xo("C")))}f[d]=C;var I=ns(A,"directionFrom");p[d]=n.findAtomsOnResidue(d,I);var P=ns(A,"directionTo");m[d]=n.findAtomsOnResidue(d,P)}return{atom:{atomicNumber:l},residue:{traceElementIndex:f,directionFromElementIndex:p,directionToElementIndex:m,moleculeType:h,polymerType:g}}}(c,d,f,r);return{sameAsPrevious:!1,hierarchy:Object(T.a)(Object(T.a)(Object(T.a)({},c),d),{index:f,derived:p}),chainOperatorMapping:l}}function xm(t,e,n,r,i,o){var a=bm(t,e,n,r,i,o),u=a.sameAsPrevious,s=a.hierarchy,c=a.chainOperatorMapping;return{sameAsPrevious:u,hierarchy:s,conformation:function(t){return{id:Lt.a.create22(),atomId:t.id,occupancy:t.occupancy.isDefined?t.occupancy:Et.ofConst(1,t._rowCount,Et.Schema.float),B_iso_or_equiv:t.B_iso_or_equiv,xyzDefined:t.Cartn_x.isDefined&&t.Cartn_y.isDefined&&t.Cartn_z.isDefined,x:t.Cartn_x.toArray({array:Float32Array}),y:t.Cartn_y.toArray({array:Float32Array}),z:t.Cartn_z.toArray({array:Float32Array})}}(t),chainOperatorMapping:c}}var Am,wm={chainKey:[],entityKey:[],findSequenceKey:function(){return-1},findChainKey:function(){return-1},getEntityFromChain:function(){return-1},count:0,entity_id:Et.Undefined(0,Et.Schema.str),asym_id:Et.Undefined(0,Et.Schema.str),seq_id_begin:Et.Undefined(0,Et.Schema.int),seq_id_end:Et.Undefined(0,Et.Schema.int),chainElementSegments:Kn.create([]),polymerRanges:us.ofSortedRanges([]),gapRanges:us.ofSortedRanges([])};function Sm(t,e,n){if(t.has(e))return t.get(e);var r=n.index++;return t.set(e,r),r}function Cm(t,e){if(t.has(e))return t.get(e);var n=new Map;return t.set(e,n),n}function Bm(t){throw new Error("Missing entity entry for entity id '".concat(t,"'."))}function Im(t,e){for(var n=t.entity_id,r=t.asym_id,i=t.seq_id_begin,o=t.seq_id_end,a=t.count,u=t.chainElementSegments,s=new Map,c=new Map,l={index:0},d=new Int32Array(a),f=new Int32Array(a),p=new Int32Array(u.count),m=0;m<a;m++)f[m]=e.getEntityIndex(n.value(m)),f[m]<0&&Bm(n.value(m));for(var h=0;h<u.count;h++){var g=u.offsets[h],v=u.offsets[h+1],y=f[g];p[h]=y;var _=Sm(Cm(c,y),r.value(g),l);for(m=g;m<v;m++)d[m]=_;var b=[],x=[];for(m=g;m<v;m++){var A=i.value(m),w=o.value(m);b.push(m),x.push(A,w)}var S={elementIndices:b,seqRanges:us.ofSortedRanges(x)};s.set(_,S)}var C=function(t,e,n){var r=t.getEntityIndex;return{findChainKey:function(t,n){var i=r(t);if(i<0)return-1;var o=e.get(i);return o.has(n)?o.get(n):-1},findSequenceKey:function(t,i,o){var a=r(t);if(a<0)return-1;var u=e.get(a);if(void 0===u)return-1;var s=u.get(i);if(void 0===s)return-1;var c=n.get(s),l=c.elementIndices,d=c.seqRanges,f=us.firstIntersectionIndex(d,ln.ofSingleton(o));return-1!==f?l[f]:-1}}}(e,c,s),B=C.findChainKey;return{chainKey:d,entityKey:f,findSequenceKey:C.findSequenceKey,findChainKey:B,getEntityFromChain:function(t){return p[t]}}}function Pm(t,e){for(var n=[],r=[],i=Kn.transientSegments(t.chainElementSegments,ge.ofBounds(0,t.count)),o=t.seq_id_begin,a=t.seq_id_end;i.hasNext;)for(var u=i.move(),s=u.start,c=u.end,l=-1,d=-1,f=s;f<c;++f){var p=a.value(f);f===s?(l=f,d=a.value(f)):o.value(f)-d>1&&(n.push(l,f-1),r.push(f-1,f),l=f),f===c-1&&n.push(l,f),d=p}return{polymerRanges:us.ofSortedRanges(n),gapRanges:us.ofSortedRanges(r)}}!function(t){t.Empty={isDefined:!1,spheres:wm,gaussians:wm}}(Am||(Am={}));var Em={hierarchy:Am.Empty,conformation:void 0};function Mm(t,e){var n=t.ihm_sphere_obj_site,r=t.ihm_gaussian_obj_site;if(0===n._rowCount&&0===r._rowCount)return Em;var i=km(n),o=function(t){return{x:t.Cartn_x.toArray({array:Float32Array}),y:t.Cartn_y.toArray({array:Float32Array}),z:t.Cartn_z.toArray({array:Float32Array}),radius:t.object_radius.toArray({array:Float32Array}),rmsf:t.rmsf.toArray({array:Float32Array})}}(n),a=Im(i,t.entities),u=Pm(i),s=km(r),c=function(t){for(var e=Sl.ihm_gaussian_obj_site.covariance_matrix.space,n=[],r=t.covariance_matrix,i=0,o=r.rowCount;i<o;i++)n[i]=w.toMat3(P(),e,r.value(i));return{x:t.mean_Cartn_x.toArray({array:Float32Array}),y:t.mean_Cartn_y.toArray({array:Float32Array}),z:t.mean_Cartn_z.toArray({array:Float32Array}),weight:t.weight.toArray({array:Float32Array}),covariance_matrix:n}}(r),l=Im(s,t.entities),d=Pm(s);return{hierarchy:{isDefined:!0,spheres:Object(T.a)(Object(T.a)(Object(T.a)({},i),a),u),gaussians:Object(T.a)(Object(T.a)(Object(T.a)({},s),l),d)},conformation:{id:Lt.a.create22(),spheres:o,gaussians:c}}}function km(t){var e=t.entity_id,n=t.seq_id_begin,r=t.seq_id_end,i=t.asym_id;return Object(T.a)({count:e.rowCount,entity_id:e,asym_id:i,seq_id_begin:n,seq_id_end:r},function(t,e,n){for(var r=[0],i=1,o=t.rowCount;i<o;i++){!t.areValuesEqual(i-1,i)&&(r[r.length]=i)}return{chainElementSegments:Kn.ofOffsets(r,ge.ofBounds(0,t.rowCount))}}(i))}var Dm,Om,Nm={HIS:"H",ARG:"R",LYS:"K",ILE:"I",PHE:"F",LEU:"L",TRP:"W",ALA:"A",MET:"M",PRO:"P",CYS:"C",ASN:"N",VAL:"V",GLY:"G",SER:"S",GLN:"Q",TYR:"Y",ASP:"D",GLU:"E",THR:"T",SEC:"U",PYL:"O",HSD:"H",HSE:"H",HSP:"H",LSN:"K",ASPP:"D",GLUP:"E",HID:"H",HIE:"H",HIP:"H",LYN:"K",ASH:"D",GLH:"E"},Tm={DA:"A",DC:"C",DG:"G",DT:"T",DU:"U"},Um={A:"A",C:"C",G:"G",T:"T",U:"U"};function Rm(t){return Nm[t]||"X"}function Lm(t){return Um[t]||"X"}function Gm(t){return Tm[t]||"X"}function qm(t,e,n,r){if(!t.entity_poly_seq||!t.entity_poly_seq._rowCount)return Om.fromHierarchy(e,n,r);for(var i=t.entity_poly_seq,o=i.entity_id,a=i.num,u=i.mon_id,s={},c=[],l=o.rowCount,d=0;d<l;){for(var f=d;d<l-1&&o.areValuesEqual(d,d+1);)d++;d++;var p=o.value(f),m=Et.window(u,f,d),h=Et.window(a,f,d),g=e.getEntityIndex(p);s[g]={entityId:p,sequence:Dm.ofResidueNames(m,h)},c.push(s[g])}return{byEntityKey:s,sequences:c}}function Fm(t,e,n,r){return Object(T.b)(this,void 0,void 0,(function(){var i,o,a,u,s,c,l,d,f,p,m;return Object(T.d)(this,(function(h){switch(h.label){case 0:return i=$t(n,r-1),o=e.label_entity_id,a=e.label_asym_id,u=e.label_seq_id,s=mt(i,o.value),t.shouldUpdate?[4,t.update()]:[3,2];case 1:h.sent(),h.label=2;case 2:c=0,l=s.length-1,h.label=3;case 3:if(!(c<l))return[3,10];d=mt(i,a.value,{start:s[c],end:s[c+1]}),f=0,p=d.length-1,h.label=4;case 4:return f<p?(m=d[f],0!==u.valueKind(m)?[3,6]:(mt(i,u.value,{sort:!0,start:m,end:d[f+1]}),t.shouldUpdate?[4,t.update()]:[3,6])):[3,7];case 5:h.sent(),h.label=6;case 6:return f++,[3,4];case 7:return t.shouldUpdate?[4,t.update()]:[3,9];case 8:h.sent(),h.label=9;case 9:return c++,[3,3];case 10:return function(t){for(var e=0,n=t.length;e<n;e++)if(t[e]!==e)return!1;return!0}(i)&&i.length===e._rowCount?[2,{atom_site:e,sourceIndex:Et.ofIntArray(i)}]:[2,{atom_site:Zt.view(e,e._schema,i),sourceIndex:Et.ofIntArray(i)}]}}))}))}function jm(t,e,n,r,i){var o=i.residue,a=o.polymerType,u=o.traceElementIndex,s=o.directionFromElementIndex,c=o.directionToElementIndex,l=a[t],d=a[e];if(0===l||0===d)return!1;if(-1===u[t]||-1===u[e])return!1;var f=r.findAtomsOnResidue(t,ns(l,"backboneStart")),p=r.findAtomsOnResidue(e,ns(d,"backboneEnd"));-1!==f&&-1!==p||(f=r.findAtomsOnResidue(t,ns(l,"coarseBackbone")),p=r.findAtomsOnResidue(e,ns(d,"coarseBackbone")));var m=n.x,h=n.y,g=n.z,v=A.create(m[f],h[f],g[f]),y=A.create(m[p],h[p],g[p]),_=-1===s[t]||-1===c[t]||-1===s[e]||-1===c[e];return A.distance(v,y)<(_?10:3)}function Hm(t,e,n,r){for(var i,o,a,u,s=[],c=[],l=new Map,d=Kn.transientSegments(t.chainAtomSegments,ge.ofBounds(0,t.atoms._rowCount)),f=Kn.transientSegments(t.residueAtomSegments,ge.ofBounds(0,t.atoms._rowCount)),p=t.index,m=t.derived,h=t.residues.label_seq_id,g=t.chains.label_entity_id,v=m.residue,y=v.moleculeType,_=v.traceElementIndex;d.hasNext;){var b=d.move();f.setSegment(b),i=-1,o=-1,a=-1,u=-1;var x=e.getEntityIndex(g.value(b.index)),A=r.byEntityKey[x],w=A?A.sequence.seqId.value(A.sequence.seqId.rowCount-1):-1,S=t.residueAtomSegments.index[b.start],C=t.residueAtomSegments.index[b.end-1],B=h.value(S),I=h.value(C);for(1===B&&I===w&&n.xyzDefined&&jm(S,C,n,p,m)&&(l.set(S,C),l.set(C,S));f.hasNext;){var P=f.move(),E=P.index,M=h.value(E);if($o(y[E])&&-1!==_[E])if(-1!==u)if(M!==i+1)s.push(u,a-1),c.push(o,P.end-1),u=P.start;else if(f.hasNext){var k=t.residueAtomSegments.index[P.start],D=t.residueAtomSegments.index[a-1];n.xyzDefined&&!jm(k,D,n,t.index,m)&&(s.push(u,a-1),c.push(o,P.end-1),u=P.start)}else s.push(u,P.end-1);else u=P.start;else-1!==u&&(s.push(u,a-1),u=-1);o=P.start,a=P.end,i=M}}return{polymerRanges:us.ofSortedRanges(s),gapRanges:us.ofSortedRanges(c),cyclicPolymerMap:l}}function Vm(t){for(var e=new Map,n=function(t,e,n){return"".concat(t,"|").concat(e,"|").concat(n)},r=t.pdbx_unobs_or_zero_occ_residues,i=0,o=r._rowCount;i<o;++i){var a=n(r.PDB_model_num.value(i),r.label_asym_id.value(i),r.label_seq_id.value(i));e.set(a,{polymer_flag:r.polymer_flag.value(i),occupancy_flag:r.occupancy_flag.value(i)})}return{has:function(t,r,i){return e.has(n(t,r,i))},get:function(t,r,i){return e.get(n(t,r,i))},size:e.size}}function zm(t){var e=new Map;if(t.chem_comp._rowCount>0)for(var n=t.chem_comp.id,r=0,i=n.rowCount;r<i;++r)e.set(n.value(r),Zt.getRow(t.chem_comp,r));else Wm(t).forEach((function(t){var n;e.set(t,{formula:"",formula_weight:0,id:n=t,name:n,mon_nstd_flag:Ko.has(n)?"y":"n",pdbx_synonyms:[],type:Xo(n)})}));return e}function Ym(t){var e=new Map;if(t.pdbx_chem_comp_identifier._rowCount>0)for(var n=t.pdbx_chem_comp_identifier,r=n.comp_id,i=n.type,o=n.identifier,a=0,u=r.rowCount;a<u;++a)if("SNFG CARBOHYDRATE SYMBOL"===i.value(a)||"SNFG CARB SYMBOL"===i.value(a)){var s=o.value(a),c=so.get(s);c?e.set(r.value(a),c):console.warn("Unknown SNFG name '".concat(s,"'"))}if(t.chem_comp._rowCount>0){var l=t.chem_comp,d=l.id;for(i=l.type,a=0,u=d.rowCount;a<u;++a){var f=d.value(a);if(!e.has(f)){var p=i.value(a);go.has(f)?e.set(f,go.get(f)):9===Zo(p,f)&&e.set(f,ao)}}}else{var m=Wm(t);go.forEach((function(t,n){!e.has(n)&&m.has(n)&&e.set(n,t)}))}return e}!function(t){var e;!function(t){t.Protein="protein",t.RNA="RNA",t.DNA="DNA",t.Generic="generic"}(e=t.Kind||(t.Kind={})),t.getSequenceString=function(t){var e=t.code.toArray();return(e instanceof Array?e:Array.from(e)).join("")},t.ofResidueNames=function(t,r){if(0===r.rowCount)throw new Error("cannot be empty");var i=function(t){for(var n=0,r=Math.min(t.rowCount,10);n<r;n++){var i=t.value(n)||"";if("X"!==Rm(i))return e.Protein;if("X"!==Lm(i))return e.RNA;if("X"!==Gm(i))return e.DNA}return e.Generic}(t);return new n(i,t,r)};var n=function(){function t(t,n,r){this.kind=t,this.microHet=new Map;for(var i=function(t,n){var r;switch(t){case e.Protein:r=Rm;break;case e.DNA:r=Gm;break;case e.RNA:r=Lm;break;case e.Generic:r=function(){return"X"};break;default:k()}return n&&n.size>0?function(t){var e=r(t);return"X"===e&&n.has(t)?r(n.get(t)):e}:r}(t),o=[],a=[],u=[],s=new Map,c=0,l=new Map,d=0,f=r.rowCount;d<f;++d){var p=r.value(d);if(l.has(p))s.has(p)?s.get(p).push(n.value(d)):s.set(p,[a[l.get(p)],n.value(d)]);else{l.set(p,c);var m=n.value(d);a[c]=m,u[c]=p,o[c]=i(m),c+=1}}var h=[];for(d=0,f=c;d<f;++d){var g=s.get(u[d]);if(g){var v=g.map((function(t){var e=i(t);return"X"===e?t:e}));h[d]="(".concat(v.join("|"),")")}else h[d]="X"===o[d]?a[d]:o[d]}this.length=c,this.code=Et.ofStringArray(o),this.compId=Et.ofStringArray(a),this.seqId=Et.ofIntArray(u),this.label=Et.ofStringArray(h),this.microHet=s,this.indexMap=l}return t.prototype.index=function(t){return this.indexMap.get(t)},t}();t.ofSequenceRanges=function(t,n){var i=e.Generic;return new r(i,t,n)};var r=function(){function t(t,e,n){this.kind=t,this.seqIdStart=e,this.seqIdEnd=n,this.microHet=new Map;for(var r=0,i=Number.MAX_SAFE_INTEGER,o=0,a=this.seqIdStart.rowCount;o<a;o++){var u=this.seqIdStart.value(o),s=this.seqIdEnd.value(o);u<i&&(i=u),r<s&&(r=s)}var c=r-i+1;this.code=Et.ofConst("X",c,Et.Schema.str),this.label=Et.ofConst("",c,Et.Schema.str),this.seqId=Et.ofLambda({value:function(t){return t+i+1},rowCount:c,schema:Et.Schema.int}),this.compId=Et.ofConst("",c,Et.Schema.str),this.length=c,this.minSeqId=i}return t.prototype.index=function(t){return t-this.minSeqId},t}()}(Dm||(Dm={})),function(t){var e={byEntityKey:{},sequences:[]};function n(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=[],r={},i=0,o=t.length;i<o;++i)n.push.apply(n,t[i].sequences),Object.assign(r,t[i].byEntityKey);return{sequences:n,byEntityKey:r}}function r(t,e){var n=e.atoms.label_comp_id,r=e.residues.label_seq_id,i=e.chainAtomSegments,o=e.residueAtomSegments,a=i.count,u=i.offsets,s={},c=[];if(1===a&&0===u[0]&&0===u[1])return{byEntityKey:s,sequences:c};for(var l=0,d=e.chains._rowCount;l<d;l++){var f=e.index.getEntityFromChain(l);if(void 0===s[f]&&"polymer"===t.data.type.value(f)){var p=l;for(l++;l<d&&f===e.index.getEntityFromChain(l)&&"polymer"!==t.data.type.value(f);)l++;l--;for(var m=o.index[u[p]],h=o.index[u[l+1]-1]+1,g=Et.window(r,m,h),v=[],y=m;y<h;++y)v.push(n.value(o.offsets[y]));var _=Et.ofStringArray(v);s[f]={entityId:t.data.id.value(f),sequence:Dm.ofResidueNames(_,g)},c.push(s[f])}}return{byEntityKey:s,sequences:c}}function i(t,e){return n(o(t,e.spheres),o(t,e.gaussians))}function o(t,e){var n=e.chainElementSegments,r=e.seq_id_begin,i=e.seq_id_end,o=n.count,a=n.offsets,u={},s=[];if(1===o&&0===a[0]&&0===a[1])return{byEntityKey:u,sequences:s};for(var c=0,l=o;c<l;c++){var d=e.getEntityFromChain(c);if(void 0===u[d]){var f=c;for(c++;c<l&&d===e.getEntityFromChain(c);)c++;c--;var p=a[f],m=a[c+1]-1,h=Et.window(r,p,m),g=Et.window(i,p,m);u[d]={entityId:t.data.id.value(d),sequence:Dm.ofSequenceRanges(h,g)},s.push(u[d])}}return{byEntityKey:u,sequences:s}}t.fromHierarchy=function(t,o,a){return n(r(t,o),a.isDefined?i(t,a):e)},t.fromAtomicHierarchy=r,t.fromCoarseHierarchy=i,t.fromCoarseElements=o}(Om||(Om={}));var Km,Zm,Wm=(Km=function(t){for(var e=new Set,n=t.atom_site,r=n.label_comp_id,i=n.auth_comp_id,o=r.isDefined?r:i,a=0,u=o.rowCount;a<u;++a)e.add(o.value(a));return e},Zm=new Map,function(t){if(Zm.has(t))return Zm.get(t);var e=Km(t);return Zm.set(t,e),e});function Xm(t,e){for(var n=new Map,r=t.chains,i=r.auth_asym_id,o=r.label_asym_id,a=r.label_entity_id,u=0,s=t.chains._rowCount;u<s;u++){var c=o.value(u);n.set(c,{id:c,auth_id:i.value(u),entity_id:a.value(u)})}if(null==e?void 0:e.struct_asym._rowCount)for(var l=e.struct_asym,d=(c=l.id,l.entity_id),f=(u=0,c.rowCount);u<f;++u){var p=c.value(u);n.has(p)||n.set(p,{id:p,auth_id:"",entity_id:d.value(u)})}return n}var Qm=Et.Schema.Aliased(Et.Schema.Str());function Jm(t){var e;if(t.entity.id.isDefined)e=t.entity;else{for(var n=new Set,r=[],i=[],o=t.atom_site,a=o.label_entity_id,u=o.label_comp_id,s=0,c=t.atom_site._rowCount;s<c;s++){var l=a.value(s);n.has(l)||(r.push(l),i.push(Qo(u.value(s))),n.add(l))}var d=t.ihm_sphere_obj_site.entity_id;for(s=0,c=t.ihm_sphere_obj_site._rowCount;s<c;s++){l=d.value(s);n.has(l)||(r.push(l),i.push("polymer"),n.add(l))}var f=t.ihm_gaussian_obj_site.entity_id;for(s=0,c=t.ihm_gaussian_obj_site._rowCount;s<c;s++){l=f.value(s);n.has(l)||(r.push(l),i.push("polymer"),n.add(l))}e=Zt.ofPartialColumns(Sl.entity,{id:Et.ofArray({array:r,schema:Sl.entity.id}),type:Et.ofArray({array:i,schema:Sl.entity.type})},r.length)}var p=Et.createIndexer(e.id),m=new Array(e._rowCount);m.fill("other");var h=new Set,g=!1;if(t.entity_poly&&t.entity_poly.type.isDefined){var v=t.entity_poly,y=v.entity_id,_=v.type,b=v._rowCount;for(s=0;s<b;++s){m[p(l=y.value(s))]=_.value(s),h.add(l)}}else g=!0;if(t.pdbx_entity_branch&&t.pdbx_entity_branch.entity_id.isDefined){var x=t.pdbx_entity_branch;for(y=x.entity_id,_=x.type,b=x._rowCount,s=0;s<b;++s){m[p(l=y.value(s))]=_.value(s),h.add(l)}}else g=!0;if(h.size<m.length&&(g=!0),g){var A=new Map;if(t.chem_comp){var w=t.chem_comp,S=w.id;for(_=w.type,s=0,c=t.chem_comp._rowCount;s<c;s++)A.set(S.value(s),_.value(s))}if(t.atom_site){var C=t.atom_site;for(a=C.label_entity_id,u=C.label_comp_id,s=0,c=t.atom_site._rowCount;s<c;s++){l=a.value(s);if(!h.has(l)){var B=u.value(s),I=A.get(B)||"other";m[p(l)]=Jo(B,I),h.add(l)}}}}return{data:e,subtype:Et.ofArray({array:m,schema:Qm}),getEntityIndex:p}}function $m(t,e,n){var r;if(!t.pdbx_molecule||!t.pdbx_molecule.prd_id.isDefined)return e;var i=new Array(e.data._rowCount);i.fill("");for(var o=t.pdbx_molecule,a=o.asym_id,u=o.prd_id,s=o._rowCount,c=0;c<s;++c){var l=a.value(c),d=null===(r=n.get(l))||void 0===r?void 0:r.entity_id;void 0!==d&&(i[e.getEntityIndex(d)]=u.value(c))}var f=Et.ofArray({array:i,schema:Et.Schema.str});return Object(T.a)(Object(T.a)({},e),{prd_id:f})}var th,eh,nh=function(){function t(t){this.frames=t,this.frameCount=t.length,this.representative=t[0],this.duration=t.length}return t.prototype.getFrameAtIndex=function(t){return this.frames[t]},t}();function rh(t,e,n){return Object(T.b)(this,void 0,void 0,(function(){var r,i,o,a;return Object(T.d)(this,(function(u){switch(u.label){case 0:return r=function(t,e){return{missingResidues:Vm(t),chemicalComponentMap:zm(t),saccharideComponentMap:Ym(t)}}(t),t.ihm_model_list._rowCount>0?[4,uh(n,t,r,e)]:[3,2];case 1:return o=u.sent(),[3,4];case 2:return[4,oh(n,t,r,e)];case 3:o=u.sent(),u.label=4;case 4:for(i=o,a=0;a<i.length;a++)th.TrajectoryInfo.set(i[a],{index:a,size:i.length});return[2,new nh(i)]}}))}))}function ih(t,e){var n=t.rowCount;if(!t.isDefined)return n;for(var r=e+1;r<n&&t.areValuesEqual(e,r);)r++;return r}function oh(t,e,n,r){return Object(T.b)(this,void 0,void 0,(function(){var i,o,a,u,s,c,l,d,f;return Object(T.d)(this,(function(p){switch(p.label){case 0:if(i=[],!e.atom_site)return[3,3];o=e.atom_site.id.rowCount,a=Jm(e),u=0,p.label=1;case 1:return u<o?(s=ih(e.atom_site.pdbx_PDB_model_num,u),[4,Fm(t,e.atom_site,u,s)]):[3,3];case 2:return c=p.sent(),l=c.atom_site,d=c.sourceIndex,f=function(t,e,n,r,i,o,a){var u=xm(e,n,r,i.chemicalComponentMap,o,a),s=e.pdbx_PDB_model_num.value(0);if(a&&u.sameAsPrevious)return Object(T.a)(Object(T.a)({},a),{id:Lt.a.create22(),modelNum:s,atomicConformation:u.conformation,_dynamicPropertyData:Object.create(null)});var c=Em,l=qm(t,r,u.hierarchy,c.hierarchy),d=Hm(u.hierarchy,r,u.conformation,l),f=Xm(u.hierarchy),p=0===t.entry.id.valueKind(0)?t.entry.id.value(0):o.name,m=[];return p&&m.push(p),0===t.struct.title.valueKind(0)&&m.push(t.struct.title.value(0)),{id:Lt.a.create22(),entryId:p,label:m.join(" | "),entry:p,sourceData:o,modelNum:s,parent:void 0,entities:$m(t,r,f),sequence:l,atomicHierarchy:u.hierarchy,atomicConformation:u.conformation,atomicRanges:d,atomicChainOperatorMappinng:u.chainOperatorMapping,coarseHierarchy:c.hierarchy,coarseConformation:c.conformation,properties:Object(T.a)(Object(T.a)({},i),{structAsymMap:f}),customProperties:new Ir,_staticPropertyData:Object.create(null),_dynamicPropertyData:Object.create(null)}}(e,l,d,a,n,r,i.length>0?i[i.length-1]:void 0),i.push(f),u=s,[3,1];case 3:return[2,i]}}))}))}function ah(t,e){for(var n=new Map,r=t._rowCount,i=0;i<r;){var o=ih(e,i),a=e.value(i);n.set(a,{table:Zt.window(t,t._schema,i,o),start:i,end:o}),i=o}return n}function uh(t,e,n,r){return Object(T.b)(this,void 0,void 0,(function(){var i,o,a,u,s,c,l,d,f,p,m,h,g,v,y,_,b,x,A;return Object(T.d)(this,(function(w){switch(w.label){case 0:if(i=Jm(e),o=e.atom_site.ihm_model_id.isDefined?e.atom_site.ihm_model_id:e.atom_site.pdbx_PDB_model_num,a=ah(e.atom_site,o),u=ah(e.ihm_sphere_obj_site,e.ihm_sphere_obj_site.model_id),s=ah(e.ihm_gaussian_obj_site,e.ihm_gaussian_obj_site.model_id),c=[],!e.ihm_model_list)return[3,6];l=e.ihm_model_list,d=l.model_id,f=l.model_name,p=0,w.label=1;case 1:return p<e.ihm_model_list._rowCount?(m=d.value(p),h=void 0,g=void 0,a.has(m)?(v=a.get(m),[4,Fm(t,e.atom_site,v.start,v.end)]):[3,3]):[3,6];case 2:return y=w.sent(),_=y.atom_site,b=y.sourceIndex,h=_,g=b,[3,4];case 3:h=Zt.window(e.atom_site,e.atom_site._schema,0,0),g=Et.ofIntArray([]),w.label=4;case 4:x={model_id:m,model_name:f.value(p),model_group_name:wl(m,e),entities:i,atom_site:h,atom_site_sourceIndex:g,ihm_sphere_obj_site:u.has(m)?u.get(m).table:Zt.window(e.ihm_sphere_obj_site,e.ihm_sphere_obj_site._schema,0,0),ihm_gaussian_obj_site:s.has(m)?s.get(m).table:Zt.window(e.ihm_gaussian_obj_site,e.ihm_gaussian_obj_site._schema,0,0)},A=function(t,e,n,r){var i=xm(e.atom_site,e.atom_site_sourceIndex,e.entities,n.chemicalComponentMap,r),o=Mm(e,n.chemicalComponentMap),a=qm(t,e.entities,i.hierarchy,o.hierarchy),u=Hm(i.hierarchy,e.entities,i.conformation,a),s=0===t.entry.id.valueKind(0)?t.entry.id.value(0):r.name,c=[];s&&c.push(s),0===t.struct.title.valueKind(0)&&c.push(t.struct.title.value(0)),e.model_name&&c.push(e.model_name),e.model_group_name&&c.push(e.model_group_name);var l=Xm(i.hierarchy,t);return{id:Lt.a.create22(),entryId:s,label:c.join(" | "),entry:s,sourceData:r,modelNum:e.model_id,parent:void 0,entities:$m(t,e.entities,l),sequence:a,atomicHierarchy:i.hierarchy,atomicConformation:i.conformation,atomicRanges:u,atomicChainOperatorMappinng:i.chainOperatorMapping,coarseHierarchy:o.hierarchy,coarseConformation:o.conformation,properties:Object(T.a)(Object(T.a)({},n),{structAsymMap:l}),customProperties:new Ir,_staticPropertyData:Object.create(null),_dynamicPropertyData:Object.create(null)}}(e,x,n,r),c.push(A),w.label=5;case 5:return p++,[3,1];case 6:return[2,c]}}))}))}function sh(t){for(var e=new Map,n=0,r=t.length;n<r;n++)e.set(n,t[n]);return e}!function(t){function e(e,r){for(var i=[],o=r.frames,a=e.atomicHierarchy.atomSourceIndex,u=Et.isIdentity(a)?void 0:a.toArray({array:Int32Array}),s=n(e),c=e.atomicHierarchy.atoms._rowCount,l=0,d=o.length;l<d;++l){var f=o[l];if(f.elementCount!==c)throw new Error("Frame element count mismatch, got ".concat(f.elementCount," but expected ").concat(c,"."));var p=Object(T.a)(Object(T.a)({},e),{id:Lt.a.create22(),modelNum:l,atomicConformation:gr.getAtomicConformation(f,{atomId:e.atomicConformation.atomId,occupancy:e.atomicConformation.occupancy,B_iso_or_equiv:e.atomicConformation.B_iso_or_equiv},u),customProperties:new Ir,_staticPropertyData:Object.create(null),_dynamicPropertyData:Object.create(null)});if(f.cell){var m=Ds.fromCell(f.cell.size,f.cell.anglesInRadians);Ds.Provider.set(p,m)}t.TrajectoryInfo.set(p,{index:l,size:o.length}),t.CoarseGrained.set(p,s),i.push(p)}return{trajectory:i,srcIndexArray:u}}t.trajectoryFromModelAndCoordinates=function(t,n){return new nh(e(t,n).trajectory)},t.trajectoryFromTopologyAndCoordinates=function(r,i){var o=this;return Hr.create("Create Trajectory",(function(a){return Object(T.b)(o,void 0,void 0,(function(){var o,u,s,c,l,d,f,p,m,h;return Object(T.d)(this,(function(g){switch(g.label){case 0:return[4,rh(r.basic,r.sourceData,a)];case 1:if(0===(o=g.sent()).frameCount)throw new Error("found no model");for(u=o.representative,s=e(u,i).trajectory,c={pairs:r.bonds,count:u.atomicHierarchy.atoms._rowCount},l=Qr.fromData(c),d=n(u),f=0,p=0,m=s;p<m.length;p++)h=m[p],Qr.Provider.set(h,l),t.TrajectoryInfo.set(h,{index:f++,size:s.length}),t.CoarseGrained.set(h,d);return[2,new nh(s)]}}))}))}))};t.getCenter=function(t){if(t._dynamicPropertyData.__Center__)return t._dynamicPropertyData.__Center__;var e=function(t,e){var n=[],r=[],i=[];t.x.length&&(n.push.apply(n,Pr(t.x)),r.push.apply(r,Pr(t.y)),i.push.apply(i,Pr(t.z))),e&&(e.spheres.x.length&&(n.push.apply(n,Pr(e.spheres.x)),r.push.apply(r,Pr(e.spheres.y)),i.push.apply(i,Pr(e.spheres.z))),e.gaussians.x.length&&(n.push.apply(n,Pr(e.gaussians.x)),r.push.apply(r,Pr(e.gaussians.y)),i.push.apply(i,Pr(e.gaussians.z))));var o=Pr(n),a=o[0],u=o[1],s=Pr(r),c=s[0],l=s[1],d=Pr(i),f=d[0],p=a+(u-a)/2,m=c+(l-c)/2,h=f+(d[1]-f)/2;return A.create(p,m,h)}(t.atomicConformation,t.coarseConformation);return t._dynamicPropertyData.__Center__=e,e};t.getInvertedAtomSourceIndex=function(t){if(t._staticPropertyData.__InvertedAtomSrcIndex__)return t._staticPropertyData.__InvertedAtomSrcIndex__;var e=function(t){for(var e=new Int32Array(t.rowCount),n=!1,r=0,i=t.rowCount;r<i;r++){var o=t.value(r);o!==r&&(n=!1),e[o]=r}return{isIdentity:n,invertedIndex:e}}(t.atomicHierarchy.atomSourceIndex);return t._staticPropertyData.__InvertedAtomSrcIndex__=e,e};t.TrajectoryInfo={get:function(t){return t._dynamicPropertyData.__TrajectoryInfo__||{index:0,size:1}},set:function(t,e){return t._dynamicPropertyData.__TrajectoryInfo__=e}};t.AsymIdCount={get:function(t){if(t._dynamicPropertyData.__AsymIdCount__)return t._dynamicPropertyData.__AsymIdCount__;var e=function(t){var e=new Set,n=new Set;return t.properties.structAsymMap.forEach((function(t,r){var i=t.auth_id;e.add(i),n.add(r)})),{auth:e.size,label:n.size}}(t);return t._dynamicPropertyData.__AsymIdCount__=e,e}},t.AsymIdOffset=mp.createSimple("asym_id_offset","static"),t.Index=mp.createSimple("index","static"),t.MaxIndex=mp.createSimple("max_index","static"),t.getRoot=function(t){return t.parent||t},t.areHierarchiesEqual=function(t,e){return t.atomicHierarchy===e.atomicHierarchy&&t.coarseHierarchy===e.coarseHierarchy};t.CoordinatesHistory={get:function(t){return t._staticPropertyData.__CoordinatesHistory__},set:function(t,e){return t._staticPropertyData.__CoordinatesHistory__=e}};function n(e){var n=t.CoarseGrained.get(e);if(void 0===n){for(var r=0,i=e.atomicHierarchy.derived.residue.polymerType,o=0;o<i.length;++o)0!==i[o]&&(r+=1);var a=!1,u=!1,s=e.atomicHierarchy.atoms,c=s.label_atom_id,l=s._rowCount;for(o=0;o<l;++o){var d=c.value(o);if(a||"BB"!==d||(a=!0),u||"SC1"!==d||(u=!0),a&&u)break}n=a&&u||!(!r||!l)&&l/r<3,t.CoarseGrained.set(e,n)}return n}function r(t){return!!Bl.is(t.sourceData)&&(null!==t.entryId.match(/^[1-9][a-z0-9]{3,3}$/i)||null!==t.entryId.match(/^pdb_[0-9]{4,4}[1-9][a-z0-9]{3,3}$/i))}t.CoarseGrained={get:function(t){return t._staticPropertyData.__CoarseGrained__},set:function(t,e){return t._staticPropertyData.__CoarseGrained__=e}},t.isCoarseGrained=n,t.hasCarbohydrate=function(t){return t.properties.saccharideComponentMap.size>0},t.hasProtein=function(t){for(var e=t.entities.subtype,n=0,r=e.rowCount;n<r;++n)if(e.value(n).startsWith("polypeptide"))return!0;return!1},t.hasNucleic=function(t){for(var e=t.entities.subtype,n=0,r=e.rowCount;n<r;++n){var i=e.value(n);if(i.endsWith("ribonucleotide hybrid")||i.endsWith("ribonucleotide"))return!0}return!1},t.isFromPdbArchive=function(t){if(!Bl.is(t.sourceData))return!1;for(var e=t.sourceData.data.db,n=0,r=e.database_2.database_id.rowCount;n<r;++n)if("pdb"===e.database_2.database_id.value(n))return!0;return!1},t.hasPdbId=r,t.hasSecondaryStructure=function(t){if(Bl.is(t.sourceData)){var e=t.sourceData.data.db;return e.struct_conf.id.isDefined||e.struct_sheet_range.id.isDefined}return dl.Provider.isApplicable(t)};var i=A.create(1.5707963,1.5707963,1.5707963),o=A.create(1,1,1);function a(t){if(!Bl.is(t.sourceData))return!1;for(var e=t.sourceData.data.db,n=0;n<e.exptl.method.rowCount;n++){if(e.exptl.method.value(n).toUpperCase().indexOf("DIFFRACTION")>=0)return!0}return!1}function u(t){if(!Bl.is(t.sourceData))return!1;for(var e=t.sourceData.data.db,n=0;n<e.exptl.method.rowCount;n++){if(e.exptl.method.value(n).toUpperCase().indexOf("MICROSCOPY")>=0)return!0}return!1}function s(t){if(!Bl.is(t.sourceData))return!1;if(!a(t))return!1;var e=t.sourceData.data.db.pdbx_database_status.status_code_sf;return e.isDefined&&"REL"===e.value(0)}function c(t){if(!Bl.is(t.sourceData))return!1;for(var e=t.sourceData.data.db,n=e.pdbx_database_related,r=n.db_name,i=n.content_type,o=0,a=e.pdbx_database_related._rowCount;o<a;++o)if("EMDB"===r.value(o).toUpperCase()&&"associated EM volume"===i.value(o))return!0;return!1}function l(t){return!!Bl.is(t.sourceData)&&(s(t)||c(t))}t.hasCrystalSymmetry=function(t){var e,n=null===(e=Ds.Provider.get(t))||void 0===e?void 0:e.spacegroup;return!(!n||1===n.num&&A.equals(n.cell.anglesInRadians,i)&&A.equals(n.cell.size,o))},t.isFromXray=a,t.isFromEm=u,t.isFromNmr=function(t){if(!Bl.is(t.sourceData))return!1;for(var e=t.sourceData.data.db,n=0;n<e.exptl.method.rowCount;n++){if(e.exptl.method.value(n).toUpperCase().indexOf("NMR")>=0)return!0}return!1},t.hasXrayMap=s,t.hasEmMap=c,t.hasDensityMap=l,t.probablyHasDensityMap=function(t){if(!Bl.is(t.sourceData))return!1;var e=t.sourceData.data.db;return l(t)||r(t)&&(!e.exptl.method.isDefined||a(t)&&(!e.pdbx_database_status.status_code_sf.isDefined||2===e.pdbx_database_status.status_code_sf.valueKind(0))||u(t)&&!e.pdbx_database_related.db_name.isDefined)}}(th||(th={})),function(t){t.getCifDataSource=function(t,e,n){if(!e)return{rowCount:0};if(n&&n[e.id])return n[e.id];var r=e.getElements(t),i={data:r,rowCount:r.elements.length};return n&&(n[e.id]=i),i},t.fromAtomMap=function(t){return new lh(t)},t.fromAtomArray=function(t){return new lh(sh(t))};var e=function(t){return t.atomicHierarchy.residueAtomSegments};t.fromResidueMap=function(t){return new ch("residue",t,e,0)},t.fromResidueArray=function(t){return new ch("residue",sh(t),e,0)};var n=function(t){return t.atomicHierarchy.chainAtomSegments};t.fromChainMap=function(t){return new ch("chain",t,n,0)},t.fromChainArray=function(t){return new ch("chain",sh(t),n,0)},t.fromEntityMap=function(t){return new dh(t)}}(eh||(eh={}));var ch=function(){function t(t,e,n,r){this.level=t,this.map=e,this.segmentGetter=n,this.id=Lt.a.create22(),this.kind=r}return t.prototype.has=function(t){return this.map.has(t)},t.prototype.get=function(t){return this.map.get(t)},t.prototype.getStructureElements=function(t){var e=t.models;if(1!==e.length)throw new Error("Only works on structures with a single model.");for(var n=new Set,r=t.unitSymmetryGroups,i=[],o=this.segmentGetter(e[0]),a=0,u=r;a<u.length;a++){var s=u[a].units[0];if(s.kind===this.kind)for(var c=Kn.transientSegments(o,s.elements);c.hasNext;){var d=c.move();this.has(d.index)&&!n.has(d.index)&&(n.add(d.index),i[i.length]=l.Location.create(t,s,s.elements[d.start]))}}return i.sort((function(t,e){return t.element-e.element})),i},t.prototype.getElements=function(t){var e=this,n=this.segmentGetter(t.model).index,r=this.getStructureElements(t);return{elements:r,property:function(t){return e.get(n[r[t].element])}}},t}(),lh=function(){function t(t){this.map=t,this.id=Lt.a.create22(),this.level="atom",this.kind=0}return t.prototype.has=function(t){return this.map.has(t)},t.prototype.get=function(t){return this.map.get(t)},t.prototype.getStructureElements=function(t){if(1!==t.models.length)throw new Error("Only works on structures with a single model.");for(var e=new Set,n=[],r=0,i=t.unitSymmetryGroups;r<i.length;r++){var o=i[r].units[0];if(o.kind===this.kind)for(var a=o.elements,u=0,s=a.length;u<s;u++){var c=a[u];this.has(c)&&!e.has(c)&&(e.add(a[u]),n[n.length]=l.Location.create(t,o,c))}}return n.sort((function(t,e){return t.element-e.element})),n},t.prototype.getElements=function(t){var e=this,n=this.getStructureElements(t);return{elements:n,property:function(t){return e.get(n[t].element)}}},t}(),dh=function(){function t(t){this.map=t,this.id=Lt.a.create22(),this.level="entity",this.kind=0}return t.prototype.has=function(t){return this.map.has(t)},t.prototype.get=function(t){return this.map.get(t)},t.prototype.getStructureElements=function(t){var e=t.models;if(1!==e.length)throw new Error("Only works on structures with a single model.");for(var n=e[0].atomicHierarchy.index,r=new Set,i=t.unitSymmetryGroups,o=[],a=e[0].atomicHierarchy.chainAtomSegments,u=0,s=i;u<s.length;u++){var c=s[u].units[0];if(c.kind===this.kind)for(var d=Kn.transientSegments(a,c.elements);d.hasNext;){var f=d.move(),p=n.getEntityFromChain(f.index);this.has(p)&&!r.has(p)&&(r.add(p),o[o.length]=l.Location.create(t,c,c.elements[f.start]))}}return o.sort((function(t,e){return t.element-e.element})),o},t.prototype.getElements=function(t){var e=this,n=this.getStructureElements(t),r=t.model.atomicHierarchy.chainAtomSegments.index,i=t.model.atomicHierarchy.index;return{elements:n,property:function(t){return e.get(i.getEntityFromChain(r[n[t].element]))}}},t}(),fh={identity:P.create(1,0,0,0,1,0,0,0,1),rotX90:P.create(1,0,0,0,0,1,0,-1,0),rotY90:P.create(0,0,-1,0,1,0,1,0,0),rotZ90:P.create(0,1,0,-1,0,0,0,0,1),rotX270:P.create(1,0,0,0,0,-1,0,1,0),rotY270:P.create(0,0,1,0,1,0,-1,0,0),rotZ270:P.create(0,-1,0,1,0,0,0,0,1),rotX180:P.create(1,0,0,0,-1,0,0,0,-1),rotY180:P.create(-1,0,0,0,1,0,0,0,-1),rotZ180:P.create(-1,0,0,0,-1,0,0,0,1)};function ph(t,e){return function(t,e){if(0===t.length)return console.warn("Skipping PCA, no atoms"),{rotation:fh.identity,origin:A.zero()};var n=hr.calculateMomentsAxes(t),r=hr.calculateNormalizedAxes(n),i=(o=r.dirA,a=r.dirB,u=r.dirC,s=P(),P.setValue(s,0,0,o[0]),P.setValue(s,0,1,o[1]),P.setValue(s,0,2,o[2]),P.setValue(s,1,0,a[0]),P.setValue(s,1,1,a[1]),P.setValue(s,1,2,a[2]),P.setValue(s,2,0,u[0]),P.setValue(s,2,1,u[1]),P.setValue(s,2,2,u[2]),s);var o,a,u,s;c=i,P.determinant(c)<0&&(P.setValue(c,2,0,-P.getValue(c,2,0)),P.setValue(c,2,1,-P.getValue(c,2,1)),P.setValue(c,2,2,-P.getValue(c,2,2)));var c;var l=e?function(t,e){for(var n=fh.identity,r=0,i=P(),o=0,a=[fh.identity,fh.rotX180,fh.rotY180,fh.rotZ180];o<a.length;o++){var u=a[o],s=P.innerProduct(P.mul(i,u,t),e);s>r&&(n=u,r=s)}return n}(i,e):function(t,e,n){for(var r=A.create(P.getValue(e,0,0),P.getValue(e,0,1),P.getValue(e,0,2)),i=A.create(P.getValue(e,1,0),P.getValue(e,1,1),P.getValue(e,1,2)),o=A.create(P.getValue(e,2,0),P.getValue(e,2,1),P.getValue(e,2,2)),a=Math.floor(t.length/3),u=A(),s=0,c=0,l=0,d=0;d<a;d++)A.fromArray(u,t,3*d),A.sub(u,u,n),s+=d*A.dot(u,r),c+=d*A.dot(u,i),l+=hh(d,a)*A.dot(u,o);var f=l<0,p=f?s+c<0:s-c<0;return p&&f?fh.rotY180:f?fh.rotX180:p?fh.rotZ180:fh.identity}(t,i,n.origin);return P.mul(i,l,i),{rotation:i,origin:r.origin}}(function(t,e){var n;return(n=mh(t,{onlyTrace:!0})).length>=3*e||(n=mh(t,{skipHydrogens:!0,skipWater:!0})).length>=3*e?n:n=mh(t,{})}(t,3),e)}function mh(t,e){for(var n=e.onlyTrace,r=e.skipHydrogens,i=e.skipWater,o=$d.atom,a=o.x,u=o.y,s=o.z,c=o.type_symbol,d=o.label_comp_id,f=[],p=0,m=t;p<m.length;p++)for(var h=m[p],g=l.Location.create(h),v=0,y=h.units;v<y.length;v++){var _=y[v];g.unit=_;for(var b=n?_.polymerElements:_.elements,x=0;x<b.length;x++)g.element=b[x],r&&"H"===c(g)||i&&"HOH"===d(g)||f.push(a(g),u(g),s(g))}return f}function hh(t,e){var n=Math.floor(e/2);return t<n?e%2?n-t:n-t-1:t-n}function gh(t,e){var n=P.invert(P(),e),r=A.distance(t.position,t.target),i=A.transformMat3(A(),A.create(0,0,r),n),o=A.transformMat3(A(),A.create(0,1,0),n),a=A.add(A(),t.target,i);return Object(T.a)(Object(T.a)({},t),{position:a,up:o})}var vh=n(5),yh=n.n(vh),_h={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflower:6591981,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,laserlemon:16777044,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrod:16448210,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,maroon2:8323072,maroon3:11546720,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,purple2:8323199,purple3:10494192,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};!function(){var t=new Map;Object.keys(_h).forEach((function(e){t.set(_h[e],e)}))}();function bh(t){return(bh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function xh(t){return function(t){if(Array.isArray(t))return Ph(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Ih(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ah(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function wh(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ah(Object(n),!0).forEach((function(e){Sh(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ah(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Sh(t,e,n){return(e=Mh(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ch(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,u=[],s=!0,c=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(u.push(r.value),u.length!==e);s=!0);}catch(t){c=!0,i=t}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return u}}(t,e)||Ih(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bh(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=Ih(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function Ih(t,e){if(t){if("string"==typeof t)return Ph(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ph(t,e):void 0}}function Ph(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Eh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Mh(r.key),r)}}function Mh(t){var e=function(t,e){if("object"!==bh(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==bh(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===bh(e)?e:String(e)}function kh(t,e){return(kh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Dh(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Nh(t);if(e){var i=Nh(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Oh(this,n)}}function Oh(t,e){if(e&&("object"===bh(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Nh(t){return(Nh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Th={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)||navigator.userAgent.match(/WPDesktop/i)},any:function(){return Th.Android()||Th.BlackBerry()||Th.iOS()||Th.Opera()||Th.Windows()}},Uh=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kh(t,e)}(o,t);var e,n,r,i=Dh(o);function o(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o);(e=i.call(this,t)).state={data:t.data||[],layout:{showImportControls:!1,showSessionControls:!0,showStructureSourceControls:!0,showMeasurementsControls:!0,showStrucmotifSubmitControls:!0,showSuperpositionControls:!0,showQuickStylesControls:!0,showStructureComponentControls:!0,showVolumeStreamingControls:!1,showAssemblySymmetryControls:!1,showValidationReportControls:!1,showMembraneOrientationPreset:!1,showNakbColorTheme:!1,detachedFromSierra:!0,layoutIsExpanded:!1,layoutShowControls:!1,layoutControlsDisplay:"reactive",layoutShowSequence:!0,layoutShowLog:!1,viewportShowExpand:!0,viewportShowSelectionMode:!0,showWelcomeToast:!1},style:{zIndex:10,position:"relative"},className:t.className,selection:t.selection},e.loadedShapes={},e.loadedStructures={},e.loadedComponents={},e.loadedSnapshots={},e.setProps=t.setProps,e.viewerRef=Object(d.createRef)();var n=Object.assign({},e.state.layout,t.layout);e.state.layout=n;var r=Object.assign({},e.state.style,t.style);return e.state.style=r,e}return e=o,(n=[{key:"getStructureByLabel",value:function(t){var e,n=Bh(this.viewer._plugin.managers.structure.hierarchy.current.structures);try{for(n.s();!(e=n.n()).done;){var r=e.value;if(r.cell.obj.data.state.label===t)return r}}catch(t){n.e(t)}finally{n.f()}}},{key:"getStructuresByLabel",value:function(t){return this.viewer._plugin.managers.structure.hierarchy.current.structures.filter((function(e){return e.cell.obj.data.state.label===t}))}},{key:"syncItems",value:function(){var t=this,e=this.state.data;Array.isArray(e)||(e=[e]);var n=e.filter((function(t){return"mol"===t.type||"url"===t.type})),r=e.filter((function(t){return"shape"===t.type})),i=[];n.forEach((function(e){var n=e.hasOwnProperty("label")?e.label:"";i.push(n),t.syncStructure(n,e)}));for(var o=0,a=Object.entries(this.loadedStructures);o<a.length;o++){var u=Ch(a[o],2),s=u[0];u[1],i.includes(s)||(delete this.loadedComponents[s],this.getStructuresByLabel(s).forEach((function(e){t.viewer.removeRef(e.cell.sourceRef)})),delete this.loadedStructures[s])}i=[],r.forEach((function(e){var n=e.hasOwnProperty("label")?e.label:"";i.push(n),t.syncShape(e)}));for(var c=0,l=Object.entries(this.loadedShapes);c<l.length;c++){var d=Ch(l[c],2),f=d[0],p=d[1];i.includes(f)||(this.viewer.removeRef(p),delete this.loadedShapes[f])}}},{key:"syncAutoFocus",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e&&this.props.setProps({focus:{molecule:null===(t=this.state.data[this.state.data.length-1])||void 0===t?void 0:t.label}})}},{key:"autoRotate",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e){var n=ph(t),r=n.rotation,i=P.create(Math.cos(Math.PI/180*180),Math.sin(Math.PI/180*180),0,-Math.sin(Math.PI/180*180),Math.cos(Math.PI/180*180),0,0,0,1),o=P.mul(P(),r,i),a=gh(this.viewer._plugin.canvas3d.camera.getSnapshot(),o),u=10;this.viewer._plugin.managers.camera.setSnapshot(a,u)}}},{key:"syncStructure",value:function(t,e){var n=this;this.loadedStructures[t]||(this.loadedStructures[t]=1,"mol"===e.type?this.viewer.loadStructureFromData(e.data,e.format,!1,{props:{dataLabel:t}}).then((function(r){n.loadedStructures[t]=2,window.viewer=n.viewer,window.x=r;var i=r.representation,o=i.components.ligand?i.components.ligand.data.boundary.sphere:null;if(i.representations.polymer){var a,u,s,c=Th.any(),l=i.representations.polymer.cell;viewer.plugin.builders.structure.representation.addRepresentation(l,{type:"molecular-surface",color:"uniform",colorParams:{value:_h.forestgreen},ref:"polymer_surface",typeParams:{alpha:c?1:.9}}),n.viewer.plugin.state.data.build().to(l.transform.ref).update(wh(wh({},null===(a=l.params)||void 0===a?void 0:a.values),{},{type:{name:null===(u=l.params)||void 0===u?void 0:u.values.type.name,params:wh(wh({},null===(s=l.params)||void 0===s?void 0:s.values.type.params),{},{alpha:c?1:.9})},colorTheme:{name:"uniform",params:{value:_h.forestgreen}}})).commit()}o&&n.viewer.plugin.managers.camera.focusSphere(o),e.hasOwnProperty("component")&&n.syncComponent(t,e.component,e.prevComponent),n.autoRotate([r.structure.data]),n.syncAutoFocus(e.focus)})):"url"===e.type&&("mol"===e.urlfor?this.viewer.loadStructureFromUrl(e.data,e.format,!1).then((function(r){var i=r.representation,o=i.components.ligand?i.components.ligand.data.boundary.sphere:null;if(i.representations.polymer){var a,u,s,c=i.representations.polymer.cell,l=Th.any();n.viewer.plugin.state.data.build().to(c.transform.ref).update(wh(wh({},null===(a=c.params)||void 0===a?void 0:a.values),{},{type:{name:null===(u=c.params)||void 0===u?void 0:u.values.type.name,params:wh(wh({},null===(s=c.params)||void 0===s?void 0:s.values.type.params),{},{alpha:l?1:.9})},colorTheme:{name:"uniform",params:{value:_h.forestgreen}}})).commit()}o&&n.viewer.plugin.managers.camera.focusSphere(o),n.loadedStructures[t]=2,e.hasOwnProperty("component")&&n.syncComponent(t,e.component,e.prevComponent),n.autoRotate([r.structure.data]),n.syncAutoFocus(e.focus)})):this.viewer.loadSnapshotFromUrl(e.data,e.format).then((function(r){n.loadedSnapshots[t]=r.snapshot.ref,n.autoRotate([r.structure.data]),n.syncAutoFocus(e.focus)})))),("mol"===e.type||"url"===e.type&&"mol"===e.urlfor)&&2===this.loadedStructures[t]&&e.hasOwnProperty("component")&&this.syncComponent(t,e.component,e.prevComponent)}},{key:"syncComponent",value:function(t,e,n){var r=this;e=e||[],Array.isArray(e)||(e=[e]);var i=this.loadedComponents[t]||[];n&&n.length&&(yh.a.differenceWith(n,e,yh.a.isEqual)||[]).forEach((function(e){var n="".concat(t,".").concat(e.hasOwnProperty("label")?e.label:"");r.viewer.removeComponent(n),i.includes(n)&&(i=i.filter((function(t){return t!==n})))})),this.loadedComponents[t]=i;var o=this.getStructureByLabel(t),a=o.cell.obj.data.units[0].model.id;e.forEach((function(e){var n=e.hasOwnProperty("label")?e.label:"";if("Polymer"===n&&r.viewer.removeComponent(n),n="".concat(t,".").concat(n),!i.includes(n)){var o,u=[],s=Bh(e.targets);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=wh({modelId:a},c.author?{authAsymId:c.chain_name}:{labelAsymId:c.chain_name});c.hasOwnProperty("residue_numbers")&&(c.author?l.authSeqId=c.residue_numbers:l.labelSeqId=c.residue_numbers),u.push(l)}}catch(t){s.e(t)}finally{s.f()}r.viewer.createComponent(n,u,e.representation)}i.push(n)})),o.components.forEach((function(e){var n=e.cell.obj.data.label;!i.includes(n)&&n.startsWith("".concat(t,"."))&&(r.viewer.removeComponent(n),i.splice(i.indexOf(n),1))}))}},{key:"getSelectionSubStructure",value:function(){var t,e=this.viewer._plugin.managers.structure.selection.entries.values().next().value._selection.structure,n=this.viewer._plugin.managers.structure.selection.entries.values().next().value._selection.elements[0].unit.elements,r=this.viewer._plugin.managers.structure.selection.entries.values().next().value._selection.elements[0].indices.map((function(t){return n[t]})),i=dp.Builder(),o=new Set(r),a=Bh(e.units);try{for(a.s();!(t=a.n()).done;){var u=t.value,s=r?xh(u.elements).filter((function(t){return o.has(t)})):u.elements;s.length&&i.addUnit(u.kind,u.model,u.conformation.operator,s,u.traits)}}catch(t){a.e(t)}finally{a.f()}return i.getStructure()}},{key:"syncSelections",value:function(){var t=this.state.selection;if(!t)return this.viewer.clearSelection("select"),void this.viewer.clearSelection("hover");var e=this.state.selection.molecule,n=null;if(e)n=this.getStructureByLabel(e);else{var r=this.viewer._plugin.managers.structure.hierarchy.current.structures.length-1;n=this.viewer._plugin.managers.structure.hierarchy.current.structures[r]}var i=n.cell.obj.data.units[0].model.id,o=[];if(t.targets){var a,u=Bh(t.targets);try{for(u.s();!(a=u.n()).done;){var s=a.value,c=wh({modelId:i},s.auth?{authAsymId:s.chain_name}:{labelAsymId:s.chain_name});s.hasOwnProperty("residue_numbers")&&(s.auth?c.authSeqId=s.residue_numbers:c.labelSeqId=s.residue_numbers),o.push(c)}}catch(t){u.e(t)}finally{u.f()}}this.viewer.select(o,t.mode,t.modifier);var l=this.getSelectionSubStructure();this.autoRotate([l],t.rotate)}},{key:"syncFocus",value:function(){var t=this.props.focus;if(t){var e=null==t?void 0:t.molecule;if(e){for(var n=null,r=this.viewer._plugin.managers.structure.hierarchy.currentComponentGroups,i=0;i<r.length&&!(n=r[i].filter((function(t){return t.cell.obj.data.state.label===e}))).length;i++);n&&n.length&&this.viewer._plugin.managers.camera.focusSpheres(n,(function(t){var e;if(!t.cell.state.isHidden)return null===(e=t.cell.obj)||void 0===e?void 0:e.data.boundary.sphere}))}}else this.viewer.clearFocus()}},{key:"syncShape",value:function(t){var e=this;this.loadedShapes[t.label]||"box"===t.shape&&this.viewer.createBoundingBox(t.label,t.min,t.max,t.radius,t.color).then((function(n){e.loadedShapes[t.label]=n}))}},{key:"syncViewerState",value:function(){this.syncItems(),this.syncFocus(),this.syncSelections()}},{key:"componentDidMount",value:function(){var t=this;this.viewerRef.current&&(this.viewer=new rcsbMolstar.Viewer(this.viewerRef.current,this.state.layout),this.syncViewerState());var e=null;this.viewerRef.current&&(this.resizeObserver=new ResizeObserver((function(n){var r,i=Bh(n);try{for(i.s();!(r=i.n()).done;)r.value,e&&clearTimeout(e),e=setTimeout(t.viewer.handleResize.bind(t.viewer),100)}catch(t){i.e(t)}finally{i.f()}})),this.resizeObserver.observe(this.viewerRef.current))}},{key:"componentDidUpdate",value:function(t){if(this.props.data!==t.data){var e=yh.a.differenceWith(t.data,this.props.data,yh.a.isEqual);if(e&&e.length){var n,r=Bh(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.label&&this.viewer.removeComponent(i.label)}}catch(t){r.e(t)}finally{r.f()}}var o=yh.a.cloneDeep(this.props.data||[]),a=t.data||[];o.forEach((function(t){a.forEach((function(e){t.label===e.label&&(t.prevComponent=e.component)}))})),this.state.data=o||[],this.syncItems()}this.props.selection!==t.selection&&(this.state.selection=this.props.selection,this.syncSelections()),this.state.focus!==this.props.focus&&(this.state.focus=this.props.focus,this.syncFocus())}},{key:"render",value:function(){return f.a.createElement("div",{id:this.props.id,ref:this.viewerRef,style:this.state.style,className:this.state.className})}}])&&Eh(e.prototype,n),r&&Eh(e,r),Object.defineProperty(e,"prototype",{writable:!1}),o}(d.Component);Uh.defaultProps={data:[]},Uh.propTypes={id:m.a.string,style:m.a.object,className:m.a.string,data:m.a.any,layout:m.a.object,selection:m.a.object,focus:m.a.object,setProps:m.a.func};n(19);n.d(e,"MolstarViewer",(function(){return Uh}))}]);
//# sourceMappingURL=dash_molstar.min.js.map