/*! For license information please see dash_molstar.min.js.LICENSE.txt */
window.dash_molstar=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="";var r,i=function(){var t=document.currentScript;if(!t){for(var e=document.getElementsByTagName("script"),n=[],r=0;r<e.length;r++)n.push(e[r]);t=(n=n.filter((function(t){return!t.async&&!t.text&&!t.textContent}))).slice(-1)[0]}return t};if(Object.defineProperty(n,"p",{get:(r=i().src.split("/").slice(0,-1).join("/")+"/",function(){return r})}),"undefined"!=typeof jsonpScriptSrc){var o=jsonpScriptSrc;jsonpScriptSrc=function(t){var e=function(t){return/\/_dash-component-suites\//.test(t.src)}(i()),n=o(t);if(!e)return n;var r=n.split("/"),a=r.slice(-1)[0].split(".");return a.splice(1,0,"v1_2_7m1700669602"),r.splice(-1,1,a.join(".")),r.join("/")}}return n(n.s=24)}([function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return a})),n.d(e,"d",(function(){return u})),n.d(e,"e",(function(){return s}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function a(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{s(r.next(t))}catch(t){o(t)}}function u(t){try{s(r.throw(t))}catch(t){o(t)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}s((r=r.apply(t,e||[])).next())}))}function u(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(u){return function(s){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&u[0]?r.return:u[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,u[1])).done)return i;switch(r=0,i&&(u=[2&u[0],i.value]),u[0]){case 0:case 1:i=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,r=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==u[0]&&2!==u[0])){a=0;continue}if(3===u[0]&&(!i||u[1]>i[0]&&u[1]<i[3])){a.label=u[1];break}if(6===u[0]&&a.label<i[1]){a.label=i[1],i=u;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(u);break}i[2]&&a.ops.pop(),a.trys.pop();continue}u=e.call(t,a)}catch(t){u=[6,t],r=0}finally{n=i=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,s])}}}Object.create;function s(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}Object.create;"function"==typeof SuppressedError&&SuppressedError},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return r}));var r=function(){if("undefined"!=typeof window&&window.performance){var e=window.performance;return function(){return e.now()}}return void 0!==t&&"undefined"!==t.hrtime&&"function"==typeof t.hrtime?function(){var e=t.hrtime();return 1e3*e[0]+e[1]/1e6}:Date.now?function(){return Date.now()}:function(){return+new Date}}()}).call(this,n(6))},function(t,e,n){"use strict";(function(t){n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return o}));var r=void 0!==t&&null!=t.versions&&null!=t.versions.node,i="undefined"==typeof XMLHttpRequest||r?n(18):XMLHttpRequest,o="undefined"==typeof File||r?function(){function t(t,e,n){var r;this.blob=new Blob(t,n),this.size=this.blob.size,this.type=this.blob.type,this.name=e,this.lastModified=null!==(r=null==n?void 0:n.lastModified)&&void 0!==r?r:0,this.webkitRelativePath=""}return t.prototype.arrayBuffer=function(){return this.blob.arrayBuffer()},t.prototype.slice=function(t,e,n){return this.blob.slice(t,e,n)},t.prototype.stream=function(){return this.blob.stream()},t.prototype.text=function(){return this.blob.text()},t}():File}).call(this,n(6))},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return r}));var r,i=n(1);!function(e){var n="undefined"!=typeof btoa?btoa:function(e){return t.from(e).toString("base64")},r=[];e.create22=function(){for(var t=+new Date+Object(i.a)(),e=0;e<16;e++)r[e]=String.fromCharCode((t+255*Math.random())%255|0),t=Math.floor(t/255);return n(r.join("")).replace(/\+/g,"-").replace(/\//g,"_").substr(0,22)},e.createv4=function(){var t=+new Date+Object(i.a)();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var n=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"===e?n:3&n|8).toString(16)}))},e.is=function(t){return"string"==typeof t}}(r||(r={}))}).call(this,n(13).Buffer)},function(t,e){t.exports=window.PropTypes},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var s,c=[],l=!1,d=-1;function f(){l&&s&&(l=!1,s.length?c=s.concat(c):d=-1,c.length&&p())}function p(){if(!l){var t=u(f);l=!0;for(var e=c.length;e;){for(s=c,c=[];++d<e;)s&&s[d].run();d=-1,e=c.length}s=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function m(t,e){this.fun=t,this.array=e}function h(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new m(t,e)),1!==c.length||l||u(p)},m.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=h,i.addListener=h,i.once=h,i.off=h,i.removeListener=h,i.removeAllListeners=h,i.emit=h,i.prependListener=h,i.prependOnceListener=h,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e,n){"use strict";(function(t,r,i,o){n.d(e,"a",(function(){return c}));var a=n(0);var u=void 0!==i?"undefined"!=typeof window?{setImmediate:function(t){for(var e,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return(e=window).setImmediate.apply(e,Object(a.e)([t],n,!1))},clearImmediate:function(t){return window.clearImmediate(t)}}:{setImmediate:i,clearImmediate:o}:function(){var e,n,i,o,a,u,s,c=(e="undefined"!=typeof window&&window,n="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,e||void 0!==t&&t||n),l={},d="undefined"!=typeof document?document:void 0,f=1;function p(t){delete l[t]}function m(t){var e=l[t];p(t),function(t){var e=t.callback,n=t.args;switch(n.length){case 0:e();break;case 1:e(n[0]);break;case 2:e(n[0],n[1]);break;case 3:e(n[0],n[1],n[2]);break;default:e.apply(void 0,n)}}(e)}return void 0!==r&&"[object process]"==={}.toString.call(r)?i=function(t){r.nextTick((function(){m(t)}))}:function(){if(c&&c.postMessage&&!c.importScripts){var t=!0,e=c.onmessage;return c.onmessage=function(){t=!1},c.postMessage("","*"),c.onmessage=e,t}}()?(u="setImmediate$"+Math.random()+"$",s=function(t){t.source===c&&"string"==typeof t.data&&0===t.data.indexOf(u)&&m(+t.data.slice(u.length))},window.addEventListener?window.addEventListener("message",s,!1):window.attachEvent("onmessage",s),i=function(t){window.postMessage(u+t,"*")}):"undefined"!=typeof MessageChannel?((a=new MessageChannel).port1.onmessage=function(t){m(t.data)},i=function(t){a.port2.postMessage(t)}):d&&"onreadystatechange"in d.createElement("script")?(o=d.documentElement,i=function(t){var e=d.createElement("script");e.onreadystatechange=function(){m(t),e.onreadystatechange=null,o.removeChild(e),e=null},o.appendChild(e)}):i=function(t){setTimeout(m,0,t)},{setImmediate:function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];"function"!=typeof t&&(t=new Function(""+t));var r={callback:t,args:e};return l[f]=r,i(f),f++},clearImmediate:p}}();function s(t){u.setImmediate(t)}var c={setImmediate:u.setImmediate,clearImmediate:u.clearImmediate,immediatePromise:function(){return new Promise(s)},delay:function(t,e){return void 0===e&&(e=void 0),new Promise((function(n){return setTimeout(n,t,e)}))}}}).call(this,n(5),n(6),n(11).setImmediate,n(11).clearImmediate)},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return r}));var r=function(){try{return!0}catch(t){return!1}}();!function(){try{var e=t.env.DEBUG}catch(t){return!1}}()}).call(this,n(6))},function(t,e){t.exports=window.React},function(t,e,n){(function(t,r){var i;(function(){var o="Expected a function",a="__lodash_placeholder__",u=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],s="[object Arguments]",c="[object Array]",l="[object Boolean]",d="[object Date]",f="[object Error]",p="[object Function]",m="[object GeneratorFunction]",h="[object Map]",g="[object Number]",v="[object Object]",y="[object RegExp]",_="[object Set]",b="[object String]",x="[object Symbol]",A="[object WeakMap]",w="[object ArrayBuffer]",S="[object DataView]",C="[object Float32Array]",B="[object Float64Array]",I="[object Int8Array]",P="[object Int16Array]",E="[object Int32Array]",M="[object Uint8Array]",k="[object Uint16Array]",D="[object Uint32Array]",O=/\b__p \+= '';/g,N=/\b(__p \+=) '' \+/g,T=/(__e\(.*?\)|\b__t\)) \+\n'';/g,U=/&(?:amp|lt|gt|quot|#39);/g,R=/[&<>"']/g,L=RegExp(U.source),G=RegExp(R.source),F=/<%-([\s\S]+?)%>/g,q=/<%([\s\S]+?)%>/g,j=/<%=([\s\S]+?)%>/g,H=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,V=/^\w*$/,z=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Y=/[\\^$.*+?()[\]{}|]/g,K=RegExp(Y.source),Z=/^\s+/,W=/\s/,X=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Q=/\{\n\/\* \[wrapped with (.+)\] \*/,J=/,? & /,$=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,tt=/[()=,{}\[\]\/\s]/,et=/\\(\\)?/g,nt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,rt=/\w*$/,it=/^[-+]0x[0-9a-f]+$/i,ot=/^0b[01]+$/i,at=/^\[object .+?Constructor\]$/,ut=/^0o[0-7]+$/i,st=/^(?:0|[1-9]\d*)$/,ct=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,lt=/($^)/,dt=/['\n\r\u2028\u2029\\]/g,ft="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",pt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",mt="[\\ud800-\\udfff]",ht="["+pt+"]",gt="["+ft+"]",vt="\\d+",yt="[\\u2700-\\u27bf]",_t="[a-z\\xdf-\\xf6\\xf8-\\xff]",bt="[^\\ud800-\\udfff"+pt+vt+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",xt="\\ud83c[\\udffb-\\udfff]",At="[^\\ud800-\\udfff]",wt="(?:\\ud83c[\\udde6-\\uddff]){2}",St="[\\ud800-\\udbff][\\udc00-\\udfff]",Ct="[A-Z\\xc0-\\xd6\\xd8-\\xde]",Bt="(?:"+_t+"|"+bt+")",It="(?:"+Ct+"|"+bt+")",Pt="(?:"+gt+"|"+xt+")"+"?",Et="[\\ufe0e\\ufe0f]?"+Pt+("(?:\\u200d(?:"+[At,wt,St].join("|")+")[\\ufe0e\\ufe0f]?"+Pt+")*"),Mt="(?:"+[yt,wt,St].join("|")+")"+Et,kt="(?:"+[At+gt+"?",gt,wt,St,mt].join("|")+")",Dt=RegExp("['’]","g"),Ot=RegExp(gt,"g"),Nt=RegExp(xt+"(?="+xt+")|"+kt+Et,"g"),Tt=RegExp([Ct+"?"+_t+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[ht,Ct,"$"].join("|")+")",It+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[ht,Ct+Bt,"$"].join("|")+")",Ct+"?"+Bt+"+(?:['’](?:d|ll|m|re|s|t|ve))?",Ct+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",vt,Mt].join("|"),"g"),Ut=RegExp("[\\u200d\\ud800-\\udfff"+ft+"\\ufe0e\\ufe0f]"),Rt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Lt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Gt=-1,Ft={};Ft[C]=Ft[B]=Ft[I]=Ft[P]=Ft[E]=Ft[M]=Ft["[object Uint8ClampedArray]"]=Ft[k]=Ft[D]=!0,Ft[s]=Ft[c]=Ft[w]=Ft[l]=Ft[S]=Ft[d]=Ft[f]=Ft[p]=Ft[h]=Ft[g]=Ft[v]=Ft[y]=Ft[_]=Ft[b]=Ft[A]=!1;var qt={};qt[s]=qt[c]=qt[w]=qt[S]=qt[l]=qt[d]=qt[C]=qt[B]=qt[I]=qt[P]=qt[E]=qt[h]=qt[g]=qt[v]=qt[y]=qt[_]=qt[b]=qt[x]=qt[M]=qt["[object Uint8ClampedArray]"]=qt[k]=qt[D]=!0,qt[f]=qt[p]=qt[A]=!1;var jt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ht=parseFloat,Vt=parseInt,zt="object"==typeof t&&t&&t.Object===Object&&t,Yt="object"==typeof self&&self&&self.Object===Object&&self,Kt=zt||Yt||Function("return this")(),Zt=e&&!e.nodeType&&e,Wt=Zt&&"object"==typeof r&&r&&!r.nodeType&&r,Xt=Wt&&Wt.exports===Zt,Qt=Xt&&zt.process,Jt=function(){try{var t=Wt&&Wt.require&&Wt.require("util").types;return t||Qt&&Qt.binding&&Qt.binding("util")}catch(t){}}(),$t=Jt&&Jt.isArrayBuffer,te=Jt&&Jt.isDate,ee=Jt&&Jt.isMap,ne=Jt&&Jt.isRegExp,re=Jt&&Jt.isSet,ie=Jt&&Jt.isTypedArray;function oe(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function ae(t,e,n,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var a=t[i];e(r,a,n(a),t)}return r}function ue(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function se(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function ce(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function le(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}function de(t,e){return!!(null==t?0:t.length)&&xe(t,e,0)>-1}function fe(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function pe(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function me(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function he(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function ge(t,e,n,r){var i=null==t?0:t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function ve(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var ye=Ce("length");function _e(t,e,n){var r;return n(t,(function(t,n,i){if(e(t,n,i))return r=n,!1})),r}function be(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function xe(t,e,n){return e==e?function(t,e,n){var r=n-1,i=t.length;for(;++r<i;)if(t[r]===e)return r;return-1}(t,e,n):be(t,we,n)}function Ae(t,e,n,r){for(var i=n-1,o=t.length;++i<o;)if(r(t[i],e))return i;return-1}function we(t){return t!=t}function Se(t,e){var n=null==t?0:t.length;return n?Pe(t,e)/n:NaN}function Ce(t){return function(e){return null==e?void 0:e[t]}}function Be(t){return function(e){return null==t?void 0:t[e]}}function Ie(t,e,n,r,i){return i(t,(function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)})),n}function Pe(t,e){for(var n,r=-1,i=t.length;++r<i;){var o=e(t[r]);void 0!==o&&(n=void 0===n?o:n+o)}return n}function Ee(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function Me(t){return t?t.slice(0,Ze(t)+1).replace(Z,""):t}function ke(t){return function(e){return t(e)}}function De(t,e){return pe(e,(function(e){return t[e]}))}function Oe(t,e){return t.has(e)}function Ne(t,e){for(var n=-1,r=t.length;++n<r&&xe(e,t[n],0)>-1;);return n}function Te(t,e){for(var n=t.length;n--&&xe(e,t[n],0)>-1;);return n}function Ue(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}var Re=Be({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),Le=Be({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Ge(t){return"\\"+jt[t]}function Fe(t){return Ut.test(t)}function qe(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function je(t,e){return function(n){return t(e(n))}}function He(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var u=t[n];u!==e&&u!==a||(t[n]=a,o[i++]=n)}return o}function Ve(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}function ze(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=[t,t]})),n}function Ye(t){return Fe(t)?function(t){var e=Nt.lastIndex=0;for(;Nt.test(t);)++e;return e}(t):ye(t)}function Ke(t){return Fe(t)?function(t){return t.match(Nt)||[]}(t):function(t){return t.split("")}(t)}function Ze(t){for(var e=t.length;e--&&W.test(t.charAt(e)););return e}var We=Be({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var Xe=function t(e){var n,r=(e=null==e?Kt:Xe.defaults(Kt.Object(),e,Xe.pick(Kt,Lt))).Array,i=e.Date,W=e.Error,ft=e.Function,pt=e.Math,mt=e.Object,ht=e.RegExp,gt=e.String,vt=e.TypeError,yt=r.prototype,_t=ft.prototype,bt=mt.prototype,xt=e["__core-js_shared__"],At=_t.toString,wt=bt.hasOwnProperty,St=0,Ct=(n=/[^.]+$/.exec(xt&&xt.keys&&xt.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",Bt=bt.toString,It=At.call(mt),Pt=Kt._,Et=ht("^"+At.call(wt).replace(Y,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Mt=Xt?e.Buffer:void 0,kt=e.Symbol,Nt=e.Uint8Array,Ut=Mt?Mt.allocUnsafe:void 0,jt=je(mt.getPrototypeOf,mt),zt=mt.create,Yt=bt.propertyIsEnumerable,Zt=yt.splice,Wt=kt?kt.isConcatSpreadable:void 0,Qt=kt?kt.iterator:void 0,Jt=kt?kt.toStringTag:void 0,ye=function(){try{var t=to(mt,"defineProperty");return t({},"",{}),t}catch(t){}}(),Be=e.clearTimeout!==Kt.clearTimeout&&e.clearTimeout,Qe=i&&i.now!==Kt.Date.now&&i.now,Je=e.setTimeout!==Kt.setTimeout&&e.setTimeout,$e=pt.ceil,tn=pt.floor,en=mt.getOwnPropertySymbols,nn=Mt?Mt.isBuffer:void 0,rn=e.isFinite,on=yt.join,an=je(mt.keys,mt),un=pt.max,sn=pt.min,cn=i.now,ln=e.parseInt,dn=pt.random,fn=yt.reverse,pn=to(e,"DataView"),mn=to(e,"Map"),hn=to(e,"Promise"),gn=to(e,"Set"),vn=to(e,"WeakMap"),yn=to(mt,"create"),_n=vn&&new vn,bn={},xn=Po(pn),An=Po(mn),wn=Po(hn),Sn=Po(gn),Cn=Po(vn),Bn=kt?kt.prototype:void 0,In=Bn?Bn.valueOf:void 0,Pn=Bn?Bn.toString:void 0;function En(t){if(za(t)&&!Na(t)&&!(t instanceof On)){if(t instanceof Dn)return t;if(wt.call(t,"__wrapped__"))return Eo(t)}return new Dn(t)}var Mn=function(){function t(){}return function(e){if(!Va(e))return{};if(zt)return zt(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function kn(){}function Dn(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=void 0}function On(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function Nn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Tn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Un(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Rn(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Un;++e<n;)this.add(t[e])}function Ln(t){var e=this.__data__=new Tn(t);this.size=e.size}function Gn(t,e){var n=Na(t),r=!n&&Oa(t),i=!n&&!r&&La(t),o=!n&&!r&&!i&&$a(t),a=n||r||i||o,u=a?Ee(t.length,gt):[],s=u.length;for(var c in t)!e&&!wt.call(t,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||uo(c,s))||u.push(c);return u}function Fn(t){var e=t.length;return e?t[Rr(0,e-1)]:void 0}function qn(t,e){return Co(yi(t),Xn(e,0,t.length))}function jn(t){return Co(yi(t))}function Hn(t,e,n){(void 0!==n&&!Ma(t[e],n)||void 0===n&&!(e in t))&&Zn(t,e,n)}function Vn(t,e,n){var r=t[e];wt.call(t,e)&&Ma(r,n)&&(void 0!==n||e in t)||Zn(t,e,n)}function zn(t,e){for(var n=t.length;n--;)if(Ma(t[n][0],e))return n;return-1}function Yn(t,e,n,r){return er(t,(function(t,i,o){e(r,t,n(t),o)})),r}function Kn(t,e){return t&&_i(e,xu(e),t)}function Zn(t,e,n){"__proto__"==e&&ye?ye(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Wn(t,e){for(var n=-1,i=e.length,o=r(i),a=null==t;++n<i;)o[n]=a?void 0:gu(t,e[n]);return o}function Xn(t,e,n){return t==t&&(void 0!==n&&(t=t<=n?t:n),void 0!==e&&(t=t>=e?t:e)),t}function Qn(t,e,n,r,i,o){var a,u=1&e,c=2&e,f=4&e;if(n&&(a=i?n(t,r,i,o):n(t)),void 0!==a)return a;if(!Va(t))return t;var A=Na(t);if(A){if(a=function(t){var e=t.length,n=new t.constructor(e);e&&"string"==typeof t[0]&&wt.call(t,"index")&&(n.index=t.index,n.input=t.input);return n}(t),!u)return yi(t,a)}else{var O=ro(t),N=O==p||O==m;if(La(t))return fi(t,u);if(O==v||O==s||N&&!i){if(a=c||N?{}:oo(t),!u)return c?function(t,e){return _i(t,no(t),e)}(t,function(t,e){return t&&_i(e,Au(e),t)}(a,t)):function(t,e){return _i(t,eo(t),e)}(t,Kn(a,t))}else{if(!qt[O])return i?t:{};a=function(t,e,n){var r=t.constructor;switch(e){case w:return pi(t);case l:case d:return new r(+t);case S:return function(t,e){var n=e?pi(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case C:case B:case I:case P:case E:case M:case"[object Uint8ClampedArray]":case k:case D:return mi(t,n);case h:return new r;case g:case b:return new r(t);case y:return function(t){var e=new t.constructor(t.source,rt.exec(t));return e.lastIndex=t.lastIndex,e}(t);case _:return new r;case x:return i=t,In?mt(In.call(i)):{}}var i}(t,O,u)}}o||(o=new Ln);var T=o.get(t);if(T)return T;o.set(t,a),Xa(t)?t.forEach((function(r){a.add(Qn(r,e,n,r,t,o))})):Ya(t)&&t.forEach((function(r,i){a.set(i,Qn(r,e,n,i,t,o))}));var U=A?void 0:(f?c?Ki:Yi:c?Au:xu)(t);return ue(U||t,(function(r,i){U&&(r=t[i=r]),Vn(a,i,Qn(r,e,n,i,t,o))})),a}function Jn(t,e,n){var r=n.length;if(null==t)return!r;for(t=mt(t);r--;){var i=n[r],o=e[i],a=t[i];if(void 0===a&&!(i in t)||!o(a))return!1}return!0}function $n(t,e,n){if("function"!=typeof t)throw new vt(o);return xo((function(){t.apply(void 0,n)}),e)}function tr(t,e,n,r){var i=-1,o=de,a=!0,u=t.length,s=[],c=e.length;if(!u)return s;n&&(e=pe(e,ke(n))),r?(o=fe,a=!1):e.length>=200&&(o=Oe,a=!1,e=new Rn(e));t:for(;++i<u;){var l=t[i],d=null==n?l:n(l);if(l=r||0!==l?l:0,a&&d==d){for(var f=c;f--;)if(e[f]===d)continue t;s.push(l)}else o(e,d,r)||s.push(l)}return s}En.templateSettings={escape:F,evaluate:q,interpolate:j,variable:"",imports:{_:En}},En.prototype=kn.prototype,En.prototype.constructor=En,Dn.prototype=Mn(kn.prototype),Dn.prototype.constructor=Dn,On.prototype=Mn(kn.prototype),On.prototype.constructor=On,Nn.prototype.clear=function(){this.__data__=yn?yn(null):{},this.size=0},Nn.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Nn.prototype.get=function(t){var e=this.__data__;if(yn){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return wt.call(e,t)?e[t]:void 0},Nn.prototype.has=function(t){var e=this.__data__;return yn?void 0!==e[t]:wt.call(e,t)},Nn.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=yn&&void 0===e?"__lodash_hash_undefined__":e,this},Tn.prototype.clear=function(){this.__data__=[],this.size=0},Tn.prototype.delete=function(t){var e=this.__data__,n=zn(e,t);return!(n<0)&&(n==e.length-1?e.pop():Zt.call(e,n,1),--this.size,!0)},Tn.prototype.get=function(t){var e=this.__data__,n=zn(e,t);return n<0?void 0:e[n][1]},Tn.prototype.has=function(t){return zn(this.__data__,t)>-1},Tn.prototype.set=function(t,e){var n=this.__data__,r=zn(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},Un.prototype.clear=function(){this.size=0,this.__data__={hash:new Nn,map:new(mn||Tn),string:new Nn}},Un.prototype.delete=function(t){var e=Ji(this,t).delete(t);return this.size-=e?1:0,e},Un.prototype.get=function(t){return Ji(this,t).get(t)},Un.prototype.has=function(t){return Ji(this,t).has(t)},Un.prototype.set=function(t,e){var n=Ji(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},Rn.prototype.add=Rn.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},Rn.prototype.has=function(t){return this.__data__.has(t)},Ln.prototype.clear=function(){this.__data__=new Tn,this.size=0},Ln.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Ln.prototype.get=function(t){return this.__data__.get(t)},Ln.prototype.has=function(t){return this.__data__.has(t)},Ln.prototype.set=function(t,e){var n=this.__data__;if(n instanceof Tn){var r=n.__data__;if(!mn||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Un(r)}return n.set(t,e),this.size=n.size,this};var er=Ai(cr),nr=Ai(lr,!0);function rr(t,e){var n=!0;return er(t,(function(t,r,i){return n=!!e(t,r,i)})),n}function ir(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],a=e(o);if(null!=a&&(void 0===u?a==a&&!Ja(a):n(a,u)))var u=a,s=o}return s}function or(t,e){var n=[];return er(t,(function(t,r,i){e(t,r,i)&&n.push(t)})),n}function ar(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=ao),i||(i=[]);++o<a;){var u=t[o];e>0&&n(u)?e>1?ar(u,e-1,n,r,i):me(i,u):r||(i[i.length]=u)}return i}var ur=wi(),sr=wi(!0);function cr(t,e){return t&&ur(t,e,xu)}function lr(t,e){return t&&sr(t,e,xu)}function dr(t,e){return le(e,(function(e){return qa(t[e])}))}function fr(t,e){for(var n=0,r=(e=si(e,t)).length;null!=t&&n<r;)t=t[Io(e[n++])];return n&&n==r?t:void 0}function pr(t,e,n){var r=e(t);return Na(t)?r:me(r,n(t))}function mr(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":Jt&&Jt in mt(t)?function(t){var e=wt.call(t,Jt),n=t[Jt];try{t[Jt]=void 0;var r=!0}catch(t){}var i=Bt.call(t);r&&(e?t[Jt]=n:delete t[Jt]);return i}(t):function(t){return Bt.call(t)}(t)}function hr(t,e){return t>e}function gr(t,e){return null!=t&&wt.call(t,e)}function vr(t,e){return null!=t&&e in mt(t)}function yr(t,e,n){for(var i=n?fe:de,o=t[0].length,a=t.length,u=a,s=r(a),c=1/0,l=[];u--;){var d=t[u];u&&e&&(d=pe(d,ke(e))),c=sn(d.length,c),s[u]=!n&&(e||o>=120&&d.length>=120)?new Rn(u&&d):void 0}d=t[0];var f=-1,p=s[0];t:for(;++f<o&&l.length<c;){var m=d[f],h=e?e(m):m;if(m=n||0!==m?m:0,!(p?Oe(p,h):i(l,h,n))){for(u=a;--u;){var g=s[u];if(!(g?Oe(g,h):i(t[u],h,n)))continue t}p&&p.push(h),l.push(m)}}return l}function _r(t,e,n){var r=null==(t=vo(t,e=si(e,t)))?t:t[Io(Fo(e))];return null==r?void 0:oe(r,t,n)}function br(t){return za(t)&&mr(t)==s}function xr(t,e,n,r,i){return t===e||(null==t||null==e||!za(t)&&!za(e)?t!=t&&e!=e:function(t,e,n,r,i,o){var a=Na(t),u=Na(e),p=a?c:ro(t),m=u?c:ro(e),A=(p=p==s?v:p)==v,C=(m=m==s?v:m)==v,B=p==m;if(B&&La(t)){if(!La(e))return!1;a=!0,A=!1}if(B&&!A)return o||(o=new Ln),a||$a(t)?Vi(t,e,n,r,i,o):function(t,e,n,r,i,o,a){switch(n){case S:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case w:return!(t.byteLength!=e.byteLength||!o(new Nt(t),new Nt(e)));case l:case d:case g:return Ma(+t,+e);case f:return t.name==e.name&&t.message==e.message;case y:case b:return t==e+"";case h:var u=qe;case _:var s=1&r;if(u||(u=Ve),t.size!=e.size&&!s)return!1;var c=a.get(t);if(c)return c==e;r|=2,a.set(t,e);var p=Vi(u(t),u(e),r,i,o,a);return a.delete(t),p;case x:if(In)return In.call(t)==In.call(e)}return!1}(t,e,p,n,r,i,o);if(!(1&n)){var I=A&&wt.call(t,"__wrapped__"),P=C&&wt.call(e,"__wrapped__");if(I||P){var E=I?t.value():t,M=P?e.value():e;return o||(o=new Ln),i(E,M,n,r,o)}}if(!B)return!1;return o||(o=new Ln),function(t,e,n,r,i,o){var a=1&n,u=Yi(t),s=u.length,c=Yi(e).length;if(s!=c&&!a)return!1;var l=s;for(;l--;){var d=u[l];if(!(a?d in e:wt.call(e,d)))return!1}var f=o.get(t),p=o.get(e);if(f&&p)return f==e&&p==t;var m=!0;o.set(t,e),o.set(e,t);var h=a;for(;++l<s;){d=u[l];var g=t[d],v=e[d];if(r)var y=a?r(v,g,d,e,t,o):r(g,v,d,t,e,o);if(!(void 0===y?g===v||i(g,v,n,r,o):y)){m=!1;break}h||(h="constructor"==d)}if(m&&!h){var _=t.constructor,b=e.constructor;_==b||!("constructor"in t)||!("constructor"in e)||"function"==typeof _&&_ instanceof _&&"function"==typeof b&&b instanceof b||(m=!1)}return o.delete(t),o.delete(e),m}(t,e,n,r,i,o)}(t,e,n,r,xr,i))}function Ar(t,e,n,r){var i=n.length,o=i,a=!r;if(null==t)return!o;for(t=mt(t);i--;){var u=n[i];if(a&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++i<o;){var s=(u=n[i])[0],c=t[s],l=u[1];if(a&&u[2]){if(void 0===c&&!(s in t))return!1}else{var d=new Ln;if(r)var f=r(c,l,s,t,e,d);if(!(void 0===f?xr(l,c,3,r,d):f))return!1}}return!0}function wr(t){return!(!Va(t)||(e=t,Ct&&Ct in e))&&(qa(t)?Et:at).test(Po(t));var e}function Sr(t){return"function"==typeof t?t:null==t?Ku:"object"==typeof t?Na(t)?Mr(t[0],t[1]):Er(t):ns(t)}function Cr(t){if(!po(t))return an(t);var e=[];for(var n in mt(t))wt.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Br(t){if(!Va(t))return function(t){var e=[];if(null!=t)for(var n in mt(t))e.push(n);return e}(t);var e=po(t),n=[];for(var r in t)("constructor"!=r||!e&&wt.call(t,r))&&n.push(r);return n}function Ir(t,e){return t<e}function Pr(t,e){var n=-1,i=Ua(t)?r(t.length):[];return er(t,(function(t,r,o){i[++n]=e(t,r,o)})),i}function Er(t){var e=$i(t);return 1==e.length&&e[0][2]?ho(e[0][0],e[0][1]):function(n){return n===t||Ar(n,t,e)}}function Mr(t,e){return co(t)&&mo(e)?ho(Io(t),e):function(n){var r=gu(n,t);return void 0===r&&r===e?vu(n,t):xr(e,r,3)}}function kr(t,e,n,r,i){t!==e&&ur(e,(function(o,a){if(i||(i=new Ln),Va(o))!function(t,e,n,r,i,o,a){var u=_o(t,n),s=_o(e,n),c=a.get(s);if(c)return void Hn(t,n,c);var l=o?o(u,s,n+"",t,e,a):void 0,d=void 0===l;if(d){var f=Na(s),p=!f&&La(s),m=!f&&!p&&$a(s);l=s,f||p||m?Na(u)?l=u:Ra(u)?l=yi(u):p?(d=!1,l=fi(s,!0)):m?(d=!1,l=mi(s,!0)):l=[]:Za(s)||Oa(s)?(l=u,Oa(u)?l=uu(u):Va(u)&&!qa(u)||(l=oo(s))):d=!1}d&&(a.set(s,l),i(l,s,r,o,a),a.delete(s));Hn(t,n,l)}(t,e,a,n,kr,r,i);else{var u=r?r(_o(t,a),o,a+"",t,e,i):void 0;void 0===u&&(u=o),Hn(t,a,u)}}),Au)}function Dr(t,e){var n=t.length;if(n)return uo(e+=e<0?n:0,n)?t[e]:void 0}function Or(t,e,n){e=e.length?pe(e,(function(t){return Na(t)?function(e){return fr(e,1===t.length?t[0]:t)}:t})):[Ku];var r=-1;return e=pe(e,ke(Qi())),function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}(Pr(t,(function(t,n,i){return{criteria:pe(e,(function(e){return e(t)})),index:++r,value:t}})),(function(t,e){return function(t,e,n){var r=-1,i=t.criteria,o=e.criteria,a=i.length,u=n.length;for(;++r<a;){var s=hi(i[r],o[r]);if(s){if(r>=u)return s;var c=n[r];return s*("desc"==c?-1:1)}}return t.index-e.index}(t,e,n)}))}function Nr(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var a=e[r],u=fr(t,a);n(u,a)&&jr(o,si(a,t),u)}return o}function Tr(t,e,n,r){var i=r?Ae:xe,o=-1,a=e.length,u=t;for(t===e&&(e=yi(e)),n&&(u=pe(t,ke(n)));++o<a;)for(var s=0,c=e[o],l=n?n(c):c;(s=i(u,l,s,r))>-1;)u!==t&&Zt.call(u,s,1),Zt.call(t,s,1);return t}function Ur(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(n==r||i!==o){var o=i;uo(i)?Zt.call(t,i,1):ti(t,i)}}return t}function Rr(t,e){return t+tn(dn()*(e-t+1))}function Lr(t,e){var n="";if(!t||e<1||e>9007199254740991)return n;do{e%2&&(n+=t),(e=tn(e/2))&&(t+=t)}while(e);return n}function Gr(t,e){return Ao(go(t,e,Ku),t+"")}function Fr(t){return Fn(Mu(t))}function qr(t,e){var n=Mu(t);return Co(n,Xn(e,0,n.length))}function jr(t,e,n,r){if(!Va(t))return t;for(var i=-1,o=(e=si(e,t)).length,a=o-1,u=t;null!=u&&++i<o;){var s=Io(e[i]),c=n;if("__proto__"===s||"constructor"===s||"prototype"===s)return t;if(i!=a){var l=u[s];void 0===(c=r?r(l,s,u):void 0)&&(c=Va(l)?l:uo(e[i+1])?[]:{})}Vn(u,s,c),u=u[s]}return t}var Hr=_n?function(t,e){return _n.set(t,e),t}:Ku,Vr=ye?function(t,e){return ye(t,"toString",{configurable:!0,enumerable:!1,value:Vu(e),writable:!0})}:Ku;function zr(t){return Co(Mu(t))}function Yr(t,e,n){var i=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(n=n>o?o:n)<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var a=r(o);++i<o;)a[i]=t[i+e];return a}function Kr(t,e){var n;return er(t,(function(t,r,i){return!(n=e(t,r,i))})),!!n}function Zr(t,e,n){var r=0,i=null==t?r:t.length;if("number"==typeof e&&e==e&&i<=2147483647){for(;r<i;){var o=r+i>>>1,a=t[o];null!==a&&!Ja(a)&&(n?a<=e:a<e)?r=o+1:i=o}return i}return Wr(t,e,Ku,n)}function Wr(t,e,n,r){var i=0,o=null==t?0:t.length;if(0===o)return 0;for(var a=(e=n(e))!=e,u=null===e,s=Ja(e),c=void 0===e;i<o;){var l=tn((i+o)/2),d=n(t[l]),f=void 0!==d,p=null===d,m=d==d,h=Ja(d);if(a)var g=r||m;else g=c?m&&(r||f):u?m&&f&&(r||!p):s?m&&f&&!p&&(r||!h):!p&&!h&&(r?d<=e:d<e);g?i=l+1:o=l}return sn(o,4294967294)}function Xr(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a=t[n],u=e?e(a):a;if(!n||!Ma(u,s)){var s=u;o[i++]=0===a?0:a}}return o}function Qr(t){return"number"==typeof t?t:Ja(t)?NaN:+t}function Jr(t){if("string"==typeof t)return t;if(Na(t))return pe(t,Jr)+"";if(Ja(t))return Pn?Pn.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function $r(t,e,n){var r=-1,i=de,o=t.length,a=!0,u=[],s=u;if(n)a=!1,i=fe;else if(o>=200){var c=e?null:Li(t);if(c)return Ve(c);a=!1,i=Oe,s=new Rn}else s=e?[]:u;t:for(;++r<o;){var l=t[r],d=e?e(l):l;if(l=n||0!==l?l:0,a&&d==d){for(var f=s.length;f--;)if(s[f]===d)continue t;e&&s.push(d),u.push(l)}else i(s,d,n)||(s!==u&&s.push(d),u.push(l))}return u}function ti(t,e){return null==(t=vo(t,e=si(e,t)))||delete t[Io(Fo(e))]}function ei(t,e,n,r){return jr(t,e,n(fr(t,e)),r)}function ni(t,e,n,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&e(t[o],o,t););return n?Yr(t,r?0:o,r?o+1:i):Yr(t,r?o+1:0,r?i:o)}function ri(t,e){var n=t;return n instanceof On&&(n=n.value()),he(e,(function(t,e){return e.func.apply(e.thisArg,me([t],e.args))}),n)}function ii(t,e,n){var i=t.length;if(i<2)return i?$r(t[0]):[];for(var o=-1,a=r(i);++o<i;)for(var u=t[o],s=-1;++s<i;)s!=o&&(a[o]=tr(a[o]||u,t[s],e,n));return $r(ar(a,1),e,n)}function oi(t,e,n){for(var r=-1,i=t.length,o=e.length,a={};++r<i;){var u=r<o?e[r]:void 0;n(a,t[r],u)}return a}function ai(t){return Ra(t)?t:[]}function ui(t){return"function"==typeof t?t:Ku}function si(t,e){return Na(t)?t:co(t,e)?[t]:Bo(su(t))}var ci=Gr;function li(t,e,n){var r=t.length;return n=void 0===n?r:n,!e&&n>=r?t:Yr(t,e,n)}var di=Be||function(t){return Kt.clearTimeout(t)};function fi(t,e){if(e)return t.slice();var n=t.length,r=Ut?Ut(n):new t.constructor(n);return t.copy(r),r}function pi(t){var e=new t.constructor(t.byteLength);return new Nt(e).set(new Nt(t)),e}function mi(t,e){var n=e?pi(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function hi(t,e){if(t!==e){var n=void 0!==t,r=null===t,i=t==t,o=Ja(t),a=void 0!==e,u=null===e,s=e==e,c=Ja(e);if(!u&&!c&&!o&&t>e||o&&a&&s&&!u&&!c||r&&a&&s||!n&&s||!i)return 1;if(!r&&!o&&!c&&t<e||c&&n&&i&&!r&&!o||u&&n&&i||!a&&i||!s)return-1}return 0}function gi(t,e,n,i){for(var o=-1,a=t.length,u=n.length,s=-1,c=e.length,l=un(a-u,0),d=r(c+l),f=!i;++s<c;)d[s]=e[s];for(;++o<u;)(f||o<a)&&(d[n[o]]=t[o]);for(;l--;)d[s++]=t[o++];return d}function vi(t,e,n,i){for(var o=-1,a=t.length,u=-1,s=n.length,c=-1,l=e.length,d=un(a-s,0),f=r(d+l),p=!i;++o<d;)f[o]=t[o];for(var m=o;++c<l;)f[m+c]=e[c];for(;++u<s;)(p||o<a)&&(f[m+n[u]]=t[o++]);return f}function yi(t,e){var n=-1,i=t.length;for(e||(e=r(i));++n<i;)e[n]=t[n];return e}function _i(t,e,n,r){var i=!n;n||(n={});for(var o=-1,a=e.length;++o<a;){var u=e[o],s=r?r(n[u],t[u],u,n,t):void 0;void 0===s&&(s=t[u]),i?Zn(n,u,s):Vn(n,u,s)}return n}function bi(t,e){return function(n,r){var i=Na(n)?ae:Yn,o=e?e():{};return i(n,t,Qi(r,2),o)}}function xi(t){return Gr((function(e,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,a=i>2?n[2]:void 0;for(o=t.length>3&&"function"==typeof o?(i--,o):void 0,a&&so(n[0],n[1],a)&&(o=i<3?void 0:o,i=1),e=mt(e);++r<i;){var u=n[r];u&&t(e,u,r,o)}return e}))}function Ai(t,e){return function(n,r){if(null==n)return n;if(!Ua(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=mt(n);(e?o--:++o<i)&&!1!==r(a[o],o,a););return n}}function wi(t){return function(e,n,r){for(var i=-1,o=mt(e),a=r(e),u=a.length;u--;){var s=a[t?u:++i];if(!1===n(o[s],s,o))break}return e}}function Si(t){return function(e){var n=Fe(e=su(e))?Ke(e):void 0,r=n?n[0]:e.charAt(0),i=n?li(n,1).join(""):e.slice(1);return r[t]()+i}}function Ci(t){return function(e){return he(qu(Ou(e).replace(Dt,"")),t,"")}}function Bi(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=Mn(t.prototype),r=t.apply(n,e);return Va(r)?r:n}}function Ii(t){return function(e,n,r){var i=mt(e);if(!Ua(e)){var o=Qi(n,3);e=xu(e),n=function(t){return o(i[t],t,i)}}var a=t(e,n,r);return a>-1?i[o?e[a]:a]:void 0}}function Pi(t){return zi((function(e){var n=e.length,r=n,i=Dn.prototype.thru;for(t&&e.reverse();r--;){var a=e[r];if("function"!=typeof a)throw new vt(o);if(i&&!u&&"wrapper"==Wi(a))var u=new Dn([],!0)}for(r=u?r:n;++r<n;){var s=Wi(a=e[r]),c="wrapper"==s?Zi(a):void 0;u=c&&lo(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?u[Wi(c[0])].apply(u,c[3]):1==a.length&&lo(a)?u[s]():u.thru(a)}return function(){var t=arguments,r=t[0];if(u&&1==t.length&&Na(r))return u.plant(r).value();for(var i=0,o=n?e[i].apply(this,t):r;++i<n;)o=e[i].call(this,o);return o}}))}function Ei(t,e,n,i,o,a,u,s,c,l){var d=128&e,f=1&e,p=2&e,m=24&e,h=512&e,g=p?void 0:Bi(t);return function v(){for(var y=arguments.length,_=r(y),b=y;b--;)_[b]=arguments[b];if(m)var x=Xi(v),A=Ue(_,x);if(i&&(_=gi(_,i,o,m)),a&&(_=vi(_,a,u,m)),y-=A,m&&y<l){var w=He(_,x);return Ui(t,e,Ei,v.placeholder,n,_,w,s,c,l-y)}var S=f?n:this,C=p?S[t]:t;return y=_.length,s?_=yo(_,s):h&&y>1&&_.reverse(),d&&c<y&&(_.length=c),this&&this!==Kt&&this instanceof v&&(C=g||Bi(C)),C.apply(S,_)}}function Mi(t,e){return function(n,r){return function(t,e,n,r){return cr(t,(function(t,i,o){e(r,n(t),i,o)})),r}(n,t,e(r),{})}}function ki(t,e){return function(n,r){var i;if(void 0===n&&void 0===r)return e;if(void 0!==n&&(i=n),void 0!==r){if(void 0===i)return r;"string"==typeof n||"string"==typeof r?(n=Jr(n),r=Jr(r)):(n=Qr(n),r=Qr(r)),i=t(n,r)}return i}}function Di(t){return zi((function(e){return e=pe(e,ke(Qi())),Gr((function(n){var r=this;return t(e,(function(t){return oe(t,r,n)}))}))}))}function Oi(t,e){var n=(e=void 0===e?" ":Jr(e)).length;if(n<2)return n?Lr(e,t):e;var r=Lr(e,$e(t/Ye(e)));return Fe(e)?li(Ke(r),0,t).join(""):r.slice(0,t)}function Ni(t){return function(e,n,i){return i&&"number"!=typeof i&&so(e,n,i)&&(n=i=void 0),e=ru(e),void 0===n?(n=e,e=0):n=ru(n),function(t,e,n,i){for(var o=-1,a=un($e((e-t)/(n||1)),0),u=r(a);a--;)u[i?a:++o]=t,t+=n;return u}(e,n,i=void 0===i?e<n?1:-1:ru(i),t)}}function Ti(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=au(e),n=au(n)),t(e,n)}}function Ui(t,e,n,r,i,o,a,u,s,c){var l=8&e;e|=l?32:64,4&(e&=~(l?64:32))||(e&=-4);var d=[t,e,i,l?o:void 0,l?a:void 0,l?void 0:o,l?void 0:a,u,s,c],f=n.apply(void 0,d);return lo(t)&&bo(f,d),f.placeholder=r,wo(f,t,e)}function Ri(t){var e=pt[t];return function(t,n){if(t=au(t),(n=null==n?0:sn(iu(n),292))&&rn(t)){var r=(su(t)+"e").split("e");return+((r=(su(e(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return e(t)}}var Li=gn&&1/Ve(new gn([,-0]))[1]==1/0?function(t){return new gn(t)}:Ju;function Gi(t){return function(e){var n=ro(e);return n==h?qe(e):n==_?ze(e):function(t,e){return pe(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function Fi(t,e,n,i,u,s,c,l){var d=2&e;if(!d&&"function"!=typeof t)throw new vt(o);var f=i?i.length:0;if(f||(e&=-97,i=u=void 0),c=void 0===c?c:un(iu(c),0),l=void 0===l?l:iu(l),f-=u?u.length:0,64&e){var p=i,m=u;i=u=void 0}var h=d?void 0:Zi(t),g=[t,e,n,i,u,p,m,s,c,l];if(h&&function(t,e){var n=t[1],r=e[1],i=n|r,o=i<131,u=128==r&&8==n||128==r&&256==n&&t[7].length<=e[8]||384==r&&e[7].length<=e[8]&&8==n;if(!o&&!u)return t;1&r&&(t[2]=e[2],i|=1&n?0:4);var s=e[3];if(s){var c=t[3];t[3]=c?gi(c,s,e[4]):s,t[4]=c?He(t[3],a):e[4]}(s=e[5])&&(c=t[5],t[5]=c?vi(c,s,e[6]):s,t[6]=c?He(t[5],a):e[6]);(s=e[7])&&(t[7]=s);128&r&&(t[8]=null==t[8]?e[8]:sn(t[8],e[8]));null==t[9]&&(t[9]=e[9]);t[0]=e[0],t[1]=i}(g,h),t=g[0],e=g[1],n=g[2],i=g[3],u=g[4],!(l=g[9]=void 0===g[9]?d?0:t.length:un(g[9]-f,0))&&24&e&&(e&=-25),e&&1!=e)v=8==e||16==e?function(t,e,n){var i=Bi(t);return function o(){for(var a=arguments.length,u=r(a),s=a,c=Xi(o);s--;)u[s]=arguments[s];var l=a<3&&u[0]!==c&&u[a-1]!==c?[]:He(u,c);if((a-=l.length)<n)return Ui(t,e,Ei,o.placeholder,void 0,u,l,void 0,void 0,n-a);var d=this&&this!==Kt&&this instanceof o?i:t;return oe(d,this,u)}}(t,e,l):32!=e&&33!=e||u.length?Ei.apply(void 0,g):function(t,e,n,i){var o=1&e,a=Bi(t);return function e(){for(var u=-1,s=arguments.length,c=-1,l=i.length,d=r(l+s),f=this&&this!==Kt&&this instanceof e?a:t;++c<l;)d[c]=i[c];for(;s--;)d[c++]=arguments[++u];return oe(f,o?n:this,d)}}(t,e,n,i);else var v=function(t,e,n){var r=1&e,i=Bi(t);return function e(){var o=this&&this!==Kt&&this instanceof e?i:t;return o.apply(r?n:this,arguments)}}(t,e,n);return wo((h?Hr:bo)(v,g),t,e)}function qi(t,e,n,r){return void 0===t||Ma(t,bt[n])&&!wt.call(r,n)?e:t}function ji(t,e,n,r,i,o){return Va(t)&&Va(e)&&(o.set(e,t),kr(t,e,void 0,ji,o),o.delete(e)),t}function Hi(t){return Za(t)?void 0:t}function Vi(t,e,n,r,i,o){var a=1&n,u=t.length,s=e.length;if(u!=s&&!(a&&s>u))return!1;var c=o.get(t),l=o.get(e);if(c&&l)return c==e&&l==t;var d=-1,f=!0,p=2&n?new Rn:void 0;for(o.set(t,e),o.set(e,t);++d<u;){var m=t[d],h=e[d];if(r)var g=a?r(h,m,d,e,t,o):r(m,h,d,t,e,o);if(void 0!==g){if(g)continue;f=!1;break}if(p){if(!ve(e,(function(t,e){if(!Oe(p,e)&&(m===t||i(m,t,n,r,o)))return p.push(e)}))){f=!1;break}}else if(m!==h&&!i(m,h,n,r,o)){f=!1;break}}return o.delete(t),o.delete(e),f}function zi(t){return Ao(go(t,void 0,To),t+"")}function Yi(t){return pr(t,xu,eo)}function Ki(t){return pr(t,Au,no)}var Zi=_n?function(t){return _n.get(t)}:Ju;function Wi(t){for(var e=t.name+"",n=bn[e],r=wt.call(bn,e)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e}function Xi(t){return(wt.call(En,"placeholder")?En:t).placeholder}function Qi(){var t=En.iteratee||Zu;return t=t===Zu?Sr:t,arguments.length?t(arguments[0],arguments[1]):t}function Ji(t,e){var n,r,i=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map}function $i(t){for(var e=xu(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,mo(i)]}return e}function to(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return wr(n)?n:void 0}var eo=en?function(t){return null==t?[]:(t=mt(t),le(en(t),(function(e){return Yt.call(t,e)})))}:os,no=en?function(t){for(var e=[];t;)me(e,eo(t)),t=jt(t);return e}:os,ro=mr;function io(t,e,n){for(var r=-1,i=(e=si(e,t)).length,o=!1;++r<i;){var a=Io(e[r]);if(!(o=null!=t&&n(t,a)))break;t=t[a]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&Ha(i)&&uo(a,i)&&(Na(t)||Oa(t))}function oo(t){return"function"!=typeof t.constructor||po(t)?{}:Mn(jt(t))}function ao(t){return Na(t)||Oa(t)||!!(Wt&&t&&t[Wt])}function uo(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&st.test(t))&&t>-1&&t%1==0&&t<e}function so(t,e,n){if(!Va(n))return!1;var r=typeof e;return!!("number"==r?Ua(n)&&uo(e,n.length):"string"==r&&e in n)&&Ma(n[e],t)}function co(t,e){if(Na(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Ja(t))||(V.test(t)||!H.test(t)||null!=e&&t in mt(e))}function lo(t){var e=Wi(t),n=En[e];if("function"!=typeof n||!(e in On.prototype))return!1;if(t===n)return!0;var r=Zi(n);return!!r&&t===r[0]}(pn&&ro(new pn(new ArrayBuffer(1)))!=S||mn&&ro(new mn)!=h||hn&&"[object Promise]"!=ro(hn.resolve())||gn&&ro(new gn)!=_||vn&&ro(new vn)!=A)&&(ro=function(t){var e=mr(t),n=e==v?t.constructor:void 0,r=n?Po(n):"";if(r)switch(r){case xn:return S;case An:return h;case wn:return"[object Promise]";case Sn:return _;case Cn:return A}return e});var fo=xt?qa:as;function po(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||bt)}function mo(t){return t==t&&!Va(t)}function ho(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in mt(n)))}}function go(t,e,n){return e=un(void 0===e?t.length-1:e,0),function(){for(var i=arguments,o=-1,a=un(i.length-e,0),u=r(a);++o<a;)u[o]=i[e+o];o=-1;for(var s=r(e+1);++o<e;)s[o]=i[o];return s[e]=n(u),oe(t,this,s)}}function vo(t,e){return e.length<2?t:fr(t,Yr(e,0,-1))}function yo(t,e){for(var n=t.length,r=sn(e.length,n),i=yi(t);r--;){var o=e[r];t[r]=uo(o,n)?i[o]:void 0}return t}function _o(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var bo=So(Hr),xo=Je||function(t,e){return Kt.setTimeout(t,e)},Ao=So(Vr);function wo(t,e,n){var r=e+"";return Ao(t,function(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(X,"{\n/* [wrapped with "+e+"] */\n")}(r,function(t,e){return ue(u,(function(n){var r="_."+n[0];e&n[1]&&!de(t,r)&&t.push(r)})),t.sort()}(function(t){var e=t.match(Q);return e?e[1].split(J):[]}(r),n)))}function So(t){var e=0,n=0;return function(){var r=cn(),i=16-(r-n);if(n=r,i>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function Co(t,e){var n=-1,r=t.length,i=r-1;for(e=void 0===e?r:e;++n<e;){var o=Rr(n,i),a=t[o];t[o]=t[n],t[n]=a}return t.length=e,t}var Bo=function(t){var e=Sa(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(z,(function(t,n,r,i){e.push(r?i.replace(et,"$1"):n||t)})),e}));function Io(t){if("string"==typeof t||Ja(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Po(t){if(null!=t){try{return At.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Eo(t){if(t instanceof On)return t.clone();var e=new Dn(t.__wrapped__,t.__chain__);return e.__actions__=yi(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var Mo=Gr((function(t,e){return Ra(t)?tr(t,ar(e,1,Ra,!0)):[]})),ko=Gr((function(t,e){var n=Fo(e);return Ra(n)&&(n=void 0),Ra(t)?tr(t,ar(e,1,Ra,!0),Qi(n,2)):[]})),Do=Gr((function(t,e){var n=Fo(e);return Ra(n)&&(n=void 0),Ra(t)?tr(t,ar(e,1,Ra,!0),void 0,n):[]}));function Oo(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:iu(n);return i<0&&(i=un(r+i,0)),be(t,Qi(e,3),i)}function No(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r-1;return void 0!==n&&(i=iu(n),i=n<0?un(r+i,0):sn(i,r-1)),be(t,Qi(e,3),i,!0)}function To(t){return(null==t?0:t.length)?ar(t,1):[]}function Uo(t){return t&&t.length?t[0]:void 0}var Ro=Gr((function(t){var e=pe(t,ai);return e.length&&e[0]===t[0]?yr(e):[]})),Lo=Gr((function(t){var e=Fo(t),n=pe(t,ai);return e===Fo(n)?e=void 0:n.pop(),n.length&&n[0]===t[0]?yr(n,Qi(e,2)):[]})),Go=Gr((function(t){var e=Fo(t),n=pe(t,ai);return(e="function"==typeof e?e:void 0)&&n.pop(),n.length&&n[0]===t[0]?yr(n,void 0,e):[]}));function Fo(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}var qo=Gr(jo);function jo(t,e){return t&&t.length&&e&&e.length?Tr(t,e):t}var Ho=zi((function(t,e){var n=null==t?0:t.length,r=Wn(t,e);return Ur(t,pe(e,(function(t){return uo(t,n)?+t:t})).sort(hi)),r}));function Vo(t){return null==t?t:fn.call(t)}var zo=Gr((function(t){return $r(ar(t,1,Ra,!0))})),Yo=Gr((function(t){var e=Fo(t);return Ra(e)&&(e=void 0),$r(ar(t,1,Ra,!0),Qi(e,2))})),Ko=Gr((function(t){var e=Fo(t);return e="function"==typeof e?e:void 0,$r(ar(t,1,Ra,!0),void 0,e)}));function Zo(t){if(!t||!t.length)return[];var e=0;return t=le(t,(function(t){if(Ra(t))return e=un(t.length,e),!0})),Ee(e,(function(e){return pe(t,Ce(e))}))}function Wo(t,e){if(!t||!t.length)return[];var n=Zo(t);return null==e?n:pe(n,(function(t){return oe(e,void 0,t)}))}var Xo=Gr((function(t,e){return Ra(t)?tr(t,e):[]})),Qo=Gr((function(t){return ii(le(t,Ra))})),Jo=Gr((function(t){var e=Fo(t);return Ra(e)&&(e=void 0),ii(le(t,Ra),Qi(e,2))})),$o=Gr((function(t){var e=Fo(t);return e="function"==typeof e?e:void 0,ii(le(t,Ra),void 0,e)})),ta=Gr(Zo);var ea=Gr((function(t){var e=t.length,n=e>1?t[e-1]:void 0;return n="function"==typeof n?(t.pop(),n):void 0,Wo(t,n)}));function na(t){var e=En(t);return e.__chain__=!0,e}function ra(t,e){return e(t)}var ia=zi((function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,i=function(e){return Wn(e,t)};return!(e>1||this.__actions__.length)&&r instanceof On&&uo(n)?((r=r.slice(n,+n+(e?1:0))).__actions__.push({func:ra,args:[i],thisArg:void 0}),new Dn(r,this.__chain__).thru((function(t){return e&&!t.length&&t.push(void 0),t}))):this.thru(i)}));var oa=bi((function(t,e,n){wt.call(t,n)?++t[n]:Zn(t,n,1)}));var aa=Ii(Oo),ua=Ii(No);function sa(t,e){return(Na(t)?ue:er)(t,Qi(e,3))}function ca(t,e){return(Na(t)?se:nr)(t,Qi(e,3))}var la=bi((function(t,e,n){wt.call(t,n)?t[n].push(e):Zn(t,n,[e])}));var da=Gr((function(t,e,n){var i=-1,o="function"==typeof e,a=Ua(t)?r(t.length):[];return er(t,(function(t){a[++i]=o?oe(e,t,n):_r(t,e,n)})),a})),fa=bi((function(t,e,n){Zn(t,n,e)}));function pa(t,e){return(Na(t)?pe:Pr)(t,Qi(e,3))}var ma=bi((function(t,e,n){t[n?0:1].push(e)}),(function(){return[[],[]]}));var ha=Gr((function(t,e){if(null==t)return[];var n=e.length;return n>1&&so(t,e[0],e[1])?e=[]:n>2&&so(e[0],e[1],e[2])&&(e=[e[0]]),Or(t,ar(e,1),[])})),ga=Qe||function(){return Kt.Date.now()};function va(t,e,n){return e=n?void 0:e,Fi(t,128,void 0,void 0,void 0,void 0,e=t&&null==e?t.length:e)}function ya(t,e){var n;if("function"!=typeof e)throw new vt(o);return t=iu(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=void 0),n}}var _a=Gr((function(t,e,n){var r=1;if(n.length){var i=He(n,Xi(_a));r|=32}return Fi(t,r,e,n,i)})),ba=Gr((function(t,e,n){var r=3;if(n.length){var i=He(n,Xi(ba));r|=32}return Fi(e,r,t,n,i)}));function xa(t,e,n){var r,i,a,u,s,c,l=0,d=!1,f=!1,p=!0;if("function"!=typeof t)throw new vt(o);function m(e){var n=r,o=i;return r=i=void 0,l=e,u=t.apply(o,n)}function h(t){return l=t,s=xo(v,e),d?m(t):u}function g(t){var n=t-c;return void 0===c||n>=e||n<0||f&&t-l>=a}function v(){var t=ga();if(g(t))return y(t);s=xo(v,function(t){var n=e-(t-c);return f?sn(n,a-(t-l)):n}(t))}function y(t){return s=void 0,p&&r?m(t):(r=i=void 0,u)}function _(){var t=ga(),n=g(t);if(r=arguments,i=this,c=t,n){if(void 0===s)return h(c);if(f)return di(s),s=xo(v,e),m(c)}return void 0===s&&(s=xo(v,e)),u}return e=au(e)||0,Va(n)&&(d=!!n.leading,a=(f="maxWait"in n)?un(au(n.maxWait)||0,e):a,p="trailing"in n?!!n.trailing:p),_.cancel=function(){void 0!==s&&di(s),l=0,r=c=i=s=void 0},_.flush=function(){return void 0===s?u:y(ga())},_}var Aa=Gr((function(t,e){return $n(t,1,e)})),wa=Gr((function(t,e,n){return $n(t,au(e)||0,n)}));function Sa(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new vt(o);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(Sa.Cache||Un),n}function Ca(t){if("function"!=typeof t)throw new vt(o);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}Sa.Cache=Un;var Ba=ci((function(t,e){var n=(e=1==e.length&&Na(e[0])?pe(e[0],ke(Qi())):pe(ar(e,1),ke(Qi()))).length;return Gr((function(r){for(var i=-1,o=sn(r.length,n);++i<o;)r[i]=e[i].call(this,r[i]);return oe(t,this,r)}))})),Ia=Gr((function(t,e){return Fi(t,32,void 0,e,He(e,Xi(Ia)))})),Pa=Gr((function(t,e){return Fi(t,64,void 0,e,He(e,Xi(Pa)))})),Ea=zi((function(t,e){return Fi(t,256,void 0,void 0,void 0,e)}));function Ma(t,e){return t===e||t!=t&&e!=e}var ka=Ti(hr),Da=Ti((function(t,e){return t>=e})),Oa=br(function(){return arguments}())?br:function(t){return za(t)&&wt.call(t,"callee")&&!Yt.call(t,"callee")},Na=r.isArray,Ta=$t?ke($t):function(t){return za(t)&&mr(t)==w};function Ua(t){return null!=t&&Ha(t.length)&&!qa(t)}function Ra(t){return za(t)&&Ua(t)}var La=nn||as,Ga=te?ke(te):function(t){return za(t)&&mr(t)==d};function Fa(t){if(!za(t))return!1;var e=mr(t);return e==f||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!Za(t)}function qa(t){if(!Va(t))return!1;var e=mr(t);return e==p||e==m||"[object AsyncFunction]"==e||"[object Proxy]"==e}function ja(t){return"number"==typeof t&&t==iu(t)}function Ha(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}function Va(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function za(t){return null!=t&&"object"==typeof t}var Ya=ee?ke(ee):function(t){return za(t)&&ro(t)==h};function Ka(t){return"number"==typeof t||za(t)&&mr(t)==g}function Za(t){if(!za(t)||mr(t)!=v)return!1;var e=jt(t);if(null===e)return!0;var n=wt.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&At.call(n)==It}var Wa=ne?ke(ne):function(t){return za(t)&&mr(t)==y};var Xa=re?ke(re):function(t){return za(t)&&ro(t)==_};function Qa(t){return"string"==typeof t||!Na(t)&&za(t)&&mr(t)==b}function Ja(t){return"symbol"==typeof t||za(t)&&mr(t)==x}var $a=ie?ke(ie):function(t){return za(t)&&Ha(t.length)&&!!Ft[mr(t)]};var tu=Ti(Ir),eu=Ti((function(t,e){return t<=e}));function nu(t){if(!t)return[];if(Ua(t))return Qa(t)?Ke(t):yi(t);if(Qt&&t[Qt])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[Qt]());var e=ro(t);return(e==h?qe:e==_?Ve:Mu)(t)}function ru(t){return t?(t=au(t))===1/0||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function iu(t){var e=ru(t),n=e%1;return e==e?n?e-n:e:0}function ou(t){return t?Xn(iu(t),0,4294967295):0}function au(t){if("number"==typeof t)return t;if(Ja(t))return NaN;if(Va(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Va(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=Me(t);var n=ot.test(t);return n||ut.test(t)?Vt(t.slice(2),n?2:8):it.test(t)?NaN:+t}function uu(t){return _i(t,Au(t))}function su(t){return null==t?"":Jr(t)}var cu=xi((function(t,e){if(po(e)||Ua(e))_i(e,xu(e),t);else for(var n in e)wt.call(e,n)&&Vn(t,n,e[n])})),lu=xi((function(t,e){_i(e,Au(e),t)})),du=xi((function(t,e,n,r){_i(e,Au(e),t,r)})),fu=xi((function(t,e,n,r){_i(e,xu(e),t,r)})),pu=zi(Wn);var mu=Gr((function(t,e){t=mt(t);var n=-1,r=e.length,i=r>2?e[2]:void 0;for(i&&so(e[0],e[1],i)&&(r=1);++n<r;)for(var o=e[n],a=Au(o),u=-1,s=a.length;++u<s;){var c=a[u],l=t[c];(void 0===l||Ma(l,bt[c])&&!wt.call(t,c))&&(t[c]=o[c])}return t})),hu=Gr((function(t){return t.push(void 0,ji),oe(Su,void 0,t)}));function gu(t,e,n){var r=null==t?void 0:fr(t,e);return void 0===r?n:r}function vu(t,e){return null!=t&&io(t,e,vr)}var yu=Mi((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Bt.call(e)),t[e]=n}),Vu(Ku)),_u=Mi((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Bt.call(e)),wt.call(t,e)?t[e].push(n):t[e]=[n]}),Qi),bu=Gr(_r);function xu(t){return Ua(t)?Gn(t):Cr(t)}function Au(t){return Ua(t)?Gn(t,!0):Br(t)}var wu=xi((function(t,e,n){kr(t,e,n)})),Su=xi((function(t,e,n,r){kr(t,e,n,r)})),Cu=zi((function(t,e){var n={};if(null==t)return n;var r=!1;e=pe(e,(function(e){return e=si(e,t),r||(r=e.length>1),e})),_i(t,Ki(t),n),r&&(n=Qn(n,7,Hi));for(var i=e.length;i--;)ti(n,e[i]);return n}));var Bu=zi((function(t,e){return null==t?{}:function(t,e){return Nr(t,e,(function(e,n){return vu(t,n)}))}(t,e)}));function Iu(t,e){if(null==t)return{};var n=pe(Ki(t),(function(t){return[t]}));return e=Qi(e),Nr(t,n,(function(t,n){return e(t,n[0])}))}var Pu=Gi(xu),Eu=Gi(Au);function Mu(t){return null==t?[]:De(t,xu(t))}var ku=Ci((function(t,e,n){return e=e.toLowerCase(),t+(n?Du(e):e)}));function Du(t){return Fu(su(t).toLowerCase())}function Ou(t){return(t=su(t))&&t.replace(ct,Re).replace(Ot,"")}var Nu=Ci((function(t,e,n){return t+(n?"-":"")+e.toLowerCase()})),Tu=Ci((function(t,e,n){return t+(n?" ":"")+e.toLowerCase()})),Uu=Si("toLowerCase");var Ru=Ci((function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}));var Lu=Ci((function(t,e,n){return t+(n?" ":"")+Fu(e)}));var Gu=Ci((function(t,e,n){return t+(n?" ":"")+e.toUpperCase()})),Fu=Si("toUpperCase");function qu(t,e,n){return t=su(t),void 0===(e=n?void 0:e)?function(t){return Rt.test(t)}(t)?function(t){return t.match(Tt)||[]}(t):function(t){return t.match($)||[]}(t):t.match(e)||[]}var ju=Gr((function(t,e){try{return oe(t,void 0,e)}catch(t){return Fa(t)?t:new W(t)}})),Hu=zi((function(t,e){return ue(e,(function(e){e=Io(e),Zn(t,e,_a(t[e],t))})),t}));function Vu(t){return function(){return t}}var zu=Pi(),Yu=Pi(!0);function Ku(t){return t}function Zu(t){return Sr("function"==typeof t?t:Qn(t,1))}var Wu=Gr((function(t,e){return function(n){return _r(n,t,e)}})),Xu=Gr((function(t,e){return function(n){return _r(t,n,e)}}));function Qu(t,e,n){var r=xu(e),i=dr(e,r);null!=n||Va(e)&&(i.length||!r.length)||(n=e,e=t,t=this,i=dr(e,xu(e)));var o=!(Va(n)&&"chain"in n&&!n.chain),a=qa(t);return ue(i,(function(n){var r=e[n];t[n]=r,a&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__),i=n.__actions__=yi(this.__actions__);return i.push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,me([this.value()],arguments))})})),t}function Ju(){}var $u=Di(pe),ts=Di(ce),es=Di(ve);function ns(t){return co(t)?Ce(Io(t)):function(t){return function(e){return fr(e,t)}}(t)}var rs=Ni(),is=Ni(!0);function os(){return[]}function as(){return!1}var us=ki((function(t,e){return t+e}),0),ss=Ri("ceil"),cs=ki((function(t,e){return t/e}),1),ls=Ri("floor");var ds,fs=ki((function(t,e){return t*e}),1),ps=Ri("round"),ms=ki((function(t,e){return t-e}),0);return En.after=function(t,e){if("function"!=typeof e)throw new vt(o);return t=iu(t),function(){if(--t<1)return e.apply(this,arguments)}},En.ary=va,En.assign=cu,En.assignIn=lu,En.assignInWith=du,En.assignWith=fu,En.at=pu,En.before=ya,En.bind=_a,En.bindAll=Hu,En.bindKey=ba,En.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Na(t)?t:[t]},En.chain=na,En.chunk=function(t,e,n){e=(n?so(t,e,n):void 0===e)?1:un(iu(e),0);var i=null==t?0:t.length;if(!i||e<1)return[];for(var o=0,a=0,u=r($e(i/e));o<i;)u[a++]=Yr(t,o,o+=e);return u},En.compact=function(t){for(var e=-1,n=null==t?0:t.length,r=0,i=[];++e<n;){var o=t[e];o&&(i[r++]=o)}return i},En.concat=function(){var t=arguments.length;if(!t)return[];for(var e=r(t-1),n=arguments[0],i=t;i--;)e[i-1]=arguments[i];return me(Na(n)?yi(n):[n],ar(e,1))},En.cond=function(t){var e=null==t?0:t.length,n=Qi();return t=e?pe(t,(function(t){if("function"!=typeof t[1])throw new vt(o);return[n(t[0]),t[1]]})):[],Gr((function(n){for(var r=-1;++r<e;){var i=t[r];if(oe(i[0],this,n))return oe(i[1],this,n)}}))},En.conforms=function(t){return function(t){var e=xu(t);return function(n){return Jn(n,t,e)}}(Qn(t,1))},En.constant=Vu,En.countBy=oa,En.create=function(t,e){var n=Mn(t);return null==e?n:Kn(n,e)},En.curry=function t(e,n,r){var i=Fi(e,8,void 0,void 0,void 0,void 0,void 0,n=r?void 0:n);return i.placeholder=t.placeholder,i},En.curryRight=function t(e,n,r){var i=Fi(e,16,void 0,void 0,void 0,void 0,void 0,n=r?void 0:n);return i.placeholder=t.placeholder,i},En.debounce=xa,En.defaults=mu,En.defaultsDeep=hu,En.defer=Aa,En.delay=wa,En.difference=Mo,En.differenceBy=ko,En.differenceWith=Do,En.drop=function(t,e,n){var r=null==t?0:t.length;return r?Yr(t,(e=n||void 0===e?1:iu(e))<0?0:e,r):[]},En.dropRight=function(t,e,n){var r=null==t?0:t.length;return r?Yr(t,0,(e=r-(e=n||void 0===e?1:iu(e)))<0?0:e):[]},En.dropRightWhile=function(t,e){return t&&t.length?ni(t,Qi(e,3),!0,!0):[]},En.dropWhile=function(t,e){return t&&t.length?ni(t,Qi(e,3),!0):[]},En.fill=function(t,e,n,r){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&so(t,e,n)&&(n=0,r=i),function(t,e,n,r){var i=t.length;for((n=iu(n))<0&&(n=-n>i?0:i+n),(r=void 0===r||r>i?i:iu(r))<0&&(r+=i),r=n>r?0:ou(r);n<r;)t[n++]=e;return t}(t,e,n,r)):[]},En.filter=function(t,e){return(Na(t)?le:or)(t,Qi(e,3))},En.flatMap=function(t,e){return ar(pa(t,e),1)},En.flatMapDeep=function(t,e){return ar(pa(t,e),1/0)},En.flatMapDepth=function(t,e,n){return n=void 0===n?1:iu(n),ar(pa(t,e),n)},En.flatten=To,En.flattenDeep=function(t){return(null==t?0:t.length)?ar(t,1/0):[]},En.flattenDepth=function(t,e){return(null==t?0:t.length)?ar(t,e=void 0===e?1:iu(e)):[]},En.flip=function(t){return Fi(t,512)},En.flow=zu,En.flowRight=Yu,En.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r},En.functions=function(t){return null==t?[]:dr(t,xu(t))},En.functionsIn=function(t){return null==t?[]:dr(t,Au(t))},En.groupBy=la,En.initial=function(t){return(null==t?0:t.length)?Yr(t,0,-1):[]},En.intersection=Ro,En.intersectionBy=Lo,En.intersectionWith=Go,En.invert=yu,En.invertBy=_u,En.invokeMap=da,En.iteratee=Zu,En.keyBy=fa,En.keys=xu,En.keysIn=Au,En.map=pa,En.mapKeys=function(t,e){var n={};return e=Qi(e,3),cr(t,(function(t,r,i){Zn(n,e(t,r,i),t)})),n},En.mapValues=function(t,e){var n={};return e=Qi(e,3),cr(t,(function(t,r,i){Zn(n,r,e(t,r,i))})),n},En.matches=function(t){return Er(Qn(t,1))},En.matchesProperty=function(t,e){return Mr(t,Qn(e,1))},En.memoize=Sa,En.merge=wu,En.mergeWith=Su,En.method=Wu,En.methodOf=Xu,En.mixin=Qu,En.negate=Ca,En.nthArg=function(t){return t=iu(t),Gr((function(e){return Dr(e,t)}))},En.omit=Cu,En.omitBy=function(t,e){return Iu(t,Ca(Qi(e)))},En.once=function(t){return ya(2,t)},En.orderBy=function(t,e,n,r){return null==t?[]:(Na(e)||(e=null==e?[]:[e]),Na(n=r?void 0:n)||(n=null==n?[]:[n]),Or(t,e,n))},En.over=$u,En.overArgs=Ba,En.overEvery=ts,En.overSome=es,En.partial=Ia,En.partialRight=Pa,En.partition=ma,En.pick=Bu,En.pickBy=Iu,En.property=ns,En.propertyOf=function(t){return function(e){return null==t?void 0:fr(t,e)}},En.pull=qo,En.pullAll=jo,En.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?Tr(t,e,Qi(n,2)):t},En.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?Tr(t,e,void 0,n):t},En.pullAt=Ho,En.range=rs,En.rangeRight=is,En.rearg=Ea,En.reject=function(t,e){return(Na(t)?le:or)(t,Ca(Qi(e,3)))},En.remove=function(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],o=t.length;for(e=Qi(e,3);++r<o;){var a=t[r];e(a,r,t)&&(n.push(a),i.push(r))}return Ur(t,i),n},En.rest=function(t,e){if("function"!=typeof t)throw new vt(o);return Gr(t,e=void 0===e?e:iu(e))},En.reverse=Vo,En.sampleSize=function(t,e,n){return e=(n?so(t,e,n):void 0===e)?1:iu(e),(Na(t)?qn:qr)(t,e)},En.set=function(t,e,n){return null==t?t:jr(t,e,n)},En.setWith=function(t,e,n,r){return r="function"==typeof r?r:void 0,null==t?t:jr(t,e,n,r)},En.shuffle=function(t){return(Na(t)?jn:zr)(t)},En.slice=function(t,e,n){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&so(t,e,n)?(e=0,n=r):(e=null==e?0:iu(e),n=void 0===n?r:iu(n)),Yr(t,e,n)):[]},En.sortBy=ha,En.sortedUniq=function(t){return t&&t.length?Xr(t):[]},En.sortedUniqBy=function(t,e){return t&&t.length?Xr(t,Qi(e,2)):[]},En.split=function(t,e,n){return n&&"number"!=typeof n&&so(t,e,n)&&(e=n=void 0),(n=void 0===n?4294967295:n>>>0)?(t=su(t))&&("string"==typeof e||null!=e&&!Wa(e))&&!(e=Jr(e))&&Fe(t)?li(Ke(t),0,n):t.split(e,n):[]},En.spread=function(t,e){if("function"!=typeof t)throw new vt(o);return e=null==e?0:un(iu(e),0),Gr((function(n){var r=n[e],i=li(n,0,e);return r&&me(i,r),oe(t,this,i)}))},En.tail=function(t){var e=null==t?0:t.length;return e?Yr(t,1,e):[]},En.take=function(t,e,n){return t&&t.length?Yr(t,0,(e=n||void 0===e?1:iu(e))<0?0:e):[]},En.takeRight=function(t,e,n){var r=null==t?0:t.length;return r?Yr(t,(e=r-(e=n||void 0===e?1:iu(e)))<0?0:e,r):[]},En.takeRightWhile=function(t,e){return t&&t.length?ni(t,Qi(e,3),!1,!0):[]},En.takeWhile=function(t,e){return t&&t.length?ni(t,Qi(e,3)):[]},En.tap=function(t,e){return e(t),t},En.throttle=function(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new vt(o);return Va(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),xa(t,e,{leading:r,maxWait:e,trailing:i})},En.thru=ra,En.toArray=nu,En.toPairs=Pu,En.toPairsIn=Eu,En.toPath=function(t){return Na(t)?pe(t,Io):Ja(t)?[t]:yi(Bo(su(t)))},En.toPlainObject=uu,En.transform=function(t,e,n){var r=Na(t),i=r||La(t)||$a(t);if(e=Qi(e,4),null==n){var o=t&&t.constructor;n=i?r?new o:[]:Va(t)&&qa(o)?Mn(jt(t)):{}}return(i?ue:cr)(t,(function(t,r,i){return e(n,t,r,i)})),n},En.unary=function(t){return va(t,1)},En.union=zo,En.unionBy=Yo,En.unionWith=Ko,En.uniq=function(t){return t&&t.length?$r(t):[]},En.uniqBy=function(t,e){return t&&t.length?$r(t,Qi(e,2)):[]},En.uniqWith=function(t,e){return e="function"==typeof e?e:void 0,t&&t.length?$r(t,void 0,e):[]},En.unset=function(t,e){return null==t||ti(t,e)},En.unzip=Zo,En.unzipWith=Wo,En.update=function(t,e,n){return null==t?t:ei(t,e,ui(n))},En.updateWith=function(t,e,n,r){return r="function"==typeof r?r:void 0,null==t?t:ei(t,e,ui(n),r)},En.values=Mu,En.valuesIn=function(t){return null==t?[]:De(t,Au(t))},En.without=Xo,En.words=qu,En.wrap=function(t,e){return Ia(ui(e),t)},En.xor=Qo,En.xorBy=Jo,En.xorWith=$o,En.zip=ta,En.zipObject=function(t,e){return oi(t||[],e||[],Vn)},En.zipObjectDeep=function(t,e){return oi(t||[],e||[],jr)},En.zipWith=ea,En.entries=Pu,En.entriesIn=Eu,En.extend=lu,En.extendWith=du,Qu(En,En),En.add=us,En.attempt=ju,En.camelCase=ku,En.capitalize=Du,En.ceil=ss,En.clamp=function(t,e,n){return void 0===n&&(n=e,e=void 0),void 0!==n&&(n=(n=au(n))==n?n:0),void 0!==e&&(e=(e=au(e))==e?e:0),Xn(au(t),e,n)},En.clone=function(t){return Qn(t,4)},En.cloneDeep=function(t){return Qn(t,5)},En.cloneDeepWith=function(t,e){return Qn(t,5,e="function"==typeof e?e:void 0)},En.cloneWith=function(t,e){return Qn(t,4,e="function"==typeof e?e:void 0)},En.conformsTo=function(t,e){return null==e||Jn(t,e,xu(e))},En.deburr=Ou,En.defaultTo=function(t,e){return null==t||t!=t?e:t},En.divide=cs,En.endsWith=function(t,e,n){t=su(t),e=Jr(e);var r=t.length,i=n=void 0===n?r:Xn(iu(n),0,r);return(n-=e.length)>=0&&t.slice(n,i)==e},En.eq=Ma,En.escape=function(t){return(t=su(t))&&G.test(t)?t.replace(R,Le):t},En.escapeRegExp=function(t){return(t=su(t))&&K.test(t)?t.replace(Y,"\\$&"):t},En.every=function(t,e,n){var r=Na(t)?ce:rr;return n&&so(t,e,n)&&(e=void 0),r(t,Qi(e,3))},En.find=aa,En.findIndex=Oo,En.findKey=function(t,e){return _e(t,Qi(e,3),cr)},En.findLast=ua,En.findLastIndex=No,En.findLastKey=function(t,e){return _e(t,Qi(e,3),lr)},En.floor=ls,En.forEach=sa,En.forEachRight=ca,En.forIn=function(t,e){return null==t?t:ur(t,Qi(e,3),Au)},En.forInRight=function(t,e){return null==t?t:sr(t,Qi(e,3),Au)},En.forOwn=function(t,e){return t&&cr(t,Qi(e,3))},En.forOwnRight=function(t,e){return t&&lr(t,Qi(e,3))},En.get=gu,En.gt=ka,En.gte=Da,En.has=function(t,e){return null!=t&&io(t,e,gr)},En.hasIn=vu,En.head=Uo,En.identity=Ku,En.includes=function(t,e,n,r){t=Ua(t)?t:Mu(t),n=n&&!r?iu(n):0;var i=t.length;return n<0&&(n=un(i+n,0)),Qa(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&xe(t,e,n)>-1},En.indexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:iu(n);return i<0&&(i=un(r+i,0)),xe(t,e,i)},En.inRange=function(t,e,n){return e=ru(e),void 0===n?(n=e,e=0):n=ru(n),function(t,e,n){return t>=sn(e,n)&&t<un(e,n)}(t=au(t),e,n)},En.invoke=bu,En.isArguments=Oa,En.isArray=Na,En.isArrayBuffer=Ta,En.isArrayLike=Ua,En.isArrayLikeObject=Ra,En.isBoolean=function(t){return!0===t||!1===t||za(t)&&mr(t)==l},En.isBuffer=La,En.isDate=Ga,En.isElement=function(t){return za(t)&&1===t.nodeType&&!Za(t)},En.isEmpty=function(t){if(null==t)return!0;if(Ua(t)&&(Na(t)||"string"==typeof t||"function"==typeof t.splice||La(t)||$a(t)||Oa(t)))return!t.length;var e=ro(t);if(e==h||e==_)return!t.size;if(po(t))return!Cr(t).length;for(var n in t)if(wt.call(t,n))return!1;return!0},En.isEqual=function(t,e){return xr(t,e)},En.isEqualWith=function(t,e,n){var r=(n="function"==typeof n?n:void 0)?n(t,e):void 0;return void 0===r?xr(t,e,void 0,n):!!r},En.isError=Fa,En.isFinite=function(t){return"number"==typeof t&&rn(t)},En.isFunction=qa,En.isInteger=ja,En.isLength=Ha,En.isMap=Ya,En.isMatch=function(t,e){return t===e||Ar(t,e,$i(e))},En.isMatchWith=function(t,e,n){return n="function"==typeof n?n:void 0,Ar(t,e,$i(e),n)},En.isNaN=function(t){return Ka(t)&&t!=+t},En.isNative=function(t){if(fo(t))throw new W("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return wr(t)},En.isNil=function(t){return null==t},En.isNull=function(t){return null===t},En.isNumber=Ka,En.isObject=Va,En.isObjectLike=za,En.isPlainObject=Za,En.isRegExp=Wa,En.isSafeInteger=function(t){return ja(t)&&t>=-9007199254740991&&t<=9007199254740991},En.isSet=Xa,En.isString=Qa,En.isSymbol=Ja,En.isTypedArray=$a,En.isUndefined=function(t){return void 0===t},En.isWeakMap=function(t){return za(t)&&ro(t)==A},En.isWeakSet=function(t){return za(t)&&"[object WeakSet]"==mr(t)},En.join=function(t,e){return null==t?"":on.call(t,e)},En.kebabCase=Nu,En.last=Fo,En.lastIndexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r;return void 0!==n&&(i=(i=iu(n))<0?un(r+i,0):sn(i,r-1)),e==e?function(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}(t,e,i):be(t,we,i,!0)},En.lowerCase=Tu,En.lowerFirst=Uu,En.lt=tu,En.lte=eu,En.max=function(t){return t&&t.length?ir(t,Ku,hr):void 0},En.maxBy=function(t,e){return t&&t.length?ir(t,Qi(e,2),hr):void 0},En.mean=function(t){return Se(t,Ku)},En.meanBy=function(t,e){return Se(t,Qi(e,2))},En.min=function(t){return t&&t.length?ir(t,Ku,Ir):void 0},En.minBy=function(t,e){return t&&t.length?ir(t,Qi(e,2),Ir):void 0},En.stubArray=os,En.stubFalse=as,En.stubObject=function(){return{}},En.stubString=function(){return""},En.stubTrue=function(){return!0},En.multiply=fs,En.nth=function(t,e){return t&&t.length?Dr(t,iu(e)):void 0},En.noConflict=function(){return Kt._===this&&(Kt._=Pt),this},En.noop=Ju,En.now=ga,En.pad=function(t,e,n){t=su(t);var r=(e=iu(e))?Ye(t):0;if(!e||r>=e)return t;var i=(e-r)/2;return Oi(tn(i),n)+t+Oi($e(i),n)},En.padEnd=function(t,e,n){t=su(t);var r=(e=iu(e))?Ye(t):0;return e&&r<e?t+Oi(e-r,n):t},En.padStart=function(t,e,n){t=su(t);var r=(e=iu(e))?Ye(t):0;return e&&r<e?Oi(e-r,n)+t:t},En.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),ln(su(t).replace(Z,""),e||0)},En.random=function(t,e,n){if(n&&"boolean"!=typeof n&&so(t,e,n)&&(e=n=void 0),void 0===n&&("boolean"==typeof e?(n=e,e=void 0):"boolean"==typeof t&&(n=t,t=void 0)),void 0===t&&void 0===e?(t=0,e=1):(t=ru(t),void 0===e?(e=t,t=0):e=ru(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var i=dn();return sn(t+i*(e-t+Ht("1e-"+((i+"").length-1))),e)}return Rr(t,e)},En.reduce=function(t,e,n){var r=Na(t)?he:Ie,i=arguments.length<3;return r(t,Qi(e,4),n,i,er)},En.reduceRight=function(t,e,n){var r=Na(t)?ge:Ie,i=arguments.length<3;return r(t,Qi(e,4),n,i,nr)},En.repeat=function(t,e,n){return e=(n?so(t,e,n):void 0===e)?1:iu(e),Lr(su(t),e)},En.replace=function(){var t=arguments,e=su(t[0]);return t.length<3?e:e.replace(t[1],t[2])},En.result=function(t,e,n){var r=-1,i=(e=si(e,t)).length;for(i||(i=1,t=void 0);++r<i;){var o=null==t?void 0:t[Io(e[r])];void 0===o&&(r=i,o=n),t=qa(o)?o.call(t):o}return t},En.round=ps,En.runInContext=t,En.sample=function(t){return(Na(t)?Fn:Fr)(t)},En.size=function(t){if(null==t)return 0;if(Ua(t))return Qa(t)?Ye(t):t.length;var e=ro(t);return e==h||e==_?t.size:Cr(t).length},En.snakeCase=Ru,En.some=function(t,e,n){var r=Na(t)?ve:Kr;return n&&so(t,e,n)&&(e=void 0),r(t,Qi(e,3))},En.sortedIndex=function(t,e){return Zr(t,e)},En.sortedIndexBy=function(t,e,n){return Wr(t,e,Qi(n,2))},En.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var r=Zr(t,e);if(r<n&&Ma(t[r],e))return r}return-1},En.sortedLastIndex=function(t,e){return Zr(t,e,!0)},En.sortedLastIndexBy=function(t,e,n){return Wr(t,e,Qi(n,2),!0)},En.sortedLastIndexOf=function(t,e){if(null==t?0:t.length){var n=Zr(t,e,!0)-1;if(Ma(t[n],e))return n}return-1},En.startCase=Lu,En.startsWith=function(t,e,n){return t=su(t),n=null==n?0:Xn(iu(n),0,t.length),e=Jr(e),t.slice(n,n+e.length)==e},En.subtract=ms,En.sum=function(t){return t&&t.length?Pe(t,Ku):0},En.sumBy=function(t,e){return t&&t.length?Pe(t,Qi(e,2)):0},En.template=function(t,e,n){var r=En.templateSettings;n&&so(t,e,n)&&(e=void 0),t=su(t),e=du({},e,r,qi);var i,o,a=du({},e.imports,r.imports,qi),u=xu(a),s=De(a,u),c=0,l=e.interpolate||lt,d="__p += '",f=ht((e.escape||lt).source+"|"+l.source+"|"+(l===j?nt:lt).source+"|"+(e.evaluate||lt).source+"|$","g"),p="//# sourceURL="+(wt.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Gt+"]")+"\n";t.replace(f,(function(e,n,r,a,u,s){return r||(r=a),d+=t.slice(c,s).replace(dt,Ge),n&&(i=!0,d+="' +\n__e("+n+") +\n'"),u&&(o=!0,d+="';\n"+u+";\n__p += '"),r&&(d+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=s+e.length,e})),d+="';\n";var m=wt.call(e,"variable")&&e.variable;if(m){if(tt.test(m))throw new W("Invalid `variable` option passed into `_.template`")}else d="with (obj) {\n"+d+"\n}\n";d=(o?d.replace(O,""):d).replace(N,"$1").replace(T,"$1;"),d="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var h=ju((function(){return ft(u,p+"return "+d).apply(void 0,s)}));if(h.source=d,Fa(h))throw h;return h},En.times=function(t,e){if((t=iu(t))<1||t>9007199254740991)return[];var n=4294967295,r=sn(t,4294967295);t-=4294967295;for(var i=Ee(r,e=Qi(e));++n<t;)e(n);return i},En.toFinite=ru,En.toInteger=iu,En.toLength=ou,En.toLower=function(t){return su(t).toLowerCase()},En.toNumber=au,En.toSafeInteger=function(t){return t?Xn(iu(t),-9007199254740991,9007199254740991):0===t?t:0},En.toString=su,En.toUpper=function(t){return su(t).toUpperCase()},En.trim=function(t,e,n){if((t=su(t))&&(n||void 0===e))return Me(t);if(!t||!(e=Jr(e)))return t;var r=Ke(t),i=Ke(e);return li(r,Ne(r,i),Te(r,i)+1).join("")},En.trimEnd=function(t,e,n){if((t=su(t))&&(n||void 0===e))return t.slice(0,Ze(t)+1);if(!t||!(e=Jr(e)))return t;var r=Ke(t);return li(r,0,Te(r,Ke(e))+1).join("")},En.trimStart=function(t,e,n){if((t=su(t))&&(n||void 0===e))return t.replace(Z,"");if(!t||!(e=Jr(e)))return t;var r=Ke(t);return li(r,Ne(r,Ke(e))).join("")},En.truncate=function(t,e){var n=30,r="...";if(Va(e)){var i="separator"in e?e.separator:i;n="length"in e?iu(e.length):n,r="omission"in e?Jr(e.omission):r}var o=(t=su(t)).length;if(Fe(t)){var a=Ke(t);o=a.length}if(n>=o)return t;var u=n-Ye(r);if(u<1)return r;var s=a?li(a,0,u).join(""):t.slice(0,u);if(void 0===i)return s+r;if(a&&(u+=s.length-u),Wa(i)){if(t.slice(u).search(i)){var c,l=s;for(i.global||(i=ht(i.source,su(rt.exec(i))+"g")),i.lastIndex=0;c=i.exec(l);)var d=c.index;s=s.slice(0,void 0===d?u:d)}}else if(t.indexOf(Jr(i),u)!=u){var f=s.lastIndexOf(i);f>-1&&(s=s.slice(0,f))}return s+r},En.unescape=function(t){return(t=su(t))&&L.test(t)?t.replace(U,We):t},En.uniqueId=function(t){var e=++St;return su(t)+e},En.upperCase=Gu,En.upperFirst=Fu,En.each=sa,En.eachRight=ca,En.first=Uo,Qu(En,(ds={},cr(En,(function(t,e){wt.call(En.prototype,e)||(ds[e]=t)})),ds),{chain:!1}),En.VERSION="4.17.21",ue(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){En[t].placeholder=En})),ue(["drop","take"],(function(t,e){On.prototype[t]=function(n){n=void 0===n?1:un(iu(n),0);var r=this.__filtered__&&!e?new On(this):this.clone();return r.__filtered__?r.__takeCount__=sn(n,r.__takeCount__):r.__views__.push({size:sn(n,4294967295),type:t+(r.__dir__<0?"Right":"")}),r},On.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),ue(["filter","map","takeWhile"],(function(t,e){var n=e+1,r=1==n||3==n;On.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:Qi(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}})),ue(["head","last"],(function(t,e){var n="take"+(e?"Right":"");On.prototype[t]=function(){return this[n](1).value()[0]}})),ue(["initial","tail"],(function(t,e){var n="drop"+(e?"":"Right");On.prototype[t]=function(){return this.__filtered__?new On(this):this[n](1)}})),On.prototype.compact=function(){return this.filter(Ku)},On.prototype.find=function(t){return this.filter(t).head()},On.prototype.findLast=function(t){return this.reverse().find(t)},On.prototype.invokeMap=Gr((function(t,e){return"function"==typeof t?new On(this):this.map((function(n){return _r(n,t,e)}))})),On.prototype.reject=function(t){return this.filter(Ca(Qi(t)))},On.prototype.slice=function(t,e){t=iu(t);var n=this;return n.__filtered__&&(t>0||e<0)?new On(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),void 0!==e&&(n=(e=iu(e))<0?n.dropRight(-e):n.take(e-t)),n)},On.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},On.prototype.toArray=function(){return this.take(4294967295)},cr(On.prototype,(function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),i=En[r?"take"+("last"==e?"Right":""):e],o=r||/^find/.test(e);i&&(En.prototype[e]=function(){var e=this.__wrapped__,a=r?[1]:arguments,u=e instanceof On,s=a[0],c=u||Na(e),l=function(t){var e=i.apply(En,me([t],a));return r&&d?e[0]:e};c&&n&&"function"==typeof s&&1!=s.length&&(u=c=!1);var d=this.__chain__,f=!!this.__actions__.length,p=o&&!d,m=u&&!f;if(!o&&c){e=m?e:new On(this);var h=t.apply(e,a);return h.__actions__.push({func:ra,args:[l],thisArg:void 0}),new Dn(h,d)}return p&&m?t.apply(this,a):(h=this.thru(l),p?r?h.value()[0]:h.value():h)})})),ue(["pop","push","shift","sort","splice","unshift"],(function(t){var e=yt[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);En.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var i=this.value();return e.apply(Na(i)?i:[],t)}return this[n]((function(n){return e.apply(Na(n)?n:[],t)}))}})),cr(On.prototype,(function(t,e){var n=En[e];if(n){var r=n.name+"";wt.call(bn,r)||(bn[r]=[]),bn[r].push({name:e,func:n})}})),bn[Ei(void 0,2).name]=[{name:"wrapper",func:void 0}],On.prototype.clone=function(){var t=new On(this.__wrapped__);return t.__actions__=yi(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=yi(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=yi(this.__views__),t},On.prototype.reverse=function(){if(this.__filtered__){var t=new On(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},On.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=Na(t),r=e<0,i=n?t.length:0,o=function(t,e,n){var r=-1,i=n.length;for(;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=sn(e,t+a);break;case"takeRight":t=un(t,e-a)}}return{start:t,end:e}}(0,i,this.__views__),a=o.start,u=o.end,s=u-a,c=r?u:a-1,l=this.__iteratees__,d=l.length,f=0,p=sn(s,this.__takeCount__);if(!n||!r&&i==s&&p==s)return ri(t,this.__actions__);var m=[];t:for(;s--&&f<p;){for(var h=-1,g=t[c+=e];++h<d;){var v=l[h],y=v.iteratee,_=v.type,b=y(g);if(2==_)g=b;else if(!b){if(1==_)continue t;break t}}m[f++]=g}return m},En.prototype.at=ia,En.prototype.chain=function(){return na(this)},En.prototype.commit=function(){return new Dn(this.value(),this.__chain__)},En.prototype.next=function(){void 0===this.__values__&&(this.__values__=nu(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?void 0:this.__values__[this.__index__++]}},En.prototype.plant=function(t){for(var e,n=this;n instanceof kn;){var r=Eo(n);r.__index__=0,r.__values__=void 0,e?i.__wrapped__=r:e=r;var i=r;n=n.__wrapped__}return i.__wrapped__=t,e},En.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof On){var e=t;return this.__actions__.length&&(e=new On(this)),(e=e.reverse()).__actions__.push({func:ra,args:[Vo],thisArg:void 0}),new Dn(e,this.__chain__)}return this.thru(Vo)},En.prototype.toJSON=En.prototype.valueOf=En.prototype.value=function(){return ri(this.__wrapped__,this.__actions__)},En.prototype.first=En.prototype.head,Qt&&(En.prototype[Qt]=function(){return this}),En}();Kt._=Xe,void 0===(i=function(){return Xe}.call(e,n,e,r))||(r.exports=i)}).call(this)}).call(this,n(5),n(12)(t))},function(t,e,n){(function(t){var r=void 0!==t&&t||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function o(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new o(i.call(setTimeout,r,arguments),clearTimeout)},e.setInterval=function(){return new o(i.call(setInterval,r,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},n(17),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,n(5))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){"use strict";(function(t){var r=n(14),i=n(15),o=n(16);function a(){return s.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function u(t,e){if(a()<e)throw new RangeError("Invalid typed array length");return s.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=s.prototype:(null===t&&(t=new s(e)),t.length=e),t}function s(t,e,n){if(!(s.TYPED_ARRAY_SUPPORT||this instanceof s))return new s(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return d(this,t)}return c(this,t,e,n)}function c(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r);s.TYPED_ARRAY_SUPPORT?(t=e).__proto__=s.prototype:t=f(t,e);return t}(t,e,n,r):"string"==typeof e?function(t,e,n){"string"==typeof n&&""!==n||(n="utf8");if(!s.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|m(e,n),i=(t=u(t,r)).write(e,n);i!==r&&(t=t.slice(0,i));return t}(t,e,n):function(t,e){if(s.isBuffer(e)){var n=0|p(e.length);return 0===(t=u(t,n)).length||e.copy(t,0,0,n),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(r=e.length)!=r?u(t,0):f(t,e);if("Buffer"===e.type&&o(e.data))return f(t,e.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function l(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function d(t,e){if(l(e),t=u(t,e<0?0:0|p(e)),!s.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function f(t,e){var n=e.length<0?0:0|p(e.length);t=u(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function p(t){if(t>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|t}function m(t,e){if(s.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return F(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return q(t).length;default:if(r)return F(t).length;e=(""+e).toLowerCase(),r=!0}}function h(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return E(this,e,n);case"utf8":case"utf-8":return B(this,e,n);case"ascii":return I(this,e,n);case"latin1":case"binary":return P(this,e,n);case"base64":return C(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function g(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function v(t,e,n,r,i){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof e&&(e=s.from(e,r)),s.isBuffer(e))return 0===e.length?-1:y(t,e,n,r,i);if("number"==typeof e)return e&=255,s.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):y(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function y(t,e,n,r,i){var o,a=1,u=t.length,s=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;a=2,u/=2,s/=2,n/=2}function c(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(i){var l=-1;for(o=n;o<u;o++)if(c(t,o)===c(e,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===s)return l*a}else-1!==l&&(o-=o-l),l=-1}else for(n+s>u&&(n=u-s),o=n;o>=0;o--){for(var d=!0,f=0;f<s;f++)if(c(t,o+f)!==c(e,f)){d=!1;break}if(d)return o}return-1}function _(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var u=parseInt(e.substr(2*a,2),16);if(isNaN(u))return a;t[n+a]=u}return a}function b(t,e,n,r){return j(F(e,t.length-n),t,n,r)}function x(t,e,n,r){return j(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function A(t,e,n,r){return x(t,e,n,r)}function w(t,e,n,r){return j(q(e),t,n,r)}function S(t,e,n,r){return j(function(t,e){for(var n,r,i,o=[],a=0;a<t.length&&!((e-=2)<0);++a)n=t.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(e,t.length-n),t,n,r)}function C(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function B(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var o,a,u,s,c=t[i],l=null,d=c>239?4:c>223?3:c>191?2:1;if(i+d<=n)switch(d){case 1:c<128&&(l=c);break;case 2:128==(192&(o=t[i+1]))&&(s=(31&c)<<6|63&o)>127&&(l=s);break;case 3:o=t[i+1],a=t[i+2],128==(192&o)&&128==(192&a)&&(s=(15&c)<<12|(63&o)<<6|63&a)>2047&&(s<55296||s>57343)&&(l=s);break;case 4:o=t[i+1],a=t[i+2],u=t[i+3],128==(192&o)&&128==(192&a)&&128==(192&u)&&(s=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&u)>65535&&s<1114112&&(l=s)}null===l?(l=65533,d=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),i+=d}return function(t){var e=t.length;if(e<=4096)return String.fromCharCode.apply(String,t);var n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=4096));return n}(r)}e.Buffer=s,e.SlowBuffer=function(t){+t!=t&&(t=0);return s.alloc(+t)},e.INSPECT_MAX_BYTES=50,s.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=a(),s.poolSize=8192,s._augment=function(t){return t.__proto__=s.prototype,t},s.from=function(t,e,n){return c(null,t,e,n)},s.TYPED_ARRAY_SUPPORT&&(s.prototype.__proto__=Uint8Array.prototype,s.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&s[Symbol.species]===s&&Object.defineProperty(s,Symbol.species,{value:null,configurable:!0})),s.alloc=function(t,e,n){return function(t,e,n,r){return l(e),e<=0?u(t,e):void 0!==n?"string"==typeof r?u(t,e).fill(n,r):u(t,e).fill(n):u(t,e)}(null,t,e,n)},s.allocUnsafe=function(t){return d(null,t)},s.allocUnsafeSlow=function(t){return d(null,t)},s.isBuffer=function(t){return!(null==t||!t._isBuffer)},s.compare=function(t,e){if(!s.isBuffer(t)||!s.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},s.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(t,e){if(!o(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return s.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=s.allocUnsafe(e),i=0;for(n=0;n<t.length;++n){var a=t[n];if(!s.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},s.byteLength=m,s.prototype._isBuffer=!0,s.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)g(this,e,e+1);return this},s.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)g(this,e,e+3),g(this,e+1,e+2);return this},s.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)g(this,e,e+7),g(this,e+1,e+6),g(this,e+2,e+5),g(this,e+3,e+4);return this},s.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?B(this,0,t):h.apply(this,arguments)},s.prototype.equals=function(t){if(!s.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===s.compare(this,t)},s.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},s.prototype.compare=function(t,e,n,r,i){if(!s.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(this===t)return 0;for(var o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(e>>>=0),u=Math.min(o,a),c=this.slice(r,i),l=t.slice(e,n),d=0;d<u;++d)if(c[d]!==l[d]){o=c[d],a=l[d];break}return o<a?-1:a<o?1:0},s.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},s.prototype.indexOf=function(t,e,n){return v(this,t,e,n,!0)},s.prototype.lastIndexOf=function(t,e,n){return v(this,t,e,n,!1)},s.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return _(this,t,e,n);case"utf8":case"utf-8":return b(this,t,e,n);case"ascii":return x(this,t,e,n);case"latin1":case"binary":return A(this,t,e,n);case"base64":return w(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function I(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function P(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function E(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=e;o<n;++o)i+=G(t[o]);return i}function M(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function k(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function D(t,e,n,r,i,o){if(!s.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function O(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-n,2);i<o;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function N(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-n,4);i<o;++i)t[n+i]=e>>>8*(r?i:3-i)&255}function T(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function U(t,e,n,r,o){return o||T(t,0,n,4),i.write(t,e,n,r,23,4),n+4}function R(t,e,n,r,o){return o||T(t,0,n,8),i.write(t,e,n,r,52,8),n+8}s.prototype.slice=function(t,e){var n,r=this.length;if((t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t),s.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=s.prototype;else{var i=e-t;n=new s(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+t]}return n},s.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||k(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r},s.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||k(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},s.prototype.readUInt8=function(t,e){return e||k(t,1,this.length),this[t]},s.prototype.readUInt16LE=function(t,e){return e||k(t,2,this.length),this[t]|this[t+1]<<8},s.prototype.readUInt16BE=function(t,e){return e||k(t,2,this.length),this[t]<<8|this[t+1]},s.prototype.readUInt32LE=function(t,e){return e||k(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},s.prototype.readUInt32BE=function(t,e){return e||k(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},s.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||k(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*e)),r},s.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||k(t,e,this.length);for(var r=e,i=1,o=this[t+--r];r>0&&(i*=256);)o+=this[t+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},s.prototype.readInt8=function(t,e){return e||k(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},s.prototype.readInt16LE=function(t,e){e||k(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},s.prototype.readInt16BE=function(t,e){e||k(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},s.prototype.readInt32LE=function(t,e){return e||k(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},s.prototype.readInt32BE=function(t,e){return e||k(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},s.prototype.readFloatLE=function(t,e){return e||k(t,4,this.length),i.read(this,t,!0,23,4)},s.prototype.readFloatBE=function(t,e){return e||k(t,4,this.length),i.read(this,t,!1,23,4)},s.prototype.readDoubleLE=function(t,e){return e||k(t,8,this.length),i.read(this,t,!0,52,8)},s.prototype.readDoubleBE=function(t,e){return e||k(t,8,this.length),i.read(this,t,!1,52,8)},s.prototype.writeUIntLE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||D(this,t,e,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},s.prototype.writeUIntBE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||D(this,t,e,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},s.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,1,255,0),s.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},s.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,2,65535,0),s.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):O(this,t,e,!0),e+2},s.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,2,65535,0),s.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):O(this,t,e,!1),e+2},s.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,4,4294967295,0),s.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):N(this,t,e,!0),e+4},s.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,4,4294967295,0),s.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):N(this,t,e,!1),e+4},s.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);D(this,t,e,n,i-1,-i)}var o=0,a=1,u=0;for(this[e]=255&t;++o<n&&(a*=256);)t<0&&0===u&&0!==this[e+o-1]&&(u=1),this[e+o]=(t/a>>0)-u&255;return e+n},s.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);D(this,t,e,n,i-1,-i)}var o=n-1,a=1,u=0;for(this[e+o]=255&t;--o>=0&&(a*=256);)t<0&&0===u&&0!==this[e+o+1]&&(u=1),this[e+o]=(t/a>>0)-u&255;return e+n},s.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,1,127,-128),s.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},s.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,2,32767,-32768),s.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):O(this,t,e,!0),e+2},s.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,2,32767,-32768),s.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):O(this,t,e,!1),e+2},s.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,4,2147483647,-2147483648),s.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):N(this,t,e,!0),e+4},s.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),s.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):N(this,t,e,!1),e+4},s.prototype.writeFloatLE=function(t,e,n){return U(this,t,e,!0,n)},s.prototype.writeFloatBE=function(t,e,n){return U(this,t,e,!1,n)},s.prototype.writeDoubleLE=function(t,e,n){return R(this,t,e,!0,n)},s.prototype.writeDoubleBE=function(t,e,n){return R(this,t,e,!1,n)},s.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i,o=r-n;if(this===t&&n<e&&e<r)for(i=o-1;i>=0;--i)t[i+e]=this[i+n];else if(o<1e3||!s.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+e]=this[i+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o},s.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!s.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var o;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(o=e;o<n;++o)this[o]=t;else{var a=s.isBuffer(t)?t:F(new s(t,r).toString()),u=a.length;for(o=0;o<n-e;++o)this[o+e]=a[o%u]}return this};var L=/[^+\/0-9A-Za-z-_]/g;function G(t){return t<16?"0"+t.toString(16):t.toString(16)}function F(t,e){var n;e=e||1/0;for(var r=t.length,i=null,o=[],a=0;a<r;++a){if((n=t.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function q(t){return r.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(L,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function j(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}}).call(this,n(5))},function(t,e,n){"use strict";e.byteLength=function(t){var e=c(t),n=e[0],r=e[1];return 3*(n+r)/4-r},e.toByteArray=function(t){var e,n,r=c(t),a=r[0],u=r[1],s=new o(function(t,e,n){return 3*(e+n)/4-n}(0,a,u)),l=0,d=u>0?a-4:a;for(n=0;n<d;n+=4)e=i[t.charCodeAt(n)]<<18|i[t.charCodeAt(n+1)]<<12|i[t.charCodeAt(n+2)]<<6|i[t.charCodeAt(n+3)],s[l++]=e>>16&255,s[l++]=e>>8&255,s[l++]=255&e;2===u&&(e=i[t.charCodeAt(n)]<<2|i[t.charCodeAt(n+1)]>>4,s[l++]=255&e);1===u&&(e=i[t.charCodeAt(n)]<<10|i[t.charCodeAt(n+1)]<<4|i[t.charCodeAt(n+2)]>>2,s[l++]=e>>8&255,s[l++]=255&e);return s},e.fromByteArray=function(t){for(var e,n=t.length,i=n%3,o=[],a=0,u=n-i;a<u;a+=16383)o.push(l(t,a,a+16383>u?u:a+16383));1===i?(e=t[n-1],o.push(r[e>>2]+r[e<<4&63]+"==")):2===i&&(e=(t[n-2]<<8)+t[n-1],o.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"="));return o.join("")};for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=0,s=a.length;u<s;++u)r[u]=a[u],i[a.charCodeAt(u)]=u;function c(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function l(t,e,n){for(var i,o,a=[],u=e;u<n;u+=3)i=(t[u]<<16&16711680)+(t[u+1]<<8&65280)+(255&t[u+2]),a.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,n,r,i){var o,a,u=8*i-r-1,s=(1<<u)-1,c=s>>1,l=-7,d=n?i-1:0,f=n?-1:1,p=t[e+d];for(d+=f,o=p&(1<<-l)-1,p>>=-l,l+=u;l>0;o=256*o+t[e+d],d+=f,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=r;l>0;a=256*a+t[e+d],d+=f,l-=8);if(0===o)o=1-c;else{if(o===s)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,r),o-=c}return(p?-1:1)*a*Math.pow(2,o-r)},e.write=function(t,e,n,r,i,o){var a,u,s,c=8*o-i-1,l=(1<<c)-1,d=l>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,m=r?1:-1,h=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(u=isNaN(e)?1:0,a=l):(a=Math.floor(Math.log(e)/Math.LN2),e*(s=Math.pow(2,-a))<1&&(a--,s*=2),(e+=a+d>=1?f/s:f*Math.pow(2,1-d))*s>=2&&(a++,s/=2),a+d>=l?(u=0,a=l):a+d>=1?(u=(e*s-1)*Math.pow(2,i),a+=d):(u=e*Math.pow(2,d-1)*Math.pow(2,i),a=0));i>=8;t[n+p]=255&u,p+=m,u/=256,i-=8);for(a=a<<i|u,c+=i;c>0;t[n+p]=255&a,p+=m,a/=256,c-=8);t[n+p-m]|=128*h}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){(function(t,e){!function(t,n){"use strict";if(!t.setImmediate){var r,i,o,a,u,s=1,c={},l=!1,d=t.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(t);f=f&&f.setTimeout?f:t,"[object process]"==={}.toString.call(t.process)?r=function(t){e.nextTick((function(){m(t)}))}:!function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?t.MessageChannel?((o=new MessageChannel).port1.onmessage=function(t){m(t.data)},r=function(t){o.port2.postMessage(t)}):d&&"onreadystatechange"in d.createElement("script")?(i=d.documentElement,r=function(t){var e=d.createElement("script");e.onreadystatechange=function(){m(t),e.onreadystatechange=null,i.removeChild(e),e=null},i.appendChild(e)}):r=function(t){setTimeout(m,0,t)}:(a="setImmediate$"+Math.random()+"$",u=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(a)&&m(+e.data.slice(a.length))},t.addEventListener?t.addEventListener("message",u,!1):t.attachEvent("onmessage",u),r=function(e){t.postMessage(a+e,"*")}),f.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var i={callback:t,args:e};return c[s]=i,r(s),s++},f.clearImmediate=p}function p(t){delete c[t]}function m(t){if(l)setTimeout(m,0,t);else{var e=c[t];if(e){l=!0;try{!function(t){var e=t.callback,n=t.args;switch(n.length){case 0:e();break;case 1:e(n[0]);break;case 2:e(n[0],n[1]);break;case 3:e(n[0],n[1],n[2]);break;default:e.apply(void 0,n)}}(e)}finally{p(t),l=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,n(5),n(6))},function(t,e){t.exports=XMLHttpRequest},function(t,e,n){var r=n(20);"string"==typeof r&&(r=[[t.i,r,""]]);var i={insertAt:"top",hmr:!0,transform:void 0,insertInto:void 0};n(22)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){(e=n(21)(!1)).push([t.i,'.msp-semi-transparent-background{opacity:.8 !important}.msp-plugin{font-family:"Helvetica Neue","Segoe UI",Helvetica,"Source Sans Pro",Arial,sans-serif;font-size:14px;line-height:1.42857143;position:absolute;left:0;top:0;right:0;bottom:0;/*! normalize.css v3.0.3 | MIT License | github.com/necolas/normalize.css */background:#ecf2f8}.msp-plugin *{box-sizing:border-box}.msp-plugin [hidden],.msp-plugin template{display:none}.msp-plugin a{background-color:rgba(0,0,0,0)}.msp-plugin a:active,.msp-plugin a:hover{outline:0}.msp-plugin abbr[title]{border-bottom:1px dotted}.msp-plugin b,.msp-plugin strong{font-weight:bold}.msp-plugin small{font-size:80%}.msp-plugin img{border:0}.msp-plugin svg:not(:root){overflow:hidden}.msp-plugin button,.msp-plugin input,.msp-plugin optgroup,.msp-plugin select,.msp-plugin textarea{color:inherit;font:inherit;margin:0}.msp-plugin button{overflow:visible}.msp-plugin button,.msp-plugin select{text-transform:none}.msp-plugin button,.msp-plugin html input[type=button],.msp-plugin input[type=reset],.msp-plugin input[type=submit]{-webkit-appearance:button;cursor:pointer}.msp-plugin button[disabled],.msp-plugin html input[disabled]{cursor:default}.msp-plugin button::-moz-focus-inner,.msp-plugin input::-moz-focus-inner{border:0;padding:0}.msp-plugin input{line-height:normal}.msp-plugin input[type=checkbox],.msp-plugin input[type=radio]{box-sizing:border-box;padding:0}.msp-plugin input[type=number]::-webkit-inner-spin-button,.msp-plugin input[type=number]::-webkit-outer-spin-button{height:auto}.msp-plugin textarea{overflow:auto}.msp-plugin .msp-layout-expanded,.msp-plugin .msp-layout-standard{left:0;right:0;top:0;bottom:0}.msp-plugin .msp-layout-standard{border:1px solid #b5cbe2}.msp-plugin .msp-layout-region{overflow:hidden}.msp-plugin .msp-layout-static,.msp-plugin .msp-layout-scrollable{position:absolute}.msp-plugin .msp-scrollable{overflow-y:auto}.msp-plugin .msp-scrollable-container{position:absolute;left:0;right:0;top:0;bottom:0;overflow-y:auto}.msp-plugin .msp-layout-static{overflow:hidden}.msp-plugin .msp-layout-top .msp-layout-static,.msp-plugin .msp-layout-main .msp-layout-static,.msp-plugin .msp-layout-bottom .msp-layout-static{left:0;right:0;top:0;bottom:0}.msp-plugin .msp-layout-right .msp-layout-static{left:0;right:0;top:0;bottom:0}.msp-plugin .msp-layout-right .msp-layout-scrollable{left:0;right:0;top:43px;bottom:0}.msp-plugin .msp-layout-left .msp-layout-static{left:0;right:0;bottom:0;top:0}.msp-plugin .msp-layout-standard-outside{position:absolute}.msp-plugin .msp-layout-standard-outside .msp-layout-main{position:absolute;left:0;right:0;bottom:0;top:0}.msp-plugin .msp-layout-standard-outside .msp-layout-top{position:absolute;right:0;height:97px;top:-97px;width:50%;border-left:1px solid #b5cbe2;border-bottom:1px solid #b5cbe2}.msp-plugin .msp-layout-standard-outside .msp-layout-bottom{position:absolute;left:0;right:0;height:97px;top:-97px;width:50%;border-bottom:1px solid #b5cbe2}.msp-plugin .msp-layout-standard-outside .msp-layout-right{position:absolute;width:50%;right:0;bottom:-295px;height:295px;border-left:1px solid #b5cbe2;border-top:1px solid #b5cbe2}.msp-plugin .msp-layout-standard-outside .msp-layout-left{position:absolute;width:50%;left:0;bottom:0;bottom:-295px;height:295px;border-top:1px solid #b5cbe2}.msp-plugin .msp-layout-standard-outside .msp-layout-hide-right .msp-layout-right{display:none}.msp-plugin .msp-layout-standard-outside .msp-layout-hide-right .msp-layout-left{width:100%}.msp-plugin .msp-layout-standard-outside .msp-layout-hide-left .msp-layout-left{display:none}.msp-plugin .msp-layout-standard-outside .msp-layout-hide-left .msp-layout-right{width:100%;border-left:none}.msp-plugin .msp-layout-standard-outside .msp-layout-collapse-left .msp-layout-left{width:32px}.msp-plugin .msp-layout-standard-outside .msp-layout-collapse-left .msp-layout-right{left:32px;width:auto}.msp-plugin .msp-layout-standard-outside .msp-layout-hide-top .msp-layout-top{display:none}.msp-plugin .msp-layout-standard-outside .msp-layout-hide-top .msp-layout-bottom{width:100%;border-left:none}.msp-plugin .msp-layout-standard-outside .msp-layout-hide-bottom .msp-layout-bottom{display:none}.msp-plugin .msp-layout-standard-outside .msp-layout-hide-bottom .msp-layout-top{width:100%;border-left:none}.msp-plugin .msp-layout-standard-landscape{position:absolute}.msp-plugin .msp-layout-standard-landscape .msp-layout-main{position:absolute;left:330px;right:300px;bottom:70px;top:100px}.msp-plugin .msp-layout-standard-landscape .msp-layout-top{position:absolute;left:330px;right:300px;height:100px;top:0;border-bottom:1px solid #b5cbe2}.msp-plugin .msp-layout-standard-landscape .msp-layout-bottom{position:absolute;left:330px;right:300px;height:70px;bottom:0;border-top:1px solid #b5cbe2}.msp-plugin .msp-layout-standard-landscape .msp-layout-right{position:absolute;width:300px;right:0;bottom:0;top:0;border-left:1px solid #b5cbe2}.msp-plugin .msp-layout-standard-landscape .msp-layout-left{position:absolute;width:330px;left:0;bottom:0;top:0;border-right:1px solid #b5cbe2}.msp-plugin .msp-layout-standard-landscape .msp-layout-hide-right .msp-layout-right{display:none}.msp-plugin .msp-layout-standard-landscape .msp-layout-hide-right .msp-layout-main,.msp-plugin .msp-layout-standard-landscape .msp-layout-hide-right .msp-layout-top,.msp-plugin .msp-layout-standard-landscape .msp-layout-hide-right .msp-layout-bottom{right:0}.msp-plugin .msp-layout-standard-landscape .msp-layout-hide-left .msp-layout-left{display:none}.msp-plugin .msp-layout-standard-landscape .msp-layout-hide-left .msp-layout-main,.msp-plugin .msp-layout-standard-landscape .msp-layout-hide-left .msp-layout-top,.msp-plugin .msp-layout-standard-landscape .msp-layout-hide-left .msp-layout-bottom{left:0}.msp-plugin .msp-layout-standard-landscape .msp-layout-collapse-left .msp-layout-left{width:32px}.msp-plugin .msp-layout-standard-landscape .msp-layout-collapse-left .msp-layout-main,.msp-plugin .msp-layout-standard-landscape .msp-layout-collapse-left .msp-layout-top,.msp-plugin .msp-layout-standard-landscape .msp-layout-collapse-left .msp-layout-bottom{left:32px}.msp-plugin .msp-layout-standard-landscape .msp-layout-hide-bottom .msp-layout-bottom{display:none}.msp-plugin .msp-layout-standard-landscape .msp-layout-hide-bottom .msp-layout-main{bottom:0}.msp-plugin .msp-layout-standard-landscape .msp-layout-hide-top .msp-layout-top{display:none}.msp-plugin .msp-layout-standard-landscape .msp-layout-hide-top .msp-layout-main{top:0}.msp-plugin .msp-layout-standard-portrait{position:absolute}.msp-plugin .msp-layout-standard-portrait .msp-layout-main{position:absolute;left:0;right:0;bottom:361px;top:97px}.msp-plugin .msp-layout-standard-portrait .msp-layout-top{position:absolute;right:0;height:97px;top:0;width:50%;border-left:1px solid #b5cbe2;border-bottom:1px solid #b5cbe2}.msp-plugin .msp-layout-standard-portrait .msp-layout-bottom{position:absolute;left:0;right:0;height:97px;width:50%;border-bottom:1px solid #b5cbe2}.msp-plugin .msp-layout-standard-portrait .msp-layout-right{position:absolute;width:50%;right:0;bottom:0;height:361px;border-left:1px solid #b5cbe2;border-top:1px solid #b5cbe2}.msp-plugin .msp-layout-standard-portrait .msp-layout-left{position:absolute;width:50%;left:0;bottom:0;height:361px;border-top:1px solid #b5cbe2}.msp-plugin .msp-layout-standard-portrait .msp-layout-hide-right .msp-layout-right{display:none}.msp-plugin .msp-layout-standard-portrait .msp-layout-hide-right .msp-layout-left{width:100%}.msp-plugin .msp-layout-standard-portrait .msp-layout-hide-left .msp-layout-left{display:none}.msp-plugin .msp-layout-standard-portrait .msp-layout-hide-left .msp-layout-right{width:100%;border-left:none}.msp-plugin .msp-layout-standard-portrait .msp-layout-hide-right.msp-layout-hide-left .msp-layout-main{bottom:0}.msp-plugin .msp-layout-standard-portrait .msp-layout-collapse-left .msp-layout-left{width:32px}.msp-plugin .msp-layout-standard-portrait .msp-layout-collapse-left .msp-layout-right{left:32px;width:auto}.msp-plugin .msp-layout-standard-portrait .msp-layout-hide-top .msp-layout-top{display:none}.msp-plugin .msp-layout-standard-portrait .msp-layout-hide-top .msp-layout-bottom{width:100%;border-left:none}.msp-plugin .msp-layout-standard-portrait .msp-layout-hide-bottom .msp-layout-bottom{display:none}.msp-plugin .msp-layout-standard-portrait .msp-layout-hide-bottom .msp-layout-top{width:100%;border-left:none}.msp-plugin .msp-layout-standard-portrait .msp-layout-hide-top.msp-layout-hide-bottom .msp-layout-main{top:0}.msp-plugin .msp-layout-standard-reactive{position:absolute}@media(orientation: landscape),(min-width: 1000px){.msp-plugin .msp-layout-standard-reactive .msp-layout-main{position:absolute;left:330px;right:300px;bottom:70px;top:100px}.msp-plugin .msp-layout-standard-reactive .msp-layout-top{position:absolute;left:330px;right:300px;height:100px;top:0;border-bottom:1px solid #b5cbe2}.msp-plugin .msp-layout-standard-reactive .msp-layout-bottom{position:absolute;left:330px;right:300px;height:70px;bottom:0;border-top:1px solid #b5cbe2}.msp-plugin .msp-layout-standard-reactive .msp-layout-right{position:absolute;width:300px;right:0;bottom:0;top:0;border-left:1px solid #b5cbe2}.msp-plugin .msp-layout-standard-reactive .msp-layout-left{position:absolute;width:330px;left:0;bottom:0;top:0;border-right:1px solid #b5cbe2}.msp-plugin .msp-layout-standard-reactive .msp-layout-hide-right .msp-layout-right{display:none}.msp-plugin .msp-layout-standard-reactive .msp-layout-hide-right .msp-layout-main,.msp-plugin .msp-layout-standard-reactive .msp-layout-hide-right .msp-layout-top,.msp-plugin .msp-layout-standard-reactive .msp-layout-hide-right .msp-layout-bottom{right:0}.msp-plugin .msp-layout-standard-reactive .msp-layout-hide-left .msp-layout-left{display:none}.msp-plugin .msp-layout-standard-reactive .msp-layout-hide-left .msp-layout-main,.msp-plugin .msp-layout-standard-reactive .msp-layout-hide-left .msp-layout-top,.msp-plugin .msp-layout-standard-reactive .msp-layout-hide-left .msp-layout-bottom{left:0}.msp-plugin .msp-layout-standard-reactive .msp-layout-collapse-left .msp-layout-left{width:32px}.msp-plugin .msp-layout-standard-reactive .msp-layout-collapse-left .msp-layout-main,.msp-plugin .msp-layout-standard-reactive .msp-layout-collapse-left .msp-layout-top,.msp-plugin .msp-layout-standard-reactive .msp-layout-collapse-left .msp-layout-bottom{left:32px}.msp-plugin .msp-layout-standard-reactive .msp-layout-hide-bottom .msp-layout-bottom{display:none}.msp-plugin .msp-layout-standard-reactive .msp-layout-hide-bottom .msp-layout-main{bottom:0}.msp-plugin .msp-layout-standard-reactive .msp-layout-hide-top .msp-layout-top{display:none}.msp-plugin .msp-layout-standard-reactive .msp-layout-hide-top .msp-layout-main{top:0}}@media(orientation: portrait)and (max-width: 1000px){.msp-plugin .msp-layout-standard-reactive .msp-layout-main{position:absolute;left:0;right:0;bottom:361px;top:97px}.msp-plugin .msp-layout-standard-reactive .msp-layout-top{position:absolute;right:0;height:97px;top:0;width:50%;border-left:1px solid #b5cbe2;border-bottom:1px solid #b5cbe2}.msp-plugin .msp-layout-standard-reactive .msp-layout-bottom{position:absolute;left:0;right:0;height:97px;width:50%;border-bottom:1px solid #b5cbe2}.msp-plugin .msp-layout-standard-reactive .msp-layout-right{position:absolute;width:50%;right:0;bottom:0;height:361px;border-left:1px solid #b5cbe2;border-top:1px solid #b5cbe2}.msp-plugin .msp-layout-standard-reactive .msp-layout-left{position:absolute;width:50%;left:0;bottom:0;height:361px;border-top:1px solid #b5cbe2}.msp-plugin .msp-layout-standard-reactive .msp-layout-hide-right .msp-layout-right{display:none}.msp-plugin .msp-layout-standard-reactive .msp-layout-hide-right .msp-layout-left{width:100%}.msp-plugin .msp-layout-standard-reactive .msp-layout-hide-left .msp-layout-left{display:none}.msp-plugin .msp-layout-standard-reactive .msp-layout-hide-left .msp-layout-right{width:100%;border-left:none}.msp-plugin .msp-layout-standard-reactive .msp-layout-hide-right.msp-layout-hide-left .msp-layout-main{bottom:0}.msp-plugin .msp-layout-standard-reactive .msp-layout-collapse-left .msp-layout-left{width:32px}.msp-plugin .msp-layout-standard-reactive .msp-layout-collapse-left .msp-layout-right{left:32px;width:auto}.msp-plugin .msp-layout-standard-reactive .msp-layout-hide-top .msp-layout-top{display:none}.msp-plugin .msp-layout-standard-reactive .msp-layout-hide-top .msp-layout-bottom{width:100%;border-left:none}.msp-plugin .msp-layout-standard-reactive .msp-layout-hide-bottom .msp-layout-bottom{display:none}.msp-plugin .msp-layout-standard-reactive .msp-layout-hide-bottom .msp-layout-top{width:100%;border-left:none}.msp-plugin .msp-layout-standard-reactive .msp-layout-hide-top.msp-layout-hide-bottom .msp-layout-main{top:0}}.msp-plugin .msp-layout-expanded{position:fixed}@media(orientation: landscape){.msp-plugin .msp-layout-expanded .msp-layout-main{position:absolute;left:330px;right:300px;bottom:70px;top:100px}.msp-plugin .msp-layout-expanded .msp-layout-top{position:absolute;left:330px;right:300px;height:100px;top:0;border-bottom:1px solid #b5cbe2}.msp-plugin .msp-layout-expanded .msp-layout-bottom{position:absolute;left:330px;right:300px;height:70px;bottom:0;border-top:1px solid #b5cbe2}.msp-plugin .msp-layout-expanded .msp-layout-right{position:absolute;width:300px;right:0;bottom:0;top:0;border-left:1px solid #b5cbe2}.msp-plugin .msp-layout-expanded .msp-layout-left{position:absolute;width:330px;left:0;bottom:0;top:0;border-right:1px solid #b5cbe2}.msp-plugin .msp-layout-expanded .msp-layout-hide-right .msp-layout-right{display:none}.msp-plugin .msp-layout-expanded .msp-layout-hide-right .msp-layout-main,.msp-plugin .msp-layout-expanded .msp-layout-hide-right .msp-layout-top,.msp-plugin .msp-layout-expanded .msp-layout-hide-right .msp-layout-bottom{right:0}.msp-plugin .msp-layout-expanded .msp-layout-hide-left .msp-layout-left{display:none}.msp-plugin .msp-layout-expanded .msp-layout-hide-left .msp-layout-main,.msp-plugin .msp-layout-expanded .msp-layout-hide-left .msp-layout-top,.msp-plugin .msp-layout-expanded .msp-layout-hide-left .msp-layout-bottom{left:0}.msp-plugin .msp-layout-expanded .msp-layout-collapse-left .msp-layout-left{width:32px}.msp-plugin .msp-layout-expanded .msp-layout-collapse-left .msp-layout-main,.msp-plugin .msp-layout-expanded .msp-layout-collapse-left .msp-layout-top,.msp-plugin .msp-layout-expanded .msp-layout-collapse-left .msp-layout-bottom{left:32px}.msp-plugin .msp-layout-expanded .msp-layout-hide-bottom .msp-layout-bottom{display:none}.msp-plugin .msp-layout-expanded .msp-layout-hide-bottom .msp-layout-main{bottom:0}.msp-plugin .msp-layout-expanded .msp-layout-hide-top .msp-layout-top{display:none}.msp-plugin .msp-layout-expanded .msp-layout-hide-top .msp-layout-main{top:0}}@media(orientation: portrait){.msp-plugin .msp-layout-expanded .msp-layout-main{position:absolute;left:0;right:0;bottom:361px;top:97px}.msp-plugin .msp-layout-expanded .msp-layout-top{position:absolute;right:0;height:97px;top:0;width:50%;border-left:1px solid #b5cbe2;border-bottom:1px solid #b5cbe2}.msp-plugin .msp-layout-expanded .msp-layout-bottom{position:absolute;left:0;right:0;height:97px;width:50%;border-bottom:1px solid #b5cbe2}.msp-plugin .msp-layout-expanded .msp-layout-right{position:absolute;width:50%;right:0;bottom:0;height:361px;border-left:1px solid #b5cbe2;border-top:1px solid #b5cbe2}.msp-plugin .msp-layout-expanded .msp-layout-left{position:absolute;width:50%;left:0;bottom:0;height:361px;border-top:1px solid #b5cbe2}.msp-plugin .msp-layout-expanded .msp-layout-hide-right .msp-layout-right{display:none}.msp-plugin .msp-layout-expanded .msp-layout-hide-right .msp-layout-left{width:100%}.msp-plugin .msp-layout-expanded .msp-layout-hide-left .msp-layout-left{display:none}.msp-plugin .msp-layout-expanded .msp-layout-hide-left .msp-layout-right{width:100%;border-left:none}.msp-plugin .msp-layout-expanded .msp-layout-hide-right.msp-layout-hide-left .msp-layout-main{bottom:0}.msp-plugin .msp-layout-expanded .msp-layout-collapse-left .msp-layout-left{width:32px}.msp-plugin .msp-layout-expanded .msp-layout-collapse-left .msp-layout-right{left:32px;width:auto}.msp-plugin .msp-layout-expanded .msp-layout-hide-top .msp-layout-top{display:none}.msp-plugin .msp-layout-expanded .msp-layout-hide-top .msp-layout-bottom{width:100%;border-left:none}.msp-plugin .msp-layout-expanded .msp-layout-hide-bottom .msp-layout-bottom{display:none}.msp-plugin .msp-layout-expanded .msp-layout-hide-bottom .msp-layout-top{width:100%;border-left:none}.msp-plugin .msp-layout-expanded .msp-layout-hide-top.msp-layout-hide-bottom .msp-layout-main{top:0}}.msp-plugin ::-webkit-scrollbar{width:10px;height:10px}.msp-plugin ::-webkit-scrollbar-track{border-radius:0;background-color:#e3ebf4}.msp-plugin ::-webkit-scrollbar-thumb{border-radius:0;background-color:#f2f6fa}.msp-plugin .msp-form-control,.msp-plugin .msp-control-row select,.msp-plugin .msp-control-row button,.msp-plugin .msp-control-row input[type=text],.msp-plugin .msp-btn{display:block;width:100%;background:#f5f8fb;border:none;padding:0 10px;line-height:30px;height:32px;-webkit-appearance:none;-moz-appearance:none;appearance:none;-webkit-box-shadow:none;box-shadow:none;background-image:none}.msp-plugin .msp-form-control::-moz-placeholder,.msp-plugin .msp-control-row select::-moz-placeholder,.msp-plugin .msp-control-row button::-moz-placeholder,.msp-plugin .msp-control-row input[type=text]::-moz-placeholder,.msp-plugin .msp-btn::-moz-placeholder{color:#878787;opacity:1}.msp-plugin .msp-form-control:-ms-input-placeholder,.msp-plugin .msp-control-row select:-ms-input-placeholder,.msp-plugin .msp-control-row button:-ms-input-placeholder,.msp-plugin .msp-control-row input[type=text]:-ms-input-placeholder,.msp-plugin .msp-btn:-ms-input-placeholder{color:#878787}.msp-plugin .msp-form-control::-webkit-input-placeholder,.msp-plugin .msp-control-row select::-webkit-input-placeholder,.msp-plugin .msp-control-row button::-webkit-input-placeholder,.msp-plugin .msp-control-row input[type=text]::-webkit-input-placeholder,.msp-plugin .msp-btn::-webkit-input-placeholder{color:#878787}.msp-plugin .msp-form-control:hover,.msp-plugin .msp-control-row select:hover,.msp-plugin .msp-control-row button:hover,.msp-plugin .msp-control-row input[type=text]:hover,.msp-plugin .msp-btn:hover{color:#325880;background-color:#e3ebf4;border:none;outline-offset:-1px !important;outline:1px solid #acc5df !important}.msp-plugin .msp-form-control:active,.msp-plugin .msp-control-row select:active,.msp-plugin .msp-control-row button:active,.msp-plugin .msp-control-row input[type=text]:active,.msp-plugin .msp-btn:active,.msp-plugin .msp-form-control:focus,.msp-plugin .msp-control-row select:focus,.msp-plugin .msp-control-row button:focus,.msp-plugin .msp-control-row input[type=text]:focus,.msp-plugin .msp-btn:focus{color:#333;background-color:#f5f8fb;border:none;outline-offset:0;outline:none}.msp-plugin .msp-form-control[disabled],.msp-plugin .msp-control-row select[disabled],.msp-plugin .msp-control-row button[disabled],.msp-plugin .msp-control-row input[disabled][type=text],.msp-plugin [disabled].msp-btn,.msp-plugin .msp-form-control[readonly],.msp-plugin .msp-control-row select[readonly],.msp-plugin .msp-control-row button[readonly],.msp-plugin .msp-control-row input[readonly][type=text],.msp-plugin [readonly].msp-btn,fieldset[disabled] .msp-plugin .msp-form-control,fieldset[disabled] .msp-plugin .msp-control-row select,fieldset[disabled] .msp-plugin .msp-control-row button,fieldset[disabled] .msp-plugin .msp-control-row input[type=text],fieldset[disabled] .msp-plugin .msp-btn{background:#ecf2f8;opacity:.35}.msp-plugin .msp-btn,.msp-plugin .msp-control-row button{display:inline-block;margin-bottom:0;text-align:center;touch-action:manipulation;cursor:pointer;background-image:none;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;padding:0 10px;line-height:32px;border:none;-moz-box-sizing:border-box;box-sizing:border-box}.msp-plugin .msp-btn[disabled],.msp-plugin .msp-control-row button[disabled]{background:#ecf2f8;opacity:.35}.msp-plugin .msp-btn-block,.msp-plugin .msp-control-row button{display:block;width:100%}.msp-plugin .msp-btn,.msp-plugin .msp-control-row button,.msp-plugin .msp-btn:active,.msp-plugin .msp-btn-link:focus,.msp-plugin .msp-btn:hover{outline:none}.msp-plugin .msp-material-icon svg{display:inline-flex;vertical-align:middle;font-size:1.2em;margin-bottom:3px;fill:currentColor;width:1em;height:1em;flex-shrink:0;user-select:none}.msp-plugin .msp-btn-block>.msp-material-icon,.msp-plugin .msp-control-row button>.msp-material-icon{margin-left:0;margin-right:.4em}.msp-plugin .msp-btn-childless>.msp-material-icon{margin-left:0;margin-right:0}.msp-plugin .msp-btn-icon{border:none;height:32px;width:32px;line-height:32px;padding:0;text-align:center}.msp-plugin .msp-btn-icon:hover{color:#325880;background-color:#e3ebf4;border:none;outline-offset:-1px !important;outline:1px solid #acc5df !important}.msp-plugin .msp-btn-icon[disabled],.msp-plugin .msp-btn-icon[disabled]:hover,.msp-plugin .msp-btn-icon[disabled]:active{color:#878787}.msp-plugin .msp-btn-icon-small{border:none;height:32px;width:20px;line-height:32px;padding:0;text-align:center}.msp-plugin .msp-btn-icon-small:hover{color:#325880;background-color:#e3ebf4;border:none;outline-offset:-1px !important;outline:1px solid #acc5df !important}.msp-plugin .msp-btn-icon-small[disabled],.msp-plugin .msp-btn-icon-small[disabled]:hover,.msp-plugin .msp-btn-icon-small[disabled]:active{color:#878787}.msp-plugin .msp-btn-link{font-weight:normal;border-radius:0}.msp-plugin .msp-btn-link,.msp-plugin .msp-btn-link:active,.msp-plugin .msp-btn-link.active,.msp-plugin .msp-btn-link[disabled],fieldset[disabled] .msp-plugin .msp-btn-link{background-color:rgba(0,0,0,0);-webkit-box-shadow:none;box-shadow:none}.msp-plugin .msp-btn-link,.msp-plugin .msp-btn-link:hover,.msp-plugin .msp-btn-link:focus,.msp-plugin .msp-btn-link:active{border-color:rgba(0,0,0,0)}.msp-plugin .msp-btn-link:hover,.msp-plugin .msp-btn-link:focus{text-decoration:none;background-color:rgba(0,0,0,0)}.msp-plugin .msp-btn-link[disabled]:hover,.msp-plugin .msp-btn-link[disabled]:focus,fieldset[disabled] .msp-plugin .msp-btn-link:hover,fieldset[disabled] .msp-plugin .msp-btn-link:focus{text-decoration:none}.msp-plugin .msp-btn-link .msp-icon{font-size:100%}.msp-plugin .msp-btn-link,.msp-plugin .msp-btn-link:active,.msp-plugin .msp-btn-link:focus{color:#333;text-decoration:none}.msp-plugin .msp-btn-link:hover{color:#325880;text-decoration:none}.msp-plugin .msp-btn-link-toggle-on{color:#333}.msp-plugin .msp-btn-link-toggle-off,.msp-plugin .msp-btn-link-toggle-off:active,.msp-plugin .msp-btn-link-toggle-off:focus{color:#878787 !important}.msp-plugin .msp-btn-link-toggle-off:hover,.msp-plugin .msp-btn-link-toggle-on:hover{color:#325880 !important}.msp-plugin .msp-btn-action,.msp-plugin .msp-btn-action:active,.msp-plugin .msp-btn-action:focus{color:#333;background:#f5f8fb}.msp-plugin .msp-btn-action:hover{color:#325880;background:#fff}.msp-plugin .msp-btn-action[disabled],.msp-plugin .msp-btn-action[disabled]:hover,.msp-plugin .msp-btn-action[disabled]:active,.msp-plugin .msp-btn-action[disabled]:focus{color:#363636}.msp-plugin .msp-btn-commit-on,.msp-plugin .msp-btn-commit-on:active,.msp-plugin .msp-btn-commit-on:focus{color:#325880;background:#f4f7fb}.msp-plugin .msp-btn-commit-on:hover{color:#325880;background:#fdfdfe}.msp-plugin .msp-btn-commit-on[disabled],.msp-plugin .msp-btn-commit-on[disabled]:hover,.msp-plugin .msp-btn-commit-on[disabled]:active,.msp-plugin .msp-btn-commit-on[disabled]:focus{color:#335b84}.msp-plugin .msp-btn-commit-off,.msp-plugin .msp-btn-commit-off:active,.msp-plugin .msp-btn-commit-off:focus{color:#333;background:#fbfcfd}.msp-plugin .msp-btn-commit-off:hover{color:#325880;background:#fff}.msp-plugin .msp-btn-commit-off[disabled],.msp-plugin .msp-btn-commit-off[disabled]:hover,.msp-plugin .msp-btn-commit-off[disabled]:active,.msp-plugin .msp-btn-commit-off[disabled]:focus{color:#363636}.msp-plugin .msp-btn-remove:hover{color:#bf3a31}.msp-plugin .msp-btn-commit-on:hover{color:#5a8bbe}.msp-plugin .msp-btn-action{height:32px;line-height:32px}.msp-plugin input[type=file]{display:block}.msp-plugin input[type=range]{display:block;width:100%}.msp-plugin select[multiple],.msp-plugin select[size]{height:auto}.msp-plugin textarea.msp-form-control,.msp-plugin textarea.msp-btn{height:auto}.msp-plugin .msp-control-top-offset{margin-top:1px}.msp-plugin .msp-btn-commit{text-align:right;padding-top:0;padding-bottom:0;padding-right:10px;padding-left:0;line-height:32px;border:none;overflow:hidden;font-weight:bold}.msp-plugin .msp-btn-commit .msp-icon{display:block-inline;line-height:32px;width:32px;text-align:center}.msp-plugin select.msp-form-control,.msp-plugin .msp-control-row select,.msp-plugin select.msp-btn{background:none;background-color:#f5f8fb;background-size:8px 12px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAUCAMAAACzvE1FAAAADFBMVEUzMzMzMzMzMzMzMzMKAG/3AAAAA3RSTlMAf4C/aSLHAAAAPElEQVR42q3NMQ4AIAgEQTn//2cLdRKppSGzBYwzVXvznNWs8C58CiussPJj8h6NwgorrKRdTvuV9v16Afn0AYFOB7aYAAAAAElFTkSuQmCC);background-repeat:no-repeat;background-position:right 10px center;padding-right:24px}.msp-plugin select.msp-form-control:-moz-focusring,.msp-plugin .msp-control-row select:-moz-focusring,.msp-plugin select.msp-btn:-moz-focusring{color:rgba(0,0,0,0);text-shadow:0 0 0 #333}.msp-plugin .msp-default-bg{background:#ecf2f8}.msp-plugin .msp-transparent-bg{background:rgba(0,0,0,0)}.msp-plugin .msp-no-hover-outline:hover{color:#325880;background-color:inherit;border:none;outline-offset:0 !important;outline:none !important}.msp-plugin .msp-icon-inline{margin-right:8px}.msp-plugin .msp-control-row{position:relative;height:32px;background:#ecf2f8;margin-top:1px}.msp-plugin .msp-control-row>span.msp-control-row-label,.msp-plugin .msp-control-row>button.msp-control-button-label{line-height:32px;display:block;width:120px;text-align:right;padding:0 10px;color:#595959;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;cursor:default}.msp-plugin .msp-control-row>button.msp-control-button-label{background:#ecf2f8;cursor:pointer}.msp-plugin .msp-control-row .msp-control-current{background:#ecf2f8}.msp-plugin .msp-control-row>div.msp-control-row-ctrl{position:absolute;left:120px;top:0;right:0;bottom:0}.msp-plugin .msp-control-row>div{background:#f5f8fb}.msp-plugin .msp-control-row>.msp-flex-row{background:#ecf2f8}.msp-plugin .msp-control-label-short>span{width:80px !important}.msp-plugin .msp-control-label-short>div:nth-child(2){left:80px !important}.msp-plugin .msp-control-col-2{float:left;width:50%}.msp-plugin .msp-control-group{position:relative}.msp-plugin .msp-toggle-button .msp-icon{display:inline-block;margin-right:6px}.msp-plugin .msp-toggle-button>div>button:hover{border-color:#e3ebf4 !important;border:none;outline-offset:-1px !important;outline:1px solid #acc5df !important}.msp-plugin .msp-slider>div:first-child{position:absolute;top:0;left:18px;bottom:0;right:62px;display:flex}.msp-plugin .msp-slider>div:last-child{position:absolute;height:32px;line-height:32px;text-align:center;right:0;width:50px;top:0;bottom:0}.msp-plugin .msp-slider input[type=text]{padding-right:6px;padding-left:4px;font-size:80%;text-align:right}.msp-plugin .msp-slider2>div:first-child{position:absolute;height:32px;line-height:32px;text-align:center;left:0;width:25px;top:0;bottom:0;font-size:80%}.msp-plugin .msp-slider2>div:nth-child(2){position:absolute;top:0;left:35px;bottom:0;right:37px;display:flex}.msp-plugin .msp-slider2>div:last-child{position:absolute;height:32px;line-height:32px;text-align:center;right:0;width:25px;top:0;bottom:0;font-size:80%}.msp-plugin .msp-slider2 input[type=text]{padding-right:4px;padding-left:4px;font-size:80%;text-align:center}.msp-plugin .msp-toggle-color-picker button{border:10px solid #f5f8fb !important;margin:0;text-align:center;padding-right:10px;padding-left:10px}.msp-plugin .msp-toggle-color-picker button:hover{border-color:#e3ebf4 !important;border:none;outline-offset:-1px !important;outline:1px solid #acc5df !important}.msp-plugin .msp-toggle-color-picker .msp-color-picker{position:absolute;z-index:100000;background:#ecf2f8;border-top:1px solid #ecf2f8;padding-bottom:5px;width:100%}.msp-plugin .msp-toggle-color-picker-above .msp-color-picker{top:-85px;height:85px}.msp-plugin .msp-toggle-color-picker-below .msp-color-picker{top:32px;height:80px}.msp-plugin .msp-control-offset{padding-left:10px}.msp-plugin .msp-accent-offset{padding-left:1px;margin-left:8px;border-left:2px solid #e98b39}.msp-plugin .msp-control-group-wrapper{margin-bottom:0px;margin-top:1px}.msp-plugin .msp-control-group-header{background:#ecf2f8}.msp-plugin .msp-control-group-header>button,.msp-plugin .msp-control-group-header div{padding-left:4px;text-align:left;height:24px !important;line-height:24px !important;font-size:85% !important;background:#ecf2f8 !important;color:#595959}.msp-plugin .msp-control-group-header .msp-icon{height:24px !important;line-height:24px !important}.msp-plugin .msp-control-group-header>span{padding-left:5px;line-height:21.3333333333px;font-size:70%;background:#ecf2f8;color:#595959}.msp-plugin .msp-control-current{background:#ecf2f8}.msp-plugin .msp-control-group-footer{background:#dae5f1;height:5px;font-size:1px;margin-top:1px}.msp-plugin .msp-control-group-expander{display:block;position:absolute;line-height:32px;padding:0;left:0;top:0;width:120px;text-align:left;background:rgba(0,0,0,0)}.msp-plugin .msp-control-group-expander .msp-icon{line-height:29px;width:31px;text-align:center;font-size:100%}.msp-plugin .msp-plugin-layout_controls{position:absolute;left:10px;top:10px}.msp-plugin .msp-plugin-layout_controls>button:first-child{margin-right:6px}.msp-plugin .msp-empty-control{display:none}.msp-plugin .msp-control .msp-btn-block,.msp-plugin .msp-control .msp-control-row button,.msp-plugin .msp-control-row .msp-control button{margin-bottom:0px;margin-top:0px}.msp-plugin .msp-row-text{height:32px;position:relative;background:#ecf2f8;margin-top:1px}.msp-plugin .msp-row-text>div{line-height:32px;text-align:center;color:#595959}.msp-plugin .msp-help span{display:none}.msp-plugin .msp-help:hover span{display:inline-block;background:linear-gradient(#ecf2f8, rgba(236, 242, 248, 0.8))}.msp-plugin .msp-help-text{position:relative;background:#ecf2f8;margin-top:1px}.msp-plugin .msp-help-text>div{padding:5px 10px;text-align:left;color:#595959}.msp-plugin .msp-help-description{font-style:italic}.msp-plugin .msp-help-legend{padding-top:10px}.msp-plugin .msp-scale-legend>div{width:100%;height:30px}.msp-plugin .msp-scale-legend>div>span{padding:5px;color:#fff;font-weight:bold;background-color:rgba(0,0,0,.2)}.msp-plugin .msp-table-legend>div{margin-right:5px;display:inline-flex}.msp-plugin .msp-table-legend>div .msp-table-legend-color{width:30px;height:20px}.msp-plugin .msp-table-legend>div .msp-table-legend-text{margin:0 5px}.msp-plugin .msp-image-preview{position:relative;background:#ecf2f8;margin-top:1px;padding:10px}.msp-plugin .msp-image-preview canvas{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.msp-plugin .msp-image-preview>span{margin-top:6px;display:block;text-align:center;font-size:80%;line-height:15px}.msp-plugin .msp-copy-image-wrapper{position:relative}.msp-plugin .msp-copy-image-wrapper div{font-weight:bold;padding:3px;margin:1px 0;width:100%;background:#f5f8fb;text-align:center}.msp-plugin .msp-copy-image-wrapper img{margin-top:1px}.msp-plugin .msp-slider-base{position:relative;height:14px;padding:5px 0;width:100%;border-radius:6px;align-self:center;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.msp-plugin .msp-slider-base *{box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.msp-plugin .msp-slider-base-rail{position:absolute;width:100%;background-color:#d4e1ee;height:4px;border-radius:2px}.msp-plugin .msp-slider-base-track{position:absolute;left:0;height:4px;border-radius:6px;background-color:tint(#333333, 60%)}.msp-plugin .msp-slider-base-handle{position:absolute;margin-left:-11px;margin-top:-9px;width:22px;height:22px;cursor:pointer;border-radius:50%;background-color:#333;border:4px solid #d4e1ee}.msp-plugin .msp-slider-base-handle:hover{background-color:#325880}.msp-plugin .msp-slider-base-mark{position:absolute;top:18px;left:0;width:100%;font-size:12px}.msp-plugin .msp-slider-base-mark-text{position:absolute;display:inline-block;vertical-align:middle;text-align:center;cursor:pointer;color:#999}.msp-plugin .msp-slider-base-mark-text-active{color:#666}.msp-plugin .msp-slider-base-step{position:absolute;width:100%;height:4px;background:rgba(0,0,0,0)}.msp-plugin .msp-slider-base-dot{position:absolute;bottom:-2px;margin-left:-4px;width:8px;height:8px;border:2px solid #e9e9e9;background-color:#fff;cursor:pointer;border-radius:50%;vertical-align:middle}.msp-plugin .msp-slider-base-dot:first-child{margin-left:-4px}.msp-plugin .msp-slider-base-dot:last-child{margin-left:-4px}.msp-plugin .msp-slider-base-dot-active{border-color:tint(#333333, 50%)}.msp-plugin .msp-slider-base-disabled{background:#ecf2f8;opacity:.35}.msp-plugin .msp-slider-base-disabled .msp-slider-base-handle,.msp-plugin .msp-slider-base-disabled .msp-slider-base-dot{cursor:not-allowed}.msp-plugin .msp-slider-base-disabled .msp-slider-base-mark-text,.msp-plugin .msp-slider-base-disabled .msp-slider-base-dot{cursor:not-allowed !important}.msp-plugin .msp-description{padding:10px;font-size:85%;background:#ecf2f8;text-align:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;font-weight:light;cursor:default}.msp-plugin .msp-description:not(:first-child){border-top:1px solid #d4e1ee}.msp-plugin .msp-color-picker input{color:#000 !important}.msp-plugin .msp-no-webgl{position:absolute;width:100%;height:100%;left:0;top:0;display:table;text-align:center;background:#ecf2f8}.msp-plugin .msp-no-webgl>div{display:table-cell;vertical-align:middle;text-align:center;width:100%;height:100%}.msp-plugin .msp-no-webgl>div b{font-size:120%}.msp-plugin .msp-loader-msp-btn-file{position:relative;overflow:hidden}.msp-plugin .msp-loader-msp-btn-file input[type=file]{position:absolute;top:0;right:0;min-width:100%;min-height:100%;font-size:100px;text-align:right;filter:alpha(opacity=0);opacity:0;outline:none;background:#fff;cursor:inherit;display:block}.msp-plugin .msp-controls-section{margin-bottom:10px}.msp-plugin .msp-combined-color-button{border:4px solid #f5f8fb !important;margin:0;text-align:center;padding-right:10px;padding-left:10px}.msp-plugin .msp-combined-color-button:hover{border-color:#e3ebf4 !important;border:none;outline-offset:-1px !important;outline:1px solid #acc5df !important}.msp-plugin .msp-combined-color-swatch{width:100%;display:grid;grid-gap:1px;grid-template-columns:repeat(6, auto)}.msp-plugin .msp-combined-color-swatch .msp-btn:hover,.msp-plugin .msp-combined-color-swatch .msp-control-row button:hover,.msp-plugin .msp-control-row .msp-combined-color-swatch button:hover{outline-offset:-1px !important;outline:1px solid #acc5df !important}.msp-plugin .msp-action-select{position:relative}.msp-plugin .msp-action-select select{padding-left:42px}.msp-plugin .msp-action-select option:first-child{color:#595959}.msp-plugin .msp-action-select>.msp-icon{display:block;top:0;left:10px;position:absolute;line-height:32px}.msp-plugin .msp-simple-help-section{height:28px;line-height:28px;margin-top:5px;margin-bottom:5px;padding:0 10px;font-weight:500;background:#ecf2f8;color:#333}.msp-plugin .msp-left-panel-controls-buttons{position:absolute;width:32px;top:0;bottom:0;padding-top:10px;background:#ecf2f8}.msp-plugin .msp-left-panel-controls-buttons-bottom{position:absolute;bottom:0}.msp-plugin .msp-left-panel-controls-button-data-dirty{position:absolute;width:6px;height:6px;background:#e98b39;border-radius:3px;right:6px;bottom:6px}.msp-plugin .msp-left-panel-controls .msp-scrollable-container{left:33px}.msp-plugin .msp-mapped-parameter-group{position:relative}.msp-plugin .msp-mapped-parameter-group>.msp-control-row:first-child>div:nth-child(2){right:33px}.msp-plugin .msp-mapped-parameter-group>button:first-child{right:33px}.msp-plugin .msp-mapped-parameter-group>.msp-btn-icon{position:absolute;right:0;width:32px;top:0;padding:0}.msp-plugin .msp-shape-filled{fill:#333;stroke:#333}.msp-plugin .msp-shape-empty{fill:none;stroke:#333}.msp-plugin .msp-no-overflow{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.msp-plugin .msp-25-lower-contrast-text{color:#737373}.msp-plugin .msp-expandable-group-color-stripe{position:absolute;left:0;top:30px;width:120px;height:2px}.msp-plugin .msp-section-header{height:32px;line-height:32px;margin-top:10px;margin-bottom:10px;text-align:right;padding:0 10px;font-weight:bold;background:#ecf2f8;overflow:hidden;cursor:default}.msp-plugin .msp-section-header>.msp-icon{display:block;float:left}.msp-plugin .msp-section-header>small{font-weight:normal}.msp-plugin .msp-current-header{height:32px;line-height:32px;margin-bottom:10px;text-align:center;font-weight:bold;background:#ecf2f8}.msp-plugin .msp-flex-row{margin-top:1px;background:#ecf2f8;display:flex;flex-direction:row;width:inherit;height:32px}.msp-plugin .msp-flex-row>.msp-flex-item{margin:0;flex:1 1 auto;margin-right:1px;overflow:hidden}.msp-plugin .msp-flex-row>.msp-flex-item:last-child{margin-right:0}.msp-plugin .msp-flex-row>select,.msp-plugin .msp-flex-row>button{margin:0;flex:1 1 auto;margin-right:1px;height:32px;overflow:hidden}.msp-plugin .msp-flex-row .msp-btn-icon,.msp-plugin .msp-flex-row .msp-btn-icon-small{flex:0 0 32px;max-width:32px}.msp-plugin .msp-flex-row>select{background:none}.msp-plugin .msp-flex-row>select>option[value=_]{display:none}.msp-plugin .msp-flex-row>select:last-child,.msp-plugin .msp-flex-row>button:last-child{margin-right:0}.msp-plugin .msp-flex-row>button.msp-control-button-label{background:#ecf2f8}.msp-plugin .msp-state-list{list-style:none}.msp-plugin .msp-state-list>li{position:relative;overflow:hidden}.msp-plugin .msp-state-list>li>button:first-child{text-align:left;border-left:10px solid #c0d3e7 !important}.msp-plugin .msp-state-list>li>div{position:absolute;right:0;top:0}.msp-plugin .msp-tree-row{position:relative;margin-top:0;margin-bottom:1px;background:rgba(0,0,0,0)}.msp-plugin .msp-tree-row-current .msp-btn-tree-label{border-radius:0 !important}.msp-plugin .msp-tree-row-current .msp-btn-tree-label>span{font-weight:bold}.msp-plugin .msp-tree-row .msp-btn-tree-label{text-align:left;border-radius:0 0 0 8px;border-left-width:4px;border-left-style:solid}.msp-plugin .msp-tree-row .msp-btn-tree-label>small{color:#666}.msp-plugin .msp-tree-updates-wrapper .msp-control-group-header:last-child{margin-bottom:1px}.msp-plugin .msp-viewport-top-left-controls{position:absolute;left:10px;top:10px}.msp-plugin .msp-viewport-top-left-controls .msp-traj-controls{line-height:32px;float:left;margin-right:10px;background-color:#f5f8fb}.msp-plugin .msp-viewport-top-left-controls .msp-traj-controls>span{color:#333;margin-left:10px;margin-right:10px;font-size:85%;display:inline-block}.msp-plugin .msp-viewport-top-left-controls .msp-state-snapshot-viewport-controls{line-height:32px;float:left;margin-right:10px}.msp-plugin .msp-viewport-top-left-controls .msp-state-snapshot-viewport-controls>button{background-color:#f5f8fb}.msp-plugin .msp-viewport-top-left-controls .msp-state-snapshot-viewport-controls>select{display:inline-block;width:200px;margin-right:10px}.msp-plugin .msp-viewport-top-left-controls .msp-animation-viewport-controls{line-height:32px;float:left;margin-right:10px;position:relative}.msp-plugin .msp-viewport-top-left-controls .msp-animation-viewport-controls>div:first-child{position:relative;display:inline-block}.msp-plugin .msp-viewport-top-left-controls .msp-animation-viewport-controls>div:first-child>button{position:relative}.msp-plugin .msp-viewport-top-left-controls .msp-animation-viewport-controls .msp-animation-viewport-controls-select{width:290px;position:absolute;left:0;margin-top:10px;background:#d4e1ee}.msp-plugin .msp-viewport-top-left-controls .msp-animation-viewport-controls .msp-animation-viewport-controls-select .msp-control-row:first-child{margin-top:0}.msp-plugin .msp-selection-viewport-controls{position:relative;margin:10px auto 0 auto;width:430px}.msp-plugin .msp-selection-viewport-controls-actions{position:absolute;width:100%;top:32px;background:#d4e1ee}.msp-plugin .msp-selection-viewport-controls>.msp-flex-row .msp-btn,.msp-plugin .msp-selection-viewport-controls>.msp-flex-row .msp-control-row button,.msp-plugin .msp-control-row .msp-selection-viewport-controls>.msp-flex-row button{padding:0 5px}.msp-plugin .msp-selection-viewport-controls select.msp-form-control,.msp-plugin .msp-selection-viewport-controls select.msp-btn,.msp-plugin .msp-selection-viewport-controls .msp-control-row select,.msp-plugin .msp-control-row .msp-selection-viewport-controls select{padding:0 5px;text-align:center;background:#f5f8fb;flex:0 0 80px;text-overflow:ellipsis}.msp-plugin .msp-param-object-list-item{margin-top:1px;position:relative}.msp-plugin .msp-param-object-list-item>button{text-align:left}.msp-plugin .msp-param-object-list-item>button>span{font-weight:bold}.msp-plugin .msp-param-object-list-item>div{position:absolute;right:0;top:0}.msp-plugin .msp-state-actions .msp-transform-wrapper:last-child{margin-bottom:10px}.msp-plugin .msp-button-row{display:flex;flex-direction:row;height:32px;width:inherit}.msp-plugin .msp-button-row>button{margin:0;flex:1 1 auto;margin-right:1px;height:32px;text-align-last:center;background:none;padding:0 10px;overflow:hidden}.msp-plugin .msp-action-menu-options-no-header,.msp-plugin .msp-action-menu-options .msp-control-group-children{max-height:300px;overflow:hidden;overflow-y:auto}.msp-plugin .msp-action-menu-options .msp-control-row,.msp-plugin .msp-action-menu-options button,.msp-plugin .msp-action-menu-options .msp-icon,.msp-plugin .msp-action-menu-options .msp-flex-row{height:24px;line-height:24px}.msp-plugin .msp-action-menu-options button{text-align:left}.msp-plugin .msp-action-menu-options .msp-action-menu-button{margin-top:1px;display:flex}.msp-plugin .msp-action-menu-options .msp-action-menu-button .msp-icon{margin-right:6px}.msp-plugin .msp-representation-entry{position:relative}.msp-plugin .msp-representation-entry>.msp-control-group-header>.msp-btn,.msp-plugin .msp-control-row .msp-representation-entry>.msp-control-group-header>button{font-weight:bold}.msp-plugin .msp-representation-entry>.msp-control-group-header>.msp-icon,.msp-plugin .msp-representation-entry>.msp-control-group-header>.msp-btn-link{line-height:24px;height:24px}.msp-plugin .msp-control-group-presets-wrapper{position:absolute;right:0;top:0}.msp-plugin .msp-control-group-presets-wrapper .msp-control-group-header{background:rgba(0,0,0,0)}.msp-plugin .msp-control-group-presets-wrapper button{background:rgba(0,0,0,0) !important}.msp-plugin .msp-parameter-matrix input{flex:1 1 auto;min-width:0}.msp-plugin .msp-btn-apply-simple{text-align:left}.msp-plugin .msp-btn-apply-simple .msp-icon{margin-right:10px}.msp-plugin .msp-type-class-Root{border-left-color:#ecf2f8}.msp-plugin .msp-type-class-Group{border-left-color:#e98b39}.msp-plugin .msp-type-class-Data{border-left-color:#bfc8c9}.msp-plugin .msp-type-class-Object{border-left-color:#54d98c}.msp-plugin .msp-type-class-Representation3D{border-left-color:#4aa3df}.msp-plugin .msp-type-class-Behavior{border-left-color:#b07cc6}.msp-plugin .msp-accent-color-cyan{color:#bfc8c9}.msp-plugin .msp-accent-bg-cyan{background:#bfc8c9}.msp-plugin .msp-transform-header-brand-cyan{border-bottom:1px solid #bfc8c9}.msp-plugin .msp-transform-header-brand-cyan:active,.msp-plugin .msp-transform-header-brand-cyan:focus{border-bottom:1px solid #bfc8c9}.msp-plugin .msp-accent-color-red{color:#ef8b80}.msp-plugin .msp-accent-bg-red{background:#ef8b80}.msp-plugin .msp-transform-header-brand-red{border-bottom:1px solid #ef8b80}.msp-plugin .msp-transform-header-brand-red:active,.msp-plugin .msp-transform-header-brand-red:focus{border-bottom:1px solid #ef8b80}.msp-plugin .msp-accent-color-gray{color:#46637f}.msp-plugin .msp-accent-bg-gray{background:#46637f}.msp-plugin .msp-transform-header-brand-gray{border-bottom:1px solid #46637f}.msp-plugin .msp-transform-header-brand-gray:active,.msp-plugin .msp-transform-header-brand-gray:focus{border-bottom:1px solid #46637f}.msp-plugin .msp-accent-color-green{color:#54d98c}.msp-plugin .msp-accent-bg-green{background:#54d98c}.msp-plugin .msp-transform-header-brand-green{border-bottom:1px solid #54d98c}.msp-plugin .msp-transform-header-brand-green:active,.msp-plugin .msp-transform-header-brand-green:focus{border-bottom:1px solid #54d98c}.msp-plugin .msp-accent-color-purple{color:#b07cc6}.msp-plugin .msp-accent-bg-purple{background:#b07cc6}.msp-plugin .msp-transform-header-brand-purple{border-bottom:1px solid #b07cc6}.msp-plugin .msp-transform-header-brand-purple:active,.msp-plugin .msp-transform-header-brand-purple:focus{border-bottom:1px solid #b07cc6}.msp-plugin .msp-accent-color-blue{color:#4aa3df}.msp-plugin .msp-accent-bg-blue{background:#4aa3df}.msp-plugin .msp-transform-header-brand-blue{border-bottom:1px solid #4aa3df}.msp-plugin .msp-transform-header-brand-blue:active,.msp-plugin .msp-transform-header-brand-blue:focus{border-bottom:1px solid #4aa3df}.msp-plugin .msp-accent-color-orange{color:#e98b39}.msp-plugin .msp-accent-bg-orange{background:#e98b39}.msp-plugin .msp-transform-header-brand-orange{border-bottom:1px solid #e98b39}.msp-plugin .msp-transform-header-brand-orange:active,.msp-plugin .msp-transform-header-brand-orange:focus{border-bottom:1px solid #e98b39}.msp-plugin .msp-volume-channel-inline-controls>:first-child{position:absolute;left:0;top:0;height:32px;right:32px}.msp-plugin .msp-volume-channel-inline-controls .msp-slider>div:first-child{right:42px}.msp-plugin .msp-volume-channel-inline-controls .msp-slider>div:last-child{width:30px}.msp-plugin .msp-volume-channel-inline-controls>button{position:absolute;right:0;width:32px;top:0;padding:0}.msp-plugin .msp-volume-channel-inline-controls>button .msp-material-icon{margin-right:0}.msp-plugin .msp-list-unstyled{padding-left:0;list-style:none}.msp-plugin .msp-drag-drop-overlay{border:12px dashed #333;background:rgba(0,0,0,.36);display:flex;align-items:center;justify-content:center;position:absolute;left:0;right:0;top:0;bottom:0;font-size:48px;font-weight:bold}.msp-plugin .msp-task-state{line-height:32px}.msp-plugin .msp-task-state>span{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;cursor:default}.msp-plugin .msp-overlay-tasks{position:absolute;display:flex;top:0;left:0;bottom:0;right:0;height:100%;width:100%;z-index:1000;justify-content:center;align-items:center;background:rgba(0,0,0,.25)}.msp-plugin .msp-overlay-tasks .msp-task-state>div{height:32px;margin-top:1px;position:relative;width:100%;background:#ecf2f8}.msp-plugin .msp-overlay-tasks .msp-task-state>div>div{height:32px;line-height:32px;display:inline-block;padding:0 10px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;cursor:default;white-space:nowrap;background:#ecf2f8;position:absolute}.msp-plugin .msp-overlay-tasks .msp-task-state>div>button{display:inline-block;margin-top:-3px}.msp-plugin .msp-background-tasks{position:absolute;left:0;bottom:0;z-index:1000}.msp-plugin .msp-background-tasks .msp-task-state>div{height:32px;margin-top:1px;position:relative;width:100%;background:#ecf2f8}.msp-plugin .msp-background-tasks .msp-task-state>div>div{height:32px;line-height:32px;display:inline-block;padding:0 10px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;cursor:default;white-space:nowrap;background:#ecf2f8;position:absolute}.msp-plugin .msp-background-tasks .msp-task-state>div>button{display:inline-block;margin-top:-3px}.msp-plugin .msp-viewport{position:absolute;left:0;top:0;right:0;bottom:0;background:#ecf2f8}.msp-plugin .msp-viewport .msp-btn-link{background:rgba(0,0,0,.2)}.msp-plugin .msp-viewport-expanded{position:fixed;z-index:1000}.msp-plugin .msp-viewport-host3d{position:absolute;left:0;top:0;right:0;bottom:0;-webkit-user-select:none;user-select:none;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-touch-callout:none;touch-action:manipulation}.msp-plugin .msp-viewport-host3d>canvas{background-color:#ecf2f8;background-image:linear-gradient(45deg, lightgrey 25%, transparent 25%, transparent 75%, lightgrey 75%, lightgrey),linear-gradient(45deg, lightgrey 25%, transparent 25%, transparent 75%, lightgrey 75%, lightgrey);background-size:60px 60px;background-position:0 0,30px 30px}.msp-plugin .msp-viewport-controls{position:absolute;right:10px;top:10px;width:32px}.msp-plugin .msp-viewport-controls-buttons{text-align:right;position:relative}.msp-plugin .msp-viewport-controls-buttons>div{position:relative;margin-bottom:4px}.msp-plugin .msp-viewport-controls-buttons button{padding:0;text-align:center;width:32px;position:relative}.msp-plugin .msp-viewport-controls-buttons .msp-btn-link-toggle-off{color:#878787}.msp-plugin .msp-viewport-controls-buttons .msp-btn-link:hover{color:#325880}.msp-plugin .msp-semi-transparent-background{background:#ecf2f8;opacity:.5;position:absolute;top:0;left:0;width:100%;height:100%}.msp-plugin .msp-viewport-controls-panel{width:290px;top:0;right:36px;position:absolute;background:#d4e1ee}.msp-plugin .msp-viewport-controls-panel .msp-control-group-wrapper:first-child{padding-top:0}.msp-plugin .msp-viewport-controls-panel .msp-viewport-controls-panel-controls{overflow-y:auto;max-height:400px}.msp-plugin .msp-highlight-toast-wrapper{position:absolute;right:10px;bottom:10px;max-width:95%;z-index:10000}.msp-plugin .msp-highlight-info{color:#325880;padding:3px 10px;background:#ecf2f8;opacity:90%;text-align:right;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;cursor:default}.msp-plugin .msp-highlight-info-hr{margin-inline:0px;margin-block:3px;border:none;height:1px;background-color:#325880}.msp-plugin .msp-highlight-info-additional{font-size:85%;display:inline-block;color:#5a8bbe}.msp-plugin .msp-log-wrap{position:absolute;right:0;top:0;left:0;bottom:0;overflow:hidden}.msp-plugin .msp-log{position:absolute;right:-20px;top:0;left:0;bottom:0;overflow-y:scroll;overflow-x:hidden;font-size:90%;background:#d4e1ee}.msp-plugin .msp-log{font-size:90%;color:#404040}.msp-plugin .msp-log ul{padding:0;margin:0}.msp-plugin .msp-log li{clear:both;margin:0;background:#ecf2f8;position:relative}.msp-plugin .msp-log li:not(:last-child){border-bottom:1px solid #b5cbe2}.msp-plugin .msp-log .msp-log-entry{margin-left:110px;background:#e7eef6;padding:3px 25px 3px 10px}.msp-plugin .msp-log .msp-log-timestamp{padding:3px 10px 3px 10px;float:left;text-align:right;width:110px;color:#666;font-size:100%}.msp-plugin .msp-log .msp-log-timestamp small{font-size:100%}.msp-plugin .msp-log .label{margin-top:-3px;font-size:7pt}.msp-plugin .msp-log-entry-badge{position:absolute;left:0;top:0;bottom:0;width:6px}.msp-plugin .msp-log-entry-message{background:#0cca5d}.msp-plugin .msp-log-entry-info{background:#5e3673}.msp-plugin .msp-log-entry-error{background:#fd354b}.msp-plugin .msp-log-entry-warning{background:#fcc937}.msp-plugin .msp-sequence{position:absolute;right:0;top:0;left:0;bottom:0;background:#ecf2f8}.msp-plugin .msp-sequence-select{position:relative;height:24px;width:100%;margin-bottom:1px;background:#d4e1ee;text-align:left}.msp-plugin .msp-sequence-select>span{display:inline-block;line-height:24px;padding:0 10px;font-size:85%;font-weight:bold;cursor:default}.msp-plugin .msp-sequence-select>select{display:inline-block;max-width:120px;width:auto;text-overflow:ellipsis;font-size:85%;height:24px;line-height:24px;background-size:6px 8px;background-color:#d4e1ee}.msp-plugin .msp-sequence-wrapper{word-break:break-word;padding:10px 10px 3px 10px;user-select:none}.msp-plugin .msp-sequence-wrapper-non-empty{font-size:85%;line-height:180%;font-family:"Courier New",monospace;background:#f5f8fb;width:100%;overflow-y:auto;overflow-x:hidden;position:absolute;top:25px;left:0;bottom:0;right:0}.msp-plugin .msp-sequence-chain-label{margin-left:10px;margin-top:10px;user-select:none;color:#325880;font-size:90%;line-height:90%;padding-left:.2em}.msp-plugin .msp-sequence-wrapper span{cursor:pointer}.msp-plugin .msp-sequence-wrapper .msp-sequence-residue-long{margin:0em .2em 0em .2em}.msp-plugin .msp-sequence-wrapper .msp-sequence-residue-long-begin{margin:0em .2em 0em 0em}.msp-plugin .msp-sequence-wrapper .msp-sequence-label{color:#325880;font-size:90%;line-height:90%;padding-bottom:1em;padding-left:.2em}.msp-plugin .msp-sequence-wrapper .msp-sequence-number{color:#325880;word-break:keep-all;cursor:default;position:relative;top:-1.1em;left:3.1em;padding:0px;margin-left:-3em;font-size:80%}.msp-plugin .msp-sequence-wrapper .msp-sequence-number-long{left:3.3em}.msp-plugin .msp-sequence-wrapper .msp-sequence-number-long-negative{left:2.7em}.msp-plugin .msp-sequence-wrapper .msp-sequence-number-negative{left:2.5em}.msp-plugin .msp-sequence-wrapper .msp-sequence-present{color:#333}.msp-plugin .msp-sequence-wrapper .msp-sequence-missing{color:#878787}.msp-plugin .msp-transformer .msp-entity-badge{position:absolute;top:0;right:0;height:32px;line-height:32px;width:32px}.msp-plugin .msp-layout-right,.msp-plugin .msp-layout-left{background:#d4e1ee}.msp-plugin .msp-transformer-wrapper{position:relative}.msp-plugin .msp-transformer-wrapper .msp-entity-badge{left:0;top:0}.msp-plugin .msp-transformer-wrapper:first-child .msp-panel-description-content{top:33px}.msp-plugin .msp-transformer-wrapper:not(:first-child) .msp-panel-description-content{bottom:33px}.msp-plugin .msp-transform-wrapper{margin-bottom:10px}.msp-plugin .msp-transform-wrapper-collapsed{margin-bottom:1px}.msp-plugin .msp-transform-update-wrapper{margin-bottom:1px}.msp-plugin .msp-transform-update-wrapper-collapsed{margin-bottom:1px}.msp-plugin .msp-transform-update-wrapper>.msp-transform-header>button,.msp-plugin .msp-transform-update-wrapper-collapsed>.msp-transform-header>button{text-align:left;padding-left:32px;line-height:24px;background:#e3ebf4}.msp-plugin .msp-transform-wrapper>.msp-transform-header>button{text-align:left;background:#ecf2f8;font-weight:bold;padding-right:5px}.msp-plugin .msp-transform-header{position:relative}.msp-plugin .msp-transform-header>button>small{font-weight:normal;float:right}.msp-plugin .msp-transform-header>button>span:first-child{margin-right:10px}.msp-plugin .msp-transform-header>button:hover{color:#595959}.msp-plugin .msp-transform-header-brand{margin-bottom:-1px}.msp-plugin .msp-transform-header-brand svg{fill:#333;stroke:#333}.msp-plugin .msp-transform-default-params{background:#ecf2f8;position:absolute;left:0;top:0;width:32px;padding:0}.msp-plugin .msp-transform-default-params:hover{background:#fff}.msp-plugin .msp-transform-apply-wrap{position:relative;margin-top:1px;width:100%;height:32px}.msp-plugin .msp-transform-refresh{width:87px;margin-left:33px;background:#ecf2f8;text-align:right}.msp-plugin .msp-transform-apply{display:block;position:absolute;left:120px;right:0;top:0}.msp-plugin .msp-transform-apply-wider{margin-left:33px}.msp-plugin .msp-data-beh{margin:10px 0 !important}.msp-plugin .msp-toast-container{position:relative;z-index:1001}.msp-plugin .msp-toast-container .msp-toast-entry{color:#333;background:#d4e1ee;position:relative;float:right;min-height:32px;margin-top:10px;border:1px solid #b5cbe2;display:table}.msp-plugin .msp-toast-container .msp-toast-entry .msp-toast-title{height:100%;line-height:32px;padding:0 10px;background:#ecf2f8;font-weight:bold;display:table-cell;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;font-weight:light;cursor:pointer}.msp-plugin .msp-toast-container .msp-toast-entry .msp-toast-message{padding:3px 42px 3px 10px;display:table-cell}.msp-plugin .msp-toast-container .msp-toast-entry .msp-toast-message a{text-decoration:none;color:#325880;font-weight:bold}.msp-plugin .msp-toast-container .msp-toast-entry .msp-toast-message a:hover{text-decoration:underline;color:#5a8bbe}.msp-plugin .msp-toast-container .msp-toast-entry .msp-toast-message a:active,.msp-plugin .msp-toast-container .msp-toast-entry .msp-toast-message a:focus{color:#325880;outline-offset:0;outline:none}.msp-plugin .msp-toast-container .msp-toast-entry .msp-toast-hide{position:absolute;width:42px;right:0;top:0;bottom:0}.msp-plugin .msp-toast-container .msp-toast-entry .msp-toast-hide .msp-btn-icon{background:rgba(0,0,0,0);position:absolute;top:1px;right:0;left:0;bottom:0;width:100%;text-align:right;padding-right:5px}.msp-plugin .msp-help-row{position:relative;height:32px;background:#ecf2f8;margin-top:1px;display:table;width:100%}.msp-plugin .msp-help-row>span{width:120px;text-align:right;padding:3px 10px;color:#595959;display:table-cell;font-weight:bold;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;cursor:default}.msp-plugin .msp-help-row>div{background:#f5f8fb;position:relative;padding:3px 10px;display:table-cell}.msp-plugin .msp-canvas{width:100%;height:100%;background-color:#f3f2ee}.msp-plugin .msp-canvas text{-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.msp-plugin .msp-canvas circle{stroke:#000;stroke-width:10;stroke-opacity:.3}.msp-plugin .msp-canvas circle:hover{fill:#ae5d04;stroke:#000;stroke-width:10px}.msp-plugin .msp-canvas .info{fill:#fff;stroke:#000;stroke-width:3}.msp-plugin .msp-canvas .show{visibility:visible}.msp-plugin .msp-canvas .hide{visibility:hidden}.msp-plugin .msp-canvas .delete-button rect{fill:#ed4337;stroke:#000}.msp-plugin .msp-canvas .delete-button text{stroke:#fff;fill:#fff}.msp-plugin .msp-canvas .delete-button:hover{stroke:#000;stroke-width:3;fill:#ff6961}.msp-plugin .msp-canvas .infoCircle:hover{fill:#4c66b2}.msp-plugin .msp-canvas:focus{outline:none}.msp-plugin .msp-logo{display:block;position:absolute;bottom:10px;right:10px;height:32px;width:100px;background-repeat:no-repeat;background-position:bottom right;background-size:auto;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFcAAAAgCAYAAABn7+QVAAAABGdBTUEAALGOfPtRkwAAACBjSFJNAACHDwAAjA8AAP1SAACBQAAAfXkAAOmLAAA85QAAGcxzPIV3AAAKL2lDQ1BJQ0MgUHJvZmlsZQAASMedlndUVNcWh8+9d3qhzTACUobeu8AA0nuTXkVhmBlgKAMOMzSxIaICEUVEmiJIUMSA0VAkVkSxEBRUsAckCCgxGEVULG9G1ouurLz38vL746xv7bP3ufvsvc9aFwCSpy+XlwZLAZDKE/CDPJzpEZFRdOwAgAEeYIApAExWRrpfsHsIEMnLzYWeIXICXwQB8HpYvAJw09AzgE4H/5+kWel8geiYABGbszkZLBEXiDglS5Auts+KmBqXLGYYJWa+KEERy4k5YZENPvsssqOY2ak8tojFOaezU9li7hXxtkwhR8SIr4gLM7mcLBHfErFGijCVK+I34thUDjMDABRJbBdwWIkiNhExiR8S5CLi5QDgSAlfcdxXLOBkC8SXcklLz+FzExIFdB2WLt3U2ppB9+RkpXAEAsMAJiuZyWfTXdJS05m8HAAW7/xZMuLa0kVFtjS1trQ0NDMy/apQ/3Xzb0rc20V6Gfi5ZxCt/4vtr/zSGgBgzIlqs/OLLa4KgM4tAMjd+2LTOACApKhvHde/ug9NPC+JAkG6jbFxVlaWEZfDMhIX9A/9T4e/oa++ZyQ+7o/y0F058UxhioAurhsrLSVNyKdnpDNZHLrhn4f4Hwf+dR4GQZx4Dp/DE0WEiaaMy0sQtZvH5gq4aTw6l/efmvgPw/6kxbkWidL4EVBjjIDUdSpAfu0HKAoRINH7xV3/o2+++DAgfnnhKpOLc//vN/1nwaXiJYOb8DnOJSiEzhLyMxf3xM8SoAEBSAIqkAfKQB3oAENgBqyALXAEbsAb+IMQEAlWAxZIBKmAD7JAHtgECkEx2An2gGpQBxpBM2gFx0EnOAXOg0vgGrgBboP7YBRMgGdgFrwGCxAEYSEyRIHkIRVIE9KHzCAGZA+5Qb5QEBQJxUIJEA8SQnnQZqgYKoOqoXqoGfoeOgmdh65Ag9BdaAyahn6H3sEITIKpsBKsBRvDDNgJ9oFD4FVwArwGzoUL4B1wJdwAH4U74PPwNfg2PAo/g+cQgBARGqKKGCIMxAXxR6KQeISPrEeKkAqkAWlFupE+5CYyiswgb1EYFAVFRxmibFGeqFAUC7UGtR5VgqpGHUZ1oHpRN1FjqFnURzQZrYjWR9ugvdAR6AR0FroQXYFuQrejL6JvoyfQrzEYDA2jjbHCeGIiMUmYtZgSzD5MG+YcZhAzjpnDYrHyWH2sHdYfy8QKsIXYKuxR7FnsEHYC+wZHxKngzHDuuCgcD5ePq8AdwZ3BDeEmcQt4Kbwm3gbvj2fjc/Cl+EZ8N/46fgK/QJAmaBPsCCGEJMImQiWhlXCR8IDwkkgkqhGtiYFELnEjsZJ4jHiZOEZ8S5Ih6ZFcSNEkIWkH6RDpHOku6SWZTNYiO5KjyALyDnIz+QL5EfmNBEXCSMJLgi2xQaJGokNiSOK5JF5SU9JJcrVkrmSF5AnJ65IzUngpLSkXKabUeqkaqZNSI1Jz0hRpU2l/6VTpEukj0lekp2SwMloybjJsmQKZgzIXZMYpCEWd4kJhUTZTGikXKRNUDFWb6kVNohZTv6MOUGdlZWSXyYbJZsvWyJ6WHaUhNC2aFy2FVko7ThumvVuitMRpCWfJ9iWtS4aWzMstlXOU48gVybXJ3ZZ7J0+Xd5NPlt8l3yn/UAGloKcQqJClsF/hosLMUupS26WspUVLjy+9pwgr6ikGKa5VPKjYrzinpKzkoZSuVKV0QWlGmabsqJykXK58RnlahaJir8JVKVc5q/KULkt3oqfQK+m99FlVRVVPVaFqveqA6oKatlqoWr5am9pDdYI6Qz1evVy9R31WQ0XDTyNPo0XjniZek6GZqLlXs09zXktbK1xrq1an1pS2nLaXdq52i/YDHbKOg84anQadW7oYXYZusu4+3Rt6sJ6FXqJejd51fVjfUp+rv09/0ABtYG3AM2gwGDEkGToZZhq2GI4Z0Yx8jfKNOo2eG2sYRxnvMu4z/mhiYZJi0mhy31TG1Ns037Tb9HczPTOWWY3ZLXOyubv5BvMu8xfL9Jdxlu1fdseCYuFnsdWix+KDpZUl37LVctpKwyrWqtZqhEFlBDBKGJet0dbO1husT1m/tbG0Edgct/nN1tA22faI7dRy7eWc5Y3Lx+3U7Jh29Xaj9nT7WPsD9qMOqg5MhwaHx47qjmzHJsdJJ12nJKejTs+dTZz5zu3O8y42Lutczrkirh6uRa4DbjJuoW7Vbo/c1dwT3FvcZz0sPNZ6nPNEe/p47vIc8VLyYnk1e816W3mv8+71IfkE+1T7PPbV8+X7dvvBft5+u/0erNBcwVvR6Q/8vfx3+z8M0A5YE/BjICYwILAm8EmQaVBeUF8wJTgm+Ejw6xDnkNKQ+6E6ocLQnjDJsOiw5rD5cNfwsvDRCOOIdRHXIhUiuZFdUdiosKimqLmVbiv3rJyItogujB5epb0qe9WV1QqrU1afjpGMYcaciEXHhsceiX3P9Gc2MOfivOJq42ZZLqy9rGdsR3Y5e5pjxynjTMbbxZfFTyXYJexOmE50SKxInOG6cKu5L5I8k+qS5pP9kw8lf0oJT2lLxaXGpp7kyfCSeb1pymnZaYPp+umF6aNrbNbsWTPL9+E3ZUAZqzK6BFTRz1S/UEe4RTiWaZ9Zk/kmKyzrRLZ0Ni+7P0cvZ3vOZK577rdrUWtZa3vyVPM25Y2tc1pXvx5aH7e+Z4P6hoINExs9Nh7eRNiUvOmnfJP8svxXm8M3dxcoFWwsGN/isaWlUKKQXziy1XZr3TbUNu62ge3m26u2fyxiF10tNimuKH5fwiq5+o3pN5XffNoRv2Og1LJ0/07MTt7O4V0Ouw6XSZfllo3v9tvdUU4vLyp/tSdmz5WKZRV1ewl7hXtHK30ru6o0qnZWva9OrL5d41zTVqtYu712fh9739B+x/2tdUp1xXXvDnAP3Kn3qO9o0GqoOIg5mHnwSWNYY9+3jG+bmxSaips+HOIdGj0cdLi32aq5+YjikdIWuEXYMn00+uiN71y/62o1bK1vo7UVHwPHhMeefh/7/fBxn+M9JxgnWn/Q/KG2ndJe1AF15HTMdiZ2jnZFdg2e9D7Z023b3f6j0Y+HTqmeqjkte7r0DOFMwZlPZ3PPzp1LPzdzPuH8eE9Mz/0LERdu9Qb2Dlz0uXj5kvulC31OfWcv210+dcXmysmrjKud1yyvdfRb9Lf/ZPFT+4DlQMd1q+tdN6xvdA8uHzwz5DB0/qbrzUu3vG5du73i9uBw6PCdkeiR0TvsO1N3U+6+uJd5b+H+xgfoB0UPpR5WPFJ81PCz7s9to5ajp8dcx/ofBz++P84af/ZLxi/vJwqekJ9UTKpMNk+ZTZ2adp++8XTl04ln6c8WZgp/lf619rnO8x9+c/ytfzZiduIF/8Wn30teyr889GrZq565gLlHr1NfL8wXvZF/c/gt423fu/B3kwtZ77HvKz/ofuj+6PPxwafUT5/+BQOY8/xvJtwPAAAACXBIWXMAAC4iAAAuIgGq4t2SAAANMElEQVRoQ92aB1xURx7H/69sY5eOFBELCipESsSC0RCMJRZMrICHGiMmGjWaqDk7YEsuGok5TS6xi56KGtsFG6jBiAYLKhqVc8GGBZG+fd97N+/twNJWFksS7/v5DG/nN/OG/fze/838Z4CA/wMCE9d9W8oQ3mUMBSojBTqWAuBQAweHIC56lanXHw8xJixM6qhQNcX1KuQykluyKzMPVxvF5XUh3hIpgFSiQz8AJBItSKU6sCsX55P9byLxxRKwYl3W5O6dg5o62IMRmcpyBBz87wNYcyH3R4iL+gh3+8MhHaTqYJKUKO2dPYTigIqza1MlLZLnzh3arQ/uZzVn14YOIGRyJWXrqgR5U6VI1kRJS92VBEEry+wrAnC3F04XL3cY4OMF7/p6weC2zSDQzQG3/IlM7dspdPmU0VxtLqYf5haM6HYOBYLVUwcXByQy92JxXioexUzFhT5cySn3TrjrC4WP3EsPHuPfZGJVZg4HCdt/wF0aT8LWUHT/jTpl4fZU3KNBSHytQ0D33uDR0qfjoqg3hmOpQU65d4u2cW4X6NCyJ1ZeIeKSFRC3p1q4kzYdmzr6Zk98p6rsj+rhi0KoFe5gIm53M/ypDhbNJQgC3kbTFUGSi+LiwmgsWyQ5zk9McESCZ8gEVHvF1kneWJI5CJT2SHWDbUQ0vNbEvqr4OClwCyZ+RzSQ+psomqOwUgOL5vL4BIdCi/aBvtJb3AdYsoirs0usnWfH1vbNOmPlFWHmWlve2DFB3t0nhvh0qm2wRRZuG+ksFyUlDe4qcbYRJ0H8v6NxSxVPNZcnPPJDIAlY8PWnXWVYqsPhZb3lDAfzW3T50xbmZ+MfyFhbRcr7yNj1EZ1gdb+O8DFvMKk7it4+ywYjY11k0s1po8KpmA4tITUmnHaWS5HBKJKr0aC5zXw6QJvgNzyhXDIZS3UgCN3UJq3fdLd188PKs3H8+Bjpvn2x/jv2TwnbsOezt3/YPavTss3TXXHzi4U3Vic/+H5gq+7rkLEkmgb5yWwVb3CnNiFAcD+aOtaGaMobmzrqLaoyIwlC11RkNB/JvPGCiGjQXJ43h8QCSRGzEqeG1Xmah77u48QCPdM7NBYrjSPveJg069i7H2UcjUpndWSZrZ3bFRfHlic8nL1TnezcM2Vyh0dLtsbnzdu8JHHW5qVt8G3Pj9qOT4RYluOE/UYllQZPCvFxMik1cbGRSKsbWwlKUPhxhDGxZJ25Ls28oX2X3k60HmZiqQqDTj+rqX8fB7lTC6xYT2569zA9Jb5m7xz8r3aB03uE9fpOFP7WYujZ/TPo22MSDOs1FT4ePBfG9ZvQsod/12kUJf190prli4YnJ6Mt2HOSMKICGLL/5su3Tn6wPxMYZE4lvMH/RAZP6NjaJGBsJSJIi3mrTg6d9bAYem05YSxS6WJgQdR2LFtnLk9oxFigRaKpq2aEuWMJDizu6UlQosltuo3FivU8zgyOkEhkRzz941u2CogDxyYhgMzDrWb4rMXN0Q36vN4TZr43XuTt0WyeoiR/MwqV509JqgzOSx+77zcw8nGM4UMx2r+5qYJpqpByHVztcc3E+QdFXJWx8dE78MgCDaZYldi5eIB/jwj577/+NB9VJ/GajmHj2nYZKpPZNW5aVJ9v2ULDwlaXdsvFYlvzpo1l9PD4yXUoKStAY3MgFjuAexNvcFA4C+32NgqY3HcofHFg18ioH1adRSHyjdBgCQJaQ/y2SFyzAIMKuSkp+1YAepIOGwZ1Bgo9UGu4gCK2z9ZfoEit3yMI1X8XxZwh+B2al2/7jOnfbsKqGaNeB7RYgmsAmvJi2LHkbwaC0baXyElKKpVe7f/JVlpsY4978Abp0PxsvqcSVVZfMGoud3Z44+HZ8vOeG2m3GWOkntNwK8CTgky4eiWJK9fqflUZJRe0jFirZmgvDSPu29or2PmdzhEgpkVC3/ziIpiRvL1ETUua74+NLed3aEnRg4IC3F2Edp6DNx/AmqxcXLMeFK0w3M8L1yxToTfCtCNZUKTRY8VMZv4TyC/VxFiM3OM7N0BudiaMW/g9VgBkto7QIWyYKDstaSEYGdo3dEQNY/n5/EbKJHBq2QPcOozBWk24K00UGgM3QuI2GisA5cVXIOdyYqHeKBo0cEDSaSwLLNu8TJ5968o6LQORI3oMETRPRycI9GrhkHH7Di/UjQpEvzYeQnlZKMQ0rB1Y/25+xO4M2Fl61/KcazTo4W5ONuRcOIUVEx3CI0Fqax8lljsO9w2tuTMuyksHVcHvwKHX2xIcU9aFsgmQEbR5MX50aztQYJzWu19NY3lmjp6pekIrxmbfvv6woLQQqwCBzZujn0SYqfbX5KkLGprVL51IXgMcW5VdgFgqh4DwkaR/WAxBi837Co5j4Hbmj3wucglL9cJy4ENKzRkVf5+q9Bqnpol9WKpDYuR0DfoKabcL8rGCotfBEQ0GLy41ewk81VyWIfYV3lNmXj2NNizVaNvtPfBBc2B1Hl07BKqi2xkkyf0HSxYg0D7eFn9G5rJ69EAYfXj4zgos1QtaYoq16G2qRCYWA0dw5oFqcb9cAyfvPG50ufq4FI/wdPg5t777+VKoNh1ZPzVbIAiWIwl69qm9G9Lad+kJFF5QKFosXCthjXrI/W0jsCw5G62+Tz0D5p8mU3sxrp7FWwClZKYcHWMawvKqvuf6PZh86HwBusW6VY0g/FzlEru0mHAsPB05mnN3X7sHKzNz+K91Df2o+VQIorDBVGz2lpPHvhobdvRy+v7ewT2HYrUmdy/tBU3po5Ren55MP7e+a6MP2F8aHLHXqr9ExO8Y46oQr08bFS6cflkD/1gT+wYLH1aeydGCSD8Q5ox5Ymo1YdUmgqTI2ZkpWziDToMVM0adCpRntrAERc/B0qvFImSsrWAsWdvYx/j1rkRtYNBGo+bbk9gnGKZ19Q0GgzgVlm4yJeQYq8ydsfb4eW158a6LaTuxYkaZuQN0mrLtb39y/KkL2V+Shdved7URrz9Wj7Fn7xfBuAOZuGbiTqkKRu09Y8HgtkFg5A3+qcpgq8zloUT0vItpyUZthXlq0amKQfnbTgNw5AIsvTos3o2SYGL10vAA0r8eY/mdV4nWgBUz26/eqWMwz7JeQeDrbIcM1idgyXpzp6xOyzHoVBuyUrdiBeD6ySQw6DVr+n9+XImlBmE5ggHOiGs8wleg0G7e8urEQwBNEuavywjpYY2BGse8oQ9QHjgM7bK0/ApfiWDslhOGEq1+NZZqwnH526/cOVbdYP7K13OelKcBY/O5ICKsNpeHFJMJ1zL2aVQlBaAqfgDKswdUKIFYhJutAqVqDznDI1xDdbRVFkkc6YzDQ9piqX448HNSmE+jitVq/mkU4OqzERd9sEJnGNJ/W7pgcGalsTp9FDLRdF5QGwJ0wNpEoAhOi0GGao0M8Fe+DkzpIEgYpMY9G2fuxMRj+axBvyrryEbITtsIjNGwcuDnvzzEzVahJ+gsVnURfTK/Vg6uYUDSNH8gVG/0Ltqy6E2FVNajjYf5WFNZ8AhQcvb88zxvsIEZzBvcV4hYYyQsiP4Jt9YPbyAycgcytM2qn4G/moz9qMpYnkaZK0CIv8y9cKQk72JqkYqAZVi1GmlAxXVGX3DdWHYGKwDurSLBxrb1yLRDo/ftTxkflpQyxW5lyhTJ97vm+azYNneWiCJ+HtxtICnCeTZ/wH0m9yaQHHNAEJ6X+ZGHeINLtLpIiIusP2JrwxspJyLyyzVL+WttY3kabe74xCNFBMd+xXDcl2MTfinBcqPggP5Kfe+bqimTomTwWkg8tPaNjLC3bX5CxtKljjqxViGzyfFrFfTFB/3GK3w9zTvd49eyobCsNGPvlCl1ziKeGWQwxI2sYWx2QamwsFWWcQfO4hbM9EgNLIiaK1zrofGRy8PQ34o1mmf+Hyz5/nub9Kprh4qVS4WzBR6SFEOLVv3hze7zYOiAFTDqveUQ03829O0yDJrYm8+Lr9+/AztOn1SxHPNy/xoqklxEi9qAo7kPq0rGvcIBaOIah3s0yDOZO/rro6rIxDP1Pi1rIBKABb3tiIqCw0fzL38GmvKbuMUyOoMODmf9Ct8d3l3CsfpByR9Pu4KbXg5zhjxBUZlSp8yPPoF7NIhwWG5jb5/h16kbltBrShLw+K4SCvOVCYt2no7HslWg7e9iW5fWcxVNvIGmGVMRGYEoO4zmykLhsBx3heTk4VSgW+lENSObQ8n9POSOHUEi90L97dHOlQKtXg9FFSVwu+A+XLmbx5Tp2F1qhvr7d7Ezb+MhBPjD8tdbNA+SSGSgYwmUGpFwo7AczuYX/an/iEdM6B3qKqbZAbguIKJQEZEosYSLi3efzsKyVZxd3/V1Cc0FisQMGsMAUqkBXfXoqgXChjlgF/LAfCiLOXfuQ5G2tDRcY5CGaRhxO41R4qJlRJSaEZVrjOLbapY6Z9BASkJswn18Sw2CVqx/t5ghncoZElQsBTqm8u+X3A0UaRm48gcD8D/XZskfp8IFSwAAAABJRU5ErkJggg==)}.msp-plugin .msp-plugin-content{color:#333}\n',""]),t.exports=e},function(t,e,n){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=function(t,e){var n=t[1]||"",r=t[3];if(!r)return n;if(e&&"function"==typeof btoa){var i=(a=r,u=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),s="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(u),"/*# ".concat(s," */")),o=r.sources.map((function(t){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(t," */")}));return[n].concat(o).concat([i]).join("\n")}var a,u,s;return[n].join("\n")}(e,t);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,r){"string"==typeof t&&(t=[[null,t,""]]);var i={};if(r)for(var o=0;o<this.length;o++){var a=this[o][0];null!=a&&(i[a]=!0)}for(var u=0;u<t.length;u++){var s=[].concat(t[u]);r&&i[s[0]]||(n&&(s[2]?s[2]="".concat(n," and ").concat(s[2]):s[2]=n),e.push(s))}},e}},function(t,e,n){var r,i,o={},a=(r=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===i&&(i=r.apply(this,arguments)),i}),u=function(t,e){return e?e.querySelector(t):document.querySelector(t)},s=function(t){var e={};return function(t,n){if("function"==typeof t)return t();if(void 0===e[t]){var r=u.call(this,t,n);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(t){r=null}e[t]=r}return e[t]}}(),c=null,l=0,d=[],f=n(23);function p(t,e){for(var n=0;n<t.length;n++){var r=t[n],i=o[r.id];if(i){i.refs++;for(var a=0;a<i.parts.length;a++)i.parts[a](r.parts[a]);for(;a<r.parts.length;a++)i.parts.push(_(r.parts[a],e))}else{var u=[];for(a=0;a<r.parts.length;a++)u.push(_(r.parts[a],e));o[r.id]={id:r.id,refs:1,parts:u}}}}function m(t,e){for(var n=[],r={},i=0;i<t.length;i++){var o=t[i],a=e.base?o[0]+e.base:o[0],u={css:o[1],media:o[2],sourceMap:o[3]};r[a]?r[a].parts.push(u):n.push(r[a]={id:a,parts:[u]})}return n}function h(t,e){var n=s(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=d[d.length-1];if("top"===t.insertAt)r?r.nextSibling?n.insertBefore(e,r.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),d.push(e);else if("bottom"===t.insertAt)n.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var i=s(t.insertAt.before,n);n.insertBefore(e,i)}}function g(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=d.indexOf(t);e>=0&&d.splice(e,1)}function v(t){var e=document.createElement("style");if(void 0===t.attrs.type&&(t.attrs.type="text/css"),void 0===t.attrs.nonce){var r=function(){0;return n.nc}();r&&(t.attrs.nonce=r)}return y(e,t.attrs),h(t,e),e}function y(t,e){Object.keys(e).forEach((function(n){t.setAttribute(n,e[n])}))}function _(t,e){var n,r,i,o;if(e.transform&&t.css){if(!(o="function"==typeof e.transform?e.transform(t.css):e.transform.default(t.css)))return function(){};t.css=o}if(e.singleton){var a=l++;n=c||(c=v(e)),r=A.bind(null,n,a,!1),i=A.bind(null,n,a,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(t){var e=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",y(e,t.attrs),h(t,e),e}(e),r=S.bind(null,n,e),i=function(){g(n),n.href&&URL.revokeObjectURL(n.href)}):(n=v(e),r=w.bind(null,n),i=function(){g(n)});return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else i()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=a()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var n=m(t,e);return p(n,e),function(t){for(var r=[],i=0;i<n.length;i++){var a=n[i];(u=o[a.id]).refs--,r.push(u)}t&&p(m(t,e),e);for(i=0;i<r.length;i++){var u;if(0===(u=r[i]).refs){for(var s=0;s<u.parts.length;s++)u.parts[s]();delete o[u.id]}}}};var b,x=(b=[],function(t,e){return b[t]=e,b.filter(Boolean).join("\n")});function A(t,e,n,r){var i=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=x(e,i);else{var o=document.createTextNode(i),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(o,a[e]):t.appendChild(o)}}function w(t,e){var n=e.css,r=e.media;if(r&&t.setAttribute("media",r),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}function S(t,e,n){var r=n.css,i=n.sourceMap,o=void 0===e.convertToAbsoluteUrls&&i;(e.convertToAbsoluteUrls||o)&&(r=f(r)),i&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var a=new Blob([r],{type:"text/css"}),u=t.href;t.href=URL.createObjectURL(a),u&&URL.revokeObjectURL(u)}},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=e.protocol+"//"+e.host,r=n+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(t,e){var i,o=e.trim().replace(/^"(.*)"$/,(function(t,e){return e})).replace(/^'(.*)'$/,(function(t,e){return e}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(o)?t:(i=0===o.indexOf("//")?o:0===o.indexOf("/")?n+o:r+o.replace(/^\.\//,""),"url("+JSON.stringify(i)+")")}))}},function(t,e,n){"use strict";n.r(e);var r={};n.r(r),n.d(r,"getArrayBounds",(function(){return At})),n.d(r,"createArray",(function(){return wt})),n.d(r,"fillArrayValues",(function(){return St})),n.d(r,"createAndFillArray",(function(){return Ct})),n.d(r,"isTypedArray",(function(){return Bt})),n.d(r,"typedArrayWindow",(function(){return It}));var i={};n.r(i),n.d(i,"defaultBondTest",(function(){return tc})),n.d(i,"atomicSequence",(function(){return ec})),n.d(i,"water",(function(){return nc})),n.d(i,"atomicHet",(function(){return rc})),n.d(i,"spheres",(function(){return ic})),n.d(i,"bundleElementImpl",(function(){return oc})),n.d(i,"bundleGenerator",(function(){return ac}));var o={};n.r(o),n.d(o,"none",(function(){return fc})),n.d(o,"all",(function(){return pc})),n.d(o,"residues",(function(){return mc})),n.d(o,"chains",(function(){return hc})),n.d(o,"atoms",(function(){return yc})),n.d(o,"rings",(function(){return bc})),n.d(o,"querySelection",(function(){return xc})),n.d(o,"bondedAtomicPairs",(function(){return Ac}));var a={};n.r(a),n.d(a,"wholeResidues",(function(){return df})),n.d(a,"includeSurroundings",(function(){return gf})),n.d(a,"querySelection",(function(){return vf})),n.d(a,"intersectBy",(function(){return yf})),n.d(a,"exceptBy",(function(){return _f})),n.d(a,"union",(function(){return bf})),n.d(a,"expandProperty",(function(){return xf})),n.d(a,"includeConnected",(function(){return Af})),n.d(a,"surroundingLigands",(function(){return Sf}));var u={};n.r(u),n.d(u,"pick",(function(){return kf})),n.d(u,"first",(function(){return Df})),n.d(u,"getCurrentStructureProperties",(function(){return Of})),n.d(u,"withSameAtomProperties",(function(){return Nf})),n.d(u,"areIntersectedBy",(function(){return Tf})),n.d(u,"within",(function(){return Uf})),n.d(u,"isConnectedTo",(function(){return Rf}));var s={};n.r(s),n.d(s,"merge",(function(){return Lf})),n.d(s,"intersect",(function(){return Gf}));var c={};n.r(c),n.d(c,"atomCount",(function(){return Ff})),n.d(c,"countQuery",(function(){return qf})),n.d(c,"propertySet",(function(){return jf}));var l={};n.r(l),n.d(l,"Location",(function(){return di})),n.d(l,"Loci",(function(){return _p})),n.d(l,"Bundle",(function(){return Zs})),n.d(l,"Stats",(function(){return hp})),n.d(l,"property",(function(){return bp})),n.d(l,"atomicProperty",(function(){return Ap})),n.d(l,"coarseProperty",(function(){return wp})),n.d(l,"residueIndex",(function(){return Sp})),n.d(l,"chainIndex",(function(){return Cp})),n.d(l,"entityIndex",(function(){return Bp}));var d=n(9),f=n.n(d),p=n(4),m=n.n(p),h=n(10),g=n.n(h),v=n(0),y=1e-6;function _(t,e,n){return Math.abs(t-e)<=n}function b(t,e,n){return Math.max(e,Math.min(n,t))}function x(t,e,n){return t+(e-t)*n}function A(t,e,n,r,i,o){var a=(n-t)*o,u=(r-e)*o,s=i*i;return(2*e-2*n+a+u)*(i*s)+(-3*e+3*n-2*a-u)*s+a*i+e}function w(t,e,n,r){var i=1-r;return i*i*t+2*i*r*e+r*r*n}var S=isFinite;function C(){return C.zero()}!function(t){function e(){var t=[.1,0,0];return t[0]=0,t}function n(t,n,r){var i=e();return i[0]=t,i[1]=n,i[2]=r,i}function r(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function i(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t}function o(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}function a(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t}function u(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t}function s(t){var e=t[0],n=t[1],r=t[2];return e*e+n*n+r*r}function c(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}function l(t,e){var n=e[0],r=e[1],i=e[2],o=n*n+r*r+i*i;return o>0&&(o=1/Math.sqrt(o),t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o),t}function d(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function f(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[0],u=n[1],s=n[2];return t[0]=i*s-o*u,t[1]=o*a-r*s,t[2]=r*u-i*a,t}t.zero=e,t.clone=function(t){var n=e();return n[0]=t[0],n[1]=t[1],n[2]=t[2],n},t.isFinite=function(t){return S(t[0])&&S(t[1])&&S(t[2])},t.hasNaN=function(t){return isNaN(t[0])||isNaN(t[1])||isNaN(t[2])},t.setNaN=function(t){return t[0]=NaN,t[1]=NaN,t[2]=NaN,t},t.fromObj=function(t){return n(t.x,t.y,t.z)},t.toObj=function(t){return{x:t[0],y:t[1],z:t[2]}},t.fromArray=function(t,e,n){return t[0]=e[n+0],t[1]=e[n+1],t[2]=e[n+2],t},t.toArray=function(t,e,n){return e[n+0]=t[0],e[n+1]=t[1],e[n+2]=t[2],e},t.create=n,t.ofArray=function(t){var n=e();return n[0]=t[0],n[1]=t[1],n[2]=t[2],n},t.set=function(t,e,n,r){return t[0]=e,t[1]=n,t[2]=r,t},t.copy=r,t.add=i,t.sub=o,t.mul=function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t},t.div=function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t},t.scale=a,t.scaleAndAdd=u,t.scaleAndSub=function(t,e,n,r){return t[0]=e[0]-n[0]*r,t[1]=e[1]-n[1]*r,t[2]=e[2]-n[2]*r,t},t.addScalar=function(t,e,n){return t[0]=e[0]+n,t[1]=e[1]+n,t[2]=e[2]+n,t},t.subScalar=function(t,e,n){return t[0]=e[0]-n,t[1]=e[1]-n,t[2]=e[2]-n,t},t.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t},t.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t},t.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t},t.trunc=function(t,e){return t[0]=Math.trunc(e[0]),t[1]=Math.trunc(e[1]),t[2]=Math.trunc(e[2]),t},t.abs=function(t,e){return t[0]=Math.abs(e[0]),t[1]=Math.abs(e[1]),t[2]=Math.abs(e[2]),t},t.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t},t.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t},t.clamp=function(t,e,n,r){return t[0]=Math.max(n[0],Math.min(r[0],e[0])),t[1]=Math.max(n[1],Math.min(r[1],e[1])),t[2]=Math.max(n[2],Math.min(r[2],e[2])),t},t.distance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return Math.sqrt(n*n+r*r+i*i)},t.squaredDistance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return n*n+r*r+i*i},t.magnitude=function(t){var e=t[0],n=t[1],r=t[2];return Math.sqrt(e*e+n*n+r*r)},t.squaredMagnitude=s,t.setMagnitude=function(t,e,n){return a(t,l(t,e),n)},t.negate=c,t.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t},t.normalize=l,t.dot=d,t.cross=f,t.lerp=function(t,e,n,r){var i=e[0],o=e[1],a=e[2];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t[2]=a+r*(n[2]-a),t};var p=e();function m(t,e){var n=Math.sqrt(s(t)*s(e));if(0===n)return Math.PI/2;var r=d(t,e)/n;return Math.acos(b(r,-1,1))}t.slerp=function(t,e,n,r){var o=b(d(e,n),-1,1),s=Math.acos(o)*r;return u(p,n,e,-o),l(p,p),i(t,a(t,e,Math.cos(s)),a(p,p,Math.sin(s)))},t.hermite=function(t,e,n,r,i,o){var a=o*o,u=a*(2*o-3)+1,s=a*(o-2)+o,c=a*(o-1),l=a*(3-2*o);return t[0]=e[0]*u+n[0]*s+r[0]*c+i[0]*l,t[1]=e[1]*u+n[1]*s+r[1]*c+i[1]*l,t[2]=e[2]*u+n[2]*s+r[2]*c+i[2]*l,t},t.bezier=function(t,e,n,r,i,o){var a=1-o,u=a*a,s=o*o,c=u*a,l=3*o*u,d=3*s*a,f=s*o;return t[0]=e[0]*c+n[0]*l+r[0]*d+i[0]*f,t[1]=e[1]*c+n[1]*l+r[1]*d+i[1]*f,t[2]=e[2]*c+n[2]*l+r[2]*d+i[2]*f,t},t.quadraticBezier=function(t,e,n,r,i){return t[0]=w(e[0],n[0],r[0],i),t[1]=w(e[1],n[1],r[1],i),t[2]=w(e[2],n[2],r[2],i),t},t.spline=function(t,e,n,r,i,o,a){return t[0]=A(e[0],n[0],r[0],i[0],o,a),t[1]=A(e[1],n[1],r[1],i[1],o,a),t[2]=A(e[2],n[2],r[2],i[2],o,a),t},t.random=function(t,e){var n=2*Math.random()*Math.PI,r=2*Math.random()-1,i=Math.sqrt(1-r*r)*e;return t[0]=Math.cos(n)*i,t[1]=Math.sin(n)*i,t[2]=r*e,t},t.transformMat4=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=1/(n[3]*r+n[7]*i+n[11]*o+n[15]||1);return t[0]=(n[0]*r+n[4]*i+n[8]*o+n[12])*a,t[1]=(n[1]*r+n[5]*i+n[9]*o+n[13])*a,t[2]=(n[2]*r+n[6]*i+n[10]*o+n[14])*a,t},t.transformDirection=function(t,e,n){var r=e[0],i=e[1],o=e[2];return t[0]=n[0]*r+n[4]*i+n[8]*o,t[1]=n[1]*r+n[5]*i+n[9]*o,t[2]=n[2]*r+n[6]*i+n[10]*o,l(t,t)},t.transformMat4Offset=function(t,e,n,r,i,o){var a=e[0+i],u=e[1+i],s=e[2+i],c=1/(n[3+o]*a+n[7+o]*u+n[11+o]*s+n[15+o]||1);return t[0+r]=(n[0+o]*a+n[4+o]*u+n[8+o]*s+n[12+o])*c,t[1+r]=(n[1+o]*a+n[5+o]*u+n[9+o]*s+n[13+o])*c,t[2+r]=(n[2+o]*a+n[6+o]*u+n[10+o]*s+n[14+o])*c,t},t.transformMat3=function(t,e,n){var r=e[0],i=e[1],o=e[2];return t[0]=r*n[0]+i*n[3]+o*n[6],t[1]=r*n[1]+i*n[4]+o*n[7],t[2]=r*n[2]+i*n[5]+o*n[8],t},t.transformQuat=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[0],u=n[1],s=n[2],c=n[3],l=c*r+u*o-s*i,d=c*i+s*r-a*o,f=c*o+a*i-u*r,p=-a*r-u*i-s*o;return t[0]=l*c+p*-a+d*-s-f*-u,t[1]=d*c+p*-u+f*-a-l*-s,t[2]=f*c+p*-s+l*-u-d*-a,t},t.angle=m;var h=e(),g=e(),v=e(),_=e(),x=e(),C=e(),B=e();t.dihedralAngle=function(t,e,n,r){o(h,t,e),o(g,n,e),o(v,e,n),o(_,r,n),f(x,h,g),f(C,v,_);var i=m(x,C);return f(B,x,C),d(g,B)>0?i:-i},t.directionFromSpherical=function(e,n,r,i){return t.set(e,i*Math.cos(r)*Math.sin(n),i*Math.sin(r)*Math.sin(n),i*Math.cos(n))},t.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]},t.equals=function(t,e){var n=t[0],r=t[1],i=t[2],o=e[0],a=e[1],u=e[2];return Math.abs(n-o)<=y*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(r-a)<=y*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(i-u)<=y*Math.max(1,Math.abs(i),Math.abs(u))};var I=e();t.makeRotation=function(e,n,r){var i=m(n,r);if(Math.abs(i)<1e-4)return D.setIdentity(e);if(Math.abs(i-Math.PI)<y)return D.fromScaling(e,t.negUnit);var o=f(I,n,r);return D.fromRotation(e,i,o)},t.isZero=function(t){return 0===t[0]&&0===t[1]&&0===t[2]},t.projectPointOnVector=function(t,e,n,r){return o(t,e,r),i(t,a(t,n,d(n,t)/s(n)),r)};var P=e();function E(t,e,n){return a(t,n,d(n,e)/s(n))}t.projectPointOnPlane=function(t,e,n,r){return l(P,n),o(t,e,r),o(t,e,a(P,P,d(t,P)))},t.projectOnVector=E;var M=e();t.projectOnPlane=function(t,e,n){return E(M,e,n),o(t,e,M)},t.orthogonalize=function(t,e,n){return l(t,f(t,f(t,e,n),e))},t.matchDirection=function(t,e,n){return d(e,n)>0?r(t,e):c(t,r(t,e)),t};var k=e(),O=e();t.triangleNormal=function(t,e,n,r){return o(k,n,e),o(O,r,e),l(t,f(t,k,O))},t.toString=function(t,e){return"[".concat(t[0].toPrecision(e)," ").concat(t[1].toPrecision(e)," ").concat(t[2].toPrecision(e),"]")},t.origin=n(0,0,0),t.unit=n(1,1,1),t.negUnit=n(-1,-1,-1),t.unitX=n(1,0,0),t.unitY=n(0,1,0),t.unitZ=n(0,0,1),t.negUnitX=n(-1,0,0),t.negUnitY=n(0,-1,0),t.negUnitZ=n(0,0,-1)}(C||(C={}));Math.PI;var B,I,P,E=Math.PI/180;function M(t){return t*E}function k(t){return t/E}function D(){return D.zero()}function O(){return O.zero()}function N(){return N.zero()}function T(){return T.zero()}function U(t){throw new Error("unreachable")}function R(){return R.zero()}function L(t,e,n,r){r=t[e],t[e]=t[n],t[n]=r}function G(t,e){return(t=Math.abs(t))>(e=Math.abs(e))?(e/=t,t*Math.sqrt(1+e*e)):e>0?(t/=e,e*Math.sqrt(1+t*t)):0}!function(t){function e(){var t=[.1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];return t[0]=0,t}function n(){var t=e();return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function r(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function i(t){for(var e=0;e<16;e++)t[e]=0;return t}t.zero=e,t.identity=n,t.setIdentity=r,t.setZero=i,t.ofRows=function(t){for(var n=e(),r=0;r<4;r++)for(var i=t[r],o=0;o<4;o++)n[4*o+r]=i[o];return n};var o=n();function a(t,e,n){for(var r=0;r<16;r++)if(Math.abs(t[r]-e[r])>n)return!1;return!0}function u(t,e,n,r){t[4*n+e]=r}function s(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function c(t,e){var n=e[0]+e[5]+e[10],r=0;return n>0?(r=2*Math.sqrt(n+1),t[3]=.25*r,t[0]=(e[6]-e[9])/r,t[1]=(e[8]-e[2])/r,t[2]=(e[1]-e[4])/r):e[0]>e[5]&&e[0]>e[10]?(r=2*Math.sqrt(1+e[0]-e[5]-e[10]),t[3]=(e[6]-e[9])/r,t[0]=.25*r,t[1]=(e[1]+e[4])/r,t[2]=(e[8]+e[2])/r):e[5]>e[10]?(r=2*Math.sqrt(1+e[5]-e[0]-e[10]),t[3]=(e[8]-e[2])/r,t[0]=(e[1]+e[4])/r,t[1]=.25*r,t[2]=(e[6]+e[9])/r):(r=2*Math.sqrt(1+e[10]-e[0]-e[5]),t[3]=(e[1]-e[4])/r,t[0]=(e[8]+e[2])/r,t[1]=(e[6]+e[9])/r,t[2]=.25*r),t}function l(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],u=e[5],s=e[6],c=e[7],l=e[8],d=e[9],f=e[10],p=e[11],m=e[12],h=e[13],g=e[14],v=e[15],y=n*u-r*a,_=n*s-i*a,b=n*c-o*a,x=r*s-i*u,A=r*c-o*u,w=i*c-o*s,S=l*h-d*m,C=l*g-f*m,B=l*v-p*m,I=d*g-f*h,P=d*v-p*h,E=f*v-p*g,M=y*E-_*P+b*I+x*B-A*C+w*S;return!!M&&(M=1/M,t[0]=(u*E-s*P+c*I)*M,t[1]=(i*P-r*E-o*I)*M,t[2]=(h*w-g*A+v*x)*M,t[3]=(f*A-d*w-p*x)*M,t[4]=(s*B-a*E-c*C)*M,t[5]=(n*E-i*B+o*C)*M,t[6]=(g*b-m*w-v*_)*M,t[7]=(l*w-f*b+p*_)*M,t[8]=(a*P-u*B+c*S)*M,t[9]=(r*B-n*P-o*S)*M,t[10]=(m*A-h*b+v*y)*M,t[11]=(d*b-l*A-p*y)*M,t[12]=(u*C-a*I-s*S)*M,t[13]=(n*I-r*C+i*S)*M,t[14]=(h*_-m*x-g*y)*M,t[15]=(l*x-d*_+f*y)*M,!0)}function d(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],u=e[4],s=e[5],c=e[6],l=e[7],d=e[8],f=e[9],p=e[10],m=e[11],h=e[12],g=e[13],v=e[14],y=e[15],_=n[0],b=n[1],x=n[2],A=n[3];return t[0]=_*r+b*u+x*d+A*h,t[1]=_*i+b*s+x*f+A*g,t[2]=_*o+b*c+x*p+A*v,t[3]=_*a+b*l+x*m+A*y,_=n[4],b=n[5],x=n[6],A=n[7],t[4]=_*r+b*u+x*d+A*h,t[5]=_*i+b*s+x*f+A*g,t[6]=_*o+b*c+x*p+A*v,t[7]=_*a+b*l+x*m+A*y,_=n[8],b=n[9],x=n[10],A=n[11],t[8]=_*r+b*u+x*d+A*h,t[9]=_*i+b*s+x*f+A*g,t[10]=_*o+b*c+x*p+A*v,t[11]=_*a+b*l+x*m+A*y,_=n[12],b=n[13],x=n[14],A=n[15],t[12]=_*r+b*u+x*d+A*h,t[13]=_*i+b*s+x*f+A*g,t[14]=_*o+b*c+x*p+A*v,t[15]=_*a+b*l+x*m+A*y,t}function f(t,e,n){var i=n[0],o=n[1],a=n[2],u=Math.sqrt(i*i+o*o+a*a);if(Math.abs(u)<y)return r(t);i*=u=1/u,o*=u,a*=u;var s=Math.sin(e),c=Math.cos(e),l=1-c;return t[0]=i*i*l+c,t[1]=o*i*l+a*s,t[2]=a*i*l-o*s,t[3]=0,t[4]=i*o*l-a*s,t[5]=o*o*l+c,t[6]=a*o*l+i*s,t[7]=0,t[8]=i*a*l+o*s,t[9]=o*a*l-i*s,t[10]=a*a*l+c,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}t.isIdentity=function(t,e){return a(t,o,void 0===e?y:e)},t.hasNaN=function(t){for(var e=0;e<16;e++)if(isNaN(t[e]))return!0;return!1},t.areEqual=a,t.setValue=u,t.getValue=function(t,e,n){return t[4*n+e]},t.toArray=function(t,e,n){return e[n+0]=t[0],e[n+1]=t[1],e[n+2]=t[2],e[n+3]=t[3],e[n+4]=t[4],e[n+5]=t[5],e[n+6]=t[6],e[n+7]=t[7],e[n+8]=t[8],e[n+9]=t[9],e[n+10]=t[10],e[n+11]=t[11],e[n+12]=t[12],e[n+13]=t[13],e[n+14]=t[14],e[n+15]=t[15],e},t.fromArray=function(t,e,n){return t[0]=e[n+0],t[1]=e[n+1],t[2]=e[n+2],t[3]=e[n+3],t[4]=e[n+4],t[5]=e[n+5],t[6]=e[n+6],t[7]=e[n+7],t[8]=e[n+8],t[9]=e[n+9],t[10]=e[n+10],t[11]=e[n+11],t[12]=e[n+12],t[13]=e[n+13],t[14]=e[n+14],t[15]=e[n+15],t},t.fromBasis=function(t,e,n,r){return i(t),u(t,0,0,e[0]),u(t,1,0,e[1]),u(t,2,0,e[2]),u(t,0,1,n[0]),u(t,1,1,n[1]),u(t,2,1,n[2]),u(t,0,2,r[0]),u(t,1,2,r[1]),u(t,2,2,r[2]),u(t,3,3,1),t},t.copy=s,t.clone=function(t){return s(e(),t)},t.getTranslation=function(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t},t.getScaling=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[4],a=e[5],u=e[6],s=e[8],c=e[9],l=e[10];return t[0]=Math.sqrt(n*n+r*r+i*i),t[1]=Math.sqrt(o*o+a*a+u*u),t[2]=Math.sqrt(s*s+c*c+l*l),t},t.getRotation=c,t.extractRotation=function(t,e){var n=1/Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]),r=1/Math.sqrt(e[4]*e[4]+e[5]*e[5]+e[6]*e[6]),i=1/Math.sqrt(e[8]*e[8]+e[9]*e[9]+e[10]*e[10]);return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=0,t[4]=e[4]*r,t[5]=e[5]*r,t[6]=e[6]*r,t[7]=0,t[8]=e[8]*i,t[9]=e[9]*i,t[10]=e[10]*i,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},t.transpose=function(t,e){if(t===e){var n=e[1],r=e[2],i=e[3],o=e[6],a=e[7],u=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=o,t[11]=e[14],t[12]=i,t[13]=a,t[14]=u}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t},t.tryInvert=l,t.invert=function(t,e){return l(t,e)||console.warn("non-invertible matrix.",e),t},t.mul=d,t.mulOffset=function(t,e,n,r,i,o){var a=e[0+i],u=e[1+i],s=e[2+i],c=e[3+i],l=e[4+i],d=e[5+i],f=e[6+i],p=e[7+i],m=e[8+i],h=e[9+i],g=e[10+i],v=e[11+i],y=e[12+i],_=e[13+i],b=e[14+i],x=e[15+i],A=n[0+o],w=n[1+o],S=n[2+o],C=n[3+o];return t[0+r]=A*a+w*l+S*m+C*y,t[1+r]=A*u+w*d+S*h+C*_,t[2+r]=A*s+w*f+S*g+C*b,t[3+r]=A*c+w*p+S*v+C*x,A=n[4+o],w=n[5+o],S=n[6+o],C=n[7+o],t[4+r]=A*a+w*l+S*m+C*y,t[5+r]=A*u+w*d+S*h+C*_,t[6+r]=A*s+w*f+S*g+C*b,t[7+r]=A*c+w*p+S*v+C*x,A=n[8+o],w=n[9+o],S=n[10+o],C=n[11+o],t[8+r]=A*a+w*l+S*m+C*y,t[9+r]=A*u+w*d+S*h+C*_,t[10+r]=A*s+w*f+S*g+C*b,t[11+r]=A*c+w*p+S*v+C*x,A=n[12+o],w=n[13+o],S=n[14+o],C=n[15+o],t[12+r]=A*a+w*l+S*m+C*y,t[13+r]=A*u+w*d+S*h+C*_,t[14+r]=A*s+w*f+S*g+C*b,t[15+r]=A*c+w*p+S*v+C*x,t},t.mul3=function(t,e,n,r){return d(t,d(t,e,n),r)},t.translate=function(t,e,n){var r,i,o,a,u,s,c,l,d,f,p,m,h=n[0],g=n[1],v=n[2];return e===t?(t[12]=e[0]*h+e[4]*g+e[8]*v+e[12],t[13]=e[1]*h+e[5]*g+e[9]*v+e[13],t[14]=e[2]*h+e[6]*g+e[10]*v+e[14],t[15]=e[3]*h+e[7]*g+e[11]*v+e[15]):(r=e[0],i=e[1],o=e[2],a=e[3],u=e[4],s=e[5],c=e[6],l=e[7],d=e[8],f=e[9],p=e[10],m=e[11],t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=u,t[5]=s,t[6]=c,t[7]=l,t[8]=d,t[9]=f,t[10]=p,t[11]=m,t[12]=r*h+u*g+d*v+e[12],t[13]=i*h+s*g+f*v+e[13],t[14]=o*h+c*g+p*v+e[14],t[15]=a*h+l*g+m*v+e[15]),t},t.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t},t.setTranslation=function(t,e){return t[12]=e[0],t[13]=e[1],t[14]=e[2],t},t.setAxes=function(t,e,n,r){return t[0]=n[0],t[4]=n[1],t[8]=n[2],t[1]=r[0],t[5]=r[1],t[9]=r[2],t[2]=e[0],t[6]=e[1],t[10]=e[2],t},t.rotate=function(t,e,r,i){var o=i[0],a=i[1],u=i[2],s=Math.sqrt(o*o+a*a+u*u);if(Math.abs(s)<y)return n();o*=s=1/s,a*=s,u*=s;var c=Math.sin(r),l=Math.cos(r),d=1-l,f=e[0],p=e[1],m=e[2],h=e[3],g=e[4],v=e[5],_=e[6],b=e[7],x=e[8],A=e[9],w=e[10],S=e[11],C=o*o*d+l,B=a*o*d+u*c,I=u*o*d-a*c,P=o*a*d-u*c,E=a*a*d+l,M=u*a*d+o*c,k=o*u*d+a*c,D=a*u*d-o*c,O=u*u*d+l;return t[0]=f*C+g*B+x*I,t[1]=p*C+v*B+A*I,t[2]=m*C+_*B+w*I,t[3]=h*C+b*B+S*I,t[4]=f*P+g*E+x*M,t[5]=p*P+v*E+A*M,t[6]=m*P+_*E+w*M,t[7]=h*P+b*E+S*M,t[8]=f*k+g*D+x*O,t[9]=p*k+v*D+A*O,t[10]=m*k+_*D+w*O,t[11]=h*k+b*D+S*O,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t},t.fromRotation=f,t.scale=function(t,e,n){var r=n[0],i=n[1],o=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},t.scaleUniformly=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t[9]=e[9]*n,t[10]=e[10]*n,t[11]=e[11]*n,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},t.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},t.fromUniformScaling=function(t,e){return t[0]=e,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},t.fromMat3=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[4]=e[3],t[5]=e[4],t[6]=e[5],t[8]=e[6],t[9]=e[7],t[10]=e[8],t},t.compose=function(t,e,n,r){var i=n[0],o=n[1],a=n[2],u=n[3],s=i+i,c=o+o,l=a+a,d=i*s,f=i*c,p=i*l,m=o*c,h=o*l,g=a*l,v=u*s,y=u*c,_=u*l,b=r[0],x=r[1],A=r[2];return t[0]=(1-(m+g))*b,t[1]=(f+_)*b,t[2]=(p-y)*b,t[3]=0,t[4]=(f-_)*x,t[5]=(1-(d+g))*x,t[6]=(h+v)*x,t[7]=0,t[8]=(p+y)*A,t[9]=(h-v)*A,t[10]=(1-(d+m))*A,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t};var p=[0,0,0],m=e();function h(t){var e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],u=t[6],s=t[7],c=t[8],l=t[9],d=t[10],f=t[11],p=t[12],m=t[13],h=t[14],g=t[15];return(e*a-n*o)*(d*g-f*h)-(e*u-r*o)*(l*g-f*m)+(e*s-i*o)*(l*h-d*m)+(n*u-r*a)*(c*g-f*p)-(n*s-i*a)*(c*h-d*p)+(r*s-i*u)*(c*m-l*p)}t.decompose=function(t,e,n,r){var i=C.magnitude(C.set(p,t[0],t[1],t[2])),o=C.magnitude(C.set(p,t[4],t[5],t[6])),a=C.magnitude(C.set(p,t[8],t[9],t[10]));h(t)<0&&(i=-i),e[0]=t[12],e[1]=t[13],e[2]=t[14],s(m,t);var u=1/i,l=1/o,d=1/a;return m[0]*=u,m[1]*=u,m[2]*=u,m[4]*=l,m[5]*=l,m[6]*=l,m[8]*=d,m[9]*=d,m[10]*=d,c(n,m),r[0]=i,r[1]=o,r[2]=a,t},t.makeTable=function(t){for(var e="",n=0;n<4;n++){for(var r=0;r<4;r++)e+=t[4*r+n].toString(),r<3&&(e+=" ");n<3&&(e+="\n")}return e},t.determinant=h,t.isRotationAndTranslation=function(t,e){return function(t,e){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],u=t[5],s=t[6],c=t[7],l=t[8],d=t[9],f=t[10],p=t[11];if(!(_(t[15],1,e)&&_(o,0,e)&&_(c,0,e)&&_(p,0,e)))return!1;if(!_(Math.abs(n*(u*f-s*d)-r*(a*f-s*l)+i*(a*d-u*l)),1,e))return!1;return!0}(t,void 0!==e?e:y)},t.isTranslationAndUniformScaling=function(t,e){return function(t,e){var n=t[0];return _(t[1],0,e)&&_(t[2],0,e)&&_(t[3],0,e)&&_(t[4],0,e)&&_(t[5],n,e)&&_(t[6],0,e)&&_(t[7],0,e)&&_(t[8],0,e)&&_(t[9],0,e)&&_(t[10],n,e)&&_(t[11],0,e)&&_(t[15],1,e)}(t,void 0!==e?e:y)},t.fromQuat=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n+n,u=r+r,s=i+i,c=n*a,l=r*a,d=r*u,f=i*a,p=i*u,m=i*s,h=o*a,g=o*u,v=o*s;return t[0]=1-d-m,t[1]=l+v,t[2]=f-g,t[3]=0,t[4]=l-v,t[5]=1-c-m,t[6]=p+h,t[7]=0,t[8]=f+g,t[9]=p-h,t[10]=1-c-d,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},t.fromEuler=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=Math.cos(r),u=Math.sin(r),s=Math.cos(i),c=Math.sin(i),l=Math.cos(o),d=Math.sin(o);if("XYZ"===n){var f=a*l,p=a*d,m=u*l,h=u*d;t[0]=s*l,t[4]=-s*d,t[8]=c,t[1]=p+m*c,t[5]=f-h*c,t[9]=-u*s,t[2]=h-f*c,t[6]=m+p*c,t[10]=a*s}else if("YXZ"===n){var g=s*l,v=s*d,y=c*l,_=c*d;t[0]=g+_*u,t[4]=y*u-v,t[8]=a*c,t[1]=a*d,t[5]=a*l,t[9]=-u,t[2]=v*u-y,t[6]=_+g*u,t[10]=a*s}else if("ZXY"===n){g=s*l,v=s*d,y=c*l,_=c*d;t[0]=g-_*u,t[4]=-a*d,t[8]=y+v*u,t[1]=v+y*u,t[5]=a*l,t[9]=_-g*u,t[2]=-a*c,t[6]=u,t[10]=a*s}else if("ZYX"===n){f=a*l,p=a*d,m=u*l,h=u*d;t[0]=s*l,t[4]=m*c-p,t[8]=f*c+h,t[1]=s*d,t[5]=h*c+f,t[9]=p*c-m,t[2]=-c,t[6]=u*s,t[10]=a*s}else if("YZX"===n){var b=a*s,x=a*c,A=u*s,w=u*c;t[0]=s*l,t[4]=w-b*d,t[8]=A*d+x,t[1]=d,t[5]=a*l,t[9]=-u*l,t[2]=-c*l,t[6]=x*d+A,t[10]=b-w*d}else if("XZY"===n){b=a*s,x=a*c,A=u*s,w=u*c;t[0]=s*l,t[4]=-d,t[8]=c*l,t[1]=b*d+w,t[5]=a*l,t[9]=x*d-A,t[2]=A*d-x,t[6]=u*l,t[10]=w*d+b}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},t.perspective=function(t,e,n,r,i,o,a){var u=2*o/(n-e),s=2*o/(r-i),c=(n+e)/(n-e),l=(r+i)/(r-i),d=-(a+o)/(a-o),f=-2*a*o/(a-o);return t[0]=u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=s,t[6]=0,t[7]=0,t[8]=c,t[9]=l,t[10]=d,t[11]=-1,t[12]=0,t[13]=0,t[14]=f,t[15]=0,t},t.ortho=function(t,e,n,r,i,o,a){var u=1/(n-e),s=1/(r-i),c=1/(a-o),l=(n+e)*u,d=(r+i)*s,f=(a+o)*c;return t[0]=2*u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*s,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=-2*c,t[11]=0,t[12]=-l,t[13]=-d,t[14]=-f,t[15]=1,t},t.lookAt=function(t,e,n,i){var o,a,u,s,c,l,d,f,p,m,h=e[0],g=e[1],v=e[2],_=i[0],b=i[1],x=i[2],A=n[0],w=n[1],S=n[2];return Math.abs(h-A)<y&&Math.abs(g-w)<y&&Math.abs(v-S)<y?r(t):(d=h-A,f=g-w,p=v-S,o=b*(p*=m=1/Math.sqrt(d*d+f*f+p*p))-x*(f*=m),a=x*(d*=m)-_*p,u=_*f-b*d,(m=Math.sqrt(o*o+a*a+u*u))?(o*=m=1/m,a*=m,u*=m):(o=0,a=0,u=0),s=f*u-p*a,c=p*o-d*u,l=d*a-f*o,(m=Math.sqrt(s*s+c*c+l*l))?(s*=m=1/m,c*=m,l*=m):(s=0,c=0,l=0),t[0]=o,t[1]=s,t[2]=d,t[3]=0,t[4]=a,t[5]=c,t[6]=f,t[7]=0,t[8]=u,t[9]=l,t[10]=p,t[11]=0,t[12]=-(o*h+a*g+u*v),t[13]=-(s*h+c*g+l*v),t[14]=-(d*h+f*g+p*v),t[15]=1,t)},t.targetTo=function(t,e,n,r){var i=e[0],o=e[1],a=e[2],u=r[0],s=r[1],c=r[2],l=i-n[0],d=o-n[1],f=a-n[2],p=l*l+d*d+f*f;p>0&&(l*=p=1/Math.sqrt(p),d*=p,f*=p);var m=s*f-c*d,h=c*l-u*f,g=u*d-s*l;return(p=m*m+h*h+g*g)>0&&(m*=p=1/Math.sqrt(p),h*=p,g*=p),t[0]=m,t[1]=h,t[2]=g,t[3]=0,t[4]=d*g-f*h,t[5]=f*m-l*g,t[6]=l*h-d*m,t[7]=0,t[8]=l,t[9]=d,t[10]=f,t[11]=0,t[12]=i,t[13]=o,t[14]=a,t[15]=1,t},t.fromPermutation=function(t,e){i(t);for(var n=0;n<4;n++){u(t,n,e[n],1)}return t},t.getMaxScaleOnAxis=function(t){var e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],n=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],r=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,n,r))};var g=[1,0,0],v=[0,1,0],b=[0,0,1];t.rotX90=f(e(),M(90),g),t.rotX180=f(e(),M(180),g),t.rotY90=f(e(),M(90),v),t.rotY180=f(e(),M(180),v),t.rotY270=f(e(),M(270),v),t.rotZ90=f(e(),M(90),b),t.rotZ180=f(e(),M(180),b),t.rotXY90=d(e(),t.rotX90,t.rotY90),t.rotZY90=d(e(),t.rotZ90,t.rotY90),t.rotZYZ90=d(e(),t.rotZY90,t.rotZ90),t.rotZ90X180=d(e(),t.rotZ90,t.rotX180),t.rotY90Z180=d(e(),t.rotY90,t.rotZ180),t.id=n()}(D||(D={})),function(t){function e(){var t=[.1,0,0,0,0,0,0,0,0];return t[0]=0,t}function n(){var t=e();return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function r(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}t.zero=e,t.identity=n,t.setIdentity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},t.toArray=function(t,e,n){return e[n+0]=t[0],e[n+1]=t[1],e[n+2]=t[2],e[n+3]=t[3],e[n+4]=t[4],e[n+5]=t[5],e[n+6]=t[6],e[n+7]=t[7],e[n+8]=t[8],e},t.fromArray=function(t,e,n){return t[0]=e[n+0],t[1]=e[n+1],t[2]=e[n+2],t[3]=e[n+3],t[4]=e[n+4],t[5]=e[n+5],t[6]=e[n+6],t[7]=e[n+7],t[8]=e[n+8],t},t.fromMat4=r,t.create=function(t,n,r,i,o,a,u,s,c){var l=e();return l[0]=t,l[1]=n,l[2]=r,l[3]=i,l[4]=o,l[5]=a,l[6]=u,l[7]=s,l[8]=c,l};var i=n();function o(t,e,n){for(var r=0;r<9;r++)if(Math.abs(t[r]-e[r])>n)return!1;return!0}function a(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function u(t,e){if(t===e){var n=e[1],r=e[2],i=e[5];t[1]=e[3],t[2]=e[6],t[3]=n,t[5]=e[7],t[6]=r,t[7]=i}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t}function s(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],u=e[5],s=e[6],c=e[7],l=e[8],d=l*a-u*c,f=-l*o+u*s,p=c*o-a*s,m=n*d+r*f+i*p;return m?(m=1/m,t[0]=d*m,t[1]=(-l*r+i*c)*m,t[2]=(u*r-i*a)*m,t[3]=f*m,t[4]=(l*n-i*s)*m,t[5]=(-u*n+i*o)*m,t[6]=p*m,t[7]=(-c*n+r*s)*m,t[8]=(a*n-r*o)*m,t):(console.warn("non-invertible matrix.",e),t)}function c(t){var e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],u=t[6],s=t[7],c=t[8];return e*(c*o-a*s)+n*(-c*i+a*u)+r*(s*i-o*u)}function l(t){return t[0]+t[4]+t[8]}function d(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t}function f(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t}t.isIdentity=function(t,e){return o(t,i,void 0===e?y:e)},t.hasNaN=function(t){for(var e=0;e<9;e++)if(isNaN(t[e]))return!0;return!1},t.clone=function(t){return a(e(),t)},t.areEqual=o,t.setValue=function(t,e,n,r){t[3*n+e]=r},t.getValue=function(t,e,n){return t[3*n+e]},t.copy=a,t.transpose=u,t.invert=s,t.symmtricFromUpper=function(t,e){return t===e?(t[3]=e[1],t[6]=e[2],t[7]=e[5]):(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[1],t[4]=e[4],t[5]=e[5],t[6]=e[2],t[7]=e[5],t[8]=e[8]),t},t.symmtricFromLower=function(t,e){return t===e?(t[1]=e[3],t[2]=e[6],t[5]=e[7]):(t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[3],t[4]=e[4],t[5]=e[7],t[6]=e[6],t[7]=e[7],t[8]=e[8]),t},t.determinant=c,t.trace=l,t.sub=d,t.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t},t.mul=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],u=e[4],s=e[5],c=e[6],l=e[7],d=e[8],f=n[0],p=n[1],m=n[2],h=n[3],g=n[4],v=n[5],y=n[6],_=n[7],b=n[8];return t[0]=f*r+p*a+m*c,t[1]=f*i+p*u+m*l,t[2]=f*o+p*s+m*d,t[3]=h*r+g*a+v*c,t[4]=h*i+g*u+v*l,t[5]=h*o+g*s+v*d,t[6]=y*r+_*a+b*c,t[7]=y*i+_*u+b*l,t[8]=y*o+_*s+b*d,t},t.subScalar=function(t,e,n){return t[0]=e[0]-n,t[1]=e[1]-n,t[2]=e[2]-n,t[3]=e[3]-n,t[4]=e[4]-n,t[5]=e[5]-n,t[6]=e[6]-n,t[7]=e[7]-n,t[8]=e[8]-n,t},t.addScalar=function(t,e,n){return t[0]=e[0]+n,t[1]=e[1]+n,t[2]=e[2]+n,t[3]=e[3]+n,t[4]=e[4]+n,t[5]=e[5]+n,t[6]=e[6]+n,t[7]=e[7]+n,t[8]=e[8]+n,t},t.mulScalar=f;var p=Math.PI/3,m=e();t.symmetricEigenvalues=function(e,n){var r=n[1]*n[1]+n[2]*n[2]+n[5]*n[5];if(0===r)e[0]=n[0],e[1]=n[4],e[2]=n[8];else{var i=l(n)/3,o=n[0]-i,a=n[4]-i,u=n[8]-i,s=o*o+a*a+u*u+2*r,h=Math.sqrt(s/6);f(m,t.Identity,i),d(m,n,m),f(m,m,1/h);var g=c(m)/2,v=g<=-1?p:g>=1?0:Math.acos(g)/3;e[0]=i+2*h*Math.cos(v),e[2]=i+2*h*Math.cos(v+2*p),e[1]=3*i-e[0]-e[2]}return e};var h=[.1,0,0],g=[.1,0,0],v=[.1,0,0],_=[.1,0,0],b=[.1,0,0],x=[.1,0,0];t.eigenvector=function(t,e,n){C.set(h,e[0]-n,e[1],e[2]),C.set(g,e[1],e[4]-n,e[5]),C.set(v,e[2],e[5],e[8]-n),C.cross(_,h,g),C.cross(b,h,v),C.cross(x,g,v);var r=C.dot(_,_),i=C.dot(b,b),o=C.dot(x,x),a=r,u=0;return i>a&&(a=i,u=1),o>a&&(u=2),0===u?C.scale(t,_,1/Math.sqrt(r)):1===u?C.scale(t,b,1/Math.sqrt(i)):C.scale(t,x,1/Math.sqrt(o)),t},t.directionTransform=function(t,e){return r(t,e),s(t,t),u(t,t),t},t.Identity=n(),t.innerProduct=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]+t[4]*e[4]+t[5]*e[5]+t[6]*e[6]+t[7]*e[7]+t[8]*e[8]}}(O||(O={})),function(t){function e(){var t=[.1,0];return t[0]=0,t}t.zero=e,t.clone=function(t){var n=e();return n[0]=t[0],n[1]=t[1],n},t.create=function(t,n){var r=e();return r[0]=t,r[1]=n,r},t.hasNaN=function(t){return isNaN(t[0])||isNaN(t[1])},t.toArray=function(t,e,n){return e[n+0]=t[0],e[n+1]=t[1],e},t.fromArray=function(t,e,n){return t[0]=e[n+0],t[1]=e[n+1],t},t.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t},t.set=function(t,e,n){return t[0]=e,t[1]=n,t},t.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t},t.sub=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t},t.mul=function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t},t.div=function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t},t.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t},t.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t},t.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t},t.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t},t.distance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1];return Math.sqrt(n*n+r*r)},t.squaredDistance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1];return n*n+r*r},t.magnitude=function(t){var e=t[0],n=t[1];return Math.sqrt(e*e+n*n)},t.squaredMagnitude=function(t){var e=t[0],n=t[1];return e*e+n*n},t.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t},t.areEqual=function(t,e){return t[0]===e[0]&&t[1]===e[1]},t.toString=function(t,e){return"[".concat(t[0].toPrecision(e)," ").concat(t[1].toPrecision(e),"}]")}}(N||(N={})),function(t){function e(){var t=[.1,0,0,0];return t[0]=0,t}function n(t,e){return t[0]=e.center[0],t[1]=e.center[1],t[2]=e.center[2],t[3]=e.radius,t}t.zero=e,t.clone=function(t){var n=e();return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n},t.create=function(t,n,r,i){var o=e();return o[0]=t,o[1]=n,o[2]=r,o[3]=i,o},t.fromSphere=n,t.ofSphere=function(t){return n(e(),t)},t.hasNaN=function(t){return isNaN(t[0])||isNaN(t[1])||isNaN(t[2])||isNaN(t[3])},t.toArray=function(t,e,n){return e[n+0]=t[0],e[n+1]=t[1],e[n+2]=t[2],e[n+3]=t[3],e},t.fromArray=function(t,e,n){return t[0]=e[n+0],t[1]=e[n+1],t[2]=e[n+2],t[3]=e[n+3],t},t.toVec3Array=function(t,e,n){e[n+0]=t[0],e[n+1]=t[1],e[n+2]=t[2]},t.fromVec3Array=function(t,e,n){return t[0]=e[n+0],t[1]=e[n+1],t[2]=e[n+2],t[3]=0,t},t.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},t.set=function(t,e,n,r,i){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t},t.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t},t.distance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2],o=e[3]-t[3];return Math.sqrt(n*n+r*r+i*i+o*o)},t.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[4]=e[4]*n,t},t.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t[3]=Math.round(e[3]),t},t.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t[3]=Math.ceil(e[3]),t},t.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t[3]=Math.floor(e[3]),t},t.squaredDistance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2],o=e[3]-t[3];return n*n+r*r+i*i+o*o},t.norm=function(t){var e=t[0],n=t[1],r=t[2],i=t[3];return Math.sqrt(e*e+n*n+r*r+i*i)},t.squaredNorm=function(t){var e=t[0],n=t[1],r=t[2],i=t[3];return e*e+n*n+r*r+i*i},t.transformMat4=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3];return t[0]=n[0]*r+n[4]*i+n[8]*o+n[12]*a,t[1]=n[1]*r+n[5]*i+n[9]*o+n[13]*a,t[2]=n[2]*r+n[6]*i+n[10]*o+n[14]*a,t[3]=n[3]*r+n[7]*i+n[11]*o+n[15]*a,t},t.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]},t.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t},t.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]},t.equals=function(t,e){var n=t[0],r=t[1],i=t[2],o=t[3],a=e[0],u=e[1],s=e[2],c=e[3];return Math.abs(n-a)<=y*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(r-u)<=y*Math.max(1,Math.abs(r),Math.abs(u))&&Math.abs(i-s)<=y*Math.max(1,Math.abs(i),Math.abs(s))&&Math.abs(o-c)<=y*Math.max(1,Math.abs(o),Math.abs(c))},t.toString=function(t,e){return"[".concat(t[0].toPrecision(e)," ").concat(t[1].toPrecision(e)," ").concat(t[2].toPrecision(e),"  ").concat(t[3].toPrecision(e),"]")}}(T||(T={})),function(t){function e(){var t=[.1,0,0,0];return t[0]=0,t}function n(){var t=e();return t[3]=1,t}function r(t,e,n){n*=.5;var r=Math.sin(n);return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=Math.cos(n),t}function i(t,e,n,r){var i,o,a,u,s,c=e[0],l=e[1],d=e[2],f=e[3],p=n[0],m=n[1],h=n[2],g=n[3];return(o=c*p+l*m+d*h+f*g)<0&&(o=-o,p=-p,m=-m,h=-h,g=-g),1-o>1e-6?(i=Math.acos(o),a=Math.sin(i),u=Math.sin((1-r)*i)/a,s=Math.sin(r*i)/a):(u=1-r,s=r),t[0]=u*c+s*p,t[1]=u*l+s*m,t[2]=u*d+s*h,t[3]=u*f+s*g,t}function o(t,e){var n,r=e[0]+e[4]+e[8];if(r>0)n=Math.sqrt(r+1),t[3]=.5*n,n=.5/n,t[0]=(e[5]-e[7])*n,t[1]=(e[6]-e[2])*n,t[2]=(e[1]-e[3])*n;else{var i=0;e[4]>e[0]&&(i=1),e[8]>e[3*i+i]&&(i=2);var o=(i+1)%3,a=(i+2)%3;n=Math.sqrt(e[3*i+i]-e[3*o+o]-e[3*a+a]+1),t[i]=.5*n,n=.5/n,t[3]=(e[3*o+a]-e[3*a+o])*n,t[o]=(e[3*o+i]+e[3*i+o])*n,t[a]=(e[3*a+i]+e[3*i+a])*n}return t}t.zero=e,t.identity=n,t.setIdentity=function(t){t[0]=0,t[1]=0,t[2]=0,t[3]=1},t.hasNaN=function(t){return isNaN(t[0])||isNaN(t[1])||isNaN(t[2])||isNaN(t[3])},t.create=function(t,e,r,i){var o=n();return o[0]=t,o[1]=e,o[2]=r,o[3]=i,o},t.setAxisAngle=r,t.getAxisAngle=function(t,e){var n=2*Math.acos(e[3]),r=Math.sin(n/2);return 0!==r?(t[0]=e[0]/r,t[1]=e[1]/r,t[2]=e[2]/r):(t[0]=1,t[1]=0,t[2]=0),n},t.multiply=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],u=n[0],s=n[1],c=n[2],l=n[3];return t[0]=r*l+a*u+i*c-o*s,t[1]=i*l+a*s+o*u-r*c,t[2]=o*l+a*c+r*s-i*u,t[3]=a*l-r*u-i*s-o*c,t},t.rotateX=function(t,e,n){n*=.5;var r=e[0],i=e[1],o=e[2],a=e[3],u=Math.sin(n),s=Math.cos(n);return t[0]=r*s+a*u,t[1]=i*s+o*u,t[2]=o*s-i*u,t[3]=a*s-r*u,t},t.rotateY=function(t,e,n){n*=.5;var r=e[0],i=e[1],o=e[2],a=e[3],u=Math.sin(n),s=Math.cos(n);return t[0]=r*s-o*u,t[1]=i*s+a*u,t[2]=o*s+r*u,t[3]=a*s-i*u,t},t.rotateZ=function(t,e,n){n*=.5;var r=e[0],i=e[1],o=e[2],a=e[3],u=Math.sin(n),s=Math.cos(n);return t[0]=r*s+i*u,t[1]=i*s-r*u,t[2]=o*s+a*u,t[3]=a*s-o*u,t},t.calculateW=function(t,e){var n=e[0],r=e[1],i=e[2];return t[0]=n,t[1]=r,t[2]=i,t[3]=Math.sqrt(Math.abs(1-n*n-r*r-i*i)),t},t.slerp=i,t.invert=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n*n+r*r+i*i+o*o,u=a?1/a:0;return t[0]=-n*u,t[1]=-r*u,t[2]=-i*u,t[3]=o*u,t},t.conjugate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t},t.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]},t.fromMat3=o,t.fromEuler=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=Math.cos(r/2),u=Math.cos(i/2),s=Math.cos(o/2),c=Math.sin(r/2),l=Math.sin(i/2),d=Math.sin(o/2);switch(n){case"XYZ":t[0]=c*u*s+a*l*d,t[1]=a*l*s-c*u*d,t[2]=a*u*d+c*l*s,t[3]=a*u*s-c*l*d;break;case"YXZ":t[0]=c*u*s+a*l*d,t[1]=a*l*s-c*u*d,t[2]=a*u*d-c*l*s,t[3]=a*u*s+c*l*d;break;case"ZXY":t[0]=c*u*s-a*l*d,t[1]=a*l*s+c*u*d,t[2]=a*u*d+c*l*s,t[3]=a*u*s-c*l*d;break;case"ZYX":t[0]=c*u*s-a*l*d,t[1]=a*l*s+c*u*d,t[2]=a*u*d-c*l*s,t[3]=a*u*s+c*l*d;break;case"YZX":t[0]=c*u*s+a*l*d,t[1]=a*l*s+c*u*d,t[2]=a*u*d-c*l*s,t[3]=a*u*s-c*l*d;break;case"XZY":t[0]=c*u*s-a*l*d,t[1]=a*l*s-c*u*d,t[2]=a*u*d+c*l*s,t[3]=a*u*s+c*l*d;break;default:U()}return t};var a=[0,0,0];function u(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n*n+r*r+i*i+o*o;return a>0&&(a=1/Math.sqrt(a),t[0]=n*a,t[1]=r*a,t[2]=i*a,t[3]=o*a),t}t.fromUnitVec3=function(t,e,n){var r=C.dot(e,n)+1;return r<y?(r=0,Math.abs(e[0])>Math.abs(e[2])?C.set(a,-e[1],e[0],0):C.set(a,0,-e[2],e[1])):C.cross(a,e,n),t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=r,u(t,t),t},t.clone=function(t){var n=e();return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n},t.toArray=function(t,e,n){return e[n+0]=t[0],e[n+1]=t[1],e[n+2]=t[2],e[n+3]=t[3],e},t.fromArray=function(t,e,n){return t[0]=e[n+0],t[1]=e[n+1],t[2]=e[n+2],t[3]=e[n+3],t},t.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},t.set=function(t,e,n,r,i){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t},t.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]},t.equals=function(t,e){var n=t[0],r=t[1],i=t[2],o=t[3],a=e[0],u=e[1],s=e[2],c=e[3];return Math.abs(n-a)<=y*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(r-u)<=y*Math.max(1,Math.abs(r),Math.abs(u))&&Math.abs(i-s)<=y*Math.max(1,Math.abs(i),Math.abs(s))&&Math.abs(o-c)<=y*Math.max(1,Math.abs(o),Math.abs(c))},t.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t},t.normalize=u;var s=[0,0,0],c=[1,0,0],l=[0,1,0];t.rotationTo=function(t,e,n){var i=C.dot(e,n);return i<-.999999?(C.cross(s,c,e),C.magnitude(s)<1e-6&&C.cross(s,l,e),C.normalize(s,s),r(t,s,Math.PI),t):i>.999999?(t[0]=0,t[1]=0,t[2]=0,t[3]=1,t):(C.cross(s,e,n),t[0]=s[0],t[1]=s[1],t[2]=s[2],t[3]=1+i,u(t,t))};var d=e(),f=e();t.sqlerp=function(t,e,n,r,o,a){return i(d,e,o,a),i(f,n,r,a),i(t,d,f,2*a*(1-a)),t};var p=[0,0,0,0,0,0,0,0,0];t.setAxes=function(t,e,n,r){return p[0]=n[0],p[3]=n[1],p[6]=n[2],p[1]=r[0],p[4]=r[1],p[7]=r[2],p[2]=-e[0],p[5]=-e[1],p[8]=-e[2],u(t,o(t,p))},t.toString=function(t,e){return"[".concat(t[0].toPrecision(e)," ").concat(t[1].toPrecision(e)," ").concat(t[2].toPrecision(e),"  ").concat(t[3].toPrecision(e),"]")},t.Identity=n()}(R||(R={})),function(t){function e(t,e,i){var o=function(t,e,n){for(var r=[],i=0;i<e.length;i++)r[i]=e[e.length-i-1];var o=[1];for(i=1;i<t.length;i++)o[i]=t[r[i-1]];return{dimensions:t,axisOrderFastToSlow:r,axisOrderSlowToFast:e,accessDimensions:o,defaultCtor:n||Float64Array}}(t,e,i),a=n(o),u=a.get,s=a.set,c=a.add,l=a.dataOffset,d=a.getCoords;return{rank:t.length,dimensions:t,axisOrderSlowToFast:e,create:r(o),get:u,set:s,add:c,dataOffset:l,getCoords:d}}function n(t){var e=t.dimensions,n=t.axisOrderFastToSlow;switch(e.length){case 1:return{get:function(t,e){return t[e]},set:function(t,e,n){return t[e]=n},add:function(t,e,n){return t[e]+=n},dataOffset:function(t){return t},getCoords:function(t,e){return e[0]=t,e}};case 2:if(0===n[0]&&1===n[1]){var r=e[0];return{get:function(t,e,n){return t[n*r+e]},set:function(t,e,n,i){return t[n*r+e]=i},add:function(t,e,n,i){return t[n*r+e]+=i},dataOffset:function(t,e){return e*r+t},getCoords:function(t,e){return e[0]=t%r,e[1]=Math.floor(t/r),e}}}if(1===n[0]&&0===n[1]){var o=e[1];return{get:function(t,e,n){return t[e*o+n]},set:function(t,e,n,r){return t[e*o+n]=r},add:function(t,e,n,r){return t[e*o+n]+=r},dataOffset:function(t,e){return t*o+e},getCoords:function(t,e){return e[0]=Math.floor(t/o),e[1]=t%o,e}}}throw new Error("bad axis order");case 3:if(0===n[0]&&1===n[1]&&2===n[2]){var a=e[0],u=e[1],s=a*u;return{get:function(t,e,n,r){return t[e+n*a+r*s]},set:function(t,e,n,r,i){return t[e+n*a+r*s]=i},add:function(t,e,n,r,i){return t[e+n*a+r*s]+=i},dataOffset:function(t,e,n){return t+e*a+n*s},getCoords:function(t,e){var n=Math.floor(t/a);return e[0]=t%a,e[1]=n%u,e[2]=Math.floor(n/u),e}}}if(0===n[0]&&2===n[1]&&1===n[2]){var c=e[0],l=e[2],d=c*l;return{get:function(t,e,n,r){return t[e+r*c+n*d]},set:function(t,e,n,r,i){return t[e+r*c+n*d]=i},add:function(t,e,n,r,i){return t[e+r*c+n*d]+=i},dataOffset:function(t,e,n){return t+n*c+e*d},getCoords:function(t,e){var n=Math.floor(t/c);return e[0]=t%c,e[1]=Math.floor(n/l),e[2]=n%l,e}}}if(1===n[0]&&0===n[1]&&2===n[2]){var f=e[1],p=e[0],m=f*p;return{get:function(t,e,n,r){return t[n+e*f+r*m]},set:function(t,e,n,r,i){return t[n+e*f+r*m]=i},add:function(t,e,n,r,i){return t[n+e*f+r*m]+=i},dataOffset:function(t,e,n){return e+t*f+n*m},getCoords:function(t,e){var n=Math.floor(t/f);return e[0]=n%p,e[1]=t%f,e[2]=Math.floor(n/p),e}}}if(1===n[0]&&2===n[1]&&0===n[2]){var h=e[1],g=e[2],v=h*g;return{get:function(t,e,n,r){return t[n+r*h+e*v]},set:function(t,e,n,r,i){return t[n+r*h+e*v]=i},add:function(t,e,n,r,i){return t[n+r*h+e*v]+=i},dataOffset:function(t,e,n){return e+n*h+t*v},getCoords:function(t,e){var n=Math.floor(t/h);return e[0]=Math.floor(n/g),e[1]=t%h,e[2]=n%g,e}}}if(2===n[0]&&0===n[1]&&1===n[2]){var y=e[2],_=e[0],b=y*_;return{get:function(t,e,n,r){return t[r+e*y+n*b]},set:function(t,e,n,r,i){return t[r+e*y+n*b]=i},add:function(t,e,n,r,i){return t[r+e*y+n*b]+=i},dataOffset:function(t,e,n){return n+t*y+e*b},getCoords:function(t,e){var n=Math.floor(t/y);return e[0]=n%_,e[1]=Math.floor(n/_),e[2]=t%y,e}}}if(2===n[0]&&1===n[1]&&0===n[2]){var x=e[2],A=e[1],w=x*A;return{get:function(t,e,n,r){return t[r+n*x+e*w]},set:function(t,e,n,r,i){return t[r+n*x+e*w]=i},add:function(t,e,n,r,i){return t[r+n*x+e*w]+=i},dataOffset:function(t,e,n){return n+e*x+t*w},getCoords:function(t,e){var n=Math.floor(t/x);return e[0]=Math.floor(n/A),e[1]=n%A,e[2]=t%x,e}}}throw new Error("bad axis order");default:return{get:function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return e[i(t,n)]},set:function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return e[i(t,n)]=n[n.length-1]},add:function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return e[i(t,n)]+=n[n.length-1]},dataOffset:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return i(t,e)},getCoords:function(e,n){return function(t,e,n){for(var r=t.dimensions,i=t.axisOrderFastToSlow,o=r.length,a=e,u=0;u<o;u++){var s=r[i[u]];n[i[u]]=a%s,a=Math.floor(a/s)}return n[i[o+1]]=a,n}(t,e,n)}}}}function r(t){for(var e=t.dimensions,n=1,r=0,i=e.length;r<i;r++)n*=e[r];return function(e){return new(e||t.defaultCtor)(n)}}function i(t,e){for(var n=t.accessDimensions,r=t.axisOrderFastToSlow,i=n.length-1,o=n[i]*e[r[i]],a=i-1;a>=0;a--)o=(o+e[r[a]])*n[a];return o}function o(t,e){for(var n=[],r=0;r<t.length;r++)n[r]=t[e[r]];return n}t.create=function(t,e){return{space:t,data:e}},t.Space=e,t.Data1=function(t){return t},t.Vector=function(t,n){return e([t],[0],n)},t.ColumnMajorMatrix=function(t,n,r){return e([t,n],[1,0],r)},t.RowMajorMatrix=function(t,n,r){return e([t,n],[0,1],r)},t.toMat4=function(t,e,n){if(2!==e.rank)throw new Error("Invalid tensor rank");for(var r=Math.min(4,e.dimensions[0]),i=Math.min(4,e.dimensions[1]),o=0;o<r;o++)for(var a=0;a<i;a++)D.setValue(t,o,a,e.get(n,o,a));return t},t.toMat3=function(t,e,n){if(2!==e.rank)throw new Error("Invalid tensor rank");for(var r=Math.min(3,e.dimensions[0]),i=Math.min(3,e.dimensions[1]),o=0;o<r;o++)for(var a=0;a<i;a++)O.setValue(t,o,a,e.get(n,o,a));return t},t.toVec3=function(t,e,n){if(1!==e.rank)throw new Error("Invalid tensor rank");for(var r=Math.min(3,e.dimensions[0]),i=0;i<r;i++)t[i]=n[i];return t},t.toVec4=function(t,e,n){if(1!==e.rank)throw new Error("Invalid tensor rank");for(var r=Math.min(4,e.dimensions[0]),i=0;i<r;i++)t[i]=n[i];return t},t.areEqualExact=function(t,e){var n=t.length;if(n!==e.length)return!1;for(var r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0},t.invertAxisOrder=function(t){for(var e=[],n=0;n<t.length;n++)e[n]=t[t.length-n-1];return e},t.convertToCanonicalAxisIndicesFastToSlow=function(t){for(var e=new Int32Array(t.length),n=0;n<t.length;n++)e[t[n]]=n;return function(t){return o(t,e)}},t.convertToCanonicalAxisIndicesSlowToFast=function(t){for(var e=new Int32Array(t.length),n=0;n<t.length;n++)e[t[t.length-n-1]]=n;return function(t){return o(t,e)}}}(B||(B={})),(P=I||(I={})).create=function(t,e,n){void 0===n&&(n=Float32Array);var r=t*e;return{data:new n(r),size:r,cols:t,rows:e}},P.get=function(t,e,n){return t.data[t.rows*n+e]},P.set=function(t,e,n,r){return t.data[t.rows*n+e]=r,t},P.add=function(t,e,n,r){return t.data[t.rows*n+e]+=r,t},P.makeZero=function(t){return t.data.fill(0),t},P.clone=function(t){return{data:t.data.slice(),size:t.size,cols:t.cols,rows:t.rows}},P.fromArray=function(t,e,n){return{data:t,size:e*n,cols:e,rows:n}},P.transpose=function(t,e){if(t.cols!==e.rows||t.rows!==e.cols)throw new Error("transpose: matrix dimensions incompatible");if(t.data===e.data)throw new Error("transpose: matrices share memory");for(var n=e.rows,r=e.cols,i=e.data,o=t.data,a=0,u=0,s=0;a<n;s+=1,u+=r,++a)for(var c=s,l=0;l<r;c+=n,l++)o[c]=i[u+l];return t},P.multiplyABt=function(t,e,n){for(var r=e.cols,i=e.rows,o=n.rows,a=e.data,u=n.data,s=t.data,c=0,l=0,d=0;c<i;l+=r,c++)for(var f=0,p=0;p<o;d++,p++){for(var m=0,h=l,g=0;g<r;h++,f++,g++)m+=a[h]*u[f];s[d]=m}return t},P.meanRows=function(t){for(var e=t.rows,n=t.cols,r=t.data,i=new Array(n),o=0;o<n;++o)i[o]=0;for(var a=0,u=0;a<e;++a)for(o=0;o<n;++o,++u)i[o]+=r[u];for(o=0;o<n;++o)i[o]/=e;return i},P.subRows=function(t,e){for(var n=t.rows,r=t.cols,i=t.data,o=0,a=0;o<n;++o)for(var u=0;u<r;++u,++a)i[a]-=e[u];return t};var F;function q(t,e,n,r){var i=0,o=0,a=t.rows,u=t.cols,s=a,c=u;s<c&&(i=1,o=s,s=c,c=o);var l=I.create(s,s),d=I.create(1,c),f=I.create(c,c);if(0===i)I.transpose(l,t);else{for(o=0;o<u*a;o++)l.data[o]=t.data[o];for(;o<c*s;o++)l.data[o]=0}if(function(t,e,n,r,i,o,a,u){for(var s=0,c=0,l=0,d=0,f=Math.max(o,30),p=0,m=0,h=0,g=0,v=0,y=0,_=0,b=0,x=0,A=0,w=0,S=0,C=0,B=0,I=0,P=0,E=0,M=4660,k=0,D=0,O=0,N=new Float64Array(a<<3);s<a;s++){for(l=0,w=0;l<o;l++)w+=(b=t[s*e+l])*b;if(N[s]=w,r){for(l=0;l<a;l++)r[s*i+l]=0;r[s*i+s]=1}}for(;d<f;d++){for(v=0,s=0;s<a-1;s++)for(c=s+1;c<a;c++){for(p=s*e|0,m=c*e|0,I=N[s],P=0,E=N[c],l=2,P+=t[p]*t[m],P+=t[p+1]*t[m+1];l<o;l++)P+=t[p+l]*t[m+l];if(!(Math.abs(P)<=2.384185792e-7*Math.sqrt(I*E))){for(C=G(P*=2,S=I-E),S<0?(B=.5*(C-S),y=P/(C*(_=Math.sqrt(B/C))*2)):_=P/(C*(y=Math.sqrt((C+S)/(2*C)))*2),I=0,E=0,l=2,x=y*t[p]+_*t[m],A=-_*t[p]+y*t[m],t[p]=x,t[m]=A,I+=x*x,E+=A*A,x=y*t[p+1]+_*t[m+1],A=-_*t[p+1]+y*t[m+1],t[p+1]=x,t[m+1]=A,I+=x*x,E+=A*A;l<o;l++)x=y*t[p+l]+_*t[m+l],A=-_*t[p+l]+y*t[m+l],t[p+l]=x,t[m+l]=A,I+=x*x,E+=A*A;if(N[s]=I,N[c]=E,v=1,r)for(g=c*i|0,l=2,x=y*r[h=s*i|0]+_*r[g],A=-_*r[h]+y*r[g],r[h]=x,r[g]=A,x=y*r[h+1]+_*r[g+1],A=-_*r[h+1]+y*r[g+1],r[h+1]=x,r[g+1]=A;l<a;l++)x=y*r[h+l]+_*r[g+l],A=-_*r[h+l]+y*r[g+l],r[h+l]=x,r[g+l]=A}}if(0===v)break}for(s=0;s<a;s++){for(l=0,w=0;l<o;l++)w+=(b=t[s*e+l])*b;N[s]=Math.sqrt(w)}for(s=0;s<a-1;s++){for(c=s,l=s+1;l<a;l++)N[c]<N[l]&&(c=l);if(s!==c&&(L(N,s,c,w),r)){for(l=0;l<o;l++)L(t,s*e+l,c*e+l,b);for(l=0;l<a;l++)L(r,s*i+l,c*i+l,b)}}for(s=0;s<a;s++)n[s]=N[s];if(r)for(s=0;s<u;s++){for(w=s<a?N[s]:0;w<=1e-37;){for(D=1/o,l=0;l<o;l++)k=0!=(256&(M=214013*M+2531011)>>16)?D:-D,t[s*e+l]=k;for(d=0;d<2;d++)for(c=0;c<s;c++){for(w=0,l=0;l<o;l++)w+=t[s*e+l]*t[c*e+l];for(O=0,l=0;l<o;l++)b=t[s*e+l]-w*t[c*e+l],t[s*e+l]=b,O+=Math.abs(b);for(O=O?1/O:0,l=0;l<o;l++)t[s*e+l]*=O}for(w=0,l=0;l<o;l++)w+=(b=t[s*e+l])*b;w=Math.sqrt(w)}for(_=1/w,l=0;l<o;l++)t[s*e+l]*=_}}(l.data,s,d.data,f.data,c,s,c,s),e){for(o=0;o<c;o++)e.data[o]=d.data[o];for(;o<u;o++)e.data[o]=0}0===i?(n&&I.transpose(n,l),r&&I.transpose(r,f)):(n&&I.transpose(n,f),r&&I.transpose(r,l))}function j(t){return 0}function H(t){return function(e){return t[e]}}function V(t){return 0===t[3]&&0===t[7]&&0===t[11]&&1===t[15]}function z(t,e){var n=t.matrix,r=e.x,i=e.y,o=e.z,a=n[0],u=n[4],s=n[8],c=n[12];return V(n)?function(t){return a*r[t]+u*i[t]+s*o[t]+c}:function(t){var e=r[t],l=i[t],d=o[t],f=n[3]*e+n[7]*l+n[11]*d+n[15]||1;return(a*e+u*l+s*d+c)/f}}function Y(t,e){var n=t.matrix,r=e.x,i=e.y,o=e.z,a=n[1],u=n[5],s=n[9],c=n[13];return V(n)?function(t){return a*r[t]+u*i[t]+s*o[t]+c}:function(t){var e=r[t],l=i[t],d=o[t],f=n[3]*e+n[7]*l+n[11]*d+n[15]||1;return(a*e+u*l+s*d+c)/f}}function K(t,e){var n=t.matrix,r=e.x,i=e.y,o=e.z,a=n[2],u=n[6],s=n[10],c=n[14];return V(n)?function(t){return a*r[t]+u*i[t]+s*o[t]+c}:function(t){var e=r[t],l=i[t],d=o[t],f=n[3]*e+n[7]*l+n[11]*d+n[15]||1;return(a*e+u*l+s*d+c)/f}}!function(t){function e(e,n,r){var i=r||{},o=i.assembly,a=i.ncsId,u=i.hkl,s=i.spgrOp,c=i.key,l=u?C.clone(u):C();s=null!=s?s:-1,c=null!=c?c:-1,a=a||-1;var d=D.isIdentity(n),f=function(t,e){if(!t)return"";if(t.assembly)return(n=t)&&n.matrix&&n.inverse&&"string"==typeof n.name?t.suffix:e?"":"_".concat(t.assembly.operId);var n;if(void 0!==t.spgrOp&&void 0!==t.hkl&&-1!==t.spgrOp){var r=t.hkl,i=r[0],o=r[1],a=r[2];return"-".concat(t.spgrOp+1,"_").concat(5+i).concat(5+o).concat(5+a)}if(-1!==t.ncsId)return"_".concat(t.ncsId);return""}(r,d);return d?{name:e,assembly:o,matrix:n,inverse:D.identity(),isIdentity:!0,hkl:l,spgrOp:s,ncsId:a,suffix:f,key:c}:(D.isRotationAndTranslation(n,t.RotationTranslationEpsilon)||console.warn("Symmetry operator (".concat(e,") should be a composition of rotation and translation.")),{name:e,assembly:o,matrix:n,inverse:D.invert(D(),n),isIdentity:!1,hkl:l,spgrOp:s,key:c,ncsId:a,suffix:f})}t.DefaultName="1_555",t.Default=e(t.DefaultName,D.identity()),t.RotationTranslationEpsilon=.005,t.create=e,t.checkIfRotationAndTranslation=function(e,n){for(var r=D.identity(),i=0;i<3;i++)for(var o=0;o<3;o++)D.setValue(r,i,o,O.getValue(e,i,o));return D.setTranslation(r,n),D.isRotationAndTranslation(r,t.RotationTranslationEpsilon)},t.ofRotationAndOffset=function(t,n,r,i){for(var o=D.identity(),a=0;a<3;a++)for(var u=0;u<3;u++)D.setValue(o,a,u,O.getValue(n,a,u));return D.setTranslation(o,r),e(t,o,{ncsId:i})};var n=R.identity(),r=R(),i=R(),o=C();function a(e,n,r){var i=u(t.Default,n),o=e.isIdentity?i:u(e,n),a=function(t,e){return t.isIdentity?{x:H(e.x),y:H(e.y),z:H(e.z)}:{x:z(t,e),y:Y(t,e),z:K(t,e)}}(e,n);return{operator:e,coordinates:n,invariantPosition:i,position:o,x:a.x,y:a.y,z:a.z,r:r}}function u(t,e){return t.isIdentity?(r=(n=e).x,i=n.y,o=n.z,function(t,e){return e[0]=r[t],e[1]=i[t],e[2]=o[t],e}):function(t,e){var n=t.matrix,r=e.x,i=e.y,o=e.z;if(V(n))return function(t,e){var a=r[t],u=i[t],s=o[t];return e[0]=n[0]*a+n[4]*u+n[8]*s+n[12],e[1]=n[1]*a+n[5]*u+n[9]*s+n[13],e[2]=n[2]*a+n[6]*u+n[10]*s+n[14],e};return function(t,e){return e[0]=r[t],e[1]=i[t],e[2]=o[t],C.transformMat4(e,e,n),e}}(t,e);var n,r,i,o}t.lerpFromIdentity=function(t,e,i){var a=e.inverse;if(e.isIdentity)return D.copy(t,a);var u=1-i;D.getRotation(r,a),R.slerp(r,n,r,u);var s=R.getAxisAngle(o,r);return D.fromRotation(t,s,o),D.setValue(t,0,3,u*D.getValue(a,0,3)),D.setValue(t,1,3,u*D.getValue(a,1,3)),D.setValue(t,2,3,u*D.getValue(a,2,3)),t},t.slerp=function(t,e,n,a){if(Math.abs(a)<=1e-5)return D.copy(t,e);if(Math.abs(a-1)<=1e-5)return D.copy(t,n);D.getRotation(r,e),D.getRotation(i,n),R.slerp(i,r,i,a);var u=R.getAxisAngle(o,i);return D.fromRotation(t,u,o),D.setValue(t,0,3,x(D.getValue(e,0,3),D.getValue(n,0,3),a)),D.setValue(t,1,3,x(D.getValue(e,1,3),D.getValue(n,1,3),a)),D.setValue(t,2,3,x(D.getValue(e,2,3),D.getValue(n,2,3),a)),t},t.compose=function(t,n){var r=D.mul(D(),n.matrix,t.matrix);return e(n.name,r,n)},t.createMapping=function(t,e,n){return void 0===n&&(n=j),a(t,e,n)},t.createCoordinateMapper=u}(F||(F={}));var Z=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[-1,0,0,0],[0,-1,0,0],[0,0,-1,0],[0,1,0,.5],[1,0,0,.5],[-1,0,0,.5],[0,0,1,.5],[0,-1,0,.5],[0,0,-1,.5],[1,0,0,.25],[0,-1,0,.25],[0,0,1,.25],[-1,0,0,.25],[0,1,0,.25],[0,-1,0,.75],[0,0,1,.75],[0,1,0,.75],[1,0,0,.75],[-1,0,0,.75],[0,0,-1,.25],[0,0,-1,.75],[1,-1,0,0],[-1,1,0,0],[0,0,1,1/3],[0,0,1,2/3],[1,0,0,2/3],[0,1,0,1/3],[0,-1,0,2/3],[1,-1,0,1/3],[-1,1,0,2/3],[-1,0,0,1/3],[1,0,0,1/3],[0,1,0,2/3],[0,-1,0,1/3],[1,-1,0,2/3],[-1,1,0,1/3],[-1,0,0,2/3],[0,0,-1,1/3],[0,0,-1,2/3],[0,0,1,5/6],[0,0,1,1/6],[0,0,-1,5/6],[0,0,-1,1/6]],W=[[0,1,2],[3,4,5],[3,1,5],[3,6,5],[7,6,2],[8,6,5],[0,4,2],[0,4,9],[7,10,2],[7,10,9],[0,10,2],[8,10,5],[3,1,11],[3,6,11],[0,10,9],[8,6,11],[3,4,2],[0,4,5],[3,4,9],[7,10,5],[8,4,9],[8,10,9],[8,10,2],[0,6,9],[3,10,9],[0,10,11],[7,1,9],[8,1,11],[7,4,11],[7,6,9],[7,10,11],[3,10,2],[8,1,5],[0,4,11],[3,1,2],[3,1,9],[7,4,2],[8,1,2],[8,1,9],[3,6,9],[7,4,9],[8,6,2],[8,6,9],[3,6,2],[12,13,14],[15,16,14],[12,17,18],[15,19,18],[20,13,18],[21,16,18],[20,17,14],[21,19,14],[0,1,5],[8,10,11],[7,6,11],[7,6,5],[8,4,2],[7,4,5],[7,1,5],[7,1,11],[0,10,5],[0,1,11],[0,6,11],[0,6,5],[3,10,11],[8,4,11],[15,13,22],[12,16,22],[15,17,23],[12,19,23],[21,13,23],[20,16,23],[21,17,22],[20,19,22],[4,0,2],[1,3,2],[4,0,14],[1,3,18],[4,0,9],[1,3,9],[4,0,18],[1,3,14],[10,7,9],[6,8,9],[4,7,14],[6,3,18],[10,0,18],[1,8,14],[1,3,5],[4,0,5],[6,8,11],[10,7,11],[1,3,11],[4,0,11],[10,7,2],[6,8,2],[3,10,22],[7,1,23],[8,4,23],[0,6,22],[1,0,5],[4,3,5],[1,0,23],[4,3,22],[10,7,14],[6,8,18],[8,6,22],[7,10,23],[4,3,11],[1,0,11],[1,0,22],[4,3,23],[10,7,18],[6,8,14],[8,6,23],[7,10,22],[6,7,11],[10,8,11],[8,1,23],[0,10,22],[3,6,22],[7,4,23],[4,3,2],[1,0,2],[10,8,2],[6,7,2],[4,3,9],[1,0,9],[10,8,9],[6,7,9],[4,8,14],[6,0,18],[10,3,18],[1,7,14],[4,8,18],[6,0,14],[10,3,14],[1,7,18],[6,7,5],[10,8,5],[6,8,5],[10,7,5],[8,1,22],[0,10,23],[3,6,23],[7,4,22],[4,24,2],[25,3,2],[4,24,26],[25,3,27],[4,24,27],[25,3,26],[28,29,26],[30,31,26],[32,33,26],[34,35,27],[36,37,27],[38,39,27],[2,0,1],[1,2,0],[1,25,5],[24,0,5],[39,36,40],[35,38,40],[37,34,40],[33,30,41],[29,32,41],[31,28,41],[5,3,4],[4,5,3],[25,1,5],[0,24,5],[24,4,5],[3,25,5],[4,3,41],[25,1,40],[24,4,41],[3,25,40],[4,3,40],[25,1,41],[24,4,40],[3,25,41],[35,34,40],[37,36,40],[39,38,40],[29,28,41],[31,30,41],[33,32,41],[3,5,4],[5,4,3],[25,1,2],[0,24,2],[24,4,2],[3,25,2],[25,1,9],[0,24,9],[24,4,9],[3,25,9],[30,33,26],[32,29,26],[28,31,26],[36,39,27],[38,35,27],[34,37,27],[0,2,1],[2,1,0],[30,33,42],[32,29,42],[28,31,42],[36,39,43],[38,35,43],[34,37,43],[7,9,6],[9,6,7],[25,1,11],[0,24,11],[24,4,11],[3,25,11],[35,34,44],[37,36,44],[39,38,44],[29,28,45],[31,30,45],[33,32,45],[8,11,10],[11,10,8],[1,25,2],[24,0,2],[1,25,42],[24,0,43],[1,25,43],[24,0,42],[1,25,27],[24,0,26],[1,25,26],[24,0,27],[1,25,9],[24,0,9],[4,24,5],[25,3,5],[4,24,11],[25,3,11],[1,0,40],[4,3,44],[0,24,45],[1,0,41],[4,3,45],[0,24,44],[0,24,40],[0,24,41],[2,3,4],[5,3,1],[5,0,4],[4,2,3],[1,5,3],[4,5,0],[2,7,6],[2,8,10],[5,8,6],[5,7,10],[1,9,7],[4,9,8],[1,11,8],[4,11,7],[9,0,6],[9,3,10],[11,3,6],[11,0,10],[6,2,7],[10,2,8],[6,5,8],[10,5,7],[9,7,1],[9,8,4],[11,8,1],[11,7,4],[6,9,0],[10,9,3],[6,11,3],[10,11,0],[9,7,6],[9,8,10],[11,8,6],[11,7,10],[6,9,7],[10,9,8],[6,11,8],[10,11,7],[2,3,10],[5,8,1],[11,0,4],[10,2,3],[1,5,8],[4,11,0],[5,0,1],[2,0,4],[2,3,1],[1,5,0],[4,2,0],[1,2,3],[11,8,10],[11,7,6],[9,7,10],[9,8,6],[10,11,8],[6,11,7],[10,9,7],[6,9,8],[5,8,10],[5,7,6],[2,7,10],[2,8,6],[4,11,8],[1,11,7],[4,9,7],[1,9,8],[11,3,10],[11,0,6],[9,0,10],[9,3,6],[10,5,8],[6,5,7],[10,2,7],[6,2,8],[11,8,4],[11,7,1],[9,7,4],[9,8,1],[10,11,3],[6,11,0],[10,9,0],[6,9,3],[22,15,13],[22,12,16],[14,12,13],[14,15,16],[13,22,15],[16,22,12],[13,14,12],[16,14,15],[22,21,17],[22,20,19],[14,20,17],[14,21,19],[13,23,21],[16,23,20],[13,18,20],[16,18,21],[23,15,17],[23,12,19],[18,12,17],[18,15,19],[17,22,21],[19,22,20],[17,14,20],[19,14,21],[23,21,13],[23,20,16],[18,20,13],[18,21,16],[17,23,15],[19,23,12],[17,18,12],[19,18,15],[5,0,6],[2,7,4],[9,3,1],[6,5,0],[4,2,7],[1,9,3],[0,2,4],[3,2,1],[0,5,1],[2,1,3],[2,4,0],[5,1,0],[7,9,10],[8,9,6],[7,11,6],[9,6,8],[9,10,7],[11,6,7],[1,7,11],[4,8,11],[1,8,9],[4,7,9],[0,9,10],[3,9,6],[3,11,10],[0,11,6],[2,6,8],[2,10,7],[5,6,7],[5,10,8],[6,0,11],[10,3,11],[6,3,9],[10,0,9],[7,2,10],[8,2,6],[8,5,10],[7,5,6],[9,1,8],[9,4,7],[11,1,7],[11,4,8],[7,9,4],[8,9,1],[8,11,4],[7,11,1],[9,6,3],[9,10,0],[11,6,0],[11,10,3],[19,12,23],[13,15,22],[16,21,18],[17,20,14],[20,14,17],[21,18,16],[15,22,13],[12,23,19],[18,16,21],[14,17,20],[23,19,12],[22,13,15],[19,20,22],[13,21,23],[16,15,14],[17,12,18],[20,18,13],[21,14,19],[15,23,17],[12,22,16],[18,19,15],[14,13,12],[23,16,20],[22,17,21],[16,12,22],[17,15,23],[19,21,14],[13,20,18],[12,14,13],[15,18,19],[21,22,17],[20,23,16],[14,16,15],[18,17,12],[22,19,20],[23,13,21],[16,20,23],[17,21,22],[19,15,18],[13,12,14],[12,18,17],[15,14,16],[21,23,13],[20,22,19],[14,19,21],[18,13,20],[22,16,12],[23,17,15],[19,12,22],[17,21,23],[16,15,18],[13,20,14],[20,14,13],[15,18,16],[21,23,17],[12,22,19],[18,16,15],[14,13,20],[22,19,12],[23,17,21],[3,2,4],[3,5,1],[0,5,4],[2,4,3],[5,1,3],[5,4,0],[1,7,9],[4,8,9],[1,8,11],[4,7,11],[0,9,6],[3,9,10],[3,11,6],[0,11,10],[2,6,7],[2,10,8],[5,6,8],[5,10,7],[6,0,9],[10,3,9],[6,3,11],[10,0,11],[7,2,6],[8,2,10],[8,5,6],[7,5,10],[9,1,7],[9,4,8],[11,1,8],[11,4,7],[7,9,1],[8,9,4],[8,11,1],[7,11,4],[9,6,0],[9,10,3],[11,6,3],[11,10,0],[8,9,10],[8,11,6],[7,11,10],[9,10,8],[11,6,8],[11,10,7],[6,0,2],[10,3,2],[6,3,5],[10,0,5],[7,2,1],[8,2,4],[8,5,1],[7,5,4],[9,1,0],[9,4,3],[11,1,3],[11,4,0],[1,7,2],[4,8,2],[1,8,5],[4,7,5],[0,9,1],[3,9,4],[3,11,1],[0,11,4],[2,6,0],[2,10,3],[5,6,3],[5,10,0],[0,2,6],[3,2,10],[3,5,6],[0,5,10],[2,1,7],[2,4,8],[5,1,8],[5,4,7],[16,12,14],[13,21,18],[19,15,23],[17,20,22],[12,14,16],[21,18,13],[15,23,19],[20,22,17],[14,16,12],[18,13,21],[23,19,15],[22,17,20],[19,20,18],[17,15,14],[16,21,22],[13,12,23],[20,18,19],[15,14,17],[21,22,16],[12,23,13],[18,19,20],[14,17,15],[22,16,21],[23,13,12],[6,0,5],[10,3,5],[6,3,2],[10,0,2],[7,2,4],[8,2,1],[8,5,4],[7,5,1],[9,1,3],[9,4,0],[11,1,0],[11,4,3],[1,7,5],[4,8,5],[1,8,2],[4,7,2],[0,9,4],[3,9,1],[3,11,4],[0,11,1],[2,6,3],[2,10,0],[5,6,0],[5,10,3],[0,2,10],[3,2,6],[3,5,10],[0,5,6],[2,1,8],[2,4,7],[5,1,7],[5,4,8],[21,17,23],[20,16,22],[12,13,18],[15,19,14],[23,21,17],[22,20,16],[18,12,13],[14,15,19],[17,23,21],[16,22,20],[13,18,12],[19,14,15],[21,13,22],[20,19,23],[12,17,14],[15,16,18],[23,15,13],[22,12,19],[18,20,17],[14,21,16],[17,22,15],[16,23,12],[13,14,20],[19,18,21],[15,17,22],[12,16,23],[20,13,14],[21,19,18],[22,21,13],[23,20,19],[14,12,17],[18,15,16],[13,23,15],[19,22,12],[17,18,20],[16,14,21],[15,13,23],[12,19,22],[20,17,18],[21,16,14],[22,15,17],[23,12,16],[14,20,13],[18,21,19],[13,22,21],[19,23,20],[17,14,12],[16,18,15],[6,5,3],[4,9,3],[9,3,4],[5,7,4],[4,5,7],[5,3,6]],X=[[0],[0,1],[0,2],[0,3],[0,2,4,5],[0,6],[0,7],[0,6,4,8],[0,7,4,9],[0,6,2,1],[0,3,1,10],[0,6,2,1,4,8,5,11],[0,12,1,7],[0,1,13,14],[0,12,1,7,4,15,11,9],[0,16,2,17],[0,18,12,17],[0,16,5,19],[0,20,13,19],[0,18,12,17,4,21,15,19],[0,16,2,17,4,22,5,19],[0,16,2,17,23,24,13,25,26,20,27,28,4,22,5,19],[0,16,17,2,29,21,30,15],[0,20,13,19,29,31,32,33],[0,16,6,34],[0,18,7,34],[0,16,7,35],[0,16,36,37],[0,18,36,38],[0,16,14,39],[0,20,40,34],[0,16,8,41],[0,18,8,42],[0,16,9,42],[0,16,6,34,4,22,8,41],[0,18,7,34,4,21,9,41],[0,16,7,35,4,22,9,42],[0,16,6,34,23,24,14,39],[0,16,10,43,23,24,7,35],[0,16,36,37,23,24,9,42],[0,16,8,41,23,24,40,38],[0,16,6,34,23,24,14,39,26,20,40,38,4,22,8,41],[0,16,44,45,23,24,46,47,26,20,48,49,4,22,50,51],[0,16,6,34,29,21,9,42],[0,16,8,41,29,21,7,35],[0,16,36,37,29,21,14,39],[0,16,2,17,1,52,6,34],[0,16,2,17,53,54,9,42],[0,16,12,33,1,52,7,35],[0,16,2,17,11,55,8,41],[0,56,2,57,1,58,6,37],[0,56,15,25,1,58,9,39],[0,20,27,17,1,59,40,34],[0,56,12,28,1,58,7,38],[0,16,5,19,1,52,8,41],[0,22,13,28,1,55,14,38],[0,18,13,60,1,61,14,43],[0,16,15,30,1,52,9,42],[0,16,5,19,11,55,6,34],[0,21,12,19,1,54,7,41],[0,20,13,19,1,59,14,41],[0,20,3,30,1,59,10,42],[0,18,12,17,1,61,7,34,4,21,15,19,11,54,9,41],[0,24,13,17,1,62,14,34,4,20,27,19,11,59,40,41],[0,16,2,17,1,52,6,34,4,22,5,19,11,55,8,41],[0,16,12,33,1,52,7,35,4,22,15,30,11,55,9,42],[0,31,3,17,1,63,10,34,4,56,32,19,11,58,36,41],[0,22,2,19,64,59,14,38,4,16,5,17,65,62,40,39],[0,16,2,17,1,52,6,34,23,24,13,25,64,62,14,39,26,20,27,28,65,59,40,38,4,22,5,19,11,55,8,41],[0,16,2,17,66,67,44,45,23,24,13,25,68,69,46,47,26,20,27,28,70,71,48,49,4,22,5,19,72,73,50,51],[0,16,2,17,1,52,6,34,29,21,15,30,53,54,9,42],[0,16,5,19,1,52,8,41,29,21,12,33,53,54,7,35],[0,20,13,19,1,59,14,41,29,31,32,33,53,63,36,35],[0,31,3,17,1,63,10,34,29,20,27,30,53,59,40,42],[0,16,74,75],[0,18,76,77],[0,16,78,79],[0,18,80,81],[0,16,74,75,29,21,82,83],[0,21,84,85,29,16,86,87],[0,16,88,89],[0,16,88,89,29,21,90,91],[0,16,74,75,1,52,88,89],[0,16,78,79,1,52,92,93],[0,16,94,95,11,55,88,89],[0,16,82,83,53,54,88,89],[0,16,74,75,1,52,88,89,29,21,82,83,53,54,90,91],[0,21,84,85,96,97,88,91,29,16,86,87,98,99,90,89],[0,16,74,75,2,17,100,101],[0,16,94,95,5,19,100,101],[0,18,76,77,2,33,102,103],[0,18,104,105,106,107,100,108],[0,16,78,79,2,17,109,108],[0,16,82,83,15,30,100,101],[0,18,80,81,2,33,110,111],[0,18,112,113,114,115,100,108],[0,16,74,75,2,17,100,101,29,21,82,83,15,30,116,117],[0,21,84,85,118,119,116,101,29,16,86,87,120,121,100,117],[0,16,74,75,6,34,122,123],[0,16,74,75,8,41,124,125],[0,16,78,79,7,35,122,123],[0,16,82,83,9,42,122,123],[0,16,74,75,7,35,126,127],[0,16,74,75,9,42,128,129],[0,16,78,79,6,34,126,127],[0,16,78,79,8,41,128,129],[0,16,74,75,6,34,122,123,29,21,82,83,9,42,128,129],[0,16,74,75,7,35,126,127,29,21,82,83,8,41,124,125],[0,21,84,85,6,42,130,131,29,16,86,87,9,34,132,133],[0,21,84,85,7,41,134,135,29,16,86,87,8,35,136,137],[0,16,89,88,2,17,122,123],[0,16,89,88,12,33,126,127],[0,16,89,88,5,19,124,125],[0,16,89,88,15,30,128,129],[0,16,88,89,6,34,100,101],[0,16,89,88,7,35,109,108],[0,16,89,88,8,41,138,139],[0,16,89,88,9,42,116,117],[0,16,89,88,6,34,100,101,29,21,91,90,9,42,116,117],[0,16,89,88,7,35,109,108,29,21,91,90,8,41,138,139],[0,16,89,88,2,17,122,123,29,21,91,90,15,30,128,129],[0,16,89,88,118,121,132,131,29,21,91,90,120,119,130,133],[0,16,74,75,2,17,100,101,1,52,88,89,6,34,122,123],[0,16,74,75,12,33,109,108,1,52,88,89,7,35,126,127],[0,16,74,75,2,17,100,101,11,55,140,141,8,41,124,125],[0,16,74,75,2,17,100,101,53,54,90,91,9,42,128,129],[0,16,74,75,5,19,138,139,1,52,88,89,8,41,124,125],[0,16,74,75,15,30,116,117,1,52,88,89,9,42,128,129],[0,16,94,95,5,19,100,101,11,55,88,89,6,34,124,125],[0,16,94,95,15,30,109,108,11,55,88,89,7,35,128,129],[0,16,78,79,2,17,109,108,1,52,92,93,6,34,126,127],[0,16,78,79,12,33,100,101,1,52,92,93,7,35,122,123],[0,16,82,83,12,33,138,139,53,54,88,89,8,41,126,127],[0,16,82,83,2,17,116,117,53,54,88,89,9,42,122,123],[0,16,78,79,5,19,116,117,1,52,92,93,8,41,128,129],[0,16,82,83,15,30,100,101,1,52,90,91,9,42,122,123],[0,16,82,83,15,30,100,101,53,54,88,89,6,34,128,129],[0,16,82,83,5,19,109,108,53,54,88,89,7,35,124,125],[0,16,74,75,2,17,100,101,1,52,88,89,6,34,122,123,29,21,82,83,15,30,116,117,53,54,90,91,9,42,128,129],[0,16,74,75,12,33,109,108,1,52,88,89,7,35,126,127,29,21,82,83,5,19,138,139,53,54,90,91,8,41,124,125],[0,21,84,85,118,119,116,101,96,97,88,91,9,34,132,133,29,16,86,87,120,121,100,117,98,99,90,89,6,42,130,131],[0,21,84,85,142,143,138,108,96,97,88,91,8,35,136,137,29,16,86,87,144,145,109,139,98,99,90,89,7,41,134,135],[0,146,147],[0,148,149],[0,150,151],[0,146,147,152,153,154,155,156,157],[0,158,159],[0,146,147,1,160,161],[0,146,147,1,160,161,152,153,154,162,163,164,155,156,157,165,166,167],[0,158,159,1,168,169],[0,146,147,101,170,171],[0,146,147,100,172,173],[0,148,149,174,175,171],[0,148,149,100,176,177],[0,150,151,178,179,171],[0,150,151,100,180,181],[0,146,147,100,172,173,152,153,154,182,183,184,155,156,157,185,186,187],[0,158,159,101,188,189],[0,146,147,122,190,191],[0,146,147,123,192,193],[0,146,147,126,194,195],[0,146,147,127,196,197],[0,146,147,122,190,191,152,153,154,198,199,200,155,156,157,201,202,203],[0,158,159,123,204,205],[0,146,147,126,194,195,152,153,154,206,207,208,155,156,157,209,210,211],[0,158,159,129,212,213],[0,146,147,101,170,171,1,160,161,123,192,193],[0,146,147,108,214,215,1,160,161,127,196,197],[0,146,147,100,172,173,1,160,161,122,190,191],[0,146,147,109,216,217,1,160,161,126,194,195],[0,146,147,100,172,173,1,160,161,122,190,191,152,153,154,182,183,184,162,163,164,198,199,200,155,156,157,185,186,187,165,166,167,201,202,203],[0,158,159,101,188,189,1,168,169,123,204,205],[0,146,147,109,216,217,1,160,161,126,194,195,152,153,154,218,219,220,162,163,164,206,207,208,155,156,157,221,222,223,165,166,167,209,210,211],[0,158,159,117,224,225,1,168,169,129,212,213],[0,146,147,16,226,227],[0,148,149,18,228,229],[0,150,151,18,230,231],[0,150,151,16,232,233],[0,148,149,16,234,235],[0,146,147,18,236,237],[0,146,147,52,238,239],[0,146,147,16,226,227,1,160,161,52,238,239],[0,146,147,18,236,237,1,160,161,61,240,241],[0,146,147,16,226,227,100,172,173,101,170,171],[0,148,149,18,228,229,242,172,181,243,214,244],[0,150,151,18,230,231,245,172,177,246,214,247],[0,150,151,16,232,233,245,172,177,174,170,248],[0,148,149,16,234,235,242,172,181,178,170,249],[0,146,147,18,236,237,100,172,173,108,214,215],[0,146,147,16,226,227,122,190,191,123,192,193],[0,146,147,16,226,227,126,194,195,127,196,197],[0,146,147,18,236,237,126,194,195,123,192,193],[0,146,147,18,236,237,122,190,191,127,196,197],[0,146,147,52,238,239,122,190,191,101,170,171],[0,146,147,61,240,241,126,194,195,101,170,171],[0,146,147,52,238,239,100,172,173,123,192,193],[0,146,147,61,240,241,100,172,173,127,196,197],[0,146,147,16,226,227,100,172,173,101,170,171,1,160,161,52,239,238,122,190,191,123,192,193],[0,146,147,16,226,227,109,216,217,108,214,215,1,160,161,52,239,238,126,194,195,127,196,197],[0,146,147,18,236,237,109,216,217,101,170,171,1,160,161,61,241,240,126,194,195,123,192,193],[0,146,147,18,236,237,100,172,173,108,214,215,1,160,161,61,241,240,122,190,191,127,196,197],[0,16,2,17,158,250,251,252,159,253,254,255],[0,16,2,17,158,250,251,252,159,253,254,255,23,24,13,25,256,257,258,259,260,261,262,263,26,20,27,28,264,265,266,267,268,269,270,271,4,22,5,19,272,273,274,275,276,277,278,279],[0,16,2,17,158,250,251,252,159,253,254,255,29,21,15,30,280,281,282,283,284,285,286,287],[0,20,13,19,158,273,266,259,159,261,278,271],[0,20,13,19,158,273,266,259,159,261,278,271,29,31,32,33,280,288,289,290,284,291,292,293],[0,16,2,17,158,250,251,252,159,253,254,255,1,52,6,34,168,294,295,296,169,297,298,299],[0,16,2,17,158,250,251,252,159,253,254,255,53,54,9,42,300,301,302,303,304,305,306,307],[0,16,2,17,158,250,251,252,159,253,254,255,1,52,6,34,168,294,295,296,169,297,298,299,23,24,13,25,256,257,258,259,260,261,262,263,64,62,14,39,308,309,310,311,312,313,314,315,26,20,27,28,264,265,266,267,268,269,270,271,65,59,40,38,316,317,318,319,320,321,322,323,4,22,5,19,272,273,274,275,276,277,278,279,11,55,8,41,324,325,326,327,328,329,330,331],[0,16,2,17,158,250,251,252,159,253,254,255,66,67,44,45,332,333,334,335,336,337,338,339,23,24,13,25,256,257,258,259,260,261,262,263,68,69,46,47,340,341,342,343,344,345,346,347,26,20,27,28,264,265,266,267,268,269,270,271,70,71,48,49,348,349,350,351,352,353,354,355,4,22,5,19,272,273,274,275,276,277,278,279,72,73,50,51,356,357,358,359,360,361,362,363],[0,16,2,17,158,250,251,252,159,253,254,255,1,52,6,34,168,294,295,296,169,297,298,299,29,21,15,30,280,281,282,283,284,285,286,287,53,54,9,42,300,301,302,303,304,305,306,307],[0,20,13,19,158,273,266,259,159,261,278,271,1,59,14,41,168,325,318,311,169,313,330,323],[0,20,13,19,158,273,266,259,159,261,278,271,1,59,14,41,168,325,318,311,169,313,330,323,29,31,32,33,280,288,289,290,284,291,292,293,53,63,36,35,300,364,365,366,304,367,368,369],[0,16,2,17,158,250,251,252,159,253,254,255,100,101,75,74,370,371,188,372,373,374,375,189],[0,16,2,17,158,250,251,252,159,253,254,255,116,117,83,82,376,377,224,378,379,380,381,225],[0,16,2,17,158,250,251,252,159,253,254,255,100,101,75,74,370,371,188,372,373,374,375,189,23,24,13,25,256,257,258,259,260,261,262,263,382,383,384,385,386,387,388,389,390,391,392,393,26,20,27,28,264,265,266,267,268,269,270,271,394,395,396,397,398,399,400,401,402,403,404,405,4,22,5,19,272,273,274,275,276,277,278,279,138,139,95,94,406,407,408,409,410,411,412,413],[0,24,5,28,158,265,258,275,159,277,270,263,414,415,416,417,418,419,420,421,422,423,424,425,23,16,27,19,256,273,251,267,260,269,278,255,426,427,428,429,430,431,432,433,434,435,436,437,26,22,13,17,264,250,274,259,268,261,254,279,438,439,440,441,442,443,444,445,446,447,448,449,4,20,2,25,272,257,266,252,276,253,262,271,450,451,452,453,454,455,456,457,458,459,460,461],[0,16,2,17,158,250,251,252,159,253,254,255,100,101,75,74,370,371,188,372,373,374,375,189,29,21,15,30,280,281,282,283,284,285,286,287,116,117,83,82,376,377,224,378,379,380,381,225],[0,20,13,19,158,273,266,259,159,261,278,271,450,415,440,429,454,431,420,445,458,447,436,425],[0,20,13,19,158,273,266,259,159,261,278,271,462,463,464,465,466,467,468,469,470,471,472,473],[0,20,13,19,158,273,266,259,159,261,278,271,462,463,464,465,466,467,468,469,470,471,472,473,29,31,32,33,280,288,289,290,284,291,292,293,450,415,440,429,454,431,420,445,458,447,436,425],[0,16,2,17,158,250,251,252,159,253,254,255,123,122,88,89,204,474,475,476,205,477,478,479],[0,16,2,17,158,250,251,252,159,253,254,255,123,122,88,89,204,474,475,476,205,477,478,479,23,24,13,25,256,257,258,259,260,261,262,263,480,481,482,483,484,485,486,487,488,489,490,491,26,20,27,28,264,265,266,267,268,269,270,271,492,493,494,495,496,497,498,499,500,501,502,503,4,22,5,19,272,273,274,275,276,277,278,279,125,124,140,141,504,505,506,507,508,509,510,511],[0,16,2,17,158,250,251,252,159,253,254,255,123,122,88,89,204,474,475,476,205,477,478,479,29,21,15,30,280,281,282,283,284,285,286,287,129,128,90,91,212,512,513,514,213,515,516,517],[0,16,2,17,158,250,251,252,159,253,254,255,129,128,90,91,212,512,513,514,213,515,516,517],[0,16,2,17,158,250,251,252,159,253,254,255,129,128,90,91,212,512,513,514,213,515,516,517,23,24,13,25,256,257,258,259,260,261,262,263,518,519,520,521,522,523,524,525,526,527,528,529,26,20,27,28,264,265,266,267,268,269,270,271,530,531,532,533,534,535,536,537,538,539,540,541,4,22,5,19,272,273,274,275,276,277,278,279,127,126,92,93,542,543,544,545,546,547,548,549],[0,20,13,19,158,273,266,259,159,261,278,271,550,551,552,553,554,555,556,557,558,559,560,561,29,31,32,33,280,288,289,290,284,291,292,293,562,563,564,565,566,567,568,569,570,571,572,573],[0,16,2,17,158,250,251,252,159,253,254,255,100,101,75,74,370,371,188,372,373,374,375,189,1,52,6,34,168,294,295,296,169,297,298,299,122,123,89,88,475,476,204,474,479,478,477,205],[0,16,2,17,158,250,251,252,159,253,254,255,100,101,75,74,370,371,188,372,373,374,375,189,53,54,9,42,300,301,302,303,304,305,306,307,128,129,91,90,513,514,212,512,517,516,515,213],[0,16,2,17,158,250,251,252,159,253,254,255,116,117,83,82,376,377,224,378,379,380,381,225,1,52,6,34,168,294,295,296,169,297,298,299,128,129,91,90,513,514,212,512,517,516,515,213],[0,16,2,17,158,250,251,252,159,253,254,255,116,117,83,82,376,377,224,378,379,380,381,225,53,54,9,42,300,301,302,303,304,305,306,307,122,123,89,88,475,476,204,474,479,478,477,205],[0,16,2,17,158,250,251,252,159,253,254,255,100,101,75,74,370,371,188,372,373,374,375,189,1,52,6,34,168,294,295,296,169,297,298,299,122,123,89,88,475,476,204,474,479,478,477,205,23,24,13,25,256,257,258,259,260,261,262,263,382,383,384,385,386,387,388,389,390,391,392,393,64,62,14,39,308,309,310,311,312,313,314,315,481,480,483,482,486,487,484,485,491,490,489,488,26,20,27,28,264,265,266,267,268,269,270,271,394,395,396,397,398,399,400,401,402,403,404,405,65,59,40,38,316,317,318,319,320,321,322,323,493,492,495,494,498,499,496,497,503,502,501,500,4,22,5,19,272,273,274,275,276,277,278,279,138,139,95,94,406,407,408,409,410,411,412,413,11,55,8,41,324,325,326,327,328,329,330,331,124,125,141,140,506,507,504,505,511,510,509,508],[0,16,2,17,158,250,251,252,159,253,254,255,116,117,83,82,376,377,224,378,379,380,381,225,1,52,6,34,168,294,295,296,169,297,298,299,128,129,91,90,513,514,212,512,517,516,515,213,23,24,13,25,256,257,258,259,260,261,262,263,574,575,576,577,578,579,580,581,582,583,584,585,64,62,14,39,308,309,310,311,312,313,314,315,519,518,521,520,524,525,522,523,529,528,527,526,26,20,27,28,264,265,266,267,268,269,270,271,586,587,588,589,590,591,592,593,594,595,596,597,65,59,40,38,316,317,318,319,320,321,322,323,531,530,533,532,536,537,534,535,541,540,539,538,4,22,5,19,272,273,274,275,276,277,278,279,109,108,79,78,598,599,600,601,602,603,604,605,11,55,8,41,324,325,326,327,328,329,330,331,126,127,93,92,544,545,542,543,549,548,547,546],[0,24,5,28,158,265,258,275,159,277,270,263,414,415,416,417,418,419,420,421,422,423,424,425,66,69,50,49,332,349,342,359,336,361,354,347,493,123,483,140,498,507,204,485,503,490,509,205,23,16,27,19,256,273,251,267,260,269,278,255,426,427,428,429,430,431,432,433,434,435,436,437,68,67,48,51,340,357,334,351,344,353,362,339,124,480,89,494,506,499,484,474,511,478,501,488,26,22,13,17,264,250,274,259,268,261,254,279,438,439,440,441,442,443,444,445,446,447,448,449,70,73,46,45,348,333,358,343,352,345,338,363,122,492,141,482,475,487,496,505,479,510,489,500,4,20,2,25,272,257,266,252,276,253,262,271,450,451,452,453,454,455,456,457,458,459,460,461,72,71,44,47,356,341,350,335,360,337,346,355,481,125,495,88,486,476,504,497,491,502,477,508],[0,24,5,28,158,265,258,275,159,277,270,263,414,415,416,417,418,419,420,421,422,423,424,425,606,607,608,609,610,611,612,613,614,615,616,617,531,129,521,92,536,545,212,523,541,528,547,213,23,16,27,19,256,273,251,267,260,269,278,255,426,427,428,429,430,431,432,433,434,435,436,437,618,619,620,621,622,623,624,625,626,627,628,629,126,518,91,532,544,537,522,512,549,516,539,526,26,22,13,17,264,250,274,259,268,261,254,279,438,439,440,441,442,443,444,445,446,447,448,449,630,631,632,633,634,635,636,637,638,639,640,641,128,530,93,520,513,525,534,543,517,548,527,538,4,20,2,25,272,257,266,252,276,253,262,271,450,451,452,453,454,455,456,457,458,459,460,461,642,643,644,645,646,647,648,649,650,651,652,653,519,127,533,90,524,514,542,535,529,540,515,546],[0,16,2,17,158,250,251,252,159,253,254,255,100,101,75,74,370,371,188,372,373,374,375,189,1,52,6,34,168,294,295,296,169,297,298,299,122,123,89,88,475,476,204,474,479,478,477,205,29,21,15,30,280,281,282,283,284,285,286,287,116,117,83,82,376,377,224,378,379,380,381,225,53,54,9,42,300,301,302,303,304,305,306,307,128,129,91,90,513,514,212,512,517,516,515,213],[0,20,13,19,158,273,266,259,159,261,278,271,462,463,464,465,466,467,468,469,470,471,472,473,1,59,14,41,168,325,318,311,169,313,330,323,551,550,553,552,556,557,554,555,561,560,559,558,29,31,32,33,280,288,289,290,284,291,292,293,450,415,440,429,454,431,420,445,458,447,436,425,53,63,36,35,300,364,365,366,304,367,368,369,563,562,565,564,568,569,566,567,573,572,571,570],[0,16],[0,18],[0,16,26,20],[0,2,23,13],[0,3,4,32],[0,2,29,15],[0,3,29,27],[0,52],[0,63],[0,52,26,59],[0,63,26,54],[0,52,16,1],[0,18,1,61],[0,52,16,1,26,59,20,65],[0,31,1,63],[0,1,24,62],[0,15,1,9],[0,5,1,8],[0,31,1,63,26,21,65,54],[0,2,57,56],[0,60,3,16],[0,22,57,3],[0,2,28,20],[0,17,13,24],[0,20,19,13,4,24,17,27],[0,22,57,3,4,16,60,32],[0,22,57,3,23,20,30,12,26,24,33,15,4,16,60,32],[0,22,57,3,29,18,27,25],[0,22,3,57,1,55,10,37],[0,22,385,396,3,57,109,117],[0,22,57,3,159,279,654,655,158,274,656,657,29,18,25,27,284,658,262,269,280,659,257,267]],Q={"P 1":0,"P -1":1,"P 1 2 1":2,"P 1 21 1":3,"C 1 2 1":4,"P 1 m 1":5,"P 1 c 1":6,"C 1 m 1":7,"C 1 c 1":8,"P 1 2/m 1":9,"P 1 21/m 1":10,"C 1 2/m 1":11,"P 1 2/c 1":12,"P 1 21/c 1":13,"C 1 2/c 1":14,"P 2 2 2":15,"P 2 2 21":16,"P 21 21 2":17,"P 21 21 21":18,"C 2 2 21":19,"C 2 2 2":20,"F 2 2 2":21,"I 2 2 2":22,"I 21 21 21":23,"P m m 2":24,"P m c 21":25,"P c c 2":26,"P m a 2":27,"P c a 21":28,"P n c 2":29,"P m n 21":30,"P b a 2":31,"P n a 21":32,"P n n 2":33,"C m m 2":34,"C m c 21":35,"C c c 2":36,"A m m 2":37,"A b m 2":38,"A m a 2":39,"A b a 2":40,"F m m 2":41,"F d d 2":42,"I m m 2":43,"I b a 2":44,"I m a 2":45,"P 2/m 2/m 2/m":46,"P m m m":46,"P 2/n 2/n 2/n":47,"P n n n":47,"P 2/c 2/c 2/m":48,"P c c m":48,"P 2/b 2/a 2/n":49,"P b a n":49,"P 21/m 2/m 2/a":50,"P m m a":50,"P 2/n 21/n 2/a":51,"P n n a":51,"P 2/m 2/n 21/a":52,"P m n a":52,"P 21/c 2/c 2/a":53,"P c c a":53,"P 21/b 21/a 2/m":54,"P b a m":54,"P 21/c 21/c 2/n":55,"P c c n":55,"P 2/b 21/c 21/m":56,"P b c m":56,"P 21/n 21/n 2/m":57,"P n n m":57,"P 21/m 21/m 2/n":58,"P m m n":58,"P 21/b 2/c 21/n":59,"P b c n":59,"P 21/b 21/c 21/a":60,"P b c a":60,"P 21/n 21/m 21/a":61,"P n m a":61,"C 2/m 2/c 21/m":62,"C m c m":62,"C 2/m 2/c 21/a":63,"C m c a":63,"C 2/m 2/m 2/m":64,"C m m m":64,"C 2/c 2/c 2/m":65,"C c c m":65,"C 2/m 2/m 2/a":66,"C m m a":66,"C 2/c 2/c 2/a":67,"C c c a":67,"F 2/m 2/m 2/m":68,"F m m m":68,"F 2/d 2/d 2/d":69,"F d d d":69,"I 2/m 2/m 2/m":70,"I m m m":70,"I 2/b 2/a 2/m":71,"I b a m":71,"I 21/b 21/c 21/a":72,"I b c a":72,"I 21/m 21/m 21/a":73,"I m m a":73,"P 4":74,"P 41":75,"P 42":76,"P 43":77,"I 4":78,"I 41":79,"P -4":80,"I -4":81,"P 4/m":82,"P 42/m":83,"P 4/n":84,"P 42/n":85,"I 4/m":86,"I 41/a":87,"P 4 2 2":88,"P 4 21 2":89,"P 41 2 2":90,"P 41 21 2":91,"P 42 2 2":92,"P 42 21 2":93,"P 43 2 2":94,"P 43 21 2":95,"I 4 2 2":96,"I 41 2 2":97,"P 4 m m":98,"P 4 b m":99,"P 42 c m":100,"P 42 n m":101,"P 4 c c":102,"P 4 n c":103,"P 42 m c":104,"P 42 b c":105,"I 4 m m":106,"I 4 c m":107,"I 41 m d":108,"I 41 c d":109,"P -4 2 m":110,"P -4 2 c":111,"P -4 21 m":112,"P -4 21 c":113,"P -4 m 2":114,"P -4 c 2":115,"P -4 b 2":116,"P -4 n 2":117,"I -4 m 2":118,"I -4 c 2":119,"I -4 2 m":120,"I -4 2 d":121,"P 4/m 2/m 2/m":122,"P4/m m m":122,"P 4/m 2/c 2/c":123,"P4/m c c":123,"P 4/n 2/b 2/m":124,"P4/n b m":124,"P 4/n 2/n 2/c":125,"P4/n n c":125,"P 4/m 21/b 2/m":126,"P4/m b m":126,"P 4/m 21/n 2/c":127,"P4/m n c":127,"P 4/n 21/m 2/m":128,"P4/n m m":128,"P 4/n 2/c 2/c":129,"P4/n c c":129,"P 42/m 2/m 2/c":130,"P42/m m c":130,"P 42/m 2/c 2/m":131,"P42/m c m":131,"P 42/n 2/b 2/c":132,"P42/n b c":132,"P 42/n 2/n 2/m":133,"P42/n n m":133,"P 42/m 21/b 2/c":134,"P42/m b c":134,"P 42/m 21/n 2/m":135,"P42/m n m":135,"P 42/n 21/m 2/c":136,"P42/n m c":136,"P 42/n 21/c 2/m":137,"P42/n c m":137,"I 4/m 2/m 2/m":138,"I4/m m m":138,"I 4/m 2/c 2/m":139,"I4/m c m":139,"I 41/a 2/m 2/d":140,"I41/a m d":140,"I 41/a 2/c 2/d":141,"I41/a c d":141,"P 3":142,"P 31":143,"P 32":144,"H 3":145,"R 3":146,"P -3":147,"H -3":148,"R -3":149,"P 3 1 2":150,"P 3 2 1":151,"P 31 1 2":152,"P 31 2 1":153,"P 32 1 2":154,"P 32 2 1":155,"H 3 2":156,"R 3 2":157,"P 3 m 1":158,"P 3 1 m":159,"P 3 c 1":160,"P 3 1 c":161,"H 3 m":162,"R 3 m":163,"H 3 c":164,"R 3 c":165,"P -3 1 2/m":166,"P -3 1 m":166,"P -3 1 2/c":167,"P -3 1 c":167,"P -3 2/m 1":168,"P -3 m 1":168,"P -3 2/c 1":169,"P -3 c 1":169,"H -3 2/m":170,"H -3 m":170,"R -3 2/m":171,"R -3 m":171,"H -3 2/c":172,"H -3 c":172,"R -3 2/c":173,"R -3 c":173,"P 6":174,"P 61":175,"P 65":176,"P 62":177,"P 64":178,"P 63":179,"P -6":180,"P 6/m":181,"P 63/m":182,"P 6 2 2":183,"P 61 2 2":184,"P 65 2 2":185,"P 62 2 2":186,"P 64 2 2":187,"P 63 2 2":188,"P 6 m m":189,"P 6 c c":190,"P 63 c m":191,"P 63 m c":192,"P -6 m 2":193,"P -6 c 2":194,"P -6 2 m":195,"P -6 2 c":196,"P 6/m 2/m 2/m":197,"P 6/m m m":197,"P 6/m 2/c 2/c":198,"P 6/m c c":198,"P 63/m 2/c 2/m":199,"P 63/m c m":199,"P 63/m 2/m 2/c":200,"P 63/m m c":200,"P 2 3":201,"F 2 3":202,"I 2 3":203,"P 21 3":204,"I 21 3":205,"P 2/m -3":206,"P m -3":206,"P 2/n -3":207,"P n -3":207,"F 2/m -3":208,"F m -3":208,"F 2/d -3":209,"F d -3":209,"I 2/m -3":210,"I m -3":210,"P 21/a -3":211,"P a -3":211,"I 21/a -3":212,"I a -3":212,"P 4 3 2":213,"P 42 3 2":214,"F 4 3 2":215,"F 41 3 2":216,"I 4 3 2":217,"P 43 3 2":218,"P 41 3 2":219,"I 41 3 2":220,"P -4 3 m":221,"F -4 3 m":222,"I -4 3 m":223,"P -4 3 n":224,"F -4 3 c":225,"I -4 3 d":226,"P 4/m -3 2/m":227,"P m -3 m":227,"P 4/n -3 2/n":228,"P n -3 n":228,"P 42/m -3 2/n":229,"P m -3 n":229,"P 42/n -3 2/m":230,"P n -3 m":230,"F 4/m -3 2/m":231,"F m -3 m":231,"F 4/m -3 2/c":232,"F m -3 c":232,"F 41/d -3 2/m":233,"F d -3 m":233,"F 41/d -3 2/c":234,"F d -3 c":234,"I 4/m -3 2/m":235,"I m -3 m":235,"I 41/a -3 2/d":236,"I a -3 d":236,"P 1 1 2":237,"P 1 1 21":238,"B 1 1 2":239,"B 2":239,"A 1 2 1":240,"C 1 21 1":241,"I 1 2 1":242,"I 2":242,"I 1 21 1":243,"P 1 1 m":244,"P 1 1 b":245,"B 1 1 m":246,"B 1 1 b":247,"P 1 1 2/m":248,"P 1 1 21/m":249,"B 1 1 2/m":250,"P 1 1 2/b":251,"P 1 1 21/b":252,"P 1 21/n 1":253,"P 1 21/a 1":254,"B 1 1 2/b":255,"P 21 2 2":256,"P 2 21 2":257,"P 21 21 2 (a)":258,"P 21 2 21":259,"P 2 21 21":260,"C 2 2 21a)":261,"C 2 2 2a":262,"F 2 2 2a":263,"I 2 2 2a":264,"P 21/m 21/m 2/n a":265,"P 42 21 2a":266,"I 2 3a":267};function J(t){if(t<146)return t+1;if(146===t)return 1146;if(t<149)return t+1-1;if(149===t)return 1148;if(t<157)return t+1-2;if(157===t)return 1155;if(t<163)return t+1-3;if(163===t)return 1160;if(t<165)return t+1-4;if(165===t)return 1161;if(t<171)return t+1-5;if(171===t)return 1166;if(t<173)return t+1-6;if(173===t)return 1167;if(t<237)return t+1-7;if(237===t)return 1003;if(238===t)return 1004;if(239===t)return 1005;if(240===t)return 2005;if(241===t)return 3005;if(242===t)return 4005;if(243===t)return 5005;if(244===t)return 1006;if(245===t)return 1007;if(246===t)return 1008;if(247===t)return 1009;if(248===t)return 1010;if(249===t)return 1011;if(250===t)return 1012;if(251===t)return 1013;if(252===t)return 1014;if(253===t)return 2014;if(254===t)return 3014;if(255===t)return 1015;if(256===t)return 1017;if(257===t)return 2017;if(258===t)return 1018;if(259===t)return 2018;if(260===t)return 3018;if(261===t)return 1020;if(262===t)return 1021;if(263===t)return 1022;if(264===t)return 1023;if(265===t)return 1059;if(266===t)return 1094;if(267===t)return 1197;throw new Error("unknown spacegroup index '".concat(t,"'"))}var $,tt,et,nt,rt=function(){for(var t=Object.create(null),e=0,n=Object.keys(Q);e<n.length;e++){var r=n[e];t[Q[r]]=r}return t}(),it=function(){for(var t=Object.create(null),e=0,n=Object.keys(Q);e<n.length;e++){var r=n[e],i=Q[r];t[i]=J(i)}return t}();function ot(t,e,n){return t[e]-t[n]}function at(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function ut(t,e,n,r){var i=n+r>>1;return e(t,n,r)>0?e(t,n,i)>0?e(t,i,r)>0?i:r:n:e(t,r,i)>0?e(t,i,n)>0?i:n:r}function st(t,e,n){var r=t.cmp,i=t.swap,o=t.data,a=t.parts,u=e+1,s=n;for(i(o,e,ut(o,r,e,n));r(o,s,e)>0;)--s;for(var c=e+1;c<=s;c++){var l=r(o,c,e);if(l>0){for(i(o,c,s),--s;r(o,s,e)>0;)--s;c--}else 0===l&&(i(o,c,u),u++)}for(c=e;c<u;c++)i(o,c,e+s-c);a[0]=s-u+e+1,a[1]=s}function ct(t,e,n){for(var r=t.data,i=t.cmp,o=t.swap,a=e+1;a<=n;a++)for(var u=a-1;u>=e&&i(r,u,u+1)>0;)o(r,u,u+1),u-=1}function lt(t,e,n){for(var r=t.parts;e<n;){if(n-e<16)return void ct(t,e,n);st(t,e,n);var i=r[0],o=r[1];i-e<n-o?(lt(t,e,i-1),e=o+1):(lt(t,o+1,n),n=i-1)}}function dt(t,e,n,r){var i=n+1,o=r;at(t,n,ut(t,ot,n,r));for(var a=t[n];t[o]>a;)--o;for(var u=n+1;u<=o;u++){var s=t[u];if(s>a){for(at(t,u,o),--o;t[o]>a;)--o;u--}else s===a&&(at(t,u,i),++i)}for(u=n;u<i;u++)at(t,u,n+o-u);e[0]=o-i+n+1,e[1]=o}function ft(t,e,n){for(var r=e+1;r<=n;r++){for(var i=t[r],o=r-1;o>=e&&t[o]>i;)t[o+1]=t[o],o-=1;t[o+1]=i}}function pt(t,e){return void 0===e&&(e=ot),function(t,e,n,r){void 0===r&&(r=ot);r===ot?function t(e,n,r,i){for(;r<i;){if(i-r<16)return void ft(e,r,i);dt(e,n,r,i);var o=n[0],a=n[1];o-r<i-a?(t(e,n,r,o-1),r=a+1):(t(e,n,a+1,i),i=o-1)}}(t,[0,0],e,n-1):lt({data:t,cmp:r,swap:at,parts:[0,0]},e,n-1);return t}(t,0,t.length,e)}function mt(t,e,n,r,i){return lt({data:t,cmp:r,swap:i,parts:[0,0]},e,n-1),t}function ht(t,e,n){return t[e].key<t[n].key?-1:1}function gt(t,e,n){var r=n&&n.start||0,i=n&&n.end||t.length;if(i-r<=0)throw new Error("Can only bucket non-empty collections.");return function(t,e,n,r,i){for(var o=new Map,a=[],u=e(t[0]),s=!0,c=r;c<i;c++){var l=e(t[c]);if(o.has(l))o.get(l).count++,u!==l&&(s=!1);else{var d={key:l,count:1,offset:c};o.set(l,d),a[a.length]=d}u=l}var f=new Int32Array(a.length+1);f[a.length]=i;var p=!0;if(n){c=1;for(var m=a.length;c<m;c++)if(a[c-1].key>a[c].key){p=!1;break}}if(s&&p){for(c=0;c<a.length;c++)f[c]=a[c].offset;return f}n&&!p&&mt(a,0,a.length,ht,at);var h=0;for(c=0;c<a.length;c++){var g=a[c];g.offset=h,h+=g.count}var v=new Int32Array(i-r);for(c=r;c<i;c++){l=e(t[c]);v[(d=o.get(l)).offset++]=t[c]}for(c=0,m=v.length;c<m;c++)t[c+r]=v[c];for(f[0]=r,c=1;c<a.length;c++)f[c]=a[c-1].offset+r;return f}(t,e,!(!n||!n.sort),r,i)}!function(t){function e(e,n,r){var i=function(t){var e="number"==typeof t?function(t){switch(t){case 1146:return 146;case 1148:return 149;case 1155:return 157;case 1160:return 163;case 1161:return 165;case 1166:return 171;case 1167:return 173;case 1003:return 237;case 1004:return 238;case 1005:return 239;case 2005:return 240;case 3005:return 241;case 4005:return 242;case 5005:return 243;case 1006:return 244;case 1007:return 245;case 1008:return 246;case 1009:return 247;case 1010:return 248;case 1011:return 249;case 1012:return 250;case 1013:return 251;case 1014:return 252;case 2014:return 253;case 3014:return 254;case 1015:return 255;case 1017:return 256;case 2017:return 257;case 1018:return 258;case 2018:return 259;case 3018:return 260;case 1020:return 261;case 1021:return 262;case 1022:return 263;case 1023:return 264;case 1059:return 265;case 1094:return 266;case 1197:return 267}var e=0;return t>146&&++e,t>148&&++e,t>155&&++e,t>160&&++e,t>161&&++e,t>166&&++e,t>167&&++e,t-1+e}(t):Q[t];return void 0===e||void 0===rt[e]?-1:e}(e);if(i<0)return console.warn("Unknown spacegroup '".concat(e,"', returning a 'P 1' with cellsize [1, 1, 1]")),t.Zero;var o=n[0]*n[1]*n[2],a=r[0],u=r[1],s=r[2],c=n[0],l=n[1],d=n[2],f=Math.cos(u),p=(Math.cos(a)-Math.cos(u)*Math.cos(s))/Math.sin(s),m=Math.sqrt(1-f*f-p*p),h=[c,0,0],g=[Math.cos(s)*l,Math.sin(s)*l,0],v=[f*d,p*d,m*d],y=D.ofRows([[h[0],g[0],v[0],0],[0,g[1],v[1],0],[0,0,v[2],0],[0,0,0,1]]);return{index:i,size:n,volume:o,anglesInRadians:r,toFractional:D.invert(D.zero(),y),fromFractional:y}}t.Zero=e("P 1",C.create(1,1,1),C.create(Math.PI/2,Math.PI/2,Math.PI/2)),t.isZero=function(t){return!t||0===t.index&&1===t.size[0]&&1===t.size[1]&&1===t.size[1]},t.create=e}($||($={})),function(t){function e(t){var e=X[t.index].map((function(t){return n=Z[(e=W[t])[0]],r=Z[e[1]],i=Z[e[2]],D.ofRows([n,r,i,[0,0,0,1]]);var e,n,r,i}));return{name:rt[t.index],num:it[t.index],cell:t,operators:e}}t.ZeroP1=e($.Zero),t.create=e;var n=C(),r=D();function i(t,e,i,o,a,u){return C.set(n,i,o,a),D.fromTranslation(r,n),D.mul(u,D.mul(u,D.mul(u,t.cell.fromFractional,r),t.operators[e]),t.cell.toFractional)}t.setOperatorMatrix=i,t.getSymmetryOperator=function(t,e,n,r,o){var a=i(t,e,n,r,o,D.zero());return F.create("".concat(e+1,"_").concat(5+n).concat(5+r).concat(5+o),a,{hkl:C.create(n,r,o),spgrOp:e})};var o=C(),a=C(),u=C(),s=C();function c(t,e,n){var r=[];if(t>0?r.push("+X"):t<0&&r.push("-X"),e>0?r.push("+Y"):e<0&&r.push("-Y"),n>0?r.push("+Z"):n<0&&r.push("-Z"),1===r.length)return"+"===r[0].charAt(0)?r[0].substr(1):r[0];if(2===r.length){var i=r[0].charAt(0),o=r[1].charAt(0);if("+"===i)return"".concat(r[0].substr(1)).concat(r[1]);if("+"===o)return"".concat(r[1].substr(1)).concat(r[0])}throw new Error("unknown rotation '".concat(r,"', ").concat(t," ").concat(e," ").concat(n))}function l(t){switch(t){case.5:return"1/2";case 1/4:return"1/4";case 3/4:return"3/4";case 1/3:return"1/3";case 2/3:return"2/3";case 1/6:return"1/6";case 5/6:return"5/6"}return""}function d(t,e){return""===e?t:t.length>2?"".concat(t,"+").concat(e):"-"===t.charAt(0)?"".concat(e).concat(t):"".concat(e,"+").concat(t)}t.getSymmetryOperatorRef=function(t,e,r,i,c,l){var d=D.zero();C.set(n,r,i,c),C.floor(o,l),D.copy(d,t.operators[e]),C.floor(a,C.transformMat4(a,l,d)),D.getTranslation(s,d),C.sub(s,s,a),C.add(s,s,o),C.add(s,s,n),D.setTranslation(d,s),D.mul(d,t.cell.fromFractional,d),D.mul(d,d,t.cell.toFractional),C.sub(u,a,o);var f=r-u[0],p=i-u[1],m=c-u[2];return F.create("".concat(e+1,"_").concat(5+f).concat(5+p).concat(5+m),d,{hkl:C.create(f,p,m),spgrOp:e})},t.getOperatorXyz=function(t){return[d(c(t[0],t[4],t[8]),l(t[12])),d(c(t[1],t[5],t[9]),l(t[13])),d(c(t[2],t[6],t[10]),l(t[14]))].join(",")}}(tt||(tt={})),function(t){t.add=function(t,e,n){t.squaredDistances[t.count]=n,t.indices[t.count++]=e},t.reset=function(t){t.count=0},t.create=function(){return{count:0,indices:[],squaredDistances:[]}},t.copy=function(t,e){for(var n=0;n<e.count;++n)t.indices[n]=e.indices[n],t.squaredDistances[n]=e.squaredDistances[n];return t.count=e.count,t}}(et||(et={})),function(t){function e(t){var e=t.growBy*t.elementSize;t.currentSize=e,t.currentIndex=0,t.currentChunk=new t.ctor(e),t.allocatedSize+=e,t.chunks[t.chunks.length]=t.currentChunk}function n(t,e){var n=t.ctor,r=t.chunks,i=t.currentIndex;if(!r.length)return new n(0);if(1===r.length&&(e||i===t.allocatedSize))return r[0];for(var o=0,a=0,u=r.length-1;a<u;a++)o+=r[a].length;var s=new n(o+=t.currentIndex),c=0;if(s.buffer)for(a=0,u=r.length-1;a<u;a++)s.set(r[a],c),c+=r[a].length;else for(a=0,u=r.length-1;a<u;a++){for(var l=r[a],d=0,f=l.length;d<f;d++)s[c+d]=l[d];c+=l.length}var p=r[r.length-1];if(s.buffer&&i>=t.currentSize)s.set(p,c);else for(d=0,f=p.length;d<f;d++)s[c+d]=p[d];return s}t.is=function(t){return t.creator&&t.chunkSize},t.add4=function(t,n,r,i,o){t.currentIndex>=t.currentSize&&e(t);var a=t.currentChunk,u=t.currentIndex;return a[u]=n,a[u+1]=r,a[u+2]=i,a[u+3]=o,t.currentIndex+=4,t.elementCount++},t.add3=function(t,n,r,i){t.currentIndex>=t.currentSize&&e(t);var o=t.currentChunk,a=t.currentIndex;return o[a]=n,o[a+1]=r,o[a+2]=i,t.currentIndex+=3,t.elementCount++},t.add2=function(t,n,r){t.currentIndex>=t.currentSize&&e(t);var i=t.currentChunk,o=t.currentIndex;return i[o]=n,i[o+1]=r,t.currentIndex+=2,t.elementCount++},t.add=function(t,n){return t.currentIndex>=t.currentSize&&e(t),t.currentChunk[t.currentIndex]=n,t.currentIndex+=1,t.elementCount++},t.addRepeat=function(t,n,r){for(var i=0;i<n;i++)t.currentIndex>=t.currentSize&&e(t),t.currentChunk[t.currentIndex++]=r,t.elementCount++;return t.elementCount},t.addMany=function(t,n){for(var r=t.elementSize,i=0,o=n.length;i<o;i+=r){t.currentIndex>=t.currentSize&&e(t);for(var a=t.currentChunk,u=0;u<r;u++)a[t.currentIndex++]=n[i+u];t.elementCount++}return t.elementCount},t.compact=function(t,e){return void 0===e&&(e=!1),n(t,e)},t._compact=n,t.create=function(t,e,n,r){var i={ctor:t,elementSize:e,growBy:Math.max(1,Math.ceil(n)),allocatedSize:0,elementCount:0,currentSize:0,currentChunk:void 0,currentIndex:0,chunks:[]};if(void 0===r)return i;if("number"==typeof r)return i.currentChunk=new t(r*e),i.allocatedSize=r*e,i.currentSize=i.currentChunk.length,i.chunks[0]=i.currentChunk,i;var o=r;if(o.length%e!=0)throw new Error("initialChunk length must be a multiple of the element size.");return i.currentChunk=o,i.allocatedSize=o.length,i.currentSize=o.length,i.chunks[0]=o,i}}(nt||(nt={}));var vt=function(){function t(t,e){this.getHash=t,this.areEqual=e,this.id=0,this.byHash=new Map,this.groups=[]}return t.prototype.createGroup=function(t,e){var n=this.id++,r=[t];return this.groups[n]=r,{id:n,keys:r,value:e}},t.prototype.add=function(t,e){var n=this.getHash(e);if(this.byHash.has(n)){for(var r=this.byHash.get(n),i=0,o=r.length;i<o;i++){var a=r[i];if(this.areEqual(e,a.value))return a.keys[a.keys.length]=t,a.value}var u=this.createGroup(t,e);return r[r.length]=u,u.value}u=this.createGroup(t,e);return this.byHash.set(n,[u]),u.value},t}();function yt(t,e){var n=23;return n=31*(n=31*n+t|0)+e|0,n=(3735928559^(n^=n>>4))+(n<<5),n^=n>>11}function _t(t,e){return(t+e)*(t+e+1)/2+e}function bt(t,e){return t<e?_t(t,e):_t(e,t)}function xt(t){for(var e=2166136261,n=0,r=t.length;n<r;++n)e^=t[n],e+=(e<<1)+(e<<4)+(e<<7)+(e<<8)+(e<<24);return e>>>0}function At(t,e){return{start:e&&void 0!==e.start?Math.max(Math.min(e.start,t-1),0):0,end:e&&void 0!==e.end?Math.min(e.end,t):t}}function wt(t,e){var n=e&&void 0!==e.array?e.array:Array,r=At(t,e),i=r.start,o=r.end;return{array:new n(o-i),start:i,end:o}}function St(t,e,n){for(var r=0,i=e.length;r<i;r++)e[r]=t(n+r);return e}function Ct(t,e,n){var r=wt(t,n);return St(e,r.array,r.start)}function Bt(t){return!!t.buffer&&"number"==typeof t.byteLength&&"number"==typeof t.BYTES_PER_ELEMENT}function It(t,e){var n=t.constructor,r=t.buffer,i=t.length,o=t.byteOffset,a=t.BYTES_PER_ELEMENT,u=At(i,e),s=u.start,c=u.end;return 0===s&&c===i?t:new n(r,o+a*s,Math.min(i,c-s))}function Pt(t,e,n){var r=e,i=0,o=1;for(45===t.charCodeAt(r)?(o=-1,++r):43===t.charCodeAt(r)&&++r;r<n;r++){var a=t.charCodeAt(r)-48;if(a>9||a<0)return o*i|0;i=10*i+a|0}return o*i}function Et(t,e,n,r){return 43===e.charCodeAt(n)&&n++,t*Math.pow(10,Pt(e,n,r))}function Mt(t,e,n){var r=e,i=1,o=0,a=0,u=1;for(45===t.charCodeAt(r)?(i=-1,++r):43===t.charCodeAt(r)&&++r;r<n;){var s=t.charCodeAt(r)-48;if(!(s>=0&&s<10)){if(-2===s){for(++r;r<n;){if(!((s=t.charCodeAt(r)-48)>=0&&s<10))return 53===s||21===s?Et(i*(o+a/u),t,r+1,n):i*(o+a/u);a=10*a+s,u*=10,++r}return i*(o+a/u)}if(53===s||21===s)return Et(i*o,t,r+1,n);break}o=10*o+s,++r}return i*o}var kt,Dt,Ot;function Nt(t,e,n,r){return{schema:n,__array:void 0,isDefined:0===r,rowCount:e,value:function(e){return t},valueKind:function(t){return r},toArray:function(n){for(var r=wt(e,n).array,i=0,o=r.length;i<o;i++)r[i]=t;return r},areValuesEqual:function(t,e){return!0}}}function Tt(t){var e=t.value,n=t.valueKind,r=t.areValuesEqual,i=t.rowCount;return{schema:t.schema,__array:void 0,isDefined:!0,rowCount:i,value:e,valueKind:n||function(t){return 0},toArray:function(t){for(var n=wt(i,t),r=n.array,o=n.start,a=0,u=r.length;a<u;a++)r[a]=e(a+o);return r},areValuesEqual:r||function(t,n){return e(t)===e(n)}}}function Ut(t){var e=t.array,n=t.schema,r=t.valueKind,i=e.length,o=n.T,a="str"===n.valueType?"lowercase"===n.transform?function(t){var n=e[t];return"string"==typeof n?n.toLowerCase():"".concat(null!=n?n:o).toLowerCase()}:"uppercase"===n.transform?function(t){var n=e[t];return"string"==typeof n?n.toUpperCase():"".concat(null!=n?n:o).toUpperCase()}:function(t){var n=e[t];return"string"==typeof n?n:"".concat(null!=n?n:o)}:function(t){return e[t]},u=Bt(e);return{schema:n,__array:e,isDefined:!0,rowCount:i,value:a,valueKind:r||function(t){return 0},toArray:"str"===n.valueType?"lowercase"===n.transform?function(t){for(var n=At(i,t),r=n.start,a=n.end,u=new(t&&void 0!==t.array?t.array:e.constructor)(a-r),s=0,c=a-r;s<c;s++){var l=e[r+s];u[s]="string"==typeof l?l.toLowerCase():"".concat(null!=l?l:o).toLowerCase()}return u}:"uppercase"===n.transform?function(t){for(var n=At(i,t),r=n.start,a=n.end,u=new(t&&void 0!==t.array?t.array:e.constructor)(a-r),s=0,c=a-r;s<c;s++){var l=e[r+s];u[s]="string"==typeof l?l.toUpperCase():"".concat(null!=l?l:o).toUpperCase()}return u}:function(t){for(var n=At(i,t),r=n.start,a=n.end,u=new(t&&void 0!==t.array?t.array:e.constructor)(a-r),s=0,c=a-r;s<c;s++){var l=e[r+s];u[s]="string"==typeof l?l:"".concat(null!=l?l:o)}return u}:u?function(t){return It(e,t)}:function(t){var n=At(i,t),r=n.start,o=n.end;if(0===r&&o===e.length)return e;for(var a=new(t&&void 0!==t.array?t.array:e.constructor)(o-r),u=0,s=o-r;u<s;u++)a[u]=e[r+u];return a},areValuesEqual:function(t,n){return e[t]===e[n]}}}!function(t){var e;function n(t,e){return Nt(e.T,t,e,1)}function r(t){return Tt(t)}!function(t){function e(e,n){return void 0===n&&(n=t.float),{"@type":"tensor",T:e.create(),space:e,valueType:"tensor",baseType:n}}t.str={"@type":"str",T:"",valueType:"str"},t.ustr={"@type":"str",T:"",valueType:"str",transform:"uppercase"},t.lstr={"@type":"str",T:"",valueType:"str",transform:"lowercase"},t.int={"@type":"int",T:0,valueType:"int"},t.coord={"@type":"coord",T:0,valueType:"float"},t.float={"@type":"float",T:0,valueType:"float"},t.Str=function(t){var e;return{"@type":"str",T:null!==(e=null==t?void 0:t.defaultValue)&&void 0!==e?e:"",transform:null==t?void 0:t.transform,valueType:"str"}},t.Int=function(t){return void 0===t&&(t=0),{"@type":"int",T:t,valueType:"int"}},t.Float=function(t){return void 0===t&&(t=0),{"@type":"float",T:t,valueType:"float"}},t.Tensor=e,t.Vector=function(n,r){return void 0===r&&(r=t.float),e(B.Vector(n,"int"===r["@type"]?Int32Array:Float64Array),r)},t.Matrix=function(n,r,i){return void 0===i&&(i=t.float),e(B.ColumnMajorMatrix(n,r,"int"===i["@type"]?Int32Array:Float64Array),i)},t.Aliased=function(t){return t},t.List=function(t,e,n){return void 0===n&&(n=[]),{"@type":"list",T:n,separator:t,itemParse:e,valueType:"list"}}}(e=t.Schema||(t.Schema={})),t.is=function(t){return!!t&&!!t.schema&&!!t.value},t.ValueKind={Present:0,NotPresent:1,Unknown:2},t.Undefined=n,t.ofConst=function(t,e,n){return Nt(t,e,n,0)},t.ofLambda=r,t.range=function(t,n){return r({value:function(e){return e+t},rowCount:Math.max(n-t+1,0),schema:e.int})},t.ofArray=function(t){return Ut(t)},t.ofIntArray=function(t){return Ut({array:t,schema:e.int})},t.ofFloatArray=function(t){return Ut({array:t,schema:e.float})},t.ofStringArray=function(t){return Ut({array:t,schema:e.str})},t.ofStringAliasArray=function(t){return Ut({array:t,schema:e.Aliased(e.str)})},t.ofStringListArray=function(t,n){return void 0===n&&(n=","),Ut({array:t,schema:e.List(n,(function(t){return t}))})},t.ofIntTokens=function(t){var n=t.count,r=t.data,i=t.indices;return Tt({value:function(t){return Pt(r,i[2*t],i[2*t+1])||0},rowCount:n,schema:e.int})},t.ofFloatTokens=function(t){var n=t.count,r=t.data,i=t.indices;return Tt({value:function(t){return Mt(r,i[2*t],i[2*t+1])||0},rowCount:n,schema:e.float})},t.ofStringTokens=function(t){var n=t.count,r=t.data,i=t.indices;return Tt({value:function(t){var e=r.substring(i[2*t],i[2*t+1]);return"."===e||"?"===e?"":e},rowCount:n,schema:e.str})},t.window=function(t,e,n){return function(t,e,n){return t.isDefined?0===e&&n===t.rowCount?t:t.__array&&Bt(t.__array)?function(t,e,n){var r=It(t.__array,{start:e,end:n}),i=t.valueKind;return Ut({array:r,schema:t.schema,valueKind:function(t){return i(e+t)}})}(t,e,n):function(t,e,n){var r=t.value,i=t.valueKind,o=t.areValuesEqual,a=0===e?r:function(t){return r(t+e)},u=n-e;return{schema:t.schema,__array:void 0,isDefined:t.isDefined,rowCount:u,value:a,valueKind:0===e?i:function(t){return i(t+e)},toArray:function(t){for(var n=wt(u,t).array,i=0,o=n.length;i<o;i++)n[i]=r(i+e);return n},areValuesEqual:0===e?o:function(t,n){return o(t+e,n+e)}}}(t,e,n):kt.Undefined(n-e,t.schema)}(t,e,n)},t.view=function(t,e,n){return void 0===n&&(n=!0),i=e,o=n,0===(r=t).rowCount||o&&function(t,e){if(t.length!==e)return!1;for(var n=0,r=t.length;n<r;n++)if(t[n]!==n)return!1;return!0}(i,r.rowCount)?r:r.__array&&typeof r.value(0)==typeof r.__array[0]?function(t,e){for(var n=t.__array,r=new n.constructor(e.length),i=0,o=e.length;i<o;i++)r[i]=n[e[i]];var a=t.valueKind;return Ut({array:r,schema:t.schema,valueKind:function(t){return a(e[t])}})}(r,i):function(t,e){var n=t.value,r=t.valueKind,i=t.areValuesEqual,o=e.length;return{schema:t.schema,__array:void 0,isDefined:t.isDefined,rowCount:o,value:function(t){return n(e[t])},valueKind:function(t){return r(e[t])},toArray:function(t){for(var r=wt(o,t).array,i=0,a=r.length;i<a;i++)r[i]=n(e[i]);return r},areValuesEqual:function(t,n){return i(e[t],e[n])}}}(r,i);var r,i,o},t.createFirstIndexMap=function(t){return function(t){for(var e=new Map,n=0,r=t.rowCount;n<r;n++){var i=t.value(n);e.has(i)||e.set(t.value(n),n)}return e}(t)},t.createIndexer=function(t){return function(t){for(var e=new Map,n=0,r=t.rowCount;n<r;n++){var i=t.value(n);e.has(i)||e.set(t.value(n),n)}return function(t){return e.has(t)?e.get(t):-1}}(t)},t.mapToArray=function(t,e,n){return function(t,e,n){for(var r=new n(t.rowCount),i=0,o=t.rowCount;i<o;i++)r[i]=e(t.value(i));return r}(t,e,n||Array)},t.areEqual=function(t,e){return function(t,e){return t===e||t.rowCount===e.rowCount&&t.isDefined===e.isDefined&&t.schema.valueType===e.schema.valueType&&(t.__array&&e.__array?function(t,e){for(var n=t.__array,r=e.__array,i=0,o=t.rowCount;i<o;i++)if(n[i]!==r[i])return!1;return!0}(t,e):function(t,e){for(var n=t.value,r=e.value,i=0,o=t.rowCount;i<o;i++)if(n(i)!==r(i))return!1;return!0}(t,e))}(t,e)},t.indicesOf=function(t,e){return function(t,e){for(var n=[],r=t.value,i=0,o=t.rowCount;i<o;i++)e(r(i))&&(n[n.length]=i);return n}(t,e)},t.asArrayColumn=function(t,e){return t.__array?t:t.isDefined?Ut({array:t.toArray({array:e}),schema:t.schema,valueKind:t.valueKind}):n(t.rowCount,t.schema)},t.copyToArray=function(t,e,n){if(void 0===n&&(n=0),t.isDefined){var r=t.__array;if(r)for(var i=0,o=r.length;i<o;i++)e[n+i]=r[i];else for(i=0,o=t.rowCount;i<o;i++)e[n+i]=t.value(i)}},t.isIdentity=function(t){for(var e=0,n=t.rowCount;e<n;e++)if(e!==t.value(e))return!1;return!0}}(kt||(kt={})),function(t){t.create=function(t){return t},t.has=function(t,e){return 0!=(t&e)},t.hasAll=function(t,e){return!!e&&(t&e)===e}}(Dt||(Dt={})),function(t){t.create=function(t){return void 0===t&&(t=512),{current:[],offset:0,capacity:t,chunks:[]}},t.getString=function(t){return t.chunks.length?(t.offset>0&&(t.chunks[t.chunks.length]=t.current.length===t.offset?t.current.join(""):t.current.slice(0,t.offset).join("")),t.chunks.join("")):t.current.length===t.offset?t.current.join(""):t.current.splice(0,t.offset).join("")},t.getSize=function(t){for(var e=0,n=0,r=t.chunks;n<r.length;n++){e+=r[n].length}for(var i=0;i<t.offset;i++)e+=t.current[i].length;return e},t.getChunks=function(t){return t.offset>0&&(t.current.length===t.offset?t.chunks[t.chunks.length]=t.current.join(""):t.chunks[t.chunks.length]=t.current.slice(0,t.offset).join(""),t.offset=0),t.chunks};var e=[];function n(t,n){n>0&&r(t,e[n])}function r(t,e){t.offset===t.capacity&&(t.chunks[t.chunks.length]=t.current.join(""),t.offset=0),t.current[t.offset++]=e}!function(){for(var t="",n=0;n<512;n++)e[n]=t,t+=" "}(),t.newline=function(t){r(t,"\n")},t.whitespace=n,t.whitespace1=function(t){r(t," ")},t.write=function(t,e){e&&(t.offset===t.capacity&&(t.chunks[t.chunks.length]=t.current.join(""),t.offset=0),t.current[t.offset++]=e)},t.writeSafe=r,t.writePadLeft=function(t,e,i){e?(n(t,i-e.length),r(t,e)):n(t,i)},t.writePadRight=function(t,e,i){if(e){var o=i-e.length;r(t,e),n(t,o)}else n(t,i)},t.writeInteger=function(t,e){r(t,""+e)},t.writeIntegerAndSpace=function(t,e){r(t,e+" ")},t.writeIntegerPadLeft=function(t,e,i){var o=""+e;n(t,i-o.length),r(t,o)},t.writeIntegerPadRight=function(t,e,i){var o=""+e,a=i-o.length;r(t,o),n(t,a)},t.writeFloat=function(t,e,n){r(t,""+Math.round(n*e)/n)},t.writeFloatPadLeft=function(t,e,i,o){var a=""+Math.round(i*e)/i;n(t,o-a.length),r(t,a)},t.writeFloatPadRight=function(t,e,i,o){var a=""+Math.round(i*e)/i,u=o-a.length;r(t,a),n(t,u)}}(Ot||(Ot={}));var Rt,Lt,Gt,Ft=n(3);function qt(t,e){return t-e}function jt(t,e){void 0===t&&(t=0),void 0===e&&(e=Number.MAX_SAFE_INTEGER);var n=t;return function(){var t=n;return n=(n+1)%e,t}}!function(t){var e=function(){function t(){this.size=0}return t.prototype.has=function(t){return!1},t.prototype.forEach=function(t,e){return e},t}(),n=function(){function t(t){this.idx=t,this.size=1}return t.prototype.has=function(t){return t===this.idx},t.prototype.forEach=function(t,e){return t(this.idx,e),e},t}(),r=function(){function t(t,e){this.mask=t,this.size=e,this.length=t.length}return t.prototype.has=function(t){return t<this.length&&!!this.mask[t]},t.prototype._forEach=function(t,e){for(var n=0;n<this.length;n++)this.mask[n]&&t(n,e)},t.prototype.forEach=function(t,e){return this._forEach(t,e),e},t}(),i=function(){function t(t){this.size=t}return t.prototype.has=function(t){return!0},t.prototype._forEach=function(t,e){for(var n=0;n<this.size;n++)t(n,e)},t.prototype.forEach=function(t,e){return this._forEach(t,e),e},t}(),o=function(){function t(t){this.set=t,this._flat=void 0,this.size=t.size}return t.prototype.has=function(t){return this.set.has(t)},t.prototype._forEach=function(t,e){for(var n=0,r=this.flatten();n<r.length;n++){t(r[n],e)}},t.prototype.flatten=function(){if(this._flat)return this._flat;var t,e=new Int32Array(this.size),n=0;return this.set.forEach((function(t){return e[n++]=t})),t=e,Array.prototype.sort.call(t,qt),this._flat=e,this._flat},t.prototype.forEach=function(t,e){return this._forEach(t,e),e},t}();function a(t){return new o(t)}function u(t,e){return new r(t,e)}t.always=function(t){return new i(t)},t.never=new e,t.ofSet=a,t.singleton=function(t){return new n(t)},t.ofUniqueIndices=function(t){var a=t.length;if(0===a)return new e;if(1===a)return new n(t[0]);for(var u=0,s=0,c=t;s<c.length;s++){(p=c[s])>u&&(u=p)}if(a===u)return new i(a);if(a/u<1/12){for(var l=new Set,d=0,f=t;d<f.length;d++){var p=f[d];l.add(p)}return new o(l)}for(var m=new Int8Array(u+1),h=0,g=t;h<g.length;h++){m[p=g[h]]=1}return new r(m,t.length)},t.ofMask=u,t.hasAny=function(t,e){for(var n=0,r=e;n<r.length;n++){var i=r[n];if(t.has(i))return!0}return!1},t.complement=function(t,e){var n=0,r=0;if(e.forEach((function(e){t.has(e)||(n++,e>r&&(r=e))})),n/r<1/12){var i=new Set;return e.forEach((function(e){t.has(e)||i.add(e)})),a(i)}var o=new Uint8Array(r+1);return e.forEach((function(e){t.has(e)||(o[e]=1)})),u(o,n)}}(Rt||(Rt={})),(Gt=Lt||(Lt={})).create=function(t){return{ref:t}},Gt.set=function(t,e){return t.ref=e,t};var Ht,Vt,zt=jt(0,2147483647);!function(t){t.create=function(t,e){return{id:zt(),version:0,value:t,metadata:e}},t.withValue=function(t,e){return{id:t.id,version:t.version+1,value:e,metadata:t.metadata}}}(Ht||(Ht={})),function(t){function e(t,e){return Lt.set(t,Ht.withValue(t.ref,e))}t.create=function(t,e){return Lt.create(Ht.create(t,e))},t.update=e,t.set=function(t,e){return Lt.set(t,e)},t.updateIfChanged=function(t,n){return t.ref.value!==n?e(t,n):t}}(Vt||(Vt={}));function Yt(t,e){var n=t.length;if(n!==e.length)return!1;for(var r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}var Kt=Object.prototype.hasOwnProperty;function Zt(t,e){if(t===e)return!0;if(!t||!e)return!1;var n=Object.keys(t);if(Object.keys(e).length!==n.length)return!1;for(var r=0,i=n;r<i.length;r++){var o=i[r];if(!Kt.call(t,o)||t[o]!==e[o])return!1}return!0}function Wt(t,e){return void 0!==t?t:e}Object.assign;var Xt,Qt,Jt;!function(t){function e(t,e,n){var r=Object.create(null),i=Object.keys(e);r._rowCount=n.length,r._columns=i,r._schema=e;for(var o=0,a=i;o<a.length;o++){var u=a[o];r[u]=kt.view(t[u],n)}return r}function n(t,e){for(var n=Object.create(null),r=t._columns,i=0;i<r.length;i++){var o=r[i];n[o]=t[o].value(e)}return n}t.is=function(t){return t&&"number"==typeof t._rowCount&&!!t._columns&&!!t._schema},t.pickColumns=function(t,e,n){void 0===n&&(n={});var r=Object.create(null),i=Object.keys(t);r._rowCount=e._rowCount,r._columns=i,r._schema=t;for(var o=0,a=i;o<a.length;o++){var u=a[o];if(e[u])r[u]=e[u];else{if(!n[u])throw Error("Cannot find column '".concat(u,"'."));r[u]=n[u]}}return r},t.ofColumns=function(t,e){var n=Object.keys(e),r=e[n[0]].rowCount;return Object(v.a)({_rowCount:r,_columns:n,_schema:t},e)},t.ofPartialColumns=function(t,e,n){var r=Object.create(null),i=Object.keys(t);r._rowCount=n,r._columns=i,r._schema=t;for(var o=0,a=i;o<a.length;o++){var u=a[o];r[u]=u in e?e[u]:kt.Undefined(n,t[u])}return r},t.ofUndefinedColumns=function(t,e){var n=Object.create(null),r=Object.keys(t);n._rowCount=e,n._columns=r,n._schema=t;for(var i=0,o=r;i<o.length;i++){var a=o[i];n[a]=kt.Undefined(e,t[a])}return n},t.ofRows=function(t,e){var n=Object.create(null),r=e.length,i=Object.keys(t);n._rowCount=r,n._columns=i,n._schema=t;for(var o=function(i){n[i]=kt.ofLambda({rowCount:r,schema:t[i],value:function(t){return e[t][i]},valueKind:function(t){return void 0===e[t][i]?1:0}})},a=0,u=i;a<u.length;a++){o(u[a])}return n},t.ofArrays=function(t,e){var n,r=Object.create(null),i=Object.keys(t);r._rowCount=0,r._columns=i,r._schema=t;for(var o=0,a=i;o<a.length;o++){var u=a[o];void 0!==e[u]?(r[u]=kt.ofArray({array:e[u],schema:t[u]}),r._rowCount=null===(n=e[u])||void 0===n?void 0:n.length):r[u]=kt.Undefined(r._rowCount,t[u])}return r},t.view=e,t.pick=function(t,n,r){for(var i=[],o=0,a=t._rowCount;o<a;++o)r(o)&&i.push(o);return e(t,n,i)},t.window=function(t,e,n,r){if(0===n&&r===t._rowCount)return t;var i=Object.create(null),o=Object.keys(e);i._rowCount=r-n,i._columns=o,i._schema=e;for(var a=0,u=o;a<u.length;a++){var s=u[a];i[s]=kt.window(t[s],n,r)}return i},t.concat=function(t,e){var n=Object.create(null),r=Object.keys(e);n._rowCount=0;for(var i=0,o=t;i<o.length;i++){var a=o[i];n._rowCount+=a._rowCount}for(var u={},s=0,c=r;s<c.length;s++){u[c[s]]=new Array(n._rowCount)}n._columns=r,n._schema=e;for(var l=0,d=0,f=t;d<f.length;d++){a=f[d];for(var p=0,m=r;p<m.length;p++){var h=m[p];kt.copyToArray(a[h],u[h],l)}l+=a._rowCount}for(var g=0,v=r;g<v.length;g++){n[h=v[g]]=kt.ofArray({array:u[h],schema:e[h]})}return n},t.columnToArray=function(t,e,n){t[e]=kt.asArrayColumn(t[e],n)},t.sort=function(t,e){for(var n=new Int32Array(t._rowCount),r=0,i=n.length;r<i;r++)n[r]=r;pt(n,(function(t,n,r){return e(n,r)}));var o=!0;for(r=0,i=n.length;r<i;r++)if(n[r]!==r){o=!1;break}if(o)return t;var a=Object.create(null);a._rowCount=t._rowCount,a._columns=t._columns,a._schema=t._schema;for(var u=0,s=t._columns;u<s.length;u++){var c=s[u];a[c]=kt.view(t[c],n,!1)}return a},t.areEqual=function(t,e){if(t._rowCount!==e._rowCount)return!1;if(t._columns.length!==e._columns.length)return!1;for(var n=0,r=t._columns;n<r.length;n++){if(!e[a=r[n]])return!1}for(var i=0,o=t._columns;i<o.length;i++){var a=o[i];if(!kt.areEqual(t[a],e[a]))return!1}return!0},t.getRow=n,t.pickRow=function(t,e){for(var r=0,i=t._rowCount;r<i;++r)if(e(r))return n(t,r)},t.getRows=function(t){for(var e=[],r=t._rowCount,i=0;i<r;i++)e[i]=n(t,i);return e},t.toArrays=function(t){for(var e={},n=t._columns,r=0;r<n.length;r++){var i=n[r];e[i]=t[i].toArray()}return e},t.formatToString=function(t){var e=Ot.create(),n=t._columns,r=t._rowCount,i=1;Ot.write(e,"|");for(var o=0;o<n.length;o++)Ot.write(e,n[o]),Ot.write(e,"|"),i+=n[o].length+1;Ot.newline(e),Ot.write(e,new Array(i+1).join("-")),Ot.newline(e);for(var a=0;a<r;a++){Ot.write(e,"|");for(o=0;o<n.length;o++){var u=t[n[o]];0===u.valueKind(a)?(Ot.write(e,u.value(a)),Ot.write(e,"|")):Ot.write(e,".|")}Ot.newline(e)}return Ot.getString(e)}}(Xt||(Xt={})),(Jt=Qt||(Qt={})).ofTables=function(t,e,n){var r=Object.keys(n),i=Object.create(null),o=[];i._name=t,i._tableNames=o,i._schema=e;for(var a=0,u=r;a<u.length;a++){var s=u[a];Xt.is(n[s])&&(i[s]=n[s],o[o.length]=s)}return i},Jt.getTablesAsRows=function(t){for(var e={},n=0,r=t._tableNames;n<r.length;n++){var i=r[n];e[i]=Xt.getRows(t[i])}return e};var $t;!function(){function t(t){this.getKey=t,this.map=new Map,this.keys=[],this.groups=[]}t.prototype.add=function(t){var e=this.getKey(t);if(this.map.has(e)){(n=this.map.get(e))[n.length]=t}else{var n=[t];this.map.set(e,n),this.keys[this.keys.length]=e,this.groups[this.groups.length]=n}},t.prototype.getGrouping=function(){return{keys:this.keys,groups:this.groups,map:this.map}}}();function te(t){if(Array.from)return Array.from(t);for(var e=[];;){var n=t.next(),r=n.done,i=n.value;if(r)break;e[e.length]=i}return e}function ee(t,e,n){for(var r=e-t+1,i=n?new n(r):new Int32Array(r),o=0;o<r;o++)i[o]=o+t;return i}function ne(t,e){for(var n=new(function(t){var e=t.constructor;if(!e)throw new Error("data does not define a constructor and it should");return e}(t))(e.length),r=0,i=e.length;r<i;r++)n[r]=t[e[r]];return n}!function(t){t.Zero=0;var e,n,r=(e=new ArrayBuffer(8),n=new ArrayBuffer(8),{_int32:new Int32Array(e),_float64:new Float64Array(e),_int32_1:new Int32Array(n),_float64_1:new Float64Array(n)}),i=r._int32,o=r._float64,a=r._int32_1,u=r._float64_1;t.is=function(t){return"number"==typeof t},t.create=function(t,e){return i[0]=t,i[1]=e,o[0]},t.diff=function(t){return o[0]=t,i[1]-i[0]},t.fst=function(t){return o[0]=t,i[0]},t.snd=function(t){return o[0]=t,i[1]},t.areEqual=function(t,e){return o[0]=t,u[0]=e,i[0]===a[0]&&i[1]===a[1]},t.compare=function(t,e){o[0]=t,u[0]=e;var n=i[0]-a[0];return 0!==n?n:i[1]-a[1]},t.compareInArray=function(t,e,n){o[0]=t[e],u[0]=t[n];var r=i[0]-a[0];return 0!==r?r:i[1]-a[1]},t.hashCode=function(t){return o[0]=t,yt(i[0],i[1])},t.toString=function(t){return o[0]=t,"(".concat(i[0],", ").concat(i[1],")")}}($t||($t={}));var re=$t.Zero;function ie(t,e){return e<t?$t.create(t,t):$t.create(t,e+1)}function oe(t,e){return e<=t?$t.create(t,t):$t.create(t,e)}function ae(t){return t<0?$t.create(0,0):$t.create(0,t)}var ue=$t.is,se=$t.fst,ce=$t.snd,le=$t.fst;function de(t){return $t.snd(t)-1}var fe=$t.diff,pe=$t.hashCode,me=$t.toString;function he(t,e){return $t.fst(t)<=e&&e<$t.snd(t)}function ge(t,e){var n=se(t);return e>=n&&e<ce(t)?e-n:-1}function ve(t,e){return $t.fst(t)+e}var ye,_e,be=$t.areEqual;function xe(t,e){var n=fe(t),r=fe(e);return 0===n&&0===r||n>0&&r>0&&de(t)>=le(e)&&le(t)<=de(e)}function Ae(t,e){return fe(t)?!fe(e)||se(t)<=se(e)&&ce(t)>=ce(e):0===fe(e)}function we(t,e){var n=se(t);if(e<=n)return 0;var r=ce(t);return e>=r?r-n:e-n}function Se(t,e,n){var r=se(n),i=se(t);if(e<=r+i)return r;var o=ce(n);return e>=o+i?o:e-i}function Ce(t,e,n){return oe(we(t,e),we(t,n+1))}function Be(t,e){return xe(t,e)?oe(Math.max(se(t),se(e)),Math.min(ce(t),ce(e))):re}function Ie(t,e){return fe(Ce(t,le(e),de(e)))}(_e=ye||(ye={})).Empty=re,_e.ofSingleton=function(t){return ie(t,t)},_e.ofRange=ie,_e.ofBounds=oe,_e.ofLength=ae,_e.is=ue,_e.has=he,_e.indexOf=ge,_e.getAt=ve,_e.start=se,_e.end=ce,_e.min=le,_e.max=de,_e.size=fe,_e.hashCode=pe,_e.toString=me,_e.areEqual=be,_e.areIntersecting=xe,_e.isSubInterval=Ae,_e.findPredecessorIndex=we,_e.findPredecessorIndexInInterval=Se,_e.findRange=Ce,_e.intersectionSize=Ie,_e.intersect=Be;var Pe=[];function Ee(t){return[t]}function Me(t){return t}function ke(t){return pt(t),t}function De(t,e){if(e<t)return[];for(var n=new Int32Array(e-t+1),r=t;r<=e;r++)n[r-t]=r;return n}function Oe(t){return t&&(Array.isArray(t)||!!t.buffer)}function Ne(t){return t[t.length-1]-t[0]+1===t.length}function Te(t){return t[0]}function Ue(t){return t[t.length-1]+1}function Re(t){return t[0]}function Le(t){return t[t.length-1]}function Ge(t){return t.length}function Fe(t){var e,n,r,i,o,a=t.length;return a?a>2?(e=a,n=t[0],r=t[a-1],i=t[a>>1],o=31*(o=31*(o=31*(o=31*(o=23)+e|0)+n|0)+r|0)+i|0,o=(3735928559^(o^=o>>4))+(o<<5),o^=o>>11):function(t,e,n){var r=23;return r=31*(r=31*(r=31*r+t|0)+e|0)+n|0,r=(3735928559^(r^=r>>4))+(r<<5),r^=r>>11}(a,t[0],t[a-1]):0}function qe(t){var e=t.length;return e>5?"[".concat(t[0],", ").concat(t[1],", ..., ").concat(t[e-1],"], length ").concat(e):"[".concat(t.join(", "),"]")}function je(t,e){var n=t.length;return 0===n?-1:t[0]<=e&&e<=t[n-1]?Xe(t,e,0,n):-1}function He(t,e,n){return Ve(t,e,ye.start(n),ye.end(n))}function Ve(t,e,n,r){return 0===t.length||r<=n?-1:t[n]<=e&&e<=t[r-1]?Xe(t,e,n,r):-1}function ze(t,e){return je(t,e)>=0}function Ye(t,e){if(t===e)return!0;var n=t.length;if(n!==e.length||t[0]!==e[0]||t[n-1]!==e[n-1])return!1;if(Ne(t))return!0;n--;for(var r=1;r<n;r++)if(t[r]!==e[r])return!1;return!0}function Ke(t,e){var n=t.length;return e<=t[0]?0:e>t[n-1]?n:Qe(t,e,0,n)}function Ze(t,e,n){var r=ye.start(n),i=ye.end(n),o=t[r];return e<=o?r:i>r&&e>t[i-1]?i:e-o<=11?function(t,e,n,r){for(var i=n;i<r;i++)if(e<=t[i])return i;return r}(t,e,r+1,i):Qe(t,e,r,i)}function We(t,e,n){return ye.ofBounds(Ke(t,e),Ke(t,n+1))}function Xe(t,e,n,r){for(var i=n,o=r-1;i<=o;){if(i+11>o){for(var a=i;a<=o;a++)if(e===t[a])return a;return-1}var u=i+o>>1,s=t[u];if(e<s)o=u-1;else{if(!(e>s))return u;i=u+1}}return-1}function Qe(t,e,n,r){for(var i=n,o=r-1;i<o;){if(i+11>o){for(var a=i;a<=o;a++)if(e<=t[a])return a;return o+1}var u=i+o>>1,s=t[u];if(e<s)o=u-1;else{if(!(e>s))return u;i=u+1}}return i>o?o+1:t[i]>=e?i:i+1}function Je(t,e){if(t===e)return!0;for(var n=dn(t,e),r=n.startI,i=n.startJ,o=n.endI,a=n.endJ;r<o&&i<a;){var u=t[r],s=e[i];if(u<s)r++;else{if(!(u>s))return!0;i++}}return!1}function $e(t,e){if(t===e)return!0;var n=e.length,r=dn(t,e),i=r.startI,o=r.startJ,a=r.endI,u=r.endJ;if(u-o<n||a-i<n)return!1;for(var s=0;i<a&&o<u;){var c=t[i],l=e[o];c<l?i++:c>l?o++:(i++,o++,s++)}return s===n}function tn(t,e){if(t===e)return t;var n=t.length,r=e.length;if(0===n)return e;if(0===r)return t;if(t[0]>e[0])return tn(e,t);var i=dn(t,e),o=i.startI,a=i.startJ,u=i.endI,s=i.endJ,c=nn(t,e,o,a,u,s);if(c===n&&c===r||c===r)return t;if(c===n)return e;var l=new Int32Array(n+r-c),d=0,f=0,p=0;for(d=0;d<o;d++)l[p++]=t[d];for(;f<s&&t[o]>e[f];)l[p++]=e[f++];for(;d<u&&f<s;){var m=t[d],h=e[f];m<h?(l[p++]=m,d++):m>h?(l[p++]=h,f++):(l[p++]=m,d++,f++)}for(;d<u;d++)l[p++]=t[d];for(;f<s;f++)l[p++]=e[f];for(;d<n;d++)l[p++]=t[d];for(;f<r;f++)l[p++]=e[f];return l}function en(t,e){if(t===e)return Ge(t);var n=dn(t,e);return nn(t,e,n.startI,n.startJ,n.endI,n.endJ)}function nn(t,e,n,r,i,o){for(var a=n,u=r,s=0;a<i&&u<o;){var c=t[a],l=e[u];c<l?a++:c>l?u++:(a++,u++,s++)}return s}function rn(t,e){if(t===e)return t;var n=dn(t,e),r=n.startI,i=n.startJ,o=n.endI,a=n.endJ,u=nn(t,e,r,i,o,a),s=t.length,c=e.length;if(!u)return Pe;if(u===s&&u===c||u===c)return e;if(u===s)return t;for(var l=new Int32Array(u),d=0,f=r,p=i;f<o&&p<a;){var m=t[f],h=e[p];m<h?f++:(m>h||(l[d++]=m,f++),p++)}return l}function on(t,e){if(t===e)return Pe;for(var n=t.length,r=dn(t,e),i=r.startI,o=r.startJ,a=r.endI,u=r.endJ,s=i,c=o,l=0;s<a&&c<u;){(m=t[s])<(h=e[c])?s++:m>h?c++:(s++,c++,l++)}if(!l)return t;if(l>=n)return Pe;for(var d=new Int32Array(n-l),f=0,p=0;p<i;p++)d[f++]=t[p];for(s=i,c=o;s<a&&c<u;){var m,h;(m=t[s])<(h=e[c])?(d[f++]=m,s++):(m>h||s++,c++)}for(;s<n;s++)d[f++]=t[s];return d}function an(t){if(t.length<2)return t;for(var e=1,n=0,r=t.length-1;n<r;n++)t[n]!==t[n+1]&&e++;if(e===t.length)return t;var i=new Int32Array(e),o=0;for(n=0,r=t.length-1;n<r;n++)t[n]!==t[n+1]&&(i[o++]=t[n]);return i[o]=t[t.length-1],i}function un(t,e){if(Ye(t,e))return ee(0,t.length-1);for(var n=dn(t,e),r=n.startI,i=n.startJ,o=n.endI,a=n.endJ,u=r,s=i,c=0;u<o&&s<a;){(p=t[u])<(m=e[s])?u++:p>m?s++:(u++,s++,c++)}var l=t.length;if(!c)return Pe;if(c===l)return ee(0,t.length-1);var d=new Int32Array(c),f=0;for(u=r,s=i;u<o&&s<a;){var p,m;(p=t[u])<(m=e[s])?u++:(p>m||(d[f++]=u,u++),s++)}return d}var sn,cn,ln={startI:0,startJ:0,endI:0,endJ:0};function dn(t,e){var n=t.length,r=e.length,i=n/r;return n>=128||r>=128||i<=.34||i>=2.99?(ln.startI=Ke(t,Te(e)),ln.startJ=Ke(e,Te(t)),ln.endI=Ke(t,Ue(e)),ln.endJ=Ke(e,Ue(t))):(ln.startI=0,ln.startJ=0,ln.endI=n,ln.endJ=r),ln}(cn=sn||(sn={})).Empty=Pe,cn.ofUnsortedArray=ke,cn.ofSingleton=Ee,cn.ofSortedArray=Me,cn.ofRange=De,cn.ofBounds=function(t,e){return De(t,e-1)},cn.is=Oe,cn.isRange=Ne,cn.has=ze,cn.indexOf=je,cn.indexOfInInterval=He,cn.indexOfInRange=Ve,cn.start=Te,cn.end=Ue,cn.min=Re,cn.max=Le,cn.size=Ge,cn.hashCode=Fe,cn.toString=qe,cn.areEqual=Ye,cn.areIntersecting=Je,cn.isSubset=$e,cn.union=tn,cn.intersect=rn,cn.subtract=on,cn.findPredecessorIndex=Ke,cn.findPredecessorIndexInInterval=Ze,cn.findRange=We,cn.intersectionSize=en,cn.deduplicate=an,cn.indicesOf=un;var fn,pn,mn=ye.Empty,hn=ye.ofSingleton,gn=ye.ofRange,vn=ye.ofBounds;function yn(t){return t.length?sn.isRange(t)?ye.ofRange(t[0],t[t.length-1]):t:mn}function _n(t){return ye.is(t)?ye.size(t):sn.size(t)}function bn(t,e){return ye.is(t)?ye.has(t,e):sn.has(t,e)}function xn(t,e){return ye.is(t)?ye.indexOf(t,e):sn.indexOf(t,e)}function An(t,e){return ye.is(t)?ye.getAt(t,e):t[e]}function wn(t){return ye.is(t)?ye.min(t):sn.min(t)}function Sn(t){return ye.is(t)?ye.max(t):sn.max(t)}function Cn(t){return ye.is(t)?ye.start(t):sn.start(t)}function Bn(t){return ye.is(t)?ye.end(t):sn.end(t)}function In(t){return ye.is(t)?ye.hashCode(t):sn.hashCode(t)}function Pn(t,e){return ye.is(t)?ye.is(e)?ye.areEqual(t,e):Ln(t,e):ye.is(e)?Ln(e,t):sn.areEqual(t,e)}function En(t,e){return ye.is(t)?ye.is(e)?ye.areIntersecting(t,e):Gn(e,t):ye.is(e)?Gn(t,e):sn.areIntersecting(t,e)}function Mn(t,e){return ye.is(t)?ye.is(e)?ye.isSubInterval(t,e):function(t,e){var n=ye.min(t),r=ye.max(t);if(r-n+1==0)return!1;var i=sn.min(e),o=sn.max(e);return i>=n&&o<=r}(t,e):ye.is(e)?function(t,e){var n=ye.min(e),r=ye.max(e);if(r-n+1==0)return!0;var i=sn.min(t),o=sn.max(t);if(n<i||r>o)return!1;var a=sn.findRange(t,n,r);return ye.size(a)===ye.size(e)}(t,e):sn.isSubset(t,e)}function kn(t,e){return ye.is(t)?ye.findPredecessorIndex(t,e):sn.findPredecessorIndex(t,e)}function Dn(t,e,n){return ye.is(t)?ye.findPredecessorIndexInInterval(t,e,n):sn.findPredecessorIndexInInterval(t,e,n)}function On(t,e,n){return ye.is(t)?ye.findRange(t,e,n):sn.findRange(t,e,n)}function Nn(t,e){return ye.is(t)?ye.is(e)?ye.intersectionSize(t,e):qn(e,t):ye.is(e)?qn(t,e):sn.intersectionSize(t,e)}function Tn(t,e){return ye.is(t)?ye.is(e)?function(t,e){if(ye.areEqual(t,e))return t;var n=ye.size(t),r=ye.size(e);if(!r)return t;if(!n)return e;var i,o,a,u,s=ye.min(t),c=ye.min(e);if(function(t,e){var n=_n(t),r=_n(e);return 0===n&&0===r||n>0&&r>0&&Sn(t)>=wn(e)&&wn(t)<=Sn(e)}(t,e))return ye.ofRange(Math.min(s,c),Math.max(ye.max(t),ye.max(e)));s<c?(i=n,o=s,a=r,u=c):(i=r,o=c,a=n,u=s);for(var l=new Int32Array(n+r),d=0;d<i;d++)l[d]=d+o;for(d=0;d<a;d++)l[d+i]=d+u;return yn(l)}(t,e):Fn(e,t):ye.is(e)?Fn(t,e):yn(sn.union(t,e))}function Un(t,e){return ye.is(t)?ye.is(e)?ye.intersect(t,e):jn(e,t):ye.is(e)?jn(t,e):yn(sn.intersect(t,e))}function Rn(t,e){return ye.is(t)?ye.is(e)?function(t,e){if(ye.areEqual(t,e))return mn;if(!ye.areIntersecting(t,e))return t;var n=ye.min(t),r=ye.max(t),i=ye.min(e),o=ye.max(e);if(r<n||o<i)return t;if(ye.isSubInterval(e,t))return mn;if(ye.isSubInterval(t,e)){var a=i-n,u=r-o;if(a<=0)return ye.ofRange(o+1,o+u);if(u<=0)return ye.ofRange(n,n+a-1);for(var s=new Int32Array(a+u),c=0,l=0;l<a;l++)s[c++]=n+l;for(l=1;l<=u;l++)s[c++]=o+l;return yn(s)}return n<i?ye.ofRange(n,i-1):ye.ofRange(o+1,r)}(t,e):function(t,e){var n=ye.min(t),r=ye.max(t);if(r<n)return t;var i=r-n+1,o=sn.findRange(e,n,r),a=ye.start(o),u=ye.end(o),s=u-a;if(0===s)return t;var c=i-s;if(c<=0)return mn;for(var l=new Int32Array(c),d=e.length-1,f=e[Math.min(a,d)],p=e[Math.min(u,d)],m=0,h=n;h<f;h++)l[m++]=h;for(h=f;h<=p;h++)sn.indexOfInInterval(e,h,o)<0&&(l[m++]=h);for(h=p+1;h<=r;h++)l[m++]=h;return yn(l)}(t,e):ye.is(e)?function(t,e){var n=ye.min(e),r=ye.max(e);if(r<n)return t;var i=sn.findRange(t,n,r),o=ye.start(i),a=ye.end(i),u=t.length-(a-o);if(u<=0)return mn;if(u===t.length)return t;for(var s=new Int32Array(u),c=0,l=0;l<o;l++)s[c++]=t[l];l=a;for(var d=t.length;l<d;l++)s[c++]=t[l];return yn(s)}(t,e):yn(sn.subtract(t,e))}function Ln(t,e){return ye.size(t)===sn.size(e)&&ye.start(t)===sn.start(e)&&ye.end(t)===sn.end(e)}function Gn(t,e){return 0!==t.length&&0!==ye.size(sn.findRange(t,ye.min(e),ye.max(e)))}function Fn(t,e){var n=ye.size(e);if(!n)return t;if(function(t,e){return _n(t)?!_n(e)||wn(t)<=wn(e)&&Sn(t)>=Sn(e):0===_n(e)}(e,t))return e;for(var r=ye.min(e),i=ye.max(e),o=sn.findRange(t,r,i),a=ye.start(o),u=ye.end(o),s=new Int32Array(a+(t.length-u)+n),c=0,l=0;l<a;l++)s[c++]=t[l];for(l=r;l<=i;l++)s[c++]=l;l=u;for(var d=t.length;l<d;l++)s[c++]=t[l];return yn(s)}function qn(t,e){if(!ye.size(e))return 0;var n=sn.findRange(t,ye.min(e),ye.max(e));return ye.end(n)-ye.start(n)}function jn(t,e){if(!ye.size(e))return mn;var n=sn.findRange(t,ye.min(e),ye.max(e)),r=ye.start(n),i=ye.end(n),o=i-r;if(!o)return mn;if(o===t.length)return t;for(var a=new Int32Array(o),u=0,s=r;s<i;s++)a[u++]=t[s];return yn(a)}function Hn(t,e,n){if(e===n)return t;var r=_n(t),i=e.length,o=n.length;if(0===r||0===i||0===o)return mn;for(var a=sn.findPredecessorIndex(n,e[wn(t)]),u=sn.findPredecessorIndex(n,e[Sn(t)]+1),s=0,c=0,l=0,d=a;l<r&&d<u;){(p=e[An(t,l)])<(m=n[d])?l++:(p>m||(s++,l++),d++)}if(0===s)return mn;if(s===i&&s===o)return t;var f=new Int32Array(s);for(c=0,l=0,d=a;l<r&&d<u;){var p,m;(p=e[An(t,l)])<(m=n[d])?l++:(p>m||(f[c++]=d,l++),d++)}return yn(f)}function Vn(t){for(var e=sn.ofSortedArray(t),n=sn.max(e),r=new Int32Array(n),i=0,o=t.length-1;i<o;i++)for(var a=t[i],u=t[i+1];a<u;a++)r[a]=i;return{offsets:e,index:r,count:t.length-1}}function zn(t,e){for(var n=ye.start(e),r=new Int32Array(t.length+1),i=0,o=t.length;i<o;i++)r[i]=t[i]-n;return r[t.length]=ye.end(e)-n,Vn(r)}function Yn(t){return t.count}function Kn(t,e){return t.index[e]}function Zn(t,e,n){var r=t.offsets,i=n>=fn.max(r)?-1:fn.findPredecessorIndex(r,n-1);return fn.findRange(e,fn.getAt(r,i),fn.getAt(r,i+1)-1)}(pn=fn||(fn={})).Empty=mn,pn.ofSingleton=hn,pn.ofRange=gn,pn.ofBounds=vn,pn.ofSortedArray=yn,pn.has=bn,pn.indexOf=xn,pn.getAt=An,pn.min=wn,pn.max=Sn,pn.start=Cn,pn.end=Bn,pn.size=_n,pn.hashCode=In,pn.areEqual=Pn,pn.areIntersecting=En,pn.isSubset=Mn,pn.union=Tn,pn.intersect=Un,pn.indexedIntersect=Hn,pn.subtract=Rn,pn.findPredecessorIndex=kn,pn.findPredecessorIndexInInterval=Dn,pn.findRange=On,pn.intersectionSize=Nn,pn.forEach=function(t,e,n){return function(t,e,n){if(ye.is(t))for(var r=ye.min(t),i=r,o=ye.max(t);i<=o;i++)e(i,i-r,n);else for(i=0,o=t.length;i<o;i++)e(t[i],i,n);return n}(t,e,n)},pn.forEachSegment=function(t,e,n,r){return function(t,e,n,r){if(ye.is(t))for(var i=0,o=ye.min(t),a=ye.max(t);o<=a;o++){for(var u=e(o),s=o+1;s<a&&e(s)===u;)s++;o=s-1,n(u,i,r),i++}else for(i=0,o=0,a=t.length;o<a;o++){for(u=e(t[o]),s=o+1;s<a&&e(t[s])===u;)s++;o=s-1,n(u,i,r),i++}return r}(t,e,n,r)},pn.isInterval=function(t){return ye.is(t)},pn.isSortedArray=function(t){return!ye.is(t)},pn.toArray=function(t){var e=[];return pn.forEach(t,(function(t){return e.push(t)})),e},pn.toString=function(t){return function(t){return ye.is(t)?ye.toString(t):sn.toString(t)}(t)};var Wn,Xn,Qn=function(){function t(t,e,n,r){this.segments=t,this.segmentMap=e,this.set=n,this.segmentMin=0,this.segmentMax=0,this.setRange=ye.Empty,this.value={index:0,start:0,end:0},this.hasNext=!1,this.setRange=r,this.updateSegmentRange()}return t.prototype.move=function(){for(;this.hasNext;){if(this.updateValue()){this.value.index=this.segmentMin++,this.hasNext=this.segmentMax>=this.segmentMin&&ye.size(this.setRange)>0;break}this.updateSegmentRange()}return this.value},t.prototype.updateValue=function(){var t=this.segments[this.segmentMin+1],e=fn.findPredecessorIndexInInterval(this.set,t,this.setRange);return this.value.start=ye.start(this.setRange),this.value.end=e,this.setRange=ye.ofBounds(e,ye.end(this.setRange)),e>this.value.start},t.prototype.updateSegmentRange=function(){var t=ye.min(this.setRange),e=ye.max(this.setRange);e<t?this.hasNext=!1:(this.segmentMin=this.segmentMap[fn.getAt(this.set,t)],this.segmentMax=this.segmentMap[fn.getAt(this.set,e)],this.hasNext=this.segmentMax>=this.segmentMin)},t.prototype.setSegment=function(t){this.setRange=ye.ofBounds(t.start,t.end),this.updateSegmentRange()},t}();function Jn(t,e,n){var r=void 0!==n?ye.ofBounds(n.start,n.end):ye.ofBounds(0,fn.size(e));return new Qn(t.offsets,t.index,e,r)}(Xn=Wn||(Wn={})).create=Vn,Xn.ofOffsets=zn,Xn.count=Yn,Xn.getSegment=Kn,Xn.projectValue=Zn,Xn.transientSegments=Jn;var $n,tr=function(){function t(t){this.head=t>0?0:-1,this.prev=new Int32Array(t),this.next=new Int32Array(t);for(var e=0;e<t;e++)this.next[e]=e+1,this.prev[e]=e-1;this.prev[0]=-1,this.next[t-1]=-1}return t.prototype.remove=function(t){var e=this.prev,n=this.next,r=e[t],i=n[t];r>=0&&(n[r]=i,e[t]=-1),i>=0&&(e[i]=r,n[t]=-1),t===this.head&&(this.head=r<0?i:r)},t.prototype.has=function(t){return this.prev[t]>=0||this.next[t]>=0||this.head===t},t}();!function(t){function e(){return new Map}t.Empty=new Map,t.keyArray=function(t){return te(t.keys())},t.Mutable=e,t.asImmutable=function(t){return t},t.copy=function(t){for(var n=e(),r=t.keys();;){var i=r.next(),o=i.done,a=i.value;if(o)break;n.set(a,t.get(a))}return n},t.addFrom=function(t,e){for(var n=e.keys();;){var r=n.next(),i=r.done,o=r.value;if(i)break;t.set(o,e.get(o))}return t}}($n||($n={}));var er,nr,rr=function(){function t(t){this.xs=[],this.index=-1,this.length=0,this.hasNext=!1,this.length=t.length,this.hasNext=t.length>0,this.xs=t,this.index=-1,this.lastValue=t.length>0?t[0]:void 0}return t.prototype.move=function(){return++this.index,this.lastValue=this.xs[this.index],this.hasNext=this.index<this.length-1,this.lastValue},t}(),ir=function(){function t(t,e){this.max=e,this.value=0,this.hasNext=!1,this.value=t-1,this.hasNext=e>=t}return t.prototype.move=function(){return++this.value,this.hasNext=this.value<this.max,this.value},t}(),or=function(){function t(t){this.value=t,this.hasNext=!0}return t.prototype.move=function(){return this.hasNext=!1,this.value},t}(),ar=function(){function t(t,e){this.base=t,this.f=e,this.hasNext=!1,this.hasNext=t.hasNext}return t.prototype.move=function(){var t=this.f(this.base.move());return this.hasNext=this.base.hasNext,t},t}(),ur=function(){function t(t,e){this.base=t,this.p=e,this.hasNext=this.findNext()}return t.prototype.move=function(){var t=this.next;return this.hasNext=this.findNext(),t},t.prototype.findNext=function(){for(;this.base.hasNext;)if(this.next=this.base.move(),this.p(this.next))return!0;return!1},t}();function sr(){return sr.empty()}function cr(){return cr.zero()}function lr(){return lr.zero()}(nr=er||(er={})).Empty=new ir(0,-1),nr.Array=function(t){return new rr(t)},nr.Value=function(t){return new or(t)},nr.Range=function(t,e){return new ir(t,e)},nr.map=function(t,e){return new ar(t,e)},nr.filter=function(t,e){return new ur(t,e)},nr.forEach=function(t,e,n){for(;t.hasNext;)if(e(t.move(),n))return n;return n},function(t){function e(){return{origin:C(),dirA:C(),dirB:C(),dirC:C()}}function n(t,e){return C.copy(t.origin,e.origin),C.copy(t.dirA,e.dirA),C.copy(t.dirB,e.dirB),C.copy(t.dirC,e.dirC),t}function r(t,e){return C.set(t,2*C.magnitude(e.dirA),2*C.magnitude(e.dirB),2*C.magnitude(e.dirC))}t.create=function(t,e,n,r){return{origin:t,dirA:e,dirB:n,dirC:r}},t.empty=e,t.copy=n,t.clone=function(t){return n(e(),t)},t.size=r;var i=C();t.volume=function(t){return r(i,t),i[0]*i[1]*i[2]},t.normalize=function(t,e){return C.copy(t.origin,e.origin),C.normalize(t.dirA,e.dirA),C.normalize(t.dirB,e.dirB),C.normalize(t.dirC,e.dirC),t};var o=O();t.transform=function(t,e,n){C.transformMat4(t.origin,e.origin,n);var r=O.directionTransform(o,n);return C.transformMat3(t.dirA,e.dirA,r),C.transformMat3(t.dirB,e.dirB,r),C.transformMat3(t.dirC,e.dirC,r),t},t.scale=function(t,e,n){return C.scale(t.dirA,e.dirA,n),C.scale(t.dirB,e.dirB,n),C.scale(t.dirC,e.dirC,n),t}}(sr||(sr={})),function(t){function e(t){return void 0!==t.extrema}function n(t,e){return{center:t,radius:e}}function r(t,e){var n;return void 0!==t.extrema?(t.extrema.length=0,(n=t.extrema).push.apply(n,e)):t.extrema=e,t}t.hasExtrema=e,t.create=n,t.zero=function(){return{center:C(),radius:0}},t.clone=function(t){var r=n(C.clone(t.center),t.radius);return e(t)&&(r.extrema=t.extrema.map((function(t){return C.clone(t)}))),r},t.set=function(t,e,n){return C.copy(t.center,e),t.radius=n,t},t.copy=function(t,n){return C.copy(t.center,n.center),t.radius=n.radius,e(n)&&r(t,n.extrema.map((function(t){return C.clone(t)}))),t},t.setExtrema=r,t.computeBounding=function(t){for(var e=t.x,n=t.y,r=t.z,i=t.indices,o=0,a=0,u=0,s=0,c=fn.size(i),l=0;l<c;l++){o+=e[d=fn.getAt(i,l)],a+=n[d],u+=r[d]}for(c>0&&(o/=c,a/=c,u/=c),l=0;l<c;l++){var d,f=e[d=fn.getAt(i,l)]-o,p=n[d]-a,m=r[d]-u,h=f*f+p*p+m*m;h>s&&(s=h)}return{center:C.create(o,a,u),radius:Math.sqrt(s)}},t.transform=function(t,n,i){return C.transformMat4(t.center,n.center,i),t.radius=n.radius*D.getMaxScaleOnAxis(i),e(n)&&r(t,n.extrema.map((function(t){return C.transformMat4(C(),t,i)}))),t},t.translate=function(t,n,i){return C.add(t.center,n.center,i),e(n)&&r(t,n.extrema.map((function(t){return C.add(C(),t,i)}))),t},t.toArray=function(t,e,n){return C.toArray(t.center,e,n),e[n+3]=t.radius,e},t.fromArray=function(t,e,n){return C.fromArray(t.center,e,n),t.radius=e[n+3],t},t.fromBox3D=function(e,n){return C.scale(e.center,C.add(e.center,n.max,n.min),.5),e.radius=C.distance(e.center,n.max),t.setExtrema(e,[C.create(n.min[0],n.min[1],n.min[2]),C.create(n.max[0],n.max[1],n.max[2]),C.create(n.max[0],n.min[1],n.min[2]),C.create(n.min[0],n.max[1],n.max[2]),C.create(n.min[0],n.min[1],n.max[2]),C.create(n.max[0],n.min[1],n.max[2]),C.create(n.max[0],n.max[1],n.min[2]),C.create(n.min[0],n.max[1],n.min[2])]),e},t.fromAxes3D=function(t,e){return C.copy(t.center,e.origin),t.radius=Math.max(C.magnitude(e.dirA),C.magnitude(e.dirB),C.magnitude(e.dirC)),t};var i=C();t.fromDimensionsAndTransform=function(e,n,r){var o=n[0],a=n[1],u=n[2],s=C.create(0,0,0);C.transformMat4(s,s,r);var c=C.create(o,a,u);C.transformMat4(c,c,r);var l=C.create(o,0,0);C.transformMat4(l,l,r);var d=C.create(0,a,u);C.transformMat4(d,d,r);var f=C.create(0,0,u);C.transformMat4(f,f,r);var p=C.create(o,0,u);C.transformMat4(p,p,r);var m=C.create(o,a,0);C.transformMat4(m,m,r);var h=C.create(0,a,0);C.transformMat4(h,h,r),C.add(i,s,c),C.scale(i,i,.5);var g=Math.max(C.distance(s,c),C.distance(l,d));return t.set(e,i,g/2),t.setExtrema(e,[s,c,l,d,f,p,m,h]),e};var o=C();t.addVec3=function(e,n,r){return C.distance(n.center,r)<n.radius?t.copy(e,n):(C.sub(o,n.center,r),C.sub(o,n.center,o),C.setMagnitude(o,o,n.radius),C.scale(e.center,C.add(o,o,r),.5),e.radius=C.distance(e.center,r),e)},t.expandBySphere=function(t,n,i){return C.copy(t.center,n.center),t.radius=Math.max(n.radius,C.distance(n.center,i.center)+i.radius),e(n)&&e(i)&&r(t,Object(v.e)(Object(v.e)([],n.extrema.map((function(t){return C.clone(t)})),!0),i.extrema.map((function(t){return C.clone(t)})),!0)),t};var a=C();t.expand=function(t,n,i){var o,u;if(C.copy(t.center,n.center),t.radius=n.radius+i,n.radius<1e-12||(null!==(u=null===(o=n.extrema)||void 0===o?void 0:o.length)&&void 0!==u?u:0)<=1)return t.extrema=void 0,t;if(e(n)){for(var s=new Float32Array(3*n.extrema.length),c=0;c<n.extrema.length;c++)C.toArray(n.extrema[c],s,3*c);var l=vr.calculateMomentsAxes(s);sr.scale(l,sr.normalize(l,l),i),r(t,n.extrema.map((function(e){C.normalize(a,C.sub(a,e,n.center));var r=C.clone(e),i=C.dot(a,l.dirA)<0?-1:1;C.scaleAndAdd(r,r,l.dirA,i);var o=C.dot(a,l.dirB)<0?-1:1;C.scaleAndAdd(r,r,l.dirB,o);var u=C.dot(a,l.dirC)<0?-1:1;return C.scaleAndAdd(r,r,l.dirC,u),C.distance(t.center,r)>t.radius&&(n.extrema.length>=14&&C.normalize(a,C.sub(a,r,n.center)),C.scaleAndAdd(r,t.center,a,t.radius)),r})))}return t},t.exactEquals=function(t,e){return t.radius===e.radius&&C.exactEquals(t.center,e.center)},t.equals=function(t,e){var n=t.radius,r=e.radius;return Math.abs(n-r)<=y*Math.max(1,Math.abs(n),Math.abs(r))&&C.equals(t.center,e.center)},t.includes=function(t,n){if(e(n)){for(var r=0,i=n.extrema;r<i.length;r++){var o=i[r];if(C.distance(t.center,o)>t.radius)return!1}return!0}return C.distance(t.center,n.center)+n.radius<=t.radius},t.overlaps=function(t,e){return C.distance(t.center,e.center)<=t.radius+e.radius},t.distance=function(t,e){return C.distance(t.center,e.center)-t.radius+e.radius},t.distanceToVec=function(t,e){var n=t.center,r=t.radius;return C.distance(e,n)-r}}(cr||(cr={})),function(t){function e(){return{min:C(),max:C()}}function n(t,e){return C.copy(t.min,e.min),C.copy(t.max,e.max),t}t.create=function(t,e){return{min:t,max:e}},t.zero=e,t.copy=n,t.clone=function(t){return n(e(),t)};var r=C();function i(t,e){for(var n=0,r=e.length;n<r;n++)c(t,e[n]);return t}function o(t,e){return s(t),i(t,e),t}function a(t,e){return C.sub(t,e.max,e.min)}t.fromSphere3D=function(t,e){return cr.hasExtrema(e)&&e.extrema.length>=14?o(t,e.extrema):(C.set(r,e.radius,e.radius,e.radius),C.sub(t.min,e.center,r),C.add(t.max,e.center,r),t)},t.addVec3Array=i,t.fromVec3Array=o,t.addSphere3D=function(t,e){return cr.hasExtrema(e)&&e.extrema.length>=14?i(t,e.extrema):(c(t,C.subScalar(r,e.center,e.radius)),c(t,C.addScalar(r,e.center,e.radius)),t)},t.intersectsSphere3D=function(t,e){return C.clamp(r,e.center,t.min,t.max),C.squaredDistance(r,e.center)<=e.radius*e.radius},t.computeBounding=function(t){for(var e=C.create(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),n=C.create(-Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE),r=t.x,i=t.y,o=t.z,a=t.indices,u=0,s=fn.size(a);u<s;u++){var c=fn.getAt(a,u);e[0]=Math.min(r[c],e[0]),e[1]=Math.min(i[c],e[1]),e[2]=Math.min(o[c],e[2]),n[0]=Math.max(r[c],n[0]),n[1]=Math.max(i[c],n[1]),n[2]=Math.max(o[c],n[2])}return{min:e,max:n}},t.size=a;var u=C();function s(t){return C.set(t.min,Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),C.set(t.max,-Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE),t}function c(t,e){return C.min(t.min,t.min,e),C.max(t.max,t.max,e),t}t.volume=function(t){return a(u,t),u[0]*u[1]*u[2]},t.setEmpty=s,t.add=c,t.expand=function(t,e,n){return C.sub(t.min,e.min,n),C.add(t.max,e.max,n),t},t.scale=function(t,e,n){return C.scale(t.min,e.min,n),C.scale(t.max,e.max,n),t};var l=C();t.transform=function(t,e,n){var r=e.min,i=r[0],o=r[1],a=r[2],u=e.max,d=u[0],f=u[1],p=u[2];return s(t),c(t,C.transformMat4(l,C.set(l,i,o,a),n)),c(t,C.transformMat4(l,C.set(l,i,o,p),n)),c(t,C.transformMat4(l,C.set(l,i,f,a),n)),c(t,C.transformMat4(l,C.set(l,i,f,p),n)),c(t,C.transformMat4(l,C.set(l,d,o,a),n)),c(t,C.transformMat4(l,C.set(l,d,o,p),n)),c(t,C.transformMat4(l,C.set(l,d,f,a),n)),c(t,C.transformMat4(l,C.set(l,d,f,p),n)),t},t.containsVec3=function(t,e){return!(e[0]<t.min[0]||e[0]>t.max[0]||e[1]<t.min[1]||e[1]>t.max[1]||e[2]<t.min[2]||e[2]>t.max[2])},t.overlaps=function(t,e){return!(t.max[0]<e.min[0]||t.min[0]>e.max[0]||t.max[1]<e.min[1]||t.min[1]>e.max[1]||t.max[2]<e.min[2]||t.min[2]>e.max[2])},t.containsSphere3D=function(t,e){var n=e.center,r=e.radius;return!(n[0]-r<t.min[0]||n[0]+r>t.max[0]||n[1]-r<t.min[1]||n[1]+r>t.max[1]||n[2]-r<t.min[2]||n[2]+r>t.max[2])},t.nearestIntersectionWithRay=function(t,e,n,r){var i,o,a,u,s,c,l=e.min,d=l[0],f=l[1],p=l[2],m=e.max,h=m[0],g=m[1],v=m[2],y=n[0],_=n[1],b=n[2],x=1/r[0],A=1/r[1],w=1/r[2];return x>=0?(i=(d-y)*x,o=(h-y)*x):(i=(h-y)*x,o=(d-y)*x),A>=0?(a=(f-_)*A,u=(g-_)*A):(a=(g-_)*A,u=(f-_)*A),w>=0?(s=(p-b)*w,c=(v-b)*w):(s=(v-b)*w,c=(p-b)*w),a>i&&(i=a),u<o&&(o=u),s>i&&(i=s),c<o&&(o=c),C.scale(t,r,i),C.set(t,t[0]+y,t[1]+_,t[2]+b)}}(lr||(lr={}));var dr=function(t,e){this.parent=null,this.child=null,this.degree=0,this.isMarked=!1,this.key=t,this.value=e,this.prev=this,this.next=this},fr=new(function(){function t(t){if(this._index=-1,this._items=[],this._len=0,t){var e=t,n=0;do{this._items[n++]=e,e=e.next}while(t!==e);this._len=n}}return t.prototype.hasNext=function(){return this._index<this._len-1},t.prototype.next=function(){return this._items[++this._index]},t.prototype.reset=function(t){this._index=-1,this._len=0;var e=t,n=0;do{this._items[n++]=e,e=e.next}while(t!==e);this._len=n},t}()),pr=function(){function t(t){this._minNode=null,this._nodeCount=0,this._compare=t||this._defaultCompare}return t.prototype.clear=function(){this._minNode=null,this._nodeCount=0},t.prototype.decreaseKey=function(t,e){if(!t)throw new Error("Cannot decrease key of non-existent node");if(this._compare({key:e},{key:t.key})>0)throw new Error("New key is larger than old key");t.key=e;var n=t.parent;n&&this._compare(t,n)<0&&(this._cut(t,n,this._minNode),this._cascadingCut(n,this._minNode)),this._compare(t,this._minNode)<0&&(this._minNode=t)},t.prototype.delete=function(t){var e=t.parent;e&&(this._cut(t,e,this._minNode),this._cascadingCut(e,this._minNode)),this._minNode=t,this.extractMinimum()},t.prototype.extractMinimum=function(){var t=this._minNode;if(t){if(t.child){var e=t.child;do{e.parent=null,e=e.next}while(e!==t.child)}var n=null;t.next!==t&&(n=t.next),this._removeNodeFromList(t),this._nodeCount--,this._minNode=this._mergeLists(n,t.child),this._minNode&&(this._minNode=this._consolidate(this._minNode))}return t},t.prototype.findMinimum=function(){return this._minNode},t.prototype.insert=function(t,e){var n=new dr(t,e);return this._minNode=this._mergeLists(this._minNode,n),this._nodeCount++,n},t.prototype.isEmpty=function(){return null===this._minNode},t.prototype.size=function(){return null===this._minNode?0:this._getNodeListSize(this._minNode)},t.prototype.union=function(t){this._minNode=this._mergeLists(this._minNode,t._minNode),this._nodeCount+=t._nodeCount},t.prototype._defaultCompare=function(t,e){return t.key>e.key?1:t.key<e.key?-1:0},t.prototype._cut=function(t,e,n){t.parent=null,e.degree--,t.next===t?e.child=null:e.child=t.next,this._removeNodeFromList(t);var r=this._mergeLists(n,t);return t.isMarked=!1,r},t.prototype._cascadingCut=function(t,e){var n=t.parent;return n&&(t.isMarked?(e=this._cut(t,n,e),e=this._cascadingCut(n,e)):t.isMarked=!0),e},t.prototype._consolidate=function(t){var e=[];for(fr.reset(t);fr.hasNext();){for(var n=fr.next(),r=e[n.degree];r;){if(this._compare(n,r)>0){var i=n;n=r,r=i}this._linkHeaps(r,n),e[n.degree]=null,n.degree++,r=e[n.degree]}e[n.degree]=n}for(var o=null,a=0;a<e.length;a++){var u=e[a];u&&(u.next=u,u.prev=u,o=this._mergeLists(o,u))}return o},t.prototype._removeNodeFromList=function(t){var e=t.prev,n=t.next;e.next=n,n.prev=e,t.next=t,t.prev=t},t.prototype._linkHeaps=function(t,e){this._removeNodeFromList(t),e.child=this._mergeLists(t,e.child),t.parent=e,t.isMarked=!1},t.prototype._mergeLists=function(t,e){if(!t)return e||null;if(!e)return t;var n=t.next;return t.next=e.next,t.next.prev=t,e.next=n,e.next.prev=e,this._compare(t,e)<0?t:e},t.prototype._getNodeListSize=function(t){var e=0,n=t;do{e++,n.child&&(e+=this._getNodeListSize(n.child)),n=n.next}while(n!==t);return e},t}();function mr(t,e,n){return new hr(t,e,n)}var hr=function(){function t(t,e,n){var r=function(t,e,n){var r,i,o=lr.expand(lr(),e.box,C.create(.5,.5,.5)),a=t.indices,u=lr.size(C(),o),s=fn.size(a),c="number"==typeof n?n:32,l=Array.isArray(n)&&n;if(l&&!C.isZero(l))i=[Math.ceil(u[0]/l[0]),Math.ceil(u[1]/l[1]),Math.ceil(u[2]/l[2])],r=l;else if(s>0){var d=Math.ceil(s/c),f=Math.pow(d/(u[0]*u[1]*u[2]),1/3);i=[Math.ceil(u[0]*f),Math.ceil(u[1]*f),Math.ceil(u[2]*f)],r=[u[0]/i[0],u[1]/i[1],u[2]/i[2]]}else r=u,i=[1,1,1];var p={x:t.x,y:t.y,z:t.z,indices:a,radius:t.radius};return function(t){for(var e=t.expandedBox,n=t.size,r=n[0],i=n[1],o=n[2],a=t.data,u=a.x,s=a.y,c=a.z,l=a.radius,d=a.indices,f=t.elementCount,p=t.delta,m=r*i*o,h=e.min,g=h[0],v=h[1],y=h[2],_=0,b=0,x=new Uint32Array(m),A=new Int32Array(f),w=0;w<f;w++){var S=fn.getAt(d,w),C=Math.floor((u[S]-g)/p[0]),B=Math.floor((s[S]-v)/p[1]),I=Math.floor((c[S]-y)/p[2]),P=(C*i+B)*o+I;1===(x[P]+=1)&&(b+=1),A[w]=P}if(l)for(w=0;w<f;w++){S=fn.getAt(d,w);l[S]>_&&(_=l[S])}for(var E=new Int32Array(b),M=(S=0,0);S<m;S++){var k=x[S];k>0&&(x[S]=M+1,E[M]=k,M+=1)}var D=new Uint32Array(b);for(S=1;S<b;++S)D[S]+=D[S-1]+E[S-1];var O=new Int32Array(b),N=new Int32Array(f);for(S=0;S<f;S++){var T=x[A[S]];if(T>0){var U=T-1;N[D[U]+O[U]]=S,O[U]+=1}}return{size:t.size,bucketArray:N,bucketCounts:E,bucketOffset:D,grid:x,delta:p,min:t.expandedBox.min,data:t.data,maxRadius:_,expandedBox:t.expandedBox,boundingBox:t.boundingBox,boundingSphere:t.boundingSphere}}({size:i,data:p,expandedBox:o,boundingBox:e.box,boundingSphere:e.sphere,elementCount:s,delta:r})}(t,e,n);this.ctx={grid:r,x:.1,y:.1,z:.1,k:1,stopIf:void 0,radius:.1,isCheck:!1},this.boundary={box:r.boundingBox,sphere:r.boundingSphere},this.buckets={offset:r.bucketOffset,count:r.bucketCounts,array:r.bucketArray},this.result=et.create()}return t.prototype.find=function(t,e,n,r,i){this.ctx.x=t,this.ctx.y=e,this.ctx.z=n,this.ctx.radius=r,this.ctx.isCheck=!1;var o=null!=i?i:this.result;return gr(this.ctx,o),o},t.prototype.nearest=function(t,e,n,r,i,o){void 0===r&&(r=1),this.ctx.x=t,this.ctx.y=e,this.ctx.z=n,this.ctx.k=r,this.ctx.stopIf=i;var a=null!=o?o:this.result;return function(t,e){var n=t.grid,r=n.min,i=n.expandedBox,o=n.boundingSphere.center,a=n.size,u=a[0],s=a[1],c=a[2],l=n.bucketOffset,d=n.bucketCounts,f=n.bucketArray,p=n.grid,m=n.data,h=m.x,g=m.y,v=m.z,y=m.indices,_=m.radius,b=n.delta,x=n.maxRadius,A=t.x,w=t.y,S=t.z,B=t.k,I=t.stopIf,P=fn.size(y);if(et.reset(e),0===P||B<=0)return!1;var E,M,k,D,O=!1,N=1,T=!0,U=0,R=Sr,L=Cr,G=0,F=!0,q=!1,j=Br,H=x*x;R.length=0,j.length=0,Ar.clear(),Ir.clear(),C.set(xr,A,w,S),lr.containsVec3(i,xr)?(E=Math.floor((A-r[0])/b[0]),M=Math.floor((w-r[1])/b[1]),k=Math.floor((S-r[2])/b[2])):(lr.nearestIntersectionWithRay(xr,i,xr,C.normalize(br,C.sub(br,o,xr))),E=Math.max(0,Math.min(u-1,Math.floor((xr[0]-r[0])/b[0]))),M=Math.max(0,Math.min(s-1,Math.floor((xr[1]-r[1])/b[1]))),k=Math.max(0,Math.min(c-1,Math.floor((xr[2]-r[2])/b[2]))));var V=0!==x?Math.max(1,Math.min(u-1,Math.ceil(x/b[0]))):1,z=0!==x?Math.max(1,Math.min(s-1,Math.ceil(x/b[1]))):1,Y=0!==x?Math.max(1,Math.min(c-1,Math.ceil(x/b[2]))):1;R.push(E,M,k,(E*s+M)*c+k);for(;e.count<P;){for(var K=4*N,Z=0;Z<K;Z+=4)if(D=R[Z+3],!Ar.has(D)){Ar.add(D),q=Ar.size>=p.length;var W=p[D];if(0!==W){for(var X=G,Q=W-1,J=l[Q],$=d[Q],tt=J+$,nt=J;nt<tt;nt++){var rt=f[nt],it=fn.getAt(y,rt),ot=h[it]-A,at=g[it]-w,ut=v[it]-S,st=ot*ot+at*at+ut*ut;if(0!==x){var ct=_[it];st-=ct*ct}F&&st>G&&(G=st),Ir.insert(st,rt)}X<G&&(F=!1)}}L.length=0,U=0,wr.clear();for(Z=0;Z<K;Z+=4){E=R[Z],M=R[Z+1],k=R[Z+2];for(var lt=-V;lt<=V;lt++){var dt=E+lt;if(!(dt<0||dt>=u))for(var ft=-z;ft<=z;ft++){var pt=M+ft;if(!(pt<0||pt>=s))for(var mt=-Y;mt<=Y;mt++){var ht=k+mt;if(!(ht<0||ht>=c)&&(D=(dt*s+pt)*c+ht,!wr.has(D)&&(wr.add(D),!Ar.has(D)))){if(!T){var gt=r[0]+dt*b[0]-A,vt=r[1]+pt*b[1]-w,yt=r[2]+ht*b[2]-S;if(gt*gt+vt*vt+yt*yt-H>G){j.push(dt,pt,ht,D);continue}}L.push(dt,pt,ht,D),U++}}}}}if(T=!1,0===U){if(1===B){if(At=Ir.findMinimum()){var _t=At,bt=_t.key,xt=_t.value;return et.add(e,xt,bt),!0}}else for(;!Ir.isEmpty()&&(q||Ir.findMinimum().key<=G)&&e.count<B;){var At;bt=(At=Ir.extractMinimum()).key,xt=At.value;et.add(e,xt,bt),I&&!O&&(O=I(xt,bt))}if(e.count>=B||O||e.count>=P)return e.count>0;if(T=!0,F=!0,j.length>0){nt=0;for(var wt=j.length;nt<wt;nt++)R.push(j[nt]);j.length=0,N=R.length}}else{var St=R;R=L,L=St,N=U}}e.count}(this.ctx,a),a},t.prototype.check=function(t,e,n,r){return this.ctx.x=t,this.ctx.y=e,this.ctx.z=n,this.ctx.radius=r,this.ctx.isCheck=!0,gr(this.ctx,this.result)},t}();function gr(t,e){var n=t.grid,r=n.min,i=n.size,o=i[0],a=i[1],u=i[2],s=n.bucketOffset,c=n.bucketCounts,l=n.bucketArray,d=n.grid,f=n.data,p=f.x,m=f.y,h=f.z,g=f.indices,v=f.radius,y=n.delta,_=n.maxRadius,b=t.radius,x=t.isCheck,A=t.x,w=t.y,S=t.z,C=b+_,B=C*C;et.reset(e);var I=Math.max(0,Math.floor((A-C-r[0])/y[0])),P=Math.max(0,Math.floor((w-C-r[1])/y[1])),E=Math.max(0,Math.floor((S-C-r[2])/y[2])),M=Math.min(o-1,Math.floor((A+C-r[0])/y[0])),k=Math.min(a-1,Math.floor((w+C-r[1])/y[1])),D=Math.min(u-1,Math.floor((S+C-r[2])/y[2]));if(I>M||P>k||E>D)return!1;for(var O=I;O<=M;O++)for(var N=P;N<=k;N++)for(var T=E;T<=D;T++){var U=d[(O*a+N)*u+T];if(0!==U)for(var R=U-1,L=s[R],G=L+c[R],F=L;F<G;F++){var q=fn.getAt(g,l[F]),j=p[q]-A,H=m[q]-w,V=h[q]-S,z=j*j+H*H+V*V;if(z<=B){if(_>0&&Math.sqrt(z)-v[q]>b)continue;if(x)return!0;et.add(e,l[F],z)}}}return e.count>0}var vr,yr,_r,br=C(),xr=C(),Ar=new Set,wr=new Set,Sr=[.1],Cr=[.1],Br=[.1],Ir=new pr;function Pr(t){return t}!function(t){function e(t){if(3===t.length)return sr.create(C.fromArray(C(),t,0),C.create(1,0,0),C.create(0,1,0),C.create(0,0,1));var e=I.fromArray(t,3,t.length/3),n=e.rows,r=n/3,i=I.create(3,3),o=I.create(1,3),a=I.create(3,3),u=I.create(3,3),s=I.meanRows(e),c=I.subRows(I.clone(e),s),l=I.transpose(I.create(n,3),c);I.multiplyABt(i,l,l),q(i,o,a,u);var d=C.create(s[0],s[1],s[2]),f=C.create(a.data[0],a.data[3],a.data[6]),p=C.create(a.data[1],a.data[4],a.data[7]),m=C.create(a.data[2],a.data[5],a.data[8]);return C.scale(f,f,Math.sqrt(o.data[0]/r)),C.scale(p,p,Math.sqrt(o.data[1]/r)),C.scale(m,m,Math.sqrt(o.data[2]/r)),sr.create(d,f,p,m)}function n(t){var e=sr.clone(t);return C.magnitude(e.dirC)<y&&C.cross(e.dirC,e.dirA,e.dirB),sr.normalize(e,e)}t.ofPositions=function(t){var n=e(t);return{momentsAxes:n,boxAxes:i(t,n)}},t.calculateMomentsAxes=e,t.calculateNormalizedAxes=n;var r=C();function i(t,e){if(3===t.length)return sr.clone(e);for(var i=-1/0,o=-1/0,a=-1/0,u=-1/0,s=-1/0,c=-1/0,l=C(),d=C(),f=e.origin,p=n(e),m=0,h=t.length;m<h;m+=3){C.projectPointOnVector(l,C.fromArray(l,t,m),p.dirA,f);var g=C.dot(p.dirA,C.normalize(d,C.sub(d,l,f))),v=C.distance(l,f);g>0?v>i&&(i=v):v>o&&(o=v),C.projectPointOnVector(l,C.fromArray(l,t,m),p.dirB,f);var y=C.dot(p.dirB,C.normalize(d,C.sub(d,l,f))),_=C.distance(l,f);y>0?_>a&&(a=_):_>u&&(u=_),C.projectPointOnVector(l,C.fromArray(l,t,m),p.dirC,f);var b=C.dot(p.dirC,C.normalize(d,C.sub(d,l,f))),x=C.distance(l,f);b>0?x>s&&(s=x):x>c&&(c=x)}var A=C.setMagnitude(C(),p.dirA,(i+o)/2),w=C.setMagnitude(C(),p.dirB,(a+u)/2),S=C.setMagnitude(C(),p.dirC,(s+c)/2),B=C.isFinite(A),I=C.isFinite(w),P=C.isFinite(S),E=C(),M=function(t,e,n){C.copy(r,f),B&&C.scaleAndAdd(r,r,p.dirA,t),I&&C.scaleAndAdd(r,r,p.dirB,e),P&&C.scaleAndAdd(r,r,p.dirC,n),C.add(E,E,r)};return M(i,a,s),M(i,a,-c),M(i,-u,-c),M(i,-u,s),M(-o,-u,-c),M(-o,-u,s),M(-o,a,s),M(-o,a,-c),C.scale(E,E,1/8),sr.create(E,A,w,S)}t.calculateBoxAxes=i}(vr||(vr={})),function(t){t.create=function(t,e,n){var r=!!t[0].cell,i=!!t[0].velocities,o=!!t[0].forces;return{id:Ft.a.create22(),frames:t,hasCell:r,hasVelocities:i,hasForces:o,deltaTime:e,timeOffset:n}},t.getAtomicConformation=function(t,e,a){var u,s,c=t.x,l=t.y,d=t.z;return t.xyzOrdering.frozen?a?t.xyzOrdering.isIdentity?(c=i(c,a),l=i(l,a),d=i(d,a)):Yt(t.xyzOrdering.index,a)||(c=r(c,t.xyzOrdering.index,a),l=r(l,t.xyzOrdering.index,a),d=r(d,t.xyzOrdering.index,a)):t.xyzOrdering.isIdentity||(c=o(c,t.xyzOrdering.index),l=o(l,t.xyzOrdering.index),d=o(d,t.xyzOrdering.index)):a&&(t.xyzOrdering.isIdentity?(t.xyzOrdering.isIdentity=!1,t.xyzOrdering.index=a,n(c,a),n(l,a),n(d,a)):Yt(t.xyzOrdering.index,a)||(c=r(c,t.xyzOrdering.index,a),l=r(l,t.xyzOrdering.index,a),d=r(d,t.xyzOrdering.index,a))),t.xyzOrdering.frozen=!0,{id:Ft.a.create22(),atomId:e.atomId,occupancy:null!==(u=e.occupancy)&&void 0!==u?u:kt.ofConst(1,t.elementCount,kt.Schema.int),B_iso_or_equiv:null!==(s=e.B_iso_or_equiv)&&void 0!==s?s:kt.ofConst(0,t.elementCount,kt.Schema.float),xyzDefined:!0,x:c,y:l,z:d}};var e=[.123];function n(t,n){for(var r=e,i=0,o=t.length;i<o;i++)r[i]=t[n[i]];for(i=0,o=t.length;i<o;i++)t[i]=r[i]}function r(t,e,n){for(var r=new Float32Array(t.length),i=0,o=t.length;i<o;i++)r[i]=t[e[n[i]]];return r}function i(t,e){for(var n=new Float32Array(t.length),r=0,i=t.length;r<i;r++)n[r]=t[e[r]];return n}function o(t,e){for(var n=new Float32Array(t.length),r=0,i=t.length;r<i;r++)n[e[r]]=t[r];return n}}(yr||(yr={})),(_r||(_r={})).create=function(t,e,n,r){return{id:Ft.a.create22(),label:t,basic:e,sourceData:r,bonds:n}},(Pr||(Pr={})).getUUID=function(t){return t.__key||(t.__key=Ft.a.create22()),t.__key};var Er=function(){function t(){this._list=[],this._set=new Set,this._refs=new Map,this._assets=new Map}return Object.defineProperty(t.prototype,"all",{get:function(){return this._list},enumerable:!1,configurable:!0}),t.prototype.add=function(t){this._set.has(t)||(this._list.push(t),this._set.add(t))},t.prototype.reference=function(t,e){var n=this._refs.get(t)||0;n+=e?1:-1,this._refs.set(t,Math.max(n,0))},t.prototype.hasReference=function(t){return(this._refs.get(t)||0)>0},t.prototype.has=function(t){return this._set.has(t)},t.prototype.assets=function(t,e){var n=this._assets.get(t);if(n)for(var r=0,i=n;r<i.length;r++){i[r].dispose()}e?this._assets.set(t,e):this._assets.delete(t)},t.prototype.dispose=function(){this._assets.forEach((function(t){for(var e=0,n=t;e<n.length;e++){n[e].dispose()}}))},t}();function Mr(t){for(var e=1/0,n=-1/0,r=0,i=t.length;r<i;++r)t[r]<e&&(e=t[r]),t[r]>n&&(n=t[r]);return[e,n]}function kr(t,e){for(var n=0,r=e?Math.min(e,t.length):t.length;n<r;++n)t[n]=n;return t}function Dr(t,e){return!(t.indexOf(e)>=0)&&(t.push(e),!0)}var Or,Nr=n(1),Tr=n(7),Ur=n(8),Rr="undefined"!=typeof performance&&!!performance.mark&&performance.measure&&!Ur.a;function Lr(t){return{taskId:t.id,taskName:t.name,message:"",startedTime:0,canAbort:!0,isIndeterminate:!0,current:0,max:0}}function Gr(t,e,n){var r,i={abortRequested:!1,treeAborted:!1,reason:""};return{updateRateMs:n,lastNotified:Object(Nr.a)(),observer:e,abortToken:i,taskId:t.id,root:{progress:Lr(t),children:[]},tryAbort:(r=i,function(t){r.abortRequested=!0,r.reason=t||r.reason})}}function Fr(t){return{progress:Object(v.a)({},t.progress),children:t.children.map(Fr)}}function qr(t){return t.progress.canAbort&&t.children.every(qr)}function jr(t,e){return Object(v.b)(this,void 0,void 0,(function(){var n,r;return Object(v.d)(this,(function(i){switch(i.label){case 0:Or.markStart(t),e.node.progress.startedTime=Object(Nr.a)(),i.label=1;case 1:return i.trys.push([1,3,,7]),[4,t.f(e)];case 2:return n=i.sent(),Or.markEnd(t),Or.measure(t),e.info.abortToken.abortRequested&&Hr(e.info),[2,n];case 3:return r=i.sent(),zr.isAbort(r)?(e.isAborted=!0,e.node.children.length>0?[4,new Promise((function(t){e.onChildrenFinished=t}))]:[3,5]):[3,6];case 4:i.sent(),i.label=5;case 5:t.onAbort&&t.onAbort(),i.label=6;case 6:throw r;case 7:return[2]}}))}))}function Hr(t){throw t.abortToken.treeAborted||(t.abortToken.treeAborted=!0,function t(e){var n=e.progress;n.isIndeterminate=!0,n.canAbort=!1,n.message="Aborting...";for(var r=0,i=e.children;r<i.length;r++){var o=i[r];t(o)}}(t.root),Vr(t,Object(Nr.a)())),zr.Aborted(t.abortToken.reason)}function Vr(t,e){t.lastNotified=e;var n=function(t){return{root:Fr(t.root),canAbort:qr(t.root),requestAbort:t.tryAbort}}(t);t.observer(n)}!function(t){function e(t){return"startTask".concat(t.id)}function n(t){return"endTask".concat(t.id)}t.markStart=function(t){Rr&&performance.mark(e(t))},t.markEnd=function(t){Rr&&performance.mark(n(t))},t.measure=function(t){Rr&&performance.measure("✳️ ".concat(t.name),e(t),n(t))}}(Or||(Or={}));var zr,Yr,Kr,Zr,Wr=function(){function t(t,e){this.isSynchronous=!1,this.isExecuting=!0,this.lastUpdatedTime=0,this.onChildrenFinished=void 0,this.node=e,this.info=t}return t.prototype.checkAborted=function(){this.info.abortToken.abortRequested&&(this.isAborted=!0,Hr(this.info))},Object.defineProperty(t.prototype,"shouldUpdate",{get:function(){return this.checkAborted(),Object(Nr.a)()-this.lastUpdatedTime>this.info.updateRateMs},enumerable:!1,configurable:!0}),t.prototype.updateProgress=function(t){if(this.checkAborted(),t){var e=this.node.progress;"string"==typeof t?(e.message=t,e.isIndeterminate=!0):(void 0!==t.canAbort&&(e.canAbort=t.canAbort),void 0!==t.message&&(e.message=t.message),void 0!==t.current&&(e.current=t.current),void 0!==t.max&&(e.max=t.max),e.isIndeterminate=void 0===e.current||void 0===e.max,void 0!==t.isIndeterminate&&(e.isIndeterminate=t.isIndeterminate))}},t.prototype.update=function(t,e){if(this.lastUpdatedTime=Object(Nr.a)(),this.updateProgress(t),!e)return Vr(this.info,this.lastUpdatedTime),this.checkAborted(),Tr.a.immediatePromise()},t.prototype.runChild=function(e,n){return Object(v.b)(this,void 0,void 0,(function(){var r,i,o,a,u,s,c;return Object(v.d)(this,(function(l){switch(l.label){case 0:this.updateProgress(n),r={progress:Lr(e),children:[]},(i=this.node.children).push(r),o=new t(this.info,r),l.label=1;case 1:return l.trys.push([1,3,4,5]),[4,jr(e,o)];case 2:return[2,l.sent()];case 3:if(a=l.sent(),zr.isAbort(a)&&this.isAborted)return[2,void 0];throw a;case 4:if((u=i.indexOf(r))>=0){for(s=u,c=i.length-1;s<c;s++)i[s]=i[s+1];i.pop()}return 0===i.length&&this.onChildrenFinished&&this.onChildrenFinished(),[7];case 5:return[2]}}))}))},t}(),Xr=new(function(){function t(){this.shouldUpdate=!1,this.isSynchronous=!0}return t.prototype.update=function(t,e){},t}());function Qr(t,e,n,r,i){return Object(v.b)(this,void 0,void 0,(function(){var o,a,u,s,c,l,d;return Object(v.d)(this,(function(f){switch(f.label){case 0:if(o=Math.max(e,0),a=0,u=0,t.isSynchronous)return r(Number.MAX_SAFE_INTEGER,n),[2,n];s=Object(Nr.a)(),c=0,l=0,f.label=1;case 1:return(c=r(o,n))>0?(a+=c,d=Object(Nr.a)()-s,l+=d,u+=d,t.shouldUpdate?[4,i(t,n,a)]:[3,3]):[3,4];case 2:f.sent(),o=Math.round(l*a/u)+1,s=Object(Nr.a)(),l=0,f.label=3;case 3:return[3,1];case 4:return t.shouldUpdate?[4,i(t,n,a)]:[3,6];case 5:f.sent(),f.label=6;case 6:return[2,n]}}))}))}!function(t){var e=function(){function t(t,e,n){this.name=t,this.f=e,this.onAbort=n,this.id=i()}return t.prototype.run=function(t,e){return void 0===e&&(e=250),t?function(t,e,n){void 0===n&&(n=250);var r=Gr(t,e,n);return jr(t,new Wr(r,r.root))}(this,t,e):this.f(Xr)},t.prototype.runAsChild=function(t,e){return t.isSynchronous?this.f(Xr):function(t,e,n){return t.runChild(e,n)}(t,this,e)},t.prototype.runInContext=function(t){return t.isSynchronous?this.f(Xr):function(t,e){return jr(e,t)}(t,this)},t}();function n(t){var e=t;return!!t&&"number"==typeof e.id&&"string"==typeof e.name&&!!e.run}function r(t,n,r){return new e(t,n,r)}t.is=n,t.isAbort=function(t){return!!t&&!!t.isAborted},t.Aborted=function(t){return{isAborted:!0,reason:t,toString:function(){return"Aborted".concat(t?": "+t:"")}}},t.create=r,t.constant=function(t,e){var n=this;return r(t,(function(t){return Object(v.b)(n,void 0,void 0,(function(){return Object(v.d)(this,(function(t){return[2,e]}))}))}))},t.empty=function(){var t=this;return r("",(function(e){return Object(v.b)(t,void 0,void 0,(function(){return Object(v.d)(this,(function(t){return[2]}))}))}))},t.fail=function(t,e){var n=this;return r(t,(function(t){return Object(v.b)(n,void 0,void 0,(function(){return Object(v.d)(this,(function(t){throw new Error(e)}))}))}))},t.resolveInContext=function(t,e){return n(t)?e?t.runInContext(e):t.run():t};var i=jt(0,1073741823)}(zr||(zr={})),(Yr||(Yr={})).Synchronous=Xr,function(t){t.format=function(t){return function t(e,n){void 0===n&&(n="");var r=e.progress;if(!e.children.length)return r.isIndeterminate?"".concat(n).concat(r.taskName,": ").concat(r.message):"".concat(n).concat(r.taskName,": [").concat(r.current,"/").concat(r.max,"] ").concat(r.message);var i=n+"  |_ ",o=e.children.map((function(e){return t(e,i)}));return r.isIndeterminate?"".concat(n).concat(r.taskName,": ").concat(r.message,"\n").concat(o.join("\n")):"".concat(n).concat(r.taskName,": [").concat(r.current,"/").concat(r.max,"] ").concat(r.message,"\n").concat(o.join("\n"))}(t.root)}}(Kr||(Kr={})),function(t){t.areEqual=function(t,e){if(t===e)return!0;if(t.vertexCount!==e.vertexCount||t.edgeCount!==e.edgeCount)return!1;for(var n=t.a,r=t.b,i=t.offset,o=e.a,a=e.b,u=e.offset,s=0,c=t.a.length;s<c;s++)if(n[s]!==o[s])return!1;for(s=0,c=t.b.length;s<c;s++)if(r[s]!==a[s])return!1;for(s=0,c=t.offset.length;s<c;s++)if(i[s]!==u[s])return!1;for(var l=0,d=Object.keys(t.edgeProps);l<d.length;l++){var f=d[l],p=t.edgeProps[f],m=e.edgeProps[f];if(!m)return!1;for(s=0,c=p.length;s<c;s++)if(p[s]!==m[s])return!1}return!0};var e=function(){function t(t,e,n,r,i,o){this.offset=t,this.a=e,this.b=n,this.edgeCount=r,this.props=o,this.vertexCount=t.length-1,this.edgeProps=i||{}}return t.prototype.getEdgeIndex=function(t,e){var n,r;t<e?(n=t,r=e):(n=e,r=t);for(var i=this.offset[n],o=this.offset[n+1];i<o;i++)if(this.b[i]===r)return i;return-1},t.prototype.getDirectedEdgeIndex=function(t,e){for(var n=this.offset[t],r=this.offset[t+1];n<r;n++)if(this.b[n]===e)return n;return-1},t.prototype.getVertexEdgeCount=function(t){return this.offset[t+1]-this.offset[t]},t}();function n(t,n,r,i,o,a){return new e(t,n,r,i,o,a)}t.create=n;var r=function(){function t(t,e,n){this.vertexCount=t,this.xs=e,this.ys=n,this.current=0,this.curA=0,this.curB=0,this.edgeCount=e.length,this.offsets=new Int32Array(this.vertexCount+1),this.bucketFill=new Int32Array(this.vertexCount);for(var r=new Int32Array(this.vertexCount),i=0,o=this.xs.length;i<o;i++)r[this.xs[i]]++;for(i=0,o=this.ys.length;i<o;i++)r[this.ys[i]]++;var a=0;for(i=0;i<this.vertexCount;i++)this.offsets[i]=a,a+=r[i];this.offsets[this.vertexCount]=a,this.slotCount=a,this.a=new Int32Array(a),this.b=new Int32Array(a)}return t.prototype.createGraph=function(t,e){return n(this.offsets,this.a,this.b,this.edgeCount,t,e)},t.prototype.addNextEdge=function(){var t=this.xs[this.current],e=this.ys[this.current],n=this.offsets[t]+this.bucketFill[t];this.a[n]=t,this.b[n]=e,this.bucketFill[t]++;var r=this.offsets[e]+this.bucketFill[e];this.a[r]=e,this.b[r]=t,this.bucketFill[e]++,this.current++,this.curA=n,this.curB=r},t.prototype.addAllEdges=function(){for(var t=0;t<this.edgeCount;t++)this.addNextEdge()},t.prototype.assignProperty=function(t,e){t[this.curA]=e,t[this.curB]=e},t.prototype.assignDirectedProperty=function(t,e,n,r){t[this.curA]=e,t[this.curB]=r,n[this.curB]=e,n[this.curA]=r},t}();t.EdgeBuilder=r;var i=function(){function t(t,e,n){this.vertexCount=t,this.xs=e,this.ys=n,this.current=0,this.curA=0,this.edgeCount=e.length,this.offsets=new Int32Array(this.vertexCount+1),this.bucketFill=new Int32Array(this.vertexCount);for(var r=new Int32Array(this.vertexCount),i=0,o=this.xs.length;i<o;i++)r[this.xs[i]]++;var a=0;for(i=0;i<this.vertexCount;i++)this.offsets[i]=a,a+=r[i];this.offsets[this.vertexCount]=a,this.slotCount=a,this.a=new Int32Array(a),this.b=new Int32Array(a)}return t.prototype.createGraph=function(t,e){return n(this.offsets,this.a,this.b,this.edgeCount,t,e)},t.prototype.addNextEdge=function(){var t=this.xs[this.current],e=this.ys[this.current],n=this.offsets[t]+this.bucketFill[t];this.a[n]=t,this.b[n]=e,this.bucketFill[t]++,this.current++,this.curA=n},t.prototype.addAllEdges=function(){for(var t=0;t<this.edgeCount;t++)this.addNextEdge()},t.prototype.assignProperty=function(t,e){t[this.curA]=e},t}();t.DirectedEdgeBuilder=i;var o=function(){function t(t){this.vertexCount=t,this.xs=[],this.ys=[],this.included=new Set}return t.prototype.addEdge=function(t,e){var n=t,r=e;t>e&&(n=e,r=t);var i=_t(n,r);return!this.included.has(i)&&(this.included.add(i),this.xs[this.xs.length]=n,this.ys[this.ys.length]=r,!0)},t.prototype.getGraph=function(){return a(this.vertexCount,this.xs,this.ys)},t.prototype.getEdgeBuiler=function(){return new r(this.vertexCount,this.xs,this.ys)},t}();function a(e,n,r){var i=new t.EdgeBuilder(e,n,r);return i.addAllEdges(),i.createGraph({})}t.UniqueEdgeBuilder=o,t.fromVertexPairs=a,t.induceByVertices=function(t,e,r){for(var i=t.b,o=t.offset,a=t.vertexCount,u=t.edgeProps,s=new Int32Array(a),c=0,l=e.length;c<l;c++)s[e[c]]=c+1;var d=0;for(c=0;c<a;c++)if(0!==s[c])for(var f=o[c],p=o[c+1];f<p;f++)i[f]>c&&0!==s[i[f]]&&d++;var m=new Int32Array(e.length+1),h=new Int32Array(2*d),g=new Int32Array(2*d),v=new Int32Array(2*d),y=0,_=0;for(c=0;c<a;c++)if(0!==s[c]){var b=s[c]-1;for(f=o[c],p=o[c+1];f<p;f++){var x=s[i[f]];0!==x&&(g[y]=b,v[y]=x-1,h[y]=f,y++)}m[++_]=y}for(var A={},w=0,S=Object.keys(u);w<S.length;w++){var C=S[w];A[C]=ne(u[C],h)}return n(m,g,v,d,A,r)},t.connectedComponents=function(t){var e=t.vertexCount;if(0===e)return{componentCount:0,componentIndex:new Int32Array(0)};if(0===t.edgeCount){for(var n=new Int32Array(e),r=0,i=e;r<i;r++)n[r]=r;return{componentCount:e,componentIndex:n}}var o=new Int32Array(e);for(r=0,i=e;r<i;r++)o[r]=-1;var a=0;o[0]=a;var u=t.offset,s=t.b,c=[0],l=new tr(e);for(l.remove(0);c.length>0;){for(var d=c.pop(),f=o[d],p=u[d],m=u[d+1];p<m;p++){var h=s[p];l.has(h)&&(l.remove(h),c.push(h),o[h]=f)}0===c.length&&l.head>=0&&(c.push(l.head),o[l.head]=++a,l.remove(l.head))}return{componentCount:e,componentIndex:o}},t.areVertexSetsConnected=function(t,e,n,r){if(sn.areIntersecting(e,n))return!0;if(r<1)return!1;for(var i=new Set,o=0,a=e.length;o<a;++o)i.add(e[o]);return function t(e,n,r,i,o){for(var a=e.b,u=e.offset,s=[],c=0,l=n.length;c<l;++c)for(var d=n[c],f=u[d],p=u[d+1];f<p;++f){var m=a[f];if(!o.has(m)){if(sn.has(r,m))return!0;o.add(m),s[s.length]=m}}return i>1&&t(e,s,r,i-1,o)}(t,e,n,r,i)}}(Zr||(Zr={}));var Jr,$r,ti,ei,ni,ri=function(){function t(){this.map=new Map,this.applicable=new Map}return t.prototype.add=function(t,e,n){this.map.set(t,e),n&&this.applicable.set(t,n)},t.prototype.remove=function(t){this.map.delete(t),this.applicable.delete(t)},t.prototype.get=function(t){return this.map.get(t)},t.prototype.isApplicable=function(t){if(!this.map.has(t.sourceData.kind))return!1;var e=this.applicable.get(t.sourceData.kind);return!e||e(t)},t}();function ii(t,e,n,r){for(var i=new Zr.EdgeBuilder(r,t,e),o=new Int32Array(i.slotCount),a=new Array(i.slotCount),u=new Array(i.slotCount),s=new Int8Array(i.slotCount),c=new Array(i.slotCount),l=new Array(i.slotCount),d=0,f=i.edgeCount;d<f;d++)i.addNextEdge(),i.assignProperty(o,n.key?n.key[d]:-1),i.assignDirectedProperty(a,n.operatorA?n.operatorA[d]:-1,u,n.operatorB?n.operatorB[d]:-1),i.assignProperty(s,n.order?n.order[d]:1),i.assignProperty(c,n.distance?n.distance[d]:-1),i.assignProperty(l,n.flag?n.flag[d]:1);return i.createGraph({key:o,operatorA:a,operatorB:u,order:s,distance:c,flag:l})}function oi(t){var e=t.data,n=t.indices;return function(t,r){var i=n[2*t],o=n[2*r],a=n[2*t+1]-i;if(a!==n[2*r+1]-o)return!1;for(var u=0;u<a;u++)if(e.charCodeAt(u+i)!==e.charCodeAt(u+o))return!1;return!0}}function ai(t,e,n,r){return{rowCount:e,name:t,fieldNames:Object(v.e)([],n,!0),getField:function(t){return r[t]}}}function ui(t,e,n){return function(t,e,n){for(var r=Object.create(null),i=0,o=Object.keys(t);i<o.length;i++){var a=o[i];r[a]=mi(a,t[a],e,n)}return Qt.ofTables(e.header,t,r)}(t,e,n)}function si(t){switch(t.valueType){case"str":return function(e,n,r){return i=t,o=e,a=e.str,u=e.toStringArray,{schema:i,__array:o.__array,isDefined:o.isDefined,rowCount:o.rowCount,value:"lowercase"===i.transform?function(t){return a(t).toLowerCase()}:"uppercase"===i.transform?function(t){return a(t).toUpperCase()}:a,valueKind:o.valueKind,areValuesEqual:o.areValuesEqual,toArray:"lowercase"===i.transform?function(t){return Array.from(u(t)).map((function(t){return t.toLowerCase()}))}:"uppercase"===i.transform?function(t){return Array.from(u(t)).map((function(t){return t.toUpperCase()}))}:u};var i,o,a,u};case"int":return function(e,n,r){return ci(t,e,e.int,e.toIntArray)};case"float":return function(e,n,r){return ci(t,e,e.float,e.toFloatArray)};case"list":throw new Error("Use createListColumn instead.");case"tensor":throw new Error("Use createTensorColumn instead.")}}function ci(t,e,n,r){return{schema:t,__array:e.__array,isDefined:e.isDefined,rowCount:e.rowCount,value:n,valueKind:e.valueKind,areValuesEqual:e.areValuesEqual,toArray:r}}function li(t,e,n){var i=t.space,o=e.fieldNames.includes("".concat(n,"[0]"))||e.fieldNames.includes("".concat(n,"[0][0]"))||e.fieldNames.includes("".concat(n,"[0][0][0]")),a=o?0:1,u=e.fieldNames.includes("".concat(n,"_1"))||e.fieldNames.includes("".concat(n,"_11"))||e.fieldNames.includes("".concat(n,"_111"))?"underscore":"brackets",s=function(t,e,n,r){var i=n?0:1;switch(e){case 1:return"brackets"===r?function(e){return"".concat(t,"[").concat(e+i,"]")}:function(e){return"".concat(t,"_").concat(e+i)};case 2:return"brackets"===r?function(e,n){return"".concat(t,"[").concat(e+i,"][").concat(n+i,"]")}:function(e,n){return"".concat(t,"_").concat(e+i).concat(n+i)};case 3:return"brackets"===r?function(e,n,r){return"".concat(t,"[").concat(e+i,"][").concat(n+i,"][").concat(r+i,"]")}:function(e,n,r){return"".concat(t,"_").concat(e+i).concat(n+i).concat(r+i)};default:throw new Error("Tensors with rank > 3 or rank 0 are currently not supported.")}}(n,i.rank,o,u),c=e.getField(s(a,a,a))||kt.Undefined(e.rowCount,t),l=function(t){return function(t,e,n,r){var i=e.create();if(1===e.rank)for(var o=e.dimensions[0],a=0;a<o;a++){var u=t.getField(r(a));e.set(i,a,u?u.float(n):0)}else if(2===e.rank){o=e.dimensions[0];var s=e.dimensions[1];for(a=0;a<o;a++)for(var c=0;c<s;c++){u=t.getField(r(a,c));e.set(i,a,c,u?u.float(n):0)}}else{if(3!==e.rank)throw new Error("Tensors with rank > 3 or rank 0 are currently not supported.");var l=e.dimensions[0],d=e.dimensions[1],f=e.dimensions[2];for(a=0;a<l;a++)for(c=0;c<d;c++)for(var p=0;p<f;p++){u=t.getField(r(a,c,p));e.set(i,a,c,p,u?u.float(n):0)}}return i}(e,i,t,s)};return{schema:t,__array:void 0,isDefined:c.isDefined,rowCount:e.rowCount,value:l,valueKind:c.valueKind,areValuesEqual:function(t,e){return B.areEqualExact(l(t),l(e))},toArray:function(t){return r.createAndFillArray(e.rowCount,l,t)}}}!function(t){t.create=function(t,e){var n=t.name,r=new ri;return{descriptor:t,formatRegistry:r,isApplicable:function(t){return r.isApplicable(t)},get:function(i){var o=(null==e?void 0:e.asDynamic)?i._dynamicPropertyData:i._staticPropertyData;if(o[n])return o[n];if(!i.customProperties.has(t)){var a=r.get(i.sourceData.kind);if(a)return o[n]=a(i),i.customProperties.add(t),o[n]}},set:function(t,r){(null==e?void 0:e.asDynamic)?t._dynamicPropertyData[n]=r:t._staticPropertyData[n]=r},delete:function(t){(null==e?void 0:e.asDynamic)?delete t._dynamicPropertyData[n]:delete t._staticPropertyData[n]}}}}(Jr||(Jr={})),(ti=$r||($r={})).Descriptor={name:"index_pair_bonds"},ti.Provider=Jr.create(ti.Descriptor,{asDynamic:!0}),ti.DefaultProps={maxDistance:-1},ti.fromData=function(t,e){void 0===e&&(e={});var n=Object(v.a)(Object(v.a)({},ti.DefaultProps),e),r=t.pairs,i=t.count;return{bonds:ii(r.indexA.toArray(),r.indexB.toArray(),{key:r.key&&r.key.toArray(),operatorA:r.operatorA&&r.operatorA.toArray(),operatorB:r.operatorB&&r.operatorB.toArray(),order:r.order&&r.order.toArray(),distance:r.distance&&r.distance.toArray(),flag:r.flag&&r.flag.toArray()},i),maxDistance:n.maxDistance}},ti.getEdgeIndexForOperators=function(t,e,n,r,i){var o,a,u,s;e<n?(o=e,a=n,u=r,s=i):(o=n,a=e,u=i,s=r);for(var c=t.offset[o],l=t.offset[o+1];c<l;c++)if(t.b[c]===a&&t.edgeProps.operatorA[c]===u&&t.edgeProps.operatorB[c]===s)return c;return-1},function(t){function e(t,e){var n=Object.keys(e);return{rowCount:n.length>0?e[n[0]].rowCount:0,name:t,fieldNames:n,getField:function(t){return e[t]}}}t.empty=function(t){return{rowCount:0,name:t,fieldNames:[],getField:function(t){}}},t.ofFields=e,t.ofTable=function(t,n){for(var r={},i=0,o=n._columns;i<o.length;i++){var a=o[i];r[a]=ei.ofColumn(n[a])}return e(t,r)}}(ai||(ai={})),function(t){function e(t){var e=t.length,n=function(e){var n=t[e];return n&&"."!==n&&"?"!==n?n:""},i=function(e){var n=t[e];return Pt(n,0,n.length)||0},o=function(e){var n=t[e];return Mt(n,0,n.length)||0};return{__array:void 0,binaryEncoding:void 0,isDefined:!0,rowCount:e,str:n,int:i,float:o,valueKind:function(e){var n=t[e],r=n.length;if(r>1)return 0;if(0===r)return 1;var i=n.charCodeAt(0);return 46===i?1:63===i?2:0},areValuesEqual:function(e,n){return t[e]===t[n]},toStringArray:function(i){return i?r.createAndFillArray(e,n,i):t},toIntArray:function(t){return r.createAndFillArray(e,i,t)},toFloatArray:function(t){return r.createAndFillArray(e,o,t)}}}function n(t){var e,n,i,o=t.rowCount,a=t.valueKind,u=t.areValuesEqual,s=t.isDefined;switch(t.schema.valueType){case"float":case"int":e=function(e){return""+t.value(e)},n=t.value,i=t.value;break;case"str":e=t.value,n=function(e){var n=t.value(e);return Pt(n,0,n.length)||0},i=function(e){var n=t.value(e);return Mt(n,0,n.length)||0};break;case"list":var c=t.schema.separator;e=function(e){return t.value(e).join(c)},n=function(t){return NaN},i=function(t){return NaN};break;default:throw new Error("unsupported valueType '".concat(t.schema.valueType,"'"))}return{__array:void 0,binaryEncoding:void 0,isDefined:s,rowCount:o,str:e,int:n,float:i,valueKind:a,areValuesEqual:u,toStringArray:function(t){return r.createAndFillArray(o,e,t)},toIntArray:function(t){return r.createAndFillArray(o,n,t)},toFloatArray:function(t){return r.createAndFillArray(o,i,t)}}}t.ofString=function(t){return e([t])},t.ofStrings=e,t.ofNumbers=function(t){var e=t.length,n=function(e){return""+t[e]},i=function(e){return t[e]},o=function(n){return!n||n.array&&t instanceof n.array?t:r.createAndFillArray(e,i,n)};return{__array:void 0,binaryEncoding:void 0,isDefined:!0,rowCount:e,str:n,int:i,float:i,valueKind:function(t){return 0},areValuesEqual:function(e,n){return t[e]===t[n]},toStringArray:function(t){return r.createAndFillArray(e,n,t)},toIntArray:o,toFloatArray:o}},t.ofTokens=function(t){var e=t.data,n=t.indices,i=t.count,o=function(t){var r=e.substring(n[2*t],n[2*t+1]);return"."===r||"?"===r?"":r},a=function(t){return Pt(e,n[2*t],n[2*t+1])||0},u=function(t){return Mt(e,n[2*t],n[2*t+1])||0};return{__array:void 0,binaryEncoding:void 0,isDefined:!0,rowCount:i,str:o,int:a,float:u,valueKind:function(t){var r=n[2*t],i=n[2*t+1]-r;if(i>1)return 0;if(0===i)return 1;var o=e.charCodeAt(r);return 46===o?1:63===o?2:0},areValuesEqual:oi(t),toStringArray:function(t){return r.createAndFillArray(i,o,t)},toIntArray:function(t){return r.createAndFillArray(i,a,t)},toFloatArray:function(t){return r.createAndFillArray(i,u,t)}}},t.ofColumn=n,t.ofUndefined=function(t,e){return n(kt.Undefined(t,e))}}(ei||(ei={})),function(t){function e(t){return t.replace(".","_").replace(/\[/,"_").replace(/(\[|\])/g,"")}t.canonical=e,t.equal=function(t,n){return e(t)===e(n)},t.create=function(t,n,r){void 0===r&&(r=!1);var i="".concat(t).concat(n?".".concat(n):"");return r?e(i):i}}(ni||(ni={}));var di,fi=function(t,e,n){this._isDefined=n;var i=Object.keys(e);this._rowCount=t.rowCount,this._columns=i,this._schema=e;for(var o=Object.create(null),a=function(n){Object.defineProperty(u,n,{get:function(){if(o[n])return o[n];var i=e[n];if("list"===i.valueType)o[n]=function(t,e,n){var i=t.separator,o=t.itemParse,a=e.getField(n),u=a?function(t){return a.str(t).split(i).map((function(t){return o(t.trim())})).filter((function(t){return!!t}))}:function(t){return[]};return{schema:t,__array:void 0,isDefined:!!a,rowCount:e.rowCount,value:u,valueKind:a?a.valueKind:function(){return 1},areValuesEqual:function(t,e){return Yt(u(t),u(e))},toArray:function(t){return r.createAndFillArray(e.rowCount,u,t)}}}(i,t,n);else if("tensor"===i.valueType)o[n]=li(i,t,n);else{var a=si(i),u=t.getField(n);o[n]=u?a(u,t,n):kt.Undefined(t.rowCount,i)}return o[n]},enumerable:!0,configurable:!1})},u=this,s=0,c=i;s<c.length;s++)a(c[s])};function pi(t,e,n,r){var i=ni.create(e,t),o=ni.canonical(i);if(o in n)return n[o];if(r&&i in r)for(var a=0,u=r[i];a<u.length;a++){var s=u[a],c=ni.canonical(s);if(c in n)return n[c]}}function mi(t,e,n,r){var i=n.categories[t];if(r){for(var o=function(t){for(var e=Object.create(null),n=0,r=Object.keys(t.categories);n<r.length;n++)for(var i=r[n],o=0,a=t.categories[i].fieldNames;o<a.length;o++){var u=a[o];e[ni.create(i,u,!0)]=t.categories[i].getField(u)}return e}(n),a=Object.create(null),u=[],s=0,c=0,l=Object.keys(e);c<l.length;c++){var d=l[c],f=pi(d,t,o,r);f&&(a[d]=f,u.push(d),s=f.rowCount)}i={rowCount:s,name:t,fieldNames:Object(v.e)([],u,!0),getField:function(t){return a[t]}}}return new fi(i||ai.empty(t),e,!!i)}!function(t){function e(t,e,n){return{kind:"element-location",structure:t,unit:e,element:n||0}}t.create=e,t.clone=function(t){return e(t.structure,t.unit,t.element)},t.set=function(t,e,n,r){return e&&(t.structure=e),n&&(t.unit=n),void 0!==r&&(t.element=r),t},t.copy=function(t,e){return t.unit=e.unit,t.element=e.element,t},t.is=function(t){return!!t&&"element-location"===t.kind},t.areEqual=function(t,e){return t.unit===e.unit&&t.element===e.element};var n=C(),r=C();t.distance=function(t,e){return t.unit.conformation.position(t.element,n),e.unit.conformation.position(e.element,r),C.distance(n,r)},t.position=function(t,e){return e.unit.conformation.position(e.element,t)},t.residueIndex=function(t){return t.unit.model.atomicHierarchy.residueAtomSegments.index[t.element]},t.chainIndex=function(t){return t.unit.model.atomicHierarchy.chainAtomSegments.index[t.element]}}(di||(di={}));var hi=function(){function t(t,e){this.getHash=t,this.areEqual=e,this.size=0,this.byHash=new Map}return t.prototype.add=function(t){var e=this.getHash(t);if(this.byHash.has(e)){for(var n=this.byHash.get(e),r=0,i=n.length;r<i;r++)if(this.areEqual(t,n[r]))return!1;return n[n.length]=t,this.size++,!0}return this.byHash.set(e,[t]),this.size++,!0},t.prototype.has=function(t){var e=this.getHash(t);if(!this.byHash.has(e))return!1;for(var n=this.byHash.get(e),r=0,i=n.length;r<i;r++)if(this.areEqual(t,n[r]))return!0;return!1},t}();function gi(t,e){return new hi(t,e)}function vi(t){return{previous:null,next:null,inList:!0,value:t}}var yi,_i,bi,xi,Ai,wi;!function(){function t(){this.count=0,this.first=null,this.last=null}t.prototype.addFirst=function(t){var e=vi(t);return e.inList=!0,this.first&&(this.first.previous=e),e.next=this.first,this.first=e,this.count++,this.last||(this.last=e),e},t.prototype.addLast=function(t){var e=vi(t);return null!==this.last&&(this.last.next=e),e.previous=this.last,this.last=e,null===this.first&&(this.first=e),e.inList=!0,this.count++,e},t.prototype.removeFirst=function(){var t=this.first;if(t)return this.remove(t),t.value},t.prototype.removeLast=function(){var t=this.last;if(t)return this.remove(t),t.value},t.prototype.remove=function(t){t.inList&&(t.inList=!1,null!==t.previous?t.previous.next=t.next:null===t.previous&&(this.first=t.next),null!==t.next?t.next.previous=t.previous:null===t.next&&(this.last=t.previous),t.next=null,t.previous=null,this.count--)},t.prototype.find=function(t){for(var e=this.first;null!==e;){if(e.value===t)return e;e=e.next}}}();function Si(t,e){var n=e||{},r=n.description,i=void 0===r?void 0:r,o=n.isOptional,a=void 0!==o&&o,u=n.isRest,s=void 0!==u&&u,c=n.defaultValue;return{type:t,isOptional:a,isRest:s,defaultValue:void 0===c?void 0:c,description:i}}function Ci(t){var e=t;return"function"==typeof e&&!!e.info&&!!e.args&&"string"==typeof e.info.namespace&&!!e.type}function Bi(t,e,n){return function(t,e,n,r){var i=function(t){return bi.Apply(bi.Symbol(i.id),t)};return i.info={namespace:"",name:t,description:r},i.id="",i.args=e,i.type=n,i}("",t,e,n)}function Ii(t){!function t(e,n,r){if(Ci(r))return r.info.namespace=e,r.info.name=r.info.name||Ei(n),void(r.id="".concat(r.info.namespace,".").concat(r.info.name));for(var i="".concat(r["@namespace"]||Ei(n)),o=e?"".concat(e,".").concat(i):i,a=0,u=Object.keys(r);a<u.length;a++){var s=u[a];("object"==typeof r[s]||Ci(r[s]))&&t(o,s,r[s])}}("","",t)}function Pi(t){var e=[];return function t(e,n){if(Ci(e))return void n.push(e);for(var r=0,i=Object.keys(e);r<i.length;r++){var o=i[r];("object"==typeof e[o]||Ci(e[o]))&&t(e[o],n)}}(t,e),e}function Ei(t){var e=/([a-z])([A-Z])([a-z]|$)/g;return t.replace(e,(function(t,e,n,r){return"".concat(e,"-").concat(n.toLocaleLowerCase()).concat(r)})).replace(e,(function(t,e,n,r){return"".concat(e,"-").concat(n.toLocaleLowerCase()).concat(r)}))}function Mi(t,e){return Bi(xi.Dictionary({0:Si(t)}),t,e)}function ki(t,e){return Bi(xi.List(t,{nonEmpty:!0}),t,e)}function Di(t,e,n){return Bi(xi.Dictionary({0:Si(t),1:Si(t)}),e,n)}!function(t){t.create=function(){return{keys:new Set,array:[]}},t.add=function(t,e,n){var r=t.keys,i=t.array;return!r.has(e)&&(r.add(e),i[i.length]=n,!0)},t.has=function(t,e){return t.keys.has(e)}}(yi||(yi={})),function(t){function e(t,e,n){return{kind:"value",namespace:t,name:e,parent:n}}function n(t,e,n,r){for(var i=Object.create(null),o=0,a=r;o<a.length;o++){i[a[o]]=!0}return{kind:"oneof",namespace:t,name:e,type:n,values:i}}t.Variable=function(t,e,n){return{kind:"variable",name:t,type:e,isConstraint:n}},t.Value=e,t.Container=function(t,e,n,r){return{kind:"container",namespace:t,name:e,child:n,alias:r}},t.Union=function(t){return{kind:"union",types:t}},t.OneOf=n,t.Any={kind:"any"},t.AnyValue={kind:"any-value"},t.Num=e("","Number"),t.Str=e("","String"),t.Bool=n("","Bool",t.Str,["true","false"]),t.oneOfValues=function(t){var e=t.values;return Object.keys(e).sort()}}(_i||(_i={})),function(t){function e(t){return!!t&&!!t.head&&"object"==typeof t}function n(t){return!!t&&"string"==typeof t.name}t.Symbol=function(t){return{name:t}},t.Apply=function(t,e){return e?{head:t,args:e}:{head:t}},t.isArgumentsArray=function(t){return!!t&&Array.isArray(t)},t.isArgumentsMap=function(t){return!!t&&!Array.isArray(t)},t.isLiteral=function(t){return!e(t)&&!n(t)},t.isApply=e,t.isSymbol=n}(bi||(bi={})),function(t){function e(t){return{kind:"dictionary",map:t,"@type":0}}t.None=e({}),t.Dictionary=e,t.List=function(t,e){var n=(e||{}).nonEmpty;return{kind:"list",type:t,nonEmpty:void 0!==n&&n,"@type":0}}}(xi||(xi={})),(wi=Ai||(Ai={})).AnyVar=_i.Variable("a",_i.Any),wi.AnyValueVar=_i.Variable("a",_i.Any),wi.ConstrainedVar=_i.Variable("a",_i.Any,!0),wi.Regex=_i.Value("Core","Regex"),wi.Set=function(t){return _i.Container("Core","Set",t||wi.AnyValueVar)},wi.List=function(t){return _i.Container("Core","List",t||wi.AnyVar)},wi.Fn=function(t,e){return _i.Container("Core","Fn",t||wi.AnyVar,e)},wi.Flags=function(t,e){return _i.Container("Core","Flags",t,e)},wi.BitFlags=wi.Flags(_i.Num,"BitFlags");xi.Dictionary({0:Si(_i.Num),1:Si(_i.Num)});var Oi={"@header":"Language Primitives",type:{"@header":"Types",bool:Bi(xi.Dictionary({0:Si(_i.AnyValue)}),_i.Bool,"Convert a value to boolean."),num:Bi(xi.Dictionary({0:Si(_i.AnyValue)}),_i.Num,"Convert a value to number."),str:Bi(xi.Dictionary({0:Si(_i.AnyValue)}),_i.Str,"Convert a value to string."),regex:Bi(xi.Dictionary({0:Si(_i.Str,{description:"Expression"}),1:Si(_i.Str,{isOptional:!0,description:"Flags, e.g. 'i' for ignore case"})}),Ai.Regex,"Creates a regular expression from a string using the ECMAscript syntax."),list:Bi(xi.List(Ai.AnyVar),Ai.List()),set:Bi(xi.List(Ai.AnyValueVar),Ai.Set()),bitflags:Bi(xi.Dictionary({0:Si(_i.Num)}),Ai.BitFlags,"Interpret a number as bitflags."),compositeKey:Bi(xi.List(_i.AnyValue),_i.AnyValue)},logic:{"@header":"Logic",not:Mi(_i.Bool),and:ki(_i.Bool),or:ki(_i.Bool)},ctrl:{"@header":"Control",eval:Bi(xi.Dictionary({0:Si(Ai.Fn(Ai.AnyVar))}),Ai.AnyVar,"Evaluate a function."),fn:Bi(xi.Dictionary({0:Si(Ai.AnyVar)}),Ai.Fn(Ai.AnyVar),'Wrap an expression to a "lazy" function.'),if:Bi(xi.Dictionary({0:Si(_i.Bool,{description:"Condition"}),1:Si(_i.Variable("a",_i.Any),{description:"If true"}),2:Si(_i.Variable("b",_i.Any),{description:"If false"})}),_i.Union([_i.Variable("a",_i.Any),_i.Variable("b",_i.Any)])),assoc:Bi(xi.Dictionary({0:Si(_i.Str,{description:"Name"}),1:Si(_i.Variable("a",_i.Any),{description:"Value to assign"})}),_i.Variable("a",_i.Any))},rel:{"@header":"Relational",eq:Di(_i.Variable("a",_i.AnyValue,!0),_i.Bool),neq:Di(_i.Variable("a",_i.AnyValue,!0),_i.Bool),lt:Di(_i.Num,_i.Bool),lte:Di(_i.Num,_i.Bool),gr:Di(_i.Num,_i.Bool),gre:Di(_i.Num,_i.Bool),inRange:Bi(xi.Dictionary({0:Si(_i.Num,{description:"Value to test"}),1:Si(_i.Num,{description:"Minimum value"}),2:Si(_i.Num,{description:"Maximum value"})}),_i.Bool,"Check if the value of the 1st argument is >= 2nd and <= 3rd.")},math:{"@header":"Math",add:ki(_i.Num),sub:ki(_i.Num),mult:ki(_i.Num),div:Di(_i.Num,_i.Num),pow:Di(_i.Num,_i.Num),mod:Di(_i.Num,_i.Num),min:ki(_i.Num),max:ki(_i.Num),cantorPairing:Di(_i.Num,_i.Num),sortedCantorPairing:Di(_i.Num,_i.Num),invertCantorPairing:Bi(xi.Dictionary({0:Si(_i.Num)}),Ai.List(_i.Num)),floor:Mi(_i.Num),ceil:Mi(_i.Num),roundInt:Mi(_i.Num),trunc:Mi(_i.Num),abs:Mi(_i.Num),sign:Mi(_i.Num),sqrt:Mi(_i.Num),cbrt:Mi(_i.Num),sin:Mi(_i.Num),cos:Mi(_i.Num),tan:Mi(_i.Num),asin:Mi(_i.Num),acos:Mi(_i.Num),atan:Mi(_i.Num),sinh:Mi(_i.Num),cosh:Mi(_i.Num),tanh:Mi(_i.Num),exp:Mi(_i.Num),log:Mi(_i.Num),log10:Mi(_i.Num),atan2:Di(_i.Num,_i.Num)},str:{"@header":"Strings",concat:ki(_i.Str),match:Bi(xi.Dictionary({0:Si(Ai.Regex),1:Si(_i.Str)}),_i.Bool)},list:{"@header":"Lists",getAt:Bi(xi.Dictionary({0:Si(Ai.List()),1:Si(_i.Num)}),Ai.AnyVar),equal:Bi(xi.Dictionary({0:Si(Ai.List()),1:Si(Ai.List())}),_i.Bool)},set:{"@header":"Sets",has:Bi(xi.Dictionary({0:Si(Ai.Set(Ai.ConstrainedVar)),1:Si(Ai.ConstrainedVar)}),_i.Bool,"Check if the the 1st argument includes the value of the 2nd."),isSubset:Bi(xi.Dictionary({0:Si(Ai.Set(Ai.ConstrainedVar)),1:Si(Ai.Set(Ai.ConstrainedVar))}),_i.Bool,"Check if the the 1st argument is a subset of the 2nd.")},flags:{"@header":"Flags",hasAny:Bi(xi.Dictionary({0:Si(Ai.Flags(Ai.ConstrainedVar)),1:Si(Ai.Flags(Ai.ConstrainedVar))}),_i.Bool,"Check if the the 1st argument has at least one of the 2nd one's flags."),hasAll:Bi(xi.Dictionary({0:Si(Ai.Flags(Ai.ConstrainedVar)),1:Si(Ai.Flags(Ai.ConstrainedVar))}),_i.Bool,"Check if the the 1st argument has all 2nd one's flags.")}};Ii(Oi);var Ni,Ti=Pi(Oi);!function(){for(var t=Object.create(null),e=0,n=Ti;e<n.length;e++){var r=n[e];t[r.id]=r}}();function Ui(t,e){return Bi(xi.Dictionary({0:Si(Ni.ElementReference,{isOptional:!0,defaultValue:"slot.current-atom"})}),t,e)}function Ri(t,e){return Bi(xi.None,t,e)}!function(t){t.ElementSymbol=_i.Value("Structure","ElementSymbol"),t.AtomName=_i.Value("Structure","AtomName"),t.BondFlag=_i.OneOf("Structure","BondFlag",_i.Str,["covalent","metallic","ion","hydrogen","sulfide","computed","aromatic"]),t.BondFlags=Ai.Flags(t.BondFlag,"BondFlags"),t.SecondaryStructureFlag=_i.OneOf("Structure","SecondaryStructureFlag",_i.Str,["alpha","beta","3-10","pi","sheet","strand","helix","turn","none"]),t.SecondaryStructureFlags=Ai.Flags(t.SecondaryStructureFlag,"SecondaryStructureFlag"),t.RingFingerprint=_i.Value("Structure","RingFingerprint"),t.EntityType=_i.OneOf("Structure","EntityType",_i.Str,["polymer","non-polymer","water","branched"]),t.EntitySubtype=_i.OneOf("Structure","EntitySubtype",_i.Str,["other","polypeptide(D)","polypeptide(L)","polydeoxyribonucleotide","polyribonucleotide","polydeoxyribonucleotide/polyribonucleotide hybrid","cyclic-pseudo-peptide","peptide nucleic acid","oligosaccharide"]),t.ObjectPrimitive=_i.OneOf("Structure","ObjectPrimitive",_i.Str,["atomistic","sphere","gaussian","other"]),t.ResidueId=_i.Value("Structure","ResidueId"),t.ElementSet=_i.Value("Structure","ElementSet"),t.ElementSelection=_i.Value("Structure","ElementSelection"),t.ElementReference=_i.Value("Structure","ElementReference"),t.ElementSelectionQuery=Ai.Fn(t.ElementSelection,"ElementSelectionQuery")}(Ni||(Ni={}));var Li={core:Oi,structureQuery:{"@header":"Structure Queries",type:{"@header":"Types",elementSymbol:Bi(xi.Dictionary({0:Si(_i.Str)}),Ni.ElementSymbol,"Create element symbol representation from a string value."),atomName:Bi(xi.Dictionary({0:Si(_i.AnyValue)}),Ni.AtomName,"Convert a value to an atom name."),entityType:Bi(xi.Dictionary({0:Si(Ni.EntityType)}),Ni.EntityType,"Create normalized representation of entity type: ".concat(_i.oneOfValues(Ni.EntityType).join(", "),".")),bondFlags:Bi(xi.List(Ni.BondFlag),Ni.BondFlags,"Create bond flags representation from a list of strings. Allowed flags: ".concat(_i.oneOfValues(Ni.BondFlag).join(", "),".")),ringFingerprint:Bi(xi.List(Ni.ElementSymbol,{nonEmpty:!0}),Ni.RingFingerprint,"Create ring fingerprint from the supplied atom element list."),secondaryStructureFlags:Bi(xi.List(Ni.SecondaryStructureFlag),Ni.SecondaryStructureFlags,"Create secondary structure flags representation from a list of strings. Allowed flags: ".concat(_i.oneOfValues(Ni.SecondaryStructureFlag).join(", "),".")),authResidueId:Bi(xi.Dictionary({0:Si(_i.Str,{description:"auth_asym_id"}),1:Si(_i.Num,{description:"auth_seq_id"}),2:Si(_i.Str,{description:"pdbx_PDB_ins_code",isOptional:!0})}),Ni.ResidueId,'Residue identifier based on "auth_" annotation.'),labelResidueId:Bi(xi.Dictionary({0:Si(_i.Str,{description:"label_entity_id"}),1:Si(_i.Str,{description:"label_asym_id"}),2:Si(_i.Num,{description:"label_seq_id"}),3:Si(_i.Str,{description:"pdbx_PDB_ins_code",isOptional:!0})}),Ni.ResidueId,'Residue identifier based on mmCIF\'s "label_" annotation.')},slot:{"@header":"Iteration Slots",element:Bi(xi.None,Ni.ElementReference,"A reference to the current element."),elementSetReduce:Bi(xi.None,_i.Variable("a",_i.AnyValue,!0),"Current value of the element set reducer.")},generator:{"@header":"Generators",all:Bi(xi.None,Ni.ElementSelectionQuery,"The entire structure."),atomGroups:Bi(xi.Dictionary({"entity-test":Si(_i.Bool,{isOptional:!0,defaultValue:!0,description:"Test for the 1st atom of every entity"}),"chain-test":Si(_i.Bool,{isOptional:!0,defaultValue:!0,description:"Test for the 1st atom of every chain"}),"residue-test":Si(_i.Bool,{isOptional:!0,defaultValue:!0,description:"Test for the 1st atom every residue"}),"atom-test":Si(_i.Bool,{isOptional:!0,defaultValue:!0}),"group-by":Si(_i.Any,{isOptional:!0,defaultValue:"atom-key",description:"Group atoms to sets based on this property. Default: each atom has its own set"})}),Ni.ElementSelectionQuery,"Return all atoms for which the tests are satisfied, grouped into sets."),bondedAtomicPairs:Bi(xi.Dictionary({0:Si(_i.Bool,{isOptional:!0,defaultValue:"true for covalent bonds",description:"Test each bond with this predicate. Each bond is visited twice with swapped atom order."})}),Ni.ElementSelectionQuery,"Return all pairs of atoms for which the test is satisfied."),rings:Bi(xi.Dictionary({fingerprint:Si(Ni.RingFingerprint,{isOptional:!0}),"only-aromatic":Si(_i.Bool,{isOptional:!0,defaultValue:!1})}),Ni.ElementSelectionQuery,"Return all rings or those with the specified fingerprint and/or only aromatic rings."),queryInSelection:Bi(xi.Dictionary({0:Si(Ni.ElementSelectionQuery),query:Si(Ni.ElementSelectionQuery),"in-complement":Si(_i.Bool,{isOptional:!0,defaultValue:!1})}),Ni.ElementSelectionQuery,"Executes query only on atoms that are in the source selection."),empty:Bi(xi.None,Ni.ElementSelectionQuery,"Nada.")},modifier:{"@header":"Selection Modifications",queryEach:Bi(xi.Dictionary({0:Si(Ni.ElementSelectionQuery),query:Si(Ni.ElementSelectionQuery)}),Ni.ElementSelectionQuery,"Query every atom set in the input selection separately."),intersectBy:Bi(xi.Dictionary({0:Si(Ni.ElementSelectionQuery),by:Si(Ni.ElementSelectionQuery)}),Ni.ElementSelectionQuery,"Intersect each atom set from the first sequence from atoms in the second one."),exceptBy:Bi(xi.Dictionary({0:Si(Ni.ElementSelectionQuery),by:Si(Ni.ElementSelectionQuery)}),Ni.ElementSelectionQuery,"Remove all atoms from 'selection' that occur in 'by'."),unionBy:Bi(xi.Dictionary({0:Si(Ni.ElementSelectionQuery),by:Si(Ni.ElementSelectionQuery)}),Ni.ElementSelectionQuery,"For each atom set A in the orginal sequence, combine all atoms sets in the target selection that intersect with A."),union:Bi(xi.Dictionary({0:Si(Ni.ElementSelectionQuery)}),Ni.ElementSelectionQuery,"Collects all atom sets in the sequence into a single atom set."),cluster:Bi(xi.Dictionary({0:Si(Ni.ElementSelectionQuery),"min-distance":Si(_i.Num,{isOptional:!0,defaultValue:0}),"max-distance":Si(_i.Num),"min-size":Si(_i.Num,{description:"Minimal number of sets to merge, must be at least 2",isOptional:!0,defaultValue:2}),"max-size":Si(_i.Num,{description:"Maximal number of sets to merge, if not set, no limit",isOptional:!0})}),Ni.ElementSelectionQuery,"Combines atom sets that have mutual distance in the interval [min-radius, max-radius]. Minimum/maximum size determines how many atom sets can be combined."),includeSurroundings:Bi(xi.Dictionary({0:Si(Ni.ElementSelectionQuery),radius:Si(_i.Num),"atom-radius":Si(_i.Num,{isOptional:!0,defaultValue:0,description:"Value added to each atom before the distance check, for example VDW radius. Using this argument is computationally demanding."}),"as-whole-residues":Si(_i.Bool,{isOptional:!0})}),Ni.ElementSelectionQuery,"For each atom set in the selection, include all surrouding atoms/residues that are within the specified radius."),surroundingLigands:Bi(xi.Dictionary({0:Si(Ni.ElementSelectionQuery),radius:Si(_i.Num),"include-water":Si(_i.Bool,{isOptional:!0,defaultValue:!0})}),Ni.ElementSelectionQuery,"Find all ligands components around the source query."),includeConnected:Bi(xi.Dictionary({0:Si(Ni.ElementSelectionQuery),"bond-test":Si(_i.Bool,{isOptional:!0,defaultValue:"true for covalent bonds"}),"layer-count":Si(_i.Num,{isOptional:!0,defaultValue:1,description:"Number of bonded layers to include."}),"fixed-point":Si(_i.Bool,{isOptional:!0,defaultValue:!1,description:"Continue adding layers as long as new connections exist."}),"as-whole-residues":Si(_i.Bool,{isOptional:!0})}),Ni.ElementSelectionQuery,"Pick all atom sets that are connected to the target."),wholeResidues:Bi(xi.Dictionary({0:Si(Ni.ElementSelectionQuery)}),Ni.ElementSelectionQuery,"Expand the selection to whole residues."),expandProperty:Bi(xi.Dictionary({0:Si(Ni.ElementSelectionQuery),property:Si(_i.AnyValue)}),Ni.ElementSelectionQuery,"To each atom set in the selection, add all atoms that have the same property value that was already present in the set.")},filter:{"@header":"Selection Filters",pick:Bi(xi.Dictionary({0:Si(Ni.ElementSelectionQuery),test:Si(_i.Bool)}),Ni.ElementSelectionQuery,"Pick all atom sets that satisfy the test."),first:Bi(xi.Dictionary({0:Si(Ni.ElementSelectionQuery)}),Ni.ElementSelectionQuery,"Take the 1st atom set in the sequence."),withSameAtomProperties:Bi(xi.Dictionary({0:Si(Ni.ElementSelectionQuery),source:Si(Ni.ElementSelectionQuery),property:Si(_i.Any)}),Ni.ElementSelectionQuery,"Pick all atom sets for which the set of given atom properties is a subset of the source properties."),intersectedBy:Bi(xi.Dictionary({0:Si(Ni.ElementSelectionQuery),by:Si(Ni.ElementSelectionQuery)}),Ni.ElementSelectionQuery,"Pick all atom sets that have non-zero intersection with the target."),within:Bi(xi.Dictionary({0:Si(Ni.ElementSelectionQuery),target:Si(Ni.ElementSelectionQuery),"min-radius":Si(_i.Num,{isOptional:!0,defaultValue:0}),"max-radius":Si(_i.Num),"atom-radius":Si(_i.Num,{isOptional:!0,defaultValue:0,description:"Value added to each atom before the distance check, for example VDW radius. Using this argument is computationally demanding."}),invert:Si(_i.Bool,{isOptional:!0,defaultValue:!1,description:"If true, pick only atom sets that are further than the specified radius."})}),Ni.ElementSelectionQuery,"Pick all atom sets from selection that have any atom within the radius of any atom from target."),isConnectedTo:Bi(xi.Dictionary({0:Si(Ni.ElementSelectionQuery),target:Si(Ni.ElementSelectionQuery),"bond-test":Si(_i.Bool,{isOptional:!0,defaultValue:"true for covalent bonds"}),disjunct:Si(_i.Bool,{isOptional:!0,defaultValue:!0,description:"If true, there must exist a bond to an atom that lies outside the given atom set to pass test."}),invert:Si(_i.Bool,{isOptional:!0,defaultValue:!1,description:"If true, return atom sets that are not connected."})}),Ni.ElementSelectionQuery,"Pick all atom sets that are connected to the target.")},combinator:{"@header":"Selection Combinators",intersect:Bi(xi.List(Ni.ElementSelectionQuery),Ni.ElementSelectionQuery,"Return all unique atom sets that appear in all of the source selections."),merge:Bi(xi.List(Ni.ElementSelectionQuery),Ni.ElementSelectionQuery,"Merges multiple selections into a single one. Only unique atom sets are kept."),distanceCluster:Bi(xi.Dictionary({matrix:Si(Ai.List(Ai.List(_i.Num)),{description:"Distance matrix, represented as list of rows (num[][])). Lower triangle is min distance, upper triangle is max distance."}),selections:Si(Ai.List(Ni.ElementSelectionQuery),{description:"A list of held selections."})}),Ni.ElementSelectionQuery,"Pick combinations of atom sets from the source sequences that are mutually within distances specified by a matrix.")},atomSet:{"@header":"Atom Sets",atomCount:Bi(xi.None,_i.Num),countQuery:Bi(xi.Dictionary({0:Si(Ni.ElementSelectionQuery)}),_i.Num,"Counts the number of occurences of a specific query inside the current atom set."),reduce:Bi(xi.Dictionary({initial:Si(_i.Variable("a",_i.AnyValue,!0),{description:"Initial value assigned to slot.atom-set-reduce. Current atom is set to the 1st atom of the current set for this."}),value:Si(_i.Variable("a",_i.AnyValue,!0),{description:"Expression executed for each atom in the set"})}),_i.Variable("a",_i.AnyValue,!0),"Execute the value expression for each atom in the current atom set and return the result. Works the same way as Array.reduce in JavaScript (``result = value(value(...value(initial)))``)"),propertySet:Bi(xi.Dictionary({0:Si(Ai.ConstrainedVar)}),Ai.Set(Ai.ConstrainedVar),"Returns a set with all values of the given property in the current atom set.")},atomProperty:{"@header":"Atom Properties",core:{"@header":"Core Properties",elementSymbol:Ui(Ni.ElementSymbol),vdw:Ui(_i.Num,"Van der Waals radius"),mass:Ui(_i.Num,"Atomic weight"),atomicNumber:Ui(_i.Num,"Atomic number"),x:Ui(_i.Num,"Cartesian X coordinate"),y:Ui(_i.Num,"Cartesian Y coordinate"),z:Ui(_i.Num,"Cartesian Z coordinate"),atomKey:Ui(_i.AnyValue,"Unique value for each atom. Main use case is grouping of atoms."),bondCount:Bi(xi.Dictionary({0:Si(Ni.ElementReference,{isOptional:!0,defaultValue:"slot.current-atom"}),flags:Si(Ni.BondFlags,{isOptional:!0,defaultValue:"covalent"})}),_i.Num,"Number of bonds (by default only covalent bonds are counted)."),sourceIndex:Ui(_i.Num,"Index of the atom/element in the input file."),operatorName:Ui(_i.Str,"Name of the symmetry operator applied to this element."),operatorKey:Ui(_i.Num,"Key of the symmetry operator applied to this element."),modelIndex:Ui(_i.Num,"Index of the model in the input file."),modelLabel:Ui(_i.Str,"Label/header of the model in the input file.")},topology:{connectedComponentKey:Ui(_i.AnyValue,"Unique value for each connected component.")},macromolecular:{"@header":"Macromolecular Properties (derived from the mmCIF format)",authResidueId:Ui(Ni.ResidueId,"type.auth-residue-id symbol executed on current atom's residue"),labelResidueId:Ui(Ni.ResidueId,"type.label-residue-id symbol executed on current atom's residue"),residueKey:Ui(_i.AnyValue,"Unique value for each tuple ``(label_entity_id,auth_asym_id, auth_seq_id, pdbx_PDB_ins_code)``, main use case is grouping of atoms"),chainKey:Ui(_i.AnyValue,"Unique value for each tuple ``(label_entity_id, auth_asym_id)``, main use case is grouping of atoms"),entityKey:Ui(_i.AnyValue,"Unique value for each tuple ``label_entity_id``, main use case is grouping of atoms"),isHet:Ui(_i.Bool,"Equivalent to atom_site.group_PDB !== ATOM"),id:Ui(_i.Num,"_atom_site.id"),label_atom_id:Ui(Ni.AtomName),label_alt_id:Ui(_i.Str),label_comp_id:Ui(_i.Str),label_asym_id:Ui(_i.Str),label_entity_id:Ui(_i.Str),label_seq_id:Ui(_i.Num),auth_atom_id:Ui(Ni.AtomName),auth_comp_id:Ui(_i.Str),auth_asym_id:Ui(_i.Str),auth_seq_id:Ui(_i.Num),pdbx_PDB_ins_code:Ui(_i.Str),pdbx_formal_charge:Ui(_i.Num),occupancy:Ui(_i.Num),B_iso_or_equiv:Ui(_i.Num),entityType:Ui(Ni.EntityType,"Type of the entity as defined in mmCIF (polymer, non-polymer, branched, water)"),entitySubtype:Ui(Ni.EntitySubtype,"Subtype of the entity as defined in mmCIF _entity_poly.type and _pdbx_entity_branch.type (other, polypeptide(D), polypeptide(L), polydeoxyribonucleotide, polyribonucleotide, polydeoxyribonucleotide/polyribonucleotide hybrid, cyclic-pseudo-peptide, peptide nucleic acid, oligosaccharide)"),entityPrdId:Ui(_i.Str,"The PRD ID of the entity."),entityDescription:Ui(Ai.List(_i.Str)),objectPrimitive:Ui(Ni.ObjectPrimitive,"Type of the primitive object used to model this segment as defined in mmCIF/IHM (atomistic, sphere, gaussian, other)"),secondaryStructureKey:Ui(_i.AnyValue,"Unique value for each secondary structure element."),secondaryStructureFlags:Ui(Ni.SecondaryStructureFlags),isModified:Ui(_i.Bool,"True if the atom belongs to modification of a standard residue."),modifiedParentName:Ui(_i.Str,"'3-letter' code of the modifed parent residue."),isNonStandard:Ui(_i.Bool,"True if this is a non-standard residue."),chemCompType:Ui(_i.Str,"Type of the chemical component as defined in mmCIF.")}},bondProperty:{"@header":"Bond Properties",flags:Ri(Ni.BondFlags),order:Ri(_i.Num),key:Ri(_i.Num),length:Ri(_i.Num),atomA:Ri(Ni.ElementReference),atomB:Ri(Ni.ElementReference)}},internal:{"@header":"Internal Queries",generator:{"@header":"Generators",bundleElement:Bi(xi.Dictionary({groupedUnits:Si(_i.Any),set:Si(_i.Any),ranges:Si(_i.Any)}),_i.Any),bundle:Bi(xi.Dictionary({elements:Si(_i.Any)}),Ni.ElementSelectionQuery,"A selection with single structure containing represented by the bundle."),current:Bi(xi.None,Ni.ElementSelectionQuery,"Current selection provided by the query context. Avoid using this in State Transforms.")}}};Ii(Li);var Gi,Fi=Pi(Li);!function(){for(var t=Object.create(null),e=0,n=Fi;e<n.length;e++){var r=n[e];t[r.id]=r}}();function qi(){return qi.zero()}function ji(){return ji.zero()}function Hi(t){return t}function Vi(t,e,n,r){return{label:t,description:n,list:r,type:e}}!function(t){t.core=Li.core,t.struct=Li.structureQuery,t.internal=Li.internal,t.atomName=function(e){return t.struct.type.atomName([e])},t.es=function(e){return t.struct.type.elementSymbol([e])},t.list=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.core.type.list(e)},t.set=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.core.type.set(e)},t.re=function(e,n){return t.core.type.regex([e,n])},t.fn=function(e){return t.core.ctrl.fn([e])},t.evaluate=function(e){return t.core.ctrl.eval([e])};var e=t.struct.atomProperty.core,n=t.struct.atomProperty.macromolecular,r=t.struct.atomProperty.topology;function i(t){return e[t]()}function o(t){return r[t]()}function a(t){return n[t]()}t.acp=i,t.atp=o,t.ammp=a;var u=t.struct.atomSet.propertySet;t.acpSet=function(t){return u([i(t)])},t.atpSet=function(t){return u([o(t)])},t.ammpSet=function(t){return u([a(t)])}}(Gi||(Gi={})),function(t){function e(){var t=[.1,0,0];return t[0]=0,t}function n(t,e){var n=e[0],r=e[1],i=e[2],o=Math.sqrt(r*r+i*i),a=(k(Math.atan2(i,r))+360)%360;return 0===Math.round(1e4*o)&&(a=Number.NaN),t[0]=a,t[1]=o,t[2]=n,t}function r(t,e,n){return t[0]=e[0]-a*n,t[1]=e[1],t[2]=e[2],t}t.zero=e,t.create=function(t,n,r){var i=e();return i[0]=t,i[1]=n,i[2]=r,i},t.fromColor=function(t,e){var n=Hi.toRgb(e),r=function(t,e,n){t=m(t),e=m(e),n=m(n);var r=h((.4124564*t+.3575761*e+.1804375*n)/u),i=h((.2126729*t+.7151522*e+.072175*n)/s),o=h((.0193339*t+.119192*e+.9503041*n)/c);return[r,i,o]}(n[0],n[1],n[2]),i=r[0],o=r[1],a=r[2],l=116*o-16;return t[0]=l<0?0:l,t[1]=500*(i-o),t[2]=200*(o-a),t},t.fromHcl=function(t,e){return ji.toLab(t,e)},t.toColor=function(t){var e=(t[0]+16)/116,n=isNaN(t[1])?e:e+t[1]/500,r=isNaN(t[2])?e:e-t[2]/200;e=s*p(e);var i=f(3.2404542*(n=u*p(n))-1.5371385*e-.4985314*(r=c*p(r))),o=f(-.969266*n+1.8760108*e+.041556*r),a=f(.0556434*n-.2040259*e+1.0572252*r);return Hi.fromRgb(Math.round(b(i,0,255)),Math.round(b(o,0,255)),Math.round(b(a,0,255)))},t.toHcl=n,t.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},t.darken=r,t.lighten=function(t,e,n){return r(t,e,-n)};var i=[0,0,0];function o(t,e,r){return n(i,e),ji.toLab(t,ji.saturate(i,i,r))}t.saturate=o,t.desaturate=function(t,e,n){return o(t,e,-n)};var a=18,u=.95047,s=1,c=1.08883,l=.137931034,d=.12841855;function f(t){return 255*(t<=.00304?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function p(t){return t>.206896552?t*t*t:d*(t-l)}function m(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function h(t){return t>.008856452?Math.pow(t,1/3):t/d+l}}(qi||(qi={})),function(t){function e(){var t=[.1,0,0];return t[0]=0,t}t.zero=e,t.create=function(t,n,r){var i=e();return i[0]=t,i[1]=n,i[2]=r,i};var n=[0,0,0];t.fromColor=function(t,e){return qi.toHcl(t,qi.fromColor(n,e))},t.fromLab=function(t,e){return qi.toHcl(t,e)};var r=[0,0,0];function i(t,e){var n=e[0],r=e[1],i=e[2];return isNaN(n)&&(n=0),n=M(n),t[0]=i,t[1]=Math.cos(n)*r,t[2]=Math.sin(n)*r,t}function o(t,e,n){return t[0]=e[0],t[1]=Math.max(0,e[1]+s*n),t[2]=e[2],t}t.toColor=function(t){return qi.toColor(i(r,t))},t.toLab=i,t.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},t.saturate=o,t.desaturate=function(t,e,n){return o(t,e,-n)};var a=[0,0,0];function u(t,e,n){return i(a,e),qi.toHcl(t,qi.darken(a,a,n))}t.darken=u,t.lighten=function(t,e,n){return u(t,e,-n)};var s=18}(ji||(ji={})),function(t){function e(t,e,n){return t<<16|e<<8|n}function n(t,e,n){return 255*t<<16|255*e<<8|255*n}t.toStyle=function(t){return"rgb(".concat(t>>16&255,", ").concat(t>>8&255,", ").concat(255&t,")")},t.toHexStyle=function(t){return"#"+("000000"+t.toString(16)).slice(-6)},t.toHexString=function(t){return"0x"+("000000"+t.toString(16)).slice(-6)},t.toRgbString=function(e){return"RGB: ".concat(t.toRgb(e).join(", "))},t.toRgb=function(t){return[t>>16&255,t>>8&255,255&t]},t.toRgbNormalized=function(t){return[(t>>16&255)/255,(t>>8&255)/255,(255&t)/255]},t.fromHexStyle=function(t){return parseInt(t.replace("#","0x"))},t.fromHexString=function(t){return parseInt(t)},t.fromRgb=e,t.fromNormalizedRgb=n,t.fromArray=function(t,n){return e(t[n],t[n+1],t[n+2])},t.fromNormalizedArray=function(t,e){return n(t[e],t[e+1],t[e+2])},t.toArray=function(t,e,n){return e[n]=t>>16&255,e[n+1]=t>>8&255,e[n+2]=255&t,e},t.toArrayNormalized=function(t,e,n){return e[n]=(t>>16&255)/255,e[n+1]=(t>>8&255)/255,e[n+2]=(255&t)/255,e},t.toVec3=function(t,e){return t[0]=e>>16&255,t[1]=e>>8&255,t[2]=255&e,t},t.toVec3Normalized=function(t,e){return t[0]=(e>>16&255)/255,t[1]=(e>>8&255)/255,t[2]=(255&e)/255,t},t.interpolate=function(t,e,n){var r=t>>16&255,i=t>>8&255,o=255&t;return r+((e>>16&255)-r)*n<<16|i+((e>>8&255)-i)*n<<8|o+((255&e)-o)*n};var r=[0,0,0];function i(t,e){return ji.fromColor(r,t),ji.toColor(ji.saturate(r,r,e))}t.saturate=i,t.desaturate=function(t,e){return i(t,-e)};var o=[0,0,0];function a(t,e){return qi.fromColor(o,t),qi.toColor(qi.darken(o,o,e))}function u(t){return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}function s(t){return.2126*u((t>>16&255)/255)+.7152*u((t>>8&255)/255)+.0722*u((255&t)/255)}function c(t){return t<.04045?.0773993808*t:Math.pow(.9478672986*t+.0521327014,2.4)}function l(t){return t<.0031308?12.92*t:1.055*Math.pow(t,.41666)-.055}t.darken=a,t.lighten=function(t,e){return a(t,-e)},t.luminance=s,t.contrast=function(t,e){var n=s(t),r=s(e);return n>r?(n+.05)/(r+.05):(r+.05)/(n+.05)},t.sRGBToLinear=function(t){return n(c((t>>16&255)/255),c((t>>8&255)/255),c((255&t)/255))},t.linearToSRGB=function(t){return n(l((t>>16&255)/255),l((t>>8&255)/255),l((255&t)/255))}}(Hi||(Hi={}));function zi(t,e){return void 0===e&&(e=" "),t.replace(/([a-z\xE0-\xFF])([A-Z\xC0\xDF])/g,"$1".concat(e,"$2"))}var Yi=function(t){return t.toUpperCase()};function Ki(t){return t.toLowerCase().replace(/^\w|\s\w/g,Yi)}function Zi(t){return t.replace(/_/g," ")}function Wi(t){return t.replace(/-/g," ")}function Xi(t){return Ki(zi(Zi(Wi(t))))}var Qi={"orange-red":Vi("Orange-Red","sequential","Orange-Red, sequential color scheme from ColorBrewer 2.0",[16775148,16705736,16635038,16628612,16551257,15689032,14102559,11730944,8323072]),"purple-blue":Vi("Purple-Blue","sequential","Purple-Blue, sequential color scheme from ColorBrewer 2.0",[16775163,15525874,13685222,10927579,7645647,3576e3,356528,285325,145496]),"blue-purple":Vi("Blue-Purple","sequential","Blue-Purple, sequential color scheme from ColorBrewer 2.0",[16252157,14740724,12571622,10403034,9213638,9202609,8929693,8458108,5046347]),oranges:Vi("Oranges","sequential","",[16774635,16705230,16634018,16625259,16616764,15821075,14239745,10892803,8333060]),"blue-green":Vi("Blue-Green","sequential","",[16252157,15070713,13429990,10082505,6734500,4304502,2329413,27948,17435]),"yellow-orange-brown":Vi("Yellow-Orange-Brown","sequential","",[16777189,16775100,16704401,16696399,16685353,15495188,13388802,10040324,6694150]),"yellow-green":Vi("Yellow-Green","sequential","",[16777189,16252089,14282915,11394446,7915129,4303709,2327619,26679,17705]),reds:Vi("Reds","sequential","",[16774640,16703698,16563105,16552562,16476746,15678252,13309981,10817301,6750221]),"red-purple":Vi("Red-Purple","sequential","",[16775155,16638173,16565696,16424885,16214177,14496919,11403646,7995767,4784234]),greens:Vi("Greens","sequential","",[16252149,15070688,13101504,10607003,7652470,4303709,2329413,27948,17435]),"yellow-green-blue":Vi("Yellow-Green-Blue","sequential","",[16777177,15595697,13101492,8375739,4306628,1937856,2252456,2438292,531800]),purples:Vi("Purples","sequential","",[16579581,15724021,14342891,12369372,10394312,8420794,6967715,5515151,4128893]),"green-blue":Vi("Green-Blue","sequential","",[16252144,14742491,13429701,11066805,8113348,5157843,2854078,551084,540801]),greys:Vi("Greys","sequential","",[16777215,15790320,14277081,12434877,9868950,7566195,5395026,2434341,0]),"yellow-orange-red":Vi("Yellow-Orange-Red","sequential","",[16777164,16772512,16701814,16691788,16616764,16535082,14883356,12386342,8388646]),"purple-red":Vi("Purple-Red","sequential","",[16250105,15196655,13941210,13210823,14640560,15149450,13505110,9961539,6750239]),blues:Vi("Blues","sequential","",[16251903,14609399,13032431,10406625,7057110,4362950,2191797,545180,536683]),"purple-blue-green":Vi("Purple-Blue-Green","sequential","",[16775163,15524592,13685222,10927579,6793679,3576e3,164234,93273,83510]),spectral:Vi("Spectral","diverging","",[10355010,13975119,16018755,16625249,16703627,16777151,15136152,11263396,6734501,3311805,6180770]),"red-yellow-green":Vi("Red-Yellow-Green","diverging","",[10813478,14102567,16018755,16625249,16703627,16777151,14282635,10934634,6733155,1742928,26679]),"red-blue":Vi("Red-Blue","diverging","",[6750239,11671595,14049357,16033154,16636871,16250871,13755888,9618910,4428739,2188972,340065]),"pink-yellow-green":Vi("Pink-Yellow-Green","diverging","",[9306450,12917629,14579630,15840986,16638191,16250871,15136208,12116358,8371265,5083681,2581529]),"purple-green":Vi("Purple-Green","diverging","",[4194379,7744131,10055851,12756431,15193320,16250871,14282963,10935200,5942881,1800247,17435]),"red-yellow-blue":Vi("Red-Yellow-Blue","diverging","Red-Yellow-Blue, diverging color scheme from ColorBrewer 2.0",[10813478,14102567,16018755,16625249,16703632,16777151,14742520,11262441,7646673,4552116,3225237]),"brown-white-green":Vi("Brown-White-Green","diverging","",[5517317,9195786,12550445,14664317,16181443,16119285,13101797,8441281,3512207,91742,15408]),"red-grey":Vi("Red-Grey","diverging","",[6750239,11671595,14049357,16033154,16636871,16777215,14737632,12237498,8882055,5066061,1710618]),"orange-purple":Vi("Orange-Purple","diverging","",[8338184,11753478,14713364,16627811,16703670,16250871,14211819,11709394,8418220,5515144,2949195]),"set-2":Vi("Set-2","qualitative","",[6734501,16551266,9281739,15174339,10934356,16767279,15058068,11776947]),accent:Vi("Accent","qualitative","",[8374655,12496596,16629894,16777113,3697840,15729279,12540695,6710886]),"set-1":Vi("Set-1","qualitative","",[14948892,3636920,5091146,9981603,16744192,16777011,10901032,16220607,10066329]),"set-3":Vi("Set-3","qualitative","",[9294791,16777139,12499674,16482418,8434131,16626786,11787881,16567781,14277081,12353725,13429701,16772463]),"dark-2":Vi("Dark-2","qualitative","",[1810039,14245634,7696563,15149450,6727198,15117058,10909213,6710886]),paired:Vi("Paired","qualitative","",[10931939,2062516,11722634,3383340,16489113,14883356,16629615,16744192,13284054,6962586,16777113,11622696]),"pastel-2":Vi("Pastel-2","qualitative","",[11789005,16633260,13358568,16042724,15136201,16773806,15852236,13421772]),"pastel-1":Vi("Pastel-1","qualitative","",[16495790,11783651,13429701,14601188,16701862,16777164,15063229,16636652,15921906]),"many-distinct":Vi("Many-Distinct","qualitative","",[1810039,14245634,7696563,15149450,6727198,15117058,10909213,6710886,14948892,3636920,5091146,9981603,16744192,16777011,10901032,16220607,10066329,6734501,16551266,9281739,15174339,10934356,16767279,15058068,11776947]),magma:Vi("Magma","sequential","Perceptually uniform shades of black-red-white",[4329332,4853881,5378684,5903742,6363263,6888576,7413633,7938689,8463745,8988801,9513600,10038655,10563454,11088508,11613562,12138360,12728949,13254258,13714030,14239338,14699366,15094114,15489119,15753309,16017499,16216411,16350045,16483424,16551523,16619368,16621934,16689780,16692091,16694402,16696969,16633746,16636058,16638371,16575148,16577461,16514239]),inferno:Vi("Inferno","sequential","Perceptually uniform shades of black-red-yellow",[4721514,5246316,5771373,6296430,6821486,7346542,7871597,8396651,8921450,9446504,9971557,10496610,10956127,11481435,12006486,12466258,12926285,13386056,13780802,14241085,14570295,14965297,15229227,15558693,15757342,15956248,16154897,16288267,16421638,16489734,16492043,16494612,16496926,16368426,16305463,16111429,15982678,15853928,15856253,16119953,16580260]),plasma:Vi("Plasma","sequential","Perceptually uniform shades of blue-red-yellow",[1771148,2426257,3081365,3671193,4195228,4784799,5308834,5833124,6357158,6815911,7340200,7864744,8324007,8783782,9309348,9769377,10164126,10624154,11018902,11413393,11808141,12137352,12466307,12795519,13124730,13453685,13717361,14046573,14309992,14573668,14837344,15035483,15299159,15497299,15695438,15893834,16091974,16224833,16357693,16425017,16557877,16625457,16627245,16629289,16631334,16567845,16438820,16310052,16115494,15921190,15726625]),viridis:Vi("Viridis","sequential","Perceptually uniform shades of blue-green-yellow",[4524123,4656994,4658793,4726127,4727668,4663929,4599933,4535937,4406404,4276870,4081800,3952010,3822475,3627148,3497356,3302029,3172237,3042446,2912654,2782862,2652814,2523022,2393229,2328973,2198924,2069132,2004874,2005897,2007175,2139525,2337154,2666111,3060348,3520376,4045684,4570991,5227369,5883748,6605661,7392854,8180303,8967495,9819967,10672695,11525166,12443174,13295646,14148121,15000344,15852828,16639780]),cividis:Vi("Cividis","sequential","Perceptually uniform shades of blue-green-yellow, should look effectively identical to colorblind and non-colorblind users",[11367,12400,537456,1455727,2046574,2571629,3031404,3425388,3754092,4148075,4476779,4805227,5133932,5396844,5725549,5988462,6317166,6580079,6843249,7171698,7434867,7697781,7960951,8289656,8618104,8881272,9209976,9538679,9867127,10195830,10524533,10853235,11181938,11510640,11839343,12168045,12497002,12891240,13219941,13548642,13943134,14271834,14666326,14995025,15389516,15718470,16112703,16507190,16639799]),twilight:Vi("Twilight","sequential","Perceptually uniform shades of white-blue-black-red-white, cyclic",[14670305,14211037,13554648,12766675,11847630,10993866,10139847,9351365,8628419,8036290,7509952,7048895,6718653,6519739,6386105,6252470,6184114,6181293,6112935,6044831,5976470,5777291,5447293,5052270,4592479,4067665,3674181,3281211,3150646,3543352,4067644,4657728,5379141,6166345,6953549,7741007,8463184,9120336,9777743,10304079,10830671,11291984,11687762,12083541,12348505,12613471,12878439,13077872,13211771,13411209,13545111,13809830,14074293,14338756,14537169,14735067,14801121]),turbo:Vi("Turbo","sequential","Improved (smooth) rainbow colormap for visualization",[4866485,4872413,4354034,3770361,3120629,2667241,2475736,2611140,3073454,3928216,5109892,6487408,8126047,9829201,11531332,13167162,14605618,15780908,16693543,16753699,16748063,16741916,16146200,15026195,13644558,12198408,10818563,9833728]),rainbow:Vi("Rainbow","sequential","",[3367393,3516485,16383744,15501073,12526114]),"red-white-blue":Vi("Red-White-Blue","diverging","",[12526114,16777215,3367393])},Ji=Object.keys(Qi).map((function(t){return[t,Qi[t].label,Ki(Qi[t].type)]}));Ji.filter((function(t){return"diverging"===Qi[t[0]].type||"sequential"===Qi[t[0]].type})),Ji.filter((function(t){return"qualitative"===Qi[t[0]].type}));function $i(t){return t in Qi?Qi[t]:(console.warn("unknown color list named '".concat(t,"'")),Qi["red-yellow-blue"])}var to,eo={domain:[0,1],reverse:!1,listOrName:"red-yellow-blue",minLabel:"",maxLabel:""};(to||(to={})).create=function(t){var e=Object(v.a)(Object(v.a)({},eo),t),n=e.domain,r=e.reverse,i=e.listOrName,o="string"==typeof i?$i(i).list:i,a=r?o.slice().reverse():o,u=a.length-1,s=0,c=0,l=0;function d(t,e){s=(l=e)-(c=t)||1}d(n[0],n[1]);var f,p=Wt(t.minLabel,c.toString()),m=Wt(t.maxLabel,l.toString());if(a.every((function(t){return Array.isArray(t)}))){var h=Object(v.e)([],a,!0);h.sort((function(t,e){return t[1]-e[1]}));var g=h.map((function(t){return t[0]})),y=sn.ofSortedArray(h.map((function(t){return t[1]}))),_=g.length-1;f=function(t){var e=b((t-c)/s,0,1),n=sn.findPredecessorIndex(y,e);if(0===n)return g[c];if(n>_)return g[_];var r=y[n-1],i=b((e-r)/(y[n]-r),0,1);return Hi.interpolate(g[n-1],g[n],i)}}else f=function(t){var e=Math.min(a.length-1,Math.max(0,(t-c)/s*u)),n=Math.floor(e),r=a[n],i=a[Math.ceil(e)];return Hi.interpolate(r,i,e-n)};return{color:f,colorToArray:function(t,e,n){Hi.toArray(f(t),e,n)},normalizedColorToArray:function(t,e,n){Hi.toArrayNormalized(f(t),e,n)},setDomain:d,get legend(){return function(t,e,n){return{kind:"scale-legend",minLabel:t,maxLabel:e,colors:n}}(p,m,a)}}};var no,ro,io,oo=new Set(["145","147","149","289","291","293","445","475","491","510","604","045","05L","07E","07Y","08U","09X","0AT","0BD","0H0","0HX","0LP","0MK","0NZ","0TS","0UB","0V4","0WK","0XY","0YT","10M","12E","14T","15L","16F","16G","16O","17T","18D","18O","18T","1AR","1BW","1CF","1FT","1GL","1GN","1JB","1LL","1NA","1S3","1S4","1SD","1X4","20S","20X","22O","22S","23V","24S","25E","26M","26O","26Q","26R","26V","26W","26Y","27C","2DG","2DR","2F8","2FG","2FL","2FP","2GL","2GS","2H5","2HA","2M4","2M5","2M8","2OS","2WP","2WS","32O","34V","38J","3BU","3CM","3DO","3DY","3FM","3GR","3HD","3J3","3J4","3LJ","3LR","3MF","3MG","3MK","3R3","3S6","3SA","3YW","40J","42D","44S","46D","46M","46Z","48Z","49A","49S","49T","49V","4AM","4CQ","4GC","4GL","4GP","4JA","4N2","4NN","4QY","4R1","4RS","4SG","4U0","4U1","4U2","4UZ","4V5","50A","51N","56N","57S","5DI","5GF","5GO","5II","5KQ","5KS","5KT","5KV","5L2","5L3","5LS","5LT","5MM","5N6","5QP","5RP","5SA","5SP","5TH","5TJ","5TK","5TM","61J","62I","64K","66O","6BG","6C2","6DM","6GB","6GP","6GR","6K3","6KH","6KL","6KS","6KU","6KW","6LA","6LS","6LW","6MJ","6MN","6PG","6PY","6PZ","6S2","6SA","6UD","6Y6","6YR","6ZC","73E","79J","7CV","7D1","7GP","7JZ","7K2","7K3","7NU","7SA","83Y","89Y","8B7","8B9","8EX","8GA","8GG","8GP","8I4","8LM","8LR","8OQ","8PK","8S0","8YV","95Z","96O","98U","9AM","9C1","9CD","9GP","9KJ","9MR","9OK","9PG","9QG","9QZ","9S7","9SG","9SJ","9SM","9SP","9T1","9T7","9VP","9WJ","9WN","9WZ","9YW","A0K","A1Q","A2G","A5C","A6P","AAL","AAO","ABC","ABD","ABE","ABF","ABL","AC1","ACG","ACR","ACX","ADA","ADG","ADR","AF1","AFD","AFL","AFO","AFP","AFR","AGC","AGH","AGL","AGR","AH2","AH8","AHG","AHM","AHR","AIG","ALL","ALX","AMG","AMN","AMU","AMV","ANA","AOG","AOS","AQA","ARA","ARB","ARE","ARI","ARW","ASC","ASG","ASO","AXP","AXR","AY9","AZC","B0D","B16","B1H","B1N","B2G","B4G","B6D","B7G","B8D","B9D","BBK","BBV","BCD","BCW","BDF","BDG","BDP","BDR","BDZ","BEM","BFN","BFP","BG6","BG8","BGC","BGL","BGN","BGP","BGS","BHG","BM3","BM7","BMA","BMX","BND","BNG","BNX","BO1","BOG","BQY","BRI","BS7","BTG","BTU","BW3","BWG","BXF","BXP","BXX","BXY","BZD","C3B","C3G","C3X","C4B","C4W","C4X","C5X","CAP","CBF","CBI","CBK","CDR","CE5","CE6","CE8","CEG","CEX","CEY","CEZ","CGF","CJB","CKB","CKP","CNP","CR1","CR6","CRA","CT3","CTO","CTR","CTT","D0N","D1M","D5E","D6G","DAF","DAG","DAN","DDA","DDB","DDL","DEG","DEL","DFR","DFX","DG0","DGC","DGD","DGM","DGO","DGS","DGU","DIG","DJB","DJE","DK4","DKX","DKZ","DL6","DLD","DLF","DLG","DMU","DNO","DO8","DOM","DP5","DPC","DQQ","DQR","DR2","DR3","DR4","DR5","DRI","DSR","DT6","DVC","DYM","E3M","E4P","E5G","EAG","EBG","EBQ","EEN","EEQ","EGA","EJT","EMP","EMZ","EPG","EQP","EQV","ERE","ERI","ETT","EUS","F1P","F1X","F55","F58","F6P","F8X","FBP","FCA","FCB","FCT","FDP","FDQ","FFC","FFX","FIF","FIX","FK9","FKD","FMF","FMO","FNG","FNY","FRU","FSA","FSI","FSM","FSR","FSW","FU4","FUB","FUC","FUD","FUF","FUL","FUY","FVQ","FX1","FYJ","G0S","G16","G1P","G20","G28","G2F","G3F","G3I","G4D","G4S","G6D","G6P","G6S","G7P","G8Z","GAA","GAC","GAD","GAF","GAL","GAT","GBH","GC1","GC4","GC9","GCB","GCD","GCN","GCO","GCS","GCT","GCU","GCV","GCW","GDA","GDL","GE1","GE3","GFP","GIV","GL0","GL1","GL2","GL4","GL5","GL6","GL7","GL9","GLA","GLB","GLC","GLD","GLF","GLG","GLO","GLP","GLS","GLT","GLW","GM0","GMB","GMH","GMT","GMZ","GN1","GN4","GNS","GNX","GP0","GP1","GP4","GPH","GPK","GPM","GPO","GPQ","GPU","GPV","GPW","GQ1","GRF","GRX","GS1","GS4","GS9","GSA","GSD","GTE","GTH","GTK","GTM","GTR","GU0","GU1","GU2","GU3","GU4","GU5","GU6","GU8","GU9","GUF","GUL","GUP","GUZ","GXL","GXV","GYE","GYG","GYP","GYU","GYV","GZL","H1M","H1S","H2P","H3S","H53","H6Q","H6Z","HBZ","HD4","HDL","HMS","HNV","HNW","HSG","HSH","HSJ","HSQ","HSR","HSU","HSX","HSY","HSZ","HTG","HTM","HVC","I57","IAB","IDC","IDF","IDG","IDR","IDS","IDT","IDU","IDX","IDY","IEM","IN1","IPT","ISD","ISL","ISX","IVG","IXD","J5B","JFZ","JHM","JLT","JRV","JS2","JSV","JV4","JVA","JVS","JZR","K5B","K99","KBA","KBG","KD5","KDA","KDB","KDD","KDE","KDF","KDM","KDN","KDO","KDR","KFN","KG1","KGM","KHP","KME","KO1","KO2","KOT","KQC","KTU","L1L","L6N","L6S","L6T","LAG","LAH","LAI","LAK","LAO","LAT","LB2","LBS","LBT","LCN","LDY","LEC","LER","LFC","LFR","LGC","LGU","LKA","LKS","LM2","LMO","LMT","LMU","LNV","LOG","LOX","LPK","LRH","LSM","LTG","LTM","LVO","LVZ","LXB","LXC","LXZ","LZ0","M1F","M1P","M2F","M3M","M3N","M55","M6D","M6P","M7B","M7P","M8C","MA1","MA2","MA3","MA8","MAB","MAF","MAG","MAL","MAN","MAT","MAV","MAW","MBE","MBF","MBG","MCU","MDA","MDP","MFA","MFB","MFU","MG5","MGA","MGC","MGL","MGS","MJJ","MLB","MLR","MMA","MMN","MN0","MNA","MQG","MQT","MRH","MRP","MSX","MTT","MUB","MUG","MUR","MVP","MXY","MXZ","MYG","N1L","N3U","N9S","NA1","NAA","NAG","NBG","NBX","NBY","NDG","NED","NFG","NG1","NG6","NGA","NGB","NGC","NGE","NGF","NGK","NGL","NGR","NGS","NGY","NGZ","NHF","NLC","NM6","NM9","NNG","NPF","NSQ","NT1","NTF","NTO","NTP","NXD","NYT","O1G","OAK","OEL","OI7","OPM","ORP","OSU","OTG","OTN","OTU","OX2","P53","P6P","P8E","PA1","PA5","PAV","PDX","PH5","PKM","PNA","PNG","PNJ","PNW","PPC","PRP","PSG","PSJ","PSV","PTQ","PUF","PZU","QDK","QIF","QKH","QPS","QV4","R1P","R1X","R2B","R2G","R5P","RAA","RAE","RAF","RAM","RAO","RAT","RB5","RBL","RCD","RDP","REL","RER","RF5","RG1","RGG","RHA","RHC","RI2","RIB","RIP","RM4","RNS","RNT","ROB","ROR","RP3","RP5","RP6","RPA","RR7","RRJ","RRY","RST","RTG","RTV","RUB","RUG","RUU","RV7","RVG","RVM","RWI","RY7","RZM","S6P","S7P","S81","SA0","SCG","SCR","SDD","SDY","SEJ","SF6","SF9","SFJ","SFU","SG4","SG5","SG6","SG7","SGA","SGC","SGD","SGN","SGS","SHB","SHD","SHG","SI3","SIA","SID","SIO","SIZ","SLB","SLM","SLT","SMD","SN5","SNG","SOE","SOG","SOL","SOR","SR1","SSG","SSH","STW","STZ","SUC","SUP","SUS","SWE","SZZ","T68","T6D","T6P","T6T","TA6","TAG","TCB","TCG","TDG","TEU","TF0","TFU","TGA","TGK","TGR","TGY","TH1","TM5","TM6","TM9","TMR","TMX","TNX","TOA","TOC","TQY","TRE","TRV","TS8","TT7","TTV","TTZ","TU4","TUG","TUJ","TUP","TUR","TVD","TVG","TVM","TVS","TVV","TVY","TW7","TWA","TWD","TWG","TWJ","TWY","TXB","TYV","U1Y","U2A","U2D","U63","U8V","U97","U9A","U9D","U9G","U9J","U9M","UAP","UBH","UBO","UCD","UDC","UEA","V3M","V3P","V71","VG1","VJ1","VJ4","VKN","VTB","W9T","WIA","WOO","WUN","WZ1","WZ2","WZ4","X0X","X1P","X1X","X2F","X2Y","X34","X4S","X5S","X6X","X6Y","XBP","XDP","XDX","XGP","XIL","XKJ","XLF","XLS","XMM","XS2","XUL","XXM","XXR","XXX","XY6","XY9","XYB","XYF","XYL","XYP","XYS","XYT","XYZ","YDR","YIO","YJM","YKR","YO5","YX0","YX1","YYB","YYH","YYJ","YYK","YYM","YYQ","YYR","YZ0","YZT","Z0F","Z15","Z16","Z2D","Z2T","Z3K","Z3L","Z3Q","Z3U","Z4K","Z4R","Z4S","Z4U","Z4V","Z4W","Z4Y","Z57","Z5J","Z5L","Z61","Z6G","Z6H","Z6J","Z6W","Z8H","Z8T","Z9D","Z9E","Z9H","Z9K","Z9L","Z9M","Z9N","Z9W","ZB0","ZB1","ZB2","ZB3","ZCD","ZCZ","ZD0","ZDC","ZDM","ZDO","ZEE","ZEL","ZGE","ZMR","UMQ","SQD"]);!function(t){t[t.FilledSphere=0]="FilledSphere",t[t.FilledCube=1]="FilledCube",t[t.CrossedCube=2]="CrossedCube",t[t.DividedDiamond=3]="DividedDiamond",t[t.FilledCone=4]="FilledCone",t[t.DevidedCone=5]="DevidedCone",t[t.FlatBox=6]="FlatBox",t[t.FilledStar=7]="FilledStar",t[t.FilledDiamond=8]="FilledDiamond",t[t.FlatDiamond=9]="FlatDiamond",t[t.FlatHexagon=10]="FlatHexagon",t[t.Pentagon=11]="Pentagon",t[t.DiamondPrism=12]="DiamondPrism",t[t.PentagonalPrism=13]="PentagonalPrism",t[t.HexagonalPrism=14]="HexagonalPrism",t[t.HeptagonalPrism=15]="HeptagonalPrism"}(io||(io={}));var ao,uo={Blue:37052,Green:42577,Yellow:16765952,Orange:16021792,Pink:16162465,Purple:10830745,LightBlue:9424105,Brown:10582605,Red:15539236,Secondary:15854817};!function(t){t[t.Hexose=0]="Hexose",t[t.HexNAc=1]="HexNAc",t[t.Hexosamine=2]="Hexosamine",t[t.Hexuronate=3]="Hexuronate",t[t.Deoxyhexose=4]="Deoxyhexose",t[t.DeoxyhexNAc=5]="DeoxyhexNAc",t[t.DiDeoxyhexose=6]="DiDeoxyhexose",t[t.Pentose=7]="Pentose",t[t.Deoxynonulosonate=8]="Deoxynonulosonate",t[t.DiDeoxynonulosonate=9]="DiDeoxynonulosonate",t[t.Unknown=10]="Unknown",t[t.Assigned=11]="Assigned"}(ao||(ao={}));(no={})[ao.Hexose]="Hexose",no[ao.HexNAc]="HexNAc",no[ao.Hexosamine]="Hexosamine",no[ao.Hexuronate]="Hexuronate",no[ao.Deoxyhexose]="Deoxyhexose",no[ao.DeoxyhexNAc]="DeoxyhexNAc",no[ao.DiDeoxyhexose]="Di-deoxyhexose",no[ao.Pentose]="Pentose",no[ao.Deoxynonulosonate]="Deoxynonulosonate",no[ao.DiDeoxynonulosonate]="Di-deoxynonulosonate",no[ao.Unknown]="Unknown",no[ao.Assigned]="Assigned";(ro={})[ao.Hexose]=io.FilledSphere,ro[ao.HexNAc]=io.FilledCube,ro[ao.Hexosamine]=io.CrossedCube,ro[ao.Hexuronate]=io.DividedDiamond,ro[ao.Deoxyhexose]=io.FilledCone,ro[ao.DeoxyhexNAc]=io.DevidedCone,ro[ao.DiDeoxyhexose]=io.FlatBox,ro[ao.Pentose]=io.FilledStar,ro[ao.Deoxynonulosonate]=io.FilledDiamond,ro[ao.DiDeoxynonulosonate]=io.FlatDiamond,ro[ao.Unknown]=io.FlatHexagon,ro[ao.Assigned]=io.Pentagon;var so={abbr:"Unk",name:"Unknown",color:uo.Secondary,type:ao.Unknown},co=[{abbr:"Glc",name:"Glucose",color:uo.Blue,type:ao.Hexose},{abbr:"Man",name:"Mannose",color:uo.Green,type:ao.Hexose},{abbr:"Gal",name:"Galactose",color:uo.Yellow,type:ao.Hexose},{abbr:"Gul",name:"Gulose",color:uo.Orange,type:ao.Hexose},{abbr:"Alt",name:"Altrose",color:uo.Pink,type:ao.Hexose},{abbr:"All",name:"Allose",color:uo.Purple,type:ao.Hexose},{abbr:"Tal",name:"Talose",color:uo.LightBlue,type:ao.Hexose},{abbr:"Ido",name:"Idose",color:uo.Brown,type:ao.Hexose},{abbr:"GlcNAc",name:"N-Acetyl Glucosamine",color:uo.Blue,type:ao.HexNAc},{abbr:"ManNAc",name:"N-Acetyl Mannosamine",color:uo.Green,type:ao.HexNAc},{abbr:"GalNAc",name:"N-Acetyl Galactosamine",color:uo.Yellow,type:ao.HexNAc},{abbr:"GulNAc",name:"N-Acetyl Gulosamine",color:uo.Orange,type:ao.HexNAc},{abbr:"AltNAc",name:"N-Acetyl Altrosamine",color:uo.Pink,type:ao.HexNAc},{abbr:"AllNAc",name:"N-Acetyl Allosamine",color:uo.Purple,type:ao.HexNAc},{abbr:"TalNAc",name:"N-Acetyl Talosamine",color:uo.LightBlue,type:ao.HexNAc},{abbr:"IdoNAc",name:"N-Acetyl Idosamine",color:uo.Brown,type:ao.HexNAc},{abbr:"GlcN",name:"Glucosamine",color:uo.Blue,type:ao.Hexosamine},{abbr:"ManN",name:"Mannosamine",color:uo.Green,type:ao.Hexosamine},{abbr:"GalN",name:"Galactosamine",color:uo.Yellow,type:ao.Hexosamine},{abbr:"GulN",name:"Gulosamine",color:uo.Orange,type:ao.Hexosamine},{abbr:"AltN",name:"Altrosamine",color:uo.Pink,type:ao.Hexosamine},{abbr:"AllN",name:"Allosamine",color:uo.Purple,type:ao.Hexosamine},{abbr:"TalN",name:"Talosamine",color:uo.LightBlue,type:ao.Hexosamine},{abbr:"IdoN",name:"Idosamine",color:uo.Brown,type:ao.Hexosamine},{abbr:"GlcA",name:"Glucuronic Acid",color:uo.Blue,type:ao.Hexuronate},{abbr:"ManA",name:"Mannuronic Acid",color:uo.Green,type:ao.Hexuronate},{abbr:"GalA",name:"Galacturonic Acid",color:uo.Yellow,type:ao.Hexuronate},{abbr:"GulA",name:"Guluronic Acid",color:uo.Orange,type:ao.Hexuronate},{abbr:"AltA",name:"Altruronic Acid",color:uo.Pink,type:ao.Hexuronate},{abbr:"AllA",name:"Alluronic Acid",color:uo.Purple,type:ao.Hexuronate},{abbr:"TalA",name:"Taluronic Acid",color:uo.LightBlue,type:ao.Hexuronate},{abbr:"IdoA",name:"Iduronic Acid",color:uo.Brown,type:ao.Hexuronate},{abbr:"Qui",name:"Quinovose",color:uo.Blue,type:ao.Deoxyhexose},{abbr:"Rha",name:"Rhamnose",color:uo.Green,type:ao.Deoxyhexose},{abbr:"6dGul",name:"6-Deoxy Gulose",color:uo.Orange,type:ao.Deoxyhexose},{abbr:"6dAlt",name:"6-Deoxy Altrose",color:uo.Pink,type:ao.Deoxyhexose},{abbr:"6dTal",name:"6-Deoxy Talose",color:uo.LightBlue,type:ao.Deoxyhexose},{abbr:"Fuc",name:"Fucose",color:uo.Red,type:ao.Deoxyhexose},{abbr:"QuiNAc",name:"N-Acetyl Quinovosamine",color:uo.Blue,type:ao.DeoxyhexNAc},{abbr:"RhaNAc",name:"N-Acetyl Rhamnosamine",color:uo.Green,type:ao.DeoxyhexNAc},{abbr:"6dAltNAc",name:"N-Acetyl 6-Deoxy Altrosamine",color:uo.Pink,type:ao.DeoxyhexNAc},{abbr:"6dTalNAc",name:"N-Acetyl 6-Deoxy Talosamine",color:uo.LightBlue,type:ao.DeoxyhexNAc},{abbr:"FucNAc",name:"N-Acetyl Fucosamine",color:uo.Red,type:ao.DeoxyhexNAc},{abbr:"Oli",name:"Olivose",color:uo.Blue,type:ao.DiDeoxyhexose},{abbr:"Tyv",name:"Tyvelose",color:uo.Green,type:ao.DiDeoxyhexose},{abbr:"Abe",name:"Abequose",color:uo.Orange,type:ao.DiDeoxyhexose},{abbr:"Par",name:"Paratose",color:uo.Pink,type:ao.DiDeoxyhexose},{abbr:"Dig",name:"Digitoxose",color:uo.Purple,type:ao.DiDeoxyhexose},{abbr:"Col",name:"Colitose",color:uo.LightBlue,type:ao.DiDeoxyhexose},{abbr:"Ara",name:"Arabinose",color:uo.Green,type:ao.Pentose},{abbr:"Lyx",name:"Lyxose",color:uo.Yellow,type:ao.Pentose},{abbr:"Xyl",name:"Xylose",color:uo.Orange,type:ao.Pentose},{abbr:"Rib",name:"Ribose",color:uo.Pink,type:ao.Pentose},{abbr:"Kdn",name:"Keto-Deoxy Nonulonic Acid",color:uo.Green,type:ao.Deoxynonulosonate},{abbr:"Neu5Ac",name:"N-Acetyl Neuraminic Acid",color:uo.Purple,type:ao.Deoxynonulosonate},{abbr:"Neu5Gc",name:"N-Glycolyl Neuraminic Acid",color:uo.LightBlue,type:ao.Deoxynonulosonate},{abbr:"Neu",name:"Neuraminic Acid",color:uo.Brown,type:ao.Deoxynonulosonate},{abbr:"Sia",name:"Sialic acid",color:uo.Red,type:ao.Deoxynonulosonate},{abbr:"Pse",name:"Pseudaminic Acid",color:uo.Green,type:ao.DiDeoxynonulosonate},{abbr:"Leg",name:"Legionaminic Acid",color:uo.Yellow,type:ao.DiDeoxynonulosonate},{abbr:"Aci",name:"Acinetaminic Acid",color:uo.Pink,type:ao.DiDeoxynonulosonate},{abbr:"4eLeg",name:"4-Epilegionaminic Acid",color:uo.LightBlue,type:ao.DiDeoxynonulosonate},{abbr:"Bac",name:"Bacillosamine",color:uo.Blue,type:ao.Unknown},{abbr:"LDmanHep",name:"L-Glycero-D-Manno Heptose",color:uo.Green,type:ao.Unknown},{abbr:"Kdo",name:"Keto-Deoxy Octulonic Acid",color:uo.Yellow,type:ao.Unknown},{abbr:"Dha",name:"3-Deoxy Lyxo-Heptulosaric Acid",color:uo.Orange,type:ao.Unknown},{abbr:"DDmanHep",name:"D-Glycero-D-Manno-Heptose",color:uo.Pink,type:ao.Unknown},{abbr:"MurNAc",name:"N-Acetyl Muramic Acid",color:uo.Purple,type:ao.Unknown},{abbr:"MurNGc",name:"N-Glycolyl Muramic Acid",color:uo.LightBlue,type:ao.Unknown},{abbr:"Mur",name:"Muramic Acid",color:uo.Brown,type:ao.Unknown},{abbr:"Api",name:"Apicose",color:uo.Green,type:ao.Assigned},{abbr:"Fru",name:"Fructose",color:uo.Green,type:ao.Assigned},{abbr:"Tag",name:"Tagatose",color:uo.Yellow,type:ao.Assigned},{abbr:"Sor",name:"Sorbose",color:uo.Orange,type:ao.Assigned},{abbr:"Psi",name:"Psicose",color:uo.Pink,type:ao.Assigned}],lo=function(){for(var t=new Map,e=0,n=co.length;e<n;++e){var r=co[e];t.set(r.abbr,r)}return t}(),fo={Glc:["GLC","BGC","Z8T","TRE","MLR"],Man:["MAN","BMA"],Gal:["GLA","GAL","GZL","GXL","GIV"],Gul:["4GL","GL0","GUP","Z8H"],Alt:["Z6H","3MK","SHD"],All:["AFD","ALL","WOO","Z2D"],Tal:["ZEE","A5C","SDY"],Ido:["ZCD","Z0F","4N2"],GlcNAc:["NDG","NAG","NGZ"],ManNAc:["BM3","BM7"],GalNAc:["A2G","NGA","YYQ"],GulNAc:["LXB"],AltNAc:[],AllNAc:["NAA"],TalNAc:[],IdoNAc:["LXZ","HSQ"],GlcN:["PA1","GCS"],ManN:["95Z"],GalN:["X6X","1GN"],GulN:[],AltN:[],AllN:[],TalN:[],IdoN:[],GlcA:["GCU","BDP"],ManA:["MAV","BEM"],GalA:["ADA","GTR","GTK"],GulA:["LGU"],AltA:[],AllA:[],TalA:["X1X","X0X"],IdoA:["IDR"],Qui:["G6D","YYK"],Rha:["RAM","RM4","XXR"],"6dGul":["66O"],"6dAlt":[],"6dTal":[],Fuc:["FUC","FUL","FCA","FCB","GYE"],QuiNAc:["Z9W"],RhaNAc:[],"6dAltNAc":[],"6dTalNAc":[],FucNAc:["49T"],Oli:["DDA","RAE","Z5J"],Tyv:["TYV"],Abe:["ABE"],Par:["PZU"],Dig:["Z3U"],Col:[],Ara:["64K","ARA","ARB","AHR","FUB","BXY","BXX","SEJ"],Lyx:["LDY","Z4W"],Xyl:["XYS","XYP","XYZ","HSY","LXC"],Rib:["YYM","RIP","RIB","BDR","0MK","Z6J","32O"],Kdn:["KDM","KDN"],Neu5Ac:["SIA","SLB"],Neu5Gc:["NGC","NGE"],Neu:[],Sia:[],Pse:[],Leg:[],Aci:[],"4eLeg":[],Bac:[],LDmanHep:["GMH"],Kdo:["KDO"],Dha:[],DDmanHep:["289"],MurNAc:["MUB","AMU"],MurNGc:[],Mur:["1S4","MUR"],Api:["XXM"],Fru:["BDF","Z9N","FRU","LFR"],Tag:["T6T"],Sor:["SOE","UEA"],Psi:["PSV","SF6","SF9","TTV"]},po={Glc:["AGLC","BGLC"],GlcNAc:["AGLCNA","BGLCNA","BGLCN0"],GlcA:["AGLCA","BGLCA","BGLCA0"],Man:["AMAN","BMAN"],Rha:["ARHM","BRHM"],Ara:["AARB","BARB"],Gal:["AGAL","BGAL"],GalNAc:["AGALNA","BGALNA"],Gul:["AGUL","BGUL"],Alt:["AALT","BALT"],All:["AALL","BALL"],Tal:["ATAL","BTAL"],Ido:["AIDO","BIDO"],IdoA:["AIDOA","BIDOA"],Fuc:["AFUC","BFUC"],Lyx:["ALYF","BLYF"],Xyl:["AXYL","BXYL","AXYF","BXYF"],Rib:["ARIB","BRIB"],Fru:["AFRU","BFRU"],Neu5Ac:["ANE5AC","BNE5AC"]},mo={Glc:["0GA","0GB","1GA","1GB","2GA","2GB","3GA","3GB","4GA","4GB","6GA","6GB","ZGA","ZGB","YGA","YGB","XGA","XGB","WGA","WGB","VGA","VGB","UGA","UGB","TGA","TGB","SGA","SGB","RGA","RGB","QGA","QGB","PGA","PGB","0gA","0gB","1gA","1gB","2gA","2gB","3gA","3gB","4gA","4gB","6gA","6gB","ZgA","ZgB","YgA","YgB","XgA","XgB","WgA","WgB","VgA","VgB","UgA","UgB","TgA","TgB","SgA","SgB","RgA","RgB","QgA","QgB","PgA","PgB"],GlcNAc:["0YA","0YB","1YA","1YB","3YA","3YB","4YA","4YB","6YA","6YB","WYA","WYB","VYA","VYB","UYA","UYB","QYA","QYB","0yA","0yB","1yA","1yB","3yA","3yB","4yA","4yB","6yA","6yB","WyA","WyB","VyA","VyB","UyA","UyB","QyA","QyB","0YS","0Ys","3YS","3Ys","4YS","4Ys","6YS","6Ys","QYS","QYs","UYS","UYs","VYS","VYs","WYS","WYs","0yS","0ys","3yS","3ys","4yS","4ys"],GlcA:["0ZA","0ZB","1ZA","1ZB","2ZA","2ZB","3ZA","3ZB","4ZA","4ZB","ZZA","ZZB","YZA","YZB","WZA","WZB","TZA","TZB","0zA","0zB","1zA","1zB","2zA","2zB","3zA","3zB","4zA","4zB","ZzA","ZzB","YzA","YzB","WzA","WzB","TzA","TzB","0ZBP"],GlcN:["0YN","3YN","4YN","6YN","WYN","VYN","UYN","QYN","3Yn","4Yn","WYn","0Yn","0YP","3YP","4YP","6YP","WYP","VYP","UYP","QYP","0Yp","3Yp","4Yp","WYp"],Man:["0MA","0MB","1MA","1MB","2MA","2MB","3MA","3MB","4MA","4MB","6MA","6MB","ZMA","ZMB","YMA","YMB","XMA","XMB","WMA","WMB","VMA","VMB","UMA","UMB","TMA","TMB","SMA","SMB","RMA","RMB","QMA","QMB","PMA","PMB","0mA","0mB","1mA","1mB","2mA","2mB","3mA","3mB","4mA","4mB","6mA","6mB","ZmA","ZmB","YmA","YmB","XmA","XmB","WmA","WmB","VmA","VmB","UmA","UmB","TmA","TmB","SmA","SmB","RmA","RmB","QmA","QmB","PmA","PmB"],ManNAc:["0WA","0WB","1WA","1WB","3WA","3WB","4WA","4WB","6WA","6WB","WWA","WWB","VWA","VWB","UWA","UWB","QWA","QWB","0wA","0wB","1wA","1wB","3wA","3wB","4wA","4wB","6wA","6wB","WwA","WwB","VwA","VwB","UwA","UwB","QwA","QwB"],Ara:["0AA","0AB","1AA","1AB","2AA","2AB","3AA","3AB","4AA","4AB","ZAA","ZAB","YAA","YAB","WAA","WAB","TAA","TAB","0AD","0AU","1AD","1AU","2AD","2AU","3AD","3AU","5AD","5AU","ZAD","ZAU","0aA","0aB","1aA","1aB","2aA","2aB","3aA","3aB","4aA","4aB","ZaA","ZaB","YaA","YaB","WaA","WaB","TaA","TaB","0aD","0aU","1aD","1aU","2aD","2aU","3aD","3aU","5aD","5aU","ZaD","ZaU"],Gal:["0LA","0LB","1LA","1LB","2LA","2LB","3LA","3LB","4LA","4LB","6LA","6LB","ZLA","ZLB","YLA","YLB","XLA","XLB","WLA","WLB","VLA","VLB","ULA","ULB","TLA","TLB","SLA","SLB","RLA","RLB","QLA","QLB","PLA","PLB","0lA","0lB","1lA","1lB","2lA","2lB","3lA","3lB","4lA","4lB","6lA","6lB","ZlA","ZlB","YlA","YlB","XlA","XlB","WlA","WlB","VlA","VlB","UlA","UlB","TlA","TlB","SlA","SlB","RlA","RlB","QlA","QlB","PlA","PlB"],GalNAc:["0VA","0VB","1VA","1VB","3VA","3VB","4VA","4VB","6VA","6VB","WVA","WVB","VVA","VVB","UVA","UVB","QVA","QVB","0vA","0vB","1vA","1vB","3vA","3vB","4vA","4vB","6vA","6vB","WvA","WvB","VvA","VvB","UvA","UvB","QvA","QvB"],GalA:["0OA","0OB","1OA","1OB","2OA","2OB","3OA","3OB","4OA","4OB","ZOA","ZOB","YOA","YOB","WOA","WOB","TOA","TOB","0oA","0oB","1oA","1oB","2oA","2oB","3oA","3oB","4oA","4oB","ZoA","ZoB","YoA","YoB","WoA","WoB","ToA","ToB"],Gul:["0KA","0KB","1KA","1KB","2KA","2KB","3KA","3KB","4KA","4KB","6KA","6KB","ZKA","ZKB","YKA","YKB","XKA","XKB","WKA","WKB","VKA","VKB","UKA","UKB","TKA","TKB","SKA","SKB","RKA","RKB","QKA","QKB","PKA","PKB","0kA","0kB","1kA","1kB","2kA","2kB","3kA","3kB","4kA","4kB","6kA","6kB","ZkA","ZkB","YkA","YkB","XkA","XkB","WkA","WkB","VkA","VkB","UkA","UkB","TkA","TkB","SkA","SkB","RkA","RkB","QkA","QkB","PkA","PkB"],Alt:["0EA","0EB","1EA","1EB","2EA","2EB","3EA","3EB","4EA","4EB","6EA","6EB","ZEA","ZEB","YEA","YEB","XEA","XEB","WEA","WEB","VEA","VEB","UEA","UEB","TEA","TEB","SEA","SEB","REA","REB","QEA","QEB","PEA","PEB","0eA","0eB","1eA","1eB","2eA","2eB","3eA","3eB","4eA","4eB","6eA","6eB","ZeA","ZeB","YeA","YeB","XeA","XeB","WeA","WeB","VeA","VeB","UeA","UeB","TeA","TeB","SeA","SeB","ReA","ReB","QeA","QeB","PeA","PeB"],All:["0NA","0NB","1NA","1NB","2NA","2NB","3NA","3NB","4NA","4NB","6NA","6NB","ZNA","ZNB","YNA","YNB","XNA","XNB","WNA","WNB","VNA","VNB","UNA","UNB","TNA","TNB","SNA","SNB","RNA","RNB","QNA","QNB","PNA","PNB","0nA","0nB","1nA","1nB","2nA","2nB","3nA","3nB","4nA","4nB","6nA","6nB","ZnA","ZnB","YnA","YnB","XnA","XnB","WnA","WnB","VnA","VnB","UnA","UnB","TnA","TnB","SnA","SnB","RnA","RnB","QnA","QnB","PnA","PnB"],Tal:["0TA","0TB","1TA","1TB","2TA","2TB","3TA","3TB","4TA","4TB","6TA","6TB","ZTA","ZTB","YTA","YTB","XTA","XTB","WTA","WTB","VTA","VTB","UTA","UTB","TTA","TTB","STA","STB","RTA","RTB","QTA","QTB","PTA","PTB","0tA","0tB","1tA","1tB","2tA","2tB","3tA","3tB","4tA","4tB","6tA","6tB","ZtA","ZtB","YtA","YtB","XtA","XtB","WtA","WtB","VtA","VtB","UtA","UtB","TtA","TtB","StA","StB","RtA","RtB","QtA","QtB","PtA","PtB"],Ido:["0IA","0IB","1IA","1IB","2IA","2IB","3IA","3IB","4IA","4IB","6IA","6IB","ZIA","ZIB","YIA","YIB","XIA","XIB","WIA","WIB","VIA","VIB","UIA","UIB","TIA","TIB","SIA","SIB","RIA","RIB","QIA","QIB","PIA","PIB","0iA","0iB","1iA","1iB","2iA","2iB","3iA","3iB","4iA","4iB","6iA","6iB","ZiA","ZiB","YiA","YiB","XiA","XiB","WiA","WiB","ViA","ViB","UiA","UiB","TiA","TiB","SiA","SiB","RiA","RiB","QiA","QiB","PiA","PiB"],IdoA:["0UA","0UB","1UA","1UB","2UA","2UB","3UA","3UB","4UA","4UB","ZUA","ZUB","YUA","YUB","WUA","WUB","TUA","TUB","0uA","0uB","1uA","1uB","2uA","2uB","3uA","3uB","4uA","4uB","ZuA","ZuB","YuA","YuB","WuA","WuB","TuA","TuB","YuAP"],Fuc:["0FA","0FB","1FA","1FB","2FA","2FB","3FA","3FB","4FA","4FB","ZFA","ZFB","YFA","YFB","WFA","WFB","TFA","TFB","0fA","0fB","1fA","1fB","2fA","2fB","3fA","3fB","4fA","4fB","ZfA","ZfB","YfA","YfB","WfA","WfB","TfA","TfB"],Rha:["0HA","0HB","1HA","1HB","2HA","2HB","3HA","3HB","4HA","4HB","ZHA","ZHB","YHA","YHB","WHA","WHB","THA","THB","0hA","0hB","1hA","1hB","2hA","2hB","3hA","3hB","4hA","4hB","ZhA","ZhB","YhA","YhB","WhA","WhB","ThA","ThB"],Qui:["0QA","0QB","1QA","1QB","2QA","2QB","3QA","3QB","4QA","4QB","ZQA","ZQB","YQA","YQB","WQA","WQB","TQA","TQB","0qA","0qB","1qA","1qB","2qA","2qB","3qA","3qB","4qA","4qB","ZqA","ZqB","YqA","YqB","WqA","WqB","TqA","TqB"],Lyx:["0DA","0DB","1DA","1DB","2DA","2DB","3DA","3DB","4DA","4DB","ZDA","ZDB","YDA","YDB","WDA","WDB","TDA","TDB","0DD","0DU","1DD","1DU","2DD","2DU","3DD","3DU","5DD","5DU","ZDD","ZDU","0dA","0dB","1dA","1dB","2dA","2dB","3dA","3dB","4dA","4dB","ZdA","ZdB","YdA","YdB","WdA","WdB","TdA","TdB","0dD","0dU","1dD","1dU","2dD","2dU","3dD","3dU","5dD","5dU","ZdD","ZdU"],Xyl:["0XA","0XB","1XA","1XB","2XA","2XB","3XA","3XB","4XA","4XB","ZXA","ZXB","YXA","YXB","WXA","WXB","TXA","TXB","0XD","0XU","1XD","1XU","2XD","2XU","3XD","3XU","5XD","5XU","ZXD","ZXU","0xA","0xB","1xA","1xB","2xA","2xB","3xA","3xB","4xA","4xB","ZxA","ZxB","YxA","YxB","WxA","WxB","TxA","TxB","0xD","0xU","1xD","1xU","2xD","2xU","3xD","3xU","5xD","5xU","ZxD","ZxU"],Rib:["0RA","0RB","1RA","1RB","2RA","2RB","3RA","3RB","4RA","4RB","ZRA","ZRB","YRA","YRB","WRA","WRB","TRA","TRB","0RD","0RU","1RD","1RU","2RD","2RU","3RD","3RU","5RD","5RU","ZRD","ZRU","0rA","0rB","1rA","1rB","2rA","2rB","3rA","3rB","4rA","4rB","ZrA","ZrB","YrA","YrB","WrA","WrB","TrA","TrB","0rD","0rU","1rD","1rU","2rD","2rU","3rD","3rU","5rD","5rU","ZrD","ZrU"],Fru:["0CA","0CB","1CA","1CB","2CA","2CB","3CA","3CB","4CA","4CB","5CA","5CB","WCA","WCB","0CD","0CU","1CD","1CU","2CD","2CU","3CD","3CU","4CD","4CU","6CD","6CU","WCD","WCU","VCD","VCU","UCD","UCU","QCD","QCU","0cA","0cB","1cA","1cB","2cA","2cB","3cA","3cB","4cA","4cB","5cA","5cB","WcA","WcB","0cD","0cU","1cD","1cU","2cD","2cU","3cD","3cU","4cD","4cU","6cD","6cU","WcD","WcU","VcD","VcU","UcD","UcU","QcD","QcU"],Tag:["0JA","0JB","1JA","1JB","2JA","2JB","3JA","3JB","4JA","4JB","5JA","5JB","WJA","WJB","0JD","0JU","1JD","1JU","2JD","2JU","3JD","3JU","4JD","4JU","6JD","6JU","WJD","WJU","VJD","VJU","UJD","UJU","QJD","QJU","0jA","0jB","1jA","1jB","2jA","2jB","3jA","3jB","4jA","4jB","5jA","5jB","WjA","WjB","0jD","0jU","1jD","1jU","2jD","2jU","3jD","3jU","4jD","4jU","6jD","6jU","WjD","WjU","VjD","VjU","UjD","UjU","QjD","QjU"],Sor:["0BA","0BB","1BA","1BB","2BA","2BB","3BA","3BB","4BA","4BB","5BA","5BB","WBA","WBB","0BD","0BU","1BD","1BU","2BD","2BU","3BD","3BU","4BD","4BU","6BD","6BU","WBD","WBU","VBD","VBU","UBD","UBU","QBD","QBU","0bA","0bB","1bA","1bB","2bA","2bB","3bA","3bB","4bA","4bB","5bA","5bB","WbA","WbB","0bD","0bU","1bD","1bU","2bD","2bU","3bD","3bU","4bD","4bU","6bD","6bU","WbD","WbU","VbD","VbU","UbD","UbU","QbD","QbU"],Psi:["0PA","0PB","1PA","1PB","2PA","2PB","3PA","3PB","4PA","4PB","5PA","5PB","WPA","WPB","0PD","0PU","1PD","1PU","2PD","2PU","3PD","3PU","4PD","4PU","6PD","6PU","WPD","WPU","VPD","VPU","UPD","UPU","QPD","QPU","0pA","0pB","1pA","1pB","2pA","2pB","3pA","3pB","4pA","4pB","5pA","5pB","WpA","WpB","0pD","0pU","1pD","1pU","2pD","2pU","3pD","3pU","4pD","4pU","6pD","6pU","WpD","WpU","VpD","VpU","UpD","UpU","QpD","QpU"],Neu5Ac:["0SA","0SB","4SA","4SB","7SA","7SB","8SA","8SB","9SA","9SB","ASA","ASB","BSA","BSB","CSA","CSB","DSA","DSB","ESA","ESB","FSA","FSB","GSA","GSB","HSA","HSB","ISA","ISB","JSA","JSB","KSA","KSB","0sA","0sB","4sA","4sB","7sA","7sB","8sA","8sB","9sA","9sB","AsA","AsB","BsA","BsB","CsA","CsB","DsA","DsB","EsA","EsB","FsA","FsB","GsA","GsB","HsA","HsB","IsA","IsB","JsA","JsB","KsA","KsB"],Neu5Gc:["0GL","4GL","7GL","8GL","9GL","CGL","DGL","EGL","FGL","GGL","HGL","IGL","JGL","KGL","0gL","4gL","7gL","8gL","9gL","AgL","BgL","CgL","DgL","EgL","FgL","GgL","HgL","IgL","JgL","KgL"],Tyv:["0TV","0Tv","1TV","1Tv","2TV","2Tv","4TV","4Tv","YTV","YTv","0tV","0tv","1tV","1tv","2tV","2tv","4tV","4tv","YtV","Ytv"],Abe:["0AE","2AE","4AE","YGa","0AF","2AF","4AF","YAF"],Bac:["0BC","3BC","0bC","3bC"],Kdn:["0KN","4KN","5KN","7KN","8KN","9KN","AKN","BKN","CKN","DKN","EKN","FKN","GKN","HKN","IKN","JKN","KKN","LKN","MKN","NKN","OKN","PKN","QKN","RKN","SKN","TKN","UKN","VKN","WKN","XKN","YKN","0Kn","4Kn","5Kn","7Kn","8Kn","9Kn","AKn","BKn","CKn","DKn","EKn","FKn","GKn","HKn","IKn","JKn","KKn","LKn","MKn","NKn","OKn","PKn","QKn","RKn","SKn","TKn","UKn","VKn","WKn","XKn","YKn"],Kdo:["0KO","4KO","5KO","7KO","8KO","AKO","BKO","CKO","DKO","EKO","FKO","GKO","HKO","IKO","JKO","KKO","0Ko","4Ko","5Ko","7Ko","8Ko","AKo","BKo","CKo","DKo","EKo","FKo","GKo","HKo","IKo","JKo","KKo"]},ho=function(){for(var t=new Map,e=0,n=co.length;e<n;++e){var r=co[e],i=fo[r.abbr];if(i)for(var o=0,a=i.length;o<a;++o)t.set(i[o],r);var u=po[r.abbr];if(u)for(o=0,a=u.length;o<a;++o)t.set(u[o],r)}return oo.forEach((function(e){t.has(e)||t.set(e,so)})),t}();!function(){for(var t=new Map,e=0,n=co.length;e<n;++e){var r=co[e],i=fo[r.abbr];if(i)for(var o=0,a=i.length;o<a;++o)t.set(i[o],r);var u=po[r.abbr];if(u)for(o=0,a=u.length;o<a;++o)t.set(u[o],r);var s=mo[r.abbr];if(s)for(o=0,a=s.length;o<a;++o)t.has(s[o])||t.set(s[o],r)}oo.forEach((function(e){t.has(e)||t.set(e,so)}))}();var go,vo,yo=ho;(vo=go||(go={})).toArray=function(t){return te(t.values())},vo.isSuperset=function(t,e){var n=!0;return e.forEach((function(e){t.has(e)||(n=!1)})),n},vo.add=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0;r<e.length;r++)e[r].forEach((function(e){return t.add(e)}));return t},vo.union=function(t,e){var n=new Set(t);return e.forEach((function(t){return n.add(t)})),n},vo.unionMany=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(0===t.length)return new Set;1===t.length&&new Set(t[0]);for(var n=new Set(t[0]),r=1,i=t.length;r<i;r++)t[r].forEach((function(t){return n.add(t)}));return n},vo.unionManyArrays=function(t){if(0===t.length)return new Set;for(var e=new Set(t[0]),n=1;n<t.length;n++)for(var r=0,i=t[n];r<i.length;r++){var o=i[r];e.add(o)}return e},vo.intersection=function(t,e){var n=new Set;return e.forEach((function(e){t.has(e)&&n.add(e)})),n},vo.areIntersecting=function(t,e){var n=!1;return e.forEach((function(e){t.has(e)&&(n=!0)})),n},vo.intersectionSize=function(t,e){var n=0;return e.forEach((function(e){t.has(e)&&(n+=1)})),n},vo.difference=function(t,e){var n=new Set(t);return e.forEach((function(t){return n.delete(t)})),n},vo.differenceSize=function(t,e){var n=t.size;return t.forEach((function(t){e.has(t)&&(n-=1)})),n},vo.areEqual=function(t,e){if(t.size!==e.size)return!1;var n=!0;return e.forEach((function(e){t.has(e)||(n=!1)})),n};var _o,bo=new Set(["DAPC","DBPC","DFPC","DGPC","DIPC","DLPC","DNPC","DOPC","DPPC","DRPC","DTPC","DVPC","DXPC","DYPC","LPPC","PAPC","PEPC","PGPC","PIPC","POPC","PRPC","PUPC","DAPE","DBPE","DFPE","DGPE","DIPE","DLPE","DNPE","DOPE","DPPE","DRPE","DTPE","DUPE","DVPE","DXPE","DYPE","LPPE","PAPE","PGPE","PIPE","POPE","PQPE","PRPE","PUPE","DAPS","DBPS","DFPS","DGPS","DIPS","DLPS","DNPS","DOPS","DPPS","DRPS","DTPS","DUPS","DVPS","DXPS","DYPS","LPPS","PAPS","PGPS","PIPS","POPS","PQPS","PRPS","PUPS","DAPG","DBPG","DFPG","DGPG","DIPG","DLPG","DNPG","DOPG","DPPG","DRPG","DTPG","DVPG","DXPG","DYPG","LPPG","PAPG","PGPG","PIPG","POPG","PRPG","DAPA","DBPA","DFPA","DGPA","DIPA","DLPA","DNPA","DOPA","DPPA","DRPA","DTPA","DVPA","DXPA","DYPA","LPPA","PAPA","PGPA","PIPA","POPA","PRPA","PUPA","DPP","DPPI","PAPI","PIPI","POP","POPI","PUPI","PVP","PVPI","PADG","PIDG","PODG","PUDG","PVDG","APC","CPC","IPC","LPC","OPC","PPC","TPC","UPC","VPC","BNSM","DBSM","DPSM","DXSM","PGSM","PNSM","POSM","PVSM","XNSM","DPCE","DXCE","PNCE","XNCE","DMPC"]),xo=new Set(["118","119","543","1AL","1CU","2FK","2HP","2OF","3CO","3MT","3NI","3OF","3P8","4MO","4PU","4TI","6MO","ACT","AG","AL","ALF","AM","ATH","AU","AU3","AUC","AZI","BA","BCT","BEF","BF4","BO4","BR","BS3","BSY","CA","CAC","CD","CD1","CD3","CD5","CE","CF","CHT","CL","CO","CO3","CO5","CON","CR","CS","CSB","CU","CU1","CU3","CUA","CUZ","CYN","DME","DMI","DSC","DTI","DY","E4N","EDR","EMC","ER3","EU","EU3","F","FE","FE2","FPO","GA","GD3","GEP","HAI","HG","HGC","IN","IOD","IR","IR3","IRI","IUM","K","KO4","LA","LCO","LCP","LI","LU","MAC","MG","MH2","MH3","MLI","MMC","MN","MN3","MN5","MN6","MO1","MO2","MO3","MO4","MO5","MO6","MOO","MOS","MOW","MW1","MW2","MW3","NA","NA2","NA5","NA6","NAO","NAW","ND","NET","NH4","NI","NI1","NI2","NI3","NO2","NO3","NRU","NT3","O4M","OAA","OC1","OC2","OC3","OC4","OC5","OC6","OC7","OC8","OCL","OCM","OCN","OCO","OF1","OF2","OF3","OH","OS","OS4","OXL","PB","PBM","PD","PDV","PER","PI","PO3","PO4","PR","PT","PT4","PTN","RB","RH3","RHD","RHF","RU","SB","SCN","SE4","SEK","SM","SMO","SO3","SO4","SR","T1A","TB","TBA","TCN","TEA","TH","THE","TL","TMA","TRA","UNX","V","VN3","VO4","W","WO5","Y1","YB","YB2","YH","YT3","ZCM","ZN","ZN2","ZN3","ZNO","ZO3","ZR","NCO","OHX"]),Ao=function(){for(var t=Object.create(null),e=[],n="A".charCodeAt(0);n<="Z".charCodeAt(0);n++)e[e.length]=String.fromCharCode(n);for(n="a".charCodeAt(0);n<="z".charCodeAt(0);n++)e[e.length]=String.fromCharCode(n);for(n="0".charCodeAt(0);n<="9".charCodeAt(0);n++)e[e.length]=String.fromCharCode(n);for(var r=0,i=e;r<i.length;r++){var o=i[r];t[o]=o.toUpperCase();for(var a=0,u=e;a<u.length;a++){var s=u[a];t[o+s]=(o+s).toUpperCase();for(var c=0,l=e;c<l.length;c++){var d=l[c];t[o+s+d]=(o+s+d).toUpperCase()}}}return t}();function wo(t){return Ao[t]||t.toUpperCase()}var So;new Map([[1,"H"],[2,"He"],[3,"Li"],[4,"Be"],[5,"B"],[6,"C"],[7,"N"],[8,"O"],[9,"F"],[10,"Ne"],[11,"Na"],[12,"Mg"],[13,"Al"],[14,"Si"],[15,"P"],[16,"S"],[17,"Cl"],[18,"Ar"],[19,"K"],[20,"Ca"],[21,"Sc"],[22,"Ti"],[23,"V"],[24,"Cr"],[25,"Mn"],[26,"Fe"],[27,"Co"],[28,"Ni"],[29,"Cu"],[30,"Zn"],[31,"Ga"],[32,"Ge"],[33,"As"],[34,"Se"],[35,"Br"],[36,"Kr"],[37,"Rb"],[38,"Sr"],[39,"Y"],[40,"Zr"],[41,"Nb"],[42,"Mo"],[43,"Tc"],[44,"Ru"],[45,"Rh"],[46,"Pd"],[47,"Ag"],[48,"Cd"],[49,"In"],[50,"Sn"],[51,"Sb"],[52,"Te"],[53,"I"],[54,"Xe"],[55,"Cs"],[56,"Ba"],[57,"La"],[58,"Ce"],[59,"Pr"],[60,"Nd"],[61,"Pm"],[62,"Sm"],[63,"Eu"],[64,"Gd"],[65,"Tb"],[66,"Dy"],[67,"Ho"],[68,"Er"],[69,"Tm"],[70,"Yb"],[71,"Lu"],[72,"Hf"],[73,"Ta"],[74,"W"],[75,"Re"],[76,"Os"],[77,"Ir"],[78,"Pt"],[79,"Au"],[80,"Hg"],[81,"Tl"],[82,"Pb"],[83,"Bi"],[84,"Po"],[85,"At"],[86,"Rn"],[87,"Fr"],[88,"Ra"],[89,"Ac"],[90,"Th"],[91,"Pa"],[92,"U"],[93,"Np"],[94,"Pu"],[95,"Am"],[96,"Cm"],[97,"Bk"],[98,"Cf"],[99,"Es"],[100,"Fm"],[101,"Md"],[102,"No"],[103,"Lr"],[104,"Rf"],[105,"Db"],[106,"Sg"],[107,"Bh"],[108,"Hs"],[109,"Mt"],[110,"Ds"],[111,"Rg"],[112,"Cn"],[113,"Uut"],[114,"Fl"],[115,"Uup"],[116,"Lv"],[117,"Uus"],[118,"Uuo"]].map((function(t){return[t[0],wo(t[1])]})));!function(t){t[t.unknown=0]="unknown",t[t.polymer=1]="polymer",t[t["non-polymer"]=2]="non-polymer",t[t.macrolide=3]="macrolide",t[t.water=4]="water",t[t.branched=5]="branched"}(So||(So={}));var Co,Bo,Io=((_o={})[0]={trace:new Set,directionFrom:new Set,directionTo:new Set,backboneStart:new Set,backboneEnd:new Set,coarseBackbone:new Set},_o[1]={trace:new Set(["CA"]),directionFrom:new Set(["C"]),directionTo:new Set(["O","OC1","O1","OX1","OXT","OT1"]),backboneStart:new Set(["N"]),backboneEnd:new Set(["C"]),coarseBackbone:new Set(["CA","BB","CA1"])},_o[2]={trace:new Set(["CA"]),directionFrom:new Set(["C"]),directionTo:new Set(["O"]),backboneStart:new Set(["N"]),backboneEnd:new Set(["CD"]),coarseBackbone:new Set(["CA"])},_o[3]={trace:new Set(["CA"]),directionFrom:new Set(["C"]),directionTo:new Set(["O"]),backboneStart:new Set(["N"]),backboneEnd:new Set(["CG"]),coarseBackbone:new Set(["CA"])},_o[4]={trace:new Set(["O3'","O3*"]),directionFrom:new Set(["C4'","C4*"]),directionTo:new Set(["C3'","C3*"]),backboneStart:new Set(["P"]),backboneEnd:new Set(["O3'","O3*"]),coarseBackbone:new Set(["P"])},_o[5]={trace:new Set(["O3'","O3*"]),directionFrom:new Set(["C3'","C3*"]),directionTo:new Set(["C1'","C1*"]),backboneStart:new Set(["P"]),backboneEnd:new Set(["O3'","O3*"]),coarseBackbone:new Set(["P"])},_o[6]={trace:new Set(["N4'","N4*"]),directionFrom:new Set(["N4'","N4*"]),directionTo:new Set(["C7'","C7*"]),backboneStart:new Set(["N1'","N1*"]),backboneEnd:new Set(["C'","C*"]),coarseBackbone:new Set(["P"])},_o),Po=(new Set(["CA","C","N","O","O1","O2","OC1","OC2","OT1","OT2","OX1","OXT","H","H1","H2","H3","HA","HN","HXT","BB"]),new Set(["P","OP1","OP2","HOP2","HOP3","O2'","O3'","O4'","O5'","C1'","C2'","C3'","C4'","C5'","H1'","H2'","H2''","HO2'","H3'","H4'","H5'","H5''","HO3'","HO5'","O2*","O3*","O4*","O5*","C1*","C2*","C3*","C4*","C5*"]),new Set(["d-peptide linking","d-peptide nh3 amino terminus","d-peptide cooh carboxy terminus","d-gamma-peptide, c-delta linking","d-beta-peptide, c-gamma linking"])),Eo=new Set(["l-peptide linking","l-peptide nh3 amino terminus","l-peptide cooh carboxy terminus","l-gamma-peptide, c-delta linking","l-beta-peptide, c-gamma linking"]),Mo=new Set(["d-gamma-peptide, c-delta linking","l-gamma-peptide, c-delta linking"]),ko=new Set(["d-beta-peptide, c-gamma linking","l-beta-peptide, c-gamma linking"]),Do=new Set(["d-peptide nh3 amino terminus","d-peptide cooh carboxy terminus","l-peptide nh3 amino terminus","l-peptide cooh carboxy terminus"]),Oo=new Set(["peptide linking","peptide-like"]),No=go.unionMany(Po,Eo,Oo),To=new Set(["dna linking","l-dna linking","dna oh 5 prime terminus","dna oh 3 prime terminus"]),Uo=new Set(["rna linking","l-rna linking","rna oh 5 prime terminus","rna oh 3 prime terminus"]),Ro=go.unionMany(new Set(["d-saccharide, beta linking","l-saccharide, beta linking","d-saccharide, alpha linking","l-saccharide, alpha linking","l-saccharide","d-saccharide","saccharide"]),new Set(["d-saccharide 1,4 and 1,4 linking","l-saccharide 1,4 and 1,4 linking","d-saccharide 1,4 and 1,6 linking","l-saccharide 1,4 and 1,6 linking"])),Lo=new Set(["non-polymer","other"]),Go=new Set(["ion"]),Fo=new Set(["lipid"]),qo=new Set(["SOL","WAT","HOH","H2O","W","DOD","D3O","TIP","TIP3","TIP4","SPC"]),jo=new Set(["HIS","ARG","LYS","ILE","PHE","LEU","TRP","ALA","MET","PRO","CYS","ASN","VAL","GLY","SER","GLN","TYR","ASP","GLU","THR","SEC","PYL","UNK","MSE","SEP","TPO","PTR","PCA","HYP","HSD","HSE","HSP","LSN","ASPP","GLUP","HID","HIE","HIP","LYN","ASH","GLH"]),Ho=new Set(["DAL","DAR","DSG","DAS","DCY","DGL","DGN","DHI","DIL","DLE","DLY","MED","DPN","DPR","DSN","DTH","DTR","DTY","DVA","DNE"]),Vo=go.unionMany(jo,Ho),zo=(new Set(["NME","ACE","NH2","FOR","FMT"]),new Set(["A","C","T","G","I","U","N"])),Yo=new Set(["DA","DC","DT","DG","DI","DU","DN"]),Ko=new Set(["APN","CPN","TPN","GPN"]),Zo=(new Set(["A","G","I","DA","DG","DI","APN","GPN"]),new Set(["C","T","U","DC","DT","DU","CPN","TPN"]),go.unionMany(zo,Yo,Ko)),Wo=go.unionMany(Vo,Zo);function Xo(t,e){return e=e.toUpperCase(),Ko.has(e)?8:No.has(t)?5:Uo.has(t)?6:To.has(t)?7:Ro.has(t)?9:qo.has(e)?2:xo.has(e)?3:bo.has(e)?4:Lo.has(t)?yo.has(e)?9:Vo.has(e)?5:zo.has(e)?6:Yo.has(e)?7:1:0}function Qo(t,e){return 5===e?Mo.has(t)?2:ko.has(t)?3:Do.has(t)?0:1:6===e?4:7===e?5:8===e?6:0}function Jo(t){return t=t.toUpperCase(),Vo.has(t)?"peptide linking":zo.has(t)?"rna linking":Yo.has(t)?"dna linking":yo.has(t)?"saccharide":"other"}function $o(t){return t=t.toUpperCase(),qo.has(t)?"water":Wo.has(t)?"polymer":yo.has(t)?"branched":"non-polymer"}function ta(t,e){return t=t.toUpperCase(),Eo.has(e)?"polypeptide(L)":Po.has(e)?"polypeptide(D)":Uo.has(e)?"polyribonucleotide":To.has(e)?"polydeoxyribonucleotide":Ro.has(e)||yo.has(t)?"oligosaccharide":Ko.has(t)?"peptide nucleic acid":jo.has(t)?"polypeptide(L)":Ho.has(t)?"polypeptide(D)":zo.has(t)?"polyribonucleotide":Yo.has(t)?"polydeoxyribonucleotide":Go.has(e)||xo.has(t)?"ion":Fo.has(e)||bo.has(t)?"lipid":Oo.has(e)?"peptide-like":"other"}function ea(t){return na(t)||ra(t)}function na(t){return 7===t||6===t||8===t}function ra(t){return 5===t}(Bo=Co||(Co={})).is=Dt.has,Bo.create=Dt.create,Bo.SecondaryStructureMmcif={helx_lh_27_p:1058,helx_lh_3t_p:2082,helx_lh_al_p:4130,helx_lh_a_n:524321,helx_lh_b_n:1048609,helx_lh_ga_p:8226,helx_lh_n:33,helx_lh_om_p:16418,helx_lh_ot_n:131105,helx_lh_ot_p:546,helx_lh_p:34,helx_lh_pi_p:32802,helx_lh_pp_p:65570,helx_lh_z_n:262177,helx_n:1,helx_ot_n:1,helx_ot_p:2,helx_p:2,helx_rh_27_p:1090,helx_rh_3t_p:2114,helx_rh_al_p:4162,helx_rh_a_n:524353,helx_rh_b_n:1048641,helx_rh_ga_p:8258,helx_rh_n:65,helx_rh_om_p:16450,helx_rh_ot_n:131137,helx_rh_ot_p:578,helx_rh_p:66,helx_rh_pi_p:32834,helx_rh_pp_p:65602,helx_rh_z_n:262209,strn:4194308,turn_ot_p:33554448,turn_p:16,turn_ty1p_p:67109136,turn_ty1_p:67109008,turn_ty2p_p:134218e3,turn_ty2_p:134217872,turn_ty3p_p:268435728,turn_ty3_p:268435600,bend:8,other:0},Bo.SecondaryStructurePdb={1:4162,2:16450,3:32834,4:8258,5:2114,6:4130,7:16418,8:8226,9:1026,10:65538},Bo.SecondaryStructureStride={H:4098,G:2050,I:32770,E:8388612,B:4194308,T:16,C:536870912},Bo.SecondaryStructureDssp={H:4098,B:4194308,E:8388612,G:2050,I:32770,T:16,S:8};var ia;!function(t){function e(t){switch(t){case"covalent":return 1;case"metal-coordination":return 2;case"hydrogen-bond":return 4;case"disulfide":return 8;case"aromatic":return 16;case"computed":return 32}}t.is=Dt.has,t.create=function(t){return Dt.create(t)},t.isCovalent=function(t){return 0!=(1&t)},t.isAll=function(t){return t===Math.pow(2,6)-1},t.Names={covalent:1,"metal-coordination":2,"hydrogen-bond":4,disulfide:8,aromatic:16,computed:32},t.isName=function(e){return e in t.Names},t.fromName=e,t.fromNames=function(t){for(var n=0,r=0,i=t.length;r<i;++r)n|=e(t[r]);return n}}(ia||(ia={}));var oa,aa,ua,sa,ca=C.add,la=C.squaredDistance,da=C.distance,fa=function(){function t(){this.count=0,this.center=C(),this.radiusSq=0}return t.prototype.reset=function(){C.set(this.center,0,0,0),this.radiusSq=0,this.count=0},t.prototype.includeStep=function(t){ca(this.center,this.center,t),this.count++},t.prototype.finishedIncludeStep=function(){0!==this.count&&C.scale(this.center,this.center,1/this.count)},t.prototype.radiusStep=function(t){var e=la(t,this.center);e>this.radiusSq&&(this.radiusSq=e)},t.prototype.radiusSphereStep=function(t,e){var n=da(t,this.center)+e,r=n*n;r>this.radiusSq&&(this.radiusSq=r)},t.prototype.getSphere=function(t){return t||(t=cr()),C.copy(t.center,this.center),t.radius=Math.sqrt(this.radiusSq),t},t.prototype.getCount=function(){return this.count},t}();oa=fa||(fa={}),aa=new oa,ua=C(),sa=C(),oa.fromArrays=function(t,e){var n=t.x,r=t.y,i=t.z;aa.reset();for(var o=n.length,a=0;a<o;a++)C.set(ua,n[a],r[a],i[a]),aa.includeStep(ua);for(aa.finishedIncludeStep(),a=0;a<o;a++)C.set(ua,n[a],r[a],i[a]),aa.radiusStep(ua);return C.copy(e.center,aa.center),e.radius=Math.sqrt(aa.radiusSq),e},oa.fromProvider=function(t,e,n){aa.reset();for(var r=0;r<t;r++)e(r,ua),aa.includeStep(ua);for(aa.finishedIncludeStep(),r=0;r<t;r++)e(r,ua),aa.radiusStep(ua);return C.copy(n.center,aa.center),n.radius=Math.sqrt(aa.radiusSq),n},oa.fromPairProvider=function(t,e,n){aa.reset();for(var r=0;r<t;r++)e(r,ua,sa),aa.includeStep(ua),aa.includeStep(sa);for(aa.finishedIncludeStep(),r=0;r<t;r++)e(r,ua,sa),aa.radiusStep(ua),aa.radiusStep(sa);return C.copy(n.center,aa.center),n.radius=Math.sqrt(aa.radiusSq),n};var pa=function(){function t(e){this.map=e;var n=0,r=[],i=new Map,o=new Map;this.map.forEach((function(e){e.forEach((function(e){n+=e.edgeCount,e.connectedIndices.forEach((function(n){e.getEdges(n).forEach((function(a){var u=e.unitA,s=e.unitB,c=t.getEdgeKey(n,u,a.indexB,s);i.set(c,r.length);var l=t.getVertexKey(n,u),d=o.get(l);void 0===d?o.set(l,[r.length]):d.push(r.length),r.push(Object(v.a)(Object(v.a)({},a),{indexA:n,unitA:u,unitB:s}))}))}))}))})),this.edgeCount=n,this.edges=r,this.edgeKeyIndex=i,this.vertexKeyIndex=o}return t.prototype.getConnectedUnits=function(t){return this.map.has(t)?this.map.get(t):ha},t.prototype.getEdgeIndex=function(e,n,r,i){var o=t.getEdgeKey(e,n,r,i),a=this.edgeKeyIndex.get(o);return void 0!==a?a:-1},t.prototype.hasEdge=function(t,e,n,r){return-1!==this.getEdgeIndex(t,e,n,r)},t.prototype.getEdge=function(t,e,n,r){var i=this.getEdgeIndex(t,e,n,r);return-1!==i?this.edges[i]:void 0},t.prototype.getEdgeIndices=function(e,n){return this.vertexKeyIndex.get(t.getVertexKey(e,n))||[]},t}();!function(t){var e=function(){function t(t,e,n,r,i){this.unitA=t,this.unitB=e,this.edgeCount=n,this.connectedIndices=r,this.edgeMap=i}return t.prototype.hasEdges=function(t){return this.edgeMap.has(t)},t.prototype.getEdges=function(t){return this.edgeMap.has(t)?this.edgeMap.get(t):ha},Object.defineProperty(t.prototype,"areUnitsOrdered",{get:function(){return this.unitA<this.unitB},enumerable:!1,configurable:!0}),t}();function n(t,e,n){t.has(e)?t.get(e).push(n):t.set(e,[n])}t.UnitPairEdges=e,t.getEdgeKey=function(t,e,n,r){return"".concat(t,"|").concat(e,"|").concat(n,"|").concat(r)},t.getVertexKey=function(t,e){return"".concat(t,"|").concat(e)};var r=function(){function t(){this.map=new Map}return t.prototype.startUnitPair=function(t,e){this.uA=t,this.uB=e,this.mapAB=new Map,this.mapBA=new Map,this.linkedA=yi.create(),this.linkedB=yi.create(),this.linkCount=0},t.prototype.finishUnitPair=function(){0!==this.linkCount&&(n(this.map,this.uA,new e(this.uA,this.uB,this.linkCount,this.linkedA.array,this.mapAB)),n(this.map,this.uB,new e(this.uB,this.uA,this.linkCount,this.linkedB.array,this.mapBA)))},t.prototype.add=function(t,e,r){n(this.mapAB,t,{indexB:e,props:r}),n(this.mapBA,e,{indexB:t,props:r}),yi.add(this.linkedA,t,t),yi.add(this.linkedB,e,e),this.linkCount+=1},t.prototype.getMap=function(){return this.map},t}();t.Builder=r}(pa||(pa={}));var ma,ha=[];(ma||(ma={})).Empty=Zr.create([],[],[],0,{flags:[],order:[],key:[]});var ga,va,ya=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(v.c)(e,t),e.prototype.getBondFromLocation=function(t){return Us.isAtomic(t.aUnit)&&Us.isAtomic(t.bUnit)?this.getEdge(t.aIndex,t.aUnit.id,t.bIndex,t.bUnit.id):void 0},e.prototype.getBondIndexFromLocation=function(t){return Us.isAtomic(t.aUnit)&&Us.isAtomic(t.bUnit)?this.getEdgeIndex(t.aIndex,t.aUnit.id,t.bIndex,t.bUnit.id):-1},e}(pa);ga=ya||(ya={}),va=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(v.c)(e,t),e}(pa.UnitPairEdges),ga.UnitPairBonds=va;var _a={forceCompute:!1,noCompute:!1,maxRadius:4},ba={H:0,h:0,D:0,d:0,T:0,t:0,He:2,HE:2,he:2,Li:3,LI:3,li:3,Be:4,BE:4,be:4,B:5,b:5,C:6,c:6,N:7,n:7,O:8,o:8,F:9,f:9,Ne:10,NE:10,ne:10,Na:11,NA:11,na:11,Mg:12,MG:12,mg:12,Al:13,AL:13,al:13,Si:14,SI:14,si:14,P:15,p:15,S:16,s:16,Cl:17,CL:17,cl:17,Ar:18,AR:18,ar:18,K:19,k:19,Ca:20,CA:20,ca:20,Sc:21,SC:21,sc:21,Ti:22,TI:22,ti:22,V:23,v:23,Cr:24,CR:24,cr:24,Mn:25,MN:25,mn:25,Fe:26,FE:26,fe:26,Co:27,CO:27,co:27,Ni:28,NI:28,ni:28,Cu:29,CU:29,cu:29,Zn:30,ZN:30,zn:30,Ga:31,GA:31,ga:31,Ge:32,GE:32,ge:32,As:33,AS:33,as:33,Se:34,SE:34,se:34,Br:35,BR:35,br:35,Kr:36,KR:36,kr:36,Rb:37,RB:37,rb:37,Sr:38,SR:38,sr:38,Y:39,y:39,Zr:40,ZR:40,zr:40,Nb:41,NB:41,nb:41,Mo:42,MO:42,mo:42,Tc:43,TC:43,tc:43,Ru:44,RU:44,ru:44,Rh:45,RH:45,rh:45,Pd:46,PD:46,pd:46,Ag:47,AG:47,ag:47,Cd:48,CD:48,cd:48,In:49,IN:49,in:49,Sn:50,SN:50,sn:50,Sb:51,SB:51,sb:51,Te:52,TE:52,te:52,I:53,i:53,Xe:54,XE:54,xe:54,Cs:55,CS:55,cs:55,Ba:56,BA:56,ba:56,La:57,LA:57,la:57,Ce:58,CE:58,ce:58,Pr:59,PR:59,pr:59,Nd:60,ND:60,nd:60,Pm:61,PM:61,pm:61,Sm:62,SM:62,sm:62,Eu:63,EU:63,eu:63,Gd:64,GD:64,gd:64,Tb:65,TB:65,tb:65,Dy:66,DY:66,dy:66,Ho:67,HO:67,ho:67,Er:68,ER:68,er:68,Tm:69,TM:69,tm:69,Yb:70,YB:70,yb:70,Lu:71,LU:71,lu:71,Hf:72,HF:72,hf:72,Ta:73,TA:73,ta:73,W:74,w:74,Re:75,RE:75,re:75,Os:76,OS:76,os:76,Ir:77,IR:77,ir:77,Pt:78,PT:78,pt:78,Au:79,AU:79,au:79,Hg:80,HG:80,hg:80,Tl:81,TL:81,tl:81,Pb:82,PB:82,pb:82,Bi:83,BI:83,bi:83,Po:84,PO:84,po:84,At:85,AT:85,at:85,Rn:86,RN:86,rn:86,Fr:87,FR:87,fr:87,Ra:88,RA:88,ra:88,Ac:89,AC:89,ac:89,Th:90,TH:90,th:90,Pa:91,PA:91,pa:91,U:92,u:92,Np:93,NP:93,np:93,Pu:94,PU:94,pu:94,Am:95,AM:95,am:95,Cm:96,CM:96,cm:96,Bk:97,BK:97,bk:97,Cf:98,CF:98,cf:98,Es:99,ES:99,es:99,Fm:100,FM:100,fm:100,Md:101,MD:101,md:101,No:102,NO:102,no:102,Lr:103,LR:103,lr:103,Rf:104,RF:104,rf:104,Db:105,DB:105,db:105,Sg:106,SG:106,sg:106,Bh:107,BH:107,bh:107,Hs:108,HS:108,hs:108,Mt:109,MT:109,mt:109},xa={0:1.42,1:1.42,3:2.7,4:2.7,6:1.75,7:1.6,8:1.52,11:2.7,12:2.7,13:2.7,14:1.9,15:2,16:1.9,17:1.8,19:2.7,20:2.7,21:2.7,22:2.7,23:2.7,24:2.7,25:2.7,26:2.7,27:2.7,28:2.7,29:2.7,30:2.7,31:2.7,33:2.68,37:2.7,38:2.7,39:2.7,40:2.7,41:2.7,42:2.7,43:2.7,44:2.7,45:2.7,46:2.7,47:2.7,48:2.7,49:2.7,50:2.7,55:2.7,56:2.7,57:2.7,58:2.7,59:2.7,60:2.7,61:2.7,62:2.7,63:2.7,64:2.7,65:2.7,66:2.7,67:2.7,68:2.7,69:2.7,70:2.7,71:2.7,72:2.7,73:2.7,74:2.7,75:2.7,76:2.7,77:2.7,78:2.7,79:2.7,80:2.7,81:2.7,82:2.7,83:2.7,87:2.7,88:2.7,89:2.7,90:2.7,91:2.7,92:2.7,93:2.7,94:2.7,95:2.7,96:2.7,97:2.7,98:2.7,99:2.7,100:2.7,101:2.7,102:2.7,103:2.7,104:2.7,105:2.7,106:2.7,107:2.7,108:2.7,109:2.88},Aa={0:.8,20:1.31,27:1.2,35:1.15,44:1.1,54:1,60:1.84,72:1.88,84:1.75,85:1.56,86:1.76,98:1.6,99:1.68,100:1.63,112:1.6,113:1.59,114:1.36,129:1.45,135:1.47,144:1.6,152:1.45,170:1.4,180:1.55,202:2.4,222:2.24,224:1.91,225:1.98,243:2.02,269:2,293:1.9,316:1.8,420:2.37,480:2.3,512:2.3,544:2.3,612:2.1,629:1.54,665:1,813:2.6,854:2.27,894:1.93,896:2.1,937:2.05,938:2.06,981:1.62,1258:2.68,1309:2.33,1484:1,1763:2.14,1823:2.48,1882:2.1,1944:1.72,2380:2.34,3367:2.44,3733:2.11,3819:2.6,3821:2.36,4736:2.75,5724:2.73,5959:2.63,6519:2.84,6750:2.87,8991:2.81},wa=function(){for(var t=new Set,e=0,n=["LI","NA","K","RB","CS","FR","BE","MG","CA","SR","BA","RA","AL","GA","IN","SN","TL","PB","BI","SC","TI","V","CR","MN","FE","CO","NI","CU","ZN","Y","ZR","NB","MO","TC","RU","RH","PD","AG","CD","LA","HF","TA","W","RE","OS","IR","PT","AU","HG","AC","RF","DB","SG","BH","HS","MT","CE","PR","ND","PM","SM","EU","GD","TB","DY","HO","ER","TM","YB","LU","TH","PA","U","NP","PU","AM","CM","BK","CF","ES","FM","MD","NO","LR"];e<n.length;e++){var r=n[e];t.add(ba[r])}return t}();function Sa(t){var e=ba[t];return void 0===e?-1:e}function Ca(t){if(t<0)return 2.001;var e=xa[t];return void 0===e?2.001:e}function Ba(t,e,n,r){var i=function(t,e){if(t<0||e<0)return-1;var n,r,i=Aa[(n=t,r=e,n<r?(n+r)*(n+r+1)/2+r:(n+r)*(n+r+1)/2+n)];return void 0===i?-1:i}(t,e);return i>0?i:e<0?n:(n+r)/1.95}var Ia=ba.H;function Pa(t){return t===Ia}var Ea=new Map([["HIS|CD2|CG",2],["HIS|CE1|ND1",2],["ARG|CZ|NH2",2],["PHE|CE1|CZ",2],["PHE|CD2|CE2",2],["PHE|CD1|CG",2],["TRP|CD1|CG",2],["TRP|CD2|CE2",2],["TRP|CE3|CZ3",2],["TRP|CH2|CZ2",2],["ASN|CG|OD1",2],["GLN|CD|OE1",2],["TYR|CD1|CG",2],["TYR|CD2|CE2",2],["TYR|CE1|CZ",2],["ASP|CG|OD1",2],["GLU|CD|OE1",2],["G|C8|N7",2],["G|C4|C5",2],["G|C2|N3",2],["G|C6|O6",2],["C|C4|N3",2],["C|C5|C6",2],["C|C2|O2",2],["A|C2|N3",2],["A|C6|N1",2],["A|C4|C5",2],["A|C8|N7",2],["U|C5|C6",2],["U|C2|O2",2],["U|C4|O4",2],["DG|C8|N7",2],["DG|C4|C5",2],["DG|C2|N3",2],["DG|C6|O6",2],["DC|C4|N3",2],["DC|C5|C6",2],["DC|C2|O2",2],["DA|C2|N3",2],["DA|C6|N1",2],["DA|C4|C5",2],["DA|C8|N7",2],["DT|C5|C6",2],["DT|C2|O2",2],["DT|C4|O4",2]]);function Ma(t,e,n){var r;return e=(r=e<n?[e,n]:[n,e])[0],n=r[1],Vo.has(t)&&"C"===e&&"O"===n||Zo.has(t)&&"OP1"===e&&"P"===n?2:Ea.get("".concat(t,"|").concat(e,"|").concat(n))||1}var ka=new Map([["LYS|NZ|RET|C15",2]]);function Da(t,e,n,r){var i,o;return t>n&&(t=(i=[n,t])[0],n=i[1],e=(o=[r,e])[0],r=o[1]),ka.get("".concat(t,"|").concat(e,"|").concat(n,"|").concat(r))||1}var Oa,Na=kt.Schema,Ta=Na.str,Ua=Na.int,Ra=Na.float,La=Na.coord,Ga=Na.Aliased,Fa=Na.Matrix,qa=Na.Vector,ja=Na.lstr,Ha=Na.List,Va={atom_site:{auth_asym_id:Ta,auth_atom_id:Ta,auth_comp_id:Ta,auth_seq_id:Ua,B_iso_or_equiv:Ra,Cartn_x:La,Cartn_y:La,Cartn_z:La,group_PDB:Ga(Ta),id:Ua,label_alt_id:Ta,label_asym_id:Ta,label_atom_id:Ta,label_comp_id:Ta,label_entity_id:Ta,label_seq_id:Ua,occupancy:Ra,type_symbol:Ta,pdbx_PDB_ins_code:Ta,pdbx_PDB_model_num:Ua,pdbx_formal_charge:Ua,pdbx_label_index:Ua,pdbx_sifts_xref_db_name:Ta,pdbx_sifts_xref_db_acc:Ta,pdbx_sifts_xref_db_num:Ta,pdbx_sifts_xref_db_res:Ta,ihm_model_id:Ua},atom_site_anisotrop:{id:Ua,type_symbol:Ta,U:Fa(3,3),U_esd:Fa(3,3),pdbx_auth_seq_id:Ta,pdbx_auth_asym_id:Ta,pdbx_auth_atom_id:Ta,pdbx_auth_comp_id:Ta,pdbx_label_seq_id:Ua,pdbx_label_alt_id:Ta,pdbx_label_asym_id:Ta,pdbx_label_atom_id:Ta,pdbx_label_comp_id:Ta,pdbx_PDB_ins_code:Ta},atom_sites:{entry_id:Ta,fract_transf_matrix:Fa(3,3),fract_transf_vector:qa(3)},audit_author:{name:Ta,pdbx_ordinal:Ua,identifier_ORCID:Ta},audit_conform:{dict_location:Ta,dict_name:Ta,dict_version:Ta},cell:{angle_alpha:Ra,angle_beta:Ra,angle_gamma:Ra,entry_id:Ta,length_a:Ra,length_b:Ra,length_c:Ra,Z_PDB:Ua,pdbx_unique_axis:Ta},chem_comp:{formula:Ta,formula_weight:Ra,id:Ta,mon_nstd_flag:Ga(ja),name:Ta,type:Ga(ja),pdbx_synonyms:Ha(";",(function(t){return t}))},chem_comp_bond:{atom_id_1:Ta,atom_id_2:Ta,comp_id:Ta,value_order:Ga(ja),pdbx_ordinal:Ua,pdbx_stereo_config:Ga(ja),pdbx_aromatic_flag:Ga(ja)},citation:{book_publisher:Ta,country:Ta,id:Ta,journal_abbrev:Ta,journal_id_ASTM:Ta,journal_id_CSD:Ta,journal_id_ISSN:Ta,journal_volume:Ta,page_first:Ta,page_last:Ta,title:Ta,year:Ua,pdbx_database_id_DOI:Ta,pdbx_database_id_PubMed:Ua},citation_author:{citation_id:Ta,name:Ta,ordinal:Ua},database_2:{database_id:Ga(ja),database_code:Ta},entity:{details:Ta,formula_weight:Ra,id:Ta,src_method:Ga(ja),type:Ga(ja),pdbx_description:Ha(",",(function(t){return t})),pdbx_number_of_molecules:Ua,pdbx_mutation:Ta,pdbx_fragment:Ta,pdbx_ec:Ha(",",(function(t){return t}))},entity_poly:{entity_id:Ta,nstd_linkage:Ga(ja),nstd_monomer:Ga(ja),type:Ga(Ta),pdbx_strand_id:Ha(",",(function(t){return t})),pdbx_seq_one_letter_code:Ta,pdbx_seq_one_letter_code_can:Ta,pdbx_target_identifier:Ta},entity_poly_seq:{entity_id:Ta,hetero:Ga(ja),mon_id:Ta,num:Ua},entry:{id:Ta},exptl:{entry_id:Ta,method:Ga(Ta)},software:{classification:Ta,date:Ta,description:Ta,name:Ta,type:Ga(ja),version:Ta,pdbx_ordinal:Ua},struct:{entry_id:Ta,title:Ta,pdbx_descriptor:Ta},struct_asym:{details:Ta,entity_id:Ta,id:Ta,pdbx_modified:Ta,pdbx_blank_PDB_chainid_flag:Ga(Ta)},struct_conf:{beg_label_asym_id:Ta,beg_label_comp_id:Ta,beg_label_seq_id:Ua,beg_auth_asym_id:Ta,beg_auth_comp_id:Ta,beg_auth_seq_id:Ua,conf_type_id:Ga(ja),details:Ta,end_label_asym_id:Ta,end_label_comp_id:Ta,end_label_seq_id:Ua,end_auth_asym_id:Ta,end_auth_comp_id:Ta,end_auth_seq_id:Ua,id:Ta,pdbx_beg_PDB_ins_code:Ta,pdbx_end_PDB_ins_code:Ta,pdbx_PDB_helix_class:Ta,pdbx_PDB_helix_length:Ua,pdbx_PDB_helix_id:Ta},struct_conn:{conn_type_id:Ga(ja),details:Ta,id:Ta,ptnr1_label_asym_id:Ta,ptnr1_label_atom_id:Ta,ptnr1_label_comp_id:Ta,ptnr1_label_seq_id:Ua,ptnr1_auth_asym_id:Ta,ptnr1_auth_comp_id:Ta,ptnr1_auth_seq_id:Ua,ptnr1_symmetry:Ta,ptnr2_label_asym_id:Ta,ptnr2_label_atom_id:Ta,ptnr2_label_comp_id:Ta,ptnr2_label_seq_id:Ua,ptnr2_auth_asym_id:Ta,ptnr2_auth_comp_id:Ta,ptnr2_auth_seq_id:Ua,ptnr2_symmetry:Ta,pdbx_ptnr1_PDB_ins_code:Ta,pdbx_ptnr1_label_alt_id:Ta,pdbx_ptnr1_standard_comp_id:Ta,pdbx_ptnr2_PDB_ins_code:Ta,pdbx_ptnr2_label_alt_id:Ta,pdbx_ptnr3_PDB_ins_code:Ta,pdbx_ptnr3_label_alt_id:Ta,pdbx_ptnr3_label_asym_id:Ta,pdbx_ptnr3_label_atom_id:Ta,pdbx_ptnr3_label_comp_id:Ta,pdbx_ptnr3_label_seq_id:Ua,pdbx_PDB_id:Ta,pdbx_dist_value:Ra,pdbx_value_order:Ga(ja)},struct_conn_type:{criteria:Ta,id:Ga(ja),reference:Ta},struct_keywords:{entry_id:Ta,text:Ha(",",(function(t){return t})),pdbx_keywords:Ta},struct_ncs_oper:{code:Ga(Ta),details:Ta,id:Ua,matrix:Fa(3,3),vector:qa(3)},struct_sheet_range:{beg_label_asym_id:Ta,beg_label_comp_id:Ta,beg_label_seq_id:Ua,end_label_asym_id:Ta,end_label_comp_id:Ta,end_label_seq_id:Ua,beg_auth_asym_id:Ta,beg_auth_comp_id:Ta,beg_auth_seq_id:Ua,end_auth_asym_id:Ta,end_auth_comp_id:Ta,end_auth_seq_id:Ua,id:Ta,sheet_id:Ta,pdbx_beg_PDB_ins_code:Ta,pdbx_end_PDB_ins_code:Ta},struct_site:{details:Ta,id:Ta,pdbx_num_residues:Ua,pdbx_evidence_code:Ta,pdbx_auth_asym_id:Ta,pdbx_auth_comp_id:Ta,pdbx_auth_seq_id:Ta,pdbx_auth_ins_code:Ta},struct_site_gen:{details:Ta,id:Ta,label_alt_id:Ta,label_asym_id:Ta,label_atom_id:Ta,label_comp_id:Ta,label_seq_id:Ua,auth_asym_id:Ta,auth_comp_id:Ta,auth_seq_id:Ta,site_id:Ta,symmetry:Ta,pdbx_auth_ins_code:Ta,pdbx_num_res:Ua},symmetry:{entry_id:Ta,cell_setting:Ga(ja),Int_Tables_number:Ua,space_group_name_Hall:Ta,"space_group_name_H-M":Ta},pdbx_database_status:{status_code:Ga(Ta),status_code_sf:Ga(Ta),status_code_mr:Ga(Ta),entry_id:Ta,recvd_initial_deposition_date:Ta,SG_entry:Ga(ja),deposit_site:Ga(Ta),process_site:Ga(Ta),status_code_cs:Ga(Ta),methods_development_category:Ga(Ta),pdb_format_compatible:Ga(ja)},pdbx_nonpoly_scheme:{asym_id:Ta,entity_id:Ta,mon_id:Ta,pdb_strand_id:Ta,ndb_seq_num:Ta,pdb_seq_num:Ta,auth_seq_num:Ta,pdb_mon_id:Ta,auth_mon_id:Ta,pdb_ins_code:Ta},pdbx_database_related:{db_name:Ta,details:Ta,db_id:Ta,content_type:Ga(Ta)},pdbx_entity_nonpoly:{entity_id:Ta,comp_id:Ta,name:Ta},pdbx_chem_comp_synonyms:{name:Ta,comp_id:Ta,provenance:Ga(Ta)},pdbx_chem_comp_identifier:{comp_id:Ta,identifier:Ta,type:Ga(Ta),program:Ta,program_version:Ta},pdbx_unobs_or_zero_occ_residues:{id:Ua,polymer_flag:Ga(ja),occupancy_flag:Ga(Ua),PDB_model_num:Ua,auth_asym_id:Ta,auth_comp_id:Ta,auth_seq_id:Ta,PDB_ins_code:Ta,label_asym_id:Ta,label_comp_id:Ta,label_seq_id:Ua},pdbx_struct_mod_residue:{id:Ua,auth_asym_id:Ta,auth_comp_id:Ta,auth_seq_id:Ua,PDB_ins_code:Ta,label_asym_id:Ta,label_comp_id:Ta,label_seq_id:Ua,parent_comp_id:Ta,details:Ta},pdbx_struct_oper_list:{id:Ta,type:Ga(Ta),name:Ta,symmetry_operation:Ta,matrix:Fa(3,3),vector:qa(3)},pdbx_struct_assembly:{method_details:Ta,oligomeric_details:Ta,oligomeric_count:Ua,details:Ta,id:Ta},pdbx_struct_assembly_gen:{asym_id_list:Ha(",",(function(t){return t})),assembly_id:Ta,oper_expression:Ta},pdbx_reference_entity_list:{prd_id:Ta,ref_entity_id:Ta,type:Ga(ja),details:Ta,component_id:Ua},pdbx_reference_entity_link:{link_id:Ua,prd_id:Ta,details:Ta,ref_entity_id_1:Ta,ref_entity_id_2:Ta,entity_seq_num_1:Ua,entity_seq_num_2:Ua,comp_id_1:Ta,comp_id_2:Ta,atom_id_1:Ta,atom_id_2:Ta,value_order:Ga(ja),component_1:Ua,component_2:Ua,link_class:Ga(Ta)},pdbx_reference_entity_poly_link:{link_id:Ua,prd_id:Ta,ref_entity_id:Ta,component_id:Ua,entity_seq_num_1:Ua,entity_seq_num_2:Ua,comp_id_1:Ta,comp_id_2:Ta,atom_id_1:Ta,atom_id_2:Ta,value_order:Ga(ja)},pdbx_molecule:{prd_id:Ta,instance_id:Ua,asym_id:Ta},pdbx_molecule_features:{prd_id:Ta,class:Ga(ja),type:Ga(ja),name:Ta,details:Ta},entity_src_nat:{entity_id:Ta,pdbx_organism_scientific:Ta,pdbx_plasmid_name:Ta,pdbx_src_id:Ua,pdbx_beg_seq_num:Ua,pdbx_end_seq_num:Ua},entity_src_gen:{entity_id:Ta,pdbx_gene_src_gene:Ha(",",(function(t){return t})),pdbx_gene_src_scientific_name:Ta,plasmid_name:Ta,pdbx_src_id:Ua,pdbx_beg_seq_num:Ua,pdbx_end_seq_num:Ua},pdbx_entity_src_syn:{organism_scientific:Ta,entity_id:Ta,pdbx_src_id:Ua,pdbx_beg_seq_num:Ua,pdbx_end_seq_num:Ua},pdbx_entity_branch_descriptor:{entity_id:Ta,descriptor:Ta,type:Ga(ja),program:Ta,program_version:Ta,ordinal:Ua},pdbx_entity_instance_feature:{details:Ta,feature_type:Ga(Ta),auth_asym_id:Ta,asym_id:Ta,auth_seq_num:Ta,seq_num:Ua,comp_id:Ta,auth_comp_id:Ta,ordinal:Ua},pdbx_entity_branch_list:{entity_id:Ta,hetero:Ga(ja),comp_id:Ta,num:Ua},pdbx_entity_branch_link:{link_id:Ua,details:Ta,entity_id:Ta,entity_branch_list_num_1:Ua,entity_branch_list_num_2:Ua,comp_id_1:Ta,comp_id_2:Ta,atom_id_1:Ta,leaving_atom_id_1:Ta,atom_stereo_config_1:Ga(ja),atom_id_2:Ta,leaving_atom_id_2:Ta,atom_stereo_config_2:Ga(ja),value_order:Ga(ja)},pdbx_entity_branch:{entity_id:Ta,type:Ga(Ta)},pdbx_branch_scheme:{entity_id:Ta,hetero:Ga(ja),asym_id:Ta,mon_id:Ta,num:Ua,pdb_asym_id:Ta,pdb_seq_num:Ta,pdb_mon_id:Ta,auth_asym_id:Ta,auth_seq_num:Ta,auth_mon_id:Ta},pdbx_chem_comp_related:{comp_id:Ta,related_comp_id:Ta,relationship_type:Ga(Ta),details:Ta},ihm_starting_model_details:{starting_model_id:Ta,entity_id:Ta,entity_description:Ta,asym_id:Ta,entity_poly_segment_id:Ua,starting_model_source:Ga(Ta),starting_model_auth_asym_id:Ta,starting_model_sequence_offset:Ua,dataset_list_id:Ua},ihm_starting_comparative_models:{id:Ua,starting_model_id:Ta,starting_model_auth_asym_id:Ta,starting_model_seq_id_begin:Ua,starting_model_seq_id_end:Ua,template_auth_asym_id:Ta,template_seq_id_begin:Ua,template_seq_id_end:Ua,template_sequence_identity:Ra,template_sequence_identity_denominator:Ga(Ua),template_dataset_list_id:Ua,alignment_file_id:Ua},ihm_starting_model_seq_dif:{id:Ua,entity_id:Ta,asym_id:Ta,seq_id:Ua,comp_id:Ta,starting_model_id:Ta,db_asym_id:Ta,db_seq_id:Ua,db_comp_id:Ta,details:Ta},ihm_model_representation:{id:Ua,name:Ta,details:Ta},ihm_model_representation_details:{id:Ua,representation_id:Ua,entity_poly_segment_id:Ua,entity_id:Ta,entity_description:Ta,entity_asym_id:Ta,model_object_primitive:Ga(Ta),starting_model_id:Ta,model_mode:Ga(Ta),model_granularity:Ga(Ta),model_object_count:Ua},ihm_struct_assembly_details:{id:Ua,assembly_id:Ua,parent_assembly_id:Ua,entity_description:Ta,entity_id:Ta,asym_id:Ta,entity_poly_segment_id:Ua},ihm_struct_assembly:{id:Ua,name:Ta,description:Ta},ihm_modeling_protocol:{id:Ua,num_steps:Ua,protocol_name:Ta},ihm_modeling_protocol_details:{id:Ua,protocol_id:Ua,step_id:Ua,struct_assembly_id:Ua,dataset_group_id:Ua,struct_assembly_description:Ta,step_name:Ta,step_method:Ta,num_models_begin:Ua,num_models_end:Ua,multi_scale_flag:Ga(ja),multi_state_flag:Ga(ja),ordered_flag:Ga(ja),script_file_id:Ua,software_id:Ua},ihm_multi_state_modeling:{state_id:Ua,state_group_id:Ua,population_fraction:Ra,population_fraction_sd:Ra,state_type:Ta,state_name:Ta,experiment_type:Ga(Ta),details:Ta},ihm_modeling_post_process:{id:Ua,protocol_id:Ua,analysis_id:Ua,step_id:Ua,type:Ga(Ta),feature:Ga(Ta),num_models_begin:Ua,num_models_end:Ua},ihm_ensemble_info:{ensemble_id:Ua,ensemble_name:Ta,post_process_id:Ua,model_group_id:Ua,ensemble_clustering_method:Ga(Ta),ensemble_clustering_feature:Ga(Ta),num_ensemble_models:Ua,num_ensemble_models_deposited:Ua,ensemble_precision_value:Ra,ensemble_file_id:Ua},ihm_model_list:{model_id:Ua,model_name:Ta,assembly_id:Ua,protocol_id:Ua,representation_id:Ua},ihm_model_group:{id:Ua,name:Ta,details:Ta},ihm_model_group_link:{model_id:Ua,group_id:Ua},ihm_model_representative:{id:Ua,model_group_id:Ua,model_id:Ua,selection_criteria:Ga(Ta)},ihm_dataset_list:{id:Ua,data_type:Ga(Ta),database_hosted:Ga(ja)},ihm_dataset_group:{id:Ua,name:Ta,application:Ga(Ta),details:Ta},ihm_dataset_group_link:{dataset_list_id:Ua,group_id:Ua},ihm_related_datasets:{dataset_list_id_derived:Ua,dataset_list_id_primary:Ua},ihm_dataset_related_db_reference:{id:Ua,dataset_list_id:Ua,db_name:Ga(Ta),accession_code:Ta,version:Ta,details:Ta},ihm_external_reference_info:{reference_id:Ua,reference_provider:Ta,reference_type:Ga(Ta),reference:Ta,refers_to:Ga(Ta),associated_url:Ta},ihm_external_files:{id:Ua,reference_id:Ua,file_path:Ta,content_type:Ga(Ta),file_size_bytes:Ra,details:Ta},ihm_dataset_external_reference:{id:Ua,dataset_list_id:Ua,file_id:Ua},ihm_localization_density_files:{id:Ua,file_id:Ua,ensemble_id:Ua,entity_id:Ta,entity_poly_segment_id:Ua,asym_id:Ta},ihm_predicted_contact_restraint:{id:Ua,group_id:Ua,entity_id_1:Ta,entity_id_2:Ta,asym_id_1:Ta,asym_id_2:Ta,comp_id_1:Ta,comp_id_2:Ta,seq_id_1:Ua,seq_id_2:Ua,rep_atom_1:Ga(Ta),rep_atom_2:Ga(Ta),distance_lower_limit:Ra,distance_upper_limit:Ra,probability:Ra,restraint_type:Ga(Ta),model_granularity:Ga(Ta),dataset_list_id:Ua,software_id:Ua},ihm_cross_link_list:{id:Ua,group_id:Ua,entity_description_1:Ta,entity_description_2:Ta,entity_id_1:Ta,entity_id_2:Ta,comp_id_1:Ta,comp_id_2:Ta,seq_id_1:Ua,seq_id_2:Ua,linker_type:Ga(Ta),dataset_list_id:Ua},ihm_cross_link_restraint:{id:Ua,group_id:Ua,entity_id_1:Ta,entity_id_2:Ta,asym_id_1:Ta,asym_id_2:Ta,comp_id_1:Ta,comp_id_2:Ta,seq_id_1:Ua,seq_id_2:Ua,atom_id_1:Ta,atom_id_2:Ta,restraint_type:Ga(Ta),conditional_crosslink_flag:Ga(Ta),model_granularity:Ga(Ta),distance_threshold:Ra,psi:Ra,sigma_1:Ra,sigma_2:Ra},ihm_cross_link_result_parameters:{id:Ua,restraint_id:Ua,model_id:Ua,psi:Ra,sigma_1:Ra,sigma_2:Ra},ihm_2dem_class_average_restraint:{id:Ua,dataset_list_id:Ua,number_raw_micrographs:Ua,pixel_size_width:Ra,pixel_size_height:Ra,image_resolution:Ra,image_segment_flag:Ga(ja),number_of_projections:Ua,struct_assembly_id:Ua,details:Ta},ihm_2dem_class_average_fitting:{id:Ua,restraint_id:Ua,model_id:Ua,cross_correlation_coefficient:Ra,rot_matrix:Fa(3,3),tr_vector:qa(3)},ihm_3dem_restraint:{id:Ua,dataset_list_id:Ua,model_id:Ua,struct_assembly_id:Ua,fitting_method:Ta,number_of_gaussians:Ua,cross_correlation_coefficient:Ra},ihm_sas_restraint:{id:Ua,dataset_list_id:Ua,model_id:Ua,struct_assembly_id:Ua,profile_segment_flag:Ga(ja),fitting_atom_type:Ta,fitting_method:Ta,fitting_state:Ga(Ta),radius_of_gyration:Ra,chi_value:Ra,details:Ta},ihm_starting_model_coord:{ordinal_id:Ua,starting_model_id:Ta,group_PDB:Ga(Ta),id:Ua,type_symbol:Ta,entity_id:Ta,atom_id:Ta,comp_id:Ta,seq_id:Ua,asym_id:Ta,Cartn_x:Ra,Cartn_y:Ra,Cartn_z:Ra,B_iso_or_equiv:Ra},ihm_sphere_obj_site:{id:Ua,entity_id:Ta,seq_id_begin:Ua,seq_id_end:Ua,asym_id:Ta,Cartn_x:Ra,Cartn_y:Ra,Cartn_z:Ra,object_radius:Ra,rmsf:Ra,model_id:Ua},ihm_gaussian_obj_site:{id:Ua,entity_id:Ta,seq_id_begin:Ua,seq_id_end:Ua,asym_id:Ta,mean_Cartn_x:Ra,mean_Cartn_y:Ra,mean_Cartn_z:Ra,weight:Ra,covariance_matrix:Fa(3,3),model_id:Ua},ihm_gaussian_obj_ensemble:{id:Ua,entity_id:Ta,seq_id_begin:Ua,seq_id_end:Ua,asym_id:Ta,mean_Cartn_x:Ra,mean_Cartn_y:Ra,mean_Cartn_z:Ra,weight:Ra,covariance_matrix:Fa(3,3),ensemble_id:Ua},ihm_feature_list:{feature_id:Ua,feature_type:Ga(Ta),entity_type:Ga(Ta)},ihm_poly_residue_feature:{ordinal_id:Ua,feature_id:Ua,entity_id:Ta,asym_id:Ta,comp_id_begin:Ta,comp_id_end:Ta,seq_id_begin:Ua,seq_id_end:Ua},ihm_derived_distance_restraint:{id:Ua,group_id:Ua,feature_id_1:Ua,feature_id_2:Ua,group_conditionality:Ga(Ta),random_exclusion_fraction:Ra,distance_upper_limit:Ra,restraint_type:Ga(Ta),dataset_list_id:Ua},ma_model_list:{ordinal_id:Ua,model_id:Ua,model_group_id:Ua,model_name:Ta,model_group_name:Ta,model_type:Ga(Ta),data_id:Ua},ma_target_entity:{entity_id:Ta,data_id:Ua,origin:Ga(Ta)},ma_target_entity_instance:{asym_id:Ta,entity_id:Ta,details:Ta},ma_target_ref_db_details:{target_entity_id:Ta,db_name:Ga(Ta),db_code:Ta,db_accession:Ta,seq_db_isoform:Ta,seq_db_align_begin:Ta,seq_db_align_end:Ta,ncbi_taxonomy_id:Ta,organism_scientific:Ta},ma_data:{id:Ua,content_type:Ga(Ta),content_type_other_details:Ta,name:Ta},ma_software_group:{ordinal_id:Ua,group_id:Ua,software_id:Ua},ma_qa_metric:{id:Ua,name:Ta,type:Ga(Ta),mode:Ga(Ta),software_group_id:Ua},ma_qa_metric_global:{ordinal_id:Ua,model_id:Ua,metric_id:Ua,metric_value:Ra},ma_qa_metric_local:{ordinal_id:Ua,model_id:Ua,label_asym_id:Ta,label_seq_id:Ua,label_comp_id:Ta,metric_id:Ua,metric_value:Ra}};!function(t){!function(t){t[t.Int8=1]="Int8",t[t.Int16=2]="Int16",t[t.Int32=3]="Int32",t[t.Uint8=4]="Uint8",t[t.Uint16=5]="Uint16",t[t.Uint32=6]="Uint32"}(t.IntDataType||(t.IntDataType={})),function(t){t[t.Float32=32]="Float32",t[t.Float64=33]="Float64"}(t.FloatDataType||(t.FloatDataType={})),t.getDataType=function(e){return e instanceof Int8Array?t.IntDataType.Int8:e instanceof Int16Array?t.IntDataType.Int16:e instanceof Int32Array?t.IntDataType.Int32:e instanceof Uint8Array?t.IntDataType.Uint8:e instanceof Uint16Array?t.IntDataType.Uint16:e instanceof Uint32Array?t.IntDataType.Uint32:e instanceof Float32Array?t.FloatDataType.Float32:e instanceof Float64Array?t.FloatDataType.Float64:t.IntDataType.Int32},t.isSignedIntegerDataType=function(t){if(t instanceof Int8Array||t instanceof Int16Array||t instanceof Int32Array)return!0;for(var e=0,n=t.length;e<n;e++)if(e<0)return!1;return!0}}(Oa||(Oa={}));new Uint16Array(new Uint8Array([18,52]).buffer)[0];var za,Ya;function Ka(t,e,n){var r,i=1;for(r=0;r<e;r++){var o=i*t;if(Math.abs(Math.round(o)-o)<=n)return r;i*=10}return-1}function Za(t){return za.classify(t)}!function(t){function e(t,e){return t>=0?Math.ceil((t+1)/e):Math.ceil((t+1)/(-e-1))}function n(t,n,r){var i=t.limit8,o=t.limit16;n.pack8+=e(r,i),n.pack16+=e(r,o),n.count+=1}function r(t,n){t.pack8+=e(n,127),t.pack16+=e(n,32767),t.count+=1}function i(t){return 4*t.count<2*t.pack16?{length:4*t.count,elem:4}:2*t.pack16<t.pack8?{length:2*t.pack16,elem:2}:{length:t.pack8,elem:1}}function o(t,e){for(var r={pack8:0,pack16:0,count:0},o=0,a=t.length;o<a;o++)n(e,r,t[o]);return Object(v.a)(Object(v.a)({},i(r)),{kind:"pack"})}function a(t,e){for(var n={pack8:0,pack16:0,count:0},o=t[0],a=1,u=t.length;a<u;a++)r(n,t[a]-o),o=t[a];return Object(v.a)(Object(v.a)({},i(n)),{kind:"delta"})}function u(t,e){for(var r={pack8:0,pack16:0,count:0},o=1,a=1,u=t.length;a<u;a++)t[a-1]!==t[a]?(n(e,r,t[a-1]),n(e,r,o),o=1):o++;return n(e,r,t[t.length-1]),n(e,r,o),Object(v.a)(Object(v.a)({},i(r)),{kind:"rle"})}function s(t,e){for(var n={pack8:0,pack16:0,count:0},o=1,a=0,u=0,s=1,c=t.length;s<c;s++){var l=t[s]-a;u!==l?(r(n,u),r(n,o),o=1):o++,u=l,a=t[s]}return r(n,u),r(n,o),Object(v.a)(Object(v.a)({},i(n)),{kind:"delta-rle"})}function c(t){var e=function(t){for(var e=!1,n=0,r=t.length;n<r;n++)if(t[n]<0){e=!0;break}return e?{signed:e,limit8:127,limit16:32767}:{signed:e,limit8:255,limit16:65535}}(t),n=[o(t,e),u(t,e),a(t),s(t)];return n.sort((function(t,e){return t.length-e.length})),n}t.getSize=c,t.classify=function(t){if(t.length<2)return Xa.by(Xa.byteArray);var e=c(t)[0];switch(e.kind){case"pack":return Xa.by(Xa.integerPacking);case"rle":return Xa.by(Xa.runLength).and(Xa.integerPacking);case"delta":return Xa.by(Xa.delta).and(Xa.integerPacking);case"delta-rle":return Xa.by(Xa.delta).and(Xa.runLength).and(Xa.integerPacking);default:U()}}}(za||(za={})),(Ya||(Ya={})).classify=function(t){var e=function(t,e,n){for(var r=1,i=0,o=0,a=t.length;o<a;o++){if(r>=0){var u=Ka(t[o],e,n);u<0?r=-1:u>r&&(r=u)}var s=Math.abs(t[o]);if(s>n){var c=Math.floor(Math.log10(Math.abs(s)))+1;c>i&&(i=c)}}return{mantissaDigits:r,integerDigits:i}}(t,4,1e-6),n=e.mantissaDigits,r=e.integerDigits;if(n<0||n+r>10)return Xa.by(Xa.byteArray);if(0===n)return za.classify(t);for(var i=function(t){for(var e=1,n=0;n<t;n++)e*=10;return e}(n),o=new Int32Array(t.length),a=0,u=t.length;a<u;a++)o[a]=Math.round(i*t[a]);var s=za.getSize(o)[0],c=Xa.by(Xa.fixedPoint(i));switch(s.kind){case"pack":return c.and(Xa.integerPacking);case"rle":return c.and(Xa.runLength).and(Xa.integerPacking);case"delta":return c.and(Xa.delta).and(Xa.integerPacking);case"delta-rle":return c.and(Xa.delta).and(Xa.runLength).and(Xa.integerPacking);default:U()}};var Wa,Xa,Qa,Ja,$a,tu,eu=function(){function t(t){this.providers=t}return t.prototype.and=function(e){return new t(this.providers.concat([e]))},t.prototype.encode=function(t){for(var e=[],n=0,r=this.providers;n<r.length;n++){var i=(0,r[n])(t);if(!i.encodings.length)throw new Error("Encodings must be non-empty.");t=i.data;for(var o=0,a=i.encodings;o<a.length;o++){var u=a[o];e.push(u)}}if(!(t instanceof Uint8Array))throw new Error("The encoding must result in a Uint8Array. Fix your encoding chain.");return{encoding:e,data:t}},t}();function nu(t){return function(e,n){return n[t].value(e)}}function ru(t){return function(e,n){return n[t].value(e).join(n[t].schema.separator)}}function iu(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return function(n,r){var i;return(i=r[t].schema.space).get.apply(i,Object(v.e)([r[t].value(n)],e,!1))}}function ou(t){return function(e,n){return n[t].valueKind(e)}}function au(t,e){var n=[],r=ou(t);if(1===e.rank)for(var i=e.dimensions[0],o=0;o<i;o++){var a="".concat(t,"[").concat(o+1,"]");n.push({name:a,type:2,value:iu(t,o),valueKind:r})}else if(2===e.rank){i=e.dimensions[0];var u=e.dimensions[1];for(o=0;o<i;o++)for(var s=0;s<u;s++){var c="".concat(t,"[").concat(o+1,"][").concat(s+1,"]");n.push({name:c,type:2,value:iu(t,o,s),valueKind:r})}}else{if(3!==e.rank)throw new Error("Tensors with rank > 3 or rank 0 are currently not supported.");var l=e.dimensions[0],d=e.dimensions[1],f=e.dimensions[2];for(o=0;o<l;o++)for(s=0;s<d;s++)for(var p=0;p<f;p++){var m="".concat(t,"[").concat(o+1,"][").concat(s+1,"][").concat(p+1,"]");n.push({name:m,type:2,value:iu(t,o,s,p),valueKind:r})}}return n}function uu(t){for(var e=[],n=0,r=Object.keys(t);n<r.length;n++){var i=r[n],o=t[i];"int"===o.valueType?e.push({name:i,type:1,value:nu(i),valueKind:ou(i)}):"float"===o.valueType?e.push({name:i,type:2,value:nu(i),valueKind:ou(i)}):"str"===o.valueType?e.push({name:i,type:0,value:nu(i),valueKind:ou(i)}):"list"===o.valueType?e.push({name:i,type:0,value:ru(i),valueKind:ou(i)}):"tensor"===o.valueType?e.push.apply(e,au(i,o.space)):U(o.valueType)}return e}function su(t){return t.fields.some((function(t){return!!t.shouldInclude}))?t.fields.filter((function(e){return!e.shouldInclude||t.source.some((function(t){return e.shouldInclude(t.data)}))})):t.fields}function cu(t,e){var n=t.instance(e),r=n.source.filter((function(t){return t.rowCount>0}));return r.length?{instance:n,rowCount:r.reduce((function(t,e){return t+e.rowCount}),0),source:r.map((function(t){return{data:t.data,keys:function(){return t.keys?t.keys():er.Range(0,t.rowCount-1)},rowCount:t.rowCount}}))}:{instance:n,rowCount:0,source:[]}}!function(t){function e(t){return new eu([t])}function n(t){switch(t.kind){case"ByteArray":return Xa.byteArray;case"FixedPoint":return Xa.fixedPoint(t.factor);case"IntervalQuantization":return Xa.intervalQuantizaiton(t.min,t.max,t.numSteps);case"RunLength":return Xa.runLength;case"Delta":return Xa.delta;case"IntegerPacking":return Xa.integerPacking;case"StringArray":return Xa.stringArray}}t.by=e,t.fromEncoding=function(t){for(var r=e(n(t[0])),i=1;i<t.length;i++)r=r.and(n(t[i]));return r}}(Wa||(Wa={})),function(t){var e,n;t.by=function(t){return new eu([t])};var r=((e={})[Oa.IntDataType.Int16]=function(t,e,n){t.setInt16(2*e,n,!0)},e[Oa.IntDataType.Uint16]=function(t,e,n){t.setUint16(2*e,n,!0)},e[Oa.IntDataType.Int32]=function(t,e,n){t.setInt32(4*e,n,!0)},e[Oa.IntDataType.Uint32]=function(t,e,n){t.setUint32(4*e,n,!0)},e[Oa.FloatDataType.Float32]=function(t,e,n){t.setFloat32(4*e,n,!0)},e[Oa.FloatDataType.Float64]=function(t,e,n){t.setFloat64(8*e,n,!0)},e),i=((n={})[Oa.IntDataType.Int16]=2,n[Oa.IntDataType.Uint16]=2,n[Oa.IntDataType.Int32]=4,n[Oa.IntDataType.Uint32]=4,n[Oa.FloatDataType.Float32]=4,n[Oa.FloatDataType.Float64]=8,n);function o(t){var e=Oa.getDataType(t);if(e===Oa.IntDataType.Int8)return function(t){return{encodings:[{kind:"ByteArray",type:Oa.IntDataType.Int8}],data:new Uint8Array(t.buffer,t.byteOffset)}}(t);if(e===Oa.IntDataType.Uint8)return function(t){return{encodings:[{kind:"ByteArray",type:Oa.IntDataType.Uint8}],data:t}}(t);for(var n=new Uint8Array(t.length*i[e]),o=r[e],a=new DataView(n.buffer),u=0,s=t.length;u<s;u++)o(a,u,t[u]);return{encodings:[{kind:"ByteArray",type:e}],data:n}}function a(t,e){for(var n=0,r=0,i=t.length;r<i;r++)n+=t[r]/e|0;return n+=t.length}function u(t,e){for(var n=-e-1,r=0,i=0,o=t.length;i<o;i++){var a=t[i];r+=a>=0?a/e|0:a/n|0}return r+=t.length}t.byteArray=o,t.fixedPoint=function(t){return function(e){return function(t,e){for(var n=Oa.getDataType(t),r=new Int32Array(t.length),i=0,o=t.length;i<o;i++)r[i]=Math.round(t[i]*e);return{encodings:[{kind:"FixedPoint",factor:e,srcType:n}],data:r}}(e,t)}},t.intervalQuantizaiton=function(t,e,n,r){return void 0===r&&(r=Int32Array),function(i){return function(t,e,n,r,i){var o=Oa.getDataType(t);if(!t.length)return{encodings:[{kind:"IntervalQuantization",min:e,max:n,numSteps:r,srcType:o}],data:new Int32Array(0)};if(n<e){var a=e;e=n,n=a}for(var u=(n-e)/(r-1),s=new i(t.length),c=0,l=t.length;c<l;c++){var d=t[c];s[c]=d<=e?0:d>=n?r-1:0|Math.round((d-e)/u)}return{encodings:[{kind:"IntervalQuantization",min:e,max:n,numSteps:r,srcType:o}],data:s}}(i,t,e,n,r)}},t.runLength=function(t){var e=Oa.getDataType(t);if(void 0===e&&(t=new Int32Array(t),e=Oa.IntDataType.Int32),!t.length)return{encodings:[{kind:"RunLength",srcType:e,srcSize:0}],data:new Int32Array(0)};for(var n=2,r=1,i=t.length;r<i;r++)t[r-1]!==t[r]&&(n+=2);var o=new Int32Array(n),a=0,u=1;for(r=1,i=t.length;r<i;r++)t[r-1]!==t[r]?(o[a]=t[r-1],o[a+1]=u,u=1,a+=2):++u;return o[a]=t[t.length-1],o[a+1]=u,{encodings:[{kind:"RunLength",srcType:e,srcSize:t.length}],data:o}},t.delta=function(t){if(!Oa.isSignedIntegerDataType(t))throw new Error("Only signed integer types can be encoded using delta encoding.");var e=Oa.getDataType(t);if(void 0===e&&(t=new Int32Array(t),e=Oa.IntDataType.Int32),!t.length)return{encodings:[{kind:"Delta",origin:0,srcType:e}],data:new t.constructor(0)};var n=new t.constructor(t.length),r=t[0];n[0]=t[0];for(var i=1,o=t.length;i<o;i++)n[i]=t[i]-t[i-1];return n[0]=0,{encodings:[{kind:"Delta",origin:r,srcType:e}],data:n}},t.integerPacking=function(t){var e=function(t){var e=function(t){for(var e=0,n=t.length;e<n;e++)if(t[e]<0)return!0;return!1}(t),n=e?u(t,127):a(t,255),r=e?u(t,32767):a(t,65535);return 4*t.length<2*r?{isSigned:e,size:t.length,bytesPerElement:4}:2*r<n?{isSigned:e,size:r,bytesPerElement:2}:{isSigned:e,size:n,bytesPerElement:1}}(t);return 4===e.bytesPerElement?o(t):function(t,e){for(var n=e.isSigned?1===e.bytesPerElement?127:32767:1===e.bytesPerElement?255:65535,r=-n-1,i=t.length,a=e.isSigned?1===e.bytesPerElement?new Int8Array(e.size):new Int16Array(e.size):1===e.bytesPerElement?new Uint8Array(e.size):new Uint16Array(e.size),u=0,s=0;s<i;s++){var c=t[s];if(c>=0)for(;c>=n;)a[u]=n,++u,c-=n;else for(;c<=r;)a[u]=r,++u,c-=r;a[u]=c,++u}var l=o(a);return{encodings:[{kind:"IntegerPacking",byteCount:e.bytesPerElement,isUnsigned:!e.isSigned,srcSize:i},l.encodings[0]],data:l.data}}(t,e)},t.stringArray=function(t){var e=Object.create(null),n=[],r=new Int32Array(t.length),i=nt.create(Int32Array,1,Math.min(1024,t.length<32?t.length+1:Math.round(t.length/8)+1));nt.add(i,0);for(var o=0,a=0,u=0,s=t;u<s.length;u++){var c=s[u];if(null!=c){var l=e[c];void 0===l&&(o+=c.length,n[l=n.length]=c,e[c]=l,nt.add(i,o)),r[a++]=l}else r[a++]=-1}var d=nt.compact(i),f=Za(d).encode(d),p=Za(r).encode(r);return{encodings:[{kind:"StringArray",dataEncoding:p.encoding,stringData:n.join(""),offsetEncoding:f.encoding,offsets:f.data}],data:p.data}}}(Xa||(Xa={})),function(t){function e(t,e,n){return{name:t,type:1,value:e,valueKind:n&&n.valueKind,defaultFormat:n?{encoder:n.encoder,typedArray:n.typedArray}:void 0,shouldInclude:n&&n.shouldInclude}}t.str=function(t,e,n){return{name:t,type:0,value:e,valueKind:n&&n.valueKind,defaultFormat:n&&n.encoder?{encoder:n.encoder}:void 0,shouldInclude:n&&n.shouldInclude}},t.int=e,t.float=function(t,e,n){return{name:t,type:2,value:e,valueKind:n&&n.valueKind,defaultFormat:n?{encoder:n.encoder,typedArray:n.typedArray,digitCount:void 0!==n.digitCount?n.digitCount:void 0}:void 0,shouldInclude:n&&n.shouldInclude}},t.index=function(t){return e(t,(function(t,e,n){return n+1}),{typedArray:Int32Array,encoder:Xa.by(Xa.delta).and(Xa.runLength).and(Xa.integerPacking)})};var n=function(){function e(){this.fields=[]}return e.prototype.index=function(e){return this.fields.push(t.index(e)),this},e.prototype.str=function(e,n,r){return this.fields.push(t.str(e,n,r)),this},e.prototype.int=function(e,n,r){return this.fields.push(t.int(e,n,r)),this},e.prototype.vec=function(e,n,r){for(var i=0;i<n.length;i++)this.fields.push(t.int("".concat(e,"[").concat(i+1,"]"),n[i],r));return this},e.prototype.float=function(e,n,r){return this.fields.push(t.float(e,n,r)),this},e.prototype.many=function(t){for(var e=0;e<t.length;e++)this.fields.push(t[e]);return this},e.prototype.add=function(t){return this.fields.push(t),this},e.prototype.getFields=function(){return this.fields},e}();t.Builder=n,t.build=function(){return new n}}(Qa||(Qa={})),($a=Ja||(Ja={})).Empty={fields:[],source:[]},$a.filterOf=function(t){for(var e=[],n=[],r=[],i=[],o=0,a=t.split(/[\r\n]+/);o<a.length;o++){var u=a[o];if(0!==(u=u.trim()).length){var s=/^!/.test(u);s&&(u=u.substr(1));var c=u.split(/\./),l=c[1],d=s?l?i:n:l?r:e;d[d.length]=u,l&&!e.includes(c[0])&&(e[e.length]=c[0])}}var f=r.map((function(t){return t.split(".")[0]}));return{includeCategory:function(t){return!n.includes(t)&&(e.length<=0||-1!==e.indexOf(t))},includeField:function(t,e){var n=t+"."+e;return!i.includes(n)&&(!f.includes(t)||r.includes(n))}}},$a.DefaultFilter={includeCategory:function(t){return!0},includeField:function(t,e){return!0}},$a.DefaultFormatter={getFormat:function(t,e){}},$a.ofTable=function(t,e){return e?{fields:uu(t._schema),source:[{data:t,rowCount:e.length,keys:function(){return er.Array(e)}}]}:{fields:uu(t._schema),source:[{data:t,rowCount:t._rowCount}]}},function(t){function e(t,e,n){t.startDataBlock(e);for(var r=function(e){t.writeCategory({name:e,instance:function(){return Ja.ofTable(n[e])}})},i=0,o=n._tableNames;i<o.length;i++){r(o[i])}}t.writeDatabase=e,t.writeDatabaseCollection=function(t,n){for(var r=0,i=Object.keys(n);r<i.length;r++){var o=i[r];e(t,o,n[o])}}}(tu||(tu={}));var lu=function(){function t(){this.builder=Ot.create(),this.encoded=!1,this.dataBlockCreated=!1,this.filter=Ja.DefaultFilter,this.formatter=Ja.DefaultFormatter,this.isBinary=!1,this.binaryEncodingProvider=void 0}return t.prototype.setFilter=function(t){this.filter=t||Ja.DefaultFilter},t.prototype.isCategoryIncluded=function(t){return this.filter.includeCategory(t)},t.prototype.setFormatter=function(t){this.formatter=t||Ja.DefaultFormatter},t.prototype.startDataBlock=function(t){this.dataBlockCreated=!0,Ot.write(this.builder,"data_".concat((t||"").replace(/[ \n\t]/g,"").toUpperCase(),"\n#\n"))},t.prototype.writeCategory=function(t,e,n){if(this.encoded)throw new Error("The writer contents have already been encoded, no more writing.");if(!this.dataBlockCreated)throw new Error("No data block created.");if((null==n?void 0:n.ignoreFilter)||this.filter.includeCategory(t.name)){var r=cu(t,e),i=r.instance,o=r.rowCount,a=r.source;o&&(1===o?function(t,e,n,r,i,o){var a=su(e),u=n[0],s=u.data,c=a.reduce((function(e,n){return i.includeField(t.name,n.name)?Math.max(e,n.name.length):0}),0);if(0===c)return;c+=t.name.length+6;for(var l=u.keys().move(),d=fu(t.name,e.fields,o),f=0;f<a.length;f++){var p=a[f];if(i.includeField(t.name,p.name))Ot.writePadRight(r,"_".concat(t.name,".").concat(p.name),c),du(r,s,l,p,d[f],0)||Ot.newline(r)}Ot.write(r,"#\n")}(t,i,a,this.builder,this.filter,this.formatter):function(t,e,n,r,i,o){var a=su(e),u=i===Ja.DefaultFilter?a:a.filter((function(e){return i.includeField(t.name,e.name)})),s=u.length;if(0===s)return;var c=fu(t.name,u,o);pu(r,"loop_");for(var l=0;l<s;l++)pu(r,"_".concat(t.name,".").concat(u[l].name));for(var d=0,f=0;f<n.length;f++){var p=n[f],m=p.data;if(0!==p.rowCount)for(var h=p.keys();h.hasNext;){for(var g=h.move(),v=!1,y=0;y<s;y++)v=du(r,m,g,u[y],c[y],d);v||Ot.newline(r),d++}}Ot.write(r,"#\n")}(t,i,a,this.builder,this.filter,this.formatter))}},t.prototype.encode=function(){this.encoded=!0},t.prototype.writeTo=function(t){for(var e=Ot.getChunks(this.builder),n=0,r=e.length;n<r;n++)t.writeString(e[n])},t.prototype.getSize=function(){return Ot.getSize(this.builder)},t.prototype.getData=function(){return Ot.getString(this.builder)},t}();function du(t,e,n,r,i,o){var a,u=r.valueKind,s=u?u(n,e):0;if(0!==s)1===s?function(t){Ot.writeSafe(t,". ")}(t):function(t){Ot.writeSafe(t,"? ")}(t);else{var c=r.value(n,e,o),l=r.type;if(0===l)return"string"==typeof(a=c)&&a.indexOf("\n")>=0?(mu(t,c),!0):function(t,e){if(!e)return Ot.writeSafe(t,". "),!1;for(var n=e.charCodeAt(0),r=!1,i=0,o=!1,a=!1,u=0,s=e.length-1;u<=s;u++){switch(e.charCodeAt(u)){case 9:r=!0;break;case 10:return mu(t,e),!0;case 32:r=!0;break;case 34:if(u&&u===s)break;if(o)return mu(t,e),!0;a=!0,r=!0,i=0;break;case 39:if(u&&u===s)break;if(a)return mu(t,e),!0;o=!0,r=!0,i=1}}r||35!==n&&36!==n&&59!==n&&91!==n&&93!==n&&95!==n||(r=!0);r?(Ot.writeSafe(t,i?'"':"'"),Ot.writeSafe(t,e),Ot.writeSafe(t,i?'" ':"' ")):(Ot.writeSafe(t,e),Ot.writeSafe(t," "));return!1}(t,c);1===l?function(t,e){Ot.writeInteger(t,e),Ot.whitespace1(t)}(t,c):function(t,e,n){Ot.writeFloat(t,e,n),Ot.whitespace1(t)}(t,c,i)}return!1}function fu(t,e,n){for(var r,i=[],o=0,a=e;o<a.length;o++){var u=a[o],s=n.getFormat(t,u.name);s&&void 0!==s.digitCount?i[i.length]=2===u.type?Math.pow(10,Math.max(0,Math.min(s.digitCount,15))):0:i[i.length]=2===u.type?Math.pow(10,(r=u).defaultFormat&&void 0!==r.defaultFormat.digitCount?Math.max(0,Math.min(r.defaultFormat.digitCount,16)):6):0}return i}function pu(t,e){Ot.write(t,e),Ot.newline(t)}function mu(t,e){Ot.writeSafe(t,"\n;"+e),Ot.writeSafe(t,"\n;\n")}function hu(t,e,n){for(var r=0,i=n.length;r<i;r++){var o=n.charCodeAt(r);if(o<128)t[e++]=o>>>0&127|0;else if(o<2048)t[e++]=o>>>6&31|192,t[e++]=o>>>0&63|128;else if(o<65536)t[e++]=o>>>12&15|224,t[e++]=o>>>6&63|128,t[e++]=o>>>0&63|128;else{if(!(o<1114112))throw new Error("bad codepoint "+o);t[e++]=o>>>18&7|240,t[e++]=o>>>12&63|128,t[e++]=o>>>6&63|128,t[e++]=o>>>0&63|128}}}var gu=function(){for(var t=[],e=0;e<1024;e++)t[e]=String.fromCharCode(e);return t}();function vu(t){throw new Error(t)}var yu="undefined"!=typeof TextDecoder?new TextDecoder:void 0;function _u(t,e,n){if(yu){var r=e||n!==t.length?t.subarray(e,e+n):t;return yu.decode(r)}return function(t,e,n){for(var r=gu,i=void 0,o=0,a=[],u=e,s=e+n;u<s;u++){var c=t[u];0==(128&c)?a[o++]=r[c]:192==(224&c)?a[o++]=r[(15&c)<<6|63&t[++u]]:224==(240&c)?a[o++]=String.fromCharCode((15&c)<<12|(63&t[++u])<<6|(63&t[++u])<<0):240==(248&c)?a[o++]=String.fromCharCode((7&c)<<18|(63&t[++u])<<12|(63&t[++u])<<6|(63&t[++u])<<0):vu("Invalid byte "+c.toString(16)),512===o&&((i=i||[])[i.length]=a.join(""),o=0)}return i?(o>0&&(i[i.length]=a.slice(0,o).join("")),i.join("")):a.slice(0,o).join("")}(t,e,n)}function bu(t){for(var e=0,n=0,r=t.length;n<r;n++){var i=t.charCodeAt(n);i<128?e+=1:i<2048?e+=2:i<65536?e+=3:i<1114112?e+=4:vu("bad codepoint "+i)}return e}function xu(t){var e=new ArrayBuffer(function t(e){var n=typeof e;if("string"===n){var r=bu(e);if(r<32)return 1+r;if(r<256)return 2+r;if(r<65536)return 3+r;if(r<4294967296)return 5+r}if(e instanceof Uint8Array){var i=e.byteLength;if(i<256)return 2+i;if(i<65536)return 3+i;if(i<4294967296)return 5+i}if("number"===n){if(Math.floor(e)!==e)return 9;if(e>=0){if(e<128)return 1;if(e<256)return 2;if(e<65536)return 3;if(e<4294967296)return 5;throw new Error("Number too big 0x"+e.toString(16))}if(e>=-32)return 1;if(e>=-128)return 2;if(e>=-32768)return 3;if(e>=-2147483648)return 5;throw new Error("Number too small -0x"+e.toString(16).substr(1))}if("boolean"===n||null==e)return 1;if("object"===n){var o,a=0;if(Array.isArray(e)){o=e.length;for(var u=0;u<o;u++)a+=t(e[u])}else{var s=Object.keys(e);o=s.length;for(u=0;u<o;u++){var c=s[u];a+=t(c)+t(e[c])}}if(o<16)return 1+a;if(o<65536)return 3+a;if(o<4294967296)return 5+a;throw new Error("Array or object too long 0x"+o.toString(16))}throw new Error("Unknown type "+n)}(t)),n=new DataView(e),r=new Uint8Array(e);return function t(e,n,r,i){var o=typeof e;if("string"===o){var a=bu(e);if(a<32)return n.setUint8(i,160|a),hu(r,i+1,e),1+a;if(a<256)return n.setUint8(i,217),n.setUint8(i+1,a),hu(r,i+2,e),2+a;if(a<65536)return n.setUint8(i,218),n.setUint16(i+1,a),hu(r,i+3,e),3+a;if(a<4294967296)return n.setUint8(i,219),n.setUint32(i+1,a),hu(r,i+5,e),5+a}if(e instanceof Uint8Array){var u=e.byteLength,s=new Uint8Array(n.buffer);if(u<256)return n.setUint8(i,196),n.setUint8(i+1,u),s.set(e,i+2),2+u;if(u<65536)return n.setUint8(i,197),n.setUint16(i+1,u),s.set(e,i+3),3+u;if(u<4294967296)return n.setUint8(i,198),n.setUint32(i+1,u),s.set(e,i+5),5+u}if("number"===o){if(!isFinite(e))throw new Error("Number not finite: "+e);if(Math.floor(e)!==e)return n.setUint8(i,203),n.setFloat64(i+1,e),9;if(e>=0){if(e<128)return n.setUint8(i,e),1;if(e<256)return n.setUint8(i,204),n.setUint8(i+1,e),2;if(e<65536)return n.setUint8(i,205),n.setUint16(i+1,e),3;if(e<4294967296)return n.setUint8(i,206),n.setUint32(i+1,e),5;throw new Error("Number too big 0x"+e.toString(16))}if(e>=-32)return n.setInt8(i,e),1;if(e>=-128)return n.setUint8(i,208),n.setInt8(i+1,e),2;if(e>=-32768)return n.setUint8(i,209),n.setInt16(i+1,e),3;if(e>=-2147483648)return n.setUint8(i,210),n.setInt32(i+1,e),5;throw new Error("Number too small -0x"+(-e).toString(16).substr(1))}if(null==e)return n.setUint8(i,192),1;if("boolean"===o)return n.setUint8(i,e?195:194),1;if("object"===o){var c,l=0,d=Array.isArray(e),f=void 0;if(d?c=e.length:(f=Object.keys(e),c=f.length),c<16?(n.setUint8(i,c|(d?144:128)),l=1):c<65536?(n.setUint8(i,d?220:222),n.setUint16(i+1,c),l=3):c<4294967296&&(n.setUint8(i,d?221:223),n.setUint32(i+1,c),l=5),d)for(var p=0;p<c;p++)l+=t(e[p],n,r,i+l);else{p=0;for(var m=f.length;p<m;p++){var h=f[p];l+=t(h,n,r,i+l),l+=t(e[h],n,r,i+l)}}return l}throw new Error("Unknown type "+o)}(t,n,r,0),r}var Au,wu,Su,Cu=function(){function t(t,e,n){this.autoClassify=n,this.dataBlocks=[],this.filter=Ja.DefaultFilter,this.formatter=Ja.DefaultFormatter,this.isBinary=!0,this.binaryEncodingProvider=void 0,this.binaryEncodingProvider=e,this.data={encoder:t,version:"0.3.0",dataBlocks:this.dataBlocks}}return t.prototype.setFilter=function(t){this.filter=t||Ja.DefaultFilter},t.prototype.isCategoryIncluded=function(t){return this.filter.includeCategory(t)},t.prototype.setFormatter=function(t){this.formatter=t||Ja.DefaultFormatter},t.prototype.startDataBlock=function(t){this.dataBlocks.push({header:(t||"").replace(/[ \n\t]/g,"").toUpperCase(),categories:[]})},t.prototype.writeCategory=function(t,e,n){if(!this.data)throw new Error("The writer contents have already been encoded, no more writing.");if(!this.dataBlocks.length)throw new Error("No data block created.");if((null==n?void 0:n.ignoreFilter)||this.filter.includeCategory(t.name)){var r=cu(t,e),i=r.instance,o=r.rowCount,a=r.source;if(o){for(var u={name:"_"+t.name,columns:[],rowCount:o},s=0,c=su(i);s<c.length;s++){var l=c[s];if(this.filter.includeField(t.name,l.name)){var d=this.formatter.getFormat(t.name,l.name);u.columns.push(Iu(t.name,l,a,o,d,this.binaryEncodingProvider,this.autoClassify))}}u.columns.length&&this.dataBlocks[this.dataBlocks.length-1].categories.push(u)}}},t.prototype.encode=function(){this.encodedData||(this.encodedData=xu(this.data),this.data=null,this.dataBlocks=null)},t.prototype.writeTo=function(t){t.writeBinary(this.encodedData)},t.prototype.getData=function(){return this.encode(),this.encodedData},t.prototype.getSize=function(){return this.encodedData.length},t}();function Bu(t,e){return 0===t?Wa.by(Xa.stringArray):1===t?Za(e):(n=e,Ya.classify(n));var n}function Iu(t,e,n,r,i,o,a){var u=function(t,e,n,r){for(var i=0===t.type,o=new e(n),a=new Uint8Array(n),u=t.valueKind,s=t.value,c=!0,l=0,d=0;d<r.length;d++)for(var f=r[d].data,p=r[d].keys();p.hasNext;){var m=p.move(),h=u?u(m,f):0;if(0!==h)a[l]=h,i&&(o[l]=""),c=!1;else{var g=s(m,f,l);"string"!=typeof g||g?a[l]=0:(a[l]=1,c=!1),o[l]=g}l++}return{array:o,allPresent:c,mask:a}}(e,function(t,e){return e&&e.typedArray?e.typedArray:t.defaultFormat&&t.defaultFormat.typedArray?t.defaultFormat.typedArray:0===t.type?Array:1===t.type?Int32Array:Float64Array}(e,i),r,n),s=u.array,c=u.allPresent,l=u.mask,d=function(t,e,n,r){return n&&n.encoder?n.encoder:e.defaultFormat&&e.defaultFormat.encoder?e.defaultFormat.encoder:r?r.get(t,e.name):void 0}(t,e,i,o);d||(a?d=Bu(e.type,s):d=0===e.type?Wa.by(Xa.stringArray):Wa.by(Xa.byteArray));var f=d.encode(s),p=void 0;if(!c){var m=Wa.by(Xa.runLength).and(Xa.byteArray).encode(l);p=m.data.length<l.length?m:Wa.by(Xa.byteArray).encode(l)}return{name:e.name,data:f,mask:p}}!function(t){t.Encoder=tu,t.Category=Ja,t.Field=Qa,t.Encoding=Xa,t.createEncoder=function(t){var e=t||{},n=e.binary,r=void 0!==n&&n,i=e.encoderName;return r?new Cu(void 0===i?"mol*":i,t?t.binaryEncodingPovider:void 0,!!t&&!!t.binaryAutoClassifyEncoding):new lu},t.fields=function(){return t.Field.build()};var e=t.Encoding;function n(t){var n=t.precision;if(void 0!==n){var r=Math.pow(10,n),i=e.by(e.fixedPoint(r));switch(t.encoding){case"pack":return i.and(e.integerPacking);case"rle":return i.and(e.runLength).and(e.integerPacking);case"delta":return i.and(e.delta).and(e.integerPacking);case"delta-rle":return i.and(e.delta).and(e.runLength).and(e.integerPacking)}}else switch(t.encoding){case"pack":return e.by(e.integerPacking);case"rle":return e.by(e.runLength).and(e.integerPacking);case"delta":return e.by(e.delta).and(e.integerPacking);case"delta-rle":return e.by(e.delta).and(e.runLength).and(e.integerPacking)}throw new Error("cannot be reached")}t.Encodings={deltaRLE:e.by(e.delta).and(e.runLength).and(e.integerPacking),fixedPoint2:e.by(e.fixedPoint(100)).and(e.delta).and(e.integerPacking),fixedPoint3:e.by(e.fixedPoint(1e3)).and(e.delta).and(e.integerPacking)},t.categoryInstance=function(t,e){return{fields:t,source:[e]}},t.createEncodingProviderFromCifFrame=function(t){return{get:function(e,n){var r=t.categories[e];if(r){var i=r.getField(n);return i&&i.binaryEncoding?Wa.fromEncoding(i.binaryEncoding):void 0}}}},t.createEncodingProviderFromJsonConfig=function(t){return{get:function(e,r){for(var i=0;i<t.length;i++){var o=t[i];if(o.categoryName===e&&o.columnName===r)return n(o)}}}}}(Au||(Au={})),function(t){t.Descriptor={name:"chem_comp_bond",cifExport:{prefix:"",categories:[{name:"chem_comp_bond",instance:function(e){var n=t.Provider.get(e.firstModel);if(!n)return Au.Category.Empty;var r=n.data;if(!r)return Au.Category.Empty;for(var i=e.structures[0].uniqueResidueNames,o=r.comp_id,a=r._rowCount,u=[],s=0;s<a;s++)i.has(o.value(s))&&(u[u.length]=s);return Au.Category.ofTable(r,u)}}]}},t.Provider=Jr.create(t.Descriptor),t.chemCompBondFromTable=function(t,e){return Xt.pick(e,Va.chem_comp_bond,(function(n){return t.properties.chemicalComponentMap.has(e.comp_id.value(n))}))},t.getEntriesFromChemCompBond=function(t){var n=new Map;function r(t){if(n.has(t))return n.get(t);var r=new e(t);return n.set(t,r),r}for(var i=t.comp_id,o=t.atom_id_1,a=t.atom_id_2,u=t.value_order,s=t.pdbx_aromatic_flag,c=t._rowCount,l=t.pdbx_ordinal,d=r(i.value(0)),f=0;f<c;f++){var p=i.value(f),m=o.value(f),h=a.value(f),g=u.value(f),v="y"===s.value(f),y=l.value(f);d.id!==p&&(d=r(p));var _=1,b=1;switch(v&&(_|=16),g.toLowerCase()){case"delo":_|=16;break;case"doub":b=2;break;case"trip":b=3;break;case"quad":b=4}d.add(m,h,b,_,y)}return n};var e=function(){function t(t){this.id=t,this.map=new Map}return t.prototype.add=function(t,e,n,r,i,o){void 0===o&&(o=!0);var a=this.map.get(t);if(void 0!==a){void 0===a.get(e)&&a.set(e,{order:n,flags:r,key:i})}else{var u=new Map;u.set(e,{order:n,flags:r,key:i}),this.map.set(t,u)}o&&this.add(e,t,n,r,i,!1)},t}();t.Entry=e}(wu||(wu={})),function(t){function e(t,e){for(var n=t.units,r=0,i=n.length;r<i;r++)if(sn.indexOf(n[r].elements,e)>=0)return!0;return!1}t.Descriptor={name:"struct_conn",cifExport:{prefix:"",categories:[{name:"struct_conn",instance:function(n){var r=t.Provider.get(n.firstModel);if(!r||0===r.entries.length)return Au.Category.Empty;for(var i=n.structures[0],o=[],a=0,u=r.entries;a<u.length;a++){var s=u[a];e(i,s.partnerA.atomIndex)&&e(i,s.partnerB.atomIndex)&&(o[o.length]=s.rowIndex)}return Au.Category.ofTable(r.data,o)}}]}},t.Provider=Jr.create(t.Descriptor),t.isExhaustive=function(e){var n=t.Provider.get(e);return!!n&&n.data.id.rowCount/e.atomicConformation.atomId.rowCount>.95},t.getAtomIndexFromEntries=function(t){for(var e=new Map,n=0,r=t;n<r.length;n++){var i=r[n],o=i.partnerA.atomIndex,a=i.partnerB.atomIndex;e.has(o)?e.get(o).push(i):e.set(o,[i]),e.has(a)?e.get(a).push(i):e.set(a,[i])}return e},t.getEntriesFromStructConn=function(t,e){for(var n=t.conn_type_id,r=t.pdbx_dist_value,i=t.pdbx_value_order,o={label_asym_id:t.ptnr1_label_asym_id,label_seq_id:t.ptnr1_label_seq_id,auth_seq_id:t.ptnr1_auth_seq_id,label_atom_id:t.ptnr1_label_atom_id,label_alt_id:t.pdbx_ptnr1_label_alt_id,ins_code:t.pdbx_ptnr1_PDB_ins_code,symmetry:t.ptnr1_symmetry},a={label_asym_id:t.ptnr2_label_asym_id,label_seq_id:t.ptnr2_label_seq_id,auth_seq_id:t.ptnr2_auth_seq_id,label_atom_id:t.ptnr2_label_atom_id,label_alt_id:t.pdbx_ptnr2_label_alt_id,ins_code:t.pdbx_ptnr2_PDB_ins_code,symmetry:t.ptnr2_symmetry},u=Array.from(e.entities.data.id.toArray()),s=function(t,n){if(0===n.label_asym_id.valueKind(t)){var r=n.label_asym_id.value(t),i=n.label_atom_id.value(t);if(i)for(var o=n.label_alt_id.value(t),a=0,s=u;a<s.length;a++){var c=s[a],l=e.atomicHierarchy.index.findResidue(c,r,n.auth_seq_id.value(t),n.ins_code.value(t));if(!(l<0)){var d=e.atomicHierarchy.index.findAtomOnResidue(l,i,o);if(!(d<0))return{residueIndex:l,atomIndex:d,symmetry:n.symmetry.value(t)}}}}},c=[],l=0;l<t._rowCount;l++){var d=s(l,o),f=s(l,a);if(void 0!==d&&void 0!==f){var p=n.value(l),m=0,h=1;switch(i.value(l)||""){case"sing":h=1;break;case"doub":h=2;break;case"trip":h=3;break;case"quad":h=4;break;default:h=Da(t.ptnr1_label_comp_id.value(l),t.ptnr1_label_atom_id.value(l),t.ptnr2_label_comp_id.value(l),t.ptnr2_label_atom_id.value(l))}switch(p){case"covale":m=1;break;case"disulf":m=9;break;case"hydrog":m=4;break;case"metalc":m=2}c.push({rowIndex:l,flags:m,order:h,distance:r.value(l),partnerA:d,partnerB:f})}}return c}}(Su||(Su={}));var Pu=C.distance;function Eu(t,e,n,r,i,o,a){for(var u=new Zr.EdgeBuilder(o,t,e),s=new Uint16Array(u.slotCount),c=new Int8Array(u.slotCount),l=new Uint32Array(u.slotCount),d=0,f=u.edgeCount;d<f;d++)u.addNextEdge(),u.assignProperty(s,r[d]),u.assignProperty(c,n[d]),u.assignProperty(l,i[d]);return u.createGraph({flags:s,order:c,key:l},{canRemap:a})}var Mu=C(),ku=C();function Du(t,e,n){return t.conformation.position(e,Mu),t.conformation.position(n,ku),Pu(Mu,ku)}var Ou=new Set;function Nu(t,e){var n=Object(v.a)(Object(v.a)({},_a),e);return n.noCompute||nh.isCoarseGrained(t.model)&&!$r.Provider.get(t.model)&&!Su.isExhaustive(t.model)?ma.Empty:!n.forceCompute&&$r.Provider.get(t.model)?function(t){for(var e=$r.Provider.get(t.model),n=t.elements,r=t.model.atomicHierarchy.atoms.type_symbol,i=t.elements.length,o=e.maxDistance,a=e.bonds,u=a.offset,s=a.b,c=a.edgeProps,l=c.order,d=c.distance,f=c.flag,p=c.key,m=c.operatorA,h=c.operatorB,g=t.model.atomicHierarchy.atomSourceIndex,v=nh.getInvertedAtomSourceIndex(t.model).invertedIndex,y=[],b=[],x=[],A=[],w=[],S=t.conformation.operator.key,C=0;C<i;C++)for(var B=n[C],I=Sa(r.value(B)),P=Pa(I),E=g.value(B),M=u[E],k=u[E+1];M<k;++M){var D=v[s[M]];if(!(B>=D)){var O=sn.indexOf(t.elements,D);if(!(O<0)){var N=m[M],T=h[M];if(!(N>=0&&N!==S||T>=0&&T!==S)){var U=Sa(r.value(D)),R=d[M],L=Du(t,B,D),G=!1;if(R>=0)G=_(L,R,.3);else if(o>=0)G=L<o;else{G=L<Ba(I,U,Ca(I),Ca(U)),P&&Pa(U)&&(G=!1)}G&&(y[y.length]=C,b[b.length]=O,A[A.length]=l[M],x[x.length]=f[M],w[w.length]=p[M])}}}}return Eu(y,b,A,x,w,i,!1)}(t):function(t,e){for(var n=e.maxRadius,r=t.model.atomicConformation,i=r.x,o=r.y,a=r.z,u=t.elements.length,s=t.elements,c=t.residueIndex,l=t.chainIndex,d=t.model.atomicHierarchy.atoms,f=d.type_symbol,p=d.label_atom_id,m=d.label_alt_id,h=d.label_comp_id,g=t.model.atomicHierarchy.residues.label_seq_id,v=t.model.atomicHierarchy.index,y=t.model.sequence.byEntityKey,_=t.lookup3d,b=Su.Provider.get(t.model),x=wu.Provider.get(t.model),A=Su.isExhaustive(t.model),w=[],S=[],C=[],B=[],I=[],P=-1,E=void 0,M=!0,k=!0,D=!0,O=Ou,N=0;N<u;N++){var T=s[N],U=f.value(T);M&&"H"!==U&&"O"!==U&&(M=!1);var R=e.forceCompute?void 0:b&&b.byAtomIndex.get(T),L=!1;if(R)for(var G=0,F=R;G<F.length;G++){var q=F[G],j=q.partnerA,H=q.partnerB;if(j.symmetry===H.symmetry){var V=j.atomIndex===T?H:j;(ut=sn.indexOf(t.elements,V.atomIndex))<0||s[ut]<T||(w[w.length]=N,S[S.length]=ut,C[C.length]=q.flags,B[B.length]=q.order,I[I.length]=q.rowIndex,L||O.clear(),L=!0,O.add(ut))}}if(!A){var z=c[T],Y=g.value(z),K=h.value(T);if(!e.forceCompute&&z!==P)if(x&&x.entries.has(K)){var Z=y[v.getEntityFromChain(l[T])];E=Z&&Z.sequence.microHet.has(Y)?void 0:x.entries.get(K).map}else E=void 0;P=z;for(var W=Sa(U),X=p.value(T),Q=E?E.get(X):void 0,J=_.find(i[T],o[T],a[T],n),$=J.indices,tt=J.count,et=J.squaredDistances,nt=Pa(W),rt=Ca(W),it=m.value(T),ot=wa.has(W),at=0;at<tt;at++){var ut=$[at];if(!L||!O.has(ut)){var st=s[ut];if(!(st<=T)){var ct=m.value(st);if(!it||!ct||it===ct){var lt=Sa(f.value(st)),dt=Pa(lt);if(!nt||!dt){var ft=(ot||wa.has(lt))&&!(nt||dt),pt=c[st];if(z===pt&&Q){var mt=Q.get(p.value(st));if(mt){w[w.length]=N,S[S.length]=ut,B[B.length]=mt.order;var ht=mt.flags;ft&&(1|ht&&(ht^=1),ht|=2),C[C.length]=ht,I[I.length]=mt.key}}else{var gt=Math.sqrt(et[at]);if(0!==gt)if(gt<=Ba(W,lt,rt,Ca(lt))){w[w.length]=N,S[S.length]=ut,B[B.length]=Ma(K,X,p.value(st)),C[C.length]=32|(ft?2:1),I[I.length]=-1;var vt=g.value(pt);Y===vt&&(k=!1),Math.abs(Y-vt)>1&&(D=!1)}}}}}}}}}return Eu(w,S,B,C,I,u,M||k&&D)}(t,n)}var Tu=C.distance,Uu=C.set,Ru=C.squaredDistance,Lu=C.transformMat4,Gu=C(),Fu=C();function qu(t,e,n,r){return t.conformation.position(e,Gu),n.conformation.position(r,Fu),Tu(Gu,Fu)}var ju=D(),Hu=C();var Vu,zu=Object(v.a)(Object(v.a)({},_a),{ignoreWater:!0,ignoreIon:!0});function Yu(t,e){var n=new pa.Builder,r=t.models.some((function(t){return $r.Provider.get(t)})),i=t.models.some((function(t){return Su.isExhaustive(t)}));return e.noCompute||t.isCoarseGrained&&!r&&!i||pp.eachUnitPair(t,(function(t,r){!function(t,e,n,r){var i=n.maxRadius,o=t.elements,a=t.residueIndex,u=t.model.atomicConformation,s=u.x,c=u.y,l=u.z,d=e.elements,f=e.residueIndex,p=t.elements.length,m=t.model.atomicHierarchy.atoms,h=m.type_symbol,g=m.label_alt_id,v=m.label_atom_id,y=m.label_comp_id,b=e.model.atomicHierarchy.atoms,x=b.type_symbol,A=b.label_alt_id,w=b.label_atom_id,S=b.label_comp_id,C=t.model.atomicHierarchy.residues.auth_seq_id,B=e.model.atomicHierarchy.residues.auth_seq_id,I=t.model.atomicConformation.occupancy,P=e.model.atomicConformation.occupancy,E=I.isDefined&&P.isDefined,M=t.model===e.model&&Su.Provider.get(t.model),k=!n.forceCompute&&t.model===e.model&&$r.Provider.get(t.model),O=t.model.atomicHierarchy.atomSourceIndex,N=(k?nh.getInvertedAtomSourceIndex(e.model):{invertedIndex:void 0}).invertedIndex,T=t.model===e.model&&Su.isExhaustive(t.model),U=D.mul(ju,e.conformation.operator.inverse,t.conformation.operator.matrix),R=!D.isIdentity(U),L=e.boundary.sphere,G=L.center,F=L.radius,q=(F+i)*(F+i);r.startUnitPair(t.id,e.id);for(var j=t.conformation.operator.key,H=e.conformation.operator.key,V=0;V<p;V++){var z=o[V];if(Uu(Hu,s[z],c[z],l[z]),R&&Lu(Hu,Hu,U),!(Ru(Hu,G)>q))if(n.forceCompute||!k){var Y=n.forceCompute?void 0:M&&M.byAtomIndex.get(z);if(Y&&Y.length){for(var K=!1,Z=0,W=Y;Z<W.length;Z++){var X=W[Z],Q=X.partnerA,J=X.partnerB,$=Q.atomIndex===z?J:Q;(Ot=sn.indexOf(e.elements,$.atomIndex))<0||(qu(t,z,e,$.atomIndex)>i||(r.add(V,Ot,{order:X.order,flag:X.flags,key:X.rowIndex}),K=!0))}if(K)continue}if(!T){var tt=I.value(z),et=e.lookup3d.find(Hu[0],Hu[1],Hu[2],i),nt=et.indices,rt=et.count,it=et.squaredDistances;if(0!==rt)for(var ot=Sa(h.value(z)),at=Pa(ot),ut=Ca(ot),st=g.value(z),ct=wa.has(ot),lt=v.value(z),dt=y.value(a[z]),ft=0;ft<rt;ft++){Nt=d[Ot=nt[ft]];var pt=A.value(Nt);if((!st||!pt||st===pt)&&!(E&&P.value(Nt)<1&&tt<1&&C.value(z)===B.value(Nt))){var mt=Pa(Rt=Sa(x.value(Nt)));if(!at||!mt){var ht=(ct||wa.has(Rt))&&!(at||mt);if(0!==(Gt=Math.sqrt(it[ft])))if(Gt<=Ba(ot,Rt,ut,Ca(Rt))){var gt=w.value(Nt),vt=S.value(f[Nt]);r.add(V,Ot,{order:Da(dt,vt,lt,gt),flag:32|(ht?2:1),key:-1})}}}}}}else for(var yt=k.maxDistance,_t=k.bonds,bt=_t.offset,xt=_t.b,At=_t.edgeProps,wt=At.order,St=At.distance,Ct=At.flag,Bt=At.key,It=At.operatorA,Pt=At.operatorB,Et=O.value(z),Mt=Sa(h.value(z)),kt=bt[Et],Dt=bt[Et+1];kt<Dt;++kt){var Ot,Nt=N[xt[kt]];if(!((Ot=sn.indexOf(e.elements,Nt))<0)){var Tt=It[kt],Ut=Pt[kt];if(!(Tt>=0&&Tt!==j&&Tt!==H||Ut>=0&&Ut!==H&&Ut!==j)){var Rt=Sa(h.value(Nt)),Lt=St[kt],Gt=qu(t,z,e,Nt),Ft=!1;if(Lt>=0)Ft=_(Gt,Lt,.3);else if(yt>=0)Ft=Gt<yt;else{Ft=Gt<Ba(Mt,Rt,Ca(Mt),Ca(Rt)),Pa(Mt)&&Pa(Rt)&&(Ft=!1)}Ft&&r.add(V,Ot,{order:wt[kt],flag:Ct[kt],key:Bt[kt]})}}}}r.finishUnitPair()}(t,r,e,n)}),{maxRadius:e.maxRadius,validUnit:function(t){return e.validUnit(t)},validUnitPair:function(n,r){return e.validUnitPair(t,n,r)}}),new ya(n.getMap())}function Ku(t,e){var n=Object(v.a)(Object(v.a)({},zu),e);return Yu(t,Object(v.a)(Object(v.a)({},n),{validUnit:e&&e.validUnit||function(t){return Us.isAtomic(t)},validUnitPair:e&&e.validUnitPair||function(t,e,r){if(!pp.validUnitPair(t,e,r))return!1;var i=e.model.atomicHierarchy.derived.residue.moleculeType,o=r.model.atomicHierarchy.derived.residue.moleculeType,a=!(Us.isAtomic(e)&&2===i[e.residueIndex[e.elements[0]]]||Us.isAtomic(r)&&2===o[r.residueIndex[r.elements[0]]]),u=!Us.isAtomic(e)||3!==i[e.residueIndex[e.elements[0]]],s=!Us.isAtomic(r)||3!==o[r.residueIndex[r.elements[0]]],c=u&&s;return!(!a&&n.ignoreWater||!c&&n.ignoreIon)||function(t,e){if(t.model!==e.model||!Us.isAtomic(t)||!Us.isAtomic(e))return!1;var n=Su.Provider.get(t.model);if(!n)return!1;for(var r=t.elements.length<e.elements.length?t:e,i=t.elements.length>=e.elements.length?t:e,o=r.elements,a=i.elements,u=sn.indexOf,s=0,c=o.length;s<c;s++){var l=o[s],d=n.byAtomIndex.get(l);if(null==d?void 0:d.length)for(var f=0,p=d;f<p.length;f++){var m=p[f],h=m.partnerA.atomIndex===l?m.partnerB.atomIndex:m.partnerA.atomIndex;if(u(a,h)>=0)return!0}}return!1}(e,r)}}))}function Zu(t){for(var e=function(t,e){return{startVertex:0,endVertex:0,count:0,isRingAtom:new Int32Array(e),marked:new Int32Array(e),queue:new Int32Array(e),pred:new Int32Array(e),depth:new Int32Array(e),left:new Int32Array(5),right:new Int32Array(5),color:new Int32Array(e),currentColor:0,currentAltLoc:"",hasAltLoc:!1,rings:[],currentRings:[],unit:t,bonds:t.bonds,altLoc:t.model.atomicHierarchy.atoms.label_alt_id}}(t,function(t){var e=Wn.transientSegments(t.model.atomicHierarchy.residueAtomSegments,t.elements),n=0;for(;e.hasNext;){var r=e.move();n=Math.max(n,r.end-r.start)}return n}(t)),n=Wn.transientSegments(t.model.atomicHierarchy.residueAtomSegments,t.elements);n.hasNext;){var r=n.move();Ju(e,r.start,r.end)}return e.rings}function Wu(t){t.count=t.endVertex-t.startVertex;for(var e=t.isRingAtom,n=t.pred,r=t.color,i=t.depth,o=t.marked,a=0;a<t.count;a++)e[a]=0,n[a]=-1,o[a]=-1,r[a]=0,i[a]=0;t.currentColor=0,t.currentAltLoc="",t.hasAltLoc=!1}function Xu(t){for(var e=t.depth,n=0;n<t.count;n++)e[n]=t.count+1}function Qu(t,e){var n=t.bonds.offset,r=t.startVertex+e,i=n[r],o=n[r+1]-i;return!(o<=1||t.isRingAtom[e]&&2===o)}function Ju(t,e,n){if(t.startVertex=e,t.endVertex=n,!(t.endVertex-t.startVertex<3)){t.currentRings=[];for(var r=t.unit.elements,i=[],o=t.startVertex;o<t.endVertex;o++){Dr(i,s=t.altLoc.value(r[o]))}!function(t,e){var n=t.indexOf(e);if(n<0)return!1;for(var r=n,i=t.length-1;r<i;r++)t[r]=t[r+1];t.pop()}(i,"");var a=1;if(0===i.length){Wu(t);for(o=0;o<t.count;o++)Qu(t,o)&&(Xu(t),a=ts(t,o,a))}else for(var u=0;u<i.length;u++){Wu(t),t.hasAltLoc=!0,t.currentAltLoc=i[u];for(o=0;o<t.count;o++){var s;if(Qu(t,o))(s=t.altLoc.value(r[t.startVertex+o]))&&s!==t.currentAltLoc||(Xu(t),a=ts(t,o,a))}}o=0;for(var c=t.currentRings.length;o<c;o++)t.rings.push(t.currentRings[o])}}function $u(t,e,n,r){if(n<e)return!1;for(var i=t.pred,o=t.color,a=t.left,u=t.right,s=++t.currentColor,c=e,l=0;l<5&&(o[c]=s,!((c=i[c])<0));l++);var d=0,f=0,p=!1,m=0;c=n;for(l=0;l<5;l++){if(o[c]===s){m=c,p=!0;break}if(u[f++]=c,(c=i[c])<0)break}if(!p)return!1;c=e;for(l=0;l<5&&(a[d++]=c,m!==c)&&!((c=i[c])<0);l++);var h=d+f;if(h<3)return!1;var g=new Int32Array(h),v=0;for(l=0;l<d;l++)g[v++]=t.startVertex+a[l],r[a[l]]=1;for(l=f-1;l>=0;l--)g[v++]=t.startVertex+u[l],r[u[l]]=1;pt(g);for(var y=0,_=t.currentRings.length;y<_;y++){var b=t.currentRings[y];if(g.length===b.length){if(sn.areEqual(g,b))return!1}else if(g.length>b.length&&sn.isSubset(g,b))return!1}return t.currentRings.push(sn.ofSortedArray(g)),!0}function ts(t,e,n){var r=t.bonds,i=t.startVertex,o=t.endVertex,a=t.isRingAtom,u=t.marked,s=t.queue,c=t.pred,l=t.depth,d=t.unit.elements,f=r.b,p=r.edgeProps.flags,m=r.offset;u[e]=n,l[e]=0,s[0]=e;for(var h=0,g=1;h<g;)for(var v=s[h++],y=l[v],_=i+v,b=m[_],x=m[_+1],A=b;A<x;A++){var w=f[A];if(!(w<i||w>=o)&&ia.isCovalent(p[A])){if(t.hasAltLoc){var S=t.altLoc.value(d[w]);if(S&&t.currentAltLoc!==S)continue}var C=w-i;if(u[C]!==n){var B=Math.min(l[C],y+1);B>5||(l[C]=B,u[C]=n,s[g++]=C,c[C]=v)}else if(c[C]!==v&&c[v]!==C&&$u(t,v,C,a))return n+1}}return n+1}function es(t){for(var e=t.length,n=new Int32Array(2*e),r=0;r<n.length;r++)n[r]=-1;for(var i="",o="",a=0,u=1;u<n.length;u++){for(r=n[u-a-1];-1!==r&&(i=t[u%e])!==(o=t[(a+r+1)%e]);)i<o&&(a=u-r-1),r=n[r];-1===r&&(i=t[u%e])!==(o=t[(a+r+1)%e])?(i<o&&(a=u),n[u-a]=-1):n[u-a]=r+1}return a}function ns(t,e){var n,r=t.length,i=[];for(n=0;n<r-1;n++)i.push(t[(n+e)%r]),i.push("-");return i.push(t[(n+e)%r]),i.join("")}!function(t){function e(t,e,n,r,i,o){return{kind:"bond-location",aStructure:t,aUnit:e,aIndex:n,bStructure:r,bUnit:i,bIndex:o}}function n(t,e){return t.aStructure.label===e.aStructure.label&&t.bStructure.label===e.bStructure.label&&t.aIndex===e.aIndex&&t.bIndex===e.bIndex&&t.aUnit.id===e.aUnit.id&&t.bUnit.id===e.bUnit.id}function r(t,e){return{kind:"bond-loci",structure:t,bonds:e}}t.Location=e,t.isLocation=function(t){return!!t&&"bond-location"===t.kind},t.areLocationsEqual=n,t.Loci=r,t.isLoci=function(t){return!!t&&"bond-loci"===t.kind},t.areLociEqual=function(t,e){if(t.structure!==e.structure)return!1;if(t.bonds.length!==e.bonds.length)return!1;for(var r=0,i=t.bonds.length;r<i;++r)if(!n(t.bonds[r],e.bonds[r]))return!1;return!0},t.isLociEmpty=function(t){return 0===t.bonds.length},t.remapLoci=function(t,n){if(n===t.structure)return t;var i=[];return t.bonds.forEach((function(r){var o=n.unitMap.get(r.aUnit.id);if(o){var a=n.unitMap.get(r.bUnit.id);if(a){var u=r.aUnit.elements[r.aIndex],s=sn.indexOf(o.elements,u);if(-1!==s){var c=r.bUnit.elements[r.bIndex],l=sn.indexOf(a.elements,c);-1!==l&&i.push(e(t.structure,o,s,t.structure,a,l))}}}})),r(n,i)},t.toStructureElementLoci=function(t){for(var e=[],n=new Map,r=0,i=t.bonds;r<i.length;r++){var o=i[r],a=o.aIndex,u=o.aUnit,s=o.bIndex,c=o.bUnit;u===c?n.has(u.id)?n.get(u.id).push(a,s):n.set(u.id,[a,s]):(n.has(u.id)?n.get(u.id).push(a):n.set(u.id,[a]),n.has(c.id)?n.get(c.id).push(s):n.set(c.id,[s]))}return n.forEach((function(n,r){e.push({unit:t.structure.unitMap.get(r),indices:sn.deduplicate(sn.ofUnsortedArray(n))})})),l.Loci(t.structure,e)},t.toFirstStructureElementLoci=function(t){var e=t.bonds[0],n=e.aUnit,r=e.aIndex;return l.Loci(t.structure,[{unit:n,indices:fn.ofSingleton(r)}])},t.getType=function(t,e){if(e.aUnit===e.bUnit){var n=e.aUnit.bonds,r=n.getEdgeIndex(e.aIndex,e.bIndex);return r<0?ia.create(0):ia.create(n.edgeProps.flags[r])}var i=t.interUnitBonds.getBondFromLocation(e);return i?ia.create(i.props.flag):ia.create(0)},t.getOrder=function(t,e){if(e.aUnit===e.bUnit){var n=e.aUnit.bonds,r=n.getEdgeIndex(e.aIndex,e.bIndex);return r<0?0:n.edgeProps.order[r]}var i=t.interUnitBonds.getBondFromLocation(e);return i?i.props.order:0},t.getIntraUnitBondCount=function(t){for(var e=0,n=0,r=t.units.length;n<r;++n){var i=t.units[n];Us.isAtomic(i)&&(e+=i.bonds.edgeCount)}return e};var i=function(){function t(){this.current={},this.hasNext=!1}return t.prototype.move=function(){return this.advance(),this.current},t.prototype.setElement=function(t,e,n){this.structure=t,this.unit=e,this.index=n,this.interBondIndices=t.interUnitBonds.getEdgeIndices(n,e.id),this.interBondCount=this.interBondIndices.length,this.interBondIndex=0,this.intraBondEnd=e.bonds.offset[n+1],this.intraBondIndex=e.bonds.offset[n],this.hasNext=this.interBondIndex<this.interBondCount||this.intraBondIndex<this.intraBondEnd},t.prototype.advance=function(){if(this.intraBondIndex<this.intraBondEnd)this.current.otherUnit=this.unit,this.current.otherIndex=this.unit.bonds.b[this.intraBondIndex],this.current.type=this.unit.bonds.edgeProps.flags[this.intraBondIndex],this.current.order=this.unit.bonds.edgeProps.order[this.intraBondIndex],this.intraBondIndex+=1;else{if(!(this.interBondIndex<this.interBondCount))return void(this.hasNext=!1);var t=this.structure.interUnitBonds.edges[this.interBondIndex];this.current.otherUnit=this.structure.unitMap.get(t.unitA!==this.unit.id?t.unitA:t.unitB),this.current.otherIndex=t.indexA!==this.index?t.indexA:t.indexB,this.current.type=t.props.flag,this.current.order=t.props.order,this.interBondIndex+=1}this.hasNext=this.interBondIndex<this.interBondCount||this.intraBondIndex<this.intraBondEnd},t}();t.ElementBondIterator=i,t.getBoundingSphere=function(t,e){return fa.fromPairProvider(t.bonds.length,(function(e,n,r){var i=t.bonds[e],o=i.aUnit,a=i.aIndex,u=i.bUnit,s=i.bIndex;o.conformation.position(o.elements[a],n),u.conformation.position(u.elements[s],r)}),e)}}(Vu||(Vu={}));var rs=new Set;function is(t,e){var n=Io[t];if(void 0!==n){var r=n[e];if(void 0!==r)return r}return rs}var os=C.zero();function as(t,e){for(var n=t.conformation.position,r=new Float32Array(3*e.length),i=t.elements,o=0,a=e.length;o<a;++o)n(i[e[o]],os),C.toArray(os,r,3*o);return r}var us,ss,cs,ls=function(){function t(t,e){this.unit=e,this.all=t}return Object.defineProperty(t.prototype,"index",{get:function(){return this._index||(this._index=function(t,e){for(var n=new Map,r=new Map,i=0,o=t.length;i<o;i++)for(var a=0,u=(f=t[i]).length;a<u;a++){var s=f[a];n.has(s)?n.get(s).push(i):n.set(s,[i])}for(var c=0,l=e.length;c<l;c++)for(a=0,u=(f=t[i=e[c]]).length;a<u;a++){s=f[a];r.has(s)?r.get(s).push(i):r.set(s,[i])}var d=new Zr.UniqueEdgeBuilder(t.length);for(i=0,o=t.length;i<o;i++){var f;for(a=0,u=(f=t[i]).length;a<u;a++){s=f[a];var p=n.get(s);if(1!==p.length)for(var m=0,h=p.length;m<h;m++){var g=p[m];i>=g||d.addEdge(i,g)}}}var v=Zr.connectedComponents(d.getGraph()),y=v.componentIndex,_=[];for(a=0;a<v.componentCount;a++)_[a]=[];for(i=0,o=t.length;i<o;i++)_[y[i]].push(i);return{elementRingIndices:n,elementAromaticRingIndices:r,ringComponentIndex:y,ringComponents:_}}(this.all,this.aromaticRings)),this._index},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"byFingerprint",{get:function(){return this._byFingerprint||(this._byFingerprint=function(t,e){for(var n=new Map,r=0,i=0,o=e.length;i<o;i++){var a=e[i],u=us.fingerprint(t,a);n.has(u)?n.get(u).push(r):n.set(u,[r]),r++}return n}(this.unit,this.all)),this._byFingerprint},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"elementRingIndices",{get:function(){return this.index.elementRingIndices},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"elementAromaticRingIndices",{get:function(){return this.index.elementAromaticRingIndices},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ringComponentIndex",{get:function(){return this.index.ringComponentIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ringComponents",{get:function(){return this.index.ringComponents},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"aromaticRings",{get:function(){return this._aromaticRings||(this._aromaticRings=function(t,e){for(var n=[],r=0,i=e.length;r<i;++r)us.isAromatic(t,e[r])&&n.push(r);return n}(this.unit,this.all)),this._aromaticRings},enumerable:!1,configurable:!0}),t}();function ds(t,e){for(var n=t.elements,r=t.model.atomicHierarchy.residueAtomSegments.index,i=r[n[e[0]]],o=1,a=e.length;o<a;o++)if(i!==r[n[e[o]]])return-1;return i}function fs(t,e,n){var r=t.byFingerprint.get(e);if(r)for(var i=0,o=r.length;i<o;i++){var a=r[i],u=ds(t.unit,t.all[a]);u>=0&&(n.has(u)?n.get(u).push(a):n.set(u,[a]))}}!function(t){function e(t){return function(t){for(var e=t.length,n=new Array(e),r=0;r<e;r++)n[r]=t[e-r-1];var i=es(t),o=es(n),a=!1;for(r=0;r<e;r++){var u=t[(r+i)%e],s=n[(r+o)%e];if(u!==s){a=u<s;break}}return a?ns(t,i):ns(n,o)}(t)}t.fingerprint=function(t,n){for(var r=t.elements,i=t.model.atomicHierarchy.atoms.type_symbol,o=[],a=0,u=n.length;a<u;a++)o[o.length]=i.value(r[n[a]]);return e(o)},t.elementFingerprint=e;var n=new Set(["B","C","N","O","SI","P","S","GE","AS","SN","SB","BI"]);t.isAromatic=function(t,e){var r=t.elements,i=t.bonds,o=i.b,a=i.offset,u=i.edgeProps.flags,s=t.model.atomicHierarchy.atoms,c=s.type_symbol;if("PRO"===s.label_comp_id.value(t.elements[e[0]]))return!1;for(var l=0,d=!1,f=0,p=e.length;f<p;++f){var m=e[f];!d&&n.has(c.value(r[m]))&&(d=!0);for(var h=a[m],g=a[m+1];h<g;++h)ia.is(16,u[h])&&sn.has(e,o[h])&&(l+=1)}if(l===2*e.length)return!0;if(!d)return!1;if(e.length<5)return!1;if(l>0)return!1;var v=vr.calculateMomentsAxes(as(t,e));return C.magnitude(v.dirC)<.05},t.getAltId=function(t,e){for(var n=t.model.atomicHierarchy.atoms.label_alt_id,r=t.elements,i=0,o=e.length;i<o;++i){var a=r[e[i]],u=n.value(a);if(u)return u}return""}}(us||(us={})),(ss=ls||(ls={})).create=function(t){var e=Zu(t);return new ss(e,t)},ss.byFingerprintAndResidue=function(t,e){for(var n=new Map,r=0,i=e.length;r<i;r++)fs(t,e[r],n);return n},function(t){function e(t){return t[t.length-1]}function n(t){return t.length/2}function r(t,e){return t[2*e]}function i(t,e){return t[2*e+1]+1}function o(t,e){return t[2*e]}function a(t,e){return t[2*e+1]}function u(t,e){return s(t,e,0)}function s(t,r,i){if(o(t,i)>fn.max(r)||e(t)<fn.min(r))return-1;for(var u=i,s=n(t);u<s;++u){var c=ye.ofRange(o(t,u),a(t,u));if(fn.areIntersecting(c,r))return u}return-1}t.ofSortedRanges=function(t){return sn.ofSortedArray(t)},t.start=function(t){return t[0]},t.end=function(t){return t[t.length-1]+1},t.min=function(t){return t[0]},t.max=e,t.size=function(t){for(var e=0,n=0,r=t.length;n<r;n+=2)e+=t[n+1]-t[n]+1;return e},t.count=n,t.startAt=r,t.endAt=i,t.minAt=o,t.maxAt=a,t.areEqual=function(t,e){if(t.length!==e.length)return!1;for(var n=0,r=t.length;n<r;++n)if(t[n]!==e[n])return!1;return!0},t.forEach=function(t,e){for(var n=0,r=0,i=t.length;r<i;r+=2)for(var o=t[r],a=t[r+1];o<=a;++o)e(o,n),++n},t.has=function(t,e){return-1!==u(t,e)},t.hasFrom=function(t,e,n){return-1!==s(t,e,n)},t.firstIntersectionIndex=u,t.firstIntersectionIndexFrom=s,t.transientSegments=function(t,e){return new c(t,e)};var c=function(){function t(t,e){this.ranges=t,this.set=e,this.value={index:0,start:0,end:0},this.curIndex=0,this.hasNext=!1,this.curIndex=u(t,e),this.hasNext=-1!==this.curIndex}return t.prototype.updateValue=function(){this.value.index=this.curIndex,this.value.start=fn.findPredecessorIndex(this.set,r(this.ranges,this.curIndex)),this.value.end=fn.findPredecessorIndex(this.set,i(this.ranges,this.curIndex))},t.prototype.move=function(){return this.hasNext&&(this.updateValue(),this.curIndex=s(this.ranges,this.set,this.curIndex+1),this.hasNext=-1!==this.curIndex),this.value},t}();t.Iterator=c}(cs||(cs={}));var ps=C.zero();function ms(t){var e=function(t){for(var e=t.conformation.invariantPosition,n=t.elements,r=new Float32Array(3*n.length),i=0,o=n.length;i<o;i++)e(n[i],ps),C.toArray(ps,r,3*i);return r}(t);return vr.ofPositions(e)}var hs=C.dot,gs=C.copy,vs=C.scaleAndSub,ys=C.scaleAndAdd,_s=function(){function t(t){this.minDist=[],this.maxDist=[],this.extrema=[],this.centroidHelper=new fa,this.dir=function(t){var e;switch(t){case"6":e=Object(v.e)([],bs,!0);break;case"14":e=Object(v.e)(Object(v.e)([],bs,!0),xs,!0);break;case"26":e=Object(v.e)(Object(v.e)(Object(v.e)([],bs,!0),xs,!0),As,!0);break;case"98":e=Object(v.e)(Object(v.e)(Object(v.e)(Object(v.e)(Object(v.e)(Object(v.e)([],bs,!0),xs,!0),As,!0),ws,!0),Ss,!0),Cs,!0)}return e.map((function(t){var e=C.create(t[0],t[1],t[2]);return C.normalize(e,e)}))}(t),this.dirLength=this.dir.length,this.reset()}return t.prototype.computeExtrema=function(t,e){var n=hs(this.dir[t],e);n<this.minDist[t]&&(this.minDist[t]=n,gs(this.extrema[2*t],e)),n>this.maxDist[t]&&(this.maxDist[t]=n,gs(this.extrema[2*t+1],e))},t.prototype.computeSphereExtrema=function(t,e,n){var r=this.dir[t],i=hs(r,e);i-n<this.minDist[t]&&(this.minDist[t]=i-n,vs(this.extrema[2*t],e,r,n)),i+n>this.maxDist[t]&&(this.maxDist[t]=i+n,ys(this.extrema[2*t+1],e,r,n))},t.prototype.includeSphere=function(t){if(cr.hasExtrema(t)&&t.extrema.length>1)for(var e=0,n=t.extrema;e<n.length;e++){var r=n[e];this.includePosition(r)}else this.includePositionRadius(t.center,t.radius)},t.prototype.includePosition=function(t){for(var e=0;e<this.dirLength;++e)this.computeExtrema(e,t)},t.prototype.includePositionRadius=function(t,e){for(var n=0;n<this.dirLength;++n)this.computeSphereExtrema(n,t,e)},t.prototype.finishedIncludeStep=function(){for(var t=0;t<this.extrema.length;t++)this.centroidHelper.includeStep(this.extrema[t]);this.centroidHelper.finishedIncludeStep()},t.prototype.radiusSphere=function(t){if(cr.hasExtrema(t)&&t.extrema.length>1)for(var e=0,n=t.extrema;e<n.length;e++){var r=n[e];this.radiusPosition(r)}else this.radiusPositionRadius(t.center,t.radius)},t.prototype.radiusPosition=function(t){this.centroidHelper.radiusStep(t)},t.prototype.radiusPositionRadius=function(t,e){this.centroidHelper.radiusSphereStep(t,e)},t.prototype.getSphere=function(t){return cr.setExtrema(this.centroidHelper.getSphere(t),this.extrema.slice())},t.prototype.getBox=function(t){return lr.fromVec3Array(t||lr(),this.extrema)},t.prototype.reset=function(){for(var t=0;t<this.dirLength;++t)this.minDist[t]=1/0,this.maxDist[t]=-1/0,this.extrema[2*t]=C(),this.extrema[2*t+1]=C();this.centroidHelper.reset()},t}();var bs=[[1,0,0],[0,1,0],[0,0,1]],xs=[[1,1,1],[-1,1,1],[-1,-1,1],[1,-1,1]],As=[[1,1,0],[1,-1,0],[1,0,1],[1,0,-1],[0,1,1],[0,1,-1]],ws=[[0,1,2],[0,2,1],[1,0,2],[2,0,1],[1,2,0],[2,1,0],[0,1,-2],[0,2,-1],[1,0,-2],[2,0,-1],[1,-2,0],[2,-1,0]],Ss=[[1,1,2],[2,1,1],[1,2,1],[1,-1,2],[1,1,-2],[1,-1,-2],[2,-1,1],[2,1,-1],[2,-1,-1],[1,-2,1],[1,2,-1],[1,-2,-1]],Cs=[[2,2,1],[1,2,2],[2,1,2],[2,-2,1],[2,2,-1],[2,-2,-1],[1,-2,2],[1,2,-2],[1,-2,-2],[2,-1,2],[2,1,-2],[2,-1,-2]],Bs=C.set,Is=new _s("14"),Ps=new _s("98");function Es(t){var e=lr.computeBounding(t);return{box:e,sphere:cr.fromBox3D(cr(),e)}}var Ms=C();function ks(t){var e=t.x,n=t.y,r=t.z,i=t.radius,o=t.indices,a=fn.size(o);if(a>25e4)return Es(t);var u=a>1e4?Is:Ps;u.reset();for(var s=0;s<a;s++){var c=fn.getAt(o,s);Bs(Ms,e[c],n[c],r[c]),u.includePositionRadius(Ms,i&&i[c]||0)}u.finishedIncludeStep();for(s=0;s<a;s++){c=fn.getAt(o,s);Bs(Ms,e[c],n[c],r[c]),u.radiusPositionRadius(Ms,i&&i[c]||0)}var l=u.getSphere();if(!i&&cr.hasExtrema(l)&&a<=l.extrema.length){var d=[];for(s=0;s<a;s++){c=fn.getAt(o,s);d.push(C.create(e[c],n[c],r[c]))}cr.setExtrema(l,d)}return{box:u.getBox(),sphere:l}}var Ds,Os,Ns,Ts,Us,Rs,Ls=function(){function t(){this.data=new Map}return t.prototype.get=function(t){var e=sn.hashCode(t);if(this.data.has(e))for(var n=0,r=this.data.get(e);n<r.length;n++){var i=r[n],o=i[0],a=i[1];if(sn.areEqual(t,o))return a}},t.prototype.set=function(t,e){var n=sn.hashCode(t);if(this.data.has(n)){for(var r=this.data.get(n),i=0,o=r;i<o.length;i++){var a=o[i];if(sn.areEqual(t,a[0]))return void(a[1]=e)}r.push([t,e])}else this.data.set(n,[[t,e]])},t.get=function(e){return e._dynamicPropertyData.ElementSetIntraBondCache||(e._dynamicPropertyData.ElementSetIntraBondCache=new t),e._dynamicPropertyData.ElementSetIntraBondCache},t}(),Gs=function(){function t(t,e,n){this.operatorsProvider=n,this.id=t,this.details=e}return Object.defineProperty(t.prototype,"operatorGroups",{get:function(){return this._operators||(this._operators=this.operatorsProvider()),this._operators},enumerable:!1,configurable:!0}),t}();function Fs(t,e,n){if(!t._rowCount)return[];for(var r=function(t){for(var e=t.id,n=t.matrix,r=t.vector,i=t._schema,o=new Map,a=C(),u=0,s=t._rowCount;u<s;u++){var c=B.toMat4(D(),i.matrix.space,n.value(u));B.toVec3(a,i.vector.space,r.value(u)),D.setTranslation(c,a),D.setValue(c,3,3,1),o.set(e.value(u),c)}return o}(n),i=[],o=0;o<t._rowCount;o++)i[i.length]=qs(t,e,o,r);return i}function qs(t,e,n,r){for(var i=t.id.value(n),o=t.details.value(n),a=[],u=e.assembly_id,s=e.oper_expression,c=e.asym_id_list,l=0,d=e._rowCount;l<d;l++)u.value(l)===i&&(a[a.length]={assemblyId:i,expression:s.value(l),asymIds:c.value(l)});return Gs.create(i,o,function(t,e){return function(){for(var n=[],r=0,i=0;i<t.length;i++){var o=t[i],a=js(Vs(o.expression)),u=Hs(e,a,r,o.assemblyId),s=Vf.generators.atoms({chainTest:Vf.pred.and(Vf.pred.eq((function(t){return ef.unit.operator_name(t.element)}),F.DefaultName),Vf.pred.inSet((function(t){return ef.chain.label_asym_id(t.element)}),o.asymIds))});n[n.length]={selector:s,operators:u,asymIds:o.asymIds},r+=u.length}return n}}(a,r))}function js(t){for(var e=[],n=[],r=0;r<t.length;r++)n[r]="";return function t(e,n,r,i){if(r<0)return void(n[n.length]=i.slice(0));for(var o=e[r],a=o.length,u=0;u<a;u++)i[r]=o[u],t(e,n,r-1,i)}(t,e,t.length-1,n),e}function Hs(t,e,n,r){for(var i=[],o=n,a=0,u=e;a<u.length;a++){for(var s=u[a],c=D.identity(),l=0;l<s.length;l++)D.mul(c,c,t.get(s[l]));o++,i[i.length]=F.create("ASM_".concat(o),c,{assembly:{id:r,operId:o,operList:s}})}return i}function Vs(t){for(var e,n=/\(?([^\(\)]+)\)?]*/g,r=[],i=[];e=n.exec(t);)r[r.length]=e[1];return r.forEach((function(t){var e=[];t.split(",").forEach((function(t){var n=t.indexOf("-");if(n>0)for(var r=parseInt(t.substring(0,n)),i=parseInt(t.substr(n+1)),o=r;o<=i;o++)e[e.length]=o.toString();else e[e.length]=t.trim()})),i[i.length]=e})),i}function zs(t){if(0!==t._rowCount){for(var e=t.id,n=t.matrix,r=t.vector,i=Va.struct_ncs_oper.matrix.space,o=Va.struct_ncs_oper.vector.space,a=[],u=0;u<t._rowCount;u++){var s=B.toMat3(O(),i,n.value(u)),c=B.toVec3(C(),o,r.value(u));if(F.checkIfRotationAndTranslation(s,c)&&("given"!==t.code.value(u)||O.isIdentity(s)||C.isZero(c))){var l=e.value(u);a[a.length]=F.ofRotationAndOffset("ncs_".concat(l),s,c,l)}}return a}}function Ys(t){for(var e=t.bonds,n=e.b,r=e.edgeProps,i=e.offset,o=(r.order,r.flags),a=t.rings.elementAromaticRingIndices,u=[],s=new Map,c=new Map,l=function(t,e,n){var r=u.length;u.push(sn.ofUnsortedArray([t,e,n])),s.set(bt(t,e),n),c.has(t)?c.get(t).push(r):c.set(t,[r])},d=0;d<t.elements.length;d++){if(!a.has(d))if(!(i[d+1]-i[d]+1<2)){for(var f=[],p=i[d],m=i[d+1];p<m;p++){var h=o[p];ia.is(h,16)&&f.push(n[p])}if(f.length>=2){l(d,f[0],f[1]);for(var g=1,v=f.length;g<v;g++)l(d,f[g],f[0])}}}return{getThirdElement:function(t,e){return s.get(bt(t,e))},getTripletIndices:function(t){return c.get(t)},triplets:u}}!function(t){t.create=function(e,n,r){return new t(e,n,r)}}(Gs||(Gs={})),(Os=Ds||(Ds={})).Default={assemblies:[],spacegroup:tt.ZeroP1,isNonStandardCrystalFrame:!1},Os.findAssembly=function(t,e){var n=e.toLocaleLowerCase(),r=Ns.Provider.get(t);return r?function(t,e){for(var n=0,r=t.length;n<r;n++)if(e(t[n]))return t[n]}(r.assemblies,(function(t){return t.id.toLowerCase()===n})):void 0},Os.getUnitcellLabel=function(t){var e=t.spacegroup,n=e.cell,r=e.name,i=e.num,o=n.size,a=n.anglesInRadians,u=o[0].toFixed(2),s=o[1].toFixed(2),c=o[2].toFixed(2),l=k(a[0]).toFixed(2),d=k(a[1]).toFixed(2),f=k(a[2]).toFixed(2),p=[];return p.push("Unit Cell <b>".concat(r,"</b> #").concat(i)),p.push("".concat(u,"×").concat(s,"×").concat(c," Å")),p.push("α=".concat(l,"° β=").concat(d,"° γ=").concat(f,"°")),p.join(" | ")},(Ts=Ns||(Ns={})).Descriptor={name:"model_symmetry"},Ts.Provider=Jr.create(Ts.Descriptor),Ts.fromData=function(t){var e=Fs(t.pdbx_struct_assembly,t.pdbx_struct_assembly_gen,t.pdbx_struct_oper_list),n=function(t,e){if(0===t._rowCount||0===e._rowCount)return tt.ZeroP1;var n=e.length_a.value(0),r=e.length_b.value(0),i=e.length_c.value(0);if(0===n||0===r||0===i)return tt.ZeroP1;var o=e.angle_alpha.value(0),a=e.angle_beta.value(0),u=e.angle_gamma.value(0);if(0===o||0===a||0===u)return tt.ZeroP1;var s=function(t){var e=t.Int_Tables_number.value(0),n=t["space_group_name_H-M"].value(0);return t.Int_Tables_number.isDefined?t["space_group_name_H-M"].isDefined?n:e:n}(t),c=$.create(s,C.create(n,r,i),C.scale(C(),C.create(o,a,u),Math.PI/180));return tt.create(c)}(t.symmetry,t.cell);return{assemblies:e,spacegroup:n,isNonStandardCrystalFrame:(t.atom_sites._rowCount,!1),ncsOperators:zs(t.struct_ncs_oper)}},Ts.fromCell=function(t,e){var n=$.create("P 1",t,e);return{assemblies:[],spacegroup:tt.create(n),isNonStandardCrystalFrame:!1}},function(t){var e,n;function r(t){for(var e=[],n=0,r=t.length;n<r;n++)e.push(t[n].id);return xt(e)}function i(t){var e={};return{elements:t[0].elements,units:t,get unitIndexMap(){return e.unitIndexMap||(e.unitIndexMap=function(t){for(var e=$n.Mutable(),n=0,r=t.length;n<r;n++)e.set(t[n].id,n);return e}(t)),e.unitIndexMap},hashCode:o(t[0]),transformHash:r(t)}}function o(t){return yt(t.invariantId,sn.hashCode(t.elements))}!function(t){t[t.Atomic=0]="Atomic",t[t.Spheres=1]="Spheres",t[t.Gaussians=2]="Gaussians"}(t.Kinds||(t.Kinds={})),t.isAtomic=function(t){return 0===t.kind},t.isCoarse=function(t){return 1===t.kind||2===t.kind},t.isSpheres=function(t){return 1===t.kind},t.isGaussians=function(t){return 2===t.kind},t.create=function(t,e,n,r,i,o,s,c,d){switch(i){case 0:return new a(t,e,n,r,o,c,F.createMapping(s,o.atomicConformation),null!=d?d:u());case 1:return p(t,e,n,r,o,1,c,F.createMapping(s,o.coarseConformation.spheres,function(t){var e=t.coarseConformation.spheres.radius;return function(t){return e[t]}}(o)),null!=d?d:l());case 2:return p(t,e,n,r,o,2,c,F.createMapping(s,o.coarseConformation.gaussians,(function(t){return 0})),null!=d?d:l())}},t.SymmetryGroup=i,function(t){t.areInvariantElementsEqual=function(t,e){return t.hashCode===e.hashCode&&sn.areEqual(t.elements,e.elements)},t.getUnitSymmetryGroupsIndexMap=function(t){for(var e=$n.Mutable(),n=0,r=t.length;n<r;++n)for(var i=t[n],o=0,a=i.units.length;o<a;++o)e.set(i.units[o].id,n);return e}}(i=t.SymmetryGroup||(t.SymmetryGroup={})),t.conformationId=function(e){return t.isAtomic(e)?e.model.atomicConformation.id:e.model.coarseConformation.id},t.hashUnit=o,function(t){t[t.None=0]="None",t[t.MultiChain=1]="MultiChain",t[t.Partitioned=2]="Partitioned",t[t.FastBoundary=4]="FastBoundary"}(e=t.Trait||(t.Trait={})),function(t){t.is=Dt.has,t.create=Dt.create}(n=t.Traits||(t.Traits={}));var a=function(){function r(t,e,n,r,i,o,a,u){this.kind=0,this.objectPrimitive="atomistic",this.id=t,this.invariantId=e,this.chainGroupId=n,this.traits=r,this.model=i,this.elements=o,this.conformation=a,this.residueIndex=i.atomicHierarchy.residueAtomSegments.index,this.chainIndex=i.atomicHierarchy.chainAtomSegments.index,this.props=u}return r.prototype.getChild=function(t){return t.length===this.elements.length?this:new r(this.id,this.invariantId,this.chainGroupId,this.traits,this.model,t,this.conformation,u())},r.prototype.applyOperator=function(t,e,n){void 0===n&&(n=!1);var i=n?e:F.compose(this.conformation.operator,e);return new r(t,this.invariantId,this.chainGroupId,this.traits,this.model,this.elements,F.createMapping(i,this.model.atomicConformation,this.conformation.r),this.props)},r.prototype.remapModel=function(e,n,i){var o,a;i||(i=Object(v.a)(Object(v.a)({},this.props),{bonds:n&&!(null===(a=null===(o=this.props.bonds)||void 0===o?void 0:o.props)||void 0===a?void 0:a.canRemap)?void 0:m(this,this.props.bonds,e,n)}),t.isSameConformation(this,e)||(i.boundary=void 0,i.lookup3d=void 0,i.principalAxes=void 0));var u=this.conformation.operator,s=Ns.Provider.get(e);if(-1!==u.spgrOp&&s&&s!==Ns.Provider.get(this.model)){var c=u.hkl,l=c[0],d=c[1],f=c[2],p=s.spacegroup.cell.toFractional,h=C.transformMat4(C(),nh.getCenter(e),p);u=tt.getSymmetryOperatorRef(s.spacegroup,u.spgrOp,l,d,f,h)}var g=this.model.atomicConformation!==e.atomicConformation||u!==this.conformation.operator?F.createMapping(u,e.atomicConformation):this.conformation;return new r(this.id,this.invariantId,this.chainGroupId,this.traits,e,this.elements,g,i)},Object.defineProperty(r.prototype,"boundary",{get:function(){if(this.props.boundary)return this.props.boundary;var t=this.model.atomicConformation,r=t.x,i=t.y,o=t.z;return this.props.boundary=n.is(this.traits,e.FastBoundary)?Es({x:r,y:i,z:o,indices:this.elements}):ks({x:r,y:i,z:o,indices:this.elements}),this.props.boundary},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"lookup3d",{get:function(){if(this.props.lookup3d)return this.props.lookup3d;var t=this.model.atomicConformation,e=t.x,n=t.y,r=t.z;return this.props.lookup3d=mr({x:e,y:n,z:r,indices:this.elements},this.boundary),this.props.lookup3d},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"principalAxes",{get:function(){return this.props.principalAxes||(this.props.principalAxes=ms(this)),this.props.principalAxes},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"bonds",{get:function(){if(this.props.bonds)return this.props.bonds;var t=Ls.get(this.model),e=t.get(this.elements);return e||(e=Nu(this),t.set(this.elements,e)),this.props.bonds=e,this.props.bonds},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"rings",{get:function(){return this.props.rings||(this.props.rings=ls.create(this)),this.props.rings},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"resonance",{get:function(){return this.props.resonance||(this.props.resonance={delocalizedTriplets:Ys(this)}),this.props.resonance},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"polymerElements",{get:function(){return this.props.polymerElements||(this.props.polymerElements=function(t){for(var e=[],n=t.elements,r=t.model,i=t.model.atomicHierarchy.residueAtomSegments,o=r.atomicHierarchy.derived.residue.traceElementIndex,a=cs.transientSegments(t.model.atomicRanges.polymerRanges,n),u=Wn.transientSegments(i,n);a.hasNext;){var s=a.move();for(u.setSegment(s);u.hasNext;){var c=u.move(),l=c.start,d=c.end,f=c.index;if(fn.areIntersecting(ye.ofRange(n[l],n[d-1]),n)){var p=o[f];e.push(-1===p?i.offsets[f]:p)}}}return sn.ofSortedArray(e)}(this)),this.props.polymerElements},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"gapElements",{get:function(){return this.props.gapElements||(this.props.gapElements=function(t){for(var e=[],n=t.elements,r=t.model,i=t.residueIndex,o=t.model.atomicHierarchy.residueAtomSegments,a=r.atomicHierarchy.derived.residue.traceElementIndex,u=cs.transientSegments(t.model.atomicRanges.gapRanges,t.elements);u.hasNext;){var s=u.move(),c=i[n[s.start]],l=i[n[s.end-1]],d=a[c],f=a[l];e.push(-1===d?o.offsets[c]:d),e.push(-1===f?o.offsets[l]:f)}return sn.ofSortedArray(e)}(this)),this.props.gapElements},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"nucleotideElements",{get:function(){return this.props.nucleotideElements||(this.props.nucleotideElements=function(t){for(var e=[],n=t.elements,r=t.model,i=r.atomicHierarchy,o=i.chainAtomSegments,a=i.residueAtomSegments,u=r.atomicHierarchy.derived.residue,s=u.moleculeType,c=u.traceElementIndex,l=Wn.transientSegments(o,n),d=Wn.transientSegments(a,n);l.hasNext;)for(d.setSegment(l.move());d.hasNext;){var f=d.move().index;if(na(s[f])){var p=c[f];e.push(-1===p?a.offsets[f]:p)}}return sn.ofSortedArray(e)}(this)),this.props.nucleotideElements},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"proteinElements",{get:function(){return this.props.proteinElements||(this.props.proteinElements=function(t){for(var e=[],n=t.elements,r=t.model,i=r.atomicHierarchy,o=i.chainAtomSegments,a=i.residueAtomSegments,u=r.atomicHierarchy.derived.residue,s=u.moleculeType,c=u.traceElementIndex,l=Wn.transientSegments(o,n),d=Wn.transientSegments(a,n);l.hasNext;)for(d.setSegment(l.move());d.hasNext;){var f=d.move().index;if(ra(s[f])){var p=c[f];e.push(-1===p?a.offsets[f]:p)}}return sn.ofSortedArray(e)}(this)),this.props.proteinElements},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"residueCount",{get:function(){if(void 0!==this.props.residueCount)return this.props.residueCount;for(var t=0,e=Wn.transientSegments(this.model.atomicHierarchy.residueAtomSegments,this.elements);e.hasNext;)e.move(),t+=1;return this.props.residueCount=t,this.props.residueCount},enumerable:!1,configurable:!0}),r.prototype.getResidueIndex=function(t){return this.residueIndex[this.elements[t]]},r}();function u(){return{}}t.Atomic=a;var s=function(){function r(t,e,n,r,i,o,a,u,s){this.kind=o,this.objectPrimitive=1===o?"sphere":"gaussian",this.id=t,this.invariantId=e,this.chainGroupId=n,this.traits=r,this.model=i,this.elements=a,this.conformation=u,this.coarseElements=1===o?i.coarseHierarchy.spheres:i.coarseHierarchy.gaussians,this.coarseConformation=1===o?i.coarseConformation.spheres:i.coarseConformation.gaussians,this.props=s}return r.prototype.getChild=function(t){return t.length===this.elements.length?this:p(this.id,this.invariantId,this.chainGroupId,this.traits,this.model,this.kind,t,this.conformation,l())},r.prototype.applyOperator=function(t,e,n){void 0===n&&(n=!1);var r=n?e:F.compose(this.conformation.operator,e);return p(t,this.invariantId,this.chainGroupId,this.traits,this.model,this.kind,this.elements,F.createMapping(r,this.getCoarseConformation(),this.conformation.r),this.props)},r.prototype.remapModel=function(e,n,i){var o=this.getCoarseConformation(),a=c(this.kind,e);i||(i=Object(v.a)({},this.props),t.isSameConformation(this,e)||(i.boundary=void 0,i.lookup3d=void 0,i.principalAxes=void 0));var u=o!==a?F.createMapping(this.conformation.operator,a):this.conformation;return new r(this.id,this.invariantId,this.chainGroupId,this.traits,e,this.kind,this.elements,u,i)},Object.defineProperty(r.prototype,"boundary",{get:function(){if(this.props.boundary)return this.props.boundary;var t=this.getCoarseConformation(),r=t.x,i=t.y,o=t.z;return this.props.boundary=n.is(this.traits,e.FastBoundary)?Es({x:r,y:i,z:o,indices:this.elements}):ks({x:r,y:i,z:o,indices:this.elements}),this.props.boundary},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"lookup3d",{get:function(){if(this.props.lookup3d)return this.props.lookup3d;var t=this.getCoarseConformation(),e=t.x,n=t.y,r=t.z;return this.props.lookup3d=mr({x:e,y:n,z:r,indices:this.elements},this.boundary),this.props.lookup3d},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"principalAxes",{get:function(){return this.props.principalAxes||(this.props.principalAxes=ms(this)),this.props.principalAxes},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"polymerElements",{get:function(){return this.props.polymerElements||(this.props.polymerElements=function(t){for(var e=[],n=t.elements,r=t.model.coarseHierarchy,i=r.spheres,o=r.gaussians,a=Us.isSpheres(t)?i.polymerRanges:o.polymerRanges,u=cs.transientSegments(a,n);u.hasNext;)for(var s=u.move(),c=s.start,l=s.end,d=c;d<l;++d)e.push(n[d]);return sn.ofSortedArray(e)}(this)),this.props.polymerElements},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"gapElements",{get:function(){return this.props.gapElements||(this.props.gapElements=function(t){for(var e=[],n=t.elements,r=t.model.coarseHierarchy,i=r.spheres,o=r.gaussians,a=Us.isSpheres(t)?i.gapRanges:o.gapRanges,u=cs.transientSegments(a,n);u.hasNext;){var s=u.move(),c=s.start,l=s.end;e.push(n[c],n[l-1])}return sn.ofSortedArray(e)}(this)),this.props.gapElements},enumerable:!1,configurable:!0}),r.prototype.getCoarseConformation=function(){return c(this.kind,this.model)},r}();function c(t,e){return 1===t?e.coarseConformation.spheres:e.coarseConformation.gaussians}function l(){return{}}var d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(v.c)(e,t),e}(s);t.Spheres=d;var f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(v.c)(e,t),e}(s);function p(t,e,n,r,i,o,a,u,c){return new s(t,e,n,r,i,o,a,u,c)}function m(t,e,n,r){var i;if(e){if(t.model.atomicConformation.id===n.atomicConformation.id)return e;var o=$r.Provider.get(t.model);if(o){var a=$r.Provider.get(n);return a&&o!==a?void 0:e}return(null===(i=e.props)||void 0===i?void 0:i.canRemap)||!r||h(t,n)?e:void 0}}function h(t,e){var n=nh.CoordinatesHistory.get(nh.getRoot(e));if(n)return n.areEqual(t.elements,t.kind,e);for(var r=t.elements,i=t.conformation.coordinates,o=i.x,a=i.y,u=i.z,s=g(t.kind,e),c=s.x,l=s.y,d=s.z,f=0,p=r.length;f<p;f++){var m=r[f];if(o[m]!==c[m]||a[m]!==l[m]||u[m]!==d[m])return!1}return!0}function g(t,e){return 0===t?e.atomicConformation:1===t?e.coarseConformation.spheres:e.coarseConformation.gaussians}function y(t,e){return 0===t?e.atomicHierarchy:1===t?e.coarseHierarchy.spheres:e.coarseHierarchy.gaussians}t.Gaussians=f,t.areSameChainOperatorGroup=function(t,e){return t.chainGroupId===e.chainGroupId&&t.conformation.operator.name===e.conformation.operator.name},t.areOperatorsEqual=function(t,e){return D.areEqual(t.conformation.operator.matrix,e.conformation.operator.matrix,1e-6)},t.areConformationsEqual=function(t,e){return t===e||!!sn.areEqual(t.elements,e.elements)&&h(t,e.model)},t.isSameConformation=h,t.getModelConformationOfKind=g,t.getConformation=function(t){return g(t.kind,t.model)},t.getModelHierarchyOfKind=y,t.getHierarchy=function(t){return y(t.kind,t.model)}}(Us||(Us={})),function(t){t.add=function(t,e,n,r){t.indices[t.count]=n,t.units[t.count]=e,t.squaredDistances[t.count]=r,t.count++},t.create=function(){return{count:0,indices:[],units:[],squaredDistances:[]}},t.copy=function(t,e){for(var n=0;n<e.count;++n)t.indices[n]=e.indices[n],t.units[n]=e.units[n],t.squaredDistances[n]=e.squaredDistances[n];return t.count=e.count,t}}(Rs||(Rs={}));var Ks,Zs,Ws=function(){function t(t){this.structure=t,this.pivot=C(),this.heap=new pr,this.findContext={result:Rs.create(),closeUnitsResult:et.create(),unitGroupResult:et.create()};for(var e=t.units,n=t.boundary,r=e.length,i=new Float32Array(r),o=new Float32Array(r),a=new Float32Array(r),u=new Float32Array(r),s=C(),c=0;c<r;c++){var l=e[c],d=l.boundary.sphere;C.transformMat4(s,d.center,l.conformation.operator.matrix),i[c]=s[0],o[c]=s[1],a[c]=s[2],u[c]=d.radius}var f={x:i,y:o,z:a,radius:u,indices:fn.ofBounds(0,r)};this.unitLookup=mr(f,n)}return t.prototype.findUnitIndices=function(t,e,n,r){return this.unitLookup.find(t,e,n,r)},t.prototype.find=function(t,e,n,r,i){return this._find(t,e,n,r,null!=i?i:this.findContext)},t.prototype._find=function(t,e,n,r,i){et.reset(i.result);var o=this.structure.units,a=this.unitLookup.find(t,e,n,r,i.closeUnitsResult);if(0===a.count)return i.result;for(var u=0,s=a.count;u<s;u++){var c=o[a.indices[u]];C.set(this.pivot,t,e,n),c.conformation.operator.isIdentity||C.transformMat4(this.pivot,this.pivot,c.conformation.operator.inverse);for(var l=c.lookup3d.find(this.pivot[0],this.pivot[1],this.pivot[2],r,i.unitGroupResult),d=0,f=l.count;d<f;d++)Rs.add(i.result,c,l.indices[d],l.squaredDistances[d])}return i.result},t.prototype.nearest=function(t,e,n,r,i){return void 0===r&&(r=1),this._nearest(t,e,n,r,null!=i?i:this.findContext)},t.prototype._nearest=function(t,e,n,r,i){var o=i.result,a=this.heap;et.reset(o),a.clear();var u=this.structure.units,s=0,c=this.unitLookup.nearest(t,e,n,u.length,(function(t){return(s+=u[t].elements.length)>=r}),i.closeUnitsResult);if(0===c.count)return o;for(var l=0,d=-Number.MAX_VALUE,f=0,p=c.count;f<p;f++){var m=c.squaredDistances[f];if(l>=r&&d<m)break;C.set(this.pivot,t,e,n),(b=u[c.indices[f]]).conformation.operator.isIdentity||C.transformMat4(this.pivot,this.pivot,b.conformation.operator.inverse);var h=b.lookup3d.nearest(this.pivot[0],this.pivot[1],this.pivot[2],r,void 0,i.unitGroupResult);if(0!==h.count){l+=h.count,d=Math.max(d,h.squaredDistances[h.count-1]);for(var g=0,v=h.count;g<v;g++)a.insert(h.squaredDistances[g],{index:h.indices[g],unit:b})}}if(1===r){if(A=a.findMinimum()){var y=A.key,_=A.value,b=_.unit,x=_.index;Rs.add(o,b,x,y)}}else for(;!a.isEmpty()&&o.count<r;){y=(A=a.extractMinimum()).key;var A,w=A.value;b=w.unit,x=w.index;Rs.add(o,b,x,y)}return o},t.prototype.findIntoBuilder=function(t,e,n,r,i){var o=this.structure.units,a=this.unitLookup.find(t,e,n,r);if(0!==a.count)for(var u=0,s=a.count;u<s;u++){var c=o[a.indices[u]];C.set(this.pivot,t,e,n),c.conformation.operator.isIdentity||C.transformMat4(this.pivot,this.pivot,c.conformation.operator.inverse);var l=c.lookup3d.find(this.pivot[0],this.pivot[1],this.pivot[2],r);if(0!==l.count){var d=c.elements;i.beginUnit(c.id);for(var f=0,p=l.count;f<p;f++)i.addElement(d[l.indices[f]]);i.commitUnit()}}},t.prototype.findIntoBuilderIf=function(t,e,n,r,i,o){var a=this.structure.units,u=this.unitLookup.find(t,e,n,r);if(0!==u.count)for(var s=l.Location.create(this.structure),c=0,d=u.count;c<d;c++){var f=a[u.indices[c]];C.set(this.pivot,t,e,n),f.conformation.operator.isIdentity||C.transformMat4(this.pivot,this.pivot,f.conformation.operator.inverse);var p=f.lookup3d.find(this.pivot[0],this.pivot[1],this.pivot[2],r);if(0!==p.count){var m=f.elements;s.unit=f,i.beginUnit(f.id);for(var h=0,g=p.count;h<g;h++)s.element=m[p.indices[h]],o(s)&&i.addElement(s.element);i.commitUnit()}}},t.prototype.findIntoBuilderWithRadius=function(t,e,n,r,i,o,a,u){var s=this.structure.units,c=this.unitLookup.find(t,e,n,o);if(0!==c.count)for(var d=l.Location.create(this.structure),f=r+i+o,p=0,m=c.count;p<m;p++){var h=s[c.indices[p]];C.set(this.pivot,t,e,n),h.conformation.operator.isIdentity||C.transformMat4(this.pivot,this.pivot,h.conformation.operator.inverse);var g=h.lookup3d.find(this.pivot[0],this.pivot[1],this.pivot[2],f);if(0!==g.count){var v=h.elements;d.unit=h,u.beginUnit(h.id);for(var y=0,_=g.count;y<_;y++){d.element=v[g.indices[y]];var b=a(d);Math.sqrt(g.squaredDistances[y])-r-b>o||u.addElement(v[g.indices[y]])}u.commitUnit()}}},t.prototype.check=function(t,e,n,r){var i=this.structure.units,o=this.unitLookup.find(t,e,n,r);if(0===o.count)return!1;for(var a=0,u=o.count;a<u;a++){var s=i[o.indices[a]];if(C.set(this.pivot,t,e,n),s.conformation.operator.isIdentity||C.transformMat4(this.pivot,this.pivot,s.conformation.operator.inverse),s.lookup3d.check(this.pivot[0],this.pivot[1],this.pivot[2],r))return!0}return!1},Object.defineProperty(t.prototype,"boundary",{get:function(){return this.structure.boundary},enumerable:!1,configurable:!0}),t}();function Xs(t,e){if(0===e.length)return pp.Empty;if(1===e.length)return e[0];for(var n=new Map,r=new Set,i=0,o=e;i<o.length;i++)for(var a=o[i].units,u=0,s=a.length;u<s;u++){var c=a[u];if(n.has(c.id)){if(r.has(c.id))continue;var l=sn.union(n.get(c.id),c.elements);n.set(c.id,l),l.length===t.unitMap.get(c.id).elements.length&&r.add(c.id)}else n.set(c.id,c.elements),c.elements.length===t.unitMap.get(c.id).elements.length&&r.add(c.id)}var d=t.subsetBuilder(!0);return n.forEach(Qs,d),d.getStructure()}function Qs(t,e){this.setUnit(e,t)}function Js(t,e){if(t===e)return!0;var n,r;t.units.length<e.units.length?(n=t,r=e):(n=e,r=t);for(var i=n.units,o=r.unitMap,a=0,u=i.length;a<u;a++){var s=i[a];if(o.has(s.id)){var c=o.get(s.id);if(sn.areIntersecting(s.elements,c.elements))return!0}}return!1}function $s(t,e){if(t===e)return pp.Empty;if(!Js(t,e))return t;for(var n=t.units,r=e.unitMap,i=[],o=0,a=n.length;o<a;o++){var u=n[o];if(r.has(u.id)){var s=r.get(u.id),c=sn.subtract(u.elements,s.elements);c.length>0&&(i[i.length]=u.getChild(c))}else i[i.length]=u}return pp.create(i,{parent:t.parent||e.parent})}function tc(t){return ia.isCovalent(t.atomicBond.type)}function ec(){return function(t){for(var e=t.inputStructure,n=l.Location.create(e),r=[],i=0,o=e.units;i<o.length;i++){var a=o[i];if(0===a.kind){n.unit=a;var u=a.elements;if(n.element=u[0],"polymer"===ef.entity.type(n)){for(var s=Wn.transientSegments(a.model.atomicHierarchy.residueAtomSegments,u),c=0;s.hasNext;)c++,s.move();c<8||r.push(a)}}}return Ks.Singletons(e,pp.create(r,{parent:e}))}}function nc(){return function(t){for(var e=t.inputStructure,n=l.Location.create(e),r=[],i=0,o=e.units;i<o.length;i++){var a=o[i];if(0===a.kind){n.unit=a;var u=a.elements;n.element=u[0],"water"===ef.entity.type(n)&&r.push(a)}}return Ks.Singletons(e,pp.create(r,{parent:e}))}}function rc(){return function(t){for(var e=t.inputStructure,n=l.Location.create(e),r=[],i=0,o=e.units;i<o.length;i++){var a=o[i];if(0===a.kind){n.unit=a;var u=a.elements;if(n.element=u[0],"water"!==ef.entity.type(n)){if("polymer"===ef.entity.type(n)){for(var s=Wn.transientSegments(a.model.atomicHierarchy.residueAtomSegments,u),c=0;s.hasNext;)c++,s.move();if(c>=8)continue}r.push(a)}}}return Ks.Singletons(e,pp.create(r,{parent:e}))}}function ic(){return function(t){for(var e=t.inputStructure,n=[],r=0,i=e.units;r<i.length;r++){var o=i[r];1===o.kind&&n.push(o)}return Ks.Singletons(e,pp.create(n,{parent:e}))}}function oc(t,e,n){return{groupedUnits:t,ranges:e,set:n}}function ac(t){return function(e){var n={hash:e.inputStructure.hashCode,elements:t};return Ks.Sequence(e.inputStructure,[Zs.toStructure(n,e.inputStructure)])}}!function(t){function e(t,e){return{kind:"singletons",source:t,structure:e}}function n(t,e){return{kind:"sequence",source:t,structures:e}}function r(t){return e(t,pp.Empty)}function i(t){return"singletons"===t.kind}function o(t){return i(t)?0===t.structure.units.length:0===t.structures.length}function a(t){return o(t)?pp.Empty:i(t)?t.structure:Xs(t.source,t.structures)}function u(t,i,o){return 0===i.length?r(t):o?e(t,Xs(t,i)):n(t,i)}t.Singletons=e,t.Sequence=n,t.Empty=r,t.isSingleton=i,t.isEmpty=o,t.structureCount=function(t){return i(t)?t.structure.elementCount:t.structures.length},t.unionStructure=a,t.toLociWithCurrentUnits=function(t){for(var e=[],n=t.source.unitMap,r=0,i=a(t).units;r<i.length;r++){var o=i[r];o===n.get(o.id)?e[e.length]={unit:o,indices:fn.ofBounds(0,o.elements.length)}:e[e.length]={unit:o,indices:fn.ofSortedArray(sn.indicesOf(n.get(o.id).elements,o.elements))}}return l.Loci(t.source,e)},t.toLociWithSourceUnits=function(t){for(var e=[],n=t.source.unitMap,r=0,i=a(t).units;r<i.length;r++){var o=i[r],u=n.get(o.id);e[e.length]=u===o?{unit:u,indices:fn.ofBounds(0,u.elements.length)}:{unit:u,indices:fn.ofSortedArray(sn.indicesOf(u.elements,o.elements))}}return l.Loci(t.source,e)};var s=function(){function t(t){this.source=t,this.structures=[],this.allSingletons=!0}return t.prototype.add=function(t){var e=t.elementCount;0!==e&&(this.structures[this.structures.length]=t,1!==e&&(this.allSingletons=!1))},t.prototype.getSelection=function(){return u(this.source,this.structures,this.allSingletons)},t}(),c=function(){function t(t){this.structure=t,this.structures=[],this.allSingletons=!0,this.uniqueSets=gi(pp.hashCode,pp.areUnitIdsAndIndicesEqual)}return t.prototype.add=function(t){var e=t.elementCount;0!==e&&this.uniqueSets.add(t)&&(this.structures[this.structures.length]=t,1!==e&&(this.allSingletons=!1))},t.prototype.getSelection=function(){return u(this.structure,this.structures,this.allSingletons)},t}();t.LinearBuilder=function(t){return new s(t)},t.UniqueBuilder=function(t){return new c(t)},t.forEach=function(e,n){var r=0;if(t.isSingleton(e))for(var i=0,o=e.structure.units;i<o.length;i++)for(var a=o[i],u=a.elements,s=0,c=u.length;s<c;s++){n(pp.create([a.getChild(sn.ofSingleton(u[s]))],{parent:e.source}),r++)}else for(var l=0,d=e.structures;l<d.length;l++){n(d[l],r++)}},t.withInputStructure=function(t,r){return i(t)?e(r,t.structure):n(r,t.structures)}}(Ks||(Ks={})),function(t){function e(t){for(var e=[],n=0,r=t.elements;n<r.length;n++){var i=(h=r[n]).unit,o=h.indices;if(0!==fn.size(o)){var a=[],u=[];if(fn.isInterval(o))1===fn.size(o)?u.push(ye.min(o)):a.push(ye.min(o),ye.max(o));else for(var s=0,c=o.length;s<c;){var l=s;for(s++;s<c&&o[s-1]+1===o[s];)s++;var d=s;if(d-l>2)a.push(o[l],o[d-1]);else for(var f=l;f<d;f++)u[u.length]=o[f]}e.push({unit:i,set:sn.ofSortedArray(u),ranges:cs.ofSortedRanges(a)})}}for(var p=new Map,m=(s=0,e.length);s<m;++s){var h,g,v=yt(xt((h=e[s]).ranges),xt(h.set));if(p.has(v))(g=p.get(v).groupedUnits).has(h.unit.invariantId)?g.get(h.unit.invariantId).push(h.unit.id):g.set(h.unit.invariantId,[h.unit.id]);else(g=new Map).set(h.unit.invariantId,[h.unit.id]),p.set(v,{groupedUnits:g,set:h.set,ranges:h.ranges})}var y=[];return p.forEach((function(t){var e=[];t.groupedUnits.forEach((function(t){return e.push(sn.ofUnsortedArray(t))})),e.sort((function(t,e){return t[0]-e[0]})),y.push({groupedUnits:e,set:t.set,ranges:t.ranges})})),{hash:t.structure.hashCode,elements:y}}function n(t,e){for(var n=[],r=0,i=t.length;r<i;++r){var o=t[r];e.unitMap.has(o)&&n.push(e.unitMap.get(o))}return n}function r(t){return Gi.internal.generator.bundleElement({groupedUnits:Gi.core.type.list(t.groupedUnits.map((function(t){return Gi.core.type.list(t)}))),ranges:Gi.core.type.list(t.ranges),set:Gi.core.type.list(t.set)})}t.Empty={hash:-1,elements:[]},t.fromSubStructure=function(t,n){return e(Ks.toLociWithSourceUnits(Ks.Singletons(t,n)))},t.fromSelection=function(t){return e(Ks.toLociWithSourceUnits(t))},t.fromLoci=e,t.toLoci=function(t,e){-1!==t.hash&&t.hash!==e.hashCode&&new Error("Bundle not compatible with given structure");for(var r=[],i=0,o=t.elements;i<o.length;i++)for(var a=o[i],u=function(t){var i=n(t,e);if(0===i.length)return"continue";var o=void 0;if(0===a.ranges.length)o=a.set;else if(0===a.set.length)if(2===a.ranges.length)o=ye.ofRange(a.ranges[0],a.ranges[1]);else{var u=new Int32Array(cs.size(a.ranges));cs.forEach(a.ranges,(function(t,e){return u[e]=t})),o=sn.ofSortedArray(u)}else{var s=cs.size(a.ranges),c=new Int32Array(a.set.length+s);cs.forEach(a.ranges,(function(t,e){return c[e]=t})),c.set(a.set,s),o=sn.ofUnsortedArray(c)}for(var l=0,d=i;l<d.length;l++){var f=d[l];r.push({unit:f,indices:o})}},s=0,c=a.groupedUnits;s<c.length;s++){u(c[s])}return _p(e,r)},t.toStructure=function(t,e){-1!==t.hash&&t.hash!==e.hashCode&&new Error("Bundle not compatible with given structure");for(var r=[],i=0,o=t.elements;i<o.length;i++)for(var a=o[i],u=function(t){var i=n(t,e);if(0===i.length)return"continue";var o=i[0].elements,u=cs.size(a.ranges),s=a.set.length,c=new Int32Array(s+u),l=void 0;if(0===u){for(var d=0,f=s;d<f;++d)c[d]=o[a.set[d]];l=sn.ofSortedArray(c)}else if(0===s)cs.forEach(a.ranges,(function(t,e){return c[e]=o[t]})),l=sn.ofSortedArray(c);else if(sn.min(a.set)>cs.max(a.ranges)){cs.forEach(a.ranges,(function(t,e){return c[e]=o[t]}));for(d=0,f=s;d<f;++d)c[d+u]=o[a.set[d]];l=sn.ofSortedArray(c)}else if(cs.min(a.ranges)>sn.max(a.set)){for(d=0,f=s;d<f;++d)c[d]=o[a.set[d]];cs.forEach(a.ranges,(function(t,e){return c[e+s]=o[t]})),l=sn.ofSortedArray(c)}else{cs.forEach(a.ranges,(function(t,e){return c[e]=o[t]}));for(d=0,f=s;d<f;++d)c[d+u]=o[a.set[d]];l=sn.ofUnsortedArray(c)}for(var p=0,m=i;p<m.length;p++){var h=m[p];r.push(h.getChild(l))}},s=0,c=a.groupedUnits;s<c.length;s++){u(c[s])}return pp.create(r,{parent:e})},t.toExpression=function(t){return Gi.internal.generator.bundle({elements:Gi.core.type.list(t.elements.map(r))})},t.areEqual=function(t,e){if(t.elements.length!==e.elements.length)return!1;for(var n=0,r=t.elements.length;n<r;++n){var i=t.elements[n],o=e.elements[n];if(i.groupedUnits.length!==o.groupedUnits.length)return!1;for(var a=0,u=o.groupedUnits.length;a<u;++a)if(!sn.areEqual(i.groupedUnits[a],o.groupedUnits[a]))return!1;if(!sn.areEqual(i.set,o.set))return!1;if(!cs.areEqual(i.ranges,o.ranges))return!1}return!0}}(Zs||(Zs={}));var uc,sc=function(){function t(t,e){this.currentElementStack=[],this.currentAtomicBondStack=[],this.currentStructureStack=[],this.inputStructureStack=[],this.timeCreated=Object(Nr.a)(),this.element=l.Location.create(void 0),this.currentStructure=void 0,this.atomicBond=new cc,this.currentSelection=void 0,this.inputStructure=t,this.timeoutMs=e&&e.timeoutMs||0,this.currentSelection=e&&e.currentSelection}return t.prototype.pushCurrentElement=function(){return this.currentElementStack[this.currentElementStack.length]=this.element,this.element=l.Location.create(void 0),this.element},t.prototype.popCurrentElement=function(){this.element=this.currentElementStack.pop()},t.prototype.pushCurrentBond=function(){return this.atomicBond&&this.currentAtomicBondStack.push(this.atomicBond),this.atomicBond=new cc,this.atomicBond},t.prototype.popCurrentBond=function(){this.currentAtomicBondStack.length>0?this.atomicBond=this.currentAtomicBondStack.pop():this.atomicBond=void 0},t.prototype.pushCurrentStructure=function(){this.currentStructure&&this.currentStructureStack.push(this.currentStructure)},t.prototype.popCurrentStructure=function(){this.currentStructureStack.length?this.currentStructure=this.currentStructureStack.pop():this.currentStructure=void 0},t.prototype.pushInputStructure=function(t){this.inputStructureStack.push(this.inputStructure),this.inputStructure=t},t.prototype.popInputStructure=function(){if(0===this.inputStructureStack.length)throw new Error("Must push before pop.");this.inputStructure=this.inputStructureStack.pop()},t.prototype.throwIfTimedOut=function(){if(0!==this.timeoutMs&&Object(Nr.a)()-this.timeCreated>this.timeoutMs)throw new Error("The query took too long to execute (> ".concat(this.timeoutMs/1e3,"s)."))},t.prototype.tryGetCurrentSelection=function(){if(!this.currentSelection)throw new Error("The current selection is not assigned.");return this.currentSelection},t}(),cc=function(){function t(){this.a=l.Location.create(void 0),this.aIndex=0,this.b=l.Location.create(void 0),this.bIndex=0,this.type=0,this.order=0,this.key=-1,this.testFn=tc}return t.prototype.setStructure=function(t){this.a.structure=t,this.b.structure=t},t.prototype.setTestFn=function(t){this.testFn=t||tc},t.prototype.test=function(t,e){return!!this.testFn(t)||!!e&&(this.swap(),this.testFn(t))},t.prototype.swap=function(){var t=this.aIndex;this.aIndex=this.bIndex,this.bIndex=t;var e=this.a.unit;this.a.unit=this.b.unit,this.b.unit=e;var n=this.a.element;this.a.element=this.b.element,this.b.element=n},Object.defineProperty(t.prototype,"length",{get:function(){return l.Location.distance(this.a,this.b)},enumerable:!1,configurable:!0}),t}();(uc||(uc={})).run=function(t,e,n){return t(new sc(e,n))};var lc=function(){function t(t){this.source=t,this.set=gi(pp.hashCode,pp.areUnitIdsAndIndicesEqual),this.structures=[],this.allSingletons=!0}return t.prototype.add=function(t){t.elementCount&&(1!==t.elementCount&&(this.allSingletons=!1),this.set.add(t)&&(this.structures[this.structures.length]=t))},t.prototype.getSelection=function(){return this.allSingletons?Ks.Singletons(this.source,Xs(this.source,this.structures)):Ks.Sequence(this.source,this.structures)},t}(),dc=function(){function t(t){this.source=t,this.builders=[],this.builderMap=new Map}return t.prototype.add=function(t,e,n){var r=this.builderMap.get(t);r||(r=this.source.subsetBuilder(!0),this.builders[this.builders.length]=r,this.builderMap.set(t,r)),r.addToUnit(e,n)},t.prototype.allSingletons=function(){for(var t=0,e=this.builders.length;t<e;t++)if(this.builders[t].elementCount>1)return!1;return!0},t.prototype.singletonSelection=function(){for(var t=this.source.subsetBuilder(!0),e=l.Location.create(this.source),n=0,r=this.builders.length;n<r;n++)this.builders[n].setSingletonLocation(e),t.addToUnit(e.unit.id,e.element);return Ks.Singletons(this.source,t.getStructure())},t.prototype.fullSelection=function(){for(var t=new Array(this.builders.length),e=0,n=this.builders.length;e<n;e++)t[e]=this.builders[e].getStructure();return Ks.Sequence(this.source,t)},t.prototype.getSelection=function(){return 0===this.builders.length?Ks.Empty(this.source):this.allSingletons()?this.singletonSelection():this.fullSelection()},t}(),fc=function(t){return Ks.Sequence(t.inputStructure,[])},pc=function(t){return Ks.Singletons(t.inputStructure,t.inputStructure)};function mc(t){return yc(Object(v.a)(Object(v.a)({},t),{groupBy:function(t){return ef.residue.key(t.element)}}))}function hc(t){return yc(Object(v.a)(Object(v.a)({},t),{groupBy:function(t){return ef.chain.key(t.element)}}))}function gc(t){return!0}function vc(t){return 0}function yc(t){if(!(t&&(t.atomTest||t.residueTest||t.chainTest||t.entityTest||t.unitTest||t.groupBy)))return pc;if(t.atomTest&&!t.residueTest&&!t.chainTest&&!t.entityTest&&!t.unitTest&&!t.groupBy)return e=t.atomTest,function(t){var n=t.inputStructure,r=n.units,i=t.pushCurrentElement(),o=n.subsetBuilder(!0);i.structure=n;for(var a=0,u=r;a<u.length;a++){var s=u[a];i.unit=s;var c=s.elements;o.beginUnit(s.id);for(var l=0,d=c.length;l<d;l++)i.element=c[l],e(t)&&o.addElement(i.element);o.commitUnit(),t.throwIfTimedOut()}return t.popCurrentElement(),Ks.Singletons(n,o.getStructure())};var e,n={unitTest:t.unitTest||gc,entityTest:t.entityTest||gc,chainTest:t.chainTest||gc,residueTest:t.residueTest||gc,atomTest:t.atomTest||gc,groupBy:t.groupBy||vc};return t.groupBy?function(t){var e=t.unitTest,n=t.entityTest,r=t.chainTest,i=t.residueTest,o=t.atomTest,a=t.groupBy;return function(t){var u=t.inputStructure,s=u.units,c=t.pushCurrentElement(),l=new dc(u);c.structure=u;for(var d=0,f=s;d<f.length;d++){var p=f[d];if(c.unit=p,e(t)){var m=p.elements,h=p.model;if(0===p.kind)for(var g=Wn.transientSegments(h.atomicHierarchy.chainAtomSegments,m),v=Wn.transientSegments(h.atomicHierarchy.residueAtomSegments,m);g.hasNext;){var y=g.move();if(c.element=m[y.start],n(t)&&r(t))for(v.setSegment(y);v.hasNext;){var _=v.move();if(c.element=m[_.start],i(t))for(var b=_.start,x=_.end;b<x;b++)c.element=m[b],o(t)&&l.add(a(t),p.id,c.element)}}else{var A=h.coarseHierarchy.spheres.chainElementSegments;for(g=Wn.transientSegments(A,m);g.hasNext;){y=g.move();if(c.element=m[y.start],n(t)&&r(t))for(b=y.start,x=y.end;b<x;b++)c.element=m[b],i(t)&&l.add(a(t),p.id,c.element)}}t.throwIfTimedOut()}}return t.popCurrentElement(),l.getSelection()}}(n):function(t){var e=t.unitTest,n=t.entityTest,r=t.chainTest,i=t.residueTest,o=t.atomTest;return function(t){var a=t.inputStructure,u=a.units,s=t.pushCurrentElement(),c=a.subsetBuilder(!0),l=i===gc&&o===gc,d=o===gc;s.structure=a;for(var f=0,p=u;f<p.length;f++){var m=p[f];if(s.unit=m,e(t)){var h=m.elements,g=m.model;if(c.beginUnit(m.id),0===m.kind)for(var v=Wn.transientSegments(m.model.atomicHierarchy.chainAtomSegments,h),y=Wn.transientSegments(m.model.atomicHierarchy.residueAtomSegments,h);v.hasNext;){var _=v.move();if(s.element=h[_.start],n(t)&&r(t))if(l)c.addElementRange(h,_.start,_.end);else for(y.setSegment(_);y.hasNext;){var b=y.move();if(s.element=h[b.start],i(t))if(d)c.addElementRange(h,b.start,b.end);else for(var x=b.start,A=b.end;x<A;x++)s.element=h[x],o(t)&&c.addElement(s.element)}}else{var w=g.coarseHierarchy.spheres.chainElementSegments;for(v=Wn.transientSegments(w,h);v.hasNext;){_=v.move();if(s.element=h[_.start],n(t)&&r(t))if(l)c.addElementRange(h,_.start,_.end);else for(x=_.start,A=_.end;x<A;x++)s.element=h[x],i(t)&&c.addElement(s.element)}}c.commitUnit(),t.throwIfTimedOut()}}return t.popCurrentElement(),Ks.Singletons(a,c.getStructure())}}(n)}function _c(t,e,n){for(var r=new Int32Array(e.length),i=0,o=e.length;i<o;i++)r[i]=t.elements[e[i]];return pp.create([t.getChild(sn.ofSortedArray(r))],{parent:n})}function bc(t,e){return function(n){var r=n.inputStructure.units,i=Ks.LinearBuilder(n.inputStructure);if(t&&0!==t.length){for(var o=yi.create(),a=0;a<t.length;a++)yi.add(o,t[a],t[a]);for(var u=0,s=r;u<s.length;u++){v=s[u];if(Us.isAtomic(v))for(var c=v.rings,l=0,d=o.array;l<d.length;l++){var f=d[l];if(c.byFingerprint.has(f))for(var p=0,m=c.byFingerprint.get(f);p<m.length;p++){b=m[p];e&&!c.aromaticRings.includes(b)||i.add(_c(v,c.all[b],n.inputStructure))}}}}else for(var h=0,g=r;h<g.length;h++){var v=g[h];if(Us.isAtomic(v))if(e)for(var y=0,_=v.rings.aromaticRings;y<_.length;y++){var b=_[y];i.add(_c(v,v.rings.all[b],n.inputStructure))}else for(var x=0,A=v.rings.all;x<A.length;x++){var b=A[x];i.add(_c(v,b,n.inputStructure))}}return i.getSelection()}}function xc(t,e,n){return void 0===n&&(n=!1),function(r){var i=t(r);if(0===Ks.structureCount(i))return i;var o=n?$s(r.inputStructure,Ks.unionStructure(i)):Ks.unionStructure(i);if(0===o.elementCount)return Ks.Empty(r.inputStructure);r.throwIfTimedOut(),r.pushInputStructure(o);var a=e(r);return r.popInputStructure(),Ks.withInputStructure(a,r.inputStructure)}}function Ac(t){return function(e){var n=e.inputStructure,r=n.interUnitBonds,i=Ks.UniqueBuilder(e.inputStructure);e.pushCurrentBond();var o=e.atomicBond;o.setTestFn(t),o.setStructure(n);for(var a=0,u=n.units;a<u.length;a++){var s=u[a];if(0===s.kind){var c=s.bonds,l=c.offset,d=c.b,f=c.edgeProps,p=f.flags,m=f.order,h=f.key;o.a.unit=s,o.b.unit=s;for(var g=0,v=s.elements.length;g<v;g++){o.aIndex=g,o.a.element=s.elements[g];for(var y=l[g],_=l[g+1];y<_;y++){if(o.bIndex=d[y],o.b.element=s.elements[d[y]],o.type=p[y],o.order=m[y],o.key=h[y],o.test(e,!1))(A=n.subsetBuilder(!1)).beginUnit(s.id),A.addElement(o.a.element),A.addElement(o.b.element),A.commitUnit(),i.add(A.getStructure())}}}}for(var b=0,x=r.edges;b<x.length;b++){var A,w=x[b];if(o.a.unit=n.unitMap.get(w.unitA),o.a.element=o.a.unit.elements[w.indexA],o.aIndex=w.indexA,o.b.unit=n.unitMap.get(w.unitB),o.b.element=o.b.unit.elements[w.indexB],o.bIndex=w.indexB,o.order=w.props.order,o.type=w.props.flag,o.key=w.props.key,o.test(e,!1))(A=n.subsetBuilder(!1)).addToUnit(o.a.unit.id,o.a.element),A.addToUnit(o.b.unit.id,o.b.element),i.add(A.getStructure())}return e.popCurrentBond(),i.getSelection()}}var wc,Sc,Cc=function(){function t(t){this.parent=t,this.ids=[],this.unitMap=$n.Mutable(),this.parentId=-1,this.currentUnit=yi.create(),this.elementCount=0}return t.prototype.addToUnit=function(t,e){var n=this.unitMap.get(t);if(n)yi.add(n,e,e)&&this.elementCount++;else{var r=yi.create();yi.add(r,e,e),this.unitMap.set(t,r),this.ids[this.ids.length]=t,this.elementCount++}},t.prototype.has=function(t,e){var n=this.unitMap.get(t);return!!n&&yi.has(n,e)},t.prototype.beginUnit=function(t){this.parentId=t,this.unitMap.has(t)?this.currentUnit=this.unitMap.get(t):this.currentUnit=this.currentUnit.array.length>0?yi.create():this.currentUnit},t.prototype.addElement=function(t){yi.add(this.currentUnit,t,t)&&this.elementCount++},t.prototype.commitUnit=function(){0===this.currentUnit.array.length||this.unitMap.has(this.parentId)||(this.ids[this.ids.length]=this.parentId,this.unitMap.set(this.parentId,this.currentUnit),this.parentId=-1)},t.prototype.getStructure=function(){if(this.isEmpty)return pp.Empty;var t=[];pt(this.ids);for(var e=Hf.UnitEquivalenceBuilder(),n=0,r=this.ids.length;n<r;n++){var i=this.ids[n],o=this.parent.unitMap.get(i),a=this.unitMap.get(i).array,u=a.length;if(a.length!==o.elements.length){u>1&&pt(a);var s=o.getChild(sn.ofSortedArray(a)),c=e.add(s.id,s);s!==c&&(s=c.applyOperator(s.id,s.conformation.operator,!0)),t[t.length]=s}else t[t.length]=o,e.add(o.id,o)}return pp.create(t,{parent:this.parent})},Object.defineProperty(t.prototype,"isEmpty",{get:function(){return 0===this.elementCount},enumerable:!1,configurable:!0}),t}();function Bc(t){return{data:t,position:0,length:t.length,lineNumber:1,tokenStart:0,tokenEnd:0}}!function(t){function e(t){return t.data.substring(t.tokenStart,t.tokenEnd)}function n(t){for(var e=t.data;t.position<t.length;)switch(e.charCodeAt(t.position)){case 10:return t.tokenEnd=t.position,++t.position,++t.lineNumber,!0;case 13:return t.tokenEnd=t.position,++t.position,++t.lineNumber,10===e.charCodeAt(t.position)&&++t.position,!0;default:++t.position}return t.tokenEnd=t.position,t.tokenStart!==t.tokenEnd}function r(t){return t.tokenStart=t.position,n(t)}function i(t,e,n){for(var i=0,o=0;o<e;o++){if(!r(t))return i;wc.addUnchecked(n,t.tokenStart,t.tokenEnd),i++}return i}function o(t,e,n){for(var r=t.data,i=e,o=n-1,a=r.charCodeAt(i);(9===a||32===a)&&i<=o;)a=r.charCodeAt(++i);for(a=r.charCodeAt(o);(9===a||32===a)&&o>=i;)a=r.charCodeAt(--o);return t.tokenStart=i,t.tokenEnd=o+1,t.position=n,t}t.getTokenString=e,t.reset=function(t){t.position=0,t.lineNumber=1,t.tokenStart=0,t.tokenEnd=0},t.eatLine=n,t.markStart=function(t){t.tokenStart=t.position},t.markLine=r,t.readLine=function(t){return r(t),e(t)},t.readLineTrim=function(t){r(t);var n=t.position;return o(t,t.tokenStart,t.tokenEnd),t.position=n,e(t)},t.markLines=function(t,e){var n=wc.create(t.data,2*e);return i(t,e,n),n},t.readLines=function(e,n){for(var r=[],i=0;i<n;i++)r.push(t.readLine(e));return r},t.readLinesAsync=function(t,e,n,r){return void 0===r&&(r=1e5),Object(v.b)(this,void 0,void 0,(function(){var o,a;return Object(v.d)(this,(function(u){switch(u.label){case 0:return o=wc.create(t.data,2*e),a=0,[4,Qr(n,r,t,(function(t,n){var r=Math.min(e-a,t);return i(n,r,o),a+=r,r}),(function(t,e){return t.update({message:"Parsing...",current:e.position,max:e.length})}))];case 1:return u.sent(),[2,o]}}))}))},t.readAllLines=function(e){for(var n=t(e),i=wc.create(n.data,Math.max(e.length/80,2));r(n);)wc.add(i,n.tokenStart,n.tokenEnd);return i},t.readAllLinesAsync=function(e,n,i){return void 0===i&&(i=1e5),Object(v.b)(this,void 0,void 0,(function(){var o,a;return Object(v.d)(this,(function(u){switch(u.label){case 0:return o=t(e),a=wc.create(o.data,Math.max(e.length/80,2)),[4,Qr(n,i,o,(function(t,e){return function(t,e,n){for(var i=0,o=0;o<e;o++){if(!r(t))return i;wc.add(n,t.tokenStart,t.tokenEnd),i++}}(e,t,a),e.position<e.length?t:0}),(function(t,e){return t.update({message:"Parsing...",current:e.position,max:e.length})}))];case 1:return u.sent(),[2,a]}}))}))},t.eatValue=function(t){for(;t.position<t.length;)switch(t.data.charCodeAt(t.position)){case 9:case 10:case 13:case 32:return void(t.tokenEnd=t.position);default:++t.position}t.tokenEnd=t.position},t.skipWhitespace=function(t){for(var e=-1;t.position<t.length;){var n=t.data.charCodeAt(t.position);switch(n){case 9:case 32:e=n,++t.position;break;case 10:13!==e&&++t.lineNumber,e=n,++t.position;break;case 13:e=n,++t.position,++t.lineNumber;break;default:return e}}return e},t.trim=o}(Bc||(Bc={})),function(t){function e(t,e,n){var r=t;r.offset>r.indicesLenMinus2&&function(t){var e=new Uint32Array(1.61*t.indices.length|0);e.set(t.indices),t.indices=e,t.indicesLenMinus2=e.length-2|0}(r),r.indices[r.offset++]=e,r.indices[r.offset++]=n,t.count++}t.add=e,t.addToken=function(t,n){e(t,n.tokenStart,n.tokenEnd)},t.addUnchecked=function(t,e,n){t.indices[t.offset++]=e,t.indices[t.offset++]=n,t.count++},t.create=function(t,e){return{data:t,indicesLenMinus2:(e=Math.max(10,e))-2|0,count:0,offset:0,indices:new Uint32Array(e)}}}(wc||(wc={})),function(t){t.error=function(t,n){return void 0===n&&(n=-1),new e(t,n)},t.success=function(t,e){return void 0===e&&(e=[]),new n(t,e)};var e=function(){function t(t,e){this.message=t,this.line=e,this.isError=!0}return t.prototype.toString=function(){return this.line>=0?"[Line ".concat(this.line,"] ").concat(this.message):this.message},t}();t.Error=e;var n=function(t,e){this.result=t,this.warnings=e,this.isError=!1};t.Success=n}(Sc||(Sc={}));var Ic,Pc,Ec=kt.Schema,Mc=Ec.str,kc=Ec.float,Dc=Ec.List,Oc=Ec.lstr,Nc=Ec.Aliased,Tc=Ec.int,Uc=Ec.coord,Rc={chem_comp:{formula:Mc,formula_weight:kc,id:Mc,mon_nstd_parent_comp_id:Dc(",",(function(t){return t})),name:Mc,one_letter_code:Mc,three_letter_code:Mc,type:Nc(Oc),pdbx_synonyms:Dc(";",(function(t){return t})),pdbx_type:Mc,pdbx_ambiguous_flag:Mc,pdbx_replaced_by:Mc,pdbx_replaces:Mc,pdbx_formal_charge:Tc,pdbx_model_coordinates_details:Mc,pdbx_model_coordinates_db_code:Mc,pdbx_ideal_coordinates_details:Mc,pdbx_ideal_coordinates_missing_flag:Nc(Oc),pdbx_model_coordinates_missing_flag:Nc(Oc),pdbx_initial_date:Mc,pdbx_modified_date:Mc,pdbx_release_status:Nc(Mc),pdbx_processing_site:Nc(Mc)},chem_comp_atom:{alt_atom_id:Mc,atom_id:Mc,charge:Tc,model_Cartn_x:Uc,model_Cartn_y:Uc,model_Cartn_z:Uc,comp_id:Mc,type_symbol:Mc,pdbx_align:Tc,pdbx_ordinal:Tc,pdbx_model_Cartn_x_ideal:Uc,pdbx_model_Cartn_y_ideal:Uc,pdbx_model_Cartn_z_ideal:Uc,pdbx_stereo_config:Nc(Oc),pdbx_aromatic_flag:Nc(Oc),pdbx_leaving_atom_flag:Nc(Oc)},chem_comp_bond:{atom_id_1:Mc,atom_id_2:Mc,comp_id:Mc,value_order:Nc(Oc),pdbx_ordinal:Tc,pdbx_stereo_config:Nc(Oc),pdbx_aromatic_flag:Nc(Oc)},pdbx_chem_comp_descriptor:{comp_id:Mc,descriptor:Mc,type:Nc(Oc),program:Mc,program_version:Mc},pdbx_chem_comp_identifier:{comp_id:Mc,identifier:Mc,type:Nc(Mc),program:Mc,program_version:Mc}},Lc=kt.Schema,Gc=Lc.str,Fc=Lc.float,qc=Lc.lstr,jc=Lc.Aliased,Hc=Lc.int,Vc={pdbx_reference_molecule:{prd_id:Gc,formula_weight:Fc,formula:Gc,type:jc(qc),type_evidence_code:Gc,class:jc(qc),class_evidence_code:Gc,name:Gc,represent_as:jc(qc),chem_comp_id:Gc,compound_details:Gc,description:Gc,representative_PDB_id_code:Gc,release_status:jc(qc),replaces:Gc,replaced_by:Gc},pdbx_reference_entity_list:{prd_id:Gc,ref_entity_id:Gc,type:jc(qc),details:Gc,component_id:Hc},pdbx_reference_entity_nonpoly:{prd_id:Gc,ref_entity_id:Gc,name:Gc,chem_comp_id:Gc},pdbx_reference_entity_link:{link_id:Hc,prd_id:Gc,details:Gc,ref_entity_id_1:Gc,ref_entity_id_2:Gc,entity_seq_num_1:Hc,entity_seq_num_2:Hc,comp_id_1:Gc,comp_id_2:Gc,atom_id_1:Gc,atom_id_2:Gc,value_order:jc(qc),component_1:Hc,component_2:Hc,link_class:jc(Gc)},pdbx_reference_entity_poly_link:{link_id:Hc,prd_id:Gc,ref_entity_id:Gc,component_id:Hc,entity_seq_num_1:Hc,entity_seq_num_2:Hc,comp_id_1:Gc,comp_id_2:Gc,atom_id_1:Gc,atom_id_2:Gc,value_order:jc(qc)},pdbx_reference_entity_poly:{prd_id:Gc,ref_entity_id:Gc,type:jc(Gc),db_code:Gc,db_name:Gc},pdbx_reference_entity_poly_seq:{prd_id:Gc,ref_entity_id:Gc,mon_id:Gc,parent_mon_id:Gc,num:Hc,observed:jc(qc),hetero:jc(qc)},pdbx_reference_entity_sequence:{prd_id:Gc,ref_entity_id:Gc,type:jc(Gc),NRP_flag:jc(Gc),one_letter_codes:Gc},pdbx_reference_entity_src_nat:{prd_id:Gc,ref_entity_id:Gc,ordinal:Hc,organism_scientific:Gc,taxid:Gc,db_code:Gc,db_name:Gc},pdbx_prd_audit:{prd_id:Gc,date:Gc,processing_site:jc(Gc),action_type:jc(Gc)}},zc=kt.Schema,Yc=zc.str,Kc={datablock:{id:Yc,description:Yc},dictionary:{title:Yc,datablock_id:Yc,version:Yc},dictionary_history:{version:Yc,update:Yc,revision:Yc},sub_category:{id:Yc,description:Yc},category_group_list:{id:Yc,parent_id:Yc,description:Yc},item_type_list:{code:Yc,primitive_code:Yc,construct:Yc,detail:Yc},item_units_list:{code:Yc,detail:Yc},item_units_conversion:{from_code:Yc,to_code:Yc,operator:Yc,factor:zc.float}},Zc=kt.Schema,Wc=Zc.str,Xc=Zc.int,Qc=Zc.float,Jc=Zc.Aliased,$c=Zc.Vector,tl=(Jc(Wc),Jc(Wc),Jc(Wc),Jc(Wc),$c(3),$c(3),{volume_data_3d_info:{name:Wc,axis_order:$c(3,Xc),origin:$c(3),dimensions:$c(3),sample_rate:Xc,sample_count:$c(3,Xc),spacegroup_number:Xc,spacegroup_cell_size:$c(3),spacegroup_cell_angles:$c(3),mean_source:Qc,mean_sampled:Qc,sigma_source:Qc,sigma_sampled:Qc,min_source:Qc,min_sampled:Qc,max_source:Qc,max_sampled:Qc},volume_data_3d:{values:Qc}}),el=kt.Schema,nl=el.float,rl=el.int,il=el.str,ol={cell:{angle_alpha:nl,angle_beta:nl,angle_gamma:nl,formula_units_z:rl,length_a:nl,length_b:nl,length_c:nl,volume:nl},chemical:{melting_point:nl,name_common:il,name_systematic:il},chemical_formula:{moiety:il,sum:il,weight:nl},space_group:{crystal_system:il,it_number:rl,"name_h-m_full":il},space_group_symop:{operation_xyz:il},geom_bond:{atom_site_label_1:il,atom_site_label_2:il,distance:nl,publ_flag:il,site_symmetry_1:il,site_symmetry_2:il,valence:nl},audit:{block_doi:il},database_code:{cod:il,csd:il,depnum_ccdc_archive:il,depnum_ccdc_fiz:il,icsd:il,mdf:il,nbs:il},atom_site:{adp_type:il,calc_flag:il,disorder_assembly:il,disorder_group:il,fract_x:nl,fract_y:nl,fract_z:nl,label:il,occupancy:nl,refinement_flags:il,site_symmetry_multiplicity:rl,type_symbol:il,u_iso_or_equiv:nl},atom_site_aniso:{label:il,u_11:nl,u:(0,el.Matrix)(3,3),u_12:nl,u_13:nl,u_22:nl,u_23:nl,u_33:nl},atom_type:{description:il,symbol:il},atom_type_scat:{dispersion_imag:nl,dispersion_real:nl,source:il}},al={"cell.formula_units_z":["cell_formula_units_Z"],"space_group.it_number":["space_group_IT_number","symmetry_Int_Tables_number"],"space_group.name_h-m_full":["symmetry_space_group_name_H-M"],"space_group_symop.operation_xyz":["symmetry_equiv_pos_as_xyz"],"geom_bond.atom_site_label_1":["geom_bond_atom_site_id_1"],"geom_bond.atom_site_label_2":["geom_bond_atom_site_id_2"],"geom_bond.distance":["geom_bond_dist"],"audit.block_doi":["audit_block_DOI"],"database_code.cod":["database_code_COD"],"database_code.csd":["database_code_CSD"],"database_code.depnum_ccdc_archive":["database_code_depnum_CCDC_archive"],"database_code.depnum_ccdc_fiz":["database_code_depnum_CCDC_fiz"],"database_code.icsd":["database_code_ICSD"],"database_code.mdf":["database_code_MDF"],"database_code.nbs":["database_code_NBS"],"atom_site.adp_type":["atom_site_ADP_type","atom_site_thermal_displace_type"],"atom_site.label":["atom_site_id"],"atom_site.site_symmetry_multiplicity":["atom_site_symmetry_multiplicity"],"atom_site.u_iso_or_equiv":["atom_site_U_iso_or_equiv"],"atom_site_aniso.label":["atom_site_anisotrop_id"],"atom_site_aniso.u_11":["atom_site_aniso_U_11","atom_site_anisotrop_U_11"],"atom_site_aniso.u_12":["atom_site_aniso_U_12","atom_site_anisotrop_U_12"],"atom_site_aniso.u_13":["atom_site_aniso_U_13","atom_site_anisotrop_U_13"],"atom_site_aniso.u_22":["atom_site_aniso_U_22","atom_site_anisotrop_U_22"],"atom_site_aniso.u_23":["atom_site_aniso_U_23","atom_site_anisotrop_U_23"],"atom_site_aniso.u_33":["atom_site_aniso_U_33","atom_site_anisotrop_U_33"]},ul=kt.Schema.int,sl={volume_data_3d_info:tl.volume_data_3d_info,segmentation_data_table:{set_id:ul,segment_id:ul},segmentation_data_3d:{values:ul}},cl={mmCIF:function(t){return ui(Va,t)},CCD:function(t){return ui(Rc,t)},BIRD:function(t){return ui(Vc,t)},dic:function(t){return ui(Kc,t)},cifCore:function(t){return ui(ol,t,al)},densityServer:function(t){return ui(tl,t)},segmentation:function(t){return ui(sl,t)}},ll={type_symbol:kt.Schema.Aliased(Va.atom_site.type_symbol),label_atom_id:Va.atom_site.label_atom_id,auth_atom_id:Va.atom_site.auth_atom_id,label_alt_id:Va.atom_site.label_alt_id,label_comp_id:Va.atom_site.label_comp_id,auth_comp_id:Va.atom_site.auth_comp_id,pdbx_formal_charge:Va.atom_site.pdbx_formal_charge},dl={group_PDB:Va.atom_site.group_PDB,label_seq_id:Va.atom_site.label_seq_id,auth_seq_id:Va.atom_site.auth_seq_id,pdbx_PDB_ins_code:Va.atom_site.pdbx_PDB_ins_code},fl={label_asym_id:Va.atom_site.label_asym_id,auth_asym_id:Va.atom_site.auth_asym_id,label_entity_id:Va.atom_site.label_entity_id};!function(t){t.EmptyResidueKey=function(){return{label_entity_id:"",label_asym_id:"",auth_seq_id:0,pdbx_PDB_ins_code:void 0}}}(Ic||(Ic={})),function(t){function e(t,e){return t.residueAtomSegments.index[t.chainAtomSegments.offsets[e]]}function n(t,e){return t.residueAtomSegments.index[t.chainAtomSegments.offsets[e+1]-1]+1}t.chainStartResidueIndex=e,t.chainEndResidueIndexExcl=n,t.chainResidueCount=function(t,r){return n(t,r)-e(t,r)}}(Pc||(Pc={}));var pl,ml,hl={H:1,D:1,T:1,HE:2,LI:3,BE:4,B:5,C:6,N:7,O:8,F:9,NE:10,NA:11,MG:12,AL:13,SI:14,P:15,S:16,CL:17,AR:18,K:19,CA:20,SC:21,TI:22,V:23,CR:24,MN:25,FE:26,CO:27,NI:28,CU:29,ZN:30,GA:31,GE:32,AS:33,SE:34,BR:35,KR:36,RB:37,SR:38,Y:39,ZR:40,NB:41,MO:42,TC:43,RU:44,RH:45,PD:46,AG:47,CD:48,IN:49,SN:50,SB:51,TE:52,I:53,XE:54,CS:55,BA:56,LA:57,CE:58,PR:59,ND:60,PM:61,SM:62,EU:63,GD:64,TB:65,DY:66,HO:67,ER:68,TM:69,YB:70,LU:71,HF:72,TA:73,W:74,RE:75,OS:76,IR:77,PT:78,AU:79,HG:80,TL:81,PB:82,BI:83,PO:84,AT:85,RN:86,FR:87,RA:88,AC:89,TH:90,PA:91,U:92,NP:93,PU:94,AM:95,CM:96,BK:97,CF:98,ES:99,FM:100,MD:101,NO:102,LR:103,RF:104,DB:105,SG:106,BH:107,HS:108,MT:109},gl={1:1.1,2:1.4,3:1.81,4:1.53,5:1.92,6:1.7,7:1.55,8:1.52,9:1.47,10:1.54,11:2.27,12:1.73,13:1.84,14:2.1,15:1.8,16:1.8,17:1.75,18:1.88,19:2.75,20:2.31,21:2.3,22:2.15,23:2.05,24:2.05,25:2.05,26:2.05,27:2,28:2,29:2,30:2.1,31:1.87,32:2.11,33:1.85,34:1.9,35:1.83,36:2.02,37:3.03,38:2.49,39:2.4,40:2.3,41:2.15,42:2.1,43:2.05,44:2.05,45:2,46:2.05,47:2.1,48:2.2,49:2.2,50:1.93,51:2.17,52:2.06,53:1.98,54:2.16,55:3.43,56:2.68,57:2.5,58:2.48,59:2.47,60:2.45,61:2.43,62:2.42,63:2.4,64:2.38,65:2.37,66:2.35,67:2.33,68:2.32,69:2.3,70:2.28,71:2.27,72:2.25,73:2.2,74:2.1,75:2.05,76:2,77:2,78:2.05,79:2.1,80:2.05,81:1.96,82:2.02,83:2.07,84:1.97,85:2.02,86:2.2,87:3.48,88:2.83,89:2,90:2.4,91:2,92:2.3,93:2,94:2,95:2,96:2,97:2,98:2,99:2,100:2,101:2,102:2,103:2,104:2,105:2,106:2,107:2,108:2,109:2};function vl(t){var e=hl[t];return void 0===e?0:e}function yl(t,e,n,r){return{type:t,key:e,elements:n,getIndex:r}}function _l(t,e,n,r,i,o){for(var a=t.residues,u=a.auth_seq_id,s=a.label_seq_id,c=a.pdbx_PDB_ins_code,l=n.endSeqId,d=n.endInsCode,f=n.key,p=n.type,m="label"===e?s:u,h=r;h<i;){var g=m.value(h);if(o.type[h]=p,o.key[h]=f,g>l||g===l&&c.value(h)===d)break;h++}}(ml=pl||(pl={})).Descriptor={name:"model_secondary_structure"},ml.Provider=Jr.create(ml.Descriptor),ml.fromStruct=function(t,e,n){var r=new Map,i=[{kind:"none"}],o=function(t,e){if(t._rowCount>0){if(0!==t.beg_label_seq_id.valueKind(0)||0!==t.end_label_seq_id.valueKind(0))return"auth"}else if(e&&(0!==e.beg_label_seq_id.valueKind(0)||0!==e.end_label_seq_id.valueKind(0)))return"auth";return"label"}(t,e);!function(t,e,n,r){if(t._rowCount)for(var i=t.beg_label_asym_id,o=t.beg_label_seq_id,a=t.beg_auth_seq_id,u=t.pdbx_beg_PDB_ins_code,s=t.end_label_seq_id,c=t.end_auth_seq_id,l=t.pdbx_end_PDB_ins_code,d=t.pdbx_PDB_helix_class,f=t.conf_type_id,p=t.details,m="label"===e?o:a,h="label"===e?s:c,g=0,v=t._rowCount;g<v;g++){var y=Co.create(0===d.valueKind(g)?Co.SecondaryStructurePdb[d.value(g)]:0===f.valueKind(g)?Co.SecondaryStructureMmcif[f.value(g)]:536870912),_={kind:"helix",flags:y,type_id:0===f.valueKind(g)?f.value(g):"helx_p",helix_class:d.value(g),details:0===p.valueKind(g)?p.value(g):void 0},b={startSeqId:m.value(g),startInsCode:u.value(g),endSeqId:h.value(g),endInsCode:l.value(g),type:y,key:r.length};r[r.length]=_;var x=i.value(g);if(n.has(x)){var A=n.get(x);A.has(b.startSeqId)?A.get(b.startSeqId).push(b):A.set(b.startSeqId,[b])}else n.set(x,new Map([[b.startSeqId,[b]]]))}}(t,o,r,i),function(t,e,n,r,i){if(t._rowCount)for(var o=t.beg_label_asym_id,a=t.beg_label_seq_id,u=t.beg_auth_seq_id,s=t.pdbx_beg_PDB_ins_code,c=t.end_label_seq_id,l=t.end_auth_seq_id,d=t.pdbx_end_PDB_ins_code,f=t.sheet_id,p="label"===e?a:u,m="label"===e?c:l,h=new Map,g=r+1,v=0,y=t._rowCount;v<y;v++){var _=f.value(v),b=void 0;h.has(_)?b=h.get(_):(b=g++,h.set(_,b));var x=Co.create(8388612),A={kind:"sheet",flags:x,sheet_id:_,symmetry:void 0},w={startSeqId:p.value(v),startInsCode:s.value(v),endSeqId:m.value(v),endInsCode:d.value(v),type:x,key:i.length};i[i.length]=A;var S=o.value(v);if(n.has(S)){var C=n.get(S);C.has(w.startSeqId)?C.get(w.startSeqId).push(w):C.set(w.startSeqId,[w])}else n.set(S,new Map([[w.startSeqId,[w]]]))}}(e,o,r,t._rowCount,i);var a=n.residues._rowCount,u={type:new Int32Array(a),key:new Int32Array(a),elements:i};return r.size>0&&function(t,e,n,r){for(var i=t.chainAtomSegments.count,o=t.chains.label_asym_id,a=t.residues,u=a.auth_seq_id,s=a.label_seq_id,c=a.pdbx_PDB_ins_code,l="label"===e?s:u,d=0;d<i;d++){var f=Pc.chainStartResidueIndex(t,d),p=Pc.chainEndResidueIndexExcl(t,d),m=o.value(d);if(n.has(m))for(var h=n.get(m),g=f;g<p;g++){var v=l.value(g);if(h.has(v))for(var y=h.get(v),_=0,b=y;_<b.length;_++){var x=b[_],A=c.value(g);x.startInsCode===A&&_l(t,e,x,g,p,r)}}}}(n,o,r,u),yl(u.type,u.key,u.elements,(function(t){return t}))};var bl,xl,Al,wl={U:Va.atom_site_anisotrop.U,U_esd:Va.atom_site_anisotrop.U_esd};(xl=bl||(bl={})).Schema=wl,xl.Descriptor={name:"atom_site_anisotrop",cifExport:{prefix:"",categories:[{name:"atom_site_anisotrop",instance:function(t){return xl.Provider.get(t.firstModel)&&Pl.is(t.firstModel.sourceData)?Au.Category.ofTable(t.firstModel.sourceData.data.db.atom_site_anisotrop):Au.Category.Empty}}]}},xl.Provider=Jr.create(xl.Descriptor),xl.getElementToAnsiotrop=function(t,e){var n=new Int32Array(t.rowCount);n.fill(-1);for(var r=0,i=t.rowCount;r<i;r++)n[t.value(r)]=r;var o=new Int32Array(t.rowCount);for(o.fill(-1),r=0,i=e.rowCount;r<i;++r){var a=n[e.value(r)];-1!==a&&(o[a]=r)}return o},xl.getElementToAnsiotropFromLabel=function(t,e){for(var n={},r=0,i=t.rowCount;r<i;r++)n[t.value(r)]=r;var o=new Int32Array(t.rowCount);for(o.fill(-1),r=0,i=e.rowCount;r<i;++r){var a=n[e.value(r)];void 0!==a&&(o[a]=r)}return o},function(t){var e,n="molstar_global_model_transform_info";function r(e){return t.Provider.get(e)}t.Schema=((e={})[n]={matrix:kt.Schema.Matrix(4,4,kt.Schema.float)},e),t.Descriptor=Pr({name:n,cifExport:{categories:[{name:n,instance:function(e){var n=r(e.firstModel);if(!n)return Au.Category.Empty;var i=Xt.ofRows(t.Schema.molstar_global_model_transform_info,[{matrix:n}]);return Au.Category.ofTable(i)}}],prefix:"molstar"}}),t.Provider=Jr.create(t.Descriptor),t.attach=function(e,n){e.customProperties.has(t.Descriptor)||e.customProperties.add(t.Descriptor),t.Provider.set(e,n)},t.get=r,t.fromMmCif=function(e){if(Pl.is(e.sourceData)){var r=e.sourceData.data.frame.categories[n];if(r){var i,o=(i=t.Schema[n],new fi(r,i,!0));if(0!==o._rowCount)return o.matrix.value(0)}}},t.hasData=function(t){if(!Pl.is(t.sourceData))return!1;var e=t.sourceData.data.frame.categories[n];return!!e&&e.rowCount>0},t.writeMmCif=function(e,r){e.writeCategory({name:n,instance:function(){var e=Xt.ofRows(t.Schema.molstar_global_model_transform_info,[{matrix:r}]);return Au.Category.ofTable(e)}})}}(Al||(Al={}));Va.atom_site.label_comp_id,Va.atom_site.label_seq_id,Va.atom_site.pdbx_PDB_ins_code,Va.atom_site.label_asym_id,Va.atom_site.label_entity_id,Va.atom_site.auth_atom_id,Va.atom_site.auth_seq_id,Va.atom_site.auth_asym_id,Object(v.a)(Object(v.a)({},Va.chem_comp_bond),{molstar_protonation_variant:kt.Schema.Str()});var Sl=Object(v.a)(Object(v.a)({},Va.chem_comp),{type:kt.Schema.Aliased(kt.Schema.str)});function Cl(t,e){var n=e.ihm_model_group,r=e.ihm_model_group_link,i=Xt.pickRow(r,(function(e){return r.model_id.value(e)===t}));if(i){var o=Xt.pickRow(n,(function(t){return n.id.value(t)===i.group_id}));if(o)return o.name}return""}var Bl={entry:Va.entry,struct:Va.struct,struct_asym:Va.struct_asym,ihm_model_list:Va.ihm_model_list,ihm_model_group:Va.ihm_model_group,ihm_model_group_link:Va.ihm_model_group_link,entity:Va.entity,entity_poly:Va.entity_poly,entity_poly_seq:Va.entity_poly_seq,pdbx_entity_branch:Va.pdbx_entity_branch,chem_comp:Sl,pdbx_chem_comp_identifier:Va.pdbx_chem_comp_identifier,atom_site:Va.atom_site,ihm_sphere_obj_site:Va.ihm_sphere_obj_site,ihm_gaussian_obj_site:Va.ihm_gaussian_obj_site,pdbx_unobs_or_zero_occ_residues:Va.pdbx_unobs_or_zero_occ_residues,pdbx_molecule:Va.pdbx_molecule};!function(){function t(){this.count=0,this.ids=[],this.types=[],this.descriptions=[],this.compoundsMap=new Map,this.namesMap=new Map,this.heteroMap=new Map,this.chainMap=new Map}t.prototype.set=function(t,e){this.count+=1,this.ids.push("".concat(this.count)),this.types.push(t),this.descriptions.push([e])},t.prototype.getEntityId=function(t,e,n,r){return 2===e?(void 0===this.waterId&&(this.set("water",(null==r?void 0:r.customName)||"Water"),this.waterId="".concat(this.count)),this.waterId):ea(e)?this.compoundsMap.has(n)?this.compoundsMap.get(n):(this.chainMap.has(n)||(this.set("polymer",(null==r?void 0:r.customName)||"Polymer ".concat(this.chainMap.size+1)),this.chainMap.set(n,"".concat(this.count))),this.chainMap.get(n)):(this.heteroMap.has(t)||(this.set("non-polymer",(null==r?void 0:r.customName)||this.namesMap.get(t)||t),this.heteroMap.set(t,"".concat(this.count))),this.heteroMap.get(t))},t.prototype.getEntityTable=function(){return Xt.ofPartialColumns(Bl.entity,{id:kt.ofStringArray(this.ids),type:kt.ofStringAliasArray(this.types),pdbx_description:kt.ofStringListArray(this.descriptions)},this.count)},t.prototype.setCompounds=function(t){for(var e=0,n=t.length;e<n;++e){var r=t[e],i=r.chains,o=r.description;this.set("polymer",o);for(var a=0,u=i.length;a<u;++a)this.compoundsMap.set(i[a],"".concat(this.count))}},t.prototype.setNames=function(t){var e=this;t.forEach((function(t){return e.namesMap.set(t[0],t[1])}))}}();var Il,Pl,El,Ml,kl,Dl=[new Set(["CA"]),new Set(["C"]),new Set(["N"])],Ol=[new Set(["P","O3'","O3*"]),new Set(["C4'","C4*"]),new Set(["O2'","O2*","F2'","F2*"])],Nl=[new Set(["P","O3'","O3*"]),new Set(["C3'","C3*"]),new Set(["O2'","O2*","F2'","F2*"])],Tl=new Set(["FMN","NCN","FNS","FMA","ATP","ADP","AMP","GTP","GDP","GMP","LIG"]),Ul=(Il=new Map,[{id:"HIS",name:"HISTIDINE",type:"l-peptide linking"},{id:"ARG",name:"ARGININE",type:"l-peptide linking"},{id:"LYS",name:"LYSINE",type:"l-peptide linking"},{id:"ILE",name:"ISOLEUCINE",type:"l-peptide linking"},{id:"PHE",name:"PHENYLALANINE",type:"l-peptide linking"},{id:"LEU",name:"LEUCINE",type:"l-peptide linking"},{id:"TRP",name:"TRYPTOPHAN",type:"l-peptide linking"},{id:"ALA",name:"ALANINE",type:"l-peptide linking"},{id:"MET",name:"METHIONINE",type:"l-peptide linking"},{id:"CYS",name:"CYSTEINE",type:"l-peptide linking"},{id:"ASN",name:"ASPARAGINE",type:"l-peptide linking"},{id:"VAL",name:"VALINE",type:"l-peptide linking"},{id:"GLY",name:"GLYCINE",type:"peptide linking"},{id:"SER",name:"SERINE",type:"l-peptide linking"},{id:"GLN",name:"GLUTAMINE",type:"l-peptide linking"},{id:"TYR",name:"TYROSINE",type:"l-peptide linking"},{id:"ASP",name:"ASPARTIC ACID",type:"l-peptide linking"},{id:"GLU",name:"GLUTAMIC ACID",type:"l-peptide linking"},{id:"THR",name:"THREONINE",type:"l-peptide linking"},{id:"PRO",name:"PROLINE",type:"l-peptide linking"},{id:"SEC",name:"SELENOCYSTEINE",type:"l-peptide linking"},{id:"PYL",name:"PYRROLYSINE",type:"l-peptide linking"},{id:"MSE",name:"SELENOMETHIONINE",type:"l-peptide linking"},{id:"SEP",name:"PHOSPHOSERINE",type:"l-peptide linking"},{id:"TPO",name:"PHOSPHOTHREONINE",type:"l-peptide linking"},{id:"PTR",name:"O-PHOSPHOTYROSINE",type:"l-peptide linking"},{id:"PCA",name:"PYROGLUTAMIC ACID",type:"l-peptide linking"},{id:"A",name:"ADENOSINE-5'-MONOPHOSPHATE",type:"rna linking"},{id:"C",name:"CYTIDINE-5'-MONOPHOSPHATE",type:"rna linking"},{id:"T",name:"THYMIDINE-5'-MONOPHOSPHATE",type:"rna linking"},{id:"G",name:"GUANOSINE-5'-MONOPHOSPHATE",type:"rna linking"},{id:"I",name:"INOSINIC ACID",type:"rna linking"},{id:"U",name:"URIDINE-5'-MONOPHOSPHATE",type:"rna linking"},{id:"DA",name:"2'-DEOXYADENOSINE-5'-MONOPHOSPHATE",type:"dna linking"},{id:"DC",name:"2'-DEOXYCYTIDINE-5'-MONOPHOSPHATE",type:"dna linking"},{id:"DT",name:"THYMIDINE-5'-MONOPHOSPHATE",type:"dna linking"},{id:"DG",name:"2'-DEOXYGUANOSINE-5'-MONOPHOSPHATE",type:"dna linking"},{id:"DI",name:"2'-DEOXYINOSINE-5'-MONOPHOSPHATE",type:"dna linking"},{id:"DU",name:"2'-DEOXYURIDINE-5'-MONOPHOSPHATE",type:"dna linking"}].forEach((function(t){return Il.set(t.id,t)})),Il),Rl=function(){var t=new Map;return[{id:"ZN2",name:"ZINC ION",type:"ion"},{id:"SOD",name:"SODIUM ION",type:"ion"},{id:"CES",name:"CESIUM ION",type:"ion"},{id:"CLA",name:"CHLORIDE ION",type:"ion"},{id:"CAL",name:"CALCIUM ION",type:"ion"},{id:"POT",name:"POTASSIUM ION",type:"ion"}].forEach((function(e){return t.set(e.id,e)})),t}();!function(){function t(t,e){this.seqId=t,this.atomId=e,this.namesMap=new Map,this.comps=new Map,this.ids=[],this.names=[],this.types=[],this.mon_nstd_flags=[]}t.prototype.set=function(t){this.comps.set(t.id,t),this.ids.push(t.id),this.names.push(t.name),this.types.push(t.type),this.mon_nstd_flags.push(Wo.has(t.id)?"y":"n")},t.prototype.getAtomIds=function(t){for(var e=new Set,n=this.seqId.value(t);t<this.seqId.rowCount;){var r=this.seqId.value(t);if(r!==n)break;e.add(this.atomId.value(t)),t+=1}return e},t.prototype.hasAtomIds=function(t,e){for(var n=0,r=e.length;n<r;++n)if(!go.areIntersecting(t,e[n]))return!1;return!0},t.prototype.getType=function(t){return this.hasAtomIds(t,Dl)?"peptide linking":this.hasAtomIds(t,Ol)?"rna linking":this.hasAtomIds(t,Nl)?"dna linking":"other"},t.prototype.has=function(t){return this.comps.has(t)},t.prototype.get=function(t){return this.comps.get(t)},t.prototype.add=function(t,e){if(!this.has(t))if(Ul.has(t))this.set(Ul.get(t));else if(qo.has(t))this.set({id:t,name:"WATER",type:"non-polymer"});else if(Tl.has(t.toUpperCase()))this.set({id:t,name:this.namesMap.get(t)||t,type:"non-polymer"});else if(yo.has(t.toUpperCase()))this.set({id:t,name:this.namesMap.get(t)||t,type:"saccharide"});else{var n=this.getAtomIds(e);if(1===n.size&&Rl.has(t))this.set(Rl.get(t));else{var r=this.getType(n);this.set({id:t,name:this.namesMap.get(t)||t,type:r})}}return this.get(t)},t.prototype.getChemCompTable=function(){return Xt.ofPartialColumns(Bl.chem_comp,{id:kt.ofStringArray(this.ids),name:kt.ofStringArray(this.names),type:kt.ofStringAliasArray(this.types),mon_nstd_flag:kt.ofStringAliasArray(this.mon_nstd_flags)},this.ids.length)},t.prototype.setNames=function(t){var e=this;t.forEach((function(t){return e.namesMap.set(t[0],t[1])}))}}();Ns.Provider.formatRegistry.add("mmCIF",(function(t){if(Pl.is(t.sourceData))return Ns.fromData(t.sourceData.data.db)})),pl.Provider.formatRegistry.add("mmCIF",(function(t){if(Pl.is(t.sourceData)){var e=t.sourceData.data.db,n=e.struct_conf,r=e.struct_sheet_range;return pl.fromStruct(n,r,t.atomicHierarchy)}})),bl.Provider.formatRegistry.add("mmCIF",(function(t){if(Pl.is(t.sourceData)){var e=t.sourceData.data.db.atom_site_anisotrop;return{data:Xt.ofColumns(bl.Schema,e),elementToAnsiotrop:bl.getElementToAnsiotrop(t.atomicConformation.atomId,e.id)}}}),(function(t){return!!Pl.is(t.sourceData)&&t.sourceData.data.db.atom_site_anisotrop.U.isDefined})),wu.Provider.formatRegistry.add("mmCIF",(function(t){if(Pl.is(t.sourceData)){var e=t.sourceData.data.db.chem_comp_bond;if(0!==e._rowCount)return{data:e,entries:wu.getEntriesFromChemCompBond(e)}}})),Su.Provider.formatRegistry.add("mmCIF",(function(t){if(Pl.is(t.sourceData)){var e=t.sourceData.data.db.struct_conn;if(0!==e._rowCount){var n=Su.getEntriesFromStructConn(e,t);return{data:e,byAtomIndex:Su.getAtomIndexFromEntries(n),entries:n}}}})),Al.Provider.formatRegistry.add("mmCIF",Al.fromMmCif,Al.hasData),(El=Pl||(Pl={})).is=function(t){return"mmCIF"===(null==t?void 0:t.kind)},El.fromFrame=function(t,e,n){return e||(e=cl.mmCIF(t)),{kind:"mmCIF",name:e._name,data:{db:e,frame:t,source:n}}},(kl=Ml||(Ml={})).CoordinateType={get:function(t){return t._staticPropertyData.__CcdCoordinateType__},set:function(t,e){return t._staticPropertyData.__CcdCoordinateType__=e}},kl.is=function(t){return"CCD"===(null==t?void 0:t.kind)},kl.fromFrame=function(t,e){return e||(e=cl.CCD(t)),{kind:"CCD",name:e._name,data:{db:e,frame:t}}};var Ll=Object.prototype.hasOwnProperty;var Gl=n(2);function Fl(t,e){return t[e]|t[e+1]<<8}function ql(t,e){return 16777216*t[e+3]+(t[e+2]<<16|t[e+1]<<8|t[e])}function jl(t,e,n){for(var r,i,o="",a=0;a<n;a++)o+="%"+((i=t[e+a].toString(16)).length<2?"0"+i:i);try{r=decodeURIComponent(o)}catch(r){return function(t,e,n){for(var r="",i=0;i<n;i++)r+=String.fromCharCode(t[e+i]);return r}(t,e,n)}return r}var Hl=function(){for(var t=new Uint32Array(256),e=0;e<256;e++){for(var n=e,r=0;r<8;r++)1&n?n=3988292384^n>>>1:n>>>=1;t[e]=n}return t}();function Vl(t,e,n){return 4294967295^function(t,e,n,r){for(var i=0;i<r;i++)t=Hl[255&(t^e[n+i])]^t>>>8;return t}(4294967295,t,e,n)}var zl,Yl,Kl=(zl=Uint16Array,Yl=Uint32Array,{next_code:new zl(16),bl_count:new zl(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new zl(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new Yl(32),flmap:new zl(512),fltree:[],fdmap:new zl(32),fdtree:[],lmap:new zl(32768),ltree:[],ttree:[],dmap:new zl(32768),dtree:[],imap:new zl(512),itree:[],rev15:new zl(32768),lhst:new Yl(286),dhst:new Yl(30),ihst:new Yl(19),lits:new Yl(15e3),strt:new zl(65536),prev:new zl(32768)});function Zl(t,e,n){for(var r=t.length,i=Kl.rev15,o=0;o<r;o+=2)if(0!==t[o+1])for(var a=o>>1,u=t[o+1],s=a<<4|u,c=e-u,l=t[o]<<c,d=l+(1<<c);l!==d;){n[i[l]>>>15-e]=s,l++}}function Wl(t,e){for(var n=t.length,r=Kl.bl_count,i=0;i<=e;i++)r[i]=0;for(i=1;i<n;i+=2)r[t[i]]++;var o=Kl.next_code,a=0;r[0]=0;for(var u=1;u<=e;u++)a=a+r[u-1]<<1,o[u]=a;for(var s=0;s<n;s+=2){var c=t[s+1];0!==c&&(t[s]=o[c],o[c]++)}}function Xl(t,e){for(var n=Kl.rev15,r=15-e,i=0;i<t.length;i+=2){var o=t[i]<<e-t[i+1];t[i]=n[o]>>>r}}function Ql(t,e,n){return Object(v.b)(this,void 0,void 0,(function(){var r;return Object(v.d)(this,(function(i){switch(i.label){case 0:if(3===e[0]&&0===e[1])return[2,n||new Uint8Array(0)];r=function(t,e){var n=void 0===e;return void 0===e&&(e=new Uint8Array(t.length>>>2<<3)),{data:t,buf:e,noBuf:n,BFINAL:0,off:0,pos:0}}(e,n),i.label=1;case 1:return 0!==r.BFINAL?[3,4]:t.shouldUpdate?[4,t.update({message:"Inflating blocks...",current:r.pos,max:e.length})]:[3,3];case 2:i.sent(),i.label=3;case 3:return function(t,e){for(var n=t.data,r=t.noBuf,i=t.buf,o=t.BFINAL,a=t.off,u=t.pos,s=0;0===o&&s<e;){var c=void 0,l=void 0,d=0,f=0;o=nd(n,u,1),s+=1;var p=nd(n,u+1,2);if(u+=3,0!==p){if(r&&(i=Jl(i,a+(1<<17))),1===p)c=Kl.flmap,l=Kl.fdmap,d=511,f=31;else{if(2!==p)throw new Error("unknown BTYPE ".concat(p));var m=ed(n,u,5)+257,h=ed(n,u+5,5)+1,g=ed(n,u+10,4)+4;u+=14;for(var v=0;v<38;v+=2)Kl.itree[v]=0,Kl.itree[v+1]=0;var y=1;for(v=0;v<g;v++){var _=ed(n,u+3*v,3);Kl.itree[1+(Kl.ordr[v]<<1)]=_,_>y&&(y=_)}u+=3*g,Wl(Kl.itree,y),Zl(Kl.itree,y,Kl.imap),c=Kl.lmap,l=Kl.dmap,u=$l(Kl.imap,(1<<y)-1,m+h,n,u,Kl.ttree);var b=td(Kl.ttree,0,m,Kl.ltree);d=(1<<b)-1;var x=td(Kl.ttree,m,h,Kl.dtree);f=(1<<x)-1,Wl(Kl.ltree,b),Zl(Kl.ltree,b,c),Wl(Kl.dtree,x),Zl(Kl.dtree,x,l)}for(;;){var A=c[rd(n,u)&d];u+=15&A;var w=A>>>4;if(w>>>8==0)i[a++]=w;else{if(256===w)break;var S=a+w-254;if(w>264){var C=Kl.ldef[w-257];S=a+(C>>>3)+ed(n,u,7&C),u+=7&C}var B=l[rd(n,u)&f];u+=15&B;var I=B>>>4,P=Kl.ddef[I],E=(P>>>4)+nd(n,u,15&P);for(u+=15&P,r&&(i=Jl(i,a+(1<<17)));a<S;)i[a]=i[a++-E],i[a]=i[a++-E],i[a]=i[a++-E],i[a]=i[a++-E];a=S}}}else{0!=(7&u)&&(u+=8-(7&u));var M=4+(u>>>3),k=n[M-4]|n[M-3]<<8;r&&(i=Jl(i,a+k)),i.set(new Uint8Array(n.buffer,n.byteOffset+M,k),a),u=M+k<<3,a+=k}}t.buf=i,t.BFINAL=o,t.off=a,t.pos=u}(r,100),[3,1];case 4:return[2,r.buf.length===r.off?r.buf:r.buf.slice(0,r.off)]}}))}))}function Jl(t,e){var n=t.length;if(e<=n)return t;var r=new Uint8Array(Math.max(n<<1,e));return r.set(t,0),r}function $l(t,e,n,r,i,o){for(var a=0;a<n;){var u=t[rd(r,i)&e];i+=15&u;var s=u>>>4;if(s<=15)o[a]=s,a++;else{var c=0,l=0;16===s?(l=3+ed(r,i,2),i+=2,c=o[a-1]):17===s?(l=3+ed(r,i,3),i+=3):18===s&&(l=11+ed(r,i,7),i+=7);for(var d=a+l;a<d;)o[a]=c,a++}}return i}function td(t,e,n,r){for(var i=0,o=0,a=r.length>>>1;o<n;){var u=t[o+e];r[o<<1]=0,r[1+(o<<1)]=u,u>i&&(i=u),o++}for(;o<a;)r[o<<1]=0,r[1+(o<<1)]=0,o++;return i}function ed(t,e,n){return(t[e>>>3]|t[1+(e>>>3)]<<8)>>>(7&e)&(1<<n)-1}function nd(t,e,n){return(t[e>>>3]|t[1+(e>>>3)]<<8|t[2+(e>>>3)]<<16)>>>(7&e)&(1<<n)-1}function rd(t,e){return(t[e>>>3]|t[1+(e>>>3)]<<8|t[2+(e>>>3)]<<16)>>>(7&e)}!function(){for(var t=0;t<32768;t++){var e=t;e=(4278255360&(e=(4042322160&(e=(3435973836&(e=(2863311530&e)>>>1|(1431655765&e)<<1))>>>2|(858993459&e)<<2))>>>4|(252645135&e)<<4))>>>8|(16711935&e)<<8,Kl.rev15[t]=(e>>>16|e<<16)>>>17}function n(t,e,n){for(;0!=e--;)t.push(0,n)}for(t=0;t<32;t++)Kl.ldef[t]=Kl.of0[t]<<3|Kl.exb[t],Kl.ddef[t]=Kl.df0[t]<<4|Kl.dxb[t];n(Kl.fltree,144,8),n(Kl.fltree,112,9),n(Kl.fltree,24,7),n(Kl.fltree,8,8),Wl(Kl.fltree,9),Zl(Kl.fltree,9,Kl.flmap),Xl(Kl.fltree,9),n(Kl.fdtree,32,5),Wl(Kl.fdtree,5),Zl(Kl.fdtree,5,Kl.fdmap),Xl(Kl.fdtree,5),n(Kl.itree,19,0),n(Kl.ltree,286,0),n(Kl.dtree,30,0),n(Kl.ttree,320,0)}();var id;function od(t,e,n){return void 0===n&&(n=!1),Object(v.b)(this,void 0,void 0,(function(){var r,i,o,a,u,s,c,l,d,f,p,m,h;return Object(v.d)(this,(function(g){switch(g.label){case 0:for(r=Object.create(null),i=new Uint8Array(e),o=i.length-4;101010256!==ql(i,o);)o--;a=o,a+=4,u=Fl(i,a+=4),a+=2,a+=2,s=ql(i,a+=4),a+=4,a=s,c=0,g.label=1;case 1:return c<u?(a+=4,a+=4,a+=4,a+=4,l=ql(i,a+=4),d=ql(i,a+=4),f=Fl(i,a+=4),p=Fl(i,a+2),m=Fl(i,a+4),a+=6,h=ql(i,a+=8),a+=4,a+=f+p+m,[4,ad(t,i,h,r,l,d,n)]):[3,4];case 2:g.sent(),g.label=3;case 3:return c++,[3,1];case 4:return[2,r]}}))}))}function ad(t,e,n,r,i,o,a){return Object(v.b)(this,void 0,void 0,(function(){var u,s,c,l,d,f;return Object(v.d)(this,(function(p){switch(p.label){case 0:return n+=4,n+=2,u=Fl(e,n+=2),n+=2,n+=4,n+=4,s=Fl(e,n+=8),c=Fl(e,n+=2),l=jl(e,n+=2,s),n+=s,n+=c,a?(r[l]={size:o,csize:i},[2]):(d=new Uint8Array(e.buffer,n),0!==u?[3,1]:(r[l]=new Uint8Array(d.buffer.slice(n,n+i)),[3,4]));case 1:return 8!==u?[3,3]:(f=new Uint8Array(o),[4,ud(t,d,f)]);case 2:return p.sent(),r[l]=f,[3,4];case 3:throw new Error("unknown compression method: ".concat(u));case 4:return[2]}}))}))}function ud(t,e,n){return Object(v.b)(this,void 0,void 0,(function(){return Object(v.d)(this,(function(r){return[2,Ql(t,e,n)]}))}))}function sd(t,e,n){return Object(v.b)(this,void 0,void 0,(function(){var r,i,o,a,u,s,c,l,d;return Object(v.d)(this,(function(f){switch(f.label){case 0:if(r=e[3],i=10,4&r&&(o=Fl(e,i),i+=o),8&r){for(a=i;0!==e[a];)++a;i=a+1}if(16&r){for(a=i;0!==e[a];)++a;i=a+1}return 1&r&&(i+=2),p=ql(e,e.length-8),u=p>>0,s=ql(e,e.length-4),void 0===n&&(n=new Uint8Array(s)),c=new Uint8Array(e.buffer,e.byteOffset+i,e.length-i-8),[4,ud(t,c,n)];case 1:return l=f.sent(),d=Vl(l,0,l.length),u!==d&&console.error("ungzip: checksums don't match"),[2,l]}var p}))}))}function cd(t,e){return vd(t,e)}function ld(t){return"string"==typeof t?_d(t,t,"string"):_d(t.title,t.url,t.type||"string",t.body,t.headers)}function dd(t){return t?"Failed to download data. Possible reasons: Resource is not available, or CORS is not allowed on the server.":"Failed to open file."}function fd(t,e,n){return new Promise((function(r,i){if(function(t){if(!Gl.b&&t instanceof FileReader)return t.readyState===FileReader.DONE;if(t instanceof Gl.c)return t.readyState===Gl.c.DONE;throw new Error("unknown data type")}(n)){var o=n.error;null!=o?i(null!=o?o:dd(n instanceof Gl.c)):r(n)}else{var a=!1;n.onerror=function(t){if(!a){var e=t.target.error;i(null!=e?e:dd(n instanceof Gl.c))}},n.onprogress=function(n){if(t.shouldUpdate&&!a)try{n.lengthComputable?t.update({message:e,isIndeterminate:!1,current:n.loaded,max:n.total}):t.update({message:"".concat(e," ").concat((n.loaded/1024/1024).toFixed(2)," MB"),isIndeterminate:!0})}catch(n){a=!0,i(n)}},n.onload=function(t){r(n)}}}))}function pd(t){return/\.gz$/i.test(t)?id.Gzip:/\.zip$/i.test(t)?id.Zip:id.None}!function(t){t[t.None=0]="None",t[t.Gzip=1]="Gzip",t[t.Zip=2]="Zip"}(id||(id={}));var md=/^(__MACOSX|.DS_Store)/;function hd(t,e,n){return Object(v.b)(this,void 0,void 0,(function(){var r,i;return Object(v.d)(this,(function(o){switch(o.label){case 0:switch(n){case id.None:return[3,1];case id.Gzip:return[3,2];case id.Zip:return[3,3]}return[3,5];case 1:return[2,e];case 2:return[2,sd(t,e)];case 3:return[4,od(t,e.buffer)];case 4:if(r=o.sent(),1!==(i=Object.keys(r).filter((function(t){return!md.test(t)}))).length)throw new Error("can only decompress zip files with a single entry");return[2,r[i[0]]];case 5:return[2]}}))}))}function gd(t,e,n,r){return Object(v.b)(this,void 0,void 0,(function(){var i,o;return Object(v.d)(this,(function(a){switch(a.label){case 0:if(null===(i=e instanceof ArrayBuffer?new Uint8Array(e):e))throw new Error("no data given");if(r===id.None)return[3,4];if(!(i instanceof Uint8Array))throw new Error("need Uint8Array for decompression");return[4,hd(t,i,r)];case 1:return o=a.sent(),"string"!==n?[3,3]:[4,t.update({message:"Decoding text..."})];case 2:return a.sent(),i=_u(o,0,o.length),[3,4];case 3:i=o,a.label=4;case 4:return"binary"===n&&i instanceof Uint8Array?[2,i]:[3,5];case 5:return"zip"===n&&i instanceof Uint8Array?[4,od(t,i.buffer)]:[3,7];case 6:return[2,a.sent()];case 7:if("string"===n&&"string"==typeof i)return[2,i];if("xml"===n&&"string"==typeof i)return[2,(new DOMParser).parseFromString(i,"application/xml")];if("json"===n&&"string"==typeof i)return[2,JSON.parse(i)];a.label=8;case 8:throw new Error("could not get requested response data '".concat(n,"'"))}}))}))}function vd(t,e){var n=this;if(Gl.b)return function(t,e){var n=this;return zr.create("Read File",(function(r){return Object(v.b)(n,void 0,void 0,(function(){var n,i;return Object(v.d)(this,(function(o){switch(o.label){case 0:return n="zip"===e?id.None:pd(t.name),[4,r.update({message:"Opening file...",canAbort:!1})];case 1:return o.sent(),"binary"!==e&&"zip"!==e&&n===id.None?[3,3]:[4,t.arrayBuffer()];case 2:return i=o.sent(),[3,5];case 3:return[4,t.text()];case 4:i=o.sent(),o.label=5;case 5:return[4,r.update({message:"Processing file...",canAbort:!1})];case 6:return o.sent(),[4,gd(r,i,e,n)];case 7:return[2,o.sent()]}}))}))}))}(t,e);var r=void 0;return zr.create("Read File",(function(i){return Object(v.b)(n,void 0,void 0,(function(){var n,o;return Object(v.d)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,,5,6]),r=new FileReader,n="zip"===e?id.None:pd(t.name),"binary"===e||"zip"===e||n!==id.None?r.readAsArrayBuffer(t):r.readAsText(t),[4,i.update({message:"Opening file...",canAbort:!0})];case 1:return a.sent(),[4,fd(i,"Reading...",r)];case 2:return o=a.sent(),[4,i.update({message:"Processing file...",canAbort:!1})];case 3:return a.sent(),[4,gd(i,o.result,e,n)];case 4:return[2,a.sent()];case 5:return r=void 0,[7];case 6:return[2]}}))}))}),(function(){r&&r.abort()}))}var yd=function(){function t(){}return t.get=function(){return this.pool.length?this.pool.pop():new Gl.c},t.emptyFunc=function(){},t.deposit=function(e){this.pool.length<this.poolSize&&(e.onabort=t.emptyFunc,e.onerror=t.emptyFunc,e.onload=t.emptyFunc,e.onprogress=t.emptyFunc,this.pool.push(e))},t.pool=[],t.poolSize=15,t}();function _d(t,e,n,r,i){var o=this;if(Gl.b&&e.startsWith("file://"))return function(t,e,n,r,i){if(!Gl.b)throw new Error("This function should only be used when running in Node.js");if(!e.startsWith("file://"))throw new Error("This function is only for URLs with protocol file://");var o=e.substring("file://".length),a=function(){if(!xd)throw new Error("When running in Node.js and reading from files, call mol-util/data-source's setFSModule function first.");return xd}().readFileSync(o);return cd(new Gl.a([a],"raw-data"),n)}(0,e,n);var a=void 0;return zr.create(t||"Download",(function(t){return Object(v.b)(o,void 0,void 0,(function(){var o,u,s,c,l,d;return Object(v.d)(this,(function(f){switch(f.label){case 0:if((a=yd.get()).open(r?"post":"get",e,!0),i)for(o=0,u=i;o<u.length;o++)s=u[o],c=s[0],l=s[1],a.setRequestHeader(c,l);return a.responseType=function(t){switch(t){case"json":return"json";case"xml":return"document";case"string":return"text";case"binary":case"zip":return"arraybuffer"}}(n),a.send(r),[4,t.update({message:"Waiting for server...",canAbort:!0})];case 1:return f.sent(),[4,fd(t,"Downloading...",a)];case 2:return d=f.sent(),a=void 0,[4,t.update({message:"Parsing response...",canAbort:!1})];case 3:return f.sent(),[2,function(t,e){if(t.status>=200&&t.status<400){var n=t.response;if(yd.deposit(t),("binary"===e||"zip"===e)&&n instanceof ArrayBuffer)return new Uint8Array(n);if("string"===e&&"string"==typeof n)return n;if("xml"===e&&n instanceof XMLDocument)return n;if("json"===e&&"object"==typeof n)return n;throw new Error("could not get requested response data '".concat(e,"'"))}throw yd.deposit(t),new Error("Download failed with status code ".concat(t.status))}(d,n)]}}))}))}),(function(){a&&(a.abort(),a=void 0)}))}var bd,xd=void 0;!function(t){function e(t,e){return Object(v.a)({kind:"url",id:Ft.a.create22(),url:t},e)}t.Url=e,t.File=function(t){return{kind:"file",id:Ft.a.create22(),name:t.name,file:t}},t.isUrl=function(t){return"url"===(null==t?void 0:t.kind)},t.isFile=function(t){return"file"===(null==t?void 0:t.kind)},t.Wrapper=function(t,e,n){return{data:t,dispose:function(){n.release(e)}}},t.getUrl=function(t){return"string"==typeof t?t:t.url},t.getUrlAsset=function(t,n,r){return"string"==typeof n?t.tryFindUrl(n,r)||e(n,{body:r}):n}}(bd||(bd={}));var Ad;!function(){function t(){this._assets=new Map}Object.defineProperty(t.prototype,"assets",{get:function(){return te(this._assets.values())},enumerable:!1,configurable:!0}),t.prototype.tryFindUrl=function(t,e){for(var n=this.assets.values();;){var r=n.next();if(r.done)return;var i=r.value.asset;if(bd.isUrl(i)&&i.url===t&&(i.body||"")===(e||""))return i}},t.prototype.set=function(t,e){this._assets.set(t.id,{asset:t,file:e,refCount:0})},t.prototype.get=function(t){return this._assets.get(t.id)},t.prototype.delete=function(t){return this._assets.delete(t.id)},t.prototype.has=function(t){return this._assets.has(t.id)},t.prototype.resolve=function(t,e,n){var r=this;return void 0===n&&(n=!0),bd.isUrl(t)?zr.create("Download ".concat(t.title||t.url),(function(i){return Object(v.b)(r,void 0,void 0,(function(){var r,o,a,u,s,c,l,d,f;return Object(v.d)(this,(function(p){switch(p.label){case 0:return this._assets.has(t.id)?((r=this._assets.get(t.id)).refCount++,a=(o=bd).Wrapper,[4,cd(r.file,e).runInContext(i)]):[3,2];case 1:return[2,a.apply(o,[p.sent(),t,this])];case 2:return n?[3,4]:(s=(u=bd).Wrapper,[4,ld(Object(v.a)(Object(v.a)({},t),{type:e})).runInContext(i)]);case 3:return[2,s.apply(u,[p.sent(),t,this])];case 4:return[4,ld(Object(v.a)(Object(v.a)({},t),{type:"binary"})).runInContext(i)];case 5:return c=p.sent(),l=new Gl.a([c],"raw-data"),this._assets.set(t.id,{asset:t,file:l,refCount:1}),f=(d=bd).Wrapper,[4,cd(l,e).runInContext(i)];case 6:return[2,f.apply(d,[p.sent(),t,this])]}}))}))})):zr.create("Read ".concat(t.name),(function(i){return Object(v.b)(r,void 0,void 0,(function(){var r,o,a,u,s;return Object(v.d)(this,(function(c){switch(c.label){case 0:return this._assets.has(t.id)?((r=this._assets.get(t.id)).refCount++,a=(o=bd).Wrapper,[4,cd(r.file,e).runInContext(i)]):[3,2];case 1:return[2,a.apply(o,[c.sent(),t,this])];case 2:if(!(t.file instanceof Gl.a))throw new Error("Cannot resolve file asset '".concat(t.name,"' (").concat(t.id,")"));return n&&this._assets.set(t.id,{asset:t,file:t.file,refCount:1}),s=(u=bd).Wrapper,[4,cd(t.file,e).runInContext(i)];case 3:return[2,s.apply(u,[c.sent(),t,this])]}}))}))}))},t.prototype.release=function(t){var e=this._assets.get(t.id);e&&(e.refCount--,e.refCount<=0&&this._assets.delete(t.id))}}();!function(t){function e(t,e){return e?(e.label&&(t.label=e.label),e.description&&(t.description=e.description),e.legend&&(t.legend=e.legend),e.fieldLabels&&(t.fieldLabels=e.fieldLabels),e.isHidden&&(t.isHidden=e.isHidden),e.shortLabel&&(t.shortLabel=e.shortLabel),e.twoColumns&&(t.twoColumns=e.twoColumns),e.isEssential&&(t.isEssential=e.isEssential),e.category&&(t.category=e.category),e.hideIf&&(t.hideIf=e.hideIf),e.help&&(t.help=e.help),t):t}function n(t,n,r){return e({type:"select",defaultValue:A(t,n),options:n,cycle:null==r?void 0:r.cycle},r)}function r(t,e){return e?(void 0!==e.min&&(t.min=e.min),void 0!==e.max&&(t.max=e.max),void 0!==e.step&&(t.step=e.step),t):t}function i(t,n){var r=e({type:"group",defaultValue:(null==n?void 0:n.customDefault)||u(t),params:t},n);return(null==n?void 0:n.presets)&&(r.presets=n.presets),(null==n?void 0:n.isExpanded)&&(r.isExpanded=n.isExpanded),(null==n?void 0:n.isFlat)&&(r.isFlat=n.isFlat),(null==n?void 0:n.pivot)&&(r.pivot=n.pivot),r}function o(){return u(this.element)}function a(){throw new Error("getValue not set. Fix runtime.")}function u(t){for(var e={},n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];t[i].isOptional||(e[i]=t[i].defaultValue)}return e}function s(t,e,n){return function(){return t(e,n)}}function c(t,e,n){if(e)if("value-ref"===t.type)(r=e).ref?r.getValue=s(t.resolveRef,r.ref,n):r.getValue=function(){throw new Error("Unset ref in ValueRef value.")};else if("data-ref"===t.type){(r=e).ref?r.getValue=s(n,r.ref,n):r.getValue=function(){throw new Error("Unset ref in ValueRef value.")}}else if("group"===t.type)f(t.params,e,n);else if("mapped"===t.type){var r=e;c(t.map(r.name),r.params,n)}else if("object-list"===t.type){if(!d(t.element))return;for(var i=0,o=e;i<o.length;i++){var a=o[i];f(t.element,a,n)}}}function l(t){if("value-ref"===t.type||"data-ref"===t.type)return!0;if("group"===t.type){if(d(t.params))return!0}else if("mapped"===t.type)for(var e=0,n=t.select.options;e<n.length;e++){var r=n[e][0];if(l(t.map(r)))return!0}else if("object-list"===t.type)return d(t.element);return!1}function d(t){for(var e=0,n=Object.keys(t);e<n.length;e++){if(l(t[n[e]]))return!0}return!1}function f(t,e,n){for(var r=0,i=Object.keys(t);r<i.length;r++){var o=i[r];c(t[o],null==e?void 0:e[o],n)}}function p(t,e,n){if(e===n)return!0;if("object"!=typeof e||"object"!=typeof n)return!1;for(var r=0,i=Object.keys(t);r<i.length;r++){var o=i[r];if(!m(t[o],e[o],n[o]))return!1}return!0}function m(t,e,n){if(e===n)return!0;if("group"===t.type)return p(t.params,e,n);if("mapped"===t.type){var r=n;return(u=e).name===r.name&&m(t.map(u.name),u.params,r.params)}if("multi-select"===t.type){r=n;if((u=e).length!==r.length)return!1;if(u.length<10){for(var i=0,o=u.length;i<o;i++)if(u[i]!==r[i]&&r.indexOf(u[i])<0)return!1}else{var a=new Set(r);for(i=0,o=u.length;i<o;i++)if(u[i]!==r[i]&&!a.has(u[i]))return!1}return!0}if("interval"===t.type)return e[0]===n[0]&&e[1]===n[1];if("line-graph"===t.type){r=n;if((u=e).length!==r.length)return!1;for(i=0,o=u.length;i<o;i++)if(!N.areEqual(u[i],r[i]))return!1;return!0}if("vec3"===t.type)return C.equals(e,n);if("mat4"===t.type)return D.areEqual(e,n,y);if("script"===t.type){r=n;return(u=e).language===r.language&&u.expression===r.expression}if("object-list"===t.type){r=n;var u,s=(u=e).length;if(s!==r.length)return!1;for(i=0;i<s;i++)if(!p(t.element,u[i],r[i]))return!1;return!0}return"object"==typeof e&&"object"==typeof n&&Zt(e,n)}function h(t,e,n){if(void 0===e)return Object(v.a)({},n);if(void 0===n)return Object(v.a)({},e);for(var r=Object.create(null),i=0,o=Object.keys(t);i<o.length;i++){var a=o[i];r[a]=g(t[a],e[a],n[a])}return r}function g(t,e,n){if(void 0===e)return"object"!=typeof n||Array.isArray(n)?n:Object(v.a)({},n);if(void 0===n)return"object"!=typeof e||Array.isArray(e)?e:Object(v.a)({},e);if("group"===t.type)return h(t.params,e,n);if("mapped"===t.type){var r=e,i=n;if(r.name!==i.name)return Object(v.a)({},i);var o=t.map(i.name);return{name:i.name,params:g(o,r.params,i.params)}}return"value"===t.type?n:"object"==typeof e&&"object"==typeof n?Array.isArray(n)?n:Object(v.a)(Object(v.a)({},e),n):n}function _(t,e){for(var n=0,r=t.options;n<r.length;n++){if(r[n][0]===e)return!0}return!1}function b(t,e,n){if(null==e)return n?t.defaultValue:void 0;if("value"===t.type)return e;if("group"===t.type){for(var r=Object.create(null),i=0,o=Object.keys(t.params);i<o.length;i++){var a=o[i],u=t.params[a];void 0===e[a]?n&&(r[a]=u.defaultValue):r[a]=b(u,e[a],n)}return r}if("mapped"===t.type){var s=e;if("string"!=typeof s.name)return t.defaultValue;if(void 0===s.params)return n?t.defaultValue:void 0;if(!_(t.select,s.name))return t.defaultValue;u=t.map(s.name);return{name:s.name,params:b(u,s.params,n)}}if("select"===t.type)return _(t,e)?e:t.defaultValue;if("multi-select"===t.type){if(!Array.isArray(e))return t.defaultValue;r=e.filter((function(t){return _(this,t)}),t);return e.length>0&&0===r.length?t.defaultValue:r}return"object-list"===t.type?Array.isArray(e)?e.map((function(e){return x(t.element,e,n?"all":"skip")})):t.defaultValue:e}function x(t,e,n){if("object"!=typeof e||null===e)return n?u(t):e;for(var r=Object.create(null),i=0,o=Object.keys(t);i<o.length;i++){var a=o[i],s=t[a];void 0===e[a]?"all"===n&&(r[a]=s.defaultValue):r[a]=b(s,e[a],"skip"!==n)}return r}function A(t,e){for(var n=0,r=e;n<r.length;n++){if(r[n][0]===t)return t}return e.length>0?e[0][0]:void 0}t.Essential={isEssential:!0},t.Optional=function(t){var e=Object(v.a)({},t);return e.isOptional=!0,e},t.Value=function(t,n){return e({type:"value",defaultValue:t},n)},t.Select=n,t.MultiSelect=function(t,n,r){var i=e({type:"multi-select",defaultValue:t,options:n},r);return(null==r?void 0:r.emptyValue)&&(i.emptyValue=r.emptyValue),i},t.Boolean=function(t,n){return e({type:"boolean",defaultValue:t},n)},t.Text=function(t,n){return void 0===t&&(t=""),e({type:"text",defaultValue:t},n)},t.Color=function(t,n){var r=e({type:"color",defaultValue:t},n);return(null==n?void 0:n.isExpanded)&&(r.isExpanded=n.isExpanded),r},t.ColorList=function(t,n){var r;if("string"==typeof t){var i=$i(t);r={kind:"qualitative"!==i.type?"interpolate":"set",colors:i.list}}else r=t;return e({type:"color-list",presetKind:(null==n?void 0:n.presetKind)||"all",defaultValue:r,offsets:!!(null==n?void 0:n.offsets)},n)},t.Vec3=function(t,n,i){return e(r({type:"vec3",defaultValue:t},n),i)},t.Mat4=function(t,n){return e({type:"mat4",defaultValue:t},n)},t.Url=function(t,n){return e({type:"url",defaultValue:"string"==typeof t?bd.Url(t):bd.Url(t.url,{body:t.body})},n)},t.File=function(t){var n=e({type:"file",defaultValue:null},t);return(null==t?void 0:t.accept)&&(n.accept=t.accept),n},t.FileList=function(t){var n=e({type:"file-list",defaultValue:null},t);return(null==t?void 0:t.accept)&&(n.accept=t.accept),n},t.Numeric=function(t,n,i){var o=e(r({type:"number",defaultValue:t},n),i);return(null==i?void 0:i.immediateUpdate)&&(o.immediateUpdate=!0),o},t.Interval=function(t,n,i){return e(r({type:"interval",defaultValue:t},n),i)},t.LineGraph=function(t,n){var r=e({type:"line-graph",defaultValue:t},n);return(null==n?void 0:n.getVolume)&&(r.getVolume=n.getVolume),r},t.Group=i,t.EmptyGroup=function(t){return i({},t)},t.Mapped=function(t,r,i,o){var a=A(t,r);return e({type:"mapped",defaultValue:{name:a,params:i(a).defaultValue},select:n(a,r,o),map:i},o)},t.MappedStatic=function(t,r,i){var o=(null==i?void 0:i.options)?i.options:Object.keys(r).map((function(t){return[t,r[t].label||Xi(t)]})),a=A(t,o);return e({type:"mapped",defaultValue:{name:a,params:r[a].defaultValue},select:n(a,o,i),map:function(t){return r[t]}},i)},t.ObjectList=function(t,n,r){return e({type:"object-list",element:t,getLabel:n,ctor:o,defaultValue:(null==r?void 0:r.defaultValue)||[]},r)},t.ValueRef=function(t,n,r){var i;return e({type:"value-ref",defaultValue:{ref:null!==(i=null==r?void 0:r.defaultRef)&&void 0!==i?i:"",getValue:a},getOptions:t,resolveRef:n},r)},t.DataRef=function(t){var n;return e({type:"data-ref",defaultValue:{ref:null!==(n=null==t?void 0:t.defaultRef)&&void 0!==n?n:"",getValue:a}},t)},t.Converted=function(t,n,r){return e({type:"converted",defaultValue:n(r.defaultValue),converted:r,fromValue:t,toValue:n},r)},t.Conditioned=function(t,r,i,o,a){var u=Object.keys(r).map((function(t){return[t,t]}));return e({type:"conditioned",select:n(i(t),u,a),defaultValue:t,conditionParams:r,conditionForValue:i,conditionedValue:o},a)},t.Script=function(t,n){return e({type:"script",defaultValue:t},n)},t.For=function(t){return 0},t.getDefaultValues=u,t.resolveRefs=f,t.setDefaultValues=function(t,e){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];t[i].isOptional||(t[i].defaultValue=e[i])}},t.clone=function(t){return function t(e){if(null===e||"object"!=typeof e)return e;if(e instanceof Array){for(var n=[],r=0,i=e.length;r<i;r++)n[r]=t(e[r]);return n}if("object"==typeof e&&!("prototype"in e)){n={};for(var o in e)Ll.call(e,o)&&(n[o]=t(e[o]));return n}throw new Error("Can't clone, type \"".concat(typeof e,'" unsupported'))}(t)},t.validate=function(t,e){},t.areEqual=p,t.isParamEqual=m,t.merge=h,t.mergeParam=g,t.normalizeParams=x,t.objectToOptions=function(t,e){for(var n=[],r=0,i=Object.keys(t);r<i.length;r++){var o=i[r];if(e){var a=e(o,t[o]);n.push("string"==typeof a?[o,a]:[o,a[0],a[1]])}else"string"==typeof t[o]?n.push([o,t[o]]):n.push([o,null===e?o:Xi(o)])}return n},t.arrayToOptions=function(t,e){for(var n=[],r=0,i=t;r<i.length;r++){var o=i[r];e?n.push([o,e(o)]):n.push([o,null===e?o:Xi(o)])}return n},t.optionLabel=function(t,e){for(var n=0,r=t.options;n<r.length;n++){var i=r[n];if(i[0]===e)return i[1]}return""}}(Ad||(Ad={}));var wd,Sd,Cd=-27.888;function Bd(t,e,n,r){var i=C.distance(t,r),o=C.distance(e,r),a=C.distance(e,n),u=C.distance(t,n),s=Cd/i-Cd/o+(Cd/a-Cd/u);return s<-9.9?-9.9:s}function Id(t,e,n){for(var r=e.residueIndices,i=e.cIndices,o=e.hIndices,a=e.nIndices,u=e.oIndices,s=t.model.atomicHierarchy.index,c=t.conformation.invariantPosition,l=t.model.atomicHierarchy.derived.residue.traceElementIndex,d=r.length,f=[],p=[],m=[],h=C(),g=C(),v=C(),y=C(),_=C(),b=C(),x=C(),A=0,w=r.length;A<w;++A){var S=A,B=r[A],I=u[S],P=i[S],E=l[B];if(-1!==I&&-1!==P&&-1===s.findAtomOnResidue(B,"OXT")){c(I,h),c(P,g),c(E,v);for(var M=n.find(v[0],v[1],v[2],9),k=M.indices,D=M.count,O=0;O<D;++O){var N=k[O];if(N!==S&&N-1!==S&&N+1!==S){var T=a[N];if(-1!==T){c(T,y);var U=o[N];if(-1===U){if(0===N)continue;var R=N-1,L=u[R],G=i[R];if(-1===L||-1===G)continue;c(L,x),c(G,b),C.sub(_,b,x);var F=C.distance(x,b);C.scaleAndAdd(_,y,_,1/F)}else c(U,_);var q=Bd(h,g,y,_);q>-.5||(f[f.length]=S,p[p.length]=N,m[m.length]=q)}}}}}return function(t,e,n,r){for(var i=new Zr.DirectedEdgeBuilder(t,e,n),o=new Float32Array(i.slotCount),a=0,u=i.edgeCount;a<u;a++)i.addNextEdge(),i.assignProperty(o,r[a]);return i.createGraph({energies:r})}(d,f,p,m)}(Sd=wd||(wd={})).is=Dt.has,Sd.create=Dt.create;var Pd=function(t,e,n){this.partner1=Math.min(t,e),this.partner2=Math.max(t,e),this.type=n};function Ed(t,e){if(e.type!==t.type)return!1;if(e.partner1!==t.firstEnd+1)return!1;if(0===e.type){if(e.partner2===t.secondEnd+1)return!0}else if(e.partner2===t.secondStart-1)return!0;return!1}function Md(t,e){return t.type===e.type&&e.firstStart-t.firstEnd<6&&t.firstStart<e.firstStart&&0===e.nextLadder&&(0===t.type?kd(t,e):kd(e,t))}function kd(t,e){return e.secondStart-t.secondEnd>0&&(e.secondStart-t.secondEnd<6&&e.firstStart-t.firstEnd<3||e.secondStart-t.secondEnd<3)}function Dd(t){return wd.is(t,8)||wd.is(t,1)||wd.is(t,16)}var Od,Nd={oldDefinition:Ad.Boolean(!0,{description:"Whether to use the old DSSP convention for the annotation of turns and helices, causes them to be two residues shorter"}),oldOrdering:Ad.Boolean(!0,{description:"Alpha-helices are preferred over 3-10 helices"})};function Td(t,e){return Object(v.b)(this,void 0,void 0,(function(){var n,r,i,o,a,u,s,c,l,d,f,p,m,h,g,y,_,b,x,A,w;return Object(v.d)(this,(function(v){for(n=function(t){for(var e=t.model.atomicHierarchy.index,n=t.proteinElements,r=t.residueIndex,i=n.length,o=new Uint32Array(i),a=new Int32Array(i),u=new Int32Array(i),s=new Int32Array(i),c=new Int32Array(i),l=0;l<i;++l){var d=r[n[l]];o[l]=d,a[l]=e.findAtomOnResidue(d,"C"),u[l]=e.findAtomOnResidue(d,"H"),s[l]=e.findAtomOnResidue(d,"O"),c[l]=e.findAtomOnResidue(d,"N")}return{residueIndices:sn.ofSortedArray(o),cIndices:a,hIndices:u,oIndices:s,nIndices:c}}(t),r=n.residueIndices,i=function(t,e){for(var n=t.model.atomicConformation,r=n.x,i=n.y,o=n.z,a=t.model.atomicHierarchy.derived.residue.traceElementIndex,u=new Uint32Array(e.length),s=0,c=e.length;s<c;++s)u[s]=a[e[s]];var l={x:r,y:i,z:o,indices:sn.ofSortedArray(u)};return mr(l,ks(l))}(t,r),o=Id(t,n,i),a=r.length,u=new Uint32Array(a),s=function(t,e){var n=e.cIndices,r=e.nIndices,i=e.residueIndices,o=t.conformation.position,a=t.model.atomicHierarchy.index,u=t.model.atomicHierarchy.derived.residue.traceElementIndex,s=i.length,c=function(t,e){return-1===t?C.setNaN(e):o(t,e)},l=C(),d=C(),f=C(),p=C(),m=C(),h=C(),g=C(),v=C(),y=C();if(0===s)return{phi:new Float32Array(0),psi:new Float32Array(0)};var _=new Float32Array(s-1),b=new Float32Array(s-1);c(-1,l),c(-1,d),c(-1,f),c(n[0],p),c(u[i[0]],m),c(r[0],h),c(n[1],g),c(u[i[1]],v),c(r[1],y);for(var x=0;x<s-1;++x)-1===a.findAtomOnResidue(i[x],"OXT")&&(_[x]=k(C.dihedralAngle(l,h,m,p)),b[x]=k(C.dihedralAngle(h,m,p,y)),l=p,d=m,f=h,p=g,m=v,h=y,c(n[x+1],g),c(u[i[x+1]],v),c(r[x+1],y));return{phi:_,psi:b}}(t,n),c=[],l=[],d=e.oldDefinition?Ld:Fd,f=e.oldOrdering?Gd:qd,function(t){for(var e=t.proteinInfo,n=t.hbonds,r=t.flags,i=[1024,2048,4096,128,256,512],o=0;o<3;o++)for(var a=0,u=e.residueIndices.length-1;a<u;++a)if(-1!==n.getDirectedEdgeIndex(a,a+o+3))if(r[a]|=i[o+3]|i[o],t.params.oldDefinition)for(var s=1;s<o+3;++s)r[a+s]|=64|i[o+3];else for(s=0;s<=o+3;++s)r[a+s]|=64|i[o+3]}(p={params:e,getResidueFlag:d,getFlagName:f,unit:t,proteinInfo:n,flags:u,hbonds:o,torsionAngles:s,ladders:c,bridges:l}),function(t){for(var e=t.proteinInfo,n=t.flags,r=e.residueIndices.length,i=[1024,2048,4096,128,256,512],o=[0,0,0,8,1,16],a=t.params.oldOrdering?[4,3,5]:[3,4,5],u=0;u<a.length;u++)for(var s=a[u],c=1,l=r-s;c<l;c++){var d=wd.create(n[c]),f=wd.create(n[c-1]),p=wd.create(n[c+1]);if(t.params.oldOrdering){if(3===s&&(wd.is(d,1)||wd.is(p,1))||5===s&&(wd.is(d,1)||wd.is(d,8)||wd.is(p,1)||wd.is(p,8)))continue}else if(4===s&&(wd.is(d,8)||wd.is(p,8))||5===s&&(wd.is(d,1)||wd.is(d,8)||wd.is(p,1)||wd.is(p,8)))continue;if(wd.is(d,i[s])&&wd.is(d,i[s-3])&&wd.is(f,i[s])&&wd.is(f,i[s-3]))if(t.params.oldDefinition)for(var m=0;m<s;m++)n[c+m]|=o[s];else for(m=-1;m<=s;m++)n[c+m]|=o[s]}}(p),function(t){var e=t.unit,n=t.flags,r=t.proteinInfo,i=e.conformation.position,o=e.model.atomicHierarchy.derived.residue.traceElementIndex,a=r.residueIndices,u=r.nIndices,s=a.length,c=function(t,e){return-1===t?C.setNaN(e):i(t,e)},l=C(),d=C(),f=C(),p=C(),m=C(),h=C(),g=C();t:for(var v=2;v<s-2;v++){for(var y=0;y<4;y++){var _=v+y-2;if(c(o[_],p),c(u[_+1],m),C.squaredDistance(p,m)>6.25)continue t}var b=a[v-2],x=a[v],A=a[v+2],w=o[b],S=o[x],B=o[A];c(w,l),c(S,d),c(B,f),C.sub(h,l,d),C.sub(g,d,f);var I=k(C.angle(h,g));I&&I>70&&(n[v]|=32)}}(p),function(t){for(var e,n,r=t.proteinInfo,i=t.hbonds,o=t.flags,a=t.bridges,u=i.offset,s=i.b,c=0,l=r.residueIndices.length;c<l;++c)for(var d=u[c],f=u[c+1];d<f;d++){var p=s[d];c>p||((e=c+1)!==(n=p)&&-1!==i.getDirectedEdgeIndex(n,e+1)&&(o[e]|=2,o[n]|=2,a[a.length]=new Pd(e,n,0)),(e=c)!==(n=p-1)&&-1!==i.getDirectedEdgeIndex(n-1,e)&&(o[e]|=2,o[n]|=2,a[a.length]=new Pd(n,e,0)),(e=c)!==(n=p)&&-1!==i.getDirectedEdgeIndex(n,e)&&(o[e]|=2,o[n]|=2,a[a.length]=new Pd(n,e,1)),(e=c+1)!==(n=p-1)&&-1!==i.getDirectedEdgeIndex(n-1,e+1)&&(o[e]|=2,o[n]|=2,a[a.length]=new Pd(n,e,1)))}a.sort((function(t,e){return t.partner1>e.partner1?1:t.partner1<e.partner1?-1:0}))}(p),function(t){for(var e=t.bridges,n=t.ladders,r=0;r<e.length;r++){for(var i=e[r],o=!1,a=0;a<n.length;a++){var u=n[a];Ed(u,i)&&(o=!0,u.firstEnd++,0===i.type?u.secondEnd++:u.secondStart--)}o||(n[n.length]={previousLadder:0,nextLadder:0,firstStart:i.partner1,firstEnd:i.partner1,secondStart:i.partner2,secondEnd:i.partner2,type:i.type})}for(var s=0;s<n.length;s++)for(var c=n[s],l=s;l<n.length;l++){var d=n[l];Md(c,d)&&(c.nextLadder=l,d.previousLadder=s)}}(p),function(t){for(var e=t.ladders,n=t.flags,r=0;r<e.length;r++){for(var i=e[r],o=i.firstStart;o<=i.firstEnd;o++){var a=i.firstStart-o,u=i.secondStart-a;i.firstStart!==i.firstEnd?(n[o]|=4,n[u]|=4):(!Dd(n[o])&&wd.is(n[o],4)&&(n[o]|=2),!Dd(n[u])&&wd.is(n[u],4)&&(n[u]|=2))}if(0!==i.nextLadder){var s=e[i.nextLadder];for(o=i.firstStart;o<=s.firstEnd;o++)n[o]|=4;if(0===i.type)for(o=i.secondStart;o<=s.secondEnd;o++)n[o]|=4;else for(o=s.secondEnd;o<=i.secondStart;o++)n[o]|=4}}}(p),m=function(t,e){for(var n=new Uint32Array(t.length),r=0,i=t.length;r<i;++r){var o=wd.create(t[r]);n[r]=e(o)}return n}(u,d),h=new Uint32Array(a),g=[],y=[],_=function(t){return sn.indexOf(r,t)},b=0,x=r.length;b<x;++b)A=m[b],h[b]=A,w=d(u[b]),0!==y.length&&w===y[y.length-1].flags||(y[y.length]=Ud(Rd(A),u[b],d)),g[b]=y.length-1;return[2,yl(h,g,y,_)]}))}))}function Ud(t,e,n){return"helix"===t?{kind:"helix",flags:n(e)}:"sheet"===t?{kind:"sheet",flags:n(e)}:"turn"===t||"bend"===t?{kind:"turn",flags:n(e)}:{kind:"none"}}function Rd(t){return t===Co.SecondaryStructureDssp.H||t===Co.SecondaryStructureDssp.G||t===Co.SecondaryStructureDssp.I?"helix":t===Co.SecondaryStructureDssp.B||t===Co.SecondaryStructureDssp.E?"sheet":t===Co.SecondaryStructureDssp.T?"turn":t===Co.SecondaryStructureDssp.S?"bend":"none"}function Ld(t){return wd.is(t,1)?Co.SecondaryStructureDssp.H:wd.is(t,4)?Co.SecondaryStructureDssp.E:wd.is(t,2)?Co.SecondaryStructureDssp.B:wd.is(t,8)?Co.SecondaryStructureDssp.G:wd.is(t,16)?Co.SecondaryStructureDssp.I:wd.is(t,64)?Co.SecondaryStructureDssp.T:wd.is(t,32)?Co.SecondaryStructureDssp.S:0}function Gd(t){return wd.is(t,1)?"H":wd.is(t,4)?"E":wd.is(t,2)?"B":wd.is(t,8)?"G":wd.is(t,16)?"I":wd.is(t,64)?"T":wd.is(t,32)?"S":"-"}function Fd(t){return wd.is(t,16)?Co.SecondaryStructureDssp.I:wd.is(t,1)?Co.SecondaryStructureDssp.H:wd.is(t,4)?Co.SecondaryStructureDssp.E:wd.is(t,2)?Co.SecondaryStructureDssp.B:wd.is(t,8)?Co.SecondaryStructureDssp.G:wd.is(t,64)?Co.SecondaryStructureDssp.T:wd.is(t,32)?Co.SecondaryStructureDssp.S:0}function qd(t){return wd.is(t,16)?"I":wd.is(t,1)?"H":wd.is(t,4)?"E":wd.is(t,2)?"B":wd.is(t,8)?"G":wd.is(t,64)?"T":wd.is(t,32)?"S":"-"}function jd(t){var e="model";if(t){e="dssp";for(var n=0,r=t.models.length;n<r;++n){var i=t.models[n];if(nh.isFromPdbArchive(i)||nh.hasSecondaryStructure(i)){e="model";break}}}return{type:Ad.MappedStatic(e,{model:Ad.EmptyGroup({label:"Model"}),dssp:Ad.Group(Nd,{label:"DSSP",isFlat:!0})},{options:[["model","Model"],["dssp","DSSP"]]})}}!function(t){function e(t){var e=this,n=t.descriptor.name,r="root"===t.type?"inheritedPropertyData":"currentPropertyData",i=function(e){return n in e[r]||(e[r][n]={props:Object(v.a)({},Ad.getDefaultValues(t.getParams(e))),data:Ht.create(void 0)}),e[r][n]},o=function(t,e,o){var a=i(t);t[r][n]={props:e,data:Ht.withValue(a.data,o)}};return{label:t.label,descriptor:t.descriptor,isHidden:t.isHidden,getParams:function(e){var n=Ad.clone(t.getParams(e));return Ad.setDefaultValues(n,i(e).props),n},defaultParams:t.defaultParams,isApplicable:t.isApplicable,attach:function(n,r,a,u){return void 0===a&&(a={}),Object(v.b)(e,void 0,void 0,(function(){var e,s,c,l,d,f;return Object(v.d)(this,(function(p){switch(p.label){case 0:return u&&r.customPropertyDescriptors.reference(t.descriptor,!0),"root"===t.type&&(r=r.root),e=i(r.root).props,s=i(r),c=Ad.merge(t.defaultParams,e,a),s.data.value&&Ad.areEqual(t.defaultParams,s.props,c)?[2]:[4,t.obtain(n,r,c)];case 1:return l=p.sent(),d=l.value,f=l.assets,r.customPropertyDescriptors.add(t.descriptor),r.customPropertyDescriptors.assets(t.descriptor,f),o(r,c,d),[2]}}))}))},ref:function(e,n){return e.customPropertyDescriptors.reference(t.descriptor,n)},get:function(t){return i(t).data},set:function(e,n,r){void 0===n&&(n={}),"root"===t.type&&(e=e.root);var a=i(e),u=Ad.merge(t.defaultParams,a.props,n);Ad.areEqual(t.defaultParams,a.props,u)||(o(e,u,r),e.customPropertyDescriptors.assets(t.descriptor))},props:function(t){return i(t).props}}}t.createProvider=e,t.createSimple=function(t,n,r){var i=this,o={value:Ad.Value(r,{isHidden:!0})};return e({label:Xi(t),descriptor:Pr({name:t}),isHidden:!0,type:n,defaultParams:o,getParams:function(){return{value:Ad.Value(r,{isHidden:!0})}},isApplicable:function(){return!0},obtain:function(t,e,n){return Object(v.b)(i,void 0,void 0,(function(){return Object(v.d)(this,(function(t){return[2,Object(v.a)(Object(v.a)({},Ad.getDefaultValues(o)),n)]}))}))}})}}(Od||(Od={}));var Hd=jd(),Vd=Od.createProvider({label:"Secondary Structure",descriptor:Pr({name:"molstar_computed_secondary_structure"}),type:"root",defaultParams:Hd,getParams:jd,isApplicable:function(t){return!0},obtain:function(t,e,n){return Object(v.b)(void 0,void 0,void 0,(function(){var t,r,i;return Object(v.d)(this,(function(o){switch(o.label){case 0:switch(t=Object(v.a)(Object(v.a)({},Ad.getDefaultValues(Hd)),n),t.type.name){case"dssp":return[3,1];case"model":return[3,3]}return[3,5];case 1:return r={},[4,zd(e,t.type.params)];case 2:return[2,(r.value=o.sent(),r)];case 3:return i={},[4,Yd(e)];case 4:return[2,(i.value=o.sent(),i)];case 5:return[2]}}))}))}});function zd(t,e){return Object(v.b)(this,void 0,void 0,(function(){var n,r,i,o,a;return Object(v.d)(this,(function(u){switch(u.label){case 0:n=new Map,r=0,i=t.unitSymmetryGroups.length,u.label=1;case 1:return r<i?(o=t.unitSymmetryGroups[r].units[0],!Us.isAtomic(o)||nh.isCoarseGrained(o.model)?[3,3]:[4,Td(o,e)]):[3,4];case 2:a=u.sent(),n.set(o.invariantId,a),u.label=3;case 3:return++r,[3,1];case 4:return[2,n]}}))}))}function Yd(t){return Object(v.b)(this,void 0,void 0,(function(){var e,n,r,i,o;return Object(v.d)(this,(function(a){for(e=new Map,n=0,r=t.unitSymmetryGroups.length;n<r;++n)i=t.unitSymmetryGroups[n].units[0],Us.isAtomic(i)&&(o=pl.Provider.get(i.model))&&e.set(i.invariantId,o);return[2,e]}))}))}function Kd(){throw new Error("Property only available for atomic models.")}function Zd(t){if(t)throw new Error("Property only available for coarse models (".concat(t,")."));throw new Error("Property only available for coarse models.")}var Wd={key:function(t){return t.element},x:function(t){return t.unit.conformation.x(t.element)},y:function(t){return t.unit.conformation.y(t.element)},z:function(t){return t.unit.conformation.z(t.element)},id:function(t){return Us.isAtomic(t.unit)?t.unit.model.atomicConformation.atomId.value(t.element):Kd()},occupancy:function(t){return Us.isAtomic(t.unit)?t.unit.model.atomicConformation.occupancy.value(t.element):Kd()},B_iso_or_equiv:function(t){return Us.isAtomic(t.unit)?t.unit.model.atomicConformation.B_iso_or_equiv.value(t.element):Kd()},sourceIndex:function(t){return Us.isAtomic(t.unit)?t.unit.model.atomicHierarchy.atomSourceIndex.value(t.element):t.element},type_symbol:function(t){return Us.isAtomic(t.unit)?t.unit.model.atomicHierarchy.atoms.type_symbol.value(t.element):Kd()},label_atom_id:function(t){return Us.isAtomic(t.unit)?t.unit.model.atomicHierarchy.atoms.label_atom_id.value(t.element):Kd()},auth_atom_id:function(t){return Us.isAtomic(t.unit)?t.unit.model.atomicHierarchy.atoms.auth_atom_id.value(t.element):Kd()},label_alt_id:function(t){return Us.isAtomic(t.unit)?t.unit.model.atomicHierarchy.atoms.label_alt_id.value(t.element):Kd()},label_comp_id:Xd,auth_comp_id:function(t){return Us.isAtomic(t.unit)?t.unit.model.atomicHierarchy.atoms.auth_comp_id.value(t.element):Kd()},pdbx_formal_charge:function(t){return Us.isAtomic(t.unit)?t.unit.model.atomicHierarchy.atoms.pdbx_formal_charge.value(t.element):Kd()},vdw_radius:function(t){return Us.isAtomic(t.unit)?(e=t.unit.model.atomicHierarchy.atoms.type_symbol.value(t.element),void 0===(n=hl[e])?1.7:gl[n]):Kd();var e,n}};function Xd(t){return Us.isAtomic(t.unit)||Kd(),t.unit.model.atomicHierarchy.atoms.label_comp_id.value(t.element)}function Qd(t){return Us.isAtomic(t.unit)?t.unit.model.atomicHierarchy.residues.label_seq_id.value(t.unit.residueIndex[t.element]):Kd()}function Jd(t){Us.isAtomic(t.unit)||Kd();var e=t.unit.model.sequence.byEntityKey[$d(t)];return e&&e.sequence.microHet.get(Qd(t))||[Xd(t)]}function $d(t){switch(t.unit.kind){case 0:return t.unit.model.atomicHierarchy.index.getEntityFromChain(t.unit.chainIndex[t.element]);case 1:return t.unit.model.coarseHierarchy.spheres.entityKey[t.element];case 2:return t.unit.model.coarseHierarchy.gaussians.entityKey[t.element]}}var tf=[],ef={constant:{true:function(t){return!0},false:function(t){return!1},zero:function(t){return 0}},atom:Wd,residue:{key:function(t){return Us.isAtomic(t.unit)?t.unit.residueIndex[t.element]:Kd()},group_PDB:function(t){return Us.isAtomic(t.unit)?t.unit.model.atomicHierarchy.residues.group_PDB.value(t.unit.residueIndex[t.element]):Kd()},label_seq_id:Qd,auth_seq_id:function(t){return Us.isAtomic(t.unit)?t.unit.model.atomicHierarchy.residues.auth_seq_id.value(t.unit.residueIndex[t.element]):Kd()},pdbx_PDB_ins_code:function(t){return Us.isAtomic(t.unit)?t.unit.model.atomicHierarchy.residues.pdbx_PDB_ins_code.value(t.unit.residueIndex[t.element]):Kd()},isNonStandard:function(t){return Us.isAtomic(t.unit)?Jd(t).some((function(e){return"n"===t.unit.model.properties.chemicalComponentMap.get(e).mon_nstd_flag[0]})):Kd()},hasMicroheterogeneity:function(t){Us.isAtomic(t.unit)||Kd();var e=t.unit.model.sequence.byEntityKey[$d(t)];return e&&e.sequence.microHet.has(Qd(t))},microheterogeneityCompIds:Jd,secondary_structure_type:function(t){var e;Us.isAtomic(t.unit)||Kd();var n=null===(e=Vd.get(t.structure).value)||void 0===e?void 0:e.get(t.unit.invariantId);return n?n.type[n.getIndex(t.unit.residueIndex[t.element])]:536870912},secondary_structure_key:function(t){var e;Us.isAtomic(t.unit)||Kd();var n=null===(e=Vd.get(t.structure).value)||void 0===e?void 0:e.get(t.unit.invariantId);return n?n.key[n.getIndex(t.unit.residueIndex[t.element])]:-1},chem_comp_type:function(t){return Us.isAtomic(t.unit)?t.unit.model.properties.chemicalComponentMap.get(Xd(t)).type:Kd()}},chain:{key:function(t){return Us.isAtomic(t.unit)?t.unit.chainIndex[t.element]:Kd()},label_asym_id:function(t){return Us.isAtomic(t.unit)?t.unit.model.atomicHierarchy.chains.label_asym_id.value(t.unit.chainIndex[t.element]):Kd()},auth_asym_id:function(t){return Us.isAtomic(t.unit)?t.unit.model.atomicHierarchy.chains.auth_asym_id.value(t.unit.chainIndex[t.element]):Kd()},label_entity_id:function(t){return Us.isAtomic(t.unit)?t.unit.model.atomicHierarchy.chains.label_entity_id.value(t.unit.chainIndex[t.element]):Kd()}},entity:{key:$d,id:function(t){return t.unit.model.entities.data.id.value($d(t))},type:function(t){return t.unit.model.entities.data.type.value($d(t))},src_method:function(t){return t.unit.model.entities.data.src_method.value($d(t))},pdbx_description:function(t){return t.unit.model.entities.data.pdbx_description.value($d(t))},formula_weight:function(t){return t.unit.model.entities.data.formula_weight.value($d(t))},pdbx_number_of_molecules:function(t){return t.unit.model.entities.data.pdbx_number_of_molecules.value($d(t))},details:function(t){return t.unit.model.entities.data.details.value($d(t))},pdbx_mutation:function(t){return t.unit.model.entities.data.pdbx_mutation.value($d(t))},pdbx_fragment:function(t){return t.unit.model.entities.data.pdbx_fragment.value($d(t))},pdbx_ec:function(t){return t.unit.model.entities.data.pdbx_ec.value($d(t))},subtype:function(t){return t.unit.model.entities.subtype.value($d(t))},prd_id:function(t){var e,n;return null!==(n=null===(e=t.unit.model.entities.prd_id)||void 0===e?void 0:e.value($d(t)))&&void 0!==n?n:""}},unit:{id:function(t){return t.unit.id},chainGroupId:function(t){return t.unit.chainGroupId},multiChain:function(t){return Us.Traits.is(t.unit.traits,Us.Trait.MultiChain)},object_primitive:function(t){return t.unit.objectPrimitive},operator_name:function(t){return t.unit.conformation.operator.name},operator_key:function(t){return t.unit.conformation.operator.key},model_index:function(t){return t.unit.model.modelNum},model_label:function(t){return t.unit.model.label},model_entry_id:function(t){return t.unit.model.entryId},hkl:function(t){return t.unit.conformation.operator.hkl},spgrOp:function(t){return t.unit.conformation.operator.spgrOp},model_num:function(t){return t.unit.model.modelNum},pdbx_struct_assembly_id:function(t){var e;return(null===(e=t.unit.conformation.operator.assembly)||void 0===e?void 0:e.id)||F.DefaultName},pdbx_struct_oper_list_ids:function(t){var e;return(null===(e=t.unit.conformation.operator.assembly)||void 0===e?void 0:e.operList)||tf},struct_ncs_oper_id:function(t){return t.unit.conformation.operator.ncsId}},coarse:{key:Wd.key,entityKey:function(t){return Us.isCoarse(t.unit)?t.unit.coarseElements.entityKey[t.element]:Zd()},x:Wd.x,y:Wd.y,z:Wd.z,asym_id:function(t){return Us.isCoarse(t.unit)?t.unit.coarseElements.asym_id.value(t.element):Zd()},entity_id:function(t){return Us.isCoarse(t.unit)?t.unit.coarseElements.entity_id.value(t.element):Zd()},seq_id_begin:function(t){return Us.isCoarse(t.unit)?t.unit.coarseElements.seq_id_begin.value(t.element):Zd()},seq_id_end:function(t){return Us.isCoarse(t.unit)?t.unit.coarseElements.seq_id_end.value(t.element):Zd()},sphere_radius:function(t){return Us.isSpheres(t.unit)?t.unit.coarseConformation.radius[t.element]:Zd("spheres")},sphere_rmsf:function(t){return Us.isSpheres(t.unit)?t.unit.coarseConformation.rmsf[t.element]:Zd("spheres")},gaussian_weight:function(t){return Us.isGaussians(t.unit)?t.unit.coarseConformation.weight[t.element]:Zd("gaussians")},gaussian_covariance_matrix:function(t){return Us.isGaussians(t.unit)?t.unit.coarseConformation.covariance_matrix[t.element]:Zd("gaussians")}}},nf=function(){function t(t){var e;this.index=new Map,this.checkOperator=!1,this.checkOperator=null!==(e=null==t?void 0:t.checkOperator)&&void 0!==e&&e}return t.prototype.add=function(t){var e=this.index.get(t.label_asym_id);e||(e=new Map,this.index.set(t.label_asym_id,e));var n=e.get(t.label_seq_id);return n||(n=[],e.set(t.label_seq_id,n)),!this._find(t,n)&&(n.push(t),!0)},t.prototype.hasLabelAsymId=function(t){return this.index.has(t)},t.prototype.has=function(t){var e,n,r=rf(t);if(this.index.has(r)){var i=this.index.get(r),o=of(t);if(i.has(o))for(var a=i.get(o),u=af(t),s=uf(t),c=sf(t),l=null!==(e=cf(t))&&void 0!==e?e:"1_555",d=0,f=a;d<f.length;d++){var p=f[d];if(p.label_comp_id===u&&p.label_alt_id===s&&p.ins_code===c&&(!this.checkOperator||(null!==(n=p.operator_name)&&void 0!==n?n:"1_555")===l))return p}}},t.getLabel=function(t,e){var n;return void 0===e&&(e=!1),"".concat(t.label_asym_id," ").concat(t.label_comp_id," ").concat(t.label_seq_id,":").concat(t.ins_code,":").concat(t.label_alt_id).concat(e?" "+(null!==(n=t.operator_name)&&void 0!==n?n:"1_555"):"")},t.getEntryFromLocation=function(t){var e;return{label_asym_id:rf(t),label_comp_id:af(t),label_seq_id:of(t),label_alt_id:uf(t),ins_code:sf(t),operator_name:null!==(e=cf(t))&&void 0!==e?e:"1_555"}},t.prototype._find=function(t,e){for(var n,r,i=0,o=e;i<o.length;i++){var a=o[i];if(a.label_comp_id===t.label_comp_id&&a.label_alt_id===t.label_alt_id&&a.ins_code===t.ins_code&&(!this.checkOperator||(null!==(n=a.operator_name)&&void 0!==n?n:"1_555")===(null!==(r=t.operator_name)&&void 0!==r?r:"1_555")))return!0}return!1},t}(),rf=ef.chain.label_asym_id,of=ef.residue.label_seq_id,af=ef.atom.label_comp_id,uf=ef.atom.label_alt_id,sf=ef.residue.pdbx_PDB_ins_code,cf=ef.unit.operator_name;function lf(t,e,n){for(var r=e.subsetBuilder(!0),i=0,o=n.units;i<o.length;i++){var a=o[i];if(0===a.kind){var u=a.model.atomicHierarchy.residueAtomSegments,s=e.unitMap.get(a.id).elements,c=a.elements;r.beginUnit(a.id);for(var l=Wn.transientSegments(u,c);l.hasNext;)for(var d=l.move().index,f=u.offsets[d],p=u.offsets[d+1];f<p;f++)sn.has(s,f)&&r.addElement(f);r.commitUnit(),t.throwIfTimedOut()}else r.setUnit(a.id,a.elements)}return r.getStructure()}function df(t){return function(e){var n=t(e);if(Ks.isSingleton(n))return Ks.Singletons(e.inputStructure,lf(e,e.inputStructure,n.structure));for(var r=new lc(e.inputStructure),i=0,o=n.structures;i<o.length;i++){var a=o[i];r.add(lf(e,e.inputStructure,a))}return r.getSelection()}}function ff(t,e,n,r){for(var i=new Cc(e),o=e.lookup3d,a=r.radius,u=0,s=n.units;u<s.length;u++){for(var c=s[u],l=c.conformation,d=l.x,f=l.y,p=l.z,m=c.elements,h=0,g=m.length;h<g;h++){var v=m[h];o.findIntoBuilder(d(v),f(v),p(v),a,i)}t.throwIfTimedOut()}return r.wholeResidues?lf(t,e,i.getStructure()):i.getStructure()}function pf(t,e,n,r){var i=new Cc(e),o=e.lookup3d,a=r.elementRadius,u=r.elementRadiusClosure,s=r.sourceMaxRadius,c=r.radius;t.pushCurrentElement(),t.element.structure=n;for(var l=0,d=n.units;l<d.length;l++){var f=d[l];t.element.unit=f;for(var p=f.conformation,m=p.x,h=p.y,g=p.z,v=f.elements,y=0,_=v.length;y<_;y++){var b=v[y];t.element.element=b;var x=a(t);o.findIntoBuilderWithRadius(m(b),h(b),g(b),x,s,c,u,i)}t.throwIfTimedOut()}return t.popCurrentElement(),r.wholeResidues?lf(t,e,i.getStructure()):i.getStructure()}function mf(t,e){return function(n){return t.element.structure=n.structure,t.element.unit=n.unit,t.element.element=n.element,e(t)}}function hf(t,e){var n=0;t.element.structure=t.inputStructure;for(var r=0,i=t.inputStructure.units;r<i.length;r++){var o=i[r];t.element.unit=o;for(var a=o.elements,u=0,s=a.length;u<s;u++){var c=a[u];t.element.element=c;var l=e(t);l>n&&(n=l)}}return t.throwIfTimedOut(),n}function gf(t,e){return function(n){var r=t(n);if(e.elementRadius){var i=Object(v.a)(Object(v.a)({},e),{elementRadius:e.elementRadius,elementRadiusClosure:mf(n,e.elementRadius),sourceMaxRadius:hf(n,e.elementRadius)});if(Ks.isSingleton(r)){var o=pf(n,n.inputStructure,r.structure,i);return Ks.Singletons(n.inputStructure,o)}for(var a=new lc(n.inputStructure),u=0,s=r.structures;u<s.length;u++){var c=s[u];a.add(pf(n,n.inputStructure,c,i))}return a.getSelection()}if(Ks.isSingleton(r)){o=ff(n,n.inputStructure,r.structure,e);return Ks.Singletons(n.inputStructure,o)}a=new lc(n.inputStructure);for(var l=0,d=r.structures;l<d.length;l++){c=d[l];a.add(ff(n,n.inputStructure,c,e))}return a.getSelection()}}function vf(t,e){return function(n){var r=t(n);if(0===Ks.structureCount(r))return r;var i=Ks.UniqueBuilder(n.inputStructure),o=function(t){return i.add(t)};return Ks.forEach(r,(function(t,r){n.pushInputStructure(t),Ks.forEach(e(n),o),n.popInputStructure(),r%10==0&&n.throwIfTimedOut()})),i.getSelection()}}function yf(t,e){return function(n){var r=t(n);if(0===Ks.structureCount(r))return r;var i=e(n);if(0===Ks.structureCount(i))return Ks.Empty(n.inputStructure);var o=Ks.unionStructure(i),a=Ks.UniqueBuilder(n.inputStructure);return Ks.forEach(r,(function(t,e){var r=function(t,e){if(t===e)return t;if(!Js(t,e))return pp.Empty;var n,r;t.units.length<e.units.length?(n=t,r=e):(n=e,r=t);for(var i=n.units,o=r.unitMap,a=[],u=0,s=i.length;u<s;u++){var c=i[u];if(o.has(c.id)){var l=o.get(c.id);if(sn.areIntersecting(c.elements,l.elements)){var d=sn.intersect(c.elements,l.elements);a[a.length]=c.getChild(d)}}}return pp.create(a,{parent:t.parent||e.parent})}(o,t);0!==r.elementCount&&a.add(r),e%50==0&&n.throwIfTimedOut()})),a.getSelection()}}function _f(t,e){return function(n){var r=t(n);if(0===Ks.structureCount(r))return r;var i=e(n);if(0===Ks.structureCount(i))return r;var o=Ks.unionStructure(i),a=Ks.UniqueBuilder(n.inputStructure);return Ks.forEach(r,(function(t,e){var r=$s(t,o);0!==r.elementCount&&a.add(r),e%50==0&&n.throwIfTimedOut()})),a.getSelection()}}function bf(t){return function(e){var n=Ks.LinearBuilder(e.inputStructure);return n.add(Ks.unionStructure(t(e))),n.getSelection()}}function xf(t,e){return function(n){var r=t(n),i=new Map,o=[];n.pushCurrentElement(),Ks.forEach(r,(function(t,r){n.element.structure=t;for(var a=0,u=t.units;a<u.length;a++){var s=u[a];n.element.unit=s;for(var c=s.elements,l=0,d=c.length;l<d;l++){n.element.element=c[l];var f=e(n),p=void 0;i.has(f)?p=i.get(f):(p=yi.create(),i.set(f,p)),yi.add(p,r,r)}}o[r]=n.inputStructure.subsetBuilder(!0),r%10==0&&n.throwIfTimedOut()})),n.element.structure=n.inputStructure;for(var a=0,u=n.inputStructure.units;a<u.length;a++){var s=u[a];n.element.unit=s;for(var c=s.elements,l=0,d=c.length;l<d;l++){n.element.element=c[l];var f=e(n);if(i.has(f))for(var p=i.get(f).array,m=0,h=p.length;m<h;m++)o[p[m]].addToUnit(s.id,c[l])}}n.popCurrentElement();for(var g=Ks.UniqueBuilder(n.inputStructure),v=0,y=o;v<y.length;v++){var _=y[v];g.add(_.getStructure())}return g.getSelection()}}function Af(t){var e=t.query,n=t.layerCount,r=t.wholeResidues,i=t.bondTest,o=t.fixedPoint,a=Math.max(n,0);return function(t){var n=Ks.UniqueBuilder(t.inputStructure),u=e(t);return t.pushCurrentBond(),t.atomicBond.setTestFn(i),Ks.forEach(u,(function(e,i){var u=e;if(o)for(;;){var s=u.elementCount;if((u=wf(t,r,u)).elementCount===s)break}else for(var c=0;c<a;c++)u=wf(t,r,u);n.add(u),i%10==0&&t.throwIfTimedOut()})),t.popCurrentBond(),n.getSelection()}}function wf(t,e,n){var r=function(t,e){for(var n=t.inputStructure,r=n.interUnitBonds,i=new Cc(n),o=t.atomicBond,a=0,u=e.units;a<u.length;a++){var s=u[a];if(0===s.kind){var c=n.unitMap.get(s.id),l=c.bonds,d=l.offset,f=l.b,p=l.edgeProps,m=p.flags,h=p.order,g=p.key;o.setStructure(n),o.a.unit=c,o.b.unit=c;for(O=0,N=s.elements.length;O<N;O++){i.addToUnit(s.id,s.elements[O]);for(var v=sn.indexOf(c.elements,s.elements[O]),y=d[v],_=d[v+1];y<_;y++){var b=f[y],x=c.elements[b];sn.has(s.elements,x)||i.has(s.id,x)||(o.aIndex=v,o.a.element=s.elements[O],o.bIndex=b,o.b.element=x,o.type=m[y],o.order=h[y],o.key=g[y],o.test(t,!0)&&i.addToUnit(s.id,x))}}for(var A=0,w=r.getConnectedUnits(c.id);A<w.length;A++)for(var S=w[A],C=e.unitMap.get(S.unitB),B=n.unitMap.get(S.unitB),I=0,P=S.connectedIndices;I<P.length;I++){var E=P[I];if(sn.has(s.elements,c.elements[E]))for(var M=0,k=S.getEdges(E);M<k.length;M++){var D=k[M];x=B.elements[D.indexB];C&&sn.has(C.elements,x)||i.has(S.unitB,x)||(o.a.unit=c,o.aIndex=E,o.a.element=c.elements[E],o.b.unit=B,o.bIndex=D.indexB,o.b.element=x,o.type=D.props.flag,o.order=D.props.order,o.key=D.props.key,o.test(t,!0)&&i.addToUnit(S.unitB,x))}}}else{i.beginUnit(s.id);for(var O=0,N=s.elements.length;O<N;O++)i.addElement(s.elements[O]);i.commitUnit()}}return i.getStructure()}(t,n);return e?lf(t,t.inputStructure,r):r}function Sf(t){var e=t.query,n=t.radius,r=t.includeWater;return function(t){for(var i=Ks.unionStructure(e(t)),o=lf(t,t.inputStructure,ff(t,t.inputStructure,i,{radius:n})),a=function(t){var e=t.models[0],n=new Set;if(!Pl.is(e.sourceData))return n;for(var r=e.sourceData.data.db.pdbx_molecule,i=r._rowCount,o=r.asym_id,a=0;a<i;a++)n.add(o.value(a));return n}(t.inputStructure),u=function(t){var e,n,r=t.models[0],i=new Mf;if(!Pl.is(r.sourceData))return i;for(var o=r.sourceData.data.db.struct_conn,a=o.conn_type_id,u=o.ptnr1_label_asym_id,s=o.ptnr1_label_comp_id,c=o.ptnr1_label_seq_id,l=o.ptnr1_symmetry,d=o.pdbx_ptnr1_label_alt_id,f=o.pdbx_ptnr1_PDB_ins_code,p=o.ptnr2_label_asym_id,m=o.ptnr2_label_comp_id,h=o.ptnr2_label_seq_id,g=o.ptnr2_symmetry,v=o.pdbx_ptnr2_label_alt_id,y=o.pdbx_ptnr2_PDB_ins_code,_=0;_<o._rowCount;_++){var b=a.value(_);if("covale"===b||"metalc"===b){var x={label_asym_id:u.value(_),label_comp_id:s.value(_),label_seq_id:c.value(_),label_alt_id:d.value(_),ins_code:f.value(_),operator_name:null!==(e=l.value(_))&&void 0!==e?e:"1_555"},A={label_asym_id:p.value(_),label_comp_id:m.value(_),label_seq_id:h.value(_),label_alt_id:v.value(_),ins_code:y.value(_),operator_name:null!==(n=g.value(_))&&void 0!==n?n:"1_555"};i.addEdge(x,A)}}return i}(t.inputStructure),s=l.Location.create(o),c=new Map,d=new nf({checkOperator:!0}),f=0,p=o.units;f<p.length;f++){if(0===(M=p[f]).kind){s.unit=M;for(var m=M.elements,h=Wn.transientSegments(M.model.atomicHierarchy.chainAtomSegments,m),g=Wn.transientSegments(M.model.atomicHierarchy.residueAtomSegments,m);h.hasNext;){var v=h.move();s.element=m[v.start];var y=ef.chain.label_asym_id(s),_=ef.unit.operator_name(s);if(a.has(y))c.has(y)?Dr(c.get(y),_):c.set(y,[_]);else{var b=ef.entity.type(s);if("water"!==b&&"polymer"!==b)for(g.setSegment(v);g.hasNext;){var x=g.move();s.element=m[x.start],u.addComponent(nf.getEntryFromLocation(s),d)}}}t.throwIfTimedOut()}}for(var A=t.inputStructure.subsetBuilder(!0),w=0,S=t.inputStructure.units;w<S.length;w++){if(0===(M=S[w]).kind){s.unit=M;m=M.elements,h=Wn.transientSegments(M.model.atomicHierarchy.chainAtomSegments,m),g=Wn.transientSegments(M.model.atomicHierarchy.residueAtomSegments,m);for(A.beginUnit(M.id);h.hasNext;){v=h.move();s.element=m[v.start];y=ef.chain.label_asym_id(s),_=ef.unit.operator_name(s);if(c.has(y)&&c.get(y).indexOf(_)>=0)A.addElementRange(m,v.start,v.end);else if(d.hasLabelAsymId(y))for(g.setSegment(v);g.hasNext;){x=g.move();s.element=m[x.start],d.has(s)&&A.addElementRange(m,x.start,x.end)}}A.commitUnit(),t.throwIfTimedOut()}}var C=Xs(t.inputStructure,[A.getStructure(),i]);if(r){for(var B=new Cc(t.inputStructure),I=t.inputStructure.lookup3d,P=0,E=C.units;P<E.length;P++){for(var M,k=(M=E[P]).conformation,D=k.x,O=k.y,N=k.z,T=0,U=(m=M.elements).length;T<U;T++){var R=m[T];I.findIntoBuilderIf(D(R),O(R),N(R),n,B,Bf),B.addToUnit(M.id,R)}t.throwIfTimedOut()}return Ks.Sequence(t.inputStructure,[B.getStructure()])}return Ks.Sequence(t.inputStructure,[C])}}var Cf=ef.entity.type;function Bf(t){return"water"===Cf(t)}var If,Pf,Ef,Mf=function(){function t(){this.vertices=new Map,this.edges=new Map}return t.prototype.addVertex=function(t,e){this.vertices.has(e)||(this.vertices.set(e,t),this.edges.set(e,[]))},t.prototype.addEdge=function(t,e){var n=nf.getLabel(t),r=nf.getLabel(e);this.addVertex(t,n),this.addVertex(e,r),Dr(this.edges.get(n),r),Dr(this.edges.get(r),n)},t.prototype.addComponent=function(t,e){var n=nf.getLabel(t);if(this.vertices.has(n)){var r=new Set,i=new Set,o=[n];for(i.add(n),e.add(t);o.length>0;){var a=o.pop();r.add(a);for(var u=this.vertices.get(a),s=0,c=this.edges.get(a);s<c.length;s++){var l=c[s];if(!r.has(l)&&(o.push(l),!i.has(l))){i.add(l);var d=this.vertices.get(l);u.operator_name===d.operator_name?e.add(Object(v.a)(Object(v.a)({},d),{operator_name:t.operator_name})):e.add(d)}}}}else e.add(t)},t}();function kf(t,e){return function(n){var r=t(n),i=Ks.LinearBuilder(n.inputStructure);return n.pushCurrentElement(),Ks.forEach(r,(function(t,r){n.currentStructure=t,e(n)&&i.add(t),r%100&&n.throwIfTimedOut()})),n.popCurrentStructure(),i.getSelection()}}function Df(t){return function(e){var n=t(e),r=Ks.LinearBuilder(e.inputStructure);if("singletons"===n.kind){if(n.structure.elementCount>0){var i=n.structure.units[0],o=pp.create([i.getChild(sn.ofSingleton(i.elements[0]))],{parent:e.inputStructure});r.add(o)}}else n.structures.length>0&&r.add(n.structures[0]);return r.getSelection()}}function Of(t,e,n){var r=t.currentStructure.units,i=t.pushCurrentElement();i.structure=t.currentStructure;for(var o=0,a=r;o<a.length;o++){var u=a[o];i.unit=u;var s=u.elements,c=e;if(c){for(var l=0,d=s.length;l<d;l++)i.element=s[l],n.add(c(t));t.throwIfTimedOut()}}return t.popCurrentElement(),n}function Nf(t,e,n){return function(r){var i=t(r),o=function(t,e,n){var r=new Set,i=e(t);return t.pushCurrentElement(),Ks.forEach(i,(function(e,i){t.currentStructure=e,Of(t,n,r),i%10&&t.throwIfTimedOut()})),t.popCurrentElement(),r}(r,e,n),a=Ks.LinearBuilder(r.inputStructure);return r.pushCurrentStructure(),Ks.forEach(i,(function(t,e){r.currentStructure=t;var i=Of(r,n,new Set);go.isSuperset(o,i)&&a.add(t),e%10&&r.throwIfTimedOut()})),r.popCurrentStructure(),a.getSelection()}}function Tf(t,e){return function(n){var r=Ks.unionStructure(e(n)),i=Ks.LinearBuilder(n.inputStructure);return Ks.forEach(t(n),(function(t,e){Js(r,t)&&i.add(t),e%10&&n.throwIfTimedOut()})),i.getSelection()}}function Uf(t){return function(e){var n={queryCtx:e,selection:t.query(e),target:t.target(e),maxRadius:t.maxRadius,minRadius:t.minRadius?Math.max(0,t.minRadius):0,elementRadius:t.elementRadius,invert:!!t.invert};return 0===n.minRadius&&void 0===t.minRadius?function(t){var e=t.queryCtx,n=t.selection,r=t.target,i=t.maxRadius,o=t.invert,a=Ks.unionStructure(r).lookup3d,u=Ks.LinearBuilder(e.inputStructure),s=C.zero();return Ks.forEach(n,(function(t,n){for(var r=t.units,c=!1,l=0,d=r.length;l<d;l++){for(var f=r[l],p=f.elements,m=f.conformation,h=m.position,g=m.r,v=0,y=p.length;v<y;v++){var _=p[v];if(h(_,s),a.check(s[0],s[1],s[2],i+g(_))){c=!0;break}}if(c)break}o&&(c=!c),c&&u.add(t),n%10==0&&e.throwIfTimedOut()})),u.getSelection()}(n):0===n.minRadius?function(t){var e=t.queryCtx,n=t.selection,r=t.target,i=t.maxRadius,o=t.invert,a=t.elementRadius,u=Ks.unionStructure(r),s=Ks.LinearBuilder(e.inputStructure);return e.pushCurrentElement(),Ks.forEach(n,(function(t,n){var r=function(t,e,n,r,i){return 0===e.elementCount||0===n.elementCount||(e.elementCount<=n.elementCount?Pf.check(t,e,n,r,i):Pf.check(t,n,e,r,i))}(e,u,t,i,a);o&&(r=!r),r&&s.add(t),n%10==0&&e.throwIfTimedOut()})),e.popCurrentElement(),s.getSelection()}(n):function(t){var e=t.queryCtx,n=t.selection,r=t.target,i=t.minRadius,o=t.maxRadius,a=t.invert,u=t.elementRadius,s=Ks.unionStructure(r),c=Ks.LinearBuilder(e.inputStructure);return e.pushCurrentElement(),Ks.forEach(n,(function(t,n){var r=function(t,e,n,r,i,o){return 0===e.elementCount||0===n.elementCount||(e.elementCount<=n.elementCount?If.check(t,e,n,r,i,o):If.check(t,n,e,r,i,o))}(e,s,t,i,o,u);a&&(r=!r),r&&c.add(t),n%10==0&&e.throwIfTimedOut()})),e.popCurrentElement(),c.getSelection()}(n)}}function Rf(t){var e=t.query,n=t.target,r=t.disjunct,i=t.invert,o=t.bondTest;return function(t){var a=n(t);if(Ks.isEmpty(a))return a;var u=e(t);if(Ks.isEmpty(u))return u;var s={queryCtx:t,input:t.inputStructure,disjunct:r,target:Ks.unionStructure(a)},c=Ks.LinearBuilder(t.inputStructure);return t.pushCurrentBond(),t.atomicBond.setTestFn(o),Ks.forEach(u,(function(e,n){!function(t,e){var n=t.queryCtx,r=t.input,i=t.target,o=t.disjunct,a=n.atomicBond,u=r.interUnitBonds;a.setStructure(r);for(var s=0,c=e.units;s<c.length;s++){var l=c[s];if(Us.isAtomic(l))for(var d=r.unitMap.get(l.id),f=d.bonds,p=f.offset,m=f.b,h=f.edgeProps,g=h.flags,v=h.order,y=h.key,_=u.getConnectedUnits(l.id),b=_.length,x=l.elements,A=d.elements,w=0,S=x.length;w<S;w++){var C=sn.indexOf(A,x[w]);a.a.unit=d,a.b.unit=d;for(var B=p[C],I=p[C+1];B<I;B++)if(a.b.element=d.elements[m[B]],(!o||!sn.has(l.elements,a.b.element))&&i.hasElement(a.b)&&(a.aIndex=C,a.a.element=x[w],a.bIndex=m[B],a.type=g[B],a.order=v[B],a.key=y[B],a.test(n,!0)))return!0;for(var P=0;P<b;P++)for(var E=_[P],M=r.unitMap.get(E.unitB),k=M.elements,D=E.getEdges(C),O=0,N=D.length;O<N;O++){var T=D[O];if(a.b.unit=M,a.b.element=k[T.indexB],i.hasElement(a.b)&&(!o||!e.hasElement(a.b))&&(a.a.unit=d,a.aIndex=C,a.a.element=x[w],a.bIndex=T.indexB,a.type=T.props.flag,a.order=T.props.order,a.key=T.props.key,a.test(n,!0)))return!0}}}return!1}(s,e)?i&&c.add(e):c.add(e),n%5==0&&t.throwIfTimedOut()})),t.popCurrentBond(),c.getSelection()}}function Lf(t){return 0===t.length?fc:1===t.length?t[0]:function(e){for(var n=Ks.UniqueBuilder(e.inputStructure),r=function(r){Ks.forEach(t[r](e),(function(t,i){n.add(t),r%100&&e.throwIfTimedOut()}))},i=0;i<t.length;i++)r(i);return n.getSelection()}}function Gf(t){return 0===t.length?fc:1===t.length?t[0]:function(e){for(var n=[],r=0;r<t.length;r++)n.push(t[r](e));var i=0,o=Ks.structureCount(n[0]);for(r=1;r<n.length;r++){var a=Ks.structureCount(n[r]);a<o&&(i=r,o=a)}e.throwIfTimedOut();var u=gi((function(t){return t.hashCode}),pp.areUnitIdsAndIndicesEqual);Ks.forEach(n[i],(function(t){return u.add(t)}));for(var s=Ks.UniqueBuilder(e.inputStructure),c=0;c<n.length;c++)c!==i&&(Ks.forEach(n[c],(function(t){u.has(t)&&s.add(t)})),e.throwIfTimedOut());return s.getSelection()}}function Ff(t){return t.currentStructure.elementCount}function qf(t){return function(e){var n=t(e);return Ks.structureCount(n)}}function jf(t){return function(e){var n=new Set;return Of(e,t,n)}}!function(t){var e=C.zero();function n(t,n,r,i,o,a,u){var s=n.elements,c=n.conformation.position,l=e;t.element.unit=n;for(var d=!1,f=0,p=s.length;f<p;f++){var m=s[f];t.element.element=m;var h=Math.max(0,C.distance(r,c(m,l))-i-u(t));if(h<o)return 0;h<a&&(d=!0)}return d?1:2}function r(t,e,r,i,o,a,u){for(var s=e.units,c=!1,l=0,d=s.length;l<d;l++){var f=n(t,s[l],r,i,o,a,u);if(0===f)return 0;1===f&&(c=!0)}return c?1:2}var i=C.zero();t.check=function(t,e,n,o,a,u){if(0===e.elementCount||0===n.elementCount)return 0;var s=e.units,c=!1;t.element.structure=e;for(var l=0,d=s.length;l<d;l++){var f=s[l],p=f.elements,m=f.conformation.position;t.element.unit=f;for(var h=0,g=p.length;h<g;h++){var v=p[h];t.element.element=v;var y=r(t,n,m(v,i),u(t),o,a,u);if(0===y)return!1;1===y&&(c=!0)}}return c}}(If||(If={})),function(t){var e=C.zero();function n(t,n,r,i,o,a){var u=n.elements,s=n.conformation.position,c=e;t.element.unit=n;for(var l=0,d=u.length;l<d;l++){var f=u[l];if(t.element.element=f,Math.max(0,C.distance(r,s(f,c))-i-a(t))<=o)return!0}return!1}function r(t,e,r,i,o,a){for(var u=e.units,s=0,c=u.length;s<c;s++)if(n(t,u[s],r,i,o,a))return!0;return!1}var i=C.zero();t.check=function(t,e,n,o,a){if(0===e.elementCount||0===n.elementCount)return 0;var u=e.units;t.element.structure=e;for(var s=0,c=u.length;s<c;s++){var l=u[s];t.element.unit=l;for(var d=l.elements,f=l.conformation.position,p=0,m=d.length;p<m;p++){var h=d[p];if(t.element.element=h,r(t,n,f(h,i),a(t),o,a))return!0}}return!1}}(Pf||(Pf={})),function(t){function e(t){return!0}function n(t){return!1}t.eq=function(t,e){return function(n){return t(n)===e}},t.lt=function(t,e){return function(n){return t(n)<e}},t.lte=function(t,e){return function(n){return t(n)<=e}},t.gt=function(t,e){return function(n){return t(n)>e}},t.gte=function(t,e){return function(n){return t(n)>=e}},t.inSet=function(t,e){if((o=e)&&o.has)return function(n){return e.has(t(n))};if(0===e.length)return n;for(var r=new Set,i=0;i<e.length;i++)r.add(e[i]);return function(e){return r.has(t(e))};var o},t.and=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];switch(t.length){case 0:return e;case 1:return t[0];case 2:var r=t[0],i=t[1];return function(t){return r(t)&&i(t)};case 3:var o=t[0],a=t[1],u=t[2];return function(t){return o(t)&&a(t)&&u(t)};case 4:var s=t[0],c=t[1],l=t[2],d=t[3];return function(t){return s(t)&&c(t)&&l(t)&&d(t)};case 5:var f=t[0],p=t[1],m=t[2],h=t[3],g=t[4];return function(t){return f(t)&&p(t)&&m(t)&&h(t)&&g(t)};case 6:var v=t[0],y=t[1],_=t[2],b=t[3],x=t[4],A=t[5];return function(t){return v(t)&&y(t)&&_(t)&&b(t)&&x(t)&&A(t)};default:var w=t.length;return function(e){for(var n=0;n<w;n++)if(!t[n])return!1;return!0}}},t.or=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];switch(t.length){case 0:return n;case 1:return t[0];case 2:var r=t[0],i=t[1];return function(t){return r(t)||i(t)};case 3:var o=t[0],a=t[1],u=t[2];return function(t){return o(t)||a(t)||u(t)};case 4:var s=t[0],c=t[1],l=t[2],d=t[3];return function(t){return s(t)||c(t)||l(t)||d(t)};case 5:var f=t[0],p=t[1],m=t[2],h=t[3],g=t[4];return function(t){return f(t)||p(t)||m(t)||h(t)||g(t)};case 6:var v=t[0],y=t[1],_=t[2],b=t[3],x=t[4],A=t[5];return function(t){return v(t)||y(t)||_(t)||b(t)||x(t)||A(t)};default:var w=t.length;return function(e){for(var n=0;n<w;n++)if(t[n])return!0;return!1}}}}(Ef||(Ef={}));var Hf,Vf={generators:o,filters:u,modifiers:a,combinators:s,pred:Ef,internal:i,atomset:c};function zf(t,e,n,r,i,o){var a=t.spacegroup,u=t.ncsOperators,s=[],c=a.cell.toFractional,l=C.transformMat4(C(),o,c),d=tt.getSymmetryOperatorRef(a,e,n,r,i,l);if(u&&u.length)for(var f=0,p=u.length;f<p;++f){var m=u[f],h=D.mul(D(),d.matrix,m.matrix),g=F.create("".concat(d.name," ").concat(m.name),h,{assembly:d.assembly,ncsId:m.ncsId,hkl:d.hkl,spgrOp:d.spgrOp});s.push(g)}else s.push(d);return s}function Yf(t,e,n,r){var i=t.spacegroup,o=t.ncsOperators,a=o&&o.length||0,u=[];!a&&e[0]<=0&&n[0]>=0&&e[1]<=0&&n[1]>=0&&e[2]<=0&&n[2]>=0&&(u[0]=tt.getSymmetryOperator(i,0,0,0,0));for(var s=0;s<i.operators.length;s++)for(var c=e[0];c<=n[0];c++)for(var l=e[1];l<=n[1];l++)for(var d=e[2];d<=n[2];d++)(a||0!==s||0!==c||0!==l||0!==d)&&u.push.apply(u,zf(t,s,c,l,d,r));return u}function Kf(t,e){for(var n=pp.Builder({label:t.label,dynamicBonds:t.dynamicBonds}),r=t.units,i=0,o=e;i<o.length;i++)for(var a=o[i],u=0,s=r;u<s.length;u++){var c=s[u];n.addWithOperator(c,a)}return n.getStructure()}!function(t){function e(t,e){return t.invariantId===e.invariantId&&t.model.id===e.model.id&&sn.areEqual(t.elements,e.elements)}function n(){return t=Us.hashUnit,new vt(t,e);var t}t.buildAssembly=function(t,e){var n=this;return zr.create("Build Assembly",(function(r){return Object(v.b)(n,void 0,void 0,(function(){var n,r,i,o,a,u,s,c,l,d,f,p,m,h,g,y;return Object(v.d)(this,(function(v){if(1!==(n=t.models).length)throw new Error("Can only build assemblies from structures based on 1 model.");if(!(r=Ds.findAssembly(n[0],e)))throw new Error("Assembly '".concat(e,"' is not defined."));for(i=F.create(r.id,D.identity(),{assembly:{id:r.id,operId:0,operList:[]}}),o=pp.Builder({coordinateSystem:i,label:t.label,dynamicBonds:t.dynamicBonds}),a=new sc(t),u=0,s=r.operatorGroups;u<s.length;u++)if(c=s[u],l=c.selector(a),0!==Ks.structureCount(l))for(d=Ks.unionStructure(l).units,f=0,p=c.operators;f<p.length;f++)for(m=p[f],h=0,g=d;h<g.length;h++)y=g[h],o.addWithOperator(y,m);return[2,o.getStructure()]}))}))}))},t.buildSymmetryAssembly=function(t,e,n){var r=this;return zr.create("Build Symmetry Assembly",(function(i){return Object(v.b)(r,void 0,void 0,(function(){var r,i,o,a,u,s,c,l,d,f,p,m,h,g,y,_,b,x,A,w,S,B,I,P,E;return Object(v.d)(this,(function(v){if(1!==(r=t.models).length)throw new Error("Can only build symmetry assemblies from structures based on 1 model.");for(i=C(),o=pp.Builder({label:t.label,representativeModel:r[0],dynamicBonds:t.dynamicBonds}),a=new sc(t),u=0,s=e;u<s.length;u++)if(c=s[u],M=c.asymIds,l=Vf.generators.atoms({chainTest:Vf.pred.and(Vf.pred.eq((function(t){return ef.unit.operator_name(t.element)}),F.DefaultName),Vf.pred.inSet((function(t){return ef.chain.label_asym_id(t.element)}),M))}),d=l(a),0!==Ks.structureCount(d))for(f=Ks.unionStructure(d).units,p=0,m=c.operators;p<m.length;p++)for(h=m[p],g=h.index,y=h.shift,_=y[0],b=y[1],x=y[2],A=zf(n,g,_,b,x,i),w=0,S=f;w<S.length;w++)for(B=S[w],I=0,P=A;I<P.length;I++)E=P[I],o.addWithOperator(B,E);var M;return[2,o.getStructure()]}))}))}))},t.builderSymmetryMates=function(t,e){return zr.create("Find Symmetry Mates",(function(n){return function(t,e,n){return Object(v.b)(this,void 0,void 0,(function(){function r(t,e){return"".concat(t.invariantId,"|").concat(e.name)}var i,o,a,u,s,c,l,d,f,p,m,h,g,y,_,b,x,A,w,S,B;return Object(v.d)(this,(function(v){switch(v.label){case 0:if(1!==(i=e.models).length)throw new Error("Can only build symmetries from structures based on 1 model.");return(o=Ns.Provider.get(i[0]))?(a=o.spacegroup,$.isZero(a.cell)?[2,e]:t.shouldUpdate?[4,t.update("Initialing...")]:[3,2]):[2,e];case 1:v.sent(),v.label=2;case 2:u=nh.getCenter(i[0]),s=function(t,e){if(t._operators_333&&C.equals(e,t._operators_333.ref))return t._operators_333.operators;return t._operators_333={ref:C.clone(e),operators:Yf(t,C.create(-3,-3,-3),C.create(3,3,3),e)},t._operators_333.operators}(o,u),c=e.lookup3d,l=new Set,d=pp.Builder({label:e.label,dynamicBonds:e.dynamicBonds}),f=e.units,p=C.zero(),m=0,h=s,v.label=3;case 3:if(!(m<h.length))return[3,6];for(g=h[m],y=0,_=f;y<_.length;y++)for(b=_[y],x=b.lookup3d.boundary.sphere,C.transformMat4(p,x.center,g.matrix),A=c.findUnitIndices(p[0],p[1],p[2],x.radius+n),w=0,S=A.count;w<S;w++)f[A.indices[w]].lookup3d.check(p[0],p[1],p[2],x.radius+n)&&(B=r(b,g),l.has(B)||(d.addWithOperator(b,g),l.add(B)));return t.shouldUpdate?[4,t.update("Building symmetry...")]:[3,5];case 4:v.sent(),v.label=5;case 5:return m++,[3,3];case 6:return[2,d.getStructure()]}}))}))}(n,t,e)}))},t.buildSymmetryRange=function(t,e,n){return zr.create("Build Symmetry",(function(r){return function(t,e,n,r){return Object(v.b)(this,void 0,void 0,(function(){var t,i,o,a,u;return Object(v.d)(this,(function(s){if(1!==(t=e.models).length)throw new Error("Can only build symmetries from structures based on 1 model.");return(i=Ns.Provider.get(t[0]))?(o=i.spacegroup,$.isZero(o.cell)?[2,e]:(a=nh.getCenter(t[0]),u=Yf(i,n,r,a),[2,Kf(e,u)])):[2,e]}))}))}(0,t,e,n)}))},t.buildNcs=function(t){return zr.create("Build NCS",(function(e){return function(t,e){return Object(v.b)(this,void 0,void 0,(function(){var t,n,r;return Object(v.d)(this,(function(i){if(1!==(t=e.models).length)throw new Error("Can only build NCS from structures based on 1 model.");return(n=Ns.Provider.get(t[0]))&&(r=n.ncsOperators)&&r.length?[2,Kf(e,r)]:[2,e]}))}))}(0,t)}))},t.areUnitsEquivalent=e,t.UnitEquivalenceBuilder=n,t.computeTransformGroups=function(t){for(var e=n(),r=0,i=t.units;r<i.length;r++){var o=i[r];e.add(o.id,o)}for(var a=[],u=0,s=e.groups;u<s.length;u++){var c=s[u];a.push(Us.SymmetryGroup(c.map((function(e){return t.unitMap.get(e)}))))}return a},t.areTransformGroupsEquivalent=function(t,e){if(t.length!==e.length)return!1;for(var n=0,r=t.length;n<r;++n){var i=t[n].units,o=e[n].units;if(i.length!==o.length)return!1;if(t[n].hashCode!==e[n].hashCode)return!1;for(var a=0,u=i.length;a<u;a++)if(i[a].conformation!==o[a].conformation)return!1}return!0}}(Hf||(Hf={}));var Zf=function(){function t(t,e){this.parent=t,this.isSorted=e,this.ids=[],this.unitMap=$n.Mutable(),this.parentId=-1,this.currentUnit=[],this.elementCount=0}return t.prototype.addToUnit=function(t,e){var n=this.unitMap.get(t);n?n[n.length]=e:(this.unitMap.set(t,[e]),this.ids[this.ids.length]=t),this.elementCount++},t.prototype.beginUnit=function(t){this.parentId=t,this.currentUnit=this.currentUnit.length>0?[]:this.currentUnit},t.prototype.addElement=function(t){this.currentUnit[this.currentUnit.length]=t,this.elementCount++},t.prototype.addElementRange=function(t,e,n){for(var r=e;r<n;r++)this.currentUnit[this.currentUnit.length]=t[r],this.elementCount++},t.prototype.commitUnit=function(){0!==this.currentUnit.length&&(this.ids[this.ids.length]=this.parentId,this.unitMap.set(this.parentId,this.currentUnit),this.parentId=-1)},t.prototype.setUnit=function(t,e){this.ids[this.ids.length]=t,this.unitMap.set(t,e),this.elementCount+=e.length},t.prototype._getStructure=function(t){if(this.isEmpty)return pp.Empty;var e=[];pt(this.ids);for(var n=Hf.UnitEquivalenceBuilder(),r=0,i=this.ids.length;r<i;r++){var o=this.ids[r],a=this.parent.unitMap.get(o),u=this.unitMap.get(o),s=!1;t&&(this.isSorted||pt(u),u=sn.deduplicate(sn.ofSortedArray(this.currentUnit)),s=!0);var c=u.length;if(u.length!==a.elements.length){!this.isSorted&&!s&&c>1&&pt(u);var l=a.getChild(sn.ofSortedArray(u)),d=n.add(l.id,l);l!==d&&(l=d.applyOperator(l.id,l.conformation.operator,!0)),e[e.length]=l}else e[e.length]=a,n.add(a.id,a)}return pp.create(e,{parent:this.parent})},t.prototype.getStructure=function(){return this._getStructure(!1)},t.prototype.getStructureDeduplicate=function(){return this._getStructure(!0)},t.prototype.setSingletonLocation=function(t){var e=this.ids[0];t.unit=this.parent.unitMap.get(e),t.element=this.unitMap.get(e)[0]},Object.defineProperty(t.prototype,"isEmpty",{get:function(){return 0===this.elementCount},enumerable:!1,configurable:!0}),t}();function Wf(t,e){for(var n=1;e--;)n*=t--;return n}var Xf=function(){function t(t,e){var n,r;this.array=t,this.hasNext=!1,this.index=(1<<e)-1,this.size=(n=t.length,(r=e)>n?0:Wf(n,r)/Wf(r,r)),this.maxIndex=1<<t.length,this.value=new Array(e),this.hasNext=e>0&&e<=t.length}return t.prototype.move=function(){if(this.hasNext){for(var t=0,e=0,n=this.index;n;n>>>=1,t++)1&n&&(this.value[e++]=this.array[t]);this.index=function(t){var e=t&-t,n=t+e;return n|((n&-n)/e>>1)-1}(this.index),this.hasNext=this.index<this.maxIndex}return this.value},t}();function Qf(t,e){for(var n=[],r=new Xf(t,e);r.hasNext;)n.push(r.move().slice());return n}var Jf=[],$f={links:Jf,terminalLinks:Jf,elements:Jf,partialElements:Jf,getElementIndices:function(){return Jf},getLinkIndices:function(){return Jf},getTerminalLinkIndices:function(){return Jf}},tp=wo("C"),ep=wo("O"),np=[us.elementFingerprint([tp,tp,tp,ep]),us.elementFingerprint([tp,tp,tp,tp,ep]),us.elementFingerprint([tp,tp,tp,tp,tp,ep]),us.elementFingerprint([tp,tp,tp,tp,tp,tp,ep])];function rp(t,e){for(var n=-1,r=-1,i=-1,o=-1,a=t.elements,u=t.model.atomicHierarchy.atoms,s=u.type_symbol,c=u.label_atom_id,l=t.bonds,d=l.b,f=l.offset,p=0,m=e.length;p<m;++p){var h=a[e[p]];if(s.value(h)===tp){for(var g=0,v=0,y=f[e[p]],_=f[e[p]+1];y<_;++y){var b=a[d[y]],x=s.value(b);x===ep?++g:x===tp&&++v}if(2===g){n=h;break}1===g&&1===v?r=h:c.value(h).startsWith("C1")?i=h:o=h}}return-1!==n?n:-1!==r?r:-1!==i?i:-1!==o?o:a[e[0]]}function ip(t,e,n,r){var i=e.conformation.position;return C.normalize(t,C.sub(t,r,i(n,t))),t}function op(t,e){var n=t.elements;return t.model.atomicHierarchy.atoms.label_atom_id.value(n[e])}function ap(t,e){if(e&&e.length){for(var n=t.unit,r=t.all,i=new Set,o=Qf(kr(new Array(e.length)),2),a=0,u=o.length;a<u;++a){var s=o[a],c=r[e[s[0]]],l=r[e[s[1]]];sn.areIntersecting(c,l)&&us.getAltId(n,c)===us.getAltId(n,l)&&(i.add(e[s[0]]),i.add(e[s[1]]))}if(i.size){var d=[];for(a=0,u=e.length;a<u;++a)i.has(e[a])||d.push(e[a]);return d}return e}}function up(t,e){return e.properties.saccharideComponentMap.get(t)}function sp(t){if(0===t.models.reduce((function(t,e){return t+e.properties.saccharideComponentMap.size}),0))return $f;var e=[],n=[],r=[],i=[],o=new Map;function a(t,e,n){return"".concat(t,"|").concat(e,"|").concat(n)}function u(t,e){o.has(t)?o.get(t).push(e):o.set(t,[e])}function s(t,e){C.sub(r[t].geometry.direction,r[e].geometry.center,r[t].geometry.center),C.normalize(r[t].geometry.direction,r[t].geometry.direction)}var c=C();function l(t,e,n){var i=n.conformation.position,o=r[t].geometry;C.sub(o.direction,i(n.elements[e],c),o.center),C.normalize(o.direction,o.direction)}for(var d=0,f=t.units.length;d<f;++d){var p=t.units[d];if(Us.isAtomic(p))for(var m=p.model,h=p.rings,g=m.atomicHierarchy,y=g.chainAtomSegments,_=g.residueAtomSegments,b=g.atoms.label_comp_id,x=Wn.transientSegments(y,p.elements),A=Wn.transientSegments(_,p.elements),w=void 0;x.hasNext;)for(A.setSegment(x.move());A.hasNext;){var S=A.move().index,B=up(b.value(_.offsets[S]),m);if(B){w||(w=ls.byFingerprintAndResidue(h,np));var I=ap(h,w.get(S));if(I&&I.length){for(var P=[],E=0,M=I.length;E<M;++E){var k=h.all[I[E]],D=rp(p,k),O=vr.calculateMomentsAxes(as(p,k)),N=vr.calculateNormalizedAxes(O),T=C.copy(C(),N.origin),U=C.copy(C(),N.dirC),R=ip(C(),p,D,T);C.orthogonalize(R,U,R);var L=us.getAltId(p,k),G=r.length;P.push(G),u(a(S,p.id,L),G),L&&u(a(S,p.id,""),G),r.push({geometry:{center:T,normal:U,direction:R},component:B,ringIndex:I[E],altId:L,unit:p,residueIndex:S})}var F=Qf(kr(new Array(I.length)),2);for(E=0,M=F.length;E<M;++E){var q=F[E],j=h.all[I[q[0]]],H=h.all[I[q[1]]];if(Zr.areVertexSetsConnected(p.bonds,j,H,3)){var V=P[q[0]],z=P[q[1]];r[V].altId===r[z].altId&&(s(V,z),s(z,V),e.push({carbohydrateIndexA:V,carbohydrateIndexB:z}),e.push({carbohydrateIndexA:z,carbohydrateIndexB:V}))}}}else i.push({unit:p,residueIndex:S,component:B})}}}function Y(t,e){return o.get(a(t.getResidueIndex(e),t.id,function(t,e){var n=t.elements;return t.model.atomicHierarchy.atoms.label_alt_id.value(n[e])}(t,e)))||[]}for(d=0,f=r.length;d<f;++d){var K=r[d];for(p=K.unit,E=d+1;E<f;++E){var Z=r[E];if(p===Z.unit&&K.residueIndex!==Z.residueIndex){var W=p.rings.all[K.ringIndex],X=p.rings.all[Z.ringIndex];Zr.areVertexSetsConnected(p.bonds,W,X,3)&&(s(d,E),s(E,d),e.push({carbohydrateIndexA:d,carbohydrateIndexB:E}),e.push({carbohydrateIndexA:E,carbohydrateIndexB:d}))}}}for(d=0,f=t.units.length;d<f;++d){p=t.units[d];Us.isAtomic(p)&&t.interUnitBonds.getConnectedUnits(p.id).forEach((function(r){r.connectedIndices.forEach((function(i){r.getEdges(i).forEach((function(o){var a=o.props,u=o.indexB;if(ia.isCovalent(a.flag)){var c=t.unitMap.get(r.unitA),d=t.unitMap.get(r.unitB),f=Y(c,i),p=Y(d,u);if(f.length>0&&p.length>0)for(var m=f.length,h=p.length,g=0,v=Math.max(m,h);g<v;++g){var y=f[Math.min(g,m-1)],_=p[Math.min(g,h-1)];((A=op(c,i)).startsWith("O1")||A.startsWith("C1"))&&s(y,_),e.push({carbohydrateIndexA:y,carbohydrateIndexB:_})}else if(0===p.length)for(var b=0,x=f;b<x.length;b++){var A;y=x[b];((A=op(c,i)).startsWith("O1")||A.startsWith("C1"))&&l(y,u,d),n.push({carbohydrateIndex:y,elementIndex:u,elementUnit:d,fromCarbohydrate:!0})}else if(0===f.length)for(var w=0,S=p;w<S.length;w++){_=S[w];n.push({carbohydrateIndex:_,elementIndex:i,elementUnit:c,fromCarbohydrate:!1})}}}))}))}))}return Object(v.a)({links:e,terminalLinks:n,elements:r,partialElements:i},function(t,e,n){function r(t,e){return _t(t.id,e)}function i(t,e,n){var i=[],o=t.get(r(e,n));if(void 0!==o)for(var a=0,u=o;a<u.length;a++){Dr(i,u[a])}return i}for(var o=new Map,a=0,u=t.length;a<u;++a)for(var s=t[a],c=s.unit,l=s.ringIndex,d=c.rings.all[l],f=0,p=d.length;f<p;++f){var m=r(c,c.elements[d[f]]);void 0===(C=o.get(m))?o.set(m,[a]):C.push(a)}var h=new Map;for(a=0,u=e.length;a<u;++a){var g=e[a],v=t[g.carbohydrateIndexA];for(c=v.unit,l=v.ringIndex,d=c.rings.all[l],f=0,p=d.length;f<p;++f){m=r(c,c.elements[d[f]]);void 0===(C=h.get(m))?h.set(m,[a]):C.push(a)}}var y=new Map;for(a=0,u=n.length;a<u;++a){var _=n[a],b=_.fromCarbohydrate,x=_.carbohydrateIndex,A=_.elementUnit,w=_.elementIndex;if(b){var S=t[x];for(c=S.unit,l=S.ringIndex,d=c.rings.all[l],f=0,p=d.length;f<p;++f){m=r(c,c.elements[d[f]]);void 0===(C=y.get(m))?y.set(m,[a]):C.push(a)}}else{var C;m=r(A,A.elements[w]);void 0===(C=y.get(m))?y.set(m,[a]):C.push(a)}}return{getElementIndices:function(t,e){return i(o,t,e)},getLinkIndices:function(t,e){return i(h,t,e)},getTerminalLinkIndices:function(t,e){return i(y,t,e)}}}(r,e,n))}var cp=cr(),lp=new _s("14"),dp=new _s("98");function fp(t){var e=t.units,n=e.length>500?lp:dp;n.reset();for(var r=0,i=e.length;r<i;r++){var o=(a=e[r]).boundary;(u=a.conformation.operator).isIdentity?n.includeSphere(o.sphere):(cr.transform(cp,o.sphere,u.matrix),n.includeSphere(cp))}n.finishedIncludeStep();for(r=0,i=e.length;r<i;r++){var a,u;o=(a=e[r]).boundary;(u=a.conformation.operator).isIdentity?n.radiusSphere(o.sphere):(cr.transform(cp,o.sphere,u.matrix),n.radiusSphere(cp))}return{box:n.getBox(),sphere:n.getSphere()}}var pp=function(){function t(t,e,n,r,i){this.units=t,this.unitMap=e,this.unitIndexMap=n,this.state=r,this._child=null==i?void 0:i.child,this._target=null==i?void 0:i.target,this._proxy=void 0}return t.prototype.subsetBuilder=function(t){return new Zf(this,t)},Object.defineProperty(t.prototype,"elementCount",{get:function(){return this.state.elementCount},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bondCount",{get:function(){return-1===this.state.bondCount&&(this.state.bondCount=this.interUnitBonds.edgeCount+Vu.getIntraUnitBondCount(this)),this.state.bondCount},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCustomProperties",{get:function(){return!!this.state.customProps&&this.state.customProps.all.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"customPropertyDescriptors",{get:function(){return this.state.customProps||(this.state.customProps=new Er),this.state.customProps},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentPropertyData",{get:function(){return this.state.propertyData||(this.state.propertyData=Object.create(null)),this.state.propertyData},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"inheritedPropertyData",{get:function(){return this.parent?this.parent.currentPropertyData:this.currentPropertyData},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"polymerResidueCount",{get:function(){return-1===this.state.polymerResidueCount&&(this.state.polymerResidueCount=function(t){for(var e=t.units,n=0,r=0,i=e.length;r<i;r++)n+=e[r].polymerElements.length;return n}(this)),this.state.polymerResidueCount},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"polymerGapCount",{get:function(){return-1===this.state.polymerGapCount&&(this.state.polymerGapCount=function(t){for(var e=t.units,n=0,r=0,i=e.length;r<i;r++)n+=e[r].gapElements.length/2;return n}(this)),this.state.polymerGapCount},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"polymerUnitCount",{get:function(){return-1===this.state.polymerUnitCount&&(this.state.polymerUnitCount=function(t){for(var e=t.units,n=0,r=0,i=e.length;r<i;r++)e[r].polymerElements.length>0&&(n+=1);return n}(this)),this.state.polymerUnitCount},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uniqueElementCount",{get:function(){return-1===this.state.uniqueElementCount&&(this.state.uniqueElementCount=function(t){for(var e=t.unitSymmetryGroups,n=0,r=0,i=e.length;r<i;r++)n+=e[r].elements.length;return n}(this)),this.state.uniqueElementCount},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"atomicResidueCount",{get:function(){return-1===this.state.atomicResidueCount&&(this.state.atomicResidueCount=function(t){for(var e=t.units,n=0,r=0,i=e.length;r<i;r++){var o=e[r];if(Us.isAtomic(o))for(var a=o.elements,u=o.residueIndex,s=-1,c=-1,l=0,d=a.length;l<d;++l)(s=u[a[l]])!==c&&(n+=1,c=s)}return n}(this)),this.state.atomicResidueCount},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isCoarseGrained",{get:function(){return this.models.some((function(t){return nh.isCoarseGrained(t)}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isEmpty",{get:function(){return 0===this.units.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hashCode",{get:function(){return-1!==this.state.hashCode?this.state.hashCode:this.computeHash()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"transformHash",{get:function(){return-1!==this.state.transformHash||(this.state.transformHash=xt(this.units.map((function(t){return t.id})))),this.state.transformHash},enumerable:!1,configurable:!0}),t.prototype.computeHash=function(){for(var t=23,e=0,n=this.units.length;e<n;e++){var r=this.units[e];t=31*(t=31*t+r.id|0)+sn.hashCode(r.elements)|0}return-1===(t=function(t){var e=t^t>>4;return e=(3735928559^e)+(e<<5),e^=e>>11}(t=31*t+this.elementCount|0))&&(t=0),this.state.hashCode=t,t},t.prototype.elementLocations=function(){return new t.ElementLocationIterator(this)},Object.defineProperty(t.prototype,"root",{get:function(){var t;return null!==(t=this.state.parent)&&void 0!==t?t:this},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this.state.parent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"coordinateSystem",{get:function(){return this.state.coordinateSystem},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"label",{get:function(){return this.state.label},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"boundary",{get:function(){return this.state.boundary||(this.state.boundary=fp(this)),this.state.boundary},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lookup3d",{get:function(){return this.state.lookup3d||(this.state.lookup3d=new Ws(this)),this.state.lookup3d},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"interUnitBonds",{get:function(){return this.state.interUnitBonds||(this.parent&&this.state.dynamicBonds===this.parent.state.dynamicBonds&&this.parent.state.interUnitBonds&&0===this.parent.state.interUnitBonds.edgeCount?this.state.interUnitBonds=new ya(new Map):this.state.interUnitBonds=Ku(this,{ignoreWater:!this.dynamicBonds,ignoreIon:!this.dynamicBonds,validUnit:this.state.interBondsValidUnit,validUnitPair:this.state.interBondsValidUnitPair})),this.state.interUnitBonds},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dynamicBonds",{get:function(){return this.state.dynamicBonds},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"interBondsValidUnit",{get:function(){return this.state.interBondsValidUnit},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"interBondsValidUnitPair",{get:function(){return this.state.interBondsValidUnitPair},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"unitSymmetryGroups",{get:function(){return this.state.unitSymmetryGroups||(this.state.unitSymmetryGroups=Hf.computeTransformGroups(this)),this.state.unitSymmetryGroups},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"unitSymmetryGroupsIndexMap",{get:function(){return this.state.unitSymmetryGroupsIndexMap||(this.state.unitSymmetryGroupsIndexMap=Us.SymmetryGroup.getUnitSymmetryGroupsIndexMap(this.unitSymmetryGroups)),this.state.unitSymmetryGroupsIndexMap},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"carbohydrates",{get:function(){return this.state.carbohydrates||(this.state.carbohydrates=sp(this)),this.state.carbohydrates},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"models",{get:function(){return this.state.models||(this.state.models=function(t){for(var e=t.units,n=yi.create(),r=0,i=e;r<i.length;r++){var o=i[r];yi.add(n,o.model.id,o.model)}return n.array}(this)),this.state.models},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uniqueResidueNames",{get:function(){return this.state.uniqueResidueNames||(this.state.uniqueResidueNames=function(t){for(var e=ef.residue.microheterogeneityCompIds,n=new Set,r=l.Location.create(t),i=0,o=t.unitSymmetryGroups;i<o.length;i++){var a=o[i].units[0];if(Us.isAtomic(a)){var u=Wn.transientSegments(a.model.atomicHierarchy.residueAtomSegments,a.elements);for(r.unit=a;u.hasNext;){var s=u.move();r.element=a.elements[s.start];for(var c=e(r),d=0,f=c;d<f.length;d++){var p=f[d];n.add(p)}}}}return n}(this))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uniqueElementSymbols",{get:function(){return this.state.uniqueElementSymbols||(this.state.uniqueElementSymbols=function(t){for(var e=ef.atom.type_symbol,n=new Set,r=l.Location.create(t),i=0,o=t.unitSymmetryGroups;i<o.length;i++){var a=o[i].units[0];if(Us.isAtomic(a)){r.unit=a;for(var u=0,s=a.elements.length;u<s;++u)r.element=a.elements[u],n.add(e(r))}}return n}(this))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"entityIndices",{get:function(){return this.state.entityIndices||(this.state.entityIndices=function(t){for(var e=t.units,n=l.Location.create(t),r=yi.create(),i=0,o=e;i<o.length;i++){var a=o[i],u=0===a.kind?ef.entity.key:ef.coarse.entityKey;n.unit=a;for(var s=a.elements,c=Wn.transientSegments(a.model.atomicHierarchy.chainAtomSegments,s);c.hasNext;){var d=c.move();n.element=s[d.start];var f=u(n);yi.add(r,f,f)}}return pt(r.array),r.array}(this))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uniqueAtomicResidueIndices",{get:function(){return this.state.uniqueAtomicResidueIndices||(this.state.uniqueAtomicResidueIndices=function(t){for(var e=new Map,n=[],r=t.unitSymmetryGroups,i=0,o=r;i<o.length;i++){var a=o[i].units[0];if(Us.isAtomic(a)){var u=void 0;e.has(a.model.id)?u=e.get(a.model.id):(u=yi.create(),n.push(a.model.id),e.set(a.model.id,u));for(var s=Wn.transientSegments(a.model.atomicHierarchy.residueAtomSegments,a.elements);s.hasNext;){var c=s.move();yi.add(u,c.index,c.index)}}}for(var l=new Map,d=0,f=n;d<f.length;d++){var p=f[d],m=e.get(p).array;pt(m),l.set(p,m)}return l}(this))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isAtomic",{get:function(){for(var t=0,e=this.units;t<e.length;t++){var n=e[t];if(!Us.isAtomic(n))return!1}return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasAtomic",{get:function(){for(var t=0,e=this.units;t<e.length;t++){var n=e[t];if(Us.isAtomic(n))return!0}return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isCoarse",{get:function(){for(var t=0,e=this.units;t<e.length;t++){var n=e[t];if(!Us.isCoarse(n))return!1}return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCoarse",{get:function(){for(var t=0,e=this.units;t<e.length;t++){var n=e[t];if(Us.isCoarse(n))return!0}return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"serialMapping",{get:function(){return this.state.serialMapping||(this.state.serialMapping=function(t){for(var e=t.units,n=t.elementCount,r=t.unitIndexMap,i=new Uint32Array(e.length),o=new Uint32Array(n),a=new Uint32Array(n),u=0,s=0,c=e.length;u<c;++u){i[u]=s;for(var l=e[u].elements,d=0,f=l.length;d<f;++d){var p=s+d;o[p]=u,a[p]=l[d]}s+=l.length}return{cumulativeUnitElementCount:i,unitIndices:o,elementIndices:a,getSerialIndex:function(t,e){return i[r.get(t.id)]+fn.indexOf(t.elements,e)}}}(this))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"model",{get:function(){if(this.state.model)return this.state.model;if(this.state.representativeModel)return this.state.representativeModel;if(this.state.masterModel)return this.state.masterModel;var t=this.models;if(t.length>1)throw new Error("The structure is based on multiple models and has neither a master- nor a representative-model.");return this.state.model=t[0],this.state.model},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"masterModel",{get:function(){return this.state.masterModel},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"representativeModel",{get:function(){return this.state.representativeModel},enumerable:!1,configurable:!0}),t.prototype.hasElement=function(t){return!!this.unitMap.has(t.unit.id)&&sn.has(this.unitMap.get(t.unit.id).elements,t.element)},t.prototype.getModelIndex=function(t){return this.models.indexOf(t)},t.prototype.remapModel=function(e){for(var n=this.state,r=n.dynamicBonds,i=n.interUnitBonds,o=n.parent,a=[],u=0,s=this.unitSymmetryGroups;u<s.length;u++){var c=s[u],l=c.units[0].remapModel(e,r);a.push(l);for(var d=1,f=c.units.length;d<f;++d){var p=c.units[d];a.push(p.remapModel(e,r,l.props))}}return t.create(a,{parent:null==o?void 0:o.remapModel(e),label:this.label,interUnitBonds:r?void 0:i,dynamicBonds:r,interBondsValidUnit:this.state.interBondsValidUnit,interBondsValidUnitPair:this.state.interBondsValidUnitPair,coordinateSystem:this.state.coordinateSystem,masterModel:this.state.masterModel,representativeModel:this.state.representativeModel})},t.prototype.asParent=function(){if(this._proxy)return this._proxy;if(this.parent){var e=this.parent.coordinateSystem.isIdentity?this.parent:t.transform(this.parent,this.parent.coordinateSystem.inverse),n=this.coordinateSystem.isIdentity?e:t.transform(e,this.coordinateSystem.matrix);this._proxy=new t(n.units,n.unitMap,n.unitIndexMap,Object(v.a)(Object(v.a)({},n.state),{dynamicBonds:this.dynamicBonds}),{child:this,target:this.parent})}else this._proxy=this;return this._proxy},Object.defineProperty(t.prototype,"child",{get:function(){return this._child},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"target",{get:function(){var t;return null!==(t=this._target)&&void 0!==t?t:this},enumerable:!1,configurable:!0}),t}();function mp(t,e,n){return t[e].id-t[n].id}!function(t){function e(t){return{kind:"structure-loci",structure:t}}function n(e,n){void 0===n&&(n={});for(var r=$n.Mutable(),i=$n.Mutable(),o=0,a=!0,u=e.length>0?e[0].id:0,s=0,c=e.length;s<c;s++){var l=e[s];r.set(l.id,l),o+=l.elements.length,l.id<u&&(a=!1),u=l.id}a||mt(e,0,e.length,mp,at);for(s=0,c=e.length;s<c;s++)i.set(e[s].id,s);var d={hashCode:-1,transformHash:-1,elementCount:o,bondCount:-1,uniqueElementCount:-1,atomicResidueCount:-1,polymerResidueCount:-1,polymerGapCount:-1,polymerUnitCount:-1,dynamicBonds:!1,coordinateSystem:F.Default,label:""};return n.parent&&(d.parent=n.parent.parent||n.parent),n.interUnitBonds&&(d.interUnitBonds=n.interUnitBonds),n.interBondsValidUnit?d.interBondsValidUnit=n.interBondsValidUnit:n.parent&&(d.interBondsValidUnit=n.parent.interBondsValidUnit),n.interBondsValidUnitPair?d.interBondsValidUnitPair=n.interBondsValidUnitPair:n.parent&&(d.interBondsValidUnitPair=n.parent.interBondsValidUnitPair),n.dynamicBonds?d.dynamicBonds=n.dynamicBonds:n.parent&&(d.dynamicBonds=n.parent.dynamicBonds),n.coordinateSystem?d.coordinateSystem=n.coordinateSystem:n.parent&&(d.coordinateSystem=n.parent.coordinateSystem),n.label?d.label=n.label:n.parent&&(d.label=n.parent.label),n.masterModel?d.masterModel=n.masterModel:n.parent&&(d.masterModel=n.parent.masterModel),n.representativeModel?d.representativeModel=n.representativeModel:n.parent&&(d.representativeModel=n.parent.representativeModel),new t(e,r,i,d)}t.Empty=n([]),t.Loci=e,t.toStructureElementLoci=function(t){for(var e=[],n=0,r=t.units;n<r.length;n++){var i=r[n];e.push({unit:i,indices:ye.ofBounds(0,i.elements.length)})}return l.Loci(t,e)},t.toSubStructureElementLoci=function(t,e){return Ks.toLociWithSourceUnits(Ks.Singletons(t,e))},t.isLoci=function(t){return!!t&&"structure-loci"===t.kind},t.areLociEqual=function(t,e){return t.structure===e.structure},t.isLociEmpty=function(t){return t.structure.isEmpty},t.remapLoci=function(t,n){return n===t.structure?t:e(n)},t.create=n,t.ofTrajectory=function(e,i){return Object(v.b)(this,void 0,void 0,(function(){var o,a,u,s,c,l,d,f,p,m,h,g,y;return Object(v.d)(this,(function(v){switch(v.label){case 0:if(0===e.frameCount)return[2,t.Empty];o=[],a=void 0,u=0,s=0,c=e.frameCount,v.label=1;case 1:return s<c?[4,zr.resolveInContext(e.getFrameAtIndex(s),i)]:[3,4];case 2:for(l=v.sent(),a||(a=l),d=r(l),f=0,p=d.units.length;f<p;++f)m=d.units[f],h=m.invariantId+u,g=m.chainGroupId+u,y=Us.create(o.length,h,g,m.traits,m.kind,m.model,m.conformation.operator,m.elements),o.push(y);u=o.length,v.label=3;case 3:return++s,[3,1];case 4:return[2,n(o,{representativeModel:a,label:a.label})]}}))}))};function r(t,e){void 0===e&&(e={});for(var n=t.atomicHierarchy.chainAtomSegments,r=t.atomicHierarchy.index,u=t.atomicHierarchy.chains.auth_asym_id,s=t.atomicChainOperatorMappinng,c=new a(Object(v.a)({label:t.label},e)),l=0;l<n.count;l++){var d=s.get(l)||F.Default,f=n.offsets[l],p=(Pc.chainResidueCount(t.atomicHierarchy,l),n.offsets[l+1],n.offsets[l],!1);if(i(t,l))for(;l+1<n.count&&i(t,l+1);){if(s.get(l)!==s.get(l+1))break;p=!0,l++}else for(;l+1<n.count&&n.offsets[l+1]-n.offsets[l]==1&&n.offsets[l+2]-n.offsets[l+1]==1;){if(!0,r.getEntityFromChain(l)!==r.getEntityFromChain(l+1))break;if(u.value(l)!==u.value(l+1))break;if(s.get(l)!==s.get(l+1))break;p=!0,l++}var m=sn.ofBounds(f,n.offsets[l+1]);c.addUnit(0,t,d,m,p?Us.Trait.MultiChain:Us.Trait.None)}var h=t.coarseHierarchy;return h.isDefined&&(h.spheres.count>0&&o(c,t,t.coarseHierarchy.spheres,1),h.gaussians.count>0&&o(c,t,t.coarseHierarchy.gaussians,2)),c.getStructure()}function i(t,e){var n=t.atomicHierarchy.index.getEntityFromChain(e);return"water"===t.entities.data.type.value(n)}function o(t,e,n,r){for(var i=n.chainElementSegments,o=0;o<i.count;o++){var a=sn.ofBounds(i.offsets[o],i.offsets[o+1]);t.addUnit(r,e,F.Default,a,Us.Trait.None)}}t.ofModel=r,t.transform=function(t,e){if(D.isIdentity(e))return t;if(!D.isRotationAndTranslation(e,F.RotationTranslationEpsilon))throw new Error("Only rotation/translation combination can be applied.");for(var r=[],i=0,o=t.units;i<o.length;i++){var a=o[i],u=a.conformation.operator,s=F.create(u.name,e,u);r.push(a.applyOperator(a.id,s))}var c=t.coordinateSystem;return n(r,{parent:t,coordinateSystem:F.compose(F.create(c.name,e,c),c)})};var a=function(){function t(t){void 0===t&&(t={}),this.props=t,this.units=[],this.invariantId=jt(),this.chainGroupId=-1,this.inChainGroup=!1,this.p=C(),this.singleElementUnits=new Map}return t.prototype.beginChainGroup=function(){this.chainGroupId++,this.inChainGroup=!0},t.prototype.endChainGroup=function(){this.inChainGroup=!1},t.prototype.addUnit=function(t,e,n,r,i,o){void 0===o&&(o=this.invariantId());var a=this.inChainGroup?this.chainGroupId:++this.chainGroupId,u=Us.create(this.units.length,o,a,i,t,e,n,r);return this.add(u)},t.prototype.add=function(t){if(1===t.elements.length){t.conformation.position(t.elements[0],this.p);var e=[t.invariantId,this.p[0],this.p[1],this.p[2]].join("|");if(this.singleElementUnits.has(e))return this.singleElementUnits.get(e);this.singleElementUnits.set(e,t)}return this.units.push(t),t},t.prototype.addWithOperator=function(t,e,n){return void 0===n&&(n=!1),this.add(t.applyOperator(this.units.length,e,n))},t.prototype.getStructure=function(){return n(this.units,this.props)},Object.defineProperty(t.prototype,"isEmpty",{get:function(){return 0===this.units.length},enumerable:!1,configurable:!0}),t}();function u(t,e){if(t===e)return!0;if(t.elementCount!==e.elementCount)return!1;var n=t.units.length;if(n!==e.units.length)return!1;for(var r=0;r<n;r++)if(t.units[r].id!==e.units[r].id)return!1;return!0}function s(t,e){return t===e||t.hashCode===e.hashCode&&Hf.areTransformGroupsEquivalent(t.unitSymmetryGroups,e.unitSymmetryGroups)}t.StructureBuilder=a,t.Builder=function(t){return void 0===t&&(t={}),new a(t)},t.hashCode=function(t){return t.hashCode},t.conformationHash=function(t){return function(t){for(var e=0,n=0,r=t.length;n<r;n++)e=(e<<5)-e+t.charCodeAt(n++)|0;return e}(t.units.map((function(t){return Us.conformationId(t)})).join("|"))},t.areUnitIdsEqual=u,t.areUnitIdsAndIndicesEqual=function(t,e){if(t===e)return!0;if(!u(t,e))return!1;for(var n=0,r=t.units.length;n<r;n++)if(!sn.areEqual(t.units[n].elements,e.units[n].elements))return!1;return!0},t.areHierarchiesEqual=function(t,e){if(t.hashCode!==e.hashCode)return!1;var n=t.models.length;if(n!==e.models.length)return!1;for(var r=0;r<n;r++)if(!nh.areHierarchiesEqual(t.models[r],e.models[r]))return!1;return!0},t.areEquivalent=s,t.areRootsEquivalent=function(t,e){return s(t.root,e.root)},t.areRootsEqual=function(t,e){return t.root===e.root};var c=function(){function t(t){this.structure=t,this.unitIndex=0,this.maxIdx=0,this.idx=-1,this.current=l.Location.create(t),this.hasNext=t.elementCount>0,this.hasNext&&(this.elements=t.units[0].elements,this.maxIdx=this.elements.length-1,this.current.unit=t.units[0])}return t.prototype.move=function(){return this.advance(),this.current.element=this.elements[this.idx],this.current},t.prototype.advance=function(){if(this.idx<this.maxIdx)return this.idx++,void(this.idx===this.maxIdx&&(this.hasNext=this.unitIndex+1<this.structure.units.length));this.idx=0,this.unitIndex++,this.unitIndex>=this.structure.units.length?this.hasNext=!1:(this.current.unit=this.structure.units[this.unitIndex],this.elements=this.current.unit.elements,this.maxIdx=this.elements.length-1,0===this.maxIdx&&(this.hasNext=this.unitIndex+1<this.structure.units.length))},t}();t.ElementLocationIterator=c;var d=C();function f(t,e,n){for(var r=t.elements,i=t.conformation,o=i.position,a=i.r,u=d,s=Number.MAX_VALUE,c=0,l=r.length;c<l;c++){var f=r[c],p=C.distance(e,o(f,u))-n-a(f);p<s&&(s=p)}return s}function p(t,e,n){for(var r=t.units,i=Number.MAX_VALUE,o=0,a=r.length;o<a;o++){var u=f(r[o],e,n);u<i&&(i=u)}return i}t.minDistanceToPoint=p;var m,h=C();function g(t){return t.unitSymmetryGroups.filter((function(t){return t.units[0].polymerElements.length>0}))}t.distance=function(t,e){if(0===t.elementCount||0===e.elementCount)return 0;for(var n=t.units,r=Number.MAX_VALUE,i=0,o=n.length;i<o;i++)for(var a=n[i],u=a.elements,s=a.conformation,c=s.position,l=s.r,d=0,f=u.length;d<f;d++){var m=u[d],g=p(e,c(m,h),l(m));g<r&&(r=g)}return r},t.elementDescription=function(t){return 1===t.elementCount?"1 element":"".concat(t.elementCount," elements")},t.validUnitPair=function(t,e,n){return t.masterModel?e.model===n.model||e.model===t.masterModel||n.model===t.masterModel:e.model===n.model},t.eachUnitPair=function(t,e,n){var r=n.maxRadius,i=n.validUnit,o=n.validUnitPair;if(t.units.some((function(t){return i(t)})))for(var a=t.lookup3d,u=C(),s=0,c=t.units;s<c.length;s++){var l=c[s];if(i(l)){var d=l.boundary.sphere;C.transformMat4(u,d.center,l.conformation.operator.matrix);for(var f=a.findUnitIndices(u[0],u[1],u[2],d.radius+r),p=0;p<f.count;p++){var m=t.units[f.indices[p]];l.id>=m.id||i(m)&&o(l,m)&&(m.elements.length>=l.elements.length?e(l,m):e(m,l))}}}},t.eachAtomicHierarchyElement=function(t,e){for(var n=e.chain,r=e.residue,i=e.atom,o=l.Location.create(t),a=0,u=t.units;a<u.length;a++){var s=u[a];if(0===s.kind){o.unit=s;for(var c=s.elements,d=Wn.transientSegments(s.model.atomicHierarchy.chainAtomSegments,c),f=Wn.transientSegments(s.model.atomicHierarchy.residueAtomSegments,c);d.hasNext;){var p=d.move();if(n&&(o.element=c[p.start],n(o)),r||i)for(f.setSegment(p);f.hasNext;){var m=f.move();if(r&&(o.element=c[m.start],r(o)),i)for(var h=m.start,g=m.end;h<g;h++)o.element=c[h],i(o)}}}}},t.DefaultSizeThresholds={smallResidueCount:10,mediumResidueCount:5e3,largeResidueCount:3e4,highSymmetryUnitCount:10,fiberResidueCount:15},function(t){t[t.Small=0]="Small",t[t.Medium=1]="Medium",t[t.Large=2]="Large",t[t.Huge=3]="Huge",t[t.Gigantic=4]="Gigantic"}(m=t.Size||(t.Size={})),t.getSize=function(e,n,r){void 0===n&&(n={}),void 0===r&&(r=1);var i=Object(v.a)(Object(v.a)({},t.DefaultSizeThresholds),n);return e.polymerResidueCount>=i.largeResidueCount*r?function(t,e){var n=g(t);return n.length>=1&&n[0].units.length>e.highSymmetryUnitCount}(e,i)?m.Huge:m.Gigantic:function(t,e){var n=g(t);return 1===n.length&&n[0].units.length>2&&n[0].units[0].polymerElements.length<e.fiberResidueCount}(e,i)||e.polymerResidueCount<i.smallResidueCount*r?m.Small:e.polymerResidueCount<i.mediumResidueCount*r?m.Medium:m.Large},t.Index=Od.createSimple("index","root"),t.MaxIndex=Od.createSimple("max_index","root");t.getPrincipalAxes=function(e){if(e.currentPropertyData.__PrincipalAxes__)return e.currentPropertyData.__PrincipalAxes__;var n=l.Loci.getPrincipalAxes(t.toStructureElementLoci(e));return e.currentPropertyData.__PrincipalAxes__=n,n}}(pp||(pp={}));var hp,gp,vp,yp=$t.diff;function _p(t,e){return{kind:"element-loci",structure:t,elements:e}}function bp(t){return t}function xp(t){throw new Error("Property only available for ".concat(t," models."))}function Ap(t){return function(e){return Us.isAtomic(e.unit)?t(e):xp("atomic")}}function wp(t){return function(e){return Us.isCoarse(e.unit)?t(e):xp("coarse")}}function Sp(t){return Us.isAtomic(t.unit)?t.unit.residueIndex[t.element]:-1}function Cp(t){return Us.isAtomic(t.unit)?t.unit.chainIndex[t.element]:-1}function Bp(t){return ef.entity.key(t)}!function(t){function e(t){for(var e=0,n=t.elements;e<n.length;e++){var r=n[e];if(fn.size(r.indices)>0)return!1}return!0}function n(t){for(var e=0,n=0,r=t.elements;n<r.length;n++){var i=r[n].indices;e+="number"==typeof i?yp(i):i.length}return e}function r(n){return e(n)?n:t(n.structure,[{unit:n.elements[0].unit,indices:fn.ofSingleton(fn.start(n.elements[0].indices))}])}function i(t){return t.length>3&&sn.isRange(t)?ye.ofRange(t[0],t[t.length-1]):sn.ofSortedArray(t)}function o(e,n){for(var r=[],o=new Set,a=0,s=e.elements;a<s.length;a++){var c=s[a];if(u(c))r[r.length]=c;else if(0===c.unit.kind){for(var l=c.unit.elements,d=c.unit.model.atomicHierarchy,f=c.unit.model.atomicHierarchy.atoms.label_alt_id,p=d.residueAtomSegments,m=p.index,h=p.offsets,g=[],v=c.indices,y=fn.size(v),_=0;_<y;){o.clear();var b=l[fn.getAt(v,_)],x=m[b];for(o.add(f.value(b)),_++;_<y;){var A=l[fn.getAt(v,_)];if(m[A]!==x)break;o.add(f.value(A)),_++}for(var w=o.has(""),S=h[x],C=h[x+1];S<C;S++){var B=fn.indexOf(l,S);if(B>=0){var I=f.value(S);n&&!w&&I&&!o.has(I)||(g[g.length]=B)}}}r[r.length]={unit:c.unit,indices:i(g)}}else r[r.length]=c}return t(e.structure,r)}function a(t){switch(t.kind){case 0:return t.model.atomicHierarchy.chainAtomSegments;case 1:return t.model.coarseHierarchy.spheres.chainElementSegments;case 2:return t.model.coarseHierarchy.gaussians.chainElementSegments}}function u(t){return t.unit.elements.length===fn.size(t.indices)}function s(t,e,n){for(var r=a(t).index,o=t.elements,u=0,s=0,c=o.length;s<c;s++){var l=r[o[s]];e.has(l)&&u++}if(u!==t.elements.length){var d=new Int32Array(u);u=0;for(s=0,c=o.length;s<c;s++){l=r[o[s]];e.has(l)&&(d[u++]=s)}d.length>0&&(n[n.length]={unit:t,indices:i(d)})}else n[n.length]={unit:t,indices:ye.ofBounds(0,u)}}function c(t,e,n,r,i){for(var o=a(t.elements[0].unit).index,u=new Set,c=e;c<n;c++)for(var l=t.elements[c],d=l.indices,f=l.unit.elements,p=0,m=fn.size(d);p<m;p++)u.add(o[f[fn.getAt(d,p)]]);if(r)for(var h=t.elements[0].unit,g=0,v=t.structure.units;g<v.length;g++){var y=v[g];Us.areSameChainOperatorGroup(y,h)&&s(y,u,i)}else for(c=e;c<n;c++)s(t.elements[c].unit,u,i)}function l(e){for(var n=[],r=0,i=e.elements.length;r<i;r++){var o=e.elements[r];if(Us.Traits.is(o.unit.traits,Us.Trait.Partitioned)){for(var a=r;r<i&&Us.areSameChainOperatorGroup(e.elements[r].unit,o.unit);)r++;var s=r;r--,c(e,a,s,!0,n)}else u(o)?n[n.length]=o:c(e,r,r+1,!1,n)}return t(e.structure,n)}function d(t){return"".concat(t.unit.model.id,"|").concat(ef.entity.id(t))}function f(t,e){for(var n=[],r=0,i=fn.size(e);r<i;++r)n.push(t[fn.getAt(e,r)]);return sn.ofSortedArray(n)}function p(t,e){return sn.isRange(t)&&sn.areEqual(t,e)?ye.ofLength(t.length):i(sn.indicesOf(t,e))}t.is=function(t){return!!t&&"element-loci"===t.kind},t.areEqual=function(t,e){if(t.structure!==e.structure)return!1;if(t.elements.length!==e.elements.length)return!1;for(var n=0,r=t.elements.length;n<r;++n){var i=t.elements[n],o=e.elements[n];if(i.unit.id!==o.unit.id)return!1;if(!fn.areEqual(i.indices,o.indices))return!1}return!0},t.isEmpty=e,t.isWholeStructure=function(t){return n(t)===t.structure.elementCount},t.size=n,t.all=function(e){return t(e,e.units.map((function(t){return{unit:t,indices:fn.ofBounds(0,t.elements.length)}})))},t.none=function(e){return t(e,[])},t.getFirstLocation=function(t,n){if(!e(t)){var r=t.elements[0].unit,i=r.elements[fn.getAt(t.elements[0].indices,0)];return n?(n.structure=t.structure,n.unit=t.elements[0].unit,n.element=i,n):di.create(t.structure,r,i)}},t.firstElement=r,t.firstResidue=function(t){return e(t)?t:o(r(t))},t.firstChain=function(t){return e(t)?t:l(r(t))},t.toStructure=function(t){for(var e=[],n=function(t){var n=t.unit,r=t.indices,i=new Int32Array(fn.size(r));fn.forEach(r,(function(t,e){return i[e]=n.elements[t]})),e.push(n.getChild(sn.ofSortedArray(i)))},r=0,i=t.elements;r<i.length;r++){n(i[r])}return pp.create(e,{parent:t.structure.parent})},t.forEachLocation=function(e,n){if(!t.isEmpty(e))for(var r=di.create(e.structure),i=0,o=e.elements;i<o.length;i++){var a=o[i],u=a.unit,s=a.indices;r.unit=u;for(var c=a.unit.elements,l=0,d=fn.size(s);l<d;l++)r.element=c[fn.getAt(s,l)],n(r)}},t.remap=function(e,n){if(n===e.structure)return e;var r=[];return e.elements.forEach((function(t){if(n.unitMap.has(t.unit.id)){var e=n.unitMap.get(t.unit.id),i=fn.indexedIntersect(t.indices,t.unit.elements,e.elements);fn.size(i)>0&&r.push({unit:e,indices:i})}})),t(n,r)},t.union=function e(n,r){if(n.elements.length>r.elements.length)return e(r,n);if(t.isEmpty(n))return r;for(var i=new Map,o=0,a=n.elements;o<a.length;o++){var u=a[o];i.set(u.unit.id,u.indices)}for(var s=[],c=0,l=r.elements;c<l.length;c++){u=l[c];i.has(u.unit.id)?(s[s.length]={unit:u.unit,indices:fn.union(i.get(u.unit.id),u.indices)},i.delete(u.unit.id)):s[s.length]=u}return i.forEach((function(t,e){s[s.length]={unit:n.structure.unitMap.get(e),indices:t}})),t(n.structure,s)},t.subtract=function(e,n){for(var r=new Map,i=0,o=n.elements;i<o.length;i++){var a=o[i];r.set(a.unit.id,a.indices)}for(var u=[],s=0,c=e.elements;s<c.length;s++){a=c[s];if(r.has(a.unit.id)){var l=fn.subtract(a.indices,r.get(a.unit.id));if(0===fn.size(l))continue;u[u.length]={unit:a.unit,indices:l}}else u[u.length]=a}return t(e.structure,u)},t.intersect=function(e,n){for(var r=new Map,i=0,o=e.elements;i<o.length;i++){var a=o[i];r.set(a.unit.id,a.indices)}for(var u=[],s=0,c=n.elements;s<c.length;s++){a=c[s];if(r.has(a.unit.id)){var l=fn.intersect(r.get(a.unit.id),a.indices);0!==fn.size(l)&&(u[u.length]={unit:a.unit,indices:l})}}return t(e.structure,u)},t.areIntersecting=function e(n,r){if(n.elements.length>r.elements.length)return e(r,n);if(t.isEmpty(n))return t.isEmpty(r);for(var i=new Map,o=0,a=n.elements;o<a.length;o++){var u=a[o];i.set(u.unit.id,u.indices)}for(var s=0,c=r.elements;s<c.length;s++){u=c[s];if(i.has(u.unit.id)&&fn.areIntersecting(i.get(u.unit.id),u.indices))return!0}return!1},t.isSubset=function(e,n){if(t.isEmpty(e))return t.isEmpty(n);for(var r=new Map,i=0,o=e.elements;i<o.length;i++){var a=o[i];r.set(a.unit.id,a.indices)}for(var u=!1,s=0,c=n.elements;s<c.length;s++){a=c[s];if(r.has(a.unit.id)){if(!fn.isSubset(r.get(a.unit.id),a.indices))return!1;u=!0}}return u},t.extendToWholeResidues=o,t.extendToWholeChains=l,t.extendToWholeEntities=function(e){for(var n=[],r=di.create(e.structure),i=new Set,o=e.structure.units,a=0,u=e.elements.length;a<u;a++){var s=e.elements[a];r.unit=s.unit,r.element=s.unit.elements[0],i.add(d(r))}a=0;for(var c=o.length;a<c;++a){var l=o[a];if(r.unit=l,r.element=l.elements[0],i.has(d(r))){var f=fn.ofBounds(0,l.elements.length);n[n.length]={unit:l,indices:f}}}return t(e.structure,n)},t.extendToWholeModels=function(e){for(var n=[],r=new Set,i=e.structure.units,o=0,a=e.elements.length;o<a;o++){var u=e.elements[o];r.add(u.unit.model.id)}o=0;for(var s=i.length;o<s;++o){var c=i[o];if(r.has(c.model.id)){var l=fn.ofBounds(0,c.elements.length);n[n.length]={unit:c,indices:l}}}return t(e.structure,n)},t.extendToAllInstances=function(e){for(var n=[],r=new Map,i=0,o=e.elements.length;i<o;i++){var a=e.elements[i],u=a.unit.model,s=f(a.unit.elements,a.indices);r.has(u)?r.set(u,sn.union(s,r.get(u))):r.set(u,s)}i=0;for(var c=e.structure.units.length;i<c;++i){var l=e.structure.units[i];if(s=r.get(l.model)){var d=p(l.elements,s);fn.size(d)&&(n[n.length]={unit:l,indices:d})}}return t(e.structure,n)},t.extendToWholeOperators=function(e){for(var n=[],r=new Set,i=e.structure.units,o=0,a=e.elements.length;o<a;o++){var u=e.elements[o];r.add(u.unit.conformation.operator.name)}o=0;for(var s=i.length;o<s;++o){var c=i[o];if(r.has(c.conformation.operator.name)){var l=fn.ofBounds(0,c.elements.length);n[n.length]={unit:c,indices:l}}}return t(e.structure,n)};var m=new _s("98"),h=C();t.getBoundary=function(t,e){m.reset();for(var n=0,r=t.elements;n<r.length;n++)for(var i=(f=r[n]).indices,o=f.unit.conformation.position,a=f.unit.conformation.r,u=f.unit.elements,s=0,c=fn.size(i);s<c;s++){o(p=u[fn.getAt(i,s)],h),e&&C.transformMat4(h,h,e),m.includePositionRadius(h,a(p))}m.finishedIncludeStep();for(var l=0,d=t.elements;l<d.length;l++){var f;for(i=(f=d[l]).indices,o=f.unit.conformation.position,a=f.unit.conformation.r,u=f.unit.elements,s=0,c=fn.size(i);s<c;s++){var p;o(p=u[fn.getAt(i,s)],h),e&&C.transformMat4(h,h,e),m.radiusPositionRadius(h,a(p))}}return{box:m.getBox(),sphere:m.getSphere()}};var g=C();function v(t,e,n){void 0===n&&(n=0);for(var r=n,i=0,o=t.elements;i<o.length;i++){for(var a=o[i],u=a.indices,s=a.unit.conformation.position,c=a.unit.elements,l=fn.size(u),d=0;d<l;d++){s(c[fn.getAt(u,d)],g),C.toArray(g,e,r+3*d)}r+=3*l}return e}function y(t,e,n,r,i){pt(e);for(var o=[],a=[],u=0,s=e.length;u<s;){var c=u;for(u++;u<s&&e[u-1]+1===e[u];)u++;var l=u;if(l-c>12)o[o.length]=e[c],o[o.length]=e[l-1];else for(var d=c;d<l;d++)a[a.length]=e[d]}return n?{atom:{set:a,ranges:o},chain:{opName:[t]},entity:{modelLabel:r,modelIndex:i}}:{atom:{set:a,ranges:o},chain:{opName:[t]}}}t.toPositionsArray=v,t.getPrincipalAxes=function(t){var e=n(t),r=v(t,new Float32Array(3*e));return vr.ofPositions(r)},t.getPrincipalAxesMany=function(t){var e=0;t.forEach((function(t){e+=n(t)}));var r=new Float32Array(3*e),i=0;return t.forEach((function(t){v(t,r,i),i+=3*n(t)})),vr.ofPositions(r)},t.toExpression=function(e){var n;if(t.isEmpty(e))return Gi.struct.generator.empty();for(var r,i,o=e.structure.models,a=new Map,u=0,s=e.elements;u<s.length;u++){var c=(b=s[u]).indices,l=b.unit.elements,d=b.unit.conformation.operator.name,f=void 0;a.has(d)?f=a.get(d).xs:(f=yi.create(),a.set(d,{modelLabel:b.unit.model.label,modelIndex:b.unit.model.modelNum,xs:f}));for(var p=0,m=fn.size(c);p<m;p++){var h=(r=b.unit,i=l[fn.getAt(c,p)],Us.isAtomic(r)?r.model.atomicHierarchy.atomSourceIndex.value(i):i);yi.add(f,h,h)}}for(var g=[],v=a.keys();;){var _=v.next();if(_.done)break;var b=a.get(_.value);g.push(y(_.value,b.xs.array,o.length>1,b.modelLabel,b.modelIndex))}for(var x=new Map,A=(p=0,g.length);p<A;++p){var w=g[p],S=yt(xt(w.atom.ranges),xt(w.atom.set));d="".concat(S,"|").concat(w.entity?w.entity.modelLabel+w.entity.modelIndex:"");x.has(d)?(n=x.get(d).chain.opName).push.apply(n,w.chain.opName):x.set(d,w)}var C=[];return x.forEach((function(t){var e=t.atom,n=e.ranges,r=e.set,i=t.chain.opName,o=Gi.struct.atomProperty.core.operatorName(),a=Gi.struct.atomProperty.core.sourceIndex(),u=[];r.length>0&&(u[u.length]=Gi.core.set.has([Gi.core.type.set(r),a]));for(var s=0,c=n.length/2;s<c;s++)u[u.length]=Gi.core.rel.inRange([a,n[2*s],n[2*s+1]]);if(t.entity){var l=t.entity,d=l.modelLabel,f=l.modelIndex;C.push(Gi.struct.generator.atomGroups({"atom-test":u.length>1?Gi.core.logic.or(u):u[0],"chain-test":i.length>1?Gi.core.set.has([Gi.core.type.set(i),o]):Gi.core.rel.eq([o,i[0]]),"entity-test":Gi.core.logic.and([Gi.core.rel.eq([Gi.struct.atomProperty.core.modelLabel(),d]),Gi.core.rel.eq([Gi.struct.atomProperty.core.modelIndex(),f])])}))}else C.push(Gi.struct.generator.atomGroups({"atom-test":u.length>1?Gi.core.logic.or(u):u[0],"chain-test":i.length>1?Gi.core.set.has([Gi.core.type.set(i),o]):Gi.core.rel.eq([o,i[0]])}))})),Gi.struct.modifier.union([1===C.length?C[0]:Gi.struct.combinator.merge(C.map((function(t){return Gi.struct.modifier.union([t])})))])}}(_p||(_p={})),function(t){function e(){return{elementCount:0,conformationCount:0,residueCount:0,chainCount:0,unitCount:0,structureCount:0,firstElementLoc:di.create(void 0),firstConformationLoc:di.create(void 0),firstResidueLoc:di.create(void 0),firstChainLoc:di.create(void 0),firstUnitLoc:di.create(void 0),firstStructureLoc:di.create(void 0)}}function n(t,e,n){var r=t.get(e)||0;t.set(e,r+n)}function r(t,e,r){var i=r.indices,o=r.unit,a=o.elements,u=fn.size(i),s=new Map,c=new Map;if(u>0&&di.set(t.firstElementLoc,e,o,a[fn.start(i)]),u===a.length)t.unitCount+=1,1===t.unitCount&&di.set(t.firstUnitLoc,e,o,a[fn.start(i)]);else if(1===u){if(Us.Traits.is(o.traits,Us.Trait.MultiChain))return;t.elementCount+=1,1===t.elementCount&&di.set(t.firstElementLoc,e,o,a[fn.start(i)])}else if(Us.isAtomic(o))for(var l=o.model.atomicHierarchy.residueAtomSegments,d=l.index,f=l.offsets,p=o.model.atomicHierarchy.atoms.label_alt_id,m=0,h=function(){s.clear();var r=0,l=a[fn.getAt(i,m)],h=d[l];for(n(s,p.value(l),1),++m,++r;m<u;){var g=a[fn.getAt(i,m)];if(d[g]!==h)break;n(s,p.value(g),1),++m,++r}if(f[h+1]-f[h]===r)t.residueCount+=1,1===t.residueCount&&di.set(t.firstResidueLoc,e,o,f[h]);else{c.clear();for(var v=f[h],y=f[h+1];v<y;++v)n(c,p.value(v),1);c.get("")===s.get("")&&s.forEach((function(n,i){if(c.get(i)===n){if(""!==i&&(t.conformationCount+=1,1===t.conformationCount))for(var a=f[h],u=f[h+1];a<u;++a)if(i===p.value(a)){di.set(t.firstConformationLoc,e,o,a);break}r-=n}})),t.elementCount+=r}};m<u;)h();else t.elementCount+=u,1===t.elementCount&&di.set(t.firstElementLoc,e,o,a[fn.start(i)])}function i(t,e,n){var r=n.indices,i=n.unit,o=fn.size(r);if(0!==o){var a=i.elements;if(Us.Traits.is(i.traits,Us.Trait.MultiChain)){var u=Us.isAtomic(i)?i.model.atomicHierarchy.chainAtomSegments:Us.isSpheres(i)?i.model.coarseHierarchy.spheres.chainElementSegments:Us.isGaussians(i)?i.model.coarseHierarchy.gaussians.chainElementSegments:void 0;if(u)for(var s=u.index,c=u.offsets,l=0;l<o;){var d=0,f=a[fn.getAt(r,l)],p=s[f];for(++l,++d;l<o;){if(s[a[fn.getAt(r,l)]]!==p)break;++l,++d}c[p+1]-c[p]===d?(t.chainCount+=1,1===t.chainCount&&di.set(t.firstChainLoc,e,i,c[p])):1===o&&(t.elementCount+=1,1===t.elementCount&&di.set(t.firstElementLoc,e,i,f))}else console.warn("StructureElement loci stats: unknown unit type")}else o===a.length&&(t.chainCount+=1,1===t.chainCount&&di.set(t.firstChainLoc,e,i,a[fn.start(r)]))}}function o(t,e,r,i,o){var a=r[i],u=Us.isAtomic(a.unit)?a.unit.model.atomicHierarchy.chainAtomSegments:Us.isSpheres(a.unit)?a.unit.model.coarseHierarchy.spheres.chainElementSegments:Us.isGaussians(a.unit)?a.unit.model.coarseHierarchy.gaussians.chainElementSegments:void 0;if(u){for(var s=u.index,c=u.offsets,l=new Map,d=i;d<o;d++){var f=(a=r[d]).indices,p=a.unit;if(0!==(_=fn.size(f))){var m=p.elements;if(Us.Traits.is(p.traits,Us.Trait.MultiChain))for(var h=0;h<_;){var g=0,v=s[b=m[fn.getAt(f,h)]];for(++h,++g;h<_;){if(s[m[fn.getAt(f,h)]]!==v)break;++h,++g}n(l,v,g)}else n(l,s[b=m[fn.start(f)]],m.length)}}var y=-1;if(l.forEach((function(e,n){c[n+1]-c[n]===e&&(t.chainCount+=1,1===t.chainCount&&(y=n))})),!(y<0))for(d=i;d<o;d++){var _;f=(a=r[d]).indices,p=a.unit;if(0!==(_=fn.size(f)))for(m=p.elements,h=0;h<_;){var b;if((v=s[b=m[fn.getAt(f,h)]])===y)return void di.set(t.firstChainLoc,e,p,b)}}}else console.warn("StructureElement loci stats: unknown unit type")}t.create=e,t.ofLoci=function(t){var n=e();if(_p.isEmpty(t))return n;var a=!1;if(_p.isWholeStructure(t)){if(n.structureCount+=1,1===n.structureCount){var u=t.elements[0],s=u.unit,c=u.indices;di.set(n.firstStructureLoc,t.structure,s,s.elements[fn.min(c)])}}else for(var l=0,d=t.elements;l<d.length;l++){var f=d[l];r(n,t.structure,f),Us.Traits.is(f.unit.traits,Us.Trait.Partitioned)?a=!0:i(n,t.structure,f)}if(a)for(var p=0,m=t.elements.length;p<m;p++){f=t.elements[p];if(Us.Traits.is(f.unit.traits,Us.Trait.Partitioned)){for(var h=p;p<m&&Us.areSameChainOperatorGroup(t.elements[p].unit,f.unit);)p++;var g=p;p--,g-h==1?i(n,t.structure,f):o(n,t.structure,t.elements,h,g)}}return n},t.add=function(t,e,n){return 1===e.elementCount&&0===n.elementCount?di.copy(t.firstElementLoc,e.firstElementLoc):0===e.elementCount&&1===n.elementCount&&di.copy(t.firstElementLoc,n.firstElementLoc),1===e.conformationCount&&0===n.conformationCount?di.copy(t.firstConformationLoc,e.firstConformationLoc):0===e.conformationCount&&1===n.conformationCount&&di.copy(t.firstConformationLoc,n.firstConformationLoc),1===e.residueCount&&0===n.residueCount?di.copy(t.firstResidueLoc,e.firstResidueLoc):0===e.residueCount&&1===n.residueCount&&di.copy(t.firstResidueLoc,n.firstResidueLoc),1===e.chainCount&&0===n.chainCount?di.copy(t.firstChainLoc,e.firstChainLoc):0===e.chainCount&&1===n.chainCount&&di.copy(t.firstChainLoc,n.firstChainLoc),1===e.unitCount&&0===n.unitCount?di.copy(t.firstUnitLoc,e.firstUnitLoc):0===e.unitCount&&1===n.unitCount&&di.copy(t.firstUnitLoc,n.firstUnitLoc),1===e.structureCount&&0===n.structureCount?di.copy(t.firstStructureLoc,e.firstStructureLoc):0===e.structureCount&&1===n.structureCount&&di.copy(t.firstStructureLoc,n.firstStructureLoc),t.elementCount=e.elementCount+n.elementCount,t.conformationCount=e.conformationCount+n.conformationCount,t.residueCount=e.residueCount+n.residueCount,t.chainCount=e.chainCount+n.chainCount,t.unitCount=e.unitCount+n.unitCount,t.structureCount=e.structureCount+n.structureCount,t}}(hp||(hp={})),function(t){function e(t){var e=this,n=t.descriptor.name,r="static"===t.type?"_staticPropertyData":"_dynamicPropertyData",i=function(e){return n in e[r]||(e[r][n]={props:Object(v.a)({},Ad.getDefaultValues(t.getParams(e))),data:Ht.create(void 0)}),e[r][n]},o=function(t,e,o){var a=i(t);t[r][n]={props:e,data:Ht.withValue(a.data,o)}};return{label:t.label,descriptor:t.descriptor,isHidden:t.isHidden,getParams:function(e){var n=Ad.clone(t.getParams(e));return Ad.setDefaultValues(n,i(e).props),n},defaultParams:t.defaultParams,isApplicable:t.isApplicable,attach:function(n,r,a,u){return void 0===a&&(a={}),Object(v.b)(e,void 0,void 0,(function(){var e,s,c,l,d;return Object(v.d)(this,(function(f){switch(f.label){case 0:return u&&r.customProperties.reference(t.descriptor,!0),e=i(r),s=Ad.merge(t.defaultParams,e.props,a),e.data.value&&Ad.areEqual(t.defaultParams,e.props,s)?[2]:[4,t.obtain(n,r,s)];case 1:return c=f.sent(),l=c.value,d=c.assets,r.customProperties.add(t.descriptor),r.customProperties.assets(t.descriptor,d),o(r,s,l),[2]}}))}))},ref:function(e,n){return e.customProperties.reference(t.descriptor,n)},get:function(t){var e;return null===(e=i(t))||void 0===e?void 0:e.data},set:function(e,n,r){void 0===n&&(n={});var a=i(e),u=Ad.merge(t.defaultParams,a.props,n);Ad.areEqual(t.defaultParams,a.props,u)||(o(e,u,r),e.customProperties.assets(t.descriptor))},props:function(t){return i(t).props}}}t.createProvider=e,t.createSimple=function(t,n,r){var i=this,o={value:Ad.Value(r,{isHidden:!0})};return e({label:Xi(t),descriptor:Pr({name:t}),isHidden:!0,type:n,defaultParams:o,getParams:function(){return{value:Ad.Value(r,{isHidden:!0})}},isApplicable:function(){return!0},obtain:function(t,e,n){return Object(v.b)(i,void 0,void 0,(function(){return Object(v.d)(this,(function(t){return[2,Object(v.a)(Object(v.a)({},Ad.getDefaultValues(o)),n)]}))}))}})}}(gp||(gp={})),function(t){var e=this;function n(t){if(!Pl.is(t.sourceData))return!1;var e=t.sourceData.data.db.atom_site,n=e.pdbx_sifts_xref_db_name,r=e.pdbx_sifts_xref_db_acc,i=e.pdbx_sifts_xref_db_num,o=e.pdbx_sifts_xref_db_res;return n.isDefined&&r.isDefined&&i.isDefined&&o.isDefined}function r(t){if(Pl.is(t.sourceData)){var e=t.sourceData.data.db.atom_site,n=e.pdbx_sifts_xref_db_name,r=e.pdbx_sifts_xref_db_acc,i=e.pdbx_sifts_xref_db_num,o=e.pdbx_sifts_xref_db_res;if(n.isDefined&&r.isDefined&&i.isDefined&&o.isDefined){for(var a=t.atomicHierarchy.atomSourceIndex,u=t.atomicHierarchy.residueAtomSegments,s=u.count,c=u.offsets,l=new Array(s),d=new Array(s),f=new Array(s),p=new Array(s),m=0;m<s;m++){var h=a.value(c[m]);0===n.valueKind(h)?(l[m]=n.value(h),d[m]=r.value(h),f[m]=i.value(h),p[m]=o.value(h)):(l[m]="",d[m]="",f[m]="",p[m]="")}return{dbName:l,accession:d,num:f,residue:p}}}}t.Provider=gp.createProvider({label:"SIFTS Mapping",descriptor:Pr({name:"sifts_sequence_mapping"}),type:"static",defaultParams:{},getParams:function(){return{}},isApplicable:function(t){return n(t)},obtain:function(t,n){return Object(v.b)(e,void 0,void 0,(function(){return Object(v.d)(this,(function(t){return[2,{value:r(n)}]}))}))}}),t.isAvailable=n,t.getKey=function(e){var n=e.unit.model,r=t.Provider.get(n).value;if(!r)return"";var i=n.atomicHierarchy.residueAtomSegments.index[e.element];return r.accession[i]},t.getLabel=function(e){var n=e.unit.model,r=t.Provider.get(n).value;if(r){var i=n.atomicHierarchy.residueAtomSegments.index[e.element],o=r.dbName[i];if(o)return"".concat(o," ").concat(r.accession[i]," ").concat(r.num[i]," ").concat(r.residue[i])}}}(vp||(vp={}));Au.Field;var Ip=Au.Encodings;function Pp(t){var e=ef.chain.label_asym_id(t),n=t.unit.conformation.operator.suffix;return n?e+n:e}function Ep(t){var e=ef.chain.auth_asym_id(t),n=t.unit.conformation.operator.suffix;return n?e+n:e}var Mp={shouldInclude:function(t){var e;return!!(null===(e=t.atom_site)||void 0===e?void 0:e.pdbx_label_index.isDefined)},value:function(t,e){var n=e.sourceIndex.value(t.element);return e.atom_site.pdbx_label_index.value(n)}},kp={shouldInclude:function(t){return vp.isAvailable(t.structure.models[0])},pdbx_sifts_xref_db_name:{value:function(t,e){var n=e.sourceIndex.value(t.element);return e.atom_site.pdbx_sifts_xref_db_name.value(n)},valueKind:function(t,e){var n=e.sourceIndex.value(t.element);return e.atom_site.pdbx_sifts_xref_db_name.valueKind(n)}},pdbx_sifts_xref_db_acc:{value:function(t,e){var n=e.sourceIndex.value(t.element);return e.atom_site.pdbx_sifts_xref_db_acc.value(n)},valueKind:function(t,e){var n=e.sourceIndex.value(t.element);return e.atom_site.pdbx_sifts_xref_db_acc.valueKind(n)}},pdbx_sifts_xref_db_num:{value:function(t,e){var n=e.sourceIndex.value(t.element);return e.atom_site.pdbx_sifts_xref_db_num.value(n)},valueKind:function(t,e){var n=e.sourceIndex.value(t.element);return e.atom_site.pdbx_sifts_xref_db_num.valueKind(n)}},pdbx_sifts_xref_db_res:{value:function(t,e){var n=e.sourceIndex.value(t.element);return e.atom_site.pdbx_sifts_xref_db_res.value(n)},valueKind:function(t,e){var n=e.sourceIndex.value(t.element);return e.atom_site.pdbx_sifts_xref_db_res.valueKind(n)}}},Dp={name:"atom_site",instance:function(t){var e=t.structures;return{fields:Au.fields().str("group_PDB",ef.residue.group_PDB).index("id").str("type_symbol",ef.atom.type_symbol).str("label_atom_id",ef.atom.label_atom_id).str("label_comp_id",ef.atom.label_comp_id).int("label_seq_id",ef.residue.label_seq_id,{encoder:Ip.deltaRLE,valueKind:function(t,e){var n=t.unit.model;return n.atomicHierarchy.residues.label_seq_id.valueKind(n.atomicHierarchy.residueAtomSegments.index[t.element])}}).str("label_alt_id",ef.atom.label_alt_id).str("pdbx_PDB_ins_code",ef.residue.pdbx_PDB_ins_code).str("label_asym_id",Pp).str("label_entity_id",ef.chain.label_entity_id).float("Cartn_x",ef.atom.x,{digitCount:3,encoder:Ip.fixedPoint3}).float("Cartn_y",ef.atom.y,{digitCount:3,encoder:Ip.fixedPoint3}).float("Cartn_z",ef.atom.z,{digitCount:3,encoder:Ip.fixedPoint3}).float("occupancy",ef.atom.occupancy,{digitCount:2,encoder:Ip.fixedPoint2}).float("B_iso_or_equiv",ef.atom.B_iso_or_equiv,{digitCount:2,encoder:Ip.fixedPoint2}).int("pdbx_formal_charge",ef.atom.pdbx_formal_charge,{encoder:Ip.deltaRLE,valueKind:function(t,e){return t.unit.model.atomicHierarchy.atoms.pdbx_formal_charge.valueKind(t.element)}}).str("auth_atom_id",ef.atom.auth_atom_id).str("auth_comp_id",ef.atom.auth_comp_id).int("auth_seq_id",ef.residue.auth_seq_id,{encoder:Ip.deltaRLE}).str("auth_asym_id",Ep).int("pdbx_PDB_model_num",ef.unit.model_num,{encoder:Ip.deltaRLE}).int("pdbx_label_index",Mp.value,{shouldInclude:Mp.shouldInclude}).str("pdbx_sifts_xref_db_name",kp.pdbx_sifts_xref_db_name.value,{shouldInclude:kp.shouldInclude,valueKind:kp.pdbx_sifts_xref_db_name.valueKind}).str("pdbx_sifts_xref_db_acc",kp.pdbx_sifts_xref_db_acc.value,{shouldInclude:kp.shouldInclude,valueKind:kp.pdbx_sifts_xref_db_acc.valueKind}).str("pdbx_sifts_xref_db_num",kp.pdbx_sifts_xref_db_num.value,{shouldInclude:kp.shouldInclude,valueKind:kp.pdbx_sifts_xref_db_num.valueKind}).str("pdbx_sifts_xref_db_res",kp.pdbx_sifts_xref_db_res.value,{shouldInclude:kp.shouldInclude,valueKind:kp.pdbx_sifts_xref_db_res.valueKind}).getFields(),source:e.map((function(t){return{data:{structure:t,sourceIndex:t.model.atomicHierarchy.atomSourceIndex,atom_site:Pl.is(t.model.sourceData)?t.model.sourceData.data.db.atom_site:void 0},rowCount:t.elementCount,keys:function(){return t.elementLocations()}}}))}}};function Op(t,e){return t?"".concat(t,"_").concat(e):e}function Np(t){return t?"pdbx_".concat(t,"_PDB_ins_code"):"pdbx_PDB_ins_code"}function Tp(t,e){return function(n,r){return e(t(n,r))}}function Up(t,e,n){n&&n.includeModelNum&&t.int("pdbx_PDB_model_num",Tp(e,ef.unit.model_num))}function Rp(t,e){var n=e&&e.prefix,r=Au.fields().str(Op(n,"label_comp_id"),Tp(t,ef.atom.label_comp_id)).int(Op(n,"label_seq_id"),Tp(t,ef.residue.label_seq_id),{encoder:Ip.deltaRLE,valueKind:function(e,n){var r=t(e,n),i=r.unit.model;return i.atomicHierarchy.residues.label_seq_id.valueKind(i.atomicHierarchy.residueAtomSegments.index[r.element])}}).str(Np(n),Tp(t,ef.residue.pdbx_PDB_ins_code)).str(Op(n,"label_asym_id"),Tp(t,ef.chain.label_asym_id)).str(Op(n,"label_entity_id"),Tp(t,ef.chain.label_entity_id)).str(Op(n,"auth_comp_id"),Tp(t,ef.atom.auth_comp_id)).int(Op(n,"auth_seq_id"),Tp(t,ef.residue.auth_seq_id),{encoder:Ip.deltaRLE}).str(Op(n,"auth_asym_id"),Tp(t,ef.chain.auth_asym_id));return Up(r,t,e),r.getFields()}var Lp=Au.Field,Gp={name:"struct_conf",instance:function(t){var e=Vp(t,"helix");return{fields:jp(),source:[{data:e,rowCount:e.length}]}}},Fp={name:"struct_sheet_range",instance:function(t){var e=Vp(t,"sheet").sort(qp);return{fields:Hp(),source:[{data:e,rowCount:e.length}]}}};function qp(t,e){var n=t.element,r=e.element;return n.sheet_id<r.sheet_id?-1:n.sheet_id===r.sheet_id?t.start.element-e.start.element:1}var jp=function(){return Object(v.e)(Object(v.e)(Object(v.e)([Lp.str("conf_type_id",(function(t,e){return e[t].element.type_id})),Lp.str("id",(function(t,e,n){return"".concat(e[t].element.type_id).concat(n+1)}))],Rp((function(t,e){return e[t].start}),{prefix:"beg"}),!0),Rp((function(t,e){return e[t].end}),{prefix:"end"}),!0),[Lp.str("pdbx_PDB_helix_class",(function(t,e){return e[t].element.helix_class})),Lp.str("details",(function(t,e){return e[t].element.details||""}),{valueKind:function(t,e){return e[t].element.details?0:2}}),Lp.int("pdbx_PDB_helix_length",(function(t,e){return e[t].length}))],!1)},Hp=function(){return Object(v.e)(Object(v.e)(Object(v.e)([Lp.str("sheet_id",(function(t,e){return e[t].element.sheet_id})),Lp.index("id")],Rp((function(t,e){return e[t].start}),{prefix:"beg"}),!0),Rp((function(t,e){return e[t].end}),{prefix:"end"}),!0),[Lp.str("symmetry",(function(t,e){return""}),{valueKind:function(t,e){return 2}})],!1)};function Vp(t,e){var n=pl.Provider.get(t.firstModel);if(!n)return[];for(var r=n.key,i=n.elements,o=[],a=t.structures[0],u=0,s=a.unitSymmetryGroups;u<s.length;u++){var c=s[u].units[0];if(Us.isAtomic(c))for(var d=c.model.atomicHierarchy.residueAtomSegments,f=Wn.transientSegments(d,c.elements),p=void 0,m=!0;f.hasNext;){m&&(p=f.move());var h=p.index,g=r[h],v=i[g];if(v.kind===e){for(var y=h;f.hasNext;)if(y=p.index,g!==r[(p=f.move()).index]){m=!1,o[o.length]={start:l.Location.create(a,c,d.offsets[h]),end:l.Location.create(a,c,d.offsets[y]),length:y-h+1,element:v};break}}else m=!0}}return o}function zp(t,e){if(Pl.is(t.sourceData))return t.sourceData.data.db[e]}function Yp(t){return go.unionMany.apply(go,t.map((function(t){return t.uniqueResidueNames})))}function Kp(t){if(0===t.length)return[];if(1===t.length)return t[0].entityIndices;for(var e=yi.create(),n=0,r=t;n<r.length;n++)for(var i=0,o=r[n].entityIndices;i<o.length;i++){var a=o[i];yi.add(e,a,a)}return pt(e.array),e.array}function Zp(t,e){return{name:t,instance:function(n){var r=n.structures;if(e&&!e(r[0]))return Au.Category.Empty;var i=r[0].model;if(!Pl.is(i.sourceData))return Au.Category.Empty;var o=i.sourceData.data.db[t];return o&&o._rowCount?Au.Category.ofTable(o):Au.Category.Empty}}}var Wp=Au.Category,Xp={name:"chem_comp",instance:function(t){t.firstModel;var e=t.structures,n=t.cache,r=zp(e[0].model,"chem_comp");if(!r)return Wp.Empty;var i=r.id,o=n.uniqueResidueNames||(n.uniqueResidueNames=Yp(e)),a=kt.indicesOf(i,(function(t){return o.has(t)}));return Wp.ofTable(r,a)}},Qp={name:"chem_comp_bond",instance:function(t){t.firstModel;var e=t.structures,n=t.cache,r=zp(e[0].model,"chem_comp_bond");if(!r)return Wp.Empty;var i=r.comp_id,o=n.uniqueResidueNames||(n.uniqueResidueNames=Yp(e)),a=kt.indicesOf(i,(function(t){return o.has(t)}));return Wp.ofTable(r,a)}},Jp={name:"pdbx_chem_comp_identifier",instance:function(t){var e=t.firstModel,n=t.structures,r=t.cache,i=zp(e,"pdbx_chem_comp_identifier");if(!i)return Wp.Empty;var o=i.comp_id,a=r.uniqueResidueNames||(r.uniqueResidueNames=Yp(n)),u=kt.indicesOf(o,(function(t){return a.has(t)}));return Wp.ofTable(i,u)}},$p={name:"pdbx_nonpoly_scheme",instance:function(t){var e=t.firstModel,n=(t.structures,t.cache,zp(e,"pdbx_nonpoly_scheme"));return n?Wp.ofTable(n):Wp.Empty}},tm=Au.Category,em=im("struct_asym"),nm=im("entity_poly"),rm=im("entity_poly_seq");function im(t){return{name:t,instance:function(e){var n=e.structures,r=e.cache;return function(t,e,n){var r=zp(t[0].model,e);if(!r)return tm.Empty;var i=r.entity_id,o=n.uniqueEntityIds||(n.uniqueEntityIds=function(t){if(0===t.length)return new Set;var e=t[0].model.entities.data.id;return new Set(Kp(t).map((function(t){return e.value(t)})))}(t)),a=kt.indicesOf(i,(function(t){return o.has(t)}));return tm.ofTable(r,a)}(n,t,r)}}}var om,am=Au.Category;!function(t){t.create=function(t){var e=Array.isArray(t)?t:[t];return{structures:e,firstModel:e[0].model,cache:Object.create(null)}}}(om||(om={}));var um={name:"entity",instance:function(t){var e=t.structures,n=Kp(e);return am.ofTable(e[0].model.entities.data,n)}};function sm(t){return t.units.every((function(t){return t.conformation.operator.isIdentity}))}function cm(t){return sm(t)&&t.units.every((function(t){return!t.conformation.operator.assembly&&!t.conformation.operator.suffix}))}var lm;Zp("entry"),Zp("exptl"),Zp("cell",sm),Zp("symmetry",sm),Zp("pdbx_struct_assembly",cm),Zp("pdbx_struct_assembly_gen",cm),Zp("pdbx_struct_oper_list",cm),Zp("pdbx_entity_branch"),Zp("pdbx_entity_branch_link"),Zp("pdbx_branch_scheme"),Zp("struct_conn"),Zp("atom_sites");!function(t){t.AtomSitePositionsFieldNames=new Set(["id","Cartn_x","Cartn_y","Cartn_z"])}(lm||(lm={}));var dm={molstar_atom_site_operator_mapping:{label_asym_id:kt.Schema.Str(),auth_asym_id:kt.Schema.Str(),operator_name:kt.Schema.Str(),suffix:kt.Schema.Str(),assembly_id:kt.Schema.Str(),assembly_operator_id:kt.Schema.Int(),symmetry_operator_index:kt.Schema.Int(),symmetry_hkl:kt.Schema.Vector(3),ncs_id:kt.Schema.Int()}},fm=function(t,e){return void 0===e[t].operator.assembly?1:0},pm=function(t,e){return-1===e[t].operator.spgrOp?1:0};Au.fields().str("label_asym_id",(function(t,e){return e[t].label_asym_id})).str("auth_asym_id",(function(t,e){return e[t].auth_asym_id})).str("operator_name",(function(t,e){return e[t].operator.name})).str("suffix",(function(t,e){return e[t].operator.suffix})).str("assembly_id",(function(t,e){var n;return(null===(n=e[t].operator.assembly)||void 0===n?void 0:n.id)||""}),{valueKind:fm}).int("assembly_operator_id",(function(t,e){var n;return(null===(n=e[t].operator.assembly)||void 0===n?void 0:n.operId)||0}),{valueKind:fm}).int("symmetry_operator_index",(function(t,e){return e[t].operator.spgrOp}),{valueKind:pm}).vec("symmetry_hkl",[function(t,e){return e[t].operator.hkl[0]},function(t,e){return e[t].operator.hkl[1]},function(t,e){return e[t].operator.hkl[2]}],{valueKind:pm}).int("ncs_id",(function(t,e){return e[t].operator.ncsId}),{valueKind:pm}).getFields();function mm(t,e){return e?1===e.length?_t(e.charCodeAt(0),t):2===e.length?_t(e.charCodeAt(0),_t(e.charCodeAt(1),t)):"".concat(t," ").concat(e):t}function hm(t,e,n,r){if(t.has(e)){(i=t.get(e)).has(n)||i.set(n,r)}else{var i=new Map;t.set(e,i),i.set(n,r)}}function gm(t){throw new Error("Missing entity entry for entity id '".concat(t,"'."))}var vm=Ic.EmptyResidueKey(),ym=function(){function t(t){this.map=t,this.entityIndex=t.entities.getEntityIndex,this.residueOffsets=this.map.segments.residueAtomSegments.offsets}return t.prototype.getEntityFromChain=function(t){return this.map.chain_index_entity_index[t]},t.prototype.findEntity=function(t){var e=this.map.label_asym_id.get(t);return void 0!==e?e:-1},t.prototype.findChainLabel=function(t){var e=this.entityIndex(t.label_entity_id);if(e<0||!this.map.entity_index_label_asym_id.has(e))return-1;var n=this.map.entity_index_label_asym_id.get(e);return n&&n.has(t.label_asym_id)?n.get(t.label_asym_id):-1},t.prototype.findChainAuth=function(t){if(!this.map.auth_asym_id_auth_seq_id.has(t.auth_asym_id))return-1;var e=this.map.auth_asym_id_auth_seq_id.get(t.auth_asym_id);return e.has(t.auth_seq_id)?e.get(t.auth_seq_id):-1},t.prototype.findResidue=function(t,e,n,r){var i;1===arguments.length?i=t:(vm.label_entity_id=t,vm.label_asym_id=e,vm.auth_seq_id=n,vm.pdbx_PDB_ins_code=r,i=vm);var o=this.findChainLabel(i);if(o<0)return-1;var a=this.map.chain_index_auth_seq_id.get(o),u=mm(i.auth_seq_id,i.pdbx_PDB_ins_code||"");return a.has(u)?a.get(u):-1},t.prototype.findResidueLabel=function(t){var e=this.findChainLabel(t);if(e<0)return-1;var n=this.map.chain_index_label_seq_id.get(e),r=mm(t.label_seq_id,t.pdbx_PDB_ins_code||"");return n.has(r)?n.get(r):-1},t.prototype.findResidueAuth=function(t){var e=this.findChainAuth(t);if(e<0)return-1;var n=this.map.chain_index_auth_seq_id.get(e),r=mm(t.auth_seq_id,t.pdbx_PDB_ins_code||"");return n.has(r)?n.get(r):-1},t.prototype.findResidueInsertion=function(t){var e=this.findChainLabel(t);if(e<0)return-1;var n=this.map.chain_index_label_seq_id.get(e),r=mm(t.label_seq_id,t.pdbx_PDB_ins_code||"");if(n.has(r))return n.get(r);var i=sn.findPredecessorIndex(this.map.label_seq_id,t.label_seq_id),o=Pc.chainStartResidueIndex(this.map.segments,e);if(i<o)return o;var a=Pc.chainEndResidueIndexExcl(this.map.segments,e)-1;return i>=a?a:i},t.prototype.findAtom=function(t){var e=this.findResidue(t);return e<0?-1:void 0===t.label_alt_id?_m(this.residueOffsets[e],this.residueOffsets[e+1],this.map.label_atom_id,t.label_atom_id):bm(this.residueOffsets[e],this.residueOffsets[e+1],this.map.label_atom_id,this.map.label_alt_id,t.label_atom_id,t.label_alt_id)},t.prototype.findAtomAuth=function(t){var e=this.findResidueAuth(t);return e<0?-1:void 0===t.label_alt_id?_m(this.residueOffsets[e],this.residueOffsets[e+1],this.map.auth_atom_id,t.auth_atom_id):bm(this.residueOffsets[e],this.residueOffsets[e+1],this.map.auth_atom_id,this.map.label_alt_id,t.auth_atom_id,t.label_alt_id)},t.prototype.findAtomOnResidue=function(t,e,n){return void 0===n?_m(this.residueOffsets[t],this.residueOffsets[t+1],this.map.label_atom_id,e):bm(this.residueOffsets[t],this.residueOffsets[t+1],this.map.label_atom_id,this.map.label_alt_id,e,n)},t.prototype.findAtomsOnResidue=function(t,e){return function(t,e,n,r){for(var i=t;i<e;i++)if(r.has(n.value(i)))return i;return-1}(this.residueOffsets[t],this.residueOffsets[t+1],this.map.label_atom_id,e)},t.prototype.findElementOnResidue=function(t,e){return function(t,e,n,r){for(var i=t;i<e;i++)if(n.value(i)===r)return i;return-1}(this.residueOffsets[t],this.residueOffsets[t+1],this.map.type_symbol,e)},t}();function _m(t,e,n,r){for(var i=t;i<e;i++)if(n.value(i)===r)return i;return-1}function bm(t,e,n,r,i,o){for(var a=t;a<e;a++)if(n.value(a)===i&&r.value(a)===o)return a;return-1}function xm(t,e,n){for(var r=function(t,e,n){return{entities:t,segments:n,label_seq_id:sn.ofSortedArray(e.residues.label_seq_id.toArray({array:Int32Array})),label_atom_id:e.atoms.label_atom_id,auth_atom_id:e.atoms.auth_atom_id,label_alt_id:e.atoms.label_alt_id,type_symbol:e.atoms.type_symbol,chain_index_entity_index:new Int32Array(e.chains._rowCount),entity_index_label_asym_id:new Map,chain_index_label_seq_id:new Map,auth_asym_id_auth_seq_id:new Map,chain_index_auth_seq_id:new Map,label_asym_id:new Map}}(e,t,n),i=t.residues,o=i.label_seq_id,a=i.auth_seq_id,u=i.pdbx_PDB_ins_code,s=t.chains,c=s.label_entity_id,l=s.label_asym_id,d=s.auth_asym_id,f=ye.ofBounds(0,t.atoms._rowCount),p=Wn.transientSegments(n.chainAtomSegments,f);p.hasNext;){var m=p.move(),h=m.index,g=e.getEntityIndex(c.value(h));g<0&&gm(c.value(h)),r.chain_index_entity_index[h]=g;var v=d.value(h),y=r.auth_asym_id_auth_seq_id.get(v);y||(y=new Map,r.auth_asym_id_auth_seq_id.set(v,y));var _=l.value(h);r.label_asym_id.has(_)||r.label_asym_id.set(_,g),hm(r.entity_index_label_asym_id,g,_,h);var b=new Map,x=new Map;r.chain_index_label_seq_id.set(h,b),r.chain_index_auth_seq_id.set(h,x);for(var A=Wn.transientSegments(n.residueAtomSegments,f,m);A.hasNext;){var w=A.move().index,S=a.value(w),C=u.value(w);b.set(mm(o.value(w),C),w),x.set(mm(S,C),w),y.set(S,h)}}return new ym(r)}function Am(t,e,n,r,i,o){var a,u,s=function(t){if(0===t._rowCount)return{residues:[],chains:[]};for(var e=t._rowCount,n=[0],r=[0],i=t.label_entity_id,o=t.label_asym_id,a=t.label_seq_id,u=t.auth_seq_id,s=t.pdbx_PDB_ins_code,c=1;c<e;c++){var l=!i.areValuesEqual(c-1,c)||!o.areValuesEqual(c-1,c);(l||!a.areValuesEqual(c-1,c)||!u.areValuesEqual(c-1,c)||!s.areValuesEqual(c-1,c))&&(n[n.length]=c),l&&(r[r.length]=c)}return{residues:n,chains:r}}(t),c=function(t,e,n){var r=Xt.ofColumns(ll,{type_symbol:kt.ofArray({array:kt.mapToArray(t.type_symbol,wo),schema:kt.Schema.Aliased(kt.Schema.str)}),label_atom_id:t.label_atom_id,auth_atom_id:t.auth_atom_id,label_alt_id:t.label_alt_id,label_comp_id:t.label_comp_id,auth_comp_id:t.auth_comp_id,pdbx_formal_charge:t.pdbx_formal_charge}),i=Xt.view(t,dl,n.residues),o=Xt.view(t,fl,n.chains);if(!i.label_seq_id.isDefined){for(var a=new Int32Array(i.label_seq_id.rowCount),u=n.residues,s=n.chains,c=0,l=0,d=0,f=a.length;d<f;++d)u[d]>=s[c+1]&&(c+=1,l=0),a[d]=++l;i.label_seq_id=kt.ofIntArray(a)}return Xt.columnToArray(i,"label_seq_id",Int32Array),Xt.columnToArray(i,"auth_seq_id",Int32Array),{atoms:r,residues:i,chains:o,atomSourceIndex:e}}(t,e,s),l=function(t,e){var n=new Map;if(!Pl.is(e))return n;var r=ui(dm,e.data.frame).molstar_atom_site_operator_mapping;if(0===r._rowCount)return n;for(var i=new Map,o=new Map,a=0;a<r._rowCount;a++){var u=0===r.assembly_operator_id.valueKind(a)?{id:r.assembly_id.value(a),operList:[],operId:r.assembly_operator_id.value(a)}:void 0,s=F.create(r.operator_name.value(a),D.identity(),{assembly:u,spgrOp:0===r.symmetry_operator_index.valueKind(a)?r.symmetry_operator_index.value(a):void 0,hkl:C.ofArray(r.symmetry_hkl.value(a)),ncsId:r.ncs_id.value(a)}),c=r.suffix.value(a),l=r.label_asym_id.value(a);i.set("".concat(l).concat(c),{name:l,operator:s});var d=r.auth_asym_id.value(a);o.set("".concat(d).concat(c),d)}var f=t.chains,p=f.label_asym_id,m=f.auth_asym_id,h=new Array(p.rowCount),g=new Array(p.rowCount);for(a=0;a<p.rowCount;a++){l=p.value(a),d=m.value(a);if(i.has(l)){var v=i.get(l),y=v.name;s=v.operator;n.set(a,s),h[a]=y,g[a]=o.get(d)||d}else h[a]=l,g[a]=d}return t.chains.label_asym_id=kt.ofArray({array:h,valueKind:t.chains.label_asym_id.valueKind,schema:t.chains.label_asym_id.schema}),t.chains.auth_asym_id=kt.ofArray({array:g,valueKind:t.chains.auth_asym_id.valueKind,schema:t.chains.auth_asym_id.schema}),n}(c,i);if(o&&(a=o.atomicHierarchy,u=c,Xt.areEqual(a.chains,u.chains)&&Xt.areEqual(a.residues,u.residues)&&Xt.areEqual(a.atoms,u.atoms)))return{sameAsPrevious:!0,hierarchy:o.atomicHierarchy,chainOperatorMapping:l};var d={residueAtomSegments:Wn.ofOffsets(s.residues,ye.ofBounds(0,t._rowCount)),chainAtomSegments:Wn.ofOffsets(s.chains,ye.ofBounds(0,t._rowCount))},f=xm(c,n,d),p=function(t,e,n,r){for(var i=t.atoms,o=i.label_comp_id,a=i.type_symbol,u=i._rowCount,s=t.residues._rowCount,c=e.residueAtomSegments.offsets,l=new Uint8Array(u),d=0;d<u;++d)l[d]=vl(a.value(d));var f=new Int32Array(s),p=new Int32Array(s),m=new Int32Array(s),h=new Uint8Array(s),g=new Uint8Array(s),v=new Map,y=new Map;for(d=0;d<s;++d){var _=o.value(c[d]),b=r,x=void 0,A=void 0;if(v.has(_))x=v.get(_),A=y.get(_);else{var w=void 0;b.has(_)?w=b.get(_).type:(Ur.a||console.info("chemComp not found",_),w=Jo(_)),A=Qo(w,x=Xo(w,_)),v.set(_,x),y.set(_,A)}h[d]=x,g[d]=A;var S=is(A,"trace"),C=n.findAtomsOnResidue(d,S);if(-1===C){var B=is(A,"coarseBackbone");-1===(C=n.findAtomsOnResidue(d,B))&&ea(x)&&(C=n.findElementOnResidue(d,wo("C")))}f[d]=C;var I=is(A,"directionFrom");p[d]=n.findAtomsOnResidue(d,I);var P=is(A,"directionTo");m[d]=n.findAtomsOnResidue(d,P)}return{atom:{atomicNumber:l},residue:{traceElementIndex:f,directionFromElementIndex:p,directionToElementIndex:m,moleculeType:h,polymerType:g}}}(c,d,f,r);return{sameAsPrevious:!1,hierarchy:Object(v.a)(Object(v.a)(Object(v.a)({},c),d),{index:f,derived:p}),chainOperatorMapping:l}}function wm(t,e,n,r,i,o){var a=Am(t,e,n,r,i,o),u=a.sameAsPrevious,s=a.hierarchy,c=a.chainOperatorMapping;return{sameAsPrevious:u,hierarchy:s,conformation:function(t){return{id:Ft.a.create22(),atomId:t.id,occupancy:t.occupancy.isDefined?t.occupancy:kt.ofConst(1,t._rowCount,kt.Schema.float),B_iso_or_equiv:t.B_iso_or_equiv,xyzDefined:t.Cartn_x.isDefined&&t.Cartn_y.isDefined&&t.Cartn_z.isDefined,x:t.Cartn_x.toArray({array:Float32Array}),y:t.Cartn_y.toArray({array:Float32Array}),z:t.Cartn_z.toArray({array:Float32Array})}}(t),chainOperatorMapping:c}}var Sm,Cm={chainKey:[],entityKey:[],findSequenceKey:function(){return-1},findChainKey:function(){return-1},getEntityFromChain:function(){return-1},count:0,entity_id:kt.Undefined(0,kt.Schema.str),asym_id:kt.Undefined(0,kt.Schema.str),seq_id_begin:kt.Undefined(0,kt.Schema.int),seq_id_end:kt.Undefined(0,kt.Schema.int),chainElementSegments:Wn.create([]),polymerRanges:cs.ofSortedRanges([]),gapRanges:cs.ofSortedRanges([])};function Bm(t,e,n){if(t.has(e))return t.get(e);var r=n.index++;return t.set(e,r),r}function Im(t,e){if(t.has(e))return t.get(e);var n=new Map;return t.set(e,n),n}function Pm(t){throw new Error("Missing entity entry for entity id '".concat(t,"'."))}function Em(t,e){for(var n=t.entity_id,r=t.asym_id,i=t.seq_id_begin,o=t.seq_id_end,a=t.count,u=t.chainElementSegments,s=new Map,c=new Map,l={index:0},d=new Int32Array(a),f=new Int32Array(a),p=new Int32Array(u.count),m=0;m<a;m++)f[m]=e.getEntityIndex(n.value(m)),f[m]<0&&Pm(n.value(m));for(var h=0;h<u.count;h++){var g=u.offsets[h],v=u.offsets[h+1],y=f[g];p[h]=y;var _=Bm(Im(c,y),r.value(g),l);for(m=g;m<v;m++)d[m]=_;var b=[],x=[];for(m=g;m<v;m++){var A=i.value(m),w=o.value(m);b.push(m),x.push(A,w)}var S={elementIndices:b,seqRanges:cs.ofSortedRanges(x)};s.set(_,S)}var C=function(t,e,n){var r=t.getEntityIndex;return{findChainKey:function(t,n){var i=r(t);if(i<0)return-1;var o=e.get(i);return o.has(n)?o.get(n):-1},findSequenceKey:function(t,i,o){var a=r(t);if(a<0)return-1;var u=e.get(a);if(void 0===u)return-1;var s=u.get(i);if(void 0===s)return-1;var c=n.get(s),l=c.elementIndices,d=c.seqRanges,f=cs.firstIntersectionIndex(d,fn.ofSingleton(o));return-1!==f?l[f]:-1}}}(e,c,s),B=C.findChainKey;return{chainKey:d,entityKey:f,findSequenceKey:C.findSequenceKey,findChainKey:B,getEntityFromChain:function(t){return p[t]}}}function Mm(t,e){for(var n=[],r=[],i=Wn.transientSegments(t.chainElementSegments,ye.ofBounds(0,t.count)),o=t.seq_id_begin,a=t.seq_id_end;i.hasNext;)for(var u=i.move(),s=u.start,c=u.end,l=-1,d=-1,f=s;f<c;++f){var p=a.value(f);f===s?(l=f,d=a.value(f)):o.value(f)-d>1&&(n.push(l,f-1),r.push(f-1,f),l=f),f===c-1&&n.push(l,f),d=p}return{polymerRanges:cs.ofSortedRanges(n),gapRanges:cs.ofSortedRanges(r)}}!function(t){t.Empty={isDefined:!1,spheres:Cm,gaussians:Cm}}(Sm||(Sm={}));var km={hierarchy:Sm.Empty,conformation:void 0};function Dm(t,e){var n=t.ihm_sphere_obj_site,r=t.ihm_gaussian_obj_site;if(0===n._rowCount&&0===r._rowCount)return km;var i=Om(n),o=function(t){return{x:t.Cartn_x.toArray({array:Float32Array}),y:t.Cartn_y.toArray({array:Float32Array}),z:t.Cartn_z.toArray({array:Float32Array}),radius:t.object_radius.toArray({array:Float32Array}),rmsf:t.rmsf.toArray({array:Float32Array})}}(n),a=Em(i,t.entities),u=Mm(i),s=Om(r),c=function(t){for(var e=Bl.ihm_gaussian_obj_site.covariance_matrix.space,n=[],r=t.covariance_matrix,i=0,o=r.rowCount;i<o;i++)n[i]=B.toMat3(O(),e,r.value(i));return{x:t.mean_Cartn_x.toArray({array:Float32Array}),y:t.mean_Cartn_y.toArray({array:Float32Array}),z:t.mean_Cartn_z.toArray({array:Float32Array}),weight:t.weight.toArray({array:Float32Array}),covariance_matrix:n}}(r),l=Em(s,t.entities),d=Mm(s);return{hierarchy:{isDefined:!0,spheres:Object(v.a)(Object(v.a)(Object(v.a)({},i),a),u),gaussians:Object(v.a)(Object(v.a)(Object(v.a)({},s),l),d)},conformation:{id:Ft.a.create22(),spheres:o,gaussians:c}}}function Om(t){var e=t.entity_id,n=t.seq_id_begin,r=t.seq_id_end,i=t.asym_id;return Object(v.a)({count:e.rowCount,entity_id:e,asym_id:i,seq_id_begin:n,seq_id_end:r},function(t,e,n){for(var r=[0],i=1,o=t.rowCount;i<o;i++){!t.areValuesEqual(i-1,i)&&(r[r.length]=i)}return{chainElementSegments:Wn.ofOffsets(r,ye.ofBounds(0,t.rowCount))}}(i))}var Nm,Tm,Um={HIS:"H",ARG:"R",LYS:"K",ILE:"I",PHE:"F",LEU:"L",TRP:"W",ALA:"A",MET:"M",PRO:"P",CYS:"C",ASN:"N",VAL:"V",GLY:"G",SER:"S",GLN:"Q",TYR:"Y",ASP:"D",GLU:"E",THR:"T",SEC:"U",PYL:"O",HSD:"H",HSE:"H",HSP:"H",LSN:"K",ASPP:"D",GLUP:"E",HID:"H",HIE:"H",HIP:"H",LYN:"K",ASH:"D",GLH:"E"},Rm={DA:"A",DC:"C",DG:"G",DT:"T",DU:"U"},Lm={A:"A",C:"C",G:"G",T:"T",U:"U"};function Gm(t){return Um[t]||"X"}function Fm(t){return Lm[t]||"X"}function qm(t){return Rm[t]||"X"}function jm(t,e,n,r){if(!t.entity_poly_seq||!t.entity_poly_seq._rowCount)return Tm.fromHierarchy(e,n,r);for(var i=t.entity_poly_seq,o=i.entity_id,a=i.num,u=i.mon_id,s={},c=[],l=o.rowCount,d=0;d<l;){for(var f=d;d<l-1&&o.areValuesEqual(d,d+1);)d++;d++;var p=o.value(f),m=kt.window(u,f,d),h=kt.window(a,f,d),g=e.getEntityIndex(p);s[g]={entityId:p,sequence:Nm.ofResidueNames(m,h)},c.push(s[g])}return{byEntityKey:s,sequences:c}}function Hm(t,e,n,r){return Object(v.b)(this,void 0,void 0,(function(){var i,o,a,u,s,c,l,d,f,p,m;return Object(v.d)(this,(function(h){switch(h.label){case 0:return i=ee(n,r-1),o=e.label_entity_id,a=e.label_asym_id,u=e.label_seq_id,s=gt(i,o.value),t.shouldUpdate?[4,t.update()]:[3,2];case 1:h.sent(),h.label=2;case 2:c=0,l=s.length-1,h.label=3;case 3:if(!(c<l))return[3,10];d=gt(i,a.value,{start:s[c],end:s[c+1]}),f=0,p=d.length-1,h.label=4;case 4:return f<p?(m=d[f],0!==u.valueKind(m)?[3,6]:(gt(i,u.value,{sort:!0,start:m,end:d[f+1]}),t.shouldUpdate?[4,t.update()]:[3,6])):[3,7];case 5:h.sent(),h.label=6;case 6:return f++,[3,4];case 7:return t.shouldUpdate?[4,t.update()]:[3,9];case 8:h.sent(),h.label=9;case 9:return c++,[3,3];case 10:return function(t){for(var e=0,n=t.length;e<n;e++)if(t[e]!==e)return!1;return!0}(i)&&i.length===e._rowCount?[2,{atom_site:e,sourceIndex:kt.ofIntArray(i)}]:[2,{atom_site:Xt.view(e,e._schema,i),sourceIndex:kt.ofIntArray(i)}]}}))}))}function Vm(t,e,n,r,i){var o=i.residue,a=o.polymerType,u=o.traceElementIndex,s=o.directionFromElementIndex,c=o.directionToElementIndex,l=a[t],d=a[e];if(0===l||0===d)return!1;if(-1===u[t]||-1===u[e])return!1;var f=r.findAtomsOnResidue(t,is(l,"backboneStart")),p=r.findAtomsOnResidue(e,is(d,"backboneEnd"));-1!==f&&-1!==p||(f=r.findAtomsOnResidue(t,is(l,"coarseBackbone")),p=r.findAtomsOnResidue(e,is(d,"coarseBackbone")));var m=n.x,h=n.y,g=n.z,v=C.create(m[f],h[f],g[f]),y=C.create(m[p],h[p],g[p]),_=-1===s[t]||-1===c[t]||-1===s[e]||-1===c[e];return C.distance(v,y)<(_?10:3)}function zm(t,e,n,r){for(var i,o,a,u,s=[],c=[],l=new Map,d=Wn.transientSegments(t.chainAtomSegments,ye.ofBounds(0,t.atoms._rowCount)),f=Wn.transientSegments(t.residueAtomSegments,ye.ofBounds(0,t.atoms._rowCount)),p=t.index,m=t.derived,h=t.residues.label_seq_id,g=t.chains.label_entity_id,v=m.residue,y=v.moleculeType,_=v.traceElementIndex;d.hasNext;){var b=d.move();f.setSegment(b),i=-1,o=-1,a=-1,u=-1;var x=e.getEntityIndex(g.value(b.index)),A=r.byEntityKey[x],w=A?A.sequence.seqId.value(A.sequence.seqId.rowCount-1):-1,S=t.residueAtomSegments.index[b.start],C=t.residueAtomSegments.index[b.end-1],B=h.value(S),I=h.value(C);for(1===B&&I===w&&n.xyzDefined&&Vm(S,C,n,p,m)&&(l.set(S,C),l.set(C,S));f.hasNext;){var P=f.move(),E=P.index,M=h.value(E);if(ea(y[E])&&-1!==_[E])if(-1!==u)if(M!==i+1)s.push(u,a-1),c.push(o,P.end-1),u=P.start;else if(f.hasNext){var k=t.residueAtomSegments.index[P.start],D=t.residueAtomSegments.index[a-1];n.xyzDefined&&!Vm(k,D,n,t.index,m)&&(s.push(u,a-1),c.push(o,P.end-1),u=P.start)}else s.push(u,P.end-1);else u=P.start;else-1!==u&&(s.push(u,a-1),u=-1);o=P.start,a=P.end,i=M}}return{polymerRanges:cs.ofSortedRanges(s),gapRanges:cs.ofSortedRanges(c),cyclicPolymerMap:l}}function Ym(t){for(var e=new Map,n=function(t,e,n){return"".concat(t,"|").concat(e,"|").concat(n)},r=t.pdbx_unobs_or_zero_occ_residues,i=0,o=r._rowCount;i<o;++i){var a=n(r.PDB_model_num.value(i),r.label_asym_id.value(i),r.label_seq_id.value(i));e.set(a,{polymer_flag:r.polymer_flag.value(i),occupancy_flag:r.occupancy_flag.value(i)})}return{has:function(t,r,i){return e.has(n(t,r,i))},get:function(t,r,i){return e.get(n(t,r,i))},size:e.size}}function Km(t){var e=new Map;if(t.chem_comp._rowCount>0)for(var n=t.chem_comp.id,r=0,i=n.rowCount;r<i;++r)e.set(n.value(r),Xt.getRow(t.chem_comp,r));else Qm(t).forEach((function(t){var n;e.set(t,{formula:"",formula_weight:0,id:n=t,name:n,mon_nstd_flag:Wo.has(n)?"y":"n",pdbx_synonyms:[],type:Jo(n)})}));return e}function Zm(t){var e=new Map;if(t.pdbx_chem_comp_identifier._rowCount>0)for(var n=t.pdbx_chem_comp_identifier,r=n.comp_id,i=n.type,o=n.identifier,a=0,u=r.rowCount;a<u;++a)if("SNFG CARBOHYDRATE SYMBOL"===i.value(a)||"SNFG CARB SYMBOL"===i.value(a)){var s=o.value(a),c=lo.get(s);c?e.set(r.value(a),c):console.warn("Unknown SNFG name '".concat(s,"'"))}if(t.chem_comp._rowCount>0){var l=t.chem_comp,d=l.id;for(i=l.type,a=0,u=d.rowCount;a<u;++a){var f=d.value(a);if(!e.has(f)){var p=i.value(a);yo.has(f)?e.set(f,yo.get(f)):9===Xo(p,f)&&e.set(f,so)}}}else{var m=Qm(t);yo.forEach((function(t,n){!e.has(n)&&m.has(n)&&e.set(n,t)}))}return e}!function(t){var e;!function(t){t.Protein="protein",t.RNA="RNA",t.DNA="DNA",t.Generic="generic"}(e=t.Kind||(t.Kind={})),t.getSequenceString=function(t){var e=t.code.toArray();return(e instanceof Array?e:Array.from(e)).join("")},t.ofResidueNames=function(t,r){if(0===r.rowCount)throw new Error("cannot be empty");var i=function(t){for(var n=0,r=Math.min(t.rowCount,10);n<r;n++){var i=t.value(n)||"";if("X"!==Gm(i))return e.Protein;if("X"!==Fm(i))return e.RNA;if("X"!==qm(i))return e.DNA}return e.Generic}(t);return new n(i,t,r)};var n=function(){function t(t,n,r){this.kind=t,this.microHet=new Map;for(var i=function(t,n){var r;switch(t){case e.Protein:r=Gm;break;case e.DNA:r=qm;break;case e.RNA:r=Fm;break;case e.Generic:r=function(){return"X"};break;default:U()}return n&&n.size>0?function(t){var e=r(t);return"X"===e&&n.has(t)?r(n.get(t)):e}:r}(t),o=[],a=[],u=[],s=new Map,c=0,l=new Map,d=0,f=r.rowCount;d<f;++d){var p=r.value(d);if(l.has(p))s.has(p)?s.get(p).push(n.value(d)):s.set(p,[a[l.get(p)],n.value(d)]);else{l.set(p,c);var m=n.value(d);a[c]=m,u[c]=p,o[c]=i(m),c+=1}}var h=[];for(d=0,f=c;d<f;++d){var g=s.get(u[d]);if(g){var v=g.map((function(t){var e=i(t);return"X"===e?t:e}));h[d]="(".concat(v.join("|"),")")}else h[d]="X"===o[d]?a[d]:o[d]}this.length=c,this.code=kt.ofStringArray(o),this.compId=kt.ofStringArray(a),this.seqId=kt.ofIntArray(u),this.label=kt.ofStringArray(h),this.microHet=s,this.indexMap=l}return t.prototype.index=function(t){return this.indexMap.get(t)},t}();t.ofSequenceRanges=function(t,n){var i=e.Generic;return new r(i,t,n)};var r=function(){function t(t,e,n){this.kind=t,this.seqIdStart=e,this.seqIdEnd=n,this.microHet=new Map;for(var r=0,i=Number.MAX_SAFE_INTEGER,o=0,a=this.seqIdStart.rowCount;o<a;o++){var u=this.seqIdStart.value(o),s=this.seqIdEnd.value(o);u<i&&(i=u),r<s&&(r=s)}var c=r-i+1;this.code=kt.ofConst("X",c,kt.Schema.str),this.label=kt.ofConst("",c,kt.Schema.str),this.seqId=kt.ofLambda({value:function(t){return t+i+1},rowCount:c,schema:kt.Schema.int}),this.compId=kt.ofConst("",c,kt.Schema.str),this.length=c,this.minSeqId=i}return t.prototype.index=function(t){return t-this.minSeqId},t}()}(Nm||(Nm={})),function(t){var e={byEntityKey:{},sequences:[]};function n(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=[],r={},i=0,o=t.length;i<o;++i)n.push.apply(n,t[i].sequences),Object.assign(r,t[i].byEntityKey);return{sequences:n,byEntityKey:r}}function r(t,e){var n=e.atoms.label_comp_id,r=e.residues.label_seq_id,i=e.chainAtomSegments,o=e.residueAtomSegments,a=i.count,u=i.offsets,s={},c=[];if(1===a&&0===u[0]&&0===u[1])return{byEntityKey:s,sequences:c};for(var l=0,d=e.chains._rowCount;l<d;l++){var f=e.index.getEntityFromChain(l);if(void 0===s[f]&&"polymer"===t.data.type.value(f)){var p=l;for(l++;l<d&&f===e.index.getEntityFromChain(l)&&"polymer"!==t.data.type.value(f);)l++;l--;for(var m=o.index[u[p]],h=o.index[u[l+1]-1]+1,g=kt.window(r,m,h),v=[],y=m;y<h;++y)v.push(n.value(o.offsets[y]));var _=kt.ofStringArray(v);s[f]={entityId:t.data.id.value(f),sequence:Nm.ofResidueNames(_,g)},c.push(s[f])}}return{byEntityKey:s,sequences:c}}function i(t,e){return n(o(t,e.spheres),o(t,e.gaussians))}function o(t,e){var n=e.chainElementSegments,r=e.seq_id_begin,i=e.seq_id_end,o=n.count,a=n.offsets,u={},s=[];if(1===o&&0===a[0]&&0===a[1])return{byEntityKey:u,sequences:s};for(var c=0,l=o;c<l;c++){var d=e.getEntityFromChain(c);if(void 0===u[d]){var f=c;for(c++;c<l&&d===e.getEntityFromChain(c);)c++;c--;var p=a[f],m=a[c+1]-1,h=kt.window(r,p,m),g=kt.window(i,p,m);u[d]={entityId:t.data.id.value(d),sequence:Nm.ofSequenceRanges(h,g)},s.push(u[d])}}return{byEntityKey:u,sequences:s}}t.fromHierarchy=function(t,o,a){return n(r(t,o),a.isDefined?i(t,a):e)},t.fromAtomicHierarchy=r,t.fromCoarseHierarchy=i,t.fromCoarseElements=o}(Tm||(Tm={}));var Wm,Xm,Qm=(Wm=function(t){for(var e=new Set,n=t.atom_site,r=n.label_comp_id,i=n.auth_comp_id,o=r.isDefined?r:i,a=0,u=o.rowCount;a<u;++a)e.add(o.value(a));return e},Xm=new Map,function(t){if(Xm.has(t))return Xm.get(t);var e=Wm(t);return Xm.set(t,e),e});function Jm(t,e){for(var n=new Map,r=t.chains,i=r.auth_asym_id,o=r.label_asym_id,a=r.label_entity_id,u=0,s=t.chains._rowCount;u<s;u++){var c=o.value(u);n.set(c,{id:c,auth_id:i.value(u),entity_id:a.value(u)})}if(null==e?void 0:e.struct_asym._rowCount)for(var l=e.struct_asym,d=(c=l.id,l.entity_id),f=(u=0,c.rowCount);u<f;++u){var p=c.value(u);n.has(p)||n.set(p,{id:p,auth_id:"",entity_id:d.value(u)})}return n}var $m=kt.Schema.Aliased(kt.Schema.Str());function th(t){var e;if(t.entity.id.isDefined)e=t.entity;else{for(var n=new Set,r=[],i=[],o=t.atom_site,a=o.label_entity_id,u=o.label_comp_id,s=0,c=t.atom_site._rowCount;s<c;s++){var l=a.value(s);n.has(l)||(r.push(l),i.push($o(u.value(s))),n.add(l))}var d=t.ihm_sphere_obj_site.entity_id;for(s=0,c=t.ihm_sphere_obj_site._rowCount;s<c;s++){l=d.value(s);n.has(l)||(r.push(l),i.push("polymer"),n.add(l))}var f=t.ihm_gaussian_obj_site.entity_id;for(s=0,c=t.ihm_gaussian_obj_site._rowCount;s<c;s++){l=f.value(s);n.has(l)||(r.push(l),i.push("polymer"),n.add(l))}e=Xt.ofPartialColumns(Bl.entity,{id:kt.ofArray({array:r,schema:Bl.entity.id}),type:kt.ofArray({array:i,schema:Bl.entity.type})},r.length)}var p=kt.createIndexer(e.id),m=new Array(e._rowCount);m.fill("other");var h=new Set,g=!1;if(t.entity_poly&&t.entity_poly.type.isDefined){var v=t.entity_poly,y=v.entity_id,_=v.type,b=v._rowCount;for(s=0;s<b;++s){m[p(l=y.value(s))]=_.value(s),h.add(l)}}else g=!0;if(t.pdbx_entity_branch&&t.pdbx_entity_branch.entity_id.isDefined){var x=t.pdbx_entity_branch;for(y=x.entity_id,_=x.type,b=x._rowCount,s=0;s<b;++s){m[p(l=y.value(s))]=_.value(s),h.add(l)}}else g=!0;if(h.size<m.length&&(g=!0),g){var A=new Map;if(t.chem_comp){var w=t.chem_comp,S=w.id;for(_=w.type,s=0,c=t.chem_comp._rowCount;s<c;s++)A.set(S.value(s),_.value(s))}if(t.atom_site){var C=t.atom_site;for(a=C.label_entity_id,u=C.label_comp_id,s=0,c=t.atom_site._rowCount;s<c;s++){l=a.value(s);if(!h.has(l)){var B=u.value(s),I=A.get(B)||"other";m[p(l)]=ta(B,I),h.add(l)}}}}return{data:e,subtype:kt.ofArray({array:m,schema:$m}),getEntityIndex:p}}function eh(t,e,n){var r;if(!t.pdbx_molecule||!t.pdbx_molecule.prd_id.isDefined)return e;var i=new Array(e.data._rowCount);i.fill("");for(var o=t.pdbx_molecule,a=o.asym_id,u=o.prd_id,s=o._rowCount,c=0;c<s;++c){var l=a.value(c),d=null===(r=n.get(l))||void 0===r?void 0:r.entity_id;void 0!==d&&(i[e.getEntityIndex(d)]=u.value(c))}var f=kt.ofArray({array:i,schema:kt.Schema.str});return Object(v.a)(Object(v.a)({},e),{prd_id:f})}var nh,rh,ih=function(){function t(t){this.frames=t,this.frameCount=t.length,this.representative=t[0],this.duration=t.length}return t.prototype.getFrameAtIndex=function(t){return this.frames[t]},t}();function oh(t,e,n){return Object(v.b)(this,void 0,void 0,(function(){var r,i,o,a;return Object(v.d)(this,(function(u){switch(u.label){case 0:return r=function(t,e){return{missingResidues:Ym(t),chemicalComponentMap:Km(t),saccharideComponentMap:Zm(t)}}(t),t.ihm_model_list._rowCount>0?[4,ch(n,t,r,e)]:[3,2];case 1:return o=u.sent(),[3,4];case 2:return[4,uh(n,t,r,e)];case 3:o=u.sent(),u.label=4;case 4:for(i=o,a=0;a<i.length;a++)nh.TrajectoryInfo.set(i[a],{index:a,size:i.length});return[2,new ih(i)]}}))}))}function ah(t,e){var n=t.rowCount;if(!t.isDefined)return n;for(var r=e+1;r<n&&t.areValuesEqual(e,r);)r++;return r}function uh(t,e,n,r){return Object(v.b)(this,void 0,void 0,(function(){var i,o,a,u,s,c,l,d,f;return Object(v.d)(this,(function(p){switch(p.label){case 0:if(i=[],!e.atom_site)return[3,3];o=e.atom_site.id.rowCount,a=th(e),u=0,p.label=1;case 1:return u<o?(s=ah(e.atom_site.pdbx_PDB_model_num,u),[4,Hm(t,e.atom_site,u,s)]):[3,3];case 2:return c=p.sent(),l=c.atom_site,d=c.sourceIndex,f=function(t,e,n,r,i,o,a){var u=wm(e,n,r,i.chemicalComponentMap,o,a),s=e.pdbx_PDB_model_num.value(0);if(a&&u.sameAsPrevious)return Object(v.a)(Object(v.a)({},a),{id:Ft.a.create22(),modelNum:s,atomicConformation:u.conformation,_dynamicPropertyData:Object.create(null)});var c=km,l=jm(t,r,u.hierarchy,c.hierarchy),d=zm(u.hierarchy,r,u.conformation,l),f=Jm(u.hierarchy),p=0===t.entry.id.valueKind(0)?t.entry.id.value(0):o.name,m=[];return p&&m.push(p),0===t.struct.title.valueKind(0)&&m.push(t.struct.title.value(0)),{id:Ft.a.create22(),entryId:p,label:m.join(" | "),entry:p,sourceData:o,modelNum:s,parent:void 0,entities:eh(t,r,f),sequence:l,atomicHierarchy:u.hierarchy,atomicConformation:u.conformation,atomicRanges:d,atomicChainOperatorMappinng:u.chainOperatorMapping,coarseHierarchy:c.hierarchy,coarseConformation:c.conformation,properties:Object(v.a)(Object(v.a)({},i),{structAsymMap:f}),customProperties:new Er,_staticPropertyData:Object.create(null),_dynamicPropertyData:Object.create(null)}}(e,l,d,a,n,r,i.length>0?i[i.length-1]:void 0),i.push(f),u=s,[3,1];case 3:return[2,i]}}))}))}function sh(t,e){for(var n=new Map,r=t._rowCount,i=0;i<r;){var o=ah(e,i),a=e.value(i);n.set(a,{table:Xt.window(t,t._schema,i,o),start:i,end:o}),i=o}return n}function ch(t,e,n,r){return Object(v.b)(this,void 0,void 0,(function(){var i,o,a,u,s,c,l,d,f,p,m,h,g,y,_,b,x,A,w;return Object(v.d)(this,(function(S){switch(S.label){case 0:if(i=th(e),o=e.atom_site.ihm_model_id.isDefined?e.atom_site.ihm_model_id:e.atom_site.pdbx_PDB_model_num,a=sh(e.atom_site,o),u=sh(e.ihm_sphere_obj_site,e.ihm_sphere_obj_site.model_id),s=sh(e.ihm_gaussian_obj_site,e.ihm_gaussian_obj_site.model_id),c=[],!e.ihm_model_list)return[3,6];l=e.ihm_model_list,d=l.model_id,f=l.model_name,p=0,S.label=1;case 1:return p<e.ihm_model_list._rowCount?(m=d.value(p),h=void 0,g=void 0,a.has(m)?(y=a.get(m),[4,Hm(t,e.atom_site,y.start,y.end)]):[3,3]):[3,6];case 2:return _=S.sent(),b=_.atom_site,x=_.sourceIndex,h=b,g=x,[3,4];case 3:h=Xt.window(e.atom_site,e.atom_site._schema,0,0),g=kt.ofIntArray([]),S.label=4;case 4:A={model_id:m,model_name:f.value(p),model_group_name:Cl(m,e),entities:i,atom_site:h,atom_site_sourceIndex:g,ihm_sphere_obj_site:u.has(m)?u.get(m).table:Xt.window(e.ihm_sphere_obj_site,e.ihm_sphere_obj_site._schema,0,0),ihm_gaussian_obj_site:s.has(m)?s.get(m).table:Xt.window(e.ihm_gaussian_obj_site,e.ihm_gaussian_obj_site._schema,0,0)},w=function(t,e,n,r){var i=wm(e.atom_site,e.atom_site_sourceIndex,e.entities,n.chemicalComponentMap,r),o=Dm(e,n.chemicalComponentMap),a=jm(t,e.entities,i.hierarchy,o.hierarchy),u=zm(i.hierarchy,e.entities,i.conformation,a),s=0===t.entry.id.valueKind(0)?t.entry.id.value(0):r.name,c=[];s&&c.push(s),0===t.struct.title.valueKind(0)&&c.push(t.struct.title.value(0)),e.model_name&&c.push(e.model_name),e.model_group_name&&c.push(e.model_group_name);var l=Jm(i.hierarchy,t);return{id:Ft.a.create22(),entryId:s,label:c.join(" | "),entry:s,sourceData:r,modelNum:e.model_id,parent:void 0,entities:eh(t,e.entities,l),sequence:a,atomicHierarchy:i.hierarchy,atomicConformation:i.conformation,atomicRanges:u,atomicChainOperatorMappinng:i.chainOperatorMapping,coarseHierarchy:o.hierarchy,coarseConformation:o.conformation,properties:Object(v.a)(Object(v.a)({},n),{structAsymMap:l}),customProperties:new Er,_staticPropertyData:Object.create(null),_dynamicPropertyData:Object.create(null)}}(e,A,n,r),c.push(w),S.label=5;case 5:return p++,[3,1];case 6:return[2,c]}}))}))}function lh(t){for(var e=new Map,n=0,r=t.length;n<r;n++)e.set(n,t[n]);return e}!function(t){function e(e,r){for(var i=[],o=r.frames,a=e.atomicHierarchy.atomSourceIndex,u=kt.isIdentity(a)?void 0:a.toArray({array:Int32Array}),s=n(e),c=e.atomicHierarchy.atoms._rowCount,l=0,d=o.length;l<d;++l){var f=o[l];if(f.elementCount!==c)throw new Error("Frame element count mismatch, got ".concat(f.elementCount," but expected ").concat(c,"."));var p=Object(v.a)(Object(v.a)({},e),{id:Ft.a.create22(),modelNum:l,atomicConformation:yr.getAtomicConformation(f,{atomId:e.atomicConformation.atomId,occupancy:e.atomicConformation.occupancy,B_iso_or_equiv:e.atomicConformation.B_iso_or_equiv},u),customProperties:new Er,_staticPropertyData:Object.create(null),_dynamicPropertyData:Object.create(null)});if(f.cell){var m=Ns.fromCell(f.cell.size,f.cell.anglesInRadians);Ns.Provider.set(p,m)}t.TrajectoryInfo.set(p,{index:l,size:o.length}),t.CoarseGrained.set(p,s),i.push(p)}return{trajectory:i,srcIndexArray:u}}t.trajectoryFromModelAndCoordinates=function(t,n){return new ih(e(t,n).trajectory)},t.trajectoryFromTopologyAndCoordinates=function(r,i){var o=this;return zr.create("Create Trajectory",(function(a){return Object(v.b)(o,void 0,void 0,(function(){var o,u,s,c,l,d,f,p,m,h;return Object(v.d)(this,(function(g){switch(g.label){case 0:return[4,oh(r.basic,r.sourceData,a)];case 1:if(0===(o=g.sent()).frameCount)throw new Error("found no model");for(u=o.representative,s=e(u,i).trajectory,c={pairs:r.bonds,count:u.atomicHierarchy.atoms._rowCount},l=$r.fromData(c),d=n(u),f=0,p=0,m=s;p<m.length;p++)h=m[p],$r.Provider.set(h,l),t.TrajectoryInfo.set(h,{index:f++,size:s.length}),t.CoarseGrained.set(h,d);return[2,new ih(s)]}}))}))}))};t.getCenter=function(t){if(t._dynamicPropertyData.__Center__)return t._dynamicPropertyData.__Center__;var e=function(t,e){var n=[],r=[],i=[];t.x.length&&(n.push.apply(n,Mr(t.x)),r.push.apply(r,Mr(t.y)),i.push.apply(i,Mr(t.z))),e&&(e.spheres.x.length&&(n.push.apply(n,Mr(e.spheres.x)),r.push.apply(r,Mr(e.spheres.y)),i.push.apply(i,Mr(e.spheres.z))),e.gaussians.x.length&&(n.push.apply(n,Mr(e.gaussians.x)),r.push.apply(r,Mr(e.gaussians.y)),i.push.apply(i,Mr(e.gaussians.z))));var o=Mr(n),a=o[0],u=o[1],s=Mr(r),c=s[0],l=s[1],d=Mr(i),f=d[0],p=a+(u-a)/2,m=c+(l-c)/2,h=f+(d[1]-f)/2;return C.create(p,m,h)}(t.atomicConformation,t.coarseConformation);return t._dynamicPropertyData.__Center__=e,e};t.getInvertedAtomSourceIndex=function(t){if(t._staticPropertyData.__InvertedAtomSrcIndex__)return t._staticPropertyData.__InvertedAtomSrcIndex__;var e=function(t){for(var e=new Int32Array(t.rowCount),n=!1,r=0,i=t.rowCount;r<i;r++){var o=t.value(r);o!==r&&(n=!1),e[o]=r}return{isIdentity:n,invertedIndex:e}}(t.atomicHierarchy.atomSourceIndex);return t._staticPropertyData.__InvertedAtomSrcIndex__=e,e};t.TrajectoryInfo={get:function(t){return t._dynamicPropertyData.__TrajectoryInfo__||{index:0,size:1}},set:function(t,e){return t._dynamicPropertyData.__TrajectoryInfo__=e}};t.AsymIdCount={get:function(t){if(t._dynamicPropertyData.__AsymIdCount__)return t._dynamicPropertyData.__AsymIdCount__;var e=function(t){var e=new Set,n=new Set;return t.properties.structAsymMap.forEach((function(t,r){var i=t.auth_id;e.add(i),n.add(r)})),{auth:e.size,label:n.size}}(t);return t._dynamicPropertyData.__AsymIdCount__=e,e}},t.AsymIdOffset=gp.createSimple("asym_id_offset","static"),t.Index=gp.createSimple("index","static"),t.MaxIndex=gp.createSimple("max_index","static"),t.getRoot=function(t){return t.parent||t},t.areHierarchiesEqual=function(t,e){return t.atomicHierarchy===e.atomicHierarchy&&t.coarseHierarchy===e.coarseHierarchy};t.CoordinatesHistory={get:function(t){return t._staticPropertyData.__CoordinatesHistory__},set:function(t,e){return t._staticPropertyData.__CoordinatesHistory__=e}};function n(e){var n=t.CoarseGrained.get(e);if(void 0===n){for(var r=0,i=e.atomicHierarchy.derived.residue.polymerType,o=0;o<i.length;++o)0!==i[o]&&(r+=1);var a=!1,u=!1,s=e.atomicHierarchy.atoms,c=s.label_atom_id,l=s._rowCount;for(o=0;o<l;++o){var d=c.value(o);if(a||"BB"!==d||(a=!0),u||"SC1"!==d||(u=!0),a&&u)break}n=a&&u||!(!r||!l)&&l/r<3,t.CoarseGrained.set(e,n)}return n}function r(t){return!!Pl.is(t.sourceData)&&(null!==t.entryId.match(/^[1-9][a-z0-9]{3,3}$/i)||null!==t.entryId.match(/^pdb_[0-9]{4,4}[1-9][a-z0-9]{3,3}$/i))}t.CoarseGrained={get:function(t){return t._staticPropertyData.__CoarseGrained__},set:function(t,e){return t._staticPropertyData.__CoarseGrained__=e}},t.isCoarseGrained=n,t.hasCarbohydrate=function(t){return t.properties.saccharideComponentMap.size>0},t.hasProtein=function(t){for(var e=t.entities.subtype,n=0,r=e.rowCount;n<r;++n)if(e.value(n).startsWith("polypeptide"))return!0;return!1},t.hasNucleic=function(t){for(var e=t.entities.subtype,n=0,r=e.rowCount;n<r;++n){var i=e.value(n);if(i.endsWith("ribonucleotide hybrid")||i.endsWith("ribonucleotide"))return!0}return!1},t.isFromPdbArchive=function(t){if(!Pl.is(t.sourceData))return!1;for(var e=t.sourceData.data.db,n=0,r=e.database_2.database_id.rowCount;n<r;++n)if("pdb"===e.database_2.database_id.value(n))return!0;return!1},t.hasPdbId=r,t.hasSecondaryStructure=function(t){if(Pl.is(t.sourceData)){var e=t.sourceData.data.db;return e.struct_conf.id.isDefined||e.struct_sheet_range.id.isDefined}return pl.Provider.isApplicable(t)};var i=C.create(1.5707963,1.5707963,1.5707963),o=C.create(1,1,1);function a(t){if(!Pl.is(t.sourceData))return!1;for(var e=t.sourceData.data.db,n=0;n<e.exptl.method.rowCount;n++){if(e.exptl.method.value(n).toUpperCase().indexOf("DIFFRACTION")>=0)return!0}return!1}function u(t){if(!Pl.is(t.sourceData))return!1;for(var e=t.sourceData.data.db,n=0;n<e.exptl.method.rowCount;n++){if(e.exptl.method.value(n).toUpperCase().indexOf("MICROSCOPY")>=0)return!0}return!1}function s(t){if(!Pl.is(t.sourceData))return!1;if(!a(t))return!1;var e=t.sourceData.data.db.pdbx_database_status.status_code_sf;return e.isDefined&&"REL"===e.value(0)}function c(t){if(!Pl.is(t.sourceData))return!1;for(var e=t.sourceData.data.db,n=e.pdbx_database_related,r=n.db_name,i=n.content_type,o=0,a=e.pdbx_database_related._rowCount;o<a;++o)if("EMDB"===r.value(o).toUpperCase()&&"associated EM volume"===i.value(o))return!0;return!1}function l(t){return!!Pl.is(t.sourceData)&&(s(t)||c(t))}t.hasCrystalSymmetry=function(t){var e,n=null===(e=Ns.Provider.get(t))||void 0===e?void 0:e.spacegroup;return!(!n||1===n.num&&C.equals(n.cell.anglesInRadians,i)&&C.equals(n.cell.size,o))},t.isFromXray=a,t.isFromEm=u,t.isFromNmr=function(t){if(!Pl.is(t.sourceData))return!1;for(var e=t.sourceData.data.db,n=0;n<e.exptl.method.rowCount;n++){if(e.exptl.method.value(n).toUpperCase().indexOf("NMR")>=0)return!0}return!1},t.hasXrayMap=s,t.hasEmMap=c,t.hasDensityMap=l,t.probablyHasDensityMap=function(t){if(!Pl.is(t.sourceData))return!1;var e=t.sourceData.data.db;return l(t)||r(t)&&(!e.exptl.method.isDefined||a(t)&&(!e.pdbx_database_status.status_code_sf.isDefined||2===e.pdbx_database_status.status_code_sf.valueKind(0))||u(t)&&!e.pdbx_database_related.db_name.isDefined)}}(nh||(nh={})),function(t){t.getCifDataSource=function(t,e,n){if(!e)return{rowCount:0};if(n&&n[e.id])return n[e.id];var r=e.getElements(t),i={data:r,rowCount:r.elements.length};return n&&(n[e.id]=i),i},t.fromAtomMap=function(t){return new fh(t)},t.fromAtomArray=function(t){return new fh(lh(t))};var e=function(t){return t.atomicHierarchy.residueAtomSegments};t.fromResidueMap=function(t){return new dh("residue",t,e,0)},t.fromResidueArray=function(t){return new dh("residue",lh(t),e,0)};var n=function(t){return t.atomicHierarchy.chainAtomSegments};t.fromChainMap=function(t){return new dh("chain",t,n,0)},t.fromChainArray=function(t){return new dh("chain",lh(t),n,0)},t.fromEntityMap=function(t){return new ph(t)}}(rh||(rh={}));var dh=function(){function t(t,e,n,r){this.level=t,this.map=e,this.segmentGetter=n,this.id=Ft.a.create22(),this.kind=r}return t.prototype.has=function(t){return this.map.has(t)},t.prototype.get=function(t){return this.map.get(t)},t.prototype.getStructureElements=function(t){var e=t.models;if(1!==e.length)throw new Error("Only works on structures with a single model.");for(var n=new Set,r=t.unitSymmetryGroups,i=[],o=this.segmentGetter(e[0]),a=0,u=r;a<u.length;a++){var s=u[a].units[0];if(s.kind===this.kind)for(var c=Wn.transientSegments(o,s.elements);c.hasNext;){var d=c.move();this.has(d.index)&&!n.has(d.index)&&(n.add(d.index),i[i.length]=l.Location.create(t,s,s.elements[d.start]))}}return i.sort((function(t,e){return t.element-e.element})),i},t.prototype.getElements=function(t){var e=this,n=this.segmentGetter(t.model).index,r=this.getStructureElements(t);return{elements:r,property:function(t){return e.get(n[r[t].element])}}},t}(),fh=function(){function t(t){this.map=t,this.id=Ft.a.create22(),this.level="atom",this.kind=0}return t.prototype.has=function(t){return this.map.has(t)},t.prototype.get=function(t){return this.map.get(t)},t.prototype.getStructureElements=function(t){if(1!==t.models.length)throw new Error("Only works on structures with a single model.");for(var e=new Set,n=[],r=0,i=t.unitSymmetryGroups;r<i.length;r++){var o=i[r].units[0];if(o.kind===this.kind)for(var a=o.elements,u=0,s=a.length;u<s;u++){var c=a[u];this.has(c)&&!e.has(c)&&(e.add(a[u]),n[n.length]=l.Location.create(t,o,c))}}return n.sort((function(t,e){return t.element-e.element})),n},t.prototype.getElements=function(t){var e=this,n=this.getStructureElements(t);return{elements:n,property:function(t){return e.get(n[t].element)}}},t}(),ph=function(){function t(t){this.map=t,this.id=Ft.a.create22(),this.level="entity",this.kind=0}return t.prototype.has=function(t){return this.map.has(t)},t.prototype.get=function(t){return this.map.get(t)},t.prototype.getStructureElements=function(t){var e=t.models;if(1!==e.length)throw new Error("Only works on structures with a single model.");for(var n=e[0].atomicHierarchy.index,r=new Set,i=t.unitSymmetryGroups,o=[],a=e[0].atomicHierarchy.chainAtomSegments,u=0,s=i;u<s.length;u++){var c=s[u].units[0];if(c.kind===this.kind)for(var d=Wn.transientSegments(a,c.elements);d.hasNext;){var f=d.move(),p=n.getEntityFromChain(f.index);this.has(p)&&!r.has(p)&&(r.add(p),o[o.length]=l.Location.create(t,c,c.elements[f.start]))}}return o.sort((function(t,e){return t.element-e.element})),o},t.prototype.getElements=function(t){var e=this,n=this.getStructureElements(t),r=t.model.atomicHierarchy.chainAtomSegments.index,i=t.model.atomicHierarchy.index;return{elements:n,property:function(t){return e.get(i.getEntityFromChain(r[n[t].element]))}}},t}(),mh={identity:O.create(1,0,0,0,1,0,0,0,1),rotX90:O.create(1,0,0,0,0,1,0,-1,0),rotY90:O.create(0,0,-1,0,1,0,1,0,0),rotZ90:O.create(0,1,0,-1,0,0,0,0,1),rotX270:O.create(1,0,0,0,0,-1,0,1,0),rotY270:O.create(0,0,1,0,1,0,-1,0,0),rotZ270:O.create(0,-1,0,1,0,0,0,0,1),rotX180:O.create(1,0,0,0,-1,0,0,0,-1),rotY180:O.create(-1,0,0,0,1,0,0,0,-1),rotZ180:O.create(-1,0,0,0,-1,0,0,0,1)};function hh(t,e){return function(t,e){if(0===t.length)return console.warn("Skipping PCA, no atoms"),{rotation:mh.identity,origin:C.zero()};var n=vr.calculateMomentsAxes(t),r=vr.calculateNormalizedAxes(n),i=(o=r.dirA,a=r.dirB,u=r.dirC,s=O(),O.setValue(s,0,0,o[0]),O.setValue(s,0,1,o[1]),O.setValue(s,0,2,o[2]),O.setValue(s,1,0,a[0]),O.setValue(s,1,1,a[1]),O.setValue(s,1,2,a[2]),O.setValue(s,2,0,u[0]),O.setValue(s,2,1,u[1]),O.setValue(s,2,2,u[2]),s);var o,a,u,s;c=i,O.determinant(c)<0&&(O.setValue(c,2,0,-O.getValue(c,2,0)),O.setValue(c,2,1,-O.getValue(c,2,1)),O.setValue(c,2,2,-O.getValue(c,2,2)));var c;var l=e?function(t,e){for(var n=mh.identity,r=0,i=O(),o=0,a=[mh.identity,mh.rotX180,mh.rotY180,mh.rotZ180];o<a.length;o++){var u=a[o],s=O.innerProduct(O.mul(i,u,t),e);s>r&&(n=u,r=s)}return n}(i,e):function(t,e,n){for(var r=C.create(O.getValue(e,0,0),O.getValue(e,0,1),O.getValue(e,0,2)),i=C.create(O.getValue(e,1,0),O.getValue(e,1,1),O.getValue(e,1,2)),o=C.create(O.getValue(e,2,0),O.getValue(e,2,1),O.getValue(e,2,2)),a=Math.floor(t.length/3),u=C(),s=0,c=0,l=0,d=0;d<a;d++)C.fromArray(u,t,3*d),C.sub(u,u,n),s+=d*C.dot(u,r),c+=d*C.dot(u,i),l+=vh(d,a)*C.dot(u,o);var f=l<0,p=f?s+c<0:s-c<0;return p&&f?mh.rotY180:f?mh.rotX180:p?mh.rotZ180:mh.identity}(t,i,n.origin);return O.mul(i,l,i),{rotation:i,origin:r.origin}}(function(t,e){var n;return(n=gh(t,{onlyTrace:!0})).length>=3*e||(n=gh(t,{skipHydrogens:!0,skipWater:!0})).length>=3*e?n:n=gh(t,{})}(t,3),e)}function gh(t,e){for(var n=e.onlyTrace,r=e.skipHydrogens,i=e.skipWater,o=ef.atom,a=o.x,u=o.y,s=o.z,c=o.type_symbol,d=o.label_comp_id,f=[],p=0,m=t;p<m.length;p++)for(var h=m[p],g=l.Location.create(h),v=0,y=h.units;v<y.length;v++){var _=y[v];g.unit=_;for(var b=n?_.polymerElements:_.elements,x=0;x<b.length;x++)g.element=b[x],r&&"H"===c(g)||i&&"HOH"===d(g)||f.push(a(g),u(g),s(g))}return f}function vh(t,e){var n=Math.floor(e/2);return t<n?e%2?n-t:n-t-1:t-n}function yh(t){return(yh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _h(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function bh(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?_h(Object(n),!0).forEach((function(e){xh(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_h(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function xh(t,e,n){return(e=Ih(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ah(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,u=[],s=!0,c=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(u.push(r.value),u.length!==e);s=!0);}catch(t){c=!0,i=t}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return u}}(t,e)||Sh(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wh(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=Sh(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function Sh(t,e){if(t){if("string"==typeof t)return Ch(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ch(t,e):void 0}}function Ch(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Bh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ih(r.key),r)}}function Ih(t){var e=function(t,e){if("object"!==yh(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==yh(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===yh(e)?e:String(e)}function Ph(t,e){return(Ph=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Eh(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=kh(t);if(e){var i=kh(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Mh(this,n)}}function Mh(t,e){if(e&&("object"===yh(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function kh(t){return(kh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Dh=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ph(t,e)}(o,t);var e,n,r,i=Eh(o);function o(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o);(e=i.call(this,t)).state={data:t.data||[],layout:{showImportControls:!1,showSessionControls:!0,showStructureSourceControls:!0,showMeasurementsControls:!0,showStrucmotifSubmitControls:!0,showSuperpositionControls:!0,showQuickStylesControls:!0,showStructureComponentControls:!0,showVolumeStreamingControls:!1,showAssemblySymmetryControls:!1,showValidationReportControls:!1,showMembraneOrientationPreset:!1,showNakbColorTheme:!1,detachedFromSierra:!0,layoutIsExpanded:!1,layoutShowControls:!1,layoutControlsDisplay:"reactive",layoutShowSequence:!0,layoutShowLog:!1,viewportShowExpand:!0,viewportShowSelectionMode:!0,showWelcomeToast:!1},style:{zIndex:10,position:"relative"},className:t.className,selection:t.selection,focus:t.focus},e.shouldAutoFocus=!1,e.loadedShapes={},e.loadedStructures={},e.loadedComponents={},e.loadedSnapshots={},e.setProps=t.setProps,e.viewerRef=Object(d.createRef)();var n=Object.assign({},e.state.layout,t.layout);e.state.layout=n;var r=Object.assign({},e.state.style,t.style);return e.state.style=r,e}return e=o,(n=[{key:"getStructureByLabel",value:function(t){var e,n=wh(this.viewer._plugin.managers.structure.hierarchy.current.structures);try{for(n.s();!(e=n.n()).done;){var r=e.value;if(r.cell.obj.data.state.label===t)return r}}catch(t){n.e(t)}finally{n.f()}}},{key:"getStructuresByLabel",value:function(t){return this.viewer._plugin.managers.structure.hierarchy.current.structures.filter((function(e){return e.cell.obj.data.state.label===t}))}},{key:"syncItems",value:function(){var t=this,e=this.state.data;Array.isArray(e)||(e=[e]);var n=e.filter((function(t){return"mol"===t.type||"url"===t.type})),r=e.filter((function(t){return"shape"===t.type})),i=[];n.forEach((function(e){var n=e.hasOwnProperty("label")?e.label:"";i.push(n),t.syncStructure(n,e)}));for(var o=0,a=Object.entries(this.loadedStructures);o<a.length;o++){var u=Ah(a[o],2),s=u[0];u[1],i.includes(s)||(delete this.loadedComponents[s],this.getStructuresByLabel(s).forEach((function(e){t.viewer.removeRef(e.cell.sourceRef)})),delete this.loadedStructures[s])}i=[],r.forEach((function(e){var n=e.hasOwnProperty("label")?e.label:"";i.push(n),t.syncShape(e)}));for(var c=0,l=Object.entries(this.loadedShapes);c<l.length;c++){var d=Ah(l[c],2),f=d[0],p=d[1];i.includes(f)||(this.viewer.removeRef(p),delete this.loadedShapes[f])}}},{key:"syncAutoFocus",value:function(){var t;this.props.setProps({focus:{molecule:null===(t=this.state.data[this.state.data.length-1])||void 0===t?void 0:t.label}})}},{key:"syncStructure",value:function(t,e){var n=this;this.loadedStructures[t]||(this.loadedStructures[t]=1,"mol"===e.type?this.viewer.loadStructureFromData(e.data,e.format,!1,{props:{dataLabel:t}}).then((function(r){n.loadedStructures[t]=2,e.hasOwnProperty("component")&&n.syncComponent(t,e.component),n.shouldAutoFocus&&(n.syncAutoFocus(),n.shouldAutoFocus=!1)})):"url"===e.type&&("mol"===e.urlfor?this.viewer.loadStructureFromUrl(e.data,e.format,!1).then((function(r){n.loadedStructures[t]=2,e.hasOwnProperty("component")&&n.syncComponent(t,e.component),n.shouldAutoFocus&&(n.syncAutoFocus(),n.shouldAutoFocus=!1)})):this.viewer.loadSnapshotFromUrl(e.data,e.format).then((function(e){n.loadedSnapshots[t]=e.snapshot.ref,n.shouldAutoFocus&&(n.syncAutoFocus(),n.shouldAutoFocus=!1)})))),("mol"===e.type||"url"===e.type&&"mol"===e.urlfor)&&2===this.loadedStructures[t]&&e.hasOwnProperty("component")&&this.syncComponent(t,e.component)}},{key:"syncComponent",value:function(t,e){var n=this;e=e||[],Array.isArray(e)||(e=[e]);var r=this.loadedComponents[t]||[];this.loadedComponents[t]=r;var i=this.getStructureByLabel(t),o=i.cell.obj.data.units[0].model.id;e.forEach((function(e){var i=e.hasOwnProperty("label")?e.label:"";if("Polymer"===i&&n.viewer.removeComponent(i),i="".concat(t,".").concat(i),!r.includes(i)){var a,u=[],s=wh(e.targets);try{for(s.s();!(a=s.n()).done;){var c=a.value,l=bh({modelId:o},c.author?{authAsymId:c.chain_name}:{labelAsymId:c.chain_name});c.hasOwnProperty("residue_numbers")&&(c.author?l.authSeqId=c.residue_numbers:l.labelSeqId=c.residue_numbers),u.push(l)}}catch(t){s.e(t)}finally{s.f()}n.viewer.createComponent(i,u,e.representation)}r.push(i)})),i.components.forEach((function(e){var i=e.cell.obj.data.label;!r.includes(i)&&i.startsWith("".concat(t,"."))&&(n.viewer.removeComponent(i),r.splice(r.indexOf(i),1))}))}},{key:"syncSelections",value:function(){var t=this.state.selection;if(!t)return this.viewer.clearSelection("select"),void this.viewer.clearSelection("hover");var e=this.state.selection.molecule,n=null;if(e)n=this.getStructureByLabel(e);else{var r=this.viewer._plugin.managers.structure.hierarchy.current.structures.length-1;n=this.viewer._plugin.managers.structure.hierarchy.current.structures[r]}var i=n.cell.obj.data.units[0].model.id,o=[];if(t.targets){var a,u=wh(t.targets);try{for(u.s();!(a=u.n()).done;){var s=a.value,c=bh({modelId:i},s.auth?{authAsymId:s.chain_name}:{labelAsymId:s.chain_name});s.hasOwnProperty("residue_numbers")&&(s.auth?c.authSeqId=s.residue_numbers:c.labelSeqId=s.residue_numbers),o.push(c)}}catch(t){u.e(t)}finally{u.f()}}this.viewer.select(o,t.mode,t.modifier);var l=hh([this.viewer._plugin.managers.interactivity.lociSelects.sel.referenceLoci.structure]).rotation,d=function(t,e){var n=O.invert(O(),e),r=C.distance(t.position,t.target),i=C.transformMat3(C(),C.create(0,0,r),n),o=C.transformMat3(C(),C.create(0,1,0),n),a=C.add(C(),t.target,i);return Object(v.a)(Object(v.a)({},t),{position:a,up:o})}(this.viewer._plugin.canvas3d.camera.getSnapshot(),l);this.viewer._plugin.managers.camera.setSnapshot(d,10)}},{key:"syncFocus",value:function(){var t;if(this.state.focus){var e=null===(t=this.state.focus)||void 0===t?void 0:t.molecule;if(e){for(var n=null,r=this.viewer._plugin.managers.structure.hierarchy.currentComponentGroups,i=0;i<r.length&&!(n=r[i].filter((function(t){return t.cell.obj.data.state.label===e}))).length;i++);n&&n.length&&this.viewer._plugin.managers.camera.focusSpheres(n,(function(t){var e;if(!t.cell.state.isHidden)return null===(e=t.cell.obj)||void 0===e?void 0:e.data.boundary.sphere}))}}else this.viewer.clearFocus()}},{key:"syncShape",value:function(t){var e=this;this.loadedShapes[t.label]||"box"===t.shape&&this.viewer.createBoundingBox(t.label,t.min,t.max,t.radius,t.color).then((function(n){e.loadedShapes[t.label]=n}))}},{key:"syncViewerState",value:function(){this.syncItems(),this.syncFocus(),this.syncSelections()}},{key:"componentDidMount",value:function(){var t=this;this.viewerRef.current&&(this.viewer=new rcsbMolstar.Viewer(this.viewerRef.current,this.state.layout),this.syncViewerState());var e=null;this.viewerRef.current&&(this.resizeObserver=new ResizeObserver((function(n){var r,i=wh(n);try{for(i.s();!(r=i.n()).done;)r.value,e&&clearTimeout(e),e=setTimeout(t.viewer.handleResize.bind(t.viewer),100)}catch(t){i.e(t)}finally{i.f()}})),this.resizeObserver.observe(this.viewerRef.current))}},{key:"componentDidUpdate",value:function(t){if(this.props.data!==t.data){var e=g.a.differenceWith(t.data,this.props.data,g.a.isEqual);if(e&&e.length){var n,r=wh(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.label&&this.viewer.removeComponent(i.label)}}catch(t){r.e(t)}finally{r.f()}}this.props.autoFocus?this.shouldAutoFocus=!0:this.shouldAutoFocus=!1,this.state.data=this.props.data||[],this.syncItems()}this.props.selection!==t.selection&&(this.state.selection=this.props.selection,this.syncSelections()),this.props.focus!==t.focus&&(this.state.focus=this.props.focus,this.syncFocus())}},{key:"render",value:function(){return f.a.createElement("div",{id:this.props.id,ref:this.viewerRef,style:this.state.style,className:this.state.className,data:this.props.data,layout:this.state.layout,selection:this.props.selection,focus:this.props.focus})}}])&&Bh(e.prototype,n),r&&Bh(e,r),Object.defineProperty(e,"prototype",{writable:!1}),o}(d.Component);Dh.defaultProps={data:[],autoFocus:!0},Dh.propTypes={id:m.a.string,style:m.a.object,className:m.a.string,data:m.a.any,layout:m.a.object,selection:m.a.object,focus:m.a.object,setProps:m.a.func,autoFocus:m.a.bool};n(19);n.d(e,"MolstarViewer",(function(){return Dh}))}]);
//# sourceMappingURL=dash_molstar.min.js.map