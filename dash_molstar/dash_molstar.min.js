/*! For license information please see dash_molstar.min.js.LICENSE.txt */
window.dash_molstar=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="";var r,i=function(){var e=document.currentScript;if(!e){for(var t=document.getElementsByTagName("script"),n=[],r=0;r<t.length;r++)n.push(t[r]);e=(n=n.filter((function(e){return!e.async&&!e.text&&!e.textContent}))).slice(-1)[0]}return e};if(Object.defineProperty(n,"p",{get:(r=i().src.split("/").slice(0,-1).join("/")+"/",function(){return r})}),"undefined"!=typeof jsonpScriptSrc){var o=jsonpScriptSrc;jsonpScriptSrc=function(e){var t=function(e){return/\/_dash-component-suites\//.test(e.src)}(i()),n=o(e);if(!t)return n;var r=n.split("/"),a=r.slice(-1)[0].split(".");return a.splice(1,0,"v1_2_15m1703840370"),r.splice(-1,1,a.join(".")),r.join("/")}}return n(n.s=24)}([function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a})),n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return s}));var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function a(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{s(r.next(e))}catch(e){o(e)}}function u(e){try{s(r.throw(e))}catch(e){o(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}s((r=r.apply(e,t||[])).next())}))}function u(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(u){return function(s){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&u[0]?r.return:u[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,u[1])).done)return i;switch(r=0,i&&(u=[2&u[0],i.value]),u[0]){case 0:case 1:i=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,r=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==u[0]&&2!==u[0])){a=0;continue}if(3===u[0]&&(!i||u[1]>i[0]&&u[1]<i[3])){a.label=u[1];break}if(6===u[0]&&a.label<i[1]){a.label=i[1],i=u;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(u);break}i[2]&&a.ops.pop(),a.trys.pop();continue}u=t.call(e,a)}catch(e){u=[6,e],r=0}finally{n=i=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,s])}}}Object.create;function s(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;"function"==typeof SuppressedError&&SuppressedError},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return r}));var r=function(){if("undefined"!=typeof window&&window.performance){var t=window.performance;return function(){return t.now()}}return void 0!==e&&"undefined"!==e.hrtime&&"function"==typeof e.hrtime?function(){var t=e.hrtime();return 1e3*t[0]+t[1]/1e6}:Date.now?function(){return Date.now()}:function(){return+new Date}}()}).call(this,n(7))},function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return o}));var r=void 0!==e&&null!=e.versions&&null!=e.versions.node,i="undefined"==typeof XMLHttpRequest||r?n(17):XMLHttpRequest,o="undefined"==typeof File||r?function(){function e(e,t,n){var r;this.blob=new Blob(e,n),this.size=this.blob.size,this.type=this.blob.type,this.name=t,this.lastModified=null!==(r=null==n?void 0:n.lastModified)&&void 0!==r?r:0,this.webkitRelativePath=""}return e.prototype.arrayBuffer=function(){return this.blob.arrayBuffer()},e.prototype.slice=function(e,t,n){return this.blob.slice(e,t,n)},e.prototype.stream=function(){return this.blob.stream()},e.prototype.text=function(){return this.blob.text()},e}():File}).call(this,n(7))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return r}));var r,i=n(1);!function(t){var n="undefined"!=typeof btoa?btoa:function(t){return e.from(t).toString("base64")},r=[];t.create22=function(){for(var e=+new Date+Object(i.a)(),t=0;t<16;t++)r[t]=String.fromCharCode((e+255*Math.random())%255|0),e=Math.floor(e/255);return n(r.join("")).replace(/\+/g,"-").replace(/\//g,"_").substr(0,22)},t.createv4=function(){var e=+new Date+Object(i.a)();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?n:3&n|8).toString(16)}))},t.is=function(e){return"string"==typeof e}}(r||(r={}))}).call(this,n(12).Buffer)},function(e,t){e.exports=window.PropTypes},function(e,t,n){(function(e,r){var i;(function(){var o="Expected a function",a="__lodash_placeholder__",u=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],s="[object Arguments]",c="[object Array]",l="[object Boolean]",d="[object Date]",f="[object Error]",p="[object Function]",m="[object GeneratorFunction]",h="[object Map]",g="[object Number]",v="[object Object]",y="[object RegExp]",_="[object Set]",b="[object String]",x="[object Symbol]",A="[object WeakMap]",w="[object ArrayBuffer]",S="[object DataView]",C="[object Float32Array]",B="[object Float64Array]",P="[object Int8Array]",I="[object Int16Array]",E="[object Int32Array]",M="[object Uint8Array]",k="[object Uint16Array]",D="[object Uint32Array]",O=/\b__p \+= '';/g,N=/\b(__p \+=) '' \+/g,T=/(__e\(.*?\)|\b__t\)) \+\n'';/g,R=/&(?:amp|lt|gt|quot|#39);/g,U=/[&<>"']/g,L=RegExp(R.source),G=RegExp(U.source),q=/<%-([\s\S]+?)%>/g,F=/<%([\s\S]+?)%>/g,j=/<%=([\s\S]+?)%>/g,H=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,V=/^\w*$/,z=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Y=/[\\^$.*+?()[\]{}|]/g,K=RegExp(Y.source),Z=/^\s+/,W=/\s/,X=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Q=/\{\n\/\* \[wrapped with (.+)\] \*/,J=/,? & /,$=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ee=/[()=,{}\[\]\/\s]/,te=/\\(\\)?/g,ne=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,re=/\w*$/,ie=/^[-+]0x[0-9a-f]+$/i,oe=/^0b[01]+$/i,ae=/^\[object .+?Constructor\]$/,ue=/^0o[0-7]+$/i,se=/^(?:0|[1-9]\d*)$/,ce=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,le=/($^)/,de=/['\n\r\u2028\u2029\\]/g,fe="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",pe="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",me="[\\ud800-\\udfff]",he="["+pe+"]",ge="["+fe+"]",ve="\\d+",ye="[\\u2700-\\u27bf]",_e="[a-z\\xdf-\\xf6\\xf8-\\xff]",be="[^\\ud800-\\udfff"+pe+ve+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",xe="\\ud83c[\\udffb-\\udfff]",Ae="[^\\ud800-\\udfff]",we="(?:\\ud83c[\\udde6-\\uddff]){2}",Se="[\\ud800-\\udbff][\\udc00-\\udfff]",Ce="[A-Z\\xc0-\\xd6\\xd8-\\xde]",Be="(?:"+_e+"|"+be+")",Pe="(?:"+Ce+"|"+be+")",Ie="(?:"+ge+"|"+xe+")"+"?",Ee="[\\ufe0e\\ufe0f]?"+Ie+("(?:\\u200d(?:"+[Ae,we,Se].join("|")+")[\\ufe0e\\ufe0f]?"+Ie+")*"),Me="(?:"+[ye,we,Se].join("|")+")"+Ee,ke="(?:"+[Ae+ge+"?",ge,we,Se,me].join("|")+")",De=RegExp("['’]","g"),Oe=RegExp(ge,"g"),Ne=RegExp(xe+"(?="+xe+")|"+ke+Ee,"g"),Te=RegExp([Ce+"?"+_e+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[he,Ce,"$"].join("|")+")",Pe+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[he,Ce+Be,"$"].join("|")+")",Ce+"?"+Be+"+(?:['’](?:d|ll|m|re|s|t|ve))?",Ce+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ve,Me].join("|"),"g"),Re=RegExp("[\\u200d\\ud800-\\udfff"+fe+"\\ufe0e\\ufe0f]"),Ue=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Le=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ge=-1,qe={};qe[C]=qe[B]=qe[P]=qe[I]=qe[E]=qe[M]=qe["[object Uint8ClampedArray]"]=qe[k]=qe[D]=!0,qe[s]=qe[c]=qe[w]=qe[l]=qe[S]=qe[d]=qe[f]=qe[p]=qe[h]=qe[g]=qe[v]=qe[y]=qe[_]=qe[b]=qe[A]=!1;var Fe={};Fe[s]=Fe[c]=Fe[w]=Fe[S]=Fe[l]=Fe[d]=Fe[C]=Fe[B]=Fe[P]=Fe[I]=Fe[E]=Fe[h]=Fe[g]=Fe[v]=Fe[y]=Fe[_]=Fe[b]=Fe[x]=Fe[M]=Fe["[object Uint8ClampedArray]"]=Fe[k]=Fe[D]=!0,Fe[f]=Fe[p]=Fe[A]=!1;var je={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},He=parseFloat,Ve=parseInt,ze="object"==typeof e&&e&&e.Object===Object&&e,Ye="object"==typeof self&&self&&self.Object===Object&&self,Ke=ze||Ye||Function("return this")(),Ze=t&&!t.nodeType&&t,We=Ze&&"object"==typeof r&&r&&!r.nodeType&&r,Xe=We&&We.exports===Ze,Qe=Xe&&ze.process,Je=function(){try{var e=We&&We.require&&We.require("util").types;return e||Qe&&Qe.binding&&Qe.binding("util")}catch(e){}}(),$e=Je&&Je.isArrayBuffer,et=Je&&Je.isDate,tt=Je&&Je.isMap,nt=Je&&Je.isRegExp,rt=Je&&Je.isSet,it=Je&&Je.isTypedArray;function ot(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function at(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var a=e[i];t(r,a,n(a),e)}return r}function ut(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function st(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function ct(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function lt(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}function dt(e,t){return!!(null==e?0:e.length)&&xt(e,t,0)>-1}function ft(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function pt(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function mt(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function ht(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function gt(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function vt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var yt=Ct("length");function _t(e,t,n){var r;return n(e,(function(e,n,i){if(t(e,n,i))return r=n,!1})),r}function bt(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function xt(e,t,n){return t==t?function(e,t,n){var r=n-1,i=e.length;for(;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):bt(e,wt,n)}function At(e,t,n,r){for(var i=n-1,o=e.length;++i<o;)if(r(e[i],t))return i;return-1}function wt(e){return e!=e}function St(e,t){var n=null==e?0:e.length;return n?It(e,t)/n:NaN}function Ct(e){return function(t){return null==t?void 0:t[e]}}function Bt(e){return function(t){return null==e?void 0:e[t]}}function Pt(e,t,n,r,i){return i(e,(function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)})),n}function It(e,t){for(var n,r=-1,i=e.length;++r<i;){var o=t(e[r]);void 0!==o&&(n=void 0===n?o:n+o)}return n}function Et(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Mt(e){return e?e.slice(0,Zt(e)+1).replace(Z,""):e}function kt(e){return function(t){return e(t)}}function Dt(e,t){return pt(t,(function(t){return e[t]}))}function Ot(e,t){return e.has(t)}function Nt(e,t){for(var n=-1,r=e.length;++n<r&&xt(t,e[n],0)>-1;);return n}function Tt(e,t){for(var n=e.length;n--&&xt(t,e[n],0)>-1;);return n}function Rt(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}var Ut=Bt({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),Lt=Bt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Gt(e){return"\\"+je[e]}function qt(e){return Re.test(e)}function Ft(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function jt(e,t){return function(n){return e(t(n))}}function Ht(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var u=e[n];u!==t&&u!==a||(e[n]=a,o[i++]=n)}return o}function Vt(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function zt(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function Yt(e){return qt(e)?function(e){var t=Ne.lastIndex=0;for(;Ne.test(e);)++t;return t}(e):yt(e)}function Kt(e){return qt(e)?function(e){return e.match(Ne)||[]}(e):function(e){return e.split("")}(e)}function Zt(e){for(var t=e.length;t--&&W.test(e.charAt(t)););return t}var Wt=Bt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var Xt=function e(t){var n,r=(t=null==t?Ke:Xt.defaults(Ke.Object(),t,Xt.pick(Ke,Le))).Array,i=t.Date,W=t.Error,fe=t.Function,pe=t.Math,me=t.Object,he=t.RegExp,ge=t.String,ve=t.TypeError,ye=r.prototype,_e=fe.prototype,be=me.prototype,xe=t["__core-js_shared__"],Ae=_e.toString,we=be.hasOwnProperty,Se=0,Ce=(n=/[^.]+$/.exec(xe&&xe.keys&&xe.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",Be=be.toString,Pe=Ae.call(me),Ie=Ke._,Ee=he("^"+Ae.call(we).replace(Y,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Me=Xe?t.Buffer:void 0,ke=t.Symbol,Ne=t.Uint8Array,Re=Me?Me.allocUnsafe:void 0,je=jt(me.getPrototypeOf,me),ze=me.create,Ye=be.propertyIsEnumerable,Ze=ye.splice,We=ke?ke.isConcatSpreadable:void 0,Qe=ke?ke.iterator:void 0,Je=ke?ke.toStringTag:void 0,yt=function(){try{var e=eo(me,"defineProperty");return e({},"",{}),e}catch(e){}}(),Bt=t.clearTimeout!==Ke.clearTimeout&&t.clearTimeout,Qt=i&&i.now!==Ke.Date.now&&i.now,Jt=t.setTimeout!==Ke.setTimeout&&t.setTimeout,$t=pe.ceil,en=pe.floor,tn=me.getOwnPropertySymbols,nn=Me?Me.isBuffer:void 0,rn=t.isFinite,on=ye.join,an=jt(me.keys,me),un=pe.max,sn=pe.min,cn=i.now,ln=t.parseInt,dn=pe.random,fn=ye.reverse,pn=eo(t,"DataView"),mn=eo(t,"Map"),hn=eo(t,"Promise"),gn=eo(t,"Set"),vn=eo(t,"WeakMap"),yn=eo(me,"create"),_n=vn&&new vn,bn={},xn=Io(pn),An=Io(mn),wn=Io(hn),Sn=Io(gn),Cn=Io(vn),Bn=ke?ke.prototype:void 0,Pn=Bn?Bn.valueOf:void 0,In=Bn?Bn.toString:void 0;function En(e){if(za(e)&&!Na(e)&&!(e instanceof On)){if(e instanceof Dn)return e;if(we.call(e,"__wrapped__"))return Eo(e)}return new Dn(e)}var Mn=function(){function e(){}return function(t){if(!Va(t))return{};if(ze)return ze(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function kn(){}function Dn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}function On(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function Nn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Tn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Rn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Un(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Rn;++t<n;)this.add(e[t])}function Ln(e){var t=this.__data__=new Tn(e);this.size=t.size}function Gn(e,t){var n=Na(e),r=!n&&Oa(e),i=!n&&!r&&La(e),o=!n&&!r&&!i&&$a(e),a=n||r||i||o,u=a?Et(e.length,ge):[],s=u.length;for(var c in e)!t&&!we.call(e,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||uo(c,s))||u.push(c);return u}function qn(e){var t=e.length;return t?e[Ur(0,t-1)]:void 0}function Fn(e,t){return Co(yi(e),Xn(t,0,e.length))}function jn(e){return Co(yi(e))}function Hn(e,t,n){(void 0!==n&&!Ma(e[t],n)||void 0===n&&!(t in e))&&Zn(e,t,n)}function Vn(e,t,n){var r=e[t];we.call(e,t)&&Ma(r,n)&&(void 0!==n||t in e)||Zn(e,t,n)}function zn(e,t){for(var n=e.length;n--;)if(Ma(e[n][0],t))return n;return-1}function Yn(e,t,n,r){return tr(e,(function(e,i,o){t(r,e,n(e),o)})),r}function Kn(e,t){return e&&_i(t,xu(t),e)}function Zn(e,t,n){"__proto__"==t&&yt?yt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Wn(e,t){for(var n=-1,i=t.length,o=r(i),a=null==e;++n<i;)o[n]=a?void 0:gu(e,t[n]);return o}function Xn(e,t,n){return e==e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e}function Qn(e,t,n,r,i,o){var a,u=1&t,c=2&t,f=4&t;if(n&&(a=i?n(e,r,i,o):n(e)),void 0!==a)return a;if(!Va(e))return e;var A=Na(e);if(A){if(a=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&we.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!u)return yi(e,a)}else{var O=ro(e),N=O==p||O==m;if(La(e))return fi(e,u);if(O==v||O==s||N&&!i){if(a=c||N?{}:oo(e),!u)return c?function(e,t){return _i(e,no(e),t)}(e,function(e,t){return e&&_i(t,Au(t),e)}(a,e)):function(e,t){return _i(e,to(e),t)}(e,Kn(a,e))}else{if(!Fe[O])return i?e:{};a=function(e,t,n){var r=e.constructor;switch(t){case w:return pi(e);case l:case d:return new r(+e);case S:return function(e,t){var n=t?pi(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case C:case B:case P:case I:case E:case M:case"[object Uint8ClampedArray]":case k:case D:return mi(e,n);case h:return new r;case g:case b:return new r(e);case y:return function(e){var t=new e.constructor(e.source,re.exec(e));return t.lastIndex=e.lastIndex,t}(e);case _:return new r;case x:return i=e,Pn?me(Pn.call(i)):{}}var i}(e,O,u)}}o||(o=new Ln);var T=o.get(e);if(T)return T;o.set(e,a),Xa(e)?e.forEach((function(r){a.add(Qn(r,t,n,r,e,o))})):Ya(e)&&e.forEach((function(r,i){a.set(i,Qn(r,t,n,i,e,o))}));var R=A?void 0:(f?c?Ki:Yi:c?Au:xu)(e);return ut(R||e,(function(r,i){R&&(r=e[i=r]),Vn(a,i,Qn(r,t,n,i,e,o))})),a}function Jn(e,t,n){var r=n.length;if(null==e)return!r;for(e=me(e);r--;){var i=n[r],o=t[i],a=e[i];if(void 0===a&&!(i in e)||!o(a))return!1}return!0}function $n(e,t,n){if("function"!=typeof e)throw new ve(o);return xo((function(){e.apply(void 0,n)}),t)}function er(e,t,n,r){var i=-1,o=dt,a=!0,u=e.length,s=[],c=t.length;if(!u)return s;n&&(t=pt(t,kt(n))),r?(o=ft,a=!1):t.length>=200&&(o=Ot,a=!1,t=new Un(t));e:for(;++i<u;){var l=e[i],d=null==n?l:n(l);if(l=r||0!==l?l:0,a&&d==d){for(var f=c;f--;)if(t[f]===d)continue e;s.push(l)}else o(t,d,r)||s.push(l)}return s}En.templateSettings={escape:q,evaluate:F,interpolate:j,variable:"",imports:{_:En}},En.prototype=kn.prototype,En.prototype.constructor=En,Dn.prototype=Mn(kn.prototype),Dn.prototype.constructor=Dn,On.prototype=Mn(kn.prototype),On.prototype.constructor=On,Nn.prototype.clear=function(){this.__data__=yn?yn(null):{},this.size=0},Nn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Nn.prototype.get=function(e){var t=this.__data__;if(yn){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return we.call(t,e)?t[e]:void 0},Nn.prototype.has=function(e){var t=this.__data__;return yn?void 0!==t[e]:we.call(t,e)},Nn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=yn&&void 0===t?"__lodash_hash_undefined__":t,this},Tn.prototype.clear=function(){this.__data__=[],this.size=0},Tn.prototype.delete=function(e){var t=this.__data__,n=zn(t,e);return!(n<0)&&(n==t.length-1?t.pop():Ze.call(t,n,1),--this.size,!0)},Tn.prototype.get=function(e){var t=this.__data__,n=zn(t,e);return n<0?void 0:t[n][1]},Tn.prototype.has=function(e){return zn(this.__data__,e)>-1},Tn.prototype.set=function(e,t){var n=this.__data__,r=zn(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Rn.prototype.clear=function(){this.size=0,this.__data__={hash:new Nn,map:new(mn||Tn),string:new Nn}},Rn.prototype.delete=function(e){var t=Ji(this,e).delete(e);return this.size-=t?1:0,t},Rn.prototype.get=function(e){return Ji(this,e).get(e)},Rn.prototype.has=function(e){return Ji(this,e).has(e)},Rn.prototype.set=function(e,t){var n=Ji(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Un.prototype.add=Un.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Un.prototype.has=function(e){return this.__data__.has(e)},Ln.prototype.clear=function(){this.__data__=new Tn,this.size=0},Ln.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Ln.prototype.get=function(e){return this.__data__.get(e)},Ln.prototype.has=function(e){return this.__data__.has(e)},Ln.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Tn){var r=n.__data__;if(!mn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Rn(r)}return n.set(e,t),this.size=n.size,this};var tr=Ai(cr),nr=Ai(lr,!0);function rr(e,t){var n=!0;return tr(e,(function(e,r,i){return n=!!t(e,r,i)})),n}function ir(e,t,n){for(var r=-1,i=e.length;++r<i;){var o=e[r],a=t(o);if(null!=a&&(void 0===u?a==a&&!Ja(a):n(a,u)))var u=a,s=o}return s}function or(e,t){var n=[];return tr(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function ar(e,t,n,r,i){var o=-1,a=e.length;for(n||(n=ao),i||(i=[]);++o<a;){var u=e[o];t>0&&n(u)?t>1?ar(u,t-1,n,r,i):mt(i,u):r||(i[i.length]=u)}return i}var ur=wi(),sr=wi(!0);function cr(e,t){return e&&ur(e,t,xu)}function lr(e,t){return e&&sr(e,t,xu)}function dr(e,t){return lt(t,(function(t){return Fa(e[t])}))}function fr(e,t){for(var n=0,r=(t=si(t,e)).length;null!=e&&n<r;)e=e[Po(t[n++])];return n&&n==r?e:void 0}function pr(e,t,n){var r=t(e);return Na(e)?r:mt(r,n(e))}function mr(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Je&&Je in me(e)?function(e){var t=we.call(e,Je),n=e[Je];try{e[Je]=void 0;var r=!0}catch(e){}var i=Be.call(e);r&&(t?e[Je]=n:delete e[Je]);return i}(e):function(e){return Be.call(e)}(e)}function hr(e,t){return e>t}function gr(e,t){return null!=e&&we.call(e,t)}function vr(e,t){return null!=e&&t in me(e)}function yr(e,t,n){for(var i=n?ft:dt,o=e[0].length,a=e.length,u=a,s=r(a),c=1/0,l=[];u--;){var d=e[u];u&&t&&(d=pt(d,kt(t))),c=sn(d.length,c),s[u]=!n&&(t||o>=120&&d.length>=120)?new Un(u&&d):void 0}d=e[0];var f=-1,p=s[0];e:for(;++f<o&&l.length<c;){var m=d[f],h=t?t(m):m;if(m=n||0!==m?m:0,!(p?Ot(p,h):i(l,h,n))){for(u=a;--u;){var g=s[u];if(!(g?Ot(g,h):i(e[u],h,n)))continue e}p&&p.push(h),l.push(m)}}return l}function _r(e,t,n){var r=null==(e=vo(e,t=si(t,e)))?e:e[Po(qo(t))];return null==r?void 0:ot(r,e,n)}function br(e){return za(e)&&mr(e)==s}function xr(e,t,n,r,i){return e===t||(null==e||null==t||!za(e)&&!za(t)?e!=e&&t!=t:function(e,t,n,r,i,o){var a=Na(e),u=Na(t),p=a?c:ro(e),m=u?c:ro(t),A=(p=p==s?v:p)==v,C=(m=m==s?v:m)==v,B=p==m;if(B&&La(e)){if(!La(t))return!1;a=!0,A=!1}if(B&&!A)return o||(o=new Ln),a||$a(e)?Vi(e,t,n,r,i,o):function(e,t,n,r,i,o,a){switch(n){case S:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case w:return!(e.byteLength!=t.byteLength||!o(new Ne(e),new Ne(t)));case l:case d:case g:return Ma(+e,+t);case f:return e.name==t.name&&e.message==t.message;case y:case b:return e==t+"";case h:var u=Ft;case _:var s=1&r;if(u||(u=Vt),e.size!=t.size&&!s)return!1;var c=a.get(e);if(c)return c==t;r|=2,a.set(e,t);var p=Vi(u(e),u(t),r,i,o,a);return a.delete(e),p;case x:if(Pn)return Pn.call(e)==Pn.call(t)}return!1}(e,t,p,n,r,i,o);if(!(1&n)){var P=A&&we.call(e,"__wrapped__"),I=C&&we.call(t,"__wrapped__");if(P||I){var E=P?e.value():e,M=I?t.value():t;return o||(o=new Ln),i(E,M,n,r,o)}}if(!B)return!1;return o||(o=new Ln),function(e,t,n,r,i,o){var a=1&n,u=Yi(e),s=u.length,c=Yi(t).length;if(s!=c&&!a)return!1;var l=s;for(;l--;){var d=u[l];if(!(a?d in t:we.call(t,d)))return!1}var f=o.get(e),p=o.get(t);if(f&&p)return f==t&&p==e;var m=!0;o.set(e,t),o.set(t,e);var h=a;for(;++l<s;){d=u[l];var g=e[d],v=t[d];if(r)var y=a?r(v,g,d,t,e,o):r(g,v,d,e,t,o);if(!(void 0===y?g===v||i(g,v,n,r,o):y)){m=!1;break}h||(h="constructor"==d)}if(m&&!h){var _=e.constructor,b=t.constructor;_==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof _&&_ instanceof _&&"function"==typeof b&&b instanceof b||(m=!1)}return o.delete(e),o.delete(t),m}(e,t,n,r,i,o)}(e,t,n,r,xr,i))}function Ar(e,t,n,r){var i=n.length,o=i,a=!r;if(null==e)return!o;for(e=me(e);i--;){var u=n[i];if(a&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++i<o;){var s=(u=n[i])[0],c=e[s],l=u[1];if(a&&u[2]){if(void 0===c&&!(s in e))return!1}else{var d=new Ln;if(r)var f=r(c,l,s,e,t,d);if(!(void 0===f?xr(l,c,3,r,d):f))return!1}}return!0}function wr(e){return!(!Va(e)||(t=e,Ce&&Ce in t))&&(Fa(e)?Ee:ae).test(Io(e));var t}function Sr(e){return"function"==typeof e?e:null==e?Ku:"object"==typeof e?Na(e)?Mr(e[0],e[1]):Er(e):ns(e)}function Cr(e){if(!po(e))return an(e);var t=[];for(var n in me(e))we.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Br(e){if(!Va(e))return function(e){var t=[];if(null!=e)for(var n in me(e))t.push(n);return t}(e);var t=po(e),n=[];for(var r in e)("constructor"!=r||!t&&we.call(e,r))&&n.push(r);return n}function Pr(e,t){return e<t}function Ir(e,t){var n=-1,i=Ra(e)?r(e.length):[];return tr(e,(function(e,r,o){i[++n]=t(e,r,o)})),i}function Er(e){var t=$i(e);return 1==t.length&&t[0][2]?ho(t[0][0],t[0][1]):function(n){return n===e||Ar(n,e,t)}}function Mr(e,t){return co(e)&&mo(t)?ho(Po(e),t):function(n){var r=gu(n,e);return void 0===r&&r===t?vu(n,e):xr(t,r,3)}}function kr(e,t,n,r,i){e!==t&&ur(t,(function(o,a){if(i||(i=new Ln),Va(o))!function(e,t,n,r,i,o,a){var u=_o(e,n),s=_o(t,n),c=a.get(s);if(c)return void Hn(e,n,c);var l=o?o(u,s,n+"",e,t,a):void 0,d=void 0===l;if(d){var f=Na(s),p=!f&&La(s),m=!f&&!p&&$a(s);l=s,f||p||m?Na(u)?l=u:Ua(u)?l=yi(u):p?(d=!1,l=fi(s,!0)):m?(d=!1,l=mi(s,!0)):l=[]:Za(s)||Oa(s)?(l=u,Oa(u)?l=uu(u):Va(u)&&!Fa(u)||(l=oo(s))):d=!1}d&&(a.set(s,l),i(l,s,r,o,a),a.delete(s));Hn(e,n,l)}(e,t,a,n,kr,r,i);else{var u=r?r(_o(e,a),o,a+"",e,t,i):void 0;void 0===u&&(u=o),Hn(e,a,u)}}),Au)}function Dr(e,t){var n=e.length;if(n)return uo(t+=t<0?n:0,n)?e[t]:void 0}function Or(e,t,n){t=t.length?pt(t,(function(e){return Na(e)?function(t){return fr(t,1===e.length?e[0]:e)}:e})):[Ku];var r=-1;return t=pt(t,kt(Qi())),function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(Ir(e,(function(e,n,i){return{criteria:pt(t,(function(t){return t(e)})),index:++r,value:e}})),(function(e,t){return function(e,t,n){var r=-1,i=e.criteria,o=t.criteria,a=i.length,u=n.length;for(;++r<a;){var s=hi(i[r],o[r]);if(s){if(r>=u)return s;var c=n[r];return s*("desc"==c?-1:1)}}return e.index-t.index}(e,t,n)}))}function Nr(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var a=t[r],u=fr(e,a);n(u,a)&&jr(o,si(a,e),u)}return o}function Tr(e,t,n,r){var i=r?At:xt,o=-1,a=t.length,u=e;for(e===t&&(t=yi(t)),n&&(u=pt(e,kt(n)));++o<a;)for(var s=0,c=t[o],l=n?n(c):c;(s=i(u,l,s,r))>-1;)u!==e&&Ze.call(u,s,1),Ze.call(e,s,1);return e}function Rr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==o){var o=i;uo(i)?Ze.call(e,i,1):ei(e,i)}}return e}function Ur(e,t){return e+en(dn()*(t-e+1))}function Lr(e,t){var n="";if(!e||t<1||t>9007199254740991)return n;do{t%2&&(n+=e),(t=en(t/2))&&(e+=e)}while(t);return n}function Gr(e,t){return Ao(go(e,t,Ku),e+"")}function qr(e){return qn(Mu(e))}function Fr(e,t){var n=Mu(e);return Co(n,Xn(t,0,n.length))}function jr(e,t,n,r){if(!Va(e))return e;for(var i=-1,o=(t=si(t,e)).length,a=o-1,u=e;null!=u&&++i<o;){var s=Po(t[i]),c=n;if("__proto__"===s||"constructor"===s||"prototype"===s)return e;if(i!=a){var l=u[s];void 0===(c=r?r(l,s,u):void 0)&&(c=Va(l)?l:uo(t[i+1])?[]:{})}Vn(u,s,c),u=u[s]}return e}var Hr=_n?function(e,t){return _n.set(e,t),e}:Ku,Vr=yt?function(e,t){return yt(e,"toString",{configurable:!0,enumerable:!1,value:Vu(t),writable:!0})}:Ku;function zr(e){return Co(Mu(e))}function Yr(e,t,n){var i=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var a=r(o);++i<o;)a[i]=e[i+t];return a}function Kr(e,t){var n;return tr(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}function Zr(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t==t&&i<=2147483647){for(;r<i;){var o=r+i>>>1,a=e[o];null!==a&&!Ja(a)&&(n?a<=t:a<t)?r=o+1:i=o}return i}return Wr(e,t,Ku,n)}function Wr(e,t,n,r){var i=0,o=null==e?0:e.length;if(0===o)return 0;for(var a=(t=n(t))!=t,u=null===t,s=Ja(t),c=void 0===t;i<o;){var l=en((i+o)/2),d=n(e[l]),f=void 0!==d,p=null===d,m=d==d,h=Ja(d);if(a)var g=r||m;else g=c?m&&(r||f):u?m&&f&&(r||!p):s?m&&f&&!p&&(r||!h):!p&&!h&&(r?d<=t:d<t);g?i=l+1:o=l}return sn(o,4294967294)}function Xr(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n],u=t?t(a):a;if(!n||!Ma(u,s)){var s=u;o[i++]=0===a?0:a}}return o}function Qr(e){return"number"==typeof e?e:Ja(e)?NaN:+e}function Jr(e){if("string"==typeof e)return e;if(Na(e))return pt(e,Jr)+"";if(Ja(e))return In?In.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function $r(e,t,n){var r=-1,i=dt,o=e.length,a=!0,u=[],s=u;if(n)a=!1,i=ft;else if(o>=200){var c=t?null:Li(e);if(c)return Vt(c);a=!1,i=Ot,s=new Un}else s=t?[]:u;e:for(;++r<o;){var l=e[r],d=t?t(l):l;if(l=n||0!==l?l:0,a&&d==d){for(var f=s.length;f--;)if(s[f]===d)continue e;t&&s.push(d),u.push(l)}else i(s,d,n)||(s!==u&&s.push(d),u.push(l))}return u}function ei(e,t){return null==(e=vo(e,t=si(t,e)))||delete e[Po(qo(t))]}function ti(e,t,n,r){return jr(e,t,n(fr(e,t)),r)}function ni(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?Yr(e,r?0:o,r?o+1:i):Yr(e,r?o+1:0,r?i:o)}function ri(e,t){var n=e;return n instanceof On&&(n=n.value()),ht(t,(function(e,t){return t.func.apply(t.thisArg,mt([e],t.args))}),n)}function ii(e,t,n){var i=e.length;if(i<2)return i?$r(e[0]):[];for(var o=-1,a=r(i);++o<i;)for(var u=e[o],s=-1;++s<i;)s!=o&&(a[o]=er(a[o]||u,e[s],t,n));return $r(ar(a,1),t,n)}function oi(e,t,n){for(var r=-1,i=e.length,o=t.length,a={};++r<i;){var u=r<o?t[r]:void 0;n(a,e[r],u)}return a}function ai(e){return Ua(e)?e:[]}function ui(e){return"function"==typeof e?e:Ku}function si(e,t){return Na(e)?e:co(e,t)?[e]:Bo(su(e))}var ci=Gr;function li(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&n>=r?e:Yr(e,t,n)}var di=Bt||function(e){return Ke.clearTimeout(e)};function fi(e,t){if(t)return e.slice();var n=e.length,r=Re?Re(n):new e.constructor(n);return e.copy(r),r}function pi(e){var t=new e.constructor(e.byteLength);return new Ne(t).set(new Ne(e)),t}function mi(e,t){var n=t?pi(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function hi(e,t){if(e!==t){var n=void 0!==e,r=null===e,i=e==e,o=Ja(e),a=void 0!==t,u=null===t,s=t==t,c=Ja(t);if(!u&&!c&&!o&&e>t||o&&a&&s&&!u&&!c||r&&a&&s||!n&&s||!i)return 1;if(!r&&!o&&!c&&e<t||c&&n&&i&&!r&&!o||u&&n&&i||!a&&i||!s)return-1}return 0}function gi(e,t,n,i){for(var o=-1,a=e.length,u=n.length,s=-1,c=t.length,l=un(a-u,0),d=r(c+l),f=!i;++s<c;)d[s]=t[s];for(;++o<u;)(f||o<a)&&(d[n[o]]=e[o]);for(;l--;)d[s++]=e[o++];return d}function vi(e,t,n,i){for(var o=-1,a=e.length,u=-1,s=n.length,c=-1,l=t.length,d=un(a-s,0),f=r(d+l),p=!i;++o<d;)f[o]=e[o];for(var m=o;++c<l;)f[m+c]=t[c];for(;++u<s;)(p||o<a)&&(f[m+n[u]]=e[o++]);return f}function yi(e,t){var n=-1,i=e.length;for(t||(t=r(i));++n<i;)t[n]=e[n];return t}function _i(e,t,n,r){var i=!n;n||(n={});for(var o=-1,a=t.length;++o<a;){var u=t[o],s=r?r(n[u],e[u],u,n,e):void 0;void 0===s&&(s=e[u]),i?Zn(n,u,s):Vn(n,u,s)}return n}function bi(e,t){return function(n,r){var i=Na(n)?at:Yn,o=t?t():{};return i(n,e,Qi(r,2),o)}}function xi(e){return Gr((function(t,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,a=i>2?n[2]:void 0;for(o=e.length>3&&"function"==typeof o?(i--,o):void 0,a&&so(n[0],n[1],a)&&(o=i<3?void 0:o,i=1),t=me(t);++r<i;){var u=n[r];u&&e(t,u,r,o)}return t}))}function Ai(e,t){return function(n,r){if(null==n)return n;if(!Ra(n))return e(n,r);for(var i=n.length,o=t?i:-1,a=me(n);(t?o--:++o<i)&&!1!==r(a[o],o,a););return n}}function wi(e){return function(t,n,r){for(var i=-1,o=me(t),a=r(t),u=a.length;u--;){var s=a[e?u:++i];if(!1===n(o[s],s,o))break}return t}}function Si(e){return function(t){var n=qt(t=su(t))?Kt(t):void 0,r=n?n[0]:t.charAt(0),i=n?li(n,1).join(""):t.slice(1);return r[e]()+i}}function Ci(e){return function(t){return ht(Fu(Ou(t).replace(De,"")),e,"")}}function Bi(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Mn(e.prototype),r=e.apply(n,t);return Va(r)?r:n}}function Pi(e){return function(t,n,r){var i=me(t);if(!Ra(t)){var o=Qi(n,3);t=xu(t),n=function(e){return o(i[e],e,i)}}var a=e(t,n,r);return a>-1?i[o?t[a]:a]:void 0}}function Ii(e){return zi((function(t){var n=t.length,r=n,i=Dn.prototype.thru;for(e&&t.reverse();r--;){var a=t[r];if("function"!=typeof a)throw new ve(o);if(i&&!u&&"wrapper"==Wi(a))var u=new Dn([],!0)}for(r=u?r:n;++r<n;){var s=Wi(a=t[r]),c="wrapper"==s?Zi(a):void 0;u=c&&lo(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?u[Wi(c[0])].apply(u,c[3]):1==a.length&&lo(a)?u[s]():u.thru(a)}return function(){var e=arguments,r=e[0];if(u&&1==e.length&&Na(r))return u.plant(r).value();for(var i=0,o=n?t[i].apply(this,e):r;++i<n;)o=t[i].call(this,o);return o}}))}function Ei(e,t,n,i,o,a,u,s,c,l){var d=128&t,f=1&t,p=2&t,m=24&t,h=512&t,g=p?void 0:Bi(e);return function v(){for(var y=arguments.length,_=r(y),b=y;b--;)_[b]=arguments[b];if(m)var x=Xi(v),A=Rt(_,x);if(i&&(_=gi(_,i,o,m)),a&&(_=vi(_,a,u,m)),y-=A,m&&y<l){var w=Ht(_,x);return Ri(e,t,Ei,v.placeholder,n,_,w,s,c,l-y)}var S=f?n:this,C=p?S[e]:e;return y=_.length,s?_=yo(_,s):h&&y>1&&_.reverse(),d&&c<y&&(_.length=c),this&&this!==Ke&&this instanceof v&&(C=g||Bi(C)),C.apply(S,_)}}function Mi(e,t){return function(n,r){return function(e,t,n,r){return cr(e,(function(e,i,o){t(r,n(e),i,o)})),r}(n,e,t(r),{})}}function ki(e,t){return function(n,r){var i;if(void 0===n&&void 0===r)return t;if(void 0!==n&&(i=n),void 0!==r){if(void 0===i)return r;"string"==typeof n||"string"==typeof r?(n=Jr(n),r=Jr(r)):(n=Qr(n),r=Qr(r)),i=e(n,r)}return i}}function Di(e){return zi((function(t){return t=pt(t,kt(Qi())),Gr((function(n){var r=this;return e(t,(function(e){return ot(e,r,n)}))}))}))}function Oi(e,t){var n=(t=void 0===t?" ":Jr(t)).length;if(n<2)return n?Lr(t,e):t;var r=Lr(t,$t(e/Yt(t)));return qt(t)?li(Kt(r),0,e).join(""):r.slice(0,e)}function Ni(e){return function(t,n,i){return i&&"number"!=typeof i&&so(t,n,i)&&(n=i=void 0),t=ru(t),void 0===n?(n=t,t=0):n=ru(n),function(e,t,n,i){for(var o=-1,a=un($t((t-e)/(n||1)),0),u=r(a);a--;)u[i?a:++o]=e,e+=n;return u}(t,n,i=void 0===i?t<n?1:-1:ru(i),e)}}function Ti(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=au(t),n=au(n)),e(t,n)}}function Ri(e,t,n,r,i,o,a,u,s,c){var l=8&t;t|=l?32:64,4&(t&=~(l?64:32))||(t&=-4);var d=[e,t,i,l?o:void 0,l?a:void 0,l?void 0:o,l?void 0:a,u,s,c],f=n.apply(void 0,d);return lo(e)&&bo(f,d),f.placeholder=r,wo(f,e,t)}function Ui(e){var t=pe[e];return function(e,n){if(e=au(e),(n=null==n?0:sn(iu(n),292))&&rn(e)){var r=(su(e)+"e").split("e");return+((r=(su(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Li=gn&&1/Vt(new gn([,-0]))[1]==1/0?function(e){return new gn(e)}:Ju;function Gi(e){return function(t){var n=ro(t);return n==h?Ft(t):n==_?zt(t):function(e,t){return pt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function qi(e,t,n,i,u,s,c,l){var d=2&t;if(!d&&"function"!=typeof e)throw new ve(o);var f=i?i.length:0;if(f||(t&=-97,i=u=void 0),c=void 0===c?c:un(iu(c),0),l=void 0===l?l:iu(l),f-=u?u.length:0,64&t){var p=i,m=u;i=u=void 0}var h=d?void 0:Zi(e),g=[e,t,n,i,u,p,m,s,c,l];if(h&&function(e,t){var n=e[1],r=t[1],i=n|r,o=i<131,u=128==r&&8==n||128==r&&256==n&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!o&&!u)return e;1&r&&(e[2]=t[2],i|=1&n?0:4);var s=t[3];if(s){var c=e[3];e[3]=c?gi(c,s,t[4]):s,e[4]=c?Ht(e[3],a):t[4]}(s=t[5])&&(c=e[5],e[5]=c?vi(c,s,t[6]):s,e[6]=c?Ht(e[5],a):t[6]);(s=t[7])&&(e[7]=s);128&r&&(e[8]=null==e[8]?t[8]:sn(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=i}(g,h),e=g[0],t=g[1],n=g[2],i=g[3],u=g[4],!(l=g[9]=void 0===g[9]?d?0:e.length:un(g[9]-f,0))&&24&t&&(t&=-25),t&&1!=t)v=8==t||16==t?function(e,t,n){var i=Bi(e);return function o(){for(var a=arguments.length,u=r(a),s=a,c=Xi(o);s--;)u[s]=arguments[s];var l=a<3&&u[0]!==c&&u[a-1]!==c?[]:Ht(u,c);if((a-=l.length)<n)return Ri(e,t,Ei,o.placeholder,void 0,u,l,void 0,void 0,n-a);var d=this&&this!==Ke&&this instanceof o?i:e;return ot(d,this,u)}}(e,t,l):32!=t&&33!=t||u.length?Ei.apply(void 0,g):function(e,t,n,i){var o=1&t,a=Bi(e);return function t(){for(var u=-1,s=arguments.length,c=-1,l=i.length,d=r(l+s),f=this&&this!==Ke&&this instanceof t?a:e;++c<l;)d[c]=i[c];for(;s--;)d[c++]=arguments[++u];return ot(f,o?n:this,d)}}(e,t,n,i);else var v=function(e,t,n){var r=1&t,i=Bi(e);return function t(){var o=this&&this!==Ke&&this instanceof t?i:e;return o.apply(r?n:this,arguments)}}(e,t,n);return wo((h?Hr:bo)(v,g),e,t)}function Fi(e,t,n,r){return void 0===e||Ma(e,be[n])&&!we.call(r,n)?t:e}function ji(e,t,n,r,i,o){return Va(e)&&Va(t)&&(o.set(t,e),kr(e,t,void 0,ji,o),o.delete(t)),e}function Hi(e){return Za(e)?void 0:e}function Vi(e,t,n,r,i,o){var a=1&n,u=e.length,s=t.length;if(u!=s&&!(a&&s>u))return!1;var c=o.get(e),l=o.get(t);if(c&&l)return c==t&&l==e;var d=-1,f=!0,p=2&n?new Un:void 0;for(o.set(e,t),o.set(t,e);++d<u;){var m=e[d],h=t[d];if(r)var g=a?r(h,m,d,t,e,o):r(m,h,d,e,t,o);if(void 0!==g){if(g)continue;f=!1;break}if(p){if(!vt(t,(function(e,t){if(!Ot(p,t)&&(m===e||i(m,e,n,r,o)))return p.push(t)}))){f=!1;break}}else if(m!==h&&!i(m,h,n,r,o)){f=!1;break}}return o.delete(e),o.delete(t),f}function zi(e){return Ao(go(e,void 0,To),e+"")}function Yi(e){return pr(e,xu,to)}function Ki(e){return pr(e,Au,no)}var Zi=_n?function(e){return _n.get(e)}:Ju;function Wi(e){for(var t=e.name+"",n=bn[t],r=we.call(bn,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function Xi(e){return(we.call(En,"placeholder")?En:e).placeholder}function Qi(){var e=En.iteratee||Zu;return e=e===Zu?Sr:e,arguments.length?e(arguments[0],arguments[1]):e}function Ji(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function $i(e){for(var t=xu(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,mo(i)]}return t}function eo(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return wr(n)?n:void 0}var to=tn?function(e){return null==e?[]:(e=me(e),lt(tn(e),(function(t){return Ye.call(e,t)})))}:os,no=tn?function(e){for(var t=[];e;)mt(t,to(e)),e=je(e);return t}:os,ro=mr;function io(e,t,n){for(var r=-1,i=(t=si(t,e)).length,o=!1;++r<i;){var a=Po(t[r]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&Ha(i)&&uo(a,i)&&(Na(e)||Oa(e))}function oo(e){return"function"!=typeof e.constructor||po(e)?{}:Mn(je(e))}function ao(e){return Na(e)||Oa(e)||!!(We&&e&&e[We])}function uo(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&se.test(e))&&e>-1&&e%1==0&&e<t}function so(e,t,n){if(!Va(n))return!1;var r=typeof t;return!!("number"==r?Ra(n)&&uo(t,n.length):"string"==r&&t in n)&&Ma(n[t],e)}function co(e,t){if(Na(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Ja(e))||(V.test(e)||!H.test(e)||null!=t&&e in me(t))}function lo(e){var t=Wi(e),n=En[t];if("function"!=typeof n||!(t in On.prototype))return!1;if(e===n)return!0;var r=Zi(n);return!!r&&e===r[0]}(pn&&ro(new pn(new ArrayBuffer(1)))!=S||mn&&ro(new mn)!=h||hn&&"[object Promise]"!=ro(hn.resolve())||gn&&ro(new gn)!=_||vn&&ro(new vn)!=A)&&(ro=function(e){var t=mr(e),n=t==v?e.constructor:void 0,r=n?Io(n):"";if(r)switch(r){case xn:return S;case An:return h;case wn:return"[object Promise]";case Sn:return _;case Cn:return A}return t});var fo=xe?Fa:as;function po(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||be)}function mo(e){return e==e&&!Va(e)}function ho(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in me(n)))}}function go(e,t,n){return t=un(void 0===t?e.length-1:t,0),function(){for(var i=arguments,o=-1,a=un(i.length-t,0),u=r(a);++o<a;)u[o]=i[t+o];o=-1;for(var s=r(t+1);++o<t;)s[o]=i[o];return s[t]=n(u),ot(e,this,s)}}function vo(e,t){return t.length<2?e:fr(e,Yr(t,0,-1))}function yo(e,t){for(var n=e.length,r=sn(t.length,n),i=yi(e);r--;){var o=t[r];e[r]=uo(o,n)?i[o]:void 0}return e}function _o(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var bo=So(Hr),xo=Jt||function(e,t){return Ke.setTimeout(e,t)},Ao=So(Vr);function wo(e,t,n){var r=t+"";return Ao(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(X,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return ut(u,(function(n){var r="_."+n[0];t&n[1]&&!dt(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(Q);return t?t[1].split(J):[]}(r),n)))}function So(e){var t=0,n=0;return function(){var r=cn(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function Co(e,t){var n=-1,r=e.length,i=r-1;for(t=void 0===t?r:t;++n<t;){var o=Ur(n,i),a=e[o];e[o]=e[n],e[n]=a}return e.length=t,e}var Bo=function(e){var t=Sa(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(z,(function(e,n,r,i){t.push(r?i.replace(te,"$1"):n||e)})),t}));function Po(e){if("string"==typeof e||Ja(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Io(e){if(null!=e){try{return Ae.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Eo(e){if(e instanceof On)return e.clone();var t=new Dn(e.__wrapped__,e.__chain__);return t.__actions__=yi(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Mo=Gr((function(e,t){return Ua(e)?er(e,ar(t,1,Ua,!0)):[]})),ko=Gr((function(e,t){var n=qo(t);return Ua(n)&&(n=void 0),Ua(e)?er(e,ar(t,1,Ua,!0),Qi(n,2)):[]})),Do=Gr((function(e,t){var n=qo(t);return Ua(n)&&(n=void 0),Ua(e)?er(e,ar(t,1,Ua,!0),void 0,n):[]}));function Oo(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:iu(n);return i<0&&(i=un(r+i,0)),bt(e,Qi(t,3),i)}function No(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r-1;return void 0!==n&&(i=iu(n),i=n<0?un(r+i,0):sn(i,r-1)),bt(e,Qi(t,3),i,!0)}function To(e){return(null==e?0:e.length)?ar(e,1):[]}function Ro(e){return e&&e.length?e[0]:void 0}var Uo=Gr((function(e){var t=pt(e,ai);return t.length&&t[0]===e[0]?yr(t):[]})),Lo=Gr((function(e){var t=qo(e),n=pt(e,ai);return t===qo(n)?t=void 0:n.pop(),n.length&&n[0]===e[0]?yr(n,Qi(t,2)):[]})),Go=Gr((function(e){var t=qo(e),n=pt(e,ai);return(t="function"==typeof t?t:void 0)&&n.pop(),n.length&&n[0]===e[0]?yr(n,void 0,t):[]}));function qo(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}var Fo=Gr(jo);function jo(e,t){return e&&e.length&&t&&t.length?Tr(e,t):e}var Ho=zi((function(e,t){var n=null==e?0:e.length,r=Wn(e,t);return Rr(e,pt(t,(function(e){return uo(e,n)?+e:e})).sort(hi)),r}));function Vo(e){return null==e?e:fn.call(e)}var zo=Gr((function(e){return $r(ar(e,1,Ua,!0))})),Yo=Gr((function(e){var t=qo(e);return Ua(t)&&(t=void 0),$r(ar(e,1,Ua,!0),Qi(t,2))})),Ko=Gr((function(e){var t=qo(e);return t="function"==typeof t?t:void 0,$r(ar(e,1,Ua,!0),void 0,t)}));function Zo(e){if(!e||!e.length)return[];var t=0;return e=lt(e,(function(e){if(Ua(e))return t=un(e.length,t),!0})),Et(t,(function(t){return pt(e,Ct(t))}))}function Wo(e,t){if(!e||!e.length)return[];var n=Zo(e);return null==t?n:pt(n,(function(e){return ot(t,void 0,e)}))}var Xo=Gr((function(e,t){return Ua(e)?er(e,t):[]})),Qo=Gr((function(e){return ii(lt(e,Ua))})),Jo=Gr((function(e){var t=qo(e);return Ua(t)&&(t=void 0),ii(lt(e,Ua),Qi(t,2))})),$o=Gr((function(e){var t=qo(e);return t="function"==typeof t?t:void 0,ii(lt(e,Ua),void 0,t)})),ea=Gr(Zo);var ta=Gr((function(e){var t=e.length,n=t>1?e[t-1]:void 0;return n="function"==typeof n?(e.pop(),n):void 0,Wo(e,n)}));function na(e){var t=En(e);return t.__chain__=!0,t}function ra(e,t){return t(e)}var ia=zi((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,i=function(t){return Wn(t,e)};return!(t>1||this.__actions__.length)&&r instanceof On&&uo(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:ra,args:[i],thisArg:void 0}),new Dn(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(void 0),e}))):this.thru(i)}));var oa=bi((function(e,t,n){we.call(e,n)?++e[n]:Zn(e,n,1)}));var aa=Pi(Oo),ua=Pi(No);function sa(e,t){return(Na(e)?ut:tr)(e,Qi(t,3))}function ca(e,t){return(Na(e)?st:nr)(e,Qi(t,3))}var la=bi((function(e,t,n){we.call(e,n)?e[n].push(t):Zn(e,n,[t])}));var da=Gr((function(e,t,n){var i=-1,o="function"==typeof t,a=Ra(e)?r(e.length):[];return tr(e,(function(e){a[++i]=o?ot(t,e,n):_r(e,t,n)})),a})),fa=bi((function(e,t,n){Zn(e,n,t)}));function pa(e,t){return(Na(e)?pt:Ir)(e,Qi(t,3))}var ma=bi((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var ha=Gr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&so(e,t[0],t[1])?t=[]:n>2&&so(t[0],t[1],t[2])&&(t=[t[0]]),Or(e,ar(t,1),[])})),ga=Qt||function(){return Ke.Date.now()};function va(e,t,n){return t=n?void 0:t,qi(e,128,void 0,void 0,void 0,void 0,t=e&&null==t?e.length:t)}function ya(e,t){var n;if("function"!=typeof t)throw new ve(o);return e=iu(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=void 0),n}}var _a=Gr((function(e,t,n){var r=1;if(n.length){var i=Ht(n,Xi(_a));r|=32}return qi(e,r,t,n,i)})),ba=Gr((function(e,t,n){var r=3;if(n.length){var i=Ht(n,Xi(ba));r|=32}return qi(t,r,e,n,i)}));function xa(e,t,n){var r,i,a,u,s,c,l=0,d=!1,f=!1,p=!0;if("function"!=typeof e)throw new ve(o);function m(t){var n=r,o=i;return r=i=void 0,l=t,u=e.apply(o,n)}function h(e){return l=e,s=xo(v,t),d?m(e):u}function g(e){var n=e-c;return void 0===c||n>=t||n<0||f&&e-l>=a}function v(){var e=ga();if(g(e))return y(e);s=xo(v,function(e){var n=t-(e-c);return f?sn(n,a-(e-l)):n}(e))}function y(e){return s=void 0,p&&r?m(e):(r=i=void 0,u)}function _(){var e=ga(),n=g(e);if(r=arguments,i=this,c=e,n){if(void 0===s)return h(c);if(f)return di(s),s=xo(v,t),m(c)}return void 0===s&&(s=xo(v,t)),u}return t=au(t)||0,Va(n)&&(d=!!n.leading,a=(f="maxWait"in n)?un(au(n.maxWait)||0,t):a,p="trailing"in n?!!n.trailing:p),_.cancel=function(){void 0!==s&&di(s),l=0,r=c=i=s=void 0},_.flush=function(){return void 0===s?u:y(ga())},_}var Aa=Gr((function(e,t){return $n(e,1,t)})),wa=Gr((function(e,t,n){return $n(e,au(t)||0,n)}));function Sa(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new ve(o);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(Sa.Cache||Rn),n}function Ca(e){if("function"!=typeof e)throw new ve(o);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Sa.Cache=Rn;var Ba=ci((function(e,t){var n=(t=1==t.length&&Na(t[0])?pt(t[0],kt(Qi())):pt(ar(t,1),kt(Qi()))).length;return Gr((function(r){for(var i=-1,o=sn(r.length,n);++i<o;)r[i]=t[i].call(this,r[i]);return ot(e,this,r)}))})),Pa=Gr((function(e,t){return qi(e,32,void 0,t,Ht(t,Xi(Pa)))})),Ia=Gr((function(e,t){return qi(e,64,void 0,t,Ht(t,Xi(Ia)))})),Ea=zi((function(e,t){return qi(e,256,void 0,void 0,void 0,t)}));function Ma(e,t){return e===t||e!=e&&t!=t}var ka=Ti(hr),Da=Ti((function(e,t){return e>=t})),Oa=br(function(){return arguments}())?br:function(e){return za(e)&&we.call(e,"callee")&&!Ye.call(e,"callee")},Na=r.isArray,Ta=$e?kt($e):function(e){return za(e)&&mr(e)==w};function Ra(e){return null!=e&&Ha(e.length)&&!Fa(e)}function Ua(e){return za(e)&&Ra(e)}var La=nn||as,Ga=et?kt(et):function(e){return za(e)&&mr(e)==d};function qa(e){if(!za(e))return!1;var t=mr(e);return t==f||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!Za(e)}function Fa(e){if(!Va(e))return!1;var t=mr(e);return t==p||t==m||"[object AsyncFunction]"==t||"[object Proxy]"==t}function ja(e){return"number"==typeof e&&e==iu(e)}function Ha(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function Va(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function za(e){return null!=e&&"object"==typeof e}var Ya=tt?kt(tt):function(e){return za(e)&&ro(e)==h};function Ka(e){return"number"==typeof e||za(e)&&mr(e)==g}function Za(e){if(!za(e)||mr(e)!=v)return!1;var t=je(e);if(null===t)return!0;var n=we.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Ae.call(n)==Pe}var Wa=nt?kt(nt):function(e){return za(e)&&mr(e)==y};var Xa=rt?kt(rt):function(e){return za(e)&&ro(e)==_};function Qa(e){return"string"==typeof e||!Na(e)&&za(e)&&mr(e)==b}function Ja(e){return"symbol"==typeof e||za(e)&&mr(e)==x}var $a=it?kt(it):function(e){return za(e)&&Ha(e.length)&&!!qe[mr(e)]};var eu=Ti(Pr),tu=Ti((function(e,t){return e<=t}));function nu(e){if(!e)return[];if(Ra(e))return Qa(e)?Kt(e):yi(e);if(Qe&&e[Qe])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Qe]());var t=ro(e);return(t==h?Ft:t==_?Vt:Mu)(e)}function ru(e){return e?(e=au(e))===1/0||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function iu(e){var t=ru(e),n=t%1;return t==t?n?t-n:t:0}function ou(e){return e?Xn(iu(e),0,4294967295):0}function au(e){if("number"==typeof e)return e;if(Ja(e))return NaN;if(Va(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Va(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Mt(e);var n=oe.test(e);return n||ue.test(e)?Ve(e.slice(2),n?2:8):ie.test(e)?NaN:+e}function uu(e){return _i(e,Au(e))}function su(e){return null==e?"":Jr(e)}var cu=xi((function(e,t){if(po(t)||Ra(t))_i(t,xu(t),e);else for(var n in t)we.call(t,n)&&Vn(e,n,t[n])})),lu=xi((function(e,t){_i(t,Au(t),e)})),du=xi((function(e,t,n,r){_i(t,Au(t),e,r)})),fu=xi((function(e,t,n,r){_i(t,xu(t),e,r)})),pu=zi(Wn);var mu=Gr((function(e,t){e=me(e);var n=-1,r=t.length,i=r>2?t[2]:void 0;for(i&&so(t[0],t[1],i)&&(r=1);++n<r;)for(var o=t[n],a=Au(o),u=-1,s=a.length;++u<s;){var c=a[u],l=e[c];(void 0===l||Ma(l,be[c])&&!we.call(e,c))&&(e[c]=o[c])}return e})),hu=Gr((function(e){return e.push(void 0,ji),ot(Su,void 0,e)}));function gu(e,t,n){var r=null==e?void 0:fr(e,t);return void 0===r?n:r}function vu(e,t){return null!=e&&io(e,t,vr)}var yu=Mi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Be.call(t)),e[t]=n}),Vu(Ku)),_u=Mi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Be.call(t)),we.call(e,t)?e[t].push(n):e[t]=[n]}),Qi),bu=Gr(_r);function xu(e){return Ra(e)?Gn(e):Cr(e)}function Au(e){return Ra(e)?Gn(e,!0):Br(e)}var wu=xi((function(e,t,n){kr(e,t,n)})),Su=xi((function(e,t,n,r){kr(e,t,n,r)})),Cu=zi((function(e,t){var n={};if(null==e)return n;var r=!1;t=pt(t,(function(t){return t=si(t,e),r||(r=t.length>1),t})),_i(e,Ki(e),n),r&&(n=Qn(n,7,Hi));for(var i=t.length;i--;)ei(n,t[i]);return n}));var Bu=zi((function(e,t){return null==e?{}:function(e,t){return Nr(e,t,(function(t,n){return vu(e,n)}))}(e,t)}));function Pu(e,t){if(null==e)return{};var n=pt(Ki(e),(function(e){return[e]}));return t=Qi(t),Nr(e,n,(function(e,n){return t(e,n[0])}))}var Iu=Gi(xu),Eu=Gi(Au);function Mu(e){return null==e?[]:Dt(e,xu(e))}var ku=Ci((function(e,t,n){return t=t.toLowerCase(),e+(n?Du(t):t)}));function Du(e){return qu(su(e).toLowerCase())}function Ou(e){return(e=su(e))&&e.replace(ce,Ut).replace(Oe,"")}var Nu=Ci((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Tu=Ci((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Ru=Si("toLowerCase");var Uu=Ci((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var Lu=Ci((function(e,t,n){return e+(n?" ":"")+qu(t)}));var Gu=Ci((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),qu=Si("toUpperCase");function Fu(e,t,n){return e=su(e),void 0===(t=n?void 0:t)?function(e){return Ue.test(e)}(e)?function(e){return e.match(Te)||[]}(e):function(e){return e.match($)||[]}(e):e.match(t)||[]}var ju=Gr((function(e,t){try{return ot(e,void 0,t)}catch(e){return qa(e)?e:new W(e)}})),Hu=zi((function(e,t){return ut(t,(function(t){t=Po(t),Zn(e,t,_a(e[t],e))})),e}));function Vu(e){return function(){return e}}var zu=Ii(),Yu=Ii(!0);function Ku(e){return e}function Zu(e){return Sr("function"==typeof e?e:Qn(e,1))}var Wu=Gr((function(e,t){return function(n){return _r(n,e,t)}})),Xu=Gr((function(e,t){return function(n){return _r(e,n,t)}}));function Qu(e,t,n){var r=xu(t),i=dr(t,r);null!=n||Va(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=dr(t,xu(t)));var o=!(Va(n)&&"chain"in n&&!n.chain),a=Fa(e);return ut(i,(function(n){var r=t[n];e[n]=r,a&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__),i=n.__actions__=yi(this.__actions__);return i.push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,mt([this.value()],arguments))})})),e}function Ju(){}var $u=Di(pt),es=Di(ct),ts=Di(vt);function ns(e){return co(e)?Ct(Po(e)):function(e){return function(t){return fr(t,e)}}(e)}var rs=Ni(),is=Ni(!0);function os(){return[]}function as(){return!1}var us=ki((function(e,t){return e+t}),0),ss=Ui("ceil"),cs=ki((function(e,t){return e/t}),1),ls=Ui("floor");var ds,fs=ki((function(e,t){return e*t}),1),ps=Ui("round"),ms=ki((function(e,t){return e-t}),0);return En.after=function(e,t){if("function"!=typeof t)throw new ve(o);return e=iu(e),function(){if(--e<1)return t.apply(this,arguments)}},En.ary=va,En.assign=cu,En.assignIn=lu,En.assignInWith=du,En.assignWith=fu,En.at=pu,En.before=ya,En.bind=_a,En.bindAll=Hu,En.bindKey=ba,En.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Na(e)?e:[e]},En.chain=na,En.chunk=function(e,t,n){t=(n?so(e,t,n):void 0===t)?1:un(iu(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];for(var o=0,a=0,u=r($t(i/t));o<i;)u[a++]=Yr(e,o,o+=t);return u},En.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i},En.concat=function(){var e=arguments.length;if(!e)return[];for(var t=r(e-1),n=arguments[0],i=e;i--;)t[i-1]=arguments[i];return mt(Na(n)?yi(n):[n],ar(t,1))},En.cond=function(e){var t=null==e?0:e.length,n=Qi();return e=t?pt(e,(function(e){if("function"!=typeof e[1])throw new ve(o);return[n(e[0]),e[1]]})):[],Gr((function(n){for(var r=-1;++r<t;){var i=e[r];if(ot(i[0],this,n))return ot(i[1],this,n)}}))},En.conforms=function(e){return function(e){var t=xu(e);return function(n){return Jn(n,e,t)}}(Qn(e,1))},En.constant=Vu,En.countBy=oa,En.create=function(e,t){var n=Mn(e);return null==t?n:Kn(n,t)},En.curry=function e(t,n,r){var i=qi(t,8,void 0,void 0,void 0,void 0,void 0,n=r?void 0:n);return i.placeholder=e.placeholder,i},En.curryRight=function e(t,n,r){var i=qi(t,16,void 0,void 0,void 0,void 0,void 0,n=r?void 0:n);return i.placeholder=e.placeholder,i},En.debounce=xa,En.defaults=mu,En.defaultsDeep=hu,En.defer=Aa,En.delay=wa,En.difference=Mo,En.differenceBy=ko,En.differenceWith=Do,En.drop=function(e,t,n){var r=null==e?0:e.length;return r?Yr(e,(t=n||void 0===t?1:iu(t))<0?0:t,r):[]},En.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?Yr(e,0,(t=r-(t=n||void 0===t?1:iu(t)))<0?0:t):[]},En.dropRightWhile=function(e,t){return e&&e.length?ni(e,Qi(t,3),!0,!0):[]},En.dropWhile=function(e,t){return e&&e.length?ni(e,Qi(t,3),!0):[]},En.fill=function(e,t,n,r){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&so(e,t,n)&&(n=0,r=i),function(e,t,n,r){var i=e.length;for((n=iu(n))<0&&(n=-n>i?0:i+n),(r=void 0===r||r>i?i:iu(r))<0&&(r+=i),r=n>r?0:ou(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},En.filter=function(e,t){return(Na(e)?lt:or)(e,Qi(t,3))},En.flatMap=function(e,t){return ar(pa(e,t),1)},En.flatMapDeep=function(e,t){return ar(pa(e,t),1/0)},En.flatMapDepth=function(e,t,n){return n=void 0===n?1:iu(n),ar(pa(e,t),n)},En.flatten=To,En.flattenDeep=function(e){return(null==e?0:e.length)?ar(e,1/0):[]},En.flattenDepth=function(e,t){return(null==e?0:e.length)?ar(e,t=void 0===t?1:iu(t)):[]},En.flip=function(e){return qi(e,512)},En.flow=zu,En.flowRight=Yu,En.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},En.functions=function(e){return null==e?[]:dr(e,xu(e))},En.functionsIn=function(e){return null==e?[]:dr(e,Au(e))},En.groupBy=la,En.initial=function(e){return(null==e?0:e.length)?Yr(e,0,-1):[]},En.intersection=Uo,En.intersectionBy=Lo,En.intersectionWith=Go,En.invert=yu,En.invertBy=_u,En.invokeMap=da,En.iteratee=Zu,En.keyBy=fa,En.keys=xu,En.keysIn=Au,En.map=pa,En.mapKeys=function(e,t){var n={};return t=Qi(t,3),cr(e,(function(e,r,i){Zn(n,t(e,r,i),e)})),n},En.mapValues=function(e,t){var n={};return t=Qi(t,3),cr(e,(function(e,r,i){Zn(n,r,t(e,r,i))})),n},En.matches=function(e){return Er(Qn(e,1))},En.matchesProperty=function(e,t){return Mr(e,Qn(t,1))},En.memoize=Sa,En.merge=wu,En.mergeWith=Su,En.method=Wu,En.methodOf=Xu,En.mixin=Qu,En.negate=Ca,En.nthArg=function(e){return e=iu(e),Gr((function(t){return Dr(t,e)}))},En.omit=Cu,En.omitBy=function(e,t){return Pu(e,Ca(Qi(t)))},En.once=function(e){return ya(2,e)},En.orderBy=function(e,t,n,r){return null==e?[]:(Na(t)||(t=null==t?[]:[t]),Na(n=r?void 0:n)||(n=null==n?[]:[n]),Or(e,t,n))},En.over=$u,En.overArgs=Ba,En.overEvery=es,En.overSome=ts,En.partial=Pa,En.partialRight=Ia,En.partition=ma,En.pick=Bu,En.pickBy=Pu,En.property=ns,En.propertyOf=function(e){return function(t){return null==e?void 0:fr(e,t)}},En.pull=Fo,En.pullAll=jo,En.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Tr(e,t,Qi(n,2)):e},En.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Tr(e,t,void 0,n):e},En.pullAt=Ho,En.range=rs,En.rangeRight=is,En.rearg=Ea,En.reject=function(e,t){return(Na(e)?lt:or)(e,Ca(Qi(t,3)))},En.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],o=e.length;for(t=Qi(t,3);++r<o;){var a=e[r];t(a,r,e)&&(n.push(a),i.push(r))}return Rr(e,i),n},En.rest=function(e,t){if("function"!=typeof e)throw new ve(o);return Gr(e,t=void 0===t?t:iu(t))},En.reverse=Vo,En.sampleSize=function(e,t,n){return t=(n?so(e,t,n):void 0===t)?1:iu(t),(Na(e)?Fn:Fr)(e,t)},En.set=function(e,t,n){return null==e?e:jr(e,t,n)},En.setWith=function(e,t,n,r){return r="function"==typeof r?r:void 0,null==e?e:jr(e,t,n,r)},En.shuffle=function(e){return(Na(e)?jn:zr)(e)},En.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&so(e,t,n)?(t=0,n=r):(t=null==t?0:iu(t),n=void 0===n?r:iu(n)),Yr(e,t,n)):[]},En.sortBy=ha,En.sortedUniq=function(e){return e&&e.length?Xr(e):[]},En.sortedUniqBy=function(e,t){return e&&e.length?Xr(e,Qi(t,2)):[]},En.split=function(e,t,n){return n&&"number"!=typeof n&&so(e,t,n)&&(t=n=void 0),(n=void 0===n?4294967295:n>>>0)?(e=su(e))&&("string"==typeof t||null!=t&&!Wa(t))&&!(t=Jr(t))&&qt(e)?li(Kt(e),0,n):e.split(t,n):[]},En.spread=function(e,t){if("function"!=typeof e)throw new ve(o);return t=null==t?0:un(iu(t),0),Gr((function(n){var r=n[t],i=li(n,0,t);return r&&mt(i,r),ot(e,this,i)}))},En.tail=function(e){var t=null==e?0:e.length;return t?Yr(e,1,t):[]},En.take=function(e,t,n){return e&&e.length?Yr(e,0,(t=n||void 0===t?1:iu(t))<0?0:t):[]},En.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?Yr(e,(t=r-(t=n||void 0===t?1:iu(t)))<0?0:t,r):[]},En.takeRightWhile=function(e,t){return e&&e.length?ni(e,Qi(t,3),!1,!0):[]},En.takeWhile=function(e,t){return e&&e.length?ni(e,Qi(t,3)):[]},En.tap=function(e,t){return t(e),e},En.throttle=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new ve(o);return Va(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),xa(e,t,{leading:r,maxWait:t,trailing:i})},En.thru=ra,En.toArray=nu,En.toPairs=Iu,En.toPairsIn=Eu,En.toPath=function(e){return Na(e)?pt(e,Po):Ja(e)?[e]:yi(Bo(su(e)))},En.toPlainObject=uu,En.transform=function(e,t,n){var r=Na(e),i=r||La(e)||$a(e);if(t=Qi(t,4),null==n){var o=e&&e.constructor;n=i?r?new o:[]:Va(e)&&Fa(o)?Mn(je(e)):{}}return(i?ut:cr)(e,(function(e,r,i){return t(n,e,r,i)})),n},En.unary=function(e){return va(e,1)},En.union=zo,En.unionBy=Yo,En.unionWith=Ko,En.uniq=function(e){return e&&e.length?$r(e):[]},En.uniqBy=function(e,t){return e&&e.length?$r(e,Qi(t,2)):[]},En.uniqWith=function(e,t){return t="function"==typeof t?t:void 0,e&&e.length?$r(e,void 0,t):[]},En.unset=function(e,t){return null==e||ei(e,t)},En.unzip=Zo,En.unzipWith=Wo,En.update=function(e,t,n){return null==e?e:ti(e,t,ui(n))},En.updateWith=function(e,t,n,r){return r="function"==typeof r?r:void 0,null==e?e:ti(e,t,ui(n),r)},En.values=Mu,En.valuesIn=function(e){return null==e?[]:Dt(e,Au(e))},En.without=Xo,En.words=Fu,En.wrap=function(e,t){return Pa(ui(t),e)},En.xor=Qo,En.xorBy=Jo,En.xorWith=$o,En.zip=ea,En.zipObject=function(e,t){return oi(e||[],t||[],Vn)},En.zipObjectDeep=function(e,t){return oi(e||[],t||[],jr)},En.zipWith=ta,En.entries=Iu,En.entriesIn=Eu,En.extend=lu,En.extendWith=du,Qu(En,En),En.add=us,En.attempt=ju,En.camelCase=ku,En.capitalize=Du,En.ceil=ss,En.clamp=function(e,t,n){return void 0===n&&(n=t,t=void 0),void 0!==n&&(n=(n=au(n))==n?n:0),void 0!==t&&(t=(t=au(t))==t?t:0),Xn(au(e),t,n)},En.clone=function(e){return Qn(e,4)},En.cloneDeep=function(e){return Qn(e,5)},En.cloneDeepWith=function(e,t){return Qn(e,5,t="function"==typeof t?t:void 0)},En.cloneWith=function(e,t){return Qn(e,4,t="function"==typeof t?t:void 0)},En.conformsTo=function(e,t){return null==t||Jn(e,t,xu(t))},En.deburr=Ou,En.defaultTo=function(e,t){return null==e||e!=e?t:e},En.divide=cs,En.endsWith=function(e,t,n){e=su(e),t=Jr(t);var r=e.length,i=n=void 0===n?r:Xn(iu(n),0,r);return(n-=t.length)>=0&&e.slice(n,i)==t},En.eq=Ma,En.escape=function(e){return(e=su(e))&&G.test(e)?e.replace(U,Lt):e},En.escapeRegExp=function(e){return(e=su(e))&&K.test(e)?e.replace(Y,"\\$&"):e},En.every=function(e,t,n){var r=Na(e)?ct:rr;return n&&so(e,t,n)&&(t=void 0),r(e,Qi(t,3))},En.find=aa,En.findIndex=Oo,En.findKey=function(e,t){return _t(e,Qi(t,3),cr)},En.findLast=ua,En.findLastIndex=No,En.findLastKey=function(e,t){return _t(e,Qi(t,3),lr)},En.floor=ls,En.forEach=sa,En.forEachRight=ca,En.forIn=function(e,t){return null==e?e:ur(e,Qi(t,3),Au)},En.forInRight=function(e,t){return null==e?e:sr(e,Qi(t,3),Au)},En.forOwn=function(e,t){return e&&cr(e,Qi(t,3))},En.forOwnRight=function(e,t){return e&&lr(e,Qi(t,3))},En.get=gu,En.gt=ka,En.gte=Da,En.has=function(e,t){return null!=e&&io(e,t,gr)},En.hasIn=vu,En.head=Ro,En.identity=Ku,En.includes=function(e,t,n,r){e=Ra(e)?e:Mu(e),n=n&&!r?iu(n):0;var i=e.length;return n<0&&(n=un(i+n,0)),Qa(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&xt(e,t,n)>-1},En.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:iu(n);return i<0&&(i=un(r+i,0)),xt(e,t,i)},En.inRange=function(e,t,n){return t=ru(t),void 0===n?(n=t,t=0):n=ru(n),function(e,t,n){return e>=sn(t,n)&&e<un(t,n)}(e=au(e),t,n)},En.invoke=bu,En.isArguments=Oa,En.isArray=Na,En.isArrayBuffer=Ta,En.isArrayLike=Ra,En.isArrayLikeObject=Ua,En.isBoolean=function(e){return!0===e||!1===e||za(e)&&mr(e)==l},En.isBuffer=La,En.isDate=Ga,En.isElement=function(e){return za(e)&&1===e.nodeType&&!Za(e)},En.isEmpty=function(e){if(null==e)return!0;if(Ra(e)&&(Na(e)||"string"==typeof e||"function"==typeof e.splice||La(e)||$a(e)||Oa(e)))return!e.length;var t=ro(e);if(t==h||t==_)return!e.size;if(po(e))return!Cr(e).length;for(var n in e)if(we.call(e,n))return!1;return!0},En.isEqual=function(e,t){return xr(e,t)},En.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:void 0)?n(e,t):void 0;return void 0===r?xr(e,t,void 0,n):!!r},En.isError=qa,En.isFinite=function(e){return"number"==typeof e&&rn(e)},En.isFunction=Fa,En.isInteger=ja,En.isLength=Ha,En.isMap=Ya,En.isMatch=function(e,t){return e===t||Ar(e,t,$i(t))},En.isMatchWith=function(e,t,n){return n="function"==typeof n?n:void 0,Ar(e,t,$i(t),n)},En.isNaN=function(e){return Ka(e)&&e!=+e},En.isNative=function(e){if(fo(e))throw new W("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return wr(e)},En.isNil=function(e){return null==e},En.isNull=function(e){return null===e},En.isNumber=Ka,En.isObject=Va,En.isObjectLike=za,En.isPlainObject=Za,En.isRegExp=Wa,En.isSafeInteger=function(e){return ja(e)&&e>=-9007199254740991&&e<=9007199254740991},En.isSet=Xa,En.isString=Qa,En.isSymbol=Ja,En.isTypedArray=$a,En.isUndefined=function(e){return void 0===e},En.isWeakMap=function(e){return za(e)&&ro(e)==A},En.isWeakSet=function(e){return za(e)&&"[object WeakSet]"==mr(e)},En.join=function(e,t){return null==e?"":on.call(e,t)},En.kebabCase=Nu,En.last=qo,En.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r;return void 0!==n&&(i=(i=iu(n))<0?un(r+i,0):sn(i,r-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,i):bt(e,wt,i,!0)},En.lowerCase=Tu,En.lowerFirst=Ru,En.lt=eu,En.lte=tu,En.max=function(e){return e&&e.length?ir(e,Ku,hr):void 0},En.maxBy=function(e,t){return e&&e.length?ir(e,Qi(t,2),hr):void 0},En.mean=function(e){return St(e,Ku)},En.meanBy=function(e,t){return St(e,Qi(t,2))},En.min=function(e){return e&&e.length?ir(e,Ku,Pr):void 0},En.minBy=function(e,t){return e&&e.length?ir(e,Qi(t,2),Pr):void 0},En.stubArray=os,En.stubFalse=as,En.stubObject=function(){return{}},En.stubString=function(){return""},En.stubTrue=function(){return!0},En.multiply=fs,En.nth=function(e,t){return e&&e.length?Dr(e,iu(t)):void 0},En.noConflict=function(){return Ke._===this&&(Ke._=Ie),this},En.noop=Ju,En.now=ga,En.pad=function(e,t,n){e=su(e);var r=(t=iu(t))?Yt(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return Oi(en(i),n)+e+Oi($t(i),n)},En.padEnd=function(e,t,n){e=su(e);var r=(t=iu(t))?Yt(e):0;return t&&r<t?e+Oi(t-r,n):e},En.padStart=function(e,t,n){e=su(e);var r=(t=iu(t))?Yt(e):0;return t&&r<t?Oi(t-r,n)+e:e},En.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),ln(su(e).replace(Z,""),t||0)},En.random=function(e,t,n){if(n&&"boolean"!=typeof n&&so(e,t,n)&&(t=n=void 0),void 0===n&&("boolean"==typeof t?(n=t,t=void 0):"boolean"==typeof e&&(n=e,e=void 0)),void 0===e&&void 0===t?(e=0,t=1):(e=ru(e),void 0===t?(t=e,e=0):t=ru(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var i=dn();return sn(e+i*(t-e+He("1e-"+((i+"").length-1))),t)}return Ur(e,t)},En.reduce=function(e,t,n){var r=Na(e)?ht:Pt,i=arguments.length<3;return r(e,Qi(t,4),n,i,tr)},En.reduceRight=function(e,t,n){var r=Na(e)?gt:Pt,i=arguments.length<3;return r(e,Qi(t,4),n,i,nr)},En.repeat=function(e,t,n){return t=(n?so(e,t,n):void 0===t)?1:iu(t),Lr(su(e),t)},En.replace=function(){var e=arguments,t=su(e[0]);return e.length<3?t:t.replace(e[1],e[2])},En.result=function(e,t,n){var r=-1,i=(t=si(t,e)).length;for(i||(i=1,e=void 0);++r<i;){var o=null==e?void 0:e[Po(t[r])];void 0===o&&(r=i,o=n),e=Fa(o)?o.call(e):o}return e},En.round=ps,En.runInContext=e,En.sample=function(e){return(Na(e)?qn:qr)(e)},En.size=function(e){if(null==e)return 0;if(Ra(e))return Qa(e)?Yt(e):e.length;var t=ro(e);return t==h||t==_?e.size:Cr(e).length},En.snakeCase=Uu,En.some=function(e,t,n){var r=Na(e)?vt:Kr;return n&&so(e,t,n)&&(t=void 0),r(e,Qi(t,3))},En.sortedIndex=function(e,t){return Zr(e,t)},En.sortedIndexBy=function(e,t,n){return Wr(e,t,Qi(n,2))},En.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=Zr(e,t);if(r<n&&Ma(e[r],t))return r}return-1},En.sortedLastIndex=function(e,t){return Zr(e,t,!0)},En.sortedLastIndexBy=function(e,t,n){return Wr(e,t,Qi(n,2),!0)},En.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=Zr(e,t,!0)-1;if(Ma(e[n],t))return n}return-1},En.startCase=Lu,En.startsWith=function(e,t,n){return e=su(e),n=null==n?0:Xn(iu(n),0,e.length),t=Jr(t),e.slice(n,n+t.length)==t},En.subtract=ms,En.sum=function(e){return e&&e.length?It(e,Ku):0},En.sumBy=function(e,t){return e&&e.length?It(e,Qi(t,2)):0},En.template=function(e,t,n){var r=En.templateSettings;n&&so(e,t,n)&&(t=void 0),e=su(e),t=du({},t,r,Fi);var i,o,a=du({},t.imports,r.imports,Fi),u=xu(a),s=Dt(a,u),c=0,l=t.interpolate||le,d="__p += '",f=he((t.escape||le).source+"|"+l.source+"|"+(l===j?ne:le).source+"|"+(t.evaluate||le).source+"|$","g"),p="//# sourceURL="+(we.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Ge+"]")+"\n";e.replace(f,(function(t,n,r,a,u,s){return r||(r=a),d+=e.slice(c,s).replace(de,Gt),n&&(i=!0,d+="' +\n__e("+n+") +\n'"),u&&(o=!0,d+="';\n"+u+";\n__p += '"),r&&(d+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=s+t.length,t})),d+="';\n";var m=we.call(t,"variable")&&t.variable;if(m){if(ee.test(m))throw new W("Invalid `variable` option passed into `_.template`")}else d="with (obj) {\n"+d+"\n}\n";d=(o?d.replace(O,""):d).replace(N,"$1").replace(T,"$1;"),d="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var h=ju((function(){return fe(u,p+"return "+d).apply(void 0,s)}));if(h.source=d,qa(h))throw h;return h},En.times=function(e,t){if((e=iu(e))<1||e>9007199254740991)return[];var n=4294967295,r=sn(e,4294967295);e-=4294967295;for(var i=Et(r,t=Qi(t));++n<e;)t(n);return i},En.toFinite=ru,En.toInteger=iu,En.toLength=ou,En.toLower=function(e){return su(e).toLowerCase()},En.toNumber=au,En.toSafeInteger=function(e){return e?Xn(iu(e),-9007199254740991,9007199254740991):0===e?e:0},En.toString=su,En.toUpper=function(e){return su(e).toUpperCase()},En.trim=function(e,t,n){if((e=su(e))&&(n||void 0===t))return Mt(e);if(!e||!(t=Jr(t)))return e;var r=Kt(e),i=Kt(t);return li(r,Nt(r,i),Tt(r,i)+1).join("")},En.trimEnd=function(e,t,n){if((e=su(e))&&(n||void 0===t))return e.slice(0,Zt(e)+1);if(!e||!(t=Jr(t)))return e;var r=Kt(e);return li(r,0,Tt(r,Kt(t))+1).join("")},En.trimStart=function(e,t,n){if((e=su(e))&&(n||void 0===t))return e.replace(Z,"");if(!e||!(t=Jr(t)))return e;var r=Kt(e);return li(r,Nt(r,Kt(t))).join("")},En.truncate=function(e,t){var n=30,r="...";if(Va(t)){var i="separator"in t?t.separator:i;n="length"in t?iu(t.length):n,r="omission"in t?Jr(t.omission):r}var o=(e=su(e)).length;if(qt(e)){var a=Kt(e);o=a.length}if(n>=o)return e;var u=n-Yt(r);if(u<1)return r;var s=a?li(a,0,u).join(""):e.slice(0,u);if(void 0===i)return s+r;if(a&&(u+=s.length-u),Wa(i)){if(e.slice(u).search(i)){var c,l=s;for(i.global||(i=he(i.source,su(re.exec(i))+"g")),i.lastIndex=0;c=i.exec(l);)var d=c.index;s=s.slice(0,void 0===d?u:d)}}else if(e.indexOf(Jr(i),u)!=u){var f=s.lastIndexOf(i);f>-1&&(s=s.slice(0,f))}return s+r},En.unescape=function(e){return(e=su(e))&&L.test(e)?e.replace(R,Wt):e},En.uniqueId=function(e){var t=++Se;return su(e)+t},En.upperCase=Gu,En.upperFirst=qu,En.each=sa,En.eachRight=ca,En.first=Ro,Qu(En,(ds={},cr(En,(function(e,t){we.call(En.prototype,t)||(ds[t]=e)})),ds),{chain:!1}),En.VERSION="4.17.21",ut(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){En[e].placeholder=En})),ut(["drop","take"],(function(e,t){On.prototype[e]=function(n){n=void 0===n?1:un(iu(n),0);var r=this.__filtered__&&!t?new On(this):this.clone();return r.__filtered__?r.__takeCount__=sn(n,r.__takeCount__):r.__views__.push({size:sn(n,4294967295),type:e+(r.__dir__<0?"Right":"")}),r},On.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),ut(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;On.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:Qi(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),ut(["head","last"],(function(e,t){var n="take"+(t?"Right":"");On.prototype[e]=function(){return this[n](1).value()[0]}})),ut(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");On.prototype[e]=function(){return this.__filtered__?new On(this):this[n](1)}})),On.prototype.compact=function(){return this.filter(Ku)},On.prototype.find=function(e){return this.filter(e).head()},On.prototype.findLast=function(e){return this.reverse().find(e)},On.prototype.invokeMap=Gr((function(e,t){return"function"==typeof e?new On(this):this.map((function(n){return _r(n,e,t)}))})),On.prototype.reject=function(e){return this.filter(Ca(Qi(e)))},On.prototype.slice=function(e,t){e=iu(e);var n=this;return n.__filtered__&&(e>0||t<0)?new On(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),void 0!==t&&(n=(t=iu(t))<0?n.dropRight(-t):n.take(t-e)),n)},On.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},On.prototype.toArray=function(){return this.take(4294967295)},cr(On.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),i=En[r?"take"+("last"==t?"Right":""):t],o=r||/^find/.test(t);i&&(En.prototype[t]=function(){var t=this.__wrapped__,a=r?[1]:arguments,u=t instanceof On,s=a[0],c=u||Na(t),l=function(e){var t=i.apply(En,mt([e],a));return r&&d?t[0]:t};c&&n&&"function"==typeof s&&1!=s.length&&(u=c=!1);var d=this.__chain__,f=!!this.__actions__.length,p=o&&!d,m=u&&!f;if(!o&&c){t=m?t:new On(this);var h=e.apply(t,a);return h.__actions__.push({func:ra,args:[l],thisArg:void 0}),new Dn(h,d)}return p&&m?e.apply(this,a):(h=this.thru(l),p?r?h.value()[0]:h.value():h)})})),ut(["pop","push","shift","sort","splice","unshift"],(function(e){var t=ye[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);En.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(Na(i)?i:[],e)}return this[n]((function(n){return t.apply(Na(n)?n:[],e)}))}})),cr(On.prototype,(function(e,t){var n=En[t];if(n){var r=n.name+"";we.call(bn,r)||(bn[r]=[]),bn[r].push({name:t,func:n})}})),bn[Ei(void 0,2).name]=[{name:"wrapper",func:void 0}],On.prototype.clone=function(){var e=new On(this.__wrapped__);return e.__actions__=yi(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=yi(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=yi(this.__views__),e},On.prototype.reverse=function(){if(this.__filtered__){var e=new On(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},On.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Na(e),r=t<0,i=n?e.length:0,o=function(e,t,n){var r=-1,i=n.length;for(;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=sn(t,e+a);break;case"takeRight":e=un(e,t-a)}}return{start:e,end:t}}(0,i,this.__views__),a=o.start,u=o.end,s=u-a,c=r?u:a-1,l=this.__iteratees__,d=l.length,f=0,p=sn(s,this.__takeCount__);if(!n||!r&&i==s&&p==s)return ri(e,this.__actions__);var m=[];e:for(;s--&&f<p;){for(var h=-1,g=e[c+=t];++h<d;){var v=l[h],y=v.iteratee,_=v.type,b=y(g);if(2==_)g=b;else if(!b){if(1==_)continue e;break e}}m[f++]=g}return m},En.prototype.at=ia,En.prototype.chain=function(){return na(this)},En.prototype.commit=function(){return new Dn(this.value(),this.__chain__)},En.prototype.next=function(){void 0===this.__values__&&(this.__values__=nu(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?void 0:this.__values__[this.__index__++]}},En.prototype.plant=function(e){for(var t,n=this;n instanceof kn;){var r=Eo(n);r.__index__=0,r.__values__=void 0,t?i.__wrapped__=r:t=r;var i=r;n=n.__wrapped__}return i.__wrapped__=e,t},En.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof On){var t=e;return this.__actions__.length&&(t=new On(this)),(t=t.reverse()).__actions__.push({func:ra,args:[Vo],thisArg:void 0}),new Dn(t,this.__chain__)}return this.thru(Vo)},En.prototype.toJSON=En.prototype.valueOf=En.prototype.value=function(){return ri(this.__wrapped__,this.__actions__)},En.prototype.first=En.prototype.head,Qe&&(En.prototype[Qe]=function(){return this}),En}();Ke._=Xt,void 0===(i=function(){return Xt}.call(t,n,t,r))||(r.exports=i)}).call(this)}).call(this,n(6),n(18)(e))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var s,c=[],l=!1,d=-1;function f(){l&&s&&(l=!1,s.length?c=s.concat(c):d=-1,c.length&&p())}function p(){if(!l){var e=u(f);l=!0;for(var t=c.length;t;){for(s=c,c=[];++d<t;)s&&s[d].run();d=-1,t=c.length}s=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function h(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new m(e,t)),1!==c.length||l||u(p)},m.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=h,i.addListener=h,i.once=h,i.off=h,i.removeListener=h,i.removeAllListeners=h,i.emit=h,i.prependListener=h,i.prependOnceListener=h,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){"use strict";(function(e,r,i,o){n.d(t,"a",(function(){return c}));var a=n(0);var u=void 0!==i?"undefined"!=typeof window?{setImmediate:function(e){for(var t,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return(t=window).setImmediate.apply(t,Object(a.e)([e],n,!1))},clearImmediate:function(e){return window.clearImmediate(e)}}:{setImmediate:i,clearImmediate:o}:function(){var t,n,i,o,a,u,s,c=(t="undefined"!=typeof window&&window,n="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,t||void 0!==e&&e||n),l={},d="undefined"!=typeof document?document:void 0,f=1;function p(e){delete l[e]}function m(e){var t=l[e];p(e),function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(void 0,n)}}(t)}return void 0!==r&&"[object process]"==={}.toString.call(r)?i=function(e){r.nextTick((function(){m(e)}))}:function(){if(c&&c.postMessage&&!c.importScripts){var e=!0,t=c.onmessage;return c.onmessage=function(){e=!1},c.postMessage("","*"),c.onmessage=t,e}}()?(u="setImmediate$"+Math.random()+"$",s=function(e){e.source===c&&"string"==typeof e.data&&0===e.data.indexOf(u)&&m(+e.data.slice(u.length))},window.addEventListener?window.addEventListener("message",s,!1):window.attachEvent("onmessage",s),i=function(e){window.postMessage(u+e,"*")}):"undefined"!=typeof MessageChannel?((a=new MessageChannel).port1.onmessage=function(e){m(e.data)},i=function(e){a.port2.postMessage(e)}):d&&"onreadystatechange"in d.createElement("script")?(o=d.documentElement,i=function(e){var t=d.createElement("script");t.onreadystatechange=function(){m(e),t.onreadystatechange=null,o.removeChild(t),t=null},o.appendChild(t)}):i=function(e){setTimeout(m,0,e)},{setImmediate:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];"function"!=typeof e&&(e=new Function(""+e));var r={callback:e,args:t};return l[f]=r,i(f),f++},clearImmediate:p}}();function s(e){u.setImmediate(e)}var c={setImmediate:u.setImmediate,clearImmediate:u.clearImmediate,immediatePromise:function(){return new Promise(s)},delay:function(e,t){return void 0===t&&(t=void 0),new Promise((function(n){return setTimeout(n,e,t)}))}}}).call(this,n(6),n(7),n(11).setImmediate,n(11).clearImmediate)},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return r}));var r=function(){try{return!0}catch(e){return!1}}();!function(){try{var t=e.env.DEBUG}catch(e){return!1}}()}).call(this,n(7))},function(e,t){e.exports=window.React},function(e,t,n){(function(e){var r=void 0!==e&&e||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function o(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new o(i.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new o(i.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n(16),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(6))},function(e,t,n){"use strict";(function(e){var r=n(13),i=n(14),o=n(15);function a(){return s.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function u(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return s.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=s.prototype:(null===e&&(e=new s(t)),e.length=t),e}function s(e,t,n){if(!(s.TYPED_ARRAY_SUPPORT||this instanceof s))return new s(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return d(this,e)}return c(this,e,t,n)}function c(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);s.TYPED_ARRAY_SUPPORT?(e=t).__proto__=s.prototype:e=f(e,t);return e}(e,t,n,r):"string"==typeof t?function(e,t,n){"string"==typeof n&&""!==n||(n="utf8");if(!s.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|m(t,n),i=(e=u(e,r)).write(t,n);i!==r&&(e=e.slice(0,i));return e}(e,t,n):function(e,t){if(s.isBuffer(t)){var n=0|p(t.length);return 0===(e=u(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?u(e,0):f(e,t);if("Buffer"===t.type&&o(t.data))return f(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function d(e,t){if(l(t),e=u(e,t<0?0:0|p(t)),!s.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function f(e,t){var n=t.length<0?0:0|p(t.length);e=u(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function p(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function m(e,t){if(s.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return q(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return F(e).length;default:if(r)return q(e).length;t=(""+t).toLowerCase(),r=!0}}function h(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return E(this,t,n);case"utf8":case"utf-8":return B(this,t,n);case"ascii":return P(this,t,n);case"latin1":case"binary":return I(this,t,n);case"base64":return C(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function g(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function v(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=s.from(t,r)),s.isBuffer(t))return 0===t.length?-1:y(e,t,n,r,i);if("number"==typeof t)return t&=255,s.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):y(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function y(e,t,n,r,i){var o,a=1,u=e.length,s=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,u/=2,s/=2,n/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var l=-1;for(o=n;o<u;o++)if(c(e,o)===c(t,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===s)return l*a}else-1!==l&&(o-=o-l),l=-1}else for(n+s>u&&(n=u-s),o=n;o>=0;o--){for(var d=!0,f=0;f<s;f++)if(c(e,o+f)!==c(t,f)){d=!1;break}if(d)return o}return-1}function _(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var u=parseInt(t.substr(2*a,2),16);if(isNaN(u))return a;e[n+a]=u}return a}function b(e,t,n,r){return j(q(t,e.length-n),e,n,r)}function x(e,t,n,r){return j(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function A(e,t,n,r){return x(e,t,n,r)}function w(e,t,n,r){return j(F(t),e,n,r)}function S(e,t,n,r){return j(function(e,t){for(var n,r,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function C(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function B(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,a,u,s,c=e[i],l=null,d=c>239?4:c>223?3:c>191?2:1;if(i+d<=n)switch(d){case 1:c<128&&(l=c);break;case 2:128==(192&(o=e[i+1]))&&(s=(31&c)<<6|63&o)>127&&(l=s);break;case 3:o=e[i+1],a=e[i+2],128==(192&o)&&128==(192&a)&&(s=(15&c)<<12|(63&o)<<6|63&a)>2047&&(s<55296||s>57343)&&(l=s);break;case 4:o=e[i+1],a=e[i+2],u=e[i+3],128==(192&o)&&128==(192&a)&&128==(192&u)&&(s=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&u)>65535&&s<1114112&&(l=s)}null===l?(l=65533,d=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),i+=d}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=4096));return n}(r)}t.Buffer=s,t.SlowBuffer=function(e){+e!=e&&(e=0);return s.alloc(+e)},t.INSPECT_MAX_BYTES=50,s.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=a(),s.poolSize=8192,s._augment=function(e){return e.__proto__=s.prototype,e},s.from=function(e,t,n){return c(null,e,t,n)},s.TYPED_ARRAY_SUPPORT&&(s.prototype.__proto__=Uint8Array.prototype,s.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&s[Symbol.species]===s&&Object.defineProperty(s,Symbol.species,{value:null,configurable:!0})),s.alloc=function(e,t,n){return function(e,t,n,r){return l(t),t<=0?u(e,t):void 0!==n?"string"==typeof r?u(e,t).fill(n,r):u(e,t).fill(n):u(e,t)}(null,e,t,n)},s.allocUnsafe=function(e){return d(null,e)},s.allocUnsafeSlow=function(e){return d(null,e)},s.isBuffer=function(e){return!(null==e||!e._isBuffer)},s.compare=function(e,t){if(!s.isBuffer(e)||!s.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},s.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return s.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=s.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var a=e[n];if(!s.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},s.byteLength=m,s.prototype._isBuffer=!0,s.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},s.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},s.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},s.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?B(this,0,e):h.apply(this,arguments)},s.prototype.equals=function(e){if(!s.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===s.compare(this,e)},s.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},s.prototype.compare=function(e,t,n,r,i){if(!s.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),u=Math.min(o,a),c=this.slice(r,i),l=e.slice(t,n),d=0;d<u;++d)if(c[d]!==l[d]){o=c[d],a=l[d];break}return o<a?-1:a<o?1:0},s.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},s.prototype.indexOf=function(e,t,n){return v(this,e,t,n,!0)},s.prototype.lastIndexOf=function(e,t,n){return v(this,e,t,n,!1)},s.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return _(this,e,t,n);case"utf8":case"utf-8":return b(this,e,t,n);case"ascii":return x(this,e,t,n);case"latin1":case"binary":return A(this,e,t,n);case"base64":return w(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function P(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function I(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function E(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=G(e[o]);return i}function M(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function k(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function D(e,t,n,r,i,o){if(!s.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function O(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function N(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function T(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function R(e,t,n,r,o){return o||T(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function U(e,t,n,r,o){return o||T(e,0,n,8),i.write(e,t,n,r,52,8),n+8}s.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),s.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=s.prototype;else{var i=t-e;n=new s(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+e]}return n},s.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||k(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},s.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||k(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},s.prototype.readUInt8=function(e,t){return t||k(e,1,this.length),this[e]},s.prototype.readUInt16LE=function(e,t){return t||k(e,2,this.length),this[e]|this[e+1]<<8},s.prototype.readUInt16BE=function(e,t){return t||k(e,2,this.length),this[e]<<8|this[e+1]},s.prototype.readUInt32LE=function(e,t){return t||k(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},s.prototype.readUInt32BE=function(e,t){return t||k(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},s.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||k(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},s.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||k(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},s.prototype.readInt8=function(e,t){return t||k(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},s.prototype.readInt16LE=function(e,t){t||k(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},s.prototype.readInt16BE=function(e,t){t||k(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},s.prototype.readInt32LE=function(e,t){return t||k(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},s.prototype.readInt32BE=function(e,t){return t||k(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},s.prototype.readFloatLE=function(e,t){return t||k(e,4,this.length),i.read(this,e,!0,23,4)},s.prototype.readFloatBE=function(e,t){return t||k(e,4,this.length),i.read(this,e,!1,23,4)},s.prototype.readDoubleLE=function(e,t){return t||k(e,8,this.length),i.read(this,e,!0,52,8)},s.prototype.readDoubleBE=function(e,t){return t||k(e,8,this.length),i.read(this,e,!1,52,8)},s.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||D(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},s.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||D(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},s.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,1,255,0),s.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},s.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,2,65535,0),s.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):O(this,e,t,!0),t+2},s.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,2,65535,0),s.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):O(this,e,t,!1),t+2},s.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,4,4294967295,0),s.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):N(this,e,t,!0),t+4},s.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,4,4294967295,0),s.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):N(this,e,t,!1),t+4},s.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);D(this,e,t,n,i-1,-i)}var o=0,a=1,u=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===u&&0!==this[t+o-1]&&(u=1),this[t+o]=(e/a>>0)-u&255;return t+n},s.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);D(this,e,t,n,i-1,-i)}var o=n-1,a=1,u=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===u&&0!==this[t+o+1]&&(u=1),this[t+o]=(e/a>>0)-u&255;return t+n},s.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,1,127,-128),s.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},s.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,2,32767,-32768),s.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):O(this,e,t,!0),t+2},s.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,2,32767,-32768),s.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):O(this,e,t,!1),t+2},s.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,4,2147483647,-2147483648),s.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):N(this,e,t,!0),t+4},s.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),s.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):N(this,e,t,!1),t+4},s.prototype.writeFloatLE=function(e,t,n){return R(this,e,t,!0,n)},s.prototype.writeFloatBE=function(e,t,n){return R(this,e,t,!1,n)},s.prototype.writeDoubleLE=function(e,t,n){return U(this,e,t,!0,n)},s.prototype.writeDoubleBE=function(e,t,n){return U(this,e,t,!1,n)},s.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;i>=0;--i)e[i+t]=this[i+n];else if(o<1e3||!s.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},s.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!s.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var a=s.isBuffer(e)?e:q(new s(e,r).toString()),u=a.length;for(o=0;o<n-t;++o)this[o+t]=a[o%u]}return this};var L=/[^+\/0-9A-Za-z-_]/g;function G(e){return e<16?"0"+e.toString(16):e.toString(16)}function q(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function F(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(L,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function j(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}}).call(this,n(6))},function(e,t,n){"use strict";t.byteLength=function(e){var t=c(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,r=c(e),a=r[0],u=r[1],s=new o(function(e,t,n){return 3*(t+n)/4-n}(0,a,u)),l=0,d=u>0?a-4:a;for(n=0;n<d;n+=4)t=i[e.charCodeAt(n)]<<18|i[e.charCodeAt(n+1)]<<12|i[e.charCodeAt(n+2)]<<6|i[e.charCodeAt(n+3)],s[l++]=t>>16&255,s[l++]=t>>8&255,s[l++]=255&t;2===u&&(t=i[e.charCodeAt(n)]<<2|i[e.charCodeAt(n+1)]>>4,s[l++]=255&t);1===u&&(t=i[e.charCodeAt(n)]<<10|i[e.charCodeAt(n+1)]<<4|i[e.charCodeAt(n+2)]>>2,s[l++]=t>>8&255,s[l++]=255&t);return s},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],a=0,u=n-i;a<u;a+=16383)o.push(l(e,a,a+16383>u?u:a+16383));1===i?(t=e[n-1],o.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return o.join("")};for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=0,s=a.length;u<s;++u)r[u]=a[u],i[a.charCodeAt(u)]=u;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function l(e,t,n){for(var i,o,a=[],u=t;u<n;u+=3)i=(e[u]<<16&16711680)+(e[u+1]<<8&65280)+(255&e[u+2]),a.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,i){var o,a,u=8*i-r-1,s=(1<<u)-1,c=s>>1,l=-7,d=n?i-1:0,f=n?-1:1,p=e[t+d];for(d+=f,o=p&(1<<-l)-1,p>>=-l,l+=u;l>0;o=256*o+e[t+d],d+=f,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=r;l>0;a=256*a+e[t+d],d+=f,l-=8);if(0===o)o=1-c;else{if(o===s)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,r),o-=c}return(p?-1:1)*a*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var a,u,s,c=8*o-i-1,l=(1<<c)-1,d=l>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,m=r?1:-1,h=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(u=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(s=Math.pow(2,-a))<1&&(a--,s*=2),(t+=a+d>=1?f/s:f*Math.pow(2,1-d))*s>=2&&(a++,s/=2),a+d>=l?(u=0,a=l):a+d>=1?(u=(t*s-1)*Math.pow(2,i),a+=d):(u=t*Math.pow(2,d-1)*Math.pow(2,i),a=0));i>=8;e[n+p]=255&u,p+=m,u/=256,i-=8);for(a=a<<i|u,c+=i;c>0;e[n+p]=255&a,p+=m,a/=256,c-=8);e[n+p-m]|=128*h}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var r,i,o,a,u,s=1,c={},l=!1,d=e.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(e);f=f&&f.setTimeout?f:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick((function(){m(e)}))}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?e.MessageChannel?((o=new MessageChannel).port1.onmessage=function(e){m(e.data)},r=function(e){o.port2.postMessage(e)}):d&&"onreadystatechange"in d.createElement("script")?(i=d.documentElement,r=function(e){var t=d.createElement("script");t.onreadystatechange=function(){m(e),t.onreadystatechange=null,i.removeChild(t),t=null},i.appendChild(t)}):r=function(e){setTimeout(m,0,e)}:(a="setImmediate$"+Math.random()+"$",u=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(a)&&m(+t.data.slice(a.length))},e.addEventListener?e.addEventListener("message",u,!1):e.attachEvent("onmessage",u),r=function(t){e.postMessage(a+t,"*")}),f.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var i={callback:e,args:t};return c[s]=i,r(s),s++},f.clearImmediate=p}function p(e){delete c[e]}function m(e){if(l)setTimeout(m,0,e);else{var t=c[e];if(t){l=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(void 0,n)}}(t)}finally{p(e),l=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(6),n(7))},function(e,t){e.exports=XMLHttpRequest},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){var r=n(20);"string"==typeof r&&(r=[[e.i,r,""]]);var i={insertAt:"top",hmr:!0,transform:void 0,insertInto:void 0};n(22)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){(t=n(21)(!1)).push([e.i,'.msp-semi-transparent-background{opacity:.8 !important}.msp-plugin{font-family:"Helvetica Neue","Segoe UI",Helvetica,"Source Sans Pro",Arial,sans-serif;font-size:14px;line-height:1.42857143;position:absolute;left:0;top:0;right:0;bottom:0;/*! normalize.css v3.0.3 | MIT License | github.com/necolas/normalize.css */background:#ecf2f8}.msp-plugin *{box-sizing:border-box}.msp-plugin [hidden],.msp-plugin template{display:none}.msp-plugin a{background-color:rgba(0,0,0,0)}.msp-plugin a:active,.msp-plugin a:hover{outline:0}.msp-plugin abbr[title]{border-bottom:1px dotted}.msp-plugin b,.msp-plugin strong{font-weight:bold}.msp-plugin small{font-size:80%}.msp-plugin img{border:0}.msp-plugin svg:not(:root){overflow:hidden}.msp-plugin button,.msp-plugin input,.msp-plugin optgroup,.msp-plugin select,.msp-plugin textarea{color:inherit;font:inherit;margin:0}.msp-plugin button{overflow:visible}.msp-plugin button,.msp-plugin select{text-transform:none}.msp-plugin button,.msp-plugin html input[type=button],.msp-plugin input[type=reset],.msp-plugin input[type=submit]{-webkit-appearance:button;cursor:pointer}.msp-plugin button[disabled],.msp-plugin html input[disabled]{cursor:default}.msp-plugin button::-moz-focus-inner,.msp-plugin input::-moz-focus-inner{border:0;padding:0}.msp-plugin input{line-height:normal}.msp-plugin input[type=checkbox],.msp-plugin input[type=radio]{box-sizing:border-box;padding:0}.msp-plugin input[type=number]::-webkit-inner-spin-button,.msp-plugin input[type=number]::-webkit-outer-spin-button{height:auto}.msp-plugin textarea{overflow:auto}.msp-plugin .msp-layout-expanded,.msp-plugin .msp-layout-standard{left:0;right:0;top:0;bottom:0}.msp-plugin .msp-layout-standard{border:1px solid #b5cbe2}.msp-plugin .msp-layout-region{overflow:hidden}.msp-plugin .msp-layout-static,.msp-plugin .msp-layout-scrollable{position:absolute}.msp-plugin .msp-scrollable{overflow-y:auto}.msp-plugin .msp-scrollable-container{position:absolute;left:0;right:0;top:0;bottom:0;overflow-y:auto}.msp-plugin .msp-layout-static{overflow:hidden}.msp-plugin .msp-layout-top .msp-layout-static,.msp-plugin .msp-layout-main .msp-layout-static,.msp-plugin .msp-layout-bottom .msp-layout-static{left:0;right:0;top:0;bottom:0}.msp-plugin .msp-layout-right .msp-layout-static{left:0;right:0;top:0;bottom:0}.msp-plugin .msp-layout-right .msp-layout-scrollable{left:0;right:0;top:43px;bottom:0}.msp-plugin .msp-layout-left .msp-layout-static{left:0;right:0;bottom:0;top:0}.msp-plugin .msp-layout-standard-outside{position:absolute}.msp-plugin .msp-layout-standard-outside .msp-layout-main{position:absolute;left:0;right:0;bottom:0;top:0}.msp-plugin .msp-layout-standard-outside .msp-layout-top{position:absolute;right:0;height:97px;top:-97px;width:50%;border-left:1px solid #b5cbe2;border-bottom:1px solid #b5cbe2}.msp-plugin .msp-layout-standard-outside .msp-layout-bottom{position:absolute;left:0;right:0;height:97px;top:-97px;width:50%;border-bottom:1px solid #b5cbe2}.msp-plugin .msp-layout-standard-outside .msp-layout-right{position:absolute;width:50%;right:0;bottom:-295px;height:295px;border-left:1px solid #b5cbe2;border-top:1px solid #b5cbe2}.msp-plugin .msp-layout-standard-outside .msp-layout-left{position:absolute;width:50%;left:0;bottom:0;bottom:-295px;height:295px;border-top:1px solid #b5cbe2}.msp-plugin .msp-layout-standard-outside .msp-layout-hide-right .msp-layout-right{display:none}.msp-plugin .msp-layout-standard-outside .msp-layout-hide-right .msp-layout-left{width:100%}.msp-plugin .msp-layout-standard-outside .msp-layout-hide-left .msp-layout-left{display:none}.msp-plugin .msp-layout-standard-outside .msp-layout-hide-left .msp-layout-right{width:100%;border-left:none}.msp-plugin .msp-layout-standard-outside .msp-layout-collapse-left .msp-layout-left{width:32px}.msp-plugin .msp-layout-standard-outside .msp-layout-collapse-left .msp-layout-right{left:32px;width:auto}.msp-plugin .msp-layout-standard-outside .msp-layout-hide-top .msp-layout-top{display:none}.msp-plugin .msp-layout-standard-outside .msp-layout-hide-top .msp-layout-bottom{width:100%;border-left:none}.msp-plugin .msp-layout-standard-outside .msp-layout-hide-bottom .msp-layout-bottom{display:none}.msp-plugin .msp-layout-standard-outside .msp-layout-hide-bottom .msp-layout-top{width:100%;border-left:none}.msp-plugin .msp-layout-standard-landscape{position:absolute}.msp-plugin .msp-layout-standard-landscape .msp-layout-main{position:absolute;left:330px;right:300px;bottom:70px;top:100px}.msp-plugin .msp-layout-standard-landscape .msp-layout-top{position:absolute;left:330px;right:300px;height:100px;top:0;border-bottom:1px solid #b5cbe2}.msp-plugin .msp-layout-standard-landscape .msp-layout-bottom{position:absolute;left:330px;right:300px;height:70px;bottom:0;border-top:1px solid #b5cbe2}.msp-plugin .msp-layout-standard-landscape .msp-layout-right{position:absolute;width:300px;right:0;bottom:0;top:0;border-left:1px solid #b5cbe2}.msp-plugin .msp-layout-standard-landscape .msp-layout-left{position:absolute;width:330px;left:0;bottom:0;top:0;border-right:1px solid #b5cbe2}.msp-plugin .msp-layout-standard-landscape .msp-layout-hide-right .msp-layout-right{display:none}.msp-plugin .msp-layout-standard-landscape .msp-layout-hide-right .msp-layout-main,.msp-plugin .msp-layout-standard-landscape .msp-layout-hide-right .msp-layout-top,.msp-plugin .msp-layout-standard-landscape .msp-layout-hide-right .msp-layout-bottom{right:0}.msp-plugin .msp-layout-standard-landscape .msp-layout-hide-left .msp-layout-left{display:none}.msp-plugin .msp-layout-standard-landscape .msp-layout-hide-left .msp-layout-main,.msp-plugin .msp-layout-standard-landscape .msp-layout-hide-left .msp-layout-top,.msp-plugin .msp-layout-standard-landscape .msp-layout-hide-left .msp-layout-bottom{left:0}.msp-plugin .msp-layout-standard-landscape .msp-layout-collapse-left .msp-layout-left{width:32px}.msp-plugin .msp-layout-standard-landscape .msp-layout-collapse-left .msp-layout-main,.msp-plugin .msp-layout-standard-landscape .msp-layout-collapse-left .msp-layout-top,.msp-plugin .msp-layout-standard-landscape .msp-layout-collapse-left .msp-layout-bottom{left:32px}.msp-plugin .msp-layout-standard-landscape .msp-layout-hide-bottom .msp-layout-bottom{display:none}.msp-plugin .msp-layout-standard-landscape .msp-layout-hide-bottom .msp-layout-main{bottom:0}.msp-plugin .msp-layout-standard-landscape .msp-layout-hide-top .msp-layout-top{display:none}.msp-plugin .msp-layout-standard-landscape .msp-layout-hide-top .msp-layout-main{top:0}.msp-plugin .msp-layout-standard-portrait{position:absolute}.msp-plugin .msp-layout-standard-portrait .msp-layout-main{position:absolute;left:0;right:0;bottom:361px;top:97px}.msp-plugin .msp-layout-standard-portrait .msp-layout-top{position:absolute;right:0;height:97px;top:0;width:50%;border-left:1px solid #b5cbe2;border-bottom:1px solid #b5cbe2}.msp-plugin .msp-layout-standard-portrait .msp-layout-bottom{position:absolute;left:0;right:0;height:97px;width:50%;border-bottom:1px solid #b5cbe2}.msp-plugin .msp-layout-standard-portrait .msp-layout-right{position:absolute;width:50%;right:0;bottom:0;height:361px;border-left:1px solid #b5cbe2;border-top:1px solid #b5cbe2}.msp-plugin .msp-layout-standard-portrait .msp-layout-left{position:absolute;width:50%;left:0;bottom:0;height:361px;border-top:1px solid #b5cbe2}.msp-plugin .msp-layout-standard-portrait .msp-layout-hide-right .msp-layout-right{display:none}.msp-plugin .msp-layout-standard-portrait .msp-layout-hide-right .msp-layout-left{width:100%}.msp-plugin .msp-layout-standard-portrait .msp-layout-hide-left .msp-layout-left{display:none}.msp-plugin .msp-layout-standard-portrait .msp-layout-hide-left .msp-layout-right{width:100%;border-left:none}.msp-plugin .msp-layout-standard-portrait .msp-layout-hide-right.msp-layout-hide-left .msp-layout-main{bottom:0}.msp-plugin .msp-layout-standard-portrait .msp-layout-collapse-left .msp-layout-left{width:32px}.msp-plugin .msp-layout-standard-portrait .msp-layout-collapse-left .msp-layout-right{left:32px;width:auto}.msp-plugin .msp-layout-standard-portrait .msp-layout-hide-top .msp-layout-top{display:none}.msp-plugin .msp-layout-standard-portrait .msp-layout-hide-top .msp-layout-bottom{width:100%;border-left:none}.msp-plugin .msp-layout-standard-portrait .msp-layout-hide-bottom .msp-layout-bottom{display:none}.msp-plugin .msp-layout-standard-portrait .msp-layout-hide-bottom .msp-layout-top{width:100%;border-left:none}.msp-plugin .msp-layout-standard-portrait .msp-layout-hide-top.msp-layout-hide-bottom .msp-layout-main{top:0}.msp-plugin .msp-layout-standard-reactive{position:absolute}@media(orientation: landscape),(min-width: 1000px){.msp-plugin .msp-layout-standard-reactive .msp-layout-main{position:absolute;left:330px;right:300px;bottom:70px;top:100px}.msp-plugin .msp-layout-standard-reactive .msp-layout-top{position:absolute;left:330px;right:300px;height:100px;top:0;border-bottom:1px solid #b5cbe2}.msp-plugin .msp-layout-standard-reactive .msp-layout-bottom{position:absolute;left:330px;right:300px;height:70px;bottom:0;border-top:1px solid #b5cbe2}.msp-plugin .msp-layout-standard-reactive .msp-layout-right{position:absolute;width:300px;right:0;bottom:0;top:0;border-left:1px solid #b5cbe2}.msp-plugin .msp-layout-standard-reactive .msp-layout-left{position:absolute;width:330px;left:0;bottom:0;top:0;border-right:1px solid #b5cbe2}.msp-plugin .msp-layout-standard-reactive .msp-layout-hide-right .msp-layout-right{display:none}.msp-plugin .msp-layout-standard-reactive .msp-layout-hide-right .msp-layout-main,.msp-plugin .msp-layout-standard-reactive .msp-layout-hide-right .msp-layout-top,.msp-plugin .msp-layout-standard-reactive .msp-layout-hide-right .msp-layout-bottom{right:0}.msp-plugin .msp-layout-standard-reactive .msp-layout-hide-left .msp-layout-left{display:none}.msp-plugin .msp-layout-standard-reactive .msp-layout-hide-left .msp-layout-main,.msp-plugin .msp-layout-standard-reactive .msp-layout-hide-left .msp-layout-top,.msp-plugin .msp-layout-standard-reactive .msp-layout-hide-left .msp-layout-bottom{left:0}.msp-plugin .msp-layout-standard-reactive .msp-layout-collapse-left .msp-layout-left{width:32px}.msp-plugin .msp-layout-standard-reactive .msp-layout-collapse-left .msp-layout-main,.msp-plugin .msp-layout-standard-reactive .msp-layout-collapse-left .msp-layout-top,.msp-plugin .msp-layout-standard-reactive .msp-layout-collapse-left .msp-layout-bottom{left:32px}.msp-plugin .msp-layout-standard-reactive .msp-layout-hide-bottom .msp-layout-bottom{display:none}.msp-plugin .msp-layout-standard-reactive .msp-layout-hide-bottom .msp-layout-main{bottom:0}.msp-plugin .msp-layout-standard-reactive .msp-layout-hide-top .msp-layout-top{display:none}.msp-plugin .msp-layout-standard-reactive .msp-layout-hide-top .msp-layout-main{top:0}}@media(orientation: portrait)and (max-width: 1000px){.msp-plugin .msp-layout-standard-reactive .msp-layout-main{position:absolute;left:0;right:0;bottom:361px;top:97px}.msp-plugin .msp-layout-standard-reactive .msp-layout-top{position:absolute;right:0;height:97px;top:0;width:50%;border-left:1px solid #b5cbe2;border-bottom:1px solid #b5cbe2}.msp-plugin .msp-layout-standard-reactive .msp-layout-bottom{position:absolute;left:0;right:0;height:97px;width:50%;border-bottom:1px solid #b5cbe2}.msp-plugin .msp-layout-standard-reactive .msp-layout-right{position:absolute;width:50%;right:0;bottom:0;height:361px;border-left:1px solid #b5cbe2;border-top:1px solid #b5cbe2}.msp-plugin .msp-layout-standard-reactive .msp-layout-left{position:absolute;width:50%;left:0;bottom:0;height:361px;border-top:1px solid #b5cbe2}.msp-plugin .msp-layout-standard-reactive .msp-layout-hide-right .msp-layout-right{display:none}.msp-plugin .msp-layout-standard-reactive .msp-layout-hide-right .msp-layout-left{width:100%}.msp-plugin .msp-layout-standard-reactive .msp-layout-hide-left .msp-layout-left{display:none}.msp-plugin .msp-layout-standard-reactive .msp-layout-hide-left .msp-layout-right{width:100%;border-left:none}.msp-plugin .msp-layout-standard-reactive .msp-layout-hide-right.msp-layout-hide-left .msp-layout-main{bottom:0}.msp-plugin .msp-layout-standard-reactive .msp-layout-collapse-left .msp-layout-left{width:32px}.msp-plugin .msp-layout-standard-reactive .msp-layout-collapse-left .msp-layout-right{left:32px;width:auto}.msp-plugin .msp-layout-standard-reactive .msp-layout-hide-top .msp-layout-top{display:none}.msp-plugin .msp-layout-standard-reactive .msp-layout-hide-top .msp-layout-bottom{width:100%;border-left:none}.msp-plugin .msp-layout-standard-reactive .msp-layout-hide-bottom .msp-layout-bottom{display:none}.msp-plugin .msp-layout-standard-reactive .msp-layout-hide-bottom .msp-layout-top{width:100%;border-left:none}.msp-plugin .msp-layout-standard-reactive .msp-layout-hide-top.msp-layout-hide-bottom .msp-layout-main{top:0}}.msp-plugin .msp-layout-expanded{position:fixed}@media(orientation: landscape){.msp-plugin .msp-layout-expanded .msp-layout-main{position:absolute;left:330px;right:300px;bottom:70px;top:100px}.msp-plugin .msp-layout-expanded .msp-layout-top{position:absolute;left:330px;right:300px;height:100px;top:0;border-bottom:1px solid #b5cbe2}.msp-plugin .msp-layout-expanded .msp-layout-bottom{position:absolute;left:330px;right:300px;height:70px;bottom:0;border-top:1px solid #b5cbe2}.msp-plugin .msp-layout-expanded .msp-layout-right{position:absolute;width:300px;right:0;bottom:0;top:0;border-left:1px solid #b5cbe2}.msp-plugin .msp-layout-expanded .msp-layout-left{position:absolute;width:330px;left:0;bottom:0;top:0;border-right:1px solid #b5cbe2}.msp-plugin .msp-layout-expanded .msp-layout-hide-right .msp-layout-right{display:none}.msp-plugin .msp-layout-expanded .msp-layout-hide-right .msp-layout-main,.msp-plugin .msp-layout-expanded .msp-layout-hide-right .msp-layout-top,.msp-plugin .msp-layout-expanded .msp-layout-hide-right .msp-layout-bottom{right:0}.msp-plugin .msp-layout-expanded .msp-layout-hide-left .msp-layout-left{display:none}.msp-plugin .msp-layout-expanded .msp-layout-hide-left .msp-layout-main,.msp-plugin .msp-layout-expanded .msp-layout-hide-left .msp-layout-top,.msp-plugin .msp-layout-expanded .msp-layout-hide-left .msp-layout-bottom{left:0}.msp-plugin .msp-layout-expanded .msp-layout-collapse-left .msp-layout-left{width:32px}.msp-plugin .msp-layout-expanded .msp-layout-collapse-left .msp-layout-main,.msp-plugin .msp-layout-expanded .msp-layout-collapse-left .msp-layout-top,.msp-plugin .msp-layout-expanded .msp-layout-collapse-left .msp-layout-bottom{left:32px}.msp-plugin .msp-layout-expanded .msp-layout-hide-bottom .msp-layout-bottom{display:none}.msp-plugin .msp-layout-expanded .msp-layout-hide-bottom .msp-layout-main{bottom:0}.msp-plugin .msp-layout-expanded .msp-layout-hide-top .msp-layout-top{display:none}.msp-plugin .msp-layout-expanded .msp-layout-hide-top .msp-layout-main{top:0}}@media(orientation: portrait){.msp-plugin .msp-layout-expanded .msp-layout-main{position:absolute;left:0;right:0;bottom:361px;top:97px}.msp-plugin .msp-layout-expanded .msp-layout-top{position:absolute;right:0;height:97px;top:0;width:50%;border-left:1px solid #b5cbe2;border-bottom:1px solid #b5cbe2}.msp-plugin .msp-layout-expanded .msp-layout-bottom{position:absolute;left:0;right:0;height:97px;width:50%;border-bottom:1px solid #b5cbe2}.msp-plugin .msp-layout-expanded .msp-layout-right{position:absolute;width:50%;right:0;bottom:0;height:361px;border-left:1px solid #b5cbe2;border-top:1px solid #b5cbe2}.msp-plugin .msp-layout-expanded .msp-layout-left{position:absolute;width:50%;left:0;bottom:0;height:361px;border-top:1px solid #b5cbe2}.msp-plugin .msp-layout-expanded .msp-layout-hide-right .msp-layout-right{display:none}.msp-plugin .msp-layout-expanded .msp-layout-hide-right .msp-layout-left{width:100%}.msp-plugin .msp-layout-expanded .msp-layout-hide-left .msp-layout-left{display:none}.msp-plugin .msp-layout-expanded .msp-layout-hide-left .msp-layout-right{width:100%;border-left:none}.msp-plugin .msp-layout-expanded .msp-layout-hide-right.msp-layout-hide-left .msp-layout-main{bottom:0}.msp-plugin .msp-layout-expanded .msp-layout-collapse-left .msp-layout-left{width:32px}.msp-plugin .msp-layout-expanded .msp-layout-collapse-left .msp-layout-right{left:32px;width:auto}.msp-plugin .msp-layout-expanded .msp-layout-hide-top .msp-layout-top{display:none}.msp-plugin .msp-layout-expanded .msp-layout-hide-top .msp-layout-bottom{width:100%;border-left:none}.msp-plugin .msp-layout-expanded .msp-layout-hide-bottom .msp-layout-bottom{display:none}.msp-plugin .msp-layout-expanded .msp-layout-hide-bottom .msp-layout-top{width:100%;border-left:none}.msp-plugin .msp-layout-expanded .msp-layout-hide-top.msp-layout-hide-bottom .msp-layout-main{top:0}}.msp-plugin ::-webkit-scrollbar{width:10px;height:10px}.msp-plugin ::-webkit-scrollbar-track{border-radius:0;background-color:#e3ebf4}.msp-plugin ::-webkit-scrollbar-thumb{border-radius:0;background-color:#f2f6fa}.msp-plugin .msp-form-control,.msp-plugin .msp-control-row select,.msp-plugin .msp-control-row button,.msp-plugin .msp-control-row input[type=text],.msp-plugin .msp-btn{display:block;width:100%;background:#f5f8fb;border:none;padding:0 10px;line-height:30px;height:32px;-webkit-appearance:none;-moz-appearance:none;appearance:none;-webkit-box-shadow:none;box-shadow:none;background-image:none}.msp-plugin .msp-form-control::-moz-placeholder,.msp-plugin .msp-control-row select::-moz-placeholder,.msp-plugin .msp-control-row button::-moz-placeholder,.msp-plugin .msp-control-row input[type=text]::-moz-placeholder,.msp-plugin .msp-btn::-moz-placeholder{color:#878787;opacity:1}.msp-plugin .msp-form-control:-ms-input-placeholder,.msp-plugin .msp-control-row select:-ms-input-placeholder,.msp-plugin .msp-control-row button:-ms-input-placeholder,.msp-plugin .msp-control-row input[type=text]:-ms-input-placeholder,.msp-plugin .msp-btn:-ms-input-placeholder{color:#878787}.msp-plugin .msp-form-control::-webkit-input-placeholder,.msp-plugin .msp-control-row select::-webkit-input-placeholder,.msp-plugin .msp-control-row button::-webkit-input-placeholder,.msp-plugin .msp-control-row input[type=text]::-webkit-input-placeholder,.msp-plugin .msp-btn::-webkit-input-placeholder{color:#878787}.msp-plugin .msp-form-control:hover,.msp-plugin .msp-control-row select:hover,.msp-plugin .msp-control-row button:hover,.msp-plugin .msp-control-row input[type=text]:hover,.msp-plugin .msp-btn:hover{color:#325880;background-color:#e3ebf4;border:none;outline-offset:-1px !important;outline:1px solid #acc5df !important}.msp-plugin .msp-form-control:active,.msp-plugin .msp-control-row select:active,.msp-plugin .msp-control-row button:active,.msp-plugin .msp-control-row input[type=text]:active,.msp-plugin .msp-btn:active,.msp-plugin .msp-form-control:focus,.msp-plugin .msp-control-row select:focus,.msp-plugin .msp-control-row button:focus,.msp-plugin .msp-control-row input[type=text]:focus,.msp-plugin .msp-btn:focus{color:#333;background-color:#f5f8fb;border:none;outline-offset:0;outline:none}.msp-plugin .msp-form-control[disabled],.msp-plugin .msp-control-row select[disabled],.msp-plugin .msp-control-row button[disabled],.msp-plugin .msp-control-row input[disabled][type=text],.msp-plugin [disabled].msp-btn,.msp-plugin .msp-form-control[readonly],.msp-plugin .msp-control-row select[readonly],.msp-plugin .msp-control-row button[readonly],.msp-plugin .msp-control-row input[readonly][type=text],.msp-plugin [readonly].msp-btn,fieldset[disabled] .msp-plugin .msp-form-control,fieldset[disabled] .msp-plugin .msp-control-row select,fieldset[disabled] .msp-plugin .msp-control-row button,fieldset[disabled] .msp-plugin .msp-control-row input[type=text],fieldset[disabled] .msp-plugin .msp-btn{background:#ecf2f8;opacity:.35}.msp-plugin .msp-btn,.msp-plugin .msp-control-row button{display:inline-block;margin-bottom:0;text-align:center;touch-action:manipulation;cursor:pointer;background-image:none;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;padding:0 10px;line-height:32px;border:none;-moz-box-sizing:border-box;box-sizing:border-box}.msp-plugin .msp-btn[disabled],.msp-plugin .msp-control-row button[disabled]{background:#ecf2f8;opacity:.35}.msp-plugin .msp-btn-block,.msp-plugin .msp-control-row button{display:block;width:100%}.msp-plugin .msp-btn,.msp-plugin .msp-control-row button,.msp-plugin .msp-btn:active,.msp-plugin .msp-btn-link:focus,.msp-plugin .msp-btn:hover{outline:none}.msp-plugin .msp-material-icon svg{display:inline-flex;vertical-align:middle;font-size:1.2em;margin-bottom:3px;fill:currentColor;width:1em;height:1em;flex-shrink:0;user-select:none}.msp-plugin .msp-btn-block>.msp-material-icon,.msp-plugin .msp-control-row button>.msp-material-icon{margin-left:0;margin-right:.4em}.msp-plugin .msp-btn-childless>.msp-material-icon{margin-left:0;margin-right:0}.msp-plugin .msp-btn-icon{border:none;height:32px;width:32px;line-height:32px;padding:0;text-align:center}.msp-plugin .msp-btn-icon:hover{color:#325880;background-color:#e3ebf4;border:none;outline-offset:-1px !important;outline:1px solid #acc5df !important}.msp-plugin .msp-btn-icon[disabled],.msp-plugin .msp-btn-icon[disabled]:hover,.msp-plugin .msp-btn-icon[disabled]:active{color:#878787}.msp-plugin .msp-btn-icon-small{border:none;height:32px;width:20px;line-height:32px;padding:0;text-align:center}.msp-plugin .msp-btn-icon-small:hover{color:#325880;background-color:#e3ebf4;border:none;outline-offset:-1px !important;outline:1px solid #acc5df !important}.msp-plugin .msp-btn-icon-small[disabled],.msp-plugin .msp-btn-icon-small[disabled]:hover,.msp-plugin .msp-btn-icon-small[disabled]:active{color:#878787}.msp-plugin .msp-btn-link{font-weight:normal;border-radius:0}.msp-plugin .msp-btn-link,.msp-plugin .msp-btn-link:active,.msp-plugin .msp-btn-link.active,.msp-plugin .msp-btn-link[disabled],fieldset[disabled] .msp-plugin .msp-btn-link{background-color:rgba(0,0,0,0);-webkit-box-shadow:none;box-shadow:none}.msp-plugin .msp-btn-link,.msp-plugin .msp-btn-link:hover,.msp-plugin .msp-btn-link:focus,.msp-plugin .msp-btn-link:active{border-color:rgba(0,0,0,0)}.msp-plugin .msp-btn-link:hover,.msp-plugin .msp-btn-link:focus{text-decoration:none;background-color:rgba(0,0,0,0)}.msp-plugin .msp-btn-link[disabled]:hover,.msp-plugin .msp-btn-link[disabled]:focus,fieldset[disabled] .msp-plugin .msp-btn-link:hover,fieldset[disabled] .msp-plugin .msp-btn-link:focus{text-decoration:none}.msp-plugin .msp-btn-link .msp-icon{font-size:100%}.msp-plugin .msp-btn-link,.msp-plugin .msp-btn-link:active,.msp-plugin .msp-btn-link:focus{color:#333;text-decoration:none}.msp-plugin .msp-btn-link:hover{color:#325880;text-decoration:none}.msp-plugin .msp-btn-link-toggle-on{color:#333}.msp-plugin .msp-btn-link-toggle-off,.msp-plugin .msp-btn-link-toggle-off:active,.msp-plugin .msp-btn-link-toggle-off:focus{color:#878787 !important}.msp-plugin .msp-btn-link-toggle-off:hover,.msp-plugin .msp-btn-link-toggle-on:hover{color:#325880 !important}.msp-plugin .msp-btn-action,.msp-plugin .msp-btn-action:active,.msp-plugin .msp-btn-action:focus{color:#333;background:#f5f8fb}.msp-plugin .msp-btn-action:hover{color:#325880;background:#fff}.msp-plugin .msp-btn-action[disabled],.msp-plugin .msp-btn-action[disabled]:hover,.msp-plugin .msp-btn-action[disabled]:active,.msp-plugin .msp-btn-action[disabled]:focus{color:#363636}.msp-plugin .msp-btn-commit-on,.msp-plugin .msp-btn-commit-on:active,.msp-plugin .msp-btn-commit-on:focus{color:#325880;background:#f4f7fb}.msp-plugin .msp-btn-commit-on:hover{color:#325880;background:#fdfdfe}.msp-plugin .msp-btn-commit-on[disabled],.msp-plugin .msp-btn-commit-on[disabled]:hover,.msp-plugin .msp-btn-commit-on[disabled]:active,.msp-plugin .msp-btn-commit-on[disabled]:focus{color:#335b84}.msp-plugin .msp-btn-commit-off,.msp-plugin .msp-btn-commit-off:active,.msp-plugin .msp-btn-commit-off:focus{color:#333;background:#fbfcfd}.msp-plugin .msp-btn-commit-off:hover{color:#325880;background:#fff}.msp-plugin .msp-btn-commit-off[disabled],.msp-plugin .msp-btn-commit-off[disabled]:hover,.msp-plugin .msp-btn-commit-off[disabled]:active,.msp-plugin .msp-btn-commit-off[disabled]:focus{color:#363636}.msp-plugin .msp-btn-remove:hover{color:#bf3a31}.msp-plugin .msp-btn-commit-on:hover{color:#5a8bbe}.msp-plugin .msp-btn-action{height:32px;line-height:32px}.msp-plugin input[type=file]{display:block}.msp-plugin input[type=range]{display:block;width:100%}.msp-plugin select[multiple],.msp-plugin select[size]{height:auto}.msp-plugin textarea.msp-form-control,.msp-plugin textarea.msp-btn{height:auto}.msp-plugin .msp-control-top-offset{margin-top:1px}.msp-plugin .msp-btn-commit{text-align:right;padding-top:0;padding-bottom:0;padding-right:10px;padding-left:0;line-height:32px;border:none;overflow:hidden;font-weight:bold}.msp-plugin .msp-btn-commit .msp-icon{display:block-inline;line-height:32px;width:32px;text-align:center}.msp-plugin select.msp-form-control,.msp-plugin .msp-control-row select,.msp-plugin select.msp-btn{background:none;background-color:#f5f8fb;background-size:8px 12px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAUCAMAAACzvE1FAAAADFBMVEUzMzMzMzMzMzMzMzMKAG/3AAAAA3RSTlMAf4C/aSLHAAAAPElEQVR42q3NMQ4AIAgEQTn//2cLdRKppSGzBYwzVXvznNWs8C58CiussPJj8h6NwgorrKRdTvuV9v16Afn0AYFOB7aYAAAAAElFTkSuQmCC);background-repeat:no-repeat;background-position:right 10px center;padding-right:24px}.msp-plugin select.msp-form-control:-moz-focusring,.msp-plugin .msp-control-row select:-moz-focusring,.msp-plugin select.msp-btn:-moz-focusring{color:rgba(0,0,0,0);text-shadow:0 0 0 #333}.msp-plugin .msp-default-bg{background:#ecf2f8}.msp-plugin .msp-transparent-bg{background:rgba(0,0,0,0)}.msp-plugin .msp-no-hover-outline:hover{color:#325880;background-color:inherit;border:none;outline-offset:0 !important;outline:none !important}.msp-plugin .msp-icon-inline{margin-right:8px}.msp-plugin .msp-control-row{position:relative;height:32px;background:#ecf2f8;margin-top:1px}.msp-plugin .msp-control-row>span.msp-control-row-label,.msp-plugin .msp-control-row>button.msp-control-button-label{line-height:32px;display:block;width:120px;text-align:right;padding:0 10px;color:#595959;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;cursor:default}.msp-plugin .msp-control-row>button.msp-control-button-label{background:#ecf2f8;cursor:pointer}.msp-plugin .msp-control-row .msp-control-current{background:#ecf2f8}.msp-plugin .msp-control-row>div.msp-control-row-ctrl{position:absolute;left:120px;top:0;right:0;bottom:0}.msp-plugin .msp-control-row>div{background:#f5f8fb}.msp-plugin .msp-control-row>.msp-flex-row{background:#ecf2f8}.msp-plugin .msp-control-label-short>span{width:80px !important}.msp-plugin .msp-control-label-short>div:nth-child(2){left:80px !important}.msp-plugin .msp-control-col-2{float:left;width:50%}.msp-plugin .msp-control-group{position:relative}.msp-plugin .msp-toggle-button .msp-icon{display:inline-block;margin-right:6px}.msp-plugin .msp-toggle-button>div>button:hover{border-color:#e3ebf4 !important;border:none;outline-offset:-1px !important;outline:1px solid #acc5df !important}.msp-plugin .msp-slider>div:first-child{position:absolute;top:0;left:18px;bottom:0;right:62px;display:flex}.msp-plugin .msp-slider>div:last-child{position:absolute;height:32px;line-height:32px;text-align:center;right:0;width:50px;top:0;bottom:0}.msp-plugin .msp-slider input[type=text]{padding-right:6px;padding-left:4px;font-size:80%;text-align:right}.msp-plugin .msp-slider2>div:first-child{position:absolute;height:32px;line-height:32px;text-align:center;left:0;width:25px;top:0;bottom:0;font-size:80%}.msp-plugin .msp-slider2>div:nth-child(2){position:absolute;top:0;left:35px;bottom:0;right:37px;display:flex}.msp-plugin .msp-slider2>div:last-child{position:absolute;height:32px;line-height:32px;text-align:center;right:0;width:25px;top:0;bottom:0;font-size:80%}.msp-plugin .msp-slider2 input[type=text]{padding-right:4px;padding-left:4px;font-size:80%;text-align:center}.msp-plugin .msp-toggle-color-picker button{border:10px solid #f5f8fb !important;margin:0;text-align:center;padding-right:10px;padding-left:10px}.msp-plugin .msp-toggle-color-picker button:hover{border-color:#e3ebf4 !important;border:none;outline-offset:-1px !important;outline:1px solid #acc5df !important}.msp-plugin .msp-toggle-color-picker .msp-color-picker{position:absolute;z-index:100000;background:#ecf2f8;border-top:1px solid #ecf2f8;padding-bottom:5px;width:100%}.msp-plugin .msp-toggle-color-picker-above .msp-color-picker{top:-85px;height:85px}.msp-plugin .msp-toggle-color-picker-below .msp-color-picker{top:32px;height:80px}.msp-plugin .msp-control-offset{padding-left:10px}.msp-plugin .msp-accent-offset{padding-left:1px;margin-left:8px;border-left:2px solid #e98b39}.msp-plugin .msp-control-group-wrapper{margin-bottom:0px;margin-top:1px}.msp-plugin .msp-control-group-header{background:#ecf2f8}.msp-plugin .msp-control-group-header>button,.msp-plugin .msp-control-group-header div{padding-left:4px;text-align:left;height:24px !important;line-height:24px !important;font-size:85% !important;background:#ecf2f8 !important;color:#595959}.msp-plugin .msp-control-group-header .msp-icon{height:24px !important;line-height:24px !important}.msp-plugin .msp-control-group-header>span{padding-left:5px;line-height:21.3333333333px;font-size:70%;background:#ecf2f8;color:#595959}.msp-plugin .msp-control-current{background:#ecf2f8}.msp-plugin .msp-control-group-footer{background:#dae5f1;height:5px;font-size:1px;margin-top:1px}.msp-plugin .msp-control-group-expander{display:block;position:absolute;line-height:32px;padding:0;left:0;top:0;width:120px;text-align:left;background:rgba(0,0,0,0)}.msp-plugin .msp-control-group-expander .msp-icon{line-height:29px;width:31px;text-align:center;font-size:100%}.msp-plugin .msp-plugin-layout_controls{position:absolute;left:10px;top:10px}.msp-plugin .msp-plugin-layout_controls>button:first-child{margin-right:6px}.msp-plugin .msp-empty-control{display:none}.msp-plugin .msp-control .msp-btn-block,.msp-plugin .msp-control .msp-control-row button,.msp-plugin .msp-control-row .msp-control button{margin-bottom:0px;margin-top:0px}.msp-plugin .msp-row-text{height:32px;position:relative;background:#ecf2f8;margin-top:1px}.msp-plugin .msp-row-text>div{line-height:32px;text-align:center;color:#595959}.msp-plugin .msp-help span{display:none}.msp-plugin .msp-help:hover span{display:inline-block;background:linear-gradient(#ecf2f8, rgba(236, 242, 248, 0.8))}.msp-plugin .msp-help-text{position:relative;background:#ecf2f8;margin-top:1px}.msp-plugin .msp-help-text>div{padding:5px 10px;text-align:left;color:#595959}.msp-plugin .msp-help-description{font-style:italic}.msp-plugin .msp-help-legend{padding-top:10px}.msp-plugin .msp-scale-legend>div{width:100%;height:30px}.msp-plugin .msp-scale-legend>div>span{padding:5px;color:#fff;font-weight:bold;background-color:rgba(0,0,0,.2)}.msp-plugin .msp-table-legend>div{margin-right:5px;display:inline-flex}.msp-plugin .msp-table-legend>div .msp-table-legend-color{width:30px;height:20px}.msp-plugin .msp-table-legend>div .msp-table-legend-text{margin:0 5px}.msp-plugin .msp-image-preview{position:relative;background:#ecf2f8;margin-top:1px;padding:10px}.msp-plugin .msp-image-preview canvas{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.msp-plugin .msp-image-preview>span{margin-top:6px;display:block;text-align:center;font-size:80%;line-height:15px}.msp-plugin .msp-copy-image-wrapper{position:relative}.msp-plugin .msp-copy-image-wrapper div{font-weight:bold;padding:3px;margin:1px 0;width:100%;background:#f5f8fb;text-align:center}.msp-plugin .msp-copy-image-wrapper img{margin-top:1px}.msp-plugin .msp-slider-base{position:relative;height:14px;padding:5px 0;width:100%;border-radius:6px;align-self:center;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.msp-plugin .msp-slider-base *{box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.msp-plugin .msp-slider-base-rail{position:absolute;width:100%;background-color:#d4e1ee;height:4px;border-radius:2px}.msp-plugin .msp-slider-base-track{position:absolute;left:0;height:4px;border-radius:6px;background-color:tint(#333333, 60%)}.msp-plugin .msp-slider-base-handle{position:absolute;margin-left:-11px;margin-top:-9px;width:22px;height:22px;cursor:pointer;border-radius:50%;background-color:#333;border:4px solid #d4e1ee}.msp-plugin .msp-slider-base-handle:hover{background-color:#325880}.msp-plugin .msp-slider-base-mark{position:absolute;top:18px;left:0;width:100%;font-size:12px}.msp-plugin .msp-slider-base-mark-text{position:absolute;display:inline-block;vertical-align:middle;text-align:center;cursor:pointer;color:#999}.msp-plugin .msp-slider-base-mark-text-active{color:#666}.msp-plugin .msp-slider-base-step{position:absolute;width:100%;height:4px;background:rgba(0,0,0,0)}.msp-plugin .msp-slider-base-dot{position:absolute;bottom:-2px;margin-left:-4px;width:8px;height:8px;border:2px solid #e9e9e9;background-color:#fff;cursor:pointer;border-radius:50%;vertical-align:middle}.msp-plugin .msp-slider-base-dot:first-child{margin-left:-4px}.msp-plugin .msp-slider-base-dot:last-child{margin-left:-4px}.msp-plugin .msp-slider-base-dot-active{border-color:tint(#333333, 50%)}.msp-plugin .msp-slider-base-disabled{background:#ecf2f8;opacity:.35}.msp-plugin .msp-slider-base-disabled .msp-slider-base-handle,.msp-plugin .msp-slider-base-disabled .msp-slider-base-dot{cursor:not-allowed}.msp-plugin .msp-slider-base-disabled .msp-slider-base-mark-text,.msp-plugin .msp-slider-base-disabled .msp-slider-base-dot{cursor:not-allowed !important}.msp-plugin .msp-description{padding:10px;font-size:85%;background:#ecf2f8;text-align:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;font-weight:light;cursor:default}.msp-plugin .msp-description:not(:first-child){border-top:1px solid #d4e1ee}.msp-plugin .msp-color-picker input{color:#000 !important}.msp-plugin .msp-no-webgl{position:absolute;width:100%;height:100%;left:0;top:0;display:table;text-align:center;background:#ecf2f8}.msp-plugin .msp-no-webgl>div{display:table-cell;vertical-align:middle;text-align:center;width:100%;height:100%}.msp-plugin .msp-no-webgl>div b{font-size:120%}.msp-plugin .msp-loader-msp-btn-file{position:relative;overflow:hidden}.msp-plugin .msp-loader-msp-btn-file input[type=file]{position:absolute;top:0;right:0;min-width:100%;min-height:100%;font-size:100px;text-align:right;filter:alpha(opacity=0);opacity:0;outline:none;background:#fff;cursor:inherit;display:block}.msp-plugin .msp-controls-section{margin-bottom:10px}.msp-plugin .msp-combined-color-button{border:4px solid #f5f8fb !important;margin:0;text-align:center;padding-right:10px;padding-left:10px}.msp-plugin .msp-combined-color-button:hover{border-color:#e3ebf4 !important;border:none;outline-offset:-1px !important;outline:1px solid #acc5df !important}.msp-plugin .msp-combined-color-swatch{width:100%;display:grid;grid-gap:1px;grid-template-columns:repeat(6, auto)}.msp-plugin .msp-combined-color-swatch .msp-btn:hover,.msp-plugin .msp-combined-color-swatch .msp-control-row button:hover,.msp-plugin .msp-control-row .msp-combined-color-swatch button:hover{outline-offset:-1px !important;outline:1px solid #acc5df !important}.msp-plugin .msp-action-select{position:relative}.msp-plugin .msp-action-select select{padding-left:42px}.msp-plugin .msp-action-select option:first-child{color:#595959}.msp-plugin .msp-action-select>.msp-icon{display:block;top:0;left:10px;position:absolute;line-height:32px}.msp-plugin .msp-simple-help-section{height:28px;line-height:28px;margin-top:5px;margin-bottom:5px;padding:0 10px;font-weight:500;background:#ecf2f8;color:#333}.msp-plugin .msp-left-panel-controls-buttons{position:absolute;width:32px;top:0;bottom:0;padding-top:10px;background:#ecf2f8}.msp-plugin .msp-left-panel-controls-buttons-bottom{position:absolute;bottom:0}.msp-plugin .msp-left-panel-controls-button-data-dirty{position:absolute;width:6px;height:6px;background:#e98b39;border-radius:3px;right:6px;bottom:6px}.msp-plugin .msp-left-panel-controls .msp-scrollable-container{left:33px}.msp-plugin .msp-mapped-parameter-group{position:relative}.msp-plugin .msp-mapped-parameter-group>.msp-control-row:first-child>div:nth-child(2){right:33px}.msp-plugin .msp-mapped-parameter-group>button:first-child{right:33px}.msp-plugin .msp-mapped-parameter-group>.msp-btn-icon{position:absolute;right:0;width:32px;top:0;padding:0}.msp-plugin .msp-shape-filled{fill:#333;stroke:#333}.msp-plugin .msp-shape-empty{fill:none;stroke:#333}.msp-plugin .msp-no-overflow{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.msp-plugin .msp-25-lower-contrast-text{color:#737373}.msp-plugin .msp-expandable-group-color-stripe{position:absolute;left:0;top:30px;width:120px;height:2px}.msp-plugin .msp-section-header{height:32px;line-height:32px;margin-top:10px;margin-bottom:10px;text-align:right;padding:0 10px;font-weight:bold;background:#ecf2f8;overflow:hidden;cursor:default}.msp-plugin .msp-section-header>.msp-icon{display:block;float:left}.msp-plugin .msp-section-header>small{font-weight:normal}.msp-plugin .msp-current-header{height:32px;line-height:32px;margin-bottom:10px;text-align:center;font-weight:bold;background:#ecf2f8}.msp-plugin .msp-flex-row{margin-top:1px;background:#ecf2f8;display:flex;flex-direction:row;width:inherit;height:32px}.msp-plugin .msp-flex-row>.msp-flex-item{margin:0;flex:1 1 auto;margin-right:1px;overflow:hidden}.msp-plugin .msp-flex-row>.msp-flex-item:last-child{margin-right:0}.msp-plugin .msp-flex-row>select,.msp-plugin .msp-flex-row>button{margin:0;flex:1 1 auto;margin-right:1px;height:32px;overflow:hidden}.msp-plugin .msp-flex-row .msp-btn-icon,.msp-plugin .msp-flex-row .msp-btn-icon-small{flex:0 0 32px;max-width:32px}.msp-plugin .msp-flex-row>select{background:none}.msp-plugin .msp-flex-row>select>option[value=_]{display:none}.msp-plugin .msp-flex-row>select:last-child,.msp-plugin .msp-flex-row>button:last-child{margin-right:0}.msp-plugin .msp-flex-row>button.msp-control-button-label{background:#ecf2f8}.msp-plugin .msp-state-list{list-style:none}.msp-plugin .msp-state-list>li{position:relative;overflow:hidden}.msp-plugin .msp-state-list>li>button:first-child{text-align:left;border-left:10px solid #c0d3e7 !important}.msp-plugin .msp-state-list>li>div{position:absolute;right:0;top:0}.msp-plugin .msp-tree-row{position:relative;margin-top:0;margin-bottom:1px;background:rgba(0,0,0,0)}.msp-plugin .msp-tree-row-current .msp-btn-tree-label{border-radius:0 !important}.msp-plugin .msp-tree-row-current .msp-btn-tree-label>span{font-weight:bold}.msp-plugin .msp-tree-row .msp-btn-tree-label{text-align:left;border-radius:0 0 0 8px;border-left-width:4px;border-left-style:solid}.msp-plugin .msp-tree-row .msp-btn-tree-label>small{color:#666}.msp-plugin .msp-tree-updates-wrapper .msp-control-group-header:last-child{margin-bottom:1px}.msp-plugin .msp-viewport-top-left-controls{position:absolute;left:10px;top:10px}.msp-plugin .msp-viewport-top-left-controls .msp-traj-controls{line-height:32px;float:left;margin-right:10px;background-color:#f5f8fb}.msp-plugin .msp-viewport-top-left-controls .msp-traj-controls>span{color:#333;margin-left:10px;margin-right:10px;font-size:85%;display:inline-block}.msp-plugin .msp-viewport-top-left-controls .msp-state-snapshot-viewport-controls{line-height:32px;float:left;margin-right:10px}.msp-plugin .msp-viewport-top-left-controls .msp-state-snapshot-viewport-controls>button{background-color:#f5f8fb}.msp-plugin .msp-viewport-top-left-controls .msp-state-snapshot-viewport-controls>select{display:inline-block;width:200px;margin-right:10px}.msp-plugin .msp-viewport-top-left-controls .msp-animation-viewport-controls{line-height:32px;float:left;margin-right:10px;position:relative}.msp-plugin .msp-viewport-top-left-controls .msp-animation-viewport-controls>div:first-child{position:relative;display:inline-block}.msp-plugin .msp-viewport-top-left-controls .msp-animation-viewport-controls>div:first-child>button{position:relative}.msp-plugin .msp-viewport-top-left-controls .msp-animation-viewport-controls .msp-animation-viewport-controls-select{width:290px;position:absolute;left:0;margin-top:10px;background:#d4e1ee}.msp-plugin .msp-viewport-top-left-controls .msp-animation-viewport-controls .msp-animation-viewport-controls-select .msp-control-row:first-child{margin-top:0}.msp-plugin .msp-selection-viewport-controls{position:relative;margin:10px auto 0 auto;width:430px}.msp-plugin .msp-selection-viewport-controls-actions{position:absolute;width:100%;top:32px;background:#d4e1ee}.msp-plugin .msp-selection-viewport-controls>.msp-flex-row .msp-btn,.msp-plugin .msp-selection-viewport-controls>.msp-flex-row .msp-control-row button,.msp-plugin .msp-control-row .msp-selection-viewport-controls>.msp-flex-row button{padding:0 5px}.msp-plugin .msp-selection-viewport-controls select.msp-form-control,.msp-plugin .msp-selection-viewport-controls select.msp-btn,.msp-plugin .msp-selection-viewport-controls .msp-control-row select,.msp-plugin .msp-control-row .msp-selection-viewport-controls select{padding:0 5px;text-align:center;background:#f5f8fb;flex:0 0 80px;text-overflow:ellipsis}.msp-plugin .msp-param-object-list-item{margin-top:1px;position:relative}.msp-plugin .msp-param-object-list-item>button{text-align:left}.msp-plugin .msp-param-object-list-item>button>span{font-weight:bold}.msp-plugin .msp-param-object-list-item>div{position:absolute;right:0;top:0}.msp-plugin .msp-state-actions .msp-transform-wrapper:last-child{margin-bottom:10px}.msp-plugin .msp-button-row{display:flex;flex-direction:row;height:32px;width:inherit}.msp-plugin .msp-button-row>button{margin:0;flex:1 1 auto;margin-right:1px;height:32px;text-align-last:center;background:none;padding:0 10px;overflow:hidden}.msp-plugin .msp-action-menu-options-no-header,.msp-plugin .msp-action-menu-options .msp-control-group-children{max-height:300px;overflow:hidden;overflow-y:auto}.msp-plugin .msp-action-menu-options .msp-control-row,.msp-plugin .msp-action-menu-options button,.msp-plugin .msp-action-menu-options .msp-icon,.msp-plugin .msp-action-menu-options .msp-flex-row{height:24px;line-height:24px}.msp-plugin .msp-action-menu-options button{text-align:left}.msp-plugin .msp-action-menu-options .msp-action-menu-button{margin-top:1px;display:flex}.msp-plugin .msp-action-menu-options .msp-action-menu-button .msp-icon{margin-right:6px}.msp-plugin .msp-representation-entry{position:relative}.msp-plugin .msp-representation-entry>.msp-control-group-header>.msp-btn,.msp-plugin .msp-control-row .msp-representation-entry>.msp-control-group-header>button{font-weight:bold}.msp-plugin .msp-representation-entry>.msp-control-group-header>.msp-icon,.msp-plugin .msp-representation-entry>.msp-control-group-header>.msp-btn-link{line-height:24px;height:24px}.msp-plugin .msp-control-group-presets-wrapper{position:absolute;right:0;top:0}.msp-plugin .msp-control-group-presets-wrapper .msp-control-group-header{background:rgba(0,0,0,0)}.msp-plugin .msp-control-group-presets-wrapper button{background:rgba(0,0,0,0) !important}.msp-plugin .msp-parameter-matrix input{flex:1 1 auto;min-width:0}.msp-plugin .msp-btn-apply-simple{text-align:left}.msp-plugin .msp-btn-apply-simple .msp-icon{margin-right:10px}.msp-plugin .msp-type-class-Root{border-left-color:#ecf2f8}.msp-plugin .msp-type-class-Group{border-left-color:#e98b39}.msp-plugin .msp-type-class-Data{border-left-color:#bfc8c9}.msp-plugin .msp-type-class-Object{border-left-color:#54d98c}.msp-plugin .msp-type-class-Representation3D{border-left-color:#4aa3df}.msp-plugin .msp-type-class-Behavior{border-left-color:#b07cc6}.msp-plugin .msp-accent-color-cyan{color:#bfc8c9}.msp-plugin .msp-accent-bg-cyan{background:#bfc8c9}.msp-plugin .msp-transform-header-brand-cyan{border-bottom:1px solid #bfc8c9}.msp-plugin .msp-transform-header-brand-cyan:active,.msp-plugin .msp-transform-header-brand-cyan:focus{border-bottom:1px solid #bfc8c9}.msp-plugin .msp-accent-color-red{color:#ef8b80}.msp-plugin .msp-accent-bg-red{background:#ef8b80}.msp-plugin .msp-transform-header-brand-red{border-bottom:1px solid #ef8b80}.msp-plugin .msp-transform-header-brand-red:active,.msp-plugin .msp-transform-header-brand-red:focus{border-bottom:1px solid #ef8b80}.msp-plugin .msp-accent-color-gray{color:#46637f}.msp-plugin .msp-accent-bg-gray{background:#46637f}.msp-plugin .msp-transform-header-brand-gray{border-bottom:1px solid #46637f}.msp-plugin .msp-transform-header-brand-gray:active,.msp-plugin .msp-transform-header-brand-gray:focus{border-bottom:1px solid #46637f}.msp-plugin .msp-accent-color-green{color:#54d98c}.msp-plugin .msp-accent-bg-green{background:#54d98c}.msp-plugin .msp-transform-header-brand-green{border-bottom:1px solid #54d98c}.msp-plugin .msp-transform-header-brand-green:active,.msp-plugin .msp-transform-header-brand-green:focus{border-bottom:1px solid #54d98c}.msp-plugin .msp-accent-color-purple{color:#b07cc6}.msp-plugin .msp-accent-bg-purple{background:#b07cc6}.msp-plugin .msp-transform-header-brand-purple{border-bottom:1px solid #b07cc6}.msp-plugin .msp-transform-header-brand-purple:active,.msp-plugin .msp-transform-header-brand-purple:focus{border-bottom:1px solid #b07cc6}.msp-plugin .msp-accent-color-blue{color:#4aa3df}.msp-plugin .msp-accent-bg-blue{background:#4aa3df}.msp-plugin .msp-transform-header-brand-blue{border-bottom:1px solid #4aa3df}.msp-plugin .msp-transform-header-brand-blue:active,.msp-plugin .msp-transform-header-brand-blue:focus{border-bottom:1px solid #4aa3df}.msp-plugin .msp-accent-color-orange{color:#e98b39}.msp-plugin .msp-accent-bg-orange{background:#e98b39}.msp-plugin .msp-transform-header-brand-orange{border-bottom:1px solid #e98b39}.msp-plugin .msp-transform-header-brand-orange:active,.msp-plugin .msp-transform-header-brand-orange:focus{border-bottom:1px solid #e98b39}.msp-plugin .msp-volume-channel-inline-controls>:first-child{position:absolute;left:0;top:0;height:32px;right:32px}.msp-plugin .msp-volume-channel-inline-controls .msp-slider>div:first-child{right:42px}.msp-plugin .msp-volume-channel-inline-controls .msp-slider>div:last-child{width:30px}.msp-plugin .msp-volume-channel-inline-controls>button{position:absolute;right:0;width:32px;top:0;padding:0}.msp-plugin .msp-volume-channel-inline-controls>button .msp-material-icon{margin-right:0}.msp-plugin .msp-list-unstyled{padding-left:0;list-style:none}.msp-plugin .msp-drag-drop-overlay{border:12px dashed #333;background:rgba(0,0,0,.36);display:flex;align-items:center;justify-content:center;position:absolute;left:0;right:0;top:0;bottom:0;font-size:48px;font-weight:bold}.msp-plugin .msp-task-state{line-height:32px}.msp-plugin .msp-task-state>span{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;cursor:default}.msp-plugin .msp-overlay-tasks{position:absolute;display:flex;top:0;left:0;bottom:0;right:0;height:100%;width:100%;z-index:1000;justify-content:center;align-items:center;background:rgba(0,0,0,.25)}.msp-plugin .msp-overlay-tasks .msp-task-state>div{height:32px;margin-top:1px;position:relative;width:100%;background:#ecf2f8}.msp-plugin .msp-overlay-tasks .msp-task-state>div>div{height:32px;line-height:32px;display:inline-block;padding:0 10px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;cursor:default;white-space:nowrap;background:#ecf2f8;position:absolute}.msp-plugin .msp-overlay-tasks .msp-task-state>div>button{display:inline-block;margin-top:-3px}.msp-plugin .msp-background-tasks{position:absolute;left:0;bottom:0;z-index:1000}.msp-plugin .msp-background-tasks .msp-task-state>div{height:32px;margin-top:1px;position:relative;width:100%;background:#ecf2f8}.msp-plugin .msp-background-tasks .msp-task-state>div>div{height:32px;line-height:32px;display:inline-block;padding:0 10px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;cursor:default;white-space:nowrap;background:#ecf2f8;position:absolute}.msp-plugin .msp-background-tasks .msp-task-state>div>button{display:inline-block;margin-top:-3px}.msp-plugin .msp-viewport{position:absolute;left:0;top:0;right:0;bottom:0;background:#ecf2f8}.msp-plugin .msp-viewport .msp-btn-link{background:rgba(0,0,0,.2)}.msp-plugin .msp-viewport-expanded{position:fixed;z-index:1000}.msp-plugin .msp-viewport-host3d{position:absolute;left:0;top:0;right:0;bottom:0;-webkit-user-select:none;user-select:none;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-touch-callout:none;touch-action:manipulation}.msp-plugin .msp-viewport-host3d>canvas{background-color:#ecf2f8;background-image:linear-gradient(45deg, lightgrey 25%, transparent 25%, transparent 75%, lightgrey 75%, lightgrey),linear-gradient(45deg, lightgrey 25%, transparent 25%, transparent 75%, lightgrey 75%, lightgrey);background-size:60px 60px;background-position:0 0,30px 30px}.msp-plugin .msp-viewport-controls{position:absolute;right:10px;top:10px;width:32px}.msp-plugin .msp-viewport-controls-buttons{text-align:right;position:relative}.msp-plugin .msp-viewport-controls-buttons>div{position:relative;margin-bottom:4px}.msp-plugin .msp-viewport-controls-buttons button{padding:0;text-align:center;width:32px;position:relative}.msp-plugin .msp-viewport-controls-buttons .msp-btn-link-toggle-off{color:#878787}.msp-plugin .msp-viewport-controls-buttons .msp-btn-link:hover{color:#325880}.msp-plugin .msp-semi-transparent-background{background:#ecf2f8;opacity:.5;position:absolute;top:0;left:0;width:100%;height:100%}.msp-plugin .msp-viewport-controls-panel{width:290px;top:0;right:36px;position:absolute;background:#d4e1ee}.msp-plugin .msp-viewport-controls-panel .msp-control-group-wrapper:first-child{padding-top:0}.msp-plugin .msp-viewport-controls-panel .msp-viewport-controls-panel-controls{overflow-y:auto;max-height:400px}.msp-plugin .msp-highlight-toast-wrapper{position:absolute;right:10px;bottom:10px;max-width:95%;z-index:10000}.msp-plugin .msp-highlight-info{color:#325880;padding:3px 10px;background:#ecf2f8;opacity:90%;text-align:right;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;cursor:default}.msp-plugin .msp-highlight-info-hr{margin-inline:0px;margin-block:3px;border:none;height:1px;background-color:#325880}.msp-plugin .msp-highlight-info-additional{font-size:85%;display:inline-block;color:#5a8bbe}.msp-plugin .msp-log-wrap{position:absolute;right:0;top:0;left:0;bottom:0;overflow:hidden}.msp-plugin .msp-log{position:absolute;right:-20px;top:0;left:0;bottom:0;overflow-y:scroll;overflow-x:hidden;font-size:90%;background:#d4e1ee}.msp-plugin .msp-log{font-size:90%;color:#404040}.msp-plugin .msp-log ul{padding:0;margin:0}.msp-plugin .msp-log li{clear:both;margin:0;background:#ecf2f8;position:relative}.msp-plugin .msp-log li:not(:last-child){border-bottom:1px solid #b5cbe2}.msp-plugin .msp-log .msp-log-entry{margin-left:110px;background:#e7eef6;padding:3px 25px 3px 10px}.msp-plugin .msp-log .msp-log-timestamp{padding:3px 10px 3px 10px;float:left;text-align:right;width:110px;color:#666;font-size:100%}.msp-plugin .msp-log .msp-log-timestamp small{font-size:100%}.msp-plugin .msp-log .label{margin-top:-3px;font-size:7pt}.msp-plugin .msp-log-entry-badge{position:absolute;left:0;top:0;bottom:0;width:6px}.msp-plugin .msp-log-entry-message{background:#0cca5d}.msp-plugin .msp-log-entry-info{background:#5e3673}.msp-plugin .msp-log-entry-error{background:#fd354b}.msp-plugin .msp-log-entry-warning{background:#fcc937}.msp-plugin .msp-sequence{position:absolute;right:0;top:0;left:0;bottom:0;background:#ecf2f8}.msp-plugin .msp-sequence-select{position:relative;height:24px;width:100%;margin-bottom:1px;background:#d4e1ee;text-align:left}.msp-plugin .msp-sequence-select>span{display:inline-block;line-height:24px;padding:0 10px;font-size:85%;font-weight:bold;cursor:default}.msp-plugin .msp-sequence-select>select{display:inline-block;max-width:120px;width:auto;text-overflow:ellipsis;font-size:85%;height:24px;line-height:24px;background-size:6px 8px;background-color:#d4e1ee}.msp-plugin .msp-sequence-wrapper{word-break:break-word;padding:10px 10px 3px 10px;user-select:none}.msp-plugin .msp-sequence-wrapper-non-empty{font-size:85%;line-height:180%;font-family:"Courier New",monospace;background:#f5f8fb;width:100%;overflow-y:auto;overflow-x:hidden;position:absolute;top:25px;left:0;bottom:0;right:0}.msp-plugin .msp-sequence-chain-label{margin-left:10px;margin-top:10px;user-select:none;color:#325880;font-size:90%;line-height:90%;padding-left:.2em}.msp-plugin .msp-sequence-wrapper span{cursor:pointer}.msp-plugin .msp-sequence-wrapper .msp-sequence-residue-long{margin:0em .2em 0em .2em}.msp-plugin .msp-sequence-wrapper .msp-sequence-residue-long-begin{margin:0em .2em 0em 0em}.msp-plugin .msp-sequence-wrapper .msp-sequence-label{color:#325880;font-size:90%;line-height:90%;padding-bottom:1em;padding-left:.2em}.msp-plugin .msp-sequence-wrapper .msp-sequence-number{color:#325880;word-break:keep-all;cursor:default;position:relative;top:-1.1em;left:3.1em;padding:0px;margin-left:-3em;font-size:80%}.msp-plugin .msp-sequence-wrapper .msp-sequence-number-long{left:3.3em}.msp-plugin .msp-sequence-wrapper .msp-sequence-number-long-negative{left:2.7em}.msp-plugin .msp-sequence-wrapper .msp-sequence-number-negative{left:2.5em}.msp-plugin .msp-sequence-wrapper .msp-sequence-present{color:#333}.msp-plugin .msp-sequence-wrapper .msp-sequence-missing{color:#878787}.msp-plugin .msp-transformer .msp-entity-badge{position:absolute;top:0;right:0;height:32px;line-height:32px;width:32px}.msp-plugin .msp-layout-right,.msp-plugin .msp-layout-left{background:#d4e1ee}.msp-plugin .msp-transformer-wrapper{position:relative}.msp-plugin .msp-transformer-wrapper .msp-entity-badge{left:0;top:0}.msp-plugin .msp-transformer-wrapper:first-child .msp-panel-description-content{top:33px}.msp-plugin .msp-transformer-wrapper:not(:first-child) .msp-panel-description-content{bottom:33px}.msp-plugin .msp-transform-wrapper{margin-bottom:10px}.msp-plugin .msp-transform-wrapper-collapsed{margin-bottom:1px}.msp-plugin .msp-transform-update-wrapper{margin-bottom:1px}.msp-plugin .msp-transform-update-wrapper-collapsed{margin-bottom:1px}.msp-plugin .msp-transform-update-wrapper>.msp-transform-header>button,.msp-plugin .msp-transform-update-wrapper-collapsed>.msp-transform-header>button{text-align:left;padding-left:32px;line-height:24px;background:#e3ebf4}.msp-plugin .msp-transform-wrapper>.msp-transform-header>button{text-align:left;background:#ecf2f8;font-weight:bold;padding-right:5px}.msp-plugin .msp-transform-header{position:relative}.msp-plugin .msp-transform-header>button>small{font-weight:normal;float:right}.msp-plugin .msp-transform-header>button>span:first-child{margin-right:10px}.msp-plugin .msp-transform-header>button:hover{color:#595959}.msp-plugin .msp-transform-header-brand{margin-bottom:-1px}.msp-plugin .msp-transform-header-brand svg{fill:#333;stroke:#333}.msp-plugin .msp-transform-default-params{background:#ecf2f8;position:absolute;left:0;top:0;width:32px;padding:0}.msp-plugin .msp-transform-default-params:hover{background:#fff}.msp-plugin .msp-transform-apply-wrap{position:relative;margin-top:1px;width:100%;height:32px}.msp-plugin .msp-transform-refresh{width:87px;margin-left:33px;background:#ecf2f8;text-align:right}.msp-plugin .msp-transform-apply{display:block;position:absolute;left:120px;right:0;top:0}.msp-plugin .msp-transform-apply-wider{margin-left:33px}.msp-plugin .msp-data-beh{margin:10px 0 !important}.msp-plugin .msp-toast-container{position:relative;z-index:1001}.msp-plugin .msp-toast-container .msp-toast-entry{color:#333;background:#d4e1ee;position:relative;float:right;min-height:32px;margin-top:10px;border:1px solid #b5cbe2;display:table}.msp-plugin .msp-toast-container .msp-toast-entry .msp-toast-title{height:100%;line-height:32px;padding:0 10px;background:#ecf2f8;font-weight:bold;display:table-cell;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;font-weight:light;cursor:pointer}.msp-plugin .msp-toast-container .msp-toast-entry .msp-toast-message{padding:3px 42px 3px 10px;display:table-cell}.msp-plugin .msp-toast-container .msp-toast-entry .msp-toast-message a{text-decoration:none;color:#325880;font-weight:bold}.msp-plugin .msp-toast-container .msp-toast-entry .msp-toast-message a:hover{text-decoration:underline;color:#5a8bbe}.msp-plugin .msp-toast-container .msp-toast-entry .msp-toast-message a:active,.msp-plugin .msp-toast-container .msp-toast-entry .msp-toast-message a:focus{color:#325880;outline-offset:0;outline:none}.msp-plugin .msp-toast-container .msp-toast-entry .msp-toast-hide{position:absolute;width:42px;right:0;top:0;bottom:0}.msp-plugin .msp-toast-container .msp-toast-entry .msp-toast-hide .msp-btn-icon{background:rgba(0,0,0,0);position:absolute;top:1px;right:0;left:0;bottom:0;width:100%;text-align:right;padding-right:5px}.msp-plugin .msp-help-row{position:relative;height:32px;background:#ecf2f8;margin-top:1px;display:table;width:100%}.msp-plugin .msp-help-row>span{width:120px;text-align:right;padding:3px 10px;color:#595959;display:table-cell;font-weight:bold;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;cursor:default}.msp-plugin .msp-help-row>div{background:#f5f8fb;position:relative;padding:3px 10px;display:table-cell}.msp-plugin .msp-canvas{width:100%;height:100%;background-color:#f3f2ee}.msp-plugin .msp-canvas text{-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.msp-plugin .msp-canvas circle{stroke:#000;stroke-width:10;stroke-opacity:.3}.msp-plugin .msp-canvas circle:hover{fill:#ae5d04;stroke:#000;stroke-width:10px}.msp-plugin .msp-canvas .info{fill:#fff;stroke:#000;stroke-width:3}.msp-plugin .msp-canvas .show{visibility:visible}.msp-plugin .msp-canvas .hide{visibility:hidden}.msp-plugin .msp-canvas .delete-button rect{fill:#ed4337;stroke:#000}.msp-plugin .msp-canvas .delete-button text{stroke:#fff;fill:#fff}.msp-plugin .msp-canvas .delete-button:hover{stroke:#000;stroke-width:3;fill:#ff6961}.msp-plugin .msp-canvas .infoCircle:hover{fill:#4c66b2}.msp-plugin .msp-canvas:focus{outline:none}.msp-plugin .msp-logo{display:block;position:absolute;bottom:10px;right:10px;height:32px;width:100px;background-repeat:no-repeat;background-position:bottom right;background-size:auto;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFcAAAAgCAYAAABn7+QVAAAABGdBTUEAALGOfPtRkwAAACBjSFJNAACHDwAAjA8AAP1SAACBQAAAfXkAAOmLAAA85QAAGcxzPIV3AAAKL2lDQ1BJQ0MgUHJvZmlsZQAASMedlndUVNcWh8+9d3qhzTACUobeu8AA0nuTXkVhmBlgKAMOMzSxIaICEUVEmiJIUMSA0VAkVkSxEBRUsAckCCgxGEVULG9G1ouurLz38vL746xv7bP3ufvsvc9aFwCSpy+XlwZLAZDKE/CDPJzpEZFRdOwAgAEeYIApAExWRrpfsHsIEMnLzYWeIXICXwQB8HpYvAJw09AzgE4H/5+kWel8geiYABGbszkZLBEXiDglS5Auts+KmBqXLGYYJWa+KEERy4k5YZENPvsssqOY2ak8tojFOaezU9li7hXxtkwhR8SIr4gLM7mcLBHfErFGijCVK+I34thUDjMDABRJbBdwWIkiNhExiR8S5CLi5QDgSAlfcdxXLOBkC8SXcklLz+FzExIFdB2WLt3U2ppB9+RkpXAEAsMAJiuZyWfTXdJS05m8HAAW7/xZMuLa0kVFtjS1trQ0NDMy/apQ/3Xzb0rc20V6Gfi5ZxCt/4vtr/zSGgBgzIlqs/OLLa4KgM4tAMjd+2LTOACApKhvHde/ug9NPC+JAkG6jbFxVlaWEZfDMhIX9A/9T4e/oa++ZyQ+7o/y0F058UxhioAurhsrLSVNyKdnpDNZHLrhn4f4Hwf+dR4GQZx4Dp/DE0WEiaaMy0sQtZvH5gq4aTw6l/efmvgPw/6kxbkWidL4EVBjjIDUdSpAfu0HKAoRINH7xV3/o2+++DAgfnnhKpOLc//vN/1nwaXiJYOb8DnOJSiEzhLyMxf3xM8SoAEBSAIqkAfKQB3oAENgBqyALXAEbsAb+IMQEAlWAxZIBKmAD7JAHtgECkEx2An2gGpQBxpBM2gFx0EnOAXOg0vgGrgBboP7YBRMgGdgFrwGCxAEYSEyRIHkIRVIE9KHzCAGZA+5Qb5QEBQJxUIJEA8SQnnQZqgYKoOqoXqoGfoeOgmdh65Ag9BdaAyahn6H3sEITIKpsBKsBRvDDNgJ9oFD4FVwArwGzoUL4B1wJdwAH4U74PPwNfg2PAo/g+cQgBARGqKKGCIMxAXxR6KQeISPrEeKkAqkAWlFupE+5CYyiswgb1EYFAVFRxmibFGeqFAUC7UGtR5VgqpGHUZ1oHpRN1FjqFnURzQZrYjWR9ugvdAR6AR0FroQXYFuQrejL6JvoyfQrzEYDA2jjbHCeGIiMUmYtZgSzD5MG+YcZhAzjpnDYrHyWH2sHdYfy8QKsIXYKuxR7FnsEHYC+wZHxKngzHDuuCgcD5ePq8AdwZ3BDeEmcQt4Kbwm3gbvj2fjc/Cl+EZ8N/46fgK/QJAmaBPsCCGEJMImQiWhlXCR8IDwkkgkqhGtiYFELnEjsZJ4jHiZOEZ8S5Ih6ZFcSNEkIWkH6RDpHOku6SWZTNYiO5KjyALyDnIz+QL5EfmNBEXCSMJLgi2xQaJGokNiSOK5JF5SU9JJcrVkrmSF5AnJ65IzUngpLSkXKabUeqkaqZNSI1Jz0hRpU2l/6VTpEukj0lekp2SwMloybjJsmQKZgzIXZMYpCEWd4kJhUTZTGikXKRNUDFWb6kVNohZTv6MOUGdlZWSXyYbJZsvWyJ6WHaUhNC2aFy2FVko7ThumvVuitMRpCWfJ9iWtS4aWzMstlXOU48gVybXJ3ZZ7J0+Xd5NPlt8l3yn/UAGloKcQqJClsF/hosLMUupS26WspUVLjy+9pwgr6ikGKa5VPKjYrzinpKzkoZSuVKV0QWlGmabsqJykXK58RnlahaJir8JVKVc5q/KULkt3oqfQK+m99FlVRVVPVaFqveqA6oKatlqoWr5am9pDdYI6Qz1evVy9R31WQ0XDTyNPo0XjniZek6GZqLlXs09zXktbK1xrq1an1pS2nLaXdq52i/YDHbKOg84anQadW7oYXYZusu4+3Rt6sJ6FXqJejd51fVjfUp+rv09/0ABtYG3AM2gwGDEkGToZZhq2GI4Z0Yx8jfKNOo2eG2sYRxnvMu4z/mhiYZJi0mhy31TG1Ns037Tb9HczPTOWWY3ZLXOyubv5BvMu8xfL9Jdxlu1fdseCYuFnsdWix+KDpZUl37LVctpKwyrWqtZqhEFlBDBKGJet0dbO1husT1m/tbG0Edgct/nN1tA22faI7dRy7eWc5Y3Lx+3U7Jh29Xaj9nT7WPsD9qMOqg5MhwaHx47qjmzHJsdJJ12nJKejTs+dTZz5zu3O8y42Lutczrkirh6uRa4DbjJuoW7Vbo/c1dwT3FvcZz0sPNZ6nPNEe/p47vIc8VLyYnk1e816W3mv8+71IfkE+1T7PPbV8+X7dvvBft5+u/0erNBcwVvR6Q/8vfx3+z8M0A5YE/BjICYwILAm8EmQaVBeUF8wJTgm+Ejw6xDnkNKQ+6E6ocLQnjDJsOiw5rD5cNfwsvDRCOOIdRHXIhUiuZFdUdiosKimqLmVbiv3rJyItogujB5epb0qe9WV1QqrU1afjpGMYcaciEXHhsceiX3P9Gc2MOfivOJq42ZZLqy9rGdsR3Y5e5pjxynjTMbbxZfFTyXYJexOmE50SKxInOG6cKu5L5I8k+qS5pP9kw8lf0oJT2lLxaXGpp7kyfCSeb1pymnZaYPp+umF6aNrbNbsWTPL9+E3ZUAZqzK6BFTRz1S/UEe4RTiWaZ9Zk/kmKyzrRLZ0Ni+7P0cvZ3vOZK577rdrUWtZa3vyVPM25Y2tc1pXvx5aH7e+Z4P6hoINExs9Nh7eRNiUvOmnfJP8svxXm8M3dxcoFWwsGN/isaWlUKKQXziy1XZr3TbUNu62ge3m26u2fyxiF10tNimuKH5fwiq5+o3pN5XffNoRv2Og1LJ0/07MTt7O4V0Ouw6XSZfllo3v9tvdUU4vLyp/tSdmz5WKZRV1ewl7hXtHK30ru6o0qnZWva9OrL5d41zTVqtYu712fh9739B+x/2tdUp1xXXvDnAP3Kn3qO9o0GqoOIg5mHnwSWNYY9+3jG+bmxSaips+HOIdGj0cdLi32aq5+YjikdIWuEXYMn00+uiN71y/62o1bK1vo7UVHwPHhMeefh/7/fBxn+M9JxgnWn/Q/KG2ndJe1AF15HTMdiZ2jnZFdg2e9D7Z023b3f6j0Y+HTqmeqjkte7r0DOFMwZlPZ3PPzp1LPzdzPuH8eE9Mz/0LERdu9Qb2Dlz0uXj5kvulC31OfWcv210+dcXmysmrjKud1yyvdfRb9Lf/ZPFT+4DlQMd1q+tdN6xvdA8uHzwz5DB0/qbrzUu3vG5du73i9uBw6PCdkeiR0TvsO1N3U+6+uJd5b+H+xgfoB0UPpR5WPFJ81PCz7s9to5ajp8dcx/ofBz++P84af/ZLxi/vJwqekJ9UTKpMNk+ZTZ2adp++8XTl04ln6c8WZgp/lf619rnO8x9+c/ytfzZiduIF/8Wn30teyr889GrZq565gLlHr1NfL8wXvZF/c/gt423fu/B3kwtZ77HvKz/ofuj+6PPxwafUT5/+BQOY8/xvJtwPAAAACXBIWXMAAC4iAAAuIgGq4t2SAAANMElEQVRoQ92aB1xURx7H/69sY5eOFBELCipESsSC0RCMJRZMrICHGiMmGjWaqDk7YEsuGok5TS6xi56KGtsFG6jBiAYLKhqVc8GGBZG+fd97N+/twNJWFksS7/v5DG/nN/OG/fze/838Z4CA/wMCE9d9W8oQ3mUMBSojBTqWAuBQAweHIC56lanXHw8xJixM6qhQNcX1KuQykluyKzMPVxvF5XUh3hIpgFSiQz8AJBItSKU6sCsX55P9byLxxRKwYl3W5O6dg5o62IMRmcpyBBz87wNYcyH3R4iL+gh3+8MhHaTqYJKUKO2dPYTigIqza1MlLZLnzh3arQ/uZzVn14YOIGRyJWXrqgR5U6VI1kRJS92VBEEry+wrAnC3F04XL3cY4OMF7/p6weC2zSDQzQG3/IlM7dspdPmU0VxtLqYf5haM6HYOBYLVUwcXByQy92JxXioexUzFhT5cySn3TrjrC4WP3EsPHuPfZGJVZg4HCdt/wF0aT8LWUHT/jTpl4fZU3KNBSHytQ0D33uDR0qfjoqg3hmOpQU65d4u2cW4X6NCyJ1ZeIeKSFRC3p1q4kzYdmzr6Zk98p6rsj+rhi0KoFe5gIm53M/ypDhbNJQgC3kbTFUGSi+LiwmgsWyQ5zk9McESCZ8gEVHvF1kneWJI5CJT2SHWDbUQ0vNbEvqr4OClwCyZ+RzSQ+psomqOwUgOL5vL4BIdCi/aBvtJb3AdYsoirs0usnWfH1vbNOmPlFWHmWlve2DFB3t0nhvh0qm2wRRZuG+ksFyUlDe4qcbYRJ0H8v6NxSxVPNZcnPPJDIAlY8PWnXWVYqsPhZb3lDAfzW3T50xbmZ+MfyFhbRcr7yNj1EZ1gdb+O8DFvMKk7it4+ywYjY11k0s1po8KpmA4tITUmnHaWS5HBKJKr0aC5zXw6QJvgNzyhXDIZS3UgCN3UJq3fdLd188PKs3H8+Bjpvn2x/jv2TwnbsOezt3/YPavTss3TXXHzi4U3Vic/+H5gq+7rkLEkmgb5yWwVb3CnNiFAcD+aOtaGaMobmzrqLaoyIwlC11RkNB/JvPGCiGjQXJ43h8QCSRGzEqeG1Xmah77u48QCPdM7NBYrjSPveJg069i7H2UcjUpndWSZrZ3bFRfHlic8nL1TnezcM2Vyh0dLtsbnzdu8JHHW5qVt8G3Pj9qOT4RYluOE/UYllQZPCvFxMik1cbGRSKsbWwlKUPhxhDGxZJ25Ls28oX2X3k60HmZiqQqDTj+rqX8fB7lTC6xYT2569zA9Jb5m7xz8r3aB03uE9fpOFP7WYujZ/TPo22MSDOs1FT4ePBfG9ZvQsod/12kUJf190prli4YnJ6Mt2HOSMKICGLL/5su3Tn6wPxMYZE4lvMH/RAZP6NjaJGBsJSJIi3mrTg6d9bAYem05YSxS6WJgQdR2LFtnLk9oxFigRaKpq2aEuWMJDizu6UlQosltuo3FivU8zgyOkEhkRzz941u2CogDxyYhgMzDrWb4rMXN0Q36vN4TZr43XuTt0WyeoiR/MwqV509JqgzOSx+77zcw8nGM4UMx2r+5qYJpqpByHVztcc3E+QdFXJWx8dE78MgCDaZYldi5eIB/jwj577/+NB9VJ/GajmHj2nYZKpPZNW5aVJ9v2ULDwlaXdsvFYlvzpo1l9PD4yXUoKStAY3MgFjuAexNvcFA4C+32NgqY3HcofHFg18ioH1adRSHyjdBgCQJaQ/y2SFyzAIMKuSkp+1YAepIOGwZ1Bgo9UGu4gCK2z9ZfoEit3yMI1X8XxZwh+B2al2/7jOnfbsKqGaNeB7RYgmsAmvJi2LHkbwaC0baXyElKKpVe7f/JVlpsY4978Abp0PxsvqcSVVZfMGoud3Z44+HZ8vOeG2m3GWOkntNwK8CTgky4eiWJK9fqflUZJRe0jFirZmgvDSPu29or2PmdzhEgpkVC3/ziIpiRvL1ETUua74+NLed3aEnRg4IC3F2Edp6DNx/AmqxcXLMeFK0w3M8L1yxToTfCtCNZUKTRY8VMZv4TyC/VxFiM3OM7N0BudiaMW/g9VgBkto7QIWyYKDstaSEYGdo3dEQNY/n5/EbKJHBq2QPcOozBWk24K00UGgM3QuI2GisA5cVXIOdyYqHeKBo0cEDSaSwLLNu8TJ5968o6LQORI3oMETRPRycI9GrhkHH7Di/UjQpEvzYeQnlZKMQ0rB1Y/25+xO4M2Fl61/KcazTo4W5ONuRcOIUVEx3CI0Fqax8lljsO9w2tuTMuyksHVcHvwKHX2xIcU9aFsgmQEbR5MX50aztQYJzWu19NY3lmjp6pekIrxmbfvv6woLQQqwCBzZujn0SYqfbX5KkLGprVL51IXgMcW5VdgFgqh4DwkaR/WAxBi837Co5j4Hbmj3wucglL9cJy4ENKzRkVf5+q9Bqnpol9WKpDYuR0DfoKabcL8rGCotfBEQ0GLy41ewk81VyWIfYV3lNmXj2NNizVaNvtPfBBc2B1Hl07BKqi2xkkyf0HSxYg0D7eFn9G5rJ69EAYfXj4zgos1QtaYoq16G2qRCYWA0dw5oFqcb9cAyfvPG50ufq4FI/wdPg5t777+VKoNh1ZPzVbIAiWIwl69qm9G9Lad+kJFF5QKFosXCthjXrI/W0jsCw5G62+Tz0D5p8mU3sxrp7FWwClZKYcHWMawvKqvuf6PZh86HwBusW6VY0g/FzlEru0mHAsPB05mnN3X7sHKzNz+K91Df2o+VQIorDBVGz2lpPHvhobdvRy+v7ewT2HYrUmdy/tBU3po5Ren55MP7e+a6MP2F8aHLHXqr9ExO8Y46oQr08bFS6cflkD/1gT+wYLH1aeydGCSD8Q5ox5Ymo1YdUmgqTI2ZkpWziDToMVM0adCpRntrAERc/B0qvFImSsrWAsWdvYx/j1rkRtYNBGo+bbk9gnGKZ19Q0GgzgVlm4yJeQYq8ydsfb4eW158a6LaTuxYkaZuQN0mrLtb39y/KkL2V+Shdved7URrz9Wj7Fn7xfBuAOZuGbiTqkKRu09Y8HgtkFg5A3+qcpgq8zloUT0vItpyUZthXlq0amKQfnbTgNw5AIsvTos3o2SYGL10vAA0r8eY/mdV4nWgBUz26/eqWMwz7JeQeDrbIcM1idgyXpzp6xOyzHoVBuyUrdiBeD6ySQw6DVr+n9+XImlBmE5ggHOiGs8wleg0G7e8urEQwBNEuavywjpYY2BGse8oQ9QHjgM7bK0/ApfiWDslhOGEq1+NZZqwnH526/cOVbdYP7K13OelKcBY/O5ICKsNpeHFJMJ1zL2aVQlBaAqfgDKswdUKIFYhJutAqVqDznDI1xDdbRVFkkc6YzDQ9piqX448HNSmE+jitVq/mkU4OqzERd9sEJnGNJ/W7pgcGalsTp9FDLRdF5QGwJ0wNpEoAhOi0GGao0M8Fe+DkzpIEgYpMY9G2fuxMRj+axBvyrryEbITtsIjNGwcuDnvzzEzVahJ+gsVnURfTK/Vg6uYUDSNH8gVG/0Ltqy6E2FVNajjYf5WFNZ8AhQcvb88zxvsIEZzBvcV4hYYyQsiP4Jt9YPbyAycgcytM2qn4G/moz9qMpYnkaZK0CIv8y9cKQk72JqkYqAZVi1GmlAxXVGX3DdWHYGKwDurSLBxrb1yLRDo/ftTxkflpQyxW5lyhTJ97vm+azYNneWiCJ+HtxtICnCeTZ/wH0m9yaQHHNAEJ6X+ZGHeINLtLpIiIusP2JrwxspJyLyyzVL+WttY3kabe74xCNFBMd+xXDcl2MTfinBcqPggP5Kfe+bqimTomTwWkg8tPaNjLC3bX5CxtKljjqxViGzyfFrFfTFB/3GK3w9zTvd49eyobCsNGPvlCl1ziKeGWQwxI2sYWx2QamwsFWWcQfO4hbM9EgNLIiaK1zrofGRy8PQ34o1mmf+Hyz5/nub9Kprh4qVS4WzBR6SFEOLVv3hze7zYOiAFTDqveUQ03829O0yDJrYm8+Lr9+/AztOn1SxHPNy/xoqklxEi9qAo7kPq0rGvcIBaOIah3s0yDOZO/rro6rIxDP1Pi1rIBKABb3tiIqCw0fzL38GmvKbuMUyOoMODmf9Ct8d3l3CsfpByR9Pu4KbXg5zhjxBUZlSp8yPPoF7NIhwWG5jb5/h16kbltBrShLw+K4SCvOVCYt2no7HslWg7e9iW5fWcxVNvIGmGVMRGYEoO4zmykLhsBx3heTk4VSgW+lENSObQ8n9POSOHUEi90L97dHOlQKtXg9FFSVwu+A+XLmbx5Tp2F1qhvr7d7Ezb+MhBPjD8tdbNA+SSGSgYwmUGpFwo7AczuYX/an/iEdM6B3qKqbZAbguIKJQEZEosYSLi3efzsKyVZxd3/V1Cc0FisQMGsMAUqkBXfXoqgXChjlgF/LAfCiLOXfuQ5G2tDRcY5CGaRhxO41R4qJlRJSaEZVrjOLbapY6Z9BASkJswn18Sw2CVqx/t5ghncoZElQsBTqm8u+X3A0UaRm48gcD8D/XZskfp8IFSwAAAABJRU5ErkJggg==)}.msp-plugin .msp-plugin-content{color:#333}\n',""]),e.exports=t},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var i=(a=r,u=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),s="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(u),"/*# ".concat(s," */")),o=r.sources.map((function(e){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(e," */")}));return[n].concat(o).concat([i]).join("\n")}var a,u,s;return[n].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,r){"string"==typeof e&&(e=[[null,e,""]]);var i={};if(r)for(var o=0;o<this.length;o++){var a=this[o][0];null!=a&&(i[a]=!0)}for(var u=0;u<e.length;u++){var s=[].concat(e[u]);r&&i[s[0]]||(n&&(s[2]?s[2]="".concat(n," and ").concat(s[2]):s[2]=n),t.push(s))}},t}},function(e,t,n){var r,i,o={},a=(r=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===i&&(i=r.apply(this,arguments)),i}),u=function(e,t){return t?t.querySelector(e):document.querySelector(e)},s=function(e){var t={};return function(e,n){if("function"==typeof e)return e();if(void 0===t[e]){var r=u.call(this,e,n);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}t[e]=r}return t[e]}}(),c=null,l=0,d=[],f=n(23);function p(e,t){for(var n=0;n<e.length;n++){var r=e[n],i=o[r.id];if(i){i.refs++;for(var a=0;a<i.parts.length;a++)i.parts[a](r.parts[a]);for(;a<r.parts.length;a++)i.parts.push(_(r.parts[a],t))}else{var u=[];for(a=0;a<r.parts.length;a++)u.push(_(r.parts[a],t));o[r.id]={id:r.id,refs:1,parts:u}}}}function m(e,t){for(var n=[],r={},i=0;i<e.length;i++){var o=e[i],a=t.base?o[0]+t.base:o[0],u={css:o[1],media:o[2],sourceMap:o[3]};r[a]?r[a].parts.push(u):n.push(r[a]={id:a,parts:[u]})}return n}function h(e,t){var n=s(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=d[d.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),d.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var i=s(e.insertAt.before,n);n.insertBefore(t,i)}}function g(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=d.indexOf(e);t>=0&&d.splice(t,1)}function v(e){var t=document.createElement("style");if(void 0===e.attrs.type&&(e.attrs.type="text/css"),void 0===e.attrs.nonce){var r=function(){0;return n.nc}();r&&(e.attrs.nonce=r)}return y(t,e.attrs),h(e,t),t}function y(e,t){Object.keys(t).forEach((function(n){e.setAttribute(n,t[n])}))}function _(e,t){var n,r,i,o;if(t.transform&&e.css){if(!(o="function"==typeof t.transform?t.transform(e.css):t.transform.default(e.css)))return function(){};e.css=o}if(t.singleton){var a=l++;n=c||(c=v(t)),r=A.bind(null,n,a,!1),i=A.bind(null,n,a,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",y(t,e.attrs),h(e,t),t}(t),r=S.bind(null,n,t),i=function(){g(n),n.href&&URL.revokeObjectURL(n.href)}):(n=v(t),r=w.bind(null,n),i=function(){g(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else i()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=a()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=m(e,t);return p(n,t),function(e){for(var r=[],i=0;i<n.length;i++){var a=n[i];(u=o[a.id]).refs--,r.push(u)}e&&p(m(e,t),t);for(i=0;i<r.length;i++){var u;if(0===(u=r[i]).refs){for(var s=0;s<u.parts.length;s++)u.parts[s]();delete o[u.id]}}}};var b,x=(b=[],function(e,t){return b[e]=t,b.filter(Boolean).join("\n")});function A(e,t,n,r){var i=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=x(t,i);else{var o=document.createTextNode(i),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}function w(e,t){var n=t.css,r=t.media;if(r&&e.setAttribute("media",r),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function S(e,t,n){var r=n.css,i=n.sourceMap,o=void 0===t.convertToAbsoluteUrls&&i;(t.convertToAbsoluteUrls||o)&&(r=f(r)),i&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var a=new Blob([r],{type:"text/css"}),u=e.href;e.href=URL.createObjectURL(a),u&&URL.revokeObjectURL(u)}},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,r=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(e,t){var i,o=t.trim().replace(/^"(.*)"$/,(function(e,t){return t})).replace(/^'(.*)'$/,(function(e,t){return t}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(o)?e:(i=0===o.indexOf("//")?o:0===o.indexOf("/")?n+o:r+o.replace(/^\.\//,""),"url("+JSON.stringify(i)+")")}))}},function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"getArrayBounds",(function(){return be})),n.d(r,"createArray",(function(){return xe})),n.d(r,"fillArrayValues",(function(){return Ae})),n.d(r,"createAndFillArray",(function(){return we})),n.d(r,"isTypedArray",(function(){return Se})),n.d(r,"typedArrayWindow",(function(){return Ce}));var i={};n.r(i),n.d(i,"defaultBondTest",(function(){return Js})),n.d(i,"atomicSequence",(function(){return $s})),n.d(i,"water",(function(){return ec})),n.d(i,"atomicHet",(function(){return tc})),n.d(i,"spheres",(function(){return nc})),n.d(i,"bundleElementImpl",(function(){return rc})),n.d(i,"bundleGenerator",(function(){return ic}));var o={};n.r(o),n.d(o,"none",(function(){return lc})),n.d(o,"all",(function(){return dc})),n.d(o,"residues",(function(){return fc})),n.d(o,"chains",(function(){return pc})),n.d(o,"atoms",(function(){return gc})),n.d(o,"rings",(function(){return yc})),n.d(o,"querySelection",(function(){return _c})),n.d(o,"bondedAtomicPairs",(function(){return bc}));var a={};n.r(a),n.d(a,"wholeResidues",(function(){return cf})),n.d(a,"includeSurroundings",(function(){return mf})),n.d(a,"querySelection",(function(){return hf})),n.d(a,"intersectBy",(function(){return gf})),n.d(a,"exceptBy",(function(){return vf})),n.d(a,"union",(function(){return yf})),n.d(a,"expandProperty",(function(){return _f})),n.d(a,"includeConnected",(function(){return bf})),n.d(a,"surroundingLigands",(function(){return Af}));var u={};n.r(u),n.d(u,"pick",(function(){return Ef})),n.d(u,"first",(function(){return Mf})),n.d(u,"getCurrentStructureProperties",(function(){return kf})),n.d(u,"withSameAtomProperties",(function(){return Df})),n.d(u,"areIntersectedBy",(function(){return Of})),n.d(u,"within",(function(){return Nf})),n.d(u,"isConnectedTo",(function(){return Tf}));var s={};n.r(s),n.d(s,"merge",(function(){return Rf})),n.d(s,"intersect",(function(){return Uf}));var c={};n.r(c),n.d(c,"atomCount",(function(){return Lf})),n.d(c,"countQuery",(function(){return Gf})),n.d(c,"propertySet",(function(){return qf}));var l={};n.r(l),n.d(l,"Location",(function(){return ci})),n.d(l,"Loci",(function(){return vp})),n.d(l,"Bundle",(function(){return Ys})),n.d(l,"Stats",(function(){return pp})),n.d(l,"property",(function(){return yp})),n.d(l,"atomicProperty",(function(){return bp})),n.d(l,"coarseProperty",(function(){return xp})),n.d(l,"residueIndex",(function(){return Ap})),n.d(l,"chainIndex",(function(){return wp})),n.d(l,"entityIndex",(function(){return Sp}));var d=n(10),f=n.n(d),p=n(4),m=n.n(p),h=1e-6;function g(e,t,n){return Math.abs(e-t)<=n}function v(e,t,n){return Math.max(t,Math.min(n,e))}function y(e,t,n){return e+(t-e)*n}function _(e,t,n,r,i,o){var a=(n-e)*o,u=(r-t)*o,s=i*i;return(2*t-2*n+a+u)*(i*s)+(-3*t+3*n-2*a-u)*s+a*i+t}function b(e,t,n,r){var i=1-r;return i*i*e+2*i*r*t+r*r*n}var x=isFinite;function A(){return A.zero()}!function(e){function t(){var e=[.1,0,0];return e[0]=0,e}function n(e,n,r){var i=t();return i[0]=e,i[1]=n,i[2]=r,i}function r(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function i(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e}function o(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e}function a(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e}function u(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e}function s(e){var t=e[0],n=e[1],r=e[2];return t*t+n*n+r*r}function c(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}function l(e,t){var n=t[0],r=t[1],i=t[2],o=n*n+r*r+i*i;return o>0&&(o=1/Math.sqrt(o),e[0]=t[0]*o,e[1]=t[1]*o,e[2]=t[2]*o),e}function d(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function f(e,t,n){var r=t[0],i=t[1],o=t[2],a=n[0],u=n[1],s=n[2];return e[0]=i*s-o*u,e[1]=o*a-r*s,e[2]=r*u-i*a,e}e.zero=t,e.clone=function(e){var n=t();return n[0]=e[0],n[1]=e[1],n[2]=e[2],n},e.isFinite=function(e){return x(e[0])&&x(e[1])&&x(e[2])},e.hasNaN=function(e){return isNaN(e[0])||isNaN(e[1])||isNaN(e[2])},e.setNaN=function(e){return e[0]=NaN,e[1]=NaN,e[2]=NaN,e},e.fromObj=function(e){return n(e.x,e.y,e.z)},e.toObj=function(e){return{x:e[0],y:e[1],z:e[2]}},e.fromArray=function(e,t,n){return e[0]=t[n+0],e[1]=t[n+1],e[2]=t[n+2],e},e.toArray=function(e,t,n){return t[n+0]=e[0],t[n+1]=e[1],t[n+2]=e[2],t},e.create=n,e.ofArray=function(e){var n=t();return n[0]=e[0],n[1]=e[1],n[2]=e[2],n},e.set=function(e,t,n,r){return e[0]=t,e[1]=n,e[2]=r,e},e.copy=r,e.add=i,e.sub=o,e.mul=function(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e},e.div=function(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e},e.scale=a,e.scaleAndAdd=u,e.scaleAndSub=function(e,t,n,r){return e[0]=t[0]-n[0]*r,e[1]=t[1]-n[1]*r,e[2]=t[2]-n[2]*r,e},e.addScalar=function(e,t,n){return e[0]=t[0]+n,e[1]=t[1]+n,e[2]=t[2]+n,e},e.subScalar=function(e,t,n){return e[0]=t[0]-n,e[1]=t[1]-n,e[2]=t[2]-n,e},e.round=function(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e},e.ceil=function(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e},e.floor=function(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e},e.trunc=function(e,t){return e[0]=Math.trunc(t[0]),e[1]=Math.trunc(t[1]),e[2]=Math.trunc(t[2]),e},e.abs=function(e,t){return e[0]=Math.abs(t[0]),e[1]=Math.abs(t[1]),e[2]=Math.abs(t[2]),e},e.min=function(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e},e.max=function(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e},e.clamp=function(e,t,n,r){return e[0]=Math.max(n[0],Math.min(r[0],t[0])),e[1]=Math.max(n[1],Math.min(r[1],t[1])),e[2]=Math.max(n[2],Math.min(r[2],t[2])),e},e.distance=function(e,t){var n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2];return Math.sqrt(n*n+r*r+i*i)},e.squaredDistance=function(e,t){var n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2];return n*n+r*r+i*i},e.magnitude=function(e){var t=e[0],n=e[1],r=e[2];return Math.sqrt(t*t+n*n+r*r)},e.squaredMagnitude=s,e.setMagnitude=function(e,t,n){return a(e,l(e,t),n)},e.negate=c,e.inverse=function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e},e.normalize=l,e.dot=d,e.cross=f,e.lerp=function(e,t,n,r){var i=t[0],o=t[1],a=t[2];return e[0]=i+r*(n[0]-i),e[1]=o+r*(n[1]-o),e[2]=a+r*(n[2]-a),e};var p=t();function m(e,t){var n=Math.sqrt(s(e)*s(t));if(0===n)return Math.PI/2;var r=d(e,t)/n;return Math.acos(v(r,-1,1))}e.slerp=function(e,t,n,r){var o=v(d(t,n),-1,1),s=Math.acos(o)*r;return u(p,n,t,-o),l(p,p),i(e,a(e,t,Math.cos(s)),a(p,p,Math.sin(s)))},e.hermite=function(e,t,n,r,i,o){var a=o*o,u=a*(2*o-3)+1,s=a*(o-2)+o,c=a*(o-1),l=a*(3-2*o);return e[0]=t[0]*u+n[0]*s+r[0]*c+i[0]*l,e[1]=t[1]*u+n[1]*s+r[1]*c+i[1]*l,e[2]=t[2]*u+n[2]*s+r[2]*c+i[2]*l,e},e.bezier=function(e,t,n,r,i,o){var a=1-o,u=a*a,s=o*o,c=u*a,l=3*o*u,d=3*s*a,f=s*o;return e[0]=t[0]*c+n[0]*l+r[0]*d+i[0]*f,e[1]=t[1]*c+n[1]*l+r[1]*d+i[1]*f,e[2]=t[2]*c+n[2]*l+r[2]*d+i[2]*f,e},e.quadraticBezier=function(e,t,n,r,i){return e[0]=b(t[0],n[0],r[0],i),e[1]=b(t[1],n[1],r[1],i),e[2]=b(t[2],n[2],r[2],i),e},e.spline=function(e,t,n,r,i,o,a){return e[0]=_(t[0],n[0],r[0],i[0],o,a),e[1]=_(t[1],n[1],r[1],i[1],o,a),e[2]=_(t[2],n[2],r[2],i[2],o,a),e},e.random=function(e,t){var n=2*Math.random()*Math.PI,r=2*Math.random()-1,i=Math.sqrt(1-r*r)*t;return e[0]=Math.cos(n)*i,e[1]=Math.sin(n)*i,e[2]=r*t,e},e.transformMat4=function(e,t,n){var r=t[0],i=t[1],o=t[2],a=1/(n[3]*r+n[7]*i+n[11]*o+n[15]||1);return e[0]=(n[0]*r+n[4]*i+n[8]*o+n[12])*a,e[1]=(n[1]*r+n[5]*i+n[9]*o+n[13])*a,e[2]=(n[2]*r+n[6]*i+n[10]*o+n[14])*a,e},e.transformDirection=function(e,t,n){var r=t[0],i=t[1],o=t[2];return e[0]=n[0]*r+n[4]*i+n[8]*o,e[1]=n[1]*r+n[5]*i+n[9]*o,e[2]=n[2]*r+n[6]*i+n[10]*o,l(e,e)},e.transformMat4Offset=function(e,t,n,r,i,o){var a=t[0+i],u=t[1+i],s=t[2+i],c=1/(n[3+o]*a+n[7+o]*u+n[11+o]*s+n[15+o]||1);return e[0+r]=(n[0+o]*a+n[4+o]*u+n[8+o]*s+n[12+o])*c,e[1+r]=(n[1+o]*a+n[5+o]*u+n[9+o]*s+n[13+o])*c,e[2+r]=(n[2+o]*a+n[6+o]*u+n[10+o]*s+n[14+o])*c,e},e.transformMat3=function(e,t,n){var r=t[0],i=t[1],o=t[2];return e[0]=r*n[0]+i*n[3]+o*n[6],e[1]=r*n[1]+i*n[4]+o*n[7],e[2]=r*n[2]+i*n[5]+o*n[8],e},e.transformQuat=function(e,t,n){var r=t[0],i=t[1],o=t[2],a=n[0],u=n[1],s=n[2],c=n[3],l=c*r+u*o-s*i,d=c*i+s*r-a*o,f=c*o+a*i-u*r,p=-a*r-u*i-s*o;return e[0]=l*c+p*-a+d*-s-f*-u,e[1]=d*c+p*-u+f*-a-l*-s,e[2]=f*c+p*-s+l*-u-d*-a,e},e.angle=m;var g=t(),y=t(),A=t(),w=t(),S=t(),C=t(),B=t();e.dihedralAngle=function(e,t,n,r){o(g,e,t),o(y,n,t),o(A,t,n),o(w,r,n),f(S,g,y),f(C,A,w);var i=m(S,C);return f(B,S,C),d(y,B)>0?i:-i},e.directionFromSpherical=function(t,n,r,i){return e.set(t,i*Math.cos(r)*Math.sin(n),i*Math.sin(r)*Math.sin(n),i*Math.cos(n))},e.exactEquals=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]},e.equals=function(e,t){var n=e[0],r=e[1],i=e[2],o=t[0],a=t[1],u=t[2];return Math.abs(n-o)<=h*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(r-a)<=h*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(i-u)<=h*Math.max(1,Math.abs(i),Math.abs(u))};var I=t();e.makeRotation=function(t,n,r){var i=m(n,r);if(Math.abs(i)<1e-4)return P.setIdentity(t);if(Math.abs(i-Math.PI)<h)return P.fromScaling(t,e.negUnit);var o=f(I,n,r);return P.fromRotation(t,i,o)},e.isZero=function(e){return 0===e[0]&&0===e[1]&&0===e[2]},e.projectPointOnVector=function(e,t,n,r){return o(e,t,r),i(e,a(e,n,d(n,e)/s(n)),r)};var E=t();function M(e,t,n){return a(e,n,d(n,t)/s(n))}e.projectPointOnPlane=function(e,t,n,r){return l(E,n),o(e,t,r),o(e,t,a(E,E,d(e,E)))},e.projectOnVector=M;var k=t();e.projectOnPlane=function(e,t,n){return M(k,t,n),o(e,t,k)},e.orthogonalize=function(e,t,n){return l(e,f(e,f(e,t,n),t))},e.matchDirection=function(e,t,n){return d(t,n)>0?r(e,t):c(e,r(e,t)),e};var D=t(),O=t();e.triangleNormal=function(e,t,n,r){return o(D,n,t),o(O,r,t),l(e,f(e,D,O))},e.toString=function(e,t){return"[".concat(e[0].toPrecision(t)," ").concat(e[1].toPrecision(t)," ").concat(e[2].toPrecision(t),"]")},e.origin=n(0,0,0),e.unit=n(1,1,1),e.negUnit=n(-1,-1,-1),e.unitX=n(1,0,0),e.unitY=n(0,1,0),e.unitZ=n(0,0,1),e.negUnitX=n(-1,0,0),e.negUnitY=n(0,-1,0),e.negUnitZ=n(0,0,-1)}(A||(A={}));Math.PI;var w,S=Math.PI/180;function C(e){return e*S}function B(e){return e/S}function P(){return P.zero()}function I(){return I.zero()}function E(){return E.zero()}function M(){return M.zero()}function k(e){throw new Error("unreachable")}function D(){return D.zero()}!function(e){function t(){var e=[.1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];return e[0]=0,e}function n(){var e=t();return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function r(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function i(e){for(var t=0;t<16;t++)e[t]=0;return e}e.zero=t,e.identity=n,e.setIdentity=r,e.setZero=i,e.ofRows=function(e){for(var n=t(),r=0;r<4;r++)for(var i=e[r],o=0;o<4;o++)n[4*o+r]=i[o];return n};var o=n();function a(e,t,n){for(var r=0;r<16;r++)if(Math.abs(e[r]-t[r])>n)return!1;return!0}function u(e,t,n,r){e[4*n+t]=r}function s(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function c(e,t){var n=t[0]+t[5]+t[10],r=0;return n>0?(r=2*Math.sqrt(n+1),e[3]=.25*r,e[0]=(t[6]-t[9])/r,e[1]=(t[8]-t[2])/r,e[2]=(t[1]-t[4])/r):t[0]>t[5]&&t[0]>t[10]?(r=2*Math.sqrt(1+t[0]-t[5]-t[10]),e[3]=(t[6]-t[9])/r,e[0]=.25*r,e[1]=(t[1]+t[4])/r,e[2]=(t[8]+t[2])/r):t[5]>t[10]?(r=2*Math.sqrt(1+t[5]-t[0]-t[10]),e[3]=(t[8]-t[2])/r,e[0]=(t[1]+t[4])/r,e[1]=.25*r,e[2]=(t[6]+t[9])/r):(r=2*Math.sqrt(1+t[10]-t[0]-t[5]),e[3]=(t[1]-t[4])/r,e[0]=(t[8]+t[2])/r,e[1]=(t[6]+t[9])/r,e[2]=.25*r),e}function l(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],u=t[5],s=t[6],c=t[7],l=t[8],d=t[9],f=t[10],p=t[11],m=t[12],h=t[13],g=t[14],v=t[15],y=n*u-r*a,_=n*s-i*a,b=n*c-o*a,x=r*s-i*u,A=r*c-o*u,w=i*c-o*s,S=l*h-d*m,C=l*g-f*m,B=l*v-p*m,P=d*g-f*h,I=d*v-p*h,E=f*v-p*g,M=y*E-_*I+b*P+x*B-A*C+w*S;return!!M&&(M=1/M,e[0]=(u*E-s*I+c*P)*M,e[1]=(i*I-r*E-o*P)*M,e[2]=(h*w-g*A+v*x)*M,e[3]=(f*A-d*w-p*x)*M,e[4]=(s*B-a*E-c*C)*M,e[5]=(n*E-i*B+o*C)*M,e[6]=(g*b-m*w-v*_)*M,e[7]=(l*w-f*b+p*_)*M,e[8]=(a*I-u*B+c*S)*M,e[9]=(r*B-n*I-o*S)*M,e[10]=(m*A-h*b+v*y)*M,e[11]=(d*b-l*A-p*y)*M,e[12]=(u*C-a*P-s*S)*M,e[13]=(n*P-r*C+i*S)*M,e[14]=(h*_-m*x-g*y)*M,e[15]=(l*x-d*_+f*y)*M,!0)}function d(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],u=t[4],s=t[5],c=t[6],l=t[7],d=t[8],f=t[9],p=t[10],m=t[11],h=t[12],g=t[13],v=t[14],y=t[15],_=n[0],b=n[1],x=n[2],A=n[3];return e[0]=_*r+b*u+x*d+A*h,e[1]=_*i+b*s+x*f+A*g,e[2]=_*o+b*c+x*p+A*v,e[3]=_*a+b*l+x*m+A*y,_=n[4],b=n[5],x=n[6],A=n[7],e[4]=_*r+b*u+x*d+A*h,e[5]=_*i+b*s+x*f+A*g,e[6]=_*o+b*c+x*p+A*v,e[7]=_*a+b*l+x*m+A*y,_=n[8],b=n[9],x=n[10],A=n[11],e[8]=_*r+b*u+x*d+A*h,e[9]=_*i+b*s+x*f+A*g,e[10]=_*o+b*c+x*p+A*v,e[11]=_*a+b*l+x*m+A*y,_=n[12],b=n[13],x=n[14],A=n[15],e[12]=_*r+b*u+x*d+A*h,e[13]=_*i+b*s+x*f+A*g,e[14]=_*o+b*c+x*p+A*v,e[15]=_*a+b*l+x*m+A*y,e}function f(e,t,n){var i=n[0],o=n[1],a=n[2],u=Math.sqrt(i*i+o*o+a*a);if(Math.abs(u)<h)return r(e);i*=u=1/u,o*=u,a*=u;var s=Math.sin(t),c=Math.cos(t),l=1-c;return e[0]=i*i*l+c,e[1]=o*i*l+a*s,e[2]=a*i*l-o*s,e[3]=0,e[4]=i*o*l-a*s,e[5]=o*o*l+c,e[6]=a*o*l+i*s,e[7]=0,e[8]=i*a*l+o*s,e[9]=o*a*l-i*s,e[10]=a*a*l+c,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}e.isIdentity=function(e,t){return a(e,o,void 0===t?h:t)},e.hasNaN=function(e){for(var t=0;t<16;t++)if(isNaN(e[t]))return!0;return!1},e.areEqual=a,e.setValue=u,e.getValue=function(e,t,n){return e[4*n+t]},e.toArray=function(e,t,n){return t[n+0]=e[0],t[n+1]=e[1],t[n+2]=e[2],t[n+3]=e[3],t[n+4]=e[4],t[n+5]=e[5],t[n+6]=e[6],t[n+7]=e[7],t[n+8]=e[8],t[n+9]=e[9],t[n+10]=e[10],t[n+11]=e[11],t[n+12]=e[12],t[n+13]=e[13],t[n+14]=e[14],t[n+15]=e[15],t},e.fromArray=function(e,t,n){return e[0]=t[n+0],e[1]=t[n+1],e[2]=t[n+2],e[3]=t[n+3],e[4]=t[n+4],e[5]=t[n+5],e[6]=t[n+6],e[7]=t[n+7],e[8]=t[n+8],e[9]=t[n+9],e[10]=t[n+10],e[11]=t[n+11],e[12]=t[n+12],e[13]=t[n+13],e[14]=t[n+14],e[15]=t[n+15],e},e.fromBasis=function(e,t,n,r){return i(e),u(e,0,0,t[0]),u(e,1,0,t[1]),u(e,2,0,t[2]),u(e,0,1,n[0]),u(e,1,1,n[1]),u(e,2,1,n[2]),u(e,0,2,r[0]),u(e,1,2,r[1]),u(e,2,2,r[2]),u(e,3,3,1),e},e.copy=s,e.clone=function(e){return s(t(),e)},e.getTranslation=function(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e},e.getScaling=function(e,t){var n=t[0],r=t[1],i=t[2],o=t[4],a=t[5],u=t[6],s=t[8],c=t[9],l=t[10];return e[0]=Math.sqrt(n*n+r*r+i*i),e[1]=Math.sqrt(o*o+a*a+u*u),e[2]=Math.sqrt(s*s+c*c+l*l),e},e.getRotation=c,e.extractRotation=function(e,t){var n=1/Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]),r=1/Math.sqrt(t[4]*t[4]+t[5]*t[5]+t[6]*t[6]),i=1/Math.sqrt(t[8]*t[8]+t[9]*t[9]+t[10]*t[10]);return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=0,e[4]=t[4]*r,e[5]=t[5]*r,e[6]=t[6]*r,e[7]=0,e[8]=t[8]*i,e[9]=t[9]*i,e[10]=t[10]*i,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},e.transpose=function(e,t){if(e===t){var n=t[1],r=t[2],i=t[3],o=t[6],a=t[7],u=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=n,e[6]=t[9],e[7]=t[13],e[8]=r,e[9]=o,e[11]=t[14],e[12]=i,e[13]=a,e[14]=u}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e},e.tryInvert=l,e.invert=function(e,t){return l(e,t)||console.warn("non-invertible matrix.",t),e},e.mul=d,e.mulOffset=function(e,t,n,r,i,o){var a=t[0+i],u=t[1+i],s=t[2+i],c=t[3+i],l=t[4+i],d=t[5+i],f=t[6+i],p=t[7+i],m=t[8+i],h=t[9+i],g=t[10+i],v=t[11+i],y=t[12+i],_=t[13+i],b=t[14+i],x=t[15+i],A=n[0+o],w=n[1+o],S=n[2+o],C=n[3+o];return e[0+r]=A*a+w*l+S*m+C*y,e[1+r]=A*u+w*d+S*h+C*_,e[2+r]=A*s+w*f+S*g+C*b,e[3+r]=A*c+w*p+S*v+C*x,A=n[4+o],w=n[5+o],S=n[6+o],C=n[7+o],e[4+r]=A*a+w*l+S*m+C*y,e[5+r]=A*u+w*d+S*h+C*_,e[6+r]=A*s+w*f+S*g+C*b,e[7+r]=A*c+w*p+S*v+C*x,A=n[8+o],w=n[9+o],S=n[10+o],C=n[11+o],e[8+r]=A*a+w*l+S*m+C*y,e[9+r]=A*u+w*d+S*h+C*_,e[10+r]=A*s+w*f+S*g+C*b,e[11+r]=A*c+w*p+S*v+C*x,A=n[12+o],w=n[13+o],S=n[14+o],C=n[15+o],e[12+r]=A*a+w*l+S*m+C*y,e[13+r]=A*u+w*d+S*h+C*_,e[14+r]=A*s+w*f+S*g+C*b,e[15+r]=A*c+w*p+S*v+C*x,e},e.mul3=function(e,t,n,r){return d(e,d(e,t,n),r)},e.translate=function(e,t,n){var r,i,o,a,u,s,c,l,d,f,p,m,h=n[0],g=n[1],v=n[2];return t===e?(e[12]=t[0]*h+t[4]*g+t[8]*v+t[12],e[13]=t[1]*h+t[5]*g+t[9]*v+t[13],e[14]=t[2]*h+t[6]*g+t[10]*v+t[14],e[15]=t[3]*h+t[7]*g+t[11]*v+t[15]):(r=t[0],i=t[1],o=t[2],a=t[3],u=t[4],s=t[5],c=t[6],l=t[7],d=t[8],f=t[9],p=t[10],m=t[11],e[0]=r,e[1]=i,e[2]=o,e[3]=a,e[4]=u,e[5]=s,e[6]=c,e[7]=l,e[8]=d,e[9]=f,e[10]=p,e[11]=m,e[12]=r*h+u*g+d*v+t[12],e[13]=i*h+s*g+f*v+t[13],e[14]=o*h+c*g+p*v+t[14],e[15]=a*h+l*g+m*v+t[15]),e},e.fromTranslation=function(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e},e.setTranslation=function(e,t){return e[12]=t[0],e[13]=t[1],e[14]=t[2],e},e.setAxes=function(e,t,n,r){return e[0]=n[0],e[4]=n[1],e[8]=n[2],e[1]=r[0],e[5]=r[1],e[9]=r[2],e[2]=t[0],e[6]=t[1],e[10]=t[2],e},e.rotate=function(e,t,r,i){var o=i[0],a=i[1],u=i[2],s=Math.sqrt(o*o+a*a+u*u);if(Math.abs(s)<h)return n();o*=s=1/s,a*=s,u*=s;var c=Math.sin(r),l=Math.cos(r),d=1-l,f=t[0],p=t[1],m=t[2],g=t[3],v=t[4],y=t[5],_=t[6],b=t[7],x=t[8],A=t[9],w=t[10],S=t[11],C=o*o*d+l,B=a*o*d+u*c,P=u*o*d-a*c,I=o*a*d-u*c,E=a*a*d+l,M=u*a*d+o*c,k=o*u*d+a*c,D=a*u*d-o*c,O=u*u*d+l;return e[0]=f*C+v*B+x*P,e[1]=p*C+y*B+A*P,e[2]=m*C+_*B+w*P,e[3]=g*C+b*B+S*P,e[4]=f*I+v*E+x*M,e[5]=p*I+y*E+A*M,e[6]=m*I+_*E+w*M,e[7]=g*I+b*E+S*M,e[8]=f*k+v*D+x*O,e[9]=p*k+y*D+A*O,e[10]=m*k+_*D+w*O,e[11]=g*k+b*D+S*O,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e},e.fromRotation=f,e.scale=function(e,t,n){var r=n[0],i=n[1],o=n[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*o,e[9]=t[9]*o,e[10]=t[10]*o,e[11]=t[11]*o,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},e.scaleUniformly=function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e[8]=t[8]*n,e[9]=t[9]*n,e[10]=t[10]*n,e[11]=t[11]*n,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},e.fromScaling=function(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},e.fromUniformScaling=function(e,t){return e[0]=t,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},e.fromMat3=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[4]=t[3],e[5]=t[4],e[6]=t[5],e[8]=t[6],e[9]=t[7],e[10]=t[8],e},e.compose=function(e,t,n,r){var i=n[0],o=n[1],a=n[2],u=n[3],s=i+i,c=o+o,l=a+a,d=i*s,f=i*c,p=i*l,m=o*c,h=o*l,g=a*l,v=u*s,y=u*c,_=u*l,b=r[0],x=r[1],A=r[2];return e[0]=(1-(m+g))*b,e[1]=(f+_)*b,e[2]=(p-y)*b,e[3]=0,e[4]=(f-_)*x,e[5]=(1-(d+g))*x,e[6]=(h+v)*x,e[7]=0,e[8]=(p+y)*A,e[9]=(h-v)*A,e[10]=(1-(d+m))*A,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e};var p=[0,0,0],m=t();function v(e){var t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5],u=e[6],s=e[7],c=e[8],l=e[9],d=e[10],f=e[11],p=e[12],m=e[13],h=e[14],g=e[15];return(t*a-n*o)*(d*g-f*h)-(t*u-r*o)*(l*g-f*m)+(t*s-i*o)*(l*h-d*m)+(n*u-r*a)*(c*g-f*p)-(n*s-i*a)*(c*h-d*p)+(r*s-i*u)*(c*m-l*p)}e.decompose=function(e,t,n,r){var i=A.magnitude(A.set(p,e[0],e[1],e[2])),o=A.magnitude(A.set(p,e[4],e[5],e[6])),a=A.magnitude(A.set(p,e[8],e[9],e[10]));v(e)<0&&(i=-i),t[0]=e[12],t[1]=e[13],t[2]=e[14],s(m,e);var u=1/i,l=1/o,d=1/a;return m[0]*=u,m[1]*=u,m[2]*=u,m[4]*=l,m[5]*=l,m[6]*=l,m[8]*=d,m[9]*=d,m[10]*=d,c(n,m),r[0]=i,r[1]=o,r[2]=a,e},e.makeTable=function(e){for(var t="",n=0;n<4;n++){for(var r=0;r<4;r++)t+=e[4*r+n].toString(),r<3&&(t+=" ");n<3&&(t+="\n")}return t},e.determinant=v,e.isRotationAndTranslation=function(e,t){return function(e,t){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],u=e[5],s=e[6],c=e[7],l=e[8],d=e[9],f=e[10],p=e[11];if(!(g(e[15],1,t)&&g(o,0,t)&&g(c,0,t)&&g(p,0,t)))return!1;if(!g(Math.abs(n*(u*f-s*d)-r*(a*f-s*l)+i*(a*d-u*l)),1,t))return!1;return!0}(e,void 0!==t?t:h)},e.isTranslationAndUniformScaling=function(e,t){return function(e,t){var n=e[0];return g(e[1],0,t)&&g(e[2],0,t)&&g(e[3],0,t)&&g(e[4],0,t)&&g(e[5],n,t)&&g(e[6],0,t)&&g(e[7],0,t)&&g(e[8],0,t)&&g(e[9],0,t)&&g(e[10],n,t)&&g(e[11],0,t)&&g(e[15],1,t)}(e,void 0!==t?t:h)},e.fromQuat=function(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=n+n,u=r+r,s=i+i,c=n*a,l=r*a,d=r*u,f=i*a,p=i*u,m=i*s,h=o*a,g=o*u,v=o*s;return e[0]=1-d-m,e[1]=l+v,e[2]=f-g,e[3]=0,e[4]=l-v,e[5]=1-c-m,e[6]=p+h,e[7]=0,e[8]=f+g,e[9]=p-h,e[10]=1-c-d,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},e.fromEuler=function(e,t,n){var r=t[0],i=t[1],o=t[2],a=Math.cos(r),u=Math.sin(r),s=Math.cos(i),c=Math.sin(i),l=Math.cos(o),d=Math.sin(o);if("XYZ"===n){var f=a*l,p=a*d,m=u*l,h=u*d;e[0]=s*l,e[4]=-s*d,e[8]=c,e[1]=p+m*c,e[5]=f-h*c,e[9]=-u*s,e[2]=h-f*c,e[6]=m+p*c,e[10]=a*s}else if("YXZ"===n){var g=s*l,v=s*d,y=c*l,_=c*d;e[0]=g+_*u,e[4]=y*u-v,e[8]=a*c,e[1]=a*d,e[5]=a*l,e[9]=-u,e[2]=v*u-y,e[6]=_+g*u,e[10]=a*s}else if("ZXY"===n){g=s*l,v=s*d,y=c*l,_=c*d;e[0]=g-_*u,e[4]=-a*d,e[8]=y+v*u,e[1]=v+y*u,e[5]=a*l,e[9]=_-g*u,e[2]=-a*c,e[6]=u,e[10]=a*s}else if("ZYX"===n){f=a*l,p=a*d,m=u*l,h=u*d;e[0]=s*l,e[4]=m*c-p,e[8]=f*c+h,e[1]=s*d,e[5]=h*c+f,e[9]=p*c-m,e[2]=-c,e[6]=u*s,e[10]=a*s}else if("YZX"===n){var b=a*s,x=a*c,A=u*s,w=u*c;e[0]=s*l,e[4]=w-b*d,e[8]=A*d+x,e[1]=d,e[5]=a*l,e[9]=-u*l,e[2]=-c*l,e[6]=x*d+A,e[10]=b-w*d}else if("XZY"===n){b=a*s,x=a*c,A=u*s,w=u*c;e[0]=s*l,e[4]=-d,e[8]=c*l,e[1]=b*d+w,e[5]=a*l,e[9]=x*d-A,e[2]=A*d-x,e[6]=u*l,e[10]=w*d+b}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},e.perspective=function(e,t,n,r,i,o,a){var u=2*o/(n-t),s=2*o/(r-i),c=(n+t)/(n-t),l=(r+i)/(r-i),d=-(a+o)/(a-o),f=-2*a*o/(a-o);return e[0]=u,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=s,e[6]=0,e[7]=0,e[8]=c,e[9]=l,e[10]=d,e[11]=-1,e[12]=0,e[13]=0,e[14]=f,e[15]=0,e},e.ortho=function(e,t,n,r,i,o,a){var u=1/(n-t),s=1/(r-i),c=1/(a-o),l=(n+t)*u,d=(r+i)*s,f=(a+o)*c;return e[0]=2*u,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*s,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=-2*c,e[11]=0,e[12]=-l,e[13]=-d,e[14]=-f,e[15]=1,e},e.lookAt=function(e,t,n,i){var o,a,u,s,c,l,d,f,p,m,g=t[0],v=t[1],y=t[2],_=i[0],b=i[1],x=i[2],A=n[0],w=n[1],S=n[2];return Math.abs(g-A)<h&&Math.abs(v-w)<h&&Math.abs(y-S)<h?r(e):(d=g-A,f=v-w,p=y-S,o=b*(p*=m=1/Math.sqrt(d*d+f*f+p*p))-x*(f*=m),a=x*(d*=m)-_*p,u=_*f-b*d,(m=Math.sqrt(o*o+a*a+u*u))?(o*=m=1/m,a*=m,u*=m):(o=0,a=0,u=0),s=f*u-p*a,c=p*o-d*u,l=d*a-f*o,(m=Math.sqrt(s*s+c*c+l*l))?(s*=m=1/m,c*=m,l*=m):(s=0,c=0,l=0),e[0]=o,e[1]=s,e[2]=d,e[3]=0,e[4]=a,e[5]=c,e[6]=f,e[7]=0,e[8]=u,e[9]=l,e[10]=p,e[11]=0,e[12]=-(o*g+a*v+u*y),e[13]=-(s*g+c*v+l*y),e[14]=-(d*g+f*v+p*y),e[15]=1,e)},e.targetTo=function(e,t,n,r){var i=t[0],o=t[1],a=t[2],u=r[0],s=r[1],c=r[2],l=i-n[0],d=o-n[1],f=a-n[2],p=l*l+d*d+f*f;p>0&&(l*=p=1/Math.sqrt(p),d*=p,f*=p);var m=s*f-c*d,h=c*l-u*f,g=u*d-s*l;return(p=m*m+h*h+g*g)>0&&(m*=p=1/Math.sqrt(p),h*=p,g*=p),e[0]=m,e[1]=h,e[2]=g,e[3]=0,e[4]=d*g-f*h,e[5]=f*m-l*g,e[6]=l*h-d*m,e[7]=0,e[8]=l,e[9]=d,e[10]=f,e[11]=0,e[12]=i,e[13]=o,e[14]=a,e[15]=1,e},e.fromPermutation=function(e,t){i(e);for(var n=0;n<4;n++){u(e,n,t[n],1)}return e},e.getMaxScaleOnAxis=function(e){var t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,r))};var y=[1,0,0],_=[0,1,0],b=[0,0,1];e.rotX90=f(t(),C(90),y),e.rotX180=f(t(),C(180),y),e.rotY90=f(t(),C(90),_),e.rotY180=f(t(),C(180),_),e.rotY270=f(t(),C(270),_),e.rotZ90=f(t(),C(90),b),e.rotZ180=f(t(),C(180),b),e.rotXY90=d(t(),e.rotX90,e.rotY90),e.rotZY90=d(t(),e.rotZ90,e.rotY90),e.rotZYZ90=d(t(),e.rotZY90,e.rotZ90),e.rotZ90X180=d(t(),e.rotZ90,e.rotX180),e.rotY90Z180=d(t(),e.rotY90,e.rotZ180),e.id=n()}(P||(P={})),function(e){function t(){var e=[.1,0,0,0,0,0,0,0,0];return e[0]=0,e}function n(){var e=t();return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function r(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e}e.zero=t,e.identity=n,e.setIdentity=function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},e.toArray=function(e,t,n){return t[n+0]=e[0],t[n+1]=e[1],t[n+2]=e[2],t[n+3]=e[3],t[n+4]=e[4],t[n+5]=e[5],t[n+6]=e[6],t[n+7]=e[7],t[n+8]=e[8],t},e.fromArray=function(e,t,n){return e[0]=t[n+0],e[1]=t[n+1],e[2]=t[n+2],e[3]=t[n+3],e[4]=t[n+4],e[5]=t[n+5],e[6]=t[n+6],e[7]=t[n+7],e[8]=t[n+8],e},e.fromMat4=r,e.create=function(e,n,r,i,o,a,u,s,c){var l=t();return l[0]=e,l[1]=n,l[2]=r,l[3]=i,l[4]=o,l[5]=a,l[6]=u,l[7]=s,l[8]=c,l};var i=n();function o(e,t,n){for(var r=0;r<9;r++)if(Math.abs(e[r]-t[r])>n)return!1;return!0}function a(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function u(e,t){if(e===t){var n=t[1],r=t[2],i=t[5];e[1]=t[3],e[2]=t[6],e[3]=n,e[5]=t[7],e[6]=r,e[7]=i}else e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8];return e}function s(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],u=t[5],s=t[6],c=t[7],l=t[8],d=l*a-u*c,f=-l*o+u*s,p=c*o-a*s,m=n*d+r*f+i*p;return m?(m=1/m,e[0]=d*m,e[1]=(-l*r+i*c)*m,e[2]=(u*r-i*a)*m,e[3]=f*m,e[4]=(l*n-i*s)*m,e[5]=(-u*n+i*o)*m,e[6]=p*m,e[7]=(-c*n+r*s)*m,e[8]=(a*n-r*o)*m,e):(console.warn("non-invertible matrix.",t),e)}function c(e){var t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5],u=e[6],s=e[7],c=e[8];return t*(c*o-a*s)+n*(-c*i+a*u)+r*(s*i-o*u)}function l(e){return e[0]+e[4]+e[8]}function d(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e[6]=t[6]-n[6],e[7]=t[7]-n[7],e[8]=t[8]-n[8],e}function f(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e[8]=t[8]*n,e}e.isIdentity=function(e,t){return o(e,i,void 0===t?h:t)},e.hasNaN=function(e){for(var t=0;t<9;t++)if(isNaN(e[t]))return!0;return!1},e.clone=function(e){return a(t(),e)},e.areEqual=o,e.setValue=function(e,t,n,r){e[3*n+t]=r},e.getValue=function(e,t,n){return e[3*n+t]},e.copy=a,e.transpose=u,e.invert=s,e.symmtricFromUpper=function(e,t){return e===t?(e[3]=t[1],e[6]=t[2],e[7]=t[5]):(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[1],e[4]=t[4],e[5]=t[5],e[6]=t[2],e[7]=t[5],e[8]=t[8]),e},e.symmtricFromLower=function(e,t){return e===t?(e[1]=t[3],e[2]=t[6],e[5]=t[7]):(e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[3],e[4]=t[4],e[5]=t[7],e[6]=t[6],e[7]=t[7],e[8]=t[8]),e},e.determinant=c,e.trace=l,e.sub=d,e.add=function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e[6]=t[6]+n[6],e[7]=t[7]+n[7],e[8]=t[8]+n[8],e},e.mul=function(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],u=t[4],s=t[5],c=t[6],l=t[7],d=t[8],f=n[0],p=n[1],m=n[2],h=n[3],g=n[4],v=n[5],y=n[6],_=n[7],b=n[8];return e[0]=f*r+p*a+m*c,e[1]=f*i+p*u+m*l,e[2]=f*o+p*s+m*d,e[3]=h*r+g*a+v*c,e[4]=h*i+g*u+v*l,e[5]=h*o+g*s+v*d,e[6]=y*r+_*a+b*c,e[7]=y*i+_*u+b*l,e[8]=y*o+_*s+b*d,e},e.subScalar=function(e,t,n){return e[0]=t[0]-n,e[1]=t[1]-n,e[2]=t[2]-n,e[3]=t[3]-n,e[4]=t[4]-n,e[5]=t[5]-n,e[6]=t[6]-n,e[7]=t[7]-n,e[8]=t[8]-n,e},e.addScalar=function(e,t,n){return e[0]=t[0]+n,e[1]=t[1]+n,e[2]=t[2]+n,e[3]=t[3]+n,e[4]=t[4]+n,e[5]=t[5]+n,e[6]=t[6]+n,e[7]=t[7]+n,e[8]=t[8]+n,e},e.mulScalar=f;var p=Math.PI/3,m=t();e.symmetricEigenvalues=function(t,n){var r=n[1]*n[1]+n[2]*n[2]+n[5]*n[5];if(0===r)t[0]=n[0],t[1]=n[4],t[2]=n[8];else{var i=l(n)/3,o=n[0]-i,a=n[4]-i,u=n[8]-i,s=o*o+a*a+u*u+2*r,h=Math.sqrt(s/6);f(m,e.Identity,i),d(m,n,m),f(m,m,1/h);var g=c(m)/2,v=g<=-1?p:g>=1?0:Math.acos(g)/3;t[0]=i+2*h*Math.cos(v),t[2]=i+2*h*Math.cos(v+2*p),t[1]=3*i-t[0]-t[2]}return t};var g=[.1,0,0],v=[.1,0,0],y=[.1,0,0],_=[.1,0,0],b=[.1,0,0],x=[.1,0,0];e.eigenvector=function(e,t,n){A.set(g,t[0]-n,t[1],t[2]),A.set(v,t[1],t[4]-n,t[5]),A.set(y,t[2],t[5],t[8]-n),A.cross(_,g,v),A.cross(b,g,y),A.cross(x,v,y);var r=A.dot(_,_),i=A.dot(b,b),o=A.dot(x,x),a=r,u=0;return i>a&&(a=i,u=1),o>a&&(u=2),0===u?A.scale(e,_,1/Math.sqrt(r)):1===u?A.scale(e,b,1/Math.sqrt(i)):A.scale(e,x,1/Math.sqrt(o)),e},e.directionTransform=function(e,t){return r(e,t),s(e,e),u(e,e),e},e.Identity=n(),e.innerProduct=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]+e[4]*t[4]+e[5]*t[5]+e[6]*t[6]+e[7]*t[7]+e[8]*t[8]}}(I||(I={})),function(e){function t(){var e=[.1,0];return e[0]=0,e}e.zero=t,e.clone=function(e){var n=t();return n[0]=e[0],n[1]=e[1],n},e.create=function(e,n){var r=t();return r[0]=e,r[1]=n,r},e.hasNaN=function(e){return isNaN(e[0])||isNaN(e[1])},e.toArray=function(e,t,n){return t[n+0]=e[0],t[n+1]=e[1],t},e.fromArray=function(e,t,n){return e[0]=t[n+0],e[1]=t[n+1],e},e.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e},e.set=function(e,t,n){return e[0]=t,e[1]=n,e},e.add=function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e},e.sub=function(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e},e.mul=function(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e},e.div=function(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e},e.scale=function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e},e.round=function(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e},e.ceil=function(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e},e.floor=function(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e},e.distance=function(e,t){var n=t[0]-e[0],r=t[1]-e[1];return Math.sqrt(n*n+r*r)},e.squaredDistance=function(e,t){var n=t[0]-e[0],r=t[1]-e[1];return n*n+r*r},e.magnitude=function(e){var t=e[0],n=e[1];return Math.sqrt(t*t+n*n)},e.squaredMagnitude=function(e){var t=e[0],n=e[1];return t*t+n*n},e.inverse=function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e},e.areEqual=function(e,t){return e[0]===t[0]&&e[1]===t[1]},e.toString=function(e,t){return"[".concat(e[0].toPrecision(t)," ").concat(e[1].toPrecision(t),"}]")}}(E||(E={})),function(e){function t(){var e=[.1,0,0,0];return e[0]=0,e}function n(e,t){return e[0]=t.center[0],e[1]=t.center[1],e[2]=t.center[2],e[3]=t.radius,e}e.zero=t,e.clone=function(e){var n=t();return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n},e.create=function(e,n,r,i){var o=t();return o[0]=e,o[1]=n,o[2]=r,o[3]=i,o},e.fromSphere=n,e.ofSphere=function(e){return n(t(),e)},e.hasNaN=function(e){return isNaN(e[0])||isNaN(e[1])||isNaN(e[2])||isNaN(e[3])},e.toArray=function(e,t,n){return t[n+0]=e[0],t[n+1]=e[1],t[n+2]=e[2],t[n+3]=e[3],t},e.fromArray=function(e,t,n){return e[0]=t[n+0],e[1]=t[n+1],e[2]=t[n+2],e[3]=t[n+3],e},e.toVec3Array=function(e,t,n){t[n+0]=e[0],t[n+1]=e[1],t[n+2]=e[2]},e.fromVec3Array=function(e,t,n){return e[0]=t[n+0],e[1]=t[n+1],e[2]=t[n+2],e[3]=0,e},e.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},e.set=function(e,t,n,r,i){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e},e.add=function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e},e.distance=function(e,t){var n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2],o=t[3]-e[3];return Math.sqrt(n*n+r*r+i*i+o*o)},e.scale=function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[4]=t[4]*n,e},e.round=function(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e[3]=Math.round(t[3]),e},e.ceil=function(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e[3]=Math.ceil(t[3]),e},e.floor=function(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e[3]=Math.floor(t[3]),e},e.squaredDistance=function(e,t){var n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2],o=t[3]-e[3];return n*n+r*r+i*i+o*o},e.norm=function(e){var t=e[0],n=e[1],r=e[2],i=e[3];return Math.sqrt(t*t+n*n+r*r+i*i)},e.squaredNorm=function(e){var t=e[0],n=e[1],r=e[2],i=e[3];return t*t+n*n+r*r+i*i},e.transformMat4=function(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3];return e[0]=n[0]*r+n[4]*i+n[8]*o+n[12]*a,e[1]=n[1]*r+n[5]*i+n[9]*o+n[13]*a,e[2]=n[2]*r+n[6]*i+n[10]*o+n[14]*a,e[3]=n[3]*r+n[7]*i+n[11]*o+n[15]*a,e},e.dot=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]},e.inverse=function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e[3]=1/t[3],e},e.exactEquals=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]},e.equals=function(e,t){var n=e[0],r=e[1],i=e[2],o=e[3],a=t[0],u=t[1],s=t[2],c=t[3];return Math.abs(n-a)<=h*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(r-u)<=h*Math.max(1,Math.abs(r),Math.abs(u))&&Math.abs(i-s)<=h*Math.max(1,Math.abs(i),Math.abs(s))&&Math.abs(o-c)<=h*Math.max(1,Math.abs(o),Math.abs(c))},e.toString=function(e,t){return"[".concat(e[0].toPrecision(t)," ").concat(e[1].toPrecision(t)," ").concat(e[2].toPrecision(t),"  ").concat(e[3].toPrecision(t),"]")}}(M||(M={})),function(e){function t(){var e=[.1,0,0,0];return e[0]=0,e}function n(){var e=t();return e[3]=1,e}function r(e,t,n){n*=.5;var r=Math.sin(n);return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=Math.cos(n),e}function i(e,t,n,r){var i,o,a,u,s,c=t[0],l=t[1],d=t[2],f=t[3],p=n[0],m=n[1],h=n[2],g=n[3];return(o=c*p+l*m+d*h+f*g)<0&&(o=-o,p=-p,m=-m,h=-h,g=-g),1-o>1e-6?(i=Math.acos(o),a=Math.sin(i),u=Math.sin((1-r)*i)/a,s=Math.sin(r*i)/a):(u=1-r,s=r),e[0]=u*c+s*p,e[1]=u*l+s*m,e[2]=u*d+s*h,e[3]=u*f+s*g,e}function o(e,t){var n,r=t[0]+t[4]+t[8];if(r>0)n=Math.sqrt(r+1),e[3]=.5*n,n=.5/n,e[0]=(t[5]-t[7])*n,e[1]=(t[6]-t[2])*n,e[2]=(t[1]-t[3])*n;else{var i=0;t[4]>t[0]&&(i=1),t[8]>t[3*i+i]&&(i=2);var o=(i+1)%3,a=(i+2)%3;n=Math.sqrt(t[3*i+i]-t[3*o+o]-t[3*a+a]+1),e[i]=.5*n,n=.5/n,e[3]=(t[3*o+a]-t[3*a+o])*n,e[o]=(t[3*o+i]+t[3*i+o])*n,e[a]=(t[3*a+i]+t[3*i+a])*n}return e}e.zero=t,e.identity=n,e.setIdentity=function(e){e[0]=0,e[1]=0,e[2]=0,e[3]=1},e.hasNaN=function(e){return isNaN(e[0])||isNaN(e[1])||isNaN(e[2])||isNaN(e[3])},e.create=function(e,t,r,i){var o=n();return o[0]=e,o[1]=t,o[2]=r,o[3]=i,o},e.setAxisAngle=r,e.getAxisAngle=function(e,t){var n=2*Math.acos(t[3]),r=Math.sin(n/2);return 0!==r?(e[0]=t[0]/r,e[1]=t[1]/r,e[2]=t[2]/r):(e[0]=1,e[1]=0,e[2]=0),n},e.multiply=function(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],u=n[0],s=n[1],c=n[2],l=n[3];return e[0]=r*l+a*u+i*c-o*s,e[1]=i*l+a*s+o*u-r*c,e[2]=o*l+a*c+r*s-i*u,e[3]=a*l-r*u-i*s-o*c,e},e.rotateX=function(e,t,n){n*=.5;var r=t[0],i=t[1],o=t[2],a=t[3],u=Math.sin(n),s=Math.cos(n);return e[0]=r*s+a*u,e[1]=i*s+o*u,e[2]=o*s-i*u,e[3]=a*s-r*u,e},e.rotateY=function(e,t,n){n*=.5;var r=t[0],i=t[1],o=t[2],a=t[3],u=Math.sin(n),s=Math.cos(n);return e[0]=r*s-o*u,e[1]=i*s+a*u,e[2]=o*s+r*u,e[3]=a*s-i*u,e},e.rotateZ=function(e,t,n){n*=.5;var r=t[0],i=t[1],o=t[2],a=t[3],u=Math.sin(n),s=Math.cos(n);return e[0]=r*s+i*u,e[1]=i*s-r*u,e[2]=o*s+a*u,e[3]=a*s-o*u,e},e.calculateW=function(e,t){var n=t[0],r=t[1],i=t[2];return e[0]=n,e[1]=r,e[2]=i,e[3]=Math.sqrt(Math.abs(1-n*n-r*r-i*i)),e},e.slerp=i,e.invert=function(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=n*n+r*r+i*i+o*o,u=a?1/a:0;return e[0]=-n*u,e[1]=-r*u,e[2]=-i*u,e[3]=o*u,e},e.conjugate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e},e.dot=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]},e.fromMat3=o,e.fromEuler=function(e,t,n){var r=t[0],i=t[1],o=t[2],a=Math.cos(r/2),u=Math.cos(i/2),s=Math.cos(o/2),c=Math.sin(r/2),l=Math.sin(i/2),d=Math.sin(o/2);switch(n){case"XYZ":e[0]=c*u*s+a*l*d,e[1]=a*l*s-c*u*d,e[2]=a*u*d+c*l*s,e[3]=a*u*s-c*l*d;break;case"YXZ":e[0]=c*u*s+a*l*d,e[1]=a*l*s-c*u*d,e[2]=a*u*d-c*l*s,e[3]=a*u*s+c*l*d;break;case"ZXY":e[0]=c*u*s-a*l*d,e[1]=a*l*s+c*u*d,e[2]=a*u*d+c*l*s,e[3]=a*u*s-c*l*d;break;case"ZYX":e[0]=c*u*s-a*l*d,e[1]=a*l*s+c*u*d,e[2]=a*u*d-c*l*s,e[3]=a*u*s+c*l*d;break;case"YZX":e[0]=c*u*s+a*l*d,e[1]=a*l*s+c*u*d,e[2]=a*u*d-c*l*s,e[3]=a*u*s-c*l*d;break;case"XZY":e[0]=c*u*s-a*l*d,e[1]=a*l*s-c*u*d,e[2]=a*u*d+c*l*s,e[3]=a*u*s+c*l*d;break;default:k()}return e};var a=[0,0,0];function u(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=n*n+r*r+i*i+o*o;return a>0&&(a=1/Math.sqrt(a),e[0]=n*a,e[1]=r*a,e[2]=i*a,e[3]=o*a),e}e.fromUnitVec3=function(e,t,n){var r=A.dot(t,n)+1;return r<h?(r=0,Math.abs(t[0])>Math.abs(t[2])?A.set(a,-t[1],t[0],0):A.set(a,0,-t[2],t[1])):A.cross(a,t,n),e[0]=a[0],e[1]=a[1],e[2]=a[2],e[3]=r,u(e,e),e},e.clone=function(e){var n=t();return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n},e.toArray=function(e,t,n){return t[n+0]=e[0],t[n+1]=e[1],t[n+2]=e[2],t[n+3]=e[3],t},e.fromArray=function(e,t,n){return e[0]=t[n+0],e[1]=t[n+1],e[2]=t[n+2],e[3]=t[n+3],e},e.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},e.set=function(e,t,n,r,i){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e},e.exactEquals=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]},e.equals=function(e,t){var n=e[0],r=e[1],i=e[2],o=e[3],a=t[0],u=t[1],s=t[2],c=t[3];return Math.abs(n-a)<=h*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(r-u)<=h*Math.max(1,Math.abs(r),Math.abs(u))&&Math.abs(i-s)<=h*Math.max(1,Math.abs(i),Math.abs(s))&&Math.abs(o-c)<=h*Math.max(1,Math.abs(o),Math.abs(c))},e.add=function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e},e.normalize=u;var s=[0,0,0],c=[1,0,0],l=[0,1,0];e.rotationTo=function(e,t,n){var i=A.dot(t,n);return i<-.999999?(A.cross(s,c,t),A.magnitude(s)<1e-6&&A.cross(s,l,t),A.normalize(s,s),r(e,s,Math.PI),e):i>.999999?(e[0]=0,e[1]=0,e[2]=0,e[3]=1,e):(A.cross(s,t,n),e[0]=s[0],e[1]=s[1],e[2]=s[2],e[3]=1+i,u(e,e))};var d=t(),f=t();e.sqlerp=function(e,t,n,r,o,a){return i(d,t,o,a),i(f,n,r,a),i(e,d,f,2*a*(1-a)),e};var p=[0,0,0,0,0,0,0,0,0];e.setAxes=function(e,t,n,r){return p[0]=n[0],p[3]=n[1],p[6]=n[2],p[1]=r[0],p[4]=r[1],p[7]=r[2],p[2]=-t[0],p[5]=-t[1],p[8]=-t[2],u(e,o(e,p))},e.toString=function(e,t){return"[".concat(e[0].toPrecision(t)," ").concat(e[1].toPrecision(t)," ").concat(e[2].toPrecision(t),"  ").concat(e[3].toPrecision(t),"]")},e.Identity=n()}(D||(D={})),function(e){function t(e,t,i){var o=function(e,t,n){for(var r=[],i=0;i<t.length;i++)r[i]=t[t.length-i-1];var o=[1];for(i=1;i<e.length;i++)o[i]=e[r[i-1]];return{dimensions:e,axisOrderFastToSlow:r,axisOrderSlowToFast:t,accessDimensions:o,defaultCtor:n||Float64Array}}(e,t,i),a=n(o),u=a.get,s=a.set,c=a.add,l=a.dataOffset,d=a.getCoords;return{rank:e.length,dimensions:e,axisOrderSlowToFast:t,create:r(o),get:u,set:s,add:c,dataOffset:l,getCoords:d}}function n(e){var t=e.dimensions,n=e.axisOrderFastToSlow;switch(t.length){case 1:return{get:function(e,t){return e[t]},set:function(e,t,n){return e[t]=n},add:function(e,t,n){return e[t]+=n},dataOffset:function(e){return e},getCoords:function(e,t){return t[0]=e,t}};case 2:if(0===n[0]&&1===n[1]){var r=t[0];return{get:function(e,t,n){return e[n*r+t]},set:function(e,t,n,i){return e[n*r+t]=i},add:function(e,t,n,i){return e[n*r+t]+=i},dataOffset:function(e,t){return t*r+e},getCoords:function(e,t){return t[0]=e%r,t[1]=Math.floor(e/r),t}}}if(1===n[0]&&0===n[1]){var o=t[1];return{get:function(e,t,n){return e[t*o+n]},set:function(e,t,n,r){return e[t*o+n]=r},add:function(e,t,n,r){return e[t*o+n]+=r},dataOffset:function(e,t){return e*o+t},getCoords:function(e,t){return t[0]=Math.floor(e/o),t[1]=e%o,t}}}throw new Error("bad axis order");case 3:if(0===n[0]&&1===n[1]&&2===n[2]){var a=t[0],u=t[1],s=a*u;return{get:function(e,t,n,r){return e[t+n*a+r*s]},set:function(e,t,n,r,i){return e[t+n*a+r*s]=i},add:function(e,t,n,r,i){return e[t+n*a+r*s]+=i},dataOffset:function(e,t,n){return e+t*a+n*s},getCoords:function(e,t){var n=Math.floor(e/a);return t[0]=e%a,t[1]=n%u,t[2]=Math.floor(n/u),t}}}if(0===n[0]&&2===n[1]&&1===n[2]){var c=t[0],l=t[2],d=c*l;return{get:function(e,t,n,r){return e[t+r*c+n*d]},set:function(e,t,n,r,i){return e[t+r*c+n*d]=i},add:function(e,t,n,r,i){return e[t+r*c+n*d]+=i},dataOffset:function(e,t,n){return e+n*c+t*d},getCoords:function(e,t){var n=Math.floor(e/c);return t[0]=e%c,t[1]=Math.floor(n/l),t[2]=n%l,t}}}if(1===n[0]&&0===n[1]&&2===n[2]){var f=t[1],p=t[0],m=f*p;return{get:function(e,t,n,r){return e[n+t*f+r*m]},set:function(e,t,n,r,i){return e[n+t*f+r*m]=i},add:function(e,t,n,r,i){return e[n+t*f+r*m]+=i},dataOffset:function(e,t,n){return t+e*f+n*m},getCoords:function(e,t){var n=Math.floor(e/f);return t[0]=n%p,t[1]=e%f,t[2]=Math.floor(n/p),t}}}if(1===n[0]&&2===n[1]&&0===n[2]){var h=t[1],g=t[2],v=h*g;return{get:function(e,t,n,r){return e[n+r*h+t*v]},set:function(e,t,n,r,i){return e[n+r*h+t*v]=i},add:function(e,t,n,r,i){return e[n+r*h+t*v]+=i},dataOffset:function(e,t,n){return t+n*h+e*v},getCoords:function(e,t){var n=Math.floor(e/h);return t[0]=Math.floor(n/g),t[1]=e%h,t[2]=n%g,t}}}if(2===n[0]&&0===n[1]&&1===n[2]){var y=t[2],_=t[0],b=y*_;return{get:function(e,t,n,r){return e[r+t*y+n*b]},set:function(e,t,n,r,i){return e[r+t*y+n*b]=i},add:function(e,t,n,r,i){return e[r+t*y+n*b]+=i},dataOffset:function(e,t,n){return n+e*y+t*b},getCoords:function(e,t){var n=Math.floor(e/y);return t[0]=n%_,t[1]=Math.floor(n/_),t[2]=e%y,t}}}if(2===n[0]&&1===n[1]&&0===n[2]){var x=t[2],A=t[1],w=x*A;return{get:function(e,t,n,r){return e[r+n*x+t*w]},set:function(e,t,n,r,i){return e[r+n*x+t*w]=i},add:function(e,t,n,r,i){return e[r+n*x+t*w]+=i},dataOffset:function(e,t,n){return n+t*x+e*w},getCoords:function(e,t){var n=Math.floor(e/x);return t[0]=Math.floor(n/A),t[1]=n%A,t[2]=e%x,t}}}throw new Error("bad axis order");default:return{get:function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return t[i(e,n)]},set:function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return t[i(e,n)]=n[n.length-1]},add:function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return t[i(e,n)]+=n[n.length-1]},dataOffset:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return i(e,t)},getCoords:function(t,n){return function(e,t,n){for(var r=e.dimensions,i=e.axisOrderFastToSlow,o=r.length,a=t,u=0;u<o;u++){var s=r[i[u]];n[i[u]]=a%s,a=Math.floor(a/s)}return n[i[o+1]]=a,n}(e,t,n)}}}}function r(e){for(var t=e.dimensions,n=1,r=0,i=t.length;r<i;r++)n*=t[r];return function(t){return new(t||e.defaultCtor)(n)}}function i(e,t){for(var n=e.accessDimensions,r=e.axisOrderFastToSlow,i=n.length-1,o=n[i]*t[r[i]],a=i-1;a>=0;a--)o=(o+t[r[a]])*n[a];return o}function o(e,t){for(var n=[],r=0;r<e.length;r++)n[r]=e[t[r]];return n}e.create=function(e,t){return{space:e,data:t}},e.Space=t,e.Data1=function(e){return e},e.Vector=function(e,n){return t([e],[0],n)},e.ColumnMajorMatrix=function(e,n,r){return t([e,n],[1,0],r)},e.RowMajorMatrix=function(e,n,r){return t([e,n],[0,1],r)},e.toMat4=function(e,t,n){if(2!==t.rank)throw new Error("Invalid tensor rank");for(var r=Math.min(4,t.dimensions[0]),i=Math.min(4,t.dimensions[1]),o=0;o<r;o++)for(var a=0;a<i;a++)P.setValue(e,o,a,t.get(n,o,a));return e},e.toMat3=function(e,t,n){if(2!==t.rank)throw new Error("Invalid tensor rank");for(var r=Math.min(3,t.dimensions[0]),i=Math.min(3,t.dimensions[1]),o=0;o<r;o++)for(var a=0;a<i;a++)I.setValue(e,o,a,t.get(n,o,a));return e},e.toVec3=function(e,t,n){if(1!==t.rank)throw new Error("Invalid tensor rank");for(var r=Math.min(3,t.dimensions[0]),i=0;i<r;i++)e[i]=n[i];return e},e.toVec4=function(e,t,n){if(1!==t.rank)throw new Error("Invalid tensor rank");for(var r=Math.min(4,t.dimensions[0]),i=0;i<r;i++)e[i]=n[i];return e},e.areEqualExact=function(e,t){var n=e.length;if(n!==t.length)return!1;for(var r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0},e.invertAxisOrder=function(e){for(var t=[],n=0;n<e.length;n++)t[n]=e[e.length-n-1];return t},e.convertToCanonicalAxisIndicesFastToSlow=function(e){for(var t=new Int32Array(e.length),n=0;n<e.length;n++)t[e[n]]=n;return function(e){return o(e,t)}},e.convertToCanonicalAxisIndicesSlowToFast=function(e){for(var t=new Int32Array(e.length),n=0;n<e.length;n++)t[e[e.length-n-1]]=n;return function(e){return o(e,t)}}}(w||(w={}));var O,N,T=n(0);function R(e,t,n,r){r=e[t],e[t]=e[n],e[n]=r}function U(e,t){return(e=Math.abs(e))>(t=Math.abs(t))?(t/=e,e*Math.sqrt(1+t*t)):t>0?(e/=t,t*Math.sqrt(1+e*e)):0}(N=O||(O={})).create=function(e,t,n){void 0===n&&(n=Float32Array);var r=e*t;return{data:new n(r),size:r,cols:e,rows:t}},N.get=function(e,t,n){return e.data[e.rows*n+t]},N.set=function(e,t,n,r){return e.data[e.rows*n+t]=r,e},N.add=function(e,t,n,r){return e.data[e.rows*n+t]+=r,e},N.makeZero=function(e){return e.data.fill(0),e},N.clone=function(e){return{data:e.data.slice(),size:e.size,cols:e.cols,rows:e.rows}},N.fromArray=function(e,t,n){return{data:e,size:t*n,cols:t,rows:n}},N.transpose=function(e,t){if(e.cols!==t.rows||e.rows!==t.cols)throw new Error("transpose: matrix dimensions incompatible");if(e.data===t.data)throw new Error("transpose: matrices share memory");for(var n=t.rows,r=t.cols,i=t.data,o=e.data,a=0,u=0,s=0;a<n;s+=1,u+=r,++a)for(var c=s,l=0;l<r;c+=n,l++)o[c]=i[u+l];return e},N.multiplyABt=function(e,t,n){for(var r=t.cols,i=t.rows,o=n.rows,a=t.data,u=n.data,s=e.data,c=0,l=0,d=0;c<i;l+=r,c++)for(var f=0,p=0;p<o;d++,p++){for(var m=0,h=l,g=0;g<r;h++,f++,g++)m+=a[h]*u[f];s[d]=m}return e},N.meanRows=function(e){for(var t=e.rows,n=e.cols,r=e.data,i=new Array(n),o=0;o<n;++o)i[o]=0;for(var a=0,u=0;a<t;++a)for(o=0;o<n;++o,++u)i[o]+=r[u];for(o=0;o<n;++o)i[o]/=t;return i},N.subRows=function(e,t){for(var n=e.rows,r=e.cols,i=e.data,o=0,a=0;o<n;++o)for(var u=0;u<r;++u,++a)i[a]-=t[u];return e};var L;function G(e,t,n,r){var i=0,o=0,a=e.rows,u=e.cols,s=a,c=u;s<c&&(i=1,o=s,s=c,c=o);var l=O.create(s,s),d=O.create(1,c),f=O.create(c,c);if(0===i)O.transpose(l,e);else{for(o=0;o<u*a;o++)l.data[o]=e.data[o];for(;o<c*s;o++)l.data[o]=0}if(function(e,t,n,r,i,o,a,u){for(var s=0,c=0,l=0,d=0,f=Math.max(o,30),p=0,m=0,h=0,g=0,v=0,y=0,_=0,b=0,x=0,A=0,w=0,S=0,C=0,B=0,P=0,I=0,E=0,M=4660,k=0,D=0,O=0,N=new Float64Array(a<<3);s<a;s++){for(l=0,w=0;l<o;l++)w+=(b=e[s*t+l])*b;if(N[s]=w,r){for(l=0;l<a;l++)r[s*i+l]=0;r[s*i+s]=1}}for(;d<f;d++){for(v=0,s=0;s<a-1;s++)for(c=s+1;c<a;c++){for(p=s*t|0,m=c*t|0,P=N[s],I=0,E=N[c],l=2,I+=e[p]*e[m],I+=e[p+1]*e[m+1];l<o;l++)I+=e[p+l]*e[m+l];if(!(Math.abs(I)<=2.384185792e-7*Math.sqrt(P*E))){for(C=U(I*=2,S=P-E),S<0?(B=.5*(C-S),y=I/(C*(_=Math.sqrt(B/C))*2)):_=I/(C*(y=Math.sqrt((C+S)/(2*C)))*2),P=0,E=0,l=2,x=y*e[p]+_*e[m],A=-_*e[p]+y*e[m],e[p]=x,e[m]=A,P+=x*x,E+=A*A,x=y*e[p+1]+_*e[m+1],A=-_*e[p+1]+y*e[m+1],e[p+1]=x,e[m+1]=A,P+=x*x,E+=A*A;l<o;l++)x=y*e[p+l]+_*e[m+l],A=-_*e[p+l]+y*e[m+l],e[p+l]=x,e[m+l]=A,P+=x*x,E+=A*A;if(N[s]=P,N[c]=E,v=1,r)for(g=c*i|0,l=2,x=y*r[h=s*i|0]+_*r[g],A=-_*r[h]+y*r[g],r[h]=x,r[g]=A,x=y*r[h+1]+_*r[g+1],A=-_*r[h+1]+y*r[g+1],r[h+1]=x,r[g+1]=A;l<a;l++)x=y*r[h+l]+_*r[g+l],A=-_*r[h+l]+y*r[g+l],r[h+l]=x,r[g+l]=A}}if(0===v)break}for(s=0;s<a;s++){for(l=0,w=0;l<o;l++)w+=(b=e[s*t+l])*b;N[s]=Math.sqrt(w)}for(s=0;s<a-1;s++){for(c=s,l=s+1;l<a;l++)N[c]<N[l]&&(c=l);if(s!==c&&(R(N,s,c,w),r)){for(l=0;l<o;l++)R(e,s*t+l,c*t+l,b);for(l=0;l<a;l++)R(r,s*i+l,c*i+l,b)}}for(s=0;s<a;s++)n[s]=N[s];if(r)for(s=0;s<u;s++){for(w=s<a?N[s]:0;w<=1e-37;){for(D=1/o,l=0;l<o;l++)k=0!=(256&(M=214013*M+2531011)>>16)?D:-D,e[s*t+l]=k;for(d=0;d<2;d++)for(c=0;c<s;c++){for(w=0,l=0;l<o;l++)w+=e[s*t+l]*e[c*t+l];for(O=0,l=0;l<o;l++)b=e[s*t+l]-w*e[c*t+l],e[s*t+l]=b,O+=Math.abs(b);for(O=O?1/O:0,l=0;l<o;l++)e[s*t+l]*=O}for(w=0,l=0;l<o;l++)w+=(b=e[s*t+l])*b;w=Math.sqrt(w)}for(_=1/w,l=0;l<o;l++)e[s*t+l]*=_}}(l.data,s,d.data,f.data,c,s,c,s),t){for(o=0;o<c;o++)t.data[o]=d.data[o];for(;o<u;o++)t.data[o]=0}0===i?(n&&O.transpose(n,l),r&&O.transpose(r,f)):(n&&O.transpose(n,f),r&&O.transpose(r,l))}function q(e){return 0}function F(e){return function(t){return e[t]}}function j(e){return 0===e[3]&&0===e[7]&&0===e[11]&&1===e[15]}function H(e,t){var n=e.matrix,r=t.x,i=t.y,o=t.z,a=n[0],u=n[4],s=n[8],c=n[12];return j(n)?function(e){return a*r[e]+u*i[e]+s*o[e]+c}:function(e){var t=r[e],l=i[e],d=o[e],f=n[3]*t+n[7]*l+n[11]*d+n[15]||1;return(a*t+u*l+s*d+c)/f}}function V(e,t){var n=e.matrix,r=t.x,i=t.y,o=t.z,a=n[1],u=n[5],s=n[9],c=n[13];return j(n)?function(e){return a*r[e]+u*i[e]+s*o[e]+c}:function(e){var t=r[e],l=i[e],d=o[e],f=n[3]*t+n[7]*l+n[11]*d+n[15]||1;return(a*t+u*l+s*d+c)/f}}function z(e,t){var n=e.matrix,r=t.x,i=t.y,o=t.z,a=n[2],u=n[6],s=n[10],c=n[14];return j(n)?function(e){return a*r[e]+u*i[e]+s*o[e]+c}:function(e){var t=r[e],l=i[e],d=o[e],f=n[3]*t+n[7]*l+n[11]*d+n[15]||1;return(a*t+u*l+s*d+c)/f}}!function(e){function t(t,n,r){var i=r||{},o=i.assembly,a=i.ncsId,u=i.hkl,s=i.spgrOp,c=i.key,l=u?A.clone(u):A();s=null!=s?s:-1,c=null!=c?c:-1,a=a||-1;var d=P.isIdentity(n),f=function(e,t){if(!e)return"";if(e.assembly)return(n=e)&&n.matrix&&n.inverse&&"string"==typeof n.name?e.suffix:t?"":"_".concat(e.assembly.operId);var n;if(void 0!==e.spgrOp&&void 0!==e.hkl&&-1!==e.spgrOp){var r=e.hkl,i=r[0],o=r[1],a=r[2];return"-".concat(e.spgrOp+1,"_").concat(5+i).concat(5+o).concat(5+a)}if(-1!==e.ncsId)return"_".concat(e.ncsId);return""}(r,d);return d?{name:t,assembly:o,matrix:n,inverse:P.identity(),isIdentity:!0,hkl:l,spgrOp:s,ncsId:a,suffix:f,key:c}:(P.isRotationAndTranslation(n,e.RotationTranslationEpsilon)||console.warn("Symmetry operator (".concat(t,") should be a composition of rotation and translation.")),{name:t,assembly:o,matrix:n,inverse:P.invert(P(),n),isIdentity:!1,hkl:l,spgrOp:s,key:c,ncsId:a,suffix:f})}e.DefaultName="1_555",e.Default=t(e.DefaultName,P.identity()),e.RotationTranslationEpsilon=.005,e.create=t,e.checkIfRotationAndTranslation=function(t,n){for(var r=P.identity(),i=0;i<3;i++)for(var o=0;o<3;o++)P.setValue(r,i,o,I.getValue(t,i,o));return P.setTranslation(r,n),P.isRotationAndTranslation(r,e.RotationTranslationEpsilon)},e.ofRotationAndOffset=function(e,n,r,i){for(var o=P.identity(),a=0;a<3;a++)for(var u=0;u<3;u++)P.setValue(o,a,u,I.getValue(n,a,u));return P.setTranslation(o,r),t(e,o,{ncsId:i})};var n=D.identity(),r=D(),i=D(),o=A();function a(t,n,r){var i=u(e.Default,n),o=t.isIdentity?i:u(t,n),a=function(e,t){return e.isIdentity?{x:F(t.x),y:F(t.y),z:F(t.z)}:{x:H(e,t),y:V(e,t),z:z(e,t)}}(t,n);return{operator:t,coordinates:n,invariantPosition:i,position:o,x:a.x,y:a.y,z:a.z,r:r}}function u(e,t){return e.isIdentity?(r=(n=t).x,i=n.y,o=n.z,function(e,t){return t[0]=r[e],t[1]=i[e],t[2]=o[e],t}):function(e,t){var n=e.matrix,r=t.x,i=t.y,o=t.z;if(j(n))return function(e,t){var a=r[e],u=i[e],s=o[e];return t[0]=n[0]*a+n[4]*u+n[8]*s+n[12],t[1]=n[1]*a+n[5]*u+n[9]*s+n[13],t[2]=n[2]*a+n[6]*u+n[10]*s+n[14],t};return function(e,t){return t[0]=r[e],t[1]=i[e],t[2]=o[e],A.transformMat4(t,t,n),t}}(e,t);var n,r,i,o}e.lerpFromIdentity=function(e,t,i){var a=t.inverse;if(t.isIdentity)return P.copy(e,a);var u=1-i;P.getRotation(r,a),D.slerp(r,n,r,u);var s=D.getAxisAngle(o,r);return P.fromRotation(e,s,o),P.setValue(e,0,3,u*P.getValue(a,0,3)),P.setValue(e,1,3,u*P.getValue(a,1,3)),P.setValue(e,2,3,u*P.getValue(a,2,3)),e},e.slerp=function(e,t,n,a){if(Math.abs(a)<=1e-5)return P.copy(e,t);if(Math.abs(a-1)<=1e-5)return P.copy(e,n);P.getRotation(r,t),P.getRotation(i,n),D.slerp(i,r,i,a);var u=D.getAxisAngle(o,i);return P.fromRotation(e,u,o),P.setValue(e,0,3,y(P.getValue(t,0,3),P.getValue(n,0,3),a)),P.setValue(e,1,3,y(P.getValue(t,1,3),P.getValue(n,1,3),a)),P.setValue(e,2,3,y(P.getValue(t,2,3),P.getValue(n,2,3),a)),e},e.compose=function(e,n){var r=P.mul(P(),n.matrix,e.matrix);return t(n.name,r,n)},e.createMapping=function(e,t,n){return void 0===n&&(n=q),a(e,t,n)},e.createCoordinateMapper=u}(L||(L={}));var Y=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[-1,0,0,0],[0,-1,0,0],[0,0,-1,0],[0,1,0,.5],[1,0,0,.5],[-1,0,0,.5],[0,0,1,.5],[0,-1,0,.5],[0,0,-1,.5],[1,0,0,.25],[0,-1,0,.25],[0,0,1,.25],[-1,0,0,.25],[0,1,0,.25],[0,-1,0,.75],[0,0,1,.75],[0,1,0,.75],[1,0,0,.75],[-1,0,0,.75],[0,0,-1,.25],[0,0,-1,.75],[1,-1,0,0],[-1,1,0,0],[0,0,1,1/3],[0,0,1,2/3],[1,0,0,2/3],[0,1,0,1/3],[0,-1,0,2/3],[1,-1,0,1/3],[-1,1,0,2/3],[-1,0,0,1/3],[1,0,0,1/3],[0,1,0,2/3],[0,-1,0,1/3],[1,-1,0,2/3],[-1,1,0,1/3],[-1,0,0,2/3],[0,0,-1,1/3],[0,0,-1,2/3],[0,0,1,5/6],[0,0,1,1/6],[0,0,-1,5/6],[0,0,-1,1/6]],K=[[0,1,2],[3,4,5],[3,1,5],[3,6,5],[7,6,2],[8,6,5],[0,4,2],[0,4,9],[7,10,2],[7,10,9],[0,10,2],[8,10,5],[3,1,11],[3,6,11],[0,10,9],[8,6,11],[3,4,2],[0,4,5],[3,4,9],[7,10,5],[8,4,9],[8,10,9],[8,10,2],[0,6,9],[3,10,9],[0,10,11],[7,1,9],[8,1,11],[7,4,11],[7,6,9],[7,10,11],[3,10,2],[8,1,5],[0,4,11],[3,1,2],[3,1,9],[7,4,2],[8,1,2],[8,1,9],[3,6,9],[7,4,9],[8,6,2],[8,6,9],[3,6,2],[12,13,14],[15,16,14],[12,17,18],[15,19,18],[20,13,18],[21,16,18],[20,17,14],[21,19,14],[0,1,5],[8,10,11],[7,6,11],[7,6,5],[8,4,2],[7,4,5],[7,1,5],[7,1,11],[0,10,5],[0,1,11],[0,6,11],[0,6,5],[3,10,11],[8,4,11],[15,13,22],[12,16,22],[15,17,23],[12,19,23],[21,13,23],[20,16,23],[21,17,22],[20,19,22],[4,0,2],[1,3,2],[4,0,14],[1,3,18],[4,0,9],[1,3,9],[4,0,18],[1,3,14],[10,7,9],[6,8,9],[4,7,14],[6,3,18],[10,0,18],[1,8,14],[1,3,5],[4,0,5],[6,8,11],[10,7,11],[1,3,11],[4,0,11],[10,7,2],[6,8,2],[3,10,22],[7,1,23],[8,4,23],[0,6,22],[1,0,5],[4,3,5],[1,0,23],[4,3,22],[10,7,14],[6,8,18],[8,6,22],[7,10,23],[4,3,11],[1,0,11],[1,0,22],[4,3,23],[10,7,18],[6,8,14],[8,6,23],[7,10,22],[6,7,11],[10,8,11],[8,1,23],[0,10,22],[3,6,22],[7,4,23],[4,3,2],[1,0,2],[10,8,2],[6,7,2],[4,3,9],[1,0,9],[10,8,9],[6,7,9],[4,8,14],[6,0,18],[10,3,18],[1,7,14],[4,8,18],[6,0,14],[10,3,14],[1,7,18],[6,7,5],[10,8,5],[6,8,5],[10,7,5],[8,1,22],[0,10,23],[3,6,23],[7,4,22],[4,24,2],[25,3,2],[4,24,26],[25,3,27],[4,24,27],[25,3,26],[28,29,26],[30,31,26],[32,33,26],[34,35,27],[36,37,27],[38,39,27],[2,0,1],[1,2,0],[1,25,5],[24,0,5],[39,36,40],[35,38,40],[37,34,40],[33,30,41],[29,32,41],[31,28,41],[5,3,4],[4,5,3],[25,1,5],[0,24,5],[24,4,5],[3,25,5],[4,3,41],[25,1,40],[24,4,41],[3,25,40],[4,3,40],[25,1,41],[24,4,40],[3,25,41],[35,34,40],[37,36,40],[39,38,40],[29,28,41],[31,30,41],[33,32,41],[3,5,4],[5,4,3],[25,1,2],[0,24,2],[24,4,2],[3,25,2],[25,1,9],[0,24,9],[24,4,9],[3,25,9],[30,33,26],[32,29,26],[28,31,26],[36,39,27],[38,35,27],[34,37,27],[0,2,1],[2,1,0],[30,33,42],[32,29,42],[28,31,42],[36,39,43],[38,35,43],[34,37,43],[7,9,6],[9,6,7],[25,1,11],[0,24,11],[24,4,11],[3,25,11],[35,34,44],[37,36,44],[39,38,44],[29,28,45],[31,30,45],[33,32,45],[8,11,10],[11,10,8],[1,25,2],[24,0,2],[1,25,42],[24,0,43],[1,25,43],[24,0,42],[1,25,27],[24,0,26],[1,25,26],[24,0,27],[1,25,9],[24,0,9],[4,24,5],[25,3,5],[4,24,11],[25,3,11],[1,0,40],[4,3,44],[0,24,45],[1,0,41],[4,3,45],[0,24,44],[0,24,40],[0,24,41],[2,3,4],[5,3,1],[5,0,4],[4,2,3],[1,5,3],[4,5,0],[2,7,6],[2,8,10],[5,8,6],[5,7,10],[1,9,7],[4,9,8],[1,11,8],[4,11,7],[9,0,6],[9,3,10],[11,3,6],[11,0,10],[6,2,7],[10,2,8],[6,5,8],[10,5,7],[9,7,1],[9,8,4],[11,8,1],[11,7,4],[6,9,0],[10,9,3],[6,11,3],[10,11,0],[9,7,6],[9,8,10],[11,8,6],[11,7,10],[6,9,7],[10,9,8],[6,11,8],[10,11,7],[2,3,10],[5,8,1],[11,0,4],[10,2,3],[1,5,8],[4,11,0],[5,0,1],[2,0,4],[2,3,1],[1,5,0],[4,2,0],[1,2,3],[11,8,10],[11,7,6],[9,7,10],[9,8,6],[10,11,8],[6,11,7],[10,9,7],[6,9,8],[5,8,10],[5,7,6],[2,7,10],[2,8,6],[4,11,8],[1,11,7],[4,9,7],[1,9,8],[11,3,10],[11,0,6],[9,0,10],[9,3,6],[10,5,8],[6,5,7],[10,2,7],[6,2,8],[11,8,4],[11,7,1],[9,7,4],[9,8,1],[10,11,3],[6,11,0],[10,9,0],[6,9,3],[22,15,13],[22,12,16],[14,12,13],[14,15,16],[13,22,15],[16,22,12],[13,14,12],[16,14,15],[22,21,17],[22,20,19],[14,20,17],[14,21,19],[13,23,21],[16,23,20],[13,18,20],[16,18,21],[23,15,17],[23,12,19],[18,12,17],[18,15,19],[17,22,21],[19,22,20],[17,14,20],[19,14,21],[23,21,13],[23,20,16],[18,20,13],[18,21,16],[17,23,15],[19,23,12],[17,18,12],[19,18,15],[5,0,6],[2,7,4],[9,3,1],[6,5,0],[4,2,7],[1,9,3],[0,2,4],[3,2,1],[0,5,1],[2,1,3],[2,4,0],[5,1,0],[7,9,10],[8,9,6],[7,11,6],[9,6,8],[9,10,7],[11,6,7],[1,7,11],[4,8,11],[1,8,9],[4,7,9],[0,9,10],[3,9,6],[3,11,10],[0,11,6],[2,6,8],[2,10,7],[5,6,7],[5,10,8],[6,0,11],[10,3,11],[6,3,9],[10,0,9],[7,2,10],[8,2,6],[8,5,10],[7,5,6],[9,1,8],[9,4,7],[11,1,7],[11,4,8],[7,9,4],[8,9,1],[8,11,4],[7,11,1],[9,6,3],[9,10,0],[11,6,0],[11,10,3],[19,12,23],[13,15,22],[16,21,18],[17,20,14],[20,14,17],[21,18,16],[15,22,13],[12,23,19],[18,16,21],[14,17,20],[23,19,12],[22,13,15],[19,20,22],[13,21,23],[16,15,14],[17,12,18],[20,18,13],[21,14,19],[15,23,17],[12,22,16],[18,19,15],[14,13,12],[23,16,20],[22,17,21],[16,12,22],[17,15,23],[19,21,14],[13,20,18],[12,14,13],[15,18,19],[21,22,17],[20,23,16],[14,16,15],[18,17,12],[22,19,20],[23,13,21],[16,20,23],[17,21,22],[19,15,18],[13,12,14],[12,18,17],[15,14,16],[21,23,13],[20,22,19],[14,19,21],[18,13,20],[22,16,12],[23,17,15],[19,12,22],[17,21,23],[16,15,18],[13,20,14],[20,14,13],[15,18,16],[21,23,17],[12,22,19],[18,16,15],[14,13,20],[22,19,12],[23,17,21],[3,2,4],[3,5,1],[0,5,4],[2,4,3],[5,1,3],[5,4,0],[1,7,9],[4,8,9],[1,8,11],[4,7,11],[0,9,6],[3,9,10],[3,11,6],[0,11,10],[2,6,7],[2,10,8],[5,6,8],[5,10,7],[6,0,9],[10,3,9],[6,3,11],[10,0,11],[7,2,6],[8,2,10],[8,5,6],[7,5,10],[9,1,7],[9,4,8],[11,1,8],[11,4,7],[7,9,1],[8,9,4],[8,11,1],[7,11,4],[9,6,0],[9,10,3],[11,6,3],[11,10,0],[8,9,10],[8,11,6],[7,11,10],[9,10,8],[11,6,8],[11,10,7],[6,0,2],[10,3,2],[6,3,5],[10,0,5],[7,2,1],[8,2,4],[8,5,1],[7,5,4],[9,1,0],[9,4,3],[11,1,3],[11,4,0],[1,7,2],[4,8,2],[1,8,5],[4,7,5],[0,9,1],[3,9,4],[3,11,1],[0,11,4],[2,6,0],[2,10,3],[5,6,3],[5,10,0],[0,2,6],[3,2,10],[3,5,6],[0,5,10],[2,1,7],[2,4,8],[5,1,8],[5,4,7],[16,12,14],[13,21,18],[19,15,23],[17,20,22],[12,14,16],[21,18,13],[15,23,19],[20,22,17],[14,16,12],[18,13,21],[23,19,15],[22,17,20],[19,20,18],[17,15,14],[16,21,22],[13,12,23],[20,18,19],[15,14,17],[21,22,16],[12,23,13],[18,19,20],[14,17,15],[22,16,21],[23,13,12],[6,0,5],[10,3,5],[6,3,2],[10,0,2],[7,2,4],[8,2,1],[8,5,4],[7,5,1],[9,1,3],[9,4,0],[11,1,0],[11,4,3],[1,7,5],[4,8,5],[1,8,2],[4,7,2],[0,9,4],[3,9,1],[3,11,4],[0,11,1],[2,6,3],[2,10,0],[5,6,0],[5,10,3],[0,2,10],[3,2,6],[3,5,10],[0,5,6],[2,1,8],[2,4,7],[5,1,7],[5,4,8],[21,17,23],[20,16,22],[12,13,18],[15,19,14],[23,21,17],[22,20,16],[18,12,13],[14,15,19],[17,23,21],[16,22,20],[13,18,12],[19,14,15],[21,13,22],[20,19,23],[12,17,14],[15,16,18],[23,15,13],[22,12,19],[18,20,17],[14,21,16],[17,22,15],[16,23,12],[13,14,20],[19,18,21],[15,17,22],[12,16,23],[20,13,14],[21,19,18],[22,21,13],[23,20,19],[14,12,17],[18,15,16],[13,23,15],[19,22,12],[17,18,20],[16,14,21],[15,13,23],[12,19,22],[20,17,18],[21,16,14],[22,15,17],[23,12,16],[14,20,13],[18,21,19],[13,22,21],[19,23,20],[17,14,12],[16,18,15],[6,5,3],[4,9,3],[9,3,4],[5,7,4],[4,5,7],[5,3,6]],Z=[[0],[0,1],[0,2],[0,3],[0,2,4,5],[0,6],[0,7],[0,6,4,8],[0,7,4,9],[0,6,2,1],[0,3,1,10],[0,6,2,1,4,8,5,11],[0,12,1,7],[0,1,13,14],[0,12,1,7,4,15,11,9],[0,16,2,17],[0,18,12,17],[0,16,5,19],[0,20,13,19],[0,18,12,17,4,21,15,19],[0,16,2,17,4,22,5,19],[0,16,2,17,23,24,13,25,26,20,27,28,4,22,5,19],[0,16,17,2,29,21,30,15],[0,20,13,19,29,31,32,33],[0,16,6,34],[0,18,7,34],[0,16,7,35],[0,16,36,37],[0,18,36,38],[0,16,14,39],[0,20,40,34],[0,16,8,41],[0,18,8,42],[0,16,9,42],[0,16,6,34,4,22,8,41],[0,18,7,34,4,21,9,41],[0,16,7,35,4,22,9,42],[0,16,6,34,23,24,14,39],[0,16,10,43,23,24,7,35],[0,16,36,37,23,24,9,42],[0,16,8,41,23,24,40,38],[0,16,6,34,23,24,14,39,26,20,40,38,4,22,8,41],[0,16,44,45,23,24,46,47,26,20,48,49,4,22,50,51],[0,16,6,34,29,21,9,42],[0,16,8,41,29,21,7,35],[0,16,36,37,29,21,14,39],[0,16,2,17,1,52,6,34],[0,16,2,17,53,54,9,42],[0,16,12,33,1,52,7,35],[0,16,2,17,11,55,8,41],[0,56,2,57,1,58,6,37],[0,56,15,25,1,58,9,39],[0,20,27,17,1,59,40,34],[0,56,12,28,1,58,7,38],[0,16,5,19,1,52,8,41],[0,22,13,28,1,55,14,38],[0,18,13,60,1,61,14,43],[0,16,15,30,1,52,9,42],[0,16,5,19,11,55,6,34],[0,21,12,19,1,54,7,41],[0,20,13,19,1,59,14,41],[0,20,3,30,1,59,10,42],[0,18,12,17,1,61,7,34,4,21,15,19,11,54,9,41],[0,24,13,17,1,62,14,34,4,20,27,19,11,59,40,41],[0,16,2,17,1,52,6,34,4,22,5,19,11,55,8,41],[0,16,12,33,1,52,7,35,4,22,15,30,11,55,9,42],[0,31,3,17,1,63,10,34,4,56,32,19,11,58,36,41],[0,22,2,19,64,59,14,38,4,16,5,17,65,62,40,39],[0,16,2,17,1,52,6,34,23,24,13,25,64,62,14,39,26,20,27,28,65,59,40,38,4,22,5,19,11,55,8,41],[0,16,2,17,66,67,44,45,23,24,13,25,68,69,46,47,26,20,27,28,70,71,48,49,4,22,5,19,72,73,50,51],[0,16,2,17,1,52,6,34,29,21,15,30,53,54,9,42],[0,16,5,19,1,52,8,41,29,21,12,33,53,54,7,35],[0,20,13,19,1,59,14,41,29,31,32,33,53,63,36,35],[0,31,3,17,1,63,10,34,29,20,27,30,53,59,40,42],[0,16,74,75],[0,18,76,77],[0,16,78,79],[0,18,80,81],[0,16,74,75,29,21,82,83],[0,21,84,85,29,16,86,87],[0,16,88,89],[0,16,88,89,29,21,90,91],[0,16,74,75,1,52,88,89],[0,16,78,79,1,52,92,93],[0,16,94,95,11,55,88,89],[0,16,82,83,53,54,88,89],[0,16,74,75,1,52,88,89,29,21,82,83,53,54,90,91],[0,21,84,85,96,97,88,91,29,16,86,87,98,99,90,89],[0,16,74,75,2,17,100,101],[0,16,94,95,5,19,100,101],[0,18,76,77,2,33,102,103],[0,18,104,105,106,107,100,108],[0,16,78,79,2,17,109,108],[0,16,82,83,15,30,100,101],[0,18,80,81,2,33,110,111],[0,18,112,113,114,115,100,108],[0,16,74,75,2,17,100,101,29,21,82,83,15,30,116,117],[0,21,84,85,118,119,116,101,29,16,86,87,120,121,100,117],[0,16,74,75,6,34,122,123],[0,16,74,75,8,41,124,125],[0,16,78,79,7,35,122,123],[0,16,82,83,9,42,122,123],[0,16,74,75,7,35,126,127],[0,16,74,75,9,42,128,129],[0,16,78,79,6,34,126,127],[0,16,78,79,8,41,128,129],[0,16,74,75,6,34,122,123,29,21,82,83,9,42,128,129],[0,16,74,75,7,35,126,127,29,21,82,83,8,41,124,125],[0,21,84,85,6,42,130,131,29,16,86,87,9,34,132,133],[0,21,84,85,7,41,134,135,29,16,86,87,8,35,136,137],[0,16,89,88,2,17,122,123],[0,16,89,88,12,33,126,127],[0,16,89,88,5,19,124,125],[0,16,89,88,15,30,128,129],[0,16,88,89,6,34,100,101],[0,16,89,88,7,35,109,108],[0,16,89,88,8,41,138,139],[0,16,89,88,9,42,116,117],[0,16,89,88,6,34,100,101,29,21,91,90,9,42,116,117],[0,16,89,88,7,35,109,108,29,21,91,90,8,41,138,139],[0,16,89,88,2,17,122,123,29,21,91,90,15,30,128,129],[0,16,89,88,118,121,132,131,29,21,91,90,120,119,130,133],[0,16,74,75,2,17,100,101,1,52,88,89,6,34,122,123],[0,16,74,75,12,33,109,108,1,52,88,89,7,35,126,127],[0,16,74,75,2,17,100,101,11,55,140,141,8,41,124,125],[0,16,74,75,2,17,100,101,53,54,90,91,9,42,128,129],[0,16,74,75,5,19,138,139,1,52,88,89,8,41,124,125],[0,16,74,75,15,30,116,117,1,52,88,89,9,42,128,129],[0,16,94,95,5,19,100,101,11,55,88,89,6,34,124,125],[0,16,94,95,15,30,109,108,11,55,88,89,7,35,128,129],[0,16,78,79,2,17,109,108,1,52,92,93,6,34,126,127],[0,16,78,79,12,33,100,101,1,52,92,93,7,35,122,123],[0,16,82,83,12,33,138,139,53,54,88,89,8,41,126,127],[0,16,82,83,2,17,116,117,53,54,88,89,9,42,122,123],[0,16,78,79,5,19,116,117,1,52,92,93,8,41,128,129],[0,16,82,83,15,30,100,101,1,52,90,91,9,42,122,123],[0,16,82,83,15,30,100,101,53,54,88,89,6,34,128,129],[0,16,82,83,5,19,109,108,53,54,88,89,7,35,124,125],[0,16,74,75,2,17,100,101,1,52,88,89,6,34,122,123,29,21,82,83,15,30,116,117,53,54,90,91,9,42,128,129],[0,16,74,75,12,33,109,108,1,52,88,89,7,35,126,127,29,21,82,83,5,19,138,139,53,54,90,91,8,41,124,125],[0,21,84,85,118,119,116,101,96,97,88,91,9,34,132,133,29,16,86,87,120,121,100,117,98,99,90,89,6,42,130,131],[0,21,84,85,142,143,138,108,96,97,88,91,8,35,136,137,29,16,86,87,144,145,109,139,98,99,90,89,7,41,134,135],[0,146,147],[0,148,149],[0,150,151],[0,146,147,152,153,154,155,156,157],[0,158,159],[0,146,147,1,160,161],[0,146,147,1,160,161,152,153,154,162,163,164,155,156,157,165,166,167],[0,158,159,1,168,169],[0,146,147,101,170,171],[0,146,147,100,172,173],[0,148,149,174,175,171],[0,148,149,100,176,177],[0,150,151,178,179,171],[0,150,151,100,180,181],[0,146,147,100,172,173,152,153,154,182,183,184,155,156,157,185,186,187],[0,158,159,101,188,189],[0,146,147,122,190,191],[0,146,147,123,192,193],[0,146,147,126,194,195],[0,146,147,127,196,197],[0,146,147,122,190,191,152,153,154,198,199,200,155,156,157,201,202,203],[0,158,159,123,204,205],[0,146,147,126,194,195,152,153,154,206,207,208,155,156,157,209,210,211],[0,158,159,129,212,213],[0,146,147,101,170,171,1,160,161,123,192,193],[0,146,147,108,214,215,1,160,161,127,196,197],[0,146,147,100,172,173,1,160,161,122,190,191],[0,146,147,109,216,217,1,160,161,126,194,195],[0,146,147,100,172,173,1,160,161,122,190,191,152,153,154,182,183,184,162,163,164,198,199,200,155,156,157,185,186,187,165,166,167,201,202,203],[0,158,159,101,188,189,1,168,169,123,204,205],[0,146,147,109,216,217,1,160,161,126,194,195,152,153,154,218,219,220,162,163,164,206,207,208,155,156,157,221,222,223,165,166,167,209,210,211],[0,158,159,117,224,225,1,168,169,129,212,213],[0,146,147,16,226,227],[0,148,149,18,228,229],[0,150,151,18,230,231],[0,150,151,16,232,233],[0,148,149,16,234,235],[0,146,147,18,236,237],[0,146,147,52,238,239],[0,146,147,16,226,227,1,160,161,52,238,239],[0,146,147,18,236,237,1,160,161,61,240,241],[0,146,147,16,226,227,100,172,173,101,170,171],[0,148,149,18,228,229,242,172,181,243,214,244],[0,150,151,18,230,231,245,172,177,246,214,247],[0,150,151,16,232,233,245,172,177,174,170,248],[0,148,149,16,234,235,242,172,181,178,170,249],[0,146,147,18,236,237,100,172,173,108,214,215],[0,146,147,16,226,227,122,190,191,123,192,193],[0,146,147,16,226,227,126,194,195,127,196,197],[0,146,147,18,236,237,126,194,195,123,192,193],[0,146,147,18,236,237,122,190,191,127,196,197],[0,146,147,52,238,239,122,190,191,101,170,171],[0,146,147,61,240,241,126,194,195,101,170,171],[0,146,147,52,238,239,100,172,173,123,192,193],[0,146,147,61,240,241,100,172,173,127,196,197],[0,146,147,16,226,227,100,172,173,101,170,171,1,160,161,52,239,238,122,190,191,123,192,193],[0,146,147,16,226,227,109,216,217,108,214,215,1,160,161,52,239,238,126,194,195,127,196,197],[0,146,147,18,236,237,109,216,217,101,170,171,1,160,161,61,241,240,126,194,195,123,192,193],[0,146,147,18,236,237,100,172,173,108,214,215,1,160,161,61,241,240,122,190,191,127,196,197],[0,16,2,17,158,250,251,252,159,253,254,255],[0,16,2,17,158,250,251,252,159,253,254,255,23,24,13,25,256,257,258,259,260,261,262,263,26,20,27,28,264,265,266,267,268,269,270,271,4,22,5,19,272,273,274,275,276,277,278,279],[0,16,2,17,158,250,251,252,159,253,254,255,29,21,15,30,280,281,282,283,284,285,286,287],[0,20,13,19,158,273,266,259,159,261,278,271],[0,20,13,19,158,273,266,259,159,261,278,271,29,31,32,33,280,288,289,290,284,291,292,293],[0,16,2,17,158,250,251,252,159,253,254,255,1,52,6,34,168,294,295,296,169,297,298,299],[0,16,2,17,158,250,251,252,159,253,254,255,53,54,9,42,300,301,302,303,304,305,306,307],[0,16,2,17,158,250,251,252,159,253,254,255,1,52,6,34,168,294,295,296,169,297,298,299,23,24,13,25,256,257,258,259,260,261,262,263,64,62,14,39,308,309,310,311,312,313,314,315,26,20,27,28,264,265,266,267,268,269,270,271,65,59,40,38,316,317,318,319,320,321,322,323,4,22,5,19,272,273,274,275,276,277,278,279,11,55,8,41,324,325,326,327,328,329,330,331],[0,16,2,17,158,250,251,252,159,253,254,255,66,67,44,45,332,333,334,335,336,337,338,339,23,24,13,25,256,257,258,259,260,261,262,263,68,69,46,47,340,341,342,343,344,345,346,347,26,20,27,28,264,265,266,267,268,269,270,271,70,71,48,49,348,349,350,351,352,353,354,355,4,22,5,19,272,273,274,275,276,277,278,279,72,73,50,51,356,357,358,359,360,361,362,363],[0,16,2,17,158,250,251,252,159,253,254,255,1,52,6,34,168,294,295,296,169,297,298,299,29,21,15,30,280,281,282,283,284,285,286,287,53,54,9,42,300,301,302,303,304,305,306,307],[0,20,13,19,158,273,266,259,159,261,278,271,1,59,14,41,168,325,318,311,169,313,330,323],[0,20,13,19,158,273,266,259,159,261,278,271,1,59,14,41,168,325,318,311,169,313,330,323,29,31,32,33,280,288,289,290,284,291,292,293,53,63,36,35,300,364,365,366,304,367,368,369],[0,16,2,17,158,250,251,252,159,253,254,255,100,101,75,74,370,371,188,372,373,374,375,189],[0,16,2,17,158,250,251,252,159,253,254,255,116,117,83,82,376,377,224,378,379,380,381,225],[0,16,2,17,158,250,251,252,159,253,254,255,100,101,75,74,370,371,188,372,373,374,375,189,23,24,13,25,256,257,258,259,260,261,262,263,382,383,384,385,386,387,388,389,390,391,392,393,26,20,27,28,264,265,266,267,268,269,270,271,394,395,396,397,398,399,400,401,402,403,404,405,4,22,5,19,272,273,274,275,276,277,278,279,138,139,95,94,406,407,408,409,410,411,412,413],[0,24,5,28,158,265,258,275,159,277,270,263,414,415,416,417,418,419,420,421,422,423,424,425,23,16,27,19,256,273,251,267,260,269,278,255,426,427,428,429,430,431,432,433,434,435,436,437,26,22,13,17,264,250,274,259,268,261,254,279,438,439,440,441,442,443,444,445,446,447,448,449,4,20,2,25,272,257,266,252,276,253,262,271,450,451,452,453,454,455,456,457,458,459,460,461],[0,16,2,17,158,250,251,252,159,253,254,255,100,101,75,74,370,371,188,372,373,374,375,189,29,21,15,30,280,281,282,283,284,285,286,287,116,117,83,82,376,377,224,378,379,380,381,225],[0,20,13,19,158,273,266,259,159,261,278,271,450,415,440,429,454,431,420,445,458,447,436,425],[0,20,13,19,158,273,266,259,159,261,278,271,462,463,464,465,466,467,468,469,470,471,472,473],[0,20,13,19,158,273,266,259,159,261,278,271,462,463,464,465,466,467,468,469,470,471,472,473,29,31,32,33,280,288,289,290,284,291,292,293,450,415,440,429,454,431,420,445,458,447,436,425],[0,16,2,17,158,250,251,252,159,253,254,255,123,122,88,89,204,474,475,476,205,477,478,479],[0,16,2,17,158,250,251,252,159,253,254,255,123,122,88,89,204,474,475,476,205,477,478,479,23,24,13,25,256,257,258,259,260,261,262,263,480,481,482,483,484,485,486,487,488,489,490,491,26,20,27,28,264,265,266,267,268,269,270,271,492,493,494,495,496,497,498,499,500,501,502,503,4,22,5,19,272,273,274,275,276,277,278,279,125,124,140,141,504,505,506,507,508,509,510,511],[0,16,2,17,158,250,251,252,159,253,254,255,123,122,88,89,204,474,475,476,205,477,478,479,29,21,15,30,280,281,282,283,284,285,286,287,129,128,90,91,212,512,513,514,213,515,516,517],[0,16,2,17,158,250,251,252,159,253,254,255,129,128,90,91,212,512,513,514,213,515,516,517],[0,16,2,17,158,250,251,252,159,253,254,255,129,128,90,91,212,512,513,514,213,515,516,517,23,24,13,25,256,257,258,259,260,261,262,263,518,519,520,521,522,523,524,525,526,527,528,529,26,20,27,28,264,265,266,267,268,269,270,271,530,531,532,533,534,535,536,537,538,539,540,541,4,22,5,19,272,273,274,275,276,277,278,279,127,126,92,93,542,543,544,545,546,547,548,549],[0,20,13,19,158,273,266,259,159,261,278,271,550,551,552,553,554,555,556,557,558,559,560,561,29,31,32,33,280,288,289,290,284,291,292,293,562,563,564,565,566,567,568,569,570,571,572,573],[0,16,2,17,158,250,251,252,159,253,254,255,100,101,75,74,370,371,188,372,373,374,375,189,1,52,6,34,168,294,295,296,169,297,298,299,122,123,89,88,475,476,204,474,479,478,477,205],[0,16,2,17,158,250,251,252,159,253,254,255,100,101,75,74,370,371,188,372,373,374,375,189,53,54,9,42,300,301,302,303,304,305,306,307,128,129,91,90,513,514,212,512,517,516,515,213],[0,16,2,17,158,250,251,252,159,253,254,255,116,117,83,82,376,377,224,378,379,380,381,225,1,52,6,34,168,294,295,296,169,297,298,299,128,129,91,90,513,514,212,512,517,516,515,213],[0,16,2,17,158,250,251,252,159,253,254,255,116,117,83,82,376,377,224,378,379,380,381,225,53,54,9,42,300,301,302,303,304,305,306,307,122,123,89,88,475,476,204,474,479,478,477,205],[0,16,2,17,158,250,251,252,159,253,254,255,100,101,75,74,370,371,188,372,373,374,375,189,1,52,6,34,168,294,295,296,169,297,298,299,122,123,89,88,475,476,204,474,479,478,477,205,23,24,13,25,256,257,258,259,260,261,262,263,382,383,384,385,386,387,388,389,390,391,392,393,64,62,14,39,308,309,310,311,312,313,314,315,481,480,483,482,486,487,484,485,491,490,489,488,26,20,27,28,264,265,266,267,268,269,270,271,394,395,396,397,398,399,400,401,402,403,404,405,65,59,40,38,316,317,318,319,320,321,322,323,493,492,495,494,498,499,496,497,503,502,501,500,4,22,5,19,272,273,274,275,276,277,278,279,138,139,95,94,406,407,408,409,410,411,412,413,11,55,8,41,324,325,326,327,328,329,330,331,124,125,141,140,506,507,504,505,511,510,509,508],[0,16,2,17,158,250,251,252,159,253,254,255,116,117,83,82,376,377,224,378,379,380,381,225,1,52,6,34,168,294,295,296,169,297,298,299,128,129,91,90,513,514,212,512,517,516,515,213,23,24,13,25,256,257,258,259,260,261,262,263,574,575,576,577,578,579,580,581,582,583,584,585,64,62,14,39,308,309,310,311,312,313,314,315,519,518,521,520,524,525,522,523,529,528,527,526,26,20,27,28,264,265,266,267,268,269,270,271,586,587,588,589,590,591,592,593,594,595,596,597,65,59,40,38,316,317,318,319,320,321,322,323,531,530,533,532,536,537,534,535,541,540,539,538,4,22,5,19,272,273,274,275,276,277,278,279,109,108,79,78,598,599,600,601,602,603,604,605,11,55,8,41,324,325,326,327,328,329,330,331,126,127,93,92,544,545,542,543,549,548,547,546],[0,24,5,28,158,265,258,275,159,277,270,263,414,415,416,417,418,419,420,421,422,423,424,425,66,69,50,49,332,349,342,359,336,361,354,347,493,123,483,140,498,507,204,485,503,490,509,205,23,16,27,19,256,273,251,267,260,269,278,255,426,427,428,429,430,431,432,433,434,435,436,437,68,67,48,51,340,357,334,351,344,353,362,339,124,480,89,494,506,499,484,474,511,478,501,488,26,22,13,17,264,250,274,259,268,261,254,279,438,439,440,441,442,443,444,445,446,447,448,449,70,73,46,45,348,333,358,343,352,345,338,363,122,492,141,482,475,487,496,505,479,510,489,500,4,20,2,25,272,257,266,252,276,253,262,271,450,451,452,453,454,455,456,457,458,459,460,461,72,71,44,47,356,341,350,335,360,337,346,355,481,125,495,88,486,476,504,497,491,502,477,508],[0,24,5,28,158,265,258,275,159,277,270,263,414,415,416,417,418,419,420,421,422,423,424,425,606,607,608,609,610,611,612,613,614,615,616,617,531,129,521,92,536,545,212,523,541,528,547,213,23,16,27,19,256,273,251,267,260,269,278,255,426,427,428,429,430,431,432,433,434,435,436,437,618,619,620,621,622,623,624,625,626,627,628,629,126,518,91,532,544,537,522,512,549,516,539,526,26,22,13,17,264,250,274,259,268,261,254,279,438,439,440,441,442,443,444,445,446,447,448,449,630,631,632,633,634,635,636,637,638,639,640,641,128,530,93,520,513,525,534,543,517,548,527,538,4,20,2,25,272,257,266,252,276,253,262,271,450,451,452,453,454,455,456,457,458,459,460,461,642,643,644,645,646,647,648,649,650,651,652,653,519,127,533,90,524,514,542,535,529,540,515,546],[0,16,2,17,158,250,251,252,159,253,254,255,100,101,75,74,370,371,188,372,373,374,375,189,1,52,6,34,168,294,295,296,169,297,298,299,122,123,89,88,475,476,204,474,479,478,477,205,29,21,15,30,280,281,282,283,284,285,286,287,116,117,83,82,376,377,224,378,379,380,381,225,53,54,9,42,300,301,302,303,304,305,306,307,128,129,91,90,513,514,212,512,517,516,515,213],[0,20,13,19,158,273,266,259,159,261,278,271,462,463,464,465,466,467,468,469,470,471,472,473,1,59,14,41,168,325,318,311,169,313,330,323,551,550,553,552,556,557,554,555,561,560,559,558,29,31,32,33,280,288,289,290,284,291,292,293,450,415,440,429,454,431,420,445,458,447,436,425,53,63,36,35,300,364,365,366,304,367,368,369,563,562,565,564,568,569,566,567,573,572,571,570],[0,16],[0,18],[0,16,26,20],[0,2,23,13],[0,3,4,32],[0,2,29,15],[0,3,29,27],[0,52],[0,63],[0,52,26,59],[0,63,26,54],[0,52,16,1],[0,18,1,61],[0,52,16,1,26,59,20,65],[0,31,1,63],[0,1,24,62],[0,15,1,9],[0,5,1,8],[0,31,1,63,26,21,65,54],[0,2,57,56],[0,60,3,16],[0,22,57,3],[0,2,28,20],[0,17,13,24],[0,20,19,13,4,24,17,27],[0,22,57,3,4,16,60,32],[0,22,57,3,23,20,30,12,26,24,33,15,4,16,60,32],[0,22,57,3,29,18,27,25],[0,22,3,57,1,55,10,37],[0,22,385,396,3,57,109,117],[0,22,57,3,159,279,654,655,158,274,656,657,29,18,25,27,284,658,262,269,280,659,257,267]],W={"P 1":0,"P -1":1,"P 1 2 1":2,"P 1 21 1":3,"C 1 2 1":4,"P 1 m 1":5,"P 1 c 1":6,"C 1 m 1":7,"C 1 c 1":8,"P 1 2/m 1":9,"P 1 21/m 1":10,"C 1 2/m 1":11,"P 1 2/c 1":12,"P 1 21/c 1":13,"C 1 2/c 1":14,"P 2 2 2":15,"P 2 2 21":16,"P 21 21 2":17,"P 21 21 21":18,"C 2 2 21":19,"C 2 2 2":20,"F 2 2 2":21,"I 2 2 2":22,"I 21 21 21":23,"P m m 2":24,"P m c 21":25,"P c c 2":26,"P m a 2":27,"P c a 21":28,"P n c 2":29,"P m n 21":30,"P b a 2":31,"P n a 21":32,"P n n 2":33,"C m m 2":34,"C m c 21":35,"C c c 2":36,"A m m 2":37,"A b m 2":38,"A m a 2":39,"A b a 2":40,"F m m 2":41,"F d d 2":42,"I m m 2":43,"I b a 2":44,"I m a 2":45,"P 2/m 2/m 2/m":46,"P m m m":46,"P 2/n 2/n 2/n":47,"P n n n":47,"P 2/c 2/c 2/m":48,"P c c m":48,"P 2/b 2/a 2/n":49,"P b a n":49,"P 21/m 2/m 2/a":50,"P m m a":50,"P 2/n 21/n 2/a":51,"P n n a":51,"P 2/m 2/n 21/a":52,"P m n a":52,"P 21/c 2/c 2/a":53,"P c c a":53,"P 21/b 21/a 2/m":54,"P b a m":54,"P 21/c 21/c 2/n":55,"P c c n":55,"P 2/b 21/c 21/m":56,"P b c m":56,"P 21/n 21/n 2/m":57,"P n n m":57,"P 21/m 21/m 2/n":58,"P m m n":58,"P 21/b 2/c 21/n":59,"P b c n":59,"P 21/b 21/c 21/a":60,"P b c a":60,"P 21/n 21/m 21/a":61,"P n m a":61,"C 2/m 2/c 21/m":62,"C m c m":62,"C 2/m 2/c 21/a":63,"C m c a":63,"C 2/m 2/m 2/m":64,"C m m m":64,"C 2/c 2/c 2/m":65,"C c c m":65,"C 2/m 2/m 2/a":66,"C m m a":66,"C 2/c 2/c 2/a":67,"C c c a":67,"F 2/m 2/m 2/m":68,"F m m m":68,"F 2/d 2/d 2/d":69,"F d d d":69,"I 2/m 2/m 2/m":70,"I m m m":70,"I 2/b 2/a 2/m":71,"I b a m":71,"I 21/b 21/c 21/a":72,"I b c a":72,"I 21/m 21/m 21/a":73,"I m m a":73,"P 4":74,"P 41":75,"P 42":76,"P 43":77,"I 4":78,"I 41":79,"P -4":80,"I -4":81,"P 4/m":82,"P 42/m":83,"P 4/n":84,"P 42/n":85,"I 4/m":86,"I 41/a":87,"P 4 2 2":88,"P 4 21 2":89,"P 41 2 2":90,"P 41 21 2":91,"P 42 2 2":92,"P 42 21 2":93,"P 43 2 2":94,"P 43 21 2":95,"I 4 2 2":96,"I 41 2 2":97,"P 4 m m":98,"P 4 b m":99,"P 42 c m":100,"P 42 n m":101,"P 4 c c":102,"P 4 n c":103,"P 42 m c":104,"P 42 b c":105,"I 4 m m":106,"I 4 c m":107,"I 41 m d":108,"I 41 c d":109,"P -4 2 m":110,"P -4 2 c":111,"P -4 21 m":112,"P -4 21 c":113,"P -4 m 2":114,"P -4 c 2":115,"P -4 b 2":116,"P -4 n 2":117,"I -4 m 2":118,"I -4 c 2":119,"I -4 2 m":120,"I -4 2 d":121,"P 4/m 2/m 2/m":122,"P4/m m m":122,"P 4/m 2/c 2/c":123,"P4/m c c":123,"P 4/n 2/b 2/m":124,"P4/n b m":124,"P 4/n 2/n 2/c":125,"P4/n n c":125,"P 4/m 21/b 2/m":126,"P4/m b m":126,"P 4/m 21/n 2/c":127,"P4/m n c":127,"P 4/n 21/m 2/m":128,"P4/n m m":128,"P 4/n 2/c 2/c":129,"P4/n c c":129,"P 42/m 2/m 2/c":130,"P42/m m c":130,"P 42/m 2/c 2/m":131,"P42/m c m":131,"P 42/n 2/b 2/c":132,"P42/n b c":132,"P 42/n 2/n 2/m":133,"P42/n n m":133,"P 42/m 21/b 2/c":134,"P42/m b c":134,"P 42/m 21/n 2/m":135,"P42/m n m":135,"P 42/n 21/m 2/c":136,"P42/n m c":136,"P 42/n 21/c 2/m":137,"P42/n c m":137,"I 4/m 2/m 2/m":138,"I4/m m m":138,"I 4/m 2/c 2/m":139,"I4/m c m":139,"I 41/a 2/m 2/d":140,"I41/a m d":140,"I 41/a 2/c 2/d":141,"I41/a c d":141,"P 3":142,"P 31":143,"P 32":144,"H 3":145,"R 3":146,"P -3":147,"H -3":148,"R -3":149,"P 3 1 2":150,"P 3 2 1":151,"P 31 1 2":152,"P 31 2 1":153,"P 32 1 2":154,"P 32 2 1":155,"H 3 2":156,"R 3 2":157,"P 3 m 1":158,"P 3 1 m":159,"P 3 c 1":160,"P 3 1 c":161,"H 3 m":162,"R 3 m":163,"H 3 c":164,"R 3 c":165,"P -3 1 2/m":166,"P -3 1 m":166,"P -3 1 2/c":167,"P -3 1 c":167,"P -3 2/m 1":168,"P -3 m 1":168,"P -3 2/c 1":169,"P -3 c 1":169,"H -3 2/m":170,"H -3 m":170,"R -3 2/m":171,"R -3 m":171,"H -3 2/c":172,"H -3 c":172,"R -3 2/c":173,"R -3 c":173,"P 6":174,"P 61":175,"P 65":176,"P 62":177,"P 64":178,"P 63":179,"P -6":180,"P 6/m":181,"P 63/m":182,"P 6 2 2":183,"P 61 2 2":184,"P 65 2 2":185,"P 62 2 2":186,"P 64 2 2":187,"P 63 2 2":188,"P 6 m m":189,"P 6 c c":190,"P 63 c m":191,"P 63 m c":192,"P -6 m 2":193,"P -6 c 2":194,"P -6 2 m":195,"P -6 2 c":196,"P 6/m 2/m 2/m":197,"P 6/m m m":197,"P 6/m 2/c 2/c":198,"P 6/m c c":198,"P 63/m 2/c 2/m":199,"P 63/m c m":199,"P 63/m 2/m 2/c":200,"P 63/m m c":200,"P 2 3":201,"F 2 3":202,"I 2 3":203,"P 21 3":204,"I 21 3":205,"P 2/m -3":206,"P m -3":206,"P 2/n -3":207,"P n -3":207,"F 2/m -3":208,"F m -3":208,"F 2/d -3":209,"F d -3":209,"I 2/m -3":210,"I m -3":210,"P 21/a -3":211,"P a -3":211,"I 21/a -3":212,"I a -3":212,"P 4 3 2":213,"P 42 3 2":214,"F 4 3 2":215,"F 41 3 2":216,"I 4 3 2":217,"P 43 3 2":218,"P 41 3 2":219,"I 41 3 2":220,"P -4 3 m":221,"F -4 3 m":222,"I -4 3 m":223,"P -4 3 n":224,"F -4 3 c":225,"I -4 3 d":226,"P 4/m -3 2/m":227,"P m -3 m":227,"P 4/n -3 2/n":228,"P n -3 n":228,"P 42/m -3 2/n":229,"P m -3 n":229,"P 42/n -3 2/m":230,"P n -3 m":230,"F 4/m -3 2/m":231,"F m -3 m":231,"F 4/m -3 2/c":232,"F m -3 c":232,"F 41/d -3 2/m":233,"F d -3 m":233,"F 41/d -3 2/c":234,"F d -3 c":234,"I 4/m -3 2/m":235,"I m -3 m":235,"I 41/a -3 2/d":236,"I a -3 d":236,"P 1 1 2":237,"P 1 1 21":238,"B 1 1 2":239,"B 2":239,"A 1 2 1":240,"C 1 21 1":241,"I 1 2 1":242,"I 2":242,"I 1 21 1":243,"P 1 1 m":244,"P 1 1 b":245,"B 1 1 m":246,"B 1 1 b":247,"P 1 1 2/m":248,"P 1 1 21/m":249,"B 1 1 2/m":250,"P 1 1 2/b":251,"P 1 1 21/b":252,"P 1 21/n 1":253,"P 1 21/a 1":254,"B 1 1 2/b":255,"P 21 2 2":256,"P 2 21 2":257,"P 21 21 2 (a)":258,"P 21 2 21":259,"P 2 21 21":260,"C 2 2 21a)":261,"C 2 2 2a":262,"F 2 2 2a":263,"I 2 2 2a":264,"P 21/m 21/m 2/n a":265,"P 42 21 2a":266,"I 2 3a":267};function X(e){if(e<146)return e+1;if(146===e)return 1146;if(e<149)return e+1-1;if(149===e)return 1148;if(e<157)return e+1-2;if(157===e)return 1155;if(e<163)return e+1-3;if(163===e)return 1160;if(e<165)return e+1-4;if(165===e)return 1161;if(e<171)return e+1-5;if(171===e)return 1166;if(e<173)return e+1-6;if(173===e)return 1167;if(e<237)return e+1-7;if(237===e)return 1003;if(238===e)return 1004;if(239===e)return 1005;if(240===e)return 2005;if(241===e)return 3005;if(242===e)return 4005;if(243===e)return 5005;if(244===e)return 1006;if(245===e)return 1007;if(246===e)return 1008;if(247===e)return 1009;if(248===e)return 1010;if(249===e)return 1011;if(250===e)return 1012;if(251===e)return 1013;if(252===e)return 1014;if(253===e)return 2014;if(254===e)return 3014;if(255===e)return 1015;if(256===e)return 1017;if(257===e)return 2017;if(258===e)return 1018;if(259===e)return 2018;if(260===e)return 3018;if(261===e)return 1020;if(262===e)return 1021;if(263===e)return 1022;if(264===e)return 1023;if(265===e)return 1059;if(266===e)return 1094;if(267===e)return 1197;throw new Error("unknown spacegroup index '".concat(e,"'"))}var Q,J,$,ee,te=function(){for(var e=Object.create(null),t=0,n=Object.keys(W);t<n.length;t++){var r=n[t];e[W[r]]=r}return e}(),ne=function(){for(var e=Object.create(null),t=0,n=Object.keys(W);t<n.length;t++){var r=n[t],i=W[r];e[i]=X(i)}return e}();function re(e,t,n){return e[t]-e[n]}function ie(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function oe(e,t,n,r){var i=n+r>>1;return t(e,n,r)>0?t(e,n,i)>0?t(e,i,r)>0?i:r:n:t(e,r,i)>0?t(e,i,n)>0?i:n:r}function ae(e,t,n){var r=e.cmp,i=e.swap,o=e.data,a=e.parts,u=t+1,s=n;for(i(o,t,oe(o,r,t,n));r(o,s,t)>0;)--s;for(var c=t+1;c<=s;c++){var l=r(o,c,t);if(l>0){for(i(o,c,s),--s;r(o,s,t)>0;)--s;c--}else 0===l&&(i(o,c,u),u++)}for(c=t;c<u;c++)i(o,c,t+s-c);a[0]=s-u+t+1,a[1]=s}function ue(e,t,n){for(var r=e.data,i=e.cmp,o=e.swap,a=t+1;a<=n;a++)for(var u=a-1;u>=t&&i(r,u,u+1)>0;)o(r,u,u+1),u-=1}function se(e,t,n){for(var r=e.parts;t<n;){if(n-t<16)return void ue(e,t,n);ae(e,t,n);var i=r[0],o=r[1];i-t<n-o?(se(e,t,i-1),t=o+1):(se(e,o+1,n),n=i-1)}}function ce(e,t,n,r){var i=n+1,o=r;ie(e,n,oe(e,re,n,r));for(var a=e[n];e[o]>a;)--o;for(var u=n+1;u<=o;u++){var s=e[u];if(s>a){for(ie(e,u,o),--o;e[o]>a;)--o;u--}else s===a&&(ie(e,u,i),++i)}for(u=n;u<i;u++)ie(e,u,n+o-u);t[0]=o-i+n+1,t[1]=o}function le(e,t,n){for(var r=t+1;r<=n;r++){for(var i=e[r],o=r-1;o>=t&&e[o]>i;)e[o+1]=e[o],o-=1;e[o+1]=i}}function de(e,t){return void 0===t&&(t=re),function(e,t,n,r){void 0===r&&(r=re);r===re?function e(t,n,r,i){for(;r<i;){if(i-r<16)return void le(t,r,i);ce(t,n,r,i);var o=n[0],a=n[1];o-r<i-a?(e(t,n,r,o-1),r=a+1):(e(t,n,a+1,i),i=o-1)}}(e,[0,0],t,n-1):se({data:e,cmp:r,swap:ie,parts:[0,0]},t,n-1);return e}(e,0,e.length,t)}function fe(e,t,n,r,i){return se({data:e,cmp:r,swap:i,parts:[0,0]},t,n-1),e}function pe(e,t,n){return e[t].key<e[n].key?-1:1}function me(e,t,n){var r=n&&n.start||0,i=n&&n.end||e.length;if(i-r<=0)throw new Error("Can only bucket non-empty collections.");return function(e,t,n,r,i){for(var o=new Map,a=[],u=t(e[0]),s=!0,c=r;c<i;c++){var l=t(e[c]);if(o.has(l))o.get(l).count++,u!==l&&(s=!1);else{var d={key:l,count:1,offset:c};o.set(l,d),a[a.length]=d}u=l}var f=new Int32Array(a.length+1);f[a.length]=i;var p=!0;if(n){c=1;for(var m=a.length;c<m;c++)if(a[c-1].key>a[c].key){p=!1;break}}if(s&&p){for(c=0;c<a.length;c++)f[c]=a[c].offset;return f}n&&!p&&fe(a,0,a.length,pe,ie);var h=0;for(c=0;c<a.length;c++){var g=a[c];g.offset=h,h+=g.count}var v=new Int32Array(i-r);for(c=r;c<i;c++){l=t(e[c]);v[(d=o.get(l)).offset++]=e[c]}for(c=0,m=v.length;c<m;c++)e[c+r]=v[c];for(f[0]=r,c=1;c<a.length;c++)f[c]=a[c-1].offset+r;return f}(e,t,!(!n||!n.sort),r,i)}!function(e){function t(t,n,r){var i=function(e){var t="number"==typeof e?function(e){switch(e){case 1146:return 146;case 1148:return 149;case 1155:return 157;case 1160:return 163;case 1161:return 165;case 1166:return 171;case 1167:return 173;case 1003:return 237;case 1004:return 238;case 1005:return 239;case 2005:return 240;case 3005:return 241;case 4005:return 242;case 5005:return 243;case 1006:return 244;case 1007:return 245;case 1008:return 246;case 1009:return 247;case 1010:return 248;case 1011:return 249;case 1012:return 250;case 1013:return 251;case 1014:return 252;case 2014:return 253;case 3014:return 254;case 1015:return 255;case 1017:return 256;case 2017:return 257;case 1018:return 258;case 2018:return 259;case 3018:return 260;case 1020:return 261;case 1021:return 262;case 1022:return 263;case 1023:return 264;case 1059:return 265;case 1094:return 266;case 1197:return 267}var t=0;return e>146&&++t,e>148&&++t,e>155&&++t,e>160&&++t,e>161&&++t,e>166&&++t,e>167&&++t,e-1+t}(e):W[e];return void 0===t||void 0===te[t]?-1:t}(t);if(i<0)return console.warn("Unknown spacegroup '".concat(t,"', returning a 'P 1' with cellsize [1, 1, 1]")),e.Zero;var o=n[0]*n[1]*n[2],a=r[0],u=r[1],s=r[2],c=n[0],l=n[1],d=n[2],f=Math.cos(u),p=(Math.cos(a)-Math.cos(u)*Math.cos(s))/Math.sin(s),m=Math.sqrt(1-f*f-p*p),h=[c,0,0],g=[Math.cos(s)*l,Math.sin(s)*l,0],v=[f*d,p*d,m*d],y=P.ofRows([[h[0],g[0],v[0],0],[0,g[1],v[1],0],[0,0,v[2],0],[0,0,0,1]]);return{index:i,size:n,volume:o,anglesInRadians:r,toFractional:P.invert(P.zero(),y),fromFractional:y}}e.Zero=t("P 1",A.create(1,1,1),A.create(Math.PI/2,Math.PI/2,Math.PI/2)),e.isZero=function(e){return!e||0===e.index&&1===e.size[0]&&1===e.size[1]&&1===e.size[1]},e.create=t}(Q||(Q={})),function(e){function t(e){var t=Z[e.index].map((function(e){return n=Y[(t=K[e])[0]],r=Y[t[1]],i=Y[t[2]],P.ofRows([n,r,i,[0,0,0,1]]);var t,n,r,i}));return{name:te[e.index],num:ne[e.index],cell:e,operators:t}}e.ZeroP1=t(Q.Zero),e.create=t;var n=A(),r=P();function i(e,t,i,o,a,u){return A.set(n,i,o,a),P.fromTranslation(r,n),P.mul(u,P.mul(u,P.mul(u,e.cell.fromFractional,r),e.operators[t]),e.cell.toFractional)}e.setOperatorMatrix=i,e.getSymmetryOperator=function(e,t,n,r,o){var a=i(e,t,n,r,o,P.zero());return L.create("".concat(t+1,"_").concat(5+n).concat(5+r).concat(5+o),a,{hkl:A.create(n,r,o),spgrOp:t})};var o=A(),a=A(),u=A(),s=A();function c(e,t,n){var r=[];if(e>0?r.push("+X"):e<0&&r.push("-X"),t>0?r.push("+Y"):t<0&&r.push("-Y"),n>0?r.push("+Z"):n<0&&r.push("-Z"),1===r.length)return"+"===r[0].charAt(0)?r[0].substr(1):r[0];if(2===r.length){var i=r[0].charAt(0),o=r[1].charAt(0);if("+"===i)return"".concat(r[0].substr(1)).concat(r[1]);if("+"===o)return"".concat(r[1].substr(1)).concat(r[0])}throw new Error("unknown rotation '".concat(r,"', ").concat(e," ").concat(t," ").concat(n))}function l(e){switch(e){case.5:return"1/2";case 1/4:return"1/4";case 3/4:return"3/4";case 1/3:return"1/3";case 2/3:return"2/3";case 1/6:return"1/6";case 5/6:return"5/6"}return""}function d(e,t){return""===t?e:e.length>2?"".concat(e,"+").concat(t):"-"===e.charAt(0)?"".concat(t).concat(e):"".concat(t,"+").concat(e)}e.getSymmetryOperatorRef=function(e,t,r,i,c,l){var d=P.zero();A.set(n,r,i,c),A.floor(o,l),P.copy(d,e.operators[t]),A.floor(a,A.transformMat4(a,l,d)),P.getTranslation(s,d),A.sub(s,s,a),A.add(s,s,o),A.add(s,s,n),P.setTranslation(d,s),P.mul(d,e.cell.fromFractional,d),P.mul(d,d,e.cell.toFractional),A.sub(u,a,o);var f=r-u[0],p=i-u[1],m=c-u[2];return L.create("".concat(t+1,"_").concat(5+f).concat(5+p).concat(5+m),d,{hkl:A.create(f,p,m),spgrOp:t})},e.getOperatorXyz=function(e){return[d(c(e[0],e[4],e[8]),l(e[12])),d(c(e[1],e[5],e[9]),l(e[13])),d(c(e[2],e[6],e[10]),l(e[14]))].join(",")}}(J||(J={})),function(e){e.add=function(e,t,n){e.squaredDistances[e.count]=n,e.indices[e.count++]=t},e.reset=function(e){e.count=0},e.create=function(){return{count:0,indices:[],squaredDistances:[]}},e.copy=function(e,t){for(var n=0;n<t.count;++n)e.indices[n]=t.indices[n],e.squaredDistances[n]=t.squaredDistances[n];return e.count=t.count,e}}($||($={})),function(e){function t(e){var t=e.growBy*e.elementSize;e.currentSize=t,e.currentIndex=0,e.currentChunk=new e.ctor(t),e.allocatedSize+=t,e.chunks[e.chunks.length]=e.currentChunk}function n(e,t){var n=e.ctor,r=e.chunks,i=e.currentIndex;if(!r.length)return new n(0);if(1===r.length&&(t||i===e.allocatedSize))return r[0];for(var o=0,a=0,u=r.length-1;a<u;a++)o+=r[a].length;var s=new n(o+=e.currentIndex),c=0;if(s.buffer)for(a=0,u=r.length-1;a<u;a++)s.set(r[a],c),c+=r[a].length;else for(a=0,u=r.length-1;a<u;a++){for(var l=r[a],d=0,f=l.length;d<f;d++)s[c+d]=l[d];c+=l.length}var p=r[r.length-1];if(s.buffer&&i>=e.currentSize)s.set(p,c);else for(d=0,f=p.length;d<f;d++)s[c+d]=p[d];return s}e.is=function(e){return e.creator&&e.chunkSize},e.add4=function(e,n,r,i,o){e.currentIndex>=e.currentSize&&t(e);var a=e.currentChunk,u=e.currentIndex;return a[u]=n,a[u+1]=r,a[u+2]=i,a[u+3]=o,e.currentIndex+=4,e.elementCount++},e.add3=function(e,n,r,i){e.currentIndex>=e.currentSize&&t(e);var o=e.currentChunk,a=e.currentIndex;return o[a]=n,o[a+1]=r,o[a+2]=i,e.currentIndex+=3,e.elementCount++},e.add2=function(e,n,r){e.currentIndex>=e.currentSize&&t(e);var i=e.currentChunk,o=e.currentIndex;return i[o]=n,i[o+1]=r,e.currentIndex+=2,e.elementCount++},e.add=function(e,n){return e.currentIndex>=e.currentSize&&t(e),e.currentChunk[e.currentIndex]=n,e.currentIndex+=1,e.elementCount++},e.addRepeat=function(e,n,r){for(var i=0;i<n;i++)e.currentIndex>=e.currentSize&&t(e),e.currentChunk[e.currentIndex++]=r,e.elementCount++;return e.elementCount},e.addMany=function(e,n){for(var r=e.elementSize,i=0,o=n.length;i<o;i+=r){e.currentIndex>=e.currentSize&&t(e);for(var a=e.currentChunk,u=0;u<r;u++)a[e.currentIndex++]=n[i+u];e.elementCount++}return e.elementCount},e.compact=function(e,t){return void 0===t&&(t=!1),n(e,t)},e._compact=n,e.create=function(e,t,n,r){var i={ctor:e,elementSize:t,growBy:Math.max(1,Math.ceil(n)),allocatedSize:0,elementCount:0,currentSize:0,currentChunk:void 0,currentIndex:0,chunks:[]};if(void 0===r)return i;if("number"==typeof r)return i.currentChunk=new e(r*t),i.allocatedSize=r*t,i.currentSize=i.currentChunk.length,i.chunks[0]=i.currentChunk,i;var o=r;if(o.length%t!=0)throw new Error("initialChunk length must be a multiple of the element size.");return i.currentChunk=o,i.allocatedSize=o.length,i.currentSize=o.length,i.chunks[0]=o,i}}(ee||(ee={}));var he=function(){function e(e,t){this.getHash=e,this.areEqual=t,this.id=0,this.byHash=new Map,this.groups=[]}return e.prototype.createGroup=function(e,t){var n=this.id++,r=[e];return this.groups[n]=r,{id:n,keys:r,value:t}},e.prototype.add=function(e,t){var n=this.getHash(t);if(this.byHash.has(n)){for(var r=this.byHash.get(n),i=0,o=r.length;i<o;i++){var a=r[i];if(this.areEqual(t,a.value))return a.keys[a.keys.length]=e,a.value}var u=this.createGroup(e,t);return r[r.length]=u,u.value}u=this.createGroup(e,t);return this.byHash.set(n,[u]),u.value},e}();function ge(e,t){var n=23;return n=31*(n=31*n+e|0)+t|0,n=(3735928559^(n^=n>>4))+(n<<5),n^=n>>11}function ve(e,t){return(e+t)*(e+t+1)/2+t}function ye(e,t){return e<t?ve(e,t):ve(t,e)}function _e(e){for(var t=2166136261,n=0,r=e.length;n<r;++n)t^=e[n],t+=(t<<1)+(t<<4)+(t<<7)+(t<<8)+(t<<24);return t>>>0}function be(e,t){return{start:t&&void 0!==t.start?Math.max(Math.min(t.start,e-1),0):0,end:t&&void 0!==t.end?Math.min(t.end,e):e}}function xe(e,t){var n=t&&void 0!==t.array?t.array:Array,r=be(e,t),i=r.start,o=r.end;return{array:new n(o-i),start:i,end:o}}function Ae(e,t,n){for(var r=0,i=t.length;r<i;r++)t[r]=e(n+r);return t}function we(e,t,n){var r=xe(e,n);return Ae(t,r.array,r.start)}function Se(e){return!!e.buffer&&"number"==typeof e.byteLength&&"number"==typeof e.BYTES_PER_ELEMENT}function Ce(e,t){var n=e.constructor,r=e.buffer,i=e.length,o=e.byteOffset,a=e.BYTES_PER_ELEMENT,u=be(i,t),s=u.start,c=u.end;return 0===s&&c===i?e:new n(r,o+a*s,Math.min(i,c-s))}function Be(e,t,n){var r=t,i=0,o=1;for(45===e.charCodeAt(r)?(o=-1,++r):43===e.charCodeAt(r)&&++r;r<n;r++){var a=e.charCodeAt(r)-48;if(a>9||a<0)return o*i|0;i=10*i+a|0}return o*i}function Pe(e,t,n,r){return 43===t.charCodeAt(n)&&n++,e*Math.pow(10,Be(t,n,r))}function Ie(e,t,n){var r=t,i=1,o=0,a=0,u=1;for(45===e.charCodeAt(r)?(i=-1,++r):43===e.charCodeAt(r)&&++r;r<n;){var s=e.charCodeAt(r)-48;if(!(s>=0&&s<10)){if(-2===s){for(++r;r<n;){if(!((s=e.charCodeAt(r)-48)>=0&&s<10))return 53===s||21===s?Pe(i*(o+a/u),e,r+1,n):i*(o+a/u);a=10*a+s,u*=10,++r}return i*(o+a/u)}if(53===s||21===s)return Pe(i*o,e,r+1,n);break}o=10*o+s,++r}return i*o}var Ee,Me,ke;function De(e,t,n,r){return{schema:n,__array:void 0,isDefined:0===r,rowCount:t,value:function(t){return e},valueKind:function(e){return r},toArray:function(n){for(var r=xe(t,n).array,i=0,o=r.length;i<o;i++)r[i]=e;return r},areValuesEqual:function(e,t){return!0}}}function Oe(e){var t=e.value,n=e.valueKind,r=e.areValuesEqual,i=e.rowCount;return{schema:e.schema,__array:void 0,isDefined:!0,rowCount:i,value:t,valueKind:n||function(e){return 0},toArray:function(e){for(var n=xe(i,e),r=n.array,o=n.start,a=0,u=r.length;a<u;a++)r[a]=t(a+o);return r},areValuesEqual:r||function(e,n){return t(e)===t(n)}}}function Ne(e){var t=e.array,n=e.schema,r=e.valueKind,i=t.length,o=n.T,a="str"===n.valueType?"lowercase"===n.transform?function(e){var n=t[e];return"string"==typeof n?n.toLowerCase():"".concat(null!=n?n:o).toLowerCase()}:"uppercase"===n.transform?function(e){var n=t[e];return"string"==typeof n?n.toUpperCase():"".concat(null!=n?n:o).toUpperCase()}:function(e){var n=t[e];return"string"==typeof n?n:"".concat(null!=n?n:o)}:function(e){return t[e]},u=Se(t);return{schema:n,__array:t,isDefined:!0,rowCount:i,value:a,valueKind:r||function(e){return 0},toArray:"str"===n.valueType?"lowercase"===n.transform?function(e){for(var n=be(i,e),r=n.start,a=n.end,u=new(e&&void 0!==e.array?e.array:t.constructor)(a-r),s=0,c=a-r;s<c;s++){var l=t[r+s];u[s]="string"==typeof l?l.toLowerCase():"".concat(null!=l?l:o).toLowerCase()}return u}:"uppercase"===n.transform?function(e){for(var n=be(i,e),r=n.start,a=n.end,u=new(e&&void 0!==e.array?e.array:t.constructor)(a-r),s=0,c=a-r;s<c;s++){var l=t[r+s];u[s]="string"==typeof l?l.toUpperCase():"".concat(null!=l?l:o).toUpperCase()}return u}:function(e){for(var n=be(i,e),r=n.start,a=n.end,u=new(e&&void 0!==e.array?e.array:t.constructor)(a-r),s=0,c=a-r;s<c;s++){var l=t[r+s];u[s]="string"==typeof l?l:"".concat(null!=l?l:o)}return u}:u?function(e){return Ce(t,e)}:function(e){var n=be(i,e),r=n.start,o=n.end;if(0===r&&o===t.length)return t;for(var a=new(e&&void 0!==e.array?e.array:t.constructor)(o-r),u=0,s=o-r;u<s;u++)a[u]=t[r+u];return a},areValuesEqual:function(e,n){return t[e]===t[n]}}}!function(e){var t;function n(e,t){return De(t.T,e,t,1)}function r(e){return Oe(e)}!function(e){function t(t,n){return void 0===n&&(n=e.float),{"@type":"tensor",T:t.create(),space:t,valueType:"tensor",baseType:n}}e.str={"@type":"str",T:"",valueType:"str"},e.ustr={"@type":"str",T:"",valueType:"str",transform:"uppercase"},e.lstr={"@type":"str",T:"",valueType:"str",transform:"lowercase"},e.int={"@type":"int",T:0,valueType:"int"},e.coord={"@type":"coord",T:0,valueType:"float"},e.float={"@type":"float",T:0,valueType:"float"},e.Str=function(e){var t;return{"@type":"str",T:null!==(t=null==e?void 0:e.defaultValue)&&void 0!==t?t:"",transform:null==e?void 0:e.transform,valueType:"str"}},e.Int=function(e){return void 0===e&&(e=0),{"@type":"int",T:e,valueType:"int"}},e.Float=function(e){return void 0===e&&(e=0),{"@type":"float",T:e,valueType:"float"}},e.Tensor=t,e.Vector=function(n,r){return void 0===r&&(r=e.float),t(w.Vector(n,"int"===r["@type"]?Int32Array:Float64Array),r)},e.Matrix=function(n,r,i){return void 0===i&&(i=e.float),t(w.ColumnMajorMatrix(n,r,"int"===i["@type"]?Int32Array:Float64Array),i)},e.Aliased=function(e){return e},e.List=function(e,t,n){return void 0===n&&(n=[]),{"@type":"list",T:n,separator:e,itemParse:t,valueType:"list"}}}(t=e.Schema||(e.Schema={})),e.is=function(e){return!!e&&!!e.schema&&!!e.value},e.ValueKind={Present:0,NotPresent:1,Unknown:2},e.Undefined=n,e.ofConst=function(e,t,n){return De(e,t,n,0)},e.ofLambda=r,e.range=function(e,n){return r({value:function(t){return t+e},rowCount:Math.max(n-e+1,0),schema:t.int})},e.ofArray=function(e){return Ne(e)},e.ofIntArray=function(e){return Ne({array:e,schema:t.int})},e.ofFloatArray=function(e){return Ne({array:e,schema:t.float})},e.ofStringArray=function(e){return Ne({array:e,schema:t.str})},e.ofStringAliasArray=function(e){return Ne({array:e,schema:t.Aliased(t.str)})},e.ofStringListArray=function(e,n){return void 0===n&&(n=","),Ne({array:e,schema:t.List(n,(function(e){return e}))})},e.ofIntTokens=function(e){var n=e.count,r=e.data,i=e.indices;return Oe({value:function(e){return Be(r,i[2*e],i[2*e+1])||0},rowCount:n,schema:t.int})},e.ofFloatTokens=function(e){var n=e.count,r=e.data,i=e.indices;return Oe({value:function(e){return Ie(r,i[2*e],i[2*e+1])||0},rowCount:n,schema:t.float})},e.ofStringTokens=function(e){var n=e.count,r=e.data,i=e.indices;return Oe({value:function(e){var t=r.substring(i[2*e],i[2*e+1]);return"."===t||"?"===t?"":t},rowCount:n,schema:t.str})},e.window=function(e,t,n){return function(e,t,n){return e.isDefined?0===t&&n===e.rowCount?e:e.__array&&Se(e.__array)?function(e,t,n){var r=Ce(e.__array,{start:t,end:n}),i=e.valueKind;return Ne({array:r,schema:e.schema,valueKind:function(e){return i(t+e)}})}(e,t,n):function(e,t,n){var r=e.value,i=e.valueKind,o=e.areValuesEqual,a=0===t?r:function(e){return r(e+t)},u=n-t;return{schema:e.schema,__array:void 0,isDefined:e.isDefined,rowCount:u,value:a,valueKind:0===t?i:function(e){return i(e+t)},toArray:function(e){for(var n=xe(u,e).array,i=0,o=n.length;i<o;i++)n[i]=r(i+t);return n},areValuesEqual:0===t?o:function(e,n){return o(e+t,n+t)}}}(e,t,n):Ee.Undefined(n-t,e.schema)}(e,t,n)},e.view=function(e,t,n){return void 0===n&&(n=!0),i=t,o=n,0===(r=e).rowCount||o&&function(e,t){if(e.length!==t)return!1;for(var n=0,r=e.length;n<r;n++)if(e[n]!==n)return!1;return!0}(i,r.rowCount)?r:r.__array&&typeof r.value(0)==typeof r.__array[0]?function(e,t){for(var n=e.__array,r=new n.constructor(t.length),i=0,o=t.length;i<o;i++)r[i]=n[t[i]];var a=e.valueKind;return Ne({array:r,schema:e.schema,valueKind:function(e){return a(t[e])}})}(r,i):function(e,t){var n=e.value,r=e.valueKind,i=e.areValuesEqual,o=t.length;return{schema:e.schema,__array:void 0,isDefined:e.isDefined,rowCount:o,value:function(e){return n(t[e])},valueKind:function(e){return r(t[e])},toArray:function(e){for(var r=xe(o,e).array,i=0,a=r.length;i<a;i++)r[i]=n(t[i]);return r},areValuesEqual:function(e,n){return i(t[e],t[n])}}}(r,i);var r,i,o},e.createFirstIndexMap=function(e){return function(e){for(var t=new Map,n=0,r=e.rowCount;n<r;n++){var i=e.value(n);t.has(i)||t.set(e.value(n),n)}return t}(e)},e.createIndexer=function(e){return function(e){for(var t=new Map,n=0,r=e.rowCount;n<r;n++){var i=e.value(n);t.has(i)||t.set(e.value(n),n)}return function(e){return t.has(e)?t.get(e):-1}}(e)},e.mapToArray=function(e,t,n){return function(e,t,n){for(var r=new n(e.rowCount),i=0,o=e.rowCount;i<o;i++)r[i]=t(e.value(i));return r}(e,t,n||Array)},e.areEqual=function(e,t){return function(e,t){return e===t||e.rowCount===t.rowCount&&e.isDefined===t.isDefined&&e.schema.valueType===t.schema.valueType&&(e.__array&&t.__array?function(e,t){for(var n=e.__array,r=t.__array,i=0,o=e.rowCount;i<o;i++)if(n[i]!==r[i])return!1;return!0}(e,t):function(e,t){for(var n=e.value,r=t.value,i=0,o=e.rowCount;i<o;i++)if(n(i)!==r(i))return!1;return!0}(e,t))}(e,t)},e.indicesOf=function(e,t){return function(e,t){for(var n=[],r=e.value,i=0,o=e.rowCount;i<o;i++)t(r(i))&&(n[n.length]=i);return n}(e,t)},e.asArrayColumn=function(e,t){return e.__array?e:e.isDefined?Ne({array:e.toArray({array:t}),schema:e.schema,valueKind:e.valueKind}):n(e.rowCount,e.schema)},e.copyToArray=function(e,t,n){if(void 0===n&&(n=0),e.isDefined){var r=e.__array;if(r)for(var i=0,o=r.length;i<o;i++)t[n+i]=r[i];else for(i=0,o=e.rowCount;i<o;i++)t[n+i]=e.value(i)}},e.isIdentity=function(e){for(var t=0,n=e.rowCount;t<n;t++)if(t!==e.value(t))return!1;return!0}}(Ee||(Ee={})),function(e){e.create=function(e){return e},e.has=function(e,t){return 0!=(e&t)},e.hasAll=function(e,t){return!!t&&(e&t)===t}}(Me||(Me={})),function(e){e.create=function(e){return void 0===e&&(e=512),{current:[],offset:0,capacity:e,chunks:[]}},e.getString=function(e){return e.chunks.length?(e.offset>0&&(e.chunks[e.chunks.length]=e.current.length===e.offset?e.current.join(""):e.current.slice(0,e.offset).join("")),e.chunks.join("")):e.current.length===e.offset?e.current.join(""):e.current.splice(0,e.offset).join("")},e.getSize=function(e){for(var t=0,n=0,r=e.chunks;n<r.length;n++){t+=r[n].length}for(var i=0;i<e.offset;i++)t+=e.current[i].length;return t},e.getChunks=function(e){return e.offset>0&&(e.current.length===e.offset?e.chunks[e.chunks.length]=e.current.join(""):e.chunks[e.chunks.length]=e.current.slice(0,e.offset).join(""),e.offset=0),e.chunks};var t=[];function n(e,n){n>0&&r(e,t[n])}function r(e,t){e.offset===e.capacity&&(e.chunks[e.chunks.length]=e.current.join(""),e.offset=0),e.current[e.offset++]=t}!function(){for(var e="",n=0;n<512;n++)t[n]=e,e+=" "}(),e.newline=function(e){r(e,"\n")},e.whitespace=n,e.whitespace1=function(e){r(e," ")},e.write=function(e,t){t&&(e.offset===e.capacity&&(e.chunks[e.chunks.length]=e.current.join(""),e.offset=0),e.current[e.offset++]=t)},e.writeSafe=r,e.writePadLeft=function(e,t,i){t?(n(e,i-t.length),r(e,t)):n(e,i)},e.writePadRight=function(e,t,i){if(t){var o=i-t.length;r(e,t),n(e,o)}else n(e,i)},e.writeInteger=function(e,t){r(e,""+t)},e.writeIntegerAndSpace=function(e,t){r(e,t+" ")},e.writeIntegerPadLeft=function(e,t,i){var o=""+t;n(e,i-o.length),r(e,o)},e.writeIntegerPadRight=function(e,t,i){var o=""+t,a=i-o.length;r(e,o),n(e,a)},e.writeFloat=function(e,t,n){r(e,""+Math.round(n*t)/n)},e.writeFloatPadLeft=function(e,t,i,o){var a=""+Math.round(i*t)/i;n(e,o-a.length),r(e,a)},e.writeFloatPadRight=function(e,t,i,o){var a=""+Math.round(i*t)/i,u=o-a.length;r(e,a),n(e,u)}}(ke||(ke={}));var Te,Re,Ue,Le=n(3);function Ge(e,t){return e-t}function qe(e,t){void 0===e&&(e=0),void 0===t&&(t=Number.MAX_SAFE_INTEGER);var n=e;return function(){var e=n;return n=(n+1)%t,e}}!function(e){var t=function(){function e(){this.size=0}return e.prototype.has=function(e){return!1},e.prototype.forEach=function(e,t){return t},e}(),n=function(){function e(e){this.idx=e,this.size=1}return e.prototype.has=function(e){return e===this.idx},e.prototype.forEach=function(e,t){return e(this.idx,t),t},e}(),r=function(){function e(e,t){this.mask=e,this.size=t,this.length=e.length}return e.prototype.has=function(e){return e<this.length&&!!this.mask[e]},e.prototype._forEach=function(e,t){for(var n=0;n<this.length;n++)this.mask[n]&&e(n,t)},e.prototype.forEach=function(e,t){return this._forEach(e,t),t},e}(),i=function(){function e(e){this.size=e}return e.prototype.has=function(e){return!0},e.prototype._forEach=function(e,t){for(var n=0;n<this.size;n++)e(n,t)},e.prototype.forEach=function(e,t){return this._forEach(e,t),t},e}(),o=function(){function e(e){this.set=e,this._flat=void 0,this.size=e.size}return e.prototype.has=function(e){return this.set.has(e)},e.prototype._forEach=function(e,t){for(var n=0,r=this.flatten();n<r.length;n++){e(r[n],t)}},e.prototype.flatten=function(){if(this._flat)return this._flat;var e,t=new Int32Array(this.size),n=0;return this.set.forEach((function(e){return t[n++]=e})),e=t,Array.prototype.sort.call(e,Ge),this._flat=t,this._flat},e.prototype.forEach=function(e,t){return this._forEach(e,t),t},e}();function a(e){return new o(e)}function u(e,t){return new r(e,t)}e.always=function(e){return new i(e)},e.never=new t,e.ofSet=a,e.singleton=function(e){return new n(e)},e.ofUniqueIndices=function(e){var a=e.length;if(0===a)return new t;if(1===a)return new n(e[0]);for(var u=0,s=0,c=e;s<c.length;s++){(p=c[s])>u&&(u=p)}if(a===u)return new i(a);if(a/u<1/12){for(var l=new Set,d=0,f=e;d<f.length;d++){var p=f[d];l.add(p)}return new o(l)}for(var m=new Int8Array(u+1),h=0,g=e;h<g.length;h++){m[p=g[h]]=1}return new r(m,e.length)},e.ofMask=u,e.hasAny=function(e,t){for(var n=0,r=t;n<r.length;n++){var i=r[n];if(e.has(i))return!0}return!1},e.complement=function(e,t){var n=0,r=0;if(t.forEach((function(t){e.has(t)||(n++,t>r&&(r=t))})),n/r<1/12){var i=new Set;return t.forEach((function(t){e.has(t)||i.add(t)})),a(i)}var o=new Uint8Array(r+1);return t.forEach((function(t){e.has(t)||(o[t]=1)})),u(o,n)}}(Te||(Te={})),(Ue=Re||(Re={})).create=function(e){return{ref:e}},Ue.set=function(e,t){return e.ref=t,e};var Fe,je,He=qe(0,2147483647);!function(e){e.create=function(e,t){return{id:He(),version:0,value:e,metadata:t}},e.withValue=function(e,t){return{id:e.id,version:e.version+1,value:t,metadata:e.metadata}}}(Fe||(Fe={})),function(e){function t(e,t){return Re.set(e,Fe.withValue(e.ref,t))}e.create=function(e,t){return Re.create(Fe.create(e,t))},e.update=t,e.set=function(e,t){return Re.set(e,t)},e.updateIfChanged=function(e,n){return e.ref.value!==n?t(e,n):e}}(je||(je={}));function Ve(e,t){var n=e.length;if(n!==t.length)return!1;for(var r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}var ze=Object.prototype.hasOwnProperty;function Ye(e,t){if(e===t)return!0;if(!e||!t)return!1;var n=Object.keys(e);if(Object.keys(t).length!==n.length)return!1;for(var r=0,i=n;r<i.length;r++){var o=i[r];if(!ze.call(e,o)||e[o]!==t[o])return!1}return!0}function Ke(e,t){return void 0!==e?e:t}Object.assign;var Ze,We,Xe;!function(e){function t(e,t,n){var r=Object.create(null),i=Object.keys(t);r._rowCount=n.length,r._columns=i,r._schema=t;for(var o=0,a=i;o<a.length;o++){var u=a[o];r[u]=Ee.view(e[u],n)}return r}function n(e,t){for(var n=Object.create(null),r=e._columns,i=0;i<r.length;i++){var o=r[i];n[o]=e[o].value(t)}return n}e.is=function(e){return e&&"number"==typeof e._rowCount&&!!e._columns&&!!e._schema},e.pickColumns=function(e,t,n){void 0===n&&(n={});var r=Object.create(null),i=Object.keys(e);r._rowCount=t._rowCount,r._columns=i,r._schema=e;for(var o=0,a=i;o<a.length;o++){var u=a[o];if(t[u])r[u]=t[u];else{if(!n[u])throw Error("Cannot find column '".concat(u,"'."));r[u]=n[u]}}return r},e.ofColumns=function(e,t){var n=Object.keys(t),r=t[n[0]].rowCount;return Object(T.a)({_rowCount:r,_columns:n,_schema:e},t)},e.ofPartialColumns=function(e,t,n){var r=Object.create(null),i=Object.keys(e);r._rowCount=n,r._columns=i,r._schema=e;for(var o=0,a=i;o<a.length;o++){var u=a[o];r[u]=u in t?t[u]:Ee.Undefined(n,e[u])}return r},e.ofUndefinedColumns=function(e,t){var n=Object.create(null),r=Object.keys(e);n._rowCount=t,n._columns=r,n._schema=e;for(var i=0,o=r;i<o.length;i++){var a=o[i];n[a]=Ee.Undefined(t,e[a])}return n},e.ofRows=function(e,t){var n=Object.create(null),r=t.length,i=Object.keys(e);n._rowCount=r,n._columns=i,n._schema=e;for(var o=function(i){n[i]=Ee.ofLambda({rowCount:r,schema:e[i],value:function(e){return t[e][i]},valueKind:function(e){return void 0===t[e][i]?1:0}})},a=0,u=i;a<u.length;a++){o(u[a])}return n},e.ofArrays=function(e,t){var n,r=Object.create(null),i=Object.keys(e);r._rowCount=0,r._columns=i,r._schema=e;for(var o=0,a=i;o<a.length;o++){var u=a[o];void 0!==t[u]?(r[u]=Ee.ofArray({array:t[u],schema:e[u]}),r._rowCount=null===(n=t[u])||void 0===n?void 0:n.length):r[u]=Ee.Undefined(r._rowCount,e[u])}return r},e.view=t,e.pick=function(e,n,r){for(var i=[],o=0,a=e._rowCount;o<a;++o)r(o)&&i.push(o);return t(e,n,i)},e.window=function(e,t,n,r){if(0===n&&r===e._rowCount)return e;var i=Object.create(null),o=Object.keys(t);i._rowCount=r-n,i._columns=o,i._schema=t;for(var a=0,u=o;a<u.length;a++){var s=u[a];i[s]=Ee.window(e[s],n,r)}return i},e.concat=function(e,t){var n=Object.create(null),r=Object.keys(t);n._rowCount=0;for(var i=0,o=e;i<o.length;i++){var a=o[i];n._rowCount+=a._rowCount}for(var u={},s=0,c=r;s<c.length;s++){u[c[s]]=new Array(n._rowCount)}n._columns=r,n._schema=t;for(var l=0,d=0,f=e;d<f.length;d++){a=f[d];for(var p=0,m=r;p<m.length;p++){var h=m[p];Ee.copyToArray(a[h],u[h],l)}l+=a._rowCount}for(var g=0,v=r;g<v.length;g++){n[h=v[g]]=Ee.ofArray({array:u[h],schema:t[h]})}return n},e.columnToArray=function(e,t,n){e[t]=Ee.asArrayColumn(e[t],n)},e.sort=function(e,t){for(var n=new Int32Array(e._rowCount),r=0,i=n.length;r<i;r++)n[r]=r;de(n,(function(e,n,r){return t(n,r)}));var o=!0;for(r=0,i=n.length;r<i;r++)if(n[r]!==r){o=!1;break}if(o)return e;var a=Object.create(null);a._rowCount=e._rowCount,a._columns=e._columns,a._schema=e._schema;for(var u=0,s=e._columns;u<s.length;u++){var c=s[u];a[c]=Ee.view(e[c],n,!1)}return a},e.areEqual=function(e,t){if(e._rowCount!==t._rowCount)return!1;if(e._columns.length!==t._columns.length)return!1;for(var n=0,r=e._columns;n<r.length;n++){if(!t[a=r[n]])return!1}for(var i=0,o=e._columns;i<o.length;i++){var a=o[i];if(!Ee.areEqual(e[a],t[a]))return!1}return!0},e.getRow=n,e.pickRow=function(e,t){for(var r=0,i=e._rowCount;r<i;++r)if(t(r))return n(e,r)},e.getRows=function(e){for(var t=[],r=e._rowCount,i=0;i<r;i++)t[i]=n(e,i);return t},e.toArrays=function(e){for(var t={},n=e._columns,r=0;r<n.length;r++){var i=n[r];t[i]=e[i].toArray()}return t},e.formatToString=function(e){var t=ke.create(),n=e._columns,r=e._rowCount,i=1;ke.write(t,"|");for(var o=0;o<n.length;o++)ke.write(t,n[o]),ke.write(t,"|"),i+=n[o].length+1;ke.newline(t),ke.write(t,new Array(i+1).join("-")),ke.newline(t);for(var a=0;a<r;a++){ke.write(t,"|");for(o=0;o<n.length;o++){var u=e[n[o]];0===u.valueKind(a)?(ke.write(t,u.value(a)),ke.write(t,"|")):ke.write(t,".|")}ke.newline(t)}return ke.getString(t)}}(Ze||(Ze={})),(Xe=We||(We={})).ofTables=function(e,t,n){var r=Object.keys(n),i=Object.create(null),o=[];i._name=e,i._tableNames=o,i._schema=t;for(var a=0,u=r;a<u.length;a++){var s=u[a];Ze.is(n[s])&&(i[s]=n[s],o[o.length]=s)}return i},Xe.getTablesAsRows=function(e){for(var t={},n=0,r=e._tableNames;n<r.length;n++){var i=r[n];t[i]=Ze.getRows(e[i])}return t};var Qe;!function(){function e(e){this.getKey=e,this.map=new Map,this.keys=[],this.groups=[]}e.prototype.add=function(e){var t=this.getKey(e);if(this.map.has(t)){(n=this.map.get(t))[n.length]=e}else{var n=[e];this.map.set(t,n),this.keys[this.keys.length]=t,this.groups[this.groups.length]=n}},e.prototype.getGrouping=function(){return{keys:this.keys,groups:this.groups,map:this.map}}}();function Je(e){if(Array.from)return Array.from(e);for(var t=[];;){var n=e.next(),r=n.done,i=n.value;if(r)break;t[t.length]=i}return t}function $e(e,t,n){for(var r=t-e+1,i=n?new n(r):new Int32Array(r),o=0;o<r;o++)i[o]=o+e;return i}function et(e,t){for(var n=new(function(e){var t=e.constructor;if(!t)throw new Error("data does not define a constructor and it should");return t}(e))(t.length),r=0,i=t.length;r<i;r++)n[r]=e[t[r]];return n}!function(e){e.Zero=0;var t,n,r=(t=new ArrayBuffer(8),n=new ArrayBuffer(8),{_int32:new Int32Array(t),_float64:new Float64Array(t),_int32_1:new Int32Array(n),_float64_1:new Float64Array(n)}),i=r._int32,o=r._float64,a=r._int32_1,u=r._float64_1;e.is=function(e){return"number"==typeof e},e.create=function(e,t){return i[0]=e,i[1]=t,o[0]},e.diff=function(e){return o[0]=e,i[1]-i[0]},e.fst=function(e){return o[0]=e,i[0]},e.snd=function(e){return o[0]=e,i[1]},e.areEqual=function(e,t){return o[0]=e,u[0]=t,i[0]===a[0]&&i[1]===a[1]},e.compare=function(e,t){o[0]=e,u[0]=t;var n=i[0]-a[0];return 0!==n?n:i[1]-a[1]},e.compareInArray=function(e,t,n){o[0]=e[t],u[0]=e[n];var r=i[0]-a[0];return 0!==r?r:i[1]-a[1]},e.hashCode=function(e){return o[0]=e,ge(i[0],i[1])},e.toString=function(e){return o[0]=e,"(".concat(i[0],", ").concat(i[1],")")}}(Qe||(Qe={}));var tt=Qe.Zero;function nt(e,t){return t<e?Qe.create(e,e):Qe.create(e,t+1)}function rt(e,t){return t<=e?Qe.create(e,e):Qe.create(e,t)}function it(e){return e<0?Qe.create(0,0):Qe.create(0,e)}var ot=Qe.is,at=Qe.fst,ut=Qe.snd,st=Qe.fst;function ct(e){return Qe.snd(e)-1}var lt=Qe.diff,dt=Qe.hashCode,ft=Qe.toString;function pt(e,t){return Qe.fst(e)<=t&&t<Qe.snd(e)}function mt(e,t){var n=at(e);return t>=n&&t<ut(e)?t-n:-1}function ht(e,t){return Qe.fst(e)+t}var gt,vt,yt=Qe.areEqual;function _t(e,t){var n=lt(e),r=lt(t);return 0===n&&0===r||n>0&&r>0&&ct(e)>=st(t)&&st(e)<=ct(t)}function bt(e,t){return lt(e)?!lt(t)||at(e)<=at(t)&&ut(e)>=ut(t):0===lt(t)}function xt(e,t){var n=at(e);if(t<=n)return 0;var r=ut(e);return t>=r?r-n:t-n}function At(e,t,n){var r=at(n),i=at(e);if(t<=r+i)return r;var o=ut(n);return t>=o+i?o:t-i}function wt(e,t,n){return rt(xt(e,t),xt(e,n+1))}function St(e,t){return _t(e,t)?rt(Math.max(at(e),at(t)),Math.min(ut(e),ut(t))):tt}function Ct(e,t){return lt(wt(e,st(t),ct(t)))}(vt=gt||(gt={})).Empty=tt,vt.ofSingleton=function(e){return nt(e,e)},vt.ofRange=nt,vt.ofBounds=rt,vt.ofLength=it,vt.is=ot,vt.has=pt,vt.indexOf=mt,vt.getAt=ht,vt.start=at,vt.end=ut,vt.min=st,vt.max=ct,vt.size=lt,vt.hashCode=dt,vt.toString=ft,vt.areEqual=yt,vt.areIntersecting=_t,vt.isSubInterval=bt,vt.findPredecessorIndex=xt,vt.findPredecessorIndexInInterval=At,vt.findRange=wt,vt.intersectionSize=Ct,vt.intersect=St;var Bt=[];function Pt(e){return[e]}function It(e){return e}function Et(e){return de(e),e}function Mt(e,t){if(t<e)return[];for(var n=new Int32Array(t-e+1),r=e;r<=t;r++)n[r-e]=r;return n}function kt(e){return e&&(Array.isArray(e)||!!e.buffer)}function Dt(e){return e[e.length-1]-e[0]+1===e.length}function Ot(e){return e[0]}function Nt(e){return e[e.length-1]+1}function Tt(e){return e[0]}function Rt(e){return e[e.length-1]}function Ut(e){return e.length}function Lt(e){var t,n,r,i,o,a=e.length;return a?a>2?(t=a,n=e[0],r=e[a-1],i=e[a>>1],o=31*(o=31*(o=31*(o=31*(o=23)+t|0)+n|0)+r|0)+i|0,o=(3735928559^(o^=o>>4))+(o<<5),o^=o>>11):function(e,t,n){var r=23;return r=31*(r=31*(r=31*r+e|0)+t|0)+n|0,r=(3735928559^(r^=r>>4))+(r<<5),r^=r>>11}(a,e[0],e[a-1]):0}function Gt(e){var t=e.length;return t>5?"[".concat(e[0],", ").concat(e[1],", ..., ").concat(e[t-1],"], length ").concat(t):"[".concat(e.join(", "),"]")}function qt(e,t){var n=e.length;return 0===n?-1:e[0]<=t&&t<=e[n-1]?Zt(e,t,0,n):-1}function Ft(e,t,n){return jt(e,t,gt.start(n),gt.end(n))}function jt(e,t,n,r){return 0===e.length||r<=n?-1:e[n]<=t&&t<=e[r-1]?Zt(e,t,n,r):-1}function Ht(e,t){return qt(e,t)>=0}function Vt(e,t){if(e===t)return!0;var n=e.length;if(n!==t.length||e[0]!==t[0]||e[n-1]!==t[n-1])return!1;if(Dt(e))return!0;n--;for(var r=1;r<n;r++)if(e[r]!==t[r])return!1;return!0}function zt(e,t){var n=e.length;return t<=e[0]?0:t>e[n-1]?n:Wt(e,t,0,n)}function Yt(e,t,n){var r=gt.start(n),i=gt.end(n),o=e[r];return t<=o?r:i>r&&t>e[i-1]?i:t-o<=11?function(e,t,n,r){for(var i=n;i<r;i++)if(t<=e[i])return i;return r}(e,t,r+1,i):Wt(e,t,r,i)}function Kt(e,t,n){return gt.ofBounds(zt(e,t),zt(e,n+1))}function Zt(e,t,n,r){for(var i=n,o=r-1;i<=o;){if(i+11>o){for(var a=i;a<=o;a++)if(t===e[a])return a;return-1}var u=i+o>>1,s=e[u];if(t<s)o=u-1;else{if(!(t>s))return u;i=u+1}}return-1}function Wt(e,t,n,r){for(var i=n,o=r-1;i<o;){if(i+11>o){for(var a=i;a<=o;a++)if(t<=e[a])return a;return o+1}var u=i+o>>1,s=e[u];if(t<s)o=u-1;else{if(!(t>s))return u;i=u+1}}return i>o?o+1:e[i]>=t?i:i+1}function Xt(e,t){if(e===t)return!0;for(var n=cn(e,t),r=n.startI,i=n.startJ,o=n.endI,a=n.endJ;r<o&&i<a;){var u=e[r],s=t[i];if(u<s)r++;else{if(!(u>s))return!0;i++}}return!1}function Qt(e,t){if(e===t)return!0;var n=t.length,r=cn(e,t),i=r.startI,o=r.startJ,a=r.endI,u=r.endJ;if(u-o<n||a-i<n)return!1;for(var s=0;i<a&&o<u;){var c=e[i],l=t[o];c<l?i++:c>l?o++:(i++,o++,s++)}return s===n}function Jt(e,t){if(e===t)return e;var n=e.length,r=t.length;if(0===n)return t;if(0===r)return e;if(e[0]>t[0])return Jt(t,e);var i=cn(e,t),o=i.startI,a=i.startJ,u=i.endI,s=i.endJ,c=en(e,t,o,a,u,s);if(c===n&&c===r||c===r)return e;if(c===n)return t;var l=new Int32Array(n+r-c),d=0,f=0,p=0;for(d=0;d<o;d++)l[p++]=e[d];for(;f<s&&e[o]>t[f];)l[p++]=t[f++];for(;d<u&&f<s;){var m=e[d],h=t[f];m<h?(l[p++]=m,d++):m>h?(l[p++]=h,f++):(l[p++]=m,d++,f++)}for(;d<u;d++)l[p++]=e[d];for(;f<s;f++)l[p++]=t[f];for(;d<n;d++)l[p++]=e[d];for(;f<r;f++)l[p++]=t[f];return l}function $t(e,t){if(e===t)return Ut(e);var n=cn(e,t);return en(e,t,n.startI,n.startJ,n.endI,n.endJ)}function en(e,t,n,r,i,o){for(var a=n,u=r,s=0;a<i&&u<o;){var c=e[a],l=t[u];c<l?a++:c>l?u++:(a++,u++,s++)}return s}function tn(e,t){if(e===t)return e;var n=cn(e,t),r=n.startI,i=n.startJ,o=n.endI,a=n.endJ,u=en(e,t,r,i,o,a),s=e.length,c=t.length;if(!u)return Bt;if(u===s&&u===c||u===c)return t;if(u===s)return e;for(var l=new Int32Array(u),d=0,f=r,p=i;f<o&&p<a;){var m=e[f],h=t[p];m<h?f++:(m>h||(l[d++]=m,f++),p++)}return l}function nn(e,t){if(e===t)return Bt;for(var n=e.length,r=cn(e,t),i=r.startI,o=r.startJ,a=r.endI,u=r.endJ,s=i,c=o,l=0;s<a&&c<u;){(m=e[s])<(h=t[c])?s++:m>h?c++:(s++,c++,l++)}if(!l)return e;if(l>=n)return Bt;for(var d=new Int32Array(n-l),f=0,p=0;p<i;p++)d[f++]=e[p];for(s=i,c=o;s<a&&c<u;){var m,h;(m=e[s])<(h=t[c])?(d[f++]=m,s++):(m>h||s++,c++)}for(;s<n;s++)d[f++]=e[s];return d}function rn(e){if(e.length<2)return e;for(var t=1,n=0,r=e.length-1;n<r;n++)e[n]!==e[n+1]&&t++;if(t===e.length)return e;var i=new Int32Array(t),o=0;for(n=0,r=e.length-1;n<r;n++)e[n]!==e[n+1]&&(i[o++]=e[n]);return i[o]=e[e.length-1],i}function on(e,t){if(Vt(e,t))return $e(0,e.length-1);for(var n=cn(e,t),r=n.startI,i=n.startJ,o=n.endI,a=n.endJ,u=r,s=i,c=0;u<o&&s<a;){(p=e[u])<(m=t[s])?u++:p>m?s++:(u++,s++,c++)}var l=e.length;if(!c)return Bt;if(c===l)return $e(0,e.length-1);var d=new Int32Array(c),f=0;for(u=r,s=i;u<o&&s<a;){var p,m;(p=e[u])<(m=t[s])?u++:(p>m||(d[f++]=u,u++),s++)}return d}var an,un,sn={startI:0,startJ:0,endI:0,endJ:0};function cn(e,t){var n=e.length,r=t.length,i=n/r;return n>=128||r>=128||i<=.34||i>=2.99?(sn.startI=zt(e,Ot(t)),sn.startJ=zt(t,Ot(e)),sn.endI=zt(e,Nt(t)),sn.endJ=zt(t,Nt(e))):(sn.startI=0,sn.startJ=0,sn.endI=n,sn.endJ=r),sn}(un=an||(an={})).Empty=Bt,un.ofUnsortedArray=Et,un.ofSingleton=Pt,un.ofSortedArray=It,un.ofRange=Mt,un.ofBounds=function(e,t){return Mt(e,t-1)},un.is=kt,un.isRange=Dt,un.has=Ht,un.indexOf=qt,un.indexOfInInterval=Ft,un.indexOfInRange=jt,un.start=Ot,un.end=Nt,un.min=Tt,un.max=Rt,un.size=Ut,un.hashCode=Lt,un.toString=Gt,un.areEqual=Vt,un.areIntersecting=Xt,un.isSubset=Qt,un.union=Jt,un.intersect=tn,un.subtract=nn,un.findPredecessorIndex=zt,un.findPredecessorIndexInInterval=Yt,un.findRange=Kt,un.intersectionSize=$t,un.deduplicate=rn,un.indicesOf=on;var ln,dn,fn=gt.Empty,pn=gt.ofSingleton,mn=gt.ofRange,hn=gt.ofBounds;function gn(e){return e.length?an.isRange(e)?gt.ofRange(e[0],e[e.length-1]):e:fn}function vn(e){return gt.is(e)?gt.size(e):an.size(e)}function yn(e,t){return gt.is(e)?gt.has(e,t):an.has(e,t)}function _n(e,t){return gt.is(e)?gt.indexOf(e,t):an.indexOf(e,t)}function bn(e,t){return gt.is(e)?gt.getAt(e,t):e[t]}function xn(e){return gt.is(e)?gt.min(e):an.min(e)}function An(e){return gt.is(e)?gt.max(e):an.max(e)}function wn(e){return gt.is(e)?gt.start(e):an.start(e)}function Sn(e){return gt.is(e)?gt.end(e):an.end(e)}function Cn(e){return gt.is(e)?gt.hashCode(e):an.hashCode(e)}function Bn(e,t){return gt.is(e)?gt.is(t)?gt.areEqual(e,t):Rn(e,t):gt.is(t)?Rn(t,e):an.areEqual(e,t)}function Pn(e,t){return gt.is(e)?gt.is(t)?gt.areIntersecting(e,t):Un(t,e):gt.is(t)?Un(e,t):an.areIntersecting(e,t)}function In(e,t){return gt.is(e)?gt.is(t)?gt.isSubInterval(e,t):function(e,t){var n=gt.min(e),r=gt.max(e);if(r-n+1==0)return!1;var i=an.min(t),o=an.max(t);return i>=n&&o<=r}(e,t):gt.is(t)?function(e,t){var n=gt.min(t),r=gt.max(t);if(r-n+1==0)return!0;var i=an.min(e),o=an.max(e);if(n<i||r>o)return!1;var a=an.findRange(e,n,r);return gt.size(a)===gt.size(t)}(e,t):an.isSubset(e,t)}function En(e,t){return gt.is(e)?gt.findPredecessorIndex(e,t):an.findPredecessorIndex(e,t)}function Mn(e,t,n){return gt.is(e)?gt.findPredecessorIndexInInterval(e,t,n):an.findPredecessorIndexInInterval(e,t,n)}function kn(e,t,n){return gt.is(e)?gt.findRange(e,t,n):an.findRange(e,t,n)}function Dn(e,t){return gt.is(e)?gt.is(t)?gt.intersectionSize(e,t):Gn(t,e):gt.is(t)?Gn(e,t):an.intersectionSize(e,t)}function On(e,t){return gt.is(e)?gt.is(t)?function(e,t){if(gt.areEqual(e,t))return e;var n=gt.size(e),r=gt.size(t);if(!r)return e;if(!n)return t;var i,o,a,u,s=gt.min(e),c=gt.min(t);if(function(e,t){var n=vn(e),r=vn(t);return 0===n&&0===r||n>0&&r>0&&An(e)>=xn(t)&&xn(e)<=An(t)}(e,t))return gt.ofRange(Math.min(s,c),Math.max(gt.max(e),gt.max(t)));s<c?(i=n,o=s,a=r,u=c):(i=r,o=c,a=n,u=s);for(var l=new Int32Array(n+r),d=0;d<i;d++)l[d]=d+o;for(d=0;d<a;d++)l[d+i]=d+u;return gn(l)}(e,t):Ln(t,e):gt.is(t)?Ln(e,t):gn(an.union(e,t))}function Nn(e,t){return gt.is(e)?gt.is(t)?gt.intersect(e,t):qn(t,e):gt.is(t)?qn(e,t):gn(an.intersect(e,t))}function Tn(e,t){return gt.is(e)?gt.is(t)?function(e,t){if(gt.areEqual(e,t))return fn;if(!gt.areIntersecting(e,t))return e;var n=gt.min(e),r=gt.max(e),i=gt.min(t),o=gt.max(t);if(r<n||o<i)return e;if(gt.isSubInterval(t,e))return fn;if(gt.isSubInterval(e,t)){var a=i-n,u=r-o;if(a<=0)return gt.ofRange(o+1,o+u);if(u<=0)return gt.ofRange(n,n+a-1);for(var s=new Int32Array(a+u),c=0,l=0;l<a;l++)s[c++]=n+l;for(l=1;l<=u;l++)s[c++]=o+l;return gn(s)}return n<i?gt.ofRange(n,i-1):gt.ofRange(o+1,r)}(e,t):function(e,t){var n=gt.min(e),r=gt.max(e);if(r<n)return e;var i=r-n+1,o=an.findRange(t,n,r),a=gt.start(o),u=gt.end(o),s=u-a;if(0===s)return e;var c=i-s;if(c<=0)return fn;for(var l=new Int32Array(c),d=t.length-1,f=t[Math.min(a,d)],p=t[Math.min(u,d)],m=0,h=n;h<f;h++)l[m++]=h;for(h=f;h<=p;h++)an.indexOfInInterval(t,h,o)<0&&(l[m++]=h);for(h=p+1;h<=r;h++)l[m++]=h;return gn(l)}(e,t):gt.is(t)?function(e,t){var n=gt.min(t),r=gt.max(t);if(r<n)return e;var i=an.findRange(e,n,r),o=gt.start(i),a=gt.end(i),u=e.length-(a-o);if(u<=0)return fn;if(u===e.length)return e;for(var s=new Int32Array(u),c=0,l=0;l<o;l++)s[c++]=e[l];l=a;for(var d=e.length;l<d;l++)s[c++]=e[l];return gn(s)}(e,t):gn(an.subtract(e,t))}function Rn(e,t){return gt.size(e)===an.size(t)&&gt.start(e)===an.start(t)&&gt.end(e)===an.end(t)}function Un(e,t){return 0!==e.length&&0!==gt.size(an.findRange(e,gt.min(t),gt.max(t)))}function Ln(e,t){var n=gt.size(t);if(!n)return e;if(function(e,t){return vn(e)?!vn(t)||xn(e)<=xn(t)&&An(e)>=An(t):0===vn(t)}(t,e))return t;for(var r=gt.min(t),i=gt.max(t),o=an.findRange(e,r,i),a=gt.start(o),u=gt.end(o),s=new Int32Array(a+(e.length-u)+n),c=0,l=0;l<a;l++)s[c++]=e[l];for(l=r;l<=i;l++)s[c++]=l;l=u;for(var d=e.length;l<d;l++)s[c++]=e[l];return gn(s)}function Gn(e,t){if(!gt.size(t))return 0;var n=an.findRange(e,gt.min(t),gt.max(t));return gt.end(n)-gt.start(n)}function qn(e,t){if(!gt.size(t))return fn;var n=an.findRange(e,gt.min(t),gt.max(t)),r=gt.start(n),i=gt.end(n),o=i-r;if(!o)return fn;if(o===e.length)return e;for(var a=new Int32Array(o),u=0,s=r;s<i;s++)a[u++]=e[s];return gn(a)}function Fn(e,t,n){if(t===n)return e;var r=vn(e),i=t.length,o=n.length;if(0===r||0===i||0===o)return fn;for(var a=an.findPredecessorIndex(n,t[xn(e)]),u=an.findPredecessorIndex(n,t[An(e)]+1),s=0,c=0,l=0,d=a;l<r&&d<u;){(p=t[bn(e,l)])<(m=n[d])?l++:(p>m||(s++,l++),d++)}if(0===s)return fn;if(s===i&&s===o)return e;var f=new Int32Array(s);for(c=0,l=0,d=a;l<r&&d<u;){var p,m;(p=t[bn(e,l)])<(m=n[d])?l++:(p>m||(f[c++]=d,l++),d++)}return gn(f)}function jn(e){for(var t=an.ofSortedArray(e),n=an.max(t),r=new Int32Array(n),i=0,o=e.length-1;i<o;i++)for(var a=e[i],u=e[i+1];a<u;a++)r[a]=i;return{offsets:t,index:r,count:e.length-1}}function Hn(e,t){for(var n=gt.start(t),r=new Int32Array(e.length+1),i=0,o=e.length;i<o;i++)r[i]=e[i]-n;return r[e.length]=gt.end(t)-n,jn(r)}function Vn(e){return e.count}function zn(e,t){return e.index[t]}function Yn(e,t,n){var r=e.offsets,i=n>=ln.max(r)?-1:ln.findPredecessorIndex(r,n-1);return ln.findRange(t,ln.getAt(r,i),ln.getAt(r,i+1)-1)}(dn=ln||(ln={})).Empty=fn,dn.ofSingleton=pn,dn.ofRange=mn,dn.ofBounds=hn,dn.ofSortedArray=gn,dn.has=yn,dn.indexOf=_n,dn.getAt=bn,dn.min=xn,dn.max=An,dn.start=wn,dn.end=Sn,dn.size=vn,dn.hashCode=Cn,dn.areEqual=Bn,dn.areIntersecting=Pn,dn.isSubset=In,dn.union=On,dn.intersect=Nn,dn.indexedIntersect=Fn,dn.subtract=Tn,dn.findPredecessorIndex=En,dn.findPredecessorIndexInInterval=Mn,dn.findRange=kn,dn.intersectionSize=Dn,dn.forEach=function(e,t,n){return function(e,t,n){if(gt.is(e))for(var r=gt.min(e),i=r,o=gt.max(e);i<=o;i++)t(i,i-r,n);else for(i=0,o=e.length;i<o;i++)t(e[i],i,n);return n}(e,t,n)},dn.forEachSegment=function(e,t,n,r){return function(e,t,n,r){if(gt.is(e))for(var i=0,o=gt.min(e),a=gt.max(e);o<=a;o++){for(var u=t(o),s=o+1;s<a&&t(s)===u;)s++;o=s-1,n(u,i,r),i++}else for(i=0,o=0,a=e.length;o<a;o++){for(u=t(e[o]),s=o+1;s<a&&t(e[s])===u;)s++;o=s-1,n(u,i,r),i++}return r}(e,t,n,r)},dn.isInterval=function(e){return gt.is(e)},dn.isSortedArray=function(e){return!gt.is(e)},dn.toArray=function(e){var t=[];return dn.forEach(e,(function(e){return t.push(e)})),t},dn.toString=function(e){return function(e){return gt.is(e)?gt.toString(e):an.toString(e)}(e)};var Kn,Zn,Wn=function(){function e(e,t,n,r){this.segments=e,this.segmentMap=t,this.set=n,this.segmentMin=0,this.segmentMax=0,this.setRange=gt.Empty,this.value={index:0,start:0,end:0},this.hasNext=!1,this.setRange=r,this.updateSegmentRange()}return e.prototype.move=function(){for(;this.hasNext;){if(this.updateValue()){this.value.index=this.segmentMin++,this.hasNext=this.segmentMax>=this.segmentMin&&gt.size(this.setRange)>0;break}this.updateSegmentRange()}return this.value},e.prototype.updateValue=function(){var e=this.segments[this.segmentMin+1],t=ln.findPredecessorIndexInInterval(this.set,e,this.setRange);return this.value.start=gt.start(this.setRange),this.value.end=t,this.setRange=gt.ofBounds(t,gt.end(this.setRange)),t>this.value.start},e.prototype.updateSegmentRange=function(){var e=gt.min(this.setRange),t=gt.max(this.setRange);t<e?this.hasNext=!1:(this.segmentMin=this.segmentMap[ln.getAt(this.set,e)],this.segmentMax=this.segmentMap[ln.getAt(this.set,t)],this.hasNext=this.segmentMax>=this.segmentMin)},e.prototype.setSegment=function(e){this.setRange=gt.ofBounds(e.start,e.end),this.updateSegmentRange()},e}();function Xn(e,t,n){var r=void 0!==n?gt.ofBounds(n.start,n.end):gt.ofBounds(0,ln.size(t));return new Wn(e.offsets,e.index,t,r)}(Zn=Kn||(Kn={})).create=jn,Zn.ofOffsets=Hn,Zn.count=Vn,Zn.getSegment=zn,Zn.projectValue=Yn,Zn.transientSegments=Xn;var Qn,Jn=function(){function e(e){this.head=e>0?0:-1,this.prev=new Int32Array(e),this.next=new Int32Array(e);for(var t=0;t<e;t++)this.next[t]=t+1,this.prev[t]=t-1;this.prev[0]=-1,this.next[e-1]=-1}return e.prototype.remove=function(e){var t=this.prev,n=this.next,r=t[e],i=n[e];r>=0&&(n[r]=i,t[e]=-1),i>=0&&(t[i]=r,n[e]=-1),e===this.head&&(this.head=r<0?i:r)},e.prototype.has=function(e){return this.prev[e]>=0||this.next[e]>=0||this.head===e},e}();!function(e){function t(){return new Map}e.Empty=new Map,e.keyArray=function(e){return Je(e.keys())},e.Mutable=t,e.asImmutable=function(e){return e},e.copy=function(e){for(var n=t(),r=e.keys();;){var i=r.next(),o=i.done,a=i.value;if(o)break;n.set(a,e.get(a))}return n},e.addFrom=function(e,t){for(var n=t.keys();;){var r=n.next(),i=r.done,o=r.value;if(i)break;e.set(o,t.get(o))}return e}}(Qn||(Qn={}));var $n,er,tr=function(){function e(e){this.xs=[],this.index=-1,this.length=0,this.hasNext=!1,this.length=e.length,this.hasNext=e.length>0,this.xs=e,this.index=-1,this.lastValue=e.length>0?e[0]:void 0}return e.prototype.move=function(){return++this.index,this.lastValue=this.xs[this.index],this.hasNext=this.index<this.length-1,this.lastValue},e}(),nr=function(){function e(e,t){this.max=t,this.value=0,this.hasNext=!1,this.value=e-1,this.hasNext=t>=e}return e.prototype.move=function(){return++this.value,this.hasNext=this.value<this.max,this.value},e}(),rr=function(){function e(e){this.value=e,this.hasNext=!0}return e.prototype.move=function(){return this.hasNext=!1,this.value},e}(),ir=function(){function e(e,t){this.base=e,this.f=t,this.hasNext=!1,this.hasNext=e.hasNext}return e.prototype.move=function(){var e=this.f(this.base.move());return this.hasNext=this.base.hasNext,e},e}(),or=function(){function e(e,t){this.base=e,this.p=t,this.hasNext=this.findNext()}return e.prototype.move=function(){var e=this.next;return this.hasNext=this.findNext(),e},e.prototype.findNext=function(){for(;this.base.hasNext;)if(this.next=this.base.move(),this.p(this.next))return!0;return!1},e}();function ar(){return ar.empty()}function ur(){return ur.zero()}function sr(){return sr.zero()}(er=$n||($n={})).Empty=new nr(0,-1),er.Array=function(e){return new tr(e)},er.Value=function(e){return new rr(e)},er.Range=function(e,t){return new nr(e,t)},er.map=function(e,t){return new ir(e,t)},er.filter=function(e,t){return new or(e,t)},er.forEach=function(e,t,n){for(;e.hasNext;)if(t(e.move(),n))return n;return n},function(e){function t(){return{origin:A(),dirA:A(),dirB:A(),dirC:A()}}function n(e,t){return A.copy(e.origin,t.origin),A.copy(e.dirA,t.dirA),A.copy(e.dirB,t.dirB),A.copy(e.dirC,t.dirC),e}function r(e,t){return A.set(e,2*A.magnitude(t.dirA),2*A.magnitude(t.dirB),2*A.magnitude(t.dirC))}e.create=function(e,t,n,r){return{origin:e,dirA:t,dirB:n,dirC:r}},e.empty=t,e.copy=n,e.clone=function(e){return n(t(),e)},e.size=r;var i=A();e.volume=function(e){return r(i,e),i[0]*i[1]*i[2]},e.normalize=function(e,t){return A.copy(e.origin,t.origin),A.normalize(e.dirA,t.dirA),A.normalize(e.dirB,t.dirB),A.normalize(e.dirC,t.dirC),e};var o=I();e.transform=function(e,t,n){A.transformMat4(e.origin,t.origin,n);var r=I.directionTransform(o,n);return A.transformMat3(e.dirA,t.dirA,r),A.transformMat3(e.dirB,t.dirB,r),A.transformMat3(e.dirC,t.dirC,r),e},e.scale=function(e,t,n){return A.scale(e.dirA,t.dirA,n),A.scale(e.dirB,t.dirB,n),A.scale(e.dirC,t.dirC,n),e}}(ar||(ar={})),function(e){function t(e){return void 0!==e.extrema}function n(e,t){return{center:e,radius:t}}function r(e,t){var n;return void 0!==e.extrema?(e.extrema.length=0,(n=e.extrema).push.apply(n,t)):e.extrema=t,e}e.hasExtrema=t,e.create=n,e.zero=function(){return{center:A(),radius:0}},e.clone=function(e){var r=n(A.clone(e.center),e.radius);return t(e)&&(r.extrema=e.extrema.map((function(e){return A.clone(e)}))),r},e.set=function(e,t,n){return A.copy(e.center,t),e.radius=n,e},e.copy=function(e,n){return A.copy(e.center,n.center),e.radius=n.radius,t(n)&&r(e,n.extrema.map((function(e){return A.clone(e)}))),e},e.setExtrema=r,e.computeBounding=function(e){for(var t=e.x,n=e.y,r=e.z,i=e.indices,o=0,a=0,u=0,s=0,c=ln.size(i),l=0;l<c;l++){o+=t[d=ln.getAt(i,l)],a+=n[d],u+=r[d]}for(c>0&&(o/=c,a/=c,u/=c),l=0;l<c;l++){var d,f=t[d=ln.getAt(i,l)]-o,p=n[d]-a,m=r[d]-u,h=f*f+p*p+m*m;h>s&&(s=h)}return{center:A.create(o,a,u),radius:Math.sqrt(s)}},e.transform=function(e,n,i){return A.transformMat4(e.center,n.center,i),e.radius=n.radius*P.getMaxScaleOnAxis(i),t(n)&&r(e,n.extrema.map((function(e){return A.transformMat4(A(),e,i)}))),e},e.translate=function(e,n,i){return A.add(e.center,n.center,i),t(n)&&r(e,n.extrema.map((function(e){return A.add(A(),e,i)}))),e},e.toArray=function(e,t,n){return A.toArray(e.center,t,n),t[n+3]=e.radius,t},e.fromArray=function(e,t,n){return A.fromArray(e.center,t,n),e.radius=t[n+3],e},e.fromBox3D=function(t,n){return A.scale(t.center,A.add(t.center,n.max,n.min),.5),t.radius=A.distance(t.center,n.max),e.setExtrema(t,[A.create(n.min[0],n.min[1],n.min[2]),A.create(n.max[0],n.max[1],n.max[2]),A.create(n.max[0],n.min[1],n.min[2]),A.create(n.min[0],n.max[1],n.max[2]),A.create(n.min[0],n.min[1],n.max[2]),A.create(n.max[0],n.min[1],n.max[2]),A.create(n.max[0],n.max[1],n.min[2]),A.create(n.min[0],n.max[1],n.min[2])]),t},e.fromAxes3D=function(e,t){return A.copy(e.center,t.origin),e.radius=Math.max(A.magnitude(t.dirA),A.magnitude(t.dirB),A.magnitude(t.dirC)),e};var i=A();e.fromDimensionsAndTransform=function(t,n,r){var o=n[0],a=n[1],u=n[2],s=A.create(0,0,0);A.transformMat4(s,s,r);var c=A.create(o,a,u);A.transformMat4(c,c,r);var l=A.create(o,0,0);A.transformMat4(l,l,r);var d=A.create(0,a,u);A.transformMat4(d,d,r);var f=A.create(0,0,u);A.transformMat4(f,f,r);var p=A.create(o,0,u);A.transformMat4(p,p,r);var m=A.create(o,a,0);A.transformMat4(m,m,r);var h=A.create(0,a,0);A.transformMat4(h,h,r),A.add(i,s,c),A.scale(i,i,.5);var g=Math.max(A.distance(s,c),A.distance(l,d));return e.set(t,i,g/2),e.setExtrema(t,[s,c,l,d,f,p,m,h]),t};var o=A();e.addVec3=function(t,n,r){return A.distance(n.center,r)<n.radius?e.copy(t,n):(A.sub(o,n.center,r),A.sub(o,n.center,o),A.setMagnitude(o,o,n.radius),A.scale(t.center,A.add(o,o,r),.5),t.radius=A.distance(t.center,r),t)},e.expandBySphere=function(e,n,i){return A.copy(e.center,n.center),e.radius=Math.max(n.radius,A.distance(n.center,i.center)+i.radius),t(n)&&t(i)&&r(e,Object(T.e)(Object(T.e)([],n.extrema.map((function(e){return A.clone(e)})),!0),i.extrema.map((function(e){return A.clone(e)})),!0)),e};var a=A();e.expand=function(e,n,i){var o,u;if(A.copy(e.center,n.center),e.radius=n.radius+i,n.radius<1e-12||(null!==(u=null===(o=n.extrema)||void 0===o?void 0:o.length)&&void 0!==u?u:0)<=1)return e.extrema=void 0,e;if(t(n)){for(var s=new Float32Array(3*n.extrema.length),c=0;c<n.extrema.length;c++)A.toArray(n.extrema[c],s,3*c);var l=hr.calculateMomentsAxes(s);ar.scale(l,ar.normalize(l,l),i),r(e,n.extrema.map((function(t){A.normalize(a,A.sub(a,t,n.center));var r=A.clone(t),i=A.dot(a,l.dirA)<0?-1:1;A.scaleAndAdd(r,r,l.dirA,i);var o=A.dot(a,l.dirB)<0?-1:1;A.scaleAndAdd(r,r,l.dirB,o);var u=A.dot(a,l.dirC)<0?-1:1;return A.scaleAndAdd(r,r,l.dirC,u),A.distance(e.center,r)>e.radius&&(n.extrema.length>=14&&A.normalize(a,A.sub(a,r,n.center)),A.scaleAndAdd(r,e.center,a,e.radius)),r})))}return e},e.exactEquals=function(e,t){return e.radius===t.radius&&A.exactEquals(e.center,t.center)},e.equals=function(e,t){var n=e.radius,r=t.radius;return Math.abs(n-r)<=h*Math.max(1,Math.abs(n),Math.abs(r))&&A.equals(e.center,t.center)},e.includes=function(e,n){if(t(n)){for(var r=0,i=n.extrema;r<i.length;r++){var o=i[r];if(A.distance(e.center,o)>e.radius)return!1}return!0}return A.distance(e.center,n.center)+n.radius<=e.radius},e.overlaps=function(e,t){return A.distance(e.center,t.center)<=e.radius+t.radius},e.distance=function(e,t){return A.distance(e.center,t.center)-e.radius+t.radius},e.distanceToVec=function(e,t){var n=e.center,r=e.radius;return A.distance(t,n)-r}}(ur||(ur={})),function(e){function t(){return{min:A(),max:A()}}function n(e,t){return A.copy(e.min,t.min),A.copy(e.max,t.max),e}e.create=function(e,t){return{min:e,max:t}},e.zero=t,e.copy=n,e.clone=function(e){return n(t(),e)};var r=A();function i(e,t){for(var n=0,r=t.length;n<r;n++)c(e,t[n]);return e}function o(e,t){return s(e),i(e,t),e}function a(e,t){return A.sub(e,t.max,t.min)}e.fromSphere3D=function(e,t){return ur.hasExtrema(t)&&t.extrema.length>=14?o(e,t.extrema):(A.set(r,t.radius,t.radius,t.radius),A.sub(e.min,t.center,r),A.add(e.max,t.center,r),e)},e.addVec3Array=i,e.fromVec3Array=o,e.addSphere3D=function(e,t){return ur.hasExtrema(t)&&t.extrema.length>=14?i(e,t.extrema):(c(e,A.subScalar(r,t.center,t.radius)),c(e,A.addScalar(r,t.center,t.radius)),e)},e.intersectsSphere3D=function(e,t){return A.clamp(r,t.center,e.min,e.max),A.squaredDistance(r,t.center)<=t.radius*t.radius},e.computeBounding=function(e){for(var t=A.create(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),n=A.create(-Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE),r=e.x,i=e.y,o=e.z,a=e.indices,u=0,s=ln.size(a);u<s;u++){var c=ln.getAt(a,u);t[0]=Math.min(r[c],t[0]),t[1]=Math.min(i[c],t[1]),t[2]=Math.min(o[c],t[2]),n[0]=Math.max(r[c],n[0]),n[1]=Math.max(i[c],n[1]),n[2]=Math.max(o[c],n[2])}return{min:t,max:n}},e.size=a;var u=A();function s(e){return A.set(e.min,Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),A.set(e.max,-Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE),e}function c(e,t){return A.min(e.min,e.min,t),A.max(e.max,e.max,t),e}e.volume=function(e){return a(u,e),u[0]*u[1]*u[2]},e.setEmpty=s,e.add=c,e.expand=function(e,t,n){return A.sub(e.min,t.min,n),A.add(e.max,t.max,n),e},e.scale=function(e,t,n){return A.scale(e.min,t.min,n),A.scale(e.max,t.max,n),e};var l=A();e.transform=function(e,t,n){var r=t.min,i=r[0],o=r[1],a=r[2],u=t.max,d=u[0],f=u[1],p=u[2];return s(e),c(e,A.transformMat4(l,A.set(l,i,o,a),n)),c(e,A.transformMat4(l,A.set(l,i,o,p),n)),c(e,A.transformMat4(l,A.set(l,i,f,a),n)),c(e,A.transformMat4(l,A.set(l,i,f,p),n)),c(e,A.transformMat4(l,A.set(l,d,o,a),n)),c(e,A.transformMat4(l,A.set(l,d,o,p),n)),c(e,A.transformMat4(l,A.set(l,d,f,a),n)),c(e,A.transformMat4(l,A.set(l,d,f,p),n)),e},e.containsVec3=function(e,t){return!(t[0]<e.min[0]||t[0]>e.max[0]||t[1]<e.min[1]||t[1]>e.max[1]||t[2]<e.min[2]||t[2]>e.max[2])},e.overlaps=function(e,t){return!(e.max[0]<t.min[0]||e.min[0]>t.max[0]||e.max[1]<t.min[1]||e.min[1]>t.max[1]||e.max[2]<t.min[2]||e.min[2]>t.max[2])},e.containsSphere3D=function(e,t){var n=t.center,r=t.radius;return!(n[0]-r<e.min[0]||n[0]+r>e.max[0]||n[1]-r<e.min[1]||n[1]+r>e.max[1]||n[2]-r<e.min[2]||n[2]+r>e.max[2])},e.nearestIntersectionWithRay=function(e,t,n,r){var i,o,a,u,s,c,l=t.min,d=l[0],f=l[1],p=l[2],m=t.max,h=m[0],g=m[1],v=m[2],y=n[0],_=n[1],b=n[2],x=1/r[0],w=1/r[1],S=1/r[2];return x>=0?(i=(d-y)*x,o=(h-y)*x):(i=(h-y)*x,o=(d-y)*x),w>=0?(a=(f-_)*w,u=(g-_)*w):(a=(g-_)*w,u=(f-_)*w),S>=0?(s=(p-b)*S,c=(v-b)*S):(s=(v-b)*S,c=(p-b)*S),a>i&&(i=a),u<o&&(o=u),s>i&&(i=s),c<o&&(o=c),A.scale(e,r,i),A.set(e,e[0]+y,e[1]+_,e[2]+b)}}(sr||(sr={}));var cr=function(e,t){this.parent=null,this.child=null,this.degree=0,this.isMarked=!1,this.key=e,this.value=t,this.prev=this,this.next=this},lr=new(function(){function e(e){if(this._index=-1,this._items=[],this._len=0,e){var t=e,n=0;do{this._items[n++]=t,t=t.next}while(e!==t);this._len=n}}return e.prototype.hasNext=function(){return this._index<this._len-1},e.prototype.next=function(){return this._items[++this._index]},e.prototype.reset=function(e){this._index=-1,this._len=0;var t=e,n=0;do{this._items[n++]=t,t=t.next}while(e!==t);this._len=n},e}()),dr=function(){function e(e){this._minNode=null,this._nodeCount=0,this._compare=e||this._defaultCompare}return e.prototype.clear=function(){this._minNode=null,this._nodeCount=0},e.prototype.decreaseKey=function(e,t){if(!e)throw new Error("Cannot decrease key of non-existent node");if(this._compare({key:t},{key:e.key})>0)throw new Error("New key is larger than old key");e.key=t;var n=e.parent;n&&this._compare(e,n)<0&&(this._cut(e,n,this._minNode),this._cascadingCut(n,this._minNode)),this._compare(e,this._minNode)<0&&(this._minNode=e)},e.prototype.delete=function(e){var t=e.parent;t&&(this._cut(e,t,this._minNode),this._cascadingCut(t,this._minNode)),this._minNode=e,this.extractMinimum()},e.prototype.extractMinimum=function(){var e=this._minNode;if(e){if(e.child){var t=e.child;do{t.parent=null,t=t.next}while(t!==e.child)}var n=null;e.next!==e&&(n=e.next),this._removeNodeFromList(e),this._nodeCount--,this._minNode=this._mergeLists(n,e.child),this._minNode&&(this._minNode=this._consolidate(this._minNode))}return e},e.prototype.findMinimum=function(){return this._minNode},e.prototype.insert=function(e,t){var n=new cr(e,t);return this._minNode=this._mergeLists(this._minNode,n),this._nodeCount++,n},e.prototype.isEmpty=function(){return null===this._minNode},e.prototype.size=function(){return null===this._minNode?0:this._getNodeListSize(this._minNode)},e.prototype.union=function(e){this._minNode=this._mergeLists(this._minNode,e._minNode),this._nodeCount+=e._nodeCount},e.prototype._defaultCompare=function(e,t){return e.key>t.key?1:e.key<t.key?-1:0},e.prototype._cut=function(e,t,n){e.parent=null,t.degree--,e.next===e?t.child=null:t.child=e.next,this._removeNodeFromList(e);var r=this._mergeLists(n,e);return e.isMarked=!1,r},e.prototype._cascadingCut=function(e,t){var n=e.parent;return n&&(e.isMarked?(t=this._cut(e,n,t),t=this._cascadingCut(n,t)):e.isMarked=!0),t},e.prototype._consolidate=function(e){var t=[];for(lr.reset(e);lr.hasNext();){for(var n=lr.next(),r=t[n.degree];r;){if(this._compare(n,r)>0){var i=n;n=r,r=i}this._linkHeaps(r,n),t[n.degree]=null,n.degree++,r=t[n.degree]}t[n.degree]=n}for(var o=null,a=0;a<t.length;a++){var u=t[a];u&&(u.next=u,u.prev=u,o=this._mergeLists(o,u))}return o},e.prototype._removeNodeFromList=function(e){var t=e.prev,n=e.next;t.next=n,n.prev=t,e.next=e,e.prev=e},e.prototype._linkHeaps=function(e,t){this._removeNodeFromList(e),t.child=this._mergeLists(e,t.child),e.parent=t,e.isMarked=!1},e.prototype._mergeLists=function(e,t){if(!e)return t||null;if(!t)return e;var n=e.next;return e.next=t.next,e.next.prev=e,t.next=n,t.next.prev=t,this._compare(e,t)<0?e:t},e.prototype._getNodeListSize=function(e){var t=0,n=e;do{t++,n.child&&(t+=this._getNodeListSize(n.child)),n=n.next}while(n!==e);return t},e}();function fr(e,t,n){return new pr(e,t,n)}var pr=function(){function e(e,t,n){var r=function(e,t,n){var r,i,o=sr.expand(sr(),t.box,A.create(.5,.5,.5)),a=e.indices,u=sr.size(A(),o),s=ln.size(a),c="number"==typeof n?n:32,l=Array.isArray(n)&&n;if(l&&!A.isZero(l))i=[Math.ceil(u[0]/l[0]),Math.ceil(u[1]/l[1]),Math.ceil(u[2]/l[2])],r=l;else if(s>0){var d=Math.ceil(s/c),f=Math.pow(d/(u[0]*u[1]*u[2]),1/3);i=[Math.ceil(u[0]*f),Math.ceil(u[1]*f),Math.ceil(u[2]*f)],r=[u[0]/i[0],u[1]/i[1],u[2]/i[2]]}else r=u,i=[1,1,1];var p={x:e.x,y:e.y,z:e.z,indices:a,radius:e.radius};return function(e){for(var t=e.expandedBox,n=e.size,r=n[0],i=n[1],o=n[2],a=e.data,u=a.x,s=a.y,c=a.z,l=a.radius,d=a.indices,f=e.elementCount,p=e.delta,m=r*i*o,h=t.min,g=h[0],v=h[1],y=h[2],_=0,b=0,x=new Uint32Array(m),A=new Int32Array(f),w=0;w<f;w++){var S=ln.getAt(d,w),C=Math.floor((u[S]-g)/p[0]),B=Math.floor((s[S]-v)/p[1]),P=Math.floor((c[S]-y)/p[2]),I=(C*i+B)*o+P;1===(x[I]+=1)&&(b+=1),A[w]=I}if(l)for(w=0;w<f;w++){S=ln.getAt(d,w);l[S]>_&&(_=l[S])}for(var E=new Int32Array(b),M=(S=0,0);S<m;S++){var k=x[S];k>0&&(x[S]=M+1,E[M]=k,M+=1)}var D=new Uint32Array(b);for(S=1;S<b;++S)D[S]+=D[S-1]+E[S-1];var O=new Int32Array(b),N=new Int32Array(f);for(S=0;S<f;S++){var T=x[A[S]];if(T>0){var R=T-1;N[D[R]+O[R]]=S,O[R]+=1}}return{size:e.size,bucketArray:N,bucketCounts:E,bucketOffset:D,grid:x,delta:p,min:e.expandedBox.min,data:e.data,maxRadius:_,expandedBox:e.expandedBox,boundingBox:e.boundingBox,boundingSphere:e.boundingSphere}}({size:i,data:p,expandedBox:o,boundingBox:t.box,boundingSphere:t.sphere,elementCount:s,delta:r})}(e,t,n);this.ctx={grid:r,x:.1,y:.1,z:.1,k:1,stopIf:void 0,radius:.1,isCheck:!1},this.boundary={box:r.boundingBox,sphere:r.boundingSphere},this.buckets={offset:r.bucketOffset,count:r.bucketCounts,array:r.bucketArray},this.result=$.create()}return e.prototype.find=function(e,t,n,r,i){this.ctx.x=e,this.ctx.y=t,this.ctx.z=n,this.ctx.radius=r,this.ctx.isCheck=!1;var o=null!=i?i:this.result;return mr(this.ctx,o),o},e.prototype.nearest=function(e,t,n,r,i,o){void 0===r&&(r=1),this.ctx.x=e,this.ctx.y=t,this.ctx.z=n,this.ctx.k=r,this.ctx.stopIf=i;var a=null!=o?o:this.result;return function(e,t){var n=e.grid,r=n.min,i=n.expandedBox,o=n.boundingSphere.center,a=n.size,u=a[0],s=a[1],c=a[2],l=n.bucketOffset,d=n.bucketCounts,f=n.bucketArray,p=n.grid,m=n.data,h=m.x,g=m.y,v=m.z,y=m.indices,_=m.radius,b=n.delta,x=n.maxRadius,w=e.x,S=e.y,C=e.z,B=e.k,P=e.stopIf,I=ln.size(y);if($.reset(t),0===I||B<=0)return!1;var E,M,k,D,O=!1,N=1,T=!0,R=0,U=Ar,L=wr,G=0,q=!0,F=!1,j=Sr,H=x*x;U.length=0,j.length=0,br.clear(),Cr.clear(),A.set(_r,w,S,C),sr.containsVec3(i,_r)?(E=Math.floor((w-r[0])/b[0]),M=Math.floor((S-r[1])/b[1]),k=Math.floor((C-r[2])/b[2])):(sr.nearestIntersectionWithRay(_r,i,_r,A.normalize(yr,A.sub(yr,o,_r))),E=Math.max(0,Math.min(u-1,Math.floor((_r[0]-r[0])/b[0]))),M=Math.max(0,Math.min(s-1,Math.floor((_r[1]-r[1])/b[1]))),k=Math.max(0,Math.min(c-1,Math.floor((_r[2]-r[2])/b[2]))));var V=0!==x?Math.max(1,Math.min(u-1,Math.ceil(x/b[0]))):1,z=0!==x?Math.max(1,Math.min(s-1,Math.ceil(x/b[1]))):1,Y=0!==x?Math.max(1,Math.min(c-1,Math.ceil(x/b[2]))):1;U.push(E,M,k,(E*s+M)*c+k);for(;t.count<I;){for(var K=4*N,Z=0;Z<K;Z+=4)if(D=U[Z+3],!br.has(D)){br.add(D),F=br.size>=p.length;var W=p[D];if(0!==W){for(var X=G,Q=W-1,J=l[Q],ee=d[Q],te=J+ee,ne=J;ne<te;ne++){var re=f[ne],ie=ln.getAt(y,re),oe=h[ie]-w,ae=g[ie]-S,ue=v[ie]-C,se=oe*oe+ae*ae+ue*ue;if(0!==x){var ce=_[ie];se-=ce*ce}q&&se>G&&(G=se),Cr.insert(se,re)}X<G&&(q=!1)}}L.length=0,R=0,xr.clear();for(Z=0;Z<K;Z+=4){E=U[Z],M=U[Z+1],k=U[Z+2];for(var le=-V;le<=V;le++){var de=E+le;if(!(de<0||de>=u))for(var fe=-z;fe<=z;fe++){var pe=M+fe;if(!(pe<0||pe>=s))for(var me=-Y;me<=Y;me++){var he=k+me;if(!(he<0||he>=c)&&(D=(de*s+pe)*c+he,!xr.has(D)&&(xr.add(D),!br.has(D)))){if(!T){var ge=r[0]+de*b[0]-w,ve=r[1]+pe*b[1]-S,ye=r[2]+he*b[2]-C;if(ge*ge+ve*ve+ye*ye-H>G){j.push(de,pe,he,D);continue}}L.push(de,pe,he,D),R++}}}}}if(T=!1,0===R){if(1===B){if(Ae=Cr.findMinimum()){var _e=Ae,be=_e.key,xe=_e.value;return $.add(t,xe,be),!0}}else for(;!Cr.isEmpty()&&(F||Cr.findMinimum().key<=G)&&t.count<B;){var Ae;be=(Ae=Cr.extractMinimum()).key,xe=Ae.value;$.add(t,xe,be),P&&!O&&(O=P(xe,be))}if(t.count>=B||O||t.count>=I)return t.count>0;if(T=!0,q=!0,j.length>0){ne=0;for(var we=j.length;ne<we;ne++)U.push(j[ne]);j.length=0,N=U.length}}else{var Se=U;U=L,L=Se,N=R}}t.count}(this.ctx,a),a},e.prototype.check=function(e,t,n,r){return this.ctx.x=e,this.ctx.y=t,this.ctx.z=n,this.ctx.radius=r,this.ctx.isCheck=!0,mr(this.ctx,this.result)},e}();function mr(e,t){var n=e.grid,r=n.min,i=n.size,o=i[0],a=i[1],u=i[2],s=n.bucketOffset,c=n.bucketCounts,l=n.bucketArray,d=n.grid,f=n.data,p=f.x,m=f.y,h=f.z,g=f.indices,v=f.radius,y=n.delta,_=n.maxRadius,b=e.radius,x=e.isCheck,A=e.x,w=e.y,S=e.z,C=b+_,B=C*C;$.reset(t);var P=Math.max(0,Math.floor((A-C-r[0])/y[0])),I=Math.max(0,Math.floor((w-C-r[1])/y[1])),E=Math.max(0,Math.floor((S-C-r[2])/y[2])),M=Math.min(o-1,Math.floor((A+C-r[0])/y[0])),k=Math.min(a-1,Math.floor((w+C-r[1])/y[1])),D=Math.min(u-1,Math.floor((S+C-r[2])/y[2]));if(P>M||I>k||E>D)return!1;for(var O=P;O<=M;O++)for(var N=I;N<=k;N++)for(var T=E;T<=D;T++){var R=d[(O*a+N)*u+T];if(0!==R)for(var U=R-1,L=s[U],G=L+c[U],q=L;q<G;q++){var F=ln.getAt(g,l[q]),j=p[F]-A,H=m[F]-w,V=h[F]-S,z=j*j+H*H+V*V;if(z<=B){if(_>0&&Math.sqrt(z)-v[F]>b)continue;if(x)return!0;$.add(t,l[q],z)}}}return t.count>0}var hr,gr,vr,yr=A(),_r=A(),br=new Set,xr=new Set,Ar=[.1],wr=[.1],Sr=[.1],Cr=new dr;function Br(e){return e}!function(e){function t(e){if(3===e.length)return ar.create(A.fromArray(A(),e,0),A.create(1,0,0),A.create(0,1,0),A.create(0,0,1));var t=O.fromArray(e,3,e.length/3),n=t.rows,r=n/3,i=O.create(3,3),o=O.create(1,3),a=O.create(3,3),u=O.create(3,3),s=O.meanRows(t),c=O.subRows(O.clone(t),s),l=O.transpose(O.create(n,3),c);O.multiplyABt(i,l,l),G(i,o,a,u);var d=A.create(s[0],s[1],s[2]),f=A.create(a.data[0],a.data[3],a.data[6]),p=A.create(a.data[1],a.data[4],a.data[7]),m=A.create(a.data[2],a.data[5],a.data[8]);return A.scale(f,f,Math.sqrt(o.data[0]/r)),A.scale(p,p,Math.sqrt(o.data[1]/r)),A.scale(m,m,Math.sqrt(o.data[2]/r)),ar.create(d,f,p,m)}function n(e){var t=ar.clone(e);return A.magnitude(t.dirC)<h&&A.cross(t.dirC,t.dirA,t.dirB),ar.normalize(t,t)}e.ofPositions=function(e){var n=t(e);return{momentsAxes:n,boxAxes:i(e,n)}},e.calculateMomentsAxes=t,e.calculateNormalizedAxes=n;var r=A();function i(e,t){if(3===e.length)return ar.clone(t);for(var i=-1/0,o=-1/0,a=-1/0,u=-1/0,s=-1/0,c=-1/0,l=A(),d=A(),f=t.origin,p=n(t),m=0,h=e.length;m<h;m+=3){A.projectPointOnVector(l,A.fromArray(l,e,m),p.dirA,f);var g=A.dot(p.dirA,A.normalize(d,A.sub(d,l,f))),v=A.distance(l,f);g>0?v>i&&(i=v):v>o&&(o=v),A.projectPointOnVector(l,A.fromArray(l,e,m),p.dirB,f);var y=A.dot(p.dirB,A.normalize(d,A.sub(d,l,f))),_=A.distance(l,f);y>0?_>a&&(a=_):_>u&&(u=_),A.projectPointOnVector(l,A.fromArray(l,e,m),p.dirC,f);var b=A.dot(p.dirC,A.normalize(d,A.sub(d,l,f))),x=A.distance(l,f);b>0?x>s&&(s=x):x>c&&(c=x)}var w=A.setMagnitude(A(),p.dirA,(i+o)/2),S=A.setMagnitude(A(),p.dirB,(a+u)/2),C=A.setMagnitude(A(),p.dirC,(s+c)/2),B=A.isFinite(w),P=A.isFinite(S),I=A.isFinite(C),E=A(),M=function(e,t,n){A.copy(r,f),B&&A.scaleAndAdd(r,r,p.dirA,e),P&&A.scaleAndAdd(r,r,p.dirB,t),I&&A.scaleAndAdd(r,r,p.dirC,n),A.add(E,E,r)};return M(i,a,s),M(i,a,-c),M(i,-u,-c),M(i,-u,s),M(-o,-u,-c),M(-o,-u,s),M(-o,a,s),M(-o,a,-c),A.scale(E,E,1/8),ar.create(E,w,S,C)}e.calculateBoxAxes=i}(hr||(hr={})),function(e){e.create=function(e,t,n){var r=!!e[0].cell,i=!!e[0].velocities,o=!!e[0].forces;return{id:Le.a.create22(),frames:e,hasCell:r,hasVelocities:i,hasForces:o,deltaTime:t,timeOffset:n}},e.getAtomicConformation=function(e,t,a){var u,s,c=e.x,l=e.y,d=e.z;return e.xyzOrdering.frozen?a?e.xyzOrdering.isIdentity?(c=i(c,a),l=i(l,a),d=i(d,a)):Ve(e.xyzOrdering.index,a)||(c=r(c,e.xyzOrdering.index,a),l=r(l,e.xyzOrdering.index,a),d=r(d,e.xyzOrdering.index,a)):e.xyzOrdering.isIdentity||(c=o(c,e.xyzOrdering.index),l=o(l,e.xyzOrdering.index),d=o(d,e.xyzOrdering.index)):a&&(e.xyzOrdering.isIdentity?(e.xyzOrdering.isIdentity=!1,e.xyzOrdering.index=a,n(c,a),n(l,a),n(d,a)):Ve(e.xyzOrdering.index,a)||(c=r(c,e.xyzOrdering.index,a),l=r(l,e.xyzOrdering.index,a),d=r(d,e.xyzOrdering.index,a))),e.xyzOrdering.frozen=!0,{id:Le.a.create22(),atomId:t.atomId,occupancy:null!==(u=t.occupancy)&&void 0!==u?u:Ee.ofConst(1,e.elementCount,Ee.Schema.int),B_iso_or_equiv:null!==(s=t.B_iso_or_equiv)&&void 0!==s?s:Ee.ofConst(0,e.elementCount,Ee.Schema.float),xyzDefined:!0,x:c,y:l,z:d}};var t=[.123];function n(e,n){for(var r=t,i=0,o=e.length;i<o;i++)r[i]=e[n[i]];for(i=0,o=e.length;i<o;i++)e[i]=r[i]}function r(e,t,n){for(var r=new Float32Array(e.length),i=0,o=e.length;i<o;i++)r[i]=e[t[n[i]]];return r}function i(e,t){for(var n=new Float32Array(e.length),r=0,i=e.length;r<i;r++)n[r]=e[t[r]];return n}function o(e,t){for(var n=new Float32Array(e.length),r=0,i=e.length;r<i;r++)n[t[r]]=e[r];return n}}(gr||(gr={})),(vr||(vr={})).create=function(e,t,n,r){return{id:Le.a.create22(),label:e,basic:t,sourceData:r,bonds:n}},(Br||(Br={})).getUUID=function(e){return e.__key||(e.__key=Le.a.create22()),e.__key};var Pr=function(){function e(){this._list=[],this._set=new Set,this._refs=new Map,this._assets=new Map}return Object.defineProperty(e.prototype,"all",{get:function(){return this._list},enumerable:!1,configurable:!0}),e.prototype.add=function(e){this._set.has(e)||(this._list.push(e),this._set.add(e))},e.prototype.reference=function(e,t){var n=this._refs.get(e)||0;n+=t?1:-1,this._refs.set(e,Math.max(n,0))},e.prototype.hasReference=function(e){return(this._refs.get(e)||0)>0},e.prototype.has=function(e){return this._set.has(e)},e.prototype.assets=function(e,t){var n=this._assets.get(e);if(n)for(var r=0,i=n;r<i.length;r++){i[r].dispose()}t?this._assets.set(e,t):this._assets.delete(e)},e.prototype.dispose=function(){this._assets.forEach((function(e){for(var t=0,n=e;t<n.length;t++){n[t].dispose()}}))},e}();function Ir(e){for(var t=1/0,n=-1/0,r=0,i=e.length;r<i;++r)e[r]<t&&(t=e[r]),e[r]>n&&(n=e[r]);return[t,n]}function Er(e,t){for(var n=0,r=t?Math.min(t,e.length):e.length;n<r;++n)e[n]=n;return e}function Mr(e,t){return!(e.indexOf(t)>=0)&&(e.push(t),!0)}var kr,Dr=n(1),Or=n(8),Nr=n(9),Tr="undefined"!=typeof performance&&!!performance.mark&&performance.measure&&!Nr.a;function Rr(e){return{taskId:e.id,taskName:e.name,message:"",startedTime:0,canAbort:!0,isIndeterminate:!0,current:0,max:0}}function Ur(e,t,n){var r,i={abortRequested:!1,treeAborted:!1,reason:""};return{updateRateMs:n,lastNotified:Object(Dr.a)(),observer:t,abortToken:i,taskId:e.id,root:{progress:Rr(e),children:[]},tryAbort:(r=i,function(e){r.abortRequested=!0,r.reason=e||r.reason})}}function Lr(e){return{progress:Object(T.a)({},e.progress),children:e.children.map(Lr)}}function Gr(e){return e.progress.canAbort&&e.children.every(Gr)}function qr(e,t){return Object(T.b)(this,void 0,void 0,(function(){var n,r;return Object(T.d)(this,(function(i){switch(i.label){case 0:kr.markStart(e),t.node.progress.startedTime=Object(Dr.a)(),i.label=1;case 1:return i.trys.push([1,3,,7]),[4,e.f(t)];case 2:return n=i.sent(),kr.markEnd(e),kr.measure(e),t.info.abortToken.abortRequested&&Fr(t.info),[2,n];case 3:return r=i.sent(),Hr.isAbort(r)?(t.isAborted=!0,t.node.children.length>0?[4,new Promise((function(e){t.onChildrenFinished=e}))]:[3,5]):[3,6];case 4:i.sent(),i.label=5;case 5:e.onAbort&&e.onAbort(),i.label=6;case 6:throw r;case 7:return[2]}}))}))}function Fr(e){throw e.abortToken.treeAborted||(e.abortToken.treeAborted=!0,function e(t){var n=t.progress;n.isIndeterminate=!0,n.canAbort=!1,n.message="Aborting...";for(var r=0,i=t.children;r<i.length;r++){var o=i[r];e(o)}}(e.root),jr(e,Object(Dr.a)())),Hr.Aborted(e.abortToken.reason)}function jr(e,t){e.lastNotified=t;var n=function(e){return{root:Lr(e.root),canAbort:Gr(e.root),requestAbort:e.tryAbort}}(e);e.observer(n)}!function(e){function t(e){return"startTask".concat(e.id)}function n(e){return"endTask".concat(e.id)}e.markStart=function(e){Tr&&performance.mark(t(e))},e.markEnd=function(e){Tr&&performance.mark(n(e))},e.measure=function(e){Tr&&performance.measure("✳️ ".concat(e.name),t(e),n(e))}}(kr||(kr={}));var Hr,Vr,zr,Yr,Kr=function(){function e(e,t){this.isSynchronous=!1,this.isExecuting=!0,this.lastUpdatedTime=0,this.onChildrenFinished=void 0,this.node=t,this.info=e}return e.prototype.checkAborted=function(){this.info.abortToken.abortRequested&&(this.isAborted=!0,Fr(this.info))},Object.defineProperty(e.prototype,"shouldUpdate",{get:function(){return this.checkAborted(),Object(Dr.a)()-this.lastUpdatedTime>this.info.updateRateMs},enumerable:!1,configurable:!0}),e.prototype.updateProgress=function(e){if(this.checkAborted(),e){var t=this.node.progress;"string"==typeof e?(t.message=e,t.isIndeterminate=!0):(void 0!==e.canAbort&&(t.canAbort=e.canAbort),void 0!==e.message&&(t.message=e.message),void 0!==e.current&&(t.current=e.current),void 0!==e.max&&(t.max=e.max),t.isIndeterminate=void 0===t.current||void 0===t.max,void 0!==e.isIndeterminate&&(t.isIndeterminate=e.isIndeterminate))}},e.prototype.update=function(e,t){if(this.lastUpdatedTime=Object(Dr.a)(),this.updateProgress(e),!t)return jr(this.info,this.lastUpdatedTime),this.checkAborted(),Or.a.immediatePromise()},e.prototype.runChild=function(t,n){return Object(T.b)(this,void 0,void 0,(function(){var r,i,o,a,u,s,c;return Object(T.d)(this,(function(l){switch(l.label){case 0:this.updateProgress(n),r={progress:Rr(t),children:[]},(i=this.node.children).push(r),o=new e(this.info,r),l.label=1;case 1:return l.trys.push([1,3,4,5]),[4,qr(t,o)];case 2:return[2,l.sent()];case 3:if(a=l.sent(),Hr.isAbort(a)&&this.isAborted)return[2,void 0];throw a;case 4:if((u=i.indexOf(r))>=0){for(s=u,c=i.length-1;s<c;s++)i[s]=i[s+1];i.pop()}return 0===i.length&&this.onChildrenFinished&&this.onChildrenFinished(),[7];case 5:return[2]}}))}))},e}(),Zr=new(function(){function e(){this.shouldUpdate=!1,this.isSynchronous=!0}return e.prototype.update=function(e,t){},e}());function Wr(e,t,n,r,i){return Object(T.b)(this,void 0,void 0,(function(){var o,a,u,s,c,l,d;return Object(T.d)(this,(function(f){switch(f.label){case 0:if(o=Math.max(t,0),a=0,u=0,e.isSynchronous)return r(Number.MAX_SAFE_INTEGER,n),[2,n];s=Object(Dr.a)(),c=0,l=0,f.label=1;case 1:return(c=r(o,n))>0?(a+=c,d=Object(Dr.a)()-s,l+=d,u+=d,e.shouldUpdate?[4,i(e,n,a)]:[3,3]):[3,4];case 2:f.sent(),o=Math.round(l*a/u)+1,s=Object(Dr.a)(),l=0,f.label=3;case 3:return[3,1];case 4:return e.shouldUpdate?[4,i(e,n,a)]:[3,6];case 5:f.sent(),f.label=6;case 6:return[2,n]}}))}))}!function(e){var t=function(){function e(e,t,n){this.name=e,this.f=t,this.onAbort=n,this.id=i()}return e.prototype.run=function(e,t){return void 0===t&&(t=250),e?function(e,t,n){void 0===n&&(n=250);var r=Ur(e,t,n);return qr(e,new Kr(r,r.root))}(this,e,t):this.f(Zr)},e.prototype.runAsChild=function(e,t){return e.isSynchronous?this.f(Zr):function(e,t,n){return e.runChild(t,n)}(e,this,t)},e.prototype.runInContext=function(e){return e.isSynchronous?this.f(Zr):function(e,t){return qr(t,e)}(e,this)},e}();function n(e){var t=e;return!!e&&"number"==typeof t.id&&"string"==typeof t.name&&!!t.run}function r(e,n,r){return new t(e,n,r)}e.is=n,e.isAbort=function(e){return!!e&&!!e.isAborted},e.Aborted=function(e){return{isAborted:!0,reason:e,toString:function(){return"Aborted".concat(e?": "+e:"")}}},e.create=r,e.constant=function(e,t){var n=this;return r(e,(function(e){return Object(T.b)(n,void 0,void 0,(function(){return Object(T.d)(this,(function(e){return[2,t]}))}))}))},e.empty=function(){var e=this;return r("",(function(t){return Object(T.b)(e,void 0,void 0,(function(){return Object(T.d)(this,(function(e){return[2]}))}))}))},e.fail=function(e,t){var n=this;return r(e,(function(e){return Object(T.b)(n,void 0,void 0,(function(){return Object(T.d)(this,(function(e){throw new Error(t)}))}))}))},e.resolveInContext=function(e,t){return n(e)?t?e.runInContext(t):e.run():e};var i=qe(0,1073741823)}(Hr||(Hr={})),(Vr||(Vr={})).Synchronous=Zr,function(e){e.format=function(e){return function e(t,n){void 0===n&&(n="");var r=t.progress;if(!t.children.length)return r.isIndeterminate?"".concat(n).concat(r.taskName,": ").concat(r.message):"".concat(n).concat(r.taskName,": [").concat(r.current,"/").concat(r.max,"] ").concat(r.message);var i=n+"  |_ ",o=t.children.map((function(t){return e(t,i)}));return r.isIndeterminate?"".concat(n).concat(r.taskName,": ").concat(r.message,"\n").concat(o.join("\n")):"".concat(n).concat(r.taskName,": [").concat(r.current,"/").concat(r.max,"] ").concat(r.message,"\n").concat(o.join("\n"))}(e.root)}}(zr||(zr={})),function(e){e.areEqual=function(e,t){if(e===t)return!0;if(e.vertexCount!==t.vertexCount||e.edgeCount!==t.edgeCount)return!1;for(var n=e.a,r=e.b,i=e.offset,o=t.a,a=t.b,u=t.offset,s=0,c=e.a.length;s<c;s++)if(n[s]!==o[s])return!1;for(s=0,c=e.b.length;s<c;s++)if(r[s]!==a[s])return!1;for(s=0,c=e.offset.length;s<c;s++)if(i[s]!==u[s])return!1;for(var l=0,d=Object.keys(e.edgeProps);l<d.length;l++){var f=d[l],p=e.edgeProps[f],m=t.edgeProps[f];if(!m)return!1;for(s=0,c=p.length;s<c;s++)if(p[s]!==m[s])return!1}return!0};var t=function(){function e(e,t,n,r,i,o){this.offset=e,this.a=t,this.b=n,this.edgeCount=r,this.props=o,this.vertexCount=e.length-1,this.edgeProps=i||{}}return e.prototype.getEdgeIndex=function(e,t){var n,r;e<t?(n=e,r=t):(n=t,r=e);for(var i=this.offset[n],o=this.offset[n+1];i<o;i++)if(this.b[i]===r)return i;return-1},e.prototype.getDirectedEdgeIndex=function(e,t){for(var n=this.offset[e],r=this.offset[e+1];n<r;n++)if(this.b[n]===t)return n;return-1},e.prototype.getVertexEdgeCount=function(e){return this.offset[e+1]-this.offset[e]},e}();function n(e,n,r,i,o,a){return new t(e,n,r,i,o,a)}e.create=n;var r=function(){function e(e,t,n){this.vertexCount=e,this.xs=t,this.ys=n,this.current=0,this.curA=0,this.curB=0,this.edgeCount=t.length,this.offsets=new Int32Array(this.vertexCount+1),this.bucketFill=new Int32Array(this.vertexCount);for(var r=new Int32Array(this.vertexCount),i=0,o=this.xs.length;i<o;i++)r[this.xs[i]]++;for(i=0,o=this.ys.length;i<o;i++)r[this.ys[i]]++;var a=0;for(i=0;i<this.vertexCount;i++)this.offsets[i]=a,a+=r[i];this.offsets[this.vertexCount]=a,this.slotCount=a,this.a=new Int32Array(a),this.b=new Int32Array(a)}return e.prototype.createGraph=function(e,t){return n(this.offsets,this.a,this.b,this.edgeCount,e,t)},e.prototype.addNextEdge=function(){var e=this.xs[this.current],t=this.ys[this.current],n=this.offsets[e]+this.bucketFill[e];this.a[n]=e,this.b[n]=t,this.bucketFill[e]++;var r=this.offsets[t]+this.bucketFill[t];this.a[r]=t,this.b[r]=e,this.bucketFill[t]++,this.current++,this.curA=n,this.curB=r},e.prototype.addAllEdges=function(){for(var e=0;e<this.edgeCount;e++)this.addNextEdge()},e.prototype.assignProperty=function(e,t){e[this.curA]=t,e[this.curB]=t},e.prototype.assignDirectedProperty=function(e,t,n,r){e[this.curA]=t,e[this.curB]=r,n[this.curB]=t,n[this.curA]=r},e}();e.EdgeBuilder=r;var i=function(){function e(e,t,n){this.vertexCount=e,this.xs=t,this.ys=n,this.current=0,this.curA=0,this.edgeCount=t.length,this.offsets=new Int32Array(this.vertexCount+1),this.bucketFill=new Int32Array(this.vertexCount);for(var r=new Int32Array(this.vertexCount),i=0,o=this.xs.length;i<o;i++)r[this.xs[i]]++;var a=0;for(i=0;i<this.vertexCount;i++)this.offsets[i]=a,a+=r[i];this.offsets[this.vertexCount]=a,this.slotCount=a,this.a=new Int32Array(a),this.b=new Int32Array(a)}return e.prototype.createGraph=function(e,t){return n(this.offsets,this.a,this.b,this.edgeCount,e,t)},e.prototype.addNextEdge=function(){var e=this.xs[this.current],t=this.ys[this.current],n=this.offsets[e]+this.bucketFill[e];this.a[n]=e,this.b[n]=t,this.bucketFill[e]++,this.current++,this.curA=n},e.prototype.addAllEdges=function(){for(var e=0;e<this.edgeCount;e++)this.addNextEdge()},e.prototype.assignProperty=function(e,t){e[this.curA]=t},e}();e.DirectedEdgeBuilder=i;var o=function(){function e(e){this.vertexCount=e,this.xs=[],this.ys=[],this.included=new Set}return e.prototype.addEdge=function(e,t){var n=e,r=t;e>t&&(n=t,r=e);var i=ve(n,r);return!this.included.has(i)&&(this.included.add(i),this.xs[this.xs.length]=n,this.ys[this.ys.length]=r,!0)},e.prototype.getGraph=function(){return a(this.vertexCount,this.xs,this.ys)},e.prototype.getEdgeBuiler=function(){return new r(this.vertexCount,this.xs,this.ys)},e}();function a(t,n,r){var i=new e.EdgeBuilder(t,n,r);return i.addAllEdges(),i.createGraph({})}e.UniqueEdgeBuilder=o,e.fromVertexPairs=a,e.induceByVertices=function(e,t,r){for(var i=e.b,o=e.offset,a=e.vertexCount,u=e.edgeProps,s=new Int32Array(a),c=0,l=t.length;c<l;c++)s[t[c]]=c+1;var d=0;for(c=0;c<a;c++)if(0!==s[c])for(var f=o[c],p=o[c+1];f<p;f++)i[f]>c&&0!==s[i[f]]&&d++;var m=new Int32Array(t.length+1),h=new Int32Array(2*d),g=new Int32Array(2*d),v=new Int32Array(2*d),y=0,_=0;for(c=0;c<a;c++)if(0!==s[c]){var b=s[c]-1;for(f=o[c],p=o[c+1];f<p;f++){var x=s[i[f]];0!==x&&(g[y]=b,v[y]=x-1,h[y]=f,y++)}m[++_]=y}for(var A={},w=0,S=Object.keys(u);w<S.length;w++){var C=S[w];A[C]=et(u[C],h)}return n(m,g,v,d,A,r)},e.connectedComponents=function(e){var t=e.vertexCount;if(0===t)return{componentCount:0,componentIndex:new Int32Array(0)};if(0===e.edgeCount){for(var n=new Int32Array(t),r=0,i=t;r<i;r++)n[r]=r;return{componentCount:t,componentIndex:n}}var o=new Int32Array(t);for(r=0,i=t;r<i;r++)o[r]=-1;var a=0;o[0]=a;var u=e.offset,s=e.b,c=[0],l=new Jn(t);for(l.remove(0);c.length>0;){for(var d=c.pop(),f=o[d],p=u[d],m=u[d+1];p<m;p++){var h=s[p];l.has(h)&&(l.remove(h),c.push(h),o[h]=f)}0===c.length&&l.head>=0&&(c.push(l.head),o[l.head]=++a,l.remove(l.head))}return{componentCount:t,componentIndex:o}},e.areVertexSetsConnected=function(e,t,n,r){if(an.areIntersecting(t,n))return!0;if(r<1)return!1;for(var i=new Set,o=0,a=t.length;o<a;++o)i.add(t[o]);return function e(t,n,r,i,o){for(var a=t.b,u=t.offset,s=[],c=0,l=n.length;c<l;++c)for(var d=n[c],f=u[d],p=u[d+1];f<p;++f){var m=a[f];if(!o.has(m)){if(an.has(r,m))return!0;o.add(m),s[s.length]=m}}return i>1&&e(t,s,r,i-1,o)}(e,t,n,r,i)}}(Yr||(Yr={}));var Xr,Qr,Jr,$r,ei,ti=function(){function e(){this.map=new Map,this.applicable=new Map}return e.prototype.add=function(e,t,n){this.map.set(e,t),n&&this.applicable.set(e,n)},e.prototype.remove=function(e){this.map.delete(e),this.applicable.delete(e)},e.prototype.get=function(e){return this.map.get(e)},e.prototype.isApplicable=function(e){if(!this.map.has(e.sourceData.kind))return!1;var t=this.applicable.get(e.sourceData.kind);return!t||t(e)},e}();function ni(e,t,n,r){for(var i=new Yr.EdgeBuilder(r,e,t),o=new Int32Array(i.slotCount),a=new Array(i.slotCount),u=new Array(i.slotCount),s=new Int8Array(i.slotCount),c=new Array(i.slotCount),l=new Array(i.slotCount),d=0,f=i.edgeCount;d<f;d++)i.addNextEdge(),i.assignProperty(o,n.key?n.key[d]:-1),i.assignDirectedProperty(a,n.operatorA?n.operatorA[d]:-1,u,n.operatorB?n.operatorB[d]:-1),i.assignProperty(s,n.order?n.order[d]:1),i.assignProperty(c,n.distance?n.distance[d]:-1),i.assignProperty(l,n.flag?n.flag[d]:1);return i.createGraph({key:o,operatorA:a,operatorB:u,order:s,distance:c,flag:l})}function ri(e){var t=e.data,n=e.indices;return function(e,r){var i=n[2*e],o=n[2*r],a=n[2*e+1]-i;if(a!==n[2*r+1]-o)return!1;for(var u=0;u<a;u++)if(t.charCodeAt(u+i)!==t.charCodeAt(u+o))return!1;return!0}}function ii(e,t,n,r){return{rowCount:t,name:e,fieldNames:Object(T.e)([],n,!0),getField:function(e){return r[e]}}}function oi(e,t,n){return function(e,t,n){for(var r=Object.create(null),i=0,o=Object.keys(e);i<o.length;i++){var a=o[i];r[a]=fi(a,e[a],t,n)}return We.ofTables(t.header,e,r)}(e,t,n)}function ai(e){switch(e.valueType){case"str":return function(t,n,r){return i=e,o=t,a=t.str,u=t.toStringArray,{schema:i,__array:o.__array,isDefined:o.isDefined,rowCount:o.rowCount,value:"lowercase"===i.transform?function(e){return a(e).toLowerCase()}:"uppercase"===i.transform?function(e){return a(e).toUpperCase()}:a,valueKind:o.valueKind,areValuesEqual:o.areValuesEqual,toArray:"lowercase"===i.transform?function(e){return Array.from(u(e)).map((function(e){return e.toLowerCase()}))}:"uppercase"===i.transform?function(e){return Array.from(u(e)).map((function(e){return e.toUpperCase()}))}:u};var i,o,a,u};case"int":return function(t,n,r){return ui(e,t,t.int,t.toIntArray)};case"float":return function(t,n,r){return ui(e,t,t.float,t.toFloatArray)};case"list":throw new Error("Use createListColumn instead.");case"tensor":throw new Error("Use createTensorColumn instead.")}}function ui(e,t,n,r){return{schema:e,__array:t.__array,isDefined:t.isDefined,rowCount:t.rowCount,value:n,valueKind:t.valueKind,areValuesEqual:t.areValuesEqual,toArray:r}}function si(e,t,n){var i=e.space,o=t.fieldNames.includes("".concat(n,"[0]"))||t.fieldNames.includes("".concat(n,"[0][0]"))||t.fieldNames.includes("".concat(n,"[0][0][0]")),a=o?0:1,u=t.fieldNames.includes("".concat(n,"_1"))||t.fieldNames.includes("".concat(n,"_11"))||t.fieldNames.includes("".concat(n,"_111"))?"underscore":"brackets",s=function(e,t,n,r){var i=n?0:1;switch(t){case 1:return"brackets"===r?function(t){return"".concat(e,"[").concat(t+i,"]")}:function(t){return"".concat(e,"_").concat(t+i)};case 2:return"brackets"===r?function(t,n){return"".concat(e,"[").concat(t+i,"][").concat(n+i,"]")}:function(t,n){return"".concat(e,"_").concat(t+i).concat(n+i)};case 3:return"brackets"===r?function(t,n,r){return"".concat(e,"[").concat(t+i,"][").concat(n+i,"][").concat(r+i,"]")}:function(t,n,r){return"".concat(e,"_").concat(t+i).concat(n+i).concat(r+i)};default:throw new Error("Tensors with rank > 3 or rank 0 are currently not supported.")}}(n,i.rank,o,u),c=t.getField(s(a,a,a))||Ee.Undefined(t.rowCount,e),l=function(e){return function(e,t,n,r){var i=t.create();if(1===t.rank)for(var o=t.dimensions[0],a=0;a<o;a++){var u=e.getField(r(a));t.set(i,a,u?u.float(n):0)}else if(2===t.rank){o=t.dimensions[0];var s=t.dimensions[1];for(a=0;a<o;a++)for(var c=0;c<s;c++){u=e.getField(r(a,c));t.set(i,a,c,u?u.float(n):0)}}else{if(3!==t.rank)throw new Error("Tensors with rank > 3 or rank 0 are currently not supported.");var l=t.dimensions[0],d=t.dimensions[1],f=t.dimensions[2];for(a=0;a<l;a++)for(c=0;c<d;c++)for(var p=0;p<f;p++){u=e.getField(r(a,c,p));t.set(i,a,c,p,u?u.float(n):0)}}return i}(t,i,e,s)};return{schema:e,__array:void 0,isDefined:c.isDefined,rowCount:t.rowCount,value:l,valueKind:c.valueKind,areValuesEqual:function(e,t){return w.areEqualExact(l(e),l(t))},toArray:function(e){return r.createAndFillArray(t.rowCount,l,e)}}}!function(e){e.create=function(e,t){var n=e.name,r=new ti;return{descriptor:e,formatRegistry:r,isApplicable:function(e){return r.isApplicable(e)},get:function(i){var o=(null==t?void 0:t.asDynamic)?i._dynamicPropertyData:i._staticPropertyData;if(o[n])return o[n];if(!i.customProperties.has(e)){var a=r.get(i.sourceData.kind);if(a)return o[n]=a(i),i.customProperties.add(e),o[n]}},set:function(e,r){(null==t?void 0:t.asDynamic)?e._dynamicPropertyData[n]=r:e._staticPropertyData[n]=r},delete:function(e){(null==t?void 0:t.asDynamic)?delete e._dynamicPropertyData[n]:delete e._staticPropertyData[n]}}}}(Xr||(Xr={})),(Jr=Qr||(Qr={})).Descriptor={name:"index_pair_bonds"},Jr.Provider=Xr.create(Jr.Descriptor,{asDynamic:!0}),Jr.DefaultProps={maxDistance:-1},Jr.fromData=function(e,t){void 0===t&&(t={});var n=Object(T.a)(Object(T.a)({},Jr.DefaultProps),t),r=e.pairs,i=e.count;return{bonds:ni(r.indexA.toArray(),r.indexB.toArray(),{key:r.key&&r.key.toArray(),operatorA:r.operatorA&&r.operatorA.toArray(),operatorB:r.operatorB&&r.operatorB.toArray(),order:r.order&&r.order.toArray(),distance:r.distance&&r.distance.toArray(),flag:r.flag&&r.flag.toArray()},i),maxDistance:n.maxDistance}},Jr.getEdgeIndexForOperators=function(e,t,n,r,i){var o,a,u,s;t<n?(o=t,a=n,u=r,s=i):(o=n,a=t,u=i,s=r);for(var c=e.offset[o],l=e.offset[o+1];c<l;c++)if(e.b[c]===a&&e.edgeProps.operatorA[c]===u&&e.edgeProps.operatorB[c]===s)return c;return-1},function(e){function t(e,t){var n=Object.keys(t);return{rowCount:n.length>0?t[n[0]].rowCount:0,name:e,fieldNames:n,getField:function(e){return t[e]}}}e.empty=function(e){return{rowCount:0,name:e,fieldNames:[],getField:function(e){}}},e.ofFields=t,e.ofTable=function(e,n){for(var r={},i=0,o=n._columns;i<o.length;i++){var a=o[i];r[a]=$r.ofColumn(n[a])}return t(e,r)}}(ii||(ii={})),function(e){function t(e){var t=e.length,n=function(t){var n=e[t];return n&&"."!==n&&"?"!==n?n:""},i=function(t){var n=e[t];return Be(n,0,n.length)||0},o=function(t){var n=e[t];return Ie(n,0,n.length)||0};return{__array:void 0,binaryEncoding:void 0,isDefined:!0,rowCount:t,str:n,int:i,float:o,valueKind:function(t){var n=e[t],r=n.length;if(r>1)return 0;if(0===r)return 1;var i=n.charCodeAt(0);return 46===i?1:63===i?2:0},areValuesEqual:function(t,n){return e[t]===e[n]},toStringArray:function(i){return i?r.createAndFillArray(t,n,i):e},toIntArray:function(e){return r.createAndFillArray(t,i,e)},toFloatArray:function(e){return r.createAndFillArray(t,o,e)}}}function n(e){var t,n,i,o=e.rowCount,a=e.valueKind,u=e.areValuesEqual,s=e.isDefined;switch(e.schema.valueType){case"float":case"int":t=function(t){return""+e.value(t)},n=e.value,i=e.value;break;case"str":t=e.value,n=function(t){var n=e.value(t);return Be(n,0,n.length)||0},i=function(t){var n=e.value(t);return Ie(n,0,n.length)||0};break;case"list":var c=e.schema.separator;t=function(t){return e.value(t).join(c)},n=function(e){return NaN},i=function(e){return NaN};break;default:throw new Error("unsupported valueType '".concat(e.schema.valueType,"'"))}return{__array:void 0,binaryEncoding:void 0,isDefined:s,rowCount:o,str:t,int:n,float:i,valueKind:a,areValuesEqual:u,toStringArray:function(e){return r.createAndFillArray(o,t,e)},toIntArray:function(e){return r.createAndFillArray(o,n,e)},toFloatArray:function(e){return r.createAndFillArray(o,i,e)}}}e.ofString=function(e){return t([e])},e.ofStrings=t,e.ofNumbers=function(e){var t=e.length,n=function(t){return""+e[t]},i=function(t){return e[t]},o=function(n){return!n||n.array&&e instanceof n.array?e:r.createAndFillArray(t,i,n)};return{__array:void 0,binaryEncoding:void 0,isDefined:!0,rowCount:t,str:n,int:i,float:i,valueKind:function(e){return 0},areValuesEqual:function(t,n){return e[t]===e[n]},toStringArray:function(e){return r.createAndFillArray(t,n,e)},toIntArray:o,toFloatArray:o}},e.ofTokens=function(e){var t=e.data,n=e.indices,i=e.count,o=function(e){var r=t.substring(n[2*e],n[2*e+1]);return"."===r||"?"===r?"":r},a=function(e){return Be(t,n[2*e],n[2*e+1])||0},u=function(e){return Ie(t,n[2*e],n[2*e+1])||0};return{__array:void 0,binaryEncoding:void 0,isDefined:!0,rowCount:i,str:o,int:a,float:u,valueKind:function(e){var r=n[2*e],i=n[2*e+1]-r;if(i>1)return 0;if(0===i)return 1;var o=t.charCodeAt(r);return 46===o?1:63===o?2:0},areValuesEqual:ri(e),toStringArray:function(e){return r.createAndFillArray(i,o,e)},toIntArray:function(e){return r.createAndFillArray(i,a,e)},toFloatArray:function(e){return r.createAndFillArray(i,u,e)}}},e.ofColumn=n,e.ofUndefined=function(e,t){return n(Ee.Undefined(e,t))}}($r||($r={})),function(e){function t(e){return e.replace(".","_").replace(/\[/,"_").replace(/(\[|\])/g,"")}e.canonical=t,e.equal=function(e,n){return t(e)===t(n)},e.create=function(e,n,r){void 0===r&&(r=!1);var i="".concat(e).concat(n?".".concat(n):"");return r?t(i):i}}(ei||(ei={}));var ci,li=function(e,t,n){this._isDefined=n;var i=Object.keys(t);this._rowCount=e.rowCount,this._columns=i,this._schema=t;for(var o=Object.create(null),a=function(n){Object.defineProperty(u,n,{get:function(){if(o[n])return o[n];var i=t[n];if("list"===i.valueType)o[n]=function(e,t,n){var i=e.separator,o=e.itemParse,a=t.getField(n),u=a?function(e){return a.str(e).split(i).map((function(e){return o(e.trim())})).filter((function(e){return!!e}))}:function(e){return[]};return{schema:e,__array:void 0,isDefined:!!a,rowCount:t.rowCount,value:u,valueKind:a?a.valueKind:function(){return 1},areValuesEqual:function(e,t){return Ve(u(e),u(t))},toArray:function(e){return r.createAndFillArray(t.rowCount,u,e)}}}(i,e,n);else if("tensor"===i.valueType)o[n]=si(i,e,n);else{var a=ai(i),u=e.getField(n);o[n]=u?a(u,e,n):Ee.Undefined(e.rowCount,i)}return o[n]},enumerable:!0,configurable:!1})},u=this,s=0,c=i;s<c.length;s++)a(c[s])};function di(e,t,n,r){var i=ei.create(t,e),o=ei.canonical(i);if(o in n)return n[o];if(r&&i in r)for(var a=0,u=r[i];a<u.length;a++){var s=u[a],c=ei.canonical(s);if(c in n)return n[c]}}function fi(e,t,n,r){var i=n.categories[e];if(r){for(var o=function(e){for(var t=Object.create(null),n=0,r=Object.keys(e.categories);n<r.length;n++)for(var i=r[n],o=0,a=e.categories[i].fieldNames;o<a.length;o++){var u=a[o];t[ei.create(i,u,!0)]=e.categories[i].getField(u)}return t}(n),a=Object.create(null),u=[],s=0,c=0,l=Object.keys(t);c<l.length;c++){var d=l[c],f=di(d,e,o,r);f&&(a[d]=f,u.push(d),s=f.rowCount)}i={rowCount:s,name:e,fieldNames:Object(T.e)([],u,!0),getField:function(e){return a[e]}}}return new li(i||ii.empty(e),t,!!i)}!function(e){function t(e,t,n){return{kind:"element-location",structure:e,unit:t,element:n||0}}e.create=t,e.clone=function(e){return t(e.structure,e.unit,e.element)},e.set=function(e,t,n,r){return t&&(e.structure=t),n&&(e.unit=n),void 0!==r&&(e.element=r),e},e.copy=function(e,t){return e.unit=t.unit,e.element=t.element,e},e.is=function(e){return!!e&&"element-location"===e.kind},e.areEqual=function(e,t){return e.unit===t.unit&&e.element===t.element};var n=A(),r=A();e.distance=function(e,t){return e.unit.conformation.position(e.element,n),t.unit.conformation.position(t.element,r),A.distance(n,r)},e.position=function(e,t){return t.unit.conformation.position(t.element,e)},e.residueIndex=function(e){return e.unit.model.atomicHierarchy.residueAtomSegments.index[e.element]},e.chainIndex=function(e){return e.unit.model.atomicHierarchy.chainAtomSegments.index[e.element]}}(ci||(ci={}));var pi=function(){function e(e,t){this.getHash=e,this.areEqual=t,this.size=0,this.byHash=new Map}return e.prototype.add=function(e){var t=this.getHash(e);if(this.byHash.has(t)){for(var n=this.byHash.get(t),r=0,i=n.length;r<i;r++)if(this.areEqual(e,n[r]))return!1;return n[n.length]=e,this.size++,!0}return this.byHash.set(t,[e]),this.size++,!0},e.prototype.has=function(e){var t=this.getHash(e);if(!this.byHash.has(t))return!1;for(var n=this.byHash.get(t),r=0,i=n.length;r<i;r++)if(this.areEqual(e,n[r]))return!0;return!1},e}();function mi(e,t){return new pi(e,t)}function hi(e){return{previous:null,next:null,inList:!0,value:e}}var gi,vi,yi,_i,bi,xi;!function(){function e(){this.count=0,this.first=null,this.last=null}e.prototype.addFirst=function(e){var t=hi(e);return t.inList=!0,this.first&&(this.first.previous=t),t.next=this.first,this.first=t,this.count++,this.last||(this.last=t),t},e.prototype.addLast=function(e){var t=hi(e);return null!==this.last&&(this.last.next=t),t.previous=this.last,this.last=t,null===this.first&&(this.first=t),t.inList=!0,this.count++,t},e.prototype.removeFirst=function(){var e=this.first;if(e)return this.remove(e),e.value},e.prototype.removeLast=function(){var e=this.last;if(e)return this.remove(e),e.value},e.prototype.remove=function(e){e.inList&&(e.inList=!1,null!==e.previous?e.previous.next=e.next:null===e.previous&&(this.first=e.next),null!==e.next?e.next.previous=e.previous:null===e.next&&(this.last=e.previous),e.next=null,e.previous=null,this.count--)},e.prototype.find=function(e){for(var t=this.first;null!==t;){if(t.value===e)return t;t=t.next}}}();function Ai(e,t){var n=t||{},r=n.description,i=void 0===r?void 0:r,o=n.isOptional,a=void 0!==o&&o,u=n.isRest,s=void 0!==u&&u,c=n.defaultValue;return{type:e,isOptional:a,isRest:s,defaultValue:void 0===c?void 0:c,description:i}}function wi(e){var t=e;return"function"==typeof t&&!!t.info&&!!t.args&&"string"==typeof t.info.namespace&&!!t.type}function Si(e,t,n){return function(e,t,n,r){var i=function(e){return yi.Apply(yi.Symbol(i.id),e)};return i.info={namespace:"",name:e,description:r},i.id="",i.args=t,i.type=n,i}("",e,t,n)}function Ci(e){!function e(t,n,r){if(wi(r))return r.info.namespace=t,r.info.name=r.info.name||Pi(n),void(r.id="".concat(r.info.namespace,".").concat(r.info.name));for(var i="".concat(r["@namespace"]||Pi(n)),o=t?"".concat(t,".").concat(i):i,a=0,u=Object.keys(r);a<u.length;a++){var s=u[a];("object"==typeof r[s]||wi(r[s]))&&e(o,s,r[s])}}("","",e)}function Bi(e){var t=[];return function e(t,n){if(wi(t))return void n.push(t);for(var r=0,i=Object.keys(t);r<i.length;r++){var o=i[r];("object"==typeof t[o]||wi(t[o]))&&e(t[o],n)}}(e,t),t}function Pi(e){var t=/([a-z])([A-Z])([a-z]|$)/g;return e.replace(t,(function(e,t,n,r){return"".concat(t,"-").concat(n.toLocaleLowerCase()).concat(r)})).replace(t,(function(e,t,n,r){return"".concat(t,"-").concat(n.toLocaleLowerCase()).concat(r)}))}function Ii(e,t){return Si(_i.Dictionary({0:Ai(e)}),e,t)}function Ei(e,t){return Si(_i.List(e,{nonEmpty:!0}),e,t)}function Mi(e,t,n){return Si(_i.Dictionary({0:Ai(e),1:Ai(e)}),t,n)}!function(e){e.create=function(){return{keys:new Set,array:[]}},e.add=function(e,t,n){var r=e.keys,i=e.array;return!r.has(t)&&(r.add(t),i[i.length]=n,!0)},e.has=function(e,t){return e.keys.has(t)}}(gi||(gi={})),function(e){function t(e,t,n){return{kind:"value",namespace:e,name:t,parent:n}}function n(e,t,n,r){for(var i=Object.create(null),o=0,a=r;o<a.length;o++){i[a[o]]=!0}return{kind:"oneof",namespace:e,name:t,type:n,values:i}}e.Variable=function(e,t,n){return{kind:"variable",name:e,type:t,isConstraint:n}},e.Value=t,e.Container=function(e,t,n,r){return{kind:"container",namespace:e,name:t,child:n,alias:r}},e.Union=function(e){return{kind:"union",types:e}},e.OneOf=n,e.Any={kind:"any"},e.AnyValue={kind:"any-value"},e.Num=t("","Number"),e.Str=t("","String"),e.Bool=n("","Bool",e.Str,["true","false"]),e.oneOfValues=function(e){var t=e.values;return Object.keys(t).sort()}}(vi||(vi={})),function(e){function t(e){return!!e&&!!e.head&&"object"==typeof e}function n(e){return!!e&&"string"==typeof e.name}e.Symbol=function(e){return{name:e}},e.Apply=function(e,t){return t?{head:e,args:t}:{head:e}},e.isArgumentsArray=function(e){return!!e&&Array.isArray(e)},e.isArgumentsMap=function(e){return!!e&&!Array.isArray(e)},e.isLiteral=function(e){return!t(e)&&!n(e)},e.isApply=t,e.isSymbol=n}(yi||(yi={})),function(e){function t(e){return{kind:"dictionary",map:e,"@type":0}}e.None=t({}),e.Dictionary=t,e.List=function(e,t){var n=(t||{}).nonEmpty;return{kind:"list",type:e,nonEmpty:void 0!==n&&n,"@type":0}}}(_i||(_i={})),(xi=bi||(bi={})).AnyVar=vi.Variable("a",vi.Any),xi.AnyValueVar=vi.Variable("a",vi.Any),xi.ConstrainedVar=vi.Variable("a",vi.Any,!0),xi.Regex=vi.Value("Core","Regex"),xi.Set=function(e){return vi.Container("Core","Set",e||xi.AnyValueVar)},xi.List=function(e){return vi.Container("Core","List",e||xi.AnyVar)},xi.Fn=function(e,t){return vi.Container("Core","Fn",e||xi.AnyVar,t)},xi.Flags=function(e,t){return vi.Container("Core","Flags",e,t)},xi.BitFlags=xi.Flags(vi.Num,"BitFlags");_i.Dictionary({0:Ai(vi.Num),1:Ai(vi.Num)});var ki={"@header":"Language Primitives",type:{"@header":"Types",bool:Si(_i.Dictionary({0:Ai(vi.AnyValue)}),vi.Bool,"Convert a value to boolean."),num:Si(_i.Dictionary({0:Ai(vi.AnyValue)}),vi.Num,"Convert a value to number."),str:Si(_i.Dictionary({0:Ai(vi.AnyValue)}),vi.Str,"Convert a value to string."),regex:Si(_i.Dictionary({0:Ai(vi.Str,{description:"Expression"}),1:Ai(vi.Str,{isOptional:!0,description:"Flags, e.g. 'i' for ignore case"})}),bi.Regex,"Creates a regular expression from a string using the ECMAscript syntax."),list:Si(_i.List(bi.AnyVar),bi.List()),set:Si(_i.List(bi.AnyValueVar),bi.Set()),bitflags:Si(_i.Dictionary({0:Ai(vi.Num)}),bi.BitFlags,"Interpret a number as bitflags."),compositeKey:Si(_i.List(vi.AnyValue),vi.AnyValue)},logic:{"@header":"Logic",not:Ii(vi.Bool),and:Ei(vi.Bool),or:Ei(vi.Bool)},ctrl:{"@header":"Control",eval:Si(_i.Dictionary({0:Ai(bi.Fn(bi.AnyVar))}),bi.AnyVar,"Evaluate a function."),fn:Si(_i.Dictionary({0:Ai(bi.AnyVar)}),bi.Fn(bi.AnyVar),'Wrap an expression to a "lazy" function.'),if:Si(_i.Dictionary({0:Ai(vi.Bool,{description:"Condition"}),1:Ai(vi.Variable("a",vi.Any),{description:"If true"}),2:Ai(vi.Variable("b",vi.Any),{description:"If false"})}),vi.Union([vi.Variable("a",vi.Any),vi.Variable("b",vi.Any)])),assoc:Si(_i.Dictionary({0:Ai(vi.Str,{description:"Name"}),1:Ai(vi.Variable("a",vi.Any),{description:"Value to assign"})}),vi.Variable("a",vi.Any))},rel:{"@header":"Relational",eq:Mi(vi.Variable("a",vi.AnyValue,!0),vi.Bool),neq:Mi(vi.Variable("a",vi.AnyValue,!0),vi.Bool),lt:Mi(vi.Num,vi.Bool),lte:Mi(vi.Num,vi.Bool),gr:Mi(vi.Num,vi.Bool),gre:Mi(vi.Num,vi.Bool),inRange:Si(_i.Dictionary({0:Ai(vi.Num,{description:"Value to test"}),1:Ai(vi.Num,{description:"Minimum value"}),2:Ai(vi.Num,{description:"Maximum value"})}),vi.Bool,"Check if the value of the 1st argument is >= 2nd and <= 3rd.")},math:{"@header":"Math",add:Ei(vi.Num),sub:Ei(vi.Num),mult:Ei(vi.Num),div:Mi(vi.Num,vi.Num),pow:Mi(vi.Num,vi.Num),mod:Mi(vi.Num,vi.Num),min:Ei(vi.Num),max:Ei(vi.Num),cantorPairing:Mi(vi.Num,vi.Num),sortedCantorPairing:Mi(vi.Num,vi.Num),invertCantorPairing:Si(_i.Dictionary({0:Ai(vi.Num)}),bi.List(vi.Num)),floor:Ii(vi.Num),ceil:Ii(vi.Num),roundInt:Ii(vi.Num),trunc:Ii(vi.Num),abs:Ii(vi.Num),sign:Ii(vi.Num),sqrt:Ii(vi.Num),cbrt:Ii(vi.Num),sin:Ii(vi.Num),cos:Ii(vi.Num),tan:Ii(vi.Num),asin:Ii(vi.Num),acos:Ii(vi.Num),atan:Ii(vi.Num),sinh:Ii(vi.Num),cosh:Ii(vi.Num),tanh:Ii(vi.Num),exp:Ii(vi.Num),log:Ii(vi.Num),log10:Ii(vi.Num),atan2:Mi(vi.Num,vi.Num)},str:{"@header":"Strings",concat:Ei(vi.Str),match:Si(_i.Dictionary({0:Ai(bi.Regex),1:Ai(vi.Str)}),vi.Bool)},list:{"@header":"Lists",getAt:Si(_i.Dictionary({0:Ai(bi.List()),1:Ai(vi.Num)}),bi.AnyVar),equal:Si(_i.Dictionary({0:Ai(bi.List()),1:Ai(bi.List())}),vi.Bool)},set:{"@header":"Sets",has:Si(_i.Dictionary({0:Ai(bi.Set(bi.ConstrainedVar)),1:Ai(bi.ConstrainedVar)}),vi.Bool,"Check if the the 1st argument includes the value of the 2nd."),isSubset:Si(_i.Dictionary({0:Ai(bi.Set(bi.ConstrainedVar)),1:Ai(bi.Set(bi.ConstrainedVar))}),vi.Bool,"Check if the the 1st argument is a subset of the 2nd.")},flags:{"@header":"Flags",hasAny:Si(_i.Dictionary({0:Ai(bi.Flags(bi.ConstrainedVar)),1:Ai(bi.Flags(bi.ConstrainedVar))}),vi.Bool,"Check if the the 1st argument has at least one of the 2nd one's flags."),hasAll:Si(_i.Dictionary({0:Ai(bi.Flags(bi.ConstrainedVar)),1:Ai(bi.Flags(bi.ConstrainedVar))}),vi.Bool,"Check if the the 1st argument has all 2nd one's flags.")}};Ci(ki);var Di,Oi=Bi(ki);!function(){for(var e=Object.create(null),t=0,n=Oi;t<n.length;t++){var r=n[t];e[r.id]=r}}();function Ni(e,t){return Si(_i.Dictionary({0:Ai(Di.ElementReference,{isOptional:!0,defaultValue:"slot.current-atom"})}),e,t)}function Ti(e,t){return Si(_i.None,e,t)}!function(e){e.ElementSymbol=vi.Value("Structure","ElementSymbol"),e.AtomName=vi.Value("Structure","AtomName"),e.BondFlag=vi.OneOf("Structure","BondFlag",vi.Str,["covalent","metallic","ion","hydrogen","sulfide","computed","aromatic"]),e.BondFlags=bi.Flags(e.BondFlag,"BondFlags"),e.SecondaryStructureFlag=vi.OneOf("Structure","SecondaryStructureFlag",vi.Str,["alpha","beta","3-10","pi","sheet","strand","helix","turn","none"]),e.SecondaryStructureFlags=bi.Flags(e.SecondaryStructureFlag,"SecondaryStructureFlag"),e.RingFingerprint=vi.Value("Structure","RingFingerprint"),e.EntityType=vi.OneOf("Structure","EntityType",vi.Str,["polymer","non-polymer","water","branched"]),e.EntitySubtype=vi.OneOf("Structure","EntitySubtype",vi.Str,["other","polypeptide(D)","polypeptide(L)","polydeoxyribonucleotide","polyribonucleotide","polydeoxyribonucleotide/polyribonucleotide hybrid","cyclic-pseudo-peptide","peptide nucleic acid","oligosaccharide"]),e.ObjectPrimitive=vi.OneOf("Structure","ObjectPrimitive",vi.Str,["atomistic","sphere","gaussian","other"]),e.ResidueId=vi.Value("Structure","ResidueId"),e.ElementSet=vi.Value("Structure","ElementSet"),e.ElementSelection=vi.Value("Structure","ElementSelection"),e.ElementReference=vi.Value("Structure","ElementReference"),e.ElementSelectionQuery=bi.Fn(e.ElementSelection,"ElementSelectionQuery")}(Di||(Di={}));var Ri={core:ki,structureQuery:{"@header":"Structure Queries",type:{"@header":"Types",elementSymbol:Si(_i.Dictionary({0:Ai(vi.Str)}),Di.ElementSymbol,"Create element symbol representation from a string value."),atomName:Si(_i.Dictionary({0:Ai(vi.AnyValue)}),Di.AtomName,"Convert a value to an atom name."),entityType:Si(_i.Dictionary({0:Ai(Di.EntityType)}),Di.EntityType,"Create normalized representation of entity type: ".concat(vi.oneOfValues(Di.EntityType).join(", "),".")),bondFlags:Si(_i.List(Di.BondFlag),Di.BondFlags,"Create bond flags representation from a list of strings. Allowed flags: ".concat(vi.oneOfValues(Di.BondFlag).join(", "),".")),ringFingerprint:Si(_i.List(Di.ElementSymbol,{nonEmpty:!0}),Di.RingFingerprint,"Create ring fingerprint from the supplied atom element list."),secondaryStructureFlags:Si(_i.List(Di.SecondaryStructureFlag),Di.SecondaryStructureFlags,"Create secondary structure flags representation from a list of strings. Allowed flags: ".concat(vi.oneOfValues(Di.SecondaryStructureFlag).join(", "),".")),authResidueId:Si(_i.Dictionary({0:Ai(vi.Str,{description:"auth_asym_id"}),1:Ai(vi.Num,{description:"auth_seq_id"}),2:Ai(vi.Str,{description:"pdbx_PDB_ins_code",isOptional:!0})}),Di.ResidueId,'Residue identifier based on "auth_" annotation.'),labelResidueId:Si(_i.Dictionary({0:Ai(vi.Str,{description:"label_entity_id"}),1:Ai(vi.Str,{description:"label_asym_id"}),2:Ai(vi.Num,{description:"label_seq_id"}),3:Ai(vi.Str,{description:"pdbx_PDB_ins_code",isOptional:!0})}),Di.ResidueId,'Residue identifier based on mmCIF\'s "label_" annotation.')},slot:{"@header":"Iteration Slots",element:Si(_i.None,Di.ElementReference,"A reference to the current element."),elementSetReduce:Si(_i.None,vi.Variable("a",vi.AnyValue,!0),"Current value of the element set reducer.")},generator:{"@header":"Generators",all:Si(_i.None,Di.ElementSelectionQuery,"The entire structure."),atomGroups:Si(_i.Dictionary({"entity-test":Ai(vi.Bool,{isOptional:!0,defaultValue:!0,description:"Test for the 1st atom of every entity"}),"chain-test":Ai(vi.Bool,{isOptional:!0,defaultValue:!0,description:"Test for the 1st atom of every chain"}),"residue-test":Ai(vi.Bool,{isOptional:!0,defaultValue:!0,description:"Test for the 1st atom every residue"}),"atom-test":Ai(vi.Bool,{isOptional:!0,defaultValue:!0}),"group-by":Ai(vi.Any,{isOptional:!0,defaultValue:"atom-key",description:"Group atoms to sets based on this property. Default: each atom has its own set"})}),Di.ElementSelectionQuery,"Return all atoms for which the tests are satisfied, grouped into sets."),bondedAtomicPairs:Si(_i.Dictionary({0:Ai(vi.Bool,{isOptional:!0,defaultValue:"true for covalent bonds",description:"Test each bond with this predicate. Each bond is visited twice with swapped atom order."})}),Di.ElementSelectionQuery,"Return all pairs of atoms for which the test is satisfied."),rings:Si(_i.Dictionary({fingerprint:Ai(Di.RingFingerprint,{isOptional:!0}),"only-aromatic":Ai(vi.Bool,{isOptional:!0,defaultValue:!1})}),Di.ElementSelectionQuery,"Return all rings or those with the specified fingerprint and/or only aromatic rings."),queryInSelection:Si(_i.Dictionary({0:Ai(Di.ElementSelectionQuery),query:Ai(Di.ElementSelectionQuery),"in-complement":Ai(vi.Bool,{isOptional:!0,defaultValue:!1})}),Di.ElementSelectionQuery,"Executes query only on atoms that are in the source selection."),empty:Si(_i.None,Di.ElementSelectionQuery,"Nada.")},modifier:{"@header":"Selection Modifications",queryEach:Si(_i.Dictionary({0:Ai(Di.ElementSelectionQuery),query:Ai(Di.ElementSelectionQuery)}),Di.ElementSelectionQuery,"Query every atom set in the input selection separately."),intersectBy:Si(_i.Dictionary({0:Ai(Di.ElementSelectionQuery),by:Ai(Di.ElementSelectionQuery)}),Di.ElementSelectionQuery,"Intersect each atom set from the first sequence from atoms in the second one."),exceptBy:Si(_i.Dictionary({0:Ai(Di.ElementSelectionQuery),by:Ai(Di.ElementSelectionQuery)}),Di.ElementSelectionQuery,"Remove all atoms from 'selection' that occur in 'by'."),unionBy:Si(_i.Dictionary({0:Ai(Di.ElementSelectionQuery),by:Ai(Di.ElementSelectionQuery)}),Di.ElementSelectionQuery,"For each atom set A in the orginal sequence, combine all atoms sets in the target selection that intersect with A."),union:Si(_i.Dictionary({0:Ai(Di.ElementSelectionQuery)}),Di.ElementSelectionQuery,"Collects all atom sets in the sequence into a single atom set."),cluster:Si(_i.Dictionary({0:Ai(Di.ElementSelectionQuery),"min-distance":Ai(vi.Num,{isOptional:!0,defaultValue:0}),"max-distance":Ai(vi.Num),"min-size":Ai(vi.Num,{description:"Minimal number of sets to merge, must be at least 2",isOptional:!0,defaultValue:2}),"max-size":Ai(vi.Num,{description:"Maximal number of sets to merge, if not set, no limit",isOptional:!0})}),Di.ElementSelectionQuery,"Combines atom sets that have mutual distance in the interval [min-radius, max-radius]. Minimum/maximum size determines how many atom sets can be combined."),includeSurroundings:Si(_i.Dictionary({0:Ai(Di.ElementSelectionQuery),radius:Ai(vi.Num),"atom-radius":Ai(vi.Num,{isOptional:!0,defaultValue:0,description:"Value added to each atom before the distance check, for example VDW radius. Using this argument is computationally demanding."}),"as-whole-residues":Ai(vi.Bool,{isOptional:!0})}),Di.ElementSelectionQuery,"For each atom set in the selection, include all surrouding atoms/residues that are within the specified radius."),surroundingLigands:Si(_i.Dictionary({0:Ai(Di.ElementSelectionQuery),radius:Ai(vi.Num),"include-water":Ai(vi.Bool,{isOptional:!0,defaultValue:!0})}),Di.ElementSelectionQuery,"Find all ligands components around the source query."),includeConnected:Si(_i.Dictionary({0:Ai(Di.ElementSelectionQuery),"bond-test":Ai(vi.Bool,{isOptional:!0,defaultValue:"true for covalent bonds"}),"layer-count":Ai(vi.Num,{isOptional:!0,defaultValue:1,description:"Number of bonded layers to include."}),"fixed-point":Ai(vi.Bool,{isOptional:!0,defaultValue:!1,description:"Continue adding layers as long as new connections exist."}),"as-whole-residues":Ai(vi.Bool,{isOptional:!0})}),Di.ElementSelectionQuery,"Pick all atom sets that are connected to the target."),wholeResidues:Si(_i.Dictionary({0:Ai(Di.ElementSelectionQuery)}),Di.ElementSelectionQuery,"Expand the selection to whole residues."),expandProperty:Si(_i.Dictionary({0:Ai(Di.ElementSelectionQuery),property:Ai(vi.AnyValue)}),Di.ElementSelectionQuery,"To each atom set in the selection, add all atoms that have the same property value that was already present in the set.")},filter:{"@header":"Selection Filters",pick:Si(_i.Dictionary({0:Ai(Di.ElementSelectionQuery),test:Ai(vi.Bool)}),Di.ElementSelectionQuery,"Pick all atom sets that satisfy the test."),first:Si(_i.Dictionary({0:Ai(Di.ElementSelectionQuery)}),Di.ElementSelectionQuery,"Take the 1st atom set in the sequence."),withSameAtomProperties:Si(_i.Dictionary({0:Ai(Di.ElementSelectionQuery),source:Ai(Di.ElementSelectionQuery),property:Ai(vi.Any)}),Di.ElementSelectionQuery,"Pick all atom sets for which the set of given atom properties is a subset of the source properties."),intersectedBy:Si(_i.Dictionary({0:Ai(Di.ElementSelectionQuery),by:Ai(Di.ElementSelectionQuery)}),Di.ElementSelectionQuery,"Pick all atom sets that have non-zero intersection with the target."),within:Si(_i.Dictionary({0:Ai(Di.ElementSelectionQuery),target:Ai(Di.ElementSelectionQuery),"min-radius":Ai(vi.Num,{isOptional:!0,defaultValue:0}),"max-radius":Ai(vi.Num),"atom-radius":Ai(vi.Num,{isOptional:!0,defaultValue:0,description:"Value added to each atom before the distance check, for example VDW radius. Using this argument is computationally demanding."}),invert:Ai(vi.Bool,{isOptional:!0,defaultValue:!1,description:"If true, pick only atom sets that are further than the specified radius."})}),Di.ElementSelectionQuery,"Pick all atom sets from selection that have any atom within the radius of any atom from target."),isConnectedTo:Si(_i.Dictionary({0:Ai(Di.ElementSelectionQuery),target:Ai(Di.ElementSelectionQuery),"bond-test":Ai(vi.Bool,{isOptional:!0,defaultValue:"true for covalent bonds"}),disjunct:Ai(vi.Bool,{isOptional:!0,defaultValue:!0,description:"If true, there must exist a bond to an atom that lies outside the given atom set to pass test."}),invert:Ai(vi.Bool,{isOptional:!0,defaultValue:!1,description:"If true, return atom sets that are not connected."})}),Di.ElementSelectionQuery,"Pick all atom sets that are connected to the target.")},combinator:{"@header":"Selection Combinators",intersect:Si(_i.List(Di.ElementSelectionQuery),Di.ElementSelectionQuery,"Return all unique atom sets that appear in all of the source selections."),merge:Si(_i.List(Di.ElementSelectionQuery),Di.ElementSelectionQuery,"Merges multiple selections into a single one. Only unique atom sets are kept."),distanceCluster:Si(_i.Dictionary({matrix:Ai(bi.List(bi.List(vi.Num)),{description:"Distance matrix, represented as list of rows (num[][])). Lower triangle is min distance, upper triangle is max distance."}),selections:Ai(bi.List(Di.ElementSelectionQuery),{description:"A list of held selections."})}),Di.ElementSelectionQuery,"Pick combinations of atom sets from the source sequences that are mutually within distances specified by a matrix.")},atomSet:{"@header":"Atom Sets",atomCount:Si(_i.None,vi.Num),countQuery:Si(_i.Dictionary({0:Ai(Di.ElementSelectionQuery)}),vi.Num,"Counts the number of occurences of a specific query inside the current atom set."),reduce:Si(_i.Dictionary({initial:Ai(vi.Variable("a",vi.AnyValue,!0),{description:"Initial value assigned to slot.atom-set-reduce. Current atom is set to the 1st atom of the current set for this."}),value:Ai(vi.Variable("a",vi.AnyValue,!0),{description:"Expression executed for each atom in the set"})}),vi.Variable("a",vi.AnyValue,!0),"Execute the value expression for each atom in the current atom set and return the result. Works the same way as Array.reduce in JavaScript (``result = value(value(...value(initial)))``)"),propertySet:Si(_i.Dictionary({0:Ai(bi.ConstrainedVar)}),bi.Set(bi.ConstrainedVar),"Returns a set with all values of the given property in the current atom set.")},atomProperty:{"@header":"Atom Properties",core:{"@header":"Core Properties",elementSymbol:Ni(Di.ElementSymbol),vdw:Ni(vi.Num,"Van der Waals radius"),mass:Ni(vi.Num,"Atomic weight"),atomicNumber:Ni(vi.Num,"Atomic number"),x:Ni(vi.Num,"Cartesian X coordinate"),y:Ni(vi.Num,"Cartesian Y coordinate"),z:Ni(vi.Num,"Cartesian Z coordinate"),atomKey:Ni(vi.AnyValue,"Unique value for each atom. Main use case is grouping of atoms."),bondCount:Si(_i.Dictionary({0:Ai(Di.ElementReference,{isOptional:!0,defaultValue:"slot.current-atom"}),flags:Ai(Di.BondFlags,{isOptional:!0,defaultValue:"covalent"})}),vi.Num,"Number of bonds (by default only covalent bonds are counted)."),sourceIndex:Ni(vi.Num,"Index of the atom/element in the input file."),operatorName:Ni(vi.Str,"Name of the symmetry operator applied to this element."),operatorKey:Ni(vi.Num,"Key of the symmetry operator applied to this element."),modelIndex:Ni(vi.Num,"Index of the model in the input file."),modelLabel:Ni(vi.Str,"Label/header of the model in the input file.")},topology:{connectedComponentKey:Ni(vi.AnyValue,"Unique value for each connected component.")},macromolecular:{"@header":"Macromolecular Properties (derived from the mmCIF format)",authResidueId:Ni(Di.ResidueId,"type.auth-residue-id symbol executed on current atom's residue"),labelResidueId:Ni(Di.ResidueId,"type.label-residue-id symbol executed on current atom's residue"),residueKey:Ni(vi.AnyValue,"Unique value for each tuple ``(label_entity_id,auth_asym_id, auth_seq_id, pdbx_PDB_ins_code)``, main use case is grouping of atoms"),chainKey:Ni(vi.AnyValue,"Unique value for each tuple ``(label_entity_id, auth_asym_id)``, main use case is grouping of atoms"),entityKey:Ni(vi.AnyValue,"Unique value for each tuple ``label_entity_id``, main use case is grouping of atoms"),isHet:Ni(vi.Bool,"Equivalent to atom_site.group_PDB !== ATOM"),id:Ni(vi.Num,"_atom_site.id"),label_atom_id:Ni(Di.AtomName),label_alt_id:Ni(vi.Str),label_comp_id:Ni(vi.Str),label_asym_id:Ni(vi.Str),label_entity_id:Ni(vi.Str),label_seq_id:Ni(vi.Num),auth_atom_id:Ni(Di.AtomName),auth_comp_id:Ni(vi.Str),auth_asym_id:Ni(vi.Str),auth_seq_id:Ni(vi.Num),pdbx_PDB_ins_code:Ni(vi.Str),pdbx_formal_charge:Ni(vi.Num),occupancy:Ni(vi.Num),B_iso_or_equiv:Ni(vi.Num),entityType:Ni(Di.EntityType,"Type of the entity as defined in mmCIF (polymer, non-polymer, branched, water)"),entitySubtype:Ni(Di.EntitySubtype,"Subtype of the entity as defined in mmCIF _entity_poly.type and _pdbx_entity_branch.type (other, polypeptide(D), polypeptide(L), polydeoxyribonucleotide, polyribonucleotide, polydeoxyribonucleotide/polyribonucleotide hybrid, cyclic-pseudo-peptide, peptide nucleic acid, oligosaccharide)"),entityPrdId:Ni(vi.Str,"The PRD ID of the entity."),entityDescription:Ni(bi.List(vi.Str)),objectPrimitive:Ni(Di.ObjectPrimitive,"Type of the primitive object used to model this segment as defined in mmCIF/IHM (atomistic, sphere, gaussian, other)"),secondaryStructureKey:Ni(vi.AnyValue,"Unique value for each secondary structure element."),secondaryStructureFlags:Ni(Di.SecondaryStructureFlags),isModified:Ni(vi.Bool,"True if the atom belongs to modification of a standard residue."),modifiedParentName:Ni(vi.Str,"'3-letter' code of the modifed parent residue."),isNonStandard:Ni(vi.Bool,"True if this is a non-standard residue."),chemCompType:Ni(vi.Str,"Type of the chemical component as defined in mmCIF.")}},bondProperty:{"@header":"Bond Properties",flags:Ti(Di.BondFlags),order:Ti(vi.Num),key:Ti(vi.Num),length:Ti(vi.Num),atomA:Ti(Di.ElementReference),atomB:Ti(Di.ElementReference)}},internal:{"@header":"Internal Queries",generator:{"@header":"Generators",bundleElement:Si(_i.Dictionary({groupedUnits:Ai(vi.Any),set:Ai(vi.Any),ranges:Ai(vi.Any)}),vi.Any),bundle:Si(_i.Dictionary({elements:Ai(vi.Any)}),Di.ElementSelectionQuery,"A selection with single structure containing represented by the bundle."),current:Si(_i.None,Di.ElementSelectionQuery,"Current selection provided by the query context. Avoid using this in State Transforms.")}}};Ci(Ri);var Ui,Li=Bi(Ri);!function(){for(var e=Object.create(null),t=0,n=Li;t<n.length;t++){var r=n[t];e[r.id]=r}}();function Gi(){return Gi.zero()}function qi(){return qi.zero()}function Fi(e){return e}function ji(e,t,n,r){return{label:e,description:n,list:r,type:t}}!function(e){e.core=Ri.core,e.struct=Ri.structureQuery,e.internal=Ri.internal,e.atomName=function(t){return e.struct.type.atomName([t])},e.es=function(t){return e.struct.type.elementSymbol([t])},e.list=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.core.type.list(t)},e.set=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.core.type.set(t)},e.re=function(t,n){return e.core.type.regex([t,n])},e.fn=function(t){return e.core.ctrl.fn([t])},e.evaluate=function(t){return e.core.ctrl.eval([t])};var t=e.struct.atomProperty.core,n=e.struct.atomProperty.macromolecular,r=e.struct.atomProperty.topology;function i(e){return t[e]()}function o(e){return r[e]()}function a(e){return n[e]()}e.acp=i,e.atp=o,e.ammp=a;var u=e.struct.atomSet.propertySet;e.acpSet=function(e){return u([i(e)])},e.atpSet=function(e){return u([o(e)])},e.ammpSet=function(e){return u([a(e)])}}(Ui||(Ui={})),function(e){function t(){var e=[.1,0,0];return e[0]=0,e}function n(e,t){var n=t[0],r=t[1],i=t[2],o=Math.sqrt(r*r+i*i),a=(B(Math.atan2(i,r))+360)%360;return 0===Math.round(1e4*o)&&(a=Number.NaN),e[0]=a,e[1]=o,e[2]=n,e}function r(e,t,n){return e[0]=t[0]-a*n,e[1]=t[1],e[2]=t[2],e}e.zero=t,e.create=function(e,n,r){var i=t();return i[0]=e,i[1]=n,i[2]=r,i},e.fromColor=function(e,t){var n=Fi.toRgb(t),r=function(e,t,n){e=m(e),t=m(t),n=m(n);var r=h((.4124564*e+.3575761*t+.1804375*n)/u),i=h((.2126729*e+.7151522*t+.072175*n)/s),o=h((.0193339*e+.119192*t+.9503041*n)/c);return[r,i,o]}(n[0],n[1],n[2]),i=r[0],o=r[1],a=r[2],l=116*o-16;return e[0]=l<0?0:l,e[1]=500*(i-o),e[2]=200*(o-a),e},e.fromHcl=function(e,t){return qi.toLab(e,t)},e.toColor=function(e){var t=(e[0]+16)/116,n=isNaN(e[1])?t:t+e[1]/500,r=isNaN(e[2])?t:t-e[2]/200;t=s*p(t);var i=f(3.2404542*(n=u*p(n))-1.5371385*t-.4985314*(r=c*p(r))),o=f(-.969266*n+1.8760108*t+.041556*r),a=f(.0556434*n-.2040259*t+1.0572252*r);return Fi.fromRgb(Math.round(v(i,0,255)),Math.round(v(o,0,255)),Math.round(v(a,0,255)))},e.toHcl=n,e.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},e.darken=r,e.lighten=function(e,t,n){return r(e,t,-n)};var i=[0,0,0];function o(e,t,r){return n(i,t),qi.toLab(e,qi.saturate(i,i,r))}e.saturate=o,e.desaturate=function(e,t,n){return o(e,t,-n)};var a=18,u=.95047,s=1,c=1.08883,l=.137931034,d=.12841855;function f(e){return 255*(e<=.00304?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function p(e){return e>.206896552?e*e*e:d*(e-l)}function m(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function h(e){return e>.008856452?Math.pow(e,1/3):e/d+l}}(Gi||(Gi={})),function(e){function t(){var e=[.1,0,0];return e[0]=0,e}e.zero=t,e.create=function(e,n,r){var i=t();return i[0]=e,i[1]=n,i[2]=r,i};var n=[0,0,0];e.fromColor=function(e,t){return Gi.toHcl(e,Gi.fromColor(n,t))},e.fromLab=function(e,t){return Gi.toHcl(e,t)};var r=[0,0,0];function i(e,t){var n=t[0],r=t[1],i=t[2];return isNaN(n)&&(n=0),n=C(n),e[0]=i,e[1]=Math.cos(n)*r,e[2]=Math.sin(n)*r,e}function o(e,t,n){return e[0]=t[0],e[1]=Math.max(0,t[1]+s*n),e[2]=t[2],e}e.toColor=function(e){return Gi.toColor(i(r,e))},e.toLab=i,e.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},e.saturate=o,e.desaturate=function(e,t,n){return o(e,t,-n)};var a=[0,0,0];function u(e,t,n){return i(a,t),Gi.toHcl(e,Gi.darken(a,a,n))}e.darken=u,e.lighten=function(e,t,n){return u(e,t,-n)};var s=18}(qi||(qi={})),function(e){function t(e,t,n){return e<<16|t<<8|n}function n(e,t,n){return 255*e<<16|255*t<<8|255*n}e.toStyle=function(e){return"rgb(".concat(e>>16&255,", ").concat(e>>8&255,", ").concat(255&e,")")},e.toHexStyle=function(e){return"#"+("000000"+e.toString(16)).slice(-6)},e.toHexString=function(e){return"0x"+("000000"+e.toString(16)).slice(-6)},e.toRgbString=function(t){return"RGB: ".concat(e.toRgb(t).join(", "))},e.toRgb=function(e){return[e>>16&255,e>>8&255,255&e]},e.toRgbNormalized=function(e){return[(e>>16&255)/255,(e>>8&255)/255,(255&e)/255]},e.fromHexStyle=function(e){return parseInt(e.replace("#","0x"))},e.fromHexString=function(e){return parseInt(e)},e.fromRgb=t,e.fromNormalizedRgb=n,e.fromArray=function(e,n){return t(e[n],e[n+1],e[n+2])},e.fromNormalizedArray=function(e,t){return n(e[t],e[t+1],e[t+2])},e.toArray=function(e,t,n){return t[n]=e>>16&255,t[n+1]=e>>8&255,t[n+2]=255&e,t},e.toArrayNormalized=function(e,t,n){return t[n]=(e>>16&255)/255,t[n+1]=(e>>8&255)/255,t[n+2]=(255&e)/255,t},e.toVec3=function(e,t){return e[0]=t>>16&255,e[1]=t>>8&255,e[2]=255&t,e},e.toVec3Normalized=function(e,t){return e[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(255&t)/255,e},e.interpolate=function(e,t,n){var r=e>>16&255,i=e>>8&255,o=255&e;return r+((t>>16&255)-r)*n<<16|i+((t>>8&255)-i)*n<<8|o+((255&t)-o)*n};var r=[0,0,0];function i(e,t){return qi.fromColor(r,e),qi.toColor(qi.saturate(r,r,t))}e.saturate=i,e.desaturate=function(e,t){return i(e,-t)};var o=[0,0,0];function a(e,t){return Gi.fromColor(o,e),Gi.toColor(Gi.darken(o,o,t))}function u(e){return e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)}function s(e){return.2126*u((e>>16&255)/255)+.7152*u((e>>8&255)/255)+.0722*u((255&e)/255)}function c(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}function l(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}e.darken=a,e.lighten=function(e,t){return a(e,-t)},e.luminance=s,e.contrast=function(e,t){var n=s(e),r=s(t);return n>r?(n+.05)/(r+.05):(r+.05)/(n+.05)},e.sRGBToLinear=function(e){return n(c((e>>16&255)/255),c((e>>8&255)/255),c((255&e)/255))},e.linearToSRGB=function(e){return n(l((e>>16&255)/255),l((e>>8&255)/255),l((255&e)/255))}}(Fi||(Fi={}));function Hi(e,t){return void 0===t&&(t=" "),e.replace(/([a-z\xE0-\xFF])([A-Z\xC0\xDF])/g,"$1".concat(t,"$2"))}var Vi=function(e){return e.toUpperCase()};function zi(e){return e.toLowerCase().replace(/^\w|\s\w/g,Vi)}function Yi(e){return e.replace(/_/g," ")}function Ki(e){return e.replace(/-/g," ")}function Zi(e){return zi(Hi(Yi(Ki(e))))}var Wi={"orange-red":ji("Orange-Red","sequential","Orange-Red, sequential color scheme from ColorBrewer 2.0",[16775148,16705736,16635038,16628612,16551257,15689032,14102559,11730944,8323072]),"purple-blue":ji("Purple-Blue","sequential","Purple-Blue, sequential color scheme from ColorBrewer 2.0",[16775163,15525874,13685222,10927579,7645647,3576e3,356528,285325,145496]),"blue-purple":ji("Blue-Purple","sequential","Blue-Purple, sequential color scheme from ColorBrewer 2.0",[16252157,14740724,12571622,10403034,9213638,9202609,8929693,8458108,5046347]),oranges:ji("Oranges","sequential","",[16774635,16705230,16634018,16625259,16616764,15821075,14239745,10892803,8333060]),"blue-green":ji("Blue-Green","sequential","",[16252157,15070713,13429990,10082505,6734500,4304502,2329413,27948,17435]),"yellow-orange-brown":ji("Yellow-Orange-Brown","sequential","",[16777189,16775100,16704401,16696399,16685353,15495188,13388802,10040324,6694150]),"yellow-green":ji("Yellow-Green","sequential","",[16777189,16252089,14282915,11394446,7915129,4303709,2327619,26679,17705]),reds:ji("Reds","sequential","",[16774640,16703698,16563105,16552562,16476746,15678252,13309981,10817301,6750221]),"red-purple":ji("Red-Purple","sequential","",[16775155,16638173,16565696,16424885,16214177,14496919,11403646,7995767,4784234]),greens:ji("Greens","sequential","",[16252149,15070688,13101504,10607003,7652470,4303709,2329413,27948,17435]),"yellow-green-blue":ji("Yellow-Green-Blue","sequential","",[16777177,15595697,13101492,8375739,4306628,1937856,2252456,2438292,531800]),purples:ji("Purples","sequential","",[16579581,15724021,14342891,12369372,10394312,8420794,6967715,5515151,4128893]),"green-blue":ji("Green-Blue","sequential","",[16252144,14742491,13429701,11066805,8113348,5157843,2854078,551084,540801]),greys:ji("Greys","sequential","",[16777215,15790320,14277081,12434877,9868950,7566195,5395026,2434341,0]),"yellow-orange-red":ji("Yellow-Orange-Red","sequential","",[16777164,16772512,16701814,16691788,16616764,16535082,14883356,12386342,8388646]),"purple-red":ji("Purple-Red","sequential","",[16250105,15196655,13941210,13210823,14640560,15149450,13505110,9961539,6750239]),blues:ji("Blues","sequential","",[16251903,14609399,13032431,10406625,7057110,4362950,2191797,545180,536683]),"purple-blue-green":ji("Purple-Blue-Green","sequential","",[16775163,15524592,13685222,10927579,6793679,3576e3,164234,93273,83510]),spectral:ji("Spectral","diverging","",[10355010,13975119,16018755,16625249,16703627,16777151,15136152,11263396,6734501,3311805,6180770]),"red-yellow-green":ji("Red-Yellow-Green","diverging","",[10813478,14102567,16018755,16625249,16703627,16777151,14282635,10934634,6733155,1742928,26679]),"red-blue":ji("Red-Blue","diverging","",[6750239,11671595,14049357,16033154,16636871,16250871,13755888,9618910,4428739,2188972,340065]),"pink-yellow-green":ji("Pink-Yellow-Green","diverging","",[9306450,12917629,14579630,15840986,16638191,16250871,15136208,12116358,8371265,5083681,2581529]),"purple-green":ji("Purple-Green","diverging","",[4194379,7744131,10055851,12756431,15193320,16250871,14282963,10935200,5942881,1800247,17435]),"red-yellow-blue":ji("Red-Yellow-Blue","diverging","Red-Yellow-Blue, diverging color scheme from ColorBrewer 2.0",[10813478,14102567,16018755,16625249,16703632,16777151,14742520,11262441,7646673,4552116,3225237]),"brown-white-green":ji("Brown-White-Green","diverging","",[5517317,9195786,12550445,14664317,16181443,16119285,13101797,8441281,3512207,91742,15408]),"red-grey":ji("Red-Grey","diverging","",[6750239,11671595,14049357,16033154,16636871,16777215,14737632,12237498,8882055,5066061,1710618]),"orange-purple":ji("Orange-Purple","diverging","",[8338184,11753478,14713364,16627811,16703670,16250871,14211819,11709394,8418220,5515144,2949195]),"set-2":ji("Set-2","qualitative","",[6734501,16551266,9281739,15174339,10934356,16767279,15058068,11776947]),accent:ji("Accent","qualitative","",[8374655,12496596,16629894,16777113,3697840,15729279,12540695,6710886]),"set-1":ji("Set-1","qualitative","",[14948892,3636920,5091146,9981603,16744192,16777011,10901032,16220607,10066329]),"set-3":ji("Set-3","qualitative","",[9294791,16777139,12499674,16482418,8434131,16626786,11787881,16567781,14277081,12353725,13429701,16772463]),"dark-2":ji("Dark-2","qualitative","",[1810039,14245634,7696563,15149450,6727198,15117058,10909213,6710886]),paired:ji("Paired","qualitative","",[10931939,2062516,11722634,3383340,16489113,14883356,16629615,16744192,13284054,6962586,16777113,11622696]),"pastel-2":ji("Pastel-2","qualitative","",[11789005,16633260,13358568,16042724,15136201,16773806,15852236,13421772]),"pastel-1":ji("Pastel-1","qualitative","",[16495790,11783651,13429701,14601188,16701862,16777164,15063229,16636652,15921906]),"many-distinct":ji("Many-Distinct","qualitative","",[1810039,14245634,7696563,15149450,6727198,15117058,10909213,6710886,14948892,3636920,5091146,9981603,16744192,16777011,10901032,16220607,10066329,6734501,16551266,9281739,15174339,10934356,16767279,15058068,11776947]),magma:ji("Magma","sequential","Perceptually uniform shades of black-red-white",[4329332,4853881,5378684,5903742,6363263,6888576,7413633,7938689,8463745,8988801,9513600,10038655,10563454,11088508,11613562,12138360,12728949,13254258,13714030,14239338,14699366,15094114,15489119,15753309,16017499,16216411,16350045,16483424,16551523,16619368,16621934,16689780,16692091,16694402,16696969,16633746,16636058,16638371,16575148,16577461,16514239]),inferno:ji("Inferno","sequential","Perceptually uniform shades of black-red-yellow",[4721514,5246316,5771373,6296430,6821486,7346542,7871597,8396651,8921450,9446504,9971557,10496610,10956127,11481435,12006486,12466258,12926285,13386056,13780802,14241085,14570295,14965297,15229227,15558693,15757342,15956248,16154897,16288267,16421638,16489734,16492043,16494612,16496926,16368426,16305463,16111429,15982678,15853928,15856253,16119953,16580260]),plasma:ji("Plasma","sequential","Perceptually uniform shades of blue-red-yellow",[1771148,2426257,3081365,3671193,4195228,4784799,5308834,5833124,6357158,6815911,7340200,7864744,8324007,8783782,9309348,9769377,10164126,10624154,11018902,11413393,11808141,12137352,12466307,12795519,13124730,13453685,13717361,14046573,14309992,14573668,14837344,15035483,15299159,15497299,15695438,15893834,16091974,16224833,16357693,16425017,16557877,16625457,16627245,16629289,16631334,16567845,16438820,16310052,16115494,15921190,15726625]),viridis:ji("Viridis","sequential","Perceptually uniform shades of blue-green-yellow",[4524123,4656994,4658793,4726127,4727668,4663929,4599933,4535937,4406404,4276870,4081800,3952010,3822475,3627148,3497356,3302029,3172237,3042446,2912654,2782862,2652814,2523022,2393229,2328973,2198924,2069132,2004874,2005897,2007175,2139525,2337154,2666111,3060348,3520376,4045684,4570991,5227369,5883748,6605661,7392854,8180303,8967495,9819967,10672695,11525166,12443174,13295646,14148121,15000344,15852828,16639780]),cividis:ji("Cividis","sequential","Perceptually uniform shades of blue-green-yellow, should look effectively identical to colorblind and non-colorblind users",[11367,12400,537456,1455727,2046574,2571629,3031404,3425388,3754092,4148075,4476779,4805227,5133932,5396844,5725549,5988462,6317166,6580079,6843249,7171698,7434867,7697781,7960951,8289656,8618104,8881272,9209976,9538679,9867127,10195830,10524533,10853235,11181938,11510640,11839343,12168045,12497002,12891240,13219941,13548642,13943134,14271834,14666326,14995025,15389516,15718470,16112703,16507190,16639799]),twilight:ji("Twilight","sequential","Perceptually uniform shades of white-blue-black-red-white, cyclic",[14670305,14211037,13554648,12766675,11847630,10993866,10139847,9351365,8628419,8036290,7509952,7048895,6718653,6519739,6386105,6252470,6184114,6181293,6112935,6044831,5976470,5777291,5447293,5052270,4592479,4067665,3674181,3281211,3150646,3543352,4067644,4657728,5379141,6166345,6953549,7741007,8463184,9120336,9777743,10304079,10830671,11291984,11687762,12083541,12348505,12613471,12878439,13077872,13211771,13411209,13545111,13809830,14074293,14338756,14537169,14735067,14801121]),turbo:ji("Turbo","sequential","Improved (smooth) rainbow colormap for visualization",[4866485,4872413,4354034,3770361,3120629,2667241,2475736,2611140,3073454,3928216,5109892,6487408,8126047,9829201,11531332,13167162,14605618,15780908,16693543,16753699,16748063,16741916,16146200,15026195,13644558,12198408,10818563,9833728]),rainbow:ji("Rainbow","sequential","",[3367393,3516485,16383744,15501073,12526114]),"red-white-blue":ji("Red-White-Blue","diverging","",[12526114,16777215,3367393])},Xi=Object.keys(Wi).map((function(e){return[e,Wi[e].label,zi(Wi[e].type)]}));Xi.filter((function(e){return"diverging"===Wi[e[0]].type||"sequential"===Wi[e[0]].type})),Xi.filter((function(e){return"qualitative"===Wi[e[0]].type}));function Qi(e){return e in Wi?Wi[e]:(console.warn("unknown color list named '".concat(e,"'")),Wi["red-yellow-blue"])}var Ji,$i={domain:[0,1],reverse:!1,listOrName:"red-yellow-blue",minLabel:"",maxLabel:""};(Ji||(Ji={})).create=function(e){var t=Object(T.a)(Object(T.a)({},$i),e),n=t.domain,r=t.reverse,i=t.listOrName,o="string"==typeof i?Qi(i).list:i,a=r?o.slice().reverse():o,u=a.length-1,s=0,c=0,l=0;function d(e,t){s=(l=t)-(c=e)||1}d(n[0],n[1]);var f,p=Ke(e.minLabel,c.toString()),m=Ke(e.maxLabel,l.toString());if(a.every((function(e){return Array.isArray(e)}))){var h=Object(T.e)([],a,!0);h.sort((function(e,t){return e[1]-t[1]}));var g=h.map((function(e){return e[0]})),y=an.ofSortedArray(h.map((function(e){return e[1]}))),_=g.length-1;f=function(e){var t=v((e-c)/s,0,1),n=an.findPredecessorIndex(y,t);if(0===n)return g[c];if(n>_)return g[_];var r=y[n-1],i=v((t-r)/(y[n]-r),0,1);return Fi.interpolate(g[n-1],g[n],i)}}else f=function(e){var t=Math.min(a.length-1,Math.max(0,(e-c)/s*u)),n=Math.floor(t),r=a[n],i=a[Math.ceil(t)];return Fi.interpolate(r,i,t-n)};return{color:f,colorToArray:function(e,t,n){Fi.toArray(f(e),t,n)},normalizedColorToArray:function(e,t,n){Fi.toArrayNormalized(f(e),t,n)},setDomain:d,get legend(){return function(e,t,n){return{kind:"scale-legend",minLabel:e,maxLabel:t,colors:n}}(p,m,a)}}};var eo,to,no,ro=new Set(["145","147","149","289","291","293","445","475","491","510","604","045","05L","07E","07Y","08U","09X","0AT","0BD","0H0","0HX","0LP","0MK","0NZ","0TS","0UB","0V4","0WK","0XY","0YT","10M","12E","14T","15L","16F","16G","16O","17T","18D","18O","18T","1AR","1BW","1CF","1FT","1GL","1GN","1JB","1LL","1NA","1S3","1S4","1SD","1X4","20S","20X","22O","22S","23V","24S","25E","26M","26O","26Q","26R","26V","26W","26Y","27C","2DG","2DR","2F8","2FG","2FL","2FP","2GL","2GS","2H5","2HA","2M4","2M5","2M8","2OS","2WP","2WS","32O","34V","38J","3BU","3CM","3DO","3DY","3FM","3GR","3HD","3J3","3J4","3LJ","3LR","3MF","3MG","3MK","3R3","3S6","3SA","3YW","40J","42D","44S","46D","46M","46Z","48Z","49A","49S","49T","49V","4AM","4CQ","4GC","4GL","4GP","4JA","4N2","4NN","4QY","4R1","4RS","4SG","4U0","4U1","4U2","4UZ","4V5","50A","51N","56N","57S","5DI","5GF","5GO","5II","5KQ","5KS","5KT","5KV","5L2","5L3","5LS","5LT","5MM","5N6","5QP","5RP","5SA","5SP","5TH","5TJ","5TK","5TM","61J","62I","64K","66O","6BG","6C2","6DM","6GB","6GP","6GR","6K3","6KH","6KL","6KS","6KU","6KW","6LA","6LS","6LW","6MJ","6MN","6PG","6PY","6PZ","6S2","6SA","6UD","6Y6","6YR","6ZC","73E","79J","7CV","7D1","7GP","7JZ","7K2","7K3","7NU","7SA","83Y","89Y","8B7","8B9","8EX","8GA","8GG","8GP","8I4","8LM","8LR","8OQ","8PK","8S0","8YV","95Z","96O","98U","9AM","9C1","9CD","9GP","9KJ","9MR","9OK","9PG","9QG","9QZ","9S7","9SG","9SJ","9SM","9SP","9T1","9T7","9VP","9WJ","9WN","9WZ","9YW","A0K","A1Q","A2G","A5C","A6P","AAL","AAO","ABC","ABD","ABE","ABF","ABL","AC1","ACG","ACR","ACX","ADA","ADG","ADR","AF1","AFD","AFL","AFO","AFP","AFR","AGC","AGH","AGL","AGR","AH2","AH8","AHG","AHM","AHR","AIG","ALL","ALX","AMG","AMN","AMU","AMV","ANA","AOG","AOS","AQA","ARA","ARB","ARE","ARI","ARW","ASC","ASG","ASO","AXP","AXR","AY9","AZC","B0D","B16","B1H","B1N","B2G","B4G","B6D","B7G","B8D","B9D","BBK","BBV","BCD","BCW","BDF","BDG","BDP","BDR","BDZ","BEM","BFN","BFP","BG6","BG8","BGC","BGL","BGN","BGP","BGS","BHG","BM3","BM7","BMA","BMX","BND","BNG","BNX","BO1","BOG","BQY","BRI","BS7","BTG","BTU","BW3","BWG","BXF","BXP","BXX","BXY","BZD","C3B","C3G","C3X","C4B","C4W","C4X","C5X","CAP","CBF","CBI","CBK","CDR","CE5","CE6","CE8","CEG","CEX","CEY","CEZ","CGF","CJB","CKB","CKP","CNP","CR1","CR6","CRA","CT3","CTO","CTR","CTT","D0N","D1M","D5E","D6G","DAF","DAG","DAN","DDA","DDB","DDL","DEG","DEL","DFR","DFX","DG0","DGC","DGD","DGM","DGO","DGS","DGU","DIG","DJB","DJE","DK4","DKX","DKZ","DL6","DLD","DLF","DLG","DMU","DNO","DO8","DOM","DP5","DPC","DQQ","DQR","DR2","DR3","DR4","DR5","DRI","DSR","DT6","DVC","DYM","E3M","E4P","E5G","EAG","EBG","EBQ","EEN","EEQ","EGA","EJT","EMP","EMZ","EPG","EQP","EQV","ERE","ERI","ETT","EUS","F1P","F1X","F55","F58","F6P","F8X","FBP","FCA","FCB","FCT","FDP","FDQ","FFC","FFX","FIF","FIX","FK9","FKD","FMF","FMO","FNG","FNY","FRU","FSA","FSI","FSM","FSR","FSW","FU4","FUB","FUC","FUD","FUF","FUL","FUY","FVQ","FX1","FYJ","G0S","G16","G1P","G20","G28","G2F","G3F","G3I","G4D","G4S","G6D","G6P","G6S","G7P","G8Z","GAA","GAC","GAD","GAF","GAL","GAT","GBH","GC1","GC4","GC9","GCB","GCD","GCN","GCO","GCS","GCT","GCU","GCV","GCW","GDA","GDL","GE1","GE3","GFP","GIV","GL0","GL1","GL2","GL4","GL5","GL6","GL7","GL9","GLA","GLB","GLC","GLD","GLF","GLG","GLO","GLP","GLS","GLT","GLW","GM0","GMB","GMH","GMT","GMZ","GN1","GN4","GNS","GNX","GP0","GP1","GP4","GPH","GPK","GPM","GPO","GPQ","GPU","GPV","GPW","GQ1","GRF","GRX","GS1","GS4","GS9","GSA","GSD","GTE","GTH","GTK","GTM","GTR","GU0","GU1","GU2","GU3","GU4","GU5","GU6","GU8","GU9","GUF","GUL","GUP","GUZ","GXL","GXV","GYE","GYG","GYP","GYU","GYV","GZL","H1M","H1S","H2P","H3S","H53","H6Q","H6Z","HBZ","HD4","HDL","HMS","HNV","HNW","HSG","HSH","HSJ","HSQ","HSR","HSU","HSX","HSY","HSZ","HTG","HTM","HVC","I57","IAB","IDC","IDF","IDG","IDR","IDS","IDT","IDU","IDX","IDY","IEM","IN1","IPT","ISD","ISL","ISX","IVG","IXD","J5B","JFZ","JHM","JLT","JRV","JS2","JSV","JV4","JVA","JVS","JZR","K5B","K99","KBA","KBG","KD5","KDA","KDB","KDD","KDE","KDF","KDM","KDN","KDO","KDR","KFN","KG1","KGM","KHP","KME","KO1","KO2","KOT","KQC","KTU","L1L","L6N","L6S","L6T","LAG","LAH","LAI","LAK","LAO","LAT","LB2","LBS","LBT","LCN","LDY","LEC","LER","LFC","LFR","LGC","LGU","LKA","LKS","LM2","LMO","LMT","LMU","LNV","LOG","LOX","LPK","LRH","LSM","LTG","LTM","LVO","LVZ","LXB","LXC","LXZ","LZ0","M1F","M1P","M2F","M3M","M3N","M55","M6D","M6P","M7B","M7P","M8C","MA1","MA2","MA3","MA8","MAB","MAF","MAG","MAL","MAN","MAT","MAV","MAW","MBE","MBF","MBG","MCU","MDA","MDP","MFA","MFB","MFU","MG5","MGA","MGC","MGL","MGS","MJJ","MLB","MLR","MMA","MMN","MN0","MNA","MQG","MQT","MRH","MRP","MSX","MTT","MUB","MUG","MUR","MVP","MXY","MXZ","MYG","N1L","N3U","N9S","NA1","NAA","NAG","NBG","NBX","NBY","NDG","NED","NFG","NG1","NG6","NGA","NGB","NGC","NGE","NGF","NGK","NGL","NGR","NGS","NGY","NGZ","NHF","NLC","NM6","NM9","NNG","NPF","NSQ","NT1","NTF","NTO","NTP","NXD","NYT","O1G","OAK","OEL","OI7","OPM","ORP","OSU","OTG","OTN","OTU","OX2","P53","P6P","P8E","PA1","PA5","PAV","PDX","PH5","PKM","PNA","PNG","PNJ","PNW","PPC","PRP","PSG","PSJ","PSV","PTQ","PUF","PZU","QDK","QIF","QKH","QPS","QV4","R1P","R1X","R2B","R2G","R5P","RAA","RAE","RAF","RAM","RAO","RAT","RB5","RBL","RCD","RDP","REL","RER","RF5","RG1","RGG","RHA","RHC","RI2","RIB","RIP","RM4","RNS","RNT","ROB","ROR","RP3","RP5","RP6","RPA","RR7","RRJ","RRY","RST","RTG","RTV","RUB","RUG","RUU","RV7","RVG","RVM","RWI","RY7","RZM","S6P","S7P","S81","SA0","SCG","SCR","SDD","SDY","SEJ","SF6","SF9","SFJ","SFU","SG4","SG5","SG6","SG7","SGA","SGC","SGD","SGN","SGS","SHB","SHD","SHG","SI3","SIA","SID","SIO","SIZ","SLB","SLM","SLT","SMD","SN5","SNG","SOE","SOG","SOL","SOR","SR1","SSG","SSH","STW","STZ","SUC","SUP","SUS","SWE","SZZ","T68","T6D","T6P","T6T","TA6","TAG","TCB","TCG","TDG","TEU","TF0","TFU","TGA","TGK","TGR","TGY","TH1","TM5","TM6","TM9","TMR","TMX","TNX","TOA","TOC","TQY","TRE","TRV","TS8","TT7","TTV","TTZ","TU4","TUG","TUJ","TUP","TUR","TVD","TVG","TVM","TVS","TVV","TVY","TW7","TWA","TWD","TWG","TWJ","TWY","TXB","TYV","U1Y","U2A","U2D","U63","U8V","U97","U9A","U9D","U9G","U9J","U9M","UAP","UBH","UBO","UCD","UDC","UEA","V3M","V3P","V71","VG1","VJ1","VJ4","VKN","VTB","W9T","WIA","WOO","WUN","WZ1","WZ2","WZ4","X0X","X1P","X1X","X2F","X2Y","X34","X4S","X5S","X6X","X6Y","XBP","XDP","XDX","XGP","XIL","XKJ","XLF","XLS","XMM","XS2","XUL","XXM","XXR","XXX","XY6","XY9","XYB","XYF","XYL","XYP","XYS","XYT","XYZ","YDR","YIO","YJM","YKR","YO5","YX0","YX1","YYB","YYH","YYJ","YYK","YYM","YYQ","YYR","YZ0","YZT","Z0F","Z15","Z16","Z2D","Z2T","Z3K","Z3L","Z3Q","Z3U","Z4K","Z4R","Z4S","Z4U","Z4V","Z4W","Z4Y","Z57","Z5J","Z5L","Z61","Z6G","Z6H","Z6J","Z6W","Z8H","Z8T","Z9D","Z9E","Z9H","Z9K","Z9L","Z9M","Z9N","Z9W","ZB0","ZB1","ZB2","ZB3","ZCD","ZCZ","ZD0","ZDC","ZDM","ZDO","ZEE","ZEL","ZGE","ZMR","UMQ","SQD"]);!function(e){e[e.FilledSphere=0]="FilledSphere",e[e.FilledCube=1]="FilledCube",e[e.CrossedCube=2]="CrossedCube",e[e.DividedDiamond=3]="DividedDiamond",e[e.FilledCone=4]="FilledCone",e[e.DevidedCone=5]="DevidedCone",e[e.FlatBox=6]="FlatBox",e[e.FilledStar=7]="FilledStar",e[e.FilledDiamond=8]="FilledDiamond",e[e.FlatDiamond=9]="FlatDiamond",e[e.FlatHexagon=10]="FlatHexagon",e[e.Pentagon=11]="Pentagon",e[e.DiamondPrism=12]="DiamondPrism",e[e.PentagonalPrism=13]="PentagonalPrism",e[e.HexagonalPrism=14]="HexagonalPrism",e[e.HeptagonalPrism=15]="HeptagonalPrism"}(no||(no={}));var io,oo={Blue:37052,Green:42577,Yellow:16765952,Orange:16021792,Pink:16162465,Purple:10830745,LightBlue:9424105,Brown:10582605,Red:15539236,Secondary:15854817};!function(e){e[e.Hexose=0]="Hexose",e[e.HexNAc=1]="HexNAc",e[e.Hexosamine=2]="Hexosamine",e[e.Hexuronate=3]="Hexuronate",e[e.Deoxyhexose=4]="Deoxyhexose",e[e.DeoxyhexNAc=5]="DeoxyhexNAc",e[e.DiDeoxyhexose=6]="DiDeoxyhexose",e[e.Pentose=7]="Pentose",e[e.Deoxynonulosonate=8]="Deoxynonulosonate",e[e.DiDeoxynonulosonate=9]="DiDeoxynonulosonate",e[e.Unknown=10]="Unknown",e[e.Assigned=11]="Assigned"}(io||(io={}));(eo={})[io.Hexose]="Hexose",eo[io.HexNAc]="HexNAc",eo[io.Hexosamine]="Hexosamine",eo[io.Hexuronate]="Hexuronate",eo[io.Deoxyhexose]="Deoxyhexose",eo[io.DeoxyhexNAc]="DeoxyhexNAc",eo[io.DiDeoxyhexose]="Di-deoxyhexose",eo[io.Pentose]="Pentose",eo[io.Deoxynonulosonate]="Deoxynonulosonate",eo[io.DiDeoxynonulosonate]="Di-deoxynonulosonate",eo[io.Unknown]="Unknown",eo[io.Assigned]="Assigned";(to={})[io.Hexose]=no.FilledSphere,to[io.HexNAc]=no.FilledCube,to[io.Hexosamine]=no.CrossedCube,to[io.Hexuronate]=no.DividedDiamond,to[io.Deoxyhexose]=no.FilledCone,to[io.DeoxyhexNAc]=no.DevidedCone,to[io.DiDeoxyhexose]=no.FlatBox,to[io.Pentose]=no.FilledStar,to[io.Deoxynonulosonate]=no.FilledDiamond,to[io.DiDeoxynonulosonate]=no.FlatDiamond,to[io.Unknown]=no.FlatHexagon,to[io.Assigned]=no.Pentagon;var ao={abbr:"Unk",name:"Unknown",color:oo.Secondary,type:io.Unknown},uo=[{abbr:"Glc",name:"Glucose",color:oo.Blue,type:io.Hexose},{abbr:"Man",name:"Mannose",color:oo.Green,type:io.Hexose},{abbr:"Gal",name:"Galactose",color:oo.Yellow,type:io.Hexose},{abbr:"Gul",name:"Gulose",color:oo.Orange,type:io.Hexose},{abbr:"Alt",name:"Altrose",color:oo.Pink,type:io.Hexose},{abbr:"All",name:"Allose",color:oo.Purple,type:io.Hexose},{abbr:"Tal",name:"Talose",color:oo.LightBlue,type:io.Hexose},{abbr:"Ido",name:"Idose",color:oo.Brown,type:io.Hexose},{abbr:"GlcNAc",name:"N-Acetyl Glucosamine",color:oo.Blue,type:io.HexNAc},{abbr:"ManNAc",name:"N-Acetyl Mannosamine",color:oo.Green,type:io.HexNAc},{abbr:"GalNAc",name:"N-Acetyl Galactosamine",color:oo.Yellow,type:io.HexNAc},{abbr:"GulNAc",name:"N-Acetyl Gulosamine",color:oo.Orange,type:io.HexNAc},{abbr:"AltNAc",name:"N-Acetyl Altrosamine",color:oo.Pink,type:io.HexNAc},{abbr:"AllNAc",name:"N-Acetyl Allosamine",color:oo.Purple,type:io.HexNAc},{abbr:"TalNAc",name:"N-Acetyl Talosamine",color:oo.LightBlue,type:io.HexNAc},{abbr:"IdoNAc",name:"N-Acetyl Idosamine",color:oo.Brown,type:io.HexNAc},{abbr:"GlcN",name:"Glucosamine",color:oo.Blue,type:io.Hexosamine},{abbr:"ManN",name:"Mannosamine",color:oo.Green,type:io.Hexosamine},{abbr:"GalN",name:"Galactosamine",color:oo.Yellow,type:io.Hexosamine},{abbr:"GulN",name:"Gulosamine",color:oo.Orange,type:io.Hexosamine},{abbr:"AltN",name:"Altrosamine",color:oo.Pink,type:io.Hexosamine},{abbr:"AllN",name:"Allosamine",color:oo.Purple,type:io.Hexosamine},{abbr:"TalN",name:"Talosamine",color:oo.LightBlue,type:io.Hexosamine},{abbr:"IdoN",name:"Idosamine",color:oo.Brown,type:io.Hexosamine},{abbr:"GlcA",name:"Glucuronic Acid",color:oo.Blue,type:io.Hexuronate},{abbr:"ManA",name:"Mannuronic Acid",color:oo.Green,type:io.Hexuronate},{abbr:"GalA",name:"Galacturonic Acid",color:oo.Yellow,type:io.Hexuronate},{abbr:"GulA",name:"Guluronic Acid",color:oo.Orange,type:io.Hexuronate},{abbr:"AltA",name:"Altruronic Acid",color:oo.Pink,type:io.Hexuronate},{abbr:"AllA",name:"Alluronic Acid",color:oo.Purple,type:io.Hexuronate},{abbr:"TalA",name:"Taluronic Acid",color:oo.LightBlue,type:io.Hexuronate},{abbr:"IdoA",name:"Iduronic Acid",color:oo.Brown,type:io.Hexuronate},{abbr:"Qui",name:"Quinovose",color:oo.Blue,type:io.Deoxyhexose},{abbr:"Rha",name:"Rhamnose",color:oo.Green,type:io.Deoxyhexose},{abbr:"6dGul",name:"6-Deoxy Gulose",color:oo.Orange,type:io.Deoxyhexose},{abbr:"6dAlt",name:"6-Deoxy Altrose",color:oo.Pink,type:io.Deoxyhexose},{abbr:"6dTal",name:"6-Deoxy Talose",color:oo.LightBlue,type:io.Deoxyhexose},{abbr:"Fuc",name:"Fucose",color:oo.Red,type:io.Deoxyhexose},{abbr:"QuiNAc",name:"N-Acetyl Quinovosamine",color:oo.Blue,type:io.DeoxyhexNAc},{abbr:"RhaNAc",name:"N-Acetyl Rhamnosamine",color:oo.Green,type:io.DeoxyhexNAc},{abbr:"6dAltNAc",name:"N-Acetyl 6-Deoxy Altrosamine",color:oo.Pink,type:io.DeoxyhexNAc},{abbr:"6dTalNAc",name:"N-Acetyl 6-Deoxy Talosamine",color:oo.LightBlue,type:io.DeoxyhexNAc},{abbr:"FucNAc",name:"N-Acetyl Fucosamine",color:oo.Red,type:io.DeoxyhexNAc},{abbr:"Oli",name:"Olivose",color:oo.Blue,type:io.DiDeoxyhexose},{abbr:"Tyv",name:"Tyvelose",color:oo.Green,type:io.DiDeoxyhexose},{abbr:"Abe",name:"Abequose",color:oo.Orange,type:io.DiDeoxyhexose},{abbr:"Par",name:"Paratose",color:oo.Pink,type:io.DiDeoxyhexose},{abbr:"Dig",name:"Digitoxose",color:oo.Purple,type:io.DiDeoxyhexose},{abbr:"Col",name:"Colitose",color:oo.LightBlue,type:io.DiDeoxyhexose},{abbr:"Ara",name:"Arabinose",color:oo.Green,type:io.Pentose},{abbr:"Lyx",name:"Lyxose",color:oo.Yellow,type:io.Pentose},{abbr:"Xyl",name:"Xylose",color:oo.Orange,type:io.Pentose},{abbr:"Rib",name:"Ribose",color:oo.Pink,type:io.Pentose},{abbr:"Kdn",name:"Keto-Deoxy Nonulonic Acid",color:oo.Green,type:io.Deoxynonulosonate},{abbr:"Neu5Ac",name:"N-Acetyl Neuraminic Acid",color:oo.Purple,type:io.Deoxynonulosonate},{abbr:"Neu5Gc",name:"N-Glycolyl Neuraminic Acid",color:oo.LightBlue,type:io.Deoxynonulosonate},{abbr:"Neu",name:"Neuraminic Acid",color:oo.Brown,type:io.Deoxynonulosonate},{abbr:"Sia",name:"Sialic acid",color:oo.Red,type:io.Deoxynonulosonate},{abbr:"Pse",name:"Pseudaminic Acid",color:oo.Green,type:io.DiDeoxynonulosonate},{abbr:"Leg",name:"Legionaminic Acid",color:oo.Yellow,type:io.DiDeoxynonulosonate},{abbr:"Aci",name:"Acinetaminic Acid",color:oo.Pink,type:io.DiDeoxynonulosonate},{abbr:"4eLeg",name:"4-Epilegionaminic Acid",color:oo.LightBlue,type:io.DiDeoxynonulosonate},{abbr:"Bac",name:"Bacillosamine",color:oo.Blue,type:io.Unknown},{abbr:"LDmanHep",name:"L-Glycero-D-Manno Heptose",color:oo.Green,type:io.Unknown},{abbr:"Kdo",name:"Keto-Deoxy Octulonic Acid",color:oo.Yellow,type:io.Unknown},{abbr:"Dha",name:"3-Deoxy Lyxo-Heptulosaric Acid",color:oo.Orange,type:io.Unknown},{abbr:"DDmanHep",name:"D-Glycero-D-Manno-Heptose",color:oo.Pink,type:io.Unknown},{abbr:"MurNAc",name:"N-Acetyl Muramic Acid",color:oo.Purple,type:io.Unknown},{abbr:"MurNGc",name:"N-Glycolyl Muramic Acid",color:oo.LightBlue,type:io.Unknown},{abbr:"Mur",name:"Muramic Acid",color:oo.Brown,type:io.Unknown},{abbr:"Api",name:"Apicose",color:oo.Green,type:io.Assigned},{abbr:"Fru",name:"Fructose",color:oo.Green,type:io.Assigned},{abbr:"Tag",name:"Tagatose",color:oo.Yellow,type:io.Assigned},{abbr:"Sor",name:"Sorbose",color:oo.Orange,type:io.Assigned},{abbr:"Psi",name:"Psicose",color:oo.Pink,type:io.Assigned}],so=function(){for(var e=new Map,t=0,n=uo.length;t<n;++t){var r=uo[t];e.set(r.abbr,r)}return e}(),co={Glc:["GLC","BGC","Z8T","TRE","MLR"],Man:["MAN","BMA"],Gal:["GLA","GAL","GZL","GXL","GIV"],Gul:["4GL","GL0","GUP","Z8H"],Alt:["Z6H","3MK","SHD"],All:["AFD","ALL","WOO","Z2D"],Tal:["ZEE","A5C","SDY"],Ido:["ZCD","Z0F","4N2"],GlcNAc:["NDG","NAG","NGZ"],ManNAc:["BM3","BM7"],GalNAc:["A2G","NGA","YYQ"],GulNAc:["LXB"],AltNAc:[],AllNAc:["NAA"],TalNAc:[],IdoNAc:["LXZ","HSQ"],GlcN:["PA1","GCS"],ManN:["95Z"],GalN:["X6X","1GN"],GulN:[],AltN:[],AllN:[],TalN:[],IdoN:[],GlcA:["GCU","BDP"],ManA:["MAV","BEM"],GalA:["ADA","GTR","GTK"],GulA:["LGU"],AltA:[],AllA:[],TalA:["X1X","X0X"],IdoA:["IDR"],Qui:["G6D","YYK"],Rha:["RAM","RM4","XXR"],"6dGul":["66O"],"6dAlt":[],"6dTal":[],Fuc:["FUC","FUL","FCA","FCB","GYE"],QuiNAc:["Z9W"],RhaNAc:[],"6dAltNAc":[],"6dTalNAc":[],FucNAc:["49T"],Oli:["DDA","RAE","Z5J"],Tyv:["TYV"],Abe:["ABE"],Par:["PZU"],Dig:["Z3U"],Col:[],Ara:["64K","ARA","ARB","AHR","FUB","BXY","BXX","SEJ"],Lyx:["LDY","Z4W"],Xyl:["XYS","XYP","XYZ","HSY","LXC"],Rib:["YYM","RIP","RIB","BDR","0MK","Z6J","32O"],Kdn:["KDM","KDN"],Neu5Ac:["SIA","SLB"],Neu5Gc:["NGC","NGE"],Neu:[],Sia:[],Pse:[],Leg:[],Aci:[],"4eLeg":[],Bac:[],LDmanHep:["GMH"],Kdo:["KDO"],Dha:[],DDmanHep:["289"],MurNAc:["MUB","AMU"],MurNGc:[],Mur:["1S4","MUR"],Api:["XXM"],Fru:["BDF","Z9N","FRU","LFR"],Tag:["T6T"],Sor:["SOE","UEA"],Psi:["PSV","SF6","SF9","TTV"]},lo={Glc:["AGLC","BGLC"],GlcNAc:["AGLCNA","BGLCNA","BGLCN0"],GlcA:["AGLCA","BGLCA","BGLCA0"],Man:["AMAN","BMAN"],Rha:["ARHM","BRHM"],Ara:["AARB","BARB"],Gal:["AGAL","BGAL"],GalNAc:["AGALNA","BGALNA"],Gul:["AGUL","BGUL"],Alt:["AALT","BALT"],All:["AALL","BALL"],Tal:["ATAL","BTAL"],Ido:["AIDO","BIDO"],IdoA:["AIDOA","BIDOA"],Fuc:["AFUC","BFUC"],Lyx:["ALYF","BLYF"],Xyl:["AXYL","BXYL","AXYF","BXYF"],Rib:["ARIB","BRIB"],Fru:["AFRU","BFRU"],Neu5Ac:["ANE5AC","BNE5AC"]},fo={Glc:["0GA","0GB","1GA","1GB","2GA","2GB","3GA","3GB","4GA","4GB","6GA","6GB","ZGA","ZGB","YGA","YGB","XGA","XGB","WGA","WGB","VGA","VGB","UGA","UGB","TGA","TGB","SGA","SGB","RGA","RGB","QGA","QGB","PGA","PGB","0gA","0gB","1gA","1gB","2gA","2gB","3gA","3gB","4gA","4gB","6gA","6gB","ZgA","ZgB","YgA","YgB","XgA","XgB","WgA","WgB","VgA","VgB","UgA","UgB","TgA","TgB","SgA","SgB","RgA","RgB","QgA","QgB","PgA","PgB"],GlcNAc:["0YA","0YB","1YA","1YB","3YA","3YB","4YA","4YB","6YA","6YB","WYA","WYB","VYA","VYB","UYA","UYB","QYA","QYB","0yA","0yB","1yA","1yB","3yA","3yB","4yA","4yB","6yA","6yB","WyA","WyB","VyA","VyB","UyA","UyB","QyA","QyB","0YS","0Ys","3YS","3Ys","4YS","4Ys","6YS","6Ys","QYS","QYs","UYS","UYs","VYS","VYs","WYS","WYs","0yS","0ys","3yS","3ys","4yS","4ys"],GlcA:["0ZA","0ZB","1ZA","1ZB","2ZA","2ZB","3ZA","3ZB","4ZA","4ZB","ZZA","ZZB","YZA","YZB","WZA","WZB","TZA","TZB","0zA","0zB","1zA","1zB","2zA","2zB","3zA","3zB","4zA","4zB","ZzA","ZzB","YzA","YzB","WzA","WzB","TzA","TzB","0ZBP"],GlcN:["0YN","3YN","4YN","6YN","WYN","VYN","UYN","QYN","3Yn","4Yn","WYn","0Yn","0YP","3YP","4YP","6YP","WYP","VYP","UYP","QYP","0Yp","3Yp","4Yp","WYp"],Man:["0MA","0MB","1MA","1MB","2MA","2MB","3MA","3MB","4MA","4MB","6MA","6MB","ZMA","ZMB","YMA","YMB","XMA","XMB","WMA","WMB","VMA","VMB","UMA","UMB","TMA","TMB","SMA","SMB","RMA","RMB","QMA","QMB","PMA","PMB","0mA","0mB","1mA","1mB","2mA","2mB","3mA","3mB","4mA","4mB","6mA","6mB","ZmA","ZmB","YmA","YmB","XmA","XmB","WmA","WmB","VmA","VmB","UmA","UmB","TmA","TmB","SmA","SmB","RmA","RmB","QmA","QmB","PmA","PmB"],ManNAc:["0WA","0WB","1WA","1WB","3WA","3WB","4WA","4WB","6WA","6WB","WWA","WWB","VWA","VWB","UWA","UWB","QWA","QWB","0wA","0wB","1wA","1wB","3wA","3wB","4wA","4wB","6wA","6wB","WwA","WwB","VwA","VwB","UwA","UwB","QwA","QwB"],Ara:["0AA","0AB","1AA","1AB","2AA","2AB","3AA","3AB","4AA","4AB","ZAA","ZAB","YAA","YAB","WAA","WAB","TAA","TAB","0AD","0AU","1AD","1AU","2AD","2AU","3AD","3AU","5AD","5AU","ZAD","ZAU","0aA","0aB","1aA","1aB","2aA","2aB","3aA","3aB","4aA","4aB","ZaA","ZaB","YaA","YaB","WaA","WaB","TaA","TaB","0aD","0aU","1aD","1aU","2aD","2aU","3aD","3aU","5aD","5aU","ZaD","ZaU"],Gal:["0LA","0LB","1LA","1LB","2LA","2LB","3LA","3LB","4LA","4LB","6LA","6LB","ZLA","ZLB","YLA","YLB","XLA","XLB","WLA","WLB","VLA","VLB","ULA","ULB","TLA","TLB","SLA","SLB","RLA","RLB","QLA","QLB","PLA","PLB","0lA","0lB","1lA","1lB","2lA","2lB","3lA","3lB","4lA","4lB","6lA","6lB","ZlA","ZlB","YlA","YlB","XlA","XlB","WlA","WlB","VlA","VlB","UlA","UlB","TlA","TlB","SlA","SlB","RlA","RlB","QlA","QlB","PlA","PlB"],GalNAc:["0VA","0VB","1VA","1VB","3VA","3VB","4VA","4VB","6VA","6VB","WVA","WVB","VVA","VVB","UVA","UVB","QVA","QVB","0vA","0vB","1vA","1vB","3vA","3vB","4vA","4vB","6vA","6vB","WvA","WvB","VvA","VvB","UvA","UvB","QvA","QvB"],GalA:["0OA","0OB","1OA","1OB","2OA","2OB","3OA","3OB","4OA","4OB","ZOA","ZOB","YOA","YOB","WOA","WOB","TOA","TOB","0oA","0oB","1oA","1oB","2oA","2oB","3oA","3oB","4oA","4oB","ZoA","ZoB","YoA","YoB","WoA","WoB","ToA","ToB"],Gul:["0KA","0KB","1KA","1KB","2KA","2KB","3KA","3KB","4KA","4KB","6KA","6KB","ZKA","ZKB","YKA","YKB","XKA","XKB","WKA","WKB","VKA","VKB","UKA","UKB","TKA","TKB","SKA","SKB","RKA","RKB","QKA","QKB","PKA","PKB","0kA","0kB","1kA","1kB","2kA","2kB","3kA","3kB","4kA","4kB","6kA","6kB","ZkA","ZkB","YkA","YkB","XkA","XkB","WkA","WkB","VkA","VkB","UkA","UkB","TkA","TkB","SkA","SkB","RkA","RkB","QkA","QkB","PkA","PkB"],Alt:["0EA","0EB","1EA","1EB","2EA","2EB","3EA","3EB","4EA","4EB","6EA","6EB","ZEA","ZEB","YEA","YEB","XEA","XEB","WEA","WEB","VEA","VEB","UEA","UEB","TEA","TEB","SEA","SEB","REA","REB","QEA","QEB","PEA","PEB","0eA","0eB","1eA","1eB","2eA","2eB","3eA","3eB","4eA","4eB","6eA","6eB","ZeA","ZeB","YeA","YeB","XeA","XeB","WeA","WeB","VeA","VeB","UeA","UeB","TeA","TeB","SeA","SeB","ReA","ReB","QeA","QeB","PeA","PeB"],All:["0NA","0NB","1NA","1NB","2NA","2NB","3NA","3NB","4NA","4NB","6NA","6NB","ZNA","ZNB","YNA","YNB","XNA","XNB","WNA","WNB","VNA","VNB","UNA","UNB","TNA","TNB","SNA","SNB","RNA","RNB","QNA","QNB","PNA","PNB","0nA","0nB","1nA","1nB","2nA","2nB","3nA","3nB","4nA","4nB","6nA","6nB","ZnA","ZnB","YnA","YnB","XnA","XnB","WnA","WnB","VnA","VnB","UnA","UnB","TnA","TnB","SnA","SnB","RnA","RnB","QnA","QnB","PnA","PnB"],Tal:["0TA","0TB","1TA","1TB","2TA","2TB","3TA","3TB","4TA","4TB","6TA","6TB","ZTA","ZTB","YTA","YTB","XTA","XTB","WTA","WTB","VTA","VTB","UTA","UTB","TTA","TTB","STA","STB","RTA","RTB","QTA","QTB","PTA","PTB","0tA","0tB","1tA","1tB","2tA","2tB","3tA","3tB","4tA","4tB","6tA","6tB","ZtA","ZtB","YtA","YtB","XtA","XtB","WtA","WtB","VtA","VtB","UtA","UtB","TtA","TtB","StA","StB","RtA","RtB","QtA","QtB","PtA","PtB"],Ido:["0IA","0IB","1IA","1IB","2IA","2IB","3IA","3IB","4IA","4IB","6IA","6IB","ZIA","ZIB","YIA","YIB","XIA","XIB","WIA","WIB","VIA","VIB","UIA","UIB","TIA","TIB","SIA","SIB","RIA","RIB","QIA","QIB","PIA","PIB","0iA","0iB","1iA","1iB","2iA","2iB","3iA","3iB","4iA","4iB","6iA","6iB","ZiA","ZiB","YiA","YiB","XiA","XiB","WiA","WiB","ViA","ViB","UiA","UiB","TiA","TiB","SiA","SiB","RiA","RiB","QiA","QiB","PiA","PiB"],IdoA:["0UA","0UB","1UA","1UB","2UA","2UB","3UA","3UB","4UA","4UB","ZUA","ZUB","YUA","YUB","WUA","WUB","TUA","TUB","0uA","0uB","1uA","1uB","2uA","2uB","3uA","3uB","4uA","4uB","ZuA","ZuB","YuA","YuB","WuA","WuB","TuA","TuB","YuAP"],Fuc:["0FA","0FB","1FA","1FB","2FA","2FB","3FA","3FB","4FA","4FB","ZFA","ZFB","YFA","YFB","WFA","WFB","TFA","TFB","0fA","0fB","1fA","1fB","2fA","2fB","3fA","3fB","4fA","4fB","ZfA","ZfB","YfA","YfB","WfA","WfB","TfA","TfB"],Rha:["0HA","0HB","1HA","1HB","2HA","2HB","3HA","3HB","4HA","4HB","ZHA","ZHB","YHA","YHB","WHA","WHB","THA","THB","0hA","0hB","1hA","1hB","2hA","2hB","3hA","3hB","4hA","4hB","ZhA","ZhB","YhA","YhB","WhA","WhB","ThA","ThB"],Qui:["0QA","0QB","1QA","1QB","2QA","2QB","3QA","3QB","4QA","4QB","ZQA","ZQB","YQA","YQB","WQA","WQB","TQA","TQB","0qA","0qB","1qA","1qB","2qA","2qB","3qA","3qB","4qA","4qB","ZqA","ZqB","YqA","YqB","WqA","WqB","TqA","TqB"],Lyx:["0DA","0DB","1DA","1DB","2DA","2DB","3DA","3DB","4DA","4DB","ZDA","ZDB","YDA","YDB","WDA","WDB","TDA","TDB","0DD","0DU","1DD","1DU","2DD","2DU","3DD","3DU","5DD","5DU","ZDD","ZDU","0dA","0dB","1dA","1dB","2dA","2dB","3dA","3dB","4dA","4dB","ZdA","ZdB","YdA","YdB","WdA","WdB","TdA","TdB","0dD","0dU","1dD","1dU","2dD","2dU","3dD","3dU","5dD","5dU","ZdD","ZdU"],Xyl:["0XA","0XB","1XA","1XB","2XA","2XB","3XA","3XB","4XA","4XB","ZXA","ZXB","YXA","YXB","WXA","WXB","TXA","TXB","0XD","0XU","1XD","1XU","2XD","2XU","3XD","3XU","5XD","5XU","ZXD","ZXU","0xA","0xB","1xA","1xB","2xA","2xB","3xA","3xB","4xA","4xB","ZxA","ZxB","YxA","YxB","WxA","WxB","TxA","TxB","0xD","0xU","1xD","1xU","2xD","2xU","3xD","3xU","5xD","5xU","ZxD","ZxU"],Rib:["0RA","0RB","1RA","1RB","2RA","2RB","3RA","3RB","4RA","4RB","ZRA","ZRB","YRA","YRB","WRA","WRB","TRA","TRB","0RD","0RU","1RD","1RU","2RD","2RU","3RD","3RU","5RD","5RU","ZRD","ZRU","0rA","0rB","1rA","1rB","2rA","2rB","3rA","3rB","4rA","4rB","ZrA","ZrB","YrA","YrB","WrA","WrB","TrA","TrB","0rD","0rU","1rD","1rU","2rD","2rU","3rD","3rU","5rD","5rU","ZrD","ZrU"],Fru:["0CA","0CB","1CA","1CB","2CA","2CB","3CA","3CB","4CA","4CB","5CA","5CB","WCA","WCB","0CD","0CU","1CD","1CU","2CD","2CU","3CD","3CU","4CD","4CU","6CD","6CU","WCD","WCU","VCD","VCU","UCD","UCU","QCD","QCU","0cA","0cB","1cA","1cB","2cA","2cB","3cA","3cB","4cA","4cB","5cA","5cB","WcA","WcB","0cD","0cU","1cD","1cU","2cD","2cU","3cD","3cU","4cD","4cU","6cD","6cU","WcD","WcU","VcD","VcU","UcD","UcU","QcD","QcU"],Tag:["0JA","0JB","1JA","1JB","2JA","2JB","3JA","3JB","4JA","4JB","5JA","5JB","WJA","WJB","0JD","0JU","1JD","1JU","2JD","2JU","3JD","3JU","4JD","4JU","6JD","6JU","WJD","WJU","VJD","VJU","UJD","UJU","QJD","QJU","0jA","0jB","1jA","1jB","2jA","2jB","3jA","3jB","4jA","4jB","5jA","5jB","WjA","WjB","0jD","0jU","1jD","1jU","2jD","2jU","3jD","3jU","4jD","4jU","6jD","6jU","WjD","WjU","VjD","VjU","UjD","UjU","QjD","QjU"],Sor:["0BA","0BB","1BA","1BB","2BA","2BB","3BA","3BB","4BA","4BB","5BA","5BB","WBA","WBB","0BD","0BU","1BD","1BU","2BD","2BU","3BD","3BU","4BD","4BU","6BD","6BU","WBD","WBU","VBD","VBU","UBD","UBU","QBD","QBU","0bA","0bB","1bA","1bB","2bA","2bB","3bA","3bB","4bA","4bB","5bA","5bB","WbA","WbB","0bD","0bU","1bD","1bU","2bD","2bU","3bD","3bU","4bD","4bU","6bD","6bU","WbD","WbU","VbD","VbU","UbD","UbU","QbD","QbU"],Psi:["0PA","0PB","1PA","1PB","2PA","2PB","3PA","3PB","4PA","4PB","5PA","5PB","WPA","WPB","0PD","0PU","1PD","1PU","2PD","2PU","3PD","3PU","4PD","4PU","6PD","6PU","WPD","WPU","VPD","VPU","UPD","UPU","QPD","QPU","0pA","0pB","1pA","1pB","2pA","2pB","3pA","3pB","4pA","4pB","5pA","5pB","WpA","WpB","0pD","0pU","1pD","1pU","2pD","2pU","3pD","3pU","4pD","4pU","6pD","6pU","WpD","WpU","VpD","VpU","UpD","UpU","QpD","QpU"],Neu5Ac:["0SA","0SB","4SA","4SB","7SA","7SB","8SA","8SB","9SA","9SB","ASA","ASB","BSA","BSB","CSA","CSB","DSA","DSB","ESA","ESB","FSA","FSB","GSA","GSB","HSA","HSB","ISA","ISB","JSA","JSB","KSA","KSB","0sA","0sB","4sA","4sB","7sA","7sB","8sA","8sB","9sA","9sB","AsA","AsB","BsA","BsB","CsA","CsB","DsA","DsB","EsA","EsB","FsA","FsB","GsA","GsB","HsA","HsB","IsA","IsB","JsA","JsB","KsA","KsB"],Neu5Gc:["0GL","4GL","7GL","8GL","9GL","CGL","DGL","EGL","FGL","GGL","HGL","IGL","JGL","KGL","0gL","4gL","7gL","8gL","9gL","AgL","BgL","CgL","DgL","EgL","FgL","GgL","HgL","IgL","JgL","KgL"],Tyv:["0TV","0Tv","1TV","1Tv","2TV","2Tv","4TV","4Tv","YTV","YTv","0tV","0tv","1tV","1tv","2tV","2tv","4tV","4tv","YtV","Ytv"],Abe:["0AE","2AE","4AE","YGa","0AF","2AF","4AF","YAF"],Bac:["0BC","3BC","0bC","3bC"],Kdn:["0KN","4KN","5KN","7KN","8KN","9KN","AKN","BKN","CKN","DKN","EKN","FKN","GKN","HKN","IKN","JKN","KKN","LKN","MKN","NKN","OKN","PKN","QKN","RKN","SKN","TKN","UKN","VKN","WKN","XKN","YKN","0Kn","4Kn","5Kn","7Kn","8Kn","9Kn","AKn","BKn","CKn","DKn","EKn","FKn","GKn","HKn","IKn","JKn","KKn","LKn","MKn","NKn","OKn","PKn","QKn","RKn","SKn","TKn","UKn","VKn","WKn","XKn","YKn"],Kdo:["0KO","4KO","5KO","7KO","8KO","AKO","BKO","CKO","DKO","EKO","FKO","GKO","HKO","IKO","JKO","KKO","0Ko","4Ko","5Ko","7Ko","8Ko","AKo","BKo","CKo","DKo","EKo","FKo","GKo","HKo","IKo","JKo","KKo"]},po=function(){for(var e=new Map,t=0,n=uo.length;t<n;++t){var r=uo[t],i=co[r.abbr];if(i)for(var o=0,a=i.length;o<a;++o)e.set(i[o],r);var u=lo[r.abbr];if(u)for(o=0,a=u.length;o<a;++o)e.set(u[o],r)}return ro.forEach((function(t){e.has(t)||e.set(t,ao)})),e}();!function(){for(var e=new Map,t=0,n=uo.length;t<n;++t){var r=uo[t],i=co[r.abbr];if(i)for(var o=0,a=i.length;o<a;++o)e.set(i[o],r);var u=lo[r.abbr];if(u)for(o=0,a=u.length;o<a;++o)e.set(u[o],r);var s=fo[r.abbr];if(s)for(o=0,a=s.length;o<a;++o)e.has(s[o])||e.set(s[o],r)}ro.forEach((function(t){e.has(t)||e.set(t,ao)}))}();var mo,ho,go=po;(ho=mo||(mo={})).toArray=function(e){return Je(e.values())},ho.isSuperset=function(e,t){var n=!0;return t.forEach((function(t){e.has(t)||(n=!1)})),n},ho.add=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0;r<t.length;r++)t[r].forEach((function(t){return e.add(t)}));return e},ho.union=function(e,t){var n=new Set(e);return t.forEach((function(e){return n.add(e)})),n},ho.unionMany=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(0===e.length)return new Set;1===e.length&&new Set(e[0]);for(var n=new Set(e[0]),r=1,i=e.length;r<i;r++)e[r].forEach((function(e){return n.add(e)}));return n},ho.unionManyArrays=function(e){if(0===e.length)return new Set;for(var t=new Set(e[0]),n=1;n<e.length;n++)for(var r=0,i=e[n];r<i.length;r++){var o=i[r];t.add(o)}return t},ho.intersection=function(e,t){var n=new Set;return t.forEach((function(t){e.has(t)&&n.add(t)})),n},ho.areIntersecting=function(e,t){var n=!1;return t.forEach((function(t){e.has(t)&&(n=!0)})),n},ho.intersectionSize=function(e,t){var n=0;return t.forEach((function(t){e.has(t)&&(n+=1)})),n},ho.difference=function(e,t){var n=new Set(e);return t.forEach((function(e){return n.delete(e)})),n},ho.differenceSize=function(e,t){var n=e.size;return e.forEach((function(e){t.has(e)&&(n-=1)})),n},ho.areEqual=function(e,t){if(e.size!==t.size)return!1;var n=!0;return t.forEach((function(t){e.has(t)||(n=!1)})),n};var vo,yo=new Set(["DAPC","DBPC","DFPC","DGPC","DIPC","DLPC","DNPC","DOPC","DPPC","DRPC","DTPC","DVPC","DXPC","DYPC","LPPC","PAPC","PEPC","PGPC","PIPC","POPC","PRPC","PUPC","DAPE","DBPE","DFPE","DGPE","DIPE","DLPE","DNPE","DOPE","DPPE","DRPE","DTPE","DUPE","DVPE","DXPE","DYPE","LPPE","PAPE","PGPE","PIPE","POPE","PQPE","PRPE","PUPE","DAPS","DBPS","DFPS","DGPS","DIPS","DLPS","DNPS","DOPS","DPPS","DRPS","DTPS","DUPS","DVPS","DXPS","DYPS","LPPS","PAPS","PGPS","PIPS","POPS","PQPS","PRPS","PUPS","DAPG","DBPG","DFPG","DGPG","DIPG","DLPG","DNPG","DOPG","DPPG","DRPG","DTPG","DVPG","DXPG","DYPG","LPPG","PAPG","PGPG","PIPG","POPG","PRPG","DAPA","DBPA","DFPA","DGPA","DIPA","DLPA","DNPA","DOPA","DPPA","DRPA","DTPA","DVPA","DXPA","DYPA","LPPA","PAPA","PGPA","PIPA","POPA","PRPA","PUPA","DPP","DPPI","PAPI","PIPI","POP","POPI","PUPI","PVP","PVPI","PADG","PIDG","PODG","PUDG","PVDG","APC","CPC","IPC","LPC","OPC","PPC","TPC","UPC","VPC","BNSM","DBSM","DPSM","DXSM","PGSM","PNSM","POSM","PVSM","XNSM","DPCE","DXCE","PNCE","XNCE","DMPC"]),_o=new Set(["118","119","543","1AL","1CU","2FK","2HP","2OF","3CO","3MT","3NI","3OF","3P8","4MO","4PU","4TI","6MO","ACT","AG","AL","ALF","AM","ATH","AU","AU3","AUC","AZI","BA","BCT","BEF","BF4","BO4","BR","BS3","BSY","CA","CAC","CD","CD1","CD3","CD5","CE","CF","CHT","CL","CO","CO3","CO5","CON","CR","CS","CSB","CU","CU1","CU3","CUA","CUZ","CYN","DME","DMI","DSC","DTI","DY","E4N","EDR","EMC","ER3","EU","EU3","F","FE","FE2","FPO","GA","GD3","GEP","HAI","HG","HGC","IN","IOD","IR","IR3","IRI","IUM","K","KO4","LA","LCO","LCP","LI","LU","MAC","MG","MH2","MH3","MLI","MMC","MN","MN3","MN5","MN6","MO1","MO2","MO3","MO4","MO5","MO6","MOO","MOS","MOW","MW1","MW2","MW3","NA","NA2","NA5","NA6","NAO","NAW","ND","NET","NH4","NI","NI1","NI2","NI3","NO2","NO3","NRU","NT3","O4M","OAA","OC1","OC2","OC3","OC4","OC5","OC6","OC7","OC8","OCL","OCM","OCN","OCO","OF1","OF2","OF3","OH","OS","OS4","OXL","PB","PBM","PD","PDV","PER","PI","PO3","PO4","PR","PT","PT4","PTN","RB","RH3","RHD","RHF","RU","SB","SCN","SE4","SEK","SM","SMO","SO3","SO4","SR","T1A","TB","TBA","TCN","TEA","TH","THE","TL","TMA","TRA","UNX","V","VN3","VO4","W","WO5","Y1","YB","YB2","YH","YT3","ZCM","ZN","ZN2","ZN3","ZNO","ZO3","ZR","NCO","OHX"]),bo=function(){for(var e=Object.create(null),t=[],n="A".charCodeAt(0);n<="Z".charCodeAt(0);n++)t[t.length]=String.fromCharCode(n);for(n="a".charCodeAt(0);n<="z".charCodeAt(0);n++)t[t.length]=String.fromCharCode(n);for(n="0".charCodeAt(0);n<="9".charCodeAt(0);n++)t[t.length]=String.fromCharCode(n);for(var r=0,i=t;r<i.length;r++){var o=i[r];e[o]=o.toUpperCase();for(var a=0,u=t;a<u.length;a++){var s=u[a];e[o+s]=(o+s).toUpperCase();for(var c=0,l=t;c<l.length;c++){var d=l[c];e[o+s+d]=(o+s+d).toUpperCase()}}}return e}();function xo(e){return bo[e]||e.toUpperCase()}var Ao;new Map([[1,"H"],[2,"He"],[3,"Li"],[4,"Be"],[5,"B"],[6,"C"],[7,"N"],[8,"O"],[9,"F"],[10,"Ne"],[11,"Na"],[12,"Mg"],[13,"Al"],[14,"Si"],[15,"P"],[16,"S"],[17,"Cl"],[18,"Ar"],[19,"K"],[20,"Ca"],[21,"Sc"],[22,"Ti"],[23,"V"],[24,"Cr"],[25,"Mn"],[26,"Fe"],[27,"Co"],[28,"Ni"],[29,"Cu"],[30,"Zn"],[31,"Ga"],[32,"Ge"],[33,"As"],[34,"Se"],[35,"Br"],[36,"Kr"],[37,"Rb"],[38,"Sr"],[39,"Y"],[40,"Zr"],[41,"Nb"],[42,"Mo"],[43,"Tc"],[44,"Ru"],[45,"Rh"],[46,"Pd"],[47,"Ag"],[48,"Cd"],[49,"In"],[50,"Sn"],[51,"Sb"],[52,"Te"],[53,"I"],[54,"Xe"],[55,"Cs"],[56,"Ba"],[57,"La"],[58,"Ce"],[59,"Pr"],[60,"Nd"],[61,"Pm"],[62,"Sm"],[63,"Eu"],[64,"Gd"],[65,"Tb"],[66,"Dy"],[67,"Ho"],[68,"Er"],[69,"Tm"],[70,"Yb"],[71,"Lu"],[72,"Hf"],[73,"Ta"],[74,"W"],[75,"Re"],[76,"Os"],[77,"Ir"],[78,"Pt"],[79,"Au"],[80,"Hg"],[81,"Tl"],[82,"Pb"],[83,"Bi"],[84,"Po"],[85,"At"],[86,"Rn"],[87,"Fr"],[88,"Ra"],[89,"Ac"],[90,"Th"],[91,"Pa"],[92,"U"],[93,"Np"],[94,"Pu"],[95,"Am"],[96,"Cm"],[97,"Bk"],[98,"Cf"],[99,"Es"],[100,"Fm"],[101,"Md"],[102,"No"],[103,"Lr"],[104,"Rf"],[105,"Db"],[106,"Sg"],[107,"Bh"],[108,"Hs"],[109,"Mt"],[110,"Ds"],[111,"Rg"],[112,"Cn"],[113,"Uut"],[114,"Fl"],[115,"Uup"],[116,"Lv"],[117,"Uus"],[118,"Uuo"]].map((function(e){return[e[0],xo(e[1])]})));!function(e){e[e.unknown=0]="unknown",e[e.polymer=1]="polymer",e[e["non-polymer"]=2]="non-polymer",e[e.macrolide=3]="macrolide",e[e.water=4]="water",e[e.branched=5]="branched"}(Ao||(Ao={}));var wo,So,Co=((vo={})[0]={trace:new Set,directionFrom:new Set,directionTo:new Set,backboneStart:new Set,backboneEnd:new Set,coarseBackbone:new Set},vo[1]={trace:new Set(["CA"]),directionFrom:new Set(["C"]),directionTo:new Set(["O","OC1","O1","OX1","OXT","OT1"]),backboneStart:new Set(["N"]),backboneEnd:new Set(["C"]),coarseBackbone:new Set(["CA","BB","CA1"])},vo[2]={trace:new Set(["CA"]),directionFrom:new Set(["C"]),directionTo:new Set(["O"]),backboneStart:new Set(["N"]),backboneEnd:new Set(["CD"]),coarseBackbone:new Set(["CA"])},vo[3]={trace:new Set(["CA"]),directionFrom:new Set(["C"]),directionTo:new Set(["O"]),backboneStart:new Set(["N"]),backboneEnd:new Set(["CG"]),coarseBackbone:new Set(["CA"])},vo[4]={trace:new Set(["O3'","O3*"]),directionFrom:new Set(["C4'","C4*"]),directionTo:new Set(["C3'","C3*"]),backboneStart:new Set(["P"]),backboneEnd:new Set(["O3'","O3*"]),coarseBackbone:new Set(["P"])},vo[5]={trace:new Set(["O3'","O3*"]),directionFrom:new Set(["C3'","C3*"]),directionTo:new Set(["C1'","C1*"]),backboneStart:new Set(["P"]),backboneEnd:new Set(["O3'","O3*"]),coarseBackbone:new Set(["P"])},vo[6]={trace:new Set(["N4'","N4*"]),directionFrom:new Set(["N4'","N4*"]),directionTo:new Set(["C7'","C7*"]),backboneStart:new Set(["N1'","N1*"]),backboneEnd:new Set(["C'","C*"]),coarseBackbone:new Set(["P"])},vo),Bo=(new Set(["CA","C","N","O","O1","O2","OC1","OC2","OT1","OT2","OX1","OXT","H","H1","H2","H3","HA","HN","HXT","BB"]),new Set(["P","OP1","OP2","HOP2","HOP3","O2'","O3'","O4'","O5'","C1'","C2'","C3'","C4'","C5'","H1'","H2'","H2''","HO2'","H3'","H4'","H5'","H5''","HO3'","HO5'","O2*","O3*","O4*","O5*","C1*","C2*","C3*","C4*","C5*"]),new Set(["d-peptide linking","d-peptide nh3 amino terminus","d-peptide cooh carboxy terminus","d-gamma-peptide, c-delta linking","d-beta-peptide, c-gamma linking"])),Po=new Set(["l-peptide linking","l-peptide nh3 amino terminus","l-peptide cooh carboxy terminus","l-gamma-peptide, c-delta linking","l-beta-peptide, c-gamma linking"]),Io=new Set(["d-gamma-peptide, c-delta linking","l-gamma-peptide, c-delta linking"]),Eo=new Set(["d-beta-peptide, c-gamma linking","l-beta-peptide, c-gamma linking"]),Mo=new Set(["d-peptide nh3 amino terminus","d-peptide cooh carboxy terminus","l-peptide nh3 amino terminus","l-peptide cooh carboxy terminus"]),ko=new Set(["peptide linking","peptide-like"]),Do=mo.unionMany(Bo,Po,ko),Oo=new Set(["dna linking","l-dna linking","dna oh 5 prime terminus","dna oh 3 prime terminus"]),No=new Set(["rna linking","l-rna linking","rna oh 5 prime terminus","rna oh 3 prime terminus"]),To=mo.unionMany(new Set(["d-saccharide, beta linking","l-saccharide, beta linking","d-saccharide, alpha linking","l-saccharide, alpha linking","l-saccharide","d-saccharide","saccharide"]),new Set(["d-saccharide 1,4 and 1,4 linking","l-saccharide 1,4 and 1,4 linking","d-saccharide 1,4 and 1,6 linking","l-saccharide 1,4 and 1,6 linking"])),Ro=new Set(["non-polymer","other"]),Uo=new Set(["ion"]),Lo=new Set(["lipid"]),Go=new Set(["SOL","WAT","HOH","H2O","W","DOD","D3O","TIP","TIP3","TIP4","SPC"]),qo=new Set(["HIS","ARG","LYS","ILE","PHE","LEU","TRP","ALA","MET","PRO","CYS","ASN","VAL","GLY","SER","GLN","TYR","ASP","GLU","THR","SEC","PYL","UNK","MSE","SEP","TPO","PTR","PCA","HYP","HSD","HSE","HSP","LSN","ASPP","GLUP","HID","HIE","HIP","LYN","ASH","GLH"]),Fo=new Set(["DAL","DAR","DSG","DAS","DCY","DGL","DGN","DHI","DIL","DLE","DLY","MED","DPN","DPR","DSN","DTH","DTR","DTY","DVA","DNE"]),jo=mo.unionMany(qo,Fo),Ho=(new Set(["NME","ACE","NH2","FOR","FMT"]),new Set(["A","C","T","G","I","U","N"])),Vo=new Set(["DA","DC","DT","DG","DI","DU","DN"]),zo=new Set(["APN","CPN","TPN","GPN"]),Yo=(new Set(["A","G","I","DA","DG","DI","APN","GPN"]),new Set(["C","T","U","DC","DT","DU","CPN","TPN"]),mo.unionMany(Ho,Vo,zo)),Ko=mo.unionMany(jo,Yo);function Zo(e,t){return t=t.toUpperCase(),zo.has(t)?8:Do.has(e)?5:No.has(e)?6:Oo.has(e)?7:To.has(e)?9:Go.has(t)?2:_o.has(t)?3:yo.has(t)?4:Ro.has(e)?go.has(t)?9:jo.has(t)?5:Ho.has(t)?6:Vo.has(t)?7:1:0}function Wo(e,t){return 5===t?Io.has(e)?2:Eo.has(e)?3:Mo.has(e)?0:1:6===t?4:7===t?5:8===t?6:0}function Xo(e){return e=e.toUpperCase(),jo.has(e)?"peptide linking":Ho.has(e)?"rna linking":Vo.has(e)?"dna linking":go.has(e)?"saccharide":"other"}function Qo(e){return e=e.toUpperCase(),Go.has(e)?"water":Ko.has(e)?"polymer":go.has(e)?"branched":"non-polymer"}function Jo(e,t){return e=e.toUpperCase(),Po.has(t)?"polypeptide(L)":Bo.has(t)?"polypeptide(D)":No.has(t)?"polyribonucleotide":Oo.has(t)?"polydeoxyribonucleotide":To.has(t)||go.has(e)?"oligosaccharide":zo.has(e)?"peptide nucleic acid":qo.has(e)?"polypeptide(L)":Fo.has(e)?"polypeptide(D)":Ho.has(e)?"polyribonucleotide":Vo.has(e)?"polydeoxyribonucleotide":Uo.has(t)||_o.has(e)?"ion":Lo.has(t)||yo.has(e)?"lipid":ko.has(t)?"peptide-like":"other"}function $o(e){return ea(e)||ta(e)}function ea(e){return 7===e||6===e||8===e}function ta(e){return 5===e}(So=wo||(wo={})).is=Me.has,So.create=Me.create,So.SecondaryStructureMmcif={helx_lh_27_p:1058,helx_lh_3t_p:2082,helx_lh_al_p:4130,helx_lh_a_n:524321,helx_lh_b_n:1048609,helx_lh_ga_p:8226,helx_lh_n:33,helx_lh_om_p:16418,helx_lh_ot_n:131105,helx_lh_ot_p:546,helx_lh_p:34,helx_lh_pi_p:32802,helx_lh_pp_p:65570,helx_lh_z_n:262177,helx_n:1,helx_ot_n:1,helx_ot_p:2,helx_p:2,helx_rh_27_p:1090,helx_rh_3t_p:2114,helx_rh_al_p:4162,helx_rh_a_n:524353,helx_rh_b_n:1048641,helx_rh_ga_p:8258,helx_rh_n:65,helx_rh_om_p:16450,helx_rh_ot_n:131137,helx_rh_ot_p:578,helx_rh_p:66,helx_rh_pi_p:32834,helx_rh_pp_p:65602,helx_rh_z_n:262209,strn:4194308,turn_ot_p:33554448,turn_p:16,turn_ty1p_p:67109136,turn_ty1_p:67109008,turn_ty2p_p:134218e3,turn_ty2_p:134217872,turn_ty3p_p:268435728,turn_ty3_p:268435600,bend:8,other:0},So.SecondaryStructurePdb={1:4162,2:16450,3:32834,4:8258,5:2114,6:4130,7:16418,8:8226,9:1026,10:65538},So.SecondaryStructureStride={H:4098,G:2050,I:32770,E:8388612,B:4194308,T:16,C:536870912},So.SecondaryStructureDssp={H:4098,B:4194308,E:8388612,G:2050,I:32770,T:16,S:8};var na;!function(e){function t(e){switch(e){case"covalent":return 1;case"metal-coordination":return 2;case"hydrogen-bond":return 4;case"disulfide":return 8;case"aromatic":return 16;case"computed":return 32}}e.is=Me.has,e.create=function(e){return Me.create(e)},e.isCovalent=function(e){return 0!=(1&e)},e.isAll=function(e){return e===Math.pow(2,6)-1},e.Names={covalent:1,"metal-coordination":2,"hydrogen-bond":4,disulfide:8,aromatic:16,computed:32},e.isName=function(t){return t in e.Names},e.fromName=t,e.fromNames=function(e){for(var n=0,r=0,i=e.length;r<i;++r)n|=t(e[r]);return n}}(na||(na={}));var ra,ia,oa,aa,ua=A.add,sa=A.squaredDistance,ca=A.distance,la=function(){function e(){this.count=0,this.center=A(),this.radiusSq=0}return e.prototype.reset=function(){A.set(this.center,0,0,0),this.radiusSq=0,this.count=0},e.prototype.includeStep=function(e){ua(this.center,this.center,e),this.count++},e.prototype.finishedIncludeStep=function(){0!==this.count&&A.scale(this.center,this.center,1/this.count)},e.prototype.radiusStep=function(e){var t=sa(e,this.center);t>this.radiusSq&&(this.radiusSq=t)},e.prototype.radiusSphereStep=function(e,t){var n=ca(e,this.center)+t,r=n*n;r>this.radiusSq&&(this.radiusSq=r)},e.prototype.getSphere=function(e){return e||(e=ur()),A.copy(e.center,this.center),e.radius=Math.sqrt(this.radiusSq),e},e.prototype.getCount=function(){return this.count},e}();ra=la||(la={}),ia=new ra,oa=A(),aa=A(),ra.fromArrays=function(e,t){var n=e.x,r=e.y,i=e.z;ia.reset();for(var o=n.length,a=0;a<o;a++)A.set(oa,n[a],r[a],i[a]),ia.includeStep(oa);for(ia.finishedIncludeStep(),a=0;a<o;a++)A.set(oa,n[a],r[a],i[a]),ia.radiusStep(oa);return A.copy(t.center,ia.center),t.radius=Math.sqrt(ia.radiusSq),t},ra.fromProvider=function(e,t,n){ia.reset();for(var r=0;r<e;r++)t(r,oa),ia.includeStep(oa);for(ia.finishedIncludeStep(),r=0;r<e;r++)t(r,oa),ia.radiusStep(oa);return A.copy(n.center,ia.center),n.radius=Math.sqrt(ia.radiusSq),n},ra.fromPairProvider=function(e,t,n){ia.reset();for(var r=0;r<e;r++)t(r,oa,aa),ia.includeStep(oa),ia.includeStep(aa);for(ia.finishedIncludeStep(),r=0;r<e;r++)t(r,oa,aa),ia.radiusStep(oa),ia.radiusStep(aa);return A.copy(n.center,ia.center),n.radius=Math.sqrt(ia.radiusSq),n};var da=function(){function e(t){this.map=t;var n=0,r=[],i=new Map,o=new Map;this.map.forEach((function(t){t.forEach((function(t){n+=t.edgeCount,t.connectedIndices.forEach((function(n){t.getEdges(n).forEach((function(a){var u=t.unitA,s=t.unitB,c=e.getEdgeKey(n,u,a.indexB,s);i.set(c,r.length);var l=e.getVertexKey(n,u),d=o.get(l);void 0===d?o.set(l,[r.length]):d.push(r.length),r.push(Object(T.a)(Object(T.a)({},a),{indexA:n,unitA:u,unitB:s}))}))}))}))})),this.edgeCount=n,this.edges=r,this.edgeKeyIndex=i,this.vertexKeyIndex=o}return e.prototype.getConnectedUnits=function(e){return this.map.has(e)?this.map.get(e):pa},e.prototype.getEdgeIndex=function(t,n,r,i){var o=e.getEdgeKey(t,n,r,i),a=this.edgeKeyIndex.get(o);return void 0!==a?a:-1},e.prototype.hasEdge=function(e,t,n,r){return-1!==this.getEdgeIndex(e,t,n,r)},e.prototype.getEdge=function(e,t,n,r){var i=this.getEdgeIndex(e,t,n,r);return-1!==i?this.edges[i]:void 0},e.prototype.getEdgeIndices=function(t,n){return this.vertexKeyIndex.get(e.getVertexKey(t,n))||[]},e}();!function(e){var t=function(){function e(e,t,n,r,i){this.unitA=e,this.unitB=t,this.edgeCount=n,this.connectedIndices=r,this.edgeMap=i}return e.prototype.hasEdges=function(e){return this.edgeMap.has(e)},e.prototype.getEdges=function(e){return this.edgeMap.has(e)?this.edgeMap.get(e):pa},Object.defineProperty(e.prototype,"areUnitsOrdered",{get:function(){return this.unitA<this.unitB},enumerable:!1,configurable:!0}),e}();function n(e,t,n){e.has(t)?e.get(t).push(n):e.set(t,[n])}e.UnitPairEdges=t,e.getEdgeKey=function(e,t,n,r){return"".concat(e,"|").concat(t,"|").concat(n,"|").concat(r)},e.getVertexKey=function(e,t){return"".concat(e,"|").concat(t)};var r=function(){function e(){this.map=new Map}return e.prototype.startUnitPair=function(e,t){this.uA=e,this.uB=t,this.mapAB=new Map,this.mapBA=new Map,this.linkedA=gi.create(),this.linkedB=gi.create(),this.linkCount=0},e.prototype.finishUnitPair=function(){0!==this.linkCount&&(n(this.map,this.uA,new t(this.uA,this.uB,this.linkCount,this.linkedA.array,this.mapAB)),n(this.map,this.uB,new t(this.uB,this.uA,this.linkCount,this.linkedB.array,this.mapBA)))},e.prototype.add=function(e,t,r){n(this.mapAB,e,{indexB:t,props:r}),n(this.mapBA,t,{indexB:e,props:r}),gi.add(this.linkedA,e,e),gi.add(this.linkedB,t,t),this.linkCount+=1},e.prototype.getMap=function(){return this.map},e}();e.Builder=r}(da||(da={}));var fa,pa=[];(fa||(fa={})).Empty=Yr.create([],[],[],0,{flags:[],order:[],key:[]});var ma,ha,ga=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(T.c)(t,e),t.prototype.getBondFromLocation=function(e){return Ns.isAtomic(e.aUnit)&&Ns.isAtomic(e.bUnit)?this.getEdge(e.aIndex,e.aUnit.id,e.bIndex,e.bUnit.id):void 0},t.prototype.getBondIndexFromLocation=function(e){return Ns.isAtomic(e.aUnit)&&Ns.isAtomic(e.bUnit)?this.getEdgeIndex(e.aIndex,e.aUnit.id,e.bIndex,e.bUnit.id):-1},t}(da);ma=ga||(ga={}),ha=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(T.c)(t,e),t}(da.UnitPairEdges),ma.UnitPairBonds=ha;var va={forceCompute:!1,noCompute:!1,maxRadius:4},ya={H:0,h:0,D:0,d:0,T:0,t:0,He:2,HE:2,he:2,Li:3,LI:3,li:3,Be:4,BE:4,be:4,B:5,b:5,C:6,c:6,N:7,n:7,O:8,o:8,F:9,f:9,Ne:10,NE:10,ne:10,Na:11,NA:11,na:11,Mg:12,MG:12,mg:12,Al:13,AL:13,al:13,Si:14,SI:14,si:14,P:15,p:15,S:16,s:16,Cl:17,CL:17,cl:17,Ar:18,AR:18,ar:18,K:19,k:19,Ca:20,CA:20,ca:20,Sc:21,SC:21,sc:21,Ti:22,TI:22,ti:22,V:23,v:23,Cr:24,CR:24,cr:24,Mn:25,MN:25,mn:25,Fe:26,FE:26,fe:26,Co:27,CO:27,co:27,Ni:28,NI:28,ni:28,Cu:29,CU:29,cu:29,Zn:30,ZN:30,zn:30,Ga:31,GA:31,ga:31,Ge:32,GE:32,ge:32,As:33,AS:33,as:33,Se:34,SE:34,se:34,Br:35,BR:35,br:35,Kr:36,KR:36,kr:36,Rb:37,RB:37,rb:37,Sr:38,SR:38,sr:38,Y:39,y:39,Zr:40,ZR:40,zr:40,Nb:41,NB:41,nb:41,Mo:42,MO:42,mo:42,Tc:43,TC:43,tc:43,Ru:44,RU:44,ru:44,Rh:45,RH:45,rh:45,Pd:46,PD:46,pd:46,Ag:47,AG:47,ag:47,Cd:48,CD:48,cd:48,In:49,IN:49,in:49,Sn:50,SN:50,sn:50,Sb:51,SB:51,sb:51,Te:52,TE:52,te:52,I:53,i:53,Xe:54,XE:54,xe:54,Cs:55,CS:55,cs:55,Ba:56,BA:56,ba:56,La:57,LA:57,la:57,Ce:58,CE:58,ce:58,Pr:59,PR:59,pr:59,Nd:60,ND:60,nd:60,Pm:61,PM:61,pm:61,Sm:62,SM:62,sm:62,Eu:63,EU:63,eu:63,Gd:64,GD:64,gd:64,Tb:65,TB:65,tb:65,Dy:66,DY:66,dy:66,Ho:67,HO:67,ho:67,Er:68,ER:68,er:68,Tm:69,TM:69,tm:69,Yb:70,YB:70,yb:70,Lu:71,LU:71,lu:71,Hf:72,HF:72,hf:72,Ta:73,TA:73,ta:73,W:74,w:74,Re:75,RE:75,re:75,Os:76,OS:76,os:76,Ir:77,IR:77,ir:77,Pt:78,PT:78,pt:78,Au:79,AU:79,au:79,Hg:80,HG:80,hg:80,Tl:81,TL:81,tl:81,Pb:82,PB:82,pb:82,Bi:83,BI:83,bi:83,Po:84,PO:84,po:84,At:85,AT:85,at:85,Rn:86,RN:86,rn:86,Fr:87,FR:87,fr:87,Ra:88,RA:88,ra:88,Ac:89,AC:89,ac:89,Th:90,TH:90,th:90,Pa:91,PA:91,pa:91,U:92,u:92,Np:93,NP:93,np:93,Pu:94,PU:94,pu:94,Am:95,AM:95,am:95,Cm:96,CM:96,cm:96,Bk:97,BK:97,bk:97,Cf:98,CF:98,cf:98,Es:99,ES:99,es:99,Fm:100,FM:100,fm:100,Md:101,MD:101,md:101,No:102,NO:102,no:102,Lr:103,LR:103,lr:103,Rf:104,RF:104,rf:104,Db:105,DB:105,db:105,Sg:106,SG:106,sg:106,Bh:107,BH:107,bh:107,Hs:108,HS:108,hs:108,Mt:109,MT:109,mt:109},_a={0:1.42,1:1.42,3:2.7,4:2.7,6:1.75,7:1.6,8:1.52,11:2.7,12:2.7,13:2.7,14:1.9,15:2,16:1.9,17:1.8,19:2.7,20:2.7,21:2.7,22:2.7,23:2.7,24:2.7,25:2.7,26:2.7,27:2.7,28:2.7,29:2.7,30:2.7,31:2.7,33:2.68,37:2.7,38:2.7,39:2.7,40:2.7,41:2.7,42:2.7,43:2.7,44:2.7,45:2.7,46:2.7,47:2.7,48:2.7,49:2.7,50:2.7,55:2.7,56:2.7,57:2.7,58:2.7,59:2.7,60:2.7,61:2.7,62:2.7,63:2.7,64:2.7,65:2.7,66:2.7,67:2.7,68:2.7,69:2.7,70:2.7,71:2.7,72:2.7,73:2.7,74:2.7,75:2.7,76:2.7,77:2.7,78:2.7,79:2.7,80:2.7,81:2.7,82:2.7,83:2.7,87:2.7,88:2.7,89:2.7,90:2.7,91:2.7,92:2.7,93:2.7,94:2.7,95:2.7,96:2.7,97:2.7,98:2.7,99:2.7,100:2.7,101:2.7,102:2.7,103:2.7,104:2.7,105:2.7,106:2.7,107:2.7,108:2.7,109:2.88},ba={0:.8,20:1.31,27:1.2,35:1.15,44:1.1,54:1,60:1.84,72:1.88,84:1.75,85:1.56,86:1.76,98:1.6,99:1.68,100:1.63,112:1.6,113:1.59,114:1.36,129:1.45,135:1.47,144:1.6,152:1.45,170:1.4,180:1.55,202:2.4,222:2.24,224:1.91,225:1.98,243:2.02,269:2,293:1.9,316:1.8,420:2.37,480:2.3,512:2.3,544:2.3,612:2.1,629:1.54,665:1,813:2.6,854:2.27,894:1.93,896:2.1,937:2.05,938:2.06,981:1.62,1258:2.68,1309:2.33,1484:1,1763:2.14,1823:2.48,1882:2.1,1944:1.72,2380:2.34,3367:2.44,3733:2.11,3819:2.6,3821:2.36,4736:2.75,5724:2.73,5959:2.63,6519:2.84,6750:2.87,8991:2.81},xa=function(){for(var e=new Set,t=0,n=["LI","NA","K","RB","CS","FR","BE","MG","CA","SR","BA","RA","AL","GA","IN","SN","TL","PB","BI","SC","TI","V","CR","MN","FE","CO","NI","CU","ZN","Y","ZR","NB","MO","TC","RU","RH","PD","AG","CD","LA","HF","TA","W","RE","OS","IR","PT","AU","HG","AC","RF","DB","SG","BH","HS","MT","CE","PR","ND","PM","SM","EU","GD","TB","DY","HO","ER","TM","YB","LU","TH","PA","U","NP","PU","AM","CM","BK","CF","ES","FM","MD","NO","LR"];t<n.length;t++){var r=n[t];e.add(ya[r])}return e}();function Aa(e){var t=ya[e];return void 0===t?-1:t}function wa(e){if(e<0)return 2.001;var t=_a[e];return void 0===t?2.001:t}function Sa(e,t,n,r){var i=function(e,t){if(e<0||t<0)return-1;var n,r,i=ba[(n=e,r=t,n<r?(n+r)*(n+r+1)/2+r:(n+r)*(n+r+1)/2+n)];return void 0===i?-1:i}(e,t);return i>0?i:t<0?n:(n+r)/1.95}var Ca=ya.H;function Ba(e){return e===Ca}var Pa=new Map([["HIS|CD2|CG",2],["HIS|CE1|ND1",2],["ARG|CZ|NH2",2],["PHE|CE1|CZ",2],["PHE|CD2|CE2",2],["PHE|CD1|CG",2],["TRP|CD1|CG",2],["TRP|CD2|CE2",2],["TRP|CE3|CZ3",2],["TRP|CH2|CZ2",2],["ASN|CG|OD1",2],["GLN|CD|OE1",2],["TYR|CD1|CG",2],["TYR|CD2|CE2",2],["TYR|CE1|CZ",2],["ASP|CG|OD1",2],["GLU|CD|OE1",2],["G|C8|N7",2],["G|C4|C5",2],["G|C2|N3",2],["G|C6|O6",2],["C|C4|N3",2],["C|C5|C6",2],["C|C2|O2",2],["A|C2|N3",2],["A|C6|N1",2],["A|C4|C5",2],["A|C8|N7",2],["U|C5|C6",2],["U|C2|O2",2],["U|C4|O4",2],["DG|C8|N7",2],["DG|C4|C5",2],["DG|C2|N3",2],["DG|C6|O6",2],["DC|C4|N3",2],["DC|C5|C6",2],["DC|C2|O2",2],["DA|C2|N3",2],["DA|C6|N1",2],["DA|C4|C5",2],["DA|C8|N7",2],["DT|C5|C6",2],["DT|C2|O2",2],["DT|C4|O4",2]]);function Ia(e,t,n){var r;return t=(r=t<n?[t,n]:[n,t])[0],n=r[1],jo.has(e)&&"C"===t&&"O"===n||Yo.has(e)&&"OP1"===t&&"P"===n?2:Pa.get("".concat(e,"|").concat(t,"|").concat(n))||1}var Ea=new Map([["LYS|NZ|RET|C15",2]]);function Ma(e,t,n,r){var i,o;return e>n&&(e=(i=[n,e])[0],n=i[1],t=(o=[r,t])[0],r=o[1]),Ea.get("".concat(e,"|").concat(t,"|").concat(n,"|").concat(r))||1}var ka,Da=Ee.Schema,Oa=Da.str,Na=Da.int,Ta=Da.float,Ra=Da.coord,Ua=Da.Aliased,La=Da.Matrix,Ga=Da.Vector,qa=Da.lstr,Fa=Da.List,ja={atom_site:{auth_asym_id:Oa,auth_atom_id:Oa,auth_comp_id:Oa,auth_seq_id:Na,B_iso_or_equiv:Ta,Cartn_x:Ra,Cartn_y:Ra,Cartn_z:Ra,group_PDB:Ua(Oa),id:Na,label_alt_id:Oa,label_asym_id:Oa,label_atom_id:Oa,label_comp_id:Oa,label_entity_id:Oa,label_seq_id:Na,occupancy:Ta,type_symbol:Oa,pdbx_PDB_ins_code:Oa,pdbx_PDB_model_num:Na,pdbx_formal_charge:Na,pdbx_label_index:Na,pdbx_sifts_xref_db_name:Oa,pdbx_sifts_xref_db_acc:Oa,pdbx_sifts_xref_db_num:Oa,pdbx_sifts_xref_db_res:Oa,ihm_model_id:Na},atom_site_anisotrop:{id:Na,type_symbol:Oa,U:La(3,3),U_esd:La(3,3),pdbx_auth_seq_id:Oa,pdbx_auth_asym_id:Oa,pdbx_auth_atom_id:Oa,pdbx_auth_comp_id:Oa,pdbx_label_seq_id:Na,pdbx_label_alt_id:Oa,pdbx_label_asym_id:Oa,pdbx_label_atom_id:Oa,pdbx_label_comp_id:Oa,pdbx_PDB_ins_code:Oa},atom_sites:{entry_id:Oa,fract_transf_matrix:La(3,3),fract_transf_vector:Ga(3)},audit_author:{name:Oa,pdbx_ordinal:Na,identifier_ORCID:Oa},audit_conform:{dict_location:Oa,dict_name:Oa,dict_version:Oa},cell:{angle_alpha:Ta,angle_beta:Ta,angle_gamma:Ta,entry_id:Oa,length_a:Ta,length_b:Ta,length_c:Ta,Z_PDB:Na,pdbx_unique_axis:Oa},chem_comp:{formula:Oa,formula_weight:Ta,id:Oa,mon_nstd_flag:Ua(qa),name:Oa,type:Ua(qa),pdbx_synonyms:Fa(";",(function(e){return e}))},chem_comp_bond:{atom_id_1:Oa,atom_id_2:Oa,comp_id:Oa,value_order:Ua(qa),pdbx_ordinal:Na,pdbx_stereo_config:Ua(qa),pdbx_aromatic_flag:Ua(qa)},citation:{book_publisher:Oa,country:Oa,id:Oa,journal_abbrev:Oa,journal_id_ASTM:Oa,journal_id_CSD:Oa,journal_id_ISSN:Oa,journal_volume:Oa,page_first:Oa,page_last:Oa,title:Oa,year:Na,pdbx_database_id_DOI:Oa,pdbx_database_id_PubMed:Na},citation_author:{citation_id:Oa,name:Oa,ordinal:Na},database_2:{database_id:Ua(qa),database_code:Oa},entity:{details:Oa,formula_weight:Ta,id:Oa,src_method:Ua(qa),type:Ua(qa),pdbx_description:Fa(",",(function(e){return e})),pdbx_number_of_molecules:Na,pdbx_mutation:Oa,pdbx_fragment:Oa,pdbx_ec:Fa(",",(function(e){return e}))},entity_poly:{entity_id:Oa,nstd_linkage:Ua(qa),nstd_monomer:Ua(qa),type:Ua(Oa),pdbx_strand_id:Fa(",",(function(e){return e})),pdbx_seq_one_letter_code:Oa,pdbx_seq_one_letter_code_can:Oa,pdbx_target_identifier:Oa},entity_poly_seq:{entity_id:Oa,hetero:Ua(qa),mon_id:Oa,num:Na},entry:{id:Oa},exptl:{entry_id:Oa,method:Ua(Oa)},software:{classification:Oa,date:Oa,description:Oa,name:Oa,type:Ua(qa),version:Oa,pdbx_ordinal:Na},struct:{entry_id:Oa,title:Oa,pdbx_descriptor:Oa},struct_asym:{details:Oa,entity_id:Oa,id:Oa,pdbx_modified:Oa,pdbx_blank_PDB_chainid_flag:Ua(Oa)},struct_conf:{beg_label_asym_id:Oa,beg_label_comp_id:Oa,beg_label_seq_id:Na,beg_auth_asym_id:Oa,beg_auth_comp_id:Oa,beg_auth_seq_id:Na,conf_type_id:Ua(qa),details:Oa,end_label_asym_id:Oa,end_label_comp_id:Oa,end_label_seq_id:Na,end_auth_asym_id:Oa,end_auth_comp_id:Oa,end_auth_seq_id:Na,id:Oa,pdbx_beg_PDB_ins_code:Oa,pdbx_end_PDB_ins_code:Oa,pdbx_PDB_helix_class:Oa,pdbx_PDB_helix_length:Na,pdbx_PDB_helix_id:Oa},struct_conn:{conn_type_id:Ua(qa),details:Oa,id:Oa,ptnr1_label_asym_id:Oa,ptnr1_label_atom_id:Oa,ptnr1_label_comp_id:Oa,ptnr1_label_seq_id:Na,ptnr1_auth_asym_id:Oa,ptnr1_auth_comp_id:Oa,ptnr1_auth_seq_id:Na,ptnr1_symmetry:Oa,ptnr2_label_asym_id:Oa,ptnr2_label_atom_id:Oa,ptnr2_label_comp_id:Oa,ptnr2_label_seq_id:Na,ptnr2_auth_asym_id:Oa,ptnr2_auth_comp_id:Oa,ptnr2_auth_seq_id:Na,ptnr2_symmetry:Oa,pdbx_ptnr1_PDB_ins_code:Oa,pdbx_ptnr1_label_alt_id:Oa,pdbx_ptnr1_standard_comp_id:Oa,pdbx_ptnr2_PDB_ins_code:Oa,pdbx_ptnr2_label_alt_id:Oa,pdbx_ptnr3_PDB_ins_code:Oa,pdbx_ptnr3_label_alt_id:Oa,pdbx_ptnr3_label_asym_id:Oa,pdbx_ptnr3_label_atom_id:Oa,pdbx_ptnr3_label_comp_id:Oa,pdbx_ptnr3_label_seq_id:Na,pdbx_PDB_id:Oa,pdbx_dist_value:Ta,pdbx_value_order:Ua(qa)},struct_conn_type:{criteria:Oa,id:Ua(qa),reference:Oa},struct_keywords:{entry_id:Oa,text:Fa(",",(function(e){return e})),pdbx_keywords:Oa},struct_ncs_oper:{code:Ua(Oa),details:Oa,id:Na,matrix:La(3,3),vector:Ga(3)},struct_sheet_range:{beg_label_asym_id:Oa,beg_label_comp_id:Oa,beg_label_seq_id:Na,end_label_asym_id:Oa,end_label_comp_id:Oa,end_label_seq_id:Na,beg_auth_asym_id:Oa,beg_auth_comp_id:Oa,beg_auth_seq_id:Na,end_auth_asym_id:Oa,end_auth_comp_id:Oa,end_auth_seq_id:Na,id:Oa,sheet_id:Oa,pdbx_beg_PDB_ins_code:Oa,pdbx_end_PDB_ins_code:Oa},struct_site:{details:Oa,id:Oa,pdbx_num_residues:Na,pdbx_evidence_code:Oa,pdbx_auth_asym_id:Oa,pdbx_auth_comp_id:Oa,pdbx_auth_seq_id:Oa,pdbx_auth_ins_code:Oa},struct_site_gen:{details:Oa,id:Oa,label_alt_id:Oa,label_asym_id:Oa,label_atom_id:Oa,label_comp_id:Oa,label_seq_id:Na,auth_asym_id:Oa,auth_comp_id:Oa,auth_seq_id:Oa,site_id:Oa,symmetry:Oa,pdbx_auth_ins_code:Oa,pdbx_num_res:Na},symmetry:{entry_id:Oa,cell_setting:Ua(qa),Int_Tables_number:Na,space_group_name_Hall:Oa,"space_group_name_H-M":Oa},pdbx_database_status:{status_code:Ua(Oa),status_code_sf:Ua(Oa),status_code_mr:Ua(Oa),entry_id:Oa,recvd_initial_deposition_date:Oa,SG_entry:Ua(qa),deposit_site:Ua(Oa),process_site:Ua(Oa),status_code_cs:Ua(Oa),methods_development_category:Ua(Oa),pdb_format_compatible:Ua(qa)},pdbx_nonpoly_scheme:{asym_id:Oa,entity_id:Oa,mon_id:Oa,pdb_strand_id:Oa,ndb_seq_num:Oa,pdb_seq_num:Oa,auth_seq_num:Oa,pdb_mon_id:Oa,auth_mon_id:Oa,pdb_ins_code:Oa},pdbx_database_related:{db_name:Oa,details:Oa,db_id:Oa,content_type:Ua(Oa)},pdbx_entity_nonpoly:{entity_id:Oa,comp_id:Oa,name:Oa},pdbx_chem_comp_synonyms:{name:Oa,comp_id:Oa,provenance:Ua(Oa)},pdbx_chem_comp_identifier:{comp_id:Oa,identifier:Oa,type:Ua(Oa),program:Oa,program_version:Oa},pdbx_unobs_or_zero_occ_residues:{id:Na,polymer_flag:Ua(qa),occupancy_flag:Ua(Na),PDB_model_num:Na,auth_asym_id:Oa,auth_comp_id:Oa,auth_seq_id:Oa,PDB_ins_code:Oa,label_asym_id:Oa,label_comp_id:Oa,label_seq_id:Na},pdbx_struct_mod_residue:{id:Na,auth_asym_id:Oa,auth_comp_id:Oa,auth_seq_id:Na,PDB_ins_code:Oa,label_asym_id:Oa,label_comp_id:Oa,label_seq_id:Na,parent_comp_id:Oa,details:Oa},pdbx_struct_oper_list:{id:Oa,type:Ua(Oa),name:Oa,symmetry_operation:Oa,matrix:La(3,3),vector:Ga(3)},pdbx_struct_assembly:{method_details:Oa,oligomeric_details:Oa,oligomeric_count:Na,details:Oa,id:Oa},pdbx_struct_assembly_gen:{asym_id_list:Fa(",",(function(e){return e})),assembly_id:Oa,oper_expression:Oa},pdbx_reference_entity_list:{prd_id:Oa,ref_entity_id:Oa,type:Ua(qa),details:Oa,component_id:Na},pdbx_reference_entity_link:{link_id:Na,prd_id:Oa,details:Oa,ref_entity_id_1:Oa,ref_entity_id_2:Oa,entity_seq_num_1:Na,entity_seq_num_2:Na,comp_id_1:Oa,comp_id_2:Oa,atom_id_1:Oa,atom_id_2:Oa,value_order:Ua(qa),component_1:Na,component_2:Na,link_class:Ua(Oa)},pdbx_reference_entity_poly_link:{link_id:Na,prd_id:Oa,ref_entity_id:Oa,component_id:Na,entity_seq_num_1:Na,entity_seq_num_2:Na,comp_id_1:Oa,comp_id_2:Oa,atom_id_1:Oa,atom_id_2:Oa,value_order:Ua(qa)},pdbx_molecule:{prd_id:Oa,instance_id:Na,asym_id:Oa},pdbx_molecule_features:{prd_id:Oa,class:Ua(qa),type:Ua(qa),name:Oa,details:Oa},entity_src_nat:{entity_id:Oa,pdbx_organism_scientific:Oa,pdbx_plasmid_name:Oa,pdbx_src_id:Na,pdbx_beg_seq_num:Na,pdbx_end_seq_num:Na},entity_src_gen:{entity_id:Oa,pdbx_gene_src_gene:Fa(",",(function(e){return e})),pdbx_gene_src_scientific_name:Oa,plasmid_name:Oa,pdbx_src_id:Na,pdbx_beg_seq_num:Na,pdbx_end_seq_num:Na},pdbx_entity_src_syn:{organism_scientific:Oa,entity_id:Oa,pdbx_src_id:Na,pdbx_beg_seq_num:Na,pdbx_end_seq_num:Na},pdbx_entity_branch_descriptor:{entity_id:Oa,descriptor:Oa,type:Ua(qa),program:Oa,program_version:Oa,ordinal:Na},pdbx_entity_instance_feature:{details:Oa,feature_type:Ua(Oa),auth_asym_id:Oa,asym_id:Oa,auth_seq_num:Oa,seq_num:Na,comp_id:Oa,auth_comp_id:Oa,ordinal:Na},pdbx_entity_branch_list:{entity_id:Oa,hetero:Ua(qa),comp_id:Oa,num:Na},pdbx_entity_branch_link:{link_id:Na,details:Oa,entity_id:Oa,entity_branch_list_num_1:Na,entity_branch_list_num_2:Na,comp_id_1:Oa,comp_id_2:Oa,atom_id_1:Oa,leaving_atom_id_1:Oa,atom_stereo_config_1:Ua(qa),atom_id_2:Oa,leaving_atom_id_2:Oa,atom_stereo_config_2:Ua(qa),value_order:Ua(qa)},pdbx_entity_branch:{entity_id:Oa,type:Ua(Oa)},pdbx_branch_scheme:{entity_id:Oa,hetero:Ua(qa),asym_id:Oa,mon_id:Oa,num:Na,pdb_asym_id:Oa,pdb_seq_num:Oa,pdb_mon_id:Oa,auth_asym_id:Oa,auth_seq_num:Oa,auth_mon_id:Oa},pdbx_chem_comp_related:{comp_id:Oa,related_comp_id:Oa,relationship_type:Ua(Oa),details:Oa},ihm_starting_model_details:{starting_model_id:Oa,entity_id:Oa,entity_description:Oa,asym_id:Oa,entity_poly_segment_id:Na,starting_model_source:Ua(Oa),starting_model_auth_asym_id:Oa,starting_model_sequence_offset:Na,dataset_list_id:Na},ihm_starting_comparative_models:{id:Na,starting_model_id:Oa,starting_model_auth_asym_id:Oa,starting_model_seq_id_begin:Na,starting_model_seq_id_end:Na,template_auth_asym_id:Oa,template_seq_id_begin:Na,template_seq_id_end:Na,template_sequence_identity:Ta,template_sequence_identity_denominator:Ua(Na),template_dataset_list_id:Na,alignment_file_id:Na},ihm_starting_model_seq_dif:{id:Na,entity_id:Oa,asym_id:Oa,seq_id:Na,comp_id:Oa,starting_model_id:Oa,db_asym_id:Oa,db_seq_id:Na,db_comp_id:Oa,details:Oa},ihm_model_representation:{id:Na,name:Oa,details:Oa},ihm_model_representation_details:{id:Na,representation_id:Na,entity_poly_segment_id:Na,entity_id:Oa,entity_description:Oa,entity_asym_id:Oa,model_object_primitive:Ua(Oa),starting_model_id:Oa,model_mode:Ua(Oa),model_granularity:Ua(Oa),model_object_count:Na},ihm_struct_assembly_details:{id:Na,assembly_id:Na,parent_assembly_id:Na,entity_description:Oa,entity_id:Oa,asym_id:Oa,entity_poly_segment_id:Na},ihm_struct_assembly:{id:Na,name:Oa,description:Oa},ihm_modeling_protocol:{id:Na,num_steps:Na,protocol_name:Oa},ihm_modeling_protocol_details:{id:Na,protocol_id:Na,step_id:Na,struct_assembly_id:Na,dataset_group_id:Na,struct_assembly_description:Oa,step_name:Oa,step_method:Oa,num_models_begin:Na,num_models_end:Na,multi_scale_flag:Ua(qa),multi_state_flag:Ua(qa),ordered_flag:Ua(qa),script_file_id:Na,software_id:Na},ihm_multi_state_modeling:{state_id:Na,state_group_id:Na,population_fraction:Ta,population_fraction_sd:Ta,state_type:Oa,state_name:Oa,experiment_type:Ua(Oa),details:Oa},ihm_modeling_post_process:{id:Na,protocol_id:Na,analysis_id:Na,step_id:Na,type:Ua(Oa),feature:Ua(Oa),num_models_begin:Na,num_models_end:Na},ihm_ensemble_info:{ensemble_id:Na,ensemble_name:Oa,post_process_id:Na,model_group_id:Na,ensemble_clustering_method:Ua(Oa),ensemble_clustering_feature:Ua(Oa),num_ensemble_models:Na,num_ensemble_models_deposited:Na,ensemble_precision_value:Ta,ensemble_file_id:Na},ihm_model_list:{model_id:Na,model_name:Oa,assembly_id:Na,protocol_id:Na,representation_id:Na},ihm_model_group:{id:Na,name:Oa,details:Oa},ihm_model_group_link:{model_id:Na,group_id:Na},ihm_model_representative:{id:Na,model_group_id:Na,model_id:Na,selection_criteria:Ua(Oa)},ihm_dataset_list:{id:Na,data_type:Ua(Oa),database_hosted:Ua(qa)},ihm_dataset_group:{id:Na,name:Oa,application:Ua(Oa),details:Oa},ihm_dataset_group_link:{dataset_list_id:Na,group_id:Na},ihm_related_datasets:{dataset_list_id_derived:Na,dataset_list_id_primary:Na},ihm_dataset_related_db_reference:{id:Na,dataset_list_id:Na,db_name:Ua(Oa),accession_code:Oa,version:Oa,details:Oa},ihm_external_reference_info:{reference_id:Na,reference_provider:Oa,reference_type:Ua(Oa),reference:Oa,refers_to:Ua(Oa),associated_url:Oa},ihm_external_files:{id:Na,reference_id:Na,file_path:Oa,content_type:Ua(Oa),file_size_bytes:Ta,details:Oa},ihm_dataset_external_reference:{id:Na,dataset_list_id:Na,file_id:Na},ihm_localization_density_files:{id:Na,file_id:Na,ensemble_id:Na,entity_id:Oa,entity_poly_segment_id:Na,asym_id:Oa},ihm_predicted_contact_restraint:{id:Na,group_id:Na,entity_id_1:Oa,entity_id_2:Oa,asym_id_1:Oa,asym_id_2:Oa,comp_id_1:Oa,comp_id_2:Oa,seq_id_1:Na,seq_id_2:Na,rep_atom_1:Ua(Oa),rep_atom_2:Ua(Oa),distance_lower_limit:Ta,distance_upper_limit:Ta,probability:Ta,restraint_type:Ua(Oa),model_granularity:Ua(Oa),dataset_list_id:Na,software_id:Na},ihm_cross_link_list:{id:Na,group_id:Na,entity_description_1:Oa,entity_description_2:Oa,entity_id_1:Oa,entity_id_2:Oa,comp_id_1:Oa,comp_id_2:Oa,seq_id_1:Na,seq_id_2:Na,linker_type:Ua(Oa),dataset_list_id:Na},ihm_cross_link_restraint:{id:Na,group_id:Na,entity_id_1:Oa,entity_id_2:Oa,asym_id_1:Oa,asym_id_2:Oa,comp_id_1:Oa,comp_id_2:Oa,seq_id_1:Na,seq_id_2:Na,atom_id_1:Oa,atom_id_2:Oa,restraint_type:Ua(Oa),conditional_crosslink_flag:Ua(Oa),model_granularity:Ua(Oa),distance_threshold:Ta,psi:Ta,sigma_1:Ta,sigma_2:Ta},ihm_cross_link_result_parameters:{id:Na,restraint_id:Na,model_id:Na,psi:Ta,sigma_1:Ta,sigma_2:Ta},ihm_2dem_class_average_restraint:{id:Na,dataset_list_id:Na,number_raw_micrographs:Na,pixel_size_width:Ta,pixel_size_height:Ta,image_resolution:Ta,image_segment_flag:Ua(qa),number_of_projections:Na,struct_assembly_id:Na,details:Oa},ihm_2dem_class_average_fitting:{id:Na,restraint_id:Na,model_id:Na,cross_correlation_coefficient:Ta,rot_matrix:La(3,3),tr_vector:Ga(3)},ihm_3dem_restraint:{id:Na,dataset_list_id:Na,model_id:Na,struct_assembly_id:Na,fitting_method:Oa,number_of_gaussians:Na,cross_correlation_coefficient:Ta},ihm_sas_restraint:{id:Na,dataset_list_id:Na,model_id:Na,struct_assembly_id:Na,profile_segment_flag:Ua(qa),fitting_atom_type:Oa,fitting_method:Oa,fitting_state:Ua(Oa),radius_of_gyration:Ta,chi_value:Ta,details:Oa},ihm_starting_model_coord:{ordinal_id:Na,starting_model_id:Oa,group_PDB:Ua(Oa),id:Na,type_symbol:Oa,entity_id:Oa,atom_id:Oa,comp_id:Oa,seq_id:Na,asym_id:Oa,Cartn_x:Ta,Cartn_y:Ta,Cartn_z:Ta,B_iso_or_equiv:Ta},ihm_sphere_obj_site:{id:Na,entity_id:Oa,seq_id_begin:Na,seq_id_end:Na,asym_id:Oa,Cartn_x:Ta,Cartn_y:Ta,Cartn_z:Ta,object_radius:Ta,rmsf:Ta,model_id:Na},ihm_gaussian_obj_site:{id:Na,entity_id:Oa,seq_id_begin:Na,seq_id_end:Na,asym_id:Oa,mean_Cartn_x:Ta,mean_Cartn_y:Ta,mean_Cartn_z:Ta,weight:Ta,covariance_matrix:La(3,3),model_id:Na},ihm_gaussian_obj_ensemble:{id:Na,entity_id:Oa,seq_id_begin:Na,seq_id_end:Na,asym_id:Oa,mean_Cartn_x:Ta,mean_Cartn_y:Ta,mean_Cartn_z:Ta,weight:Ta,covariance_matrix:La(3,3),ensemble_id:Na},ihm_feature_list:{feature_id:Na,feature_type:Ua(Oa),entity_type:Ua(Oa)},ihm_poly_residue_feature:{ordinal_id:Na,feature_id:Na,entity_id:Oa,asym_id:Oa,comp_id_begin:Oa,comp_id_end:Oa,seq_id_begin:Na,seq_id_end:Na},ihm_derived_distance_restraint:{id:Na,group_id:Na,feature_id_1:Na,feature_id_2:Na,group_conditionality:Ua(Oa),random_exclusion_fraction:Ta,distance_upper_limit:Ta,restraint_type:Ua(Oa),dataset_list_id:Na},ma_model_list:{ordinal_id:Na,model_id:Na,model_group_id:Na,model_name:Oa,model_group_name:Oa,model_type:Ua(Oa),data_id:Na},ma_target_entity:{entity_id:Oa,data_id:Na,origin:Ua(Oa)},ma_target_entity_instance:{asym_id:Oa,entity_id:Oa,details:Oa},ma_target_ref_db_details:{target_entity_id:Oa,db_name:Ua(Oa),db_code:Oa,db_accession:Oa,seq_db_isoform:Oa,seq_db_align_begin:Oa,seq_db_align_end:Oa,ncbi_taxonomy_id:Oa,organism_scientific:Oa},ma_data:{id:Na,content_type:Ua(Oa),content_type_other_details:Oa,name:Oa},ma_software_group:{ordinal_id:Na,group_id:Na,software_id:Na},ma_qa_metric:{id:Na,name:Oa,type:Ua(Oa),mode:Ua(Oa),software_group_id:Na},ma_qa_metric_global:{ordinal_id:Na,model_id:Na,metric_id:Na,metric_value:Ta},ma_qa_metric_local:{ordinal_id:Na,model_id:Na,label_asym_id:Oa,label_seq_id:Na,label_comp_id:Oa,metric_id:Na,metric_value:Ta}};!function(e){!function(e){e[e.Int8=1]="Int8",e[e.Int16=2]="Int16",e[e.Int32=3]="Int32",e[e.Uint8=4]="Uint8",e[e.Uint16=5]="Uint16",e[e.Uint32=6]="Uint32"}(e.IntDataType||(e.IntDataType={})),function(e){e[e.Float32=32]="Float32",e[e.Float64=33]="Float64"}(e.FloatDataType||(e.FloatDataType={})),e.getDataType=function(t){return t instanceof Int8Array?e.IntDataType.Int8:t instanceof Int16Array?e.IntDataType.Int16:t instanceof Int32Array?e.IntDataType.Int32:t instanceof Uint8Array?e.IntDataType.Uint8:t instanceof Uint16Array?e.IntDataType.Uint16:t instanceof Uint32Array?e.IntDataType.Uint32:t instanceof Float32Array?e.FloatDataType.Float32:t instanceof Float64Array?e.FloatDataType.Float64:e.IntDataType.Int32},e.isSignedIntegerDataType=function(e){if(e instanceof Int8Array||e instanceof Int16Array||e instanceof Int32Array)return!0;for(var t=0,n=e.length;t<n;t++)if(t<0)return!1;return!0}}(ka||(ka={}));new Uint16Array(new Uint8Array([18,52]).buffer)[0];var Ha,Va;function za(e,t,n){var r,i=1;for(r=0;r<t;r++){var o=i*e;if(Math.abs(Math.round(o)-o)<=n)return r;i*=10}return-1}function Ya(e){return Ha.classify(e)}!function(e){function t(e,t){return e>=0?Math.ceil((e+1)/t):Math.ceil((e+1)/(-t-1))}function n(e,n,r){var i=e.limit8,o=e.limit16;n.pack8+=t(r,i),n.pack16+=t(r,o),n.count+=1}function r(e,n){e.pack8+=t(n,127),e.pack16+=t(n,32767),e.count+=1}function i(e){return 4*e.count<2*e.pack16?{length:4*e.count,elem:4}:2*e.pack16<e.pack8?{length:2*e.pack16,elem:2}:{length:e.pack8,elem:1}}function o(e,t){for(var r={pack8:0,pack16:0,count:0},o=0,a=e.length;o<a;o++)n(t,r,e[o]);return Object(T.a)(Object(T.a)({},i(r)),{kind:"pack"})}function a(e,t){for(var n={pack8:0,pack16:0,count:0},o=e[0],a=1,u=e.length;a<u;a++)r(n,e[a]-o),o=e[a];return Object(T.a)(Object(T.a)({},i(n)),{kind:"delta"})}function u(e,t){for(var r={pack8:0,pack16:0,count:0},o=1,a=1,u=e.length;a<u;a++)e[a-1]!==e[a]?(n(t,r,e[a-1]),n(t,r,o),o=1):o++;return n(t,r,e[e.length-1]),n(t,r,o),Object(T.a)(Object(T.a)({},i(r)),{kind:"rle"})}function s(e,t){for(var n={pack8:0,pack16:0,count:0},o=1,a=0,u=0,s=1,c=e.length;s<c;s++){var l=e[s]-a;u!==l?(r(n,u),r(n,o),o=1):o++,u=l,a=e[s]}return r(n,u),r(n,o),Object(T.a)(Object(T.a)({},i(n)),{kind:"delta-rle"})}function c(e){var t=function(e){for(var t=!1,n=0,r=e.length;n<r;n++)if(e[n]<0){t=!0;break}return t?{signed:t,limit8:127,limit16:32767}:{signed:t,limit8:255,limit16:65535}}(e),n=[o(e,t),u(e,t),a(e),s(e)];return n.sort((function(e,t){return e.length-t.length})),n}e.getSize=c,e.classify=function(e){if(e.length<2)return Za.by(Za.byteArray);var t=c(e)[0];switch(t.kind){case"pack":return Za.by(Za.integerPacking);case"rle":return Za.by(Za.runLength).and(Za.integerPacking);case"delta":return Za.by(Za.delta).and(Za.integerPacking);case"delta-rle":return Za.by(Za.delta).and(Za.runLength).and(Za.integerPacking);default:k()}}}(Ha||(Ha={})),(Va||(Va={})).classify=function(e){var t=function(e,t,n){for(var r=1,i=0,o=0,a=e.length;o<a;o++){if(r>=0){var u=za(e[o],t,n);u<0?r=-1:u>r&&(r=u)}var s=Math.abs(e[o]);if(s>n){var c=Math.floor(Math.log10(Math.abs(s)))+1;c>i&&(i=c)}}return{mantissaDigits:r,integerDigits:i}}(e,4,1e-6),n=t.mantissaDigits,r=t.integerDigits;if(n<0||n+r>10)return Za.by(Za.byteArray);if(0===n)return Ha.classify(e);for(var i=function(e){for(var t=1,n=0;n<e;n++)t*=10;return t}(n),o=new Int32Array(e.length),a=0,u=e.length;a<u;a++)o[a]=Math.round(i*e[a]);var s=Ha.getSize(o)[0],c=Za.by(Za.fixedPoint(i));switch(s.kind){case"pack":return c.and(Za.integerPacking);case"rle":return c.and(Za.runLength).and(Za.integerPacking);case"delta":return c.and(Za.delta).and(Za.integerPacking);case"delta-rle":return c.and(Za.delta).and(Za.runLength).and(Za.integerPacking);default:k()}};var Ka,Za,Wa,Xa,Qa,Ja,$a=function(){function e(e){this.providers=e}return e.prototype.and=function(t){return new e(this.providers.concat([t]))},e.prototype.encode=function(e){for(var t=[],n=0,r=this.providers;n<r.length;n++){var i=(0,r[n])(e);if(!i.encodings.length)throw new Error("Encodings must be non-empty.");e=i.data;for(var o=0,a=i.encodings;o<a.length;o++){var u=a[o];t.push(u)}}if(!(e instanceof Uint8Array))throw new Error("The encoding must result in a Uint8Array. Fix your encoding chain.");return{encoding:t,data:e}},e}();function eu(e){return function(t,n){return n[e].value(t)}}function tu(e){return function(t,n){return n[e].value(t).join(n[e].schema.separator)}}function nu(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(n,r){var i;return(i=r[e].schema.space).get.apply(i,Object(T.e)([r[e].value(n)],t,!1))}}function ru(e){return function(t,n){return n[e].valueKind(t)}}function iu(e,t){var n=[],r=ru(e);if(1===t.rank)for(var i=t.dimensions[0],o=0;o<i;o++){var a="".concat(e,"[").concat(o+1,"]");n.push({name:a,type:2,value:nu(e,o),valueKind:r})}else if(2===t.rank){i=t.dimensions[0];var u=t.dimensions[1];for(o=0;o<i;o++)for(var s=0;s<u;s++){var c="".concat(e,"[").concat(o+1,"][").concat(s+1,"]");n.push({name:c,type:2,value:nu(e,o,s),valueKind:r})}}else{if(3!==t.rank)throw new Error("Tensors with rank > 3 or rank 0 are currently not supported.");var l=t.dimensions[0],d=t.dimensions[1],f=t.dimensions[2];for(o=0;o<l;o++)for(s=0;s<d;s++)for(var p=0;p<f;p++){var m="".concat(e,"[").concat(o+1,"][").concat(s+1,"][").concat(p+1,"]");n.push({name:m,type:2,value:nu(e,o,s,p),valueKind:r})}}return n}function ou(e){for(var t=[],n=0,r=Object.keys(e);n<r.length;n++){var i=r[n],o=e[i];"int"===o.valueType?t.push({name:i,type:1,value:eu(i),valueKind:ru(i)}):"float"===o.valueType?t.push({name:i,type:2,value:eu(i),valueKind:ru(i)}):"str"===o.valueType?t.push({name:i,type:0,value:eu(i),valueKind:ru(i)}):"list"===o.valueType?t.push({name:i,type:0,value:tu(i),valueKind:ru(i)}):"tensor"===o.valueType?t.push.apply(t,iu(i,o.space)):k(o.valueType)}return t}function au(e){return e.fields.some((function(e){return!!e.shouldInclude}))?e.fields.filter((function(t){return!t.shouldInclude||e.source.some((function(e){return t.shouldInclude(e.data)}))})):e.fields}function uu(e,t){var n=e.instance(t),r=n.source.filter((function(e){return e.rowCount>0}));return r.length?{instance:n,rowCount:r.reduce((function(e,t){return e+t.rowCount}),0),source:r.map((function(e){return{data:e.data,keys:function(){return e.keys?e.keys():$n.Range(0,e.rowCount-1)},rowCount:e.rowCount}}))}:{instance:n,rowCount:0,source:[]}}!function(e){function t(e){return new $a([e])}function n(e){switch(e.kind){case"ByteArray":return Za.byteArray;case"FixedPoint":return Za.fixedPoint(e.factor);case"IntervalQuantization":return Za.intervalQuantizaiton(e.min,e.max,e.numSteps);case"RunLength":return Za.runLength;case"Delta":return Za.delta;case"IntegerPacking":return Za.integerPacking;case"StringArray":return Za.stringArray}}e.by=t,e.fromEncoding=function(e){for(var r=t(n(e[0])),i=1;i<e.length;i++)r=r.and(n(e[i]));return r}}(Ka||(Ka={})),function(e){var t,n;e.by=function(e){return new $a([e])};var r=((t={})[ka.IntDataType.Int16]=function(e,t,n){e.setInt16(2*t,n,!0)},t[ka.IntDataType.Uint16]=function(e,t,n){e.setUint16(2*t,n,!0)},t[ka.IntDataType.Int32]=function(e,t,n){e.setInt32(4*t,n,!0)},t[ka.IntDataType.Uint32]=function(e,t,n){e.setUint32(4*t,n,!0)},t[ka.FloatDataType.Float32]=function(e,t,n){e.setFloat32(4*t,n,!0)},t[ka.FloatDataType.Float64]=function(e,t,n){e.setFloat64(8*t,n,!0)},t),i=((n={})[ka.IntDataType.Int16]=2,n[ka.IntDataType.Uint16]=2,n[ka.IntDataType.Int32]=4,n[ka.IntDataType.Uint32]=4,n[ka.FloatDataType.Float32]=4,n[ka.FloatDataType.Float64]=8,n);function o(e){var t=ka.getDataType(e);if(t===ka.IntDataType.Int8)return function(e){return{encodings:[{kind:"ByteArray",type:ka.IntDataType.Int8}],data:new Uint8Array(e.buffer,e.byteOffset)}}(e);if(t===ka.IntDataType.Uint8)return function(e){return{encodings:[{kind:"ByteArray",type:ka.IntDataType.Uint8}],data:e}}(e);for(var n=new Uint8Array(e.length*i[t]),o=r[t],a=new DataView(n.buffer),u=0,s=e.length;u<s;u++)o(a,u,e[u]);return{encodings:[{kind:"ByteArray",type:t}],data:n}}function a(e,t){for(var n=0,r=0,i=e.length;r<i;r++)n+=e[r]/t|0;return n+=e.length}function u(e,t){for(var n=-t-1,r=0,i=0,o=e.length;i<o;i++){var a=e[i];r+=a>=0?a/t|0:a/n|0}return r+=e.length}e.byteArray=o,e.fixedPoint=function(e){return function(t){return function(e,t){for(var n=ka.getDataType(e),r=new Int32Array(e.length),i=0,o=e.length;i<o;i++)r[i]=Math.round(e[i]*t);return{encodings:[{kind:"FixedPoint",factor:t,srcType:n}],data:r}}(t,e)}},e.intervalQuantizaiton=function(e,t,n,r){return void 0===r&&(r=Int32Array),function(i){return function(e,t,n,r,i){var o=ka.getDataType(e);if(!e.length)return{encodings:[{kind:"IntervalQuantization",min:t,max:n,numSteps:r,srcType:o}],data:new Int32Array(0)};if(n<t){var a=t;t=n,n=a}for(var u=(n-t)/(r-1),s=new i(e.length),c=0,l=e.length;c<l;c++){var d=e[c];s[c]=d<=t?0:d>=n?r-1:0|Math.round((d-t)/u)}return{encodings:[{kind:"IntervalQuantization",min:t,max:n,numSteps:r,srcType:o}],data:s}}(i,e,t,n,r)}},e.runLength=function(e){var t=ka.getDataType(e);if(void 0===t&&(e=new Int32Array(e),t=ka.IntDataType.Int32),!e.length)return{encodings:[{kind:"RunLength",srcType:t,srcSize:0}],data:new Int32Array(0)};for(var n=2,r=1,i=e.length;r<i;r++)e[r-1]!==e[r]&&(n+=2);var o=new Int32Array(n),a=0,u=1;for(r=1,i=e.length;r<i;r++)e[r-1]!==e[r]?(o[a]=e[r-1],o[a+1]=u,u=1,a+=2):++u;return o[a]=e[e.length-1],o[a+1]=u,{encodings:[{kind:"RunLength",srcType:t,srcSize:e.length}],data:o}},e.delta=function(e){if(!ka.isSignedIntegerDataType(e))throw new Error("Only signed integer types can be encoded using delta encoding.");var t=ka.getDataType(e);if(void 0===t&&(e=new Int32Array(e),t=ka.IntDataType.Int32),!e.length)return{encodings:[{kind:"Delta",origin:0,srcType:t}],data:new e.constructor(0)};var n=new e.constructor(e.length),r=e[0];n[0]=e[0];for(var i=1,o=e.length;i<o;i++)n[i]=e[i]-e[i-1];return n[0]=0,{encodings:[{kind:"Delta",origin:r,srcType:t}],data:n}},e.integerPacking=function(e){var t=function(e){var t=function(e){for(var t=0,n=e.length;t<n;t++)if(e[t]<0)return!0;return!1}(e),n=t?u(e,127):a(e,255),r=t?u(e,32767):a(e,65535);return 4*e.length<2*r?{isSigned:t,size:e.length,bytesPerElement:4}:2*r<n?{isSigned:t,size:r,bytesPerElement:2}:{isSigned:t,size:n,bytesPerElement:1}}(e);return 4===t.bytesPerElement?o(e):function(e,t){for(var n=t.isSigned?1===t.bytesPerElement?127:32767:1===t.bytesPerElement?255:65535,r=-n-1,i=e.length,a=t.isSigned?1===t.bytesPerElement?new Int8Array(t.size):new Int16Array(t.size):1===t.bytesPerElement?new Uint8Array(t.size):new Uint16Array(t.size),u=0,s=0;s<i;s++){var c=e[s];if(c>=0)for(;c>=n;)a[u]=n,++u,c-=n;else for(;c<=r;)a[u]=r,++u,c-=r;a[u]=c,++u}var l=o(a);return{encodings:[{kind:"IntegerPacking",byteCount:t.bytesPerElement,isUnsigned:!t.isSigned,srcSize:i},l.encodings[0]],data:l.data}}(e,t)},e.stringArray=function(e){var t=Object.create(null),n=[],r=new Int32Array(e.length),i=ee.create(Int32Array,1,Math.min(1024,e.length<32?e.length+1:Math.round(e.length/8)+1));ee.add(i,0);for(var o=0,a=0,u=0,s=e;u<s.length;u++){var c=s[u];if(null!=c){var l=t[c];void 0===l&&(o+=c.length,n[l=n.length]=c,t[c]=l,ee.add(i,o)),r[a++]=l}else r[a++]=-1}var d=ee.compact(i),f=Ya(d).encode(d),p=Ya(r).encode(r);return{encodings:[{kind:"StringArray",dataEncoding:p.encoding,stringData:n.join(""),offsetEncoding:f.encoding,offsets:f.data}],data:p.data}}}(Za||(Za={})),function(e){function t(e,t,n){return{name:e,type:1,value:t,valueKind:n&&n.valueKind,defaultFormat:n?{encoder:n.encoder,typedArray:n.typedArray}:void 0,shouldInclude:n&&n.shouldInclude}}e.str=function(e,t,n){return{name:e,type:0,value:t,valueKind:n&&n.valueKind,defaultFormat:n&&n.encoder?{encoder:n.encoder}:void 0,shouldInclude:n&&n.shouldInclude}},e.int=t,e.float=function(e,t,n){return{name:e,type:2,value:t,valueKind:n&&n.valueKind,defaultFormat:n?{encoder:n.encoder,typedArray:n.typedArray,digitCount:void 0!==n.digitCount?n.digitCount:void 0}:void 0,shouldInclude:n&&n.shouldInclude}},e.index=function(e){return t(e,(function(e,t,n){return n+1}),{typedArray:Int32Array,encoder:Za.by(Za.delta).and(Za.runLength).and(Za.integerPacking)})};var n=function(){function t(){this.fields=[]}return t.prototype.index=function(t){return this.fields.push(e.index(t)),this},t.prototype.str=function(t,n,r){return this.fields.push(e.str(t,n,r)),this},t.prototype.int=function(t,n,r){return this.fields.push(e.int(t,n,r)),this},t.prototype.vec=function(t,n,r){for(var i=0;i<n.length;i++)this.fields.push(e.int("".concat(t,"[").concat(i+1,"]"),n[i],r));return this},t.prototype.float=function(t,n,r){return this.fields.push(e.float(t,n,r)),this},t.prototype.many=function(e){for(var t=0;t<e.length;t++)this.fields.push(e[t]);return this},t.prototype.add=function(e){return this.fields.push(e),this},t.prototype.getFields=function(){return this.fields},t}();e.Builder=n,e.build=function(){return new n}}(Wa||(Wa={})),(Qa=Xa||(Xa={})).Empty={fields:[],source:[]},Qa.filterOf=function(e){for(var t=[],n=[],r=[],i=[],o=0,a=e.split(/[\r\n]+/);o<a.length;o++){var u=a[o];if(0!==(u=u.trim()).length){var s=/^!/.test(u);s&&(u=u.substr(1));var c=u.split(/\./),l=c[1],d=s?l?i:n:l?r:t;d[d.length]=u,l&&!t.includes(c[0])&&(t[t.length]=c[0])}}var f=r.map((function(e){return e.split(".")[0]}));return{includeCategory:function(e){return!n.includes(e)&&(t.length<=0||-1!==t.indexOf(e))},includeField:function(e,t){var n=e+"."+t;return!i.includes(n)&&(!f.includes(e)||r.includes(n))}}},Qa.DefaultFilter={includeCategory:function(e){return!0},includeField:function(e,t){return!0}},Qa.DefaultFormatter={getFormat:function(e,t){}},Qa.ofTable=function(e,t){return t?{fields:ou(e._schema),source:[{data:e,rowCount:t.length,keys:function(){return $n.Array(t)}}]}:{fields:ou(e._schema),source:[{data:e,rowCount:e._rowCount}]}},function(e){function t(e,t,n){e.startDataBlock(t);for(var r=function(t){e.writeCategory({name:t,instance:function(){return Xa.ofTable(n[t])}})},i=0,o=n._tableNames;i<o.length;i++){r(o[i])}}e.writeDatabase=t,e.writeDatabaseCollection=function(e,n){for(var r=0,i=Object.keys(n);r<i.length;r++){var o=i[r];t(e,o,n[o])}}}(Ja||(Ja={}));var su=function(){function e(){this.builder=ke.create(),this.encoded=!1,this.dataBlockCreated=!1,this.filter=Xa.DefaultFilter,this.formatter=Xa.DefaultFormatter,this.isBinary=!1,this.binaryEncodingProvider=void 0}return e.prototype.setFilter=function(e){this.filter=e||Xa.DefaultFilter},e.prototype.isCategoryIncluded=function(e){return this.filter.includeCategory(e)},e.prototype.setFormatter=function(e){this.formatter=e||Xa.DefaultFormatter},e.prototype.startDataBlock=function(e){this.dataBlockCreated=!0,ke.write(this.builder,"data_".concat((e||"").replace(/[ \n\t]/g,"").toUpperCase(),"\n#\n"))},e.prototype.writeCategory=function(e,t,n){if(this.encoded)throw new Error("The writer contents have already been encoded, no more writing.");if(!this.dataBlockCreated)throw new Error("No data block created.");if((null==n?void 0:n.ignoreFilter)||this.filter.includeCategory(e.name)){var r=uu(e,t),i=r.instance,o=r.rowCount,a=r.source;o&&(1===o?function(e,t,n,r,i,o){var a=au(t),u=n[0],s=u.data,c=a.reduce((function(t,n){return i.includeField(e.name,n.name)?Math.max(t,n.name.length):0}),0);if(0===c)return;c+=e.name.length+6;for(var l=u.keys().move(),d=lu(e.name,t.fields,o),f=0;f<a.length;f++){var p=a[f];if(i.includeField(e.name,p.name))ke.writePadRight(r,"_".concat(e.name,".").concat(p.name),c),cu(r,s,l,p,d[f],0)||ke.newline(r)}ke.write(r,"#\n")}(e,i,a,this.builder,this.filter,this.formatter):function(e,t,n,r,i,o){var a=au(t),u=i===Xa.DefaultFilter?a:a.filter((function(t){return i.includeField(e.name,t.name)})),s=u.length;if(0===s)return;var c=lu(e.name,u,o);du(r,"loop_");for(var l=0;l<s;l++)du(r,"_".concat(e.name,".").concat(u[l].name));for(var d=0,f=0;f<n.length;f++){var p=n[f],m=p.data;if(0!==p.rowCount)for(var h=p.keys();h.hasNext;){for(var g=h.move(),v=!1,y=0;y<s;y++)v=cu(r,m,g,u[y],c[y],d);v||ke.newline(r),d++}}ke.write(r,"#\n")}(e,i,a,this.builder,this.filter,this.formatter))}},e.prototype.encode=function(){this.encoded=!0},e.prototype.writeTo=function(e){for(var t=ke.getChunks(this.builder),n=0,r=t.length;n<r;n++)e.writeString(t[n])},e.prototype.getSize=function(){return ke.getSize(this.builder)},e.prototype.getData=function(){return ke.getString(this.builder)},e}();function cu(e,t,n,r,i,o){var a,u=r.valueKind,s=u?u(n,t):0;if(0!==s)1===s?function(e){ke.writeSafe(e,". ")}(e):function(e){ke.writeSafe(e,"? ")}(e);else{var c=r.value(n,t,o),l=r.type;if(0===l)return"string"==typeof(a=c)&&a.indexOf("\n")>=0?(fu(e,c),!0):function(e,t){if(!t)return ke.writeSafe(e,". "),!1;for(var n=t.charCodeAt(0),r=!1,i=0,o=!1,a=!1,u=0,s=t.length-1;u<=s;u++){switch(t.charCodeAt(u)){case 9:r=!0;break;case 10:return fu(e,t),!0;case 32:r=!0;break;case 34:if(u&&u===s)break;if(o)return fu(e,t),!0;a=!0,r=!0,i=0;break;case 39:if(u&&u===s)break;if(a)return fu(e,t),!0;o=!0,r=!0,i=1}}r||35!==n&&36!==n&&59!==n&&91!==n&&93!==n&&95!==n||(r=!0);r?(ke.writeSafe(e,i?'"':"'"),ke.writeSafe(e,t),ke.writeSafe(e,i?'" ':"' ")):(ke.writeSafe(e,t),ke.writeSafe(e," "));return!1}(e,c);1===l?function(e,t){ke.writeInteger(e,t),ke.whitespace1(e)}(e,c):function(e,t,n){ke.writeFloat(e,t,n),ke.whitespace1(e)}(e,c,i)}return!1}function lu(e,t,n){for(var r,i=[],o=0,a=t;o<a.length;o++){var u=a[o],s=n.getFormat(e,u.name);s&&void 0!==s.digitCount?i[i.length]=2===u.type?Math.pow(10,Math.max(0,Math.min(s.digitCount,15))):0:i[i.length]=2===u.type?Math.pow(10,(r=u).defaultFormat&&void 0!==r.defaultFormat.digitCount?Math.max(0,Math.min(r.defaultFormat.digitCount,16)):6):0}return i}function du(e,t){ke.write(e,t),ke.newline(e)}function fu(e,t){ke.writeSafe(e,"\n;"+t),ke.writeSafe(e,"\n;\n")}function pu(e,t,n){for(var r=0,i=n.length;r<i;r++){var o=n.charCodeAt(r);if(o<128)e[t++]=o>>>0&127|0;else if(o<2048)e[t++]=o>>>6&31|192,e[t++]=o>>>0&63|128;else if(o<65536)e[t++]=o>>>12&15|224,e[t++]=o>>>6&63|128,e[t++]=o>>>0&63|128;else{if(!(o<1114112))throw new Error("bad codepoint "+o);e[t++]=o>>>18&7|240,e[t++]=o>>>12&63|128,e[t++]=o>>>6&63|128,e[t++]=o>>>0&63|128}}}var mu=function(){for(var e=[],t=0;t<1024;t++)e[t]=String.fromCharCode(t);return e}();function hu(e){throw new Error(e)}var gu="undefined"!=typeof TextDecoder?new TextDecoder:void 0;function vu(e,t,n){if(gu){var r=t||n!==e.length?e.subarray(t,t+n):e;return gu.decode(r)}return function(e,t,n){for(var r=mu,i=void 0,o=0,a=[],u=t,s=t+n;u<s;u++){var c=e[u];0==(128&c)?a[o++]=r[c]:192==(224&c)?a[o++]=r[(15&c)<<6|63&e[++u]]:224==(240&c)?a[o++]=String.fromCharCode((15&c)<<12|(63&e[++u])<<6|(63&e[++u])<<0):240==(248&c)?a[o++]=String.fromCharCode((7&c)<<18|(63&e[++u])<<12|(63&e[++u])<<6|(63&e[++u])<<0):hu("Invalid byte "+c.toString(16)),512===o&&((i=i||[])[i.length]=a.join(""),o=0)}return i?(o>0&&(i[i.length]=a.slice(0,o).join("")),i.join("")):a.slice(0,o).join("")}(e,t,n)}function yu(e){for(var t=0,n=0,r=e.length;n<r;n++){var i=e.charCodeAt(n);i<128?t+=1:i<2048?t+=2:i<65536?t+=3:i<1114112?t+=4:hu("bad codepoint "+i)}return t}function _u(e){var t=new ArrayBuffer(function e(t){var n=typeof t;if("string"===n){var r=yu(t);if(r<32)return 1+r;if(r<256)return 2+r;if(r<65536)return 3+r;if(r<4294967296)return 5+r}if(t instanceof Uint8Array){var i=t.byteLength;if(i<256)return 2+i;if(i<65536)return 3+i;if(i<4294967296)return 5+i}if("number"===n){if(Math.floor(t)!==t)return 9;if(t>=0){if(t<128)return 1;if(t<256)return 2;if(t<65536)return 3;if(t<4294967296)return 5;throw new Error("Number too big 0x"+t.toString(16))}if(t>=-32)return 1;if(t>=-128)return 2;if(t>=-32768)return 3;if(t>=-2147483648)return 5;throw new Error("Number too small -0x"+t.toString(16).substr(1))}if("boolean"===n||null==t)return 1;if("object"===n){var o,a=0;if(Array.isArray(t)){o=t.length;for(var u=0;u<o;u++)a+=e(t[u])}else{var s=Object.keys(t);o=s.length;for(u=0;u<o;u++){var c=s[u];a+=e(c)+e(t[c])}}if(o<16)return 1+a;if(o<65536)return 3+a;if(o<4294967296)return 5+a;throw new Error("Array or object too long 0x"+o.toString(16))}throw new Error("Unknown type "+n)}(e)),n=new DataView(t),r=new Uint8Array(t);return function e(t,n,r,i){var o=typeof t;if("string"===o){var a=yu(t);if(a<32)return n.setUint8(i,160|a),pu(r,i+1,t),1+a;if(a<256)return n.setUint8(i,217),n.setUint8(i+1,a),pu(r,i+2,t),2+a;if(a<65536)return n.setUint8(i,218),n.setUint16(i+1,a),pu(r,i+3,t),3+a;if(a<4294967296)return n.setUint8(i,219),n.setUint32(i+1,a),pu(r,i+5,t),5+a}if(t instanceof Uint8Array){var u=t.byteLength,s=new Uint8Array(n.buffer);if(u<256)return n.setUint8(i,196),n.setUint8(i+1,u),s.set(t,i+2),2+u;if(u<65536)return n.setUint8(i,197),n.setUint16(i+1,u),s.set(t,i+3),3+u;if(u<4294967296)return n.setUint8(i,198),n.setUint32(i+1,u),s.set(t,i+5),5+u}if("number"===o){if(!isFinite(t))throw new Error("Number not finite: "+t);if(Math.floor(t)!==t)return n.setUint8(i,203),n.setFloat64(i+1,t),9;if(t>=0){if(t<128)return n.setUint8(i,t),1;if(t<256)return n.setUint8(i,204),n.setUint8(i+1,t),2;if(t<65536)return n.setUint8(i,205),n.setUint16(i+1,t),3;if(t<4294967296)return n.setUint8(i,206),n.setUint32(i+1,t),5;throw new Error("Number too big 0x"+t.toString(16))}if(t>=-32)return n.setInt8(i,t),1;if(t>=-128)return n.setUint8(i,208),n.setInt8(i+1,t),2;if(t>=-32768)return n.setUint8(i,209),n.setInt16(i+1,t),3;if(t>=-2147483648)return n.setUint8(i,210),n.setInt32(i+1,t),5;throw new Error("Number too small -0x"+(-t).toString(16).substr(1))}if(null==t)return n.setUint8(i,192),1;if("boolean"===o)return n.setUint8(i,t?195:194),1;if("object"===o){var c,l=0,d=Array.isArray(t),f=void 0;if(d?c=t.length:(f=Object.keys(t),c=f.length),c<16?(n.setUint8(i,c|(d?144:128)),l=1):c<65536?(n.setUint8(i,d?220:222),n.setUint16(i+1,c),l=3):c<4294967296&&(n.setUint8(i,d?221:223),n.setUint32(i+1,c),l=5),d)for(var p=0;p<c;p++)l+=e(t[p],n,r,i+l);else{p=0;for(var m=f.length;p<m;p++){var h=f[p];l+=e(h,n,r,i+l),l+=e(t[h],n,r,i+l)}}return l}throw new Error("Unknown type "+o)}(e,n,r,0),r}var bu,xu,Au,wu=function(){function e(e,t,n){this.autoClassify=n,this.dataBlocks=[],this.filter=Xa.DefaultFilter,this.formatter=Xa.DefaultFormatter,this.isBinary=!0,this.binaryEncodingProvider=void 0,this.binaryEncodingProvider=t,this.data={encoder:e,version:"0.3.0",dataBlocks:this.dataBlocks}}return e.prototype.setFilter=function(e){this.filter=e||Xa.DefaultFilter},e.prototype.isCategoryIncluded=function(e){return this.filter.includeCategory(e)},e.prototype.setFormatter=function(e){this.formatter=e||Xa.DefaultFormatter},e.prototype.startDataBlock=function(e){this.dataBlocks.push({header:(e||"").replace(/[ \n\t]/g,"").toUpperCase(),categories:[]})},e.prototype.writeCategory=function(e,t,n){if(!this.data)throw new Error("The writer contents have already been encoded, no more writing.");if(!this.dataBlocks.length)throw new Error("No data block created.");if((null==n?void 0:n.ignoreFilter)||this.filter.includeCategory(e.name)){var r=uu(e,t),i=r.instance,o=r.rowCount,a=r.source;if(o){for(var u={name:"_"+e.name,columns:[],rowCount:o},s=0,c=au(i);s<c.length;s++){var l=c[s];if(this.filter.includeField(e.name,l.name)){var d=this.formatter.getFormat(e.name,l.name);u.columns.push(Cu(e.name,l,a,o,d,this.binaryEncodingProvider,this.autoClassify))}}u.columns.length&&this.dataBlocks[this.dataBlocks.length-1].categories.push(u)}}},e.prototype.encode=function(){this.encodedData||(this.encodedData=_u(this.data),this.data=null,this.dataBlocks=null)},e.prototype.writeTo=function(e){e.writeBinary(this.encodedData)},e.prototype.getData=function(){return this.encode(),this.encodedData},e.prototype.getSize=function(){return this.encodedData.length},e}();function Su(e,t){return 0===e?Ka.by(Za.stringArray):1===e?Ya(t):(n=t,Va.classify(n));var n}function Cu(e,t,n,r,i,o,a){var u=function(e,t,n,r){for(var i=0===e.type,o=new t(n),a=new Uint8Array(n),u=e.valueKind,s=e.value,c=!0,l=0,d=0;d<r.length;d++)for(var f=r[d].data,p=r[d].keys();p.hasNext;){var m=p.move(),h=u?u(m,f):0;if(0!==h)a[l]=h,i&&(o[l]=""),c=!1;else{var g=s(m,f,l);"string"!=typeof g||g?a[l]=0:(a[l]=1,c=!1),o[l]=g}l++}return{array:o,allPresent:c,mask:a}}(t,function(e,t){return t&&t.typedArray?t.typedArray:e.defaultFormat&&e.defaultFormat.typedArray?e.defaultFormat.typedArray:0===e.type?Array:1===e.type?Int32Array:Float64Array}(t,i),r,n),s=u.array,c=u.allPresent,l=u.mask,d=function(e,t,n,r){return n&&n.encoder?n.encoder:t.defaultFormat&&t.defaultFormat.encoder?t.defaultFormat.encoder:r?r.get(e,t.name):void 0}(e,t,i,o);d||(a?d=Su(t.type,s):d=0===t.type?Ka.by(Za.stringArray):Ka.by(Za.byteArray));var f=d.encode(s),p=void 0;if(!c){var m=Ka.by(Za.runLength).and(Za.byteArray).encode(l);p=m.data.length<l.length?m:Ka.by(Za.byteArray).encode(l)}return{name:t.name,data:f,mask:p}}!function(e){e.Encoder=Ja,e.Category=Xa,e.Field=Wa,e.Encoding=Za,e.createEncoder=function(e){var t=e||{},n=t.binary,r=void 0!==n&&n,i=t.encoderName;return r?new wu(void 0===i?"mol*":i,e?e.binaryEncodingPovider:void 0,!!e&&!!e.binaryAutoClassifyEncoding):new su},e.fields=function(){return e.Field.build()};var t=e.Encoding;function n(e){var n=e.precision;if(void 0!==n){var r=Math.pow(10,n),i=t.by(t.fixedPoint(r));switch(e.encoding){case"pack":return i.and(t.integerPacking);case"rle":return i.and(t.runLength).and(t.integerPacking);case"delta":return i.and(t.delta).and(t.integerPacking);case"delta-rle":return i.and(t.delta).and(t.runLength).and(t.integerPacking)}}else switch(e.encoding){case"pack":return t.by(t.integerPacking);case"rle":return t.by(t.runLength).and(t.integerPacking);case"delta":return t.by(t.delta).and(t.integerPacking);case"delta-rle":return t.by(t.delta).and(t.runLength).and(t.integerPacking)}throw new Error("cannot be reached")}e.Encodings={deltaRLE:t.by(t.delta).and(t.runLength).and(t.integerPacking),fixedPoint2:t.by(t.fixedPoint(100)).and(t.delta).and(t.integerPacking),fixedPoint3:t.by(t.fixedPoint(1e3)).and(t.delta).and(t.integerPacking)},e.categoryInstance=function(e,t){return{fields:e,source:[t]}},e.createEncodingProviderFromCifFrame=function(e){return{get:function(t,n){var r=e.categories[t];if(r){var i=r.getField(n);return i&&i.binaryEncoding?Ka.fromEncoding(i.binaryEncoding):void 0}}}},e.createEncodingProviderFromJsonConfig=function(e){return{get:function(t,r){for(var i=0;i<e.length;i++){var o=e[i];if(o.categoryName===t&&o.columnName===r)return n(o)}}}}}(bu||(bu={})),function(e){e.Descriptor={name:"chem_comp_bond",cifExport:{prefix:"",categories:[{name:"chem_comp_bond",instance:function(t){var n=e.Provider.get(t.firstModel);if(!n)return bu.Category.Empty;var r=n.data;if(!r)return bu.Category.Empty;for(var i=t.structures[0].uniqueResidueNames,o=r.comp_id,a=r._rowCount,u=[],s=0;s<a;s++)i.has(o.value(s))&&(u[u.length]=s);return bu.Category.ofTable(r,u)}}]}},e.Provider=Xr.create(e.Descriptor),e.chemCompBondFromTable=function(e,t){return Ze.pick(t,ja.chem_comp_bond,(function(n){return e.properties.chemicalComponentMap.has(t.comp_id.value(n))}))},e.getEntriesFromChemCompBond=function(e){var n=new Map;function r(e){if(n.has(e))return n.get(e);var r=new t(e);return n.set(e,r),r}for(var i=e.comp_id,o=e.atom_id_1,a=e.atom_id_2,u=e.value_order,s=e.pdbx_aromatic_flag,c=e._rowCount,l=e.pdbx_ordinal,d=r(i.value(0)),f=0;f<c;f++){var p=i.value(f),m=o.value(f),h=a.value(f),g=u.value(f),v="y"===s.value(f),y=l.value(f);d.id!==p&&(d=r(p));var _=1,b=1;switch(v&&(_|=16),g.toLowerCase()){case"delo":_|=16;break;case"doub":b=2;break;case"trip":b=3;break;case"quad":b=4}d.add(m,h,b,_,y)}return n};var t=function(){function e(e){this.id=e,this.map=new Map}return e.prototype.add=function(e,t,n,r,i,o){void 0===o&&(o=!0);var a=this.map.get(e);if(void 0!==a){void 0===a.get(t)&&a.set(t,{order:n,flags:r,key:i})}else{var u=new Map;u.set(t,{order:n,flags:r,key:i}),this.map.set(e,u)}o&&this.add(t,e,n,r,i,!1)},e}();e.Entry=t}(xu||(xu={})),function(e){function t(e,t){for(var n=e.units,r=0,i=n.length;r<i;r++)if(an.indexOf(n[r].elements,t)>=0)return!0;return!1}e.Descriptor={name:"struct_conn",cifExport:{prefix:"",categories:[{name:"struct_conn",instance:function(n){var r=e.Provider.get(n.firstModel);if(!r||0===r.entries.length)return bu.Category.Empty;for(var i=n.structures[0],o=[],a=0,u=r.entries;a<u.length;a++){var s=u[a];t(i,s.partnerA.atomIndex)&&t(i,s.partnerB.atomIndex)&&(o[o.length]=s.rowIndex)}return bu.Category.ofTable(r.data,o)}}]}},e.Provider=Xr.create(e.Descriptor),e.isExhaustive=function(t){var n=e.Provider.get(t);return!!n&&n.data.id.rowCount/t.atomicConformation.atomId.rowCount>.95},e.getAtomIndexFromEntries=function(e){for(var t=new Map,n=0,r=e;n<r.length;n++){var i=r[n],o=i.partnerA.atomIndex,a=i.partnerB.atomIndex;t.has(o)?t.get(o).push(i):t.set(o,[i]),t.has(a)?t.get(a).push(i):t.set(a,[i])}return t},e.getEntriesFromStructConn=function(e,t){for(var n=e.conn_type_id,r=e.pdbx_dist_value,i=e.pdbx_value_order,o={label_asym_id:e.ptnr1_label_asym_id,label_seq_id:e.ptnr1_label_seq_id,auth_seq_id:e.ptnr1_auth_seq_id,label_atom_id:e.ptnr1_label_atom_id,label_alt_id:e.pdbx_ptnr1_label_alt_id,ins_code:e.pdbx_ptnr1_PDB_ins_code,symmetry:e.ptnr1_symmetry},a={label_asym_id:e.ptnr2_label_asym_id,label_seq_id:e.ptnr2_label_seq_id,auth_seq_id:e.ptnr2_auth_seq_id,label_atom_id:e.ptnr2_label_atom_id,label_alt_id:e.pdbx_ptnr2_label_alt_id,ins_code:e.pdbx_ptnr2_PDB_ins_code,symmetry:e.ptnr2_symmetry},u=Array.from(t.entities.data.id.toArray()),s=function(e,n){if(0===n.label_asym_id.valueKind(e)){var r=n.label_asym_id.value(e),i=n.label_atom_id.value(e);if(i)for(var o=n.label_alt_id.value(e),a=0,s=u;a<s.length;a++){var c=s[a],l=t.atomicHierarchy.index.findResidue(c,r,n.auth_seq_id.value(e),n.ins_code.value(e));if(!(l<0)){var d=t.atomicHierarchy.index.findAtomOnResidue(l,i,o);if(!(d<0))return{residueIndex:l,atomIndex:d,symmetry:n.symmetry.value(e)}}}}},c=[],l=0;l<e._rowCount;l++){var d=s(l,o),f=s(l,a);if(void 0!==d&&void 0!==f){var p=n.value(l),m=0,h=1;switch(i.value(l)||""){case"sing":h=1;break;case"doub":h=2;break;case"trip":h=3;break;case"quad":h=4;break;default:h=Ma(e.ptnr1_label_comp_id.value(l),e.ptnr1_label_atom_id.value(l),e.ptnr2_label_comp_id.value(l),e.ptnr2_label_atom_id.value(l))}switch(p){case"covale":m=1;break;case"disulf":m=9;break;case"hydrog":m=4;break;case"metalc":m=2}c.push({rowIndex:l,flags:m,order:h,distance:r.value(l),partnerA:d,partnerB:f})}}return c}}(Au||(Au={}));var Bu=A.distance;function Pu(e,t,n,r,i,o,a){for(var u=new Yr.EdgeBuilder(o,e,t),s=new Uint16Array(u.slotCount),c=new Int8Array(u.slotCount),l=new Uint32Array(u.slotCount),d=0,f=u.edgeCount;d<f;d++)u.addNextEdge(),u.assignProperty(s,r[d]),u.assignProperty(c,n[d]),u.assignProperty(l,i[d]);return u.createGraph({flags:s,order:c,key:l},{canRemap:a})}var Iu=A(),Eu=A();function Mu(e,t,n){return e.conformation.position(t,Iu),e.conformation.position(n,Eu),Bu(Iu,Eu)}var ku=new Set;function Du(e,t){var n=Object(T.a)(Object(T.a)({},va),t);return n.noCompute||eh.isCoarseGrained(e.model)&&!Qr.Provider.get(e.model)&&!Au.isExhaustive(e.model)?fa.Empty:!n.forceCompute&&Qr.Provider.get(e.model)?function(e){for(var t=Qr.Provider.get(e.model),n=e.elements,r=e.model.atomicHierarchy.atoms.type_symbol,i=e.elements.length,o=t.maxDistance,a=t.bonds,u=a.offset,s=a.b,c=a.edgeProps,l=c.order,d=c.distance,f=c.flag,p=c.key,m=c.operatorA,h=c.operatorB,v=e.model.atomicHierarchy.atomSourceIndex,y=eh.getInvertedAtomSourceIndex(e.model).invertedIndex,_=[],b=[],x=[],A=[],w=[],S=e.conformation.operator.key,C=0;C<i;C++)for(var B=n[C],P=Aa(r.value(B)),I=Ba(P),E=v.value(B),M=u[E],k=u[E+1];M<k;++M){var D=y[s[M]];if(!(B>=D)){var O=an.indexOf(e.elements,D);if(!(O<0)){var N=m[M],T=h[M];if(!(N>=0&&N!==S||T>=0&&T!==S)){var R=Aa(r.value(D)),U=d[M],L=Mu(e,B,D),G=!1;if(U>=0)G=g(L,U,.3);else if(o>=0)G=L<o;else{G=L<Sa(P,R,wa(P),wa(R)),I&&Ba(R)&&(G=!1)}G&&(_[_.length]=C,b[b.length]=O,A[A.length]=l[M],x[x.length]=f[M],w[w.length]=p[M])}}}}return Pu(_,b,A,x,w,i,!1)}(e):function(e,t){for(var n=t.maxRadius,r=e.model.atomicConformation,i=r.x,o=r.y,a=r.z,u=e.elements.length,s=e.elements,c=e.residueIndex,l=e.chainIndex,d=e.model.atomicHierarchy.atoms,f=d.type_symbol,p=d.label_atom_id,m=d.label_alt_id,h=d.label_comp_id,g=e.model.atomicHierarchy.residues.label_seq_id,v=e.model.atomicHierarchy.index,y=e.model.sequence.byEntityKey,_=e.lookup3d,b=Au.Provider.get(e.model),x=xu.Provider.get(e.model),A=Au.isExhaustive(e.model),w=[],S=[],C=[],B=[],P=[],I=-1,E=void 0,M=!0,k=!0,D=!0,O=ku,N=0;N<u;N++){var T=s[N],R=f.value(T);M&&"H"!==R&&"O"!==R&&(M=!1);var U=t.forceCompute?void 0:b&&b.byAtomIndex.get(T),L=!1;if(U)for(var G=0,q=U;G<q.length;G++){var F=q[G],j=F.partnerA,H=F.partnerB;if(j.symmetry===H.symmetry){var V=j.atomIndex===T?H:j;(ue=an.indexOf(e.elements,V.atomIndex))<0||s[ue]<T||(w[w.length]=N,S[S.length]=ue,C[C.length]=F.flags,B[B.length]=F.order,P[P.length]=F.rowIndex,L||O.clear(),L=!0,O.add(ue))}}if(!A){var z=c[T],Y=g.value(z),K=h.value(T);if(!t.forceCompute&&z!==I)if(x&&x.entries.has(K)){var Z=y[v.getEntityFromChain(l[T])];E=Z&&Z.sequence.microHet.has(Y)?void 0:x.entries.get(K).map}else E=void 0;I=z;for(var W=Aa(R),X=p.value(T),Q=E?E.get(X):void 0,J=_.find(i[T],o[T],a[T],n),$=J.indices,ee=J.count,te=J.squaredDistances,ne=Ba(W),re=wa(W),ie=m.value(T),oe=xa.has(W),ae=0;ae<ee;ae++){var ue=$[ae];if(!L||!O.has(ue)){var se=s[ue];if(!(se<=T)){var ce=m.value(se);if(!ie||!ce||ie===ce){var le=Aa(f.value(se)),de=Ba(le);if(!ne||!de){var fe=(oe||xa.has(le))&&!(ne||de),pe=c[se];if(z===pe&&Q){var me=Q.get(p.value(se));if(me){w[w.length]=N,S[S.length]=ue,B[B.length]=me.order;var he=me.flags;fe&&(1|he&&(he^=1),he|=2),C[C.length]=he,P[P.length]=me.key}}else{var ge=Math.sqrt(te[ae]);if(0!==ge)if(ge<=Sa(W,le,re,wa(le))){w[w.length]=N,S[S.length]=ue,B[B.length]=Ia(K,X,p.value(se)),C[C.length]=32|(fe?2:1),P[P.length]=-1;var ve=g.value(pe);Y===ve&&(k=!1),Math.abs(Y-ve)>1&&(D=!1)}}}}}}}}}return Pu(w,S,B,C,P,u,M||k&&D)}(e,n)}var Ou=A.distance,Nu=A.set,Tu=A.squaredDistance,Ru=A.transformMat4,Uu=A(),Lu=A();function Gu(e,t,n,r){return e.conformation.position(t,Uu),n.conformation.position(r,Lu),Ou(Uu,Lu)}var qu=P(),Fu=A();var ju,Hu=Object(T.a)(Object(T.a)({},va),{ignoreWater:!0,ignoreIon:!0});function Vu(e,t){var n=new da.Builder,r=e.models.some((function(e){return Qr.Provider.get(e)})),i=e.models.some((function(e){return Au.isExhaustive(e)}));return t.noCompute||e.isCoarseGrained&&!r&&!i||dp.eachUnitPair(e,(function(e,r){!function(e,t,n,r){var i=n.maxRadius,o=e.elements,a=e.residueIndex,u=e.model.atomicConformation,s=u.x,c=u.y,l=u.z,d=t.elements,f=t.residueIndex,p=e.elements.length,m=e.model.atomicHierarchy.atoms,h=m.type_symbol,v=m.label_alt_id,y=m.label_atom_id,_=m.label_comp_id,b=t.model.atomicHierarchy.atoms,x=b.type_symbol,A=b.label_alt_id,w=b.label_atom_id,S=b.label_comp_id,C=e.model.atomicHierarchy.residues.auth_seq_id,B=t.model.atomicHierarchy.residues.auth_seq_id,I=e.model.atomicConformation.occupancy,E=t.model.atomicConformation.occupancy,M=I.isDefined&&E.isDefined,k=e.model===t.model&&Au.Provider.get(e.model),D=!n.forceCompute&&e.model===t.model&&Qr.Provider.get(e.model),O=e.model.atomicHierarchy.atomSourceIndex,N=(D?eh.getInvertedAtomSourceIndex(t.model):{invertedIndex:void 0}).invertedIndex,T=e.model===t.model&&Au.isExhaustive(e.model),R=P.mul(qu,t.conformation.operator.inverse,e.conformation.operator.matrix),U=!P.isIdentity(R),L=t.boundary.sphere,G=L.center,q=L.radius,F=(q+i)*(q+i);r.startUnitPair(e.id,t.id);for(var j=e.conformation.operator.key,H=t.conformation.operator.key,V=0;V<p;V++){var z=o[V];if(Nu(Fu,s[z],c[z],l[z]),U&&Ru(Fu,Fu,R),!(Tu(Fu,G)>F))if(n.forceCompute||!D){var Y=n.forceCompute?void 0:k&&k.byAtomIndex.get(z);if(Y&&Y.length){for(var K=!1,Z=0,W=Y;Z<W.length;Z++){var X=W[Z],Q=X.partnerA,J=X.partnerB,$=Q.atomIndex===z?J:Q;(Oe=an.indexOf(t.elements,$.atomIndex))<0||(Gu(e,z,t,$.atomIndex)>i||(r.add(V,Oe,{order:X.order,flag:X.flags,key:X.rowIndex}),K=!0))}if(K)continue}if(!T){var ee=I.value(z),te=t.lookup3d.find(Fu[0],Fu[1],Fu[2],i),ne=te.indices,re=te.count,ie=te.squaredDistances;if(0!==re)for(var oe=Aa(h.value(z)),ae=Ba(oe),ue=wa(oe),se=v.value(z),ce=xa.has(oe),le=y.value(z),de=_.value(a[z]),fe=0;fe<re;fe++){Ne=d[Oe=ne[fe]];var pe=A.value(Ne);if((!se||!pe||se===pe)&&!(M&&E.value(Ne)<1&&ee<1&&C.value(z)===B.value(Ne))){var me=Ba(Ue=Aa(x.value(Ne)));if(!ae||!me){var he=(ce||xa.has(Ue))&&!(ae||me);if(0!==(Ge=Math.sqrt(ie[fe])))if(Ge<=Sa(oe,Ue,ue,wa(Ue))){var ge=w.value(Ne),ve=S.value(f[Ne]);r.add(V,Oe,{order:Ma(de,ve,le,ge),flag:32|(he?2:1),key:-1})}}}}}}else for(var ye=D.maxDistance,_e=D.bonds,be=_e.offset,xe=_e.b,Ae=_e.edgeProps,we=Ae.order,Se=Ae.distance,Ce=Ae.flag,Be=Ae.key,Pe=Ae.operatorA,Ie=Ae.operatorB,Ee=O.value(z),Me=Aa(h.value(z)),ke=be[Ee],De=be[Ee+1];ke<De;++ke){var Oe,Ne=N[xe[ke]];if(!((Oe=an.indexOf(t.elements,Ne))<0)){var Te=Pe[ke],Re=Ie[ke];if(!(Te>=0&&Te!==j&&Te!==H||Re>=0&&Re!==H&&Re!==j)){var Ue=Aa(h.value(Ne)),Le=Se[ke],Ge=Gu(e,z,t,Ne),qe=!1;if(Le>=0)qe=g(Ge,Le,.3);else if(ye>=0)qe=Ge<ye;else{qe=Ge<Sa(Me,Ue,wa(Me),wa(Ue)),Ba(Me)&&Ba(Ue)&&(qe=!1)}qe&&r.add(V,Oe,{order:we[ke],flag:Ce[ke],key:Be[ke]})}}}}r.finishUnitPair()}(e,r,t,n)}),{maxRadius:t.maxRadius,validUnit:function(e){return t.validUnit(e)},validUnitPair:function(n,r){return t.validUnitPair(e,n,r)}}),new ga(n.getMap())}function zu(e,t){var n=Object(T.a)(Object(T.a)({},Hu),t);return Vu(e,Object(T.a)(Object(T.a)({},n),{validUnit:t&&t.validUnit||function(e){return Ns.isAtomic(e)},validUnitPair:t&&t.validUnitPair||function(e,t,r){if(!dp.validUnitPair(e,t,r))return!1;var i=t.model.atomicHierarchy.derived.residue.moleculeType,o=r.model.atomicHierarchy.derived.residue.moleculeType,a=!(Ns.isAtomic(t)&&2===i[t.residueIndex[t.elements[0]]]||Ns.isAtomic(r)&&2===o[r.residueIndex[r.elements[0]]]),u=!Ns.isAtomic(t)||3!==i[t.residueIndex[t.elements[0]]],s=!Ns.isAtomic(r)||3!==o[r.residueIndex[r.elements[0]]],c=u&&s;return!(!a&&n.ignoreWater||!c&&n.ignoreIon)||function(e,t){if(e.model!==t.model||!Ns.isAtomic(e)||!Ns.isAtomic(t))return!1;var n=Au.Provider.get(e.model);if(!n)return!1;for(var r=e.elements.length<t.elements.length?e:t,i=e.elements.length>=t.elements.length?e:t,o=r.elements,a=i.elements,u=an.indexOf,s=0,c=o.length;s<c;s++){var l=o[s],d=n.byAtomIndex.get(l);if(null==d?void 0:d.length)for(var f=0,p=d;f<p.length;f++){var m=p[f],h=m.partnerA.atomIndex===l?m.partnerB.atomIndex:m.partnerA.atomIndex;if(u(a,h)>=0)return!0}}return!1}(t,r)}}))}function Yu(e){for(var t=function(e,t){return{startVertex:0,endVertex:0,count:0,isRingAtom:new Int32Array(t),marked:new Int32Array(t),queue:new Int32Array(t),pred:new Int32Array(t),depth:new Int32Array(t),left:new Int32Array(5),right:new Int32Array(5),color:new Int32Array(t),currentColor:0,currentAltLoc:"",hasAltLoc:!1,rings:[],currentRings:[],unit:e,bonds:e.bonds,altLoc:e.model.atomicHierarchy.atoms.label_alt_id}}(e,function(e){var t=Kn.transientSegments(e.model.atomicHierarchy.residueAtomSegments,e.elements),n=0;for(;t.hasNext;){var r=t.move();n=Math.max(n,r.end-r.start)}return n}(e)),n=Kn.transientSegments(e.model.atomicHierarchy.residueAtomSegments,e.elements);n.hasNext;){var r=n.move();Xu(t,r.start,r.end)}return t.rings}function Ku(e){e.count=e.endVertex-e.startVertex;for(var t=e.isRingAtom,n=e.pred,r=e.color,i=e.depth,o=e.marked,a=0;a<e.count;a++)t[a]=0,n[a]=-1,o[a]=-1,r[a]=0,i[a]=0;e.currentColor=0,e.currentAltLoc="",e.hasAltLoc=!1}function Zu(e){for(var t=e.depth,n=0;n<e.count;n++)t[n]=e.count+1}function Wu(e,t){var n=e.bonds.offset,r=e.startVertex+t,i=n[r],o=n[r+1]-i;return!(o<=1||e.isRingAtom[t]&&2===o)}function Xu(e,t,n){if(e.startVertex=t,e.endVertex=n,!(e.endVertex-e.startVertex<3)){e.currentRings=[];for(var r=e.unit.elements,i=[],o=e.startVertex;o<e.endVertex;o++){Mr(i,s=e.altLoc.value(r[o]))}!function(e,t){var n=e.indexOf(t);if(n<0)return!1;for(var r=n,i=e.length-1;r<i;r++)e[r]=e[r+1];e.pop()}(i,"");var a=1;if(0===i.length){Ku(e);for(o=0;o<e.count;o++)Wu(e,o)&&(Zu(e),a=Ju(e,o,a))}else for(var u=0;u<i.length;u++){Ku(e),e.hasAltLoc=!0,e.currentAltLoc=i[u];for(o=0;o<e.count;o++){var s;if(Wu(e,o))(s=e.altLoc.value(r[e.startVertex+o]))&&s!==e.currentAltLoc||(Zu(e),a=Ju(e,o,a))}}o=0;for(var c=e.currentRings.length;o<c;o++)e.rings.push(e.currentRings[o])}}function Qu(e,t,n,r){if(n<t)return!1;for(var i=e.pred,o=e.color,a=e.left,u=e.right,s=++e.currentColor,c=t,l=0;l<5&&(o[c]=s,!((c=i[c])<0));l++);var d=0,f=0,p=!1,m=0;c=n;for(l=0;l<5;l++){if(o[c]===s){m=c,p=!0;break}if(u[f++]=c,(c=i[c])<0)break}if(!p)return!1;c=t;for(l=0;l<5&&(a[d++]=c,m!==c)&&!((c=i[c])<0);l++);var h=d+f;if(h<3)return!1;var g=new Int32Array(h),v=0;for(l=0;l<d;l++)g[v++]=e.startVertex+a[l],r[a[l]]=1;for(l=f-1;l>=0;l--)g[v++]=e.startVertex+u[l],r[u[l]]=1;de(g);for(var y=0,_=e.currentRings.length;y<_;y++){var b=e.currentRings[y];if(g.length===b.length){if(an.areEqual(g,b))return!1}else if(g.length>b.length&&an.isSubset(g,b))return!1}return e.currentRings.push(an.ofSortedArray(g)),!0}function Ju(e,t,n){var r=e.bonds,i=e.startVertex,o=e.endVertex,a=e.isRingAtom,u=e.marked,s=e.queue,c=e.pred,l=e.depth,d=e.unit.elements,f=r.b,p=r.edgeProps.flags,m=r.offset;u[t]=n,l[t]=0,s[0]=t;for(var h=0,g=1;h<g;)for(var v=s[h++],y=l[v],_=i+v,b=m[_],x=m[_+1],A=b;A<x;A++){var w=f[A];if(!(w<i||w>=o)&&na.isCovalent(p[A])){if(e.hasAltLoc){var S=e.altLoc.value(d[w]);if(S&&e.currentAltLoc!==S)continue}var C=w-i;if(u[C]!==n){var B=Math.min(l[C],y+1);B>5||(l[C]=B,u[C]=n,s[g++]=C,c[C]=v)}else if(c[C]!==v&&c[v]!==C&&Qu(e,v,C,a))return n+1}}return n+1}function $u(e){for(var t=e.length,n=new Int32Array(2*t),r=0;r<n.length;r++)n[r]=-1;for(var i="",o="",a=0,u=1;u<n.length;u++){for(r=n[u-a-1];-1!==r&&(i=e[u%t])!==(o=e[(a+r+1)%t]);)i<o&&(a=u-r-1),r=n[r];-1===r&&(i=e[u%t])!==(o=e[(a+r+1)%t])?(i<o&&(a=u),n[u-a]=-1):n[u-a]=r+1}return a}function es(e,t){var n,r=e.length,i=[];for(n=0;n<r-1;n++)i.push(e[(n+t)%r]),i.push("-");return i.push(e[(n+t)%r]),i.join("")}!function(e){function t(e,t,n,r,i,o){return{kind:"bond-location",aStructure:e,aUnit:t,aIndex:n,bStructure:r,bUnit:i,bIndex:o}}function n(e,t){return e.aStructure.label===t.aStructure.label&&e.bStructure.label===t.bStructure.label&&e.aIndex===t.aIndex&&e.bIndex===t.bIndex&&e.aUnit.id===t.aUnit.id&&e.bUnit.id===t.bUnit.id}function r(e,t){return{kind:"bond-loci",structure:e,bonds:t}}e.Location=t,e.isLocation=function(e){return!!e&&"bond-location"===e.kind},e.areLocationsEqual=n,e.Loci=r,e.isLoci=function(e){return!!e&&"bond-loci"===e.kind},e.areLociEqual=function(e,t){if(e.structure!==t.structure)return!1;if(e.bonds.length!==t.bonds.length)return!1;for(var r=0,i=e.bonds.length;r<i;++r)if(!n(e.bonds[r],t.bonds[r]))return!1;return!0},e.isLociEmpty=function(e){return 0===e.bonds.length},e.remapLoci=function(e,n){if(n===e.structure)return e;var i=[];return e.bonds.forEach((function(r){var o=n.unitMap.get(r.aUnit.id);if(o){var a=n.unitMap.get(r.bUnit.id);if(a){var u=r.aUnit.elements[r.aIndex],s=an.indexOf(o.elements,u);if(-1!==s){var c=r.bUnit.elements[r.bIndex],l=an.indexOf(a.elements,c);-1!==l&&i.push(t(e.structure,o,s,e.structure,a,l))}}}})),r(n,i)},e.toStructureElementLoci=function(e){for(var t=[],n=new Map,r=0,i=e.bonds;r<i.length;r++){var o=i[r],a=o.aIndex,u=o.aUnit,s=o.bIndex,c=o.bUnit;u===c?n.has(u.id)?n.get(u.id).push(a,s):n.set(u.id,[a,s]):(n.has(u.id)?n.get(u.id).push(a):n.set(u.id,[a]),n.has(c.id)?n.get(c.id).push(s):n.set(c.id,[s]))}return n.forEach((function(n,r){t.push({unit:e.structure.unitMap.get(r),indices:an.deduplicate(an.ofUnsortedArray(n))})})),l.Loci(e.structure,t)},e.toFirstStructureElementLoci=function(e){var t=e.bonds[0],n=t.aUnit,r=t.aIndex;return l.Loci(e.structure,[{unit:n,indices:ln.ofSingleton(r)}])},e.getType=function(e,t){if(t.aUnit===t.bUnit){var n=t.aUnit.bonds,r=n.getEdgeIndex(t.aIndex,t.bIndex);return r<0?na.create(0):na.create(n.edgeProps.flags[r])}var i=e.interUnitBonds.getBondFromLocation(t);return i?na.create(i.props.flag):na.create(0)},e.getOrder=function(e,t){if(t.aUnit===t.bUnit){var n=t.aUnit.bonds,r=n.getEdgeIndex(t.aIndex,t.bIndex);return r<0?0:n.edgeProps.order[r]}var i=e.interUnitBonds.getBondFromLocation(t);return i?i.props.order:0},e.getIntraUnitBondCount=function(e){for(var t=0,n=0,r=e.units.length;n<r;++n){var i=e.units[n];Ns.isAtomic(i)&&(t+=i.bonds.edgeCount)}return t};var i=function(){function e(){this.current={},this.hasNext=!1}return e.prototype.move=function(){return this.advance(),this.current},e.prototype.setElement=function(e,t,n){this.structure=e,this.unit=t,this.index=n,this.interBondIndices=e.interUnitBonds.getEdgeIndices(n,t.id),this.interBondCount=this.interBondIndices.length,this.interBondIndex=0,this.intraBondEnd=t.bonds.offset[n+1],this.intraBondIndex=t.bonds.offset[n],this.hasNext=this.interBondIndex<this.interBondCount||this.intraBondIndex<this.intraBondEnd},e.prototype.advance=function(){if(this.intraBondIndex<this.intraBondEnd)this.current.otherUnit=this.unit,this.current.otherIndex=this.unit.bonds.b[this.intraBondIndex],this.current.type=this.unit.bonds.edgeProps.flags[this.intraBondIndex],this.current.order=this.unit.bonds.edgeProps.order[this.intraBondIndex],this.intraBondIndex+=1;else{if(!(this.interBondIndex<this.interBondCount))return void(this.hasNext=!1);var e=this.structure.interUnitBonds.edges[this.interBondIndex];this.current.otherUnit=this.structure.unitMap.get(e.unitA!==this.unit.id?e.unitA:e.unitB),this.current.otherIndex=e.indexA!==this.index?e.indexA:e.indexB,this.current.type=e.props.flag,this.current.order=e.props.order,this.interBondIndex+=1}this.hasNext=this.interBondIndex<this.interBondCount||this.intraBondIndex<this.intraBondEnd},e}();e.ElementBondIterator=i,e.getBoundingSphere=function(e,t){return la.fromPairProvider(e.bonds.length,(function(t,n,r){var i=e.bonds[t],o=i.aUnit,a=i.aIndex,u=i.bUnit,s=i.bIndex;o.conformation.position(o.elements[a],n),u.conformation.position(u.elements[s],r)}),t)}}(ju||(ju={}));var ts=new Set;function ns(e,t){var n=Co[e];if(void 0!==n){var r=n[t];if(void 0!==r)return r}return ts}var rs=A.zero();function is(e,t){for(var n=e.conformation.position,r=new Float32Array(3*t.length),i=e.elements,o=0,a=t.length;o<a;++o)n(i[t[o]],rs),A.toArray(rs,r,3*o);return r}var os,as,us,ss=function(){function e(e,t){this.unit=t,this.all=e}return Object.defineProperty(e.prototype,"index",{get:function(){return this._index||(this._index=function(e,t){for(var n=new Map,r=new Map,i=0,o=e.length;i<o;i++)for(var a=0,u=(f=e[i]).length;a<u;a++){var s=f[a];n.has(s)?n.get(s).push(i):n.set(s,[i])}for(var c=0,l=t.length;c<l;c++)for(a=0,u=(f=e[i=t[c]]).length;a<u;a++){s=f[a];r.has(s)?r.get(s).push(i):r.set(s,[i])}var d=new Yr.UniqueEdgeBuilder(e.length);for(i=0,o=e.length;i<o;i++){var f;for(a=0,u=(f=e[i]).length;a<u;a++){s=f[a];var p=n.get(s);if(1!==p.length)for(var m=0,h=p.length;m<h;m++){var g=p[m];i>=g||d.addEdge(i,g)}}}var v=Yr.connectedComponents(d.getGraph()),y=v.componentIndex,_=[];for(a=0;a<v.componentCount;a++)_[a]=[];for(i=0,o=e.length;i<o;i++)_[y[i]].push(i);return{elementRingIndices:n,elementAromaticRingIndices:r,ringComponentIndex:y,ringComponents:_}}(this.all,this.aromaticRings)),this._index},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"byFingerprint",{get:function(){return this._byFingerprint||(this._byFingerprint=function(e,t){for(var n=new Map,r=0,i=0,o=t.length;i<o;i++){var a=t[i],u=os.fingerprint(e,a);n.has(u)?n.get(u).push(r):n.set(u,[r]),r++}return n}(this.unit,this.all)),this._byFingerprint},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"elementRingIndices",{get:function(){return this.index.elementRingIndices},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"elementAromaticRingIndices",{get:function(){return this.index.elementAromaticRingIndices},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ringComponentIndex",{get:function(){return this.index.ringComponentIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ringComponents",{get:function(){return this.index.ringComponents},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"aromaticRings",{get:function(){return this._aromaticRings||(this._aromaticRings=function(e,t){for(var n=[],r=0,i=t.length;r<i;++r)os.isAromatic(e,t[r])&&n.push(r);return n}(this.unit,this.all)),this._aromaticRings},enumerable:!1,configurable:!0}),e}();function cs(e,t){for(var n=e.elements,r=e.model.atomicHierarchy.residueAtomSegments.index,i=r[n[t[0]]],o=1,a=t.length;o<a;o++)if(i!==r[n[t[o]]])return-1;return i}function ls(e,t,n){var r=e.byFingerprint.get(t);if(r)for(var i=0,o=r.length;i<o;i++){var a=r[i],u=cs(e.unit,e.all[a]);u>=0&&(n.has(u)?n.get(u).push(a):n.set(u,[a]))}}!function(e){function t(e){return function(e){for(var t=e.length,n=new Array(t),r=0;r<t;r++)n[r]=e[t-r-1];var i=$u(e),o=$u(n),a=!1;for(r=0;r<t;r++){var u=e[(r+i)%t],s=n[(r+o)%t];if(u!==s){a=u<s;break}}return a?es(e,i):es(n,o)}(e)}e.fingerprint=function(e,n){for(var r=e.elements,i=e.model.atomicHierarchy.atoms.type_symbol,o=[],a=0,u=n.length;a<u;a++)o[o.length]=i.value(r[n[a]]);return t(o)},e.elementFingerprint=t;var n=new Set(["B","C","N","O","SI","P","S","GE","AS","SN","SB","BI"]);e.isAromatic=function(e,t){var r=e.elements,i=e.bonds,o=i.b,a=i.offset,u=i.edgeProps.flags,s=e.model.atomicHierarchy.atoms,c=s.type_symbol;if("PRO"===s.label_comp_id.value(e.elements[t[0]]))return!1;for(var l=0,d=!1,f=0,p=t.length;f<p;++f){var m=t[f];!d&&n.has(c.value(r[m]))&&(d=!0);for(var h=a[m],g=a[m+1];h<g;++h)na.is(16,u[h])&&an.has(t,o[h])&&(l+=1)}if(l===2*t.length)return!0;if(!d)return!1;if(t.length<5)return!1;if(l>0)return!1;var v=hr.calculateMomentsAxes(is(e,t));return A.magnitude(v.dirC)<.05},e.getAltId=function(e,t){for(var n=e.model.atomicHierarchy.atoms.label_alt_id,r=e.elements,i=0,o=t.length;i<o;++i){var a=r[t[i]],u=n.value(a);if(u)return u}return""}}(os||(os={})),(as=ss||(ss={})).create=function(e){var t=Yu(e);return new as(t,e)},as.byFingerprintAndResidue=function(e,t){for(var n=new Map,r=0,i=t.length;r<i;r++)ls(e,t[r],n);return n},function(e){function t(e){return e[e.length-1]}function n(e){return e.length/2}function r(e,t){return e[2*t]}function i(e,t){return e[2*t+1]+1}function o(e,t){return e[2*t]}function a(e,t){return e[2*t+1]}function u(e,t){return s(e,t,0)}function s(e,r,i){if(o(e,i)>ln.max(r)||t(e)<ln.min(r))return-1;for(var u=i,s=n(e);u<s;++u){var c=gt.ofRange(o(e,u),a(e,u));if(ln.areIntersecting(c,r))return u}return-1}e.ofSortedRanges=function(e){return an.ofSortedArray(e)},e.start=function(e){return e[0]},e.end=function(e){return e[e.length-1]+1},e.min=function(e){return e[0]},e.max=t,e.size=function(e){for(var t=0,n=0,r=e.length;n<r;n+=2)t+=e[n+1]-e[n]+1;return t},e.count=n,e.startAt=r,e.endAt=i,e.minAt=o,e.maxAt=a,e.areEqual=function(e,t){if(e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;++n)if(e[n]!==t[n])return!1;return!0},e.forEach=function(e,t){for(var n=0,r=0,i=e.length;r<i;r+=2)for(var o=e[r],a=e[r+1];o<=a;++o)t(o,n),++n},e.has=function(e,t){return-1!==u(e,t)},e.hasFrom=function(e,t,n){return-1!==s(e,t,n)},e.firstIntersectionIndex=u,e.firstIntersectionIndexFrom=s,e.transientSegments=function(e,t){return new c(e,t)};var c=function(){function e(e,t){this.ranges=e,this.set=t,this.value={index:0,start:0,end:0},this.curIndex=0,this.hasNext=!1,this.curIndex=u(e,t),this.hasNext=-1!==this.curIndex}return e.prototype.updateValue=function(){this.value.index=this.curIndex,this.value.start=ln.findPredecessorIndex(this.set,r(this.ranges,this.curIndex)),this.value.end=ln.findPredecessorIndex(this.set,i(this.ranges,this.curIndex))},e.prototype.move=function(){return this.hasNext&&(this.updateValue(),this.curIndex=s(this.ranges,this.set,this.curIndex+1),this.hasNext=-1!==this.curIndex),this.value},e}();e.Iterator=c}(us||(us={}));var ds=A.zero();function fs(e){var t=function(e){for(var t=e.conformation.invariantPosition,n=e.elements,r=new Float32Array(3*n.length),i=0,o=n.length;i<o;i++)t(n[i],ds),A.toArray(ds,r,3*i);return r}(e);return hr.ofPositions(t)}var ps=A.dot,ms=A.copy,hs=A.scaleAndSub,gs=A.scaleAndAdd,vs=function(){function e(e){this.minDist=[],this.maxDist=[],this.extrema=[],this.centroidHelper=new la,this.dir=function(e){var t;switch(e){case"6":t=Object(T.e)([],ys,!0);break;case"14":t=Object(T.e)(Object(T.e)([],ys,!0),_s,!0);break;case"26":t=Object(T.e)(Object(T.e)(Object(T.e)([],ys,!0),_s,!0),bs,!0);break;case"98":t=Object(T.e)(Object(T.e)(Object(T.e)(Object(T.e)(Object(T.e)(Object(T.e)([],ys,!0),_s,!0),bs,!0),xs,!0),As,!0),ws,!0)}return t.map((function(e){var t=A.create(e[0],e[1],e[2]);return A.normalize(t,t)}))}(e),this.dirLength=this.dir.length,this.reset()}return e.prototype.computeExtrema=function(e,t){var n=ps(this.dir[e],t);n<this.minDist[e]&&(this.minDist[e]=n,ms(this.extrema[2*e],t)),n>this.maxDist[e]&&(this.maxDist[e]=n,ms(this.extrema[2*e+1],t))},e.prototype.computeSphereExtrema=function(e,t,n){var r=this.dir[e],i=ps(r,t);i-n<this.minDist[e]&&(this.minDist[e]=i-n,hs(this.extrema[2*e],t,r,n)),i+n>this.maxDist[e]&&(this.maxDist[e]=i+n,gs(this.extrema[2*e+1],t,r,n))},e.prototype.includeSphere=function(e){if(ur.hasExtrema(e)&&e.extrema.length>1)for(var t=0,n=e.extrema;t<n.length;t++){var r=n[t];this.includePosition(r)}else this.includePositionRadius(e.center,e.radius)},e.prototype.includePosition=function(e){for(var t=0;t<this.dirLength;++t)this.computeExtrema(t,e)},e.prototype.includePositionRadius=function(e,t){for(var n=0;n<this.dirLength;++n)this.computeSphereExtrema(n,e,t)},e.prototype.finishedIncludeStep=function(){for(var e=0;e<this.extrema.length;e++)this.centroidHelper.includeStep(this.extrema[e]);this.centroidHelper.finishedIncludeStep()},e.prototype.radiusSphere=function(e){if(ur.hasExtrema(e)&&e.extrema.length>1)for(var t=0,n=e.extrema;t<n.length;t++){var r=n[t];this.radiusPosition(r)}else this.radiusPositionRadius(e.center,e.radius)},e.prototype.radiusPosition=function(e){this.centroidHelper.radiusStep(e)},e.prototype.radiusPositionRadius=function(e,t){this.centroidHelper.radiusSphereStep(e,t)},e.prototype.getSphere=function(e){return ur.setExtrema(this.centroidHelper.getSphere(e),this.extrema.slice())},e.prototype.getBox=function(e){return sr.fromVec3Array(e||sr(),this.extrema)},e.prototype.reset=function(){for(var e=0;e<this.dirLength;++e)this.minDist[e]=1/0,this.maxDist[e]=-1/0,this.extrema[2*e]=A(),this.extrema[2*e+1]=A();this.centroidHelper.reset()},e}();var ys=[[1,0,0],[0,1,0],[0,0,1]],_s=[[1,1,1],[-1,1,1],[-1,-1,1],[1,-1,1]],bs=[[1,1,0],[1,-1,0],[1,0,1],[1,0,-1],[0,1,1],[0,1,-1]],xs=[[0,1,2],[0,2,1],[1,0,2],[2,0,1],[1,2,0],[2,1,0],[0,1,-2],[0,2,-1],[1,0,-2],[2,0,-1],[1,-2,0],[2,-1,0]],As=[[1,1,2],[2,1,1],[1,2,1],[1,-1,2],[1,1,-2],[1,-1,-2],[2,-1,1],[2,1,-1],[2,-1,-1],[1,-2,1],[1,2,-1],[1,-2,-1]],ws=[[2,2,1],[1,2,2],[2,1,2],[2,-2,1],[2,2,-1],[2,-2,-1],[1,-2,2],[1,2,-2],[1,-2,-2],[2,-1,2],[2,1,-2],[2,-1,-2]],Ss=A.set,Cs=new vs("14"),Bs=new vs("98");function Ps(e){var t=sr.computeBounding(e);return{box:t,sphere:ur.fromBox3D(ur(),t)}}var Is=A();function Es(e){var t=e.x,n=e.y,r=e.z,i=e.radius,o=e.indices,a=ln.size(o);if(a>25e4)return Ps(e);var u=a>1e4?Cs:Bs;u.reset();for(var s=0;s<a;s++){var c=ln.getAt(o,s);Ss(Is,t[c],n[c],r[c]),u.includePositionRadius(Is,i&&i[c]||0)}u.finishedIncludeStep();for(s=0;s<a;s++){c=ln.getAt(o,s);Ss(Is,t[c],n[c],r[c]),u.radiusPositionRadius(Is,i&&i[c]||0)}var l=u.getSphere();if(!i&&ur.hasExtrema(l)&&a<=l.extrema.length){var d=[];for(s=0;s<a;s++){c=ln.getAt(o,s);d.push(A.create(t[c],n[c],r[c]))}ur.setExtrema(l,d)}return{box:u.getBox(),sphere:l}}var Ms,ks,Ds,Os,Ns,Ts,Rs=function(){function e(){this.data=new Map}return e.prototype.get=function(e){var t=an.hashCode(e);if(this.data.has(t))for(var n=0,r=this.data.get(t);n<r.length;n++){var i=r[n],o=i[0],a=i[1];if(an.areEqual(e,o))return a}},e.prototype.set=function(e,t){var n=an.hashCode(e);if(this.data.has(n)){for(var r=this.data.get(n),i=0,o=r;i<o.length;i++){var a=o[i];if(an.areEqual(e,a[0]))return void(a[1]=t)}r.push([e,t])}else this.data.set(n,[[e,t]])},e.get=function(t){return t._dynamicPropertyData.ElementSetIntraBondCache||(t._dynamicPropertyData.ElementSetIntraBondCache=new e),t._dynamicPropertyData.ElementSetIntraBondCache},e}(),Us=function(){function e(e,t,n){this.operatorsProvider=n,this.id=e,this.details=t}return Object.defineProperty(e.prototype,"operatorGroups",{get:function(){return this._operators||(this._operators=this.operatorsProvider()),this._operators},enumerable:!1,configurable:!0}),e}();function Ls(e,t,n){if(!e._rowCount)return[];for(var r=function(e){for(var t=e.id,n=e.matrix,r=e.vector,i=e._schema,o=new Map,a=A(),u=0,s=e._rowCount;u<s;u++){var c=w.toMat4(P(),i.matrix.space,n.value(u));w.toVec3(a,i.vector.space,r.value(u)),P.setTranslation(c,a),P.setValue(c,3,3,1),o.set(t.value(u),c)}return o}(n),i=[],o=0;o<e._rowCount;o++)i[i.length]=Gs(e,t,o,r);return i}function Gs(e,t,n,r){for(var i=e.id.value(n),o=e.details.value(n),a=[],u=t.assembly_id,s=t.oper_expression,c=t.asym_id_list,l=0,d=t._rowCount;l<d;l++)u.value(l)===i&&(a[a.length]={assemblyId:i,expression:s.value(l),asymIds:c.value(l)});return Us.create(i,o,function(e,t){return function(){for(var n=[],r=0,i=0;i<e.length;i++){var o=e[i],a=qs(js(o.expression)),u=Fs(t,a,r,o.assemblyId),s=jf.generators.atoms({chainTest:jf.pred.and(jf.pred.eq((function(e){return $d.unit.operator_name(e.element)}),L.DefaultName),jf.pred.inSet((function(e){return $d.chain.label_asym_id(e.element)}),o.asymIds))});n[n.length]={selector:s,operators:u,asymIds:o.asymIds},r+=u.length}return n}}(a,r))}function qs(e){for(var t=[],n=[],r=0;r<e.length;r++)n[r]="";return function e(t,n,r,i){if(r<0)return void(n[n.length]=i.slice(0));for(var o=t[r],a=o.length,u=0;u<a;u++)i[r]=o[u],e(t,n,r-1,i)}(e,t,e.length-1,n),t}function Fs(e,t,n,r){for(var i=[],o=n,a=0,u=t;a<u.length;a++){for(var s=u[a],c=P.identity(),l=0;l<s.length;l++)P.mul(c,c,e.get(s[l]));o++,i[i.length]=L.create("ASM_".concat(o),c,{assembly:{id:r,operId:o,operList:s}})}return i}function js(e){for(var t,n=/\(?([^\(\)]+)\)?]*/g,r=[],i=[];t=n.exec(e);)r[r.length]=t[1];return r.forEach((function(e){var t=[];e.split(",").forEach((function(e){var n=e.indexOf("-");if(n>0)for(var r=parseInt(e.substring(0,n)),i=parseInt(e.substr(n+1)),o=r;o<=i;o++)t[t.length]=o.toString();else t[t.length]=e.trim()})),i[i.length]=t})),i}function Hs(e){if(0!==e._rowCount){for(var t=e.id,n=e.matrix,r=e.vector,i=ja.struct_ncs_oper.matrix.space,o=ja.struct_ncs_oper.vector.space,a=[],u=0;u<e._rowCount;u++){var s=w.toMat3(I(),i,n.value(u)),c=w.toVec3(A(),o,r.value(u));if(L.checkIfRotationAndTranslation(s,c)&&("given"!==e.code.value(u)||I.isIdentity(s)||A.isZero(c))){var l=t.value(u);a[a.length]=L.ofRotationAndOffset("ncs_".concat(l),s,c,l)}}return a}}function Vs(e){for(var t=e.bonds,n=t.b,r=t.edgeProps,i=t.offset,o=(r.order,r.flags),a=e.rings.elementAromaticRingIndices,u=[],s=new Map,c=new Map,l=function(e,t,n){var r=u.length;u.push(an.ofUnsortedArray([e,t,n])),s.set(ye(e,t),n),c.has(e)?c.get(e).push(r):c.set(e,[r])},d=0;d<e.elements.length;d++){if(!a.has(d))if(!(i[d+1]-i[d]+1<2)){for(var f=[],p=i[d],m=i[d+1];p<m;p++){var h=o[p];na.is(h,16)&&f.push(n[p])}if(f.length>=2){l(d,f[0],f[1]);for(var g=1,v=f.length;g<v;g++)l(d,f[g],f[0])}}}return{getThirdElement:function(e,t){return s.get(ye(e,t))},getTripletIndices:function(e){return c.get(e)},triplets:u}}!function(e){e.create=function(t,n,r){return new e(t,n,r)}}(Us||(Us={})),(ks=Ms||(Ms={})).Default={assemblies:[],spacegroup:J.ZeroP1,isNonStandardCrystalFrame:!1},ks.findAssembly=function(e,t){var n=t.toLocaleLowerCase(),r=Ds.Provider.get(e);return r?function(e,t){for(var n=0,r=e.length;n<r;n++)if(t(e[n]))return e[n]}(r.assemblies,(function(e){return e.id.toLowerCase()===n})):void 0},ks.getUnitcellLabel=function(e){var t=e.spacegroup,n=t.cell,r=t.name,i=t.num,o=n.size,a=n.anglesInRadians,u=o[0].toFixed(2),s=o[1].toFixed(2),c=o[2].toFixed(2),l=B(a[0]).toFixed(2),d=B(a[1]).toFixed(2),f=B(a[2]).toFixed(2),p=[];return p.push("Unit Cell <b>".concat(r,"</b> #").concat(i)),p.push("".concat(u,"×").concat(s,"×").concat(c," Å")),p.push("α=".concat(l,"° β=").concat(d,"° γ=").concat(f,"°")),p.join(" | ")},(Os=Ds||(Ds={})).Descriptor={name:"model_symmetry"},Os.Provider=Xr.create(Os.Descriptor),Os.fromData=function(e){var t=Ls(e.pdbx_struct_assembly,e.pdbx_struct_assembly_gen,e.pdbx_struct_oper_list),n=function(e,t){if(0===e._rowCount||0===t._rowCount)return J.ZeroP1;var n=t.length_a.value(0),r=t.length_b.value(0),i=t.length_c.value(0);if(0===n||0===r||0===i)return J.ZeroP1;var o=t.angle_alpha.value(0),a=t.angle_beta.value(0),u=t.angle_gamma.value(0);if(0===o||0===a||0===u)return J.ZeroP1;var s=function(e){var t=e.Int_Tables_number.value(0),n=e["space_group_name_H-M"].value(0);return e.Int_Tables_number.isDefined?e["space_group_name_H-M"].isDefined?n:t:n}(e),c=Q.create(s,A.create(n,r,i),A.scale(A(),A.create(o,a,u),Math.PI/180));return J.create(c)}(e.symmetry,e.cell);return{assemblies:t,spacegroup:n,isNonStandardCrystalFrame:(e.atom_sites._rowCount,!1),ncsOperators:Hs(e.struct_ncs_oper)}},Os.fromCell=function(e,t){var n=Q.create("P 1",e,t);return{assemblies:[],spacegroup:J.create(n),isNonStandardCrystalFrame:!1}},function(e){var t,n;function r(e){for(var t=[],n=0,r=e.length;n<r;n++)t.push(e[n].id);return _e(t)}function i(e){var t={};return{elements:e[0].elements,units:e,get unitIndexMap(){return t.unitIndexMap||(t.unitIndexMap=function(e){for(var t=Qn.Mutable(),n=0,r=e.length;n<r;n++)t.set(e[n].id,n);return t}(e)),t.unitIndexMap},hashCode:o(e[0]),transformHash:r(e)}}function o(e){return ge(e.invariantId,an.hashCode(e.elements))}!function(e){e[e.Atomic=0]="Atomic",e[e.Spheres=1]="Spheres",e[e.Gaussians=2]="Gaussians"}(e.Kinds||(e.Kinds={})),e.isAtomic=function(e){return 0===e.kind},e.isCoarse=function(e){return 1===e.kind||2===e.kind},e.isSpheres=function(e){return 1===e.kind},e.isGaussians=function(e){return 2===e.kind},e.create=function(e,t,n,r,i,o,s,c,d){switch(i){case 0:return new a(e,t,n,r,o,c,L.createMapping(s,o.atomicConformation),null!=d?d:u());case 1:return p(e,t,n,r,o,1,c,L.createMapping(s,o.coarseConformation.spheres,function(e){var t=e.coarseConformation.spheres.radius;return function(e){return t[e]}}(o)),null!=d?d:l());case 2:return p(e,t,n,r,o,2,c,L.createMapping(s,o.coarseConformation.gaussians,(function(e){return 0})),null!=d?d:l())}},e.SymmetryGroup=i,function(e){e.areInvariantElementsEqual=function(e,t){return e.hashCode===t.hashCode&&an.areEqual(e.elements,t.elements)},e.getUnitSymmetryGroupsIndexMap=function(e){for(var t=Qn.Mutable(),n=0,r=e.length;n<r;++n)for(var i=e[n],o=0,a=i.units.length;o<a;++o)t.set(i.units[o].id,n);return t}}(i=e.SymmetryGroup||(e.SymmetryGroup={})),e.conformationId=function(t){return e.isAtomic(t)?t.model.atomicConformation.id:t.model.coarseConformation.id},e.hashUnit=o,function(e){e[e.None=0]="None",e[e.MultiChain=1]="MultiChain",e[e.Partitioned=2]="Partitioned",e[e.FastBoundary=4]="FastBoundary"}(t=e.Trait||(e.Trait={})),function(e){e.is=Me.has,e.create=Me.create}(n=e.Traits||(e.Traits={}));var a=function(){function r(e,t,n,r,i,o,a,u){this.kind=0,this.objectPrimitive="atomistic",this.id=e,this.invariantId=t,this.chainGroupId=n,this.traits=r,this.model=i,this.elements=o,this.conformation=a,this.residueIndex=i.atomicHierarchy.residueAtomSegments.index,this.chainIndex=i.atomicHierarchy.chainAtomSegments.index,this.props=u}return r.prototype.getChild=function(e){return e.length===this.elements.length?this:new r(this.id,this.invariantId,this.chainGroupId,this.traits,this.model,e,this.conformation,u())},r.prototype.applyOperator=function(e,t,n){void 0===n&&(n=!1);var i=n?t:L.compose(this.conformation.operator,t);return new r(e,this.invariantId,this.chainGroupId,this.traits,this.model,this.elements,L.createMapping(i,this.model.atomicConformation,this.conformation.r),this.props)},r.prototype.remapModel=function(t,n,i){var o,a;i||(i=Object(T.a)(Object(T.a)({},this.props),{bonds:n&&!(null===(a=null===(o=this.props.bonds)||void 0===o?void 0:o.props)||void 0===a?void 0:a.canRemap)?void 0:m(this,this.props.bonds,t,n)}),e.isSameConformation(this,t)||(i.boundary=void 0,i.lookup3d=void 0,i.principalAxes=void 0));var u=this.conformation.operator,s=Ds.Provider.get(t);if(-1!==u.spgrOp&&s&&s!==Ds.Provider.get(this.model)){var c=u.hkl,l=c[0],d=c[1],f=c[2],p=s.spacegroup.cell.toFractional,h=A.transformMat4(A(),eh.getCenter(t),p);u=J.getSymmetryOperatorRef(s.spacegroup,u.spgrOp,l,d,f,h)}var g=this.model.atomicConformation!==t.atomicConformation||u!==this.conformation.operator?L.createMapping(u,t.atomicConformation):this.conformation;return new r(this.id,this.invariantId,this.chainGroupId,this.traits,t,this.elements,g,i)},Object.defineProperty(r.prototype,"boundary",{get:function(){if(this.props.boundary)return this.props.boundary;var e=this.model.atomicConformation,r=e.x,i=e.y,o=e.z;return this.props.boundary=n.is(this.traits,t.FastBoundary)?Ps({x:r,y:i,z:o,indices:this.elements}):Es({x:r,y:i,z:o,indices:this.elements}),this.props.boundary},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"lookup3d",{get:function(){if(this.props.lookup3d)return this.props.lookup3d;var e=this.model.atomicConformation,t=e.x,n=e.y,r=e.z;return this.props.lookup3d=fr({x:t,y:n,z:r,indices:this.elements},this.boundary),this.props.lookup3d},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"principalAxes",{get:function(){return this.props.principalAxes||(this.props.principalAxes=fs(this)),this.props.principalAxes},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"bonds",{get:function(){if(this.props.bonds)return this.props.bonds;var e=Rs.get(this.model),t=e.get(this.elements);return t||(t=Du(this),e.set(this.elements,t)),this.props.bonds=t,this.props.bonds},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"rings",{get:function(){return this.props.rings||(this.props.rings=ss.create(this)),this.props.rings},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"resonance",{get:function(){return this.props.resonance||(this.props.resonance={delocalizedTriplets:Vs(this)}),this.props.resonance},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"polymerElements",{get:function(){return this.props.polymerElements||(this.props.polymerElements=function(e){for(var t=[],n=e.elements,r=e.model,i=e.model.atomicHierarchy.residueAtomSegments,o=r.atomicHierarchy.derived.residue.traceElementIndex,a=us.transientSegments(e.model.atomicRanges.polymerRanges,n),u=Kn.transientSegments(i,n);a.hasNext;){var s=a.move();for(u.setSegment(s);u.hasNext;){var c=u.move(),l=c.start,d=c.end,f=c.index;if(ln.areIntersecting(gt.ofRange(n[l],n[d-1]),n)){var p=o[f];t.push(-1===p?i.offsets[f]:p)}}}return an.ofSortedArray(t)}(this)),this.props.polymerElements},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"gapElements",{get:function(){return this.props.gapElements||(this.props.gapElements=function(e){for(var t=[],n=e.elements,r=e.model,i=e.residueIndex,o=e.model.atomicHierarchy.residueAtomSegments,a=r.atomicHierarchy.derived.residue.traceElementIndex,u=us.transientSegments(e.model.atomicRanges.gapRanges,e.elements);u.hasNext;){var s=u.move(),c=i[n[s.start]],l=i[n[s.end-1]],d=a[c],f=a[l];t.push(-1===d?o.offsets[c]:d),t.push(-1===f?o.offsets[l]:f)}return an.ofSortedArray(t)}(this)),this.props.gapElements},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"nucleotideElements",{get:function(){return this.props.nucleotideElements||(this.props.nucleotideElements=function(e){for(var t=[],n=e.elements,r=e.model,i=r.atomicHierarchy,o=i.chainAtomSegments,a=i.residueAtomSegments,u=r.atomicHierarchy.derived.residue,s=u.moleculeType,c=u.traceElementIndex,l=Kn.transientSegments(o,n),d=Kn.transientSegments(a,n);l.hasNext;)for(d.setSegment(l.move());d.hasNext;){var f=d.move().index;if(ea(s[f])){var p=c[f];t.push(-1===p?a.offsets[f]:p)}}return an.ofSortedArray(t)}(this)),this.props.nucleotideElements},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"proteinElements",{get:function(){return this.props.proteinElements||(this.props.proteinElements=function(e){for(var t=[],n=e.elements,r=e.model,i=r.atomicHierarchy,o=i.chainAtomSegments,a=i.residueAtomSegments,u=r.atomicHierarchy.derived.residue,s=u.moleculeType,c=u.traceElementIndex,l=Kn.transientSegments(o,n),d=Kn.transientSegments(a,n);l.hasNext;)for(d.setSegment(l.move());d.hasNext;){var f=d.move().index;if(ta(s[f])){var p=c[f];t.push(-1===p?a.offsets[f]:p)}}return an.ofSortedArray(t)}(this)),this.props.proteinElements},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"residueCount",{get:function(){if(void 0!==this.props.residueCount)return this.props.residueCount;for(var e=0,t=Kn.transientSegments(this.model.atomicHierarchy.residueAtomSegments,this.elements);t.hasNext;)t.move(),e+=1;return this.props.residueCount=e,this.props.residueCount},enumerable:!1,configurable:!0}),r.prototype.getResidueIndex=function(e){return this.residueIndex[this.elements[e]]},r}();function u(){return{}}e.Atomic=a;var s=function(){function r(e,t,n,r,i,o,a,u,s){this.kind=o,this.objectPrimitive=1===o?"sphere":"gaussian",this.id=e,this.invariantId=t,this.chainGroupId=n,this.traits=r,this.model=i,this.elements=a,this.conformation=u,this.coarseElements=1===o?i.coarseHierarchy.spheres:i.coarseHierarchy.gaussians,this.coarseConformation=1===o?i.coarseConformation.spheres:i.coarseConformation.gaussians,this.props=s}return r.prototype.getChild=function(e){return e.length===this.elements.length?this:p(this.id,this.invariantId,this.chainGroupId,this.traits,this.model,this.kind,e,this.conformation,l())},r.prototype.applyOperator=function(e,t,n){void 0===n&&(n=!1);var r=n?t:L.compose(this.conformation.operator,t);return p(e,this.invariantId,this.chainGroupId,this.traits,this.model,this.kind,this.elements,L.createMapping(r,this.getCoarseConformation(),this.conformation.r),this.props)},r.prototype.remapModel=function(t,n,i){var o=this.getCoarseConformation(),a=c(this.kind,t);i||(i=Object(T.a)({},this.props),e.isSameConformation(this,t)||(i.boundary=void 0,i.lookup3d=void 0,i.principalAxes=void 0));var u=o!==a?L.createMapping(this.conformation.operator,a):this.conformation;return new r(this.id,this.invariantId,this.chainGroupId,this.traits,t,this.kind,this.elements,u,i)},Object.defineProperty(r.prototype,"boundary",{get:function(){if(this.props.boundary)return this.props.boundary;var e=this.getCoarseConformation(),r=e.x,i=e.y,o=e.z;return this.props.boundary=n.is(this.traits,t.FastBoundary)?Ps({x:r,y:i,z:o,indices:this.elements}):Es({x:r,y:i,z:o,indices:this.elements}),this.props.boundary},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"lookup3d",{get:function(){if(this.props.lookup3d)return this.props.lookup3d;var e=this.getCoarseConformation(),t=e.x,n=e.y,r=e.z;return this.props.lookup3d=fr({x:t,y:n,z:r,indices:this.elements},this.boundary),this.props.lookup3d},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"principalAxes",{get:function(){return this.props.principalAxes||(this.props.principalAxes=fs(this)),this.props.principalAxes},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"polymerElements",{get:function(){return this.props.polymerElements||(this.props.polymerElements=function(e){for(var t=[],n=e.elements,r=e.model.coarseHierarchy,i=r.spheres,o=r.gaussians,a=Ns.isSpheres(e)?i.polymerRanges:o.polymerRanges,u=us.transientSegments(a,n);u.hasNext;)for(var s=u.move(),c=s.start,l=s.end,d=c;d<l;++d)t.push(n[d]);return an.ofSortedArray(t)}(this)),this.props.polymerElements},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"gapElements",{get:function(){return this.props.gapElements||(this.props.gapElements=function(e){for(var t=[],n=e.elements,r=e.model.coarseHierarchy,i=r.spheres,o=r.gaussians,a=Ns.isSpheres(e)?i.gapRanges:o.gapRanges,u=us.transientSegments(a,n);u.hasNext;){var s=u.move(),c=s.start,l=s.end;t.push(n[c],n[l-1])}return an.ofSortedArray(t)}(this)),this.props.gapElements},enumerable:!1,configurable:!0}),r.prototype.getCoarseConformation=function(){return c(this.kind,this.model)},r}();function c(e,t){return 1===e?t.coarseConformation.spheres:t.coarseConformation.gaussians}function l(){return{}}var d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(T.c)(t,e),t}(s);e.Spheres=d;var f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(T.c)(t,e),t}(s);function p(e,t,n,r,i,o,a,u,c){return new s(e,t,n,r,i,o,a,u,c)}function m(e,t,n,r){var i;if(t){if(e.model.atomicConformation.id===n.atomicConformation.id)return t;var o=Qr.Provider.get(e.model);if(o){var a=Qr.Provider.get(n);return a&&o!==a?void 0:t}return(null===(i=t.props)||void 0===i?void 0:i.canRemap)||!r||h(e,n)?t:void 0}}function h(e,t){var n=eh.CoordinatesHistory.get(eh.getRoot(t));if(n)return n.areEqual(e.elements,e.kind,t);for(var r=e.elements,i=e.conformation.coordinates,o=i.x,a=i.y,u=i.z,s=g(e.kind,t),c=s.x,l=s.y,d=s.z,f=0,p=r.length;f<p;f++){var m=r[f];if(o[m]!==c[m]||a[m]!==l[m]||u[m]!==d[m])return!1}return!0}function g(e,t){return 0===e?t.atomicConformation:1===e?t.coarseConformation.spheres:t.coarseConformation.gaussians}function v(e,t){return 0===e?t.atomicHierarchy:1===e?t.coarseHierarchy.spheres:t.coarseHierarchy.gaussians}e.Gaussians=f,e.areSameChainOperatorGroup=function(e,t){return e.chainGroupId===t.chainGroupId&&e.conformation.operator.name===t.conformation.operator.name},e.areOperatorsEqual=function(e,t){return P.areEqual(e.conformation.operator.matrix,t.conformation.operator.matrix,1e-6)},e.areConformationsEqual=function(e,t){return e===t||!!an.areEqual(e.elements,t.elements)&&h(e,t.model)},e.isSameConformation=h,e.getModelConformationOfKind=g,e.getConformation=function(e){return g(e.kind,e.model)},e.getModelHierarchyOfKind=v,e.getHierarchy=function(e){return v(e.kind,e.model)}}(Ns||(Ns={})),function(e){e.add=function(e,t,n,r){e.indices[e.count]=n,e.units[e.count]=t,e.squaredDistances[e.count]=r,e.count++},e.create=function(){return{count:0,indices:[],units:[],squaredDistances:[]}},e.copy=function(e,t){for(var n=0;n<t.count;++n)e.indices[n]=t.indices[n],e.units[n]=t.units[n],e.squaredDistances[n]=t.squaredDistances[n];return e.count=t.count,e}}(Ts||(Ts={}));var zs,Ys,Ks=function(){function e(e){this.structure=e,this.pivot=A(),this.heap=new dr,this.findContext={result:Ts.create(),closeUnitsResult:$.create(),unitGroupResult:$.create()};for(var t=e.units,n=e.boundary,r=t.length,i=new Float32Array(r),o=new Float32Array(r),a=new Float32Array(r),u=new Float32Array(r),s=A(),c=0;c<r;c++){var l=t[c],d=l.boundary.sphere;A.transformMat4(s,d.center,l.conformation.operator.matrix),i[c]=s[0],o[c]=s[1],a[c]=s[2],u[c]=d.radius}var f={x:i,y:o,z:a,radius:u,indices:ln.ofBounds(0,r)};this.unitLookup=fr(f,n)}return e.prototype.findUnitIndices=function(e,t,n,r){return this.unitLookup.find(e,t,n,r)},e.prototype.find=function(e,t,n,r,i){return this._find(e,t,n,r,null!=i?i:this.findContext)},e.prototype._find=function(e,t,n,r,i){$.reset(i.result);var o=this.structure.units,a=this.unitLookup.find(e,t,n,r,i.closeUnitsResult);if(0===a.count)return i.result;for(var u=0,s=a.count;u<s;u++){var c=o[a.indices[u]];A.set(this.pivot,e,t,n),c.conformation.operator.isIdentity||A.transformMat4(this.pivot,this.pivot,c.conformation.operator.inverse);for(var l=c.lookup3d.find(this.pivot[0],this.pivot[1],this.pivot[2],r,i.unitGroupResult),d=0,f=l.count;d<f;d++)Ts.add(i.result,c,l.indices[d],l.squaredDistances[d])}return i.result},e.prototype.nearest=function(e,t,n,r,i){return void 0===r&&(r=1),this._nearest(e,t,n,r,null!=i?i:this.findContext)},e.prototype._nearest=function(e,t,n,r,i){var o=i.result,a=this.heap;$.reset(o),a.clear();var u=this.structure.units,s=0,c=this.unitLookup.nearest(e,t,n,u.length,(function(e){return(s+=u[e].elements.length)>=r}),i.closeUnitsResult);if(0===c.count)return o;for(var l=0,d=-Number.MAX_VALUE,f=0,p=c.count;f<p;f++){var m=c.squaredDistances[f];if(l>=r&&d<m)break;A.set(this.pivot,e,t,n),(b=u[c.indices[f]]).conformation.operator.isIdentity||A.transformMat4(this.pivot,this.pivot,b.conformation.operator.inverse);var h=b.lookup3d.nearest(this.pivot[0],this.pivot[1],this.pivot[2],r,void 0,i.unitGroupResult);if(0!==h.count){l+=h.count,d=Math.max(d,h.squaredDistances[h.count-1]);for(var g=0,v=h.count;g<v;g++)a.insert(h.squaredDistances[g],{index:h.indices[g],unit:b})}}if(1===r){if(w=a.findMinimum()){var y=w.key,_=w.value,b=_.unit,x=_.index;Ts.add(o,b,x,y)}}else for(;!a.isEmpty()&&o.count<r;){y=(w=a.extractMinimum()).key;var w,S=w.value;b=S.unit,x=S.index;Ts.add(o,b,x,y)}return o},e.prototype.findIntoBuilder=function(e,t,n,r,i){var o=this.structure.units,a=this.unitLookup.find(e,t,n,r);if(0!==a.count)for(var u=0,s=a.count;u<s;u++){var c=o[a.indices[u]];A.set(this.pivot,e,t,n),c.conformation.operator.isIdentity||A.transformMat4(this.pivot,this.pivot,c.conformation.operator.inverse);var l=c.lookup3d.find(this.pivot[0],this.pivot[1],this.pivot[2],r);if(0!==l.count){var d=c.elements;i.beginUnit(c.id);for(var f=0,p=l.count;f<p;f++)i.addElement(d[l.indices[f]]);i.commitUnit()}}},e.prototype.findIntoBuilderIf=function(e,t,n,r,i,o){var a=this.structure.units,u=this.unitLookup.find(e,t,n,r);if(0!==u.count)for(var s=l.Location.create(this.structure),c=0,d=u.count;c<d;c++){var f=a[u.indices[c]];A.set(this.pivot,e,t,n),f.conformation.operator.isIdentity||A.transformMat4(this.pivot,this.pivot,f.conformation.operator.inverse);var p=f.lookup3d.find(this.pivot[0],this.pivot[1],this.pivot[2],r);if(0!==p.count){var m=f.elements;s.unit=f,i.beginUnit(f.id);for(var h=0,g=p.count;h<g;h++)s.element=m[p.indices[h]],o(s)&&i.addElement(s.element);i.commitUnit()}}},e.prototype.findIntoBuilderWithRadius=function(e,t,n,r,i,o,a,u){var s=this.structure.units,c=this.unitLookup.find(e,t,n,o);if(0!==c.count)for(var d=l.Location.create(this.structure),f=r+i+o,p=0,m=c.count;p<m;p++){var h=s[c.indices[p]];A.set(this.pivot,e,t,n),h.conformation.operator.isIdentity||A.transformMat4(this.pivot,this.pivot,h.conformation.operator.inverse);var g=h.lookup3d.find(this.pivot[0],this.pivot[1],this.pivot[2],f);if(0!==g.count){var v=h.elements;d.unit=h,u.beginUnit(h.id);for(var y=0,_=g.count;y<_;y++){d.element=v[g.indices[y]];var b=a(d);Math.sqrt(g.squaredDistances[y])-r-b>o||u.addElement(v[g.indices[y]])}u.commitUnit()}}},e.prototype.check=function(e,t,n,r){var i=this.structure.units,o=this.unitLookup.find(e,t,n,r);if(0===o.count)return!1;for(var a=0,u=o.count;a<u;a++){var s=i[o.indices[a]];if(A.set(this.pivot,e,t,n),s.conformation.operator.isIdentity||A.transformMat4(this.pivot,this.pivot,s.conformation.operator.inverse),s.lookup3d.check(this.pivot[0],this.pivot[1],this.pivot[2],r))return!0}return!1},Object.defineProperty(e.prototype,"boundary",{get:function(){return this.structure.boundary},enumerable:!1,configurable:!0}),e}();function Zs(e,t){if(0===t.length)return dp.Empty;if(1===t.length)return t[0];for(var n=new Map,r=new Set,i=0,o=t;i<o.length;i++)for(var a=o[i].units,u=0,s=a.length;u<s;u++){var c=a[u];if(n.has(c.id)){if(r.has(c.id))continue;var l=an.union(n.get(c.id),c.elements);n.set(c.id,l),l.length===e.unitMap.get(c.id).elements.length&&r.add(c.id)}else n.set(c.id,c.elements),c.elements.length===e.unitMap.get(c.id).elements.length&&r.add(c.id)}var d=e.subsetBuilder(!0);return n.forEach(Ws,d),d.getStructure()}function Ws(e,t){this.setUnit(t,e)}function Xs(e,t){if(e===t)return!0;var n,r;e.units.length<t.units.length?(n=e,r=t):(n=t,r=e);for(var i=n.units,o=r.unitMap,a=0,u=i.length;a<u;a++){var s=i[a];if(o.has(s.id)){var c=o.get(s.id);if(an.areIntersecting(s.elements,c.elements))return!0}}return!1}function Qs(e,t){if(e===t)return dp.Empty;if(!Xs(e,t))return e;for(var n=e.units,r=t.unitMap,i=[],o=0,a=n.length;o<a;o++){var u=n[o];if(r.has(u.id)){var s=r.get(u.id),c=an.subtract(u.elements,s.elements);c.length>0&&(i[i.length]=u.getChild(c))}else i[i.length]=u}return dp.create(i,{parent:e.parent||t.parent})}function Js(e){return na.isCovalent(e.atomicBond.type)}function $s(){return function(e){for(var t=e.inputStructure,n=l.Location.create(t),r=[],i=0,o=t.units;i<o.length;i++){var a=o[i];if(0===a.kind){n.unit=a;var u=a.elements;if(n.element=u[0],"polymer"===$d.entity.type(n)){for(var s=Kn.transientSegments(a.model.atomicHierarchy.residueAtomSegments,u),c=0;s.hasNext;)c++,s.move();c<8||r.push(a)}}}return zs.Singletons(t,dp.create(r,{parent:t}))}}function ec(){return function(e){for(var t=e.inputStructure,n=l.Location.create(t),r=[],i=0,o=t.units;i<o.length;i++){var a=o[i];if(0===a.kind){n.unit=a;var u=a.elements;n.element=u[0],"water"===$d.entity.type(n)&&r.push(a)}}return zs.Singletons(t,dp.create(r,{parent:t}))}}function tc(){return function(e){for(var t=e.inputStructure,n=l.Location.create(t),r=[],i=0,o=t.units;i<o.length;i++){var a=o[i];if(0===a.kind){n.unit=a;var u=a.elements;if(n.element=u[0],"water"!==$d.entity.type(n)){if("polymer"===$d.entity.type(n)){for(var s=Kn.transientSegments(a.model.atomicHierarchy.residueAtomSegments,u),c=0;s.hasNext;)c++,s.move();if(c>=8)continue}r.push(a)}}}return zs.Singletons(t,dp.create(r,{parent:t}))}}function nc(){return function(e){for(var t=e.inputStructure,n=[],r=0,i=t.units;r<i.length;r++){var o=i[r];1===o.kind&&n.push(o)}return zs.Singletons(t,dp.create(n,{parent:t}))}}function rc(e,t,n){return{groupedUnits:e,ranges:t,set:n}}function ic(e){return function(t){var n={hash:t.inputStructure.hashCode,elements:e};return zs.Sequence(t.inputStructure,[Ys.toStructure(n,t.inputStructure)])}}!function(e){function t(e,t){return{kind:"singletons",source:e,structure:t}}function n(e,t){return{kind:"sequence",source:e,structures:t}}function r(e){return t(e,dp.Empty)}function i(e){return"singletons"===e.kind}function o(e){return i(e)?0===e.structure.units.length:0===e.structures.length}function a(e){return o(e)?dp.Empty:i(e)?e.structure:Zs(e.source,e.structures)}function u(e,i,o){return 0===i.length?r(e):o?t(e,Zs(e,i)):n(e,i)}e.Singletons=t,e.Sequence=n,e.Empty=r,e.isSingleton=i,e.isEmpty=o,e.structureCount=function(e){return i(e)?e.structure.elementCount:e.structures.length},e.unionStructure=a,e.toLociWithCurrentUnits=function(e){for(var t=[],n=e.source.unitMap,r=0,i=a(e).units;r<i.length;r++){var o=i[r];o===n.get(o.id)?t[t.length]={unit:o,indices:ln.ofBounds(0,o.elements.length)}:t[t.length]={unit:o,indices:ln.ofSortedArray(an.indicesOf(n.get(o.id).elements,o.elements))}}return l.Loci(e.source,t)},e.toLociWithSourceUnits=function(e){for(var t=[],n=e.source.unitMap,r=0,i=a(e).units;r<i.length;r++){var o=i[r],u=n.get(o.id);t[t.length]=u===o?{unit:u,indices:ln.ofBounds(0,u.elements.length)}:{unit:u,indices:ln.ofSortedArray(an.indicesOf(u.elements,o.elements))}}return l.Loci(e.source,t)};var s=function(){function e(e){this.source=e,this.structures=[],this.allSingletons=!0}return e.prototype.add=function(e){var t=e.elementCount;0!==t&&(this.structures[this.structures.length]=e,1!==t&&(this.allSingletons=!1))},e.prototype.getSelection=function(){return u(this.source,this.structures,this.allSingletons)},e}(),c=function(){function e(e){this.structure=e,this.structures=[],this.allSingletons=!0,this.uniqueSets=mi(dp.hashCode,dp.areUnitIdsAndIndicesEqual)}return e.prototype.add=function(e){var t=e.elementCount;0!==t&&this.uniqueSets.add(e)&&(this.structures[this.structures.length]=e,1!==t&&(this.allSingletons=!1))},e.prototype.getSelection=function(){return u(this.structure,this.structures,this.allSingletons)},e}();e.LinearBuilder=function(e){return new s(e)},e.UniqueBuilder=function(e){return new c(e)},e.forEach=function(t,n){var r=0;if(e.isSingleton(t))for(var i=0,o=t.structure.units;i<o.length;i++)for(var a=o[i],u=a.elements,s=0,c=u.length;s<c;s++){n(dp.create([a.getChild(an.ofSingleton(u[s]))],{parent:t.source}),r++)}else for(var l=0,d=t.structures;l<d.length;l++){n(d[l],r++)}},e.withInputStructure=function(e,r){return i(e)?t(r,e.structure):n(r,e.structures)}}(zs||(zs={})),function(e){function t(e){for(var t=[],n=0,r=e.elements;n<r.length;n++){var i=(h=r[n]).unit,o=h.indices;if(0!==ln.size(o)){var a=[],u=[];if(ln.isInterval(o))1===ln.size(o)?u.push(gt.min(o)):a.push(gt.min(o),gt.max(o));else for(var s=0,c=o.length;s<c;){var l=s;for(s++;s<c&&o[s-1]+1===o[s];)s++;var d=s;if(d-l>2)a.push(o[l],o[d-1]);else for(var f=l;f<d;f++)u[u.length]=o[f]}t.push({unit:i,set:an.ofSortedArray(u),ranges:us.ofSortedRanges(a)})}}for(var p=new Map,m=(s=0,t.length);s<m;++s){var h,g,v=ge(_e((h=t[s]).ranges),_e(h.set));if(p.has(v))(g=p.get(v).groupedUnits).has(h.unit.invariantId)?g.get(h.unit.invariantId).push(h.unit.id):g.set(h.unit.invariantId,[h.unit.id]);else(g=new Map).set(h.unit.invariantId,[h.unit.id]),p.set(v,{groupedUnits:g,set:h.set,ranges:h.ranges})}var y=[];return p.forEach((function(e){var t=[];e.groupedUnits.forEach((function(e){return t.push(an.ofUnsortedArray(e))})),t.sort((function(e,t){return e[0]-t[0]})),y.push({groupedUnits:t,set:e.set,ranges:e.ranges})})),{hash:e.structure.hashCode,elements:y}}function n(e,t){for(var n=[],r=0,i=e.length;r<i;++r){var o=e[r];t.unitMap.has(o)&&n.push(t.unitMap.get(o))}return n}function r(e){return Ui.internal.generator.bundleElement({groupedUnits:Ui.core.type.list(e.groupedUnits.map((function(e){return Ui.core.type.list(e)}))),ranges:Ui.core.type.list(e.ranges),set:Ui.core.type.list(e.set)})}e.Empty={hash:-1,elements:[]},e.fromSubStructure=function(e,n){return t(zs.toLociWithSourceUnits(zs.Singletons(e,n)))},e.fromSelection=function(e){return t(zs.toLociWithSourceUnits(e))},e.fromLoci=t,e.toLoci=function(e,t){-1!==e.hash&&e.hash!==t.hashCode&&new Error("Bundle not compatible with given structure");for(var r=[],i=0,o=e.elements;i<o.length;i++)for(var a=o[i],u=function(e){var i=n(e,t);if(0===i.length)return"continue";var o=void 0;if(0===a.ranges.length)o=a.set;else if(0===a.set.length)if(2===a.ranges.length)o=gt.ofRange(a.ranges[0],a.ranges[1]);else{var u=new Int32Array(us.size(a.ranges));us.forEach(a.ranges,(function(e,t){return u[t]=e})),o=an.ofSortedArray(u)}else{var s=us.size(a.ranges),c=new Int32Array(a.set.length+s);us.forEach(a.ranges,(function(e,t){return c[t]=e})),c.set(a.set,s),o=an.ofUnsortedArray(c)}for(var l=0,d=i;l<d.length;l++){var f=d[l];r.push({unit:f,indices:o})}},s=0,c=a.groupedUnits;s<c.length;s++){u(c[s])}return vp(t,r)},e.toStructure=function(e,t){-1!==e.hash&&e.hash!==t.hashCode&&new Error("Bundle not compatible with given structure");for(var r=[],i=0,o=e.elements;i<o.length;i++)for(var a=o[i],u=function(e){var i=n(e,t);if(0===i.length)return"continue";var o=i[0].elements,u=us.size(a.ranges),s=a.set.length,c=new Int32Array(s+u),l=void 0;if(0===u){for(var d=0,f=s;d<f;++d)c[d]=o[a.set[d]];l=an.ofSortedArray(c)}else if(0===s)us.forEach(a.ranges,(function(e,t){return c[t]=o[e]})),l=an.ofSortedArray(c);else if(an.min(a.set)>us.max(a.ranges)){us.forEach(a.ranges,(function(e,t){return c[t]=o[e]}));for(d=0,f=s;d<f;++d)c[d+u]=o[a.set[d]];l=an.ofSortedArray(c)}else if(us.min(a.ranges)>an.max(a.set)){for(d=0,f=s;d<f;++d)c[d]=o[a.set[d]];us.forEach(a.ranges,(function(e,t){return c[t+s]=o[e]})),l=an.ofSortedArray(c)}else{us.forEach(a.ranges,(function(e,t){return c[t]=o[e]}));for(d=0,f=s;d<f;++d)c[d+u]=o[a.set[d]];l=an.ofUnsortedArray(c)}for(var p=0,m=i;p<m.length;p++){var h=m[p];r.push(h.getChild(l))}},s=0,c=a.groupedUnits;s<c.length;s++){u(c[s])}return dp.create(r,{parent:t})},e.toExpression=function(e){return Ui.internal.generator.bundle({elements:Ui.core.type.list(e.elements.map(r))})},e.areEqual=function(e,t){if(e.elements.length!==t.elements.length)return!1;for(var n=0,r=e.elements.length;n<r;++n){var i=e.elements[n],o=t.elements[n];if(i.groupedUnits.length!==o.groupedUnits.length)return!1;for(var a=0,u=o.groupedUnits.length;a<u;++a)if(!an.areEqual(i.groupedUnits[a],o.groupedUnits[a]))return!1;if(!an.areEqual(i.set,o.set))return!1;if(!us.areEqual(i.ranges,o.ranges))return!1}return!0}}(Ys||(Ys={}));var oc,ac=function(){function e(e,t){this.currentElementStack=[],this.currentAtomicBondStack=[],this.currentStructureStack=[],this.inputStructureStack=[],this.timeCreated=Object(Dr.a)(),this.element=l.Location.create(void 0),this.currentStructure=void 0,this.atomicBond=new uc,this.currentSelection=void 0,this.inputStructure=e,this.timeoutMs=t&&t.timeoutMs||0,this.currentSelection=t&&t.currentSelection}return e.prototype.pushCurrentElement=function(){return this.currentElementStack[this.currentElementStack.length]=this.element,this.element=l.Location.create(void 0),this.element},e.prototype.popCurrentElement=function(){this.element=this.currentElementStack.pop()},e.prototype.pushCurrentBond=function(){return this.atomicBond&&this.currentAtomicBondStack.push(this.atomicBond),this.atomicBond=new uc,this.atomicBond},e.prototype.popCurrentBond=function(){this.currentAtomicBondStack.length>0?this.atomicBond=this.currentAtomicBondStack.pop():this.atomicBond=void 0},e.prototype.pushCurrentStructure=function(){this.currentStructure&&this.currentStructureStack.push(this.currentStructure)},e.prototype.popCurrentStructure=function(){this.currentStructureStack.length?this.currentStructure=this.currentStructureStack.pop():this.currentStructure=void 0},e.prototype.pushInputStructure=function(e){this.inputStructureStack.push(this.inputStructure),this.inputStructure=e},e.prototype.popInputStructure=function(){if(0===this.inputStructureStack.length)throw new Error("Must push before pop.");this.inputStructure=this.inputStructureStack.pop()},e.prototype.throwIfTimedOut=function(){if(0!==this.timeoutMs&&Object(Dr.a)()-this.timeCreated>this.timeoutMs)throw new Error("The query took too long to execute (> ".concat(this.timeoutMs/1e3,"s)."))},e.prototype.tryGetCurrentSelection=function(){if(!this.currentSelection)throw new Error("The current selection is not assigned.");return this.currentSelection},e}(),uc=function(){function e(){this.a=l.Location.create(void 0),this.aIndex=0,this.b=l.Location.create(void 0),this.bIndex=0,this.type=0,this.order=0,this.key=-1,this.testFn=Js}return e.prototype.setStructure=function(e){this.a.structure=e,this.b.structure=e},e.prototype.setTestFn=function(e){this.testFn=e||Js},e.prototype.test=function(e,t){return!!this.testFn(e)||!!t&&(this.swap(),this.testFn(e))},e.prototype.swap=function(){var e=this.aIndex;this.aIndex=this.bIndex,this.bIndex=e;var t=this.a.unit;this.a.unit=this.b.unit,this.b.unit=t;var n=this.a.element;this.a.element=this.b.element,this.b.element=n},Object.defineProperty(e.prototype,"length",{get:function(){return l.Location.distance(this.a,this.b)},enumerable:!1,configurable:!0}),e}();(oc||(oc={})).run=function(e,t,n){return e(new ac(t,n))};var sc=function(){function e(e){this.source=e,this.set=mi(dp.hashCode,dp.areUnitIdsAndIndicesEqual),this.structures=[],this.allSingletons=!0}return e.prototype.add=function(e){e.elementCount&&(1!==e.elementCount&&(this.allSingletons=!1),this.set.add(e)&&(this.structures[this.structures.length]=e))},e.prototype.getSelection=function(){return this.allSingletons?zs.Singletons(this.source,Zs(this.source,this.structures)):zs.Sequence(this.source,this.structures)},e}(),cc=function(){function e(e){this.source=e,this.builders=[],this.builderMap=new Map}return e.prototype.add=function(e,t,n){var r=this.builderMap.get(e);r||(r=this.source.subsetBuilder(!0),this.builders[this.builders.length]=r,this.builderMap.set(e,r)),r.addToUnit(t,n)},e.prototype.allSingletons=function(){for(var e=0,t=this.builders.length;e<t;e++)if(this.builders[e].elementCount>1)return!1;return!0},e.prototype.singletonSelection=function(){for(var e=this.source.subsetBuilder(!0),t=l.Location.create(this.source),n=0,r=this.builders.length;n<r;n++)this.builders[n].setSingletonLocation(t),e.addToUnit(t.unit.id,t.element);return zs.Singletons(this.source,e.getStructure())},e.prototype.fullSelection=function(){for(var e=new Array(this.builders.length),t=0,n=this.builders.length;t<n;t++)e[t]=this.builders[t].getStructure();return zs.Sequence(this.source,e)},e.prototype.getSelection=function(){return 0===this.builders.length?zs.Empty(this.source):this.allSingletons()?this.singletonSelection():this.fullSelection()},e}(),lc=function(e){return zs.Sequence(e.inputStructure,[])},dc=function(e){return zs.Singletons(e.inputStructure,e.inputStructure)};function fc(e){return gc(Object(T.a)(Object(T.a)({},e),{groupBy:function(e){return $d.residue.key(e.element)}}))}function pc(e){return gc(Object(T.a)(Object(T.a)({},e),{groupBy:function(e){return $d.chain.key(e.element)}}))}function mc(e){return!0}function hc(e){return 0}function gc(e){if(!(e&&(e.atomTest||e.residueTest||e.chainTest||e.entityTest||e.unitTest||e.groupBy)))return dc;if(e.atomTest&&!e.residueTest&&!e.chainTest&&!e.entityTest&&!e.unitTest&&!e.groupBy)return t=e.atomTest,function(e){var n=e.inputStructure,r=n.units,i=e.pushCurrentElement(),o=n.subsetBuilder(!0);i.structure=n;for(var a=0,u=r;a<u.length;a++){var s=u[a];i.unit=s;var c=s.elements;o.beginUnit(s.id);for(var l=0,d=c.length;l<d;l++)i.element=c[l],t(e)&&o.addElement(i.element);o.commitUnit(),e.throwIfTimedOut()}return e.popCurrentElement(),zs.Singletons(n,o.getStructure())};var t,n={unitTest:e.unitTest||mc,entityTest:e.entityTest||mc,chainTest:e.chainTest||mc,residueTest:e.residueTest||mc,atomTest:e.atomTest||mc,groupBy:e.groupBy||hc};return e.groupBy?function(e){var t=e.unitTest,n=e.entityTest,r=e.chainTest,i=e.residueTest,o=e.atomTest,a=e.groupBy;return function(e){var u=e.inputStructure,s=u.units,c=e.pushCurrentElement(),l=new cc(u);c.structure=u;for(var d=0,f=s;d<f.length;d++){var p=f[d];if(c.unit=p,t(e)){var m=p.elements,h=p.model;if(0===p.kind)for(var g=Kn.transientSegments(h.atomicHierarchy.chainAtomSegments,m),v=Kn.transientSegments(h.atomicHierarchy.residueAtomSegments,m);g.hasNext;){var y=g.move();if(c.element=m[y.start],n(e)&&r(e))for(v.setSegment(y);v.hasNext;){var _=v.move();if(c.element=m[_.start],i(e))for(var b=_.start,x=_.end;b<x;b++)c.element=m[b],o(e)&&l.add(a(e),p.id,c.element)}}else{var A=h.coarseHierarchy.spheres.chainElementSegments;for(g=Kn.transientSegments(A,m);g.hasNext;){y=g.move();if(c.element=m[y.start],n(e)&&r(e))for(b=y.start,x=y.end;b<x;b++)c.element=m[b],i(e)&&l.add(a(e),p.id,c.element)}}e.throwIfTimedOut()}}return e.popCurrentElement(),l.getSelection()}}(n):function(e){var t=e.unitTest,n=e.entityTest,r=e.chainTest,i=e.residueTest,o=e.atomTest;return function(e){var a=e.inputStructure,u=a.units,s=e.pushCurrentElement(),c=a.subsetBuilder(!0),l=i===mc&&o===mc,d=o===mc;s.structure=a;for(var f=0,p=u;f<p.length;f++){var m=p[f];if(s.unit=m,t(e)){var h=m.elements,g=m.model;if(c.beginUnit(m.id),0===m.kind)for(var v=Kn.transientSegments(m.model.atomicHierarchy.chainAtomSegments,h),y=Kn.transientSegments(m.model.atomicHierarchy.residueAtomSegments,h);v.hasNext;){var _=v.move();if(s.element=h[_.start],n(e)&&r(e))if(l)c.addElementRange(h,_.start,_.end);else for(y.setSegment(_);y.hasNext;){var b=y.move();if(s.element=h[b.start],i(e))if(d)c.addElementRange(h,b.start,b.end);else for(var x=b.start,A=b.end;x<A;x++)s.element=h[x],o(e)&&c.addElement(s.element)}}else{var w=g.coarseHierarchy.spheres.chainElementSegments;for(v=Kn.transientSegments(w,h);v.hasNext;){_=v.move();if(s.element=h[_.start],n(e)&&r(e))if(l)c.addElementRange(h,_.start,_.end);else for(x=_.start,A=_.end;x<A;x++)s.element=h[x],i(e)&&c.addElement(s.element)}}c.commitUnit(),e.throwIfTimedOut()}}return e.popCurrentElement(),zs.Singletons(a,c.getStructure())}}(n)}function vc(e,t,n){for(var r=new Int32Array(t.length),i=0,o=t.length;i<o;i++)r[i]=e.elements[t[i]];return dp.create([e.getChild(an.ofSortedArray(r))],{parent:n})}function yc(e,t){return function(n){var r=n.inputStructure.units,i=zs.LinearBuilder(n.inputStructure);if(e&&0!==e.length){for(var o=gi.create(),a=0;a<e.length;a++)gi.add(o,e[a],e[a]);for(var u=0,s=r;u<s.length;u++){v=s[u];if(Ns.isAtomic(v))for(var c=v.rings,l=0,d=o.array;l<d.length;l++){var f=d[l];if(c.byFingerprint.has(f))for(var p=0,m=c.byFingerprint.get(f);p<m.length;p++){b=m[p];t&&!c.aromaticRings.includes(b)||i.add(vc(v,c.all[b],n.inputStructure))}}}}else for(var h=0,g=r;h<g.length;h++){var v=g[h];if(Ns.isAtomic(v))if(t)for(var y=0,_=v.rings.aromaticRings;y<_.length;y++){var b=_[y];i.add(vc(v,v.rings.all[b],n.inputStructure))}else for(var x=0,A=v.rings.all;x<A.length;x++){var b=A[x];i.add(vc(v,b,n.inputStructure))}}return i.getSelection()}}function _c(e,t,n){return void 0===n&&(n=!1),function(r){var i=e(r);if(0===zs.structureCount(i))return i;var o=n?Qs(r.inputStructure,zs.unionStructure(i)):zs.unionStructure(i);if(0===o.elementCount)return zs.Empty(r.inputStructure);r.throwIfTimedOut(),r.pushInputStructure(o);var a=t(r);return r.popInputStructure(),zs.withInputStructure(a,r.inputStructure)}}function bc(e){return function(t){var n=t.inputStructure,r=n.interUnitBonds,i=zs.UniqueBuilder(t.inputStructure);t.pushCurrentBond();var o=t.atomicBond;o.setTestFn(e),o.setStructure(n);for(var a=0,u=n.units;a<u.length;a++){var s=u[a];if(0===s.kind){var c=s.bonds,l=c.offset,d=c.b,f=c.edgeProps,p=f.flags,m=f.order,h=f.key;o.a.unit=s,o.b.unit=s;for(var g=0,v=s.elements.length;g<v;g++){o.aIndex=g,o.a.element=s.elements[g];for(var y=l[g],_=l[g+1];y<_;y++){if(o.bIndex=d[y],o.b.element=s.elements[d[y]],o.type=p[y],o.order=m[y],o.key=h[y],o.test(t,!1))(A=n.subsetBuilder(!1)).beginUnit(s.id),A.addElement(o.a.element),A.addElement(o.b.element),A.commitUnit(),i.add(A.getStructure())}}}}for(var b=0,x=r.edges;b<x.length;b++){var A,w=x[b];if(o.a.unit=n.unitMap.get(w.unitA),o.a.element=o.a.unit.elements[w.indexA],o.aIndex=w.indexA,o.b.unit=n.unitMap.get(w.unitB),o.b.element=o.b.unit.elements[w.indexB],o.bIndex=w.indexB,o.order=w.props.order,o.type=w.props.flag,o.key=w.props.key,o.test(t,!1))(A=n.subsetBuilder(!1)).addToUnit(o.a.unit.id,o.a.element),A.addToUnit(o.b.unit.id,o.b.element),i.add(A.getStructure())}return t.popCurrentBond(),i.getSelection()}}var xc,Ac,wc=function(){function e(e){this.parent=e,this.ids=[],this.unitMap=Qn.Mutable(),this.parentId=-1,this.currentUnit=gi.create(),this.elementCount=0}return e.prototype.addToUnit=function(e,t){var n=this.unitMap.get(e);if(n)gi.add(n,t,t)&&this.elementCount++;else{var r=gi.create();gi.add(r,t,t),this.unitMap.set(e,r),this.ids[this.ids.length]=e,this.elementCount++}},e.prototype.has=function(e,t){var n=this.unitMap.get(e);return!!n&&gi.has(n,t)},e.prototype.beginUnit=function(e){this.parentId=e,this.unitMap.has(e)?this.currentUnit=this.unitMap.get(e):this.currentUnit=this.currentUnit.array.length>0?gi.create():this.currentUnit},e.prototype.addElement=function(e){gi.add(this.currentUnit,e,e)&&this.elementCount++},e.prototype.commitUnit=function(){0===this.currentUnit.array.length||this.unitMap.has(this.parentId)||(this.ids[this.ids.length]=this.parentId,this.unitMap.set(this.parentId,this.currentUnit),this.parentId=-1)},e.prototype.getStructure=function(){if(this.isEmpty)return dp.Empty;var e=[];de(this.ids);for(var t=Ff.UnitEquivalenceBuilder(),n=0,r=this.ids.length;n<r;n++){var i=this.ids[n],o=this.parent.unitMap.get(i),a=this.unitMap.get(i).array,u=a.length;if(a.length!==o.elements.length){u>1&&de(a);var s=o.getChild(an.ofSortedArray(a)),c=t.add(s.id,s);s!==c&&(s=c.applyOperator(s.id,s.conformation.operator,!0)),e[e.length]=s}else e[e.length]=o,t.add(o.id,o)}return dp.create(e,{parent:this.parent})},Object.defineProperty(e.prototype,"isEmpty",{get:function(){return 0===this.elementCount},enumerable:!1,configurable:!0}),e}();function Sc(e){return{data:e,position:0,length:e.length,lineNumber:1,tokenStart:0,tokenEnd:0}}!function(e){function t(e){return e.data.substring(e.tokenStart,e.tokenEnd)}function n(e){for(var t=e.data;e.position<e.length;)switch(t.charCodeAt(e.position)){case 10:return e.tokenEnd=e.position,++e.position,++e.lineNumber,!0;case 13:return e.tokenEnd=e.position,++e.position,++e.lineNumber,10===t.charCodeAt(e.position)&&++e.position,!0;default:++e.position}return e.tokenEnd=e.position,e.tokenStart!==e.tokenEnd}function r(e){return e.tokenStart=e.position,n(e)}function i(e,t,n){for(var i=0,o=0;o<t;o++){if(!r(e))return i;xc.addUnchecked(n,e.tokenStart,e.tokenEnd),i++}return i}function o(e,t,n){for(var r=e.data,i=t,o=n-1,a=r.charCodeAt(i);(9===a||32===a)&&i<=o;)a=r.charCodeAt(++i);for(a=r.charCodeAt(o);(9===a||32===a)&&o>=i;)a=r.charCodeAt(--o);return e.tokenStart=i,e.tokenEnd=o+1,e.position=n,e}e.getTokenString=t,e.reset=function(e){e.position=0,e.lineNumber=1,e.tokenStart=0,e.tokenEnd=0},e.eatLine=n,e.markStart=function(e){e.tokenStart=e.position},e.markLine=r,e.readLine=function(e){return r(e),t(e)},e.readLineTrim=function(e){r(e);var n=e.position;return o(e,e.tokenStart,e.tokenEnd),e.position=n,t(e)},e.markLines=function(e,t){var n=xc.create(e.data,2*t);return i(e,t,n),n},e.readLines=function(t,n){for(var r=[],i=0;i<n;i++)r.push(e.readLine(t));return r},e.readLinesAsync=function(e,t,n,r){return void 0===r&&(r=1e5),Object(T.b)(this,void 0,void 0,(function(){var o,a;return Object(T.d)(this,(function(u){switch(u.label){case 0:return o=xc.create(e.data,2*t),a=0,[4,Wr(n,r,e,(function(e,n){var r=Math.min(t-a,e);return i(n,r,o),a+=r,r}),(function(e,t){return e.update({message:"Parsing...",current:t.position,max:t.length})}))];case 1:return u.sent(),[2,o]}}))}))},e.readAllLines=function(t){for(var n=e(t),i=xc.create(n.data,Math.max(t.length/80,2));r(n);)xc.add(i,n.tokenStart,n.tokenEnd);return i},e.readAllLinesAsync=function(t,n,i){return void 0===i&&(i=1e5),Object(T.b)(this,void 0,void 0,(function(){var o,a;return Object(T.d)(this,(function(u){switch(u.label){case 0:return o=e(t),a=xc.create(o.data,Math.max(t.length/80,2)),[4,Wr(n,i,o,(function(e,t){return function(e,t,n){for(var i=0,o=0;o<t;o++){if(!r(e))return i;xc.add(n,e.tokenStart,e.tokenEnd),i++}}(t,e,a),t.position<t.length?e:0}),(function(e,t){return e.update({message:"Parsing...",current:t.position,max:t.length})}))];case 1:return u.sent(),[2,a]}}))}))},e.eatValue=function(e){for(;e.position<e.length;)switch(e.data.charCodeAt(e.position)){case 9:case 10:case 13:case 32:return void(e.tokenEnd=e.position);default:++e.position}e.tokenEnd=e.position},e.skipWhitespace=function(e){for(var t=-1;e.position<e.length;){var n=e.data.charCodeAt(e.position);switch(n){case 9:case 32:t=n,++e.position;break;case 10:13!==t&&++e.lineNumber,t=n,++e.position;break;case 13:t=n,++e.position,++e.lineNumber;break;default:return t}}return t},e.trim=o}(Sc||(Sc={})),function(e){function t(e,t,n){var r=e;r.offset>r.indicesLenMinus2&&function(e){var t=new Uint32Array(1.61*e.indices.length|0);t.set(e.indices),e.indices=t,e.indicesLenMinus2=t.length-2|0}(r),r.indices[r.offset++]=t,r.indices[r.offset++]=n,e.count++}e.add=t,e.addToken=function(e,n){t(e,n.tokenStart,n.tokenEnd)},e.addUnchecked=function(e,t,n){e.indices[e.offset++]=t,e.indices[e.offset++]=n,e.count++},e.create=function(e,t){return{data:e,indicesLenMinus2:(t=Math.max(10,t))-2|0,count:0,offset:0,indices:new Uint32Array(t)}}}(xc||(xc={})),function(e){e.error=function(e,n){return void 0===n&&(n=-1),new t(e,n)},e.success=function(e,t){return void 0===t&&(t=[]),new n(e,t)};var t=function(){function e(e,t){this.message=e,this.line=t,this.isError=!0}return e.prototype.toString=function(){return this.line>=0?"[Line ".concat(this.line,"] ").concat(this.message):this.message},e}();e.Error=t;var n=function(e,t){this.result=e,this.warnings=t,this.isError=!1};e.Success=n}(Ac||(Ac={}));var Cc,Bc,Pc=Ee.Schema,Ic=Pc.str,Ec=Pc.float,Mc=Pc.List,kc=Pc.lstr,Dc=Pc.Aliased,Oc=Pc.int,Nc=Pc.coord,Tc={chem_comp:{formula:Ic,formula_weight:Ec,id:Ic,mon_nstd_parent_comp_id:Mc(",",(function(e){return e})),name:Ic,one_letter_code:Ic,three_letter_code:Ic,type:Dc(kc),pdbx_synonyms:Mc(";",(function(e){return e})),pdbx_type:Ic,pdbx_ambiguous_flag:Ic,pdbx_replaced_by:Ic,pdbx_replaces:Ic,pdbx_formal_charge:Oc,pdbx_model_coordinates_details:Ic,pdbx_model_coordinates_db_code:Ic,pdbx_ideal_coordinates_details:Ic,pdbx_ideal_coordinates_missing_flag:Dc(kc),pdbx_model_coordinates_missing_flag:Dc(kc),pdbx_initial_date:Ic,pdbx_modified_date:Ic,pdbx_release_status:Dc(Ic),pdbx_processing_site:Dc(Ic)},chem_comp_atom:{alt_atom_id:Ic,atom_id:Ic,charge:Oc,model_Cartn_x:Nc,model_Cartn_y:Nc,model_Cartn_z:Nc,comp_id:Ic,type_symbol:Ic,pdbx_align:Oc,pdbx_ordinal:Oc,pdbx_model_Cartn_x_ideal:Nc,pdbx_model_Cartn_y_ideal:Nc,pdbx_model_Cartn_z_ideal:Nc,pdbx_stereo_config:Dc(kc),pdbx_aromatic_flag:Dc(kc),pdbx_leaving_atom_flag:Dc(kc)},chem_comp_bond:{atom_id_1:Ic,atom_id_2:Ic,comp_id:Ic,value_order:Dc(kc),pdbx_ordinal:Oc,pdbx_stereo_config:Dc(kc),pdbx_aromatic_flag:Dc(kc)},pdbx_chem_comp_descriptor:{comp_id:Ic,descriptor:Ic,type:Dc(kc),program:Ic,program_version:Ic},pdbx_chem_comp_identifier:{comp_id:Ic,identifier:Ic,type:Dc(Ic),program:Ic,program_version:Ic}},Rc=Ee.Schema,Uc=Rc.str,Lc=Rc.float,Gc=Rc.lstr,qc=Rc.Aliased,Fc=Rc.int,jc={pdbx_reference_molecule:{prd_id:Uc,formula_weight:Lc,formula:Uc,type:qc(Gc),type_evidence_code:Uc,class:qc(Gc),class_evidence_code:Uc,name:Uc,represent_as:qc(Gc),chem_comp_id:Uc,compound_details:Uc,description:Uc,representative_PDB_id_code:Uc,release_status:qc(Gc),replaces:Uc,replaced_by:Uc},pdbx_reference_entity_list:{prd_id:Uc,ref_entity_id:Uc,type:qc(Gc),details:Uc,component_id:Fc},pdbx_reference_entity_nonpoly:{prd_id:Uc,ref_entity_id:Uc,name:Uc,chem_comp_id:Uc},pdbx_reference_entity_link:{link_id:Fc,prd_id:Uc,details:Uc,ref_entity_id_1:Uc,ref_entity_id_2:Uc,entity_seq_num_1:Fc,entity_seq_num_2:Fc,comp_id_1:Uc,comp_id_2:Uc,atom_id_1:Uc,atom_id_2:Uc,value_order:qc(Gc),component_1:Fc,component_2:Fc,link_class:qc(Uc)},pdbx_reference_entity_poly_link:{link_id:Fc,prd_id:Uc,ref_entity_id:Uc,component_id:Fc,entity_seq_num_1:Fc,entity_seq_num_2:Fc,comp_id_1:Uc,comp_id_2:Uc,atom_id_1:Uc,atom_id_2:Uc,value_order:qc(Gc)},pdbx_reference_entity_poly:{prd_id:Uc,ref_entity_id:Uc,type:qc(Uc),db_code:Uc,db_name:Uc},pdbx_reference_entity_poly_seq:{prd_id:Uc,ref_entity_id:Uc,mon_id:Uc,parent_mon_id:Uc,num:Fc,observed:qc(Gc),hetero:qc(Gc)},pdbx_reference_entity_sequence:{prd_id:Uc,ref_entity_id:Uc,type:qc(Uc),NRP_flag:qc(Uc),one_letter_codes:Uc},pdbx_reference_entity_src_nat:{prd_id:Uc,ref_entity_id:Uc,ordinal:Fc,organism_scientific:Uc,taxid:Uc,db_code:Uc,db_name:Uc},pdbx_prd_audit:{prd_id:Uc,date:Uc,processing_site:qc(Uc),action_type:qc(Uc)}},Hc=Ee.Schema,Vc=Hc.str,zc={datablock:{id:Vc,description:Vc},dictionary:{title:Vc,datablock_id:Vc,version:Vc},dictionary_history:{version:Vc,update:Vc,revision:Vc},sub_category:{id:Vc,description:Vc},category_group_list:{id:Vc,parent_id:Vc,description:Vc},item_type_list:{code:Vc,primitive_code:Vc,construct:Vc,detail:Vc},item_units_list:{code:Vc,detail:Vc},item_units_conversion:{from_code:Vc,to_code:Vc,operator:Vc,factor:Hc.float}},Yc=Ee.Schema,Kc=Yc.str,Zc=Yc.int,Wc=Yc.float,Xc=Yc.Aliased,Qc=Yc.Vector,Jc=(Xc(Kc),Xc(Kc),Xc(Kc),Xc(Kc),Qc(3),Qc(3),{volume_data_3d_info:{name:Kc,axis_order:Qc(3,Zc),origin:Qc(3),dimensions:Qc(3),sample_rate:Zc,sample_count:Qc(3,Zc),spacegroup_number:Zc,spacegroup_cell_size:Qc(3),spacegroup_cell_angles:Qc(3),mean_source:Wc,mean_sampled:Wc,sigma_source:Wc,sigma_sampled:Wc,min_source:Wc,min_sampled:Wc,max_source:Wc,max_sampled:Wc},volume_data_3d:{values:Wc}}),$c=Ee.Schema,el=$c.float,tl=$c.int,nl=$c.str,rl={cell:{angle_alpha:el,angle_beta:el,angle_gamma:el,formula_units_z:tl,length_a:el,length_b:el,length_c:el,volume:el},chemical:{melting_point:el,name_common:nl,name_systematic:nl},chemical_formula:{moiety:nl,sum:nl,weight:el},space_group:{crystal_system:nl,it_number:tl,"name_h-m_full":nl},space_group_symop:{operation_xyz:nl},geom_bond:{atom_site_label_1:nl,atom_site_label_2:nl,distance:el,publ_flag:nl,site_symmetry_1:nl,site_symmetry_2:nl,valence:el},audit:{block_doi:nl},database_code:{cod:nl,csd:nl,depnum_ccdc_archive:nl,depnum_ccdc_fiz:nl,icsd:nl,mdf:nl,nbs:nl},atom_site:{adp_type:nl,calc_flag:nl,disorder_assembly:nl,disorder_group:nl,fract_x:el,fract_y:el,fract_z:el,label:nl,occupancy:el,refinement_flags:nl,site_symmetry_multiplicity:tl,type_symbol:nl,u_iso_or_equiv:el},atom_site_aniso:{label:nl,u_11:el,u:(0,$c.Matrix)(3,3),u_12:el,u_13:el,u_22:el,u_23:el,u_33:el},atom_type:{description:nl,symbol:nl},atom_type_scat:{dispersion_imag:el,dispersion_real:el,source:nl}},il={"cell.formula_units_z":["cell_formula_units_Z"],"space_group.it_number":["space_group_IT_number","symmetry_Int_Tables_number"],"space_group.name_h-m_full":["symmetry_space_group_name_H-M"],"space_group_symop.operation_xyz":["symmetry_equiv_pos_as_xyz"],"geom_bond.atom_site_label_1":["geom_bond_atom_site_id_1"],"geom_bond.atom_site_label_2":["geom_bond_atom_site_id_2"],"geom_bond.distance":["geom_bond_dist"],"audit.block_doi":["audit_block_DOI"],"database_code.cod":["database_code_COD"],"database_code.csd":["database_code_CSD"],"database_code.depnum_ccdc_archive":["database_code_depnum_CCDC_archive"],"database_code.depnum_ccdc_fiz":["database_code_depnum_CCDC_fiz"],"database_code.icsd":["database_code_ICSD"],"database_code.mdf":["database_code_MDF"],"database_code.nbs":["database_code_NBS"],"atom_site.adp_type":["atom_site_ADP_type","atom_site_thermal_displace_type"],"atom_site.label":["atom_site_id"],"atom_site.site_symmetry_multiplicity":["atom_site_symmetry_multiplicity"],"atom_site.u_iso_or_equiv":["atom_site_U_iso_or_equiv"],"atom_site_aniso.label":["atom_site_anisotrop_id"],"atom_site_aniso.u_11":["atom_site_aniso_U_11","atom_site_anisotrop_U_11"],"atom_site_aniso.u_12":["atom_site_aniso_U_12","atom_site_anisotrop_U_12"],"atom_site_aniso.u_13":["atom_site_aniso_U_13","atom_site_anisotrop_U_13"],"atom_site_aniso.u_22":["atom_site_aniso_U_22","atom_site_anisotrop_U_22"],"atom_site_aniso.u_23":["atom_site_aniso_U_23","atom_site_anisotrop_U_23"],"atom_site_aniso.u_33":["atom_site_aniso_U_33","atom_site_anisotrop_U_33"]},ol=Ee.Schema.int,al={volume_data_3d_info:Jc.volume_data_3d_info,segmentation_data_table:{set_id:ol,segment_id:ol},segmentation_data_3d:{values:ol}},ul={mmCIF:function(e){return oi(ja,e)},CCD:function(e){return oi(Tc,e)},BIRD:function(e){return oi(jc,e)},dic:function(e){return oi(zc,e)},cifCore:function(e){return oi(rl,e,il)},densityServer:function(e){return oi(Jc,e)},segmentation:function(e){return oi(al,e)}},sl={type_symbol:Ee.Schema.Aliased(ja.atom_site.type_symbol),label_atom_id:ja.atom_site.label_atom_id,auth_atom_id:ja.atom_site.auth_atom_id,label_alt_id:ja.atom_site.label_alt_id,label_comp_id:ja.atom_site.label_comp_id,auth_comp_id:ja.atom_site.auth_comp_id,pdbx_formal_charge:ja.atom_site.pdbx_formal_charge},cl={group_PDB:ja.atom_site.group_PDB,label_seq_id:ja.atom_site.label_seq_id,auth_seq_id:ja.atom_site.auth_seq_id,pdbx_PDB_ins_code:ja.atom_site.pdbx_PDB_ins_code},ll={label_asym_id:ja.atom_site.label_asym_id,auth_asym_id:ja.atom_site.auth_asym_id,label_entity_id:ja.atom_site.label_entity_id};!function(e){e.EmptyResidueKey=function(){return{label_entity_id:"",label_asym_id:"",auth_seq_id:0,pdbx_PDB_ins_code:void 0}}}(Cc||(Cc={})),function(e){function t(e,t){return e.residueAtomSegments.index[e.chainAtomSegments.offsets[t]]}function n(e,t){return e.residueAtomSegments.index[e.chainAtomSegments.offsets[t+1]-1]+1}e.chainStartResidueIndex=t,e.chainEndResidueIndexExcl=n,e.chainResidueCount=function(e,r){return n(e,r)-t(e,r)}}(Bc||(Bc={}));var dl,fl,pl={H:1,D:1,T:1,HE:2,LI:3,BE:4,B:5,C:6,N:7,O:8,F:9,NE:10,NA:11,MG:12,AL:13,SI:14,P:15,S:16,CL:17,AR:18,K:19,CA:20,SC:21,TI:22,V:23,CR:24,MN:25,FE:26,CO:27,NI:28,CU:29,ZN:30,GA:31,GE:32,AS:33,SE:34,BR:35,KR:36,RB:37,SR:38,Y:39,ZR:40,NB:41,MO:42,TC:43,RU:44,RH:45,PD:46,AG:47,CD:48,IN:49,SN:50,SB:51,TE:52,I:53,XE:54,CS:55,BA:56,LA:57,CE:58,PR:59,ND:60,PM:61,SM:62,EU:63,GD:64,TB:65,DY:66,HO:67,ER:68,TM:69,YB:70,LU:71,HF:72,TA:73,W:74,RE:75,OS:76,IR:77,PT:78,AU:79,HG:80,TL:81,PB:82,BI:83,PO:84,AT:85,RN:86,FR:87,RA:88,AC:89,TH:90,PA:91,U:92,NP:93,PU:94,AM:95,CM:96,BK:97,CF:98,ES:99,FM:100,MD:101,NO:102,LR:103,RF:104,DB:105,SG:106,BH:107,HS:108,MT:109},ml={1:1.1,2:1.4,3:1.81,4:1.53,5:1.92,6:1.7,7:1.55,8:1.52,9:1.47,10:1.54,11:2.27,12:1.73,13:1.84,14:2.1,15:1.8,16:1.8,17:1.75,18:1.88,19:2.75,20:2.31,21:2.3,22:2.15,23:2.05,24:2.05,25:2.05,26:2.05,27:2,28:2,29:2,30:2.1,31:1.87,32:2.11,33:1.85,34:1.9,35:1.83,36:2.02,37:3.03,38:2.49,39:2.4,40:2.3,41:2.15,42:2.1,43:2.05,44:2.05,45:2,46:2.05,47:2.1,48:2.2,49:2.2,50:1.93,51:2.17,52:2.06,53:1.98,54:2.16,55:3.43,56:2.68,57:2.5,58:2.48,59:2.47,60:2.45,61:2.43,62:2.42,63:2.4,64:2.38,65:2.37,66:2.35,67:2.33,68:2.32,69:2.3,70:2.28,71:2.27,72:2.25,73:2.2,74:2.1,75:2.05,76:2,77:2,78:2.05,79:2.1,80:2.05,81:1.96,82:2.02,83:2.07,84:1.97,85:2.02,86:2.2,87:3.48,88:2.83,89:2,90:2.4,91:2,92:2.3,93:2,94:2,95:2,96:2,97:2,98:2,99:2,100:2,101:2,102:2,103:2,104:2,105:2,106:2,107:2,108:2,109:2};function hl(e){var t=pl[e];return void 0===t?0:t}function gl(e,t,n,r){return{type:e,key:t,elements:n,getIndex:r}}function vl(e,t,n,r,i,o){for(var a=e.residues,u=a.auth_seq_id,s=a.label_seq_id,c=a.pdbx_PDB_ins_code,l=n.endSeqId,d=n.endInsCode,f=n.key,p=n.type,m="label"===t?s:u,h=r;h<i;){var g=m.value(h);if(o.type[h]=p,o.key[h]=f,g>l||g===l&&c.value(h)===d)break;h++}}(fl=dl||(dl={})).Descriptor={name:"model_secondary_structure"},fl.Provider=Xr.create(fl.Descriptor),fl.fromStruct=function(e,t,n){var r=new Map,i=[{kind:"none"}],o=function(e,t){if(e._rowCount>0){if(0!==e.beg_label_seq_id.valueKind(0)||0!==e.end_label_seq_id.valueKind(0))return"auth"}else if(t&&(0!==t.beg_label_seq_id.valueKind(0)||0!==t.end_label_seq_id.valueKind(0)))return"auth";return"label"}(e,t);!function(e,t,n,r){if(e._rowCount)for(var i=e.beg_label_asym_id,o=e.beg_label_seq_id,a=e.beg_auth_seq_id,u=e.pdbx_beg_PDB_ins_code,s=e.end_label_seq_id,c=e.end_auth_seq_id,l=e.pdbx_end_PDB_ins_code,d=e.pdbx_PDB_helix_class,f=e.conf_type_id,p=e.details,m="label"===t?o:a,h="label"===t?s:c,g=0,v=e._rowCount;g<v;g++){var y=wo.create(0===d.valueKind(g)?wo.SecondaryStructurePdb[d.value(g)]:0===f.valueKind(g)?wo.SecondaryStructureMmcif[f.value(g)]:536870912),_={kind:"helix",flags:y,type_id:0===f.valueKind(g)?f.value(g):"helx_p",helix_class:d.value(g),details:0===p.valueKind(g)?p.value(g):void 0},b={startSeqId:m.value(g),startInsCode:u.value(g),endSeqId:h.value(g),endInsCode:l.value(g),type:y,key:r.length};r[r.length]=_;var x=i.value(g);if(n.has(x)){var A=n.get(x);A.has(b.startSeqId)?A.get(b.startSeqId).push(b):A.set(b.startSeqId,[b])}else n.set(x,new Map([[b.startSeqId,[b]]]))}}(e,o,r,i),function(e,t,n,r,i){if(e._rowCount)for(var o=e.beg_label_asym_id,a=e.beg_label_seq_id,u=e.beg_auth_seq_id,s=e.pdbx_beg_PDB_ins_code,c=e.end_label_seq_id,l=e.end_auth_seq_id,d=e.pdbx_end_PDB_ins_code,f=e.sheet_id,p="label"===t?a:u,m="label"===t?c:l,h=new Map,g=r+1,v=0,y=e._rowCount;v<y;v++){var _=f.value(v),b=void 0;h.has(_)?b=h.get(_):(b=g++,h.set(_,b));var x=wo.create(8388612),A={kind:"sheet",flags:x,sheet_id:_,symmetry:void 0},w={startSeqId:p.value(v),startInsCode:s.value(v),endSeqId:m.value(v),endInsCode:d.value(v),type:x,key:i.length};i[i.length]=A;var S=o.value(v);if(n.has(S)){var C=n.get(S);C.has(w.startSeqId)?C.get(w.startSeqId).push(w):C.set(w.startSeqId,[w])}else n.set(S,new Map([[w.startSeqId,[w]]]))}}(t,o,r,e._rowCount,i);var a=n.residues._rowCount,u={type:new Int32Array(a),key:new Int32Array(a),elements:i};return r.size>0&&function(e,t,n,r){for(var i=e.chainAtomSegments.count,o=e.chains.label_asym_id,a=e.residues,u=a.auth_seq_id,s=a.label_seq_id,c=a.pdbx_PDB_ins_code,l="label"===t?s:u,d=0;d<i;d++){var f=Bc.chainStartResidueIndex(e,d),p=Bc.chainEndResidueIndexExcl(e,d),m=o.value(d);if(n.has(m))for(var h=n.get(m),g=f;g<p;g++){var v=l.value(g);if(h.has(v))for(var y=h.get(v),_=0,b=y;_<b.length;_++){var x=b[_],A=c.value(g);x.startInsCode===A&&vl(e,t,x,g,p,r)}}}}(n,o,r,u),gl(u.type,u.key,u.elements,(function(e){return e}))};var yl,_l,bl,xl={U:ja.atom_site_anisotrop.U,U_esd:ja.atom_site_anisotrop.U_esd};(_l=yl||(yl={})).Schema=xl,_l.Descriptor={name:"atom_site_anisotrop",cifExport:{prefix:"",categories:[{name:"atom_site_anisotrop",instance:function(e){return _l.Provider.get(e.firstModel)&&Bl.is(e.firstModel.sourceData)?bu.Category.ofTable(e.firstModel.sourceData.data.db.atom_site_anisotrop):bu.Category.Empty}}]}},_l.Provider=Xr.create(_l.Descriptor),_l.getElementToAnsiotrop=function(e,t){var n=new Int32Array(e.rowCount);n.fill(-1);for(var r=0,i=e.rowCount;r<i;r++)n[e.value(r)]=r;var o=new Int32Array(e.rowCount);for(o.fill(-1),r=0,i=t.rowCount;r<i;++r){var a=n[t.value(r)];-1!==a&&(o[a]=r)}return o},_l.getElementToAnsiotropFromLabel=function(e,t){for(var n={},r=0,i=e.rowCount;r<i;r++)n[e.value(r)]=r;var o=new Int32Array(e.rowCount);for(o.fill(-1),r=0,i=t.rowCount;r<i;++r){var a=n[t.value(r)];void 0!==a&&(o[a]=r)}return o},function(e){var t,n="molstar_global_model_transform_info";function r(t){return e.Provider.get(t)}e.Schema=((t={})[n]={matrix:Ee.Schema.Matrix(4,4,Ee.Schema.float)},t),e.Descriptor=Br({name:n,cifExport:{categories:[{name:n,instance:function(t){var n=r(t.firstModel);if(!n)return bu.Category.Empty;var i=Ze.ofRows(e.Schema.molstar_global_model_transform_info,[{matrix:n}]);return bu.Category.ofTable(i)}}],prefix:"molstar"}}),e.Provider=Xr.create(e.Descriptor),e.attach=function(t,n){t.customProperties.has(e.Descriptor)||t.customProperties.add(e.Descriptor),e.Provider.set(t,n)},e.get=r,e.fromMmCif=function(t){if(Bl.is(t.sourceData)){var r=t.sourceData.data.frame.categories[n];if(r){var i,o=(i=e.Schema[n],new li(r,i,!0));if(0!==o._rowCount)return o.matrix.value(0)}}},e.hasData=function(e){if(!Bl.is(e.sourceData))return!1;var t=e.sourceData.data.frame.categories[n];return!!t&&t.rowCount>0},e.writeMmCif=function(t,r){t.writeCategory({name:n,instance:function(){var t=Ze.ofRows(e.Schema.molstar_global_model_transform_info,[{matrix:r}]);return bu.Category.ofTable(t)}})}}(bl||(bl={}));ja.atom_site.label_comp_id,ja.atom_site.label_seq_id,ja.atom_site.pdbx_PDB_ins_code,ja.atom_site.label_asym_id,ja.atom_site.label_entity_id,ja.atom_site.auth_atom_id,ja.atom_site.auth_seq_id,ja.atom_site.auth_asym_id,Object(T.a)(Object(T.a)({},ja.chem_comp_bond),{molstar_protonation_variant:Ee.Schema.Str()});var Al=Object(T.a)(Object(T.a)({},ja.chem_comp),{type:Ee.Schema.Aliased(Ee.Schema.str)});function wl(e,t){var n=t.ihm_model_group,r=t.ihm_model_group_link,i=Ze.pickRow(r,(function(t){return r.model_id.value(t)===e}));if(i){var o=Ze.pickRow(n,(function(e){return n.id.value(e)===i.group_id}));if(o)return o.name}return""}var Sl={entry:ja.entry,struct:ja.struct,struct_asym:ja.struct_asym,ihm_model_list:ja.ihm_model_list,ihm_model_group:ja.ihm_model_group,ihm_model_group_link:ja.ihm_model_group_link,entity:ja.entity,entity_poly:ja.entity_poly,entity_poly_seq:ja.entity_poly_seq,pdbx_entity_branch:ja.pdbx_entity_branch,chem_comp:Al,pdbx_chem_comp_identifier:ja.pdbx_chem_comp_identifier,atom_site:ja.atom_site,ihm_sphere_obj_site:ja.ihm_sphere_obj_site,ihm_gaussian_obj_site:ja.ihm_gaussian_obj_site,pdbx_unobs_or_zero_occ_residues:ja.pdbx_unobs_or_zero_occ_residues,pdbx_molecule:ja.pdbx_molecule};!function(){function e(){this.count=0,this.ids=[],this.types=[],this.descriptions=[],this.compoundsMap=new Map,this.namesMap=new Map,this.heteroMap=new Map,this.chainMap=new Map}e.prototype.set=function(e,t){this.count+=1,this.ids.push("".concat(this.count)),this.types.push(e),this.descriptions.push([t])},e.prototype.getEntityId=function(e,t,n,r){return 2===t?(void 0===this.waterId&&(this.set("water",(null==r?void 0:r.customName)||"Water"),this.waterId="".concat(this.count)),this.waterId):$o(t)?this.compoundsMap.has(n)?this.compoundsMap.get(n):(this.chainMap.has(n)||(this.set("polymer",(null==r?void 0:r.customName)||"Polymer ".concat(this.chainMap.size+1)),this.chainMap.set(n,"".concat(this.count))),this.chainMap.get(n)):(this.heteroMap.has(e)||(this.set("non-polymer",(null==r?void 0:r.customName)||this.namesMap.get(e)||e),this.heteroMap.set(e,"".concat(this.count))),this.heteroMap.get(e))},e.prototype.getEntityTable=function(){return Ze.ofPartialColumns(Sl.entity,{id:Ee.ofStringArray(this.ids),type:Ee.ofStringAliasArray(this.types),pdbx_description:Ee.ofStringListArray(this.descriptions)},this.count)},e.prototype.setCompounds=function(e){for(var t=0,n=e.length;t<n;++t){var r=e[t],i=r.chains,o=r.description;this.set("polymer",o);for(var a=0,u=i.length;a<u;++a)this.compoundsMap.set(i[a],"".concat(this.count))}},e.prototype.setNames=function(e){var t=this;e.forEach((function(e){return t.namesMap.set(e[0],e[1])}))}}();var Cl,Bl,Pl,Il,El,Ml=[new Set(["CA"]),new Set(["C"]),new Set(["N"])],kl=[new Set(["P","O3'","O3*"]),new Set(["C4'","C4*"]),new Set(["O2'","O2*","F2'","F2*"])],Dl=[new Set(["P","O3'","O3*"]),new Set(["C3'","C3*"]),new Set(["O2'","O2*","F2'","F2*"])],Ol=new Set(["FMN","NCN","FNS","FMA","ATP","ADP","AMP","GTP","GDP","GMP","LIG"]),Nl=(Cl=new Map,[{id:"HIS",name:"HISTIDINE",type:"l-peptide linking"},{id:"ARG",name:"ARGININE",type:"l-peptide linking"},{id:"LYS",name:"LYSINE",type:"l-peptide linking"},{id:"ILE",name:"ISOLEUCINE",type:"l-peptide linking"},{id:"PHE",name:"PHENYLALANINE",type:"l-peptide linking"},{id:"LEU",name:"LEUCINE",type:"l-peptide linking"},{id:"TRP",name:"TRYPTOPHAN",type:"l-peptide linking"},{id:"ALA",name:"ALANINE",type:"l-peptide linking"},{id:"MET",name:"METHIONINE",type:"l-peptide linking"},{id:"CYS",name:"CYSTEINE",type:"l-peptide linking"},{id:"ASN",name:"ASPARAGINE",type:"l-peptide linking"},{id:"VAL",name:"VALINE",type:"l-peptide linking"},{id:"GLY",name:"GLYCINE",type:"peptide linking"},{id:"SER",name:"SERINE",type:"l-peptide linking"},{id:"GLN",name:"GLUTAMINE",type:"l-peptide linking"},{id:"TYR",name:"TYROSINE",type:"l-peptide linking"},{id:"ASP",name:"ASPARTIC ACID",type:"l-peptide linking"},{id:"GLU",name:"GLUTAMIC ACID",type:"l-peptide linking"},{id:"THR",name:"THREONINE",type:"l-peptide linking"},{id:"PRO",name:"PROLINE",type:"l-peptide linking"},{id:"SEC",name:"SELENOCYSTEINE",type:"l-peptide linking"},{id:"PYL",name:"PYRROLYSINE",type:"l-peptide linking"},{id:"MSE",name:"SELENOMETHIONINE",type:"l-peptide linking"},{id:"SEP",name:"PHOSPHOSERINE",type:"l-peptide linking"},{id:"TPO",name:"PHOSPHOTHREONINE",type:"l-peptide linking"},{id:"PTR",name:"O-PHOSPHOTYROSINE",type:"l-peptide linking"},{id:"PCA",name:"PYROGLUTAMIC ACID",type:"l-peptide linking"},{id:"A",name:"ADENOSINE-5'-MONOPHOSPHATE",type:"rna linking"},{id:"C",name:"CYTIDINE-5'-MONOPHOSPHATE",type:"rna linking"},{id:"T",name:"THYMIDINE-5'-MONOPHOSPHATE",type:"rna linking"},{id:"G",name:"GUANOSINE-5'-MONOPHOSPHATE",type:"rna linking"},{id:"I",name:"INOSINIC ACID",type:"rna linking"},{id:"U",name:"URIDINE-5'-MONOPHOSPHATE",type:"rna linking"},{id:"DA",name:"2'-DEOXYADENOSINE-5'-MONOPHOSPHATE",type:"dna linking"},{id:"DC",name:"2'-DEOXYCYTIDINE-5'-MONOPHOSPHATE",type:"dna linking"},{id:"DT",name:"THYMIDINE-5'-MONOPHOSPHATE",type:"dna linking"},{id:"DG",name:"2'-DEOXYGUANOSINE-5'-MONOPHOSPHATE",type:"dna linking"},{id:"DI",name:"2'-DEOXYINOSINE-5'-MONOPHOSPHATE",type:"dna linking"},{id:"DU",name:"2'-DEOXYURIDINE-5'-MONOPHOSPHATE",type:"dna linking"}].forEach((function(e){return Cl.set(e.id,e)})),Cl),Tl=function(){var e=new Map;return[{id:"ZN2",name:"ZINC ION",type:"ion"},{id:"SOD",name:"SODIUM ION",type:"ion"},{id:"CES",name:"CESIUM ION",type:"ion"},{id:"CLA",name:"CHLORIDE ION",type:"ion"},{id:"CAL",name:"CALCIUM ION",type:"ion"},{id:"POT",name:"POTASSIUM ION",type:"ion"}].forEach((function(t){return e.set(t.id,t)})),e}();!function(){function e(e,t){this.seqId=e,this.atomId=t,this.namesMap=new Map,this.comps=new Map,this.ids=[],this.names=[],this.types=[],this.mon_nstd_flags=[]}e.prototype.set=function(e){this.comps.set(e.id,e),this.ids.push(e.id),this.names.push(e.name),this.types.push(e.type),this.mon_nstd_flags.push(Ko.has(e.id)?"y":"n")},e.prototype.getAtomIds=function(e){for(var t=new Set,n=this.seqId.value(e);e<this.seqId.rowCount;){var r=this.seqId.value(e);if(r!==n)break;t.add(this.atomId.value(e)),e+=1}return t},e.prototype.hasAtomIds=function(e,t){for(var n=0,r=t.length;n<r;++n)if(!mo.areIntersecting(e,t[n]))return!1;return!0},e.prototype.getType=function(e){return this.hasAtomIds(e,Ml)?"peptide linking":this.hasAtomIds(e,kl)?"rna linking":this.hasAtomIds(e,Dl)?"dna linking":"other"},e.prototype.has=function(e){return this.comps.has(e)},e.prototype.get=function(e){return this.comps.get(e)},e.prototype.add=function(e,t){if(!this.has(e))if(Nl.has(e))this.set(Nl.get(e));else if(Go.has(e))this.set({id:e,name:"WATER",type:"non-polymer"});else if(Ol.has(e.toUpperCase()))this.set({id:e,name:this.namesMap.get(e)||e,type:"non-polymer"});else if(go.has(e.toUpperCase()))this.set({id:e,name:this.namesMap.get(e)||e,type:"saccharide"});else{var n=this.getAtomIds(t);if(1===n.size&&Tl.has(e))this.set(Tl.get(e));else{var r=this.getType(n);this.set({id:e,name:this.namesMap.get(e)||e,type:r})}}return this.get(e)},e.prototype.getChemCompTable=function(){return Ze.ofPartialColumns(Sl.chem_comp,{id:Ee.ofStringArray(this.ids),name:Ee.ofStringArray(this.names),type:Ee.ofStringAliasArray(this.types),mon_nstd_flag:Ee.ofStringAliasArray(this.mon_nstd_flags)},this.ids.length)},e.prototype.setNames=function(e){var t=this;e.forEach((function(e){return t.namesMap.set(e[0],e[1])}))}}();Ds.Provider.formatRegistry.add("mmCIF",(function(e){if(Bl.is(e.sourceData))return Ds.fromData(e.sourceData.data.db)})),dl.Provider.formatRegistry.add("mmCIF",(function(e){if(Bl.is(e.sourceData)){var t=e.sourceData.data.db,n=t.struct_conf,r=t.struct_sheet_range;return dl.fromStruct(n,r,e.atomicHierarchy)}})),yl.Provider.formatRegistry.add("mmCIF",(function(e){if(Bl.is(e.sourceData)){var t=e.sourceData.data.db.atom_site_anisotrop;return{data:Ze.ofColumns(yl.Schema,t),elementToAnsiotrop:yl.getElementToAnsiotrop(e.atomicConformation.atomId,t.id)}}}),(function(e){return!!Bl.is(e.sourceData)&&e.sourceData.data.db.atom_site_anisotrop.U.isDefined})),xu.Provider.formatRegistry.add("mmCIF",(function(e){if(Bl.is(e.sourceData)){var t=e.sourceData.data.db.chem_comp_bond;if(0!==t._rowCount)return{data:t,entries:xu.getEntriesFromChemCompBond(t)}}})),Au.Provider.formatRegistry.add("mmCIF",(function(e){if(Bl.is(e.sourceData)){var t=e.sourceData.data.db.struct_conn;if(0!==t._rowCount){var n=Au.getEntriesFromStructConn(t,e);return{data:t,byAtomIndex:Au.getAtomIndexFromEntries(n),entries:n}}}})),bl.Provider.formatRegistry.add("mmCIF",bl.fromMmCif,bl.hasData),(Pl=Bl||(Bl={})).is=function(e){return"mmCIF"===(null==e?void 0:e.kind)},Pl.fromFrame=function(e,t,n){return t||(t=ul.mmCIF(e)),{kind:"mmCIF",name:t._name,data:{db:t,frame:e,source:n}}},(El=Il||(Il={})).CoordinateType={get:function(e){return e._staticPropertyData.__CcdCoordinateType__},set:function(e,t){return e._staticPropertyData.__CcdCoordinateType__=t}},El.is=function(e){return"CCD"===(null==e?void 0:e.kind)},El.fromFrame=function(e,t){return t||(t=ul.CCD(e)),{kind:"CCD",name:t._name,data:{db:t,frame:e}}};var Rl=Object.prototype.hasOwnProperty;var Ul=n(2);function Ll(e,t){return e[t]|e[t+1]<<8}function Gl(e,t){return 16777216*e[t+3]+(e[t+2]<<16|e[t+1]<<8|e[t])}function ql(e,t,n){for(var r,i,o="",a=0;a<n;a++)o+="%"+((i=e[t+a].toString(16)).length<2?"0"+i:i);try{r=decodeURIComponent(o)}catch(r){return function(e,t,n){for(var r="",i=0;i<n;i++)r+=String.fromCharCode(e[t+i]);return r}(e,t,n)}return r}var Fl=function(){for(var e=new Uint32Array(256),t=0;t<256;t++){for(var n=t,r=0;r<8;r++)1&n?n=3988292384^n>>>1:n>>>=1;e[t]=n}return e}();function jl(e,t,n){return 4294967295^function(e,t,n,r){for(var i=0;i<r;i++)e=Fl[255&(e^t[n+i])]^e>>>8;return e}(4294967295,e,t,n)}var Hl,Vl,zl=(Hl=Uint16Array,Vl=Uint32Array,{next_code:new Hl(16),bl_count:new Hl(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new Hl(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new Vl(32),flmap:new Hl(512),fltree:[],fdmap:new Hl(32),fdtree:[],lmap:new Hl(32768),ltree:[],ttree:[],dmap:new Hl(32768),dtree:[],imap:new Hl(512),itree:[],rev15:new Hl(32768),lhst:new Vl(286),dhst:new Vl(30),ihst:new Vl(19),lits:new Vl(15e3),strt:new Hl(65536),prev:new Hl(32768)});function Yl(e,t,n){for(var r=e.length,i=zl.rev15,o=0;o<r;o+=2)if(0!==e[o+1])for(var a=o>>1,u=e[o+1],s=a<<4|u,c=t-u,l=e[o]<<c,d=l+(1<<c);l!==d;){n[i[l]>>>15-t]=s,l++}}function Kl(e,t){for(var n=e.length,r=zl.bl_count,i=0;i<=t;i++)r[i]=0;for(i=1;i<n;i+=2)r[e[i]]++;var o=zl.next_code,a=0;r[0]=0;for(var u=1;u<=t;u++)a=a+r[u-1]<<1,o[u]=a;for(var s=0;s<n;s+=2){var c=e[s+1];0!==c&&(e[s]=o[c],o[c]++)}}function Zl(e,t){for(var n=zl.rev15,r=15-t,i=0;i<e.length;i+=2){var o=e[i]<<t-e[i+1];e[i]=n[o]>>>r}}function Wl(e,t,n){return Object(T.b)(this,void 0,void 0,(function(){var r;return Object(T.d)(this,(function(i){switch(i.label){case 0:if(3===t[0]&&0===t[1])return[2,n||new Uint8Array(0)];r=function(e,t){var n=void 0===t;return void 0===t&&(t=new Uint8Array(e.length>>>2<<3)),{data:e,buf:t,noBuf:n,BFINAL:0,off:0,pos:0}}(t,n),i.label=1;case 1:return 0!==r.BFINAL?[3,4]:e.shouldUpdate?[4,e.update({message:"Inflating blocks...",current:r.pos,max:t.length})]:[3,3];case 2:i.sent(),i.label=3;case 3:return function(e,t){for(var n=e.data,r=e.noBuf,i=e.buf,o=e.BFINAL,a=e.off,u=e.pos,s=0;0===o&&s<t;){var c=void 0,l=void 0,d=0,f=0;o=ed(n,u,1),s+=1;var p=ed(n,u+1,2);if(u+=3,0!==p){if(r&&(i=Xl(i,a+(1<<17))),1===p)c=zl.flmap,l=zl.fdmap,d=511,f=31;else{if(2!==p)throw new Error("unknown BTYPE ".concat(p));var m=$l(n,u,5)+257,h=$l(n,u+5,5)+1,g=$l(n,u+10,4)+4;u+=14;for(var v=0;v<38;v+=2)zl.itree[v]=0,zl.itree[v+1]=0;var y=1;for(v=0;v<g;v++){var _=$l(n,u+3*v,3);zl.itree[1+(zl.ordr[v]<<1)]=_,_>y&&(y=_)}u+=3*g,Kl(zl.itree,y),Yl(zl.itree,y,zl.imap),c=zl.lmap,l=zl.dmap,u=Ql(zl.imap,(1<<y)-1,m+h,n,u,zl.ttree);var b=Jl(zl.ttree,0,m,zl.ltree);d=(1<<b)-1;var x=Jl(zl.ttree,m,h,zl.dtree);f=(1<<x)-1,Kl(zl.ltree,b),Yl(zl.ltree,b,c),Kl(zl.dtree,x),Yl(zl.dtree,x,l)}for(;;){var A=c[td(n,u)&d];u+=15&A;var w=A>>>4;if(w>>>8==0)i[a++]=w;else{if(256===w)break;var S=a+w-254;if(w>264){var C=zl.ldef[w-257];S=a+(C>>>3)+$l(n,u,7&C),u+=7&C}var B=l[td(n,u)&f];u+=15&B;var P=B>>>4,I=zl.ddef[P],E=(I>>>4)+ed(n,u,15&I);for(u+=15&I,r&&(i=Xl(i,a+(1<<17)));a<S;)i[a]=i[a++-E],i[a]=i[a++-E],i[a]=i[a++-E],i[a]=i[a++-E];a=S}}}else{0!=(7&u)&&(u+=8-(7&u));var M=4+(u>>>3),k=n[M-4]|n[M-3]<<8;r&&(i=Xl(i,a+k)),i.set(new Uint8Array(n.buffer,n.byteOffset+M,k),a),u=M+k<<3,a+=k}}e.buf=i,e.BFINAL=o,e.off=a,e.pos=u}(r,100),[3,1];case 4:return[2,r.buf.length===r.off?r.buf:r.buf.slice(0,r.off)]}}))}))}function Xl(e,t){var n=e.length;if(t<=n)return e;var r=new Uint8Array(Math.max(n<<1,t));return r.set(e,0),r}function Ql(e,t,n,r,i,o){for(var a=0;a<n;){var u=e[td(r,i)&t];i+=15&u;var s=u>>>4;if(s<=15)o[a]=s,a++;else{var c=0,l=0;16===s?(l=3+$l(r,i,2),i+=2,c=o[a-1]):17===s?(l=3+$l(r,i,3),i+=3):18===s&&(l=11+$l(r,i,7),i+=7);for(var d=a+l;a<d;)o[a]=c,a++}}return i}function Jl(e,t,n,r){for(var i=0,o=0,a=r.length>>>1;o<n;){var u=e[o+t];r[o<<1]=0,r[1+(o<<1)]=u,u>i&&(i=u),o++}for(;o<a;)r[o<<1]=0,r[1+(o<<1)]=0,o++;return i}function $l(e,t,n){return(e[t>>>3]|e[1+(t>>>3)]<<8)>>>(7&t)&(1<<n)-1}function ed(e,t,n){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)&(1<<n)-1}function td(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)}!function(){for(var e=0;e<32768;e++){var t=e;t=(4278255360&(t=(4042322160&(t=(3435973836&(t=(2863311530&t)>>>1|(1431655765&t)<<1))>>>2|(858993459&t)<<2))>>>4|(252645135&t)<<4))>>>8|(16711935&t)<<8,zl.rev15[e]=(t>>>16|t<<16)>>>17}function n(e,t,n){for(;0!=t--;)e.push(0,n)}for(e=0;e<32;e++)zl.ldef[e]=zl.of0[e]<<3|zl.exb[e],zl.ddef[e]=zl.df0[e]<<4|zl.dxb[e];n(zl.fltree,144,8),n(zl.fltree,112,9),n(zl.fltree,24,7),n(zl.fltree,8,8),Kl(zl.fltree,9),Yl(zl.fltree,9,zl.flmap),Zl(zl.fltree,9),n(zl.fdtree,32,5),Kl(zl.fdtree,5),Yl(zl.fdtree,5,zl.fdmap),Zl(zl.fdtree,5),n(zl.itree,19,0),n(zl.ltree,286,0),n(zl.dtree,30,0),n(zl.ttree,320,0)}();var nd;function rd(e,t,n){return void 0===n&&(n=!1),Object(T.b)(this,void 0,void 0,(function(){var r,i,o,a,u,s,c,l,d,f,p,m,h;return Object(T.d)(this,(function(g){switch(g.label){case 0:for(r=Object.create(null),i=new Uint8Array(t),o=i.length-4;101010256!==Gl(i,o);)o--;a=o,a+=4,u=Ll(i,a+=4),a+=2,a+=2,s=Gl(i,a+=4),a+=4,a=s,c=0,g.label=1;case 1:return c<u?(a+=4,a+=4,a+=4,a+=4,l=Gl(i,a+=4),d=Gl(i,a+=4),f=Ll(i,a+=4),p=Ll(i,a+2),m=Ll(i,a+4),a+=6,h=Gl(i,a+=8),a+=4,a+=f+p+m,[4,id(e,i,h,r,l,d,n)]):[3,4];case 2:g.sent(),g.label=3;case 3:return c++,[3,1];case 4:return[2,r]}}))}))}function id(e,t,n,r,i,o,a){return Object(T.b)(this,void 0,void 0,(function(){var u,s,c,l,d,f;return Object(T.d)(this,(function(p){switch(p.label){case 0:return n+=4,n+=2,u=Ll(t,n+=2),n+=2,n+=4,n+=4,s=Ll(t,n+=8),c=Ll(t,n+=2),l=ql(t,n+=2,s),n+=s,n+=c,a?(r[l]={size:o,csize:i},[2]):(d=new Uint8Array(t.buffer,n),0!==u?[3,1]:(r[l]=new Uint8Array(d.buffer.slice(n,n+i)),[3,4]));case 1:return 8!==u?[3,3]:(f=new Uint8Array(o),[4,od(e,d,f)]);case 2:return p.sent(),r[l]=f,[3,4];case 3:throw new Error("unknown compression method: ".concat(u));case 4:return[2]}}))}))}function od(e,t,n){return Object(T.b)(this,void 0,void 0,(function(){return Object(T.d)(this,(function(r){return[2,Wl(e,t,n)]}))}))}function ad(e,t,n){return Object(T.b)(this,void 0,void 0,(function(){var r,i,o,a,u,s,c,l,d;return Object(T.d)(this,(function(f){switch(f.label){case 0:if(r=t[3],i=10,4&r&&(o=Ll(t,i),i+=o),8&r){for(a=i;0!==t[a];)++a;i=a+1}if(16&r){for(a=i;0!==t[a];)++a;i=a+1}return 1&r&&(i+=2),p=Gl(t,t.length-8),u=p>>0,s=Gl(t,t.length-4),void 0===n&&(n=new Uint8Array(s)),c=new Uint8Array(t.buffer,t.byteOffset+i,t.length-i-8),[4,od(e,c,n)];case 1:return l=f.sent(),d=jl(l,0,l.length),u!==d&&console.error("ungzip: checksums don't match"),[2,l]}var p}))}))}function ud(e,t){return hd(e,t)}function sd(e){return"string"==typeof e?vd(e,e,"string"):vd(e.title,e.url,e.type||"string",e.body,e.headers)}function cd(e){return e?"Failed to download data. Possible reasons: Resource is not available, or CORS is not allowed on the server.":"Failed to open file."}function ld(e,t,n){return new Promise((function(r,i){if(function(e){if(!Ul.b&&e instanceof FileReader)return e.readyState===FileReader.DONE;if(e instanceof Ul.c)return e.readyState===Ul.c.DONE;throw new Error("unknown data type")}(n)){var o=n.error;null!=o?i(null!=o?o:cd(n instanceof Ul.c)):r(n)}else{var a=!1;n.onerror=function(e){if(!a){var t=e.target.error;i(null!=t?t:cd(n instanceof Ul.c))}},n.onprogress=function(n){if(e.shouldUpdate&&!a)try{n.lengthComputable?e.update({message:t,isIndeterminate:!1,current:n.loaded,max:n.total}):e.update({message:"".concat(t," ").concat((n.loaded/1024/1024).toFixed(2)," MB"),isIndeterminate:!0})}catch(n){a=!0,i(n)}},n.onload=function(e){r(n)}}}))}function dd(e){return/\.gz$/i.test(e)?nd.Gzip:/\.zip$/i.test(e)?nd.Zip:nd.None}!function(e){e[e.None=0]="None",e[e.Gzip=1]="Gzip",e[e.Zip=2]="Zip"}(nd||(nd={}));var fd=/^(__MACOSX|.DS_Store)/;function pd(e,t,n){return Object(T.b)(this,void 0,void 0,(function(){var r,i;return Object(T.d)(this,(function(o){switch(o.label){case 0:switch(n){case nd.None:return[3,1];case nd.Gzip:return[3,2];case nd.Zip:return[3,3]}return[3,5];case 1:return[2,t];case 2:return[2,ad(e,t)];case 3:return[4,rd(e,t.buffer)];case 4:if(r=o.sent(),1!==(i=Object.keys(r).filter((function(e){return!fd.test(e)}))).length)throw new Error("can only decompress zip files with a single entry");return[2,r[i[0]]];case 5:return[2]}}))}))}function md(e,t,n,r){return Object(T.b)(this,void 0,void 0,(function(){var i,o;return Object(T.d)(this,(function(a){switch(a.label){case 0:if(null===(i=t instanceof ArrayBuffer?new Uint8Array(t):t))throw new Error("no data given");if(r===nd.None)return[3,4];if(!(i instanceof Uint8Array))throw new Error("need Uint8Array for decompression");return[4,pd(e,i,r)];case 1:return o=a.sent(),"string"!==n?[3,3]:[4,e.update({message:"Decoding text..."})];case 2:return a.sent(),i=vu(o,0,o.length),[3,4];case 3:i=o,a.label=4;case 4:return"binary"===n&&i instanceof Uint8Array?[2,i]:[3,5];case 5:return"zip"===n&&i instanceof Uint8Array?[4,rd(e,i.buffer)]:[3,7];case 6:return[2,a.sent()];case 7:if("string"===n&&"string"==typeof i)return[2,i];if("xml"===n&&"string"==typeof i)return[2,(new DOMParser).parseFromString(i,"application/xml")];if("json"===n&&"string"==typeof i)return[2,JSON.parse(i)];a.label=8;case 8:throw new Error("could not get requested response data '".concat(n,"'"))}}))}))}function hd(e,t){var n=this;if(Ul.b)return function(e,t){var n=this;return Hr.create("Read File",(function(r){return Object(T.b)(n,void 0,void 0,(function(){var n,i;return Object(T.d)(this,(function(o){switch(o.label){case 0:return n="zip"===t?nd.None:dd(e.name),[4,r.update({message:"Opening file...",canAbort:!1})];case 1:return o.sent(),"binary"!==t&&"zip"!==t&&n===nd.None?[3,3]:[4,e.arrayBuffer()];case 2:return i=o.sent(),[3,5];case 3:return[4,e.text()];case 4:i=o.sent(),o.label=5;case 5:return[4,r.update({message:"Processing file...",canAbort:!1})];case 6:return o.sent(),[4,md(r,i,t,n)];case 7:return[2,o.sent()]}}))}))}))}(e,t);var r=void 0;return Hr.create("Read File",(function(i){return Object(T.b)(n,void 0,void 0,(function(){var n,o;return Object(T.d)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,,5,6]),r=new FileReader,n="zip"===t?nd.None:dd(e.name),"binary"===t||"zip"===t||n!==nd.None?r.readAsArrayBuffer(e):r.readAsText(e),[4,i.update({message:"Opening file...",canAbort:!0})];case 1:return a.sent(),[4,ld(i,"Reading...",r)];case 2:return o=a.sent(),[4,i.update({message:"Processing file...",canAbort:!1})];case 3:return a.sent(),[4,md(i,o.result,t,n)];case 4:return[2,a.sent()];case 5:return r=void 0,[7];case 6:return[2]}}))}))}),(function(){r&&r.abort()}))}var gd=function(){function e(){}return e.get=function(){return this.pool.length?this.pool.pop():new Ul.c},e.emptyFunc=function(){},e.deposit=function(t){this.pool.length<this.poolSize&&(t.onabort=e.emptyFunc,t.onerror=e.emptyFunc,t.onload=e.emptyFunc,t.onprogress=e.emptyFunc,this.pool.push(t))},e.pool=[],e.poolSize=15,e}();function vd(e,t,n,r,i){var o=this;if(Ul.b&&t.startsWith("file://"))return function(e,t,n,r,i){if(!Ul.b)throw new Error("This function should only be used when running in Node.js");if(!t.startsWith("file://"))throw new Error("This function is only for URLs with protocol file://");var o=t.substring("file://".length),a=function(){if(!_d)throw new Error("When running in Node.js and reading from files, call mol-util/data-source's setFSModule function first.");return _d}().readFileSync(o);return ud(new Ul.a([a],"raw-data"),n)}(0,t,n);var a=void 0;return Hr.create(e||"Download",(function(e){return Object(T.b)(o,void 0,void 0,(function(){var o,u,s,c,l,d;return Object(T.d)(this,(function(f){switch(f.label){case 0:if((a=gd.get()).open(r?"post":"get",t,!0),i)for(o=0,u=i;o<u.length;o++)s=u[o],c=s[0],l=s[1],a.setRequestHeader(c,l);return a.responseType=function(e){switch(e){case"json":return"json";case"xml":return"document";case"string":return"text";case"binary":case"zip":return"arraybuffer"}}(n),a.send(r),[4,e.update({message:"Waiting for server...",canAbort:!0})];case 1:return f.sent(),[4,ld(e,"Downloading...",a)];case 2:return d=f.sent(),a=void 0,[4,e.update({message:"Parsing response...",canAbort:!1})];case 3:return f.sent(),[2,function(e,t){if(e.status>=200&&e.status<400){var n=e.response;if(gd.deposit(e),("binary"===t||"zip"===t)&&n instanceof ArrayBuffer)return new Uint8Array(n);if("string"===t&&"string"==typeof n)return n;if("xml"===t&&n instanceof XMLDocument)return n;if("json"===t&&"object"==typeof n)return n;throw new Error("could not get requested response data '".concat(t,"'"))}throw gd.deposit(e),new Error("Download failed with status code ".concat(e.status))}(d,n)]}}))}))}),(function(){a&&(a.abort(),a=void 0)}))}var yd,_d=void 0;!function(e){function t(e,t){return Object(T.a)({kind:"url",id:Le.a.create22(),url:e},t)}e.Url=t,e.File=function(e){return{kind:"file",id:Le.a.create22(),name:e.name,file:e}},e.isUrl=function(e){return"url"===(null==e?void 0:e.kind)},e.isFile=function(e){return"file"===(null==e?void 0:e.kind)},e.Wrapper=function(e,t,n){return{data:e,dispose:function(){n.release(t)}}},e.getUrl=function(e){return"string"==typeof e?e:e.url},e.getUrlAsset=function(e,n,r){return"string"==typeof n?e.tryFindUrl(n,r)||t(n,{body:r}):n}}(yd||(yd={}));var bd;!function(){function e(){this._assets=new Map}Object.defineProperty(e.prototype,"assets",{get:function(){return Je(this._assets.values())},enumerable:!1,configurable:!0}),e.prototype.tryFindUrl=function(e,t){for(var n=this.assets.values();;){var r=n.next();if(r.done)return;var i=r.value.asset;if(yd.isUrl(i)&&i.url===e&&(i.body||"")===(t||""))return i}},e.prototype.set=function(e,t){this._assets.set(e.id,{asset:e,file:t,refCount:0})},e.prototype.get=function(e){return this._assets.get(e.id)},e.prototype.delete=function(e){return this._assets.delete(e.id)},e.prototype.has=function(e){return this._assets.has(e.id)},e.prototype.resolve=function(e,t,n){var r=this;return void 0===n&&(n=!0),yd.isUrl(e)?Hr.create("Download ".concat(e.title||e.url),(function(i){return Object(T.b)(r,void 0,void 0,(function(){var r,o,a,u,s,c,l,d,f;return Object(T.d)(this,(function(p){switch(p.label){case 0:return this._assets.has(e.id)?((r=this._assets.get(e.id)).refCount++,a=(o=yd).Wrapper,[4,ud(r.file,t).runInContext(i)]):[3,2];case 1:return[2,a.apply(o,[p.sent(),e,this])];case 2:return n?[3,4]:(s=(u=yd).Wrapper,[4,sd(Object(T.a)(Object(T.a)({},e),{type:t})).runInContext(i)]);case 3:return[2,s.apply(u,[p.sent(),e,this])];case 4:return[4,sd(Object(T.a)(Object(T.a)({},e),{type:"binary"})).runInContext(i)];case 5:return c=p.sent(),l=new Ul.a([c],"raw-data"),this._assets.set(e.id,{asset:e,file:l,refCount:1}),f=(d=yd).Wrapper,[4,ud(l,t).runInContext(i)];case 6:return[2,f.apply(d,[p.sent(),e,this])]}}))}))})):Hr.create("Read ".concat(e.name),(function(i){return Object(T.b)(r,void 0,void 0,(function(){var r,o,a,u,s;return Object(T.d)(this,(function(c){switch(c.label){case 0:return this._assets.has(e.id)?((r=this._assets.get(e.id)).refCount++,a=(o=yd).Wrapper,[4,ud(r.file,t).runInContext(i)]):[3,2];case 1:return[2,a.apply(o,[c.sent(),e,this])];case 2:if(!(e.file instanceof Ul.a))throw new Error("Cannot resolve file asset '".concat(e.name,"' (").concat(e.id,")"));return n&&this._assets.set(e.id,{asset:e,file:e.file,refCount:1}),s=(u=yd).Wrapper,[4,ud(e.file,t).runInContext(i)];case 3:return[2,s.apply(u,[c.sent(),e,this])]}}))}))}))},e.prototype.release=function(e){var t=this._assets.get(e.id);t&&(t.refCount--,t.refCount<=0&&this._assets.delete(e.id))}}();!function(e){function t(e,t){return t?(t.label&&(e.label=t.label),t.description&&(e.description=t.description),t.legend&&(e.legend=t.legend),t.fieldLabels&&(e.fieldLabels=t.fieldLabels),t.isHidden&&(e.isHidden=t.isHidden),t.shortLabel&&(e.shortLabel=t.shortLabel),t.twoColumns&&(e.twoColumns=t.twoColumns),t.isEssential&&(e.isEssential=t.isEssential),t.category&&(e.category=t.category),t.hideIf&&(e.hideIf=t.hideIf),t.help&&(e.help=t.help),e):e}function n(e,n,r){return t({type:"select",defaultValue:x(e,n),options:n,cycle:null==r?void 0:r.cycle},r)}function r(e,t){return t?(void 0!==t.min&&(e.min=t.min),void 0!==t.max&&(e.max=t.max),void 0!==t.step&&(e.step=t.step),e):e}function i(e,n){var r=t({type:"group",defaultValue:(null==n?void 0:n.customDefault)||u(e),params:e},n);return(null==n?void 0:n.presets)&&(r.presets=n.presets),(null==n?void 0:n.isExpanded)&&(r.isExpanded=n.isExpanded),(null==n?void 0:n.isFlat)&&(r.isFlat=n.isFlat),(null==n?void 0:n.pivot)&&(r.pivot=n.pivot),r}function o(){return u(this.element)}function a(){throw new Error("getValue not set. Fix runtime.")}function u(e){for(var t={},n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];e[i].isOptional||(t[i]=e[i].defaultValue)}return t}function s(e,t,n){return function(){return e(t,n)}}function c(e,t,n){if(t)if("value-ref"===e.type)(r=t).ref?r.getValue=s(e.resolveRef,r.ref,n):r.getValue=function(){throw new Error("Unset ref in ValueRef value.")};else if("data-ref"===e.type){(r=t).ref?r.getValue=s(n,r.ref,n):r.getValue=function(){throw new Error("Unset ref in ValueRef value.")}}else if("group"===e.type)f(e.params,t,n);else if("mapped"===e.type){var r=t;c(e.map(r.name),r.params,n)}else if("object-list"===e.type){if(!d(e.element))return;for(var i=0,o=t;i<o.length;i++){var a=o[i];f(e.element,a,n)}}}function l(e){if("value-ref"===e.type||"data-ref"===e.type)return!0;if("group"===e.type){if(d(e.params))return!0}else if("mapped"===e.type)for(var t=0,n=e.select.options;t<n.length;t++){var r=n[t][0];if(l(e.map(r)))return!0}else if("object-list"===e.type)return d(e.element);return!1}function d(e){for(var t=0,n=Object.keys(e);t<n.length;t++){if(l(e[n[t]]))return!0}return!1}function f(e,t,n){for(var r=0,i=Object.keys(e);r<i.length;r++){var o=i[r];c(e[o],null==t?void 0:t[o],n)}}function p(e,t,n){if(t===n)return!0;if("object"!=typeof t||"object"!=typeof n)return!1;for(var r=0,i=Object.keys(e);r<i.length;r++){var o=i[r];if(!m(e[o],t[o],n[o]))return!1}return!0}function m(e,t,n){if(t===n)return!0;if("group"===e.type)return p(e.params,t,n);if("mapped"===e.type){var r=n;return(u=t).name===r.name&&m(e.map(u.name),u.params,r.params)}if("multi-select"===e.type){r=n;if((u=t).length!==r.length)return!1;if(u.length<10){for(var i=0,o=u.length;i<o;i++)if(u[i]!==r[i]&&r.indexOf(u[i])<0)return!1}else{var a=new Set(r);for(i=0,o=u.length;i<o;i++)if(u[i]!==r[i]&&!a.has(u[i]))return!1}return!0}if("interval"===e.type)return t[0]===n[0]&&t[1]===n[1];if("line-graph"===e.type){r=n;if((u=t).length!==r.length)return!1;for(i=0,o=u.length;i<o;i++)if(!E.areEqual(u[i],r[i]))return!1;return!0}if("vec3"===e.type)return A.equals(t,n);if("mat4"===e.type)return P.areEqual(t,n,h);if("script"===e.type){r=n;return(u=t).language===r.language&&u.expression===r.expression}if("object-list"===e.type){r=n;var u,s=(u=t).length;if(s!==r.length)return!1;for(i=0;i<s;i++)if(!p(e.element,u[i],r[i]))return!1;return!0}return"object"==typeof t&&"object"==typeof n&&Ye(t,n)}function g(e,t,n){if(void 0===t)return Object(T.a)({},n);if(void 0===n)return Object(T.a)({},t);for(var r=Object.create(null),i=0,o=Object.keys(e);i<o.length;i++){var a=o[i];r[a]=v(e[a],t[a],n[a])}return r}function v(e,t,n){if(void 0===t)return"object"!=typeof n||Array.isArray(n)?n:Object(T.a)({},n);if(void 0===n)return"object"!=typeof t||Array.isArray(t)?t:Object(T.a)({},t);if("group"===e.type)return g(e.params,t,n);if("mapped"===e.type){var r=t,i=n;if(r.name!==i.name)return Object(T.a)({},i);var o=e.map(i.name);return{name:i.name,params:v(o,r.params,i.params)}}return"value"===e.type?n:"object"==typeof t&&"object"==typeof n?Array.isArray(n)?n:Object(T.a)(Object(T.a)({},t),n):n}function y(e,t){for(var n=0,r=e.options;n<r.length;n++){if(r[n][0]===t)return!0}return!1}function _(e,t,n){if(null==t)return n?e.defaultValue:void 0;if("value"===e.type)return t;if("group"===e.type){for(var r=Object.create(null),i=0,o=Object.keys(e.params);i<o.length;i++){var a=o[i],u=e.params[a];void 0===t[a]?n&&(r[a]=u.defaultValue):r[a]=_(u,t[a],n)}return r}if("mapped"===e.type){var s=t;if("string"!=typeof s.name)return e.defaultValue;if(void 0===s.params)return n?e.defaultValue:void 0;if(!y(e.select,s.name))return e.defaultValue;u=e.map(s.name);return{name:s.name,params:_(u,s.params,n)}}if("select"===e.type)return y(e,t)?t:e.defaultValue;if("multi-select"===e.type){if(!Array.isArray(t))return e.defaultValue;r=t.filter((function(e){return y(this,e)}),e);return t.length>0&&0===r.length?e.defaultValue:r}return"object-list"===e.type?Array.isArray(t)?t.map((function(t){return b(e.element,t,n?"all":"skip")})):e.defaultValue:t}function b(e,t,n){if("object"!=typeof t||null===t)return n?u(e):t;for(var r=Object.create(null),i=0,o=Object.keys(e);i<o.length;i++){var a=o[i],s=e[a];void 0===t[a]?"all"===n&&(r[a]=s.defaultValue):r[a]=_(s,t[a],"skip"!==n)}return r}function x(e,t){for(var n=0,r=t;n<r.length;n++){if(r[n][0]===e)return e}return t.length>0?t[0][0]:void 0}e.Essential={isEssential:!0},e.Optional=function(e){var t=Object(T.a)({},e);return t.isOptional=!0,t},e.Value=function(e,n){return t({type:"value",defaultValue:e},n)},e.Select=n,e.MultiSelect=function(e,n,r){var i=t({type:"multi-select",defaultValue:e,options:n},r);return(null==r?void 0:r.emptyValue)&&(i.emptyValue=r.emptyValue),i},e.Boolean=function(e,n){return t({type:"boolean",defaultValue:e},n)},e.Text=function(e,n){return void 0===e&&(e=""),t({type:"text",defaultValue:e},n)},e.Color=function(e,n){var r=t({type:"color",defaultValue:e},n);return(null==n?void 0:n.isExpanded)&&(r.isExpanded=n.isExpanded),r},e.ColorList=function(e,n){var r;if("string"==typeof e){var i=Qi(e);r={kind:"qualitative"!==i.type?"interpolate":"set",colors:i.list}}else r=e;return t({type:"color-list",presetKind:(null==n?void 0:n.presetKind)||"all",defaultValue:r,offsets:!!(null==n?void 0:n.offsets)},n)},e.Vec3=function(e,n,i){return t(r({type:"vec3",defaultValue:e},n),i)},e.Mat4=function(e,n){return t({type:"mat4",defaultValue:e},n)},e.Url=function(e,n){return t({type:"url",defaultValue:"string"==typeof e?yd.Url(e):yd.Url(e.url,{body:e.body})},n)},e.File=function(e){var n=t({type:"file",defaultValue:null},e);return(null==e?void 0:e.accept)&&(n.accept=e.accept),n},e.FileList=function(e){var n=t({type:"file-list",defaultValue:null},e);return(null==e?void 0:e.accept)&&(n.accept=e.accept),n},e.Numeric=function(e,n,i){var o=t(r({type:"number",defaultValue:e},n),i);return(null==i?void 0:i.immediateUpdate)&&(o.immediateUpdate=!0),o},e.Interval=function(e,n,i){return t(r({type:"interval",defaultValue:e},n),i)},e.LineGraph=function(e,n){var r=t({type:"line-graph",defaultValue:e},n);return(null==n?void 0:n.getVolume)&&(r.getVolume=n.getVolume),r},e.Group=i,e.EmptyGroup=function(e){return i({},e)},e.Mapped=function(e,r,i,o){var a=x(e,r);return t({type:"mapped",defaultValue:{name:a,params:i(a).defaultValue},select:n(a,r,o),map:i},o)},e.MappedStatic=function(e,r,i){var o=(null==i?void 0:i.options)?i.options:Object.keys(r).map((function(e){return[e,r[e].label||Zi(e)]})),a=x(e,o);return t({type:"mapped",defaultValue:{name:a,params:r[a].defaultValue},select:n(a,o,i),map:function(e){return r[e]}},i)},e.ObjectList=function(e,n,r){return t({type:"object-list",element:e,getLabel:n,ctor:o,defaultValue:(null==r?void 0:r.defaultValue)||[]},r)},e.ValueRef=function(e,n,r){var i;return t({type:"value-ref",defaultValue:{ref:null!==(i=null==r?void 0:r.defaultRef)&&void 0!==i?i:"",getValue:a},getOptions:e,resolveRef:n},r)},e.DataRef=function(e){var n;return t({type:"data-ref",defaultValue:{ref:null!==(n=null==e?void 0:e.defaultRef)&&void 0!==n?n:"",getValue:a}},e)},e.Converted=function(e,n,r){return t({type:"converted",defaultValue:n(r.defaultValue),converted:r,fromValue:e,toValue:n},r)},e.Conditioned=function(e,r,i,o,a){var u=Object.keys(r).map((function(e){return[e,e]}));return t({type:"conditioned",select:n(i(e),u,a),defaultValue:e,conditionParams:r,conditionForValue:i,conditionedValue:o},a)},e.Script=function(e,n){return t({type:"script",defaultValue:e},n)},e.For=function(e){return 0},e.getDefaultValues=u,e.resolveRefs=f,e.setDefaultValues=function(e,t){for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];e[i].isOptional||(e[i].defaultValue=t[i])}},e.clone=function(e){return function e(t){if(null===t||"object"!=typeof t)return t;if(t instanceof Array){for(var n=[],r=0,i=t.length;r<i;r++)n[r]=e(t[r]);return n}if("object"==typeof t&&!("prototype"in t)){n={};for(var o in t)Rl.call(t,o)&&(n[o]=e(t[o]));return n}throw new Error("Can't clone, type \"".concat(typeof t,'" unsupported'))}(e)},e.validate=function(e,t){},e.areEqual=p,e.isParamEqual=m,e.merge=g,e.mergeParam=v,e.normalizeParams=b,e.objectToOptions=function(e,t){for(var n=[],r=0,i=Object.keys(e);r<i.length;r++){var o=i[r];if(t){var a=t(o,e[o]);n.push("string"==typeof a?[o,a]:[o,a[0],a[1]])}else"string"==typeof e[o]?n.push([o,e[o]]):n.push([o,null===t?o:Zi(o)])}return n},e.arrayToOptions=function(e,t){for(var n=[],r=0,i=e;r<i.length;r++){var o=i[r];t?n.push([o,t(o)]):n.push([o,null===t?o:Zi(o)])}return n},e.optionLabel=function(e,t){for(var n=0,r=e.options;n<r.length;n++){var i=r[n];if(i[0]===t)return i[1]}return""}}(bd||(bd={}));var xd,Ad,wd=-27.888;function Sd(e,t,n,r){var i=A.distance(e,r),o=A.distance(t,r),a=A.distance(t,n),u=A.distance(e,n),s=wd/i-wd/o+(wd/a-wd/u);return s<-9.9?-9.9:s}function Cd(e,t,n){for(var r=t.residueIndices,i=t.cIndices,o=t.hIndices,a=t.nIndices,u=t.oIndices,s=e.model.atomicHierarchy.index,c=e.conformation.invariantPosition,l=e.model.atomicHierarchy.derived.residue.traceElementIndex,d=r.length,f=[],p=[],m=[],h=A(),g=A(),v=A(),y=A(),_=A(),b=A(),x=A(),w=0,S=r.length;w<S;++w){var C=w,B=r[w],P=u[C],I=i[C],E=l[B];if(-1!==P&&-1!==I&&-1===s.findAtomOnResidue(B,"OXT")){c(P,h),c(I,g),c(E,v);for(var M=n.find(v[0],v[1],v[2],9),k=M.indices,D=M.count,O=0;O<D;++O){var N=k[O];if(N!==C&&N-1!==C&&N+1!==C){var T=a[N];if(-1!==T){c(T,y);var R=o[N];if(-1===R){if(0===N)continue;var U=N-1,L=u[U],G=i[U];if(-1===L||-1===G)continue;c(L,x),c(G,b),A.sub(_,b,x);var q=A.distance(x,b);A.scaleAndAdd(_,y,_,1/q)}else c(R,_);var F=Sd(h,g,y,_);F>-.5||(f[f.length]=C,p[p.length]=N,m[m.length]=F)}}}}}return function(e,t,n,r){for(var i=new Yr.DirectedEdgeBuilder(e,t,n),o=new Float32Array(i.slotCount),a=0,u=i.edgeCount;a<u;a++)i.addNextEdge(),i.assignProperty(o,r[a]);return i.createGraph({energies:r})}(d,f,p,m)}(Ad=xd||(xd={})).is=Me.has,Ad.create=Me.create;var Bd=function(e,t,n){this.partner1=Math.min(e,t),this.partner2=Math.max(e,t),this.type=n};function Pd(e,t){if(t.type!==e.type)return!1;if(t.partner1!==e.firstEnd+1)return!1;if(0===t.type){if(t.partner2===e.secondEnd+1)return!0}else if(t.partner2===e.secondStart-1)return!0;return!1}function Id(e,t){return e.type===t.type&&t.firstStart-e.firstEnd<6&&e.firstStart<t.firstStart&&0===t.nextLadder&&(0===e.type?Ed(e,t):Ed(t,e))}function Ed(e,t){return t.secondStart-e.secondEnd>0&&(t.secondStart-e.secondEnd<6&&t.firstStart-e.firstEnd<3||t.secondStart-e.secondEnd<3)}function Md(e){return xd.is(e,8)||xd.is(e,1)||xd.is(e,16)}var kd,Dd={oldDefinition:bd.Boolean(!0,{description:"Whether to use the old DSSP convention for the annotation of turns and helices, causes them to be two residues shorter"}),oldOrdering:bd.Boolean(!0,{description:"Alpha-helices are preferred over 3-10 helices"})};function Od(e,t){return Object(T.b)(this,void 0,void 0,(function(){var n,r,i,o,a,u,s,c,l,d,f,p,m,h,g,v,y,_,b,x,w;return Object(T.d)(this,(function(S){for(n=function(e){for(var t=e.model.atomicHierarchy.index,n=e.proteinElements,r=e.residueIndex,i=n.length,o=new Uint32Array(i),a=new Int32Array(i),u=new Int32Array(i),s=new Int32Array(i),c=new Int32Array(i),l=0;l<i;++l){var d=r[n[l]];o[l]=d,a[l]=t.findAtomOnResidue(d,"C"),u[l]=t.findAtomOnResidue(d,"H"),s[l]=t.findAtomOnResidue(d,"O"),c[l]=t.findAtomOnResidue(d,"N")}return{residueIndices:an.ofSortedArray(o),cIndices:a,hIndices:u,oIndices:s,nIndices:c}}(e),r=n.residueIndices,i=function(e,t){for(var n=e.model.atomicConformation,r=n.x,i=n.y,o=n.z,a=e.model.atomicHierarchy.derived.residue.traceElementIndex,u=new Uint32Array(t.length),s=0,c=t.length;s<c;++s)u[s]=a[t[s]];var l={x:r,y:i,z:o,indices:an.ofSortedArray(u)};return fr(l,Es(l))}(e,r),o=Cd(e,n,i),a=r.length,u=new Uint32Array(a),s=function(e,t){var n=t.cIndices,r=t.nIndices,i=t.residueIndices,o=e.conformation.position,a=e.model.atomicHierarchy.index,u=e.model.atomicHierarchy.derived.residue.traceElementIndex,s=i.length,c=function(e,t){return-1===e?A.setNaN(t):o(e,t)},l=A(),d=A(),f=A(),p=A(),m=A(),h=A(),g=A(),v=A(),y=A();if(0===s)return{phi:new Float32Array(0),psi:new Float32Array(0)};var _=new Float32Array(s-1),b=new Float32Array(s-1);c(-1,l),c(-1,d),c(-1,f),c(n[0],p),c(u[i[0]],m),c(r[0],h),c(n[1],g),c(u[i[1]],v),c(r[1],y);for(var x=0;x<s-1;++x)-1===a.findAtomOnResidue(i[x],"OXT")&&(_[x]=B(A.dihedralAngle(l,h,m,p)),b[x]=B(A.dihedralAngle(h,m,p,y)),l=p,d=m,f=h,p=g,m=v,h=y,c(n[x+1],g),c(u[i[x+1]],v),c(r[x+1],y));return{phi:_,psi:b}}(e,n),c=[],l=[],d=t.oldDefinition?Rd:Ld,f=t.oldOrdering?Ud:Gd,function(e){for(var t=e.proteinInfo,n=e.hbonds,r=e.flags,i=[1024,2048,4096,128,256,512],o=0;o<3;o++)for(var a=0,u=t.residueIndices.length-1;a<u;++a)if(-1!==n.getDirectedEdgeIndex(a,a+o+3))if(r[a]|=i[o+3]|i[o],e.params.oldDefinition)for(var s=1;s<o+3;++s)r[a+s]|=64|i[o+3];else for(s=0;s<=o+3;++s)r[a+s]|=64|i[o+3]}(p={params:t,getResidueFlag:d,getFlagName:f,unit:e,proteinInfo:n,flags:u,hbonds:o,torsionAngles:s,ladders:c,bridges:l}),function(e){for(var t=e.proteinInfo,n=e.flags,r=t.residueIndices.length,i=[1024,2048,4096,128,256,512],o=[0,0,0,8,1,16],a=e.params.oldOrdering?[4,3,5]:[3,4,5],u=0;u<a.length;u++)for(var s=a[u],c=1,l=r-s;c<l;c++){var d=xd.create(n[c]),f=xd.create(n[c-1]),p=xd.create(n[c+1]);if(e.params.oldOrdering){if(3===s&&(xd.is(d,1)||xd.is(p,1))||5===s&&(xd.is(d,1)||xd.is(d,8)||xd.is(p,1)||xd.is(p,8)))continue}else if(4===s&&(xd.is(d,8)||xd.is(p,8))||5===s&&(xd.is(d,1)||xd.is(d,8)||xd.is(p,1)||xd.is(p,8)))continue;if(xd.is(d,i[s])&&xd.is(d,i[s-3])&&xd.is(f,i[s])&&xd.is(f,i[s-3]))if(e.params.oldDefinition)for(var m=0;m<s;m++)n[c+m]|=o[s];else for(m=-1;m<=s;m++)n[c+m]|=o[s]}}(p),function(e){var t=e.unit,n=e.flags,r=e.proteinInfo,i=t.conformation.position,o=t.model.atomicHierarchy.derived.residue.traceElementIndex,a=r.residueIndices,u=r.nIndices,s=a.length,c=function(e,t){return-1===e?A.setNaN(t):i(e,t)},l=A(),d=A(),f=A(),p=A(),m=A(),h=A(),g=A();e:for(var v=2;v<s-2;v++){for(var y=0;y<4;y++){var _=v+y-2;if(c(o[_],p),c(u[_+1],m),A.squaredDistance(p,m)>6.25)continue e}var b=a[v-2],x=a[v],w=a[v+2],S=o[b],C=o[x],P=o[w];c(S,l),c(C,d),c(P,f),A.sub(h,l,d),A.sub(g,d,f);var I=B(A.angle(h,g));I&&I>70&&(n[v]|=32)}}(p),function(e){for(var t,n,r=e.proteinInfo,i=e.hbonds,o=e.flags,a=e.bridges,u=i.offset,s=i.b,c=0,l=r.residueIndices.length;c<l;++c)for(var d=u[c],f=u[c+1];d<f;d++){var p=s[d];c>p||((t=c+1)!==(n=p)&&-1!==i.getDirectedEdgeIndex(n,t+1)&&(o[t]|=2,o[n]|=2,a[a.length]=new Bd(t,n,0)),(t=c)!==(n=p-1)&&-1!==i.getDirectedEdgeIndex(n-1,t)&&(o[t]|=2,o[n]|=2,a[a.length]=new Bd(n,t,0)),(t=c)!==(n=p)&&-1!==i.getDirectedEdgeIndex(n,t)&&(o[t]|=2,o[n]|=2,a[a.length]=new Bd(n,t,1)),(t=c+1)!==(n=p-1)&&-1!==i.getDirectedEdgeIndex(n-1,t+1)&&(o[t]|=2,o[n]|=2,a[a.length]=new Bd(n,t,1)))}a.sort((function(e,t){return e.partner1>t.partner1?1:e.partner1<t.partner1?-1:0}))}(p),function(e){for(var t=e.bridges,n=e.ladders,r=0;r<t.length;r++){for(var i=t[r],o=!1,a=0;a<n.length;a++){var u=n[a];Pd(u,i)&&(o=!0,u.firstEnd++,0===i.type?u.secondEnd++:u.secondStart--)}o||(n[n.length]={previousLadder:0,nextLadder:0,firstStart:i.partner1,firstEnd:i.partner1,secondStart:i.partner2,secondEnd:i.partner2,type:i.type})}for(var s=0;s<n.length;s++)for(var c=n[s],l=s;l<n.length;l++){var d=n[l];Id(c,d)&&(c.nextLadder=l,d.previousLadder=s)}}(p),function(e){for(var t=e.ladders,n=e.flags,r=0;r<t.length;r++){for(var i=t[r],o=i.firstStart;o<=i.firstEnd;o++){var a=i.firstStart-o,u=i.secondStart-a;i.firstStart!==i.firstEnd?(n[o]|=4,n[u]|=4):(!Md(n[o])&&xd.is(n[o],4)&&(n[o]|=2),!Md(n[u])&&xd.is(n[u],4)&&(n[u]|=2))}if(0!==i.nextLadder){var s=t[i.nextLadder];for(o=i.firstStart;o<=s.firstEnd;o++)n[o]|=4;if(0===i.type)for(o=i.secondStart;o<=s.secondEnd;o++)n[o]|=4;else for(o=s.secondEnd;o<=i.secondStart;o++)n[o]|=4}}}(p),m=function(e,t){for(var n=new Uint32Array(e.length),r=0,i=e.length;r<i;++r){var o=xd.create(e[r]);n[r]=t(o)}return n}(u,d),h=new Uint32Array(a),g=[],v=[],y=function(e){return an.indexOf(r,e)},_=0,b=r.length;_<b;++_)x=m[_],h[_]=x,w=d(u[_]),0!==v.length&&w===v[v.length-1].flags||(v[v.length]=Nd(Td(x),u[_],d)),g[_]=v.length-1;return[2,gl(h,g,v,y)]}))}))}function Nd(e,t,n){return"helix"===e?{kind:"helix",flags:n(t)}:"sheet"===e?{kind:"sheet",flags:n(t)}:"turn"===e||"bend"===e?{kind:"turn",flags:n(t)}:{kind:"none"}}function Td(e){return e===wo.SecondaryStructureDssp.H||e===wo.SecondaryStructureDssp.G||e===wo.SecondaryStructureDssp.I?"helix":e===wo.SecondaryStructureDssp.B||e===wo.SecondaryStructureDssp.E?"sheet":e===wo.SecondaryStructureDssp.T?"turn":e===wo.SecondaryStructureDssp.S?"bend":"none"}function Rd(e){return xd.is(e,1)?wo.SecondaryStructureDssp.H:xd.is(e,4)?wo.SecondaryStructureDssp.E:xd.is(e,2)?wo.SecondaryStructureDssp.B:xd.is(e,8)?wo.SecondaryStructureDssp.G:xd.is(e,16)?wo.SecondaryStructureDssp.I:xd.is(e,64)?wo.SecondaryStructureDssp.T:xd.is(e,32)?wo.SecondaryStructureDssp.S:0}function Ud(e){return xd.is(e,1)?"H":xd.is(e,4)?"E":xd.is(e,2)?"B":xd.is(e,8)?"G":xd.is(e,16)?"I":xd.is(e,64)?"T":xd.is(e,32)?"S":"-"}function Ld(e){return xd.is(e,16)?wo.SecondaryStructureDssp.I:xd.is(e,1)?wo.SecondaryStructureDssp.H:xd.is(e,4)?wo.SecondaryStructureDssp.E:xd.is(e,2)?wo.SecondaryStructureDssp.B:xd.is(e,8)?wo.SecondaryStructureDssp.G:xd.is(e,64)?wo.SecondaryStructureDssp.T:xd.is(e,32)?wo.SecondaryStructureDssp.S:0}function Gd(e){return xd.is(e,16)?"I":xd.is(e,1)?"H":xd.is(e,4)?"E":xd.is(e,2)?"B":xd.is(e,8)?"G":xd.is(e,64)?"T":xd.is(e,32)?"S":"-"}function qd(e){var t="model";if(e){t="dssp";for(var n=0,r=e.models.length;n<r;++n){var i=e.models[n];if(eh.isFromPdbArchive(i)||eh.hasSecondaryStructure(i)){t="model";break}}}return{type:bd.MappedStatic(t,{model:bd.EmptyGroup({label:"Model"}),dssp:bd.Group(Dd,{label:"DSSP",isFlat:!0})},{options:[["model","Model"],["dssp","DSSP"]]})}}!function(e){function t(e){var t=this,n=e.descriptor.name,r="root"===e.type?"inheritedPropertyData":"currentPropertyData",i=function(t){return n in t[r]||(t[r][n]={props:Object(T.a)({},bd.getDefaultValues(e.getParams(t))),data:Fe.create(void 0)}),t[r][n]},o=function(e,t,o){var a=i(e);e[r][n]={props:t,data:Fe.withValue(a.data,o)}};return{label:e.label,descriptor:e.descriptor,isHidden:e.isHidden,getParams:function(t){var n=bd.clone(e.getParams(t));return bd.setDefaultValues(n,i(t).props),n},defaultParams:e.defaultParams,isApplicable:e.isApplicable,attach:function(n,r,a,u){return void 0===a&&(a={}),Object(T.b)(t,void 0,void 0,(function(){var t,s,c,l,d,f;return Object(T.d)(this,(function(p){switch(p.label){case 0:return u&&r.customPropertyDescriptors.reference(e.descriptor,!0),"root"===e.type&&(r=r.root),t=i(r.root).props,s=i(r),c=bd.merge(e.defaultParams,t,a),s.data.value&&bd.areEqual(e.defaultParams,s.props,c)?[2]:[4,e.obtain(n,r,c)];case 1:return l=p.sent(),d=l.value,f=l.assets,r.customPropertyDescriptors.add(e.descriptor),r.customPropertyDescriptors.assets(e.descriptor,f),o(r,c,d),[2]}}))}))},ref:function(t,n){return t.customPropertyDescriptors.reference(e.descriptor,n)},get:function(e){return i(e).data},set:function(t,n,r){void 0===n&&(n={}),"root"===e.type&&(t=t.root);var a=i(t),u=bd.merge(e.defaultParams,a.props,n);bd.areEqual(e.defaultParams,a.props,u)||(o(t,u,r),t.customPropertyDescriptors.assets(e.descriptor))},props:function(e){return i(e).props}}}e.createProvider=t,e.createSimple=function(e,n,r){var i=this,o={value:bd.Value(r,{isHidden:!0})};return t({label:Zi(e),descriptor:Br({name:e}),isHidden:!0,type:n,defaultParams:o,getParams:function(){return{value:bd.Value(r,{isHidden:!0})}},isApplicable:function(){return!0},obtain:function(e,t,n){return Object(T.b)(i,void 0,void 0,(function(){return Object(T.d)(this,(function(e){return[2,Object(T.a)(Object(T.a)({},bd.getDefaultValues(o)),n)]}))}))}})}}(kd||(kd={}));var Fd=qd(),jd=kd.createProvider({label:"Secondary Structure",descriptor:Br({name:"molstar_computed_secondary_structure"}),type:"root",defaultParams:Fd,getParams:qd,isApplicable:function(e){return!0},obtain:function(e,t,n){return Object(T.b)(void 0,void 0,void 0,(function(){var e,r,i;return Object(T.d)(this,(function(o){switch(o.label){case 0:switch(e=Object(T.a)(Object(T.a)({},bd.getDefaultValues(Fd)),n),e.type.name){case"dssp":return[3,1];case"model":return[3,3]}return[3,5];case 1:return r={},[4,Hd(t,e.type.params)];case 2:return[2,(r.value=o.sent(),r)];case 3:return i={},[4,Vd(t)];case 4:return[2,(i.value=o.sent(),i)];case 5:return[2]}}))}))}});function Hd(e,t){return Object(T.b)(this,void 0,void 0,(function(){var n,r,i,o,a;return Object(T.d)(this,(function(u){switch(u.label){case 0:n=new Map,r=0,i=e.unitSymmetryGroups.length,u.label=1;case 1:return r<i?(o=e.unitSymmetryGroups[r].units[0],!Ns.isAtomic(o)||eh.isCoarseGrained(o.model)?[3,3]:[4,Od(o,t)]):[3,4];case 2:a=u.sent(),n.set(o.invariantId,a),u.label=3;case 3:return++r,[3,1];case 4:return[2,n]}}))}))}function Vd(e){return Object(T.b)(this,void 0,void 0,(function(){var t,n,r,i,o;return Object(T.d)(this,(function(a){for(t=new Map,n=0,r=e.unitSymmetryGroups.length;n<r;++n)i=e.unitSymmetryGroups[n].units[0],Ns.isAtomic(i)&&(o=dl.Provider.get(i.model))&&t.set(i.invariantId,o);return[2,t]}))}))}function zd(){throw new Error("Property only available for atomic models.")}function Yd(e){if(e)throw new Error("Property only available for coarse models (".concat(e,")."));throw new Error("Property only available for coarse models.")}var Kd={key:function(e){return e.element},x:function(e){return e.unit.conformation.x(e.element)},y:function(e){return e.unit.conformation.y(e.element)},z:function(e){return e.unit.conformation.z(e.element)},id:function(e){return Ns.isAtomic(e.unit)?e.unit.model.atomicConformation.atomId.value(e.element):zd()},occupancy:function(e){return Ns.isAtomic(e.unit)?e.unit.model.atomicConformation.occupancy.value(e.element):zd()},B_iso_or_equiv:function(e){return Ns.isAtomic(e.unit)?e.unit.model.atomicConformation.B_iso_or_equiv.value(e.element):zd()},sourceIndex:function(e){return Ns.isAtomic(e.unit)?e.unit.model.atomicHierarchy.atomSourceIndex.value(e.element):e.element},type_symbol:function(e){return Ns.isAtomic(e.unit)?e.unit.model.atomicHierarchy.atoms.type_symbol.value(e.element):zd()},label_atom_id:function(e){return Ns.isAtomic(e.unit)?e.unit.model.atomicHierarchy.atoms.label_atom_id.value(e.element):zd()},auth_atom_id:function(e){return Ns.isAtomic(e.unit)?e.unit.model.atomicHierarchy.atoms.auth_atom_id.value(e.element):zd()},label_alt_id:function(e){return Ns.isAtomic(e.unit)?e.unit.model.atomicHierarchy.atoms.label_alt_id.value(e.element):zd()},label_comp_id:Zd,auth_comp_id:function(e){return Ns.isAtomic(e.unit)?e.unit.model.atomicHierarchy.atoms.auth_comp_id.value(e.element):zd()},pdbx_formal_charge:function(e){return Ns.isAtomic(e.unit)?e.unit.model.atomicHierarchy.atoms.pdbx_formal_charge.value(e.element):zd()},vdw_radius:function(e){return Ns.isAtomic(e.unit)?(t=e.unit.model.atomicHierarchy.atoms.type_symbol.value(e.element),void 0===(n=pl[t])?1.7:ml[n]):zd();var t,n}};function Zd(e){return Ns.isAtomic(e.unit)||zd(),e.unit.model.atomicHierarchy.atoms.label_comp_id.value(e.element)}function Wd(e){return Ns.isAtomic(e.unit)?e.unit.model.atomicHierarchy.residues.label_seq_id.value(e.unit.residueIndex[e.element]):zd()}function Xd(e){Ns.isAtomic(e.unit)||zd();var t=e.unit.model.sequence.byEntityKey[Qd(e)];return t&&t.sequence.microHet.get(Wd(e))||[Zd(e)]}function Qd(e){switch(e.unit.kind){case 0:return e.unit.model.atomicHierarchy.index.getEntityFromChain(e.unit.chainIndex[e.element]);case 1:return e.unit.model.coarseHierarchy.spheres.entityKey[e.element];case 2:return e.unit.model.coarseHierarchy.gaussians.entityKey[e.element]}}var Jd=[],$d={constant:{true:function(e){return!0},false:function(e){return!1},zero:function(e){return 0}},atom:Kd,residue:{key:function(e){return Ns.isAtomic(e.unit)?e.unit.residueIndex[e.element]:zd()},group_PDB:function(e){return Ns.isAtomic(e.unit)?e.unit.model.atomicHierarchy.residues.group_PDB.value(e.unit.residueIndex[e.element]):zd()},label_seq_id:Wd,auth_seq_id:function(e){return Ns.isAtomic(e.unit)?e.unit.model.atomicHierarchy.residues.auth_seq_id.value(e.unit.residueIndex[e.element]):zd()},pdbx_PDB_ins_code:function(e){return Ns.isAtomic(e.unit)?e.unit.model.atomicHierarchy.residues.pdbx_PDB_ins_code.value(e.unit.residueIndex[e.element]):zd()},isNonStandard:function(e){return Ns.isAtomic(e.unit)?Xd(e).some((function(t){return"n"===e.unit.model.properties.chemicalComponentMap.get(t).mon_nstd_flag[0]})):zd()},hasMicroheterogeneity:function(e){Ns.isAtomic(e.unit)||zd();var t=e.unit.model.sequence.byEntityKey[Qd(e)];return t&&t.sequence.microHet.has(Wd(e))},microheterogeneityCompIds:Xd,secondary_structure_type:function(e){var t;Ns.isAtomic(e.unit)||zd();var n=null===(t=jd.get(e.structure).value)||void 0===t?void 0:t.get(e.unit.invariantId);return n?n.type[n.getIndex(e.unit.residueIndex[e.element])]:536870912},secondary_structure_key:function(e){var t;Ns.isAtomic(e.unit)||zd();var n=null===(t=jd.get(e.structure).value)||void 0===t?void 0:t.get(e.unit.invariantId);return n?n.key[n.getIndex(e.unit.residueIndex[e.element])]:-1},chem_comp_type:function(e){return Ns.isAtomic(e.unit)?e.unit.model.properties.chemicalComponentMap.get(Zd(e)).type:zd()}},chain:{key:function(e){return Ns.isAtomic(e.unit)?e.unit.chainIndex[e.element]:zd()},label_asym_id:function(e){return Ns.isAtomic(e.unit)?e.unit.model.atomicHierarchy.chains.label_asym_id.value(e.unit.chainIndex[e.element]):zd()},auth_asym_id:function(e){return Ns.isAtomic(e.unit)?e.unit.model.atomicHierarchy.chains.auth_asym_id.value(e.unit.chainIndex[e.element]):zd()},label_entity_id:function(e){return Ns.isAtomic(e.unit)?e.unit.model.atomicHierarchy.chains.label_entity_id.value(e.unit.chainIndex[e.element]):zd()}},entity:{key:Qd,id:function(e){return e.unit.model.entities.data.id.value(Qd(e))},type:function(e){return e.unit.model.entities.data.type.value(Qd(e))},src_method:function(e){return e.unit.model.entities.data.src_method.value(Qd(e))},pdbx_description:function(e){return e.unit.model.entities.data.pdbx_description.value(Qd(e))},formula_weight:function(e){return e.unit.model.entities.data.formula_weight.value(Qd(e))},pdbx_number_of_molecules:function(e){return e.unit.model.entities.data.pdbx_number_of_molecules.value(Qd(e))},details:function(e){return e.unit.model.entities.data.details.value(Qd(e))},pdbx_mutation:function(e){return e.unit.model.entities.data.pdbx_mutation.value(Qd(e))},pdbx_fragment:function(e){return e.unit.model.entities.data.pdbx_fragment.value(Qd(e))},pdbx_ec:function(e){return e.unit.model.entities.data.pdbx_ec.value(Qd(e))},subtype:function(e){return e.unit.model.entities.subtype.value(Qd(e))},prd_id:function(e){var t,n;return null!==(n=null===(t=e.unit.model.entities.prd_id)||void 0===t?void 0:t.value(Qd(e)))&&void 0!==n?n:""}},unit:{id:function(e){return e.unit.id},chainGroupId:function(e){return e.unit.chainGroupId},multiChain:function(e){return Ns.Traits.is(e.unit.traits,Ns.Trait.MultiChain)},object_primitive:function(e){return e.unit.objectPrimitive},operator_name:function(e){return e.unit.conformation.operator.name},operator_key:function(e){return e.unit.conformation.operator.key},model_index:function(e){return e.unit.model.modelNum},model_label:function(e){return e.unit.model.label},model_entry_id:function(e){return e.unit.model.entryId},hkl:function(e){return e.unit.conformation.operator.hkl},spgrOp:function(e){return e.unit.conformation.operator.spgrOp},model_num:function(e){return e.unit.model.modelNum},pdbx_struct_assembly_id:function(e){var t;return(null===(t=e.unit.conformation.operator.assembly)||void 0===t?void 0:t.id)||L.DefaultName},pdbx_struct_oper_list_ids:function(e){var t;return(null===(t=e.unit.conformation.operator.assembly)||void 0===t?void 0:t.operList)||Jd},struct_ncs_oper_id:function(e){return e.unit.conformation.operator.ncsId}},coarse:{key:Kd.key,entityKey:function(e){return Ns.isCoarse(e.unit)?e.unit.coarseElements.entityKey[e.element]:Yd()},x:Kd.x,y:Kd.y,z:Kd.z,asym_id:function(e){return Ns.isCoarse(e.unit)?e.unit.coarseElements.asym_id.value(e.element):Yd()},entity_id:function(e){return Ns.isCoarse(e.unit)?e.unit.coarseElements.entity_id.value(e.element):Yd()},seq_id_begin:function(e){return Ns.isCoarse(e.unit)?e.unit.coarseElements.seq_id_begin.value(e.element):Yd()},seq_id_end:function(e){return Ns.isCoarse(e.unit)?e.unit.coarseElements.seq_id_end.value(e.element):Yd()},sphere_radius:function(e){return Ns.isSpheres(e.unit)?e.unit.coarseConformation.radius[e.element]:Yd("spheres")},sphere_rmsf:function(e){return Ns.isSpheres(e.unit)?e.unit.coarseConformation.rmsf[e.element]:Yd("spheres")},gaussian_weight:function(e){return Ns.isGaussians(e.unit)?e.unit.coarseConformation.weight[e.element]:Yd("gaussians")},gaussian_covariance_matrix:function(e){return Ns.isGaussians(e.unit)?e.unit.coarseConformation.covariance_matrix[e.element]:Yd("gaussians")}}},ef=function(){function e(e){var t;this.index=new Map,this.checkOperator=!1,this.checkOperator=null!==(t=null==e?void 0:e.checkOperator)&&void 0!==t&&t}return e.prototype.add=function(e){var t=this.index.get(e.label_asym_id);t||(t=new Map,this.index.set(e.label_asym_id,t));var n=t.get(e.label_seq_id);return n||(n=[],t.set(e.label_seq_id,n)),!this._find(e,n)&&(n.push(e),!0)},e.prototype.hasLabelAsymId=function(e){return this.index.has(e)},e.prototype.has=function(e){var t,n,r=tf(e);if(this.index.has(r)){var i=this.index.get(r),o=nf(e);if(i.has(o))for(var a=i.get(o),u=rf(e),s=of(e),c=af(e),l=null!==(t=uf(e))&&void 0!==t?t:"1_555",d=0,f=a;d<f.length;d++){var p=f[d];if(p.label_comp_id===u&&p.label_alt_id===s&&p.ins_code===c&&(!this.checkOperator||(null!==(n=p.operator_name)&&void 0!==n?n:"1_555")===l))return p}}},e.getLabel=function(e,t){var n;return void 0===t&&(t=!1),"".concat(e.label_asym_id," ").concat(e.label_comp_id," ").concat(e.label_seq_id,":").concat(e.ins_code,":").concat(e.label_alt_id).concat(t?" "+(null!==(n=e.operator_name)&&void 0!==n?n:"1_555"):"")},e.getEntryFromLocation=function(e){var t;return{label_asym_id:tf(e),label_comp_id:rf(e),label_seq_id:nf(e),label_alt_id:of(e),ins_code:af(e),operator_name:null!==(t=uf(e))&&void 0!==t?t:"1_555"}},e.prototype._find=function(e,t){for(var n,r,i=0,o=t;i<o.length;i++){var a=o[i];if(a.label_comp_id===e.label_comp_id&&a.label_alt_id===e.label_alt_id&&a.ins_code===e.ins_code&&(!this.checkOperator||(null!==(n=a.operator_name)&&void 0!==n?n:"1_555")===(null!==(r=e.operator_name)&&void 0!==r?r:"1_555")))return!0}return!1},e}(),tf=$d.chain.label_asym_id,nf=$d.residue.label_seq_id,rf=$d.atom.label_comp_id,of=$d.atom.label_alt_id,af=$d.residue.pdbx_PDB_ins_code,uf=$d.unit.operator_name;function sf(e,t,n){for(var r=t.subsetBuilder(!0),i=0,o=n.units;i<o.length;i++){var a=o[i];if(0===a.kind){var u=a.model.atomicHierarchy.residueAtomSegments,s=t.unitMap.get(a.id).elements,c=a.elements;r.beginUnit(a.id);for(var l=Kn.transientSegments(u,c);l.hasNext;)for(var d=l.move().index,f=u.offsets[d],p=u.offsets[d+1];f<p;f++)an.has(s,f)&&r.addElement(f);r.commitUnit(),e.throwIfTimedOut()}else r.setUnit(a.id,a.elements)}return r.getStructure()}function cf(e){return function(t){var n=e(t);if(zs.isSingleton(n))return zs.Singletons(t.inputStructure,sf(t,t.inputStructure,n.structure));for(var r=new sc(t.inputStructure),i=0,o=n.structures;i<o.length;i++){var a=o[i];r.add(sf(t,t.inputStructure,a))}return r.getSelection()}}function lf(e,t,n,r){for(var i=new wc(t),o=t.lookup3d,a=r.radius,u=0,s=n.units;u<s.length;u++){for(var c=s[u],l=c.conformation,d=l.x,f=l.y,p=l.z,m=c.elements,h=0,g=m.length;h<g;h++){var v=m[h];o.findIntoBuilder(d(v),f(v),p(v),a,i)}e.throwIfTimedOut()}return r.wholeResidues?sf(e,t,i.getStructure()):i.getStructure()}function df(e,t,n,r){var i=new wc(t),o=t.lookup3d,a=r.elementRadius,u=r.elementRadiusClosure,s=r.sourceMaxRadius,c=r.radius;e.pushCurrentElement(),e.element.structure=n;for(var l=0,d=n.units;l<d.length;l++){var f=d[l];e.element.unit=f;for(var p=f.conformation,m=p.x,h=p.y,g=p.z,v=f.elements,y=0,_=v.length;y<_;y++){var b=v[y];e.element.element=b;var x=a(e);o.findIntoBuilderWithRadius(m(b),h(b),g(b),x,s,c,u,i)}e.throwIfTimedOut()}return e.popCurrentElement(),r.wholeResidues?sf(e,t,i.getStructure()):i.getStructure()}function ff(e,t){return function(n){return e.element.structure=n.structure,e.element.unit=n.unit,e.element.element=n.element,t(e)}}function pf(e,t){var n=0;e.element.structure=e.inputStructure;for(var r=0,i=e.inputStructure.units;r<i.length;r++){var o=i[r];e.element.unit=o;for(var a=o.elements,u=0,s=a.length;u<s;u++){var c=a[u];e.element.element=c;var l=t(e);l>n&&(n=l)}}return e.throwIfTimedOut(),n}function mf(e,t){return function(n){var r=e(n);if(t.elementRadius){var i=Object(T.a)(Object(T.a)({},t),{elementRadius:t.elementRadius,elementRadiusClosure:ff(n,t.elementRadius),sourceMaxRadius:pf(n,t.elementRadius)});if(zs.isSingleton(r)){var o=df(n,n.inputStructure,r.structure,i);return zs.Singletons(n.inputStructure,o)}for(var a=new sc(n.inputStructure),u=0,s=r.structures;u<s.length;u++){var c=s[u];a.add(df(n,n.inputStructure,c,i))}return a.getSelection()}if(zs.isSingleton(r)){o=lf(n,n.inputStructure,r.structure,t);return zs.Singletons(n.inputStructure,o)}a=new sc(n.inputStructure);for(var l=0,d=r.structures;l<d.length;l++){c=d[l];a.add(lf(n,n.inputStructure,c,t))}return a.getSelection()}}function hf(e,t){return function(n){var r=e(n);if(0===zs.structureCount(r))return r;var i=zs.UniqueBuilder(n.inputStructure),o=function(e){return i.add(e)};return zs.forEach(r,(function(e,r){n.pushInputStructure(e),zs.forEach(t(n),o),n.popInputStructure(),r%10==0&&n.throwIfTimedOut()})),i.getSelection()}}function gf(e,t){return function(n){var r=e(n);if(0===zs.structureCount(r))return r;var i=t(n);if(0===zs.structureCount(i))return zs.Empty(n.inputStructure);var o=zs.unionStructure(i),a=zs.UniqueBuilder(n.inputStructure);return zs.forEach(r,(function(e,t){var r=function(e,t){if(e===t)return e;if(!Xs(e,t))return dp.Empty;var n,r;e.units.length<t.units.length?(n=e,r=t):(n=t,r=e);for(var i=n.units,o=r.unitMap,a=[],u=0,s=i.length;u<s;u++){var c=i[u];if(o.has(c.id)){var l=o.get(c.id);if(an.areIntersecting(c.elements,l.elements)){var d=an.intersect(c.elements,l.elements);a[a.length]=c.getChild(d)}}}return dp.create(a,{parent:e.parent||t.parent})}(o,e);0!==r.elementCount&&a.add(r),t%50==0&&n.throwIfTimedOut()})),a.getSelection()}}function vf(e,t){return function(n){var r=e(n);if(0===zs.structureCount(r))return r;var i=t(n);if(0===zs.structureCount(i))return r;var o=zs.unionStructure(i),a=zs.UniqueBuilder(n.inputStructure);return zs.forEach(r,(function(e,t){var r=Qs(e,o);0!==r.elementCount&&a.add(r),t%50==0&&n.throwIfTimedOut()})),a.getSelection()}}function yf(e){return function(t){var n=zs.LinearBuilder(t.inputStructure);return n.add(zs.unionStructure(e(t))),n.getSelection()}}function _f(e,t){return function(n){var r=e(n),i=new Map,o=[];n.pushCurrentElement(),zs.forEach(r,(function(e,r){n.element.structure=e;for(var a=0,u=e.units;a<u.length;a++){var s=u[a];n.element.unit=s;for(var c=s.elements,l=0,d=c.length;l<d;l++){n.element.element=c[l];var f=t(n),p=void 0;i.has(f)?p=i.get(f):(p=gi.create(),i.set(f,p)),gi.add(p,r,r)}}o[r]=n.inputStructure.subsetBuilder(!0),r%10==0&&n.throwIfTimedOut()})),n.element.structure=n.inputStructure;for(var a=0,u=n.inputStructure.units;a<u.length;a++){var s=u[a];n.element.unit=s;for(var c=s.elements,l=0,d=c.length;l<d;l++){n.element.element=c[l];var f=t(n);if(i.has(f))for(var p=i.get(f).array,m=0,h=p.length;m<h;m++)o[p[m]].addToUnit(s.id,c[l])}}n.popCurrentElement();for(var g=zs.UniqueBuilder(n.inputStructure),v=0,y=o;v<y.length;v++){var _=y[v];g.add(_.getStructure())}return g.getSelection()}}function bf(e){var t=e.query,n=e.layerCount,r=e.wholeResidues,i=e.bondTest,o=e.fixedPoint,a=Math.max(n,0);return function(e){var n=zs.UniqueBuilder(e.inputStructure),u=t(e);return e.pushCurrentBond(),e.atomicBond.setTestFn(i),zs.forEach(u,(function(t,i){var u=t;if(o)for(;;){var s=u.elementCount;if((u=xf(e,r,u)).elementCount===s)break}else for(var c=0;c<a;c++)u=xf(e,r,u);n.add(u),i%10==0&&e.throwIfTimedOut()})),e.popCurrentBond(),n.getSelection()}}function xf(e,t,n){var r=function(e,t){for(var n=e.inputStructure,r=n.interUnitBonds,i=new wc(n),o=e.atomicBond,a=0,u=t.units;a<u.length;a++){var s=u[a];if(0===s.kind){var c=n.unitMap.get(s.id),l=c.bonds,d=l.offset,f=l.b,p=l.edgeProps,m=p.flags,h=p.order,g=p.key;o.setStructure(n),o.a.unit=c,o.b.unit=c;for(O=0,N=s.elements.length;O<N;O++){i.addToUnit(s.id,s.elements[O]);for(var v=an.indexOf(c.elements,s.elements[O]),y=d[v],_=d[v+1];y<_;y++){var b=f[y],x=c.elements[b];an.has(s.elements,x)||i.has(s.id,x)||(o.aIndex=v,o.a.element=s.elements[O],o.bIndex=b,o.b.element=x,o.type=m[y],o.order=h[y],o.key=g[y],o.test(e,!0)&&i.addToUnit(s.id,x))}}for(var A=0,w=r.getConnectedUnits(c.id);A<w.length;A++)for(var S=w[A],C=t.unitMap.get(S.unitB),B=n.unitMap.get(S.unitB),P=0,I=S.connectedIndices;P<I.length;P++){var E=I[P];if(an.has(s.elements,c.elements[E]))for(var M=0,k=S.getEdges(E);M<k.length;M++){var D=k[M];x=B.elements[D.indexB];C&&an.has(C.elements,x)||i.has(S.unitB,x)||(o.a.unit=c,o.aIndex=E,o.a.element=c.elements[E],o.b.unit=B,o.bIndex=D.indexB,o.b.element=x,o.type=D.props.flag,o.order=D.props.order,o.key=D.props.key,o.test(e,!0)&&i.addToUnit(S.unitB,x))}}}else{i.beginUnit(s.id);for(var O=0,N=s.elements.length;O<N;O++)i.addElement(s.elements[O]);i.commitUnit()}}return i.getStructure()}(e,n);return t?sf(e,e.inputStructure,r):r}function Af(e){var t=e.query,n=e.radius,r=e.includeWater;return function(e){for(var i=zs.unionStructure(t(e)),o=sf(e,e.inputStructure,lf(e,e.inputStructure,i,{radius:n})),a=function(e){var t=e.models[0],n=new Set;if(!Bl.is(t.sourceData))return n;for(var r=t.sourceData.data.db.pdbx_molecule,i=r._rowCount,o=r.asym_id,a=0;a<i;a++)n.add(o.value(a));return n}(e.inputStructure),u=function(e){var t,n,r=e.models[0],i=new If;if(!Bl.is(r.sourceData))return i;for(var o=r.sourceData.data.db.struct_conn,a=o.conn_type_id,u=o.ptnr1_label_asym_id,s=o.ptnr1_label_comp_id,c=o.ptnr1_label_seq_id,l=o.ptnr1_symmetry,d=o.pdbx_ptnr1_label_alt_id,f=o.pdbx_ptnr1_PDB_ins_code,p=o.ptnr2_label_asym_id,m=o.ptnr2_label_comp_id,h=o.ptnr2_label_seq_id,g=o.ptnr2_symmetry,v=o.pdbx_ptnr2_label_alt_id,y=o.pdbx_ptnr2_PDB_ins_code,_=0;_<o._rowCount;_++){var b=a.value(_);if("covale"===b||"metalc"===b){var x={label_asym_id:u.value(_),label_comp_id:s.value(_),label_seq_id:c.value(_),label_alt_id:d.value(_),ins_code:f.value(_),operator_name:null!==(t=l.value(_))&&void 0!==t?t:"1_555"},A={label_asym_id:p.value(_),label_comp_id:m.value(_),label_seq_id:h.value(_),label_alt_id:v.value(_),ins_code:y.value(_),operator_name:null!==(n=g.value(_))&&void 0!==n?n:"1_555"};i.addEdge(x,A)}}return i}(e.inputStructure),s=l.Location.create(o),c=new Map,d=new ef({checkOperator:!0}),f=0,p=o.units;f<p.length;f++){if(0===(M=p[f]).kind){s.unit=M;for(var m=M.elements,h=Kn.transientSegments(M.model.atomicHierarchy.chainAtomSegments,m),g=Kn.transientSegments(M.model.atomicHierarchy.residueAtomSegments,m);h.hasNext;){var v=h.move();s.element=m[v.start];var y=$d.chain.label_asym_id(s),_=$d.unit.operator_name(s);if(a.has(y))c.has(y)?Mr(c.get(y),_):c.set(y,[_]);else{var b=$d.entity.type(s);if("water"!==b&&"polymer"!==b)for(g.setSegment(v);g.hasNext;){var x=g.move();s.element=m[x.start],u.addComponent(ef.getEntryFromLocation(s),d)}}}e.throwIfTimedOut()}}for(var A=e.inputStructure.subsetBuilder(!0),w=0,S=e.inputStructure.units;w<S.length;w++){if(0===(M=S[w]).kind){s.unit=M;m=M.elements,h=Kn.transientSegments(M.model.atomicHierarchy.chainAtomSegments,m),g=Kn.transientSegments(M.model.atomicHierarchy.residueAtomSegments,m);for(A.beginUnit(M.id);h.hasNext;){v=h.move();s.element=m[v.start];y=$d.chain.label_asym_id(s),_=$d.unit.operator_name(s);if(c.has(y)&&c.get(y).indexOf(_)>=0)A.addElementRange(m,v.start,v.end);else if(d.hasLabelAsymId(y))for(g.setSegment(v);g.hasNext;){x=g.move();s.element=m[x.start],d.has(s)&&A.addElementRange(m,x.start,x.end)}}A.commitUnit(),e.throwIfTimedOut()}}var C=Zs(e.inputStructure,[A.getStructure(),i]);if(r){for(var B=new wc(e.inputStructure),P=e.inputStructure.lookup3d,I=0,E=C.units;I<E.length;I++){for(var M,k=(M=E[I]).conformation,D=k.x,O=k.y,N=k.z,T=0,R=(m=M.elements).length;T<R;T++){var U=m[T];P.findIntoBuilderIf(D(U),O(U),N(U),n,B,Sf),B.addToUnit(M.id,U)}e.throwIfTimedOut()}return zs.Sequence(e.inputStructure,[B.getStructure()])}return zs.Sequence(e.inputStructure,[C])}}var wf=$d.entity.type;function Sf(e){return"water"===wf(e)}var Cf,Bf,Pf,If=function(){function e(){this.vertices=new Map,this.edges=new Map}return e.prototype.addVertex=function(e,t){this.vertices.has(t)||(this.vertices.set(t,e),this.edges.set(t,[]))},e.prototype.addEdge=function(e,t){var n=ef.getLabel(e),r=ef.getLabel(t);this.addVertex(e,n),this.addVertex(t,r),Mr(this.edges.get(n),r),Mr(this.edges.get(r),n)},e.prototype.addComponent=function(e,t){var n=ef.getLabel(e);if(this.vertices.has(n)){var r=new Set,i=new Set,o=[n];for(i.add(n),t.add(e);o.length>0;){var a=o.pop();r.add(a);for(var u=this.vertices.get(a),s=0,c=this.edges.get(a);s<c.length;s++){var l=c[s];if(!r.has(l)&&(o.push(l),!i.has(l))){i.add(l);var d=this.vertices.get(l);u.operator_name===d.operator_name?t.add(Object(T.a)(Object(T.a)({},d),{operator_name:e.operator_name})):t.add(d)}}}}else t.add(e)},e}();function Ef(e,t){return function(n){var r=e(n),i=zs.LinearBuilder(n.inputStructure);return n.pushCurrentElement(),zs.forEach(r,(function(e,r){n.currentStructure=e,t(n)&&i.add(e),r%100&&n.throwIfTimedOut()})),n.popCurrentStructure(),i.getSelection()}}function Mf(e){return function(t){var n=e(t),r=zs.LinearBuilder(t.inputStructure);if("singletons"===n.kind){if(n.structure.elementCount>0){var i=n.structure.units[0],o=dp.create([i.getChild(an.ofSingleton(i.elements[0]))],{parent:t.inputStructure});r.add(o)}}else n.structures.length>0&&r.add(n.structures[0]);return r.getSelection()}}function kf(e,t,n){var r=e.currentStructure.units,i=e.pushCurrentElement();i.structure=e.currentStructure;for(var o=0,a=r;o<a.length;o++){var u=a[o];i.unit=u;var s=u.elements,c=t;if(c){for(var l=0,d=s.length;l<d;l++)i.element=s[l],n.add(c(e));e.throwIfTimedOut()}}return e.popCurrentElement(),n}function Df(e,t,n){return function(r){var i=e(r),o=function(e,t,n){var r=new Set,i=t(e);return e.pushCurrentElement(),zs.forEach(i,(function(t,i){e.currentStructure=t,kf(e,n,r),i%10&&e.throwIfTimedOut()})),e.popCurrentElement(),r}(r,t,n),a=zs.LinearBuilder(r.inputStructure);return r.pushCurrentStructure(),zs.forEach(i,(function(e,t){r.currentStructure=e;var i=kf(r,n,new Set);mo.isSuperset(o,i)&&a.add(e),t%10&&r.throwIfTimedOut()})),r.popCurrentStructure(),a.getSelection()}}function Of(e,t){return function(n){var r=zs.unionStructure(t(n)),i=zs.LinearBuilder(n.inputStructure);return zs.forEach(e(n),(function(e,t){Xs(r,e)&&i.add(e),t%10&&n.throwIfTimedOut()})),i.getSelection()}}function Nf(e){return function(t){var n={queryCtx:t,selection:e.query(t),target:e.target(t),maxRadius:e.maxRadius,minRadius:e.minRadius?Math.max(0,e.minRadius):0,elementRadius:e.elementRadius,invert:!!e.invert};return 0===n.minRadius&&void 0===e.minRadius?function(e){var t=e.queryCtx,n=e.selection,r=e.target,i=e.maxRadius,o=e.invert,a=zs.unionStructure(r).lookup3d,u=zs.LinearBuilder(t.inputStructure),s=A.zero();return zs.forEach(n,(function(e,n){for(var r=e.units,c=!1,l=0,d=r.length;l<d;l++){for(var f=r[l],p=f.elements,m=f.conformation,h=m.position,g=m.r,v=0,y=p.length;v<y;v++){var _=p[v];if(h(_,s),a.check(s[0],s[1],s[2],i+g(_))){c=!0;break}}if(c)break}o&&(c=!c),c&&u.add(e),n%10==0&&t.throwIfTimedOut()})),u.getSelection()}(n):0===n.minRadius?function(e){var t=e.queryCtx,n=e.selection,r=e.target,i=e.maxRadius,o=e.invert,a=e.elementRadius,u=zs.unionStructure(r),s=zs.LinearBuilder(t.inputStructure);return t.pushCurrentElement(),zs.forEach(n,(function(e,n){var r=function(e,t,n,r,i){return 0===t.elementCount||0===n.elementCount||(t.elementCount<=n.elementCount?Bf.check(e,t,n,r,i):Bf.check(e,n,t,r,i))}(t,u,e,i,a);o&&(r=!r),r&&s.add(e),n%10==0&&t.throwIfTimedOut()})),t.popCurrentElement(),s.getSelection()}(n):function(e){var t=e.queryCtx,n=e.selection,r=e.target,i=e.minRadius,o=e.maxRadius,a=e.invert,u=e.elementRadius,s=zs.unionStructure(r),c=zs.LinearBuilder(t.inputStructure);return t.pushCurrentElement(),zs.forEach(n,(function(e,n){var r=function(e,t,n,r,i,o){return 0===t.elementCount||0===n.elementCount||(t.elementCount<=n.elementCount?Cf.check(e,t,n,r,i,o):Cf.check(e,n,t,r,i,o))}(t,s,e,i,o,u);a&&(r=!r),r&&c.add(e),n%10==0&&t.throwIfTimedOut()})),t.popCurrentElement(),c.getSelection()}(n)}}function Tf(e){var t=e.query,n=e.target,r=e.disjunct,i=e.invert,o=e.bondTest;return function(e){var a=n(e);if(zs.isEmpty(a))return a;var u=t(e);if(zs.isEmpty(u))return u;var s={queryCtx:e,input:e.inputStructure,disjunct:r,target:zs.unionStructure(a)},c=zs.LinearBuilder(e.inputStructure);return e.pushCurrentBond(),e.atomicBond.setTestFn(o),zs.forEach(u,(function(t,n){!function(e,t){var n=e.queryCtx,r=e.input,i=e.target,o=e.disjunct,a=n.atomicBond,u=r.interUnitBonds;a.setStructure(r);for(var s=0,c=t.units;s<c.length;s++){var l=c[s];if(Ns.isAtomic(l))for(var d=r.unitMap.get(l.id),f=d.bonds,p=f.offset,m=f.b,h=f.edgeProps,g=h.flags,v=h.order,y=h.key,_=u.getConnectedUnits(l.id),b=_.length,x=l.elements,A=d.elements,w=0,S=x.length;w<S;w++){var C=an.indexOf(A,x[w]);a.a.unit=d,a.b.unit=d;for(var B=p[C],P=p[C+1];B<P;B++)if(a.b.element=d.elements[m[B]],(!o||!an.has(l.elements,a.b.element))&&i.hasElement(a.b)&&(a.aIndex=C,a.a.element=x[w],a.bIndex=m[B],a.type=g[B],a.order=v[B],a.key=y[B],a.test(n,!0)))return!0;for(var I=0;I<b;I++)for(var E=_[I],M=r.unitMap.get(E.unitB),k=M.elements,D=E.getEdges(C),O=0,N=D.length;O<N;O++){var T=D[O];if(a.b.unit=M,a.b.element=k[T.indexB],i.hasElement(a.b)&&(!o||!t.hasElement(a.b))&&(a.a.unit=d,a.aIndex=C,a.a.element=x[w],a.bIndex=T.indexB,a.type=T.props.flag,a.order=T.props.order,a.key=T.props.key,a.test(n,!0)))return!0}}}return!1}(s,t)?i&&c.add(t):c.add(t),n%5==0&&e.throwIfTimedOut()})),e.popCurrentBond(),c.getSelection()}}function Rf(e){return 0===e.length?lc:1===e.length?e[0]:function(t){for(var n=zs.UniqueBuilder(t.inputStructure),r=function(r){zs.forEach(e[r](t),(function(e,i){n.add(e),r%100&&t.throwIfTimedOut()}))},i=0;i<e.length;i++)r(i);return n.getSelection()}}function Uf(e){return 0===e.length?lc:1===e.length?e[0]:function(t){for(var n=[],r=0;r<e.length;r++)n.push(e[r](t));var i=0,o=zs.structureCount(n[0]);for(r=1;r<n.length;r++){var a=zs.structureCount(n[r]);a<o&&(i=r,o=a)}t.throwIfTimedOut();var u=mi((function(e){return e.hashCode}),dp.areUnitIdsAndIndicesEqual);zs.forEach(n[i],(function(e){return u.add(e)}));for(var s=zs.UniqueBuilder(t.inputStructure),c=0;c<n.length;c++)c!==i&&(zs.forEach(n[c],(function(e){u.has(e)&&s.add(e)})),t.throwIfTimedOut());return s.getSelection()}}function Lf(e){return e.currentStructure.elementCount}function Gf(e){return function(t){var n=e(t);return zs.structureCount(n)}}function qf(e){return function(t){var n=new Set;return kf(t,e,n)}}!function(e){var t=A.zero();function n(e,n,r,i,o,a,u){var s=n.elements,c=n.conformation.position,l=t;e.element.unit=n;for(var d=!1,f=0,p=s.length;f<p;f++){var m=s[f];e.element.element=m;var h=Math.max(0,A.distance(r,c(m,l))-i-u(e));if(h<o)return 0;h<a&&(d=!0)}return d?1:2}function r(e,t,r,i,o,a,u){for(var s=t.units,c=!1,l=0,d=s.length;l<d;l++){var f=n(e,s[l],r,i,o,a,u);if(0===f)return 0;1===f&&(c=!0)}return c?1:2}var i=A.zero();e.check=function(e,t,n,o,a,u){if(0===t.elementCount||0===n.elementCount)return 0;var s=t.units,c=!1;e.element.structure=t;for(var l=0,d=s.length;l<d;l++){var f=s[l],p=f.elements,m=f.conformation.position;e.element.unit=f;for(var h=0,g=p.length;h<g;h++){var v=p[h];e.element.element=v;var y=r(e,n,m(v,i),u(e),o,a,u);if(0===y)return!1;1===y&&(c=!0)}}return c}}(Cf||(Cf={})),function(e){var t=A.zero();function n(e,n,r,i,o,a){var u=n.elements,s=n.conformation.position,c=t;e.element.unit=n;for(var l=0,d=u.length;l<d;l++){var f=u[l];if(e.element.element=f,Math.max(0,A.distance(r,s(f,c))-i-a(e))<=o)return!0}return!1}function r(e,t,r,i,o,a){for(var u=t.units,s=0,c=u.length;s<c;s++)if(n(e,u[s],r,i,o,a))return!0;return!1}var i=A.zero();e.check=function(e,t,n,o,a){if(0===t.elementCount||0===n.elementCount)return 0;var u=t.units;e.element.structure=t;for(var s=0,c=u.length;s<c;s++){var l=u[s];e.element.unit=l;for(var d=l.elements,f=l.conformation.position,p=0,m=d.length;p<m;p++){var h=d[p];if(e.element.element=h,r(e,n,f(h,i),a(e),o,a))return!0}}return!1}}(Bf||(Bf={})),function(e){function t(e){return!0}function n(e){return!1}e.eq=function(e,t){return function(n){return e(n)===t}},e.lt=function(e,t){return function(n){return e(n)<t}},e.lte=function(e,t){return function(n){return e(n)<=t}},e.gt=function(e,t){return function(n){return e(n)>t}},e.gte=function(e,t){return function(n){return e(n)>=t}},e.inSet=function(e,t){if((o=t)&&o.has)return function(n){return t.has(e(n))};if(0===t.length)return n;for(var r=new Set,i=0;i<t.length;i++)r.add(t[i]);return function(t){return r.has(e(t))};var o},e.and=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];switch(e.length){case 0:return t;case 1:return e[0];case 2:var r=e[0],i=e[1];return function(e){return r(e)&&i(e)};case 3:var o=e[0],a=e[1],u=e[2];return function(e){return o(e)&&a(e)&&u(e)};case 4:var s=e[0],c=e[1],l=e[2],d=e[3];return function(e){return s(e)&&c(e)&&l(e)&&d(e)};case 5:var f=e[0],p=e[1],m=e[2],h=e[3],g=e[4];return function(e){return f(e)&&p(e)&&m(e)&&h(e)&&g(e)};case 6:var v=e[0],y=e[1],_=e[2],b=e[3],x=e[4],A=e[5];return function(e){return v(e)&&y(e)&&_(e)&&b(e)&&x(e)&&A(e)};default:var w=e.length;return function(t){for(var n=0;n<w;n++)if(!e[n])return!1;return!0}}},e.or=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];switch(e.length){case 0:return n;case 1:return e[0];case 2:var r=e[0],i=e[1];return function(e){return r(e)||i(e)};case 3:var o=e[0],a=e[1],u=e[2];return function(e){return o(e)||a(e)||u(e)};case 4:var s=e[0],c=e[1],l=e[2],d=e[3];return function(e){return s(e)||c(e)||l(e)||d(e)};case 5:var f=e[0],p=e[1],m=e[2],h=e[3],g=e[4];return function(e){return f(e)||p(e)||m(e)||h(e)||g(e)};case 6:var v=e[0],y=e[1],_=e[2],b=e[3],x=e[4],A=e[5];return function(e){return v(e)||y(e)||_(e)||b(e)||x(e)||A(e)};default:var w=e.length;return function(t){for(var n=0;n<w;n++)if(e[n])return!0;return!1}}}}(Pf||(Pf={}));var Ff,jf={generators:o,filters:u,modifiers:a,combinators:s,pred:Pf,internal:i,atomset:c};function Hf(e,t,n,r,i,o){var a=e.spacegroup,u=e.ncsOperators,s=[],c=a.cell.toFractional,l=A.transformMat4(A(),o,c),d=J.getSymmetryOperatorRef(a,t,n,r,i,l);if(u&&u.length)for(var f=0,p=u.length;f<p;++f){var m=u[f],h=P.mul(P(),d.matrix,m.matrix),g=L.create("".concat(d.name," ").concat(m.name),h,{assembly:d.assembly,ncsId:m.ncsId,hkl:d.hkl,spgrOp:d.spgrOp});s.push(g)}else s.push(d);return s}function Vf(e,t,n,r){var i=e.spacegroup,o=e.ncsOperators,a=o&&o.length||0,u=[];!a&&t[0]<=0&&n[0]>=0&&t[1]<=0&&n[1]>=0&&t[2]<=0&&n[2]>=0&&(u[0]=J.getSymmetryOperator(i,0,0,0,0));for(var s=0;s<i.operators.length;s++)for(var c=t[0];c<=n[0];c++)for(var l=t[1];l<=n[1];l++)for(var d=t[2];d<=n[2];d++)(a||0!==s||0!==c||0!==l||0!==d)&&u.push.apply(u,Hf(e,s,c,l,d,r));return u}function zf(e,t){for(var n=dp.Builder({label:e.label,dynamicBonds:e.dynamicBonds}),r=e.units,i=0,o=t;i<o.length;i++)for(var a=o[i],u=0,s=r;u<s.length;u++){var c=s[u];n.addWithOperator(c,a)}return n.getStructure()}!function(e){function t(e,t){return e.invariantId===t.invariantId&&e.model.id===t.model.id&&an.areEqual(e.elements,t.elements)}function n(){return e=Ns.hashUnit,new he(e,t);var e}e.buildAssembly=function(e,t){var n=this;return Hr.create("Build Assembly",(function(r){return Object(T.b)(n,void 0,void 0,(function(){var n,r,i,o,a,u,s,c,l,d,f,p,m,h,g,v;return Object(T.d)(this,(function(y){if(1!==(n=e.models).length)throw new Error("Can only build assemblies from structures based on 1 model.");if(!(r=Ms.findAssembly(n[0],t)))throw new Error("Assembly '".concat(t,"' is not defined."));for(i=L.create(r.id,P.identity(),{assembly:{id:r.id,operId:0,operList:[]}}),o=dp.Builder({coordinateSystem:i,label:e.label,dynamicBonds:e.dynamicBonds}),a=new ac(e),u=0,s=r.operatorGroups;u<s.length;u++)if(c=s[u],l=c.selector(a),0!==zs.structureCount(l))for(d=zs.unionStructure(l).units,f=0,p=c.operators;f<p.length;f++)for(m=p[f],h=0,g=d;h<g.length;h++)v=g[h],o.addWithOperator(v,m);return[2,o.getStructure()]}))}))}))},e.buildSymmetryAssembly=function(e,t,n){var r=this;return Hr.create("Build Symmetry Assembly",(function(i){return Object(T.b)(r,void 0,void 0,(function(){var r,i,o,a,u,s,c,l,d,f,p,m,h,g,v,y,_,b,x,w,S,C,B,P,I;return Object(T.d)(this,(function(E){if(1!==(r=e.models).length)throw new Error("Can only build symmetry assemblies from structures based on 1 model.");for(i=A(),o=dp.Builder({label:e.label,representativeModel:r[0],dynamicBonds:e.dynamicBonds}),a=new ac(e),u=0,s=t;u<s.length;u++)if(c=s[u],M=c.asymIds,l=jf.generators.atoms({chainTest:jf.pred.and(jf.pred.eq((function(e){return $d.unit.operator_name(e.element)}),L.DefaultName),jf.pred.inSet((function(e){return $d.chain.label_asym_id(e.element)}),M))}),d=l(a),0!==zs.structureCount(d))for(f=zs.unionStructure(d).units,p=0,m=c.operators;p<m.length;p++)for(h=m[p],g=h.index,v=h.shift,y=v[0],_=v[1],b=v[2],x=Hf(n,g,y,_,b,i),w=0,S=f;w<S.length;w++)for(C=S[w],B=0,P=x;B<P.length;B++)I=P[B],o.addWithOperator(C,I);var M;return[2,o.getStructure()]}))}))}))},e.builderSymmetryMates=function(e,t){return Hr.create("Find Symmetry Mates",(function(n){return function(e,t,n){return Object(T.b)(this,void 0,void 0,(function(){function r(e,t){return"".concat(e.invariantId,"|").concat(t.name)}var i,o,a,u,s,c,l,d,f,p,m,h,g,v,y,_,b,x,w,S,C;return Object(T.d)(this,(function(B){switch(B.label){case 0:if(1!==(i=t.models).length)throw new Error("Can only build symmetries from structures based on 1 model.");return(o=Ds.Provider.get(i[0]))?(a=o.spacegroup,Q.isZero(a.cell)?[2,t]:e.shouldUpdate?[4,e.update("Initialing...")]:[3,2]):[2,t];case 1:B.sent(),B.label=2;case 2:u=eh.getCenter(i[0]),s=function(e,t){if(e._operators_333&&A.equals(t,e._operators_333.ref))return e._operators_333.operators;return e._operators_333={ref:A.clone(t),operators:Vf(e,A.create(-3,-3,-3),A.create(3,3,3),t)},e._operators_333.operators}(o,u),c=t.lookup3d,l=new Set,d=dp.Builder({label:t.label,dynamicBonds:t.dynamicBonds}),f=t.units,p=A.zero(),m=0,h=s,B.label=3;case 3:if(!(m<h.length))return[3,6];for(g=h[m],v=0,y=f;v<y.length;v++)for(_=y[v],b=_.lookup3d.boundary.sphere,A.transformMat4(p,b.center,g.matrix),x=c.findUnitIndices(p[0],p[1],p[2],b.radius+n),w=0,S=x.count;w<S;w++)f[x.indices[w]].lookup3d.check(p[0],p[1],p[2],b.radius+n)&&(C=r(_,g),l.has(C)||(d.addWithOperator(_,g),l.add(C)));return e.shouldUpdate?[4,e.update("Building symmetry...")]:[3,5];case 4:B.sent(),B.label=5;case 5:return m++,[3,3];case 6:return[2,d.getStructure()]}}))}))}(n,e,t)}))},e.buildSymmetryRange=function(e,t,n){return Hr.create("Build Symmetry",(function(r){return function(e,t,n,r){return Object(T.b)(this,void 0,void 0,(function(){var e,i,o,a,u;return Object(T.d)(this,(function(s){if(1!==(e=t.models).length)throw new Error("Can only build symmetries from structures based on 1 model.");return(i=Ds.Provider.get(e[0]))?(o=i.spacegroup,Q.isZero(o.cell)?[2,t]:(a=eh.getCenter(e[0]),u=Vf(i,n,r,a),[2,zf(t,u)])):[2,t]}))}))}(0,e,t,n)}))},e.buildNcs=function(e){return Hr.create("Build NCS",(function(t){return function(e,t){return Object(T.b)(this,void 0,void 0,(function(){var e,n,r;return Object(T.d)(this,(function(i){if(1!==(e=t.models).length)throw new Error("Can only build NCS from structures based on 1 model.");return(n=Ds.Provider.get(e[0]))&&(r=n.ncsOperators)&&r.length?[2,zf(t,r)]:[2,t]}))}))}(0,e)}))},e.areUnitsEquivalent=t,e.UnitEquivalenceBuilder=n,e.computeTransformGroups=function(e){for(var t=n(),r=0,i=e.units;r<i.length;r++){var o=i[r];t.add(o.id,o)}for(var a=[],u=0,s=t.groups;u<s.length;u++){var c=s[u];a.push(Ns.SymmetryGroup(c.map((function(t){return e.unitMap.get(t)}))))}return a},e.areTransformGroupsEquivalent=function(e,t){if(e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;++n){var i=e[n].units,o=t[n].units;if(i.length!==o.length)return!1;if(e[n].hashCode!==t[n].hashCode)return!1;for(var a=0,u=i.length;a<u;a++)if(i[a].conformation!==o[a].conformation)return!1}return!0}}(Ff||(Ff={}));var Yf=function(){function e(e,t){this.parent=e,this.isSorted=t,this.ids=[],this.unitMap=Qn.Mutable(),this.parentId=-1,this.currentUnit=[],this.elementCount=0}return e.prototype.addToUnit=function(e,t){var n=this.unitMap.get(e);n?n[n.length]=t:(this.unitMap.set(e,[t]),this.ids[this.ids.length]=e),this.elementCount++},e.prototype.beginUnit=function(e){this.parentId=e,this.currentUnit=this.currentUnit.length>0?[]:this.currentUnit},e.prototype.addElement=function(e){this.currentUnit[this.currentUnit.length]=e,this.elementCount++},e.prototype.addElementRange=function(e,t,n){for(var r=t;r<n;r++)this.currentUnit[this.currentUnit.length]=e[r],this.elementCount++},e.prototype.commitUnit=function(){0!==this.currentUnit.length&&(this.ids[this.ids.length]=this.parentId,this.unitMap.set(this.parentId,this.currentUnit),this.parentId=-1)},e.prototype.setUnit=function(e,t){this.ids[this.ids.length]=e,this.unitMap.set(e,t),this.elementCount+=t.length},e.prototype._getStructure=function(e){if(this.isEmpty)return dp.Empty;var t=[];de(this.ids);for(var n=Ff.UnitEquivalenceBuilder(),r=0,i=this.ids.length;r<i;r++){var o=this.ids[r],a=this.parent.unitMap.get(o),u=this.unitMap.get(o),s=!1;e&&(this.isSorted||de(u),u=an.deduplicate(an.ofSortedArray(this.currentUnit)),s=!0);var c=u.length;if(u.length!==a.elements.length){!this.isSorted&&!s&&c>1&&de(u);var l=a.getChild(an.ofSortedArray(u)),d=n.add(l.id,l);l!==d&&(l=d.applyOperator(l.id,l.conformation.operator,!0)),t[t.length]=l}else t[t.length]=a,n.add(a.id,a)}return dp.create(t,{parent:this.parent})},e.prototype.getStructure=function(){return this._getStructure(!1)},e.prototype.getStructureDeduplicate=function(){return this._getStructure(!0)},e.prototype.setSingletonLocation=function(e){var t=this.ids[0];e.unit=this.parent.unitMap.get(t),e.element=this.unitMap.get(t)[0]},Object.defineProperty(e.prototype,"isEmpty",{get:function(){return 0===this.elementCount},enumerable:!1,configurable:!0}),e}();function Kf(e,t){for(var n=1;t--;)n*=e--;return n}var Zf=function(){function e(e,t){var n,r;this.array=e,this.hasNext=!1,this.index=(1<<t)-1,this.size=(n=e.length,(r=t)>n?0:Kf(n,r)/Kf(r,r)),this.maxIndex=1<<e.length,this.value=new Array(t),this.hasNext=t>0&&t<=e.length}return e.prototype.move=function(){if(this.hasNext){for(var e=0,t=0,n=this.index;n;n>>>=1,e++)1&n&&(this.value[t++]=this.array[e]);this.index=function(e){var t=e&-e,n=e+t;return n|((n&-n)/t>>1)-1}(this.index),this.hasNext=this.index<this.maxIndex}return this.value},e}();function Wf(e,t){for(var n=[],r=new Zf(e,t);r.hasNext;)n.push(r.move().slice());return n}var Xf=[],Qf={links:Xf,terminalLinks:Xf,elements:Xf,partialElements:Xf,getElementIndices:function(){return Xf},getLinkIndices:function(){return Xf},getTerminalLinkIndices:function(){return Xf}},Jf=xo("C"),$f=xo("O"),ep=[os.elementFingerprint([Jf,Jf,Jf,$f]),os.elementFingerprint([Jf,Jf,Jf,Jf,$f]),os.elementFingerprint([Jf,Jf,Jf,Jf,Jf,$f]),os.elementFingerprint([Jf,Jf,Jf,Jf,Jf,Jf,$f])];function tp(e,t){for(var n=-1,r=-1,i=-1,o=-1,a=e.elements,u=e.model.atomicHierarchy.atoms,s=u.type_symbol,c=u.label_atom_id,l=e.bonds,d=l.b,f=l.offset,p=0,m=t.length;p<m;++p){var h=a[t[p]];if(s.value(h)===Jf){for(var g=0,v=0,y=f[t[p]],_=f[t[p]+1];y<_;++y){var b=a[d[y]],x=s.value(b);x===$f?++g:x===Jf&&++v}if(2===g){n=h;break}1===g&&1===v?r=h:c.value(h).startsWith("C1")?i=h:o=h}}return-1!==n?n:-1!==r?r:-1!==i?i:-1!==o?o:a[t[0]]}function np(e,t,n,r){var i=t.conformation.position;return A.normalize(e,A.sub(e,r,i(n,e))),e}function rp(e,t){var n=e.elements;return e.model.atomicHierarchy.atoms.label_atom_id.value(n[t])}function ip(e,t){if(t&&t.length){for(var n=e.unit,r=e.all,i=new Set,o=Wf(Er(new Array(t.length)),2),a=0,u=o.length;a<u;++a){var s=o[a],c=r[t[s[0]]],l=r[t[s[1]]];an.areIntersecting(c,l)&&os.getAltId(n,c)===os.getAltId(n,l)&&(i.add(t[s[0]]),i.add(t[s[1]]))}if(i.size){var d=[];for(a=0,u=t.length;a<u;++a)i.has(t[a])||d.push(t[a]);return d}return t}}function op(e,t){return t.properties.saccharideComponentMap.get(e)}function ap(e){if(0===e.models.reduce((function(e,t){return e+t.properties.saccharideComponentMap.size}),0))return Qf;var t=[],n=[],r=[],i=[],o=new Map;function a(e,t,n){return"".concat(e,"|").concat(t,"|").concat(n)}function u(e,t){o.has(e)?o.get(e).push(t):o.set(e,[t])}function s(e,t){A.sub(r[e].geometry.direction,r[t].geometry.center,r[e].geometry.center),A.normalize(r[e].geometry.direction,r[e].geometry.direction)}var c=A();function l(e,t,n){var i=n.conformation.position,o=r[e].geometry;A.sub(o.direction,i(n.elements[t],c),o.center),A.normalize(o.direction,o.direction)}for(var d=0,f=e.units.length;d<f;++d){var p=e.units[d];if(Ns.isAtomic(p))for(var m=p.model,h=p.rings,g=m.atomicHierarchy,v=g.chainAtomSegments,y=g.residueAtomSegments,_=g.atoms.label_comp_id,b=Kn.transientSegments(v,p.elements),x=Kn.transientSegments(y,p.elements),w=void 0;b.hasNext;)for(x.setSegment(b.move());x.hasNext;){var S=x.move().index,C=op(_.value(y.offsets[S]),m);if(C){w||(w=ss.byFingerprintAndResidue(h,ep));var B=ip(h,w.get(S));if(B&&B.length){for(var P=[],I=0,E=B.length;I<E;++I){var M=h.all[B[I]],k=tp(p,M),D=hr.calculateMomentsAxes(is(p,M)),O=hr.calculateNormalizedAxes(D),N=A.copy(A(),O.origin),R=A.copy(A(),O.dirC),U=np(A(),p,k,N);A.orthogonalize(U,R,U);var L=os.getAltId(p,M),G=r.length;P.push(G),u(a(S,p.id,L),G),L&&u(a(S,p.id,""),G),r.push({geometry:{center:N,normal:R,direction:U},component:C,ringIndex:B[I],altId:L,unit:p,residueIndex:S})}var q=Wf(Er(new Array(B.length)),2);for(I=0,E=q.length;I<E;++I){var F=q[I],j=h.all[B[F[0]]],H=h.all[B[F[1]]];if(Yr.areVertexSetsConnected(p.bonds,j,H,3)){var V=P[F[0]],z=P[F[1]];r[V].altId===r[z].altId&&(s(V,z),s(z,V),t.push({carbohydrateIndexA:V,carbohydrateIndexB:z}),t.push({carbohydrateIndexA:z,carbohydrateIndexB:V}))}}}else i.push({unit:p,residueIndex:S,component:C})}}}function Y(e,t){return o.get(a(e.getResidueIndex(t),e.id,function(e,t){var n=e.elements;return e.model.atomicHierarchy.atoms.label_alt_id.value(n[t])}(e,t)))||[]}for(d=0,f=r.length;d<f;++d){var K=r[d];for(p=K.unit,I=d+1;I<f;++I){var Z=r[I];if(p===Z.unit&&K.residueIndex!==Z.residueIndex){var W=p.rings.all[K.ringIndex],X=p.rings.all[Z.ringIndex];Yr.areVertexSetsConnected(p.bonds,W,X,3)&&(s(d,I),s(I,d),t.push({carbohydrateIndexA:d,carbohydrateIndexB:I}),t.push({carbohydrateIndexA:I,carbohydrateIndexB:d}))}}}for(d=0,f=e.units.length;d<f;++d){p=e.units[d];Ns.isAtomic(p)&&e.interUnitBonds.getConnectedUnits(p.id).forEach((function(r){r.connectedIndices.forEach((function(i){r.getEdges(i).forEach((function(o){var a=o.props,u=o.indexB;if(na.isCovalent(a.flag)){var c=e.unitMap.get(r.unitA),d=e.unitMap.get(r.unitB),f=Y(c,i),p=Y(d,u);if(f.length>0&&p.length>0)for(var m=f.length,h=p.length,g=0,v=Math.max(m,h);g<v;++g){var y=f[Math.min(g,m-1)],_=p[Math.min(g,h-1)];((A=rp(c,i)).startsWith("O1")||A.startsWith("C1"))&&s(y,_),t.push({carbohydrateIndexA:y,carbohydrateIndexB:_})}else if(0===p.length)for(var b=0,x=f;b<x.length;b++){var A;y=x[b];((A=rp(c,i)).startsWith("O1")||A.startsWith("C1"))&&l(y,u,d),n.push({carbohydrateIndex:y,elementIndex:u,elementUnit:d,fromCarbohydrate:!0})}else if(0===f.length)for(var w=0,S=p;w<S.length;w++){_=S[w];n.push({carbohydrateIndex:_,elementIndex:i,elementUnit:c,fromCarbohydrate:!1})}}}))}))}))}return Object(T.a)({links:t,terminalLinks:n,elements:r,partialElements:i},function(e,t,n){function r(e,t){return ve(e.id,t)}function i(e,t,n){var i=[],o=e.get(r(t,n));if(void 0!==o)for(var a=0,u=o;a<u.length;a++){Mr(i,u[a])}return i}for(var o=new Map,a=0,u=e.length;a<u;++a)for(var s=e[a],c=s.unit,l=s.ringIndex,d=c.rings.all[l],f=0,p=d.length;f<p;++f){var m=r(c,c.elements[d[f]]);void 0===(C=o.get(m))?o.set(m,[a]):C.push(a)}var h=new Map;for(a=0,u=t.length;a<u;++a){var g=t[a],v=e[g.carbohydrateIndexA];for(c=v.unit,l=v.ringIndex,d=c.rings.all[l],f=0,p=d.length;f<p;++f){m=r(c,c.elements[d[f]]);void 0===(C=h.get(m))?h.set(m,[a]):C.push(a)}}var y=new Map;for(a=0,u=n.length;a<u;++a){var _=n[a],b=_.fromCarbohydrate,x=_.carbohydrateIndex,A=_.elementUnit,w=_.elementIndex;if(b){var S=e[x];for(c=S.unit,l=S.ringIndex,d=c.rings.all[l],f=0,p=d.length;f<p;++f){m=r(c,c.elements[d[f]]);void 0===(C=y.get(m))?y.set(m,[a]):C.push(a)}}else{var C;m=r(A,A.elements[w]);void 0===(C=y.get(m))?y.set(m,[a]):C.push(a)}}return{getElementIndices:function(e,t){return i(o,e,t)},getLinkIndices:function(e,t){return i(h,e,t)},getTerminalLinkIndices:function(e,t){return i(y,e,t)}}}(r,t,n))}var up=ur(),sp=new vs("14"),cp=new vs("98");function lp(e){var t=e.units,n=t.length>500?sp:cp;n.reset();for(var r=0,i=t.length;r<i;r++){var o=(a=t[r]).boundary;(u=a.conformation.operator).isIdentity?n.includeSphere(o.sphere):(ur.transform(up,o.sphere,u.matrix),n.includeSphere(up))}n.finishedIncludeStep();for(r=0,i=t.length;r<i;r++){var a,u;o=(a=t[r]).boundary;(u=a.conformation.operator).isIdentity?n.radiusSphere(o.sphere):(ur.transform(up,o.sphere,u.matrix),n.radiusSphere(up))}return{box:n.getBox(),sphere:n.getSphere()}}var dp=function(){function e(e,t,n,r,i){this.units=e,this.unitMap=t,this.unitIndexMap=n,this.state=r,this._child=null==i?void 0:i.child,this._target=null==i?void 0:i.target,this._proxy=void 0}return e.prototype.subsetBuilder=function(e){return new Yf(this,e)},Object.defineProperty(e.prototype,"elementCount",{get:function(){return this.state.elementCount},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bondCount",{get:function(){return-1===this.state.bondCount&&(this.state.bondCount=this.interUnitBonds.edgeCount+ju.getIntraUnitBondCount(this)),this.state.bondCount},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCustomProperties",{get:function(){return!!this.state.customProps&&this.state.customProps.all.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"customPropertyDescriptors",{get:function(){return this.state.customProps||(this.state.customProps=new Pr),this.state.customProps},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentPropertyData",{get:function(){return this.state.propertyData||(this.state.propertyData=Object.create(null)),this.state.propertyData},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"inheritedPropertyData",{get:function(){return this.parent?this.parent.currentPropertyData:this.currentPropertyData},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"polymerResidueCount",{get:function(){return-1===this.state.polymerResidueCount&&(this.state.polymerResidueCount=function(e){for(var t=e.units,n=0,r=0,i=t.length;r<i;r++)n+=t[r].polymerElements.length;return n}(this)),this.state.polymerResidueCount},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"polymerGapCount",{get:function(){return-1===this.state.polymerGapCount&&(this.state.polymerGapCount=function(e){for(var t=e.units,n=0,r=0,i=t.length;r<i;r++)n+=t[r].gapElements.length/2;return n}(this)),this.state.polymerGapCount},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"polymerUnitCount",{get:function(){return-1===this.state.polymerUnitCount&&(this.state.polymerUnitCount=function(e){for(var t=e.units,n=0,r=0,i=t.length;r<i;r++)t[r].polymerElements.length>0&&(n+=1);return n}(this)),this.state.polymerUnitCount},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"uniqueElementCount",{get:function(){return-1===this.state.uniqueElementCount&&(this.state.uniqueElementCount=function(e){for(var t=e.unitSymmetryGroups,n=0,r=0,i=t.length;r<i;r++)n+=t[r].elements.length;return n}(this)),this.state.uniqueElementCount},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"atomicResidueCount",{get:function(){return-1===this.state.atomicResidueCount&&(this.state.atomicResidueCount=function(e){for(var t=e.units,n=0,r=0,i=t.length;r<i;r++){var o=t[r];if(Ns.isAtomic(o))for(var a=o.elements,u=o.residueIndex,s=-1,c=-1,l=0,d=a.length;l<d;++l)(s=u[a[l]])!==c&&(n+=1,c=s)}return n}(this)),this.state.atomicResidueCount},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isCoarseGrained",{get:function(){return this.models.some((function(e){return eh.isCoarseGrained(e)}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isEmpty",{get:function(){return 0===this.units.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hashCode",{get:function(){return-1!==this.state.hashCode?this.state.hashCode:this.computeHash()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"transformHash",{get:function(){return-1!==this.state.transformHash||(this.state.transformHash=_e(this.units.map((function(e){return e.id})))),this.state.transformHash},enumerable:!1,configurable:!0}),e.prototype.computeHash=function(){for(var e=23,t=0,n=this.units.length;t<n;t++){var r=this.units[t];e=31*(e=31*e+r.id|0)+an.hashCode(r.elements)|0}return-1===(e=function(e){var t=e^e>>4;return t=(3735928559^t)+(t<<5),t^=t>>11}(e=31*e+this.elementCount|0))&&(e=0),this.state.hashCode=e,e},e.prototype.elementLocations=function(){return new e.ElementLocationIterator(this)},Object.defineProperty(e.prototype,"root",{get:function(){var e;return null!==(e=this.state.parent)&&void 0!==e?e:this},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.state.parent},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"coordinateSystem",{get:function(){return this.state.coordinateSystem},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"label",{get:function(){return this.state.label},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"boundary",{get:function(){return this.state.boundary||(this.state.boundary=lp(this)),this.state.boundary},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lookup3d",{get:function(){return this.state.lookup3d||(this.state.lookup3d=new Ks(this)),this.state.lookup3d},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"interUnitBonds",{get:function(){return this.state.interUnitBonds||(this.parent&&this.state.dynamicBonds===this.parent.state.dynamicBonds&&this.parent.state.interUnitBonds&&0===this.parent.state.interUnitBonds.edgeCount?this.state.interUnitBonds=new ga(new Map):this.state.interUnitBonds=zu(this,{ignoreWater:!this.dynamicBonds,ignoreIon:!this.dynamicBonds,validUnit:this.state.interBondsValidUnit,validUnitPair:this.state.interBondsValidUnitPair})),this.state.interUnitBonds},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dynamicBonds",{get:function(){return this.state.dynamicBonds},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"interBondsValidUnit",{get:function(){return this.state.interBondsValidUnit},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"interBondsValidUnitPair",{get:function(){return this.state.interBondsValidUnitPair},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"unitSymmetryGroups",{get:function(){return this.state.unitSymmetryGroups||(this.state.unitSymmetryGroups=Ff.computeTransformGroups(this)),this.state.unitSymmetryGroups},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"unitSymmetryGroupsIndexMap",{get:function(){return this.state.unitSymmetryGroupsIndexMap||(this.state.unitSymmetryGroupsIndexMap=Ns.SymmetryGroup.getUnitSymmetryGroupsIndexMap(this.unitSymmetryGroups)),this.state.unitSymmetryGroupsIndexMap},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"carbohydrates",{get:function(){return this.state.carbohydrates||(this.state.carbohydrates=ap(this)),this.state.carbohydrates},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"models",{get:function(){return this.state.models||(this.state.models=function(e){for(var t=e.units,n=gi.create(),r=0,i=t;r<i.length;r++){var o=i[r];gi.add(n,o.model.id,o.model)}return n.array}(this)),this.state.models},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"uniqueResidueNames",{get:function(){return this.state.uniqueResidueNames||(this.state.uniqueResidueNames=function(e){for(var t=$d.residue.microheterogeneityCompIds,n=new Set,r=l.Location.create(e),i=0,o=e.unitSymmetryGroups;i<o.length;i++){var a=o[i].units[0];if(Ns.isAtomic(a)){var u=Kn.transientSegments(a.model.atomicHierarchy.residueAtomSegments,a.elements);for(r.unit=a;u.hasNext;){var s=u.move();r.element=a.elements[s.start];for(var c=t(r),d=0,f=c;d<f.length;d++){var p=f[d];n.add(p)}}}}return n}(this))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"uniqueElementSymbols",{get:function(){return this.state.uniqueElementSymbols||(this.state.uniqueElementSymbols=function(e){for(var t=$d.atom.type_symbol,n=new Set,r=l.Location.create(e),i=0,o=e.unitSymmetryGroups;i<o.length;i++){var a=o[i].units[0];if(Ns.isAtomic(a)){r.unit=a;for(var u=0,s=a.elements.length;u<s;++u)r.element=a.elements[u],n.add(t(r))}}return n}(this))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"entityIndices",{get:function(){return this.state.entityIndices||(this.state.entityIndices=function(e){for(var t=e.units,n=l.Location.create(e),r=gi.create(),i=0,o=t;i<o.length;i++){var a=o[i],u=0===a.kind?$d.entity.key:$d.coarse.entityKey;n.unit=a;for(var s=a.elements,c=Kn.transientSegments(a.model.atomicHierarchy.chainAtomSegments,s);c.hasNext;){var d=c.move();n.element=s[d.start];var f=u(n);gi.add(r,f,f)}}return de(r.array),r.array}(this))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"uniqueAtomicResidueIndices",{get:function(){return this.state.uniqueAtomicResidueIndices||(this.state.uniqueAtomicResidueIndices=function(e){for(var t=new Map,n=[],r=e.unitSymmetryGroups,i=0,o=r;i<o.length;i++){var a=o[i].units[0];if(Ns.isAtomic(a)){var u=void 0;t.has(a.model.id)?u=t.get(a.model.id):(u=gi.create(),n.push(a.model.id),t.set(a.model.id,u));for(var s=Kn.transientSegments(a.model.atomicHierarchy.residueAtomSegments,a.elements);s.hasNext;){var c=s.move();gi.add(u,c.index,c.index)}}}for(var l=new Map,d=0,f=n;d<f.length;d++){var p=f[d],m=t.get(p).array;de(m),l.set(p,m)}return l}(this))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isAtomic",{get:function(){for(var e=0,t=this.units;e<t.length;e++){var n=t[e];if(!Ns.isAtomic(n))return!1}return!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasAtomic",{get:function(){for(var e=0,t=this.units;e<t.length;e++){var n=t[e];if(Ns.isAtomic(n))return!0}return!1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isCoarse",{get:function(){for(var e=0,t=this.units;e<t.length;e++){var n=t[e];if(!Ns.isCoarse(n))return!1}return!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCoarse",{get:function(){for(var e=0,t=this.units;e<t.length;e++){var n=t[e];if(Ns.isCoarse(n))return!0}return!1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"serialMapping",{get:function(){return this.state.serialMapping||(this.state.serialMapping=function(e){for(var t=e.units,n=e.elementCount,r=e.unitIndexMap,i=new Uint32Array(t.length),o=new Uint32Array(n),a=new Uint32Array(n),u=0,s=0,c=t.length;u<c;++u){i[u]=s;for(var l=t[u].elements,d=0,f=l.length;d<f;++d){var p=s+d;o[p]=u,a[p]=l[d]}s+=l.length}return{cumulativeUnitElementCount:i,unitIndices:o,elementIndices:a,getSerialIndex:function(e,t){return i[r.get(e.id)]+ln.indexOf(e.elements,t)}}}(this))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"model",{get:function(){if(this.state.model)return this.state.model;if(this.state.representativeModel)return this.state.representativeModel;if(this.state.masterModel)return this.state.masterModel;var e=this.models;if(e.length>1)throw new Error("The structure is based on multiple models and has neither a master- nor a representative-model.");return this.state.model=e[0],this.state.model},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"masterModel",{get:function(){return this.state.masterModel},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"representativeModel",{get:function(){return this.state.representativeModel},enumerable:!1,configurable:!0}),e.prototype.hasElement=function(e){return!!this.unitMap.has(e.unit.id)&&an.has(this.unitMap.get(e.unit.id).elements,e.element)},e.prototype.getModelIndex=function(e){return this.models.indexOf(e)},e.prototype.remapModel=function(t){for(var n=this.state,r=n.dynamicBonds,i=n.interUnitBonds,o=n.parent,a=[],u=0,s=this.unitSymmetryGroups;u<s.length;u++){var c=s[u],l=c.units[0].remapModel(t,r);a.push(l);for(var d=1,f=c.units.length;d<f;++d){var p=c.units[d];a.push(p.remapModel(t,r,l.props))}}return e.create(a,{parent:null==o?void 0:o.remapModel(t),label:this.label,interUnitBonds:r?void 0:i,dynamicBonds:r,interBondsValidUnit:this.state.interBondsValidUnit,interBondsValidUnitPair:this.state.interBondsValidUnitPair,coordinateSystem:this.state.coordinateSystem,masterModel:this.state.masterModel,representativeModel:this.state.representativeModel})},e.prototype.asParent=function(){if(this._proxy)return this._proxy;if(this.parent){var t=this.parent.coordinateSystem.isIdentity?this.parent:e.transform(this.parent,this.parent.coordinateSystem.inverse),n=this.coordinateSystem.isIdentity?t:e.transform(t,this.coordinateSystem.matrix);this._proxy=new e(n.units,n.unitMap,n.unitIndexMap,Object(T.a)(Object(T.a)({},n.state),{dynamicBonds:this.dynamicBonds}),{child:this,target:this.parent})}else this._proxy=this;return this._proxy},Object.defineProperty(e.prototype,"child",{get:function(){return this._child},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"target",{get:function(){var e;return null!==(e=this._target)&&void 0!==e?e:this},enumerable:!1,configurable:!0}),e}();function fp(e,t,n){return e[t].id-e[n].id}!function(e){function t(e){return{kind:"structure-loci",structure:e}}function n(t,n){void 0===n&&(n={});for(var r=Qn.Mutable(),i=Qn.Mutable(),o=0,a=!0,u=t.length>0?t[0].id:0,s=0,c=t.length;s<c;s++){var l=t[s];r.set(l.id,l),o+=l.elements.length,l.id<u&&(a=!1),u=l.id}a||fe(t,0,t.length,fp,ie);for(s=0,c=t.length;s<c;s++)i.set(t[s].id,s);var d={hashCode:-1,transformHash:-1,elementCount:o,bondCount:-1,uniqueElementCount:-1,atomicResidueCount:-1,polymerResidueCount:-1,polymerGapCount:-1,polymerUnitCount:-1,dynamicBonds:!1,coordinateSystem:L.Default,label:""};return n.parent&&(d.parent=n.parent.parent||n.parent),n.interUnitBonds&&(d.interUnitBonds=n.interUnitBonds),n.interBondsValidUnit?d.interBondsValidUnit=n.interBondsValidUnit:n.parent&&(d.interBondsValidUnit=n.parent.interBondsValidUnit),n.interBondsValidUnitPair?d.interBondsValidUnitPair=n.interBondsValidUnitPair:n.parent&&(d.interBondsValidUnitPair=n.parent.interBondsValidUnitPair),n.dynamicBonds?d.dynamicBonds=n.dynamicBonds:n.parent&&(d.dynamicBonds=n.parent.dynamicBonds),n.coordinateSystem?d.coordinateSystem=n.coordinateSystem:n.parent&&(d.coordinateSystem=n.parent.coordinateSystem),n.label?d.label=n.label:n.parent&&(d.label=n.parent.label),n.masterModel?d.masterModel=n.masterModel:n.parent&&(d.masterModel=n.parent.masterModel),n.representativeModel?d.representativeModel=n.representativeModel:n.parent&&(d.representativeModel=n.parent.representativeModel),new e(t,r,i,d)}e.Empty=n([]),e.Loci=t,e.toStructureElementLoci=function(e){for(var t=[],n=0,r=e.units;n<r.length;n++){var i=r[n];t.push({unit:i,indices:gt.ofBounds(0,i.elements.length)})}return l.Loci(e,t)},e.toSubStructureElementLoci=function(e,t){return zs.toLociWithSourceUnits(zs.Singletons(e,t))},e.isLoci=function(e){return!!e&&"structure-loci"===e.kind},e.areLociEqual=function(e,t){return e.structure===t.structure},e.isLociEmpty=function(e){return e.structure.isEmpty},e.remapLoci=function(e,n){return n===e.structure?e:t(n)},e.create=n,e.ofTrajectory=function(t,i){return Object(T.b)(this,void 0,void 0,(function(){var o,a,u,s,c,l,d,f,p,m,h,g,v;return Object(T.d)(this,(function(y){switch(y.label){case 0:if(0===t.frameCount)return[2,e.Empty];o=[],a=void 0,u=0,s=0,c=t.frameCount,y.label=1;case 1:return s<c?[4,Hr.resolveInContext(t.getFrameAtIndex(s),i)]:[3,4];case 2:for(l=y.sent(),a||(a=l),d=r(l),f=0,p=d.units.length;f<p;++f)m=d.units[f],h=m.invariantId+u,g=m.chainGroupId+u,v=Ns.create(o.length,h,g,m.traits,m.kind,m.model,m.conformation.operator,m.elements),o.push(v);u=o.length,y.label=3;case 3:return++s,[3,1];case 4:return[2,n(o,{representativeModel:a,label:a.label})]}}))}))};function r(e,t){void 0===t&&(t={});for(var n=e.atomicHierarchy.chainAtomSegments,r=e.atomicHierarchy.index,u=e.atomicHierarchy.chains.auth_asym_id,s=e.atomicChainOperatorMappinng,c=new a(Object(T.a)({label:e.label},t)),l=0;l<n.count;l++){var d=s.get(l)||L.Default,f=n.offsets[l],p=(Bc.chainResidueCount(e.atomicHierarchy,l),n.offsets[l+1],n.offsets[l],!1);if(i(e,l))for(;l+1<n.count&&i(e,l+1);){if(s.get(l)!==s.get(l+1))break;p=!0,l++}else for(;l+1<n.count&&n.offsets[l+1]-n.offsets[l]==1&&n.offsets[l+2]-n.offsets[l+1]==1;){if(!0,r.getEntityFromChain(l)!==r.getEntityFromChain(l+1))break;if(u.value(l)!==u.value(l+1))break;if(s.get(l)!==s.get(l+1))break;p=!0,l++}var m=an.ofBounds(f,n.offsets[l+1]);c.addUnit(0,e,d,m,p?Ns.Trait.MultiChain:Ns.Trait.None)}var h=e.coarseHierarchy;return h.isDefined&&(h.spheres.count>0&&o(c,e,e.coarseHierarchy.spheres,1),h.gaussians.count>0&&o(c,e,e.coarseHierarchy.gaussians,2)),c.getStructure()}function i(e,t){var n=e.atomicHierarchy.index.getEntityFromChain(t);return"water"===e.entities.data.type.value(n)}function o(e,t,n,r){for(var i=n.chainElementSegments,o=0;o<i.count;o++){var a=an.ofBounds(i.offsets[o],i.offsets[o+1]);e.addUnit(r,t,L.Default,a,Ns.Trait.None)}}e.ofModel=r,e.transform=function(e,t){if(P.isIdentity(t))return e;if(!P.isRotationAndTranslation(t,L.RotationTranslationEpsilon))throw new Error("Only rotation/translation combination can be applied.");for(var r=[],i=0,o=e.units;i<o.length;i++){var a=o[i],u=a.conformation.operator,s=L.create(u.name,t,u);r.push(a.applyOperator(a.id,s))}var c=e.coordinateSystem;return n(r,{parent:e,coordinateSystem:L.compose(L.create(c.name,t,c),c)})};var a=function(){function e(e){void 0===e&&(e={}),this.props=e,this.units=[],this.invariantId=qe(),this.chainGroupId=-1,this.inChainGroup=!1,this.p=A(),this.singleElementUnits=new Map}return e.prototype.beginChainGroup=function(){this.chainGroupId++,this.inChainGroup=!0},e.prototype.endChainGroup=function(){this.inChainGroup=!1},e.prototype.addUnit=function(e,t,n,r,i,o){void 0===o&&(o=this.invariantId());var a=this.inChainGroup?this.chainGroupId:++this.chainGroupId,u=Ns.create(this.units.length,o,a,i,e,t,n,r);return this.add(u)},e.prototype.add=function(e){if(1===e.elements.length){e.conformation.position(e.elements[0],this.p);var t=[e.invariantId,this.p[0],this.p[1],this.p[2]].join("|");if(this.singleElementUnits.has(t))return this.singleElementUnits.get(t);this.singleElementUnits.set(t,e)}return this.units.push(e),e},e.prototype.addWithOperator=function(e,t,n){return void 0===n&&(n=!1),this.add(e.applyOperator(this.units.length,t,n))},e.prototype.getStructure=function(){return n(this.units,this.props)},Object.defineProperty(e.prototype,"isEmpty",{get:function(){return 0===this.units.length},enumerable:!1,configurable:!0}),e}();function u(e,t){if(e===t)return!0;if(e.elementCount!==t.elementCount)return!1;var n=e.units.length;if(n!==t.units.length)return!1;for(var r=0;r<n;r++)if(e.units[r].id!==t.units[r].id)return!1;return!0}function s(e,t){return e===t||e.hashCode===t.hashCode&&Ff.areTransformGroupsEquivalent(e.unitSymmetryGroups,t.unitSymmetryGroups)}e.StructureBuilder=a,e.Builder=function(e){return void 0===e&&(e={}),new a(e)},e.hashCode=function(e){return e.hashCode},e.conformationHash=function(e){return function(e){for(var t=0,n=0,r=e.length;n<r;n++)t=(t<<5)-t+e.charCodeAt(n++)|0;return t}(e.units.map((function(e){return Ns.conformationId(e)})).join("|"))},e.areUnitIdsEqual=u,e.areUnitIdsAndIndicesEqual=function(e,t){if(e===t)return!0;if(!u(e,t))return!1;for(var n=0,r=e.units.length;n<r;n++)if(!an.areEqual(e.units[n].elements,t.units[n].elements))return!1;return!0},e.areHierarchiesEqual=function(e,t){if(e.hashCode!==t.hashCode)return!1;var n=e.models.length;if(n!==t.models.length)return!1;for(var r=0;r<n;r++)if(!eh.areHierarchiesEqual(e.models[r],t.models[r]))return!1;return!0},e.areEquivalent=s,e.areRootsEquivalent=function(e,t){return s(e.root,t.root)},e.areRootsEqual=function(e,t){return e.root===t.root};var c=function(){function e(e){this.structure=e,this.unitIndex=0,this.maxIdx=0,this.idx=-1,this.current=l.Location.create(e),this.hasNext=e.elementCount>0,this.hasNext&&(this.elements=e.units[0].elements,this.maxIdx=this.elements.length-1,this.current.unit=e.units[0])}return e.prototype.move=function(){return this.advance(),this.current.element=this.elements[this.idx],this.current},e.prototype.advance=function(){if(this.idx<this.maxIdx)return this.idx++,void(this.idx===this.maxIdx&&(this.hasNext=this.unitIndex+1<this.structure.units.length));this.idx=0,this.unitIndex++,this.unitIndex>=this.structure.units.length?this.hasNext=!1:(this.current.unit=this.structure.units[this.unitIndex],this.elements=this.current.unit.elements,this.maxIdx=this.elements.length-1,0===this.maxIdx&&(this.hasNext=this.unitIndex+1<this.structure.units.length))},e}();e.ElementLocationIterator=c;var d=A();function f(e,t,n){for(var r=e.elements,i=e.conformation,o=i.position,a=i.r,u=d,s=Number.MAX_VALUE,c=0,l=r.length;c<l;c++){var f=r[c],p=A.distance(t,o(f,u))-n-a(f);p<s&&(s=p)}return s}function p(e,t,n){for(var r=e.units,i=Number.MAX_VALUE,o=0,a=r.length;o<a;o++){var u=f(r[o],t,n);u<i&&(i=u)}return i}e.minDistanceToPoint=p;var m,h=A();function g(e){return e.unitSymmetryGroups.filter((function(e){return e.units[0].polymerElements.length>0}))}e.distance=function(e,t){if(0===e.elementCount||0===t.elementCount)return 0;for(var n=e.units,r=Number.MAX_VALUE,i=0,o=n.length;i<o;i++)for(var a=n[i],u=a.elements,s=a.conformation,c=s.position,l=s.r,d=0,f=u.length;d<f;d++){var m=u[d],g=p(t,c(m,h),l(m));g<r&&(r=g)}return r},e.elementDescription=function(e){return 1===e.elementCount?"1 element":"".concat(e.elementCount," elements")},e.validUnitPair=function(e,t,n){return e.masterModel?t.model===n.model||t.model===e.masterModel||n.model===e.masterModel:t.model===n.model},e.eachUnitPair=function(e,t,n){var r=n.maxRadius,i=n.validUnit,o=n.validUnitPair;if(e.units.some((function(e){return i(e)})))for(var a=e.lookup3d,u=A(),s=0,c=e.units;s<c.length;s++){var l=c[s];if(i(l)){var d=l.boundary.sphere;A.transformMat4(u,d.center,l.conformation.operator.matrix);for(var f=a.findUnitIndices(u[0],u[1],u[2],d.radius+r),p=0;p<f.count;p++){var m=e.units[f.indices[p]];l.id>=m.id||i(m)&&o(l,m)&&(m.elements.length>=l.elements.length?t(l,m):t(m,l))}}}},e.eachAtomicHierarchyElement=function(e,t){for(var n=t.chain,r=t.residue,i=t.atom,o=l.Location.create(e),a=0,u=e.units;a<u.length;a++){var s=u[a];if(0===s.kind){o.unit=s;for(var c=s.elements,d=Kn.transientSegments(s.model.atomicHierarchy.chainAtomSegments,c),f=Kn.transientSegments(s.model.atomicHierarchy.residueAtomSegments,c);d.hasNext;){var p=d.move();if(n&&(o.element=c[p.start],n(o)),r||i)for(f.setSegment(p);f.hasNext;){var m=f.move();if(r&&(o.element=c[m.start],r(o)),i)for(var h=m.start,g=m.end;h<g;h++)o.element=c[h],i(o)}}}}},e.DefaultSizeThresholds={smallResidueCount:10,mediumResidueCount:5e3,largeResidueCount:3e4,highSymmetryUnitCount:10,fiberResidueCount:15},function(e){e[e.Small=0]="Small",e[e.Medium=1]="Medium",e[e.Large=2]="Large",e[e.Huge=3]="Huge",e[e.Gigantic=4]="Gigantic"}(m=e.Size||(e.Size={})),e.getSize=function(t,n,r){void 0===n&&(n={}),void 0===r&&(r=1);var i=Object(T.a)(Object(T.a)({},e.DefaultSizeThresholds),n);return t.polymerResidueCount>=i.largeResidueCount*r?function(e,t){var n=g(e);return n.length>=1&&n[0].units.length>t.highSymmetryUnitCount}(t,i)?m.Huge:m.Gigantic:function(e,t){var n=g(e);return 1===n.length&&n[0].units.length>2&&n[0].units[0].polymerElements.length<t.fiberResidueCount}(t,i)||t.polymerResidueCount<i.smallResidueCount*r?m.Small:t.polymerResidueCount<i.mediumResidueCount*r?m.Medium:m.Large},e.Index=kd.createSimple("index","root"),e.MaxIndex=kd.createSimple("max_index","root");e.getPrincipalAxes=function(t){if(t.currentPropertyData.__PrincipalAxes__)return t.currentPropertyData.__PrincipalAxes__;var n=l.Loci.getPrincipalAxes(e.toStructureElementLoci(t));return t.currentPropertyData.__PrincipalAxes__=n,n}}(dp||(dp={}));var pp,mp,hp,gp=Qe.diff;function vp(e,t){return{kind:"element-loci",structure:e,elements:t}}function yp(e){return e}function _p(e){throw new Error("Property only available for ".concat(e," models."))}function bp(e){return function(t){return Ns.isAtomic(t.unit)?e(t):_p("atomic")}}function xp(e){return function(t){return Ns.isCoarse(t.unit)?e(t):_p("coarse")}}function Ap(e){return Ns.isAtomic(e.unit)?e.unit.residueIndex[e.element]:-1}function wp(e){return Ns.isAtomic(e.unit)?e.unit.chainIndex[e.element]:-1}function Sp(e){return $d.entity.key(e)}!function(e){function t(e){for(var t=0,n=e.elements;t<n.length;t++){var r=n[t];if(ln.size(r.indices)>0)return!1}return!0}function n(e){for(var t=0,n=0,r=e.elements;n<r.length;n++){var i=r[n].indices;t+="number"==typeof i?gp(i):i.length}return t}function r(n){return t(n)?n:e(n.structure,[{unit:n.elements[0].unit,indices:ln.ofSingleton(ln.start(n.elements[0].indices))}])}function i(e){return e.length>3&&an.isRange(e)?gt.ofRange(e[0],e[e.length-1]):an.ofSortedArray(e)}function o(t,n){for(var r=[],o=new Set,a=0,s=t.elements;a<s.length;a++){var c=s[a];if(u(c))r[r.length]=c;else if(0===c.unit.kind){for(var l=c.unit.elements,d=c.unit.model.atomicHierarchy,f=c.unit.model.atomicHierarchy.atoms.label_alt_id,p=d.residueAtomSegments,m=p.index,h=p.offsets,g=[],v=c.indices,y=ln.size(v),_=0;_<y;){o.clear();var b=l[ln.getAt(v,_)],x=m[b];for(o.add(f.value(b)),_++;_<y;){var A=l[ln.getAt(v,_)];if(m[A]!==x)break;o.add(f.value(A)),_++}for(var w=o.has(""),S=h[x],C=h[x+1];S<C;S++){var B=ln.indexOf(l,S);if(B>=0){var P=f.value(S);n&&!w&&P&&!o.has(P)||(g[g.length]=B)}}}r[r.length]={unit:c.unit,indices:i(g)}}else r[r.length]=c}return e(t.structure,r)}function a(e){switch(e.kind){case 0:return e.model.atomicHierarchy.chainAtomSegments;case 1:return e.model.coarseHierarchy.spheres.chainElementSegments;case 2:return e.model.coarseHierarchy.gaussians.chainElementSegments}}function u(e){return e.unit.elements.length===ln.size(e.indices)}function s(e,t,n){for(var r=a(e).index,o=e.elements,u=0,s=0,c=o.length;s<c;s++){var l=r[o[s]];t.has(l)&&u++}if(u!==e.elements.length){var d=new Int32Array(u);u=0;for(s=0,c=o.length;s<c;s++){l=r[o[s]];t.has(l)&&(d[u++]=s)}d.length>0&&(n[n.length]={unit:e,indices:i(d)})}else n[n.length]={unit:e,indices:gt.ofBounds(0,u)}}function c(e,t,n,r,i){for(var o=a(e.elements[0].unit).index,u=new Set,c=t;c<n;c++)for(var l=e.elements[c],d=l.indices,f=l.unit.elements,p=0,m=ln.size(d);p<m;p++)u.add(o[f[ln.getAt(d,p)]]);if(r)for(var h=e.elements[0].unit,g=0,v=e.structure.units;g<v.length;g++){var y=v[g];Ns.areSameChainOperatorGroup(y,h)&&s(y,u,i)}else for(c=t;c<n;c++)s(e.elements[c].unit,u,i)}function l(t){for(var n=[],r=0,i=t.elements.length;r<i;r++){var o=t.elements[r];if(Ns.Traits.is(o.unit.traits,Ns.Trait.Partitioned)){for(var a=r;r<i&&Ns.areSameChainOperatorGroup(t.elements[r].unit,o.unit);)r++;var s=r;r--,c(t,a,s,!0,n)}else u(o)?n[n.length]=o:c(t,r,r+1,!1,n)}return e(t.structure,n)}function d(e){return"".concat(e.unit.model.id,"|").concat($d.entity.id(e))}function f(e,t){for(var n=[],r=0,i=ln.size(t);r<i;++r)n.push(e[ln.getAt(t,r)]);return an.ofSortedArray(n)}function p(e,t){return an.isRange(e)&&an.areEqual(e,t)?gt.ofLength(e.length):i(an.indicesOf(e,t))}e.is=function(e){return!!e&&"element-loci"===e.kind},e.areEqual=function(e,t){if(e.structure!==t.structure)return!1;if(e.elements.length!==t.elements.length)return!1;for(var n=0,r=e.elements.length;n<r;++n){var i=e.elements[n],o=t.elements[n];if(i.unit.id!==o.unit.id)return!1;if(!ln.areEqual(i.indices,o.indices))return!1}return!0},e.isEmpty=t,e.isWholeStructure=function(e){return n(e)===e.structure.elementCount},e.size=n,e.all=function(t){return e(t,t.units.map((function(e){return{unit:e,indices:ln.ofBounds(0,e.elements.length)}})))},e.none=function(t){return e(t,[])},e.getFirstLocation=function(e,n){if(!t(e)){var r=e.elements[0].unit,i=r.elements[ln.getAt(e.elements[0].indices,0)];return n?(n.structure=e.structure,n.unit=e.elements[0].unit,n.element=i,n):ci.create(e.structure,r,i)}},e.firstElement=r,e.firstResidue=function(e){return t(e)?e:o(r(e))},e.firstChain=function(e){return t(e)?e:l(r(e))},e.toStructure=function(e){for(var t=[],n=function(e){var n=e.unit,r=e.indices,i=new Int32Array(ln.size(r));ln.forEach(r,(function(e,t){return i[t]=n.elements[e]})),t.push(n.getChild(an.ofSortedArray(i)))},r=0,i=e.elements;r<i.length;r++){n(i[r])}return dp.create(t,{parent:e.structure.parent})},e.forEachLocation=function(t,n){if(!e.isEmpty(t))for(var r=ci.create(t.structure),i=0,o=t.elements;i<o.length;i++){var a=o[i],u=a.unit,s=a.indices;r.unit=u;for(var c=a.unit.elements,l=0,d=ln.size(s);l<d;l++)r.element=c[ln.getAt(s,l)],n(r)}},e.remap=function(t,n){if(n===t.structure)return t;var r=[];return t.elements.forEach((function(e){if(n.unitMap.has(e.unit.id)){var t=n.unitMap.get(e.unit.id),i=ln.indexedIntersect(e.indices,e.unit.elements,t.elements);ln.size(i)>0&&r.push({unit:t,indices:i})}})),e(n,r)},e.union=function t(n,r){if(n.elements.length>r.elements.length)return t(r,n);if(e.isEmpty(n))return r;for(var i=new Map,o=0,a=n.elements;o<a.length;o++){var u=a[o];i.set(u.unit.id,u.indices)}for(var s=[],c=0,l=r.elements;c<l.length;c++){u=l[c];i.has(u.unit.id)?(s[s.length]={unit:u.unit,indices:ln.union(i.get(u.unit.id),u.indices)},i.delete(u.unit.id)):s[s.length]=u}return i.forEach((function(e,t){s[s.length]={unit:n.structure.unitMap.get(t),indices:e}})),e(n.structure,s)},e.subtract=function(t,n){for(var r=new Map,i=0,o=n.elements;i<o.length;i++){var a=o[i];r.set(a.unit.id,a.indices)}for(var u=[],s=0,c=t.elements;s<c.length;s++){a=c[s];if(r.has(a.unit.id)){var l=ln.subtract(a.indices,r.get(a.unit.id));if(0===ln.size(l))continue;u[u.length]={unit:a.unit,indices:l}}else u[u.length]=a}return e(t.structure,u)},e.intersect=function(t,n){for(var r=new Map,i=0,o=t.elements;i<o.length;i++){var a=o[i];r.set(a.unit.id,a.indices)}for(var u=[],s=0,c=n.elements;s<c.length;s++){a=c[s];if(r.has(a.unit.id)){var l=ln.intersect(r.get(a.unit.id),a.indices);0!==ln.size(l)&&(u[u.length]={unit:a.unit,indices:l})}}return e(t.structure,u)},e.areIntersecting=function t(n,r){if(n.elements.length>r.elements.length)return t(r,n);if(e.isEmpty(n))return e.isEmpty(r);for(var i=new Map,o=0,a=n.elements;o<a.length;o++){var u=a[o];i.set(u.unit.id,u.indices)}for(var s=0,c=r.elements;s<c.length;s++){u=c[s];if(i.has(u.unit.id)&&ln.areIntersecting(i.get(u.unit.id),u.indices))return!0}return!1},e.isSubset=function(t,n){if(e.isEmpty(t))return e.isEmpty(n);for(var r=new Map,i=0,o=t.elements;i<o.length;i++){var a=o[i];r.set(a.unit.id,a.indices)}for(var u=!1,s=0,c=n.elements;s<c.length;s++){a=c[s];if(r.has(a.unit.id)){if(!ln.isSubset(r.get(a.unit.id),a.indices))return!1;u=!0}}return u},e.extendToWholeResidues=o,e.extendToWholeChains=l,e.extendToWholeEntities=function(t){for(var n=[],r=ci.create(t.structure),i=new Set,o=t.structure.units,a=0,u=t.elements.length;a<u;a++){var s=t.elements[a];r.unit=s.unit,r.element=s.unit.elements[0],i.add(d(r))}a=0;for(var c=o.length;a<c;++a){var l=o[a];if(r.unit=l,r.element=l.elements[0],i.has(d(r))){var f=ln.ofBounds(0,l.elements.length);n[n.length]={unit:l,indices:f}}}return e(t.structure,n)},e.extendToWholeModels=function(t){for(var n=[],r=new Set,i=t.structure.units,o=0,a=t.elements.length;o<a;o++){var u=t.elements[o];r.add(u.unit.model.id)}o=0;for(var s=i.length;o<s;++o){var c=i[o];if(r.has(c.model.id)){var l=ln.ofBounds(0,c.elements.length);n[n.length]={unit:c,indices:l}}}return e(t.structure,n)},e.extendToAllInstances=function(t){for(var n=[],r=new Map,i=0,o=t.elements.length;i<o;i++){var a=t.elements[i],u=a.unit.model,s=f(a.unit.elements,a.indices);r.has(u)?r.set(u,an.union(s,r.get(u))):r.set(u,s)}i=0;for(var c=t.structure.units.length;i<c;++i){var l=t.structure.units[i];if(s=r.get(l.model)){var d=p(l.elements,s);ln.size(d)&&(n[n.length]={unit:l,indices:d})}}return e(t.structure,n)},e.extendToWholeOperators=function(t){for(var n=[],r=new Set,i=t.structure.units,o=0,a=t.elements.length;o<a;o++){var u=t.elements[o];r.add(u.unit.conformation.operator.name)}o=0;for(var s=i.length;o<s;++o){var c=i[o];if(r.has(c.conformation.operator.name)){var l=ln.ofBounds(0,c.elements.length);n[n.length]={unit:c,indices:l}}}return e(t.structure,n)};var m=new vs("98"),h=A();e.getBoundary=function(e,t){m.reset();for(var n=0,r=e.elements;n<r.length;n++)for(var i=(f=r[n]).indices,o=f.unit.conformation.position,a=f.unit.conformation.r,u=f.unit.elements,s=0,c=ln.size(i);s<c;s++){o(p=u[ln.getAt(i,s)],h),t&&A.transformMat4(h,h,t),m.includePositionRadius(h,a(p))}m.finishedIncludeStep();for(var l=0,d=e.elements;l<d.length;l++){var f;for(i=(f=d[l]).indices,o=f.unit.conformation.position,a=f.unit.conformation.r,u=f.unit.elements,s=0,c=ln.size(i);s<c;s++){var p;o(p=u[ln.getAt(i,s)],h),t&&A.transformMat4(h,h,t),m.radiusPositionRadius(h,a(p))}}return{box:m.getBox(),sphere:m.getSphere()}};var g=A();function v(e,t,n){void 0===n&&(n=0);for(var r=n,i=0,o=e.elements;i<o.length;i++){for(var a=o[i],u=a.indices,s=a.unit.conformation.position,c=a.unit.elements,l=ln.size(u),d=0;d<l;d++){s(c[ln.getAt(u,d)],g),A.toArray(g,t,r+3*d)}r+=3*l}return t}function y(e,t,n,r,i){de(t);for(var o=[],a=[],u=0,s=t.length;u<s;){var c=u;for(u++;u<s&&t[u-1]+1===t[u];)u++;var l=u;if(l-c>12)o[o.length]=t[c],o[o.length]=t[l-1];else for(var d=c;d<l;d++)a[a.length]=t[d]}return n?{atom:{set:a,ranges:o},chain:{opName:[e]},entity:{modelLabel:r,modelIndex:i}}:{atom:{set:a,ranges:o},chain:{opName:[e]}}}e.toPositionsArray=v,e.getPrincipalAxes=function(e){var t=n(e),r=v(e,new Float32Array(3*t));return hr.ofPositions(r)},e.getPrincipalAxesMany=function(e){var t=0;e.forEach((function(e){t+=n(e)}));var r=new Float32Array(3*t),i=0;return e.forEach((function(e){v(e,r,i),i+=3*n(e)})),hr.ofPositions(r)},e.toExpression=function(t){var n;if(e.isEmpty(t))return Ui.struct.generator.empty();for(var r,i,o=t.structure.models,a=new Map,u=0,s=t.elements;u<s.length;u++){var c=(b=s[u]).indices,l=b.unit.elements,d=b.unit.conformation.operator.name,f=void 0;a.has(d)?f=a.get(d).xs:(f=gi.create(),a.set(d,{modelLabel:b.unit.model.label,modelIndex:b.unit.model.modelNum,xs:f}));for(var p=0,m=ln.size(c);p<m;p++){var h=(r=b.unit,i=l[ln.getAt(c,p)],Ns.isAtomic(r)?r.model.atomicHierarchy.atomSourceIndex.value(i):i);gi.add(f,h,h)}}for(var g=[],v=a.keys();;){var _=v.next();if(_.done)break;var b=a.get(_.value);g.push(y(_.value,b.xs.array,o.length>1,b.modelLabel,b.modelIndex))}for(var x=new Map,A=(p=0,g.length);p<A;++p){var w=g[p],S=ge(_e(w.atom.ranges),_e(w.atom.set));d="".concat(S,"|").concat(w.entity?w.entity.modelLabel+w.entity.modelIndex:"");x.has(d)?(n=x.get(d).chain.opName).push.apply(n,w.chain.opName):x.set(d,w)}var C=[];return x.forEach((function(e){var t=e.atom,n=t.ranges,r=t.set,i=e.chain.opName,o=Ui.struct.atomProperty.core.operatorName(),a=Ui.struct.atomProperty.core.sourceIndex(),u=[];r.length>0&&(u[u.length]=Ui.core.set.has([Ui.core.type.set(r),a]));for(var s=0,c=n.length/2;s<c;s++)u[u.length]=Ui.core.rel.inRange([a,n[2*s],n[2*s+1]]);if(e.entity){var l=e.entity,d=l.modelLabel,f=l.modelIndex;C.push(Ui.struct.generator.atomGroups({"atom-test":u.length>1?Ui.core.logic.or(u):u[0],"chain-test":i.length>1?Ui.core.set.has([Ui.core.type.set(i),o]):Ui.core.rel.eq([o,i[0]]),"entity-test":Ui.core.logic.and([Ui.core.rel.eq([Ui.struct.atomProperty.core.modelLabel(),d]),Ui.core.rel.eq([Ui.struct.atomProperty.core.modelIndex(),f])])}))}else C.push(Ui.struct.generator.atomGroups({"atom-test":u.length>1?Ui.core.logic.or(u):u[0],"chain-test":i.length>1?Ui.core.set.has([Ui.core.type.set(i),o]):Ui.core.rel.eq([o,i[0]])}))})),Ui.struct.modifier.union([1===C.length?C[0]:Ui.struct.combinator.merge(C.map((function(e){return Ui.struct.modifier.union([e])})))])}}(vp||(vp={})),function(e){function t(){return{elementCount:0,conformationCount:0,residueCount:0,chainCount:0,unitCount:0,structureCount:0,firstElementLoc:ci.create(void 0),firstConformationLoc:ci.create(void 0),firstResidueLoc:ci.create(void 0),firstChainLoc:ci.create(void 0),firstUnitLoc:ci.create(void 0),firstStructureLoc:ci.create(void 0)}}function n(e,t,n){var r=e.get(t)||0;e.set(t,r+n)}function r(e,t,r){var i=r.indices,o=r.unit,a=o.elements,u=ln.size(i),s=new Map,c=new Map;if(u>0&&ci.set(e.firstElementLoc,t,o,a[ln.start(i)]),u===a.length)e.unitCount+=1,1===e.unitCount&&ci.set(e.firstUnitLoc,t,o,a[ln.start(i)]);else if(1===u){if(Ns.Traits.is(o.traits,Ns.Trait.MultiChain))return;e.elementCount+=1,1===e.elementCount&&ci.set(e.firstElementLoc,t,o,a[ln.start(i)])}else if(Ns.isAtomic(o))for(var l=o.model.atomicHierarchy.residueAtomSegments,d=l.index,f=l.offsets,p=o.model.atomicHierarchy.atoms.label_alt_id,m=0,h=function(){s.clear();var r=0,l=a[ln.getAt(i,m)],h=d[l];for(n(s,p.value(l),1),++m,++r;m<u;){var g=a[ln.getAt(i,m)];if(d[g]!==h)break;n(s,p.value(g),1),++m,++r}if(f[h+1]-f[h]===r)e.residueCount+=1,1===e.residueCount&&ci.set(e.firstResidueLoc,t,o,f[h]);else{c.clear();for(var v=f[h],y=f[h+1];v<y;++v)n(c,p.value(v),1);c.get("")===s.get("")&&s.forEach((function(n,i){if(c.get(i)===n){if(""!==i&&(e.conformationCount+=1,1===e.conformationCount))for(var a=f[h],u=f[h+1];a<u;++a)if(i===p.value(a)){ci.set(e.firstConformationLoc,t,o,a);break}r-=n}})),e.elementCount+=r}};m<u;)h();else e.elementCount+=u,1===e.elementCount&&ci.set(e.firstElementLoc,t,o,a[ln.start(i)])}function i(e,t,n){var r=n.indices,i=n.unit,o=ln.size(r);if(0!==o){var a=i.elements;if(Ns.Traits.is(i.traits,Ns.Trait.MultiChain)){var u=Ns.isAtomic(i)?i.model.atomicHierarchy.chainAtomSegments:Ns.isSpheres(i)?i.model.coarseHierarchy.spheres.chainElementSegments:Ns.isGaussians(i)?i.model.coarseHierarchy.gaussians.chainElementSegments:void 0;if(u)for(var s=u.index,c=u.offsets,l=0;l<o;){var d=0,f=a[ln.getAt(r,l)],p=s[f];for(++l,++d;l<o;){if(s[a[ln.getAt(r,l)]]!==p)break;++l,++d}c[p+1]-c[p]===d?(e.chainCount+=1,1===e.chainCount&&ci.set(e.firstChainLoc,t,i,c[p])):1===o&&(e.elementCount+=1,1===e.elementCount&&ci.set(e.firstElementLoc,t,i,f))}else console.warn("StructureElement loci stats: unknown unit type")}else o===a.length&&(e.chainCount+=1,1===e.chainCount&&ci.set(e.firstChainLoc,t,i,a[ln.start(r)]))}}function o(e,t,r,i,o){var a=r[i],u=Ns.isAtomic(a.unit)?a.unit.model.atomicHierarchy.chainAtomSegments:Ns.isSpheres(a.unit)?a.unit.model.coarseHierarchy.spheres.chainElementSegments:Ns.isGaussians(a.unit)?a.unit.model.coarseHierarchy.gaussians.chainElementSegments:void 0;if(u){for(var s=u.index,c=u.offsets,l=new Map,d=i;d<o;d++){var f=(a=r[d]).indices,p=a.unit;if(0!==(_=ln.size(f))){var m=p.elements;if(Ns.Traits.is(p.traits,Ns.Trait.MultiChain))for(var h=0;h<_;){var g=0,v=s[b=m[ln.getAt(f,h)]];for(++h,++g;h<_;){if(s[m[ln.getAt(f,h)]]!==v)break;++h,++g}n(l,v,g)}else n(l,s[b=m[ln.start(f)]],m.length)}}var y=-1;if(l.forEach((function(t,n){c[n+1]-c[n]===t&&(e.chainCount+=1,1===e.chainCount&&(y=n))})),!(y<0))for(d=i;d<o;d++){var _;f=(a=r[d]).indices,p=a.unit;if(0!==(_=ln.size(f)))for(m=p.elements,h=0;h<_;){var b;if((v=s[b=m[ln.getAt(f,h)]])===y)return void ci.set(e.firstChainLoc,t,p,b)}}}else console.warn("StructureElement loci stats: unknown unit type")}e.create=t,e.ofLoci=function(e){var n=t();if(vp.isEmpty(e))return n;var a=!1;if(vp.isWholeStructure(e)){if(n.structureCount+=1,1===n.structureCount){var u=e.elements[0],s=u.unit,c=u.indices;ci.set(n.firstStructureLoc,e.structure,s,s.elements[ln.min(c)])}}else for(var l=0,d=e.elements;l<d.length;l++){var f=d[l];r(n,e.structure,f),Ns.Traits.is(f.unit.traits,Ns.Trait.Partitioned)?a=!0:i(n,e.structure,f)}if(a)for(var p=0,m=e.elements.length;p<m;p++){f=e.elements[p];if(Ns.Traits.is(f.unit.traits,Ns.Trait.Partitioned)){for(var h=p;p<m&&Ns.areSameChainOperatorGroup(e.elements[p].unit,f.unit);)p++;var g=p;p--,g-h==1?i(n,e.structure,f):o(n,e.structure,e.elements,h,g)}}return n},e.add=function(e,t,n){return 1===t.elementCount&&0===n.elementCount?ci.copy(e.firstElementLoc,t.firstElementLoc):0===t.elementCount&&1===n.elementCount&&ci.copy(e.firstElementLoc,n.firstElementLoc),1===t.conformationCount&&0===n.conformationCount?ci.copy(e.firstConformationLoc,t.firstConformationLoc):0===t.conformationCount&&1===n.conformationCount&&ci.copy(e.firstConformationLoc,n.firstConformationLoc),1===t.residueCount&&0===n.residueCount?ci.copy(e.firstResidueLoc,t.firstResidueLoc):0===t.residueCount&&1===n.residueCount&&ci.copy(e.firstResidueLoc,n.firstResidueLoc),1===t.chainCount&&0===n.chainCount?ci.copy(e.firstChainLoc,t.firstChainLoc):0===t.chainCount&&1===n.chainCount&&ci.copy(e.firstChainLoc,n.firstChainLoc),1===t.unitCount&&0===n.unitCount?ci.copy(e.firstUnitLoc,t.firstUnitLoc):0===t.unitCount&&1===n.unitCount&&ci.copy(e.firstUnitLoc,n.firstUnitLoc),1===t.structureCount&&0===n.structureCount?ci.copy(e.firstStructureLoc,t.firstStructureLoc):0===t.structureCount&&1===n.structureCount&&ci.copy(e.firstStructureLoc,n.firstStructureLoc),e.elementCount=t.elementCount+n.elementCount,e.conformationCount=t.conformationCount+n.conformationCount,e.residueCount=t.residueCount+n.residueCount,e.chainCount=t.chainCount+n.chainCount,e.unitCount=t.unitCount+n.unitCount,e.structureCount=t.structureCount+n.structureCount,e}}(pp||(pp={})),function(e){function t(e){var t=this,n=e.descriptor.name,r="static"===e.type?"_staticPropertyData":"_dynamicPropertyData",i=function(t){return n in t[r]||(t[r][n]={props:Object(T.a)({},bd.getDefaultValues(e.getParams(t))),data:Fe.create(void 0)}),t[r][n]},o=function(e,t,o){var a=i(e);e[r][n]={props:t,data:Fe.withValue(a.data,o)}};return{label:e.label,descriptor:e.descriptor,isHidden:e.isHidden,getParams:function(t){var n=bd.clone(e.getParams(t));return bd.setDefaultValues(n,i(t).props),n},defaultParams:e.defaultParams,isApplicable:e.isApplicable,attach:function(n,r,a,u){return void 0===a&&(a={}),Object(T.b)(t,void 0,void 0,(function(){var t,s,c,l,d;return Object(T.d)(this,(function(f){switch(f.label){case 0:return u&&r.customProperties.reference(e.descriptor,!0),t=i(r),s=bd.merge(e.defaultParams,t.props,a),t.data.value&&bd.areEqual(e.defaultParams,t.props,s)?[2]:[4,e.obtain(n,r,s)];case 1:return c=f.sent(),l=c.value,d=c.assets,r.customProperties.add(e.descriptor),r.customProperties.assets(e.descriptor,d),o(r,s,l),[2]}}))}))},ref:function(t,n){return t.customProperties.reference(e.descriptor,n)},get:function(e){var t;return null===(t=i(e))||void 0===t?void 0:t.data},set:function(t,n,r){void 0===n&&(n={});var a=i(t),u=bd.merge(e.defaultParams,a.props,n);bd.areEqual(e.defaultParams,a.props,u)||(o(t,u,r),t.customProperties.assets(e.descriptor))},props:function(e){return i(e).props}}}e.createProvider=t,e.createSimple=function(e,n,r){var i=this,o={value:bd.Value(r,{isHidden:!0})};return t({label:Zi(e),descriptor:Br({name:e}),isHidden:!0,type:n,defaultParams:o,getParams:function(){return{value:bd.Value(r,{isHidden:!0})}},isApplicable:function(){return!0},obtain:function(e,t,n){return Object(T.b)(i,void 0,void 0,(function(){return Object(T.d)(this,(function(e){return[2,Object(T.a)(Object(T.a)({},bd.getDefaultValues(o)),n)]}))}))}})}}(mp||(mp={})),function(e){var t=this;function n(e){if(!Bl.is(e.sourceData))return!1;var t=e.sourceData.data.db.atom_site,n=t.pdbx_sifts_xref_db_name,r=t.pdbx_sifts_xref_db_acc,i=t.pdbx_sifts_xref_db_num,o=t.pdbx_sifts_xref_db_res;return n.isDefined&&r.isDefined&&i.isDefined&&o.isDefined}function r(e){if(Bl.is(e.sourceData)){var t=e.sourceData.data.db.atom_site,n=t.pdbx_sifts_xref_db_name,r=t.pdbx_sifts_xref_db_acc,i=t.pdbx_sifts_xref_db_num,o=t.pdbx_sifts_xref_db_res;if(n.isDefined&&r.isDefined&&i.isDefined&&o.isDefined){for(var a=e.atomicHierarchy.atomSourceIndex,u=e.atomicHierarchy.residueAtomSegments,s=u.count,c=u.offsets,l=new Array(s),d=new Array(s),f=new Array(s),p=new Array(s),m=0;m<s;m++){var h=a.value(c[m]);0===n.valueKind(h)?(l[m]=n.value(h),d[m]=r.value(h),f[m]=i.value(h),p[m]=o.value(h)):(l[m]="",d[m]="",f[m]="",p[m]="")}return{dbName:l,accession:d,num:f,residue:p}}}}e.Provider=mp.createProvider({label:"SIFTS Mapping",descriptor:Br({name:"sifts_sequence_mapping"}),type:"static",defaultParams:{},getParams:function(){return{}},isApplicable:function(e){return n(e)},obtain:function(e,n){return Object(T.b)(t,void 0,void 0,(function(){return Object(T.d)(this,(function(e){return[2,{value:r(n)}]}))}))}}),e.isAvailable=n,e.getKey=function(t){var n=t.unit.model,r=e.Provider.get(n).value;if(!r)return"";var i=n.atomicHierarchy.residueAtomSegments.index[t.element];return r.accession[i]},e.getLabel=function(t){var n=t.unit.model,r=e.Provider.get(n).value;if(r){var i=n.atomicHierarchy.residueAtomSegments.index[t.element],o=r.dbName[i];if(o)return"".concat(o," ").concat(r.accession[i]," ").concat(r.num[i]," ").concat(r.residue[i])}}}(hp||(hp={}));bu.Field;var Cp=bu.Encodings;function Bp(e){var t=$d.chain.label_asym_id(e),n=e.unit.conformation.operator.suffix;return n?t+n:t}function Pp(e){var t=$d.chain.auth_asym_id(e),n=e.unit.conformation.operator.suffix;return n?t+n:t}var Ip={shouldInclude:function(e){var t;return!!(null===(t=e.atom_site)||void 0===t?void 0:t.pdbx_label_index.isDefined)},value:function(e,t){var n=t.sourceIndex.value(e.element);return t.atom_site.pdbx_label_index.value(n)}},Ep={shouldInclude:function(e){return hp.isAvailable(e.structure.models[0])},pdbx_sifts_xref_db_name:{value:function(e,t){var n=t.sourceIndex.value(e.element);return t.atom_site.pdbx_sifts_xref_db_name.value(n)},valueKind:function(e,t){var n=t.sourceIndex.value(e.element);return t.atom_site.pdbx_sifts_xref_db_name.valueKind(n)}},pdbx_sifts_xref_db_acc:{value:function(e,t){var n=t.sourceIndex.value(e.element);return t.atom_site.pdbx_sifts_xref_db_acc.value(n)},valueKind:function(e,t){var n=t.sourceIndex.value(e.element);return t.atom_site.pdbx_sifts_xref_db_acc.valueKind(n)}},pdbx_sifts_xref_db_num:{value:function(e,t){var n=t.sourceIndex.value(e.element);return t.atom_site.pdbx_sifts_xref_db_num.value(n)},valueKind:function(e,t){var n=t.sourceIndex.value(e.element);return t.atom_site.pdbx_sifts_xref_db_num.valueKind(n)}},pdbx_sifts_xref_db_res:{value:function(e,t){var n=t.sourceIndex.value(e.element);return t.atom_site.pdbx_sifts_xref_db_res.value(n)},valueKind:function(e,t){var n=t.sourceIndex.value(e.element);return t.atom_site.pdbx_sifts_xref_db_res.valueKind(n)}}},Mp={name:"atom_site",instance:function(e){var t=e.structures;return{fields:bu.fields().str("group_PDB",$d.residue.group_PDB).index("id").str("type_symbol",$d.atom.type_symbol).str("label_atom_id",$d.atom.label_atom_id).str("label_comp_id",$d.atom.label_comp_id).int("label_seq_id",$d.residue.label_seq_id,{encoder:Cp.deltaRLE,valueKind:function(e,t){var n=e.unit.model;return n.atomicHierarchy.residues.label_seq_id.valueKind(n.atomicHierarchy.residueAtomSegments.index[e.element])}}).str("label_alt_id",$d.atom.label_alt_id).str("pdbx_PDB_ins_code",$d.residue.pdbx_PDB_ins_code).str("label_asym_id",Bp).str("label_entity_id",$d.chain.label_entity_id).float("Cartn_x",$d.atom.x,{digitCount:3,encoder:Cp.fixedPoint3}).float("Cartn_y",$d.atom.y,{digitCount:3,encoder:Cp.fixedPoint3}).float("Cartn_z",$d.atom.z,{digitCount:3,encoder:Cp.fixedPoint3}).float("occupancy",$d.atom.occupancy,{digitCount:2,encoder:Cp.fixedPoint2}).float("B_iso_or_equiv",$d.atom.B_iso_or_equiv,{digitCount:2,encoder:Cp.fixedPoint2}).int("pdbx_formal_charge",$d.atom.pdbx_formal_charge,{encoder:Cp.deltaRLE,valueKind:function(e,t){return e.unit.model.atomicHierarchy.atoms.pdbx_formal_charge.valueKind(e.element)}}).str("auth_atom_id",$d.atom.auth_atom_id).str("auth_comp_id",$d.atom.auth_comp_id).int("auth_seq_id",$d.residue.auth_seq_id,{encoder:Cp.deltaRLE}).str("auth_asym_id",Pp).int("pdbx_PDB_model_num",$d.unit.model_num,{encoder:Cp.deltaRLE}).int("pdbx_label_index",Ip.value,{shouldInclude:Ip.shouldInclude}).str("pdbx_sifts_xref_db_name",Ep.pdbx_sifts_xref_db_name.value,{shouldInclude:Ep.shouldInclude,valueKind:Ep.pdbx_sifts_xref_db_name.valueKind}).str("pdbx_sifts_xref_db_acc",Ep.pdbx_sifts_xref_db_acc.value,{shouldInclude:Ep.shouldInclude,valueKind:Ep.pdbx_sifts_xref_db_acc.valueKind}).str("pdbx_sifts_xref_db_num",Ep.pdbx_sifts_xref_db_num.value,{shouldInclude:Ep.shouldInclude,valueKind:Ep.pdbx_sifts_xref_db_num.valueKind}).str("pdbx_sifts_xref_db_res",Ep.pdbx_sifts_xref_db_res.value,{shouldInclude:Ep.shouldInclude,valueKind:Ep.pdbx_sifts_xref_db_res.valueKind}).getFields(),source:t.map((function(e){return{data:{structure:e,sourceIndex:e.model.atomicHierarchy.atomSourceIndex,atom_site:Bl.is(e.model.sourceData)?e.model.sourceData.data.db.atom_site:void 0},rowCount:e.elementCount,keys:function(){return e.elementLocations()}}}))}}};function kp(e,t){return e?"".concat(e,"_").concat(t):t}function Dp(e){return e?"pdbx_".concat(e,"_PDB_ins_code"):"pdbx_PDB_ins_code"}function Op(e,t){return function(n,r){return t(e(n,r))}}function Np(e,t,n){n&&n.includeModelNum&&e.int("pdbx_PDB_model_num",Op(t,$d.unit.model_num))}function Tp(e,t){var n=t&&t.prefix,r=bu.fields().str(kp(n,"label_comp_id"),Op(e,$d.atom.label_comp_id)).int(kp(n,"label_seq_id"),Op(e,$d.residue.label_seq_id),{encoder:Cp.deltaRLE,valueKind:function(t,n){var r=e(t,n),i=r.unit.model;return i.atomicHierarchy.residues.label_seq_id.valueKind(i.atomicHierarchy.residueAtomSegments.index[r.element])}}).str(Dp(n),Op(e,$d.residue.pdbx_PDB_ins_code)).str(kp(n,"label_asym_id"),Op(e,$d.chain.label_asym_id)).str(kp(n,"label_entity_id"),Op(e,$d.chain.label_entity_id)).str(kp(n,"auth_comp_id"),Op(e,$d.atom.auth_comp_id)).int(kp(n,"auth_seq_id"),Op(e,$d.residue.auth_seq_id),{encoder:Cp.deltaRLE}).str(kp(n,"auth_asym_id"),Op(e,$d.chain.auth_asym_id));return Np(r,e,t),r.getFields()}var Rp=bu.Field,Up={name:"struct_conf",instance:function(e){var t=jp(e,"helix");return{fields:qp(),source:[{data:t,rowCount:t.length}]}}},Lp={name:"struct_sheet_range",instance:function(e){var t=jp(e,"sheet").sort(Gp);return{fields:Fp(),source:[{data:t,rowCount:t.length}]}}};function Gp(e,t){var n=e.element,r=t.element;return n.sheet_id<r.sheet_id?-1:n.sheet_id===r.sheet_id?e.start.element-t.start.element:1}var qp=function(){return Object(T.e)(Object(T.e)(Object(T.e)([Rp.str("conf_type_id",(function(e,t){return t[e].element.type_id})),Rp.str("id",(function(e,t,n){return"".concat(t[e].element.type_id).concat(n+1)}))],Tp((function(e,t){return t[e].start}),{prefix:"beg"}),!0),Tp((function(e,t){return t[e].end}),{prefix:"end"}),!0),[Rp.str("pdbx_PDB_helix_class",(function(e,t){return t[e].element.helix_class})),Rp.str("details",(function(e,t){return t[e].element.details||""}),{valueKind:function(e,t){return t[e].element.details?0:2}}),Rp.int("pdbx_PDB_helix_length",(function(e,t){return t[e].length}))],!1)},Fp=function(){return Object(T.e)(Object(T.e)(Object(T.e)([Rp.str("sheet_id",(function(e,t){return t[e].element.sheet_id})),Rp.index("id")],Tp((function(e,t){return t[e].start}),{prefix:"beg"}),!0),Tp((function(e,t){return t[e].end}),{prefix:"end"}),!0),[Rp.str("symmetry",(function(e,t){return""}),{valueKind:function(e,t){return 2}})],!1)};function jp(e,t){var n=dl.Provider.get(e.firstModel);if(!n)return[];for(var r=n.key,i=n.elements,o=[],a=e.structures[0],u=0,s=a.unitSymmetryGroups;u<s.length;u++){var c=s[u].units[0];if(Ns.isAtomic(c))for(var d=c.model.atomicHierarchy.residueAtomSegments,f=Kn.transientSegments(d,c.elements),p=void 0,m=!0;f.hasNext;){m&&(p=f.move());var h=p.index,g=r[h],v=i[g];if(v.kind===t){for(var y=h;f.hasNext;)if(y=p.index,g!==r[(p=f.move()).index]){m=!1,o[o.length]={start:l.Location.create(a,c,d.offsets[h]),end:l.Location.create(a,c,d.offsets[y]),length:y-h+1,element:v};break}}else m=!0}}return o}function Hp(e,t){if(Bl.is(e.sourceData))return e.sourceData.data.db[t]}function Vp(e){return mo.unionMany.apply(mo,e.map((function(e){return e.uniqueResidueNames})))}function zp(e){if(0===e.length)return[];if(1===e.length)return e[0].entityIndices;for(var t=gi.create(),n=0,r=e;n<r.length;n++)for(var i=0,o=r[n].entityIndices;i<o.length;i++){var a=o[i];gi.add(t,a,a)}return de(t.array),t.array}function Yp(e,t){return{name:e,instance:function(n){var r=n.structures;if(t&&!t(r[0]))return bu.Category.Empty;var i=r[0].model;if(!Bl.is(i.sourceData))return bu.Category.Empty;var o=i.sourceData.data.db[e];return o&&o._rowCount?bu.Category.ofTable(o):bu.Category.Empty}}}var Kp=bu.Category,Zp={name:"chem_comp",instance:function(e){e.firstModel;var t=e.structures,n=e.cache,r=Hp(t[0].model,"chem_comp");if(!r)return Kp.Empty;var i=r.id,o=n.uniqueResidueNames||(n.uniqueResidueNames=Vp(t)),a=Ee.indicesOf(i,(function(e){return o.has(e)}));return Kp.ofTable(r,a)}},Wp={name:"chem_comp_bond",instance:function(e){e.firstModel;var t=e.structures,n=e.cache,r=Hp(t[0].model,"chem_comp_bond");if(!r)return Kp.Empty;var i=r.comp_id,o=n.uniqueResidueNames||(n.uniqueResidueNames=Vp(t)),a=Ee.indicesOf(i,(function(e){return o.has(e)}));return Kp.ofTable(r,a)}},Xp={name:"pdbx_chem_comp_identifier",instance:function(e){var t=e.firstModel,n=e.structures,r=e.cache,i=Hp(t,"pdbx_chem_comp_identifier");if(!i)return Kp.Empty;var o=i.comp_id,a=r.uniqueResidueNames||(r.uniqueResidueNames=Vp(n)),u=Ee.indicesOf(o,(function(e){return a.has(e)}));return Kp.ofTable(i,u)}},Qp={name:"pdbx_nonpoly_scheme",instance:function(e){var t=e.firstModel,n=(e.structures,e.cache,Hp(t,"pdbx_nonpoly_scheme"));return n?Kp.ofTable(n):Kp.Empty}},Jp=bu.Category,$p=nm("struct_asym"),em=nm("entity_poly"),tm=nm("entity_poly_seq");function nm(e){return{name:e,instance:function(t){var n=t.structures,r=t.cache;return function(e,t,n){var r=Hp(e[0].model,t);if(!r)return Jp.Empty;var i=r.entity_id,o=n.uniqueEntityIds||(n.uniqueEntityIds=function(e){if(0===e.length)return new Set;var t=e[0].model.entities.data.id;return new Set(zp(e).map((function(e){return t.value(e)})))}(e)),a=Ee.indicesOf(i,(function(e){return o.has(e)}));return Jp.ofTable(r,a)}(n,e,r)}}}var rm,im=bu.Category;!function(e){e.create=function(e){var t=Array.isArray(e)?e:[e];return{structures:t,firstModel:t[0].model,cache:Object.create(null)}}}(rm||(rm={}));var om={name:"entity",instance:function(e){var t=e.structures,n=zp(t);return im.ofTable(t[0].model.entities.data,n)}};function am(e){return e.units.every((function(e){return e.conformation.operator.isIdentity}))}function um(e){return am(e)&&e.units.every((function(e){return!e.conformation.operator.assembly&&!e.conformation.operator.suffix}))}var sm;Yp("entry"),Yp("exptl"),Yp("cell",am),Yp("symmetry",am),Yp("pdbx_struct_assembly",um),Yp("pdbx_struct_assembly_gen",um),Yp("pdbx_struct_oper_list",um),Yp("pdbx_entity_branch"),Yp("pdbx_entity_branch_link"),Yp("pdbx_branch_scheme"),Yp("struct_conn"),Yp("atom_sites");!function(e){e.AtomSitePositionsFieldNames=new Set(["id","Cartn_x","Cartn_y","Cartn_z"])}(sm||(sm={}));var cm={molstar_atom_site_operator_mapping:{label_asym_id:Ee.Schema.Str(),auth_asym_id:Ee.Schema.Str(),operator_name:Ee.Schema.Str(),suffix:Ee.Schema.Str(),assembly_id:Ee.Schema.Str(),assembly_operator_id:Ee.Schema.Int(),symmetry_operator_index:Ee.Schema.Int(),symmetry_hkl:Ee.Schema.Vector(3),ncs_id:Ee.Schema.Int()}},lm=function(e,t){return void 0===t[e].operator.assembly?1:0},dm=function(e,t){return-1===t[e].operator.spgrOp?1:0};bu.fields().str("label_asym_id",(function(e,t){return t[e].label_asym_id})).str("auth_asym_id",(function(e,t){return t[e].auth_asym_id})).str("operator_name",(function(e,t){return t[e].operator.name})).str("suffix",(function(e,t){return t[e].operator.suffix})).str("assembly_id",(function(e,t){var n;return(null===(n=t[e].operator.assembly)||void 0===n?void 0:n.id)||""}),{valueKind:lm}).int("assembly_operator_id",(function(e,t){var n;return(null===(n=t[e].operator.assembly)||void 0===n?void 0:n.operId)||0}),{valueKind:lm}).int("symmetry_operator_index",(function(e,t){return t[e].operator.spgrOp}),{valueKind:dm}).vec("symmetry_hkl",[function(e,t){return t[e].operator.hkl[0]},function(e,t){return t[e].operator.hkl[1]},function(e,t){return t[e].operator.hkl[2]}],{valueKind:dm}).int("ncs_id",(function(e,t){return t[e].operator.ncsId}),{valueKind:dm}).getFields();function fm(e,t){return t?1===t.length?ve(t.charCodeAt(0),e):2===t.length?ve(t.charCodeAt(0),ve(t.charCodeAt(1),e)):"".concat(e," ").concat(t):e}function pm(e,t,n,r){if(e.has(t)){(i=e.get(t)).has(n)||i.set(n,r)}else{var i=new Map;e.set(t,i),i.set(n,r)}}function mm(e){throw new Error("Missing entity entry for entity id '".concat(e,"'."))}var hm=Cc.EmptyResidueKey(),gm=function(){function e(e){this.map=e,this.entityIndex=e.entities.getEntityIndex,this.residueOffsets=this.map.segments.residueAtomSegments.offsets}return e.prototype.getEntityFromChain=function(e){return this.map.chain_index_entity_index[e]},e.prototype.findEntity=function(e){var t=this.map.label_asym_id.get(e);return void 0!==t?t:-1},e.prototype.findChainLabel=function(e){var t=this.entityIndex(e.label_entity_id);if(t<0||!this.map.entity_index_label_asym_id.has(t))return-1;var n=this.map.entity_index_label_asym_id.get(t);return n&&n.has(e.label_asym_id)?n.get(e.label_asym_id):-1},e.prototype.findChainAuth=function(e){if(!this.map.auth_asym_id_auth_seq_id.has(e.auth_asym_id))return-1;var t=this.map.auth_asym_id_auth_seq_id.get(e.auth_asym_id);return t.has(e.auth_seq_id)?t.get(e.auth_seq_id):-1},e.prototype.findResidue=function(e,t,n,r){var i;1===arguments.length?i=e:(hm.label_entity_id=e,hm.label_asym_id=t,hm.auth_seq_id=n,hm.pdbx_PDB_ins_code=r,i=hm);var o=this.findChainLabel(i);if(o<0)return-1;var a=this.map.chain_index_auth_seq_id.get(o),u=fm(i.auth_seq_id,i.pdbx_PDB_ins_code||"");return a.has(u)?a.get(u):-1},e.prototype.findResidueLabel=function(e){var t=this.findChainLabel(e);if(t<0)return-1;var n=this.map.chain_index_label_seq_id.get(t),r=fm(e.label_seq_id,e.pdbx_PDB_ins_code||"");return n.has(r)?n.get(r):-1},e.prototype.findResidueAuth=function(e){var t=this.findChainAuth(e);if(t<0)return-1;var n=this.map.chain_index_auth_seq_id.get(t),r=fm(e.auth_seq_id,e.pdbx_PDB_ins_code||"");return n.has(r)?n.get(r):-1},e.prototype.findResidueInsertion=function(e){var t=this.findChainLabel(e);if(t<0)return-1;var n=this.map.chain_index_label_seq_id.get(t),r=fm(e.label_seq_id,e.pdbx_PDB_ins_code||"");if(n.has(r))return n.get(r);var i=an.findPredecessorIndex(this.map.label_seq_id,e.label_seq_id),o=Bc.chainStartResidueIndex(this.map.segments,t);if(i<o)return o;var a=Bc.chainEndResidueIndexExcl(this.map.segments,t)-1;return i>=a?a:i},e.prototype.findAtom=function(e){var t=this.findResidue(e);return t<0?-1:void 0===e.label_alt_id?vm(this.residueOffsets[t],this.residueOffsets[t+1],this.map.label_atom_id,e.label_atom_id):ym(this.residueOffsets[t],this.residueOffsets[t+1],this.map.label_atom_id,this.map.label_alt_id,e.label_atom_id,e.label_alt_id)},e.prototype.findAtomAuth=function(e){var t=this.findResidueAuth(e);return t<0?-1:void 0===e.label_alt_id?vm(this.residueOffsets[t],this.residueOffsets[t+1],this.map.auth_atom_id,e.auth_atom_id):ym(this.residueOffsets[t],this.residueOffsets[t+1],this.map.auth_atom_id,this.map.label_alt_id,e.auth_atom_id,e.label_alt_id)},e.prototype.findAtomOnResidue=function(e,t,n){return void 0===n?vm(this.residueOffsets[e],this.residueOffsets[e+1],this.map.label_atom_id,t):ym(this.residueOffsets[e],this.residueOffsets[e+1],this.map.label_atom_id,this.map.label_alt_id,t,n)},e.prototype.findAtomsOnResidue=function(e,t){return function(e,t,n,r){for(var i=e;i<t;i++)if(r.has(n.value(i)))return i;return-1}(this.residueOffsets[e],this.residueOffsets[e+1],this.map.label_atom_id,t)},e.prototype.findElementOnResidue=function(e,t){return function(e,t,n,r){for(var i=e;i<t;i++)if(n.value(i)===r)return i;return-1}(this.residueOffsets[e],this.residueOffsets[e+1],this.map.type_symbol,t)},e}();function vm(e,t,n,r){for(var i=e;i<t;i++)if(n.value(i)===r)return i;return-1}function ym(e,t,n,r,i,o){for(var a=e;a<t;a++)if(n.value(a)===i&&r.value(a)===o)return a;return-1}function _m(e,t,n){for(var r=function(e,t,n){return{entities:e,segments:n,label_seq_id:an.ofSortedArray(t.residues.label_seq_id.toArray({array:Int32Array})),label_atom_id:t.atoms.label_atom_id,auth_atom_id:t.atoms.auth_atom_id,label_alt_id:t.atoms.label_alt_id,type_symbol:t.atoms.type_symbol,chain_index_entity_index:new Int32Array(t.chains._rowCount),entity_index_label_asym_id:new Map,chain_index_label_seq_id:new Map,auth_asym_id_auth_seq_id:new Map,chain_index_auth_seq_id:new Map,label_asym_id:new Map}}(t,e,n),i=e.residues,o=i.label_seq_id,a=i.auth_seq_id,u=i.pdbx_PDB_ins_code,s=e.chains,c=s.label_entity_id,l=s.label_asym_id,d=s.auth_asym_id,f=gt.ofBounds(0,e.atoms._rowCount),p=Kn.transientSegments(n.chainAtomSegments,f);p.hasNext;){var m=p.move(),h=m.index,g=t.getEntityIndex(c.value(h));g<0&&mm(c.value(h)),r.chain_index_entity_index[h]=g;var v=d.value(h),y=r.auth_asym_id_auth_seq_id.get(v);y||(y=new Map,r.auth_asym_id_auth_seq_id.set(v,y));var _=l.value(h);r.label_asym_id.has(_)||r.label_asym_id.set(_,g),pm(r.entity_index_label_asym_id,g,_,h);var b=new Map,x=new Map;r.chain_index_label_seq_id.set(h,b),r.chain_index_auth_seq_id.set(h,x);for(var A=Kn.transientSegments(n.residueAtomSegments,f,m);A.hasNext;){var w=A.move().index,S=a.value(w),C=u.value(w);b.set(fm(o.value(w),C),w),x.set(fm(S,C),w),y.set(S,h)}}return new gm(r)}function bm(e,t,n,r,i,o){var a,u,s=function(e){if(0===e._rowCount)return{residues:[],chains:[]};for(var t=e._rowCount,n=[0],r=[0],i=e.label_entity_id,o=e.label_asym_id,a=e.label_seq_id,u=e.auth_seq_id,s=e.pdbx_PDB_ins_code,c=1;c<t;c++){var l=!i.areValuesEqual(c-1,c)||!o.areValuesEqual(c-1,c);(l||!a.areValuesEqual(c-1,c)||!u.areValuesEqual(c-1,c)||!s.areValuesEqual(c-1,c))&&(n[n.length]=c),l&&(r[r.length]=c)}return{residues:n,chains:r}}(e),c=function(e,t,n){var r=Ze.ofColumns(sl,{type_symbol:Ee.ofArray({array:Ee.mapToArray(e.type_symbol,xo),schema:Ee.Schema.Aliased(Ee.Schema.str)}),label_atom_id:e.label_atom_id,auth_atom_id:e.auth_atom_id,label_alt_id:e.label_alt_id,label_comp_id:e.label_comp_id,auth_comp_id:e.auth_comp_id,pdbx_formal_charge:e.pdbx_formal_charge}),i=Ze.view(e,cl,n.residues),o=Ze.view(e,ll,n.chains);if(!i.label_seq_id.isDefined){for(var a=new Int32Array(i.label_seq_id.rowCount),u=n.residues,s=n.chains,c=0,l=0,d=0,f=a.length;d<f;++d)u[d]>=s[c+1]&&(c+=1,l=0),a[d]=++l;i.label_seq_id=Ee.ofIntArray(a)}return Ze.columnToArray(i,"label_seq_id",Int32Array),Ze.columnToArray(i,"auth_seq_id",Int32Array),{atoms:r,residues:i,chains:o,atomSourceIndex:t}}(e,t,s),l=function(e,t){var n=new Map;if(!Bl.is(t))return n;var r=oi(cm,t.data.frame).molstar_atom_site_operator_mapping;if(0===r._rowCount)return n;for(var i=new Map,o=new Map,a=0;a<r._rowCount;a++){var u=0===r.assembly_operator_id.valueKind(a)?{id:r.assembly_id.value(a),operList:[],operId:r.assembly_operator_id.value(a)}:void 0,s=L.create(r.operator_name.value(a),P.identity(),{assembly:u,spgrOp:0===r.symmetry_operator_index.valueKind(a)?r.symmetry_operator_index.value(a):void 0,hkl:A.ofArray(r.symmetry_hkl.value(a)),ncsId:r.ncs_id.value(a)}),c=r.suffix.value(a),l=r.label_asym_id.value(a);i.set("".concat(l).concat(c),{name:l,operator:s});var d=r.auth_asym_id.value(a);o.set("".concat(d).concat(c),d)}var f=e.chains,p=f.label_asym_id,m=f.auth_asym_id,h=new Array(p.rowCount),g=new Array(p.rowCount);for(a=0;a<p.rowCount;a++){l=p.value(a),d=m.value(a);if(i.has(l)){var v=i.get(l),y=v.name;s=v.operator;n.set(a,s),h[a]=y,g[a]=o.get(d)||d}else h[a]=l,g[a]=d}return e.chains.label_asym_id=Ee.ofArray({array:h,valueKind:e.chains.label_asym_id.valueKind,schema:e.chains.label_asym_id.schema}),e.chains.auth_asym_id=Ee.ofArray({array:g,valueKind:e.chains.auth_asym_id.valueKind,schema:e.chains.auth_asym_id.schema}),n}(c,i);if(o&&(a=o.atomicHierarchy,u=c,Ze.areEqual(a.chains,u.chains)&&Ze.areEqual(a.residues,u.residues)&&Ze.areEqual(a.atoms,u.atoms)))return{sameAsPrevious:!0,hierarchy:o.atomicHierarchy,chainOperatorMapping:l};var d={residueAtomSegments:Kn.ofOffsets(s.residues,gt.ofBounds(0,e._rowCount)),chainAtomSegments:Kn.ofOffsets(s.chains,gt.ofBounds(0,e._rowCount))},f=_m(c,n,d),p=function(e,t,n,r){for(var i=e.atoms,o=i.label_comp_id,a=i.type_symbol,u=i._rowCount,s=e.residues._rowCount,c=t.residueAtomSegments.offsets,l=new Uint8Array(u),d=0;d<u;++d)l[d]=hl(a.value(d));var f=new Int32Array(s),p=new Int32Array(s),m=new Int32Array(s),h=new Uint8Array(s),g=new Uint8Array(s),v=new Map,y=new Map;for(d=0;d<s;++d){var _=o.value(c[d]),b=r,x=void 0,A=void 0;if(v.has(_))x=v.get(_),A=y.get(_);else{var w=void 0;b.has(_)?w=b.get(_).type:(Nr.a||console.info("chemComp not found",_),w=Xo(_)),A=Wo(w,x=Zo(w,_)),v.set(_,x),y.set(_,A)}h[d]=x,g[d]=A;var S=ns(A,"trace"),C=n.findAtomsOnResidue(d,S);if(-1===C){var B=ns(A,"coarseBackbone");-1===(C=n.findAtomsOnResidue(d,B))&&$o(x)&&(C=n.findElementOnResidue(d,xo("C")))}f[d]=C;var P=ns(A,"directionFrom");p[d]=n.findAtomsOnResidue(d,P);var I=ns(A,"directionTo");m[d]=n.findAtomsOnResidue(d,I)}return{atom:{atomicNumber:l},residue:{traceElementIndex:f,directionFromElementIndex:p,directionToElementIndex:m,moleculeType:h,polymerType:g}}}(c,d,f,r);return{sameAsPrevious:!1,hierarchy:Object(T.a)(Object(T.a)(Object(T.a)({},c),d),{index:f,derived:p}),chainOperatorMapping:l}}function xm(e,t,n,r,i,o){var a=bm(e,t,n,r,i,o),u=a.sameAsPrevious,s=a.hierarchy,c=a.chainOperatorMapping;return{sameAsPrevious:u,hierarchy:s,conformation:function(e){return{id:Le.a.create22(),atomId:e.id,occupancy:e.occupancy.isDefined?e.occupancy:Ee.ofConst(1,e._rowCount,Ee.Schema.float),B_iso_or_equiv:e.B_iso_or_equiv,xyzDefined:e.Cartn_x.isDefined&&e.Cartn_y.isDefined&&e.Cartn_z.isDefined,x:e.Cartn_x.toArray({array:Float32Array}),y:e.Cartn_y.toArray({array:Float32Array}),z:e.Cartn_z.toArray({array:Float32Array})}}(e),chainOperatorMapping:c}}var Am,wm={chainKey:[],entityKey:[],findSequenceKey:function(){return-1},findChainKey:function(){return-1},getEntityFromChain:function(){return-1},count:0,entity_id:Ee.Undefined(0,Ee.Schema.str),asym_id:Ee.Undefined(0,Ee.Schema.str),seq_id_begin:Ee.Undefined(0,Ee.Schema.int),seq_id_end:Ee.Undefined(0,Ee.Schema.int),chainElementSegments:Kn.create([]),polymerRanges:us.ofSortedRanges([]),gapRanges:us.ofSortedRanges([])};function Sm(e,t,n){if(e.has(t))return e.get(t);var r=n.index++;return e.set(t,r),r}function Cm(e,t){if(e.has(t))return e.get(t);var n=new Map;return e.set(t,n),n}function Bm(e){throw new Error("Missing entity entry for entity id '".concat(e,"'."))}function Pm(e,t){for(var n=e.entity_id,r=e.asym_id,i=e.seq_id_begin,o=e.seq_id_end,a=e.count,u=e.chainElementSegments,s=new Map,c=new Map,l={index:0},d=new Int32Array(a),f=new Int32Array(a),p=new Int32Array(u.count),m=0;m<a;m++)f[m]=t.getEntityIndex(n.value(m)),f[m]<0&&Bm(n.value(m));for(var h=0;h<u.count;h++){var g=u.offsets[h],v=u.offsets[h+1],y=f[g];p[h]=y;var _=Sm(Cm(c,y),r.value(g),l);for(m=g;m<v;m++)d[m]=_;var b=[],x=[];for(m=g;m<v;m++){var A=i.value(m),w=o.value(m);b.push(m),x.push(A,w)}var S={elementIndices:b,seqRanges:us.ofSortedRanges(x)};s.set(_,S)}var C=function(e,t,n){var r=e.getEntityIndex;return{findChainKey:function(e,n){var i=r(e);if(i<0)return-1;var o=t.get(i);return o.has(n)?o.get(n):-1},findSequenceKey:function(e,i,o){var a=r(e);if(a<0)return-1;var u=t.get(a);if(void 0===u)return-1;var s=u.get(i);if(void 0===s)return-1;var c=n.get(s),l=c.elementIndices,d=c.seqRanges,f=us.firstIntersectionIndex(d,ln.ofSingleton(o));return-1!==f?l[f]:-1}}}(t,c,s),B=C.findChainKey;return{chainKey:d,entityKey:f,findSequenceKey:C.findSequenceKey,findChainKey:B,getEntityFromChain:function(e){return p[e]}}}function Im(e,t){for(var n=[],r=[],i=Kn.transientSegments(e.chainElementSegments,gt.ofBounds(0,e.count)),o=e.seq_id_begin,a=e.seq_id_end;i.hasNext;)for(var u=i.move(),s=u.start,c=u.end,l=-1,d=-1,f=s;f<c;++f){var p=a.value(f);f===s?(l=f,d=a.value(f)):o.value(f)-d>1&&(n.push(l,f-1),r.push(f-1,f),l=f),f===c-1&&n.push(l,f),d=p}return{polymerRanges:us.ofSortedRanges(n),gapRanges:us.ofSortedRanges(r)}}!function(e){e.Empty={isDefined:!1,spheres:wm,gaussians:wm}}(Am||(Am={}));var Em={hierarchy:Am.Empty,conformation:void 0};function Mm(e,t){var n=e.ihm_sphere_obj_site,r=e.ihm_gaussian_obj_site;if(0===n._rowCount&&0===r._rowCount)return Em;var i=km(n),o=function(e){return{x:e.Cartn_x.toArray({array:Float32Array}),y:e.Cartn_y.toArray({array:Float32Array}),z:e.Cartn_z.toArray({array:Float32Array}),radius:e.object_radius.toArray({array:Float32Array}),rmsf:e.rmsf.toArray({array:Float32Array})}}(n),a=Pm(i,e.entities),u=Im(i),s=km(r),c=function(e){for(var t=Sl.ihm_gaussian_obj_site.covariance_matrix.space,n=[],r=e.covariance_matrix,i=0,o=r.rowCount;i<o;i++)n[i]=w.toMat3(I(),t,r.value(i));return{x:e.mean_Cartn_x.toArray({array:Float32Array}),y:e.mean_Cartn_y.toArray({array:Float32Array}),z:e.mean_Cartn_z.toArray({array:Float32Array}),weight:e.weight.toArray({array:Float32Array}),covariance_matrix:n}}(r),l=Pm(s,e.entities),d=Im(s);return{hierarchy:{isDefined:!0,spheres:Object(T.a)(Object(T.a)(Object(T.a)({},i),a),u),gaussians:Object(T.a)(Object(T.a)(Object(T.a)({},s),l),d)},conformation:{id:Le.a.create22(),spheres:o,gaussians:c}}}function km(e){var t=e.entity_id,n=e.seq_id_begin,r=e.seq_id_end,i=e.asym_id;return Object(T.a)({count:t.rowCount,entity_id:t,asym_id:i,seq_id_begin:n,seq_id_end:r},function(e,t,n){for(var r=[0],i=1,o=e.rowCount;i<o;i++){!e.areValuesEqual(i-1,i)&&(r[r.length]=i)}return{chainElementSegments:Kn.ofOffsets(r,gt.ofBounds(0,e.rowCount))}}(i))}var Dm,Om,Nm={HIS:"H",ARG:"R",LYS:"K",ILE:"I",PHE:"F",LEU:"L",TRP:"W",ALA:"A",MET:"M",PRO:"P",CYS:"C",ASN:"N",VAL:"V",GLY:"G",SER:"S",GLN:"Q",TYR:"Y",ASP:"D",GLU:"E",THR:"T",SEC:"U",PYL:"O",HSD:"H",HSE:"H",HSP:"H",LSN:"K",ASPP:"D",GLUP:"E",HID:"H",HIE:"H",HIP:"H",LYN:"K",ASH:"D",GLH:"E"},Tm={DA:"A",DC:"C",DG:"G",DT:"T",DU:"U"},Rm={A:"A",C:"C",G:"G",T:"T",U:"U"};function Um(e){return Nm[e]||"X"}function Lm(e){return Rm[e]||"X"}function Gm(e){return Tm[e]||"X"}function qm(e,t,n,r){if(!e.entity_poly_seq||!e.entity_poly_seq._rowCount)return Om.fromHierarchy(t,n,r);for(var i=e.entity_poly_seq,o=i.entity_id,a=i.num,u=i.mon_id,s={},c=[],l=o.rowCount,d=0;d<l;){for(var f=d;d<l-1&&o.areValuesEqual(d,d+1);)d++;d++;var p=o.value(f),m=Ee.window(u,f,d),h=Ee.window(a,f,d),g=t.getEntityIndex(p);s[g]={entityId:p,sequence:Dm.ofResidueNames(m,h)},c.push(s[g])}return{byEntityKey:s,sequences:c}}function Fm(e,t,n,r){return Object(T.b)(this,void 0,void 0,(function(){var i,o,a,u,s,c,l,d,f,p,m;return Object(T.d)(this,(function(h){switch(h.label){case 0:return i=$e(n,r-1),o=t.label_entity_id,a=t.label_asym_id,u=t.label_seq_id,s=me(i,o.value),e.shouldUpdate?[4,e.update()]:[3,2];case 1:h.sent(),h.label=2;case 2:c=0,l=s.length-1,h.label=3;case 3:if(!(c<l))return[3,10];d=me(i,a.value,{start:s[c],end:s[c+1]}),f=0,p=d.length-1,h.label=4;case 4:return f<p?(m=d[f],0!==u.valueKind(m)?[3,6]:(me(i,u.value,{sort:!0,start:m,end:d[f+1]}),e.shouldUpdate?[4,e.update()]:[3,6])):[3,7];case 5:h.sent(),h.label=6;case 6:return f++,[3,4];case 7:return e.shouldUpdate?[4,e.update()]:[3,9];case 8:h.sent(),h.label=9;case 9:return c++,[3,3];case 10:return function(e){for(var t=0,n=e.length;t<n;t++)if(e[t]!==t)return!1;return!0}(i)&&i.length===t._rowCount?[2,{atom_site:t,sourceIndex:Ee.ofIntArray(i)}]:[2,{atom_site:Ze.view(t,t._schema,i),sourceIndex:Ee.ofIntArray(i)}]}}))}))}function jm(e,t,n,r,i){var o=i.residue,a=o.polymerType,u=o.traceElementIndex,s=o.directionFromElementIndex,c=o.directionToElementIndex,l=a[e],d=a[t];if(0===l||0===d)return!1;if(-1===u[e]||-1===u[t])return!1;var f=r.findAtomsOnResidue(e,ns(l,"backboneStart")),p=r.findAtomsOnResidue(t,ns(d,"backboneEnd"));-1!==f&&-1!==p||(f=r.findAtomsOnResidue(e,ns(l,"coarseBackbone")),p=r.findAtomsOnResidue(t,ns(d,"coarseBackbone")));var m=n.x,h=n.y,g=n.z,v=A.create(m[f],h[f],g[f]),y=A.create(m[p],h[p],g[p]),_=-1===s[e]||-1===c[e]||-1===s[t]||-1===c[t];return A.distance(v,y)<(_?10:3)}function Hm(e,t,n,r){for(var i,o,a,u,s=[],c=[],l=new Map,d=Kn.transientSegments(e.chainAtomSegments,gt.ofBounds(0,e.atoms._rowCount)),f=Kn.transientSegments(e.residueAtomSegments,gt.ofBounds(0,e.atoms._rowCount)),p=e.index,m=e.derived,h=e.residues.label_seq_id,g=e.chains.label_entity_id,v=m.residue,y=v.moleculeType,_=v.traceElementIndex;d.hasNext;){var b=d.move();f.setSegment(b),i=-1,o=-1,a=-1,u=-1;var x=t.getEntityIndex(g.value(b.index)),A=r.byEntityKey[x],w=A?A.sequence.seqId.value(A.sequence.seqId.rowCount-1):-1,S=e.residueAtomSegments.index[b.start],C=e.residueAtomSegments.index[b.end-1],B=h.value(S),P=h.value(C);for(1===B&&P===w&&n.xyzDefined&&jm(S,C,n,p,m)&&(l.set(S,C),l.set(C,S));f.hasNext;){var I=f.move(),E=I.index,M=h.value(E);if($o(y[E])&&-1!==_[E])if(-1!==u)if(M!==i+1)s.push(u,a-1),c.push(o,I.end-1),u=I.start;else if(f.hasNext){var k=e.residueAtomSegments.index[I.start],D=e.residueAtomSegments.index[a-1];n.xyzDefined&&!jm(k,D,n,e.index,m)&&(s.push(u,a-1),c.push(o,I.end-1),u=I.start)}else s.push(u,I.end-1);else u=I.start;else-1!==u&&(s.push(u,a-1),u=-1);o=I.start,a=I.end,i=M}}return{polymerRanges:us.ofSortedRanges(s),gapRanges:us.ofSortedRanges(c),cyclicPolymerMap:l}}function Vm(e){for(var t=new Map,n=function(e,t,n){return"".concat(e,"|").concat(t,"|").concat(n)},r=e.pdbx_unobs_or_zero_occ_residues,i=0,o=r._rowCount;i<o;++i){var a=n(r.PDB_model_num.value(i),r.label_asym_id.value(i),r.label_seq_id.value(i));t.set(a,{polymer_flag:r.polymer_flag.value(i),occupancy_flag:r.occupancy_flag.value(i)})}return{has:function(e,r,i){return t.has(n(e,r,i))},get:function(e,r,i){return t.get(n(e,r,i))},size:t.size}}function zm(e){var t=new Map;if(e.chem_comp._rowCount>0)for(var n=e.chem_comp.id,r=0,i=n.rowCount;r<i;++r)t.set(n.value(r),Ze.getRow(e.chem_comp,r));else Wm(e).forEach((function(e){var n;t.set(e,{formula:"",formula_weight:0,id:n=e,name:n,mon_nstd_flag:Ko.has(n)?"y":"n",pdbx_synonyms:[],type:Xo(n)})}));return t}function Ym(e){var t=new Map;if(e.pdbx_chem_comp_identifier._rowCount>0)for(var n=e.pdbx_chem_comp_identifier,r=n.comp_id,i=n.type,o=n.identifier,a=0,u=r.rowCount;a<u;++a)if("SNFG CARBOHYDRATE SYMBOL"===i.value(a)||"SNFG CARB SYMBOL"===i.value(a)){var s=o.value(a),c=so.get(s);c?t.set(r.value(a),c):console.warn("Unknown SNFG name '".concat(s,"'"))}if(e.chem_comp._rowCount>0){var l=e.chem_comp,d=l.id;for(i=l.type,a=0,u=d.rowCount;a<u;++a){var f=d.value(a);if(!t.has(f)){var p=i.value(a);go.has(f)?t.set(f,go.get(f)):9===Zo(p,f)&&t.set(f,ao)}}}else{var m=Wm(e);go.forEach((function(e,n){!t.has(n)&&m.has(n)&&t.set(n,e)}))}return t}!function(e){var t;!function(e){e.Protein="protein",e.RNA="RNA",e.DNA="DNA",e.Generic="generic"}(t=e.Kind||(e.Kind={})),e.getSequenceString=function(e){var t=e.code.toArray();return(t instanceof Array?t:Array.from(t)).join("")},e.ofResidueNames=function(e,r){if(0===r.rowCount)throw new Error("cannot be empty");var i=function(e){for(var n=0,r=Math.min(e.rowCount,10);n<r;n++){var i=e.value(n)||"";if("X"!==Um(i))return t.Protein;if("X"!==Lm(i))return t.RNA;if("X"!==Gm(i))return t.DNA}return t.Generic}(e);return new n(i,e,r)};var n=function(){function e(e,n,r){this.kind=e,this.microHet=new Map;for(var i=function(e,n){var r;switch(e){case t.Protein:r=Um;break;case t.DNA:r=Gm;break;case t.RNA:r=Lm;break;case t.Generic:r=function(){return"X"};break;default:k()}return n&&n.size>0?function(e){var t=r(e);return"X"===t&&n.has(e)?r(n.get(e)):t}:r}(e),o=[],a=[],u=[],s=new Map,c=0,l=new Map,d=0,f=r.rowCount;d<f;++d){var p=r.value(d);if(l.has(p))s.has(p)?s.get(p).push(n.value(d)):s.set(p,[a[l.get(p)],n.value(d)]);else{l.set(p,c);var m=n.value(d);a[c]=m,u[c]=p,o[c]=i(m),c+=1}}var h=[];for(d=0,f=c;d<f;++d){var g=s.get(u[d]);if(g){var v=g.map((function(e){var t=i(e);return"X"===t?e:t}));h[d]="(".concat(v.join("|"),")")}else h[d]="X"===o[d]?a[d]:o[d]}this.length=c,this.code=Ee.ofStringArray(o),this.compId=Ee.ofStringArray(a),this.seqId=Ee.ofIntArray(u),this.label=Ee.ofStringArray(h),this.microHet=s,this.indexMap=l}return e.prototype.index=function(e){return this.indexMap.get(e)},e}();e.ofSequenceRanges=function(e,n){var i=t.Generic;return new r(i,e,n)};var r=function(){function e(e,t,n){this.kind=e,this.seqIdStart=t,this.seqIdEnd=n,this.microHet=new Map;for(var r=0,i=Number.MAX_SAFE_INTEGER,o=0,a=this.seqIdStart.rowCount;o<a;o++){var u=this.seqIdStart.value(o),s=this.seqIdEnd.value(o);u<i&&(i=u),r<s&&(r=s)}var c=r-i+1;this.code=Ee.ofConst("X",c,Ee.Schema.str),this.label=Ee.ofConst("",c,Ee.Schema.str),this.seqId=Ee.ofLambda({value:function(e){return e+i+1},rowCount:c,schema:Ee.Schema.int}),this.compId=Ee.ofConst("",c,Ee.Schema.str),this.length=c,this.minSeqId=i}return e.prototype.index=function(e){return e-this.minSeqId},e}()}(Dm||(Dm={})),function(e){var t={byEntityKey:{},sequences:[]};function n(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=[],r={},i=0,o=e.length;i<o;++i)n.push.apply(n,e[i].sequences),Object.assign(r,e[i].byEntityKey);return{sequences:n,byEntityKey:r}}function r(e,t){var n=t.atoms.label_comp_id,r=t.residues.label_seq_id,i=t.chainAtomSegments,o=t.residueAtomSegments,a=i.count,u=i.offsets,s={},c=[];if(1===a&&0===u[0]&&0===u[1])return{byEntityKey:s,sequences:c};for(var l=0,d=t.chains._rowCount;l<d;l++){var f=t.index.getEntityFromChain(l);if(void 0===s[f]&&"polymer"===e.data.type.value(f)){var p=l;for(l++;l<d&&f===t.index.getEntityFromChain(l)&&"polymer"!==e.data.type.value(f);)l++;l--;for(var m=o.index[u[p]],h=o.index[u[l+1]-1]+1,g=Ee.window(r,m,h),v=[],y=m;y<h;++y)v.push(n.value(o.offsets[y]));var _=Ee.ofStringArray(v);s[f]={entityId:e.data.id.value(f),sequence:Dm.ofResidueNames(_,g)},c.push(s[f])}}return{byEntityKey:s,sequences:c}}function i(e,t){return n(o(e,t.spheres),o(e,t.gaussians))}function o(e,t){var n=t.chainElementSegments,r=t.seq_id_begin,i=t.seq_id_end,o=n.count,a=n.offsets,u={},s=[];if(1===o&&0===a[0]&&0===a[1])return{byEntityKey:u,sequences:s};for(var c=0,l=o;c<l;c++){var d=t.getEntityFromChain(c);if(void 0===u[d]){var f=c;for(c++;c<l&&d===t.getEntityFromChain(c);)c++;c--;var p=a[f],m=a[c+1]-1,h=Ee.window(r,p,m),g=Ee.window(i,p,m);u[d]={entityId:e.data.id.value(d),sequence:Dm.ofSequenceRanges(h,g)},s.push(u[d])}}return{byEntityKey:u,sequences:s}}e.fromHierarchy=function(e,o,a){return n(r(e,o),a.isDefined?i(e,a):t)},e.fromAtomicHierarchy=r,e.fromCoarseHierarchy=i,e.fromCoarseElements=o}(Om||(Om={}));var Km,Zm,Wm=(Km=function(e){for(var t=new Set,n=e.atom_site,r=n.label_comp_id,i=n.auth_comp_id,o=r.isDefined?r:i,a=0,u=o.rowCount;a<u;++a)t.add(o.value(a));return t},Zm=new Map,function(e){if(Zm.has(e))return Zm.get(e);var t=Km(e);return Zm.set(e,t),t});function Xm(e,t){for(var n=new Map,r=e.chains,i=r.auth_asym_id,o=r.label_asym_id,a=r.label_entity_id,u=0,s=e.chains._rowCount;u<s;u++){var c=o.value(u);n.set(c,{id:c,auth_id:i.value(u),entity_id:a.value(u)})}if(null==t?void 0:t.struct_asym._rowCount)for(var l=t.struct_asym,d=(c=l.id,l.entity_id),f=(u=0,c.rowCount);u<f;++u){var p=c.value(u);n.has(p)||n.set(p,{id:p,auth_id:"",entity_id:d.value(u)})}return n}var Qm=Ee.Schema.Aliased(Ee.Schema.Str());function Jm(e){var t;if(e.entity.id.isDefined)t=e.entity;else{for(var n=new Set,r=[],i=[],o=e.atom_site,a=o.label_entity_id,u=o.label_comp_id,s=0,c=e.atom_site._rowCount;s<c;s++){var l=a.value(s);n.has(l)||(r.push(l),i.push(Qo(u.value(s))),n.add(l))}var d=e.ihm_sphere_obj_site.entity_id;for(s=0,c=e.ihm_sphere_obj_site._rowCount;s<c;s++){l=d.value(s);n.has(l)||(r.push(l),i.push("polymer"),n.add(l))}var f=e.ihm_gaussian_obj_site.entity_id;for(s=0,c=e.ihm_gaussian_obj_site._rowCount;s<c;s++){l=f.value(s);n.has(l)||(r.push(l),i.push("polymer"),n.add(l))}t=Ze.ofPartialColumns(Sl.entity,{id:Ee.ofArray({array:r,schema:Sl.entity.id}),type:Ee.ofArray({array:i,schema:Sl.entity.type})},r.length)}var p=Ee.createIndexer(t.id),m=new Array(t._rowCount);m.fill("other");var h=new Set,g=!1;if(e.entity_poly&&e.entity_poly.type.isDefined){var v=e.entity_poly,y=v.entity_id,_=v.type,b=v._rowCount;for(s=0;s<b;++s){m[p(l=y.value(s))]=_.value(s),h.add(l)}}else g=!0;if(e.pdbx_entity_branch&&e.pdbx_entity_branch.entity_id.isDefined){var x=e.pdbx_entity_branch;for(y=x.entity_id,_=x.type,b=x._rowCount,s=0;s<b;++s){m[p(l=y.value(s))]=_.value(s),h.add(l)}}else g=!0;if(h.size<m.length&&(g=!0),g){var A=new Map;if(e.chem_comp){var w=e.chem_comp,S=w.id;for(_=w.type,s=0,c=e.chem_comp._rowCount;s<c;s++)A.set(S.value(s),_.value(s))}if(e.atom_site){var C=e.atom_site;for(a=C.label_entity_id,u=C.label_comp_id,s=0,c=e.atom_site._rowCount;s<c;s++){l=a.value(s);if(!h.has(l)){var B=u.value(s),P=A.get(B)||"other";m[p(l)]=Jo(B,P),h.add(l)}}}}return{data:t,subtype:Ee.ofArray({array:m,schema:Qm}),getEntityIndex:p}}function $m(e,t,n){var r;if(!e.pdbx_molecule||!e.pdbx_molecule.prd_id.isDefined)return t;var i=new Array(t.data._rowCount);i.fill("");for(var o=e.pdbx_molecule,a=o.asym_id,u=o.prd_id,s=o._rowCount,c=0;c<s;++c){var l=a.value(c),d=null===(r=n.get(l))||void 0===r?void 0:r.entity_id;void 0!==d&&(i[t.getEntityIndex(d)]=u.value(c))}var f=Ee.ofArray({array:i,schema:Ee.Schema.str});return Object(T.a)(Object(T.a)({},t),{prd_id:f})}var eh,th,nh=function(){function e(e){this.frames=e,this.frameCount=e.length,this.representative=e[0],this.duration=e.length}return e.prototype.getFrameAtIndex=function(e){return this.frames[e]},e}();function rh(e,t,n){return Object(T.b)(this,void 0,void 0,(function(){var r,i,o,a;return Object(T.d)(this,(function(u){switch(u.label){case 0:return r=function(e,t){return{missingResidues:Vm(e),chemicalComponentMap:zm(e),saccharideComponentMap:Ym(e)}}(e),e.ihm_model_list._rowCount>0?[4,uh(n,e,r,t)]:[3,2];case 1:return o=u.sent(),[3,4];case 2:return[4,oh(n,e,r,t)];case 3:o=u.sent(),u.label=4;case 4:for(i=o,a=0;a<i.length;a++)eh.TrajectoryInfo.set(i[a],{index:a,size:i.length});return[2,new nh(i)]}}))}))}function ih(e,t){var n=e.rowCount;if(!e.isDefined)return n;for(var r=t+1;r<n&&e.areValuesEqual(t,r);)r++;return r}function oh(e,t,n,r){return Object(T.b)(this,void 0,void 0,(function(){var i,o,a,u,s,c,l,d,f;return Object(T.d)(this,(function(p){switch(p.label){case 0:if(i=[],!t.atom_site)return[3,3];o=t.atom_site.id.rowCount,a=Jm(t),u=0,p.label=1;case 1:return u<o?(s=ih(t.atom_site.pdbx_PDB_model_num,u),[4,Fm(e,t.atom_site,u,s)]):[3,3];case 2:return c=p.sent(),l=c.atom_site,d=c.sourceIndex,f=function(e,t,n,r,i,o,a){var u=xm(t,n,r,i.chemicalComponentMap,o,a),s=t.pdbx_PDB_model_num.value(0);if(a&&u.sameAsPrevious)return Object(T.a)(Object(T.a)({},a),{id:Le.a.create22(),modelNum:s,atomicConformation:u.conformation,_dynamicPropertyData:Object.create(null)});var c=Em,l=qm(e,r,u.hierarchy,c.hierarchy),d=Hm(u.hierarchy,r,u.conformation,l),f=Xm(u.hierarchy),p=0===e.entry.id.valueKind(0)?e.entry.id.value(0):o.name,m=[];return p&&m.push(p),0===e.struct.title.valueKind(0)&&m.push(e.struct.title.value(0)),{id:Le.a.create22(),entryId:p,label:m.join(" | "),entry:p,sourceData:o,modelNum:s,parent:void 0,entities:$m(e,r,f),sequence:l,atomicHierarchy:u.hierarchy,atomicConformation:u.conformation,atomicRanges:d,atomicChainOperatorMappinng:u.chainOperatorMapping,coarseHierarchy:c.hierarchy,coarseConformation:c.conformation,properties:Object(T.a)(Object(T.a)({},i),{structAsymMap:f}),customProperties:new Pr,_staticPropertyData:Object.create(null),_dynamicPropertyData:Object.create(null)}}(t,l,d,a,n,r,i.length>0?i[i.length-1]:void 0),i.push(f),u=s,[3,1];case 3:return[2,i]}}))}))}function ah(e,t){for(var n=new Map,r=e._rowCount,i=0;i<r;){var o=ih(t,i),a=t.value(i);n.set(a,{table:Ze.window(e,e._schema,i,o),start:i,end:o}),i=o}return n}function uh(e,t,n,r){return Object(T.b)(this,void 0,void 0,(function(){var i,o,a,u,s,c,l,d,f,p,m,h,g,v,y,_,b,x,A;return Object(T.d)(this,(function(w){switch(w.label){case 0:if(i=Jm(t),o=t.atom_site.ihm_model_id.isDefined?t.atom_site.ihm_model_id:t.atom_site.pdbx_PDB_model_num,a=ah(t.atom_site,o),u=ah(t.ihm_sphere_obj_site,t.ihm_sphere_obj_site.model_id),s=ah(t.ihm_gaussian_obj_site,t.ihm_gaussian_obj_site.model_id),c=[],!t.ihm_model_list)return[3,6];l=t.ihm_model_list,d=l.model_id,f=l.model_name,p=0,w.label=1;case 1:return p<t.ihm_model_list._rowCount?(m=d.value(p),h=void 0,g=void 0,a.has(m)?(v=a.get(m),[4,Fm(e,t.atom_site,v.start,v.end)]):[3,3]):[3,6];case 2:return y=w.sent(),_=y.atom_site,b=y.sourceIndex,h=_,g=b,[3,4];case 3:h=Ze.window(t.atom_site,t.atom_site._schema,0,0),g=Ee.ofIntArray([]),w.label=4;case 4:x={model_id:m,model_name:f.value(p),model_group_name:wl(m,t),entities:i,atom_site:h,atom_site_sourceIndex:g,ihm_sphere_obj_site:u.has(m)?u.get(m).table:Ze.window(t.ihm_sphere_obj_site,t.ihm_sphere_obj_site._schema,0,0),ihm_gaussian_obj_site:s.has(m)?s.get(m).table:Ze.window(t.ihm_gaussian_obj_site,t.ihm_gaussian_obj_site._schema,0,0)},A=function(e,t,n,r){var i=xm(t.atom_site,t.atom_site_sourceIndex,t.entities,n.chemicalComponentMap,r),o=Mm(t,n.chemicalComponentMap),a=qm(e,t.entities,i.hierarchy,o.hierarchy),u=Hm(i.hierarchy,t.entities,i.conformation,a),s=0===e.entry.id.valueKind(0)?e.entry.id.value(0):r.name,c=[];s&&c.push(s),0===e.struct.title.valueKind(0)&&c.push(e.struct.title.value(0)),t.model_name&&c.push(t.model_name),t.model_group_name&&c.push(t.model_group_name);var l=Xm(i.hierarchy,e);return{id:Le.a.create22(),entryId:s,label:c.join(" | "),entry:s,sourceData:r,modelNum:t.model_id,parent:void 0,entities:$m(e,t.entities,l),sequence:a,atomicHierarchy:i.hierarchy,atomicConformation:i.conformation,atomicRanges:u,atomicChainOperatorMappinng:i.chainOperatorMapping,coarseHierarchy:o.hierarchy,coarseConformation:o.conformation,properties:Object(T.a)(Object(T.a)({},n),{structAsymMap:l}),customProperties:new Pr,_staticPropertyData:Object.create(null),_dynamicPropertyData:Object.create(null)}}(t,x,n,r),c.push(A),w.label=5;case 5:return p++,[3,1];case 6:return[2,c]}}))}))}function sh(e){for(var t=new Map,n=0,r=e.length;n<r;n++)t.set(n,e[n]);return t}!function(e){function t(t,r){for(var i=[],o=r.frames,a=t.atomicHierarchy.atomSourceIndex,u=Ee.isIdentity(a)?void 0:a.toArray({array:Int32Array}),s=n(t),c=t.atomicHierarchy.atoms._rowCount,l=0,d=o.length;l<d;++l){var f=o[l];if(f.elementCount!==c)throw new Error("Frame element count mismatch, got ".concat(f.elementCount," but expected ").concat(c,"."));var p=Object(T.a)(Object(T.a)({},t),{id:Le.a.create22(),modelNum:l,atomicConformation:gr.getAtomicConformation(f,{atomId:t.atomicConformation.atomId,occupancy:t.atomicConformation.occupancy,B_iso_or_equiv:t.atomicConformation.B_iso_or_equiv},u),customProperties:new Pr,_staticPropertyData:Object.create(null),_dynamicPropertyData:Object.create(null)});if(f.cell){var m=Ds.fromCell(f.cell.size,f.cell.anglesInRadians);Ds.Provider.set(p,m)}e.TrajectoryInfo.set(p,{index:l,size:o.length}),e.CoarseGrained.set(p,s),i.push(p)}return{trajectory:i,srcIndexArray:u}}e.trajectoryFromModelAndCoordinates=function(e,n){return new nh(t(e,n).trajectory)},e.trajectoryFromTopologyAndCoordinates=function(r,i){var o=this;return Hr.create("Create Trajectory",(function(a){return Object(T.b)(o,void 0,void 0,(function(){var o,u,s,c,l,d,f,p,m,h;return Object(T.d)(this,(function(g){switch(g.label){case 0:return[4,rh(r.basic,r.sourceData,a)];case 1:if(0===(o=g.sent()).frameCount)throw new Error("found no model");for(u=o.representative,s=t(u,i).trajectory,c={pairs:r.bonds,count:u.atomicHierarchy.atoms._rowCount},l=Qr.fromData(c),d=n(u),f=0,p=0,m=s;p<m.length;p++)h=m[p],Qr.Provider.set(h,l),e.TrajectoryInfo.set(h,{index:f++,size:s.length}),e.CoarseGrained.set(h,d);return[2,new nh(s)]}}))}))}))};e.getCenter=function(e){if(e._dynamicPropertyData.__Center__)return e._dynamicPropertyData.__Center__;var t=function(e,t){var n=[],r=[],i=[];e.x.length&&(n.push.apply(n,Ir(e.x)),r.push.apply(r,Ir(e.y)),i.push.apply(i,Ir(e.z))),t&&(t.spheres.x.length&&(n.push.apply(n,Ir(t.spheres.x)),r.push.apply(r,Ir(t.spheres.y)),i.push.apply(i,Ir(t.spheres.z))),t.gaussians.x.length&&(n.push.apply(n,Ir(t.gaussians.x)),r.push.apply(r,Ir(t.gaussians.y)),i.push.apply(i,Ir(t.gaussians.z))));var o=Ir(n),a=o[0],u=o[1],s=Ir(r),c=s[0],l=s[1],d=Ir(i),f=d[0],p=a+(u-a)/2,m=c+(l-c)/2,h=f+(d[1]-f)/2;return A.create(p,m,h)}(e.atomicConformation,e.coarseConformation);return e._dynamicPropertyData.__Center__=t,t};e.getInvertedAtomSourceIndex=function(e){if(e._staticPropertyData.__InvertedAtomSrcIndex__)return e._staticPropertyData.__InvertedAtomSrcIndex__;var t=function(e){for(var t=new Int32Array(e.rowCount),n=!1,r=0,i=e.rowCount;r<i;r++){var o=e.value(r);o!==r&&(n=!1),t[o]=r}return{isIdentity:n,invertedIndex:t}}(e.atomicHierarchy.atomSourceIndex);return e._staticPropertyData.__InvertedAtomSrcIndex__=t,t};e.TrajectoryInfo={get:function(e){return e._dynamicPropertyData.__TrajectoryInfo__||{index:0,size:1}},set:function(e,t){return e._dynamicPropertyData.__TrajectoryInfo__=t}};e.AsymIdCount={get:function(e){if(e._dynamicPropertyData.__AsymIdCount__)return e._dynamicPropertyData.__AsymIdCount__;var t=function(e){var t=new Set,n=new Set;return e.properties.structAsymMap.forEach((function(e,r){var i=e.auth_id;t.add(i),n.add(r)})),{auth:t.size,label:n.size}}(e);return e._dynamicPropertyData.__AsymIdCount__=t,t}},e.AsymIdOffset=mp.createSimple("asym_id_offset","static"),e.Index=mp.createSimple("index","static"),e.MaxIndex=mp.createSimple("max_index","static"),e.getRoot=function(e){return e.parent||e},e.areHierarchiesEqual=function(e,t){return e.atomicHierarchy===t.atomicHierarchy&&e.coarseHierarchy===t.coarseHierarchy};e.CoordinatesHistory={get:function(e){return e._staticPropertyData.__CoordinatesHistory__},set:function(e,t){return e._staticPropertyData.__CoordinatesHistory__=t}};function n(t){var n=e.CoarseGrained.get(t);if(void 0===n){for(var r=0,i=t.atomicHierarchy.derived.residue.polymerType,o=0;o<i.length;++o)0!==i[o]&&(r+=1);var a=!1,u=!1,s=t.atomicHierarchy.atoms,c=s.label_atom_id,l=s._rowCount;for(o=0;o<l;++o){var d=c.value(o);if(a||"BB"!==d||(a=!0),u||"SC1"!==d||(u=!0),a&&u)break}n=a&&u||!(!r||!l)&&l/r<3,e.CoarseGrained.set(t,n)}return n}function r(e){return!!Bl.is(e.sourceData)&&(null!==e.entryId.match(/^[1-9][a-z0-9]{3,3}$/i)||null!==e.entryId.match(/^pdb_[0-9]{4,4}[1-9][a-z0-9]{3,3}$/i))}e.CoarseGrained={get:function(e){return e._staticPropertyData.__CoarseGrained__},set:function(e,t){return e._staticPropertyData.__CoarseGrained__=t}},e.isCoarseGrained=n,e.hasCarbohydrate=function(e){return e.properties.saccharideComponentMap.size>0},e.hasProtein=function(e){for(var t=e.entities.subtype,n=0,r=t.rowCount;n<r;++n)if(t.value(n).startsWith("polypeptide"))return!0;return!1},e.hasNucleic=function(e){for(var t=e.entities.subtype,n=0,r=t.rowCount;n<r;++n){var i=t.value(n);if(i.endsWith("ribonucleotide hybrid")||i.endsWith("ribonucleotide"))return!0}return!1},e.isFromPdbArchive=function(e){if(!Bl.is(e.sourceData))return!1;for(var t=e.sourceData.data.db,n=0,r=t.database_2.database_id.rowCount;n<r;++n)if("pdb"===t.database_2.database_id.value(n))return!0;return!1},e.hasPdbId=r,e.hasSecondaryStructure=function(e){if(Bl.is(e.sourceData)){var t=e.sourceData.data.db;return t.struct_conf.id.isDefined||t.struct_sheet_range.id.isDefined}return dl.Provider.isApplicable(e)};var i=A.create(1.5707963,1.5707963,1.5707963),o=A.create(1,1,1);function a(e){if(!Bl.is(e.sourceData))return!1;for(var t=e.sourceData.data.db,n=0;n<t.exptl.method.rowCount;n++){if(t.exptl.method.value(n).toUpperCase().indexOf("DIFFRACTION")>=0)return!0}return!1}function u(e){if(!Bl.is(e.sourceData))return!1;for(var t=e.sourceData.data.db,n=0;n<t.exptl.method.rowCount;n++){if(t.exptl.method.value(n).toUpperCase().indexOf("MICROSCOPY")>=0)return!0}return!1}function s(e){if(!Bl.is(e.sourceData))return!1;if(!a(e))return!1;var t=e.sourceData.data.db.pdbx_database_status.status_code_sf;return t.isDefined&&"REL"===t.value(0)}function c(e){if(!Bl.is(e.sourceData))return!1;for(var t=e.sourceData.data.db,n=t.pdbx_database_related,r=n.db_name,i=n.content_type,o=0,a=t.pdbx_database_related._rowCount;o<a;++o)if("EMDB"===r.value(o).toUpperCase()&&"associated EM volume"===i.value(o))return!0;return!1}function l(e){return!!Bl.is(e.sourceData)&&(s(e)||c(e))}e.hasCrystalSymmetry=function(e){var t,n=null===(t=Ds.Provider.get(e))||void 0===t?void 0:t.spacegroup;return!(!n||1===n.num&&A.equals(n.cell.anglesInRadians,i)&&A.equals(n.cell.size,o))},e.isFromXray=a,e.isFromEm=u,e.isFromNmr=function(e){if(!Bl.is(e.sourceData))return!1;for(var t=e.sourceData.data.db,n=0;n<t.exptl.method.rowCount;n++){if(t.exptl.method.value(n).toUpperCase().indexOf("NMR")>=0)return!0}return!1},e.hasXrayMap=s,e.hasEmMap=c,e.hasDensityMap=l,e.probablyHasDensityMap=function(e){if(!Bl.is(e.sourceData))return!1;var t=e.sourceData.data.db;return l(e)||r(e)&&(!t.exptl.method.isDefined||a(e)&&(!t.pdbx_database_status.status_code_sf.isDefined||2===t.pdbx_database_status.status_code_sf.valueKind(0))||u(e)&&!t.pdbx_database_related.db_name.isDefined)}}(eh||(eh={})),function(e){e.getCifDataSource=function(e,t,n){if(!t)return{rowCount:0};if(n&&n[t.id])return n[t.id];var r=t.getElements(e),i={data:r,rowCount:r.elements.length};return n&&(n[t.id]=i),i},e.fromAtomMap=function(e){return new lh(e)},e.fromAtomArray=function(e){return new lh(sh(e))};var t=function(e){return e.atomicHierarchy.residueAtomSegments};e.fromResidueMap=function(e){return new ch("residue",e,t,0)},e.fromResidueArray=function(e){return new ch("residue",sh(e),t,0)};var n=function(e){return e.atomicHierarchy.chainAtomSegments};e.fromChainMap=function(e){return new ch("chain",e,n,0)},e.fromChainArray=function(e){return new ch("chain",sh(e),n,0)},e.fromEntityMap=function(e){return new dh(e)}}(th||(th={}));var ch=function(){function e(e,t,n,r){this.level=e,this.map=t,this.segmentGetter=n,this.id=Le.a.create22(),this.kind=r}return e.prototype.has=function(e){return this.map.has(e)},e.prototype.get=function(e){return this.map.get(e)},e.prototype.getStructureElements=function(e){var t=e.models;if(1!==t.length)throw new Error("Only works on structures with a single model.");for(var n=new Set,r=e.unitSymmetryGroups,i=[],o=this.segmentGetter(t[0]),a=0,u=r;a<u.length;a++){var s=u[a].units[0];if(s.kind===this.kind)for(var c=Kn.transientSegments(o,s.elements);c.hasNext;){var d=c.move();this.has(d.index)&&!n.has(d.index)&&(n.add(d.index),i[i.length]=l.Location.create(e,s,s.elements[d.start]))}}return i.sort((function(e,t){return e.element-t.element})),i},e.prototype.getElements=function(e){var t=this,n=this.segmentGetter(e.model).index,r=this.getStructureElements(e);return{elements:r,property:function(e){return t.get(n[r[e].element])}}},e}(),lh=function(){function e(e){this.map=e,this.id=Le.a.create22(),this.level="atom",this.kind=0}return e.prototype.has=function(e){return this.map.has(e)},e.prototype.get=function(e){return this.map.get(e)},e.prototype.getStructureElements=function(e){if(1!==e.models.length)throw new Error("Only works on structures with a single model.");for(var t=new Set,n=[],r=0,i=e.unitSymmetryGroups;r<i.length;r++){var o=i[r].units[0];if(o.kind===this.kind)for(var a=o.elements,u=0,s=a.length;u<s;u++){var c=a[u];this.has(c)&&!t.has(c)&&(t.add(a[u]),n[n.length]=l.Location.create(e,o,c))}}return n.sort((function(e,t){return e.element-t.element})),n},e.prototype.getElements=function(e){var t=this,n=this.getStructureElements(e);return{elements:n,property:function(e){return t.get(n[e].element)}}},e}(),dh=function(){function e(e){this.map=e,this.id=Le.a.create22(),this.level="entity",this.kind=0}return e.prototype.has=function(e){return this.map.has(e)},e.prototype.get=function(e){return this.map.get(e)},e.prototype.getStructureElements=function(e){var t=e.models;if(1!==t.length)throw new Error("Only works on structures with a single model.");for(var n=t[0].atomicHierarchy.index,r=new Set,i=e.unitSymmetryGroups,o=[],a=t[0].atomicHierarchy.chainAtomSegments,u=0,s=i;u<s.length;u++){var c=s[u].units[0];if(c.kind===this.kind)for(var d=Kn.transientSegments(a,c.elements);d.hasNext;){var f=d.move(),p=n.getEntityFromChain(f.index);this.has(p)&&!r.has(p)&&(r.add(p),o[o.length]=l.Location.create(e,c,c.elements[f.start]))}}return o.sort((function(e,t){return e.element-t.element})),o},e.prototype.getElements=function(e){var t=this,n=this.getStructureElements(e),r=e.model.atomicHierarchy.chainAtomSegments.index,i=e.model.atomicHierarchy.index;return{elements:n,property:function(e){return t.get(i.getEntityFromChain(r[n[e].element]))}}},e}(),fh={identity:I.create(1,0,0,0,1,0,0,0,1),rotX90:I.create(1,0,0,0,0,1,0,-1,0),rotY90:I.create(0,0,-1,0,1,0,1,0,0),rotZ90:I.create(0,1,0,-1,0,0,0,0,1),rotX270:I.create(1,0,0,0,0,-1,0,1,0),rotY270:I.create(0,0,1,0,1,0,-1,0,0),rotZ270:I.create(0,-1,0,1,0,0,0,0,1),rotX180:I.create(1,0,0,0,-1,0,0,0,-1),rotY180:I.create(-1,0,0,0,1,0,0,0,-1),rotZ180:I.create(-1,0,0,0,-1,0,0,0,1)};function ph(e,t){return function(e,t){if(0===e.length)return console.warn("Skipping PCA, no atoms"),{rotation:fh.identity,origin:A.zero()};var n=hr.calculateMomentsAxes(e),r=hr.calculateNormalizedAxes(n),i=(o=r.dirA,a=r.dirB,u=r.dirC,s=I(),I.setValue(s,0,0,o[0]),I.setValue(s,0,1,o[1]),I.setValue(s,0,2,o[2]),I.setValue(s,1,0,a[0]),I.setValue(s,1,1,a[1]),I.setValue(s,1,2,a[2]),I.setValue(s,2,0,u[0]),I.setValue(s,2,1,u[1]),I.setValue(s,2,2,u[2]),s);var o,a,u,s;c=i,I.determinant(c)<0&&(I.setValue(c,2,0,-I.getValue(c,2,0)),I.setValue(c,2,1,-I.getValue(c,2,1)),I.setValue(c,2,2,-I.getValue(c,2,2)));var c;var l=t?function(e,t){for(var n=fh.identity,r=0,i=I(),o=0,a=[fh.identity,fh.rotX180,fh.rotY180,fh.rotZ180];o<a.length;o++){var u=a[o],s=I.innerProduct(I.mul(i,u,e),t);s>r&&(n=u,r=s)}return n}(i,t):function(e,t,n){for(var r=A.create(I.getValue(t,0,0),I.getValue(t,0,1),I.getValue(t,0,2)),i=A.create(I.getValue(t,1,0),I.getValue(t,1,1),I.getValue(t,1,2)),o=A.create(I.getValue(t,2,0),I.getValue(t,2,1),I.getValue(t,2,2)),a=Math.floor(e.length/3),u=A(),s=0,c=0,l=0,d=0;d<a;d++)A.fromArray(u,e,3*d),A.sub(u,u,n),s+=d*A.dot(u,r),c+=d*A.dot(u,i),l+=hh(d,a)*A.dot(u,o);var f=l<0,p=f?s+c<0:s-c<0;return p&&f?fh.rotY180:f?fh.rotX180:p?fh.rotZ180:fh.identity}(e,i,n.origin);return I.mul(i,l,i),{rotation:i,origin:r.origin}}(function(e,t){var n;return(n=mh(e,{onlyTrace:!0})).length>=3*t||(n=mh(e,{skipHydrogens:!0,skipWater:!0})).length>=3*t?n:n=mh(e,{})}(e,3),t)}function mh(e,t){for(var n=t.onlyTrace,r=t.skipHydrogens,i=t.skipWater,o=$d.atom,a=o.x,u=o.y,s=o.z,c=o.type_symbol,d=o.label_comp_id,f=[],p=0,m=e;p<m.length;p++)for(var h=m[p],g=l.Location.create(h),v=0,y=h.units;v<y.length;v++){var _=y[v];g.unit=_;for(var b=n?_.polymerElements:_.elements,x=0;x<b.length;x++)g.element=b[x],r&&"H"===c(g)||i&&"HOH"===d(g)||f.push(a(g),u(g),s(g))}return f}function hh(e,t){var n=Math.floor(t/2);return e<n?t%2?n-e:n-e-1:e-n}function gh(e,t){var n=I.invert(I(),t),r=A.distance(e.position,e.target),i=A.transformMat3(A(),A.create(0,0,r),n),o=A.transformMat3(A(),A.create(0,1,0),n),a=A.add(A(),e.target,i);return Object(T.a)(Object(T.a)({},e),{position:a,up:o})}var vh=n(5),yh=n.n(vh),_h={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflower:6591981,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,laserlemon:16777044,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrod:16448210,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,maroon2:8323072,maroon3:11546720,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,purple2:8323199,purple3:10494192,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};!function(){var e=new Map;Object.keys(_h).forEach((function(t){e.set(_h[t],t)}))}();function bh(e){return(bh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xh(e){return function(e){if(Array.isArray(e))return Ih(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ph(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ah(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ah(Object(n),!0).forEach((function(t){Sh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ah(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Sh(e,t,n){return(t=Mh(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ch(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,u=[],s=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(u.push(r.value),u.length!==t);s=!0);}catch(e){c=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return u}}(e,t)||Ph(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bh(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Ph(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function Ph(e,t){if(e){if("string"==typeof e)return Ih(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ih(e,t):void 0}}function Ih(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Eh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Mh(r.key),r)}}function Mh(e){var t=function(e,t){if("object"!==bh(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==bh(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===bh(t)?t:String(t)}function kh(e,t){return(kh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Dh(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Nh(e);if(t){var i=Nh(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Oh(this,n)}}function Oh(e,t){if(t&&("object"===bh(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Nh(e){return(Nh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Th={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)||navigator.userAgent.match(/WPDesktop/i)},any:function(){return Th.Android()||Th.BlackBerry()||Th.iOS()||Th.Opera()||Th.Windows()}},Rh=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kh(e,t)}(o,e);var t,n,r,i=Dh(o);function o(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);(t=i.call(this,e)).state={data:e.data||[],layout:{showImportControls:!1,showSessionControls:!0,showStructureSourceControls:!0,showMeasurementsControls:!0,showStrucmotifSubmitControls:!0,showSuperpositionControls:!0,showQuickStylesControls:!0,showStructureComponentControls:!0,showVolumeStreamingControls:!1,showAssemblySymmetryControls:!1,showValidationReportControls:!1,showMembraneOrientationPreset:!1,showNakbColorTheme:!1,detachedFromSierra:!0,layoutIsExpanded:!1,layoutShowControls:!1,layoutControlsDisplay:"reactive",layoutShowSequence:!0,layoutShowLog:!1,viewportShowExpand:!0,viewportShowSelectionMode:!0,showWelcomeToast:!1},style:{zIndex:10,position:"relative"},className:e.className,selection:e.selection},t.loadedShapes={},t.loadedStructures={},t.loadedComponents={},t.loadedSnapshots={},t.setProps=e.setProps,t.viewerRef=Object(d.createRef)();var n=Object.assign({},t.state.layout,e.layout);t.state.layout=n;var r=Object.assign({},t.state.style,e.style);return t.state.style=r,t}return t=o,(n=[{key:"getStructureByLabel",value:function(e){var t,n=Bh(this.viewer._plugin.managers.structure.hierarchy.current.structures);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.cell.obj.data.state.label===e)return r}}catch(e){n.e(e)}finally{n.f()}}},{key:"getStructuresByLabel",value:function(e){return this.viewer._plugin.managers.structure.hierarchy.current.structures.filter((function(t){return t.cell.obj.data.state.label===e}))}},{key:"syncItems",value:function(){var e=this,t=this.state.data;Array.isArray(t)||(t=[t]);var n=t.filter((function(e){return"mol"===e.type||"url"===e.type})),r=t.filter((function(e){return"shape"===e.type})),i=[];n.forEach((function(t){var n=t.hasOwnProperty("label")?t.label:"";t.label=n;var r=e.genKey(t);i.push(r),e.syncStructure(n,t)}));for(var o=0,a=Object.entries(this.loadedStructures);o<a.length;o++){var u=Ch(a[o],2),s=u[0],c=(u[1],s.split("^")[0]);i.includes(s)||(delete this.loadedComponents[s],this.getStructuresByLabel(c).forEach((function(t){e.viewer.removeRef(t.cell.sourceRef)})),delete this.loadedStructures[s])}i=[],r.forEach((function(t){var n=t.hasOwnProperty("label")?t.label:"";i.push(n),e.syncShape(t)}));for(var l=0,d=Object.entries(this.loadedShapes);l<d.length;l++){var f=Ch(d[l],2),p=f[0],m=f[1];i.includes(p)||(this.viewer.removeRef(m),delete this.loadedShapes[p])}}},{key:"syncAutoFocus",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t&&this.props.setProps({focus:{molecule:null===(e=this.state.data[this.state.data.length-1])||void 0===e?void 0:e.label}})}},{key:"autoRotate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t){var n=ph(e),r=n.rotation,i=I.create(Math.cos(Math.PI/180*180),Math.sin(Math.PI/180*180),0,-Math.sin(Math.PI/180*180),Math.cos(Math.PI/180*180),0,0,0,1),o=I.mul(I(),r,i),a=gh(this.viewer._plugin.canvas3d.camera.getSnapshot(),o),u=10;this.viewer._plugin.managers.camera.setSnapshot(a,u)}}},{key:"genKey",value:function(e){return"".concat(e.label,"^").concat(e.add_surface,"^").concat(e.surface_alpha,"^").concat(e.surface_color)}},{key:"syncStructure",value:function(e,t){var n=this,r=this.genKey(t);this.loadedStructures[r]||(this.loadedStructures[r]=1,"mol"===t.type?this.viewer.loadStructureFromData(t.data,t.format,!1,{props:{dataLabel:e}}).then((function(i){n.loadedStructures[r]=2;var o=i.representation,a=o.components.ligand?o.components.ligand.data.boundary.sphere:null;if(o.representations.polymer){var u,s,c,l=Th.any();o.representations.polymer.visible=!1;var d=o.representations.polymer.cell;n.viewer.plugin.state.data.build().to(d.transform.ref).update(wh(wh({},null===(u=d.params)||void 0===u?void 0:u.values),{},{type:{name:null===(s=d.params)||void 0===s?void 0:s.values.type.name,params:wh(wh({},null===(c=d.params)||void 0===c?void 0:c.values.type.params),{},{alpha:l?1:t.alpha})},colorTheme:{name:"polymer-id",params:{list:"RedYellowBlue"}}})).commit(),t.add_surface&&n.viewer.plugin.builders.structure.representation.addRepresentation(d,{type:"molecular-surface",color:"uniform",colorParams:{value:t.surface_color?Fi.fromHexStyle(t.surface_color):_h.purple},ref:"polymer_surface",typeParams:{alpha:l?1:t.surface_alpha}})}a&&n.viewer.plugin.managers.camera.focusSphere(a),t.hasOwnProperty("component")&&n.syncComponent(e,t.component,t.prevComponent),n.autoRotate([i.structure.data]),n.syncAutoFocus(t.focus)})):"url"===t.type&&("mol"===t.urlfor?this.viewer.loadStructureFromUrl(t.data,t.format,!1).then((function(r){var i=r.representation,o=i.components.ligand?i.components.ligand.data.boundary.sphere:null;if(i.representations.polymer){var a,u,s,c=Th.any();i.representations.polymer.visible=!1;var l=i.representations.polymer.cell;n.viewer.plugin.state.data.build().to(l.transform.ref).update(wh(wh({},null===(a=l.params)||void 0===a?void 0:a.values),{},{type:{name:null===(u=l.params)||void 0===u?void 0:u.values.type.name,params:wh(wh({},null===(s=l.params)||void 0===s?void 0:s.values.type.params),{},{alpha:c?1:t.alpha})},colorTheme:{name:"polymer-id",params:{list:"RedYellowBlue"}}})).commit(),t.add_surface&&n.viewer.plugin.builders.structure.representation.addRepresentation(l,{type:"molecular-surface",color:"uniform",colorParams:{value:t.surface_color?Fi.fromHexStyle(t.surface_color):_h.purple},ref:"polymer_surface",typeParams:{alpha:c?1:t.surface_alpha}})}o&&n.viewer.plugin.managers.camera.focusSphere(o),t.hasOwnProperty("component")&&n.syncComponent(e,t.component,t.prevComponent),n.autoRotate([r.structure.data]),n.syncAutoFocus(t.focus)})):this.viewer.loadSnapshotFromUrl(t.data,t.format).then((function(r){n.loadedSnapshots[e]=r.snapshot.ref,n.autoRotate([r.structure.data]),n.syncAutoFocus(t.focus)})))),("mol"===t.type||"url"===t.type&&"mol"===t.urlfor)&&2===this.loadedStructures[r]&&t.hasOwnProperty("component")&&this.syncComponent(e,t.component,t.prevComponent)}},{key:"syncComponent",value:function(e,t,n){var r=this;t=t||[],Array.isArray(t)||(t=[t]);var i=this.loadedComponents[e]||[];n&&n.length&&(yh.a.differenceWith(n,t,yh.a.isEqual)||[]).forEach((function(t){var n="".concat(e,".").concat(t.hasOwnProperty("label")?t.label:"");r.viewer.removeComponent(n),i.includes(n)&&(i=i.filter((function(e){return e!==n})))})),this.loadedComponents[e]=i;var o=this.getStructureByLabel(e),a=o.cell.obj.data.units[0].model.id;t.forEach((function(t){var n=t.hasOwnProperty("label")?t.label:"";if("Polymer"===n&&r.viewer.removeComponent(n),n="".concat(e,".").concat(n),!i.includes(n)){var o,u=[],s=Bh(t.targets);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=wh({modelId:a},c.author?{authAsymId:c.chain_name}:{labelAsymId:c.chain_name});c.hasOwnProperty("residue_numbers")&&(c.author?l.authSeqId=c.residue_numbers:l.labelSeqId=c.residue_numbers),u.push(l)}}catch(e){s.e(e)}finally{s.f()}r.viewer.createComponent(n,u,t.representation)}i.push(n)})),o.components.forEach((function(t){var n=t.cell.obj.data.label;!i.includes(n)&&n.startsWith("".concat(e,"."))&&(r.viewer.removeComponent(n),i.splice(i.indexOf(n),1))}))}},{key:"getSelectionSubStructure",value:function(){var e,t=this.viewer._plugin.managers.structure.selection.entries.values().next().value._selection.structure,n=this.viewer._plugin.managers.structure.selection.entries.values().next().value._selection.elements[0].unit.elements,r=this.viewer._plugin.managers.structure.selection.entries.values().next().value._selection.elements[0].indices.map((function(e){return n[e]})),i=dp.Builder(),o=new Set(r),a=Bh(t.units);try{for(a.s();!(e=a.n()).done;){var u=e.value,s=r?xh(u.elements).filter((function(e){return o.has(e)})):u.elements;s.length&&i.addUnit(u.kind,u.model,u.conformation.operator,s,u.traits)}}catch(e){a.e(e)}finally{a.f()}return i.getStructure()}},{key:"syncSelections",value:function(){var e=this.state.selection;if(!e)return this.viewer.clearSelection("select"),void this.viewer.clearSelection("hover");var t=this.state.selection.molecule,n=null;if(t)n=this.getStructureByLabel(t);else{var r=this.viewer._plugin.managers.structure.hierarchy.current.structures.length-1;n=this.viewer._plugin.managers.structure.hierarchy.current.structures[r]}var i=n.cell.obj.data.units[0].model.id,o=[];if(e.targets){var a,u=Bh(e.targets);try{for(u.s();!(a=u.n()).done;){var s=a.value,c=wh({modelId:i},s.auth?{authAsymId:s.chain_name}:{labelAsymId:s.chain_name});s.hasOwnProperty("residue_numbers")&&(s.auth?c.authSeqId=s.residue_numbers:c.labelSeqId=s.residue_numbers),o.push(c)}}catch(e){u.e(e)}finally{u.f()}}this.viewer.select(o,e.mode,e.modifier);var l=this.getSelectionSubStructure();this.autoRotate([l],e.rotate)}},{key:"syncFocus",value:function(){var e=this.props.focus;if(e){var t=null==e?void 0:e.molecule;if(t){for(var n=null,r=this.viewer._plugin.managers.structure.hierarchy.currentComponentGroups,i=0;i<r.length&&!(n=r[i].filter((function(e){return e.cell.obj.data.state.label===t}))).length;i++);n&&n.length&&this.viewer._plugin.managers.camera.focusSpheres(n,(function(e){var t;if(!e.cell.state.isHidden)return null===(t=e.cell.obj)||void 0===t?void 0:t.data.boundary.sphere}))}}else this.viewer.clearFocus()}},{key:"syncShape",value:function(e){var t=this;this.loadedShapes[e.label]||"box"===e.shape&&this.viewer.createBoundingBox(e.label,e.min,e.max,e.radius,e.color).then((function(n){t.loadedShapes[e.label]=n}))}},{key:"syncViewerState",value:function(){this.syncItems(),this.syncFocus(),this.syncSelections()}},{key:"componentDidMount",value:function(){var e=this;this.viewerRef.current&&(this.viewer=new rcsbMolstar.Viewer(this.viewerRef.current,this.state.layout),this.syncViewerState());var t=null;this.viewerRef.current&&(this.resizeObserver=new ResizeObserver((function(n){var r,i=Bh(n);try{for(i.s();!(r=i.n()).done;)r.value,t&&clearTimeout(t),t=setTimeout(e.viewer.handleResize.bind(e.viewer),100)}catch(e){i.e(e)}finally{i.f()}})),this.resizeObserver.observe(this.viewerRef.current))}},{key:"componentDidUpdate",value:function(e){if(this.props.data!==e.data){var t=yh.a.differenceWith(e.data,this.props.data,yh.a.isEqual);if(t&&t.length){var n,r=Bh(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.label&&this.viewer.removeComponent(i.label)}}catch(e){r.e(e)}finally{r.f()}}var o=yh.a.cloneDeep(this.props.data||[]),a=e.data||[];o.forEach((function(e){a.forEach((function(t){e.label===t.label&&(e.prevComponent=t.component)}))})),this.state.data=o||[],this.syncItems()}this.props.selection!==e.selection&&(this.state.selection=this.props.selection,this.syncSelections()),this.state.focus!==this.props.focus&&(this.state.focus=this.props.focus,this.syncFocus())}},{key:"render",value:function(){return f.a.createElement("div",{id:this.props.id,ref:this.viewerRef,style:this.state.style,className:this.state.className})}}])&&Eh(t.prototype,n),r&&Eh(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(d.Component);Rh.defaultProps={data:[]},Rh.propTypes={id:m.a.string,style:m.a.object,className:m.a.string,data:m.a.any,layout:m.a.object,selection:m.a.object,focus:m.a.object,setProps:m.a.func};n(19);n.d(t,"MolstarViewer",(function(){return Rh}))}]);
//# sourceMappingURL=dash_molstar.min.js.map