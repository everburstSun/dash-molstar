{"version":3,"sources":["webpack://dash_molstar/webpack/bootstrap","webpack://dash_molstar/./node_modules/tslib/tslib.es6.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-util/now.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-util/nodejs-shims.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-util/uuid.js","webpack://dash_molstar/external \"PropTypes\"","webpack://dash_molstar/./node_modules/lodash/lodash.js","webpack://dash_molstar/(webpack)/buildin/global.js","webpack://dash_molstar/./node_modules/process/browser.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-task/util/scheduler.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-util/debug.js","webpack://dash_molstar/external \"React\"","webpack://dash_molstar/./node_modules/timers-browserify/main.js","webpack://dash_molstar/./node_modules/node-libs-browser/node_modules/buffer/index.js","webpack://dash_molstar/./node_modules/base64-js/index.js","webpack://dash_molstar/./node_modules/ieee754/index.js","webpack://dash_molstar/./node_modules/node-libs-browser/node_modules/isarray/index.js","webpack://dash_molstar/./node_modules/setimmediate/setImmediate.js","webpack://dash_molstar/./node_modules/xhr2/lib/browser.js","webpack://dash_molstar/(webpack)/buildin/module.js","webpack://dash_molstar/./src/rcsb-molstar.css?fbdd","webpack://dash_molstar/./src/rcsb-molstar.css","webpack://dash_molstar/./node_modules/css-loader/dist/runtime/api.js","webpack://dash_molstar/./node_modules/style-loader/lib/addStyles.js","webpack://dash_molstar/./node_modules/style-loader/lib/urls.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-math/linear-algebra/3d/common.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-math/interpolate.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-math/linear-algebra/3d/vec3.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-math/misc.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-math/linear-algebra/tensor.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-math/linear-algebra/3d/mat4.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-math/linear-algebra/3d/mat3.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-math/linear-algebra/3d/vec2.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-math/linear-algebra/3d/vec4.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-util/type-helpers.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-math/linear-algebra/3d/quat.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-math/linear-algebra/matrix/matrix.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-math/linear-algebra/matrix/svd.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-math/geometry/symmetry-operator.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-math/geometry/spacegroup/tables.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-math/geometry/spacegroup/construction.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-math/geometry/lookup3d/common.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-data/util/chunked-array.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-data/util/sort.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-data/util/buckets.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-data/util/equivalence-classes.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-data/util/hash-functions.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-data/db/column-helpers.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-io/reader/common/text/number-parser.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-data/db/column.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-util/bit-flags.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-util/string-builder.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-util/mask.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-util/value-cell.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-util/id-factory.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-util/index.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-data/db/table.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-data/db/database.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-data/util/grouping.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-data/int/tuple.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-data/util/array.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-data/int/impl/interval.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-data/int/interval.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-data/int/impl/sorted-array.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-data/int/sorted-array.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-data/int/impl/ordered-set.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-data/int/ordered-set.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-data/int/impl/segmentation.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-data/int/segmentation.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-data/int/linked-index.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-data/int/map.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-data/iterator.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-math/geometry/primitives/axes3d.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-math/geometry/primitives/sphere3d.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-math/geometry/primitives/box3d.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-util/fibonacci-heap.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-math/geometry/lookup3d/grid.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-math/linear-algebra/matrix/principal-axes.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-model/structure/coordinates/coordinates.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-model/structure/topology/topology.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-model/custom-property.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-util/array.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-task/util/user-timing.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-task/execution/observable.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-task/task.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-task/execution/runtime-context.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-task/execution/progress.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-math/graph/int-adjacency-graph.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-task/execution/synchronous.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-task/util/chunked.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-model-formats/structure/common/property.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-model-formats/structure/property/bonds/index-pair.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-io/reader/cif/data-model.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-io/reader/cif/schema.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-io/reader/common/text/column/token.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-model/structure/structure/element/location.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-data/generic/hash-set.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-data/generic/linked-list.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-data/generic/unique-array.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-script/language/type.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-script/language/expression.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-script/language/symbol.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-script/language/symbol-table/core.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-script/language/helpers.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-script/language/symbol-table/structure-query.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-script/language/symbol-table.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-script/language/symbol-table/internal.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-script/language/builder.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-util/color/spaces/lab.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-util/color/spaces/hcl.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-util/color/color.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-util/string.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-util/color/lists.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-util/color/scale.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-util/legend.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-model/structure/model/types/saccharides.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-model/structure/structure/carbohydrates/constants.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-util/set.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-model/structure/model/types/lipids.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-model/structure/model/types.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-model/structure/model/types/ions.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-math/geometry/centroid-helper.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-math/graph/inter-unit-graph.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-model/structure/structure/unit/bonds/data.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-model/structure/structure/unit/bonds/common.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-model/structure/model/properties/atomic/bonds.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-io/reader/cif/schema/mmcif.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-io/common/binary-cif/encoding.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-io/common/binary.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-io/common/binary-cif/classifier.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-util/number.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-io/common/binary-cif/array-encoder.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-io/writer/cif/encoder.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-io/writer/cif/encoder/util.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-io/writer/cif/encoder/text.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-io/common/utf8.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-io/common/msgpack/encode.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-io/writer/cif/encoder/binary.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-io/writer/cif.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-model-formats/structure/property/bonds/chem_comp.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-model-formats/structure/property/bonds/struct_conn.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-model/structure/structure/unit/bonds/intra-compute.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-model/structure/structure/unit/bonds/inter-compute.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-model/structure/structure/unit/bonds.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-model/structure/structure/unit/rings/compute.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-model/structure/util.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-model/structure/structure/unit/rings.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-data/int/sorted-ranges.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-model/structure/structure/util/principal-axes.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-math/geometry/boundary-helper.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-math/geometry/boundary.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-model/structure/structure/unit/bonds/element-set-intra-bond-cache.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-model/structure/model/properties/symmetry.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-model-formats/structure/property/symmetry.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-model/structure/structure/unit.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-model/structure/structure/util/lookup3d.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-model-formats/structure/property/assembly.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-model/structure/structure/unit/resonance.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-model/structure/structure/util/polymer.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-model/structure/query/selection.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-model/structure/structure/element/bundle.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-model/structure/query/utils/structure-set.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-model/structure/query/queries/internal.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-model/structure/query/context.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-model/structure/query/query.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-model/structure/query/utils/builders.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-model/structure/query/queries/generators.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-model/structure/structure/util/unique-subset-builder.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-io/reader/common/text/tokenizer.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-io/reader/result.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-io/reader/cif/schema/ccd.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-model/structure/model/properties/atomic/hierarchy.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-io/reader/cif/schema/bird.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-io/reader/cif/schema/dic.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-io/reader/cif/schema/density-server.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-io/reader/cif/schema/cif-core.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-io/reader/cif/schema/segmentation.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-io/reader/cif.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-model/structure/model/properties/atomic/measures.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-model-formats/structure/property/secondary-structure.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-model/structure/model/properties/seconday-structure.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-model-formats/structure/property/anisotropic.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-model/structure/model/properties/global-transform.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-io/reader/cif/schema/mmcif-extras.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-model-formats/structure/basic/util.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-model-formats/structure/basic/schema.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-model-formats/structure/common/entity.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-model-formats/structure/common/component.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-model-formats/structure/mmcif.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-util/object.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-util/zip/bin.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-util/zip/checksum.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-util/zip/util.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-util/zip/inflate.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-util/zip/deflate.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-util/data-source.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-util/zip/zip.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-util/assets.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-util/param-definition.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-model-props/computed/secondary-structure/dssp/backbone-hbonds.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-model-props/computed/secondary-structure/dssp/common.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-model-props/computed/secondary-structure/dssp/ladders.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-model-props/computed/secondary-structure/dssp/sheets.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-model-props/computed/secondary-structure/dssp.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-model-props/common/custom-structure-property.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-model-props/computed/secondary-structure/dssp/protein-info.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-model-props/computed/secondary-structure/dssp/trace-lookup.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-model-props/computed/secondary-structure/dssp/dihedral-angles.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-model-props/computed/secondary-structure/dssp/turns.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-model-props/computed/secondary-structure/dssp/helices.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-model-props/computed/secondary-structure/dssp/bends.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-model-props/computed/secondary-structure/dssp/bridges.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-model-props/computed/secondary-structure.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-model/structure/structure/properties.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-model/structure/model/properties/utils/residue-set.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-model/structure/query/queries/modifiers.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-model/structure/query/utils/structure-distance.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-model/structure/query/predicates.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-model/structure/query/queries/filters.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-model/structure/query/queries/combinators.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-model/structure/query/queries/atom-set.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-model/structure/query.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-model/structure/structure/symmetry.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-model/structure/structure/util/subset-builder.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-data/util/combination.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-model/structure/structure/carbohydrates/data.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-model/structure/structure/carbohydrates/compute.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-model/structure/structure/util/boundary.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-model/structure/structure/structure.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-model/structure/structure/element/loci.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-model/structure/structure/element/stats.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-model-props/common/custom-model-property.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-model-props/sequence/sifts-mapping.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-model/structure/structure/element/util.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-model/structure/export/categories/atom_site.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-model/structure/export/categories/secondary-structure.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-model/structure/export/categories/utils.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-model/structure/export/categories/misc.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-model/structure/export/categories/sequence.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-model/structure/export/mmcif.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-model/structure/export/categories/atom_site_operator_mapping.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-model/structure/model/properties/utils/atomic-index.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-model-formats/structure/basic/atomic.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-model/structure/model/properties/utils/atomic-derived.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-model/structure/model/properties/coarse/hierarchy.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-model/structure/model/properties/utils/coarse-keys.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-model/structure/model/properties/utils/coarse-ranges.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-model-formats/structure/basic/coarse.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-model/sequence/constants.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-model/sequence/sequence.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-model/structure/model/properties/sequence.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-model-formats/structure/basic/sequence.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-model-formats/structure/basic/sort.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-model/structure/model/properties/utils/atomic-ranges.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-model-formats/structure/basic/properties.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-util/memoize.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-model/structure/model/properties/common.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-model-formats/structure/basic/entities.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-model/structure/trajectory.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-model/structure/model/model.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-model/structure/model/properties/custom/indexed.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-model-formats/structure/basic/parser.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-model/structure/model/util.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-plugin-state/manager/focus-camera/orient-axes.js","webpack://dash_molstar/./node_modules/molstar/lib/mol-util/color/names.js","webpack://dash_molstar/./src/lib/components/MolstarViewer.react.js","webpack://dash_molstar/./src/lib/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","url","getCurrentScript","script","document","currentScript","doc_scripts","getElementsByTagName","scripts","length","push","filter","s","async","text","textContent","slice","src","split","join","jsonpScriptSrc","__jsonpScriptSrc__","chunkId","isLocal","test","isLocalScript","srcFragments","fileFragments","splice","extendStatics","b","setPrototypeOf","__proto__","Array","__extends","TypeError","String","__","this","constructor","__assign","assign","arguments","apply","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","e","rejected","result","done","then","__generator","body","f","y","g","_","label","sent","trys","ops","verb","iterator","v","op","pop","__spreadArray","to","from","pack","ar","concat","SuppressedError","now","window","performance","perf_1","process","hrtime","Date","RUNNING_IN_NODEJS","versions","node","XMLHttpRequest_","XMLHttpRequest","File_","File","File_NodeJs","fileBits","fileName","options","_a","blob","Blob","size","type","lastModified","webkitRelativePath","arrayBuffer","start","end","contentType","stream","UUID","_btoa","btoa","Buffer","toString","chars","create22","fromCharCode","Math","random","floor","replace","substr","createv4","is","x","FUNC_ERROR_TEXT","PLACEHOLDER","wrapFlags","argsTag","arrayTag","boolTag","dateTag","errorTag","funcTag","genTag","mapTag","numberTag","objectTag","regexpTag","setTag","stringTag","symbolTag","weakMapTag","arrayBufferTag","dataViewTag","float32Tag","float64Tag","int8Tag","int16Tag","int32Tag","uint8Tag","uint16Tag","uint32Tag","reEmptyStringLeading","reEmptyStringMiddle","reEmptyStringTrailing","reEscapedHtml","reUnescapedHtml","reHasEscapedHtml","RegExp","source","reHasUnescapedHtml","reEscape","reEvaluate","reInterpolate","reIsDeepProp","reIsPlainProp","rePropName","reRegExpChar","reHasRegExpChar","reTrimStart","reWhitespace","reWrapComment","reWrapDetails","reSplitDetails","reAsciiWord","reForbiddenIdentifierChars","reEscapeChar","reEsTemplate","reFlags","reIsBadHex","reIsBinary","reIsHostCtor","reIsOctal","reIsUint","reLatin","reNoMatch","reUnescapedString","rsComboRange","rsComboMarksRange","rsBreakRange","rsMathOpRange","rsAstral","rsBreak","rsCombo","rsDigits","rsDingbat","rsLower","rsMisc","rsFitz","rsNonAstral","rsRegional","rsSurrPair","rsUpper","rsMiscLower","rsMiscUpper","reOptMod","rsSeq","rsEmoji","rsSymbol","reApos","reComboMark","reUnicode","reUnicodeWord","reHasUnicode","reHasUnicodeWord","contextProps","templateCounter","typedArrayTags","cloneableTags","stringEscapes","freeParseFloat","parseFloat","freeParseInt","parseInt","freeGlobal","global","freeSelf","self","root","Function","freeExports","nodeType","freeModule","moduleExports","freeProcess","nodeUtil","types","require","binding","nodeIsArrayBuffer","isArrayBuffer","nodeIsDate","isDate","nodeIsMap","isMap","nodeIsRegExp","isRegExp","nodeIsSet","isSet","nodeIsTypedArray","isTypedArray","func","args","arrayAggregator","array","setter","iteratee","accumulator","index","arrayEach","arrayEachRight","arrayEvery","predicate","arrayFilter","resIndex","arrayIncludes","baseIndexOf","arrayIncludesWith","comparator","arrayMap","arrayPush","values","offset","arrayReduce","initAccum","arrayReduceRight","arraySome","asciiSize","baseProperty","baseFindKey","collection","eachFunc","baseFindIndex","fromIndex","fromRight","strictIndexOf","baseIsNaN","baseIndexOfWith","baseMean","baseSum","undefined","basePropertyOf","baseReduce","current","baseTimes","baseTrim","string","trimmedEndIndex","baseUnary","baseValues","props","cacheHas","cache","has","charsStartIndex","strSymbols","chrSymbols","charsEndIndex","countHolders","placeholder","deburrLetter","escapeHtmlChar","escapeStringChar","chr","hasUnicode","mapToArray","map","forEach","overArg","transform","arg","replaceHolders","setToArray","set","setToPairs","stringSize","lastIndex","unicodeSize","stringToArray","match","unicodeToArray","asciiToArray","charAt","unescapeHtmlChar","runInContext","context","uid","defaults","pick","Error","arrayProto","funcProto","objectProto","coreJsData","funcToString","idCounter","maskSrcKey","exec","keys","IE_PROTO","nativeObjectToString","objectCtorString","oldDash","reIsNative","Uint8Array","allocUnsafe","getPrototype","getPrototypeOf","objectCreate","propertyIsEnumerable","spreadableSymbol","isConcatSpreadable","symIterator","symToStringTag","getNative","ctxClearTimeout","clearTimeout","ctxNow","ctxSetTimeout","setTimeout","nativeCeil","ceil","nativeFloor","nativeGetSymbols","getOwnPropertySymbols","nativeIsBuffer","isBuffer","nativeIsFinite","isFinite","nativeJoin","nativeKeys","nativeMax","max","nativeMin","min","nativeNow","nativeParseInt","nativeRandom","nativeReverse","reverse","DataView","Map","Set","WeakMap","nativeCreate","metaMap","realNames","dataViewCtorString","toSource","mapCtorString","promiseCtorString","setCtorString","weakMapCtorString","symbolProto","symbolValueOf","valueOf","symbolToString","lodash","isObjectLike","isArray","LazyWrapper","LodashWrapper","wrapperClone","baseCreate","proto","isObject","baseLodash","chainAll","__wrapped__","__actions__","__chain__","__index__","__values__","__dir__","__filtered__","__iteratees__","__takeCount__","__views__","Hash","entries","clear","entry","ListCache","MapCache","SetCache","__data__","add","Stack","data","arrayLikeKeys","inherited","isArr","isArg","isArguments","isBuff","isType","skipIndexes","isIndex","arraySample","baseRandom","arraySampleSize","shuffleSelf","copyArray","baseClamp","arrayShuffle","assignMergeValue","eq","baseAssignValue","assignValue","objValue","assocIndexOf","baseAggregator","baseEach","baseAssign","copyObject","baseAt","paths","skip","number","lower","upper","baseClone","bitmask","customizer","stack","isDeep","isFlat","isFull","input","initCloneArray","tag","getTag","isFunc","cloneBuffer","initCloneObject","getSymbolsIn","copySymbolsIn","keysIn","baseAssignIn","getSymbols","copySymbols","Ctor","cloneArrayBuffer","dataView","buffer","byteOffset","byteLength","cloneDataView","cloneTypedArray","regexp","cloneRegExp","symbol","initCloneByTag","stacked","subValue","getAllKeysIn","getAllKeys","baseConformsTo","baseDelay","wait","baseDifference","includes","isCommon","valuesLength","outer","computed","valuesIndex","templateSettings","getMapData","pairs","LARGE_ARRAY_SIZE","createBaseEach","baseForOwn","baseEachRight","baseForOwnRight","baseEvery","baseExtremum","isSymbol","baseFilter","baseFlatten","depth","isStrict","isFlattenable","baseFor","createBaseFor","baseForRight","baseFunctions","isFunction","baseGet","path","castPath","toKey","baseGetAllKeys","keysFunc","symbolsFunc","baseGetTag","isOwn","unmasked","getRawTag","objectToString","baseGt","other","baseHas","baseHasIn","baseIntersection","arrays","othLength","othIndex","caches","maxLength","Infinity","seen","baseInvoke","parent","last","baseIsArguments","baseIsEqual","equalFunc","objIsArr","othIsArr","objTag","othTag","objIsObj","othIsObj","isSameTag","equalArrays","message","convert","isPartial","equalByTag","objIsWrapped","othIsWrapped","objUnwrapped","othUnwrapped","objProps","objLength","objStacked","othStacked","skipCtor","othValue","compared","objCtor","othCtor","equalObjects","baseIsEqualDeep","baseIsMatch","matchData","noCustomizer","srcValue","COMPARE_PARTIAL_FLAG","baseIsNative","baseIteratee","identity","baseMatchesProperty","baseMatches","baseKeys","isPrototype","baseKeysIn","nativeKeysIn","isProto","baseLt","baseMap","isArrayLike","getMatchData","matchesStrictComparable","isKey","isStrictComparable","hasIn","baseMerge","srcIndex","mergeFunc","safeGet","newValue","isTyped","isArrayLikeObject","isPlainObject","toPlainObject","baseMergeDeep","baseNth","baseOrderBy","iteratees","orders","getIteratee","comparer","sort","baseSortBy","objCriteria","criteria","othCriteria","ordersLength","compareAscending","order","compareMultiple","basePickBy","baseSet","basePullAll","indexOf","basePullAt","indexes","previous","baseUnset","baseRepeat","baseRest","setToString","overRest","baseSample","baseSampleSize","nested","baseSetData","baseSetToString","constant","baseShuffle","baseSlice","baseSome","baseSortedIndex","retHighest","low","high","MAX_ARRAY_LENGTH","mid","baseSortedIndexBy","valIsNaN","valIsNull","valIsSymbol","valIsUndefined","othIsDefined","othIsNull","othIsReflexive","othIsSymbol","setLow","baseSortedUniq","baseToNumber","baseToString","baseUniq","createSet","seenIndex","baseUpdate","updater","baseWhile","isDrop","baseWrapperValue","actions","action","baseXor","baseZipObject","assignFunc","valsLength","castArrayLikeObject","castFunction","stringToPath","castRest","castSlice","id","copy","typedArray","valIsDefined","valIsReflexive","composeArgs","partials","holders","isCurried","argsIndex","argsLength","holdersLength","leftIndex","leftLength","rangeLength","isUncurried","composeArgsRight","holdersIndex","rightIndex","rightLength","isNew","createAggregator","initializer","createAssigner","assigner","sources","guard","isIterateeCall","iterable","createCaseFirst","methodName","trailing","createCompounder","callback","words","deburr","createCtor","thisBinding","createFind","findIndexFunc","createFlow","flatRest","funcs","prereq","thru","wrapper","getFuncName","funcName","getData","isLaziable","plant","createHybrid","partialsRight","holdersRight","argPos","ary","arity","isAry","isBind","isBindKey","isFlip","getHolder","holdersCount","newHolders","createRecurry","fn","reorder","createInverter","toIteratee","baseInverter","createMathOperation","operator","defaultValue","createOver","arrayFunc","createPadding","charsLength","createRange","toFinite","baseRange","createRelationalOperation","toNumber","wrapFunc","isCurry","newData","setData","setWrapToString","createRound","precision","toInteger","pair","noop","createToPairs","baseToPairs","createWrap","srcBitmask","newBitmask","isCombo","mergeData","createCurry","createPartial","createBind","customDefaultsAssignIn","customDefaultsMerge","customOmitClone","arrLength","arrStacked","arrValue","flatten","otherFunc","getValue","stubArray","hasPath","hasFunc","isLength","ArrayBuffer","ctorString","isMaskable","stubFalse","otherArgs","oldArray","shortOut","reference","details","insertWrapDetails","updateWrapDetails","getWrapDetails","count","lastCalled","stamp","remaining","rand","memoize","memoizeCapped","charCodeAt","quote","subString","clone","difference","differenceBy","differenceWith","findIndex","findLastIndex","head","intersection","mapped","intersectionBy","intersectionWith","pull","pullAll","pullAt","union","unionBy","unionWith","unzip","group","unzipWith","without","xor","xorBy","xorWith","zip","zipWith","chain","interceptor","wrapperAt","countBy","find","findLast","forEachRight","groupBy","invokeMap","keyBy","partition","sortBy","before","bindKey","WRAP_BIND_FLAG","debounce","lastArgs","lastThis","maxWait","timerId","lastCallTime","lastInvokeTime","leading","maxing","invokeFunc","time","leadingEdge","timerExpired","shouldInvoke","timeSinceLastCall","trailingEdge","timeWaiting","remainingWait","debounced","isInvoking","cancel","flush","defer","delay","resolver","memoized","Cache","negate","overArgs","transforms","funcsLength","partial","partialRight","rearg","gt","gte","isError","isInteger","isNumber","isString","lt","lte","toArray","iteratorToArray","remainder","toLength","isBinary","assignIn","assignInWith","assignWith","at","propsIndex","propsLength","defaultsDeep","mergeWith","invert","invertBy","invoke","merge","omit","CLONE_DEEP_FLAG","basePick","pickBy","prop","toPairs","toPairsIn","camelCase","word","toLowerCase","capitalize","upperFirst","kebabCase","lowerCase","lowerFirst","snakeCase","startCase","upperCase","toUpperCase","pattern","hasUnicodeWord","unicodeWords","asciiWords","attempt","bindAll","methodNames","flow","flowRight","method","methodOf","mixin","over","overEvery","overSome","basePropertyDeep","range","rangeRight","augend","addend","divide","dividend","divisor","multiply","multiplier","multiplicand","round","subtract","minuend","subtrahend","after","castArray","chunk","compact","cond","conforms","baseConforms","properties","curry","curryRight","drop","dropRight","dropRightWhile","dropWhile","fill","baseFill","flatMap","flatMapDeep","flatMapDepth","flattenDeep","flattenDepth","flip","fromPairs","functions","functionsIn","initial","mapKeys","mapValues","matches","matchesProperty","nthArg","omitBy","once","orderBy","propertyOf","pullAllBy","pullAllWith","remove","rest","sampleSize","setWith","shuffle","sortedUniq","sortedUniqBy","separator","limit","spread","tail","take","takeRight","takeRightWhile","takeWhile","tap","throttle","toPath","isArrLike","unary","uniq","uniqBy","uniqWith","unset","update","updateWith","valuesIn","wrap","zipObject","zipObjectDeep","entriesIn","extend","extendWith","clamp","cloneDeep","cloneDeepWith","cloneWith","conformsTo","defaultTo","endsWith","target","position","escape","escapeRegExp","every","findKey","findLastKey","forIn","forInRight","forOwn","forOwnRight","inRange","baseInRange","isBoolean","isElement","isEmpty","isEqual","isEqualWith","isMatch","isMatchWith","isNaN","isNative","isNil","isNull","isSafeInteger","isUndefined","isWeakMap","isWeakSet","lastIndexOf","strictLastIndexOf","maxBy","mean","meanBy","minBy","stubObject","stubString","stubTrue","nth","noConflict","pad","strLength","padEnd","padStart","radix","floating","temp","reduce","reduceRight","repeat","sample","some","sortedIndex","sortedIndexBy","sortedIndexOf","sortedLastIndex","sortedLastIndexBy","sortedLastIndexOf","startsWith","sum","sumBy","template","settings","isEscaping","isEvaluating","imports","importsKeys","importsValues","interpolate","reDelimiters","evaluate","sourceURL","escapeValue","interpolateValue","esTemplateValue","evaluateValue","variable","times","toLower","toSafeInteger","toUpper","trim","trimEnd","trimStart","truncate","omission","search","substring","newEnd","unescape","uniqueId","prefix","each","eachRight","first","VERSION","isFilter","takeName","dropName","checkIteratee","isTaker","lodashFunc","retUnwrapped","isLazy","useLazy","isHybrid","isUnwrapped","onlyLazy","chainName","dir","isRight","view","getView","iterLength","takeCount","iterIndex","commit","wrapped","toJSON","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","fun","currentQueue","queue","draining","queueIndex","cleanUpNextTick","drainQueue","timeout","len","run","marker","runClearTimeout","Item","nextTick","title","browser","env","argv","version","on","addListener","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","cwd","chdir","umask","immediateActions","setImmediate","handler","_i","clearImmediate","handle","_window","_self","registerImmediate","html","channel","messagePrefix","onGlobalMessage","thisGlobal","WorkerGlobalScope","tasksByHandle","doc","nextHandle","runIfPresent","task","postMessage","importScripts","postMessageIsAsynchronous_1","oldOnMessage","onmessage","canUsePostMessage","event","addEventListener","attachEvent","MessageChannel","port1","port2","createElement","documentElement","onreadystatechange","removeChild","appendChild","createImmediateActions","resolveImmediate","res","Scheduler","immediatePromise","isProductionMode","val","DEBUG","Timeout","clearFn","_id","_clearFn","scope","setInterval","clearInterval","close","unref","ref","enroll","item","msecs","_idleTimeoutId","_idleTimeout","unenroll","_unrefActive","active","_onTimeout","base64","ieee754","kMaxLength","TYPED_ARRAY_SUPPORT","createBuffer","that","RangeError","encodingOrOffset","fromArrayLike","fromArrayBuffer","encoding","isEncoding","actual","write","fromString","obj","checked","fromObject","assertSize","isView","loweredCase","utf8ToBytes","base64ToBytes","slowToString","hexSlice","utf8Slice","asciiSlice","latin1Slice","base64Slice","utf16leSlice","swap","bidirectionalIndexOf","arrayIndexOf","arr","indexSize","valLength","read","buf","readUInt16BE","foundIndex","found","j","hexWrite","Number","strLen","parsed","utf8Write","blitBuffer","asciiWrite","str","byteArray","asciiToBytes","latin1Write","base64Write","ucs2Write","units","hi","lo","utf16leToBytes","fromByteArray","secondByte","thirdByte","fourthByte","tempCodePoint","firstByte","codePoint","bytesPerSequence","codePoints","decodeCodePointsArray","SlowBuffer","alloc","INSPECT_MAX_BYTES","foo","subarray","typedArraySupport","poolSize","_augment","species","configurable","allocUnsafeSlow","_isBuffer","compare","a","list","pos","swap16","swap32","swap64","equals","inspect","thisStart","thisEnd","thisCopy","targetCopy","_arr","ret","out","toHex","bytes","checkOffset","ext","checkInt","objectWriteUInt16","littleEndian","objectWriteUInt32","checkIEEE754","writeFloat","noAssert","writeDouble","newBuf","sliceLen","readUIntLE","mul","readUIntBE","readUInt8","readUInt16LE","readUInt32LE","readUInt32BE","readIntLE","pow","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","writeUIntLE","writeUIntBE","writeUInt8","writeUInt16LE","writeUInt16BE","writeUInt32LE","writeUInt32BE","writeIntLE","sub","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","targetStart","code","INVALID_BASE64_RE","leadSurrogate","toByteArray","stringtrim","base64clean","dst","b64","lens","getLens","validLen","placeHoldersLen","tmp","Arr","_byteLength","curByte","revLookup","uint8","extraBytes","parts","len2","encodeChunk","lookup","num","output","isLE","mLen","nBytes","eLen","eMax","eBias","nBits","NaN","rt","abs","log","LN2","currentlyRunningATask","attachTo","postMessageIsAsynchronous","webpackPolyfill","deprecate","children","content","locals","___CSS_LOADER_API_IMPORT___","useSourceMap","cssMapping","sourceMapping","sourceMap","encodeURIComponent","JSON","stringify","sourceURLs","sourceRoot","cssWithMappingToString","mediaQuery","dedupe","alreadyImportedModules","memo","stylesInDom","isOldIE","all","atob","getTarget","querySelector","getElement","styleTarget","HTMLIFrameElement","contentDocument","singleton","singletonCounter","stylesInsertedAtTop","fixUrls","addStylesToDom","styles","domStyle","refs","addStyle","listToStyles","newStyles","base","part","css","media","insertStyleElement","style","insertInto","lastStyleElementInsertedAtTop","insertAt","nextSibling","insertBefore","firstChild","removeStyleElement","parentNode","idx","createStyleElement","attrs","nonce","getNonce","addAttrs","el","setAttribute","default","styleIndex","applyToSingletonTag","URL","createObjectURL","revokeObjectURL","link","rel","createLinkElement","updateLink","href","applyToTag","newObj","newList","mayRemove","textStore","replaceText","replacement","Boolean","styleSheet","cssText","cssNode","createTextNode","childNodes","autoFixUrls","convertToAbsoluteUrls","oldSrc","location","baseUrl","protocol","host","currentDir","pathname","fullMatch","origUrl","newUrl","unquotedOrigUrl","$1","EPSILON","equalEps","eps","stop","alpha","p0","p1","p2","p3","tension","v0","v1","t2","k","_isFinite","zero","Vec3","z","scale","scaleAndAdd","squaredMagnitude","normalize","sqrt","dot","cross","ax","ay","az","bx","by","bz","hasNaN","setNaN","fromObj","toObj","fromArray","ofArray","div","scaleAndSub","addScalar","subScalar","trunc","distance","squaredDistance","magnitude","setMagnitude","inverse","lerp","slerpRelVec","angle","denominator","PI","theta","acos","slerp","cos","sin","hermite","factorTimes2","factor1","factor2","factor3","factor4","bezier","inverseFactor","inverseFactorTimesTwo","quadraticBezier","spline","zScale","transformMat4","w","transformDirection","transformMat4Offset","outO","aO","oM","transformMat3","transformQuat","q","qx","qy","qz","qw","ix","iy","iz","iw","tmp_dh_ab","tmp_dh_cb","tmp_dh_bc","tmp_dh_dc","tmp_dh_abc","tmp_dh_bcd","tmp_dh_cross","dihedralAngle","_angle","directionFromSpherical","inclination","azimuth","radius","exactEquals","a0","a1","a2","b0","b1","b2","rotTemp","makeRotation","mat","setIdentity","fromScaling","negUnit","axis","fromRotation","isZero","projectPointOnVector","point","vector","origin","tmpProjectPlane","projectOnVector","projectPointOnPlane","normal","tmpProject","projectOnPlane","orthogonalize","matchDirection","triangleNormalTmpAB","triangleNormalTmpAC","triangleNormal","toPrecision","unit","unitX","unitY","unitZ","negUnitX","negUnitY","negUnitZ","PiDiv180","degToRad","deg","radToDeg","rad","Vec2","assertUnreachable","Mat4","setZero","ofRows","rows","areEqual","setValue","getRotation","trace","S","tryInvert","a00","a01","a02","a03","a10","a11","a12","a13","a20","a21","a22","a23","a30","a31","a32","a33","b00","b01","b02","b03","b04","b05","b06","b07","b08","b09","b10","b11","det","b3","isIdentity","fromBasis","getTranslation","getScaling","m11","m12","m13","m21","m22","m23","m31","m32","m33","extractRotation","scaleX","scaleY","scaleZ","transpose","console","warn","mulOffset","oOut","oA","oB","mul3","translate","fromTranslation","setTranslation","setAxes","right","up","rotate","b12","b20","b21","b22","scaleUniformly","fromUniformScaling","fromMat3","compose","quaternion","x2","y2","z2","xx","xy","xz","yy","yz","zz","wx","wy","wz","sx","sy","sz","_v3","_m4","determinant","decompose","invSX","invSY","invSZ","makeTable","isRotationAndTranslation","_isRotationAndTranslation","isTranslationAndUniformScaling","_isTranslationAndUniformScaling","fromQuat","yx","zx","zy","fromEuler","euler","ae","af","be","bf","ce","cf","de","df","ac","ad","bc","bd","perspective","left","top","bottom","near","far","ortho","h","lookAt","eye","center","x0","x1","y0","y1","z0","z1","eyex","eyey","eyez","upx","upy","upz","centerx","centery","centerz","targetTo","fromPermutation","perm","getMaxScaleOnAxis","scaleXSq","scaleYSq","scaleZSq","xAxis","yAxis","zAxis","rotX90","rotX180","rotY90","rotY180","rotY270","rotZ90","rotZ180","rotXY90","rotZY90","rotZYZ90","rotZ90X180","rotY90Z180","Mat3","fromMat4","mulScalar","symmtricFromUpper","symmtricFromLower","piThird","tmpB","symmetricEigenvalues","a3","Identity","phi","tmpR0","tmpR1","tmpR2","tmpR0xR1","tmpR0xR2","tmpR1xR2","eigenvector","d0","d1","d2","dmax","imax","directionTransform","innerProduct","Vec4","fromSphere","sphere","ofSphere","toVec3Array","fromVec3Array","norm","squaredNorm","Quat","setAxisAngle","omega","cosom","sinom","scale0","scale1","aw","bw","fRoot","fTrace","getAxisAngle","out_axis","rotateX","rotateY","rotateZ","calculateW","invDot","conjugate","c1","c2","c3","s1","s2","s3","fromUnitVec3Temp","fromUnitVec3","rotTmpVec3","rotTmpVec3UnitX","rotTmpVec3UnitY","rotationTo","sqlerpTemp1","sqlerpTemp2","sqlerp","axesTmpMat","Tensor","Space","dimensions","axisOrderSlowToFast","ctor","layout","axisOrderFastToSlow","accessDimensions","defaultCtor","Float64Array","Layout","accessors","dataOffset","getCoords","rank","creator","ao","rows_1","cols_1","u_1","v_1","uv_1","u_2","v_2","uv_2","u_3","v_3","uv_3","u_4","v_4","uv_4","u_5","v_5","uv_5","u_6","v_6","uv_6","coords","dim","d_1","ds","coord","acc","xs","indices","space","Data1","Vector","ColumnMajorMatrix","cols","RowMajorMatrix","toMat4","toMat3","toVec3","toVec4","areEqualExact","invertAxisOrder","convertToCanonicalAxisIndicesFastToSlow","Int32Array","convertToCanonicalAxisIndicesSlowToFast","Matrix","A","i0","i1","hypot","Float32Array","makeZero","nrows","ncols","md","mtd","mi","mti","ri","multiplyABt","matA","matB","mrows","cd","matAp","outP","pB","pMatA","meanRows","subRows","row","svd","W","U","V","_m","_n","amt","wmt","vmt","At","astep","_W","Vt","vstep","n1","iter","maxIter","Ai","Aj","Vi","Vj","changed","t0","t1","sd","beta","gamma","delta","seed","val0","asum","JacobiSVDImpl","_zeroRadius","projectCoord","isW1","projectX","_b","matrix","ys","zs","tx","projectY","ty","projectZ","tz","SymmetryOperator","info","assembly","ncsId","hkl","spgrOp","_hkl","suffix","operId","getSuffix","RotationTranslationEpsilon","DefaultName","Default","checkIfRotationAndTranslation","rot","ofRotationAndOffset","_q1","_q2","_q3","_axis","_createMapping","invariantPosition","createCoordinateMapper","createProjections","coordinates","lerpFromIdentity","_t","tar","second","createMapping","TransformData","OperatorData","GroupData","SpacegroupNameToIndexMap","getSpacegroupNumberFromIndex","Result","ChunkedArray","SpacegroupName","names","SpacegroupNumber","numbers","arrayLess","arraySwap","medianPivotIndex","cmp","ctx","insertionSort","quickSort","li","partitionArrayAsc","pivot","insertionSortArrayAsc","sortArray","quickSortArrayAsc","sortArrayRange","sortAsc","bs","makeBuckets","getKey","sortBuckets","buckets","bucketList","prevKey","isBucketed","bucket","bucketOffsets","sorted","reorderedIndices","_makeBuckets","SpacegroupCell","nameOrNumber","anglesInRadians","getSpacegroupIndexFromNumber","getSpacegroupIndex","Zero","volume","xScale","yScale","z3","fromFractional","toFractional","cell","Spacegroup","operators","r1","ids","r2","r3","ZeroP1","_ijkVec","_tempMat","setOperatorMatrix","spacegroup","getSymmetryOperator","_translationRef","_translationRefSymop","_translationRefOffset","_translationSymop","s0","getShift","formatElement","rotation","shift","getSymmetryOperatorRef","_j","_k","getOperatorXyz","distSq","squaredDistances","reset","allocateNext","nextSize","growBy","elementSize","currentSize","currentIndex","currentChunk","allocatedSize","chunks","_compact","doNotResizeSingleton","lastChunk","chunkSize","add4","elementCount","add3","add2","addRepeat","addMany","initialChunkOrCount","initialChunk","EquivalenceClassesImpl","getHash","byHash","groups","createGroup","hash","group_1","hash2","cantorPairing","sortedCantorPairing","hashFnv32a","hval","il","getArrayBounds","rowCount","params","createArray","fillArrayValues","_e","createAndFillArray","BYTES_PER_ELEMENT","typedArrayWindow","_start","neg","parseScientific","main","BitFlags","StringBuilder","constColumn","schema","valueKind","__array","isDefined","areValuesEqual","rowA","rowB","lambdaColumn","arrayColumn","T","valueType","Column","Schema","Undefined","ofLambda","spec","baseType","float","ustr","lstr","int","Str","Int","Float","Aliased","List","itemParse","ValueKind","Present","NotPresent","Unknown","ofConst","ofIntArray","ofFloatArray","ofStringArray","ofStringAliasArray","ofStringListArray","ofIntTokens","tokens","ofFloatTokens","ofStringTokens","column","vk","windowTyped","ave","windowFull","windowColumn","checkIndentity","checkIdentity","arrayView","viewFull","createFirstIndexMap","createFirstIndexMapOfColumn","createIndexer","createIndexerOfColumn","mapToArrayImpl","areArraysEqual","va","vb","areColumnsEqual","indicesOf","columnIndicesOf","asArrayColumn","copyToArray","cArray","flags","flag","hasAll","toCheck","chunkCapacity","capacity","getString","builder","getSize","getChunks","__paddingSpaces","whitespace","writeSafe","newline","whitespace1","writePadLeft","totalWidth","writePadRight","padding","writeInteger","writeIntegerAndSpace","writeIntegerPadLeft","writeIntegerPadRight","precisionMultiplier","writeFloatPadLeft","writeFloatPadRight","Mask","ValueRef","_ascSort","idFactory","firstId","maxId","MAX_SAFE_INTEGER","_nextId","EmptyMask","SingletonMask","BitMask","mask","_forEach","AllMask","SetMask","_flat","ofSet","ofMask","always","never","ofUniqueIndices","_c","Int8Array","_d","hasAny","xs_1","complement","against","set_1","target_1","ValueBox","ValueCell","metadata","withValue","box","updateIfChanged","arrayEqual","arr1","arr2","shallowEqualObjects","keys_1","Database","Table","table","columns","_rowCount","_columns","_schema","columns_5","getRow","pickColumns","ofColumns","ofPartialColumns","partialColumns","columns_1","ofUndefinedColumns","columns_2","_loop_1","columns_3","ofArrays","columns_4","_view","columns_6","tables","tables_1","columns_7","tables_2","columns_8","columns_9","columnToArray","pickRow","getRows","toArrays","formatToString","sb","headerLength","ofTables","tableNames","_name","_tableNames","getTablesAsRows","database","GroupingImpl","getGrouping","iterableToArray","it","createRangeArray","arrayPickIndices","IntTuple","data_1","_int32","_float64","_int32_1","_float64_1","fst","snd","diff","compareInArray","hashCode","ofRange","ofBounds","ofLength","getAt","Interval","sa","isSubInterval","findPredecessorIndex","findPredecessorIndexInInterval","bounds","bS","bE","findRange","Empty","ofSingleton","areIntersecting","intersectionSize","intersect","ofSortedArray","ofUnsortedArray","isRange","hash3","binarySearchRange","indexOfInInterval","indexOfInRange","aSize","binarySearchPredIndexRange","sv","linearSearchPredInRange","getSuitableIntersectionRange","startI","startJ","endI","endJ","lenB","equal","lenA","commonCount","getCommonCount","sI","sJ","deduplicate","SortedArray","_maxIntRangeRet","la","lb","ratio","isSubset","OrderedSet","areEqualIS","areIntersectingSI","minA","maxA","minB","maxB","isSubsetIS","isSubsetSI","intersectionSizeSI","sizeA","sizeB","lSize","lMin","rSize","rMin","areRangesIntersecting","unionII","unionSI","intersectSI","subtractII","interval","resultSize","subtractIS","subtractSI","bSize","isRangeSubset","indexedIntersect","idxA","lenI","O","offsets","ofOffsets","segments","getSegment","projectValue","start_1","forEachSegment","segment","isInterval","isSortedArray","Segmentation","SegmentIterator","segmentMap","inputRange","segmentMin","segmentMax","setRange","hasNext","updateSegmentRange","move","updateValue","segmentEnd","setEnd","sMin","sMax","setSegment","segs","transientSegments","LinkedIndexImpl","prev","IntMap","Mutable","keyArray","asImmutable","addFrom","Iterator","ArrayIteratorImpl","lastValue","RangeIteratorImpl","ValueIterator","MapIteratorImpl","FilterIteratorImpl","findNext","empty","Value","Range","Axes3D","dirA","dirB","dirC","axes","tmpSizeV","tmpTransformMat3","Sphere3D","hasExtrema","extrema","setExtrema","computeBounding","cx","cy","cz","radiusSq","dx","dy","dz","fromBox3D","fromAxes3D","tmpCenter","fromDimensionsAndTransform","cpA","cpB","cpC","cpD","cpE","cpF","cpG","cpH","tmpAddVec3","addVec3","expandBySphere","tmpDir","expand","positions","axes_1","calculateMomentsAxes","sA","sB","sC","br","overlaps","distanceToVec","Box3D","tmpV","addVec3Array","setEmpty","fromSphere3D","addSphere3D","intersectsSphere3D","MAX_VALUE","tmpTransformV","minX","minY","minZ","maxX","maxY","maxZ","containsVec3","containsSphere3D","nearestIntersectionWithRay","tmin","tmax","tymin","tymax","tzmin","tzmax","invDirX","invDirY","invDirZ","Node","child","degree","isMarked","tmpIt","NodeListIterator","_index","_items","_len","FibonacciHeap","_minNode","_nodeCount","_compare","_defaultCompare","decreaseKey","newKey","_cut","_cascadingCut","delete","extractMinimum","extractedMin","nextInRootList","_removeNodeFromList","_mergeLists","_consolidate","findMinimum","insert","_getNodeListSize","minNode","newMinNode","aux","auxCurrent","_linkHeaps","GridLookup3D","boundary","cellSizeOrCount","GridLookup3DImpl","structure","expandedBox","cellCount","cellSize","inputData","state","sX","sY","sZ","px","py","pz","maxRadius","bucketCount","grid","Uint32Array","bucketIndex","bucketCounts","bucketOffset","bucketFill","bucketArray","bucketIdx","boundingBox","boundingSphere","_build","stopIf","isCheck","nearest","indicesCount","gX","gY","gZ","gridId","gCount","expandGrid","nextGCount","arrG","tmpArrG1","nextArrG","tmpArrG2","maxRange","expandRange","gridPointsFinished","expandedArrG","tmpArrG3","sqMaxRadius","tmpSetG","tmpHeapG","tmpVec","tmpDirVec","dX","dY","dZ","arrGLen","ig","_maxRange","ki","bIdx","tmpSetG2","xPos","yPos","zPos","xP","yP","zP","queryNearest","check","inputRadius","rSq","loX","loY","loZ","hiX","hiY","hiZ","desc","PrincipalAxes","points","n3","pointsM","pointsT","calculateNormalizedAxes","momentsAxes","ofPositions","boxAxes","calculateBoxAxes","tmpBoxVec","d1a","d1b","d2a","d2b","d3a","d3b","dp1","dt1","dp2","dt2","dp3","dt3","okDirA","okDirB","okDirC","addCornerHelper","d3","Coordinates","frames","deltaTime","timeOffset","hasCell","hasVelocities","velocities","hasForces","forces","getAtomicConformation","frame","fields","ordering","xyzOrdering","frozen","getOrderedCoords","getSourceOrderedCoords","getInvertedCoords","reorderCoordsInPlace","atomId","occupancy","B_iso_or_equiv","xyzDefined","_reorderBuffer","basic","bonds","format","sourceData","getUUID","__key","CustomProperties","_list","_set","_refs","_assets","hasReference","assets","prevAssets","prevAssets_1","dispose","assets_1","arrayMinMax","fillSerial","arraySetAdd","UserTiming","timingEnabled","mark","measure","defaultProgress","taskId","taskName","startedTime","canAbort","isIndeterminate","ProgressInfo","observer","updateRateMs","token","abortToken","abortRequested","treeAborted","reason","lastNotified","progress","tryAbort","cloneTree","execute","e_1","markStart","markEnd","abort","isAbort","isAborted","onChildrenFinished","onAbort","abortTree","notifyObserver","Aborted","snapshot","requestAbort","snapshotProgress","startMarkName","endMarkName","Progress","ObservableRuntimeContext","isSynchronous","isExecuting","lastUpdatedTime","checkAborted","updateProgress","dontNotify","runChild","e_2","SyncRuntimeContext","SynchronousRuntimeContext","shouldUpdate","chunkedSubtask","globalProcessed","globalTime","lastSize","currentTime","Task","Impl","getNextId","ExecuteObservable","runAsChild","ExecuteObservableChild","ExecuteInContext","_this","fail","resolveInContext","Synchronous","_format","newPrefix","subTree","IntAdjacencyGraph","vertexCount","edgeCount","aa","ab","ba","bb","bo","edgeProps","pa","pb","IntGraphImpl","getEdgeIndex","getDirectedEdgeIndex","getVertexEdgeCount","EdgeBuilder","curA","curB","bucketSizes","slotCount","createGraph","addNextEdge","oa","ob","addAllEdges","assignProperty","assignDirectedProperty","propA","valueA","propB","valueB","DirectedEdgeBuilder","UniqueEdgeBuilder","included","addEdge","u","getGraph","fromVertexPairs","getEdgeBuiler","graphBuilder","induceByVertices","graph","vertexIndices","vertexMap","newEdgeCount","newOffsets","edgeIndices","newA","newB","eo","vo","newEdgeProps","connectedComponents","vCount","componentCount","componentIndex","componentIndex_1","currentComponent","neighbor","cIdx","eI","_eI","areVertexSetsConnected","verticesA","verticesB","maxDistance","visited","areVertexSetsConnectedImpl","frontier","newFrontier","jl","FormatPropertyProvider","IndexPairBonds","FieldPath","FormatRegistry","applicable","kind","obtain","isApplicable","model","indexA","indexB","operatorA","operatorB","areValuesEqualProvider","aS","CifCategory","fieldNames","getField","toDatabase","aliases","createTable","header","createDatabase","getColumnCtor","field","toStringArray","createColumn","toIntArray","toFloatArray","createTensorColumn","category","zeroOffset","namingVariant","getName","zeroIndexed","descriptor","formatRegistry","store","asDynamic","_dynamicPropertyData","_staticPropertyData","customProperties","Descriptor","Provider","DefaultProps","fromData","getEdgeIndexForOperators","opI","opJ","opA","opB","ofFields","ofTable","name_1","ofColumn","CifField","ofStrings","binaryEncoding","separator_1","ofString","ofNumbers","ofTokens","ofUndefined","canonical","pathA","pathB","asCanonical","_isDefined","fieldKeys","this_1","fType","createListColumn","fieldKeys_1","flatFrame","canonicalPath","aliased","canonicalAliased","cat","categories","flattenFrame","fields_1","Location","element","pA","conformation","residueIndex","atomicHierarchy","residueAtomSegments","chainIndex","chainAtomSegments","HashSetImpl","HashSet","createListNode","inList","UniqueArray","Type","Expression","Arguments","Types","LinkedListImpl","addFirst","addLast","removeFirst","removeLast","Argument","description","isOptional","isRest","namespace","Apply","MSymbol","normalizeTable","_normalizeTable","formatKey","currentNs","newNs","childKey","symbolList","_symbolList","regex","toLocaleLowerCase","unaryOp","Dictionary","0","binOp","nonEmpty","binRel","1","OneOf","vals","values_1","Variable","isConstraint","Container","alias","Union","Any","AnyValue","Num","Bool","oneOfValues","isApply","isArgumentsArray","isArgumentsMap","isLiteral","None","AnyVar","AnyValueVar","ConstrainedVar","Regex","Fn","Flags","core","bool","bitflags","compositeKey","logic","not","and","or","ctrl","eval","if","2","assoc","neq","gr","gre","math","mult","mod","invertCantorPairing","roundInt","sign","cbrt","tan","asin","atan","sinh","cosh","tanh","exp","log10","atan2","SymbolList","SymbolList_1","atomProp","ElementReference","bondProp","ElementSymbol","AtomName","BondFlag","BondFlags","SecondaryStructureFlag","SecondaryStructureFlags","RingFingerprint","EntityType","EntitySubtype","ObjectPrimitive","ResidueId","ElementSet","ElementSelection","ElementSelectionQuery","MolScriptSymbolTable","structureQuery","elementSymbol","atomName","entityType","bondFlags","ringFingerprint","secondaryStructureFlags","authResidueId","labelResidueId","3","slot","elementSetReduce","atomGroups","bondedAtomicPairs","rings","queryInSelection","query","modifier","queryEach","intersectBy","exceptBy","cluster","includeSurroundings","surroundingLigands","includeConnected","wholeResidues","expandProperty","withSameAtomProperties","intersectedBy","within","isConnectedTo","disjunct","combinator","distanceCluster","selections","atomSet","atomCount","countQuery","propertySet","atomProperty","vdw","mass","atomicNumber","atomKey","bondCount","sourceIndex","operatorName","operatorKey","modelIndex","modelLabel","topology","connectedComponentKey","macromolecular","residueKey","chainKey","entityKey","isHet","label_atom_id","label_alt_id","label_comp_id","label_asym_id","label_entity_id","label_seq_id","auth_atom_id","auth_comp_id","auth_asym_id","auth_seq_id","pdbx_PDB_ins_code","pdbx_formal_charge","entitySubtype","entityPrdId","entityDescription","objectPrimitive","secondaryStructureKey","isModified","modifiedParentName","isNonStandard","chemCompType","bondProperty","atomA","atomB","internal","bundleElement","groupedUnits","ranges","bundle","elements","hex","MolScriptBuilder","struct","es","re","_acp","_ammp","_atp","acp","atp","ammp","_aps","acpSet","atpSet","ammpSet","Lab","toHcl","lab","darken","amount","Kn","fromColor","color","toRgb","rgb_xyz","xyz_lab","Xn","Yn","Zn","rgbToXyz","fromHcl","hcl","toLab","toColor","lab_xyz","xyz_rgb","fromRgb","lighten","tmpSaturateHcl","saturate","desaturate","T0","T2","Hcl","tmpFromColorLab","fromLab","tmpToColorLab","tmpDarkenLab","Color","fromNormalizedRgb","toStyle","hexColor","toHexStyle","toHexString","toRgbString","toRgbNormalized","fromHexStyle","fromHexString","fromNormalizedArray","toArrayNormalized","toVec3Normalized","g1","_luminance","luminance","_sRGBToLinear","_linearToSRGB","contrast","l1","l2","sRGBToLinear","linearToSRGB","splitCamelCase","splitSnakeCase","splitKebabCase","stringToWords","ColorLists","ColorListOptions","getColorListFromName","DefaultColorScaleProps","domain","listOrName","minLabel","maxLabel","colors","count1","setDomain","_min","_max","src_1","off_1","max_1","o1","tf","colorToArray","normalizedColorToArray","ScaleLegend","SaccharideShape","SaccharideNames","SaccharideType","SaccharideColors","Blue","Green","Yellow","Orange","Pink","Purple","LightBlue","Brown","Red","Secondary","Hexose","HexNAc","Hexosamine","Hexuronate","Deoxyhexose","DeoxyhexNAc","DiDeoxyhexose","Pentose","Deoxynonulosonate","DiDeoxynonulosonate","Assigned","FilledSphere","FilledCube","CrossedCube","DividedDiamond","FilledCone","DevidedCone","FlatBox","FilledStar","FilledDiamond","FlatDiamond","FlatHexagon","Pentagon","UnknownSaccharideComponent","abbr","Monosaccharides","SaccharidesSnfgMap","saccharide","CommonSaccharideNames","Glc","Man","Gal","Gul","Alt","All","Tal","Ido","GlcNAc","ManNAc","GalNAc","GulNAc","AltNAc","AllNAc","TalNAc","IdoNAc","GlcN","ManN","GalN","GulN","AltN","AllN","TalN","IdoN","GlcA","ManA","GalA","GulA","AltA","AllA","TalA","IdoA","Qui","Rha","Fuc","QuiNAc","RhaNAc","FucNAc","Oli","Tyv","Abe","Par","Dig","Col","Ara","Lyx","Xyl","Rib","Kdn","Neu5Ac","Neu5Gc","Neu","Sia","Pse","Leg","Aci","Bac","LDmanHep","Kdo","Dha","DDmanHep","MurNAc","MurNGc","Mur","Api","Fru","Tag","Sor","Psi","CharmmSaccharideNames","GlycamSaccharideNames","DefaultSaccharideCompIdMap","common","charmm","glycam","SetUtils","SaccharideCompIdMap","isSuperset","setA","setB","elem","sets","unionMany","unionManyArrays","differenceSize","LipidNames","IonNames","_esCache","letters","letters_1","letters_2","letters_3","SecondaryStructureType","PolymerTypeAtomRoleId","directionFrom","directionTo","backboneStart","backboneEnd","coarseBackbone","DProteinComponentTypeNames","LProteinComponentTypeNames","GammaProteinComponentTypeNames","BetaProteinComponentTypeNames","ProteinTerminusComponentTypeNames","OtherProteinComponentTypeNames","ProteinComponentTypeNames","DNAComponentTypeNames","RNAComponentTypeNames","SaccharideComponentTypeNames","OtherComponentTypeNames","IonComponentTypeNames","LipidComponentTypeNames","WaterNames","AminoAcidNamesL","AminoAcidNamesD","AminoAcidNames","RnaBaseNames","DnaBaseNames","PeptideBaseNames","BaseNames","PolymerNames","getMoleculeType","compType","compId","getPolymerType","molType","getComponentType","getEntityType","getEntitySubtype","isPolymer","moleculeType","isNucleic","isProtein","SecondaryStructureMmcif","helx_lh_27_p","helx_lh_3t_p","helx_lh_al_p","helx_lh_a_n","helx_lh_b_n","helx_lh_ga_p","helx_lh_n","helx_lh_om_p","helx_lh_ot_n","helx_lh_ot_p","helx_lh_p","helx_lh_pi_p","helx_lh_pp_p","helx_lh_z_n","helx_n","helx_ot_n","helx_ot_p","helx_p","helx_rh_27_p","helx_rh_3t_p","helx_rh_al_p","helx_rh_a_n","helx_rh_b_n","helx_rh_ga_p","helx_rh_n","helx_rh_om_p","helx_rh_ot_n","helx_rh_ot_p","helx_rh_p","helx_rh_pi_p","helx_rh_pp_p","helx_rh_z_n","strn","turn_ot_p","turn_p","turn_ty1p_p","turn_ty1_p","turn_ty2p_p","turn_ty2_p","turn_ty3p_p","turn_ty3_p","bend","SecondaryStructurePdb","4","5","6","7","8","9","10","SecondaryStructureStride","H","G","I","E","B","C","SecondaryStructureDssp","BondType","fromName","isCovalent","isAll","Names","isName","fromNames","CentroidHelper","helper","posA","posB","v3add","v3squaredDistance","v3distance","includeStep","finishedIncludeStep","radiusStep","radiusSphereStep","getSphere","getCount","fromArrays","fromProvider","fromPairProvider","InterUnitGraph","edges","edgeKeyIndex","vertexKeyIndex","pairEdgesArray","pairEdges","connectedIndices","getEdges","edgeInfo","unitA","unitB","edgeKey","getEdgeKey","vertexKey","getVertexKey","getConnectedUnits","emptyArray","hasEdge","getEdge","getEdgeIndices","UnitPairEdges","edgeMap","hasEdges","addMapEntry","Builder","startUnitPair","uA","uB","mapAB","mapBA","linkedA","linkedB","linkCount","finishUnitPair","getMap","InterUnitBonds","UnitPairBonds","_super","getBondFromLocation","isAtomic","aUnit","bUnit","aIndex","bIndex","getBondIndexFromLocation","DefaultBondComputationProps","forceCompute","noCompute","__ElementIndex","__ElementBondThresholds","11","12","13","14","15","16","17","19","20","21","22","23","24","25","26","27","28","29","30","31","33","37","38","39","40","41","42","43","44","45","46","47","48","49","50","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103","104","105","106","107","108","109","__ElementPairThresholds","35","54","84","85","86","112","113","114","129","135","144","152","170","180","202","222","224","225","243","269","293","316","420","480","512","544","612","629","665","813","854","894","896","937","938","981","1258","1309","1484","1763","1823","1882","1944","2380","3367","3733","3819","3821","4736","5724","5959","6519","6750","8991","MetalsSet","metals_1","getElementIdx","getElementThreshold","getPairingThreshold","elementIndexA","elementIndexB","thresholdA","thresholdB","thresholdAB","getElementPairThreshold","H_ID","isHydrogen","IntraBondOrderTable","getIntraBondOrderFromTable","atomId1","atomId2","InterBondOrderTable","getInterBondOrderFromTable","compId1","compId2","Encoding","mmCIF_Schema","atom_site","Cartn_x","Cartn_y","Cartn_z","group_PDB","type_symbol","pdbx_PDB_model_num","pdbx_label_index","pdbx_sifts_xref_db_name","pdbx_sifts_xref_db_acc","pdbx_sifts_xref_db_num","pdbx_sifts_xref_db_res","ihm_model_id","atom_site_anisotrop","U_esd","pdbx_auth_seq_id","pdbx_auth_asym_id","pdbx_auth_atom_id","pdbx_auth_comp_id","pdbx_label_seq_id","pdbx_label_alt_id","pdbx_label_asym_id","pdbx_label_atom_id","pdbx_label_comp_id","atom_sites","entry_id","fract_transf_matrix","fract_transf_vector","audit_author","pdbx_ordinal","identifier_ORCID","audit_conform","dict_location","dict_name","dict_version","angle_alpha","angle_beta","angle_gamma","length_a","length_b","length_c","Z_PDB","pdbx_unique_axis","chem_comp","formula","formula_weight","mon_nstd_flag","pdbx_synonyms","chem_comp_bond","atom_id_1","atom_id_2","comp_id","value_order","pdbx_stereo_config","pdbx_aromatic_flag","citation","book_publisher","country","journal_abbrev","journal_id_ASTM","journal_id_CSD","journal_id_ISSN","journal_volume","page_first","page_last","year","pdbx_database_id_DOI","pdbx_database_id_PubMed","citation_author","citation_id","ordinal","database_2","database_id","database_code","entity","src_method","pdbx_description","pdbx_number_of_molecules","pdbx_mutation","pdbx_fragment","pdbx_ec","entity_poly","entity_id","nstd_linkage","nstd_monomer","pdbx_strand_id","pdbx_seq_one_letter_code","pdbx_seq_one_letter_code_can","pdbx_target_identifier","entity_poly_seq","hetero","mon_id","exptl","software","classification","date","pdbx_descriptor","struct_asym","pdbx_modified","pdbx_blank_PDB_chainid_flag","struct_conf","beg_label_asym_id","beg_label_comp_id","beg_label_seq_id","beg_auth_asym_id","beg_auth_comp_id","beg_auth_seq_id","conf_type_id","end_label_asym_id","end_label_comp_id","end_label_seq_id","end_auth_asym_id","end_auth_comp_id","end_auth_seq_id","pdbx_beg_PDB_ins_code","pdbx_end_PDB_ins_code","pdbx_PDB_helix_class","pdbx_PDB_helix_length","pdbx_PDB_helix_id","struct_conn","conn_type_id","ptnr1_label_asym_id","ptnr1_label_atom_id","ptnr1_label_comp_id","ptnr1_label_seq_id","ptnr1_auth_asym_id","ptnr1_auth_comp_id","ptnr1_auth_seq_id","ptnr1_symmetry","ptnr2_label_asym_id","ptnr2_label_atom_id","ptnr2_label_comp_id","ptnr2_label_seq_id","ptnr2_auth_asym_id","ptnr2_auth_comp_id","ptnr2_auth_seq_id","ptnr2_symmetry","pdbx_ptnr1_PDB_ins_code","pdbx_ptnr1_label_alt_id","pdbx_ptnr1_standard_comp_id","pdbx_ptnr2_PDB_ins_code","pdbx_ptnr2_label_alt_id","pdbx_ptnr3_PDB_ins_code","pdbx_ptnr3_label_alt_id","pdbx_ptnr3_label_asym_id","pdbx_ptnr3_label_atom_id","pdbx_ptnr3_label_comp_id","pdbx_ptnr3_label_seq_id","pdbx_PDB_id","pdbx_dist_value","pdbx_value_order","struct_conn_type","struct_keywords","pdbx_keywords","struct_ncs_oper","struct_sheet_range","sheet_id","struct_site","pdbx_num_residues","pdbx_evidence_code","pdbx_auth_ins_code","struct_site_gen","site_id","symmetry","pdbx_num_res","cell_setting","Int_Tables_number","space_group_name_Hall","pdbx_database_status","status_code","status_code_sf","status_code_mr","recvd_initial_deposition_date","SG_entry","deposit_site","process_site","status_code_cs","methods_development_category","pdb_format_compatible","pdbx_nonpoly_scheme","asym_id","pdb_strand_id","ndb_seq_num","pdb_seq_num","auth_seq_num","pdb_mon_id","auth_mon_id","pdb_ins_code","pdbx_database_related","db_name","db_id","content_type","pdbx_entity_nonpoly","pdbx_chem_comp_synonyms","provenance","pdbx_chem_comp_identifier","identifier","program","program_version","pdbx_unobs_or_zero_occ_residues","polymer_flag","occupancy_flag","PDB_model_num","PDB_ins_code","pdbx_struct_mod_residue","parent_comp_id","pdbx_struct_oper_list","symmetry_operation","pdbx_struct_assembly","method_details","oligomeric_details","oligomeric_count","pdbx_struct_assembly_gen","asym_id_list","assembly_id","oper_expression","pdbx_reference_entity_list","prd_id","ref_entity_id","component_id","pdbx_reference_entity_link","link_id","ref_entity_id_1","ref_entity_id_2","entity_seq_num_1","entity_seq_num_2","comp_id_1","comp_id_2","component_1","component_2","link_class","pdbx_reference_entity_poly_link","pdbx_molecule","instance_id","pdbx_molecule_features","class","entity_src_nat","pdbx_organism_scientific","pdbx_plasmid_name","pdbx_src_id","pdbx_beg_seq_num","pdbx_end_seq_num","entity_src_gen","pdbx_gene_src_gene","pdbx_gene_src_scientific_name","plasmid_name","pdbx_entity_src_syn","organism_scientific","pdbx_entity_branch_descriptor","pdbx_entity_instance_feature","feature_type","seq_num","pdbx_entity_branch_list","pdbx_entity_branch_link","entity_branch_list_num_1","entity_branch_list_num_2","leaving_atom_id_1","atom_stereo_config_1","leaving_atom_id_2","atom_stereo_config_2","pdbx_entity_branch","pdbx_branch_scheme","pdb_asym_id","pdbx_chem_comp_related","related_comp_id","relationship_type","ihm_starting_model_details","starting_model_id","entity_description","entity_poly_segment_id","starting_model_source","starting_model_auth_asym_id","starting_model_sequence_offset","dataset_list_id","ihm_starting_comparative_models","starting_model_seq_id_begin","starting_model_seq_id_end","template_auth_asym_id","template_seq_id_begin","template_seq_id_end","template_sequence_identity","template_sequence_identity_denominator","template_dataset_list_id","alignment_file_id","ihm_starting_model_seq_dif","seq_id","db_asym_id","db_seq_id","db_comp_id","ihm_model_representation","ihm_model_representation_details","representation_id","entity_asym_id","model_object_primitive","model_mode","model_granularity","model_object_count","ihm_struct_assembly_details","parent_assembly_id","ihm_struct_assembly","ihm_modeling_protocol","num_steps","protocol_name","ihm_modeling_protocol_details","protocol_id","step_id","struct_assembly_id","dataset_group_id","struct_assembly_description","step_name","step_method","num_models_begin","num_models_end","multi_scale_flag","multi_state_flag","ordered_flag","script_file_id","software_id","ihm_multi_state_modeling","state_id","state_group_id","population_fraction","population_fraction_sd","state_type","state_name","experiment_type","ihm_modeling_post_process","analysis_id","feature","ihm_ensemble_info","ensemble_id","ensemble_name","post_process_id","model_group_id","ensemble_clustering_method","ensemble_clustering_feature","num_ensemble_models","num_ensemble_models_deposited","ensemble_precision_value","ensemble_file_id","ihm_model_list","model_id","model_name","ihm_model_group","ihm_model_group_link","group_id","ihm_model_representative","selection_criteria","ihm_dataset_list","data_type","database_hosted","ihm_dataset_group","application","ihm_dataset_group_link","ihm_related_datasets","dataset_list_id_derived","dataset_list_id_primary","ihm_dataset_related_db_reference","accession_code","ihm_external_reference_info","reference_id","reference_provider","reference_type","refers_to","associated_url","ihm_external_files","file_path","file_size_bytes","ihm_dataset_external_reference","file_id","ihm_localization_density_files","ihm_predicted_contact_restraint","entity_id_1","entity_id_2","asym_id_1","asym_id_2","seq_id_1","seq_id_2","rep_atom_1","rep_atom_2","distance_lower_limit","distance_upper_limit","probability","restraint_type","ihm_cross_link_list","entity_description_1","entity_description_2","linker_type","ihm_cross_link_restraint","conditional_crosslink_flag","distance_threshold","psi","sigma_1","sigma_2","ihm_cross_link_result_parameters","restraint_id","ihm_2dem_class_average_restraint","number_raw_micrographs","pixel_size_width","pixel_size_height","image_resolution","image_segment_flag","number_of_projections","ihm_2dem_class_average_fitting","cross_correlation_coefficient","rot_matrix","tr_vector","ihm_3dem_restraint","fitting_method","number_of_gaussians","ihm_sas_restraint","profile_segment_flag","fitting_atom_type","fitting_state","radius_of_gyration","chi_value","ihm_starting_model_coord","ordinal_id","atom_id","ihm_sphere_obj_site","seq_id_begin","seq_id_end","object_radius","rmsf","ihm_gaussian_obj_site","mean_Cartn_x","mean_Cartn_y","mean_Cartn_z","weight","covariance_matrix","ihm_gaussian_obj_ensemble","ihm_feature_list","feature_id","entity_type","ihm_poly_residue_feature","comp_id_begin","comp_id_end","ihm_derived_distance_restraint","feature_id_1","feature_id_2","group_conditionality","random_exclusion_fraction","ma_model_list","model_group_name","model_type","data_id","ma_target_entity","ma_target_entity_instance","ma_target_ref_db_details","target_entity_id","db_code","db_accession","seq_db_isoform","seq_db_align_begin","seq_db_align_end","ncbi_taxonomy_id","ma_data","content_type_other_details","ma_software_group","ma_qa_metric","software_group_id","ma_qa_metric_global","metric_id","metric_value","ma_qa_metric_local","IntDataType","FloatDataType","getDataType","Int8","Int16Array","Int16","Int32","Uint8","Uint16Array","Uint16","Uint32","Float32","Float64","isSignedIntegerDataType","getMantissaMultiplier","maxDigits","mv","classifyIntArray","classify","IntClassifier","packSize","upperLimit","incSize","limit8","limit16","pack8","pack16","incSizeSigned","byteSize","packingSize","deltaSize","rleSize","deltaRleSize","prevValue","signed","getInfo","sizes","integerPacking","runLength","mantissaDigits","integerDigits","getArrayDigitCount","getMultiplier","intArray","fp","fixedPoint","ArrayEncoder","Category","Encoder","ArrayEncoderImpl","providers","encode","encodings","columnValue","columnListValue","columnTensorValue","columnValueKind","getTensorDefinitions","fieldDefinitions","name_2","name_3","name_4","cifFieldsFromTableSchema","getIncludedFields","shouldInclude","getCategoryInstanceData","instance","getProvider","factor","intervalQuantizaiton","numSteps","stringArray","fromEncoding","ArrayEncoding","writers","setInt16","setUint16","setInt32","setUint32","setFloat32","setFloat64","byteSizes","int8","packingSizeUnsigned","packingSizeSigned","lowerLimit","srcType","_fixedPoint","arrayType","_intervalQuantizaiton","srcSize","fullLength","packing","isSigned","size8","size16","bytesPerElement","determinePacking","packed","byteCount","isUnsigned","_integerPacking","strings","accLength","offsetArray","encodedOddsets","encodedData","dataEncoding","stringData","offsetEncoding","Field","defaultFormat","encoder","digitCount","vec","many","getFields","build","filterOf","directives","cat_whitelist","cat_blacklist","field_whitelist","field_blacklist","blacklist","wlcatcol","includeCategory","includeField","full","DefaultFilter","DefaultFormatter","getFormat","writeDatabase","startDataBlock","writeCategory","writeDatabaseCollection","TextEncoder","encoded","dataBlockCreated","formatter","binaryEncodingProvider","setFilter","isCategoryIncluded","setFormatter","ignoreFilter","width","precisions","getFloatPrecisions","_f","writeValue","writeCifSingleRecord","fieldSource","fieldCount","writeLine","it_1","multiline","writeCifLoop","writeTo","writeString","floatPrecision","writeNotPresent","writeUnknown","writeMultiline","escapeKind","hasSingleQuote","hasDoubleQuote","_l","writeChecked","categoryName","__chars","throwError","err","utf8Decoder","TextDecoder","utf8Read","decode","chunkOffset","byte","_utf8Read","utf8ByteCount","encodeMsgPack","encodedSize","length_1","length_2","length_3","encodeInternal","length_4","setUint8","length_5","bytes_1","setInt8","length_6","BinaryEncoder","encodingProvider","autoClassify","dataBlocks","encodeField","writer","writeBinary","totalCount","encoderProvider","arrayCtor","isStr","allPresent","getFieldData","getArrayCtor","provider","tryGetEncoder","maskData","maskRLE","CifWriter","createEncoder","binary","encoderName","binaryEncodingPovider","binaryAutoClassifyEncoding","resolveEncoding","hint","Encodings","deltaRLE","fixedPoint2","fixedPoint3","categoryInstance","createEncodingProviderFromCifFrame","ff","createEncodingProviderFromJsonConfig","hints","columnName","ComponentBond","cifExport","firstModel","comp_names","structures","uniqueResidueNames","chemCompBondFromTable","chemicalComponentMap","getEntriesFromChemCompBond","addEntry","Entry","nameA","nameB","aromatic","ord","StructConn","hasAtom","partnerA","atomIndex","partnerB","rowIndex","isExhaustive","structConn","atomicConformation","getAtomIndexFromEntries","entries_1","iA","iB","getEntriesFromStructConn","ins_code","entityIds","entities","_p","ps","asymId","altId","entityIds_1","eId","findResidue","findAtomOnResidue","_order","_flags","_key","canRemap","tmpDistVecA","tmpDistVecB","getDistance","__structConnAdded","computeIntraUnitBonds","isCoarseGrained","indexPairs","atoms","atomSourceIndex","invertedIndex","getInvertedAtomSourceIndex","opKey","_aI","aI","aeI","isHa","srcA","bI","_bI","beI","dist","findIndexPairBonds","residues","byEntityKey","sequence","query3d","lookup3d","component","structConnExhaustive","lastResidue","componentMap","isWatery","isDictionaryBased","isSequenced","structConnAdded","elemA","structConnEntries","byAtomIndex","hasStructConn","structConnEntries_1","se","raI","seqIdA","entitySeq","getEntityFromChain","microHet","atomIdA","componentPairs","altA","metalA","ni","altB","isHb","isMetal","rbI","seqIdB","findBonds","v3set","v3transformMat4","_imageTransform","_imageA","DefaultInterBondComputationProps","ignoreWater","ignoreIon","hasIndexPairBonds","models","hasExhaustiveStructConn","eachUnitPair","atomsA","residueIndexA","xA","yA","zA","atomsB","residueIndexB","type_symbolA","label_alt_idA","label_atom_idA","label_comp_idA","type_symbolB","label_alt_idB","label_atom_idB","label_comp_idB","auth_seq_idA","auth_seq_idB","occupancyA","occupancyB","hasOccupancy","imageTransform","isNotIdentity","bCenter","bRadius","testDistanceSq","opKeyA","opKeyB","added","_g","occA","_h","compIdA","atomIdB","compIdB","aeI_1","findPairBonds","validUnit","validUnitPair","computeInterUnitBonds","mtA","derived","residue","mtB","notWater","notIonA","notIonB","notIon","smaller","bigger","hasCommonStructConnRecord","computeRings","startVertex","endVertex","isRingAtom","marked","pred","currentColor","currentAltLoc","hasAltLoc","currentRings","altLoc","State","residuesIt","seg","largestResidue","processResidue","resetState","resetDepth","isStartIndex","bondOffset","bStart","altLocs","arraySetRemove","findRings","addRing","nc","leftOffset","rightOffset","ring","ringOffset","rI","_rI","top_1","newDepth","getMinimalRotation","buildFinderprint","Bond","aStructure","bStructure","areLocationsEqual","locA","locB","Loci","isLocation","isLoci","areLociEqual","isLociEmpty","loci","remapLoci","unitMap","elementA","elementB","toStructureElementLoci","lociBond","toFirstStructureElementLoci","getType","bond","interUnitBonds","getOrder","getIntraUnitBondCount","ElementBondIterator","advance","setElement","interBondIndices","interBondCount","interBondIndex","intraBondEnd","intraBondIndex","otherUnit","otherIndex","getBoundingSphere","EmptyAtomIds","getAtomIdForAtomRole","polymerType","atomRole","tmpPositionsVec","getPositions","UnitRings","aromaticRings","elementRingIndices","elementAromaticRingIndices","containedRings","rJ","components","ringComponentIndex","ringComponents","createIndex","_byFingerprint","byFingerprint","fingerprint","createByFingerprint","_aromaticRings","isAromatic","getAromaticRings","ringResidueIdx","addSingleResidueRings","byFp","UnitRing","elementFingerprint","reversed","rotNormal","rotReversed","isNormalSmaller","getFingerprint","symbols","AromaticRingElements","aromaticBondCount","hasAromaticRingElement","ma","getAltId","byFingerprintAndResidue","fingerprints","fI","_fI","SortedRanges","startAt","endAt","minAt","maxAt","firstIntersectionIndex","firstIntersectionIndexFrom","ofSortedRanges","hasFrom","curIndex","v3dot","v3copy","v3scaleAndSub","v3scaleAndAdd","BoundaryHelper","quality","minDist","maxDist","centroidHelper","Type001","Type111","Type011","Type012","Type112","Type122","getEposDir","dirLength","computeExtrema","computeSphereExtrema","di","includeSphere","includePosition","includePositionRadius","radiusSphere","radiusPosition","radiusPositionRadius","getBox","boundaryHelperCoarse","boundaryHelperFine","getFastBoundary","boundaryHelper","Symmetry","ModelSymmetry","StructureResult","ElementSetIntraBondCache","es_1","Assembly","operatorsProvider","_operators","createAssemblies","matrices","getMatrices","assemblies","createAssembly","generators","assemblyId","expression","asymIds","operatorOffset","gen","operatorNames","expandOperators","parseOperatorList","getAssemblyOperators","selector","chainTest","StructureProperties","operator_name","inSet","operatorGroupsProvider","operatorList","currentOp","expandOperators1","startIndex","operatorNames_1","operList","oeRegex","dashIndex","getNcsOperators","matrixSpace","vectorSpace","opers","getDelocalizedTriplets","triplets","thirdElementMap","indicesMap","deloBonds","getThirdElement","getTripletIndices","isNonStandardCrystalFrame","findAssembly","arrayFind","getUnitcellLabel","toFixed","groupNumber","groupName","getSpacegroupNameOrNumber","spaceCell","getSpacegroup","ncsOperators","fromCell","Unit","Trait","Traits","getTransformHash","SymmetryGroup","unitIndexMap","getUnitIndexMap","hashUnit","transformHash","invariantId","Kinds","isCoarse","isSpheres","isGaussians","chainGroupId","traits","Atomic","AtomicProperties","createCoarse","coarseConformation","spheres","getSphereRadiusFunc","CoarseProperties","gaussians","areInvariantElementsEqual","getUnitSymmetryGroupsIndexMap","symmetryGroups","unitSymmetryGroupsIndexMap","sg","conformationId","getChild","applyOperator","dontCompose","remapModel","dynamicBonds","tryRemapBonds","isSameConformation","principalAxes","getCenter","FastBoundary","resonance","delocalizedTriplets","polymerElements","traceElementIndex","polymerIt","atomicRanges","polymerRanges","residueIt","polymerSegment","residueSegment","elementIndex","getAtomicPolymerElements","gapElements","gapIt","gapRanges","gapSegment","indexStart","indexEnd","elementIndexStart","elementIndexEnd","getAtomicGapElements","nucleotideElements","chainIt","getNucleotideElements","proteinElements","getProteinElements","residueCount","getResidueIndex","Coarse","coarseElements","coarseHierarchy","getCoarseConformation","modelCoarseConformation","getCoarsePolymerElements","getCoarseGapElements","Spheres","Gaussians","old","oldIndex","newIndex","coordsHistory","CoordinatesHistory","getRoot","xa","ya","za","getModelConformationOfKind","xb","yb","zb","getModelHierarchyOfKind","areSameChainOperatorGroup","areOperatorsEqual","areConformationsEqual","getConformation","getHierarchy","StructureLookup3D","heap","findContext","closeUnitsResult","unitGroupResult","unitCount","unitLookup","findUnitIndices","_find","closeUnits","groupResult","_nearest","elementsCount","maxDistResult","unitSqDist","findIntoBuilder","beginUnit","addElement","commitUnit","findIntoBuilderIf","loc","findIntoBuilderWithRadius","pivotR","eRadius","queryRadius","rr","structureUnion","fullUnits","structures_1","merged","subsetBuilder","buildUnion","getStructure","setUnit","structureAreIntersecting","aU","bU","structureSubtract","defaultBondTest","atomicBond","atomicSequence","inputStructure","Singletons","water","atomicHet","bundleElementImpl","bundleGenerator","Sequence","toStructure","StructureSelection","isSingleton","unionStructure","sel","getSelection","allSingletons","structureCount","toLociWithCurrentUnits","toLociWithSourceUnits","_unit","LinearBuilderImpl","HashBuilderImpl","uniqueSets","areUnitIdsAndIndicesEqual","LinearBuilder","UniqueBuilder","withInputStructure","selection","Bundle","fromLoci","_elements","elementGroups","getUnitsFromIds","unitIds","unitId","elementToExpression","fromSubStructure","fromSelection","toLoci","_indices_1","rangesSize","_indices_2","units_1","_loop_2","_units","ue","setSize","_indices","_units_1","toExpression","QueryContext","currentElementStack","currentAtomicBondStack","currentStructureStack","inputStructureStack","timeCreated","currentStructure","currentSelection","timeoutMs","pushCurrentElement","popCurrentElement","pushCurrentBond","popCurrentBond","pushCurrentStructure","popCurrentStructure","pushInputStructure","popInputStructure","throwIfTimedOut","tryGetCurrentSelection","QueryContextBondInfo","testFn","setStructure","setTestFn","trySwap","eA","UniqueStructuresBuilder","LinearGroupingBuilder","builders","builderMap","addToUnit","singletonSelection","setSingletonLocation","fullSelection","_true","_zero","atomTest","residueTest","entityTest","unitTest","normalized","units_3","chainsIt","chainSegment","chainElementSegments","atomGroupsGrouped","chainLevel","residueLevel","units_2","addElementRange","atomGroupsSegmented","getRingStructure","onlyAromatic","uniqueFps","units_5","rings_1","units_4","querySelection","inComplement","targetSel","bondTest","interBonds","intraBondOffset","intraBondB","lI","_lI","TokenBuilder","ReaderResult","StructureUniqueSubsetBuilder","parentId","currentUnit","newUnits","symmGroups","UnitEquivalenceBuilder","parent_1","lineNumber","tokenStart","tokenEnd","Tokenizer","getTokenString","eatLine","markLine","readLinesChunk","addUnchecked","readLine","readLineTrim","markLines","lineTokens","readLines","readLinesAsync","initialLineCount","linesAlreadyRead","linesToRead","readAllLines","readAllLinesAsync","readLinesChunkChecked","eatValue","skipWhitespace","indicesLenMinus2","newBuffer","resize","addToken","tokenizer","error","line","success","warnings","Success","AtomicIndex","AtomicHierarchy","CCD_Schema","mon_nstd_parent_comp_id","one_letter_code","three_letter_code","pdbx_type","pdbx_ambiguous_flag","pdbx_replaced_by","pdbx_replaces","pdbx_model_coordinates_details","pdbx_model_coordinates_db_code","pdbx_ideal_coordinates_details","pdbx_ideal_coordinates_missing_flag","pdbx_model_coordinates_missing_flag","pdbx_initial_date","pdbx_modified_date","pdbx_release_status","pdbx_processing_site","chem_comp_atom","alt_atom_id","charge","model_Cartn_x","model_Cartn_y","model_Cartn_z","pdbx_align","pdbx_model_Cartn_x_ideal","pdbx_model_Cartn_y_ideal","pdbx_model_Cartn_z_ideal","pdbx_leaving_atom_flag","pdbx_chem_comp_descriptor","BIRD_Schema","pdbx_reference_molecule","type_evidence_code","class_evidence_code","represent_as","chem_comp_id","compound_details","representative_PDB_id_code","release_status","replaces","replaced_by","pdbx_reference_entity_nonpoly","pdbx_reference_entity_poly","pdbx_reference_entity_poly_seq","parent_mon_id","observed","pdbx_reference_entity_sequence","NRP_flag","one_letter_codes","pdbx_reference_entity_src_nat","taxid","pdbx_prd_audit","processing_site","action_type","datablock","dictionary","datablock_id","dictionary_history","revision","sub_category","category_group_list","parent_id","item_type_list","primitive_code","construct","detail","item_units_list","item_units_conversion","from_code","to_code","DensityServer_Data_Schema","volume_data_3d_info","volume_data_3d","CifCore_Schema","formula_units_z","chemical","melting_point","name_common","name_systematic","chemical_formula","moiety","space_group","crystal_system","it_number","space_group_symop","operation_xyz","geom_bond","atom_site_label_1","atom_site_label_2","publ_flag","site_symmetry_1","site_symmetry_2","valence","audit","block_doi","cod","csd","depnum_ccdc_archive","depnum_ccdc_fiz","icsd","mdf","nbs","adp_type","calc_flag","disorder_assembly","disorder_group","fract_x","fract_y","fract_z","refinement_flags","site_symmetry_multiplicity","u_iso_or_equiv","atom_site_aniso","u_11","u_12","u_13","u_22","u_23","u_33","atom_type","atom_type_scat","dispersion_imag","dispersion_real","CifCore_Aliases","Segmentation_Data_Schema","segmentation_data_table","set_id","segment_id","segmentation_data_3d","CIF","mmCIF","CCD","BIRD","dic","cifCore","densityServer","segmentation","AtomsSchema","ResiduesSchema","ChainsSchema","EmptyResidueKey","chainStartResidueIndex","cI","chainEndResidueIndexExcl","chainResidueCount","ModelSecondaryStructure","AtomicNumbers","ElementVdwRadii","18","32","34","36","51","52","53","AtomNumber","SecondaryStructure","getIndex","assignSecondaryStructureEntry","hierarchy","resStart","resEnd","endSeqId","endInsCode","seqNumber","fromStruct","conf","sheetRange","getCoordinateType","beg_seq_id","end_seq_id","type_id","helix_class","startSeqId","startInsCode","addHelices","sheetCount","sheet_id_key","currentKey","addSheets","secStruct","chainCount","chains","seqId","entryList","entryList_1","insCode","assignSecondaryStructureRanges","AtomSiteAnisotrop","Anisotrop","db","getElementToAnsiotrop","ansioId","atomIdToElement","elementToAnsiotrop","ei","getElementToAnsiotropFromLabel","atomLabel","ansioLabel","atomLabelToElement","GlobalModelTransformInfo","CategoryName","molstar_global_model_transform_info","attach","fromMmCif","hasData","writeMmCif","molstar_protonation_variant","mmCIF_chemComp_schema","getModelGroupName","BasicSchema","EntityBuilder","descriptions","compoundsMap","namesMap","heteroMap","chainMap","getEntityId","chainId","waterId","customName","getEntityTable","setCompounds","compounds","setNames","MmcifFormat","CCDFormat","ProteinAtomIdsList","RnaAtomIdsList","DnaAtomIdsList","NonPolymerNames","StandardComponents","CharmmIonComponents","ComponentBuilder","comps","mon_nstd_flags","getAtomIds","atomIds","prevSeqId","hasAtomIds","atomIdsList","getChemCompTable","fromFrame","CoordinateType","readUshort","buff","readUint","readUTF8","decodeURIComponent","readASCII","CrcTable","tab","crc","_crc","u16","u32","next_code","bl_count","ordr","of0","exb","ldef","df0","dxb","ddef","flmap","fltree","fdmap","fdtree","lmap","ltree","ttree","dmap","dtree","imap","itree","rev15","lhst","dhst","ihst","lits","strt","codes2map","tree","MAX_BITS","max_code","r15","lit","cl","makeCodes","bits","revCodes","imb","_inflate","runtime","noBuf","BFINAL","InflateContext","iBlock","ML","MD","_bitsF","BTYPE","_check","HLIT","_bitsE","HDIST","HCLEN","tl","_decodeTiny","mx0","_copyOut","mx1","_get17","ebs","dcode","dlit","dbs","p8","inflateBlocks","bl","nbuf","LL","ll","mx","dt","pushV","tgt","DataCompressionMethod","onlyNames","eocd","cnu","coffs","csize","usize","nl","roff","_readLocal","cmpr","nlen","elen","file","inflateRaw","ungzip","flg","xlen","crc32","isize","blocks","inflated","crcValue","readFromFile","readFromFileInternal","ajaxGet","ajaxGetInternal","headers","genericError","isDownload","readData","FileReader","readyState","DONE","isDone","hasError","onerror","onprogress","lengthComputable","loaded","total","onload","getCompression","Gzip","Zip","reFilterPath","decompress","compression","processFile","fileContent","decompressed","DOMParser","parseFromString","parse","readFromFileInternal_NodeJS","reader","fileReader","readAsArrayBuffer","readAsText","RequestPool","pool","emptyFunc","deposit","req","onabort","filename","_fs","getFS","readFileSync","ajaxGetInternal_file_NodeJS","xhttp","headers_1","open","setRequestHeader","responseType","getRequestResponseType","send","status","response","XMLDocument","processAjax","Asset","Url","isUrl","isFile","Wrapper","asset","manager","release","getUrl","getUrlAsset","tryFindUrl","AssetManager","refCount","ParamDefinition","setInfo","param","legend","fieldLabels","isHidden","shortLabel","twoColumns","isEssential","hideIf","help","Select","checkDefaultKey","cycle","Group","customDefault","getDefaultValues","presets","isExpanded","_defaultObjectListCtor","unsetGetValue","_resolveRef","resolveRefValue","resolveRef","resolveRefs","hasValueRef","value_1","hasParamValueRef","select","isParamEqual","vSet","language","mergeParam","selectHasOption","normalizeParam","defaultIfUndefined","normalizeParams","options_1","Essential","Optional","MultiSelect","emptyValue","Text","ColorList","def","presetKind","accept","FileList","Numeric","immediateUpdate","LineGraph","getVolume","EmptyGroup","Mapped","defaultKey","MappedStatic","ObjectList","getLabel","getOptions","defaultRef","DataRef","Converted","fromValue","toValue","converted","Conditioned","conditionParams","conditionForValue","conditionedValue","Script","For","setDefaultValues","defaultValues","deepClone","validate","objectToOptions","arrayToOptions","optionLabel","DSSPType","Q","calcHbondEnergy","oPos","cPos","nPos","hPos","distOH","distCH","distCN","distON","calcUnitBackboneHbonds","proteinInfo","residueIndices","cIndices","hIndices","nIndices","oIndices","oAtomResidues","nAtomResidues","energies","caPos","cPosPrev","oPosPrev","oPI","oRI","oAtom","cAtom","caAtom","nPI","nAtom","hAtom","nPIprev","oAtomPrev","cAtomPrev","_energies","buildHbondGraph","Bridge","partner1","partner2","shouldExtendLadder","ladder","bridge","firstEnd","secondEnd","secondStart","resemblesBulge","ladder1","ladder2","firstStart","nextLadder","bulgeCriterion2","isHelixType","DSSPComputationParams","oldDefinition","oldOrdering","computeUnitDSSP","hbonds","torsionAngles","ladders","bridges","getResidueFlag","getFlagName","assignment","unitProteinResidues","getUnitProteinInfo","calcUnitProteinTraceLookup3D","caPosPrev","nPosPrev","cPosNext","caPosNext","nPosNext","calculateUnitDihedralAngles","getOriginalResidueFlag","getUpdatedResidueFlag","getOriginalFlagName","getUpdatedFlagName","turnFlag","assignTurns","helixFlag","helixCheckOrder","fI1","fI2","assignHelices","caPosPrev2","caPosNext2","caMinus2","caPlus2","f1","oRIprev2","oRInext2","caAtomPrev2","caAtomNext2","assignBends","kl","assignBridges","bridgeIndex","ladderIndex","previousLadder","ladderIndex1","ladderIndex2","assignLadders","lcount","l2count","conladder","assignSheets","getDSSPAssignment","mapToKind","getSecondaryStructureParams","defaultType","isFromPdbArchive","hasSecondaryStructure","CustomStructureProperty","createProvider","descriptorName","propertyDataName","getParams","defaultParams","addRef","rootProps","customPropertyDescriptors","createSimple","SecondaryStructureParams","SecondaryStructureProvider","computeDssp","computeModel","secondaryStructure","unitSymmetryGroups","notAtomic","notCoarse","vdw_radius","_emptyList","true","false","atom","hasMicroheterogeneity","microheterogeneityCompIds","secondary_structure_type","secStruc","secondary_structure_key","chem_comp_type","subtype","multiChain","MultiChain","object_primitive","operator_key","model_index","modelNum","model_label","model_entry_id","entryId","model_num","pdbx_struct_assembly_id","pdbx_struct_oper_list_ids","struct_ncs_oper_id","coarse","sphere_radius","sphere_rmsf","gaussian_weight","gaussian_covariance_matrix","ResidueSet","checkOperator","hasLabelAsymId","_asym_id","_seq_id","_comp_id","alt_id","_alt_id","_ins_code","op_name","_op_name","getEntryFromLocation","getWholeResidues","sourceElements","inner","getIncludeSurroundings","getIncludeSurroundingsWithRadius","elementRadius","elementRadiusClosure","sourceMaxRadius","createElementRadiusFn","findStructureRadius","eR","prms","surr","bySel","ii","structureIntersect","subtractBy","propertyToStructureIndexMap","_sI","__sI","builders_1","layerCount","lc","incl","prevCount","includeConnectedStep","expanded","inputUnitA","bElement","bondedUnit","currentUnitB","inputUnitB","expandConnected","includeWater","surroundings","prd","getPrdAsymIdx","bondType","getStructConnInfo","includedPrdChains","componentResidues","addComponent","finalBuilder","testIsWater","_entity_type","Predicates","StructConnGraph","vertices","addVertex","al","startLabel","getCurrentStructureProperties","propertySource","propSet","getSelectionProperties","currentProps","areIntersectedBy","queryCtx","minRadius","targetLookup","withinRadius","i_1","_i_1","withinMaxRadiusLookup","targetStructure","checkStructureMaxRadiusDistance","withinMaxRadius","checkStructureMinMaxDistance","withinMinMaxRadius","connCtx","inputUnit","bondedUnits","buCount","srcElements","inputElements","inputIndex","hasElement","lu","bElements","bi","_bi","checkConnected","queries","pivotIndex","pivotLength","pivotSet","pI","MinMaxDist","distVec","inUnit","dV","withinRange","toPoint","iu","distPivot","tp","MaxRadiusDist","i_2","_i_2","_false","a_1","b_1","a_2","b_2","c_1","a_3","b_3","c_2","a_4","b_4","c_3","d_2","a_5","b_5","c_4","d_3","f_1","count_1","a_6","b_6","a_7","b_7","c_5","a_8","b_8","c_6","d_4","a_9","b_9","c_7","d_5","e_3","a_10","b_10","c_8","d_6","e_4","f_2","count_2","Queries","filters","modifiers","combinators","atomset","getOperatorsForIndex","modelCenter","symOp","ul","ncsOp","getOperatorsForRange","ijkMin","ijkMax","ncsCount","assembleOperators","assembler","operators_2","oper","addWithOperator","StructureSymmetry","areUnitsEquivalent","buildAssembly","asmName","coordinateSystem","operatorGroups","buildSymmetryAssembly","generators_1","operators_1","representativeModel","builderSymmetryMates","operators_3","uI","_uI","_operators_333","getOperatorsCached333","findMatesRadius","buildSymmetryRange","findSymmetryRange","buildNcs","_buildNCS","computeTransformGroups","eqUnits","areTransformGroupsEquivalent","au","bu","StructureSubsetBuilder","isSorted","_getStructure","deduplicateElements","getStructureDeduplicate","CombinationIterator","maxIndex","smallest","ripple","nextIndex","combinations","combinationIt","EmptyArray","EmptyCarbohydrates","links","terminalLinks","partialElements","getElementIndices","getLinkIndices","getTerminalLinkIndices","SugarRingFps","getAnomericCarbon","ringAtoms","indexHasTwoOxygen","indexHasOxygenAndCarbon","indexHasC1Name","indexIsCarbon","linkedOxygenCount","linkedCarbonCount","ej","typeSymbol","getDirection","direction","getAtomId","filterFusedRings","unitRings","fusedRings","ringCombinations","rc","r0","filteredRings","getSaccharideComp","saccharideComponentMap","computeCarbohydrates","elementsWithRingMap","ringElementKey","addRingElement","fixLinkDirection","geometry","fixTerminalLinkDirection","geo","sugarResidueMap","saccharideComp","sugarRings","ringElements","anomericCarbon","ringAltId","ringIndex","re0","re1","carbohydrateIndexA","carbohydrateIndexB","getRingElementIndices","cA","cB","rA","rB","pairBonds","ringElementIndicesA","ringElementIndicesB","lA","lB","ringElementIndexA","ringElementIndexB","ringElementIndicesA_1","carbohydrateIndex","elementUnit","fromCarbohydrate","ringElementIndicesB_1","getIndices","il_1","elementsMap","linksMap","terminalLinksMap","buildLookups","tmpSphere","computeStructureBoundary","invariantBoundary","Structure","asParent","_child","_target","_proxy","customProps","propertyData","currentPropertyData","polymerResidueCount","getPolymerResidueCount","polymerGapCount","getPolymerGapCount","polymerUnitCount","getPolymerUnitCount","uniqueElementCount","getUniqueElementCount","atomicResidueCount","prevIdx","getAtomicResidueCount","computeHash","hash1","elementLocations","ElementLocationIterator","interBondsValidUnit","interBondsValidUnitPair","carbohydrates","getModels","compIds","compIds_1","getUniqueResidueNames","uniqueElementSymbols","getUniqueElementSymbols","entityIndices","getEntityIndices","uniqueAtomicResidueIndices","modelIds","unitGroups","unitGroups_1","uniqueResidues","modelIds_1","getUniqueAtomicResidueIndices","serialMapping","cumulativeUnitElementCount","unitIndices","elementIndices","mj","getSerialIndex","getSerialMapping","masterModel","getModelIndex","ug","cmpUnits","lastId","toSubStructureElementLoci","ofTrajectory","trajectory","newUnit","frameCount","getFrameAtIndex","ofModel","atomicChainOperatorMappinng","StructureBuilder","isWaterChain","addUnit","cs","addCoarseUnits","elements_1","inChainGroup","singleElementUnits","beginChainGroup","endChainGroup","areUnitIdsEqual","areEquivalent","conformationHash","hashString","areHierarchiesEqual","areRootsEquivalent","areRootsEqual","unitIndex","maxIdx","unitElementMinDistance","minD","minDistanceToPoint","Size","getPolymerSymmetryGroups","elementDescription","imageCenter","eachAtomicHierarchyElement","DefaultSizeThresholds","smallResidueCount","mediumResidueCount","largeResidueCount","highSymmetryUnitCount","fiberResidueCount","thresholds","residueCountFactor","polymerSymmetryGroups","hasHighSymmetry","Huge","Gigantic","isFiberLike","Small","Medium","Large","Index","MaxIndex","getPrincipalAxes","itDiff","_wrongUnitKind","atomicProperty","coarseProperty","firstElement","makeIndexSet","newIndices","extendToWholeResidues","restrictToConformation","residueAltIds","lociElement","isWholeUnit","unitElements","residueOffsets","eI_1","hasSharedAltId","getChainSegments","collectChains","chainIndices","extendGroupToWholeChains","isPartitioned","baseUnit","extendToWholeChains","Partitioned","entityModelKey","getUnitIndices","isWholeStructure","none","getFirstLocation","firstResidue","firstChain","forEachLocation","remap","extendToWholeEntities","extendToWholeModels","extendToAllInstances","byModel","extendToWholeOperators","tempPosBoundary","getBoundary","tempPos","toPositionsArray","indexCount","getOpData","opName","multimodel","getPrincipalAxesMany","locis","sourceIndexMap","sourceIndices","opData","opGroups","opQueries","opProp","siProp","tests","Stats","conformationCount","firstElementLoc","firstConformationLoc","firstResidueLoc","firstChainLoc","firstUnitLoc","firstStructureLoc","addCountHelper","inc","handleElement","stats","lociResidueAltIdCounts","residueAltIdCounts","offsets_1","label_alt_id_1","handleUnitChainsSimple","handleUnitChainsPartitioned","lociElements","chainCounts","elIndex","firstCI","ofLoci","hasPartitions","CustomModelProperty","SIFTSMapping","isAvailable","db_acc","db_num","db_res","fromCif","dbName","accession","atom_site_label_asym_id","atom_site_auth_asym_id","atom_site_pdbx_label_index","SIFTS","_atom_site","prepostfixed","prefixedInsCode","mappedProp","addModelNum","getLocation","includeModelNum","residueIdFields","_struct_conf","findElements","struct_conf_fields","_struct_sheet_range","compare_ssr","struct_sheet_range_fields","ssElements","startIdx","getModelMmCifCategory","getUniqueResidueNamesFromStructures","getUniqueEntityIndicesFromStructures","copy_mmCif_category","condition","_chem_comp","_chem_comp_bond","_pdbx_chem_comp_identifier","_pdbx_nonpoly_scheme","_struct_asym","createCategory","_entity_poly","_entity_poly_seq","uniqueEntityIds","getUniqueEntityIdsFromStructures","getCategoryInstance","CifExportContext","structureArray","_entity","isWithoutSymmetry","isWithoutOperator","_Filters","AtomSitePositionsFieldNames","AtomSiteOperatorMappingSchema","molstar_atom_site_operator_mapping","assembly_operator_id","symmetry_operator_index","symmetry_hkl","ncs_id","asmValueKind","symmetryValueKind","getResidueId","updateMapMapIndex","key0","key1","submap","missingEntity","_tempResidueKey","entityIndex","getEntityIndex","chain_index_entity_index","findEntity","findChainLabel","entity_index_label_asym_id","cm","findChainAuth","auth_asym_id_auth_seq_id","rm","label_entity_id_or_key","chain_index_auth_seq_id","findResidueLabel","chain_index_label_seq_id","findResidueAuth","findResidueInsertion","findAtom","findAtomByName","findAtomByNameAndAltLoc","findAtomAuth","findAtomsOnResidue","label_atom_ids","atomNames","findAtomByNames","findElementOnResidue","findAtomByElement","nameData","altLocData","getAtomicIndex","authAsymId","labelAsymId","authSeqId","getAtomicHierarchy","hierarchyOffsets","newChain","findHierarchyOffsets","hierarchyData","seqIds","chainOffsets","createHierarchyData","chainOperatorMapping","mapping","labelMap","authMap","auth","mappedLabel","mappedAuth","createChainOperatorMappingAndSubstituteNames","sameAsPrevious","hierarchySegments","directionFromElementIndex","directionToElementIndex","moleculeTypeMap","polymerTypeMap","chemCompMap","polyType","traceAtomId","traceIndex","coarseAtomId","directionFromAtomId","directionToAtomId","getAtomicDerivedData","getAtomicHierarchyAndConformation","CoarseHierarchy","EmptyCoarseElements","findSequenceKey","findChainKey","getElementKey","counter","getElementSubstructureKeyMap","getCoarseKeys","seqMaps","chainMaps","chainCounter","chainToEntity","eK","seqRanges","seqStart","seqEnd","seqMap","seq","getEntKey","eKey","cKey","sm","createLookUp","getCoarseRanges","prevSeqEnd","EmptyCoarse","getCoarse","sphereData","sphereConformation","getSphereConformation","sphereKeys","sphereRanges","gaussianData","gaussianConformation","matrix_space","getGaussianConformation","gaussianKeys","gaussianRanges","getSegments","ProteinOneLetterCodes","DnaOneLetterCodes","RnaOneLetterCodes","getProteinOneLetterCode","residueName","getRnaOneLetterCode","getDnaOneLetterCode","getSequence","fromHierarchy","sequences","entityId","ofResidueNames","sortAtomSite","entityBuckets","chainBuckets","_cI","arrayIsIdentity","areBackboneConnected","riStart","riEnd","ptStart","ptEnd","eiStart","eiEnd","pStart","pEnd","getAtomicRanges","prevStart","prevEnd","cyclicPolymerMap","maxSeqId","seqIdStart","seqIdEnd","riStart_1","riEnd_1","getMissingResidues","getChemicalComponentMap","getUniqueComponentNames","getSaccharideComponentMap","snfgName","_type","uniqueNames_1","Kind","getSequenceString","Protein","RNA","DNA","Generic","determineKind","ResidueNamesImpl","codeFromName","codeProvider","codes","indexMap","labels","mh","ofSequenceRanges","seqIdBegin","SequenceRangesImpl","minSeqId","idStart","idEnd","StructureSequence","entitySeqs","fromAtomicHierarchy","rStart","rEnd","_compId","fromCoarseHierarchy","fromCoarseElements","eStart","eEnd","uniqueNames","getStructAsymMap","atomic","auth_id","getEntityData","entityData","sphere_entity_id","gaussian_entity_id","subtypes","assignSubtype","getEntitiesWithPRD","structAsymMap","prdIds","prdIdColumn","IndexedCustomProperty","ArrayTrajectory","representative","duration","createModels","missingResidues","getCommonProperties","readIntegrative","readStandard","TrajectoryInfo","findModelEnd","endIndex","modelStart","modelEnd","createStandardModel","splitTable","col","atom_sites_modelColumn","sphere_sites","gauss_sites","atom_site_sourceIndex","ihm","createIntegrativeModel","arrayToMap","Model","_trajectoryFromModelAndCoordinates","srcIndexArray","coarseGrained","CoarseGrained","trajectoryFromModelAndCoordinates","trajectoryFromTopologyAndCoordinates","bondData","indexPairBonds","trajectory_1","rangesX","rangesY","rangesZ","calcModelCenter","invertIndex","trajectoryInfo","AsymIdCount","asymIdCount","label_id","getAsymIdCount","AsymIdOffset","coordinatesHistory","hasBB","hasSC1","hasPdbId","hasCarbohydrate","hasProtein","hasNucleic","tmpAngles90","tmpLengths1","isFromXray","isFromEm","hasXrayMap","hasEmMap","hasDensityMap","hasCrystalSymmetry","isFromNmr","probablyHasDensityMap","getCifDataSource","getElements","fromAtomMap","fromAtomArray","getResidueSegments","fromResidueMap","fromResidueArray","fromChainMap","fromChainArray","fromEntityMap","SegmentedMappedIndexedCustomProperty","level","segmentGetter","getStructureElements","seenIndices","ElementMappedCustomProperty","unitGroups_2","EntityMappedCustomProperty","unitGroups_3","ROTATION_MATRICES","rotX270","rotZ270","structureLayingTransform","referenceRotation","normAxes","R","row0","row1","row2","bestFlip","bestScore","score","minimalFlip","pcaX","pcaY","pcaZ","xCum","yCum","zCum","veeSlope","wrongFrontBack","wrongLeftTopRightBottom","canonicalFlip","layingTransform","minAtoms","selectCoords","onlyTrace","skipHydrogens","skipWater","smartSelectCoords","changeCameraRotation","cameraRotation","relPosition","newUp","newPosition","ColorNames","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflower","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","laserlemon","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrod","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","maroon2","maroon3","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","purple2","purple3","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","isMobile","Android","navigator","userAgent","BlackBerry","iOS","Opera","Windows","any","MolstarViewer","_Component","_inherits","_createSuper","_classCallCheck","showImportControls","showSessionControls","showStructureSourceControls","showMeasurementsControls","showStrucmotifSubmitControls","showSuperpositionControls","showQuickStylesControls","showStructureComponentControls","showVolumeStreamingControls","showAssemblySymmetryControls","showValidationReportControls","showMembraneOrientationPreset","showNakbColorTheme","detachedFromSierra","layoutIsExpanded","layoutShowControls","layoutControlsDisplay","layoutShowSequence","layoutShowLog","viewportShowExpand","viewportShowSelectionMode","showWelcomeToast","className","loadedShapes","loadedStructures","loadedComponents","loadedSnapshots","setProps","viewerRef","createRef","updatedLayout","updatedStyle","_step","_iterator","_createForOfIteratorHelper","viewer","_plugin","managers","_this2","items","structureItems","shapeItems","newLabels","syncStructure","_Object$entries","_Object$entries$_i","_slicedToArray","getStructuresByLabel","removeRef","sourceRef","syncShape","_i2","_Object$entries2","_Object$entries2$_i","_this$state$data","focus","molecule","_structureLayingTrans","newViewMatrix","newSnapshot","canvas3d","camera","getSnapshot","durationMs","setSnapshot","_this3","loadStructureFromData","dataLabel","representation","ligand","representations","polymer","_cell$params","_cell$params2","_cell$params3","ismobile","plugin","addRepresentation","colorParams","typeParams","_objectSpread","colorTheme","focusSphere","syncComponent","prevComponent","autoRotate","syncAutoFocus","urlfor","loadStructureFromUrl","_cell$params4","_cell$params5","_cell$params6","loadSnapshotFromUrl","prevComponents","_this4","componentLabel","removeComponent","getStructureByLabel","_step2","targets","_iterator2","newTarget","modelId","author","chain_name","residue_numbers","labelSeqId","createComponent","_step3","_selection","elementIds","elementSet","_iterator3","_toConsumableArray","clearSelection","molecule_name","_step4","_iterator4","subStructure","getSelectionSubStructure","currentComponents","componentGroups","currentComponentGroups","focusSpheres","_e$cell$obj","clearFocus","_this5","shape","createBoundingBox","syncItems","syncFocus","syncSelections","_this6","rcsbMolstar","Viewer","syncViewerState","timeoutid","resizeObserver","ResizeObserver","_step5","_iterator5","handleResize","observe","prevProps","_step6","_iterator6","currentData","prevData","React","Component","defaultProps","propTypes","PropTypes"],"mappings":"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,IAAU,IAAK,IAAU,IACzC,IAAU,IAAM,IAAU,IAAK,IAAU,IAAK,IAAU,IACxD,IAAU,IAAM,IAAU,IAAK,IAAU,IAAK,IAAU,IACxD,IAAU,IAAM,IAAU,IAAK,IAAU,IAAK,IAAU,IACxD,IAAU,IAAM,IAAU,IAAK,IAAU,IAAK,IAAU,IAAK,IAAU,IACvE,IAAU,IAAM,IAAU,IAAK,IAAU,IAAK,IAAU,IAAK,IAAU,IACvE,IAAU,IAAM,IAAU,IAAK,IAAU,IAAK,IAAU,IACxD,IAAU,IAAM,IAAU,IAAK,IAAU,IAAK,IAAU,IACxD,IAAU,IAAM,IAAU,IAAK,IAAU,IAAK,IAAU,IACxD,IAAU,IAAM,IAAU,IAAK,IAAU,IAAK,IAAU,IAAK,IAAU,IACvE,IAAU,IAAM,IAAU,IAAK,IAAU,IAAK,IAAU,IAAK,IAAU,IACvE,IAAU,IAAM,IAAU,IAC1B,IAAU,IAAM,IAAU,IAAK,IAAU,IACzC,IAAU,IAAM,IAAU,IAAK,IAAU,IAAK,IAAU,IAAK,IAAU,IACvE,IAAU,IAAM,IAAU,IAAK,IAAU,IAAK,IAAU,IAAK,IAAU,IACvE,IAAU,IAAM,IAAU,IAAK,IAAU,IAAK,IAAU,IACxD,IAAU,IAAM,IAAU,IAAK,IAAU,IAAK,IAAU,IACxD,IAAU,IAAM,IAAU,IAAK,IAAU,IACzC,IAAU,IAAM,IAAU,IAAK,IAAU,IACzC,IAAU,IAAM,IAAU,IAAK,IAAU,IACzC,IAAU,IAAM,IAAU,IAAK,IAAU,IACzC,IAAU,IAAM,IAAU,IAAK,IAAU,IAAK,IAAU,IACxD,IAAU,IAAM,IAAU,IAAK,IAAU,IAAK,IAAU,IACxD,IAAU,IAAM,IAAU,IAAK,IAAU,IACzC,IAAU,IAAM,IAAU,IAAK,IAAU,IACzC,IAAU,IAAM,IAAU,IAAK,IAAU,IAAK,IAAU,IAAK,IAAU,IAAK,IAAU,IACtF,IAAU,IAAM,IAAU,IAAK,IAAU,IAAK,IAAU,IAAK,IAAU,IAAK,IAAU,IACtF,IAAU,IAAM,IAAU,IAC1B,IAAU,IAAM,IAAU,IAAK,IAAU,IACzC,IAAU,IAAM,IAAU,IAAK,IAAU,IACzC,IAAU,IAAM,IAAU,IAAK,IAAU,IACzC,IAAU,KAAM,IAAU,KAC1B,IAAU,KAAM,IAAU,KAC1B,IAAU,KAAM,IAAU,MAouBxBoB,GAAiBpB,GAhuBH,CAChB,IAAK,QACL,IAAK,OACL,IAAK,OACL,IAAK,SACL,IAAK,UAouBP,SAASqB,GAAiBC,GACxB,MAAO,KAAO9F,GAAc8F,GAsB9B,SAASC,GAAWlB,GAClB,OAAOnF,GAAajM,KAAKoR,GAsC3B,SAASmB,GAAWC,GAClB,IAAI1D,GAAS,EACT7M,EAASxB,MAAM+R,EAAIzN,MAKvB,OAHAyN,EAAIC,SAAQ,SAAS9U,EAAOM,GAC1BgE,IAAS6M,GAAS,CAAC7Q,EAAKN,MAEnBsE,EAWT,SAASyQ,GAAQnE,EAAMoE,GACrB,OAAO,SAASC,GACd,OAAOrE,EAAKoE,EAAUC,KAa1B,SAASC,GAAenE,EAAOuD,GAM7B,IALA,IAAInD,GAAS,EACT7P,EAASyP,EAAMzP,OACfmQ,EAAW,EACXnN,EAAS,KAEJ6M,EAAQ7P,GAAQ,CACvB,IAAItB,EAAQ+Q,EAAMI,GACdnR,IAAUsU,GAAetU,IAAU8I,IACrCiI,EAAMI,GAASrI,EACfxE,EAAOmN,KAAcN,GAGzB,OAAO7M,EAUT,SAAS6Q,GAAWC,GAClB,IAAIjE,GAAS,EACT7M,EAASxB,MAAMsS,EAAIhO,MAKvB,OAHAgO,EAAIN,SAAQ,SAAS9U,GACnBsE,IAAS6M,GAASnR,KAEbsE,EAUT,SAAS+Q,GAAWD,GAClB,IAAIjE,GAAS,EACT7M,EAASxB,MAAMsS,EAAIhO,MAKvB,OAHAgO,EAAIN,SAAQ,SAAS9U,GACnBsE,IAAS6M,GAAS,CAACnR,EAAOA,MAErBsE,EAoDT,SAASgR,GAAW7B,GAClB,OAAOkB,GAAWlB,GAiDpB,SAAqBA,GACnB,IAAInP,EAAS8J,GAAUmH,UAAY,EACnC,KAAOnH,GAAU/L,KAAKoR,MAClBnP,EAEJ,OAAOA,EArDHkR,CAAY/B,GACZnB,GAAUmB,GAUhB,SAASgC,GAAchC,GACrB,OAAOkB,GAAWlB,GAmDpB,SAAwBA,GACtB,OAAOA,EAAOiC,MAAMtH,KAAc,GAnD9BuH,CAAelC,GA7kBrB,SAAsBA,GACpB,OAAOA,EAAO1R,MAAM,IA6kBhB6T,CAAanC,GAWnB,SAASC,GAAgBD,GAGvB,IAFA,IAAItC,EAAQsC,EAAOnS,OAEZ6P,KAAWxF,EAAatJ,KAAKoR,EAAOoC,OAAO1E,MAClD,OAAOA,EAUT,IAAI2E,GAAmB1C,GA38BH,CAClB,QAAS,IACT,OAAQ,IACR,OAAQ,IACR,SAAU,IACV,QAAS,MA4gCX,IAs3eItO,GAt3ee,SAAUiR,EAAaC,GAIxC,IA6BMC,EA7BFnT,GAHJkT,EAAqB,MAAXA,EAAkB3G,GAAOvK,GAAEoR,SAAS7G,GAAK5P,SAAUuW,EAASlR,GAAEqR,KAAK9G,GAAMb,MAG/D1L,MAChBuD,EAAO2P,EAAQ3P,KACf+P,EAAQJ,EAAQI,MAChB9G,GAAW0G,EAAQ1G,SACnBjH,GAAO2N,EAAQ3N,KACf5I,GAASuW,EAAQvW,OACjBsL,GAASiL,EAAQjL,OACjB9H,GAAS+S,EAAQ/S,OACjBD,GAAYgT,EAAQhT,UAGpBqT,GAAavT,EAAMnC,UACnB2V,GAAYhH,GAAS3O,UACrB4V,GAAc9W,GAAOkB,UAGrB6V,GAAaR,EAAQ,sBAGrBS,GAAeH,GAAUrO,SAGzBrH,GAAiB2V,GAAY3V,eAG7B8V,GAAY,EAGZC,IACEV,EAAM,SAASW,KAAKJ,IAAcA,GAAWK,MAAQL,GAAWK,KAAKC,UAAY,KACvE,iBAAmBb,EAAO,GAQtCc,GAAuBR,GAAYtO,SAGnC+O,GAAmBP,GAAavX,KAAKO,IAGrCwX,GAAU5H,GAAKvK,EAGfoS,GAAanM,GAAO,IACtB0L,GAAavX,KAAK0B,IAAgB4H,QAAQgD,EAAc,QACvDhD,QAAQ,yDAA0D,SAAW,KAI5ER,GAAS0H,GAAgBsG,EAAQhO,YAr9CnCmL,EAs9CErT,GAASkW,EAAQlW,OACjBqX,GAAanB,EAAQmB,WACrBC,GAAcpP,GAASA,GAAOoP,iBAx9ChCjE,EAy9CEkE,GAAetC,GAAQtV,GAAO6X,eAAgB7X,IAC9C8X,GAAe9X,GAAOY,OACtBmX,GAAuBjB,GAAYiB,qBACnC/U,GAAS4T,GAAW5T,OACpBgV,GAAmB3X,GAASA,GAAO4X,wBA79CrCvE,EA89CEwE,GAAc7X,GAASA,GAAOsF,cA99ChC+N,EA+9CEyE,GAAiB9X,GAASA,GAAOC,iBA/9CnCoT,EAi+CEzT,GAAkB,WACpB,IACE,IAAIkR,EAAOiH,GAAUpY,GAAQ,kBAE7B,OADAmR,EAAK,GAAI,GAAI,IACNA,EACP,MAAOxM,KALU,GASjB0T,GAAkB9B,EAAQ+B,eAAiB1I,GAAK0I,cAAgB/B,EAAQ+B,aACxEC,GAAS3R,GAAQA,EAAKN,MAAQsJ,GAAKhJ,KAAKN,KAAOM,EAAKN,IACpDkS,GAAgBjC,EAAQkC,aAAe7I,GAAK6I,YAAclC,EAAQkC,WAGlEC,GAAa9P,GAAK+P,KAClBC,GAAchQ,GAAKE,MACnB+P,GAAmB7Y,GAAO8Y,sBAC1BC,GAAiBxQ,GAASA,GAAOyQ,cAl/CnCtF,EAm/CEuF,GAAiB1C,EAAQ2C,SACzBC,GAAavC,GAAWrU,KACxB6W,GAAa9D,GAAQtV,GAAOoX,KAAMpX,IAClCqZ,GAAYzQ,GAAK0Q,IACjBC,GAAY3Q,GAAK4Q,IACjBC,GAAY7S,EAAKN,IACjBoT,GAAiBnD,EAAQhH,SACzBoK,GAAe/Q,GAAKC,OACpB+Q,GAAgBhD,GAAWiD,QAG3BC,GAAW1B,GAAU7B,EAAS,YAC9BwD,GAAM3B,GAAU7B,EAAS,OACzBlS,GAAU+T,GAAU7B,EAAS,WAC7ByD,GAAM5B,GAAU7B,EAAS,OACzB0D,GAAU7B,GAAU7B,EAAS,WAC7B2D,GAAe9B,GAAUpY,GAAQ,UAGjCma,GAAUF,IAAW,IAAIA,GAGzBG,GAAY,GAGZC,GAAqBC,GAASR,IAC9BS,GAAgBD,GAASP,IACzBS,GAAoBF,GAASjW,IAC7BoW,GAAgBH,GAASN,IACzBU,GAAoBJ,GAASL,IAG7BU,GAActa,GAASA,GAAOa,eAnhDhCwS,EAohDEkH,GAAgBD,GAAcA,GAAYE,aAphD5CnH,EAqhDEoH,GAAiBH,GAAcA,GAAYnS,cArhD7CkL,EA8oDF,SAASqH,GAAOxa,GACd,GAAIya,GAAaza,KAAW0a,GAAQ1a,MAAYA,aAAiB2a,IAAc,CAC7E,GAAI3a,aAAiB4a,GACnB,OAAO5a,EAET,GAAIY,GAAe1B,KAAKc,EAAO,eAC7B,OAAO6a,GAAa7a,GAGxB,OAAO,IAAI4a,GAAc5a,GAW3B,IAAI8a,GAAc,WAChB,SAASra,KACT,OAAO,SAASsa,GACd,IAAKC,GAASD,GACZ,MAAO,GAET,GAAIxD,GACF,OAAOA,GAAawD,GAEtBta,EAAOE,UAAYoa,EACnB,IAAIzW,EAAS,IAAI7D,EAEjB,OADAA,EAAOE,eA7qDTwS,EA8qDS7O,GAZM,GAqBjB,SAAS2W,MAWT,SAASL,GAAc5a,EAAOkb,GAC5B/X,KAAKgY,YAAcnb,EACnBmD,KAAKiY,YAAc,GACnBjY,KAAKkY,YAAcH,EACnB/X,KAAKmY,UAAY,EACjBnY,KAAKoY,gBAvsDLpI,EAuxDF,SAASwH,GAAY3a,GACnBmD,KAAKgY,YAAcnb,EACnBmD,KAAKiY,YAAc,GACnBjY,KAAKqY,QAAU,EACfrY,KAAKsY,cAAe,EACpBtY,KAAKuY,cAAgB,GACrBvY,KAAKwY,cA9tDc,WA+tDnBxY,KAAKyY,UAAY,GAgHnB,SAASC,GAAKC,GACZ,IAAI3K,GAAS,EACT7P,EAAoB,MAAXwa,EAAkB,EAAIA,EAAQxa,OAG3C,IADA6B,KAAK4Y,UACI5K,EAAQ7P,GAAQ,CACvB,IAAI0a,EAAQF,EAAQ3K,GACpBhO,KAAKiS,IAAI4G,EAAM,GAAIA,EAAM,KAiG7B,SAASC,GAAUH,GACjB,IAAI3K,GAAS,EACT7P,EAAoB,MAAXwa,EAAkB,EAAIA,EAAQxa,OAG3C,IADA6B,KAAK4Y,UACI5K,EAAQ7P,GAAQ,CACvB,IAAI0a,EAAQF,EAAQ3K,GACpBhO,KAAKiS,IAAI4G,EAAM,GAAIA,EAAM,KA8G7B,SAASE,GAASJ,GAChB,IAAI3K,GAAS,EACT7P,EAAoB,MAAXwa,EAAkB,EAAIA,EAAQxa,OAG3C,IADA6B,KAAK4Y,UACI5K,EAAQ7P,GAAQ,CACvB,IAAI0a,EAAQF,EAAQ3K,GACpBhO,KAAKiS,IAAI4G,EAAM,GAAIA,EAAM,KAiG7B,SAASG,GAASnK,GAChB,IAAIb,GAAS,EACT7P,EAAmB,MAAV0Q,EAAiB,EAAIA,EAAO1Q,OAGzC,IADA6B,KAAKiZ,SAAW,IAAIF,KACX/K,EAAQ7P,GACf6B,KAAKkZ,IAAIrK,EAAOb,IA6CpB,SAASmL,GAAMR,GACb,IAAIS,EAAOpZ,KAAKiZ,SAAW,IAAIH,GAAUH,GACzC3Y,KAAKiE,KAAOmV,EAAKnV,KAqGnB,SAASoV,GAAcxc,EAAOyc,GAC5B,IAAIC,EAAQhC,GAAQ1a,GAChB2c,GAASD,GAASE,GAAY5c,GAC9B6c,GAAUH,IAAUC,GAASlE,GAASzY,GACtC8c,GAAUJ,IAAUC,IAAUE,GAAUlM,GAAa3Q,GACrD+c,EAAcL,GAASC,GAASE,GAAUC,EAC1CxY,EAASyY,EAAcxJ,GAAUvT,EAAMsB,OAAQ2B,IAAU,GACzD3B,EAASgD,EAAOhD,OAEpB,IAAK,IAAIhB,KAAON,GACTyc,IAAa7b,GAAe1B,KAAKc,EAAOM,IACvCyc,IAEQ,UAAPzc,GAECuc,IAAkB,UAAPvc,GAA0B,UAAPA,IAE9Bwc,IAAkB,UAAPxc,GAA0B,cAAPA,GAA8B,cAAPA,IAEtD0c,GAAQ1c,EAAKgB,KAElBgD,EAAO/C,KAAKjB,GAGhB,OAAOgE,EAUT,SAAS2Y,GAAYlM,GACnB,IAAIzP,EAASyP,EAAMzP,OACnB,OAAOA,EAASyP,EAAMmM,GAAW,EAAG5b,EAAS,SAj5E7C6R,EA45EF,SAASgK,GAAgBpM,EAAOvQ,GAC9B,OAAO4c,GAAYC,GAAUtM,GAAQuM,GAAU9c,EAAG,EAAGuQ,EAAMzP,SAU7D,SAASic,GAAaxM,GACpB,OAAOqM,GAAYC,GAAUtM,IAY/B,SAASyM,GAAiB/c,EAAQH,EAAKN,SAp7ErCmT,IAq7EKnT,IAAwByd,GAAGhd,EAAOH,GAAMN,SAr7E7CmT,IAs7EKnT,KAAyBM,KAAOG,KACnCid,GAAgBjd,EAAQH,EAAKN,GAcjC,SAAS2d,GAAYld,EAAQH,EAAKN,GAChC,IAAI4d,EAAWnd,EAAOH,GAChBM,GAAe1B,KAAKuB,EAAQH,IAAQmd,GAAGG,EAAU5d,UAv8EvDmT,IAw8EKnT,GAAyBM,KAAOG,IACnCid,GAAgBjd,EAAQH,EAAKN,GAYjC,SAAS6d,GAAa9M,EAAOzQ,GAE3B,IADA,IAAIgB,EAASyP,EAAMzP,OACZA,KACL,GAAImc,GAAG1M,EAAMzP,GAAQ,GAAIhB,GACvB,OAAOgB,EAGX,OAAQ,EAcV,SAASwc,GAAerL,EAAYzB,EAAQC,EAAUC,GAIpD,OAHA6M,GAAStL,GAAY,SAASzS,EAAOM,EAAKmS,GACxCzB,EAAOE,EAAalR,EAAOiR,EAASjR,GAAQyS,MAEvCvB,EAYT,SAAS8M,GAAWvd,EAAQuK,GAC1B,OAAOvK,GAAUwd,GAAWjT,EAAQ6L,GAAK7L,GAASvK,GAyBpD,SAASid,GAAgBjd,EAAQH,EAAKN,GACzB,aAAPM,GAAsBZ,GACxBA,GAAee,EAAQH,EAAK,CAC1B,cAAgB,EAChB,YAAc,EACd,MAASN,EACT,UAAY,IAGdS,EAAOH,GAAON,EAYlB,SAASke,GAAOzd,EAAQ0d,GAMtB,IALA,IAAIhN,GAAS,EACT7P,EAAS6c,EAAM7c,OACfgD,EAASxB,EAAMxB,GACf8c,EAAiB,MAAV3d,IAEF0Q,EAAQ7P,GACfgD,EAAO6M,GAASiN,OAhjFlBjL,EAgjFqCvT,GAAIa,EAAQ0d,EAAMhN,IAEvD,OAAO7M,EAYT,SAASgZ,GAAUe,EAAQC,EAAOC,GAShC,OARIF,GAAWA,SA/jFflL,IAgkFMoL,IACFF,EAASA,GAAUE,EAAQF,EAASE,QAjkFxCpL,IAmkFMmL,IACFD,EAASA,GAAUC,EAAQD,EAASC,IAGjCD,EAmBT,SAASG,GAAUxe,EAAOye,EAASC,EAAYpe,EAAKG,EAAQke,GAC1D,IAAIra,EACAsa,EArkFc,EAqkFLH,EACTI,EArkFc,EAqkFLJ,EACTK,EArkFiB,EAqkFRL,EAKb,GAHIC,IACFpa,EAAS7D,EAASie,EAAW1e,EAAOM,EAAKG,EAAQke,GAASD,EAAW1e,SAjmFvEmT,IAmmFI7O,EACF,OAAOA,EAET,IAAK0W,GAAShb,GACZ,OAAOA,EAET,IAAI0c,EAAQhC,GAAQ1a,GACpB,GAAI0c,GAEF,GADApY,EA68GJ,SAAwByM,GACtB,IAAIzP,EAASyP,EAAMzP,OACfgD,EAAS,IAAIyM,EAAM3N,YAAY9B,GAG/BA,GAA6B,iBAAZyP,EAAM,IAAkBnQ,GAAe1B,KAAK6R,EAAO,WACtEzM,EAAO6M,MAAQJ,EAAMI,MACrB7M,EAAOya,MAAQhO,EAAMgO,OAEvB,OAAOza,EAt9GI0a,CAAehf,IACnB4e,EACH,OAAOvB,GAAUrd,EAAOsE,OAErB,CACL,IAAI2a,EAAMC,GAAOlf,GACbmf,EAASF,GAAO5V,GAAW4V,GAAO3V,EAEtC,GAAImP,GAASzY,GACX,OAAOof,GAAYpf,EAAO4e,GAE5B,GAAIK,GAAOxV,GAAawV,GAAOjW,GAAYmW,IAAW1e,GAEpD,GADA6D,EAAUua,GAAUM,EAAU,GAAKE,GAAgBrf,IAC9C4e,EACH,OAAOC,EA+nEf,SAAuB7T,EAAQvK,GAC7B,OAAOwd,GAAWjT,EAAQsU,GAAatU,GAASvK,GA/nEtC8e,CAAcvf,EAnH1B,SAAsBS,EAAQuK,GAC5B,OAAOvK,GAAUwd,GAAWjT,EAAQwU,GAAOxU,GAASvK,GAkHrBgf,CAAanb,EAAQtE,IAknEtD,SAAqBgL,EAAQvK,GAC3B,OAAOwd,GAAWjT,EAAQ0U,GAAW1U,GAASvK,GAlnEpCkf,CAAY3f,EAAOge,GAAW1Z,EAAQtE,QAEvC,CACL,IAAK2O,GAAcsQ,GACjB,OAAOxe,EAAST,EAAQ,GAE1BsE,EA49GN,SAAwB7D,EAAQwe,EAAKL,GACnC,IAAIgB,EAAOnf,EAAO2C,YAClB,OAAQ6b,GACN,KAAKlV,EACH,OAAO8V,GAAiBpf,GAE1B,KAAKyI,EACL,KAAKC,EACH,OAAO,IAAIyW,GAAMnf,GAEnB,KAAKuJ,EACH,OA5nDN,SAAuB8V,EAAUlB,GAC/B,IAAImB,EAASnB,EAASiB,GAAiBC,EAASC,QAAUD,EAASC,OACnE,OAAO,IAAID,EAAS1c,YAAY2c,EAAQD,EAASE,WAAYF,EAASG,YA0nD3DC,CAAczf,EAAQme,GAE/B,KAAK3U,EAAY,KAAKC,EACtB,KAAKC,EAAS,KAAKC,EAAU,KAAKC,EAClC,KAAKC,EAAU,IA5/LC,6BA4/LqB,KAAKC,EAAW,KAAKC,EACxD,OAAO2V,GAAgB1f,EAAQme,GAEjC,KAAKrV,EACH,OAAO,IAAIqW,EAEb,KAAKpW,EACL,KAAKI,EACH,OAAO,IAAIgW,EAAKnf,GAElB,KAAKiJ,EACH,OA/nDN,SAAqB0W,GACnB,IAAI9b,EAAS,IAAI8b,EAAOhd,YAAYgd,EAAOpV,OAAQmB,GAAQyK,KAAKwJ,IAEhE,OADA9b,EAAOiR,UAAY6K,EAAO7K,UACnBjR,EA4nDI+b,CAAY5f,GAErB,KAAKkJ,EACH,OAAO,IAAIiW,EAEb,KAAK/V,EACH,OAxnDeyW,EAwnDI7f,EAvnDhB4Z,GAAgB5a,GAAO4a,GAAcnb,KAAKohB,IAAW,GAD9D,IAAqBA,EAp4DNC,CAAevgB,EAAOif,EAAKL,IAIxCD,IAAUA,EAAQ,IAAIrC,IACtB,IAAIkE,EAAU7B,EAAM/e,IAAII,GACxB,GAAIwgB,EACF,OAAOA,EAET7B,EAAMvJ,IAAIpV,EAAOsE,GAEbmM,GAAMzQ,GACRA,EAAM8U,SAAQ,SAAS2L,GACrBnc,EAAO+X,IAAImC,GAAUiC,EAAUhC,EAASC,EAAY+B,EAAUzgB,EAAO2e,OAE9DtO,GAAMrQ,IACfA,EAAM8U,SAAQ,SAAS2L,EAAUngB,GAC/BgE,EAAO8Q,IAAI9U,EAAKke,GAAUiC,EAAUhC,EAASC,EAAYpe,EAAKN,EAAO2e,OAIzE,IAII9K,EAAQ6I,OA1pFZvJ,GAspFe2L,EACVD,EAAS6B,GAAeC,GACxB9B,EAASW,GAAS3I,IAEkB7W,GASzC,OARAoR,GAAUyC,GAAS7T,GAAO,SAASygB,EAAUngB,GACvCuT,IAEF4M,EAAWzgB,EADXM,EAAMmgB,IAIR9C,GAAYrZ,EAAQhE,EAAKke,GAAUiC,EAAUhC,EAASC,EAAYpe,EAAKN,EAAO2e,OAEzEra,EAyBT,SAASsc,GAAengB,EAAQuK,EAAQ6I,GACtC,IAAIvS,EAASuS,EAAMvS,OACnB,GAAc,MAAVb,EACF,OAAQa,EAGV,IADAb,EAAShB,GAAOgB,GACTa,KAAU,CACf,IAAIhB,EAAMuT,EAAMvS,GACZiQ,EAAYvG,EAAO1K,GACnBN,EAAQS,EAAOH,GAEnB,QAvsFF6S,IAusFOnT,KAAyBM,KAAOG,KAAa8Q,EAAUvR,GAC1D,OAAO,EAGX,OAAO,EAaT,SAAS6gB,GAAUjQ,EAAMkQ,EAAMjQ,GAC7B,GAAmB,mBAARD,EACT,MAAM,IAAI5N,GAAU6F,GAEtB,OAAOqP,IAAW,WAAatH,EAAKpN,WA5tFpC2P,EA4tFqDtC,KAAUiQ,GAcjE,SAASC,GAAehQ,EAAOiB,EAAQf,EAAUY,GAC/C,IAAIV,GAAS,EACT6P,EAAWtP,GACXuP,GAAW,EACX3f,EAASyP,EAAMzP,OACfgD,EAAS,GACT4c,EAAelP,EAAO1Q,OAE1B,IAAKA,EACH,OAAOgD,EAEL2M,IACFe,EAASF,GAASE,EAAQ2B,GAAU1C,KAElCY,GACFmP,EAAWpP,GACXqP,GAAW,GAEJjP,EAAO1Q,QAtvFG,MAuvFjB0f,EAAWlN,GACXmN,GAAW,EACXjP,EAAS,IAAImK,GAASnK,IAExBmP,EACA,OAAShQ,EAAQ7P,GAAQ,CACvB,IAAItB,EAAQ+Q,EAAMI,GACdiQ,EAAuB,MAAZnQ,EAAmBjR,EAAQiR,EAASjR,GAGnD,GADAA,EAAS6R,GAAwB,IAAV7R,EAAeA,EAAQ,EAC1CihB,GAAYG,GAAaA,EAAU,CAErC,IADA,IAAIC,EAAcH,EACXG,KACL,GAAIrP,EAAOqP,KAAiBD,EAC1B,SAASD,EAGb7c,EAAO/C,KAAKvB,QAEJghB,EAAShP,EAAQoP,EAAUvP,IACnCvN,EAAO/C,KAAKvB,GAGhB,OAAOsE,EAjkCTkW,GAAO8G,iBAAmB,CAQxB,OAAUpW,EAQV,SAAYC,EAQZ,YAAeC,EAQf,SAAY,GAQZ,QAAW,CAQT,EAAKoP,KAKTA,GAAO7Z,UAAYsa,GAAWta,UAC9B6Z,GAAO7Z,UAAUyC,YAAcoX,GAE/BI,GAAcja,UAAYma,GAAWG,GAAWta,WAChDia,GAAcja,UAAUyC,YAAcwX,GAsHtCD,GAAYha,UAAYma,GAAWG,GAAWta,WAC9Cga,GAAYha,UAAUyC,YAAcuX,GAoGpCkB,GAAKlb,UAAUob,MAvEf,WACE5Y,KAAKiZ,SAAWzC,GAAeA,GAAa,MAAQ,GACpDxW,KAAKiE,KAAO,GAsEdyU,GAAKlb,UAAkB,OAzDvB,SAAoBL,GAClB,IAAIgE,EAASnB,KAAK6Q,IAAI1T,WAAe6C,KAAKiZ,SAAS9b,GAEnD,OADA6C,KAAKiE,MAAQ9C,EAAS,EAAI,EACnBA,GAuDTuX,GAAKlb,UAAUf,IA3Cf,SAAiBU,GACf,IAAIic,EAAOpZ,KAAKiZ,SAChB,GAAIzC,GAAc,CAChB,IAAIrV,EAASiY,EAAKjc,GAClB,MAp7De,8BAo7DRgE,OAl8DT6O,EAk8DiD7O,EAEjD,OAAO1D,GAAe1B,KAAKqd,EAAMjc,GAAOic,EAAKjc,QAp8D7C6S,GA0+DF0I,GAAKlb,UAAUqT,IA1Bf,SAAiB1T,GACf,IAAIic,EAAOpZ,KAAKiZ,SAChB,OAAOzC,QAl9DPxG,IAk9DuBoJ,EAAKjc,GAAsBM,GAAe1B,KAAKqd,EAAMjc,IAyB9Eub,GAAKlb,UAAUyU,IAZf,SAAiB9U,EAAKN,GACpB,IAAIuc,EAAOpZ,KAAKiZ,SAGhB,OAFAjZ,KAAKiE,MAAQjE,KAAK6Q,IAAI1T,GAAO,EAAI,EACjCic,EAAKjc,GAAQqZ,SAl+DbxG,IAk+D6BnT,EAp9DZ,4BAo9DoDA,EAC9DmD,MAyHT8Y,GAAUtb,UAAUob,MApFpB,WACE5Y,KAAKiZ,SAAW,GAChBjZ,KAAKiE,KAAO,GAmFd6U,GAAUtb,UAAkB,OAvE5B,SAAyBL,GACvB,IAAIic,EAAOpZ,KAAKiZ,SACZjL,EAAQ0M,GAAatB,EAAMjc,GAE/B,QAAI6Q,EAAQ,KAIRA,GADYoL,EAAKjb,OAAS,EAE5Bib,EAAKhX,MAEL9C,GAAOvD,KAAKqd,EAAMpL,EAAO,KAEzBhO,KAAKiE,MACA,IA0DT6U,GAAUtb,UAAUf,IA9CpB,SAAsBU,GACpB,IAAIic,EAAOpZ,KAAKiZ,SACZjL,EAAQ0M,GAAatB,EAAMjc,GAE/B,OAAO6Q,EAAQ,OApjEfgC,EAojE+BoJ,EAAKpL,GAAO,IA2C7C8K,GAAUtb,UAAUqT,IA/BpB,SAAsB1T,GACpB,OAAOud,GAAa1a,KAAKiZ,SAAU9b,IAAQ,GA+B7C2b,GAAUtb,UAAUyU,IAlBpB,SAAsB9U,EAAKN,GACzB,IAAIuc,EAAOpZ,KAAKiZ,SACZjL,EAAQ0M,GAAatB,EAAMjc,GAQ/B,OANI6Q,EAAQ,KACRhO,KAAKiE,KACPmV,EAAKhb,KAAK,CAACjB,EAAKN,KAEhBuc,EAAKpL,GAAO,GAAKnR,EAEZmD,MA2GT+Y,GAASvb,UAAUob,MAtEnB,WACE5Y,KAAKiE,KAAO,EACZjE,KAAKiZ,SAAW,CACd,KAAQ,IAAIP,GACZ,IAAO,IAAKrC,IAAOyC,IACnB,OAAU,IAAIJ,KAkElBK,GAASvb,UAAkB,OArD3B,SAAwBL,GACtB,IAAIgE,EAASid,GAAWpe,KAAM7C,GAAa,OAAEA,GAE7C,OADA6C,KAAKiE,MAAQ9C,EAAS,EAAI,EACnBA,GAmDT4X,GAASvb,UAAUf,IAvCnB,SAAqBU,GACnB,OAAOihB,GAAWpe,KAAM7C,GAAKV,IAAIU,IAuCnC4b,GAASvb,UAAUqT,IA3BnB,SAAqB1T,GACnB,OAAOihB,GAAWpe,KAAM7C,GAAK0T,IAAI1T,IA2BnC4b,GAASvb,UAAUyU,IAdnB,SAAqB9U,EAAKN,GACxB,IAAIuc,EAAOgF,GAAWpe,KAAM7C,GACxB8G,EAAOmV,EAAKnV,KAIhB,OAFAmV,EAAKnH,IAAI9U,EAAKN,GACdmD,KAAKiE,MAAQmV,EAAKnV,MAAQA,EAAO,EAAI,EAC9BjE,MA2DTgZ,GAASxb,UAAU0b,IAAMF,GAASxb,UAAUY,KAnB5C,SAAqBvB,GAEnB,OADAmD,KAAKiZ,SAAShH,IAAIpV,EA1tED,6BA2tEVmD,MAkBTgZ,GAASxb,UAAUqT,IANnB,SAAqBhU,GACnB,OAAOmD,KAAKiZ,SAASpI,IAAIhU,IAuG3Bsc,GAAM3b,UAAUob,MA3EhB,WACE5Y,KAAKiZ,SAAW,IAAIH,GACpB9Y,KAAKiE,KAAO,GA0EdkV,GAAM3b,UAAkB,OA9DxB,SAAqBL,GACnB,IAAIic,EAAOpZ,KAAKiZ,SACZ9X,EAASiY,EAAa,OAAEjc,GAG5B,OADA6C,KAAKiE,KAAOmV,EAAKnV,KACV9C,GA0DTgY,GAAM3b,UAAUf,IA9ChB,SAAkBU,GAChB,OAAO6C,KAAKiZ,SAASxc,IAAIU,IA8C3Bgc,GAAM3b,UAAUqT,IAlChB,SAAkB1T,GAChB,OAAO6C,KAAKiZ,SAASpI,IAAI1T,IAkC3Bgc,GAAM3b,UAAUyU,IArBhB,SAAkB9U,EAAKN,GACrB,IAAIuc,EAAOpZ,KAAKiZ,SAChB,GAAIG,aAAgBN,GAAW,CAC7B,IAAIuF,EAAQjF,EAAKH,SACjB,IAAK5C,IAAQgI,EAAMlgB,OAASmgB,IAG1B,OAFAD,EAAMjgB,KAAK,CAACjB,EAAKN,IACjBmD,KAAKiE,OAASmV,EAAKnV,KACZjE,KAEToZ,EAAOpZ,KAAKiZ,SAAW,IAAIF,GAASsF,GAItC,OAFAjF,EAAKnH,IAAI9U,EAAKN,GACdmD,KAAKiE,KAAOmV,EAAKnV,KACVjE,MAscT,IAAI4a,GAAW2D,GAAeC,IAU1BC,GAAgBF,GAAeG,IAAiB,GAWpD,SAASC,GAAUrP,EAAYlB,GAC7B,IAAIjN,GAAS,EAKb,OAJAyZ,GAAStL,GAAY,SAASzS,EAAOmR,EAAOsB,GAE1C,OADAnO,IAAWiN,EAAUvR,EAAOmR,EAAOsB,MAG9BnO,EAaT,SAASyd,GAAahR,EAAOE,EAAUY,GAIrC,IAHA,IAAIV,GAAS,EACT7P,EAASyP,EAAMzP,SAEV6P,EAAQ7P,GAAQ,CACvB,IAAItB,EAAQ+Q,EAAMI,GACdmC,EAAUrC,EAASjR,GAEvB,GAAe,MAAXsT,SA/0FNH,IA+0F0BiO,EACf9N,GAAYA,IAAY0O,GAAS1O,GAClCzB,EAAWyB,EAAS8N,IAE1B,IAAIA,EAAW9N,EACXhP,EAAStE,EAGjB,OAAOsE,EAuCT,SAAS2d,GAAWxP,EAAYlB,GAC9B,IAAIjN,EAAS,GAMb,OALAyZ,GAAStL,GAAY,SAASzS,EAAOmR,EAAOsB,GACtClB,EAAUvR,EAAOmR,EAAOsB,IAC1BnO,EAAO/C,KAAKvB,MAGTsE,EAcT,SAAS4d,GAAYnR,EAAOoR,EAAO5Q,EAAW6Q,EAAU9d,GACtD,IAAI6M,GAAS,EACT7P,EAASyP,EAAMzP,OAKnB,IAHAiQ,IAAcA,EAAY8Q,IAC1B/d,IAAWA,EAAS,MAEX6M,EAAQ7P,GAAQ,CACvB,IAAItB,EAAQ+Q,EAAMI,GACdgR,EAAQ,GAAK5Q,EAAUvR,GACrBmiB,EAAQ,EAEVD,GAAYliB,EAAOmiB,EAAQ,EAAG5Q,EAAW6Q,EAAU9d,GAEnDyN,GAAUzN,EAAQtE,GAEVoiB,IACV9d,EAAOA,EAAOhD,QAAUtB,GAG5B,OAAOsE,EAcT,IAAIge,GAAUC,KAYVC,GAAeD,IAAc,GAUjC,SAASZ,GAAWlhB,EAAQwQ,GAC1B,OAAOxQ,GAAU6hB,GAAQ7hB,EAAQwQ,EAAU4F,IAW7C,SAASgL,GAAgBphB,EAAQwQ,GAC/B,OAAOxQ,GAAU+hB,GAAa/hB,EAAQwQ,EAAU4F,IAYlD,SAAS4L,GAAchiB,EAAQoT,GAC7B,OAAOrC,GAAYqC,GAAO,SAASvT,GACjC,OAAOoiB,GAAWjiB,EAAOH,OAY7B,SAASqiB,GAAQliB,EAAQmiB,GAMvB,IAHA,IAAIzR,EAAQ,EACR7P,GAHJshB,EAAOC,GAASD,EAAMniB,IAGJa,OAED,MAAVb,GAAkB0Q,EAAQ7P,GAC/Bb,EAASA,EAAOqiB,GAAMF,EAAKzR,OAE7B,OAAQA,GAASA,GAAS7P,EAAUb,OA3/FpC0S,EAygGF,SAAS4P,GAAetiB,EAAQuiB,EAAUC,GACxC,IAAI3e,EAAS0e,EAASviB,GACtB,OAAOia,GAAQja,GAAU6D,EAASyN,GAAUzN,EAAQ2e,EAAYxiB,IAUlE,SAASyiB,GAAWljB,GAClB,OAAa,MAATA,OAthGJmT,IAuhGSnT,EAn7FM,qBARL,gBA67FF4X,IAAkBA,MAAkBnY,GAAOO,GA23FrD,SAAmBA,GACjB,IAAImjB,EAAQviB,GAAe1B,KAAKc,EAAO4X,IACnCqH,EAAMjf,EAAM4X,IAEhB,IACE5X,EAAM4X,SAz5LRzE,EA05LE,IAAIiQ,GAAW,EACf,MAAOhf,IAET,IAAIE,EAASyS,GAAqB7X,KAAKc,GACnCojB,IACED,EACFnjB,EAAM4X,IAAkBqH,SAEjBjf,EAAM4X,KAGjB,OAAOtT,EA34FH+e,CAAUrjB,GA+5GhB,SAAwBA,GACtB,OAAO+W,GAAqB7X,KAAKc,GA/5G7BsjB,CAAetjB,GAYrB,SAASujB,GAAOvjB,EAAOwjB,GACrB,OAAOxjB,EAAQwjB,EAWjB,SAASC,GAAQhjB,EAAQH,GACvB,OAAiB,MAAVG,GAAkBG,GAAe1B,KAAKuB,EAAQH,GAWvD,SAASojB,GAAUjjB,EAAQH,GACzB,OAAiB,MAAVG,GAAkBH,KAAOb,GAAOgB,GA0BzC,SAASkjB,GAAiBC,EAAQ3S,EAAUY,GAS1C,IARA,IAAImP,EAAWnP,EAAaD,GAAoBF,GAC5CpQ,EAASsiB,EAAO,GAAGtiB,OACnBuiB,EAAYD,EAAOtiB,OACnBwiB,EAAWD,EACXE,EAASjhB,EAAM+gB,GACfG,EAAYC,IACZ3f,EAAS,GAENwf,KAAY,CACjB,IAAI/S,EAAQ6S,EAAOE,GACfA,GAAY7S,IACdF,EAAQe,GAASf,EAAO4C,GAAU1C,KAEpC+S,EAAYhL,GAAUjI,EAAMzP,OAAQ0iB,GACpCD,EAAOD,IAAajS,IAAeZ,GAAa3P,GAAU,KAAOyP,EAAMzP,QAAU,KAC7E,IAAI6a,GAAS2H,GAAY/S,QA1mG/BoC,EA6mGApC,EAAQ6S,EAAO,GAEf,IAAIzS,GAAS,EACT+S,EAAOH,EAAO,GAElB5C,EACA,OAAShQ,EAAQ7P,GAAUgD,EAAOhD,OAAS0iB,GAAW,CACpD,IAAIhkB,EAAQ+Q,EAAMI,GACdiQ,EAAWnQ,EAAWA,EAASjR,GAASA,EAG5C,GADAA,EAAS6R,GAAwB,IAAV7R,EAAeA,EAAQ,IACxCkkB,EACEpQ,GAASoQ,EAAM9C,GACfJ,EAAS1c,EAAQ8c,EAAUvP,IAC5B,CAEL,IADAiS,EAAWD,IACFC,GAAU,CACjB,IAAI/P,EAAQgQ,EAAOD,GACnB,KAAM/P,EACED,GAASC,EAAOqN,GAChBJ,EAAS4C,EAAOE,GAAW1C,EAAUvP,IAE3C,SAASsP,EAGT+C,GACFA,EAAK3iB,KAAK6f,GAEZ9c,EAAO/C,KAAKvB,IAGhB,OAAOsE,EA+BT,SAAS6f,GAAW1jB,EAAQmiB,EAAM/R,GAGhC,IAAID,EAAiB,OADrBnQ,EAAS2jB,GAAO3jB,EADhBmiB,EAAOC,GAASD,EAAMniB,KAEMA,EAASA,EAAOqiB,GAAMuB,GAAKzB,KACvD,OAAe,MAARhS,OA/qGPuC,EA+qGkC3P,GAAMoN,EAAMnQ,EAAQoQ,GAUxD,SAASyT,GAAgBtkB,GACvB,OAAOya,GAAaza,IAAUkjB,GAAWljB,IAAUgJ,EAuCrD,SAASub,GAAYvkB,EAAOwjB,EAAO/E,EAASC,EAAYC,GACtD,OAAI3e,IAAUwjB,IAGD,MAATxjB,GAA0B,MAATwjB,IAAmB/I,GAAaza,KAAWya,GAAa+I,GACpExjB,GAAUA,GAASwjB,GAAUA,EAmBxC,SAAyB/iB,EAAQ+iB,EAAO/E,EAASC,EAAY8F,EAAW7F,GACtE,IAAI8F,EAAW/J,GAAQja,GACnBikB,EAAWhK,GAAQ8I,GACnBmB,EAASF,EAAWxb,EAAWiW,GAAOze,GACtCmkB,EAASF,EAAWzb,EAAWiW,GAAOsE,GAKtCqB,GAHJF,EAASA,GAAU3b,EAAUS,EAAYkb,IAGhBlb,EACrBqb,GAHJF,EAASA,GAAU5b,EAAUS,EAAYmb,IAGhBnb,EACrBsb,EAAYJ,GAAUC,EAE1B,GAAIG,GAAatM,GAAShY,GAAS,CACjC,IAAKgY,GAAS+K,GACZ,OAAO,EAETiB,GAAW,EACXI,GAAW,EAEb,GAAIE,IAAcF,EAEhB,OADAlG,IAAUA,EAAQ,IAAIrC,IACdmI,GAAY9T,GAAalQ,GAC7BukB,GAAYvkB,EAAQ+iB,EAAO/E,EAASC,EAAY8F,EAAW7F,GA81EnE,SAAoBle,EAAQ+iB,EAAOvE,EAAKR,EAASC,EAAY8F,EAAW7F,GACtE,OAAQM,GACN,KAAKjV,EACH,GAAKvJ,EAAOwf,YAAcuD,EAAMvD,YAC3Bxf,EAAOuf,YAAcwD,EAAMxD,WAC9B,OAAO,EAETvf,EAASA,EAAOsf,OAChByD,EAAQA,EAAMzD,OAEhB,KAAKhW,EACH,QAAKtJ,EAAOwf,YAAcuD,EAAMvD,aAC3BuE,EAAU,IAAIrN,GAAW1W,GAAS,IAAI0W,GAAWqM,KAKxD,KAAKta,EACL,KAAKC,EACL,KAAKK,EAGH,OAAOiU,IAAIhd,GAAS+iB,GAEtB,KAAKpa,EACH,OAAO3I,EAAOnB,MAAQkkB,EAAMlkB,MAAQmB,EAAOwkB,SAAWzB,EAAMyB,QAE9D,KAAKvb,EACL,KAAKE,EAIH,OAAOnJ,GAAW+iB,EAAQ,GAE5B,KAAKja,EACH,IAAI2b,EAAUtQ,GAEhB,KAAKjL,EACH,IAAIwb,EAxnLe,EAwnLH1G,EAGhB,GAFAyG,IAAYA,EAAU/P,IAElB1U,EAAO2G,MAAQoc,EAAMpc,OAAS+d,EAChC,OAAO,EAGT,IAAI3E,EAAU7B,EAAM/e,IAAIa,GACxB,GAAI+f,EACF,OAAOA,GAAWgD,EAEpB/E,GAloLqB,EAqoLrBE,EAAMvJ,IAAI3U,EAAQ+iB,GAClB,IAAIlf,EAAS0gB,GAAYE,EAAQzkB,GAASykB,EAAQ1B,GAAQ/E,EAASC,EAAY8F,EAAW7F,GAE1F,OADAA,EAAc,OAAEle,GACT6D,EAET,KAAKuF,EACH,GAAIwQ,GACF,OAAOA,GAAcnb,KAAKuB,IAAW4Z,GAAcnb,KAAKskB,GAG9D,OAAO,EA35ED4B,CAAW3kB,EAAQ+iB,EAAOmB,EAAQlG,EAASC,EAAY8F,EAAW7F,GAExE,KAvvGuB,EAuvGjBF,GAAiC,CACrC,IAAI4G,EAAeR,GAAYjkB,GAAe1B,KAAKuB,EAAQ,eACvD6kB,EAAeR,GAAYlkB,GAAe1B,KAAKskB,EAAO,eAE1D,GAAI6B,GAAgBC,EAAc,CAChC,IAAIC,EAAeF,EAAe5kB,EAAOT,QAAUS,EAC/C+kB,EAAeF,EAAe9B,EAAMxjB,QAAUwjB,EAGlD,OADA7E,IAAUA,EAAQ,IAAIrC,IACfkI,EAAUe,EAAcC,EAAc/G,EAASC,EAAYC,IAGtE,IAAKoG,EACH,OAAO,EAGT,OADApG,IAAUA,EAAQ,IAAIrC,IA05ExB,SAAsB7b,EAAQ+iB,EAAO/E,EAASC,EAAY8F,EAAW7F,GACnE,IAAIwG,EAjqLmB,EAiqLP1G,EACZgH,EAAW9E,GAAWlgB,GACtBilB,EAAYD,EAASnkB,OAErBuiB,EADWlD,GAAW6C,GACDliB,OAEzB,GAAIokB,GAAa7B,IAAcsB,EAC7B,OAAO,EAET,IAAIhU,EAAQuU,EACZ,KAAOvU,KAAS,CACd,IAAI7Q,EAAMmlB,EAAStU,GACnB,KAAMgU,EAAY7kB,KAAOkjB,EAAQ5iB,GAAe1B,KAAKskB,EAAOljB,IAC1D,OAAO,EAIX,IAAIqlB,EAAahH,EAAM/e,IAAIa,GACvBmlB,EAAajH,EAAM/e,IAAI4jB,GAC3B,GAAImC,GAAcC,EAChB,OAAOD,GAAcnC,GAASoC,GAAcnlB,EAE9C,IAAI6D,GAAS,EACbqa,EAAMvJ,IAAI3U,EAAQ+iB,GAClB7E,EAAMvJ,IAAIoO,EAAO/iB,GAEjB,IAAIolB,EAAWV,EACf,OAAShU,EAAQuU,GAAW,CAC1BplB,EAAMmlB,EAAStU,GACf,IAAIyM,EAAWnd,EAAOH,GAClBwlB,EAAWtC,EAAMljB,GAErB,GAAIoe,EACF,IAAIqH,EAAWZ,EACXzG,EAAWoH,EAAUlI,EAAUtd,EAAKkjB,EAAO/iB,EAAQke,GACnDD,EAAWd,EAAUkI,EAAUxlB,EAAKG,EAAQ+iB,EAAO7E,GAGzD,UAnuLFxL,IAmuLQ4S,EACGnI,IAAakI,GAAYtB,EAAU5G,EAAUkI,EAAUrH,EAASC,EAAYC,GAC7EoH,GACD,CACLzhB,GAAS,EACT,MAEFuhB,IAAaA,EAAkB,eAAPvlB,GAE1B,GAAIgE,IAAWuhB,EAAU,CACvB,IAAIG,EAAUvlB,EAAO2C,YACjB6iB,EAAUzC,EAAMpgB,YAGhB4iB,GAAWC,KACV,gBAAiBxlB,MAAU,gBAAiB+iB,IACzB,mBAAXwC,GAAyBA,aAAmBA,GACjC,mBAAXC,GAAyBA,aAAmBA,IACvD3hB,GAAS,GAKb,OAFAqa,EAAc,OAAEle,GAChBke,EAAc,OAAE6E,GACTlf,EAv9EA4hB,CAAazlB,EAAQ+iB,EAAO/E,EAASC,EAAY8F,EAAW7F,GA3D5DwH,CAAgBnmB,EAAOwjB,EAAO/E,EAASC,EAAY6F,GAAa5F,IAmFzE,SAASyH,GAAY3lB,EAAQuK,EAAQqb,EAAW3H,GAC9C,IAAIvN,EAAQkV,EAAU/kB,OAClBA,EAAS6P,EACTmV,GAAgB5H,EAEpB,GAAc,MAAVje,EACF,OAAQa,EAGV,IADAb,EAAShB,GAAOgB,GACT0Q,KAAS,CACd,IAAIoL,EAAO8J,EAAUlV,GACrB,GAAKmV,GAAgB/J,EAAK,GAClBA,EAAK,KAAO9b,EAAO8b,EAAK,MACtBA,EAAK,KAAM9b,GAEnB,OAAO,EAGX,OAAS0Q,EAAQ7P,GAAQ,CAEvB,IAAIhB,GADJic,EAAO8J,EAAUlV,IACF,GACXyM,EAAWnd,EAAOH,GAClBimB,EAAWhK,EAAK,GAEpB,GAAI+J,GAAgB/J,EAAK,IACvB,QAp1GJpJ,IAo1GQyK,KAA4Btd,KAAOG,GACrC,OAAO,MAEJ,CACL,IAAIke,EAAQ,IAAIrC,GAChB,GAAIoC,EACF,IAAIpa,EAASoa,EAAWd,EAAU2I,EAAUjmB,EAAKG,EAAQuK,EAAQ2T,GAEnE,UA51GJxL,IA41GU7O,EACEigB,GAAYgC,EAAU3I,EAAU4I,EAA+C9H,EAAYC,GAC3Fra,GAEN,OAAO,GAIb,OAAO,EAWT,SAASmiB,GAAazmB,GACpB,SAAKgb,GAAShb,KA05FE4Q,EA15FiB5Q,EA25FxB2W,IAAeA,MAAc/F,MAx5FxB8R,GAAW1iB,GAASkX,GAAa5K,IAChCjK,KAAK0X,GAAS/Z,IAs5F/B,IAAkB4Q,EA12FlB,SAAS8V,GAAa1mB,GAGpB,MAAoB,mBAATA,EACFA,EAEI,MAATA,EACK2mB,GAEW,iBAAT3mB,EACF0a,GAAQ1a,GACX4mB,GAAoB5mB,EAAM,GAAIA,EAAM,IACpC6mB,GAAY7mB,GAEXU,GAASV,GAUlB,SAAS8mB,GAASrmB,GAChB,IAAKsmB,GAAYtmB,GACf,OAAOoY,GAAWpY,GAEpB,IAAI6D,EAAS,GACb,IAAK,IAAIhE,KAAOb,GAAOgB,GACjBG,GAAe1B,KAAKuB,EAAQH,IAAe,eAAPA,GACtCgE,EAAO/C,KAAKjB,GAGhB,OAAOgE,EAUT,SAAS0iB,GAAWvmB,GAClB,IAAKua,GAASva,GACZ,OA09FJ,SAAsBA,GACpB,IAAI6D,EAAS,GACb,GAAc,MAAV7D,EACF,IAAK,IAAIH,KAAOb,GAAOgB,GACrB6D,EAAO/C,KAAKjB,GAGhB,OAAOgE,EAj+FE2iB,CAAaxmB,GAEtB,IAAIymB,EAAUH,GAAYtmB,GACtB6D,EAAS,GAEb,IAAK,IAAIhE,KAAOG,GACD,eAAPH,IAAyB4mB,GAAYtmB,GAAe1B,KAAKuB,EAAQH,KACrEgE,EAAO/C,KAAKjB,GAGhB,OAAOgE,EAYT,SAAS6iB,GAAOnnB,EAAOwjB,GACrB,OAAOxjB,EAAQwjB,EAWjB,SAAS4D,GAAQ3U,EAAYxB,GAC3B,IAAIE,GAAS,EACT7M,EAAS+iB,GAAY5U,GAAc3P,EAAM2P,EAAWnR,QAAU,GAKlE,OAHAyc,GAAStL,GAAY,SAASzS,EAAOM,EAAKmS,GACxCnO,IAAS6M,GAASF,EAASjR,EAAOM,EAAKmS,MAElCnO,EAUT,SAASuiB,GAAY7b,GACnB,IAAIqb,EAAYiB,GAAatc,GAC7B,OAAwB,GAApBqb,EAAU/kB,QAAe+kB,EAAU,GAAG,GACjCkB,GAAwBlB,EAAU,GAAG,GAAIA,EAAU,GAAG,IAExD,SAAS5lB,GACd,OAAOA,IAAWuK,GAAUob,GAAY3lB,EAAQuK,EAAQqb,IAY5D,SAASO,GAAoBhE,EAAM2D,GACjC,OAAIiB,GAAM5E,IAAS6E,GAAmBlB,GAC7BgB,GAAwBzE,GAAMF,GAAO2D,GAEvC,SAAS9lB,GACd,IAAImd,EAAWhe,GAAIa,EAAQmiB,GAC3B,YAzhHFzP,IAyhHUyK,GAA0BA,IAAa2I,EAC3CmB,GAAMjnB,EAAQmiB,GACd2B,GAAYgC,EAAU3I,EAAU4I,IAexC,SAASmB,GAAUlnB,EAAQuK,EAAQ4c,EAAUlJ,EAAYC,GACnDle,IAAWuK,GAGfsX,GAAQtX,GAAQ,SAASub,EAAUjmB,GAEjC,GADAqe,IAAUA,EAAQ,IAAIrC,IAClBtB,GAASuL,IA+BjB,SAAuB9lB,EAAQuK,EAAQ1K,EAAKsnB,EAAUC,EAAWnJ,EAAYC,GAC3E,IAAIf,EAAWkK,GAAQrnB,EAAQH,GAC3BimB,EAAWuB,GAAQ9c,EAAQ1K,GAC3BkgB,EAAU7B,EAAM/e,IAAI2mB,GAExB,GAAI/F,EAEF,YADAhD,GAAiB/c,EAAQH,EAAKkgB,GAGhC,IAAIuH,EAAWrJ,EACXA,EAAWd,EAAU2I,EAAWjmB,EAAM,GAAKG,EAAQuK,EAAQ2T,QAzlH/DxL,EA4lHI8N,OA5lHJ9N,IA4lHe4U,EAEf,GAAI9G,EAAU,CACZ,IAAIvE,EAAQhC,GAAQ6L,GAChB1J,GAAUH,GAASjE,GAAS8N,GAC5ByB,GAAWtL,IAAUG,GAAUlM,GAAa4V,GAEhDwB,EAAWxB,EACP7J,GAASG,GAAUmL,EACjBtN,GAAQkD,GACVmK,EAAWnK,EAEJqK,GAAkBrK,GACzBmK,EAAW1K,GAAUO,GAEdf,GACPoE,GAAW,EACX8G,EAAW3I,GAAYmH,GAAU,IAE1ByB,GACP/G,GAAW,EACX8G,EAAW5H,GAAgBoG,GAAU,IAGrCwB,EAAW,GAGNG,GAAc3B,IAAa3J,GAAY2J,IAC9CwB,EAAWnK,EACPhB,GAAYgB,GACdmK,EAAWI,GAAcvK,GAEjB5C,GAAS4C,KAAa8E,GAAW9E,KACzCmK,EAAW1I,GAAgBkH,KAI7BtF,GAAW,EAGXA,IAEFtC,EAAMvJ,IAAImR,EAAUwB,GACpBF,EAAUE,EAAUxB,EAAUqB,EAAUlJ,EAAYC,GACpDA,EAAc,OAAE4H,IAElB/I,GAAiB/c,EAAQH,EAAKynB,GAzF1BK,CAAc3nB,EAAQuK,EAAQ1K,EAAKsnB,EAAUD,GAAWjJ,EAAYC,OAEjE,CACH,IAAIoJ,EAAWrJ,EACXA,EAAWoJ,GAAQrnB,EAAQH,GAAMimB,EAAWjmB,EAAM,GAAKG,EAAQuK,EAAQ2T,QArjH/ExL,WAwjHQ4U,IACFA,EAAWxB,GAEb/I,GAAiB/c,EAAQH,EAAKynB,MAE/BvI,IAwFL,SAAS6I,GAAQtX,EAAOvQ,GACtB,IAAIc,EAASyP,EAAMzP,OACnB,GAAKA,EAIL,OAAO0b,GADPxc,GAAKA,EAAI,EAAIc,EAAS,EACJA,GAAUyP,EAAMvQ,QA3pHlC2S,EAuqHF,SAASmV,GAAY7V,EAAY8V,EAAWC,GAExCD,EADEA,EAAUjnB,OACAwQ,GAASyW,GAAW,SAAStX,GACvC,OAAIyJ,GAAQzJ,GACH,SAASjR,GACd,OAAO2iB,GAAQ3iB,EAA2B,IAApBiR,EAAS3P,OAAe2P,EAAS,GAAKA,IAGzDA,KAGG,CAAC0V,IAGf,IAAIxV,GAAS,EAUb,OATAoX,EAAYzW,GAASyW,EAAW5U,GAAU8U,OAnxF9C,SAAoB1X,EAAO2X,GACzB,IAAIpnB,EAASyP,EAAMzP,OAGnB,IADAyP,EAAM4X,KAAKD,GACJpnB,KACLyP,EAAMzP,GAAUyP,EAAMzP,GAAQtB,MAEhC,OAAO+Q,EAqxFE6X,CAPMxB,GAAQ3U,GAAY,SAASzS,EAAOM,EAAKmS,GAIpD,MAAO,CAAE,SAHMX,GAASyW,GAAW,SAAStX,GAC1C,OAAOA,EAASjR,MAEa,QAAWmR,EAAO,MAASnR,OAGlC,SAASS,EAAQ+iB,GACzC,OA04BJ,SAAyB/iB,EAAQ+iB,EAAOgF,GACtC,IAAIrX,GAAS,EACT0X,EAAcpoB,EAAOqoB,SACrBC,EAAcvF,EAAMsF,SACpBxnB,EAASunB,EAAYvnB,OACrB0nB,EAAeR,EAAOlnB,OAE1B,OAAS6P,EAAQ7P,GAAQ,CACvB,IAAIgD,EAAS2kB,GAAiBJ,EAAY1X,GAAQ4X,EAAY5X,IAC9D,GAAI7M,EAAQ,CACV,GAAI6M,GAAS6X,EACX,OAAO1kB,EAET,IAAI4kB,EAAQV,EAAOrX,GACnB,OAAO7M,GAAmB,QAAT4kB,GAAmB,EAAI,IAU5C,OAAOzoB,EAAO0Q,MAAQqS,EAAMrS,MAl6BnBgY,CAAgB1oB,EAAQ+iB,EAAOgF,MA4B1C,SAASY,GAAW3oB,EAAQ0d,EAAO5M,GAKjC,IAJA,IAAIJ,GAAS,EACT7P,EAAS6c,EAAM7c,OACfgD,EAAS,KAEJ6M,EAAQ7P,GAAQ,CACvB,IAAIshB,EAAOzE,EAAMhN,GACbnR,EAAQ2iB,GAAQliB,EAAQmiB,GAExBrR,EAAUvR,EAAO4iB,IACnByG,GAAQ/kB,EAAQue,GAASD,EAAMniB,GAAST,GAG5C,OAAOsE,EA2BT,SAASglB,GAAYvY,EAAOiB,EAAQf,EAAUY,GAC5C,IAAI0X,EAAU1X,EAAamB,GAAkBrB,GACzCR,GAAS,EACT7P,EAAS0Q,EAAO1Q,OAChB4iB,EAAOnT,EAQX,IANIA,IAAUiB,IACZA,EAASqL,GAAUrL,IAEjBf,IACFiT,EAAOpS,GAASf,EAAO4C,GAAU1C,OAE1BE,EAAQ7P,GAKf,IAJA,IAAIsR,EAAY,EACZ5S,EAAQgS,EAAOb,GACfiQ,EAAWnQ,EAAWA,EAASjR,GAASA,GAEpC4S,EAAY2W,EAAQrF,EAAM9C,EAAUxO,EAAWf,KAAgB,GACjEqS,IAASnT,GACXtO,GAAOvD,KAAKglB,EAAMtR,EAAW,GAE/BnQ,GAAOvD,KAAK6R,EAAO6B,EAAW,GAGlC,OAAO7B,EAYT,SAASyY,GAAWzY,EAAO0Y,GAIzB,IAHA,IAAInoB,EAASyP,EAAQ0Y,EAAQnoB,OAAS,EAClCiU,EAAYjU,EAAS,EAElBA,KAAU,CACf,IAAI6P,EAAQsY,EAAQnoB,GACpB,GAAIA,GAAUiU,GAAapE,IAAUuY,EAAU,CAC7C,IAAIA,EAAWvY,EACX6L,GAAQ7L,GACV1O,GAAOvD,KAAK6R,EAAOI,EAAO,GAE1BwY,GAAU5Y,EAAOI,IAIvB,OAAOJ,EAYT,SAASmM,GAAWoB,EAAOC,GACzB,OAAOD,EAAQjG,GAAYe,MAAkBmF,EAAQD,EAAQ,IAkC/D,SAASsL,GAAWnW,EAAQjT,GAC1B,IAAI8D,EAAS,GACb,IAAKmP,GAAUjT,EAAI,GAAKA,EA9yHL,iBA+yHjB,OAAO8D,EAIT,GACM9D,EAAI,IACN8D,GAAUmP,IAEZjT,EAAI6X,GAAY7X,EAAI,MAElBiT,GAAUA,SAELjT,GAET,OAAO8D,EAWT,SAASulB,GAASjZ,EAAMnJ,GACtB,OAAOqiB,GAAYC,GAASnZ,EAAMnJ,EAAOkf,IAAW/V,EAAO,IAU7D,SAASoZ,GAAWvX,GAClB,OAAOwK,GAAYjL,GAAOS,IAW5B,SAASwX,GAAexX,EAAYjS,GAClC,IAAIuQ,EAAQiB,GAAOS,GACnB,OAAO2K,GAAYrM,EAAOuM,GAAU9c,EAAG,EAAGuQ,EAAMzP,SAalD,SAAS+nB,GAAQ5oB,EAAQmiB,EAAM5iB,EAAO0e,GACpC,IAAK1D,GAASva,GACZ,OAAOA,EAST,IALA,IAAI0Q,GAAS,EACT7P,GAHJshB,EAAOC,GAASD,EAAMniB,IAGJa,OACdiU,EAAYjU,EAAS,EACrB4oB,EAASzpB,EAEI,MAAVypB,KAAoB/Y,EAAQ7P,GAAQ,CACzC,IAAIhB,EAAMwiB,GAAMF,EAAKzR,IACjB4W,EAAW/nB,EAEf,GAAY,cAARM,GAA+B,gBAARA,GAAiC,cAARA,EAClD,OAAOG,EAGT,GAAI0Q,GAASoE,EAAW,CACtB,IAAIqI,EAAWsM,EAAO5pB,QA57H1B6S,KA67HI4U,EAAWrJ,EAAaA,EAAWd,EAAUtd,EAAK4pB,QA77HtD/W,KA+7HM4U,EAAW/M,GAAS4C,GAChBA,EACCZ,GAAQ4F,EAAKzR,EAAQ,IAAM,GAAK,IAGzCwM,GAAYuM,EAAQ5pB,EAAKynB,GACzBmC,EAASA,EAAO5pB,GAElB,OAAOG,EAWT,IAAI0pB,GAAevQ,GAAqB,SAAShJ,EAAM2L,GAErD,OADA3C,GAAQxE,IAAIxE,EAAM2L,GACX3L,GAFoB+V,GAazByD,GAAmB1qB,GAA4B,SAASkR,EAAM6C,GAChE,OAAO/T,GAAekR,EAAM,WAAY,CACtC,cAAgB,EAChB,YAAc,EACd,MAASyZ,GAAS5W,GAClB,UAAY,KALwBkT,GAgBxC,SAAS2D,GAAY7X,GACnB,OAAO2K,GAAYpL,GAAOS,IAY5B,SAAS8X,GAAUxZ,EAAOtJ,EAAOC,GAC/B,IAAIyJ,GAAS,EACT7P,EAASyP,EAAMzP,OAEfmG,EAAQ,IACVA,GAASA,EAAQnG,EAAS,EAAKA,EAASmG,IAE1CC,EAAMA,EAAMpG,EAASA,EAASoG,GACpB,IACRA,GAAOpG,GAETA,EAASmG,EAAQC,EAAM,EAAMA,EAAMD,IAAW,EAC9CA,KAAW,EAGX,IADA,IAAInD,EAASxB,EAAMxB,KACV6P,EAAQ7P,GACfgD,EAAO6M,GAASJ,EAAMI,EAAQ1J,GAEhC,OAAOnD,EAYT,SAASkmB,GAAS/X,EAAYlB,GAC5B,IAAIjN,EAMJ,OAJAyZ,GAAStL,GAAY,SAASzS,EAAOmR,EAAOsB,GAE1C,QADAnO,EAASiN,EAAUvR,EAAOmR,EAAOsB,SAG1BnO,EAeX,SAASmmB,GAAgB1Z,EAAO/Q,EAAO0qB,GACrC,IAAIC,EAAM,EACNC,EAAgB,MAAT7Z,EAAgB4Z,EAAM5Z,EAAMzP,OAEvC,GAAoB,iBAATtB,GAAqBA,GAAUA,GAAS4qB,GAn/H3BC,WAm/H0D,CAChF,KAAOF,EAAMC,GAAM,CACjB,IAAIE,EAAOH,EAAMC,IAAU,EACvBxJ,EAAWrQ,EAAM+Z,GAEJ,OAAb1J,IAAsBY,GAASZ,KAC9BsJ,EAActJ,GAAYphB,EAAUohB,EAAWphB,GAClD2qB,EAAMG,EAAM,EAEZF,EAAOE,EAGX,OAAOF,EAET,OAAOG,GAAkBha,EAAO/Q,EAAO2mB,GAAU+D,GAgBnD,SAASK,GAAkBha,EAAO/Q,EAAOiR,EAAUyZ,GACjD,IAAIC,EAAM,EACNC,EAAgB,MAAT7Z,EAAgB,EAAIA,EAAMzP,OACrC,GAAa,IAATspB,EACF,OAAO,EAST,IALA,IAAII,GADJhrB,EAAQiR,EAASjR,KACQA,EACrBirB,EAAsB,OAAVjrB,EACZkrB,EAAclJ,GAAShiB,GACvBmrB,OA7lIJhY,IA6lIqBnT,EAEd2qB,EAAMC,GAAM,CACjB,IAAIE,EAAMzS,IAAasS,EAAMC,GAAQ,GACjCxJ,EAAWnQ,EAASF,EAAM+Z,IAC1BM,OAlmINjY,IAkmIqBiO,EACfiK,EAAyB,OAAbjK,EACZkK,EAAiBlK,GAAaA,EAC9BmK,EAAcvJ,GAASZ,GAE3B,GAAI4J,EACF,IAAIQ,EAASd,GAAcY,OAE3BE,EADSL,EACAG,IAAmBZ,GAAcU,GACjCH,EACAK,GAAkBF,IAAiBV,IAAeW,GAClDH,EACAI,GAAkBF,IAAiBC,IAAcX,IAAea,IAChEF,IAAaE,IAGbb,EAActJ,GAAYphB,EAAUohB,EAAWphB,GAEtDwrB,EACFb,EAAMG,EAAM,EAEZF,EAAOE,EAGX,OAAO9R,GAAU4R,EA1jICC,YAskIpB,SAASY,GAAe1a,EAAOE,GAM7B,IALA,IAAIE,GAAS,EACT7P,EAASyP,EAAMzP,OACfmQ,EAAW,EACXnN,EAAS,KAEJ6M,EAAQ7P,GAAQ,CACvB,IAAItB,EAAQ+Q,EAAMI,GACdiQ,EAAWnQ,EAAWA,EAASjR,GAASA,EAE5C,IAAKmR,IAAUsM,GAAG2D,EAAU8C,GAAO,CACjC,IAAIA,EAAO9C,EACX9c,EAAOmN,KAAwB,IAAVzR,EAAc,EAAIA,GAG3C,OAAOsE,EAWT,SAASonB,GAAa1rB,GACpB,MAAoB,iBAATA,EACFA,EAELgiB,GAAShiB,GAxmIP,KA2mIEA,EAWV,SAAS2rB,GAAa3rB,GAEpB,GAAoB,iBAATA,EACT,OAAOA,EAET,GAAI0a,GAAQ1a,GAEV,OAAO8R,GAAS9R,EAAO2rB,IAAgB,GAEzC,GAAI3J,GAAShiB,GACX,OAAOua,GAAiBA,GAAerb,KAAKc,GAAS,GAEvD,IAAIsE,EAAUtE,EAAQ,GACtB,MAAkB,KAAVsE,GAAkB,EAAItE,IAtoInB,IAsoI0C,KAAOsE,EAY9D,SAASsnB,GAAS7a,EAAOE,EAAUY,GACjC,IAAIV,GAAS,EACT6P,EAAWtP,GACXpQ,EAASyP,EAAMzP,OACf2f,GAAW,EACX3c,EAAS,GACT4f,EAAO5f,EAEX,GAAIuN,EACFoP,GAAW,EACXD,EAAWpP,QAER,GAAItQ,GAjtIU,IAitIkB,CACnC,IAAI8T,EAAMnE,EAAW,KAAO4a,GAAU9a,GACtC,GAAIqE,EACF,OAAOD,GAAWC,GAEpB6L,GAAW,EACXD,EAAWlN,GACXoQ,EAAO,IAAI/H,QAGX+H,EAAOjT,EAAW,GAAK3M,EAEzB6c,EACA,OAAShQ,EAAQ7P,GAAQ,CACvB,IAAItB,EAAQ+Q,EAAMI,GACdiQ,EAAWnQ,EAAWA,EAASjR,GAASA,EAG5C,GADAA,EAAS6R,GAAwB,IAAV7R,EAAeA,EAAQ,EAC1CihB,GAAYG,GAAaA,EAAU,CAErC,IADA,IAAI0K,EAAY5H,EAAK5iB,OACdwqB,KACL,GAAI5H,EAAK4H,KAAe1K,EACtB,SAASD,EAGTlQ,GACFiT,EAAK3iB,KAAK6f,GAEZ9c,EAAO/C,KAAKvB,QAEJghB,EAASkD,EAAM9C,EAAUvP,KAC7BqS,IAAS5f,GACX4f,EAAK3iB,KAAK6f,GAEZ9c,EAAO/C,KAAKvB,IAGhB,OAAOsE,EAWT,SAASqlB,GAAUlpB,EAAQmiB,GAGzB,OAAiB,OADjBniB,EAAS2jB,GAAO3jB,EADhBmiB,EAAOC,GAASD,EAAMniB,aAEUA,EAAOqiB,GAAMuB,GAAKzB,KAapD,SAASmJ,GAAWtrB,EAAQmiB,EAAMoJ,EAAStN,GACzC,OAAO2K,GAAQ5oB,EAAQmiB,EAAMoJ,EAAQrJ,GAAQliB,EAAQmiB,IAAQlE,GAc/D,SAASuN,GAAUlb,EAAOQ,EAAW2a,EAAQrZ,GAI3C,IAHA,IAAIvR,EAASyP,EAAMzP,OACf6P,EAAQ0B,EAAYvR,GAAU,GAE1BuR,EAAY1B,MAAYA,EAAQ7P,IACtCiQ,EAAUR,EAAMI,GAAQA,EAAOJ,KAEjC,OAAOmb,EACH3B,GAAUxZ,EAAQ8B,EAAY,EAAI1B,EAAS0B,EAAY1B,EAAQ,EAAI7P,GACnEipB,GAAUxZ,EAAQ8B,EAAY1B,EAAQ,EAAI,EAAK0B,EAAYvR,EAAS6P,GAa1E,SAASgb,GAAiBnsB,EAAOosB,GAC/B,IAAI9nB,EAAStE,EAIb,OAHIsE,aAAkBqW,KACpBrW,EAASA,EAAOtE,SAEXkS,GAAYka,GAAS,SAAS9nB,EAAQ+nB,GAC3C,OAAOA,EAAOzb,KAAKpN,MAAM6oB,EAAO3oB,QAASqO,GAAU,CAACzN,GAAS+nB,EAAOxb,SACnEvM,GAaL,SAASgoB,GAAQ1I,EAAQ3S,EAAUY,GACjC,IAAIvQ,EAASsiB,EAAOtiB,OACpB,GAAIA,EAAS,EACX,OAAOA,EAASsqB,GAAShI,EAAO,IAAM,GAKxC,IAHA,IAAIzS,GAAS,EACT7M,EAASxB,EAAMxB,KAEV6P,EAAQ7P,GAIf,IAHA,IAAIyP,EAAQ6S,EAAOzS,GACf2S,GAAY,IAEPA,EAAWxiB,GACdwiB,GAAY3S,IACd7M,EAAO6M,GAAS4P,GAAezc,EAAO6M,IAAUJ,EAAO6S,EAAOE,GAAW7S,EAAUY,IAIzF,OAAO+Z,GAAS1J,GAAY5d,EAAQ,GAAI2M,EAAUY,GAYpD,SAAS0a,GAAc1Y,EAAO7B,EAAQwa,GAMpC,IALA,IAAIrb,GAAS,EACT7P,EAASuS,EAAMvS,OACfmrB,EAAaza,EAAO1Q,OACpBgD,EAAS,KAEJ6M,EAAQ7P,GAAQ,CACvB,IAAItB,EAAQmR,EAAQsb,EAAaza,EAAOb,QAr3I1CgC,EAs3IEqZ,EAAWloB,EAAQuP,EAAM1C,GAAQnR,GAEnC,OAAOsE,EAUT,SAASooB,GAAoB1sB,GAC3B,OAAOioB,GAAkBjoB,GAASA,EAAQ,GAU5C,SAAS2sB,GAAa3sB,GACpB,MAAuB,mBAATA,EAAsBA,EAAQ2mB,GAW9C,SAAS9D,GAAS7iB,EAAOS,GACvB,OAAIia,GAAQ1a,GACHA,EAEFwnB,GAAMxnB,EAAOS,GAAU,CAACT,GAAS4sB,GAAa3kB,GAASjI,IAYhE,IAAI6sB,GAAWhD,GAWf,SAASiD,GAAU/b,EAAOtJ,EAAOC,GAC/B,IAAIpG,EAASyP,EAAMzP,OAEnB,OADAoG,OAt7IAyL,IAs7IMzL,EAAoBpG,EAASoG,GAC1BD,GAASC,GAAOpG,EAAUyP,EAAQwZ,GAAUxZ,EAAOtJ,EAAOC,GASrE,IAAIqQ,GAAeD,IAAmB,SAASiV,GAC7C,OAAO1d,GAAK0I,aAAagV,IAW3B,SAAS3N,GAAYW,EAAQnB,GAC3B,GAAIA,EACF,OAAOmB,EAAOle,QAEhB,IAAIP,EAASye,EAAOze,OAChBgD,EAAS8S,GAAcA,GAAY9V,GAAU,IAAIye,EAAO3c,YAAY9B,GAGxE,OADAye,EAAOiN,KAAK1oB,GACLA,EAUT,SAASub,GAAiBrY,GACxB,IAAIlD,EAAS,IAAIkD,EAAYpE,YAAYoE,EAAYyY,YAErD,OADA,IAAI9I,GAAW7S,GAAQ8Q,IAAI,IAAI+B,GAAW3P,IACnClD,EAgDT,SAAS6b,GAAgB8M,EAAYrO,GACnC,IAAImB,EAASnB,EAASiB,GAAiBoN,EAAWlN,QAAUkN,EAAWlN,OACvE,OAAO,IAAIkN,EAAW7pB,YAAY2c,EAAQkN,EAAWjN,WAAYiN,EAAW3rB,QAW9E,SAAS2nB,GAAiBjpB,EAAOwjB,GAC/B,GAAIxjB,IAAUwjB,EAAO,CACnB,IAAI0J,OAhiJN/Z,IAgiJqBnT,EACfirB,EAAsB,OAAVjrB,EACZmtB,EAAiBntB,GAAUA,EAC3BkrB,EAAclJ,GAAShiB,GAEvBorB,OAriJNjY,IAqiJqBqQ,EACf6H,EAAsB,OAAV7H,EACZ8H,EAAiB9H,GAAUA,EAC3B+H,EAAcvJ,GAASwB,GAE3B,IAAM6H,IAAcE,IAAgBL,GAAelrB,EAAQwjB,GACtD0H,GAAeE,GAAgBE,IAAmBD,IAAcE,GAChEN,GAAaG,GAAgBE,IAC5B4B,GAAgB5B,IACjB6B,EACH,OAAO,EAET,IAAMlC,IAAcC,IAAgBK,GAAevrB,EAAQwjB,GACtD+H,GAAe2B,GAAgBC,IAAmBlC,IAAcC,GAChEG,GAAa6B,GAAgBC,IAC5B/B,GAAgB+B,IACjB7B,EACH,OAAQ,EAGZ,OAAO,EAuDT,SAAS8B,GAAYvc,EAAMwc,EAAUC,EAASC,GAU5C,IATA,IAAIC,GAAa,EACbC,EAAa5c,EAAKvP,OAClBosB,EAAgBJ,EAAQhsB,OACxBqsB,GAAa,EACbC,EAAaP,EAAS/rB,OACtBusB,EAAc/U,GAAU2U,EAAaC,EAAe,GACpDppB,EAASxB,EAAM8qB,EAAaC,GAC5BC,GAAeP,IAEVI,EAAYC,GACnBtpB,EAAOqpB,GAAaN,EAASM,GAE/B,OAASH,EAAYE,IACfI,GAAeN,EAAYC,KAC7BnpB,EAAOgpB,EAAQE,IAAc3c,EAAK2c,IAGtC,KAAOK,KACLvpB,EAAOqpB,KAAe9c,EAAK2c,KAE7B,OAAOlpB,EAcT,SAASypB,GAAiBld,EAAMwc,EAAUC,EAASC,GAWjD,IAVA,IAAIC,GAAa,EACbC,EAAa5c,EAAKvP,OAClB0sB,GAAgB,EAChBN,EAAgBJ,EAAQhsB,OACxB2sB,GAAc,EACdC,EAAcb,EAAS/rB,OACvBusB,EAAc/U,GAAU2U,EAAaC,EAAe,GACpDppB,EAASxB,EAAM+qB,EAAcK,GAC7BJ,GAAeP,IAEVC,EAAYK,GACnBvpB,EAAOkpB,GAAa3c,EAAK2c,GAG3B,IADA,IAAIvb,EAASub,IACJS,EAAaC,GACpB5pB,EAAO2N,EAASgc,GAAcZ,EAASY,GAEzC,OAASD,EAAeN,IAClBI,GAAeN,EAAYC,KAC7BnpB,EAAO2N,EAASqb,EAAQU,IAAiBnd,EAAK2c,MAGlD,OAAOlpB,EAWT,SAAS+Y,GAAUrS,EAAQ+F,GACzB,IAAII,GAAS,EACT7P,EAAS0J,EAAO1J,OAGpB,IADAyP,IAAUA,EAAQjO,EAAMxB,MACf6P,EAAQ7P,GACfyP,EAAMI,GAASnG,EAAOmG,GAExB,OAAOJ,EAaT,SAASkN,GAAWjT,EAAQ6I,EAAOpT,EAAQie,GACzC,IAAIyP,GAAS1tB,EACbA,IAAWA,EAAS,IAKpB,IAHA,IAAI0Q,GAAS,EACT7P,EAASuS,EAAMvS,SAEV6P,EAAQ7P,GAAQ,CACvB,IAAIhB,EAAMuT,EAAM1C,GAEZ4W,EAAWrJ,EACXA,EAAWje,EAAOH,GAAM0K,EAAO1K,GAAMA,EAAKG,EAAQuK,QArtJxDmI,WAwtJM4U,IACFA,EAAW/c,EAAO1K,IAEhB6tB,EACFzQ,GAAgBjd,EAAQH,EAAKynB,GAE7BpK,GAAYld,EAAQH,EAAKynB,GAG7B,OAAOtnB,EAmCT,SAAS2tB,GAAiBpd,EAAQqd,GAChC,OAAO,SAAS5b,EAAYxB,GAC1B,IAAIL,EAAO8J,GAAQjI,GAAc3B,GAAkBgN,GAC/C5M,EAAcmd,EAAcA,IAAgB,GAEhD,OAAOzd,EAAK6B,EAAYzB,EAAQyX,GAAYxX,EAAU,GAAIC,IAW9D,SAASod,GAAeC,GACtB,OAAO1E,IAAS,SAASppB,EAAQ+tB,GAC/B,IAAIrd,GAAS,EACT7P,EAASktB,EAAQltB,OACjBod,EAAapd,EAAS,EAAIktB,EAAQltB,EAAS,QAxxJjD6R,EAyxJMsb,EAAQntB,EAAS,EAAIktB,EAAQ,QAzxJnCrb,EAoyJE,IATAuL,EAAc6P,EAASjtB,OAAS,GAA0B,mBAAdod,GACvCpd,IAAUod,QA5xJjBvL,EA+xJMsb,GAASC,GAAeF,EAAQ,GAAIA,EAAQ,GAAIC,KAClD/P,EAAapd,EAAS,OAhyJ1B6R,EAgyJ0CuL,EACtCpd,EAAS,GAEXb,EAAShB,GAAOgB,KACP0Q,EAAQ7P,GAAQ,CACvB,IAAI0J,EAASwjB,EAAQrd,GACjBnG,GACFujB,EAAS9tB,EAAQuK,EAAQmG,EAAOuN,GAGpC,OAAOje,KAYX,SAASihB,GAAehP,EAAUG,GAChC,OAAO,SAASJ,EAAYxB,GAC1B,GAAkB,MAAdwB,EACF,OAAOA,EAET,IAAK4U,GAAY5U,GACf,OAAOC,EAASD,EAAYxB,GAM9B,IAJA,IAAI3P,EAASmR,EAAWnR,OACpB6P,EAAQ0B,EAAYvR,GAAU,EAC9BqtB,EAAWlvB,GAAOgT,IAEdI,EAAY1B,MAAYA,EAAQ7P,KACa,IAA/C2P,EAAS0d,EAASxd,GAAQA,EAAOwd,KAIvC,OAAOlc,GAWX,SAAS8P,GAAc1P,GACrB,OAAO,SAASpS,EAAQwQ,EAAU+R,GAMhC,IALA,IAAI7R,GAAS,EACTwd,EAAWlvB,GAAOgB,GAClBoT,EAAQmP,EAASviB,GACjBa,EAASuS,EAAMvS,OAEZA,KAAU,CACf,IAAIhB,EAAMuT,EAAMhB,EAAYvR,IAAW6P,GACvC,IAA+C,IAA3CF,EAAS0d,EAASruB,GAAMA,EAAKquB,GAC/B,MAGJ,OAAOluB,GAgCX,SAASmuB,GAAgBC,GACvB,OAAO,SAASpb,GAGd,IAAIS,EAAaS,GAFjBlB,EAASxL,GAASwL,IAGdgC,GAAchC,QAp4JpBN,EAu4JMuB,EAAMR,EACNA,EAAW,GACXT,EAAOoC,OAAO,GAEdiZ,EAAW5a,EACX4Y,GAAU5Y,EAAY,GAAGlS,KAAK,IAC9ByR,EAAO5R,MAAM,GAEjB,OAAO6S,EAAIma,KAAgBC,GAW/B,SAASC,GAAiBC,GACxB,OAAO,SAASvb,GACd,OAAOvB,GAAY+c,GAAMC,GAAOzb,GAAQjL,QAAQ0F,GAAQ,KAAM8gB,EAAU,KAY5E,SAASG,GAAWvP,GAClB,OAAO,WAIL,IAAI/O,EAAOtN,UACX,OAAQsN,EAAKvP,QACX,KAAK,EAAG,OAAO,IAAIse,EACnB,KAAK,EAAG,OAAO,IAAIA,EAAK/O,EAAK,IAC7B,KAAK,EAAG,OAAO,IAAI+O,EAAK/O,EAAK,GAAIA,EAAK,IACtC,KAAK,EAAG,OAAO,IAAI+O,EAAK/O,EAAK,GAAIA,EAAK,GAAIA,EAAK,IAC/C,KAAK,EAAG,OAAO,IAAI+O,EAAK/O,EAAK,GAAIA,EAAK,GAAIA,EAAK,GAAIA,EAAK,IACxD,KAAK,EAAG,OAAO,IAAI+O,EAAK/O,EAAK,GAAIA,EAAK,GAAIA,EAAK,GAAIA,EAAK,GAAIA,EAAK,IACjE,KAAK,EAAG,OAAO,IAAI+O,EAAK/O,EAAK,GAAIA,EAAK,GAAIA,EAAK,GAAIA,EAAK,GAAIA,EAAK,GAAIA,EAAK,IAC1E,KAAK,EAAG,OAAO,IAAI+O,EAAK/O,EAAK,GAAIA,EAAK,GAAIA,EAAK,GAAIA,EAAK,GAAIA,EAAK,GAAIA,EAAK,GAAIA,EAAK,IAErF,IAAIue,EAActU,GAAW8E,EAAKjf,WAC9B2D,EAASsb,EAAKpc,MAAM4rB,EAAave,GAIrC,OAAOmK,GAAS1W,GAAUA,EAAS8qB,GAgDvC,SAASC,GAAWC,GAClB,OAAO,SAAS7c,EAAYlB,EAAWqB,GACrC,IAAI+b,EAAWlvB,GAAOgT,GACtB,IAAK4U,GAAY5U,GAAa,CAC5B,IAAIxB,EAAWwX,GAAYlX,EAAW,GACtCkB,EAAaoE,GAAKpE,GAClBlB,EAAY,SAASjR,GAAO,OAAO2Q,EAAS0d,EAASruB,GAAMA,EAAKquB,IAElE,IAAIxd,EAAQme,EAAc7c,EAAYlB,EAAWqB,GACjD,OAAOzB,GAAS,EAAIwd,EAAS1d,EAAWwB,EAAWtB,GAASA,QAt/J9DgC,GAigKF,SAASoc,GAAW1c,GAClB,OAAO2c,IAAS,SAASC,GACvB,IAAInuB,EAASmuB,EAAMnuB,OACf6P,EAAQ7P,EACRouB,EAAS9U,GAAcja,UAAUgvB,KAKrC,IAHI9c,GACF4c,EAAMnW,UAEDnI,KAAS,CACd,IAAIP,EAAO6e,EAAMte,GACjB,GAAmB,mBAARP,EACT,MAAM,IAAI5N,GAAU6F,GAEtB,GAAI6mB,IAAWE,GAAgC,WAArBC,GAAYjf,GACpC,IAAIgf,EAAU,IAAIhV,GAAc,IAAI,GAIxC,IADAzJ,EAAQye,EAAUze,EAAQ7P,IACjB6P,EAAQ7P,GAAQ,CAGvB,IAAIwuB,EAAWD,GAFfjf,EAAO6e,EAAMte,IAGToL,EAAmB,WAAZuT,EAAwBC,GAAQnf,QAxhK/CuC,EA8hKMyc,EAJErT,GAAQyT,GAAWzT,EAAK,KACX,KAAXA,EAAK,KACJA,EAAK,GAAGjb,QAAqB,GAAXib,EAAK,GAElBqT,EAAQC,GAAYtT,EAAK,KAAK/Y,MAAMosB,EAASrT,EAAK,IAElC,GAAf3L,EAAKtP,QAAe0uB,GAAWpf,GACtCgf,EAAQE,KACRF,EAAQD,KAAK/e,GAGrB,OAAO,WACL,IAAIC,EAAOtN,UACPvD,EAAQ6Q,EAAK,GAEjB,GAAI+e,GAA0B,GAAf/e,EAAKvP,QAAeoZ,GAAQ1a,GACzC,OAAO4vB,EAAQK,MAAMjwB,GAAOA,QAK9B,IAHA,IAAImR,EAAQ,EACR7M,EAAShD,EAASmuB,EAAMte,GAAO3N,MAAML,KAAM0N,GAAQ7Q,IAE9CmR,EAAQ7P,GACfgD,EAASmrB,EAAMte,GAAOjS,KAAKiE,KAAMmB,GAEnC,OAAOA,MAwBb,SAAS4rB,GAAatf,EAAM6N,EAAS/a,EAAS2pB,EAAUC,EAAS6C,EAAeC,EAAcC,EAAQC,EAAKC,GACzG,IAAIC,EApiKY,IAoiKJ/R,EACRgS,EA5iKa,EA4iKJhS,EACTiS,EA5iKiB,EA4iKLjS,EACZ8O,EAAsB,GAAV9O,EACZkS,EAtiKa,IAsiKJlS,EACTmB,EAAO8Q,OAhlKXvd,EAglKmCgc,GAAWve,GA6C9C,OA3CA,SAASgf,IAKP,IAJA,IAAItuB,EAASiC,UAAUjC,OACnBuP,EAAO/N,EAAMxB,GACb6P,EAAQ7P,EAEL6P,KACLN,EAAKM,GAAS5N,UAAU4N,GAE1B,GAAIoc,EACF,IAAIjZ,EAAcsc,GAAUhB,GACxBiB,EAAexc,GAAaxD,EAAMyD,GASxC,GAPI+Y,IACFxc,EAAOuc,GAAYvc,EAAMwc,EAAUC,EAASC,IAE1C4C,IACFtf,EAAOkd,GAAiBld,EAAMsf,EAAeC,EAAc7C,IAE7DjsB,GAAUuvB,EACNtD,GAAajsB,EAASivB,EAAO,CAC/B,IAAIO,EAAa5b,GAAerE,EAAMyD,GACtC,OAAOyc,GACLngB,EAAM6N,EAASyR,GAAcN,EAAQtb,YAAa5Q,EAClDmN,EAAMigB,EAAYT,EAAQC,EAAKC,EAAQjvB,GAG3C,IAAI8tB,EAAcqB,EAAS/sB,EAAUP,KACjC6tB,EAAKN,EAAYtB,EAAYxe,GAAQA,EAczC,OAZAtP,EAASuP,EAAKvP,OACV+uB,EACFxf,EAAOogB,GAAQpgB,EAAMwf,GACZM,GAAUrvB,EAAS,GAC5BuP,EAAKyI,UAEHkX,GAASF,EAAMhvB,IACjBuP,EAAKvP,OAASgvB,GAEZntB,MAAQA,OAASkM,IAAQlM,gBAAgBysB,IAC3CoB,EAAKpR,GAAQuP,GAAW6B,IAEnBA,EAAGxtB,MAAM4rB,EAAave,IAajC,SAASqgB,GAAelgB,EAAQmgB,GAC9B,OAAO,SAAS1wB,EAAQwQ,GACtB,OAh/DJ,SAAsBxQ,EAAQuQ,EAAQC,EAAUC,GAI9C,OAHAyQ,GAAWlhB,GAAQ,SAAST,EAAOM,EAAKG,GACtCuQ,EAAOE,EAAaD,EAASjR,GAAQM,EAAKG,MAErCyQ,EA4+DEkgB,CAAa3wB,EAAQuQ,EAAQmgB,EAAWlgB,GAAW,KAY9D,SAASogB,GAAoBC,EAAUC,GACrC,OAAO,SAASvxB,EAAOwjB,GACrB,IAAIlf,EACJ,QAzpKF6O,IAypKMnT,QAzpKNmT,IAypK6BqQ,EACzB,OAAO+N,EAKT,QA/pKFpe,IA4pKMnT,IACFsE,EAAStE,QA7pKbmT,IA+pKMqQ,EAAqB,CACvB,QAhqKJrQ,IAgqKQ7O,EACF,OAAOkf,EAEW,iBAATxjB,GAAqC,iBAATwjB,GACrCxjB,EAAQ2rB,GAAa3rB,GACrBwjB,EAAQmI,GAAanI,KAErBxjB,EAAQ0rB,GAAa1rB,GACrBwjB,EAAQkI,GAAalI,IAEvBlf,EAASgtB,EAAStxB,EAAOwjB,GAE3B,OAAOlf,GAWX,SAASktB,GAAWC,GAClB,OAAOjC,IAAS,SAASjH,GAEvB,OADAA,EAAYzW,GAASyW,EAAW5U,GAAU8U,OACnCoB,IAAS,SAAShZ,GACvB,IAAInN,EAAUP,KACd,OAAOsuB,EAAUlJ,GAAW,SAAStX,GACnC,OAAOzN,GAAMyN,EAAUvN,EAASmN,YAexC,SAAS6gB,GAAcpwB,EAAQ4G,GAG7B,IAAIypB,GAFJzpB,OA7sKAiL,IA6sKQjL,EAAsB,IAAMyjB,GAAazjB,IAEzB5G,OACxB,GAAIqwB,EAAc,EAChB,OAAOA,EAAc/H,GAAW1hB,EAAO5G,GAAU4G,EAEnD,IAAI5D,EAASslB,GAAW1hB,EAAOiQ,GAAW7W,EAASgU,GAAWpN,KAC9D,OAAOyM,GAAWzM,GACd4kB,GAAUrX,GAAcnR,GAAS,EAAGhD,GAAQU,KAAK,IACjDsC,EAAOzC,MAAM,EAAGP,GA6CtB,SAASswB,GAAY/e,GACnB,OAAO,SAASpL,EAAOC,EAAKxD,GAa1B,OAZIA,GAAuB,iBAARA,GAAoBwqB,GAAejnB,EAAOC,EAAKxD,KAChEwD,EAAMxD,OAtwKViP,GAywKE1L,EAAQoqB,GAASpqB,QAzwKnB0L,IA0wKMzL,GACFA,EAAMD,EACNA,EAAQ,GAERC,EAAMmqB,GAASnqB,GA57CrB,SAAmBD,EAAOC,EAAKxD,EAAM2O,GAKnC,IAJA,IAAI1B,GAAS,EACT7P,EAASwX,GAAUX,IAAYzQ,EAAMD,IAAUvD,GAAQ,IAAK,GAC5DI,EAASxB,EAAMxB,GAEZA,KACLgD,EAAOuO,EAAYvR,IAAW6P,GAAS1J,EACvCA,GAASvD,EAEX,OAAOI,EAs7CEwtB,CAAUrqB,EAAOC,EADxBxD,OAhxKFiP,IAgxKSjP,EAAsBuD,EAAQC,EAAM,GAAK,EAAKmqB,GAAS3tB,GAC3B2O,IAWvC,SAASkf,GAA0BT,GACjC,OAAO,SAAStxB,EAAOwjB,GAKrB,MAJsB,iBAATxjB,GAAqC,iBAATwjB,IACvCxjB,EAAQgyB,GAAShyB,GACjBwjB,EAAQwO,GAASxO,IAEZ8N,EAAStxB,EAAOwjB,IAqB3B,SAASuN,GAAcngB,EAAM6N,EAASwT,EAAU3d,EAAa5Q,EAAS2pB,EAAUC,EAAS+C,EAAQC,EAAKC,GACpG,IAAI2B,EArxKc,EAqxKJzT,EAMdA,GAAYyT,EAzxKQ,GACM,GAJF,GA6xKxBzT,KAAayT,EAzxKa,GADN,OA6xKlBzT,IAAW,GAEb,IAAI0T,EAAU,CACZvhB,EAAM6N,EAAS/a,EAVCwuB,EAAU7E,OA3zK5Bla,EAyzKiB+e,EAAU5E,OAzzK3Bna,EA4zKuB+e,OA5zKvB/e,EA4zK6Cka,EAFvB6E,OA1zKtB/e,EA0zK4Cma,EAYzB+C,EAAQC,EAAKC,GAG5BjsB,EAAS2tB,EAASzuB,WAz0KtB2P,EAy0KuCgf,GAKvC,OAJInC,GAAWpf,IACbwhB,GAAQ9tB,EAAQ6tB,GAElB7tB,EAAOgQ,YAAcA,EACd+d,GAAgB/tB,EAAQsM,EAAM6N,GAUvC,SAAS6T,GAAYzD,GACnB,IAAIje,EAAOvI,GAAKwmB,GAChB,OAAO,SAASxQ,EAAQkU,GAGtB,GAFAlU,EAAS2T,GAAS3T,IAClBkU,EAAyB,MAAbA,EAAoB,EAAIvZ,GAAUwZ,GAAUD,GAAY,OACnD7Z,GAAe2F,GAAS,CAGvC,IAAIoU,GAAQxqB,GAASoW,GAAU,KAAKtc,MAAM,KAI1C,SADA0wB,GAAQxqB,GAFI2I,EAAK6hB,EAAK,GAAK,MAAQA,EAAK,GAAKF,KAEnB,KAAKxwB,MAAM,MACvB,GAAK,MAAQ0wB,EAAK,GAAKF,IAEvC,OAAO3hB,EAAKyN,IAWhB,IAAIwN,GAAcpS,IAAQ,EAAItE,GAAW,IAAIsE,GAAI,CAAC,EAAE,KAAK,IAxzK5C,IAwzKsE,SAASzH,GAC1F,OAAO,IAAIyH,GAAIzH,IAD2D0gB,GAW5E,SAASC,GAAc3P,GACrB,OAAO,SAASviB,GACd,IAAIwe,EAAMC,GAAOze,GACjB,OAAIwe,GAAO1V,EACFqL,GAAWnU,GAEhBwe,GAAOtV,EACF0L,GAAW5U,GAn6I1B,SAAqBA,EAAQoT,GAC3B,OAAO/B,GAAS+B,GAAO,SAASvT,GAC9B,MAAO,CAACA,EAAKG,EAAOH,OAm6IXsyB,CAAYnyB,EAAQuiB,EAASviB,KA6BxC,SAASoyB,GAAWjiB,EAAM6N,EAAS/a,EAAS2pB,EAAUC,EAAS+C,EAAQC,EAAKC,GAC1E,IAAIG,EAl4KiB,EAk4KLjS,EAChB,IAAKiS,GAA4B,mBAAR9f,EACvB,MAAM,IAAI5N,GAAU6F,GAEtB,IAAIvH,EAAS+rB,EAAWA,EAAS/rB,OAAS,EAS1C,GARKA,IACHmd,IAAW,GACX4O,EAAWC,OA16Kbna,GA46KAmd,OA56KAnd,IA46KMmd,EAAoBA,EAAMxX,GAAU0Z,GAAUlC,GAAM,GAC1DC,OA76KApd,IA66KQod,EAAsBA,EAAQiC,GAAUjC,GAChDjvB,GAAUgsB,EAAUA,EAAQhsB,OAAS,EAx4KX,GA04KtBmd,EAAmC,CACrC,IAAI0R,EAAgB9C,EAChB+C,EAAe9C,EAEnBD,EAAWC,OAp7Kbna,EAs7KA,IAAIoJ,EAAOmU,OAt7KXvd,EAs7KmC4c,GAAQnf,GAEvCuhB,EAAU,CACZvhB,EAAM6N,EAAS/a,EAAS2pB,EAAUC,EAAS6C,EAAeC,EAC1DC,EAAQC,EAAKC,GAkBf,GAfIhU,GA26BN,SAAmBA,EAAMvR,GACvB,IAAIyT,EAAUlC,EAAK,GACfuW,EAAa9nB,EAAO,GACpB+nB,EAAatU,EAAUqU,EACvB7R,EAAW8R,EAAa,IAExBC,EAv0MY,KAw0MZF,GA50Mc,GA40MmBrU,GAx0MrB,KAy0MZqU,GAx0Mc,KAw0MmBrU,GAAgClC,EAAK,GAAGjb,QAAU0J,EAAO,IAC5E,KAAd8nB,GAAqD9nB,EAAO,GAAG1J,QAAU0J,EAAO,IA90MlE,GA80M0EyT,EAG5F,IAAMwC,IAAY+R,EAChB,OAAOzW,EAr1MQ,EAw1MbuW,IACFvW,EAAK,GAAKvR,EAAO,GAEjB+nB,GA31Me,EA21MDtU,EAA2B,EAz1MnB,GA41MxB,IAAIze,EAAQgL,EAAO,GACnB,GAAIhL,EAAO,CACT,IAAIqtB,EAAW9Q,EAAK,GACpBA,EAAK,GAAK8Q,EAAWD,GAAYC,EAAUrtB,EAAOgL,EAAO,IAAMhL,EAC/Duc,EAAK,GAAK8Q,EAAWnY,GAAeqH,EAAK,GAAIzT,GAAekC,EAAO,IAGrEhL,EAAQgL,EAAO,MAEbqiB,EAAW9Q,EAAK,GAChBA,EAAK,GAAK8Q,EAAWU,GAAiBV,EAAUrtB,EAAOgL,EAAO,IAAMhL,EACpEuc,EAAK,GAAK8Q,EAAWnY,GAAeqH,EAAK,GAAIzT,GAAekC,EAAO,KAGrEhL,EAAQgL,EAAO,MAEbuR,EAAK,GAAKvc,GAv2MI,IA02MZ8yB,IACFvW,EAAK,GAAgB,MAAXA,EAAK,GAAavR,EAAO,GAAKgO,GAAUuD,EAAK,GAAIvR,EAAO,KAGrD,MAAXuR,EAAK,KACPA,EAAK,GAAKvR,EAAO,IAGnBuR,EAAK,GAAKvR,EAAO,GACjBuR,EAAK,GAAKwW,EA59BRE,CAAUd,EAAS5V,GAErB3L,EAAOuhB,EAAQ,GACf1T,EAAU0T,EAAQ,GAClBzuB,EAAUyuB,EAAQ,GAClB9E,EAAW8E,EAAQ,GACnB7E,EAAU6E,EAAQ,KAClB5B,EAAQ4B,EAAQ,QAr8KhBhf,IAq8KqBgf,EAAQ,GACxBzB,EAAY,EAAI9f,EAAKtP,OACtBwX,GAAUqZ,EAAQ,GAAK7wB,EAAQ,KAEX,GAAVmd,IACZA,IAAW,IAERA,GA56KY,GA46KDA,EAGdna,EA56KgB,GA26KPma,GA16Ka,IA06KiBA,EApgB3C,SAAqB7N,EAAM6N,EAAS8R,GAClC,IAAI3Q,EAAOuP,GAAWve,GAwBtB,OAtBA,SAASgf,IAMP,IALA,IAAItuB,EAASiC,UAAUjC,OACnBuP,EAAO/N,EAAMxB,GACb6P,EAAQ7P,EACRgT,EAAcsc,GAAUhB,GAErBze,KACLN,EAAKM,GAAS5N,UAAU4N,GAE1B,IAAImc,EAAWhsB,EAAS,GAAKuP,EAAK,KAAOyD,GAAezD,EAAKvP,EAAS,KAAOgT,EACzE,GACAY,GAAerE,EAAMyD,GAGzB,IADAhT,GAAUgsB,EAAQhsB,QACLivB,EACX,OAAOQ,GACLngB,EAAM6N,EAASyR,GAAcN,EAAQtb,iBA79J3CnB,EA89JMtC,EAAMyc,OA99JZna,SA89J2Cod,EAAQjvB,GAEjD,IAAI0vB,EAAM7tB,MAAQA,OAASkM,IAAQlM,gBAAgBysB,EAAWhQ,EAAOhP,EACrE,OAAOpN,GAAMwtB,EAAI7tB,KAAM0N,IA8edqiB,CAAYtiB,EAAM6N,EAAS8R,GA16KlB,IA26KR9R,GAA2C,IAAXA,GAAqD6O,EAAQhsB,OAG9F4uB,GAAa1sB,WAn9KxB2P,EAm9KyCgf,GA9O3C,SAAuBvhB,EAAM6N,EAAS/a,EAAS2pB,GAC7C,IAAIoD,EAtsKa,EAssKJhS,EACTmB,EAAOuP,GAAWve,GAkBtB,OAhBA,SAASgf,IAQP,IAPA,IAAIpC,GAAa,EACbC,EAAalqB,UAAUjC,OACvBqsB,GAAa,EACbC,EAAaP,EAAS/rB,OACtBuP,EAAO/N,EAAM8qB,EAAaH,GAC1BuD,EAAM7tB,MAAQA,OAASkM,IAAQlM,gBAAgBysB,EAAWhQ,EAAOhP,IAE5D+c,EAAYC,GACnB/c,EAAK8c,GAAaN,EAASM,GAE7B,KAAOF,KACL5c,EAAK8c,KAAepqB,YAAYiqB,GAElC,OAAOhqB,GAAMwtB,EAAIP,EAAS/sB,EAAUP,KAAM0N,IA0NjCsiB,CAAcviB,EAAM6N,EAAS/a,EAAS2pB,QAJ/C,IAAI/oB,EAhmBR,SAAoBsM,EAAM6N,EAAS/a,GACjC,IAAI+sB,EA90Ja,EA80JJhS,EACTmB,EAAOuP,GAAWve,GAMtB,OAJA,SAASgf,IACP,IAAIoB,EAAM7tB,MAAQA,OAASkM,IAAQlM,gBAAgBysB,EAAWhQ,EAAOhP,EACrE,OAAOogB,EAAGxtB,MAAMitB,EAAS/sB,EAAUP,KAAMI,YA0lB5B6vB,CAAWxiB,EAAM6N,EAAS/a,GASzC,OAAO2uB,IADM9V,EAAO4N,GAAciI,IACJ9tB,EAAQ6tB,GAAUvhB,EAAM6N,GAexD,SAAS4U,GAAuBzV,EAAU2I,EAAUjmB,EAAKG,GACvD,YAt+KA0S,IAs+KIyK,GACCH,GAAGG,EAAUrH,GAAYjW,MAAUM,GAAe1B,KAAKuB,EAAQH,GAC3DimB,EAEF3I,EAiBT,SAAS0V,GAAoB1V,EAAU2I,EAAUjmB,EAAKG,EAAQuK,EAAQ2T,GAOpE,OANI3D,GAAS4C,IAAa5C,GAASuL,KAEjC5H,EAAMvJ,IAAImR,EAAU3I,GACpB+J,GAAU/J,EAAU2I,OA//KtBpT,EA+/K2CmgB,GAAqB3U,GAC9DA,EAAc,OAAE4H,IAEX3I,EAYT,SAAS2V,GAAgBvzB,GACvB,OAAOkoB,GAAcloB,QA/gLrBmT,EA+gL0CnT,EAgB5C,SAASglB,GAAYjU,EAAOyS,EAAO/E,EAASC,EAAY8F,EAAW7F,GACjE,IAAIwG,EApgLmB,EAogLP1G,EACZ+U,EAAYziB,EAAMzP,OAClBuiB,EAAYL,EAAMliB,OAEtB,GAAIkyB,GAAa3P,KAAesB,GAAatB,EAAY2P,GACvD,OAAO,EAGT,IAAIC,EAAa9U,EAAM/e,IAAImR,GACvB6U,EAAajH,EAAM/e,IAAI4jB,GAC3B,GAAIiQ,GAAc7N,EAChB,OAAO6N,GAAcjQ,GAASoC,GAAc7U,EAE9C,IAAII,GAAS,EACT7M,GAAS,EACT4f,EAlhLqB,EAkhLbzF,EAAoC,IAAItC,QA/iLpDhJ,EAqjLA,IAJAwL,EAAMvJ,IAAIrE,EAAOyS,GACjB7E,EAAMvJ,IAAIoO,EAAOzS,KAGRI,EAAQqiB,GAAW,CAC1B,IAAIE,EAAW3iB,EAAMI,GACjB2U,EAAWtC,EAAMrS,GAErB,GAAIuN,EACF,IAAIqH,EAAWZ,EACXzG,EAAWoH,EAAU4N,EAAUviB,EAAOqS,EAAOzS,EAAO4N,GACpDD,EAAWgV,EAAU5N,EAAU3U,EAAOJ,EAAOyS,EAAO7E,GAE1D,QA9jLFxL,IA8jLM4S,EAAwB,CAC1B,GAAIA,EACF,SAEFzhB,GAAS,EACT,MAGF,GAAI4f,GACF,IAAK7R,GAAUmR,GAAO,SAASsC,EAAUhC,GACnC,IAAKhQ,GAASoQ,EAAMJ,KACf4P,IAAa5N,GAAYtB,EAAUkP,EAAU5N,EAAUrH,EAASC,EAAYC,IAC/E,OAAOuF,EAAK3iB,KAAKuiB,MAEjB,CACNxf,GAAS,EACT,YAEG,GACDovB,IAAa5N,IACXtB,EAAUkP,EAAU5N,EAAUrH,EAASC,EAAYC,GACpD,CACLra,GAAS,EACT,OAKJ,OAFAqa,EAAc,OAAE5N,GAChB4N,EAAc,OAAE6E,GACTlf,EA0KT,SAASkrB,GAAS5e,GAChB,OAAOkZ,GAAYC,GAASnZ,OArwL5BuC,EAqwL6CwgB,IAAU/iB,EAAO,IAUhE,SAAS+P,GAAWlgB,GAClB,OAAOsiB,GAAetiB,EAAQoW,GAAM6I,IAWtC,SAASgB,GAAajgB,GACpB,OAAOsiB,GAAetiB,EAAQ+e,GAAQF,IAUxC,IAAIyQ,GAAWnW,GAAiB,SAAShJ,GACvC,OAAOgJ,GAAQha,IAAIgR,IADI8hB,GAWzB,SAAS7C,GAAYjf,GAKnB,IAJA,IAAItM,EAAUsM,EAAKtR,KAAO,GACtByR,EAAQ8I,GAAUvV,GAClBhD,EAASV,GAAe1B,KAAK2a,GAAWvV,GAAUyM,EAAMzP,OAAS,EAE9DA,KAAU,CACf,IAAIib,EAAOxL,EAAMzP,GACbsyB,EAAYrX,EAAK3L,KACrB,GAAiB,MAAbgjB,GAAqBA,GAAahjB,EACpC,OAAO2L,EAAKjd,KAGhB,OAAOgF,EAUT,SAASssB,GAAUhgB,GAEjB,OADahQ,GAAe1B,KAAKsb,GAAQ,eAAiBA,GAAS5J,GACrD0D,YAchB,SAASmU,KACP,IAAInkB,EAASkW,GAAOvJ,UAAYA,GAEhC,OADA3M,EAASA,IAAW2M,GAAWyV,GAAepiB,EACvCf,UAAUjC,OAASgD,EAAOf,UAAU,GAAIA,UAAU,IAAMe,EAWjE,SAASid,GAAW1M,EAAKvU,GACvB,IAgYiBN,EACbqH,EAjYAkV,EAAO1H,EAAIuH,SACf,OAiYgB,WADZ/U,SADarH,EA/XAM,KAiYmB,UAAR+G,GAA4B,UAARA,GAA4B,WAARA,EACrD,cAAVrH,EACU,OAAVA,GAlYDuc,EAAmB,iBAAPjc,EAAkB,SAAW,QACzCic,EAAK1H,IAUX,SAASyS,GAAa7mB,GAIpB,IAHA,IAAI6D,EAASuS,GAAKpW,GACda,EAASgD,EAAOhD,OAEbA,KAAU,CACf,IAAIhB,EAAMgE,EAAOhD,GACbtB,EAAQS,EAAOH,GAEnBgE,EAAOhD,GAAU,CAAChB,EAAKN,EAAOynB,GAAmBznB,IAEnD,OAAOsE,EAWT,SAASuT,GAAUpX,EAAQH,GACzB,IAAIN,EAlxJR,SAAkBS,EAAQH,GACxB,OAAiB,MAAVG,OAxnCL0S,EAwnCkC1S,EAAOH,GAixJ7BuzB,CAASpzB,EAAQH,GAC7B,OAAOmmB,GAAazmB,GAASA,OA14L7BmT,EA+6LF,IAAIuM,GAAcpH,GAA+B,SAAS7X,GACxD,OAAc,MAAVA,EACK,IAETA,EAAShB,GAAOgB,GACT+Q,GAAY8G,GAAiB7X,IAAS,SAAS6f,GACpD,OAAO9I,GAAqBtY,KAAKuB,EAAQ6f,QANRwT,GAiBjCxU,GAAgBhH,GAA+B,SAAS7X,GAE1D,IADA,IAAI6D,EAAS,GACN7D,GACLsR,GAAUzN,EAAQob,GAAWjf,IAC7BA,EAAS4W,GAAa5W,GAExB,OAAO6D,GAN8BwvB,GAgBnC5U,GAASgE,GA2Eb,SAAS6Q,GAAQtzB,EAAQmiB,EAAMoR,GAO7B,IAJA,IAAI7iB,GAAS,EACT7P,GAHJshB,EAAOC,GAASD,EAAMniB,IAGJa,OACdgD,GAAS,IAEJ6M,EAAQ7P,GAAQ,CACvB,IAAIhB,EAAMwiB,GAAMF,EAAKzR,IACrB,KAAM7M,EAAmB,MAAV7D,GAAkBuzB,EAAQvzB,EAAQH,IAC/C,MAEFG,EAASA,EAAOH,GAElB,OAAIgE,KAAY6M,GAAS7P,EAChBgD,KAEThD,EAAmB,MAAVb,EAAiB,EAAIA,EAAOa,SAClB2yB,GAAS3yB,IAAW0b,GAAQ1c,EAAKgB,KACjDoZ,GAAQja,IAAWmc,GAAYnc,IA6BpC,SAAS4e,GAAgB5e,GACvB,MAAqC,mBAAtBA,EAAO2C,aAA8B2jB,GAAYtmB,GAE5D,GADAqa,GAAWzD,GAAa5W,IA8E9B,SAAS4hB,GAAcriB,GACrB,OAAO0a,GAAQ1a,IAAU4c,GAAY5c,OAChCyX,IAAoBzX,GAASA,EAAMyX,KAW1C,SAASuF,GAAQhd,EAAOsB,GACtB,IAAI+F,SAAcrH,EAGlB,SAFAsB,EAAmB,MAAVA,EAhnMU,iBAgnM0BA,KAGlC,UAAR+F,GACU,UAARA,GAAoBmF,GAASnK,KAAKrC,KAChCA,GAAS,GAAKA,EAAQ,GAAK,GAAKA,EAAQsB,EAajD,SAASotB,GAAe1uB,EAAOmR,EAAO1Q,GACpC,IAAKua,GAASva,GACZ,OAAO,EAET,IAAI4G,SAAc8J,EAClB,SAAY,UAAR9J,EACKggB,GAAY5mB,IAAWuc,GAAQ7L,EAAO1Q,EAAOa,QACrC,UAAR+F,GAAoB8J,KAAS1Q,IAE7Bgd,GAAGhd,EAAO0Q,GAAQnR,GAa7B,SAASwnB,GAAMxnB,EAAOS,GACpB,GAAIia,GAAQ1a,GACV,OAAO,EAET,IAAIqH,SAAcrH,EAClB,QAAY,UAARqH,GAA4B,UAARA,GAA4B,WAARA,GAC/B,MAATrH,IAAiBgiB,GAAShiB,MAGvBsL,EAAcjJ,KAAKrC,KAAWqL,EAAahJ,KAAKrC,IAC1C,MAAVS,GAAkBT,KAASP,GAAOgB,IAyBvC,SAASuvB,GAAWpf,GAClB,IAAIkf,EAAWD,GAAYjf,GACvB4S,EAAQhJ,GAAOsV,GAEnB,GAAoB,mBAATtM,KAAyBsM,KAAYnV,GAAYha,WAC1D,OAAO,EAET,GAAIiQ,IAAS4S,EACX,OAAO,EAET,IAAIjH,EAAOwT,GAAQvM,GACnB,QAASjH,GAAQ3L,IAAS2L,EAAK,IA7S5BhD,IAAY2F,GAAO,IAAI3F,GAAS,IAAI2a,YAAY,MAAQlqB,GACxDwP,IAAO0F,GAAO,IAAI1F,KAAQjQ,GAC1BzF,IAv3LU,oBAu3LCob,GAAOpb,GAAQC,YAC1B0V,IAAOyF,GAAO,IAAIzF,KAAQ9P,GAC1B+P,IAAWwF,GAAO,IAAIxF,KAAY5P,KACrCoV,GAAS,SAASlf,GAChB,IAAIsE,EAAS4e,GAAWljB,GACpB4f,EAAOtb,GAAUmF,EAAYzJ,EAAMoD,iBA19LzC+P,EA29LMghB,EAAavU,EAAO7F,GAAS6F,GAAQ,GAEzC,GAAIuU,EACF,OAAQA,GACN,KAAKra,GAAoB,OAAO9P,EAChC,KAAKgQ,GAAe,OAAOzQ,EAC3B,KAAK0Q,GAAmB,MAn4LjB,mBAo4LP,KAAKC,GAAe,OAAOvQ,EAC3B,KAAKwQ,GAAmB,OAAOrQ,EAGnC,OAAOxF,IA+SX,IAAI8vB,GAAa5d,GAAakM,GAAa2R,GAS3C,SAAStN,GAAY/mB,GACnB,IAAI4f,EAAO5f,GAASA,EAAMoD,YAG1B,OAAOpD,KAFqB,mBAAR4f,GAAsBA,EAAKjf,WAAc4V,IAa/D,SAASkR,GAAmBznB,GAC1B,OAAOA,GAAUA,IAAUgb,GAAShb,GAYtC,SAASunB,GAAwBjnB,EAAKimB,GACpC,OAAO,SAAS9lB,GACd,OAAc,MAAVA,IAGGA,EAAOH,KAASimB,SA/zMzBpT,IAg0MKoT,GAA2BjmB,KAAOb,GAAOgB,MAsIhD,SAASspB,GAASnZ,EAAMnJ,EAAOuN,GAE7B,OADAvN,EAAQqR,QAv8MR3F,IAu8MkB1L,EAAuBmJ,EAAKtP,OAAS,EAAKmG,EAAO,GAC5D,WAML,IALA,IAAIoJ,EAAOtN,UACP4N,GAAS,EACT7P,EAASwX,GAAUjI,EAAKvP,OAASmG,EAAO,GACxCsJ,EAAQjO,EAAMxB,KAET6P,EAAQ7P,GACfyP,EAAMI,GAASN,EAAKpJ,EAAQ0J,GAE9BA,GAAS,EAET,IADA,IAAImjB,EAAYxxB,EAAM2E,EAAQ,KACrB0J,EAAQ1J,GACf6sB,EAAUnjB,GAASN,EAAKM,GAG1B,OADAmjB,EAAU7sB,GAASuN,EAAUjE,GACtBvN,GAAMoN,EAAMzN,KAAMmxB,IAY7B,SAASlQ,GAAO3jB,EAAQmiB,GACtB,OAAOA,EAAKthB,OAAS,EAAIb,EAASkiB,GAAQliB,EAAQ8pB,GAAU3H,EAAM,GAAI,IAaxE,SAASqO,GAAQlgB,EAAO0Y,GAKtB,IAJA,IAAI+J,EAAYziB,EAAMzP,OAClBA,EAAS0X,GAAUyQ,EAAQnoB,OAAQkyB,GACnCe,EAAWlX,GAAUtM,GAElBzP,KAAU,CACf,IAAI6P,EAAQsY,EAAQnoB,GACpByP,EAAMzP,GAAU0b,GAAQ7L,EAAOqiB,GAAae,EAASpjB,QAx/MvDgC,EA0/MA,OAAOpC,EAWT,SAAS+W,GAAQrnB,EAAQH,GACvB,IAAY,gBAARA,GAAgD,mBAAhBG,EAAOH,KAIhC,aAAPA,EAIJ,OAAOG,EAAOH,GAiBhB,IAAI8xB,GAAUoC,GAASrK,IAUnBjS,GAAaD,IAAiB,SAASrH,EAAMkQ,GAC/C,OAAOzR,GAAK6I,WAAWtH,EAAMkQ,IAW3BgJ,GAAc0K,GAASpK,IAY3B,SAASiI,GAAgBzC,EAAS6E,EAAWhW,GAC3C,IAAIzT,EAAUypB,EAAY,GAC1B,OAAO3K,GAAY8F,EA1brB,SAA2B5kB,EAAQ0pB,GACjC,IAAIpzB,EAASozB,EAAQpzB,OACrB,IAAKA,EACH,OAAO0J,EAET,IAAIuK,EAAYjU,EAAS,EAGzB,OAFAozB,EAAQnf,IAAcjU,EAAS,EAAI,KAAO,IAAMozB,EAAQnf,GACxDmf,EAAUA,EAAQ1yB,KAAKV,EAAS,EAAI,KAAO,KACpC0J,EAAOxC,QAAQoD,EAAe,uBAAyB8oB,EAAU,UAkb5CC,CAAkB3pB,EAqHhD,SAA2B0pB,EAASjW,GAOlC,OANArN,GAAUrI,GAAW,SAAS0pB,GAC5B,IAAIzyB,EAAQ,KAAOyyB,EAAK,GACnBhU,EAAUgU,EAAK,KAAQ/gB,GAAcgjB,EAAS10B,IACjD00B,EAAQnzB,KAAKvB,MAGV00B,EAAQ/L,OA5HuCiM,CAtjBxD,SAAwB5pB,GACtB,IAAI0K,EAAQ1K,EAAO0K,MAAM7J,GACzB,OAAO6J,EAAQA,EAAM,GAAG3T,MAAM+J,GAAkB,GAojBwB+oB,CAAe7pB,GAASyT,KAYlG,SAAS+V,GAAS5jB,GAChB,IAAIkkB,EAAQ,EACRC,EAAa,EAEjB,OAAO,WACL,IAAIC,EAAQ9b,KACR+b,EApiNK,IAoiNmBD,EAAQD,GAGpC,GADAA,EAAaC,EACTC,EAAY,GACd,KAAMH,GAziNE,IA0iNN,OAAOvxB,UAAU,QAGnBuxB,EAAQ,EAEV,OAAOlkB,EAAKpN,WA/lNd2P,EA+lN+B5P,YAYjC,SAAS6Z,GAAYrM,EAAO3J,GAC1B,IAAI+J,GAAS,EACT7P,EAASyP,EAAMzP,OACfiU,EAAYjU,EAAS,EAGzB,IADA8F,OAhnNA+L,IAgnNO/L,EAAqB9F,EAAS8F,IAC5B+J,EAAQ/J,GAAM,CACrB,IAAI8tB,EAAOhY,GAAW/L,EAAOoE,GACzBvV,EAAQ+Q,EAAMmkB,GAElBnkB,EAAMmkB,GAAQnkB,EAAMI,GACpBJ,EAAMI,GAASnR,EAGjB,OADA+Q,EAAMzP,OAAS8F,EACR2J,EAUT,IAAI6b,GAvTJ,SAAuBhc,GACrB,IAAItM,EAAS6wB,GAAQvkB,GAAM,SAAStQ,GAIlC,OAh0MiB,MA6zMbyT,EAAM3M,MACR2M,EAAMgI,QAEDzb,KAGLyT,EAAQzP,EAAOyP,MACnB,OAAOzP,EA8SU8wB,EAAc,SAAS3hB,GACxC,IAAInP,EAAS,GAOb,OAN6B,KAAzBmP,EAAO4hB,WAAW,IACpB/wB,EAAO/C,KAAK,IAEdkS,EAAOjL,QAAQ+C,GAAY,SAASmK,EAAO2I,EAAQiX,EAAOC,GACxDjxB,EAAO/C,KAAK+zB,EAAQC,EAAU/sB,QAAQyD,GAAc,MAASoS,GAAU3I,MAElEpR,KAUT,SAASwe,GAAM9iB,GACb,GAAoB,iBAATA,GAAqBgiB,GAAShiB,GACvC,OAAOA,EAET,IAAIsE,EAAUtE,EAAQ,GACtB,MAAkB,KAAVsE,GAAkB,EAAItE,IAjmNnB,IAimN0C,KAAOsE,EAU9D,SAASyV,GAASnJ,GAChB,GAAY,MAARA,EAAc,CAChB,IACE,OAAO6F,GAAavX,KAAK0R,GACzB,MAAOxM,IACT,IACE,OAAQwM,EAAO,GACf,MAAOxM,KAEX,MAAO,GA4BT,SAASyW,GAAa+U,GACpB,GAAIA,aAAmBjV,GACrB,OAAOiV,EAAQ4F,QAEjB,IAAIlxB,EAAS,IAAIsW,GAAcgV,EAAQzU,YAAayU,EAAQvU,WAI5D,OAHA/W,EAAO8W,YAAciC,GAAUuS,EAAQxU,aACvC9W,EAAOgX,UAAasU,EAAQtU,UAC5BhX,EAAOiX,WAAaqU,EAAQrU,WACrBjX,EAsIT,IAAImxB,GAAa5L,IAAS,SAAS9Y,EAAOiB,GACxC,OAAOiW,GAAkBlX,GACrBgQ,GAAehQ,EAAOmR,GAAYlQ,EAAQ,EAAGiW,IAAmB,IAChE,MA6BFyN,GAAe7L,IAAS,SAAS9Y,EAAOiB,GAC1C,IAAIf,EAAWoT,GAAKrS,GAIpB,OAHIiW,GAAkBhX,KACpBA,OA13NFkC,GA43NO8U,GAAkBlX,GACrBgQ,GAAehQ,EAAOmR,GAAYlQ,EAAQ,EAAGiW,IAAmB,GAAOQ,GAAYxX,EAAU,IAC7F,MA0BF0kB,GAAiB9L,IAAS,SAAS9Y,EAAOiB,GAC5C,IAAIH,EAAawS,GAAKrS,GAItB,OAHIiW,GAAkBpW,KACpBA,OA35NFsB,GA65NO8U,GAAkBlX,GACrBgQ,GAAehQ,EAAOmR,GAAYlQ,EAAQ,EAAGiW,IAAmB,QA95NpE9U,EA85NsFtB,GAClF,MAsON,SAAS+jB,GAAU7kB,EAAOQ,EAAWqB,GACnC,IAAItR,EAAkB,MAATyP,EAAgB,EAAIA,EAAMzP,OACvC,IAAKA,EACH,OAAQ,EAEV,IAAI6P,EAAqB,MAAbyB,EAAoB,EAAI4f,GAAU5f,GAI9C,OAHIzB,EAAQ,IACVA,EAAQ2H,GAAUxX,EAAS6P,EAAO,IAE7BwB,GAAc5B,EAAO0X,GAAYlX,EAAW,GAAIJ,GAsCzD,SAAS0kB,GAAc9kB,EAAOQ,EAAWqB,GACvC,IAAItR,EAAkB,MAATyP,EAAgB,EAAIA,EAAMzP,OACvC,IAAKA,EACH,OAAQ,EAEV,IAAI6P,EAAQ7P,EAAS,EAOrB,YAhsOA6R,IA0rOIP,IACFzB,EAAQqhB,GAAU5f,GAClBzB,EAAQyB,EAAY,EAChBkG,GAAUxX,EAAS6P,EAAO,GAC1B6H,GAAU7H,EAAO7P,EAAS,IAEzBqR,GAAc5B,EAAO0X,GAAYlX,EAAW,GAAIJ,GAAO,GAiBhE,SAASwiB,GAAQ5iB,GAEf,OADsB,MAATA,EAAgB,EAAIA,EAAMzP,QACvB4gB,GAAYnR,EAAO,GAAK,GAgG1C,SAAS+kB,GAAK/kB,GACZ,OAAQA,GAASA,EAAMzP,OAAUyP,EAAM,QApzOvCoC,EA83OF,IAAI4iB,GAAelM,IAAS,SAASjG,GACnC,IAAIoS,EAASlkB,GAAS8R,EAAQ8I,IAC9B,OAAQsJ,EAAO10B,QAAU00B,EAAO,KAAOpS,EAAO,GAC1CD,GAAiBqS,GACjB,MA0BFC,GAAiBpM,IAAS,SAASjG,GACrC,IAAI3S,EAAWoT,GAAKT,GAChBoS,EAASlkB,GAAS8R,EAAQ8I,IAO9B,OALIzb,IAAaoT,GAAK2R,GACpB/kB,OAj6OFkC,EAm6OE6iB,EAAOzwB,MAEDywB,EAAO10B,QAAU00B,EAAO,KAAOpS,EAAO,GAC1CD,GAAiBqS,EAAQvN,GAAYxX,EAAU,IAC/C,MAwBFilB,GAAmBrM,IAAS,SAASjG,GACvC,IAAI/R,EAAawS,GAAKT,GAClBoS,EAASlkB,GAAS8R,EAAQ8I,IAM9B,OAJA7a,EAAkC,mBAAdA,EAA2BA,OAn8O/CsB,IAq8OE6iB,EAAOzwB,MAEDywB,EAAO10B,QAAU00B,EAAO,KAAOpS,EAAO,GAC1CD,GAAiBqS,OAx8OrB7iB,EAw8OwCtB,GACpC,MAoCN,SAASwS,GAAKtT,GACZ,IAAIzP,EAAkB,MAATyP,EAAgB,EAAIA,EAAMzP,OACvC,OAAOA,EAASyP,EAAMzP,EAAS,QA/+O/B6R,EAskPF,IAAIgjB,GAAOtM,GAASuM,IAsBpB,SAASA,GAAQrlB,EAAOiB,GACtB,OAAQjB,GAASA,EAAMzP,QAAU0Q,GAAUA,EAAO1Q,OAC9CgoB,GAAYvY,EAAOiB,GACnBjB,EAqFN,IAAIslB,GAAS7G,IAAS,SAASze,EAAO0Y,GACpC,IAAInoB,EAAkB,MAATyP,EAAgB,EAAIA,EAAMzP,OACnCgD,EAAS4Z,GAAOnN,EAAO0Y,GAM3B,OAJAD,GAAWzY,EAAOe,GAAS2X,GAAS,SAAStY,GAC3C,OAAO6L,GAAQ7L,EAAO7P,IAAW6P,EAAQA,KACxCwX,KAAKM,KAED3kB,KA2ET,SAASgV,GAAQvI,GACf,OAAgB,MAATA,EAAgBA,EAAQsI,GAAcna,KAAK6R,GAkapD,IAAIulB,GAAQzM,IAAS,SAASjG,GAC5B,OAAOgI,GAAS1J,GAAY0B,EAAQ,EAAGqE,IAAmB,OA0BxDsO,GAAU1M,IAAS,SAASjG,GAC9B,IAAI3S,EAAWoT,GAAKT,GAIpB,OAHIqE,GAAkBhX,KACpBA,OAxsQFkC,GA0sQOyY,GAAS1J,GAAY0B,EAAQ,EAAGqE,IAAmB,GAAOQ,GAAYxX,EAAU,OAwBrFulB,GAAY3M,IAAS,SAASjG,GAChC,IAAI/R,EAAawS,GAAKT,GAEtB,OADA/R,EAAkC,mBAAdA,EAA2BA,OApuQ/CsB,EAquQOyY,GAAS1J,GAAY0B,EAAQ,EAAGqE,IAAmB,QAruQ1D9U,EAquQ4EtB,MAgG9E,SAAS4kB,GAAM1lB,GACb,IAAMA,IAASA,EAAMzP,OACnB,MAAO,GAET,IAAIA,EAAS,EAOb,OANAyP,EAAQS,GAAYT,GAAO,SAAS2lB,GAClC,GAAIzO,GAAkByO,GAEpB,OADAp1B,EAASwX,GAAU4d,EAAMp1B,OAAQA,IAC1B,KAGJiS,GAAUjS,GAAQ,SAAS6P,GAChC,OAAOW,GAASf,EAAOwB,GAAapB,OAyBxC,SAASwlB,GAAU5lB,EAAOE,GACxB,IAAMF,IAASA,EAAMzP,OACnB,MAAO,GAET,IAAIgD,EAASmyB,GAAM1lB,GACnB,OAAgB,MAAZE,EACK3M,EAEFwN,GAASxN,GAAQ,SAASoyB,GAC/B,OAAOlzB,GAAMyN,OAn3QfkC,EAm3QoCujB,MAwBtC,IAAIE,GAAU/M,IAAS,SAAS9Y,EAAOiB,GACrC,OAAOiW,GAAkBlX,GACrBgQ,GAAehQ,EAAOiB,GACtB,MAqBF6kB,GAAMhN,IAAS,SAASjG,GAC1B,OAAO0I,GAAQ9a,GAAYoS,EAAQqE,QA0BjC6O,GAAQjN,IAAS,SAASjG,GAC5B,IAAI3S,EAAWoT,GAAKT,GAIpB,OAHIqE,GAAkBhX,KACpBA,OAj8QFkC,GAm8QOmZ,GAAQ9a,GAAYoS,EAAQqE,IAAoBQ,GAAYxX,EAAU,OAwB3E8lB,GAAUlN,IAAS,SAASjG,GAC9B,IAAI/R,EAAawS,GAAKT,GAEtB,OADA/R,EAAkC,mBAAdA,EAA2BA,OA79Q/CsB,EA89QOmZ,GAAQ9a,GAAYoS,EAAQqE,SA99QnC9U,EA89QkEtB,MAmBhEmlB,GAAMnN,GAAS4M,IA6DnB,IAAIQ,GAAUpN,IAAS,SAASjG,GAC9B,IAAItiB,EAASsiB,EAAOtiB,OAChB2P,EAAW3P,EAAS,EAAIsiB,EAAOtiB,EAAS,QAhjR5C6R,EAmjRA,OADAlC,EAA8B,mBAAZA,GAA0B2S,EAAOre,MAAO0L,QAljR1DkC,EAmjROwjB,GAAU/S,EAAQ3S,MAkC3B,SAASimB,GAAMl3B,GACb,IAAIsE,EAASkW,GAAOxa,GAEpB,OADAsE,EAAO+W,WAAY,EACZ/W,EAsDT,SAASqrB,GAAK3vB,EAAOm3B,GACnB,OAAOA,EAAYn3B,GAmBrB,IAAIo3B,GAAY5H,IAAS,SAASrR,GAChC,IAAI7c,EAAS6c,EAAM7c,OACfmG,EAAQnG,EAAS6c,EAAM,GAAK,EAC5Bne,EAAQmD,KAAKgY,YACbgc,EAAc,SAAS12B,GAAU,OAAOyd,GAAOzd,EAAQ0d,IAE3D,QAAI7c,EAAS,GAAK6B,KAAKiY,YAAY9Z,SAC7BtB,aAAiB2a,IAAiBqC,GAAQvV,KAGhDzH,EAAQA,EAAM6B,MAAM4F,GAAQA,GAASnG,EAAS,EAAI,KAC5C8Z,YAAY7Z,KAAK,CACrB,KAAQouB,GACR,KAAQ,CAACwH,GACT,aAhrRFhkB,IAkrRO,IAAIyH,GAAc5a,EAAOmD,KAAKkY,WAAWsU,MAAK,SAAS5e,GAI5D,OAHIzP,IAAWyP,EAAMzP,QACnByP,EAAMxP,UAprRV4R,GAsrRSpC,MAZA5N,KAAKwsB,KAAKwH,MA+PrB,IAAIE,GAAUjJ,IAAiB,SAAS9pB,EAAQtE,EAAOM,GACjDM,GAAe1B,KAAKoF,EAAQhE,KAC5BgE,EAAOhE,GAETod,GAAgBpZ,EAAQhE,EAAK,MAuIjC,IAAIg3B,GAAOjI,GAAWuG,IAqBlB2B,GAAWlI,GAAWwG,IA2G1B,SAAS/gB,GAAQrC,EAAYxB,GAE3B,OADWyJ,GAAQjI,GAAcrB,GAAY2M,IACjCtL,EAAYgW,GAAYxX,EAAU,IAuBhD,SAASumB,GAAa/kB,EAAYxB,GAEhC,OADWyJ,GAAQjI,GAAcpB,GAAiBuQ,IACtCnP,EAAYgW,GAAYxX,EAAU,IA0BhD,IAAIwmB,GAAUrJ,IAAiB,SAAS9pB,EAAQtE,EAAOM,GACjDM,GAAe1B,KAAKoF,EAAQhE,GAC9BgE,EAAOhE,GAAKiB,KAAKvB,GAEjB0d,GAAgBpZ,EAAQhE,EAAK,CAACN,OAsElC,IAAI03B,GAAY7N,IAAS,SAASpX,EAAYmQ,EAAM/R,GAClD,IAAIM,GAAS,EACTgO,EAAwB,mBAARyD,EAChBte,EAAS+iB,GAAY5U,GAAc3P,EAAM2P,EAAWnR,QAAU,GAKlE,OAHAyc,GAAStL,GAAY,SAASzS,GAC5BsE,IAAS6M,GAASgO,EAAS3b,GAAMof,EAAM5iB,EAAO6Q,GAAQsT,GAAWnkB,EAAO4iB,EAAM/R,MAEzEvM,KA+BLqzB,GAAQvJ,IAAiB,SAAS9pB,EAAQtE,EAAOM,GACnDod,GAAgBpZ,EAAQhE,EAAKN,MA6C/B,SAAS6U,GAAIpC,EAAYxB,GAEvB,OADWyJ,GAAQjI,GAAcX,GAAWsV,IAChC3U,EAAYgW,GAAYxX,EAAU,IAkFhD,IAAI2mB,GAAYxJ,IAAiB,SAAS9pB,EAAQtE,EAAOM,GACvDgE,EAAOhE,EAAM,EAAI,GAAGiB,KAAKvB,MACxB,WAAa,MAAO,CAAC,GAAI,OAmS5B,IAAI63B,GAAShO,IAAS,SAASpX,EAAY8V,GACzC,GAAkB,MAAd9V,EACF,MAAO,GAET,IAAInR,EAASinB,EAAUjnB,OAMvB,OALIA,EAAS,GAAKotB,GAAejc,EAAY8V,EAAU,GAAIA,EAAU,IACnEA,EAAY,GACHjnB,EAAS,GAAKotB,GAAenG,EAAU,GAAIA,EAAU,GAAIA,EAAU,MAC5EA,EAAY,CAACA,EAAU,KAElBD,GAAY7V,EAAYyP,GAAYqG,EAAW,GAAI,OAqBxDxiB,GAAMiS,IAAU,WAClB,OAAO3I,GAAKhJ,KAAKN,OA0DnB,SAASuqB,GAAI1f,EAAMpQ,EAAGiuB,GAGpB,OAFAjuB,EAAIiuB,OA51TJtb,EA41TwB3S,EAEjBqyB,GAAWjiB,EAvzTF,SAvChBuC,uBA61TA3S,EAAKoQ,GAAa,MAALpQ,EAAaoQ,EAAKtP,OAASd,GAqB1C,SAASs3B,GAAOt3B,EAAGoQ,GACjB,IAAItM,EACJ,GAAmB,mBAARsM,EACT,MAAM,IAAI5N,GAAU6F,GAGtB,OADArI,EAAIgyB,GAAUhyB,GACP,WAOL,QANMA,EAAI,IACR8D,EAASsM,EAAKpN,MAAML,KAAMI,YAExB/C,GAAK,IACPoQ,OA73TJuC,GA+3TS7O,GAuCX,IAAI/D,GAAOspB,IAAS,SAASjZ,EAAMlN,EAAS2pB,GAC1C,IAAI5O,EAv4Ta,EAw4TjB,GAAI4O,EAAS/rB,OAAQ,CACnB,IAAIgsB,EAAUpY,GAAemY,EAAUuD,GAAUrwB,KACjDke,GAr4TkB,GAu4TpB,OAAOoU,GAAWjiB,EAAM6N,EAAS/a,EAAS2pB,EAAUC,MAgDlDyK,GAAUlO,IAAS,SAASppB,EAAQH,EAAK+sB,GAC3C,IAAI5O,EAAUuZ,EACd,GAAI3K,EAAS/rB,OAAQ,CACnB,IAAIgsB,EAAUpY,GAAemY,EAAUuD,GAAUmH,KACjDtZ,GA37TkB,GA67TpB,OAAOoU,GAAWvyB,EAAKme,EAAShe,EAAQ4sB,EAAUC,MAsJpD,SAAS2K,GAASrnB,EAAMkQ,EAAM9Z,GAC5B,IAAIkxB,EACAC,EACAC,EACA9zB,EACA+zB,EACAC,EACAC,EAAiB,EACjBC,GAAU,EACVC,GAAS,EACT3J,GAAW,EAEf,GAAmB,mBAARle,EACT,MAAM,IAAI5N,GAAU6F,GAUtB,SAAS6vB,EAAWC,GAClB,IAAI9nB,EAAOqnB,EACPx0B,EAAUy0B,EAKd,OAHAD,EAAWC,OAnpUbhlB,EAopUEolB,EAAiBI,EACjBr0B,EAASsM,EAAKpN,MAAME,EAASmN,GAI/B,SAAS+nB,EAAYD,GAMnB,OAJAJ,EAAiBI,EAEjBN,EAAUngB,GAAW2gB,EAAc/X,GAE5B0X,EAAUE,EAAWC,GAAQr0B,EAatC,SAASw0B,EAAaH,GACpB,IAAII,EAAoBJ,EAAOL,EAM/B,YAnrUFnlB,IAmrUUmlB,GAA+BS,GAAqBjY,GACzDiY,EAAoB,GAAON,GANJE,EAAOJ,GAM8BH,EAGjE,SAASS,IACP,IAAIF,EAAO5yB,KACX,GAAI+yB,EAAaH,GACf,OAAOK,EAAaL,GAGtBN,EAAUngB,GAAW2gB,EA3BvB,SAAuBF,GACrB,IAEIM,EAAcnY,GAFM6X,EAAOL,GAI/B,OAAOG,EACHzf,GAAUigB,EAAab,GAJDO,EAAOJ,IAK7BU,EAoB+BC,CAAcP,IAGnD,SAASK,EAAaL,GAKpB,OAJAN,OAjsUFllB,EAqsUM2b,GAAYoJ,EACPQ,EAAWC,IAEpBT,EAAWC,OAxsUbhlB,EAysUS7O,GAeT,SAAS60B,IACP,IAAIR,EAAO5yB,KACPqzB,EAAaN,EAAaH,GAM9B,GAJAT,EAAW30B,UACX40B,EAAWh1B,KACXm1B,EAAeK,EAEXS,EAAY,CACd,QAjuUJjmB,IAiuUQklB,EACF,OAAOO,EAAYN,GAErB,GAAIG,EAIF,OAFA1gB,GAAasgB,GACbA,EAAUngB,GAAW2gB,EAAc/X,GAC5B4X,EAAWJ,GAMtB,YA9uUFnlB,IA2uUMklB,IACFA,EAAUngB,GAAW2gB,EAAc/X,IAE9Bxc,EAIT,OA3GAwc,EAAOkR,GAASlR,IAAS,EACrB9F,GAAShU,KACXwxB,IAAYxxB,EAAQwxB,QAEpBJ,GADAK,EAAS,YAAazxB,GACH8R,GAAUkZ,GAAShrB,EAAQoxB,UAAY,EAAGtX,GAAQsX,EACrEtJ,EAAW,aAAc9nB,IAAYA,EAAQ8nB,SAAWA,GAoG1DqK,EAAUE,OApCV,gBA5sUAlmB,IA6sUMklB,GACFtgB,GAAasgB,GAEfE,EAAiB,EACjBL,EAAWI,EAAeH,EAAWE,OAjtUvCllB,GAivUAgmB,EAAUG,MA7BV,WACE,YArtUFnmB,IAqtUSklB,EAAwB/zB,EAAS00B,EAAajzB,OA6BhDozB,EAqBT,IAAII,GAAQ1P,IAAS,SAASjZ,EAAMC,GAClC,OAAOgQ,GAAUjQ,EAAM,EAAGC,MAsBxB2oB,GAAQ3P,IAAS,SAASjZ,EAAMkQ,EAAMjQ,GACxC,OAAOgQ,GAAUjQ,EAAMohB,GAASlR,IAAS,EAAGjQ,MAqE9C,SAASskB,GAAQvkB,EAAM6oB,GACrB,GAAmB,mBAAR7oB,GAAmC,MAAZ6oB,GAAuC,mBAAZA,EAC3D,MAAM,IAAIz2B,GAAU6F,GAEtB,IAAI6wB,EAAW,WACb,IAAI7oB,EAAOtN,UACPjD,EAAMm5B,EAAWA,EAASj2B,MAAML,KAAM0N,GAAQA,EAAK,GACnDkD,EAAQ2lB,EAAS3lB,MAErB,GAAIA,EAAMC,IAAI1T,GACZ,OAAOyT,EAAMnU,IAAIU,GAEnB,IAAIgE,EAASsM,EAAKpN,MAAML,KAAM0N,GAE9B,OADA6oB,EAAS3lB,MAAQA,EAAMqB,IAAI9U,EAAKgE,IAAWyP,EACpCzP,GAGT,OADAo1B,EAAS3lB,MAAQ,IAAKohB,GAAQwE,OAASzd,IAChCwd,EA0BT,SAASE,GAAOroB,GACd,GAAwB,mBAAbA,EACT,MAAM,IAAIvO,GAAU6F,GAEtB,OAAO,WACL,IAAIgI,EAAOtN,UACX,OAAQsN,EAAKvP,QACX,KAAK,EAAG,OAAQiQ,EAAUrS,KAAKiE,MAC/B,KAAK,EAAG,OAAQoO,EAAUrS,KAAKiE,KAAM0N,EAAK,IAC1C,KAAK,EAAG,OAAQU,EAAUrS,KAAKiE,KAAM0N,EAAK,GAAIA,EAAK,IACnD,KAAK,EAAG,OAAQU,EAAUrS,KAAKiE,KAAM0N,EAAK,GAAIA,EAAK,GAAIA,EAAK,IAE9D,OAAQU,EAAU/N,MAAML,KAAM0N,IAlClCskB,GAAQwE,MAAQzd,GA2FhB,IAAI2d,GAAWhN,IAAS,SAASjc,EAAMkpB,GAKrC,IAAIC,GAJJD,EAAmC,GAArBA,EAAWx4B,QAAeoZ,GAAQof,EAAW,IACvDhoB,GAASgoB,EAAW,GAAInmB,GAAU8U,OAClC3W,GAASoQ,GAAY4X,EAAY,GAAInmB,GAAU8U,QAEtBnnB,OAC7B,OAAOuoB,IAAS,SAAShZ,GAIvB,IAHA,IAAIM,GAAS,EACT7P,EAAS0X,GAAUnI,EAAKvP,OAAQy4B,KAE3B5oB,EAAQ7P,GACfuP,EAAKM,GAAS2oB,EAAW3oB,GAAOjS,KAAKiE,KAAM0N,EAAKM,IAElD,OAAO3N,GAAMoN,EAAMzN,KAAM0N,SAqCzBmpB,GAAUnQ,IAAS,SAASjZ,EAAMyc,GAEpC,OAAOwF,GAAWjiB,EAn+UE,QArCpBuC,EAwgVsDka,EADxCnY,GAAemY,EAAUuD,GAAUoJ,SAoC/CC,GAAepQ,IAAS,SAASjZ,EAAMyc,GAEzC,OAAOwF,GAAWjiB,EAvgVQ,QAtC1BuC,EA6iV4Dka,EAD9CnY,GAAemY,EAAUuD,GAAUqJ,SA0B/CC,GAAQ1K,IAAS,SAAS5e,EAAM6Y,GAClC,OAAOoJ,GAAWjiB,EA/hVA,SAxClBuC,gBAukV0EsW,MAia5E,SAAShM,GAAGzd,EAAOwjB,GACjB,OAAOxjB,IAAUwjB,GAAUxjB,GAAUA,GAASwjB,GAAUA,EA0B1D,IAAI2W,GAAKpI,GAA0BxO,IAyB/B6W,GAAMrI,IAA0B,SAAS/xB,EAAOwjB,GAClD,OAAOxjB,GAASwjB,KAqBd5G,GAAc0H,GAAgB,WAAa,OAAO/gB,UAApB,IAAsC+gB,GAAkB,SAAStkB,GACjG,OAAOya,GAAaza,IAAUY,GAAe1B,KAAKc,EAAO,YACtDwX,GAAqBtY,KAAKc,EAAO,WA0BlC0a,GAAU5X,EAAM4X,QAmBhBzK,GAAgBD,GAAoB2D,GAAU3D,IA75PlD,SAA2BhQ,GACzB,OAAOya,GAAaza,IAAUkjB,GAAWljB,IAAU+J,GAu7PrD,SAASsd,GAAYrnB,GACnB,OAAgB,MAATA,GAAiBi0B,GAASj0B,EAAMsB,UAAYohB,GAAW1iB,GA4BhE,SAASioB,GAAkBjoB,GACzB,OAAOya,GAAaza,IAAUqnB,GAAYrnB,GA0C5C,IAAIyY,GAAWD,IAAkB6b,GAmB7BlkB,GAASD,GAAayD,GAAUzD,IAxgQpC,SAAoBlQ,GAClB,OAAOya,GAAaza,IAAUkjB,GAAWljB,IAAUmJ,GA+qQrD,SAASkxB,GAAQr6B,GACf,IAAKya,GAAaza,GAChB,OAAO,EAET,IAAIif,EAAMiE,GAAWljB,GACrB,OAAOif,GAAO7V,GA9yWF,yBA8yWc6V,GACC,iBAAjBjf,EAAMilB,SAA4C,iBAAdjlB,EAAMV,OAAqB4oB,GAAcloB,GAkDzF,SAAS0iB,GAAW1iB,GAClB,IAAKgb,GAAShb,GACZ,OAAO,EAIT,IAAIif,EAAMiE,GAAWljB,GACrB,OAAOif,GAAO5V,GAAW4V,GAAO3V,GA32WrB,0BA22W+B2V,GA/1W/B,kBA+1WkDA,EA6B/D,SAASqb,GAAUt6B,GACjB,MAAuB,iBAATA,GAAqBA,GAASwyB,GAAUxyB,GA6BxD,SAASi0B,GAASj0B,GAChB,MAAuB,iBAATA,GACZA,GAAS,GAAKA,EAAQ,GAAK,GAAKA,GAj8Wf,iBA69WrB,SAASgb,GAAShb,GAChB,IAAIqH,SAAcrH,EAClB,OAAgB,MAATA,IAA0B,UAARqH,GAA4B,YAARA,GA2B/C,SAASoT,GAAaza,GACpB,OAAgB,MAATA,GAAiC,iBAATA,EAoBjC,IAAIqQ,GAAQD,GAAYuD,GAAUvD,IA5xQlC,SAAmBpQ,GACjB,OAAOya,GAAaza,IAAUkf,GAAOlf,IAAUuJ,GA6+QjD,SAASgxB,GAASv6B,GAChB,MAAuB,iBAATA,GACXya,GAAaza,IAAUkjB,GAAWljB,IAAUwJ,EA+BjD,SAAS0e,GAAcloB,GACrB,IAAKya,GAAaza,IAAUkjB,GAAWljB,IAAUyJ,EAC/C,OAAO,EAET,IAAIsR,EAAQ1D,GAAarX,GACzB,GAAc,OAAV+a,EACF,OAAO,EAET,IAAI6E,EAAOhf,GAAe1B,KAAK6b,EAAO,gBAAkBA,EAAM3X,YAC9D,MAAsB,mBAARwc,GAAsBA,aAAgBA,GAClDnJ,GAAavX,KAAK0gB,IAAS5I,GAoB/B,IAAIzG,GAAWD,GAAeqD,GAAUrD,IA59QxC,SAAsBtQ,GACpB,OAAOya,GAAaza,IAAUkjB,GAAWljB,IAAU0J,GA6gRrD,IAAI+G,GAAQD,GAAYmD,GAAUnD,IAngRlC,SAAmBxQ,GACjB,OAAOya,GAAaza,IAAUkf,GAAOlf,IAAU2J,GAqhRjD,SAAS6wB,GAASx6B,GAChB,MAAuB,iBAATA,IACV0a,GAAQ1a,IAAUya,GAAaza,IAAUkjB,GAAWljB,IAAU4J,EAoBpE,SAASoY,GAAShiB,GAChB,MAAuB,iBAATA,GACXya,GAAaza,IAAUkjB,GAAWljB,IAAU6J,EAoBjD,IAAI8G,GAAeD,GAAmBiD,GAAUjD,IAvjRhD,SAA0B1Q,GACxB,OAAOya,GAAaza,IAClBi0B,GAASj0B,EAAMsB,WAAaoN,GAAewU,GAAWljB,KA6oR1D,IAAIy6B,GAAK1I,GAA0B5K,IAyB/BuT,GAAM3I,IAA0B,SAAS/xB,EAAOwjB,GAClD,OAAOxjB,GAASwjB,KA0BlB,SAASmX,GAAQ36B,GACf,IAAKA,EACH,MAAO,GAET,GAAIqnB,GAAYrnB,GACd,OAAOw6B,GAASx6B,GAASyV,GAAczV,GAASqd,GAAUrd,GAE5D,GAAI2X,IAAe3X,EAAM2X,IACvB,OAv8VN,SAAyBvS,GAIvB,IAHA,IAAImX,EACAjY,EAAS,KAEJiY,EAAOnX,EAASjB,QAAQI,MAC/BD,EAAO/C,KAAKgb,EAAKvc,OAEnB,OAAOsE,EAg8VIs2B,CAAgB56B,EAAM2X,OAE/B,IAAIsH,EAAMC,GAAOlf,GAGjB,OAFWif,GAAO1V,EAASqL,GAAcqK,GAAOtV,EAASwL,GAAanD,IAE1DhS,GA0Bd,SAAS6xB,GAAS7xB,GAChB,OAAKA,GAGLA,EAAQgyB,GAAShyB,MAzkYN,KA0kYeA,KA1kYf,IAEG,uBAykYAA,EAAQ,GAAK,EAAI,GAGxBA,GAAUA,EAAQA,EAAQ,EAPd,IAAVA,EAAcA,EAAQ,EAoCjC,SAASwyB,GAAUxyB,GACjB,IAAIsE,EAASutB,GAAS7xB,GAClB66B,EAAYv2B,EAAS,EAEzB,OAAOA,GAAWA,EAAUu2B,EAAYv2B,EAASu2B,EAAYv2B,EAAU,EA8BzE,SAASw2B,GAAS96B,GAChB,OAAOA,EAAQsd,GAAUkV,GAAUxyB,GAAQ,EAxoYxB,YAwoY+C,EA0BpE,SAASgyB,GAAShyB,GAChB,GAAoB,iBAATA,EACT,OAAOA,EAET,GAAIgiB,GAAShiB,GACX,OA1qYI,IA4qYN,GAAIgb,GAAShb,GAAQ,CACnB,IAAIwjB,EAAgC,mBAAjBxjB,EAAMsa,QAAwBta,EAAMsa,UAAYta,EACnEA,EAAQgb,GAASwI,GAAUA,EAAQ,GAAMA,EAE3C,GAAoB,iBAATxjB,EACT,OAAiB,IAAVA,EAAcA,GAASA,EAEhCA,EAAQwT,GAASxT,GACjB,IAAI+6B,EAAW1uB,GAAWhK,KAAKrC,GAC/B,OAAQ+6B,GAAYxuB,GAAUlK,KAAKrC,GAC/B+O,GAAa/O,EAAM6B,MAAM,GAAIk5B,EAAW,EAAI,GAC3C3uB,GAAW/J,KAAKrC,GAvrYf,KAurY+BA,EA2BvC,SAASmoB,GAAcnoB,GACrB,OAAOie,GAAWje,EAAOwf,GAAOxf,IAsDlC,SAASiI,GAASjI,GAChB,OAAgB,MAATA,EAAgB,GAAK2rB,GAAa3rB,GAqC3C,IAAIsD,GAASgrB,IAAe,SAAS7tB,EAAQuK,GAC3C,GAAI+b,GAAY/b,IAAWqc,GAAYrc,GACrCiT,GAAWjT,EAAQ6L,GAAK7L,GAASvK,QAGnC,IAAK,IAAIH,KAAO0K,EACVpK,GAAe1B,KAAK8L,EAAQ1K,IAC9Bqd,GAAYld,EAAQH,EAAK0K,EAAO1K,OAoClC06B,GAAW1M,IAAe,SAAS7tB,EAAQuK,GAC7CiT,GAAWjT,EAAQwU,GAAOxU,GAASvK,MAgCjCw6B,GAAe3M,IAAe,SAAS7tB,EAAQuK,EAAQ4c,EAAUlJ,GACnET,GAAWjT,EAAQwU,GAAOxU,GAASvK,EAAQie,MA+BzCwc,GAAa5M,IAAe,SAAS7tB,EAAQuK,EAAQ4c,EAAUlJ,GACjET,GAAWjT,EAAQ6L,GAAK7L,GAASvK,EAAQie,MAoBvCyc,GAAK3L,GAAStR,IA8DlB,IAAIhI,GAAW2T,IAAS,SAASppB,EAAQ+tB,GACvC/tB,EAAShB,GAAOgB,GAEhB,IAAI0Q,GAAS,EACT7P,EAASktB,EAAQltB,OACjBmtB,EAAQntB,EAAS,EAAIktB,EAAQ,QA/iZjCrb,EAqjZA,IAJIsb,GAASC,GAAeF,EAAQ,GAAIA,EAAQ,GAAIC,KAClDntB,EAAS,KAGF6P,EAAQ7P,GAMf,IALA,IAAI0J,EAASwjB,EAAQrd,GACjB0C,EAAQ2L,GAAOxU,GACfowB,GAAc,EACdC,EAAcxnB,EAAMvS,SAEf85B,EAAaC,GAAa,CACjC,IAAI/6B,EAAMuT,EAAMunB,GACZp7B,EAAQS,EAAOH,SA7jZvB6S,IA+jZQnT,GACCyd,GAAGzd,EAAOuW,GAAYjW,MAAUM,GAAe1B,KAAKuB,EAAQH,MAC/DG,EAAOH,GAAO0K,EAAO1K,IAK3B,OAAOG,KAsBL66B,GAAezR,IAAS,SAAShZ,GAEnC,OADAA,EAAKtP,UA7lZL4R,EA6lZqBmgB,IACd9vB,GAAM+3B,QA9lZbpoB,EA8lZmCtC,MAgSrC,SAASjR,GAAIa,EAAQmiB,EAAM2O,GACzB,IAAIjtB,EAAmB,MAAV7D,OA/3Zb0S,EA+3Z0CwP,GAAQliB,EAAQmiB,GAC1D,YAh4ZAzP,IAg4ZO7O,EAAuBitB,EAAejtB,EA4D/C,SAASojB,GAAMjnB,EAAQmiB,GACrB,OAAiB,MAAVniB,GAAkBszB,GAAQtzB,EAAQmiB,EAAMc,IAqBjD,IAAI8X,GAAStK,IAAe,SAAS5sB,EAAQtE,EAAOM,GACrC,MAATN,GACyB,mBAAlBA,EAAMiI,WACfjI,EAAQ+W,GAAqB7X,KAAKc,IAGpCsE,EAAOtE,GAASM,IACf+pB,GAAS1D,KA4BR8U,GAAWvK,IAAe,SAAS5sB,EAAQtE,EAAOM,GACvC,MAATN,GACyB,mBAAlBA,EAAMiI,WACfjI,EAAQ+W,GAAqB7X,KAAKc,IAGhCY,GAAe1B,KAAKoF,EAAQtE,GAC9BsE,EAAOtE,GAAOuB,KAAKjB,GAEnBgE,EAAOtE,GAAS,CAACM,KAElBmoB,IAoBCiT,GAAS7R,GAAS1F,IA8BtB,SAAStN,GAAKpW,GACZ,OAAO4mB,GAAY5mB,GAAU+b,GAAc/b,GAAUqmB,GAASrmB,GA0BhE,SAAS+e,GAAO/e,GACd,OAAO4mB,GAAY5mB,GAAU+b,GAAc/b,GAAQ,GAAQumB,GAAWvmB,GAuGxE,IAAIk7B,GAAQrN,IAAe,SAAS7tB,EAAQuK,EAAQ4c,GAClDD,GAAUlnB,EAAQuK,EAAQ4c,MAkCxB2T,GAAYjN,IAAe,SAAS7tB,EAAQuK,EAAQ4c,EAAUlJ,GAChEiJ,GAAUlnB,EAAQuK,EAAQ4c,EAAUlJ,MAuBlCkd,GAAOpM,IAAS,SAAS/uB,EAAQ0d,GACnC,IAAI7Z,EAAS,GACb,GAAc,MAAV7D,EACF,OAAO6D,EAET,IAAIsa,GAAS,EACbT,EAAQrM,GAASqM,GAAO,SAASyE,GAG/B,OAFAA,EAAOC,GAASD,EAAMniB,GACtBme,IAAWA,EAASgE,EAAKthB,OAAS,GAC3BshB,KAET3E,GAAWxd,EAAQigB,GAAajgB,GAAS6D,GACrCsa,IACFta,EAASka,GAAUla,EAAQu3B,EAAwDtI,KAGrF,IADA,IAAIjyB,EAAS6c,EAAM7c,OACZA,KACLqoB,GAAUrlB,EAAQ6Z,EAAM7c,IAE1B,OAAOgD,KA4CT,IAAI6R,GAAOqZ,IAAS,SAAS/uB,EAAQ0d,GACnC,OAAiB,MAAV1d,EAAiB,GAnmT1B,SAAkBA,EAAQ0d,GACxB,OAAOiL,GAAW3oB,EAAQ0d,GAAO,SAASne,EAAO4iB,GAC/C,OAAO8E,GAAMjnB,EAAQmiB,MAimTMkZ,CAASr7B,EAAQ0d,MAqBhD,SAAS4d,GAAOt7B,EAAQ8Q,GACtB,GAAc,MAAV9Q,EACF,MAAO,GAET,IAAIoT,EAAQ/B,GAAS4O,GAAajgB,IAAS,SAASu7B,GAClD,MAAO,CAACA,MAGV,OADAzqB,EAAYkX,GAAYlX,GACjB6X,GAAW3oB,EAAQoT,GAAO,SAAS7T,EAAO4iB,GAC/C,OAAOrR,EAAUvR,EAAO4iB,EAAK,OA4IjC,IAAIqZ,GAAUtJ,GAAc9b,IA0BxBqlB,GAAYvJ,GAAcnT,IA4K9B,SAASxN,GAAOvR,GACd,OAAiB,MAAVA,EAAiB,GAAKmT,GAAWnT,EAAQoW,GAAKpW,IAkNvD,IAAI07B,GAAYpN,IAAiB,SAASzqB,EAAQ83B,EAAMjrB,GAEtD,OADAirB,EAAOA,EAAKC,cACL/3B,GAAU6M,EAAQmrB,GAAWF,GAAQA,MAkB9C,SAASE,GAAW7oB,GAClB,OAAO8oB,GAAWt0B,GAASwL,GAAQ4oB,eAqBrC,SAASnN,GAAOzb,GAEd,OADAA,EAASxL,GAASwL,KACDA,EAAOjL,QAAQiE,GAAS8H,IAAc/L,QAAQ2F,GAAa,IAsH9E,IAAIquB,GAAYzN,IAAiB,SAASzqB,EAAQ83B,EAAMjrB,GACtD,OAAO7M,GAAU6M,EAAQ,IAAM,IAAMirB,EAAKC,iBAuBxCI,GAAY1N,IAAiB,SAASzqB,EAAQ83B,EAAMjrB,GACtD,OAAO7M,GAAU6M,EAAQ,IAAM,IAAMirB,EAAKC,iBAoBxCK,GAAa9N,GAAgB,eA0NjC,IAAI+N,GAAY5N,IAAiB,SAASzqB,EAAQ83B,EAAMjrB,GACtD,OAAO7M,GAAU6M,EAAQ,IAAM,IAAMirB,EAAKC,iBAgE5C,IAAIO,GAAY7N,IAAiB,SAASzqB,EAAQ83B,EAAMjrB,GACtD,OAAO7M,GAAU6M,EAAQ,IAAM,IAAMorB,GAAWH,MAsiBlD,IAAIS,GAAY9N,IAAiB,SAASzqB,EAAQ83B,EAAMjrB,GACtD,OAAO7M,GAAU6M,EAAQ,IAAM,IAAMirB,EAAKU,iBAoBxCP,GAAa3N,GAAgB,eAqBjC,SAASK,GAAMxb,EAAQspB,EAAStO,GAI9B,OAHAhb,EAASxL,GAASwL,QA/6dlBN,KAg7dA4pB,EAAUtO,OAh7dVtb,EAg7d8B4pB,GAnyblC,SAAwBtpB,GACtB,OAAOlF,GAAiBlM,KAAKoR,GAqyblBupB,CAAevpB,GA1jb5B,SAAsBA,GACpB,OAAOA,EAAOiC,MAAMrH,KAAkB,GAyjbF4uB,CAAaxpB,GAzrcnD,SAAoBA,GAClB,OAAOA,EAAOiC,MAAM3J,IAAgB,GAwrcuBmxB,CAAWzpB,GAE7DA,EAAOiC,MAAMqnB,IAAY,GA2BlC,IAAII,GAAUtT,IAAS,SAASjZ,EAAMC,GACpC,IACE,OAAOrN,GAAMoN,OAl9dfuC,EAk9dgCtC,GAC9B,MAAOzM,GACP,OAAOi2B,GAAQj2B,GAAKA,EAAI,IAAIgS,EAAMhS,OA8BlCg5B,GAAU5N,IAAS,SAAS/uB,EAAQ48B,GAKtC,OAJAjsB,GAAUisB,GAAa,SAAS/8B,GAC9BA,EAAMwiB,GAAMxiB,GACZod,GAAgBjd,EAAQH,EAAKC,GAAKE,EAAOH,GAAMG,OAE1CA,KAqGT,SAAS4pB,GAASrqB,GAChB,OAAO,WACL,OAAOA,GAkDX,IAAIs9B,GAAO/N,KAuBPgO,GAAYhO,IAAW,GAkB3B,SAAS5I,GAAS3mB,GAChB,OAAOA,EA6CT,SAASiR,GAASL,GAChB,OAAO8V,GAA4B,mBAAR9V,EAAqBA,EAAO4N,GAAU5N,EAjte/C,IAwzepB,IAAI4sB,GAAS3T,IAAS,SAASjH,EAAM/R,GACnC,OAAO,SAASpQ,GACd,OAAO0jB,GAAW1jB,EAAQmiB,EAAM/R,OA2BhC4sB,GAAW5T,IAAS,SAASppB,EAAQoQ,GACvC,OAAO,SAAS+R,GACd,OAAOuB,GAAW1jB,EAAQmiB,EAAM/R,OAwCpC,SAAS6sB,GAAMj9B,EAAQuK,EAAQhE,GAC7B,IAAI6M,EAAQgD,GAAK7L,GACbqyB,EAAc5a,GAAczX,EAAQ6I,GAEzB,MAAX7M,GACEgU,GAAShQ,KAAYqyB,EAAY/7B,SAAWuS,EAAMvS,UACtD0F,EAAUgE,EACVA,EAASvK,EACTA,EAAS0C,KACTk6B,EAAc5a,GAAczX,EAAQ6L,GAAK7L,KAE3C,IAAIksB,IAAUlc,GAAShU,IAAY,UAAWA,IAAcA,EAAQkwB,OAChE/X,EAASuD,GAAWjiB,GAqBxB,OAnBA2Q,GAAUisB,GAAa,SAASxO,GAC9B,IAAIje,EAAO5F,EAAO6jB,GAClBpuB,EAAOouB,GAAcje,EACjBuO,IACF1e,EAAOE,UAAUkuB,GAAc,WAC7B,IAAI3T,EAAW/X,KAAKkY,UACpB,GAAI6b,GAAShc,EAAU,CACrB,IAAI5W,EAAS7D,EAAO0C,KAAKgY,aACrBiR,EAAU9nB,EAAO8W,YAAciC,GAAUla,KAAKiY,aAIlD,OAFAgR,EAAQ7qB,KAAK,CAAE,KAAQqP,EAAM,KAAQrN,UAAW,QAAW9C,IAC3D6D,EAAO+W,UAAYH,EACZ5W,EAET,OAAOsM,EAAKpN,MAAM/C,EAAQsR,GAAU,CAAC5O,KAAKnD,SAAUuD,iBAKnD9C,EAmCT,SAASiyB,MAiDT,IAAIiL,GAAOnM,GAAW1f,IA8BlB8rB,GAAYpM,GAAWlgB,IAiCvBusB,GAAWrM,GAAWnf,IAwB1B,SAAS3R,GAASkiB,GAChB,OAAO4E,GAAM5E,GAAQrQ,GAAauQ,GAAMF,IAh3X1C,SAA0BA,GACxB,OAAO,SAASniB,GACd,OAAOkiB,GAAQliB,EAAQmiB,IA82XwBkb,CAAiBlb,GAuEpE,IAAImb,GAAQnM,KAsCRoM,GAAapM,IAAY,GAoB7B,SAASkC,KACP,MAAO,GAgBT,SAASO,KACP,OAAO,EA+JT,IAAIhY,GAAMgV,IAAoB,SAAS4M,EAAQC,GAC7C,OAAOD,EAASC,IACf,GAuBC9lB,GAAOka,GAAY,QAiBnB6L,GAAS9M,IAAoB,SAAS+M,EAAUC,GAClD,OAAOD,EAAWC,IACjB,GAuBC91B,GAAQ+pB,GAAY,SAwKxB,IAgaMtnB,GAhaFszB,GAAWjN,IAAoB,SAASkN,EAAYC,GACtD,OAAOD,EAAaC,IACnB,GAuBCC,GAAQnM,GAAY,SAiBpBoM,GAAWrN,IAAoB,SAASsN,EAASC,GACnD,OAAOD,EAAUC,IAChB,GAgmBH,OA1iBApkB,GAAOqkB,MAp6MP,SAAer+B,EAAGoQ,GAChB,GAAmB,mBAARA,EACT,MAAM,IAAI5N,GAAU6F,GAGtB,OADArI,EAAIgyB,GAAUhyB,GACP,WACL,KAAMA,EAAI,EACR,OAAOoQ,EAAKpN,MAAML,KAAMI,aA85M9BiX,GAAO8V,IAAMA,GACb9V,GAAOlX,OAASA,GAChBkX,GAAOwgB,SAAWA,GAClBxgB,GAAOygB,aAAeA,GACtBzgB,GAAO0gB,WAAaA,GACpB1gB,GAAO2gB,GAAKA,GACZ3gB,GAAOsd,OAASA,GAChBtd,GAAOja,KAAOA,GACdia,GAAO4iB,QAAUA,GACjB5iB,GAAOud,QAAUA,GACjBvd,GAAOskB,UAl8KP,WACE,IAAKv7B,UAAUjC,OACb,MAAO,GAET,IAAItB,EAAQuD,UAAU,GACtB,OAAOmX,GAAQ1a,GAASA,EAAQ,CAACA,IA87KnCwa,GAAO0c,MAAQA,GACf1c,GAAOukB,MApgTP,SAAehuB,EAAO3J,EAAMqnB,GAExBrnB,GADGqnB,EAAQC,GAAe3d,EAAO3J,EAAMqnB,QA5uNzCtb,IA4uNkD/L,GACzC,EAEA0R,GAAU0Z,GAAUprB,GAAO,GAEpC,IAAI9F,EAAkB,MAATyP,EAAgB,EAAIA,EAAMzP,OACvC,IAAKA,GAAU8F,EAAO,EACpB,MAAO,GAMT,IAJA,IAAI+J,EAAQ,EACRM,EAAW,EACXnN,EAASxB,EAAMqV,GAAW7W,EAAS8F,IAEhC+J,EAAQ7P,GACbgD,EAAOmN,KAAc8Y,GAAUxZ,EAAOI,EAAQA,GAAS/J,GAEzD,OAAO9C,GAo/STkW,GAAOwkB,QAl+SP,SAAiBjuB,GAMf,IALA,IAAII,GAAS,EACT7P,EAAkB,MAATyP,EAAgB,EAAIA,EAAMzP,OACnCmQ,EAAW,EACXnN,EAAS,KAEJ6M,EAAQ7P,GAAQ,CACvB,IAAItB,EAAQ+Q,EAAMI,GACdnR,IACFsE,EAAOmN,KAAczR,GAGzB,OAAOsE,GAu9STkW,GAAO3U,OA97SP,WACE,IAAIvE,EAASiC,UAAUjC,OACvB,IAAKA,EACH,MAAO,GAMT,IAJA,IAAIuP,EAAO/N,EAAMxB,EAAS,GACtByP,EAAQxN,UAAU,GAClB4N,EAAQ7P,EAEL6P,KACLN,EAAKM,EAAQ,GAAK5N,UAAU4N,GAE9B,OAAOY,GAAU2I,GAAQ3J,GAASsM,GAAUtM,GAAS,CAACA,GAAQmR,GAAYrR,EAAM,KAm7SlF2J,GAAOykB,KA3tCP,SAAczd,GACZ,IAAIlgB,EAAkB,MAATkgB,EAAgB,EAAIA,EAAMlgB,OACnC6vB,EAAa1I,KASjB,OAPAjH,EAASlgB,EAAcwQ,GAAS0P,GAAO,SAASiR,GAC9C,GAAsB,mBAAXA,EAAK,GACd,MAAM,IAAIzvB,GAAU6F,GAEtB,MAAO,CAACsoB,EAAWsB,EAAK,IAAKA,EAAK,OAJlB,GAOX5I,IAAS,SAAShZ,GAEvB,IADA,IAAIM,GAAS,IACJA,EAAQ7P,GAAQ,CACvB,IAAImxB,EAAOjR,EAAMrQ,GACjB,GAAI3N,GAAMivB,EAAK,GAAItvB,KAAM0N,GACvB,OAAOrN,GAAMivB,EAAK,GAAItvB,KAAM0N,QA4sCpC2J,GAAO0kB,SA9qCP,SAAkBl0B,GAChB,OAz5YF,SAAsBA,GACpB,IAAI6I,EAAQgD,GAAK7L,GACjB,OAAO,SAASvK,GACd,OAAOmgB,GAAengB,EAAQuK,EAAQ6I,IAs5YjCsrB,CAAa3gB,GAAUxT,EA/ieZ,KA6tgBpBwP,GAAO6P,SAAWA,GAClB7P,GAAO6c,QAAUA,GACjB7c,GAAOna,OAtuHP,SAAgBM,EAAWy+B,GACzB,IAAI96B,EAASwW,GAAWna,GACxB,OAAqB,MAAdy+B,EAAqB96B,EAAS0Z,GAAW1Z,EAAQ86B,IAquH1D5kB,GAAO6kB,MAzuMP,SAASA,EAAMzuB,EAAM2f,EAAO9B,GAE1B,IAAInqB,EAASuuB,GAAWjiB,EA7+TN,OAnClBuC,8BA+gUAod,EAAQ9B,OA/gURtb,EA+gU4Bod,GAG5B,OADAjsB,EAAOgQ,YAAc+qB,EAAM/qB,YACpBhQ,GAsuMTkW,GAAO8kB,WA7rMP,SAASA,EAAW1uB,EAAM2f,EAAO9B,GAE/B,IAAInqB,EAASuuB,GAAWjiB,EAzhUA,QApCxBuC,8BA4jUAod,EAAQ9B,OA5jURtb,EA4jU4Bod,GAG5B,OADAjsB,EAAOgQ,YAAcgrB,EAAWhrB,YACzBhQ,GA0rMTkW,GAAOyd,SAAWA,GAClBzd,GAAOtE,SAAWA,GAClBsE,GAAO8gB,aAAeA,GACtB9gB,GAAO+e,MAAQA,GACf/e,GAAOgf,MAAQA,GACfhf,GAAOib,WAAaA,GACpBjb,GAAOkb,aAAeA,GACtBlb,GAAOmb,eAAiBA,GACxBnb,GAAO+kB,KAt0SP,SAAcxuB,EAAOvQ,EAAGiuB,GACtB,IAAIntB,EAAkB,MAATyP,EAAgB,EAAIA,EAAMzP,OACvC,OAAKA,EAIEipB,GAAUxZ,GADjBvQ,EAAKiuB,QAh8NLtb,IAg8Nc3S,EAAmB,EAAIgyB,GAAUhyB,IACnB,EAAI,EAAIA,EAAGc,GAH9B,IAo0SXkZ,GAAOglB,UArySP,SAAmBzuB,EAAOvQ,EAAGiuB,GAC3B,IAAIntB,EAAkB,MAATyP,EAAgB,EAAIA,EAAMzP,OACvC,OAAKA,EAKEipB,GAAUxZ,EAAO,GADxBvQ,EAAIc,GADJd,EAAKiuB,QAl+NLtb,IAk+Nc3S,EAAmB,EAAIgyB,GAAUhyB,KAEhB,EAAI,EAAIA,GAJ9B,IAmySXga,GAAOilB,eAzvSP,SAAwB1uB,EAAOQ,GAC7B,OAAQR,GAASA,EAAMzP,OACnB2qB,GAAUlb,EAAO0X,GAAYlX,EAAW,IAAI,GAAM,GAClD,IAuvSNiJ,GAAOklB,UAjtSP,SAAmB3uB,EAAOQ,GACxB,OAAQR,GAASA,EAAMzP,OACnB2qB,GAAUlb,EAAO0X,GAAYlX,EAAW,IAAI,GAC5C,IA+sSNiJ,GAAOmlB,KA/qSP,SAAc5uB,EAAO/Q,EAAOyH,EAAOC,GACjC,IAAIpG,EAAkB,MAATyP,EAAgB,EAAIA,EAAMzP,OACvC,OAAKA,GAGDmG,GAAyB,iBAATA,GAAqBinB,GAAe3d,EAAO/Q,EAAOyH,KACpEA,EAAQ,EACRC,EAAMpG,GAzvIV,SAAkByP,EAAO/Q,EAAOyH,EAAOC,GACrC,IAAIpG,EAASyP,EAAMzP,OAWnB,KATAmG,EAAQ+qB,GAAU/qB,IACN,IACVA,GAASA,EAAQnG,EAAS,EAAKA,EAASmG,IAE1CC,OA32FAyL,IA22FOzL,GAAqBA,EAAMpG,EAAUA,EAASkxB,GAAU9qB,IACrD,IACRA,GAAOpG,GAEToG,EAAMD,EAAQC,EAAM,EAAIozB,GAASpzB,GAC1BD,EAAQC,GACbqJ,EAAMtJ,KAAWzH,EAEnB,OAAO+Q,EA4uIA6uB,CAAS7uB,EAAO/Q,EAAOyH,EAAOC,IAN5B,IA6qSX8S,GAAOhZ,OA3vOP,SAAgBiR,EAAYlB,GAE1B,OADWmJ,GAAQjI,GAAcjB,GAAcyQ,IACnCxP,EAAYgW,GAAYlX,EAAW,KA0vOjDiJ,GAAOqlB,QAvqOP,SAAiBptB,EAAYxB,GAC3B,OAAOiR,GAAYrN,GAAIpC,EAAYxB,GAAW,IAuqOhDuJ,GAAOslB,YAhpOP,SAAqBrtB,EAAYxB,GAC/B,OAAOiR,GAAYrN,GAAIpC,EAAYxB,GAhkSxB,MAgtgBbuJ,GAAOulB,aAxnOP,SAAsBttB,EAAYxB,EAAUkR,GAE1C,OADAA,OAlpSAhP,IAkpSQgP,EAAsB,EAAIqQ,GAAUrQ,GACrCD,GAAYrN,GAAIpC,EAAYxB,GAAWkR,IAunOhD3H,GAAOmZ,QAAUA,GACjBnZ,GAAOwlB,YAviSP,SAAqBjvB,GAEnB,OADsB,MAATA,EAAgB,EAAIA,EAAMzP,QACvB4gB,GAAYnR,EA7qOjB,KA6qOoC,IAsiSjDyJ,GAAOylB,aA/gSP,SAAsBlvB,EAAOoR,GAE3B,OADsB,MAATpR,EAAgB,EAAIA,EAAMzP,QAKhC4gB,GAAYnR,EADnBoR,OAlwOAhP,IAkwOQgP,EAAsB,EAAIqQ,GAAUrQ,IAFnC,IA6gSX3H,GAAO0lB,KAz9LP,SAActvB,GACZ,OAAOiiB,GAAWjiB,EA5wUD,MAqugBnB4J,GAAO8iB,KAAOA,GACd9iB,GAAO+iB,UAAYA,GACnB/iB,GAAO2lB,UA3/RP,SAAmB3e,GAKjB,IAJA,IAAIrQ,GAAS,EACT7P,EAAkB,MAATkgB,EAAgB,EAAIA,EAAMlgB,OACnCgD,EAAS,KAEJ6M,EAAQ7P,GAAQ,CACvB,IAAImxB,EAAOjR,EAAMrQ,GACjB7M,EAAOmuB,EAAK,IAAMA,EAAK,GAEzB,OAAOnuB,GAm/RTkW,GAAO4lB,UA38GP,SAAmB3/B,GACjB,OAAiB,MAAVA,EAAiB,GAAKgiB,GAAchiB,EAAQoW,GAAKpW,KA28G1D+Z,GAAO6lB,YAj7GP,SAAqB5/B,GACnB,OAAiB,MAAVA,EAAiB,GAAKgiB,GAAchiB,EAAQ+e,GAAO/e,KAi7G5D+Z,GAAOid,QAAUA,GACjBjd,GAAO8lB,QA56RP,SAAiBvvB,GAEf,OADsB,MAATA,EAAgB,EAAIA,EAAMzP,QACvBipB,GAAUxZ,EAAO,GAAI,GAAK,IA26R5CyJ,GAAOub,aAAeA,GACtBvb,GAAOyb,eAAiBA,GACxBzb,GAAO0b,iBAAmBA,GAC1B1b,GAAOghB,OAASA,GAChBhhB,GAAOihB,SAAWA,GAClBjhB,GAAOkd,UAAYA,GACnBld,GAAOvJ,SAAWA,GAClBuJ,GAAOmd,MAAQA,GACfnd,GAAO3D,KAAOA,GACd2D,GAAOgF,OAASA,GAChBhF,GAAO3F,IAAMA,GACb2F,GAAO+lB,QA1rGP,SAAiB9/B,EAAQwQ,GACvB,IAAI3M,EAAS,GAMb,OALA2M,EAAWwX,GAAYxX,EAAU,GAEjC0Q,GAAWlhB,GAAQ,SAAST,EAAOM,EAAKG,GACtCid,GAAgBpZ,EAAQ2M,EAASjR,EAAOM,EAAKG,GAAST,MAEjDsE,GAorGTkW,GAAOgmB,UArpGP,SAAmB//B,EAAQwQ,GACzB,IAAI3M,EAAS,GAMb,OALA2M,EAAWwX,GAAYxX,EAAU,GAEjC0Q,GAAWlhB,GAAQ,SAAST,EAAOM,EAAKG,GACtCid,GAAgBpZ,EAAQhE,EAAK2Q,EAASjR,EAAOM,EAAKG,OAE7C6D,GA+oGTkW,GAAOimB,QAphCP,SAAiBz1B,GACf,OAAO6b,GAAYrI,GAAUxT,EAxveX,KA4wgBpBwP,GAAOkmB,gBAh/BP,SAAyB9d,EAAM2D,GAC7B,OAAOK,GAAoBhE,EAAMpE,GAAU+H,EA7xezB,KA6wgBpB/L,GAAO2a,QAAUA,GACjB3a,GAAOmhB,MAAQA,GACfnhB,GAAO+gB,UAAYA,GACnB/gB,GAAOgjB,OAASA,GAChBhjB,GAAOijB,SAAWA,GAClBjjB,GAAOkjB,MAAQA,GACfljB,GAAOof,OAASA,GAChBpf,GAAOmmB,OAzzBP,SAAgBngC,GAEd,OADAA,EAAIgyB,GAAUhyB,GACPqpB,IAAS,SAAShZ,GACvB,OAAOwX,GAAQxX,EAAMrQ,OAuzBzBga,GAAOohB,KAAOA,GACdphB,GAAOomB,OAnhGP,SAAgBngC,EAAQ8Q,GACtB,OAAOwqB,GAAOt7B,EAAQm5B,GAAOnR,GAAYlX,MAmhG3CiJ,GAAOqmB,KA73LP,SAAcjwB,GACZ,OAAOknB,GAAO,EAAGlnB,IA63LnB4J,GAAOsmB,QAr4NP,SAAiBruB,EAAY8V,EAAWC,EAAQiG,GAC9C,OAAkB,MAAdhc,EACK,IAEJiI,GAAQ6N,KACXA,EAAyB,MAAbA,EAAoB,GAAK,CAACA,IAGnC7N,GADL8N,EAASiG,OAj7STtb,EAi7S6BqV,KAE3BA,EAAmB,MAAVA,EAAiB,GAAK,CAACA,IAE3BF,GAAY7V,EAAY8V,EAAWC,KA23N5ChO,GAAOmjB,KAAOA,GACdnjB,GAAOqf,SAAWA,GAClBrf,GAAOojB,UAAYA,GACnBpjB,GAAOqjB,SAAWA,GAClBrjB,GAAOwf,QAAUA,GACjBxf,GAAOyf,aAAeA,GACtBzf,GAAOod,UAAYA,GACnBpd,GAAOrE,KAAOA,GACdqE,GAAOuhB,OAASA,GAChBvhB,GAAO9Z,SAAWA,GAClB8Z,GAAOumB,WA/rBP,SAAoBtgC,GAClB,OAAO,SAASmiB,GACd,OAAiB,MAAVniB,OA7nfT0S,EA6nfsCwP,GAAQliB,EAAQmiB,KA8rBxDpI,GAAO2b,KAAOA,GACd3b,GAAO4b,QAAUA,GACjB5b,GAAOwmB,UApsRP,SAAmBjwB,EAAOiB,EAAQf,GAChC,OAAQF,GAASA,EAAMzP,QAAU0Q,GAAUA,EAAO1Q,OAC9CgoB,GAAYvY,EAAOiB,EAAQyW,GAAYxX,EAAU,IACjDF,GAksRNyJ,GAAOymB,YAxqRP,SAAqBlwB,EAAOiB,EAAQH,GAClC,OAAQd,GAASA,EAAMzP,QAAU0Q,GAAUA,EAAO1Q,OAC9CgoB,GAAYvY,EAAOiB,OAxpPvBmB,EAwpP0CtB,GACtCd,GAsqRNyJ,GAAO6b,OAASA,GAChB7b,GAAOujB,MAAQA,GACfvjB,GAAOwjB,WAAaA,GACpBxjB,GAAO0f,MAAQA,GACf1f,GAAOxW,OAxvNP,SAAgByO,EAAYlB,GAE1B,OADWmJ,GAAQjI,GAAcjB,GAAcyQ,IACnCxP,EAAYmnB,GAAOnR,GAAYlX,EAAW,MAuvNxDiJ,GAAO0mB,OAzmRP,SAAgBnwB,EAAOQ,GACrB,IAAIjN,EAAS,GACb,IAAMyM,IAASA,EAAMzP,OACnB,OAAOgD,EAET,IAAI6M,GAAS,EACTsY,EAAU,GACVnoB,EAASyP,EAAMzP,OAGnB,IADAiQ,EAAYkX,GAAYlX,EAAW,KAC1BJ,EAAQ7P,GAAQ,CACvB,IAAItB,EAAQ+Q,EAAMI,GACdI,EAAUvR,EAAOmR,EAAOJ,KAC1BzM,EAAO/C,KAAKvB,GACZypB,EAAQloB,KAAK4P,IAIjB,OADAqY,GAAWzY,EAAO0Y,GACXnlB,GAwlRTkW,GAAO2mB,KAluLP,SAAcvwB,EAAMnJ,GAClB,GAAmB,mBAARmJ,EACT,MAAM,IAAI5N,GAAU6F,GAGtB,OAAOghB,GAASjZ,EADhBnJ,OAvmVA0L,IAumVQ1L,EAAsBA,EAAQ+qB,GAAU/qB,KA+tLlD+S,GAAOlB,QAAUA,GACjBkB,GAAO4mB,WAhtNP,SAAoB3uB,EAAYjS,EAAGiuB,GAOjC,OALEjuB,GADGiuB,EAAQC,GAAejc,EAAYjS,EAAGiuB,QAxnT3Ctb,IAwnToD3S,GAC9C,EAEAgyB,GAAUhyB,IAELka,GAAQjI,GAAc0K,GAAkB8M,IACvCxX,EAAYjS,IA0sN1Bga,GAAOpF,IAv6FP,SAAa3U,EAAQmiB,EAAM5iB,GACzB,OAAiB,MAAVS,EAAiBA,EAAS4oB,GAAQ5oB,EAAQmiB,EAAM5iB,IAu6FzDwa,GAAO6mB,QA54FP,SAAiB5gC,EAAQmiB,EAAM5iB,EAAO0e,GAEpC,OADAA,EAAkC,mBAAdA,EAA2BA,OA97a/CvL,EA+7aiB,MAAV1S,EAAiBA,EAAS4oB,GAAQ5oB,EAAQmiB,EAAM5iB,EAAO0e,IA24FhElE,GAAO8mB,QA1rNP,SAAiB7uB,GAEf,OADWiI,GAAQjI,GAAc8K,GAAe+M,IACpC7X,IAyrNd+H,GAAO3Y,MAhjRP,SAAekP,EAAOtJ,EAAOC,GAC3B,IAAIpG,EAAkB,MAATyP,EAAgB,EAAIA,EAAMzP,OACvC,OAAKA,GAGDoG,GAAqB,iBAAPA,GAAmBgnB,GAAe3d,EAAOtJ,EAAOC,IAChED,EAAQ,EACRC,EAAMpG,IAGNmG,EAAiB,MAATA,EAAgB,EAAI+qB,GAAU/qB,GACtCC,OAtyPFyL,IAsyPQzL,EAAoBpG,EAASkxB,GAAU9qB,IAExC6iB,GAAUxZ,EAAOtJ,EAAOC,IAVtB,IA8iRX8S,GAAOqd,OAASA,GAChBrd,GAAO+mB,WAx3QP,SAAoBxwB,GAClB,OAAQA,GAASA,EAAMzP,OACnBmqB,GAAe1a,GACf,IAs3QNyJ,GAAOgnB,aAn2QP,SAAsBzwB,EAAOE,GAC3B,OAAQF,GAASA,EAAMzP,OACnBmqB,GAAe1a,EAAO0X,GAAYxX,EAAU,IAC5C,IAi2QNuJ,GAAOzY,MA5hEP,SAAe0R,EAAQguB,EAAWC,GAKhC,OAJIA,GAAyB,iBAATA,GAAqBhT,GAAejb,EAAQguB,EAAWC,KACzED,EAAYC,OArzcdvuB,IAuzcAuuB,OAvzcAvuB,IAuzcQuuB,EAxvcW,WAwvc8BA,IAAU,IAI3DjuB,EAASxL,GAASwL,MAEQ,iBAAbguB,GACO,MAAbA,IAAsBlxB,GAASkxB,OAEpCA,EAAY9V,GAAa8V,KACP9sB,GAAWlB,GACpBqZ,GAAUrX,GAAchC,GAAS,EAAGiuB,GAGxCjuB,EAAO1R,MAAM0/B,EAAWC,GAZtB,IAuhEXlnB,GAAOmnB,OAnsLP,SAAgB/wB,EAAMnJ,GACpB,GAAmB,mBAARmJ,EACT,MAAM,IAAI5N,GAAU6F,GAGtB,OADApB,EAAiB,MAATA,EAAgB,EAAIqR,GAAU0Z,GAAU/qB,GAAQ,GACjDoiB,IAAS,SAAShZ,GACvB,IAAIE,EAAQF,EAAKpJ,GACb6sB,EAAYxH,GAAUjc,EAAM,EAAGpJ,GAKnC,OAHIsJ,GACFgB,GAAUuiB,EAAWvjB,GAEhBvN,GAAMoN,EAAMzN,KAAMmxB,OAwrL7B9Z,GAAOonB,KAl1QP,SAAc7wB,GACZ,IAAIzP,EAAkB,MAATyP,EAAgB,EAAIA,EAAMzP,OACvC,OAAOA,EAASipB,GAAUxZ,EAAO,EAAGzP,GAAU,IAi1QhDkZ,GAAOqnB,KArzQP,SAAc9wB,EAAOvQ,EAAGiuB,GACtB,OAAM1d,GAASA,EAAMzP,OAIdipB,GAAUxZ,EAAO,GADxBvQ,EAAKiuB,QAjiQLtb,IAiiQc3S,EAAmB,EAAIgyB,GAAUhyB,IAChB,EAAI,EAAIA,GAH9B,IAozQXga,GAAOsnB,UArxQP,SAAmB/wB,EAAOvQ,EAAGiuB,GAC3B,IAAIntB,EAAkB,MAATyP,EAAgB,EAAIA,EAAMzP,OACvC,OAAKA,EAKEipB,GAAUxZ,GADjBvQ,EAAIc,GADJd,EAAKiuB,QAnkQLtb,IAmkQc3S,EAAmB,EAAIgyB,GAAUhyB,KAEnB,EAAI,EAAIA,EAAGc,GAJ9B,IAmxQXkZ,GAAOunB,eAzuQP,SAAwBhxB,EAAOQ,GAC7B,OAAQR,GAASA,EAAMzP,OACnB2qB,GAAUlb,EAAO0X,GAAYlX,EAAW,IAAI,GAAO,GACnD,IAuuQNiJ,GAAOwnB,UAjsQP,SAAmBjxB,EAAOQ,GACxB,OAAQR,GAASA,EAAMzP,OACnB2qB,GAAUlb,EAAO0X,GAAYlX,EAAW,IACxC,IA+rQNiJ,GAAOynB,IApuPP,SAAajiC,EAAOm3B,GAElB,OADAA,EAAYn3B,GACLA,GAmuPTwa,GAAO0nB,SA9oLP,SAAkBtxB,EAAMkQ,EAAM9Z,GAC5B,IAAIwxB,GAAU,EACV1J,GAAW,EAEf,GAAmB,mBAARle,EACT,MAAM,IAAI5N,GAAU6F,GAMtB,OAJImS,GAAShU,KACXwxB,EAAU,YAAaxxB,IAAYA,EAAQwxB,QAAUA,EACrD1J,EAAW,aAAc9nB,IAAYA,EAAQ8nB,SAAWA,GAEnDmJ,GAASrnB,EAAMkQ,EAAM,CAC1B,QAAW0X,EACX,QAAW1X,EACX,SAAYgO,KAioLhBtU,GAAOmV,KAAOA,GACdnV,GAAOmgB,QAAUA,GACjBngB,GAAOyhB,QAAUA,GACjBzhB,GAAO0hB,UAAYA,GACnB1hB,GAAO2nB,OArfP,SAAgBniC,GACd,OAAI0a,GAAQ1a,GACH8R,GAAS9R,EAAO8iB,IAElBd,GAAShiB,GAAS,CAACA,GAASqd,GAAUuP,GAAa3kB,GAASjI,MAkfrEwa,GAAO2N,cAAgBA,GACvB3N,GAAOxF,UA10FP,SAAmBvU,EAAQwQ,EAAUC,GACnC,IAAIwL,EAAQhC,GAAQja,GAChB2hC,EAAY1lB,GAASjE,GAAShY,IAAWkQ,GAAalQ,GAG1D,GADAwQ,EAAWwX,GAAYxX,EAAU,GACd,MAAfC,EAAqB,CACvB,IAAI0O,EAAOnf,GAAUA,EAAO2C,YAE1B8N,EADEkxB,EACY1lB,EAAQ,IAAIkD,EAAO,GAE1B5E,GAASva,IACFiiB,GAAW9C,GAAQ9E,GAAWzD,GAAa5W,IAG3C,GAMlB,OAHC2hC,EAAYhxB,GAAYuQ,IAAYlhB,GAAQ,SAAST,EAAOmR,EAAO1Q,GAClE,OAAOwQ,EAASC,EAAalR,EAAOmR,EAAO1Q,MAEtCyQ,GAuzFTsJ,GAAO6nB,MArnLP,SAAezxB,GACb,OAAO0f,GAAI1f,EAAM,IAqnLnB4J,GAAO8b,MAAQA,GACf9b,GAAO+b,QAAUA,GACjB/b,GAAOgc,UAAYA,GACnBhc,GAAO8nB,KAzmQP,SAAcvxB,GACZ,OAAQA,GAASA,EAAMzP,OAAUsqB,GAAS7a,GAAS,IAymQrDyJ,GAAO+nB,OA/kQP,SAAgBxxB,EAAOE,GACrB,OAAQF,GAASA,EAAMzP,OAAUsqB,GAAS7a,EAAO0X,GAAYxX,EAAU,IAAM,IA+kQ/EuJ,GAAOgoB,SAxjQP,SAAkBzxB,EAAOc,GAEvB,OADAA,EAAkC,mBAAdA,EAA2BA,OA9yQ/CsB,EA+yQQpC,GAASA,EAAMzP,OAAUsqB,GAAS7a,OA/yQ1CoC,EA+yQ4DtB,GAAc,IAujQ5E2I,GAAOioB,MAhyFP,SAAehiC,EAAQmiB,GACrB,OAAiB,MAAVniB,GAAwBkpB,GAAUlpB,EAAQmiB,IAgyFnDpI,GAAOic,MAAQA,GACfjc,GAAOmc,UAAYA,GACnBnc,GAAOkoB,OApwFP,SAAgBjiC,EAAQmiB,EAAMoJ,GAC5B,OAAiB,MAAVvrB,EAAiBA,EAASsrB,GAAWtrB,EAAQmiB,EAAM+J,GAAaX,KAowFzExR,GAAOmoB,WAzuFP,SAAoBliC,EAAQmiB,EAAMoJ,EAAStN,GAEzC,OADAA,EAAkC,mBAAdA,EAA2BA,OAlob/CvL,EAmobiB,MAAV1S,EAAiBA,EAASsrB,GAAWtrB,EAAQmiB,EAAM+J,GAAaX,GAAUtN,IAwuFnFlE,GAAOxI,OAASA,GAChBwI,GAAOooB,SAhrFP,SAAkBniC,GAChB,OAAiB,MAAVA,EAAiB,GAAKmT,GAAWnT,EAAQ+e,GAAO/e,KAgrFzD+Z,GAAOoc,QAAUA,GACjBpc,GAAOyU,MAAQA,GACfzU,GAAOqoB,KA3mLP,SAAc7iC,EAAO4vB,GACnB,OAAOoK,GAAQrN,GAAaiD,GAAU5vB,IA2mLxCwa,GAAOqc,IAAMA,GACbrc,GAAOsc,MAAQA,GACftc,GAAOuc,QAAUA,GACjBvc,GAAOwc,IAAMA,GACbxc,GAAOsoB,UAj3PP,SAAmBjvB,EAAO7B,GACxB,OAAOua,GAAc1Y,GAAS,GAAI7B,GAAU,GAAI2L,KAi3PlDnD,GAAOuoB,cA/1PP,SAAuBlvB,EAAO7B,GAC5B,OAAOua,GAAc1Y,GAAS,GAAI7B,GAAU,GAAIqX,KA+1PlD7O,GAAOyc,QAAUA,GAGjBzc,GAAOsB,QAAUmgB,GACjBzhB,GAAOwoB,UAAY9G,GACnB1hB,GAAOyoB,OAASjI,GAChBxgB,GAAO0oB,WAAajI,GAGpByC,GAAMljB,GAAQA,IAKdA,GAAO6B,IAAMA,GACb7B,GAAO2iB,QAAUA,GACjB3iB,GAAO2hB,UAAYA,GACnB3hB,GAAO8hB,WAAaA,GACpB9hB,GAAOpC,KAAOA,GACdoC,GAAO2oB,MAprFP,SAAe9kB,EAAQC,EAAOC,GAa5B,YAlubApL,IAstbIoL,IACFA,EAAQD,EACRA,OAxtbFnL,YA0tbIoL,IAEFA,GADAA,EAAQyT,GAASzT,KACCA,EAAQA,EAAQ,QA5tbpCpL,IA8tbImL,IAEFA,GADAA,EAAQ0T,GAAS1T,KACCA,EAAQA,EAAQ,GAE7BhB,GAAU0U,GAAS3T,GAASC,EAAOC,IAwqF5C/D,GAAOgb,MA7jLP,SAAex1B,GACb,OAAOwe,GAAUxe,EArzVI,IAk3gBvBwa,GAAO4oB,UApgLP,SAAmBpjC,GACjB,OAAOwe,GAAUxe,EAAO67B,IAogL1BrhB,GAAO6oB,cAr+KP,SAAuBrjC,EAAO0e,GAE5B,OAAOF,GAAUxe,EAAO67B,EADxBnd,EAAkC,mBAAdA,EAA2BA,OAx6V/CvL,IA64gBFqH,GAAO8oB,UA7hLP,SAAmBtjC,EAAO0e,GAExB,OAAOF,GAAUxe,EAz1VI,EAw1VrB0e,EAAkC,mBAAdA,EAA2BA,OAj3V/CvL,IA84gBFqH,GAAO+oB,WA18KP,SAAoB9iC,EAAQuK,GAC1B,OAAiB,MAAVA,GAAkB4V,GAAengB,EAAQuK,EAAQ6L,GAAK7L,KA08K/DwP,GAAO0U,OAASA,GAChB1U,GAAOgpB,UA1xCP,SAAmBxjC,EAAOuxB,GACxB,OAAiB,MAATvxB,GAAiBA,GAAUA,EAASuxB,EAAevxB,GA0xC7Dwa,GAAO2jB,OAASA,GAChB3jB,GAAOipB,SAz9EP,SAAkBhwB,EAAQiwB,EAAQC,GAChClwB,EAASxL,GAASwL,GAClBiwB,EAAS/X,GAAa+X,GAEtB,IAAIpiC,EAASmS,EAAOnS,OAKhBoG,EAJJi8B,OA97bAxwB,IA87bWwwB,EACPriC,EACAgc,GAAUkV,GAAUmR,GAAW,EAAGriC,GAItC,OADAqiC,GAAYD,EAAOpiC,SACA,GAAKmS,EAAO5R,MAAM8hC,EAAUj8B,IAAQg8B,GA+8EzDlpB,GAAOiD,GAAKA,GACZjD,GAAOopB,OAj7EP,SAAgBnwB,GAEd,OADAA,EAASxL,GAASwL,KACAxI,EAAmB5I,KAAKoR,GACtCA,EAAOjL,QAAQqC,EAAiB2J,IAChCf,GA86EN+G,GAAOqpB,aA55EP,SAAsBpwB,GAEpB,OADAA,EAASxL,GAASwL,KACAhI,EAAgBpJ,KAAKoR,GACnCA,EAAOjL,QAAQgD,EAAc,QAC7BiI,GAy5EN+G,GAAOspB,MA57OP,SAAerxB,EAAYlB,EAAWkd,GACpC,IAAI7d,EAAO8J,GAAQjI,GAAcnB,GAAawQ,GAI9C,OAHI2M,GAASC,GAAejc,EAAYlB,EAAWkd,KACjDld,OA79RF4B,GA+9ROvC,EAAK6B,EAAYgW,GAAYlX,EAAW,KAw7OjDiJ,GAAO8c,KAAOA,GACd9c,GAAOob,UAAYA,GACnBpb,GAAOupB,QArxHP,SAAiBtjC,EAAQ8Q,GACvB,OAAOiB,GAAY/R,EAAQgoB,GAAYlX,EAAW,GAAIoQ,KAqxHxDnH,GAAO+c,SAAWA,GAClB/c,GAAOqb,cAAgBA,GACvBrb,GAAOwpB,YAjvHP,SAAqBvjC,EAAQ8Q,GAC3B,OAAOiB,GAAY/R,EAAQgoB,GAAYlX,EAAW,GAAIsQ,KAivHxDrH,GAAOjS,MAAQA,GACfiS,GAAO1F,QAAUA,GACjB0F,GAAOgd,aAAeA,GACtBhd,GAAOypB,MArtHP,SAAexjC,EAAQwQ,GACrB,OAAiB,MAAVxQ,EACHA,EACA6hB,GAAQ7hB,EAAQgoB,GAAYxX,EAAU,GAAIuO,KAmtHhDhF,GAAO0pB,WAtrHP,SAAoBzjC,EAAQwQ,GAC1B,OAAiB,MAAVxQ,EACHA,EACA+hB,GAAa/hB,EAAQgoB,GAAYxX,EAAU,GAAIuO,KAorHrDhF,GAAO2pB,OArpHP,SAAgB1jC,EAAQwQ,GACtB,OAAOxQ,GAAUkhB,GAAWlhB,EAAQgoB,GAAYxX,EAAU,KAqpH5DuJ,GAAO4pB,YAxnHP,SAAqB3jC,EAAQwQ,GAC3B,OAAOxQ,GAAUohB,GAAgBphB,EAAQgoB,GAAYxX,EAAU,KAwnHjEuJ,GAAO5a,IAAMA,GACb4a,GAAO2f,GAAKA,GACZ3f,GAAO4f,IAAMA,GACb5f,GAAOxG,IAzgHP,SAAavT,EAAQmiB,GACnB,OAAiB,MAAVniB,GAAkBszB,GAAQtzB,EAAQmiB,EAAMa,KAygHjDjJ,GAAOkN,MAAQA,GACflN,GAAOsb,KAAOA,GACdtb,GAAOmM,SAAWA,GAClBnM,GAAOwG,SA5pOP,SAAkBvO,EAAYzS,EAAO4S,EAAW6b,GAC9Chc,EAAa4U,GAAY5U,GAAcA,EAAaT,GAAOS,GAC3DG,EAAaA,IAAc6b,EAAS+D,GAAU5f,GAAa,EAE3D,IAAItR,EAASmR,EAAWnR,OAIxB,OAHIsR,EAAY,IACdA,EAAYkG,GAAUxX,EAASsR,EAAW,IAErC4nB,GAAS/nB,GACXG,GAAatR,GAAUmR,EAAW8W,QAAQvpB,EAAO4S,IAAc,IAC7DtR,GAAUqQ,GAAYc,EAAYzS,EAAO4S,IAAc,GAmpOhE4H,GAAO+O,QA9lSP,SAAiBxY,EAAO/Q,EAAO4S,GAC7B,IAAItR,EAAkB,MAATyP,EAAgB,EAAIA,EAAMzP,OACvC,IAAKA,EACH,OAAQ,EAEV,IAAI6P,EAAqB,MAAbyB,EAAoB,EAAI4f,GAAU5f,GAI9C,OAHIzB,EAAQ,IACVA,EAAQ2H,GAAUxX,EAAS6P,EAAO,IAE7BQ,GAAYZ,EAAO/Q,EAAOmR,IAslSnCqJ,GAAO6pB,QAlqFP,SAAiBhmB,EAAQ5W,EAAOC,GAS9B,OARAD,EAAQoqB,GAASpqB,QA5wbjB0L,IA6wbIzL,GACFA,EAAMD,EACNA,EAAQ,GAERC,EAAMmqB,GAASnqB,GArsVnB,SAAqB2W,EAAQ5W,EAAOC,GAClC,OAAO2W,GAAUrF,GAAUvR,EAAOC,IAAQ2W,EAASvF,GAAUrR,EAAOC,GAusV7D48B,CADPjmB,EAAS2T,GAAS3T,GACS5W,EAAOC,IA0pFpC8S,GAAOkhB,OAASA,GAChBlhB,GAAOoC,YAAcA,GACrBpC,GAAOE,QAAUA,GACjBF,GAAOvK,cAAgBA,GACvBuK,GAAO6M,YAAcA,GACrB7M,GAAOyN,kBAAoBA,GAC3BzN,GAAO+pB,UAtwKP,SAAmBvkC,GACjB,OAAiB,IAAVA,IAA4B,IAAVA,GACtBya,GAAaza,IAAUkjB,GAAWljB,IAAUkJ,GAqwKjDsR,GAAO/B,SAAWA,GAClB+B,GAAOrK,OAASA,GAChBqK,GAAOgqB,UA7sKP,SAAmBxkC,GACjB,OAAOya,GAAaza,IAA6B,IAAnBA,EAAMwP,WAAmB0Y,GAAcloB,IA6sKvEwa,GAAOiqB,QAzqKP,SAAiBzkC,GACf,GAAa,MAATA,EACF,OAAO,EAET,GAAIqnB,GAAYrnB,KACX0a,GAAQ1a,IAA0B,iBAATA,GAA4C,mBAAhBA,EAAMyC,QAC1DgW,GAASzY,IAAU2Q,GAAa3Q,IAAU4c,GAAY5c,IAC1D,OAAQA,EAAMsB,OAEhB,IAAI2d,EAAMC,GAAOlf,GACjB,GAAIif,GAAO1V,GAAU0V,GAAOtV,EAC1B,OAAQ3J,EAAMoH,KAEhB,GAAI2f,GAAY/mB,GACd,OAAQ8mB,GAAS9mB,GAAOsB,OAE1B,IAAK,IAAIhB,KAAON,EACd,GAAIY,GAAe1B,KAAKc,EAAOM,GAC7B,OAAO,EAGX,OAAO,GAqpKTka,GAAOkqB,QAtnKP,SAAiB1kC,EAAOwjB,GACtB,OAAOe,GAAYvkB,EAAOwjB,IAsnK5BhJ,GAAOmqB,YAnlKP,SAAqB3kC,EAAOwjB,EAAO9E,GAEjC,IAAIpa,GADJoa,EAAkC,mBAAdA,EAA2BA,OAx2W/CvL,GAy2W0BuL,EAAW1e,EAAOwjB,QAz2W5CrQ,EA02WA,YA12WAA,IA02WO7O,EAAuBigB,GAAYvkB,EAAOwjB,OA12WjDrQ,EA02WmEuL,KAAgBpa,GAilKrFkW,GAAO6f,QAAUA,GACjB7f,GAAO7B,SA1hKP,SAAkB3Y,GAChB,MAAuB,iBAATA,GAAqB0Y,GAAe1Y,IA0hKpDwa,GAAOkI,WAAaA,GACpBlI,GAAO8f,UAAYA,GACnB9f,GAAOyZ,SAAWA,GAClBzZ,GAAOnK,MAAQA,GACfmK,GAAOoqB,QA11JP,SAAiBnkC,EAAQuK,GACvB,OAAOvK,IAAWuK,GAAUob,GAAY3lB,EAAQuK,EAAQsc,GAAatc,KA01JvEwP,GAAOqqB,YAvzJP,SAAqBpkC,EAAQuK,EAAQ0T,GAEnC,OADAA,EAAkC,mBAAdA,EAA2BA,OA5oX/CvL,EA6oXOiT,GAAY3lB,EAAQuK,EAAQsc,GAAatc,GAAS0T,IAszJ3DlE,GAAOsqB,MAvxJP,SAAe9kC,GAIb,OAAOu6B,GAASv6B,IAAUA,IAAUA,GAoxJtCwa,GAAOuqB,SAvvJP,SAAkB/kC,GAChB,GAAIo0B,GAAWp0B,GACb,MAAM,IAAIoW,EAtsXM,mEAwsXlB,OAAOqQ,GAAazmB,IAovJtBwa,GAAOwqB,MAxsJP,SAAehlC,GACb,OAAgB,MAATA,GAwsJTwa,GAAOyqB,OAjuJP,SAAgBjlC,GACd,OAAiB,OAAVA,GAiuJTwa,GAAO+f,SAAWA,GAClB/f,GAAOQ,SAAWA,GAClBR,GAAOC,aAAeA,GACtBD,GAAO0N,cAAgBA,GACvB1N,GAAOjK,SAAWA,GAClBiK,GAAO0qB,cArlJP,SAAuBllC,GACrB,OAAOs6B,GAAUt6B,IAAUA,IA9zXR,kBA8zXsCA,GA9zXtC,kBAm5gBrBwa,GAAO/J,MAAQA,GACf+J,GAAOggB,SAAWA,GAClBhgB,GAAOwH,SAAWA,GAClBxH,GAAO7J,aAAeA,GACtB6J,GAAO2qB,YAn/IP,SAAqBnlC,GACnB,YA/9XAmT,IA+9XOnT,GAm/ITwa,GAAO4qB,UA/9IP,SAAmBplC,GACjB,OAAOya,GAAaza,IAAUkf,GAAOlf,IAAU8J,GA+9IjD0Q,GAAO6qB,UA38IP,SAAmBrlC,GACjB,OAAOya,GAAaza,IAn6XP,oBAm6XiBkjB,GAAWljB,IA28I3Cwa,GAAOxY,KAz/RP,SAAc+O,EAAO0wB,GACnB,OAAgB,MAAT1wB,EAAgB,GAAK6H,GAAW1Z,KAAK6R,EAAO0wB,IAy/RrDjnB,GAAOgiB,UAAYA,GACnBhiB,GAAO6J,KAAOA,GACd7J,GAAO8qB,YAh9RP,SAAqBv0B,EAAO/Q,EAAO4S,GACjC,IAAItR,EAAkB,MAATyP,EAAgB,EAAIA,EAAMzP,OACvC,IAAKA,EACH,OAAQ,EAEV,IAAI6P,EAAQ7P,EAKZ,YAjhPA6R,IA6gPIP,IAEFzB,GADAA,EAAQqhB,GAAU5f,IACF,EAAIkG,GAAUxX,EAAS6P,EAAO,GAAK6H,GAAU7H,EAAO7P,EAAS,IAExEtB,GAAUA,EArvMrB,SAA2B+Q,EAAO/Q,EAAO4S,GAEvC,IADA,IAAIzB,EAAQyB,EAAY,EACjBzB,KACL,GAAIJ,EAAMI,KAAWnR,EACnB,OAAOmR,EAGX,OAAOA,EA+uMDo0B,CAAkBx0B,EAAO/Q,EAAOmR,GAChCwB,GAAc5B,EAAOgC,GAAW5B,GAAO,IAq8R7CqJ,GAAOiiB,UAAYA,GACnBjiB,GAAOkiB,WAAaA,GACpBliB,GAAOigB,GAAKA,GACZjgB,GAAOkgB,IAAMA,GACblgB,GAAOzB,IAhfP,SAAahI,GACX,OAAQA,GAASA,EAAMzP,OACnBygB,GAAahR,EAAO4V,GAAUpD,SA9+flCpQ,GA69gBFqH,GAAOgrB,MApdP,SAAez0B,EAAOE,GACpB,OAAQF,GAASA,EAAMzP,OACnBygB,GAAahR,EAAO0X,GAAYxX,EAAU,GAAIsS,SA3ggBlDpQ,GA89gBFqH,GAAOirB,KAjcP,SAAc10B,GACZ,OAAOkC,GAASlC,EAAO4V,KAiczBnM,GAAOkrB,OAvaP,SAAgB30B,EAAOE,GACrB,OAAOgC,GAASlC,EAAO0X,GAAYxX,EAAU,KAua/CuJ,GAAOvB,IAlZP,SAAalI,GACX,OAAQA,GAASA,EAAMzP,OACnBygB,GAAahR,EAAO4V,GAAUQ,SAhlgBlChU,GAi+gBFqH,GAAOmrB,MAtXP,SAAe50B,EAAOE,GACpB,OAAQF,GAASA,EAAMzP,OACnBygB,GAAahR,EAAO0X,GAAYxX,EAAU,GAAIkW,SA7mgBlDhU,GAk+gBFqH,GAAOsZ,UAAYA,GACnBtZ,GAAO6Z,UAAYA,GACnB7Z,GAAOorB,WAztBP,WACE,MAAO,IAytBTprB,GAAOqrB,WAzsBP,WACE,MAAO,IAysBTrrB,GAAOsrB,SAzrBP,WACE,OAAO,GAyrBTtrB,GAAO8jB,SAAWA,GAClB9jB,GAAOurB,IA77RP,SAAah1B,EAAOvQ,GAClB,OAAQuQ,GAASA,EAAMzP,OAAU+mB,GAAQtX,EAAOyhB,GAAUhyB,SA5iP1D2S,GAy+gBFqH,GAAOwrB,WAliCP,WAIE,OAHI32B,GAAKvK,IAAM3B,OACbkM,GAAKvK,EAAImS,IAEJ9T,MA+hCTqX,GAAOkY,KAAOA,GACdlY,GAAOzU,IAAMA,GACbyU,GAAOyrB,IAj5EP,SAAaxyB,EAAQnS,EAAQ4G,GAC3BuL,EAASxL,GAASwL,GAGlB,IAAIyyB,GAFJ5kC,EAASkxB,GAAUlxB,IAEMgU,GAAW7B,GAAU,EAC9C,IAAKnS,GAAU4kC,GAAa5kC,EAC1B,OAAOmS,EAET,IAAIqX,GAAOxpB,EAAS4kC,GAAa,EACjC,OACExU,GAAcrZ,GAAYyS,GAAM5iB,GAChCuL,EACAie,GAAcvZ,GAAW2S,GAAM5iB,IAs4EnCsS,GAAO2rB,OA32EP,SAAgB1yB,EAAQnS,EAAQ4G,GAC9BuL,EAASxL,GAASwL,GAGlB,IAAIyyB,GAFJ5kC,EAASkxB,GAAUlxB,IAEMgU,GAAW7B,GAAU,EAC9C,OAAQnS,GAAU4kC,EAAY5kC,EACzBmS,EAASie,GAAcpwB,EAAS4kC,EAAWh+B,GAC5CuL,GAq2EN+G,GAAO4rB,SA30EP,SAAkB3yB,EAAQnS,EAAQ4G,GAChCuL,EAASxL,GAASwL,GAGlB,IAAIyyB,GAFJ5kC,EAASkxB,GAAUlxB,IAEMgU,GAAW7B,GAAU,EAC9C,OAAQnS,GAAU4kC,EAAY5kC,EACzBowB,GAAcpwB,EAAS4kC,EAAWh+B,GAASuL,EAC5CA,GAq0EN+G,GAAOxL,SA1yEP,SAAkByE,EAAQ4yB,EAAO5X,GAM/B,OALIA,GAAkB,MAAT4X,EACXA,EAAQ,EACCA,IACTA,GAASA,GAEJltB,GAAelR,GAASwL,GAAQjL,QAAQkD,EAAa,IAAK26B,GAAS,IAqyE5E7rB,GAAOlS,OA1rFP,SAAgBgW,EAAOC,EAAO+nB,GA2B5B,GA1BIA,GAA+B,kBAAZA,GAAyB5X,GAAepQ,EAAOC,EAAO+nB,KAC3E/nB,EAAQ+nB,OAxzbVnzB,YA0zbImzB,IACkB,kBAAT/nB,GACT+nB,EAAW/nB,EACXA,OA7zbJpL,GA+zb2B,kBAATmL,IACdgoB,EAAWhoB,EACXA,OAj0bJnL,aAo0bImL,QAp0bJnL,IAo0b2BoL,GACzBD,EAAQ,EACRC,EAAQ,IAGRD,EAAQuT,GAASvT,QAz0bnBnL,IA00bMoL,GACFA,EAAQD,EACRA,EAAQ,GAERC,EAAQsT,GAAStT,IAGjBD,EAAQC,EAAO,CACjB,IAAIgoB,EAAOjoB,EACXA,EAAQC,EACRA,EAAQgoB,EAEV,GAAID,GAAYhoB,EAAQ,GAAKC,EAAQ,EAAG,CACtC,IAAI2W,EAAO9b,KACX,OAAOJ,GAAUsF,EAAS4W,GAAQ3W,EAAQD,EAAQzP,GAAe,QAAUqmB,EAAO,IAAI5zB,OAAS,KAAOid,GAExG,OAAOrB,GAAWoB,EAAOC,IAupF3B/D,GAAOgsB,OA5+NP,SAAgB/zB,EAAYxB,EAAUC,GACpC,IAAIN,EAAO8J,GAAQjI,GAAcP,GAAcmB,GAC3ClB,EAAY5O,UAAUjC,OAAS,EAEnC,OAAOsP,EAAK6B,EAAYgW,GAAYxX,EAAU,GAAIC,EAAaiB,EAAW4L,KAy+N5EvD,GAAOisB,YAh9NP,SAAqBh0B,EAAYxB,EAAUC,GACzC,IAAIN,EAAO8J,GAAQjI,GAAcL,GAAmBiB,GAChDlB,EAAY5O,UAAUjC,OAAS,EAEnC,OAAOsP,EAAK6B,EAAYgW,GAAYxX,EAAU,GAAIC,EAAaiB,EAAWyP,KA68N5EpH,GAAOksB,OA/wEP,SAAgBjzB,EAAQjT,EAAGiuB,GAMzB,OAJEjuB,GADGiuB,EAAQC,GAAejb,EAAQjT,EAAGiuB,QArucvCtb,IAqucgD3S,GAC1C,EAEAgyB,GAAUhyB,GAETopB,GAAW3hB,GAASwL,GAASjT,IA0wEtCga,GAAOhS,QApvEP,WACE,IAAIqI,EAAOtN,UACPkQ,EAASxL,GAAS4I,EAAK,IAE3B,OAAOA,EAAKvP,OAAS,EAAImS,EAASA,EAAOjL,QAAQqI,EAAK,GAAIA,EAAK,KAivEjE2J,GAAOlW,OAtoGP,SAAgB7D,EAAQmiB,EAAM2O,GAG5B,IAAIpgB,GAAS,EACT7P,GAHJshB,EAAOC,GAASD,EAAMniB,IAGJa,OAOlB,IAJKA,IACHA,EAAS,EACTb,OAx3aF0S,KA03aShC,EAAQ7P,GAAQ,CACvB,IAAItB,EAAkB,MAAVS,OA33ad0S,EA23a2C1S,EAAOqiB,GAAMF,EAAKzR,UA33a7DgC,IA43aMnT,IACFmR,EAAQ7P,EACRtB,EAAQuxB,GAEV9wB,EAASiiB,GAAW1iB,GAASA,EAAMd,KAAKuB,GAAUT,EAEpD,OAAOS,GAonGT+Z,GAAOikB,MAAQA,GACfjkB,GAAOzE,aAAeA,EACtByE,GAAOmsB,OA15NP,SAAgBl0B,GAEd,OADWiI,GAAQjI,GAAcwK,GAAc+M,IACnCvX,IAy5Nd+H,GAAOpT,KA/0NP,SAAcqL,GACZ,GAAkB,MAAdA,EACF,OAAO,EAET,GAAI4U,GAAY5U,GACd,OAAO+nB,GAAS/nB,GAAc6C,GAAW7C,GAAcA,EAAWnR,OAEpE,IAAI2d,EAAMC,GAAOzM,GACjB,OAAIwM,GAAO1V,GAAU0V,GAAOtV,EACnB8I,EAAWrL,KAEb0f,GAASrU,GAAYnR,QAq0N9BkZ,GAAOmiB,UAAYA,GACnBniB,GAAOosB,KA/xNP,SAAcn0B,EAAYlB,EAAWkd,GACnC,IAAI7d,EAAO8J,GAAQjI,GAAcJ,GAAYmY,GAI7C,OAHIiE,GAASC,GAAejc,EAAYlB,EAAWkd,KACjDld,OA/tTF4B,GAiuTOvC,EAAK6B,EAAYgW,GAAYlX,EAAW,KA2xNjDiJ,GAAOqsB,YAhsRP,SAAqB91B,EAAO/Q,GAC1B,OAAOyqB,GAAgB1Z,EAAO/Q,IAgsRhCwa,GAAOssB,cApqRP,SAAuB/1B,EAAO/Q,EAAOiR,GACnC,OAAO8Z,GAAkBha,EAAO/Q,EAAOyoB,GAAYxX,EAAU,KAoqR/DuJ,GAAOusB,cAjpRP,SAAuBh2B,EAAO/Q,GAC5B,IAAIsB,EAAkB,MAATyP,EAAgB,EAAIA,EAAMzP,OACvC,GAAIA,EAAQ,CACV,IAAI6P,EAAQsZ,GAAgB1Z,EAAO/Q,GACnC,GAAImR,EAAQ7P,GAAUmc,GAAG1M,EAAMI,GAAQnR,GACrC,OAAOmR,EAGX,OAAQ,GA0oRVqJ,GAAOwsB,gBArnRP,SAAyBj2B,EAAO/Q,GAC9B,OAAOyqB,GAAgB1Z,EAAO/Q,GAAO,IAqnRvCwa,GAAOysB,kBAzlRP,SAA2Bl2B,EAAO/Q,EAAOiR,GACvC,OAAO8Z,GAAkBha,EAAO/Q,EAAOyoB,GAAYxX,EAAU,IAAI,IAylRnEuJ,GAAO0sB,kBAtkRP,SAA2Bn2B,EAAO/Q,GAEhC,GADsB,MAAT+Q,EAAgB,EAAIA,EAAMzP,OAC3B,CACV,IAAI6P,EAAQsZ,GAAgB1Z,EAAO/Q,GAAO,GAAQ,EAClD,GAAIyd,GAAG1M,EAAMI,GAAQnR,GACnB,OAAOmR,EAGX,OAAQ,GA+jRVqJ,GAAOoiB,UAAYA,GACnBpiB,GAAO2sB,WA3oEP,SAAoB1zB,EAAQiwB,EAAQC,GAOlC,OANAlwB,EAASxL,GAASwL,GAClBkwB,EAAuB,MAAZA,EACP,EACArmB,GAAUkV,GAAUmR,GAAW,EAAGlwB,EAAOnS,QAE7CoiC,EAAS/X,GAAa+X,GACfjwB,EAAO5R,MAAM8hC,EAAUA,EAAWD,EAAOpiC,SAAWoiC,GAqoE7DlpB,GAAOkkB,SAAWA,GAClBlkB,GAAO4sB,IAzUP,SAAar2B,GACX,OAAQA,GAASA,EAAMzP,OACnB4R,GAAQnC,EAAO4V,IACf,GAuUNnM,GAAO6sB,MA7SP,SAAet2B,EAAOE,GACpB,OAAQF,GAASA,EAAMzP,OACnB4R,GAAQnC,EAAO0X,GAAYxX,EAAU,IACrC,GA2SNuJ,GAAO8sB,SA7hEP,SAAkB7zB,EAAQzM,EAASynB,GAIjC,IAAI8Y,EAAW/sB,GAAO8G,iBAElBmN,GAASC,GAAejb,EAAQzM,EAASynB,KAC3CznB,OAj/cFmM,GAm/cAM,EAASxL,GAASwL,GAClBzM,EAAUi0B,GAAa,GAAIj0B,EAASugC,EAAUlU,IAE9C,IAIImU,EACAC,EALAC,EAAUzM,GAAa,GAAIj0B,EAAQ0gC,QAASH,EAASG,QAASrU,IAC9DsU,EAAc9wB,GAAK6wB,GACnBE,EAAgBh0B,GAAW8zB,EAASC,GAIpCx2B,EAAQ,EACR02B,EAAc7gC,EAAQ6gC,aAAen7B,GACrC1B,EAAS,WAGT88B,EAAe/8B,IAChB/D,EAAQ48B,QAAUl3B,IAAW1B,OAAS,IACvC68B,EAAY78B,OAAS,KACpB68B,IAAgBz8B,EAAgBc,GAAeQ,IAAW1B,OAAS,KACnEhE,EAAQ+gC,UAAYr7B,IAAW1B,OAAS,KACzC,KAMEg9B,EAAY,kBACbpnC,GAAe1B,KAAK8H,EAAS,cACzBA,EAAQghC,UAAY,IAAIx/B,QAAQ,MAAO,KACvC,6BAA+BiG,GAAmB,KACnD,KAENgF,EAAOjL,QAAQs/B,GAAc,SAASpyB,EAAOuyB,EAAaC,EAAkBC,EAAiBC,EAAen2B,GAsB1G,OArBAi2B,IAAqBA,EAAmBC,GAGxCn9B,GAAUyI,EAAO5R,MAAMsP,EAAOc,GAAQzJ,QAAQmE,GAAmB8H,IAG7DwzB,IACFT,GAAa,EACbx8B,GAAU,YAAci9B,EAAc,UAEpCG,IACFX,GAAe,EACfz8B,GAAU,OAASo9B,EAAgB,eAEjCF,IACFl9B,GAAU,iBAAmBk9B,EAAmB,+BAElD/2B,EAAQc,EAASyD,EAAMpU,OAIhBoU,KAGT1K,GAAU,OAIV,IAAIq9B,EAAWznC,GAAe1B,KAAK8H,EAAS,aAAeA,EAAQqhC,SACnE,GAAKA,GAKA,GAAIr8B,GAA2B3J,KAAKgmC,GACvC,MAAM,IAAIjyB,EA3idmB,2DAsid7BpL,EAAS,iBAAmBA,EAAS,QASvCA,GAAUy8B,EAAez8B,EAAOxC,QAAQiC,EAAsB,IAAMO,GACjExC,QAAQkC,EAAqB,MAC7BlC,QAAQmC,EAAuB,OAGlCK,EAAS,aAAeq9B,GAAY,OAAS,SAC1CA,EACG,GACA,wBAEJ,qBACCb,EACI,mBACA,KAEJC,EACG,uFAEA,OAEJz8B,EACA,gBAEF,IAAI1G,EAAS64B,IAAQ,WACnB,OAAO7tB,GAASq4B,EAAaK,EAAY,UAAYh9B,GAClDxH,WAnldL2P,EAmldsBy0B,MAMtB,GADAtjC,EAAO0G,OAASA,EACZqvB,GAAQ/1B,GACV,MAAMA,EAER,OAAOA,GA46DTkW,GAAO8tB,MApsBP,SAAe9nC,EAAGyQ,GAEhB,IADAzQ,EAAIgyB,GAAUhyB,IACN,GAAKA,EA5wfM,iBA6wfjB,MAAO,GAET,IAAI2Q,EA1wfe,WA2wff7P,EAAS0X,GAAUxY,EA3wfJ,YA8wfnBA,GA9wfmB,WAixfnB,IADA,IAAI8D,EAASiP,GAAUjS,EAHvB2P,EAAWwX,GAAYxX,MAIdE,EAAQ3Q,GACfyQ,EAASE,GAEX,OAAO7M,GAsrBTkW,GAAOqX,SAAWA,GAClBrX,GAAOgY,UAAYA,GACnBhY,GAAOsgB,SAAWA,GAClBtgB,GAAO+tB,QAx5DP,SAAiBvoC,GACf,OAAOiI,GAASjI,GAAOq8B,eAw5DzB7hB,GAAOwX,SAAWA,GAClBxX,GAAOguB,cApuIP,SAAuBxoC,GACrB,OAAOA,EACHsd,GAAUkV,GAAUxyB,IAlvYL,mCAmvYJ,IAAVA,EAAcA,EAAQ,GAkuI7Bwa,GAAOvS,SAAWA,GAClBuS,GAAOiuB,QAn4DP,SAAiBzoC,GACf,OAAOiI,GAASjI,GAAO88B,eAm4DzBtiB,GAAOkuB,KA12DP,SAAcj1B,EAAQvL,EAAOumB,GAE3B,IADAhb,EAASxL,GAASwL,MACHgb,QAzqdftb,IAyqdwBjL,GACtB,OAAOsL,GAASC,GAElB,IAAKA,KAAYvL,EAAQyjB,GAAazjB,IACpC,OAAOuL,EAET,IAAIS,EAAauB,GAAchC,GAC3BU,EAAasB,GAAcvN,GAI/B,OAAO4kB,GAAU5Y,EAHLD,GAAgBC,EAAYC,GAC9BC,GAAcF,EAAYC,GAAc,GAETnS,KAAK,KA81DhDwY,GAAOmuB,QAx0DP,SAAiBl1B,EAAQvL,EAAOumB,GAE9B,IADAhb,EAASxL,GAASwL,MACHgb,QA5sdftb,IA4sdwBjL,GACtB,OAAOuL,EAAO5R,MAAM,EAAG6R,GAAgBD,GAAU,GAEnD,IAAKA,KAAYvL,EAAQyjB,GAAazjB,IACpC,OAAOuL,EAET,IAAIS,EAAauB,GAAchC,GAG/B,OAAOqZ,GAAU5Y,EAAY,EAFnBE,GAAcF,EAAYuB,GAAcvN,IAAU,GAEvBlG,KAAK,KA8zD5CwY,GAAOouB,UAxyDP,SAAmBn1B,EAAQvL,EAAOumB,GAEhC,IADAhb,EAASxL,GAASwL,MACHgb,QA7udftb,IA6udwBjL,GACtB,OAAOuL,EAAOjL,QAAQkD,EAAa,IAErC,IAAK+H,KAAYvL,EAAQyjB,GAAazjB,IACpC,OAAOuL,EAET,IAAIS,EAAauB,GAAchC,GAG/B,OAAOqZ,GAAU5Y,EAFLD,GAAgBC,EAAYuB,GAAcvN,KAElBlG,KAAK,KA8xD3CwY,GAAOquB,SAtvDP,SAAkBp1B,EAAQzM,GACxB,IAAI1F,EAnvdmB,GAovdnBwnC,EAnvdqB,MAqvdzB,GAAI9tB,GAAShU,GAAU,CACrB,IAAIy6B,EAAY,cAAez6B,EAAUA,EAAQy6B,UAAYA,EAC7DngC,EAAS,WAAY0F,EAAUwrB,GAAUxrB,EAAQ1F,QAAUA,EAC3DwnC,EAAW,aAAc9hC,EAAU2kB,GAAa3kB,EAAQ8hC,UAAYA,EAItE,IAAI5C,GAFJzyB,EAASxL,GAASwL,IAEKnS,OACvB,GAAIqT,GAAWlB,GAAS,CACtB,IAAIS,EAAauB,GAAchC,GAC/ByyB,EAAYhyB,EAAW5S,OAEzB,GAAIA,GAAU4kC,EACZ,OAAOzyB,EAET,IAAI/L,EAAMpG,EAASgU,GAAWwzB,GAC9B,GAAIphC,EAAM,EACR,OAAOohC,EAET,IAAIxkC,EAAS4P,EACT4Y,GAAU5Y,EAAY,EAAGxM,GAAK1F,KAAK,IACnCyR,EAAO5R,MAAM,EAAG6F,GAEpB,QAzzdAyL,IAyzdIsuB,EACF,OAAOn9B,EAASwkC,EAKlB,GAHI50B,IACFxM,GAAQpD,EAAOhD,OAASoG,GAEtB6I,GAASkxB,IACX,GAAIhuB,EAAO5R,MAAM6F,GAAKqhC,OAAOtH,GAAY,CACvC,IAAI/rB,EACAszB,EAAY1kC,EAMhB,IAJKm9B,EAAUvyB,SACbuyB,EAAY12B,GAAO02B,EAAUz2B,OAAQ/C,GAASkE,GAAQyK,KAAK6qB,IAAc,MAE3EA,EAAUlsB,UAAY,EACdG,EAAQ+rB,EAAU7qB,KAAKoyB,IAC7B,IAAIC,EAASvzB,EAAMvE,MAErB7M,EAASA,EAAOzC,MAAM,OA30d1BsR,IA20d6B81B,EAAuBvhC,EAAMuhC,SAEnD,GAAIx1B,EAAO8V,QAAQoC,GAAa8V,GAAY/5B,IAAQA,EAAK,CAC9D,IAAIyJ,EAAQ7M,EAAOghC,YAAY7D,GAC3BtwB,GAAS,IACX7M,EAASA,EAAOzC,MAAM,EAAGsP,IAG7B,OAAO7M,EAASwkC,GAksDlBtuB,GAAO0uB,SA5qDP,SAAkBz1B,GAEhB,OADAA,EAASxL,GAASwL,KACA3I,EAAiBzI,KAAKoR,GACpCA,EAAOjL,QAAQoC,EAAekL,IAC9BrC,GAyqDN+G,GAAO2uB,SAvpBP,SAAkBC,GAChB,IAAIrc,IAAOrW,GACX,OAAOzO,GAASmhC,GAAUrc,GAspB5BvS,GAAOqiB,UAAYA,GACnBriB,GAAO+hB,WAAaA,GAGpB/hB,GAAO6uB,KAAOv0B,GACd0F,GAAO8uB,UAAY9R,GACnBhd,GAAO+uB,MAAQzT,GAEf4H,GAAMljB,IACAxP,GAAS,GACb2W,GAAWnH,IAAQ,SAAS5J,EAAMie,GAC3BjuB,GAAe1B,KAAKsb,GAAO7Z,UAAWkuB,KACzC7jB,GAAO6jB,GAAcje,MAGlB5F,IACH,CAAE,OAAS,IAWjBwP,GAAOgvB,QA/ihBK,UAkjhBZp4B,GAAU,CAAC,OAAQ,UAAW,QAAS,aAAc,UAAW,iBAAiB,SAASyd,GACxFrU,GAAOqU,GAAYva,YAAckG,MAInCpJ,GAAU,CAAC,OAAQ,SAAS,SAASyd,EAAY1d,GAC/CwJ,GAAYha,UAAUkuB,GAAc,SAASruB,GAC3CA,OA5jhBF2S,IA4jhBM3S,EAAkB,EAAIsY,GAAU0Z,GAAUhyB,GAAI,GAElD,IAAI8D,EAAUnB,KAAKsY,eAAiBtK,EAChC,IAAIwJ,GAAYxX,MAChBA,KAAKqyB,QAUT,OARIlxB,EAAOmX,aACTnX,EAAOqX,cAAgB3C,GAAUxY,EAAG8D,EAAOqX,eAE3CrX,EAAOsX,UAAUra,KAAK,CACpB,KAAQyX,GAAUxY,EAvghBL,YAwghBb,KAAQquB,GAAcvqB,EAAOkX,QAAU,EAAI,QAAU,MAGlDlX,GAGTqW,GAAYha,UAAUkuB,EAAa,SAAW,SAASruB,GACrD,OAAO2C,KAAKmW,UAAUuV,GAAYruB,GAAG8Y,cAKzClI,GAAU,CAAC,SAAU,MAAO,cAAc,SAASyd,EAAY1d,GAC7D,IAAI9J,EAAO8J,EAAQ,EACfs4B,EAjihBe,GAiihBJpiC,GA/hhBG,GA+hhByBA,EAE3CsT,GAAYha,UAAUkuB,GAAc,SAAS5d,GAC3C,IAAI3M,EAASnB,KAAKqyB,QAMlB,OALAlxB,EAAOoX,cAAcna,KAAK,CACxB,SAAYknB,GAAYxX,EAAU,GAClC,KAAQ5J,IAEV/C,EAAOmX,aAAenX,EAAOmX,cAAgBguB,EACtCnlC,MAKX8M,GAAU,CAAC,OAAQ,SAAS,SAASyd,EAAY1d,GAC/C,IAAIu4B,EAAW,QAAUv4B,EAAQ,QAAU,IAE3CwJ,GAAYha,UAAUkuB,GAAc,WAClC,OAAO1rB,KAAKumC,GAAU,GAAG1pC,QAAQ,OAKrCoR,GAAU,CAAC,UAAW,SAAS,SAASyd,EAAY1d,GAClD,IAAIw4B,EAAW,QAAUx4B,EAAQ,GAAK,SAEtCwJ,GAAYha,UAAUkuB,GAAc,WAClC,OAAO1rB,KAAKsY,aAAe,IAAId,GAAYxX,MAAQA,KAAKwmC,GAAU,OAItEhvB,GAAYha,UAAUq+B,QAAU,WAC9B,OAAO77B,KAAK3B,OAAOmlB,KAGrBhM,GAAYha,UAAU22B,KAAO,SAAS/lB,GACpC,OAAOpO,KAAK3B,OAAO+P,GAAWukB,QAGhCnb,GAAYha,UAAU42B,SAAW,SAAShmB,GACxC,OAAOpO,KAAKmW,UAAUge,KAAK/lB,IAG7BoJ,GAAYha,UAAU+2B,UAAY7N,IAAS,SAASjH,EAAM/R,GACxD,MAAmB,mBAAR+R,EACF,IAAIjI,GAAYxX,MAElBA,KAAK0R,KAAI,SAAS7U,GACvB,OAAOmkB,GAAWnkB,EAAO4iB,EAAM/R,SAInC8J,GAAYha,UAAUqD,OAAS,SAASuN,GACtC,OAAOpO,KAAK3B,OAAOo4B,GAAOnR,GAAYlX,MAGxCoJ,GAAYha,UAAUkB,MAAQ,SAAS4F,EAAOC,GAC5CD,EAAQ+qB,GAAU/qB,GAElB,IAAInD,EAASnB,KACb,OAAImB,EAAOmX,eAAiBhU,EAAQ,GAAKC,EAAM,GACtC,IAAIiT,GAAYrW,IAErBmD,EAAQ,EACVnD,EAASA,EAAOw9B,WAAWr6B,GAClBA,IACTnD,EAASA,EAAOi7B,KAAK93B,SAvphBvB0L,IAyphBIzL,IAEFpD,GADAoD,EAAM8qB,GAAU9qB,IACD,EAAIpD,EAAOk7B,WAAW93B,GAAOpD,EAAOu9B,KAAKn6B,EAAMD,IAEzDnD,IAGTqW,GAAYha,UAAUohC,eAAiB,SAASxwB,GAC9C,OAAOpO,KAAKmW,UAAU0oB,UAAUzwB,GAAW+H,WAG7CqB,GAAYha,UAAUg6B,QAAU,WAC9B,OAAOx3B,KAAK0+B,KAtmhBO,aA0mhBrBlgB,GAAWhH,GAAYha,WAAW,SAASiQ,EAAMie,GAC/C,IAAI+a,EAAgB,qCAAqCvnC,KAAKwsB,GAC1Dgb,EAAU,kBAAkBxnC,KAAKwsB,GACjCib,EAAatvB,GAAOqvB,EAAW,QAAwB,QAAdhb,EAAuB,QAAU,IAAOA,GACjFkb,EAAeF,GAAW,QAAQxnC,KAAKwsB,GAEtCib,IAGLtvB,GAAO7Z,UAAUkuB,GAAc,WAC7B,IAAI7uB,EAAQmD,KAAKgY,YACbtK,EAAOg5B,EAAU,CAAC,GAAKtmC,UACvBymC,EAAShqC,aAAiB2a,GAC1B1J,EAAWJ,EAAK,GAChBo5B,EAAUD,GAAUtvB,GAAQ1a,GAE5Bm3B,EAAc,SAASn3B,GACzB,IAAIsE,EAASwlC,EAAWtmC,MAAMgX,GAAQzI,GAAU,CAAC/R,GAAQ6Q,IACzD,OAAQg5B,GAAW3uB,EAAY5W,EAAO,GAAKA,GAGzC2lC,GAAWL,GAAoC,mBAAZ34B,GAA6C,GAAnBA,EAAS3P,SAExE0oC,EAASC,GAAU,GAErB,IAAI/uB,EAAW/X,KAAKkY,UAChB6uB,IAAa/mC,KAAKiY,YAAY9Z,OAC9B6oC,EAAcJ,IAAiB7uB,EAC/BkvB,EAAWJ,IAAWE,EAE1B,IAAKH,GAAgBE,EAAS,CAC5BjqC,EAAQoqC,EAAWpqC,EAAQ,IAAI2a,GAAYxX,MAC3C,IAAImB,EAASsM,EAAKpN,MAAMxD,EAAO6Q,GAE/B,OADAvM,EAAO8W,YAAY7Z,KAAK,CAAE,KAAQouB,GAAM,KAAQ,CAACwH,GAAc,aA1shBnEhkB,IA2shBW,IAAIyH,GAActW,EAAQ4W,GAEnC,OAAIivB,GAAeC,EACVx5B,EAAKpN,MAAML,KAAM0N,IAE1BvM,EAASnB,KAAKwsB,KAAKwH,GACZgT,EAAeN,EAAUvlC,EAAOtE,QAAQ,GAAKsE,EAAOtE,QAAWsE,QAK1E8M,GAAU,CAAC,MAAO,OAAQ,QAAS,OAAQ,SAAU,YAAY,SAASyd,GACxE,IAAIje,EAAOyF,GAAWwY,GAClBwb,EAAY,0BAA0BhoC,KAAKwsB,GAAc,MAAQ,OACjEkb,EAAe,kBAAkB1nC,KAAKwsB,GAE1CrU,GAAO7Z,UAAUkuB,GAAc,WAC7B,IAAIhe,EAAOtN,UACX,GAAIwmC,IAAiB5mC,KAAKkY,UAAW,CACnC,IAAIrb,EAAQmD,KAAKnD,QACjB,OAAO4Q,EAAKpN,MAAMkX,GAAQ1a,GAASA,EAAQ,GAAI6Q,GAEjD,OAAO1N,KAAKknC,IAAW,SAASrqC,GAC9B,OAAO4Q,EAAKpN,MAAMkX,GAAQ1a,GAASA,EAAQ,GAAI6Q,UAMrD8Q,GAAWhH,GAAYha,WAAW,SAASiQ,EAAMie,GAC/C,IAAIib,EAAatvB,GAAOqU,GACxB,GAAIib,EAAY,CACd,IAAIxpC,EAAMwpC,EAAWxqC,KAAO,GACvBsB,GAAe1B,KAAK2a,GAAWvZ,KAClCuZ,GAAUvZ,GAAO,IAEnBuZ,GAAUvZ,GAAKiB,KAAK,CAAE,KAAQstB,EAAY,KAAQib,QAItDjwB,GAAUqW,QAnvhBR/c,EAiCqB,GAkthB+B7T,MAAQ,CAAC,CAC7D,KAAQ,UACR,UArvhBA6T,IAyvhBFwH,GAAYha,UAAU60B,MAh9dtB,WACE,IAAIlxB,EAAS,IAAIqW,GAAYxX,KAAKgY,aAOlC,OANA7W,EAAO8W,YAAciC,GAAUla,KAAKiY,aACpC9W,EAAOkX,QAAUrY,KAAKqY,QACtBlX,EAAOmX,aAAetY,KAAKsY,aAC3BnX,EAAOoX,cAAgB2B,GAAUla,KAAKuY,eACtCpX,EAAOqX,cAAgBxY,KAAKwY,cAC5BrX,EAAOsX,UAAYyB,GAAUla,KAAKyY,WAC3BtX,GAy8dTqW,GAAYha,UAAU2Y,QA97dtB,WACE,GAAInW,KAAKsY,aAAc,CACrB,IAAInX,EAAS,IAAIqW,GAAYxX,MAC7BmB,EAAOkX,SAAW,EAClBlX,EAAOmX,cAAe,OAEtBnX,EAASnB,KAAKqyB,SACPha,UAAY,EAErB,OAAOlX,GAs7dTqW,GAAYha,UAAUX,MA36dtB,WACE,IAAI+Q,EAAQ5N,KAAKgY,YAAYnb,QACzBsqC,EAAMnnC,KAAKqY,QACXkB,EAAQhC,GAAQ3J,GAChBw5B,EAAUD,EAAM,EAChB9W,EAAY9W,EAAQ3L,EAAMzP,OAAS,EACnCkpC,EA8pIN,SAAiB/iC,EAAOC,EAAKoyB,GAC3B,IAAI3oB,GAAS,EACT7P,EAASw4B,EAAWx4B,OAExB,OAAS6P,EAAQ7P,GAAQ,CACvB,IAAIib,EAAOud,EAAW3oB,GAClB/J,EAAOmV,EAAKnV,KAEhB,OAAQmV,EAAKlV,MACX,IAAK,OAAaI,GAASL,EAAM,MACjC,IAAK,YAAaM,GAAON,EAAM,MAC/B,IAAK,OAAaM,EAAMsR,GAAUtR,EAAKD,EAAQL,GAAO,MACtD,IAAK,YAAaK,EAAQqR,GAAUrR,EAAOC,EAAMN,IAGrD,MAAO,CAAE,MAASK,EAAO,IAAOC,GA7qIrB+iC,CAAQ,EAAGjX,EAAWrwB,KAAKyY,WAClCnU,EAAQ+iC,EAAK/iC,MACbC,EAAM8iC,EAAK9iC,IACXpG,EAASoG,EAAMD,EACf0J,EAAQo5B,EAAU7iC,EAAOD,EAAQ,EACjC8gB,EAAYplB,KAAKuY,cACjBgvB,EAAaniB,EAAUjnB,OACvBmQ,EAAW,EACXk5B,EAAY3xB,GAAU1X,EAAQ6B,KAAKwY,eAEvC,IAAKe,IAAW6tB,GAAW/W,GAAalyB,GAAUqpC,GAAarpC,EAC7D,OAAO6qB,GAAiBpb,EAAO5N,KAAKiY,aAEtC,IAAI9W,EAAS,GAEb6c,EACA,KAAO7f,KAAYmQ,EAAWk5B,GAAW,CAMvC,IAHA,IAAIC,GAAa,EACb5qC,EAAQ+Q,EAHZI,GAASm5B,KAKAM,EAAYF,GAAY,CAC/B,IAAInuB,EAAOgM,EAAUqiB,GACjB35B,EAAWsL,EAAKtL,SAChB5J,EAAOkV,EAAKlV,KACZ+Z,EAAWnQ,EAASjR,GAExB,GA7zDY,GA6zDRqH,EACFrH,EAAQohB,OACH,IAAKA,EAAU,CACpB,GAj0Da,GAi0DT/Z,EACF,SAAS8Z,EAET,MAAMA,GAIZ7c,EAAOmN,KAAczR,EAEvB,OAAOsE,GAg4dTkW,GAAO7Z,UAAUw6B,GAAK/D,GACtB5c,GAAO7Z,UAAUu2B,MA1iQjB,WACE,OAAOA,GAAM/zB,OA0iQfqX,GAAO7Z,UAAUkqC,OA7gQjB,WACE,OAAO,IAAIjwB,GAAczX,KAAKnD,QAASmD,KAAKkY,YA6gQ9Cb,GAAO7Z,UAAUwD,KAp/PjB,gBA7wREgP,IA8wRIhQ,KAAKoY,aACPpY,KAAKoY,WAAaof,GAAQx3B,KAAKnD,UAEjC,IAAIuE,EAAOpB,KAAKmY,WAAanY,KAAKoY,WAAWja,OAG7C,MAAO,CAAE,KAAQiD,EAAM,MAFXA,OAlxRZ4O,EAkxR+BhQ,KAAKoY,WAAWpY,KAAKmY,eAg/PtDd,GAAO7Z,UAAUsvB,MA77PjB,SAAsBjwB,GAIpB,IAHA,IAAIsE,EACA8f,EAASjhB,KAENihB,aAAkBnJ,IAAY,CACnC,IAAIua,EAAQ3a,GAAauJ,GACzBoR,EAAMla,UAAY,EAClBka,EAAMja,gBA50RRpI,EA60RM7O,EACFolB,EAASvO,YAAcqa,EAEvBlxB,EAASkxB,EAEX,IAAI9L,EAAW8L,EACfpR,EAASA,EAAOjJ,YAGlB,OADAuO,EAASvO,YAAcnb,EAChBsE,GA66PTkW,GAAO7Z,UAAU2Y,QAt5PjB,WACE,IAAItZ,EAAQmD,KAAKgY,YACjB,GAAInb,aAAiB2a,GAAa,CAChC,IAAImwB,EAAU9qC,EAUd,OATImD,KAAKiY,YAAY9Z,SACnBwpC,EAAU,IAAInwB,GAAYxX,QAE5B2nC,EAAUA,EAAQxxB,WACV8B,YAAY7Z,KAAK,CACvB,KAAQouB,GACR,KAAQ,CAACrW,IACT,aAx3RJnG,IA03RS,IAAIyH,GAAckwB,EAAS3nC,KAAKkY,WAEzC,OAAOlY,KAAKwsB,KAAKrW,KAw4PnBkB,GAAO7Z,UAAUoqC,OAASvwB,GAAO7Z,UAAU2Z,QAAUE,GAAO7Z,UAAUX,MAv3PtE,WACE,OAAOmsB,GAAiBhpB,KAAKgY,YAAahY,KAAKiY,cAy3PjDZ,GAAO7Z,UAAU4oC,MAAQ/uB,GAAO7Z,UAAUm1B,KAEtCne,KACF6C,GAAO7Z,UAAUgX,IAj+PnB,WACE,OAAOxU,OAk+PFqX,GAMDzE,GAQN1G,GAAKvK,EAAIA,QA1xhBPqO,KA8xhBF,aACE,OAAOrO,IACR,gCAaH5F,KAAKiE,Q,wCCxzhBP,IAAI0B,EAGJA,EAAI,WACH,OAAO1B,KADJ,GAIJ,IAEC0B,EAAIA,GAAK,IAAIyK,SAAS,cAAb,GACR,MAAOlL,GAEc,iBAAX4B,SAAqBnB,EAAImB,QAOrClH,EAAOD,QAAUgG,G,cClBjB,IAOImmC,EACAC,EARA9kC,EAAUrH,EAAOD,QAAU,GAU/B,SAASqsC,IACL,MAAM,IAAI90B,MAAM,mCAEpB,SAAS+0B,IACL,MAAM,IAAI/0B,MAAM,qCAsBpB,SAASg1B,EAAWC,GAChB,GAAIL,IAAqB9yB,WAErB,OAAOA,WAAWmzB,EAAK,GAG3B,IAAKL,IAAqBE,IAAqBF,IAAqB9yB,WAEhE,OADA8yB,EAAmB9yB,WACZA,WAAWmzB,EAAK,GAE3B,IAEI,OAAOL,EAAiBK,EAAK,GAC/B,MAAMjnC,GACJ,IAEI,OAAO4mC,EAAiB9rC,KAAK,KAAMmsC,EAAK,GAC1C,MAAMjnC,GAEJ,OAAO4mC,EAAiB9rC,KAAKiE,KAAMkoC,EAAK,MAvCnD,WACG,IAEQL,EADsB,mBAAf9yB,WACYA,WAEAgzB,EAEzB,MAAO9mC,GACL4mC,EAAmBE,EAEvB,IAEQD,EADwB,mBAAjBlzB,aACcA,aAEAozB,EAE3B,MAAO/mC,GACL6mC,EAAqBE,GAjB7B,GAwEA,IAEIG,EAFAC,EAAQ,GACRC,GAAW,EAEXC,GAAc,EAElB,SAASC,IACAF,GAAaF,IAGlBE,GAAW,EACPF,EAAahqC,OACbiqC,EAAQD,EAAazlC,OAAO0lC,GAE5BE,GAAc,EAEdF,EAAMjqC,QACNqqC,KAIR,SAASA,IACL,IAAIH,EAAJ,CAGA,IAAII,EAAUR,EAAWM,GACzBF,GAAW,EAGX,IADA,IAAIK,EAAMN,EAAMjqC,OACVuqC,GAAK,CAGP,IAFAP,EAAeC,EACfA,EAAQ,KACCE,EAAaI,GACdP,GACAA,EAAaG,GAAYK,MAGjCL,GAAc,EACdI,EAAMN,EAAMjqC,OAEhBgqC,EAAe,KACfE,GAAW,EAnEf,SAAyBO,GACrB,GAAId,IAAuBlzB,aAEvB,OAAOA,aAAag0B,GAGxB,IAAKd,IAAuBE,IAAwBF,IAAuBlzB,aAEvE,OADAkzB,EAAqBlzB,aACdA,aAAag0B,GAExB,IAEWd,EAAmBc,GAC5B,MAAO3nC,GACL,IAEI,OAAO6mC,EAAmB/rC,KAAK,KAAM6sC,GACvC,MAAO3nC,GAGL,OAAO6mC,EAAmB/rC,KAAKiE,KAAM4oC,KAgD7CC,CAAgBJ,IAiBpB,SAASK,EAAKZ,EAAKt6B,GACf5N,KAAKkoC,IAAMA,EACXloC,KAAK4N,MAAQA,EAYjB,SAAS2hB,KA5BTvsB,EAAQ+lC,SAAW,SAAUb,GACzB,IAAIx6B,EAAO,IAAI/N,MAAMS,UAAUjC,OAAS,GACxC,GAAIiC,UAAUjC,OAAS,EACnB,IAAK,IAAIvC,EAAI,EAAGA,EAAIwE,UAAUjC,OAAQvC,IAClC8R,EAAK9R,EAAI,GAAKwE,UAAUxE,GAGhCwsC,EAAMhqC,KAAK,IAAI0qC,EAAKZ,EAAKx6B,IACJ,IAAjB06B,EAAMjqC,QAAiBkqC,GACvBJ,EAAWO,IASnBM,EAAKtrC,UAAUmrC,IAAM,WACjB3oC,KAAKkoC,IAAI7nC,MAAM,KAAML,KAAK4N,QAE9B5K,EAAQgmC,MAAQ,UAChBhmC,EAAQimC,SAAU,EAClBjmC,EAAQkmC,IAAM,GACdlmC,EAAQmmC,KAAO,GACfnmC,EAAQomC,QAAU,GAClBpmC,EAAQI,SAAW,GAInBJ,EAAQqmC,GAAK9Z,EACbvsB,EAAQsmC,YAAc/Z,EACtBvsB,EAAQ06B,KAAOnO,EACfvsB,EAAQumC,IAAMha,EACdvsB,EAAQwmC,eAAiBja,EACzBvsB,EAAQymC,mBAAqBla,EAC7BvsB,EAAQ0mC,KAAOna,EACfvsB,EAAQ2mC,gBAAkBpa,EAC1BvsB,EAAQ4mC,oBAAsBra,EAE9BvsB,EAAQ6mC,UAAY,SAAU1tC,GAAQ,MAAO,IAE7C6G,EAAQ4J,QAAU,SAAUzQ,GACxB,MAAM,IAAI8W,MAAM,qCAGpBjQ,EAAQ8mC,IAAM,WAAc,MAAO,KACnC9mC,EAAQ+mC,MAAQ,SAAU5C,GACtB,MAAM,IAAIl0B,MAAM,mCAEpBjQ,EAAQgnC,MAAQ,WAAa,OAAO,I,8BCvLpC,+DA4JA,IAAIC,OAC4B,IAAjBC,EACe,oBAAXrnC,OACA,CACHqnC,aAAc,SAAUC,GAGpB,IAFA,IAAIrmC,EACA4J,EAAO,GACF08B,EAAK,EAAGA,EAAKhqC,UAAUjC,OAAQisC,IACpC18B,EAAK08B,EAAK,GAAKhqC,UAAUgqC,GAE7B,OAAQtmC,EAAKjB,QAAQqnC,aAAa7pC,MAAMyD,EAAI,YAAc,CAACqmC,GAAUz8B,GAAM,KAE/E28B,eAAgB,SAAUC,GAAU,OAAOznC,OAAOwnC,eAAeC,KAI9D,CAAEJ,aAAcA,EAAcG,eAAgBA,GAtKjE,WACI,IACQE,EACAC,EAOJC,EA+FIC,EAVAC,EAnBAC,EACAC,EA5EJC,GACIP,EAA4B,oBAAX1nC,QAA0BA,OAC3C2nC,EAAwB,oBAATv+B,MAAqD,oBAAtB8+B,mBAAqC9+B,gBAAgB8+B,mBAAqB9+B,KAErHs+B,QADyB,IAAXx+B,GAA0BA,GAClBy+B,GAE7BQ,EAAgB,GAChBC,EAA0B,oBAAbntC,SAA2BA,cAAW,EACnDotC,EAAa,EAiBjB,SAASb,EAAeC,UACbU,EAAcV,GAuBzB,SAASa,EAAab,GAClB,IAAIc,EAAOJ,EAAcV,GACzBD,EAAeC,GAvBnB,SAAac,GACT,IAAIvf,EAAWuf,EAAKvf,SAChBne,EAAO09B,EAAK19B,KAChB,OAAQA,EAAKvP,QACT,KAAK,EACD0tB,IACA,MACJ,KAAK,EACDA,EAASne,EAAK,IACd,MACJ,KAAK,EACDme,EAASne,EAAK,GAAIA,EAAK,IACvB,MACJ,KAAK,EACDme,EAASne,EAAK,GAAIA,EAAK,GAAIA,EAAK,IAChC,MACJ,QACIme,EAASxrB,WAAM2P,EAAWtC,IAOlCi7B,CAAIyC,GA4FR,YApBuB,IAAZpoC,GAAyD,qBAA9B,GAAG8B,SAAS/I,KAAKiH,GArEnDynC,EAAoB,SAAUH,GAC1BtnC,EAAQ+lC,UAAS,WAAcoC,EAAab,OAGpD,WACI,GAAIQ,GAAcA,EAAWO,cAAgBP,EAAWQ,cAAe,CACnE,IAAIC,GAA8B,EAC9BC,EAAeV,EAAWW,UAM9B,OALAX,EAAWW,UAAY,WACnBF,GAA8B,GAElCT,EAAWO,YAAY,GAAI,KAC3BP,EAAWW,UAAYD,EAChBD,GA4DNG,IArDDd,EAAgB,gBAAkB1lC,KAAKC,SAAW,IAClD0lC,EAAkB,SAAUc,GACxBA,EAAM9jC,SAAWijC,GACK,iBAAfa,EAAMvyB,MACyB,IAAtCuyB,EAAMvyB,KAAKgN,QAAQwkB,IACnBO,GAAcQ,EAAMvyB,KAAK1a,MAAMksC,EAAczsC,UAGjD0E,OAAO+oC,iBACP/oC,OAAO+oC,iBAAiB,UAAWf,GAAiB,GAGpDhoC,OAAOgpC,YAAY,YAAahB,GAEpCJ,EAAoB,SAAUH,GAC1BznC,OAAOwoC,YAAYT,EAAgBN,EAAQ,OA0ChB,oBAAnBwB,iBAtCRnB,EAAU,IAAImB,gBACVC,MAAMN,UAAY,SAAUE,GAEhCR,EADaQ,EAAMvyB,OAGvBqxB,EAAoB,SAAUH,GAC1BK,EAAQqB,MAAMX,YAAYf,KAoCzBW,GAAO,uBAAwBA,EAAIgB,cAAc,WAhClDvB,EAAOO,EAAIiB,gBACfzB,EAAoB,SAAUH,GAG1B,IAAIzsC,EAASotC,EAAIgB,cAAc,UAC/BpuC,EAAOsuC,mBAAqB,WACxBhB,EAAab,GACbzsC,EAAOsuC,mBAAqB,KAC5BzB,EAAK0B,YAAYvuC,GACjBA,EAAS,MAEb6sC,EAAK2B,YAAYxuC,KAIrB4sC,EAAoB,SAAUH,GAC1Bv1B,WAAWo2B,EAAc,EAAGb,IAwB7B,CACHJ,aAvIJ,SAAsBre,GAElB,IADA,IAAIne,EAAO,GACF08B,EAAK,EAAGA,EAAKhqC,UAAUjC,OAAQisC,IACpC18B,EAAK08B,EAAK,GAAKhqC,UAAUgqC,GAGL,mBAAbve,IACPA,EAAW,IAAI1f,SAAS,GAAK0f,IAGjC,IAAIuf,EAAO,CAAEvf,SAAUA,EAAUne,KAAMA,GAGvC,OAFAs9B,EAAcE,GAAcE,EAC5BX,EAAkBS,GACXA,KA2HPb,eAAgBA,GAsBbiC,GAEX,SAASC,EAAiBC,GACtBvC,EAAiBC,aAAasC,GAElC,IAAIC,EAAY,CACZvC,aAAcD,EAAiBC,aAC/BG,eAAgBJ,EAAiBI,eACjCqC,iBAAkB,WAAc,OAAO,IAAI/rC,QAAQ4rC,IACnDlW,MAAO,SAAUoS,EAAS5rC,GAEtB,YADc,IAAVA,IAAoBA,OAAQ,GACzB,IAAI8D,SAAQ,SAAUjE,GAAK,OAAOqY,WAAWrY,EAAG+rC,EAAS5rC,U,4FC1LxE,8CASA,IAAI8vC,EAAmB,WACnB,IACI,OAAO,EAEX,MAAO7oC,GACH,OAAO,GALQ,IAYL,WACd,IACI,IAAI8oC,EAAM5pC,EAAQkmC,IAAI2D,MAG1B,MAAO/oC,GACH,OAAO,GANG,K,+BCrBJnI,EAAOD,QAAUmH,OAAc,O,iBCA7C,iCAC6B,oBAAToJ,MAAwBA,MAChCpJ,OACRxC,EAAQ8L,SAAS3O,UAAU6C,MAiB/B,SAASysC,EAAQljB,EAAImjB,GACnB/sC,KAAKgtC,IAAMpjB,EACX5pB,KAAKitC,SAAWF,EAflBrxC,EAAQqZ,WAAa,WACnB,OAAO,IAAI+3B,EAAQzsC,EAAMtE,KAAKgZ,WAAYm4B,EAAO9sC,WAAYwU,eAE/DlZ,EAAQyxC,YAAc,WACpB,OAAO,IAAIL,EAAQzsC,EAAMtE,KAAKoxC,YAAaD,EAAO9sC,WAAYgtC,gBAEhE1xC,EAAQkZ,aACRlZ,EAAQ0xC,cAAgB,SAAS3E,GAC3BA,GACFA,EAAQ4E,SAQZP,EAAQtvC,UAAU8vC,MAAQR,EAAQtvC,UAAU+vC,IAAM,aAClDT,EAAQtvC,UAAU6vC,MAAQ,WACxBrtC,KAAKitC,SAASlxC,KAAKmxC,EAAOltC,KAAKgtC,MAIjCtxC,EAAQ8xC,OAAS,SAASC,EAAMC,GAC9B94B,aAAa64B,EAAKE,gBAClBF,EAAKG,aAAeF,GAGtBhyC,EAAQmyC,SAAW,SAASJ,GAC1B74B,aAAa64B,EAAKE,gBAClBF,EAAKG,cAAgB,GAGvBlyC,EAAQoyC,aAAepyC,EAAQqyC,OAAS,SAASN,GAC/C74B,aAAa64B,EAAKE,gBAElB,IAAID,EAAQD,EAAKG,aACbF,GAAS,IACXD,EAAKE,eAAiB54B,YAAW,WAC3B04B,EAAKO,YACPP,EAAKO,eACNN,KAKP,EAAQ,IAIRhyC,EAAQwuC,aAAgC,oBAATj+B,MAAwBA,KAAKi+B,mBAClB,IAAXn+B,GAA0BA,EAAOm+B,cACxClqC,MAAQA,KAAKkqC,aACrCxuC,EAAQ2uC,eAAkC,oBAATp+B,MAAwBA,KAAKo+B,qBAClB,IAAXt+B,GAA0BA,EAAOs+B,gBACxCrqC,MAAQA,KAAKqqC,iB,+CC9DvC,YAUA,IAAI4D,EAAS,EAAQ,IACjBC,EAAU,EAAQ,IAClB32B,EAAU,EAAQ,IAmDtB,SAAS42B,IACP,OAAOtpC,EAAOupC,oBACV,WACA,WAGN,SAASC,EAAcC,EAAMnwC,GAC3B,GAAIgwC,IAAehwC,EACjB,MAAM,IAAIowC,WAAW,8BAcvB,OAZI1pC,EAAOupC,qBAETE,EAAO,IAAIt6B,WAAW7V,IACjBuB,UAAYmF,EAAOrH,WAGX,OAAT8wC,IACFA,EAAO,IAAIzpC,EAAO1G,IAEpBmwC,EAAKnwC,OAASA,GAGTmwC,EAaT,SAASzpC,EAAQiN,EAAK08B,EAAkBrwC,GACtC,KAAK0G,EAAOupC,qBAAyBpuC,gBAAgB6E,GACnD,OAAO,IAAIA,EAAOiN,EAAK08B,EAAkBrwC,GAI3C,GAAmB,iBAAR2T,EAAkB,CAC3B,GAAgC,iBAArB08B,EACT,MAAM,IAAIv7B,MACR,qEAGJ,OAAOgB,EAAYjU,KAAM8R,GAE3B,OAAOvP,EAAKvC,KAAM8R,EAAK08B,EAAkBrwC,GAW3C,SAASoE,EAAM+rC,EAAMzxC,EAAO2xC,EAAkBrwC,GAC5C,GAAqB,iBAAVtB,EACT,MAAM,IAAIgD,UAAU,yCAGtB,MAA2B,oBAAhBkxB,aAA+Bl0B,aAAiBk0B,YA6H7D,SAA0Bud,EAAM1gC,EAAOiP,EAAY1e,GAGjD,GAFAyP,EAAMkP,WAEFD,EAAa,GAAKjP,EAAMkP,WAAaD,EACvC,MAAM,IAAI0xB,WAAW,6BAGvB,GAAI3gC,EAAMkP,WAAaD,GAAc1e,GAAU,GAC7C,MAAM,IAAIowC,WAAW,6BAIrB3gC,OADiBoC,IAAf6M,QAAuC7M,IAAX7R,EACtB,IAAI6V,WAAWpG,QACHoC,IAAX7R,EACD,IAAI6V,WAAWpG,EAAOiP,GAEtB,IAAI7I,WAAWpG,EAAOiP,EAAY1e,GAGxC0G,EAAOupC,qBAETE,EAAO1gC,GACFlO,UAAYmF,EAAOrH,UAGxB8wC,EAAOG,EAAcH,EAAM1gC,GAE7B,OAAO0gC,EAvJEI,CAAgBJ,EAAMzxC,EAAO2xC,EAAkBrwC,GAGnC,iBAAVtB,EAwFb,SAAqByxC,EAAMh+B,EAAQq+B,GACT,iBAAbA,GAAsC,KAAbA,IAClCA,EAAW,QAGb,IAAK9pC,EAAO+pC,WAAWD,GACrB,MAAM,IAAI9uC,UAAU,8CAGtB,IAAI1B,EAAwC,EAA/B2e,EAAWxM,EAAQq+B,GAG5BE,GAFJP,EAAOD,EAAaC,EAAMnwC,IAER2wC,MAAMx+B,EAAQq+B,GAE5BE,IAAW1wC,IAIbmwC,EAAOA,EAAK5vC,MAAM,EAAGmwC,IAGvB,OAAOP,EA5GES,CAAWT,EAAMzxC,EAAO2xC,GAsJnC,SAAqBF,EAAMU,GACzB,GAAInqC,EAAOyQ,SAAS05B,GAAM,CACxB,IAAItG,EAA4B,EAAtBuG,EAAQD,EAAI7wC,QAGtB,OAAoB,KAFpBmwC,EAAOD,EAAaC,EAAM5F,IAEjBvqC,QAIT6wC,EAAInlB,KAAKykB,EAAM,EAAG,EAAG5F,GAHZ4F,EAOX,GAAIU,EAAK,CACP,GAA4B,oBAAhBje,aACRie,EAAIpyB,kBAAkBmU,aAAgB,WAAYie,EACpD,MAA0B,iBAAfA,EAAI7wC,SA+8CLyuC,EA/8CkCoC,EAAI7wC,SAg9CrCyuC,EA/8CFyB,EAAaC,EAAM,GAErBG,EAAcH,EAAMU,GAG7B,GAAiB,WAAbA,EAAI9qC,MAAqBqT,EAAQy3B,EAAI51B,MACvC,OAAOq1B,EAAcH,EAAMU,EAAI51B,MAw8CrC,IAAgBwzB,EAp8Cd,MAAM,IAAI/sC,UAAU,sFA9KbqvC,CAAWZ,EAAMzxC,GA4B1B,SAASsyC,EAAYlrC,GACnB,GAAoB,iBAATA,EACT,MAAM,IAAIpE,UAAU,oCACf,GAAIoE,EAAO,EAChB,MAAM,IAAIsqC,WAAW,wCA4BzB,SAASt6B,EAAaq6B,EAAMrqC,GAG1B,GAFAkrC,EAAWlrC,GACXqqC,EAAOD,EAAaC,EAAMrqC,EAAO,EAAI,EAAoB,EAAhBgrC,EAAQhrC,KAC5CY,EAAOupC,oBACV,IAAK,IAAIxyC,EAAI,EAAGA,EAAIqI,IAAQrI,EAC1B0yC,EAAK1yC,GAAK,EAGd,OAAO0yC,EAwCT,SAASG,EAAeH,EAAM1gC,GAC5B,IAAIzP,EAASyP,EAAMzP,OAAS,EAAI,EAA4B,EAAxB8wC,EAAQrhC,EAAMzP,QAClDmwC,EAAOD,EAAaC,EAAMnwC,GAC1B,IAAK,IAAIvC,EAAI,EAAGA,EAAIuC,EAAQvC,GAAK,EAC/B0yC,EAAK1yC,GAAgB,IAAXgS,EAAMhS,GAElB,OAAO0yC,EA+DT,SAASW,EAAS9wC,GAGhB,GAAIA,GAAUgwC,IACZ,MAAM,IAAII,WAAW,0DACaJ,IAAarpC,SAAS,IAAM,UAEhE,OAAgB,EAAT3G,EAsFT,SAAS2e,EAAYxM,EAAQq+B,GAC3B,GAAI9pC,EAAOyQ,SAAShF,GAClB,OAAOA,EAAOnS,OAEhB,GAA2B,oBAAhB4yB,aAA6D,mBAAvBA,YAAYqe,SACxDre,YAAYqe,OAAO9+B,IAAWA,aAAkBygB,aACnD,OAAOzgB,EAAOwM,WAEM,iBAAXxM,IACTA,EAAS,GAAKA,GAGhB,IAAIo4B,EAAMp4B,EAAOnS,OACjB,GAAY,IAARuqC,EAAW,OAAO,EAItB,IADA,IAAI2G,GAAc,IAEhB,OAAQV,GACN,IAAK,QACL,IAAK,SACL,IAAK,SACH,OAAOjG,EACT,IAAK,OACL,IAAK,QACL,UAAK14B,EACH,OAAOs/B,EAAYh/B,GAAQnS,OAC7B,IAAK,OACL,IAAK,QACL,IAAK,UACL,IAAK,WACH,OAAa,EAANuqC,EACT,IAAK,MACH,OAAOA,IAAQ,EACjB,IAAK,SACH,OAAO6G,EAAcj/B,GAAQnS,OAC/B,QACE,GAAIkxC,EAAa,OAAOC,EAAYh/B,GAAQnS,OAC5CwwC,GAAY,GAAKA,GAAUzV,cAC3BmW,GAAc,GAMtB,SAASG,EAAcb,EAAUrqC,EAAOC,GACtC,IAAI8qC,GAAc,EAclB,SALcr/B,IAAV1L,GAAuBA,EAAQ,KACjCA,EAAQ,GAINA,EAAQtE,KAAK7B,OACf,MAAO,GAOT,SAJY6R,IAARzL,GAAqBA,EAAMvE,KAAK7B,UAClCoG,EAAMvE,KAAK7B,QAGToG,GAAO,EACT,MAAO,GAOT,IAHAA,KAAS,KACTD,KAAW,GAGT,MAAO,GAKT,IAFKqqC,IAAUA,EAAW,UAGxB,OAAQA,GACN,IAAK,MACH,OAAOc,EAASzvC,KAAMsE,EAAOC,GAE/B,IAAK,OACL,IAAK,QACH,OAAOmrC,EAAU1vC,KAAMsE,EAAOC,GAEhC,IAAK,QACH,OAAOorC,EAAW3vC,KAAMsE,EAAOC,GAEjC,IAAK,SACL,IAAK,SACH,OAAOqrC,EAAY5vC,KAAMsE,EAAOC,GAElC,IAAK,SACH,OAAOsrC,EAAY7vC,KAAMsE,EAAOC,GAElC,IAAK,OACL,IAAK,QACL,IAAK,UACL,IAAK,WACH,OAAOurC,EAAa9vC,KAAMsE,EAAOC,GAEnC,QACE,GAAI8qC,EAAa,MAAM,IAAIxvC,UAAU,qBAAuB8uC,GAC5DA,GAAYA,EAAW,IAAIzV,cAC3BmW,GAAc,GAStB,SAASU,EAAMvwC,EAAGnC,EAAGrB,GACnB,IAAIJ,EAAI4D,EAAEnC,GACVmC,EAAEnC,GAAKmC,EAAExD,GACTwD,EAAExD,GAAKJ,EAmIT,SAASo0C,EAAsBpzB,EAAQgwB,EAAK/vB,EAAY8xB,EAAUxH,GAEhE,GAAsB,IAAlBvqB,EAAOze,OAAc,OAAQ,EAmBjC,GAhB0B,iBAAf0e,GACT8xB,EAAW9xB,EACXA,EAAa,GACJA,EAAa,WACtBA,EAAa,WACJA,GAAc,aACvBA,GAAc,YAEhBA,GAAcA,EACV8kB,MAAM9kB,KAERA,EAAasqB,EAAM,EAAKvqB,EAAOze,OAAS,GAItC0e,EAAa,IAAGA,EAAaD,EAAOze,OAAS0e,GAC7CA,GAAcD,EAAOze,OAAQ,CAC/B,GAAIgpC,EAAK,OAAQ,EACZtqB,EAAaD,EAAOze,OAAS,OAC7B,GAAI0e,EAAa,EAAG,CACzB,IAAIsqB,EACC,OAAQ,EADJtqB,EAAa,EAUxB,GALmB,iBAAR+vB,IACTA,EAAM/nC,EAAOtC,KAAKqqC,EAAK+B,IAIrB9pC,EAAOyQ,SAASs3B,GAElB,OAAmB,IAAfA,EAAIzuC,QACE,EAEH8xC,EAAarzB,EAAQgwB,EAAK/vB,EAAY8xB,EAAUxH,GAClD,GAAmB,iBAARyF,EAEhB,OADAA,GAAY,IACR/nC,EAAOupC,qBACiC,mBAAjCp6B,WAAWxW,UAAU4oB,QAC1B+gB,EACKnzB,WAAWxW,UAAU4oB,QAAQrqB,KAAK6gB,EAAQgwB,EAAK/vB,GAE/C7I,WAAWxW,UAAU2kC,YAAYpmC,KAAK6gB,EAAQgwB,EAAK/vB,GAGvDozB,EAAarzB,EAAQ,CAAEgwB,GAAO/vB,EAAY8xB,EAAUxH,GAG7D,MAAM,IAAItnC,UAAU,wCAGtB,SAASowC,EAAcC,EAAKtD,EAAK/vB,EAAY8xB,EAAUxH,GACrD,IA0BIvrC,EA1BAu0C,EAAY,EACZ9f,EAAY6f,EAAI/xC,OAChBiyC,EAAYxD,EAAIzuC,OAEpB,QAAiB6R,IAAb2+B,IAEe,UADjBA,EAAW7uC,OAAO6uC,GAAUzV,gBACY,UAAbyV,GACV,YAAbA,GAAuC,aAAbA,GAAyB,CACrD,GAAIuB,EAAI/xC,OAAS,GAAKyuC,EAAIzuC,OAAS,EACjC,OAAQ,EAEVgyC,EAAY,EACZ9f,GAAa,EACb+f,GAAa,EACbvzB,GAAc,EAIlB,SAASwzB,EAAMC,EAAK10C,GAClB,OAAkB,IAAdu0C,EACKG,EAAI10C,GAEJ00C,EAAIC,aAAa30C,EAAIu0C,GAKhC,GAAIhJ,EAAK,CACP,IAAIqJ,GAAc,EAClB,IAAK50C,EAAIihB,EAAYjhB,EAAIy0B,EAAWz0B,IAClC,GAAIy0C,EAAKH,EAAKt0C,KAAOy0C,EAAKzD,GAAqB,IAAhB4D,EAAoB,EAAI50C,EAAI40C,IAEzD,IADoB,IAAhBA,IAAmBA,EAAa50C,GAChCA,EAAI40C,EAAa,IAAMJ,EAAW,OAAOI,EAAaL,OAEtC,IAAhBK,IAAmB50C,GAAKA,EAAI40C,GAChCA,GAAc,OAKlB,IADI3zB,EAAauzB,EAAY/f,IAAWxT,EAAawT,EAAY+f,GAC5Dx0C,EAAIihB,EAAYjhB,GAAK,EAAGA,IAAK,CAEhC,IADA,IAAI60C,GAAQ,EACHC,EAAI,EAAGA,EAAIN,EAAWM,IAC7B,GAAIL,EAAKH,EAAKt0C,EAAI80C,KAAOL,EAAKzD,EAAK8D,GAAI,CACrCD,GAAQ,EACR,MAGJ,GAAIA,EAAO,OAAO70C,EAItB,OAAQ,EAeV,SAAS+0C,EAAUL,EAAKhgC,EAAQxB,EAAQ3Q,GACtC2Q,EAAS8hC,OAAO9hC,IAAW,EAC3B,IAAIgjB,EAAYwe,EAAInyC,OAAS2Q,EACxB3Q,GAGHA,EAASyyC,OAAOzyC,IACH2zB,IACX3zB,EAAS2zB,GAJX3zB,EAAS2zB,EASX,IAAI+e,EAASvgC,EAAOnS,OACpB,GAAI0yC,EAAS,GAAM,EAAG,MAAM,IAAIhxC,UAAU,sBAEtC1B,EAAS0yC,EAAS,IACpB1yC,EAAS0yC,EAAS,GAEpB,IAAK,IAAIj1C,EAAI,EAAGA,EAAIuC,IAAUvC,EAAG,CAC/B,IAAIk1C,EAASjlC,SAASyE,EAAOhL,OAAW,EAAJ1J,EAAO,GAAI,IAC/C,GAAI+lC,MAAMmP,GAAS,OAAOl1C,EAC1B00C,EAAIxhC,EAASlT,GAAKk1C,EAEpB,OAAOl1C,EAGT,SAASm1C,EAAWT,EAAKhgC,EAAQxB,EAAQ3Q,GACvC,OAAO6yC,EAAW1B,EAAYh/B,EAAQggC,EAAInyC,OAAS2Q,GAASwhC,EAAKxhC,EAAQ3Q,GAG3E,SAAS8yC,EAAYX,EAAKhgC,EAAQxB,EAAQ3Q,GACxC,OAAO6yC,EAq6BT,SAAuBE,GAErB,IADA,IAAIC,EAAY,GACPv1C,EAAI,EAAGA,EAAIs1C,EAAI/yC,SAAUvC,EAEhCu1C,EAAU/yC,KAAyB,IAApB8yC,EAAIhf,WAAWt2B,IAEhC,OAAOu1C,EA36BWC,CAAa9gC,GAASggC,EAAKxhC,EAAQ3Q,GAGvD,SAASkzC,EAAaf,EAAKhgC,EAAQxB,EAAQ3Q,GACzC,OAAO8yC,EAAWX,EAAKhgC,EAAQxB,EAAQ3Q,GAGzC,SAASmzC,EAAahB,EAAKhgC,EAAQxB,EAAQ3Q,GACzC,OAAO6yC,EAAWzB,EAAcj/B,GAASggC,EAAKxhC,EAAQ3Q,GAGxD,SAASozC,EAAWjB,EAAKhgC,EAAQxB,EAAQ3Q,GACvC,OAAO6yC,EAk6BT,SAAyBE,EAAKM,GAG5B,IAFA,IAAIv1C,EAAGw1C,EAAIC,EACPP,EAAY,GACPv1C,EAAI,EAAGA,EAAIs1C,EAAI/yC,WACjBqzC,GAAS,GAAK,KADa51C,EAGhCK,EAAIi1C,EAAIhf,WAAWt2B,GACnB61C,EAAKx1C,GAAK,EACVy1C,EAAKz1C,EAAI,IACTk1C,EAAU/yC,KAAKszC,GACfP,EAAU/yC,KAAKqzC,GAGjB,OAAON,EA/6BWQ,CAAerhC,EAAQggC,EAAInyC,OAAS2Q,GAASwhC,EAAKxhC,EAAQ3Q,GAkF9E,SAAS0xC,EAAaS,EAAKhsC,EAAOC,GAChC,OAAc,IAAVD,GAAeC,IAAQ+rC,EAAInyC,OACtB8vC,EAAO2D,cAActB,GAErBrC,EAAO2D,cAActB,EAAI5xC,MAAM4F,EAAOC,IAIjD,SAASmrC,EAAWY,EAAKhsC,EAAOC,GAC9BA,EAAMW,KAAK4Q,IAAIw6B,EAAInyC,OAAQoG,GAI3B,IAHA,IAAIioC,EAAM,GAEN5wC,EAAI0I,EACD1I,EAAI2I,GAAK,CACd,IAQMstC,EAAYC,EAAWC,EAAYC,EARrCC,EAAY3B,EAAI10C,GAChBs2C,EAAY,KACZC,EAAoBF,EAAY,IAAQ,EACvCA,EAAY,IAAQ,EACpBA,EAAY,IAAQ,EACrB,EAEJ,GAAIr2C,EAAIu2C,GAAoB5tC,EAG1B,OAAQ4tC,GACN,KAAK,EACCF,EAAY,MACdC,EAAYD,GAEd,MACF,KAAK,EAEyB,MAAV,KADlBJ,EAAavB,EAAI10C,EAAI,OAEnBo2C,GAA6B,GAAZC,IAAqB,EAAoB,GAAbJ,GACzB,MAClBK,EAAYF,GAGhB,MACF,KAAK,EACHH,EAAavB,EAAI10C,EAAI,GACrBk2C,EAAYxB,EAAI10C,EAAI,GACQ,MAAV,IAAbi2C,IAAsD,MAAV,IAAZC,KACnCE,GAA6B,GAAZC,IAAoB,IAAoB,GAAbJ,IAAsB,EAAmB,GAAZC,GACrD,OAAUE,EAAgB,OAAUA,EAAgB,SACtEE,EAAYF,GAGhB,MACF,KAAK,EACHH,EAAavB,EAAI10C,EAAI,GACrBk2C,EAAYxB,EAAI10C,EAAI,GACpBm2C,EAAazB,EAAI10C,EAAI,GACO,MAAV,IAAbi2C,IAAsD,MAAV,IAAZC,IAAsD,MAAV,IAAbC,KAClEC,GAA6B,GAAZC,IAAoB,IAAqB,GAAbJ,IAAsB,IAAmB,GAAZC,IAAqB,EAAoB,GAAbC,GAClF,OAAUC,EAAgB,UAC5CE,EAAYF,GAMJ,OAAdE,GAGFA,EAAY,MACZC,EAAmB,GACVD,EAAY,QAErBA,GAAa,MACb1F,EAAIpuC,KAAK8zC,IAAc,GAAK,KAAQ,OACpCA,EAAY,MAAqB,KAAZA,GAGvB1F,EAAIpuC,KAAK8zC,GACTt2C,GAAKu2C,EAGP,OAQF,SAAgCC,GAC9B,IAAI1J,EAAM0J,EAAWj0C,OACrB,GAAIuqC,GAJqB,KAKvB,OAAO5oC,OAAOmF,aAAa5E,MAAMP,OAAQsyC,GAI3C,IAAI5F,EAAM,GACN5wC,EAAI,EACR,KAAOA,EAAI8sC,GACT8D,GAAO1sC,OAAOmF,aAAa5E,MACzBP,OACAsyC,EAAW1zC,MAAM9C,EAAGA,GAdC,OAiBzB,OAAO4wC,EAvBA6F,CAAsB7F,GA98B/B9wC,EAAQmJ,OAASA,EACjBnJ,EAAQ42C,WAoTR,SAAqBn0C,IACdA,GAAUA,IACbA,EAAS,GAEX,OAAO0G,EAAO0tC,OAAOp0C,IAvTvBzC,EAAQ82C,kBAAoB,GA0B5B3tC,EAAOupC,yBAAqDp+B,IAA/BjE,EAAOqiC,oBAChCriC,EAAOqiC,oBAQX,WACE,IACE,IAAI8B,EAAM,IAAIl8B,WAAW,GAEzB,OADAk8B,EAAIxwC,UAAY,CAACA,UAAWsU,WAAWxW,UAAWi1C,IAAK,WAAc,OAAO,KACvD,KAAdvC,EAAIuC,OACiB,mBAAjBvC,EAAIwC,UACuB,IAAlCxC,EAAIwC,SAAS,EAAG,GAAG51B,WACvB,MAAO7b,GACP,OAAO,GAfP0xC,GAKJj3C,EAAQyyC,WAAaA,IAkErBtpC,EAAO+tC,SAAW,KAGlB/tC,EAAOguC,SAAW,SAAU3C,GAE1B,OADAA,EAAIxwC,UAAYmF,EAAOrH,UAChB0yC,GA2BTrrC,EAAOtC,KAAO,SAAU1F,EAAO2xC,EAAkBrwC,GAC/C,OAAOoE,EAAK,KAAM1F,EAAO2xC,EAAkBrwC,IAGzC0G,EAAOupC,sBACTvpC,EAAOrH,UAAUkC,UAAYsU,WAAWxW,UACxCqH,EAAOnF,UAAYsU,WACG,oBAAXrX,QAA0BA,OAAOm2C,SACxCjuC,EAAOlI,OAAOm2C,WAAajuC,GAE7BvI,OAAOC,eAAesI,EAAQlI,OAAOm2C,QAAS,CAC5Cj2C,MAAO,KACPk2C,cAAc,KAiCpBluC,EAAO0tC,MAAQ,SAAUtuC,EAAMu4B,EAAMmS,GACnC,OArBF,SAAgBL,EAAMrqC,EAAMu4B,EAAMmS,GAEhC,OADAQ,EAAWlrC,GACPA,GAAQ,EACHoqC,EAAaC,EAAMrqC,QAEf+L,IAATwsB,EAIyB,iBAAbmS,EACVN,EAAaC,EAAMrqC,GAAMu4B,KAAKA,EAAMmS,GACpCN,EAAaC,EAAMrqC,GAAMu4B,KAAKA,GAE7B6R,EAAaC,EAAMrqC,GAQnBsuC,CAAM,KAAMtuC,EAAMu4B,EAAMmS,IAiBjC9pC,EAAOoP,YAAc,SAAUhQ,GAC7B,OAAOgQ,EAAY,KAAMhQ,IAK3BY,EAAOmuC,gBAAkB,SAAU/uC,GACjC,OAAOgQ,EAAY,KAAMhQ,IAiH3BY,EAAOyQ,SAAW,SAAmB9V,GACnC,QAAe,MAALA,IAAaA,EAAEyzC,YAG3BpuC,EAAOquC,QAAU,SAAkBC,EAAG3zC,GACpC,IAAKqF,EAAOyQ,SAAS69B,KAAOtuC,EAAOyQ,SAAS9V,GAC1C,MAAM,IAAIK,UAAU,6BAGtB,GAAIszC,IAAM3zC,EAAG,OAAO,EAKpB,IAHA,IAAIiG,EAAI0tC,EAAEh1C,OACNsD,EAAIjC,EAAErB,OAEDvC,EAAI,EAAG8sC,EAAMxjC,KAAK4Q,IAAIrQ,EAAGhE,GAAI7F,EAAI8sC,IAAO9sC,EAC/C,GAAIu3C,EAAEv3C,KAAO4D,EAAE5D,GAAI,CACjB6J,EAAI0tC,EAAEv3C,GACN6F,EAAIjC,EAAE5D,GACN,MAIJ,OAAI6J,EAAIhE,GAAW,EACfA,EAAIgE,EAAU,EACX,GAGTZ,EAAO+pC,WAAa,SAAqBD,GACvC,OAAQ7uC,OAAO6uC,GAAUzV,eACvB,IAAK,MACL,IAAK,OACL,IAAK,QACL,IAAK,QACL,IAAK,SACL,IAAK,SACL,IAAK,SACL,IAAK,OACL,IAAK,QACL,IAAK,UACL,IAAK,WACH,OAAO,EACT,QACE,OAAO,IAIbr0B,EAAOnC,OAAS,SAAiB0wC,EAAMj1C,GACrC,IAAKoZ,EAAQ67B,GACX,MAAM,IAAIvzC,UAAU,+CAGtB,GAAoB,IAAhBuzC,EAAKj1C,OACP,OAAO0G,EAAO0tC,MAAM,GAGtB,IAAI32C,EACJ,QAAeoU,IAAX7R,EAEF,IADAA,EAAS,EACJvC,EAAI,EAAGA,EAAIw3C,EAAKj1C,SAAUvC,EAC7BuC,GAAUi1C,EAAKx3C,GAAGuC,OAItB,IAAIye,EAAS/X,EAAOoP,YAAY9V,GAC5Bk1C,EAAM,EACV,IAAKz3C,EAAI,EAAGA,EAAIw3C,EAAKj1C,SAAUvC,EAAG,CAChC,IAAI00C,EAAM8C,EAAKx3C,GACf,IAAKiJ,EAAOyQ,SAASg7B,GACnB,MAAM,IAAIzwC,UAAU,+CAEtBywC,EAAIzmB,KAAKjN,EAAQy2B,GACjBA,GAAO/C,EAAInyC,OAEb,OAAOye,GA8CT/X,EAAOiY,WAAaA,EA0EpBjY,EAAOrH,UAAUy1C,WAAY,EAQ7BpuC,EAAOrH,UAAU81C,OAAS,WACxB,IAAI5K,EAAM1oC,KAAK7B,OACf,GAAIuqC,EAAM,GAAM,EACd,MAAM,IAAI6F,WAAW,6CAEvB,IAAK,IAAI3yC,EAAI,EAAGA,EAAI8sC,EAAK9sC,GAAK,EAC5Bm0C,EAAK/vC,KAAMpE,EAAGA,EAAI,GAEpB,OAAOoE,MAGT6E,EAAOrH,UAAU+1C,OAAS,WACxB,IAAI7K,EAAM1oC,KAAK7B,OACf,GAAIuqC,EAAM,GAAM,EACd,MAAM,IAAI6F,WAAW,6CAEvB,IAAK,IAAI3yC,EAAI,EAAGA,EAAI8sC,EAAK9sC,GAAK,EAC5Bm0C,EAAK/vC,KAAMpE,EAAGA,EAAI,GAClBm0C,EAAK/vC,KAAMpE,EAAI,EAAGA,EAAI,GAExB,OAAOoE,MAGT6E,EAAOrH,UAAUg2C,OAAS,WACxB,IAAI9K,EAAM1oC,KAAK7B,OACf,GAAIuqC,EAAM,GAAM,EACd,MAAM,IAAI6F,WAAW,6CAEvB,IAAK,IAAI3yC,EAAI,EAAGA,EAAI8sC,EAAK9sC,GAAK,EAC5Bm0C,EAAK/vC,KAAMpE,EAAGA,EAAI,GAClBm0C,EAAK/vC,KAAMpE,EAAI,EAAGA,EAAI,GACtBm0C,EAAK/vC,KAAMpE,EAAI,EAAGA,EAAI,GACtBm0C,EAAK/vC,KAAMpE,EAAI,EAAGA,EAAI,GAExB,OAAOoE,MAGT6E,EAAOrH,UAAUsH,SAAW,WAC1B,IAAI3G,EAAuB,EAAd6B,KAAK7B,OAClB,OAAe,IAAXA,EAAqB,GACA,IAArBiC,UAAUjC,OAAqBuxC,EAAU1vC,KAAM,EAAG7B,GAC/CqxC,EAAanvC,MAAML,KAAMI,YAGlCyE,EAAOrH,UAAUi2C,OAAS,SAAiBj0C,GACzC,IAAKqF,EAAOyQ,SAAS9V,GAAI,MAAM,IAAIK,UAAU,6BAC7C,OAAIG,OAASR,GACsB,IAA5BqF,EAAOquC,QAAQlzC,KAAMR,IAG9BqF,EAAOrH,UAAUk2C,QAAU,WACzB,IAAIxC,EAAM,GACNt7B,EAAMla,EAAQ82C,kBAKlB,OAJIxyC,KAAK7B,OAAS,IAChB+yC,EAAMlxC,KAAK8E,SAAS,MAAO,EAAG8Q,GAAKrD,MAAM,SAAS1T,KAAK,KACnDmB,KAAK7B,OAASyX,IAAKs7B,GAAO,UAEzB,WAAaA,EAAM,KAG5BrsC,EAAOrH,UAAU01C,QAAU,SAAkB3S,EAAQj8B,EAAOC,EAAKovC,EAAWC,GAC1E,IAAK/uC,EAAOyQ,SAASirB,GACnB,MAAM,IAAI1gC,UAAU,6BAgBtB,QAbcmQ,IAAV1L,IACFA,EAAQ,QAEE0L,IAARzL,IACFA,EAAMg8B,EAASA,EAAOpiC,OAAS,QAEf6R,IAAd2jC,IACFA,EAAY,QAEE3jC,IAAZ4jC,IACFA,EAAU5zC,KAAK7B,QAGbmG,EAAQ,GAAKC,EAAMg8B,EAAOpiC,QAAUw1C,EAAY,GAAKC,EAAU5zC,KAAK7B,OACtE,MAAM,IAAIowC,WAAW,sBAGvB,GAAIoF,GAAaC,GAAWtvC,GAASC,EACnC,OAAO,EAET,GAAIovC,GAAaC,EACf,OAAQ,EAEV,GAAItvC,GAASC,EACX,OAAO,EAQT,GAAIvE,OAASugC,EAAQ,OAAO,EAS5B,IAPA,IAAI96B,GAJJmuC,KAAa,IADbD,KAAe,GAMXlyC,GAPJ8C,KAAS,IADTD,KAAW,GASPokC,EAAMxjC,KAAK4Q,IAAIrQ,EAAGhE,GAElBoyC,EAAW7zC,KAAKtB,MAAMi1C,EAAWC,GACjCE,EAAavT,EAAO7hC,MAAM4F,EAAOC,GAE5B3I,EAAI,EAAGA,EAAI8sC,IAAO9sC,EACzB,GAAIi4C,EAASj4C,KAAOk4C,EAAWl4C,GAAI,CACjC6J,EAAIouC,EAASj4C,GACb6F,EAAIqyC,EAAWl4C,GACf,MAIJ,OAAI6J,EAAIhE,GAAW,EACfA,EAAIgE,EAAU,EACX,GA6HTZ,EAAOrH,UAAUqgB,SAAW,SAAmB+uB,EAAK/vB,EAAY8xB,GAC9D,OAAoD,IAA7C3uC,KAAKomB,QAAQwmB,EAAK/vB,EAAY8xB,IAGvC9pC,EAAOrH,UAAU4oB,QAAU,SAAkBwmB,EAAK/vB,EAAY8xB,GAC5D,OAAOqB,EAAqBhwC,KAAM4sC,EAAK/vB,EAAY8xB,GAAU,IAG/D9pC,EAAOrH,UAAU2kC,YAAc,SAAsByK,EAAK/vB,EAAY8xB,GACpE,OAAOqB,EAAqBhwC,KAAM4sC,EAAK/vB,EAAY8xB,GAAU,IAkD/D9pC,EAAOrH,UAAUsxC,MAAQ,SAAgBx+B,EAAQxB,EAAQ3Q,EAAQwwC,GAE/D,QAAe3+B,IAAXlB,EACF6/B,EAAW,OACXxwC,EAAS6B,KAAK7B,OACd2Q,EAAS,OAEJ,QAAekB,IAAX7R,GAA0C,iBAAX2Q,EACxC6/B,EAAW7/B,EACX3Q,EAAS6B,KAAK7B,OACd2Q,EAAS,MAEJ,KAAI0G,SAAS1G,GAWlB,MAAM,IAAImE,MACR,2EAXFnE,GAAkB,EACd0G,SAASrX,IACXA,GAAkB,OACD6R,IAAb2+B,IAAwBA,EAAW,UAEvCA,EAAWxwC,EACXA,OAAS6R,GASb,IAAI8hB,EAAY9xB,KAAK7B,OAAS2Q,EAG9B,SAFekB,IAAX7R,GAAwBA,EAAS2zB,KAAW3zB,EAAS2zB,GAEpDxhB,EAAOnS,OAAS,IAAMA,EAAS,GAAK2Q,EAAS,IAAOA,EAAS9O,KAAK7B,OACrE,MAAM,IAAIowC,WAAW,0CAGlBI,IAAUA,EAAW,QAG1B,IADA,IAAIU,GAAc,IAEhB,OAAQV,GACN,IAAK,MACH,OAAOgC,EAAS3wC,KAAMsQ,EAAQxB,EAAQ3Q,GAExC,IAAK,OACL,IAAK,QACH,OAAO4yC,EAAU/wC,KAAMsQ,EAAQxB,EAAQ3Q,GAEzC,IAAK,QACH,OAAO8yC,EAAWjxC,KAAMsQ,EAAQxB,EAAQ3Q,GAE1C,IAAK,SACL,IAAK,SACH,OAAOkzC,EAAYrxC,KAAMsQ,EAAQxB,EAAQ3Q,GAE3C,IAAK,SAEH,OAAOmzC,EAAYtxC,KAAMsQ,EAAQxB,EAAQ3Q,GAE3C,IAAK,OACL,IAAK,QACL,IAAK,UACL,IAAK,WACH,OAAOozC,EAAUvxC,KAAMsQ,EAAQxB,EAAQ3Q,GAEzC,QACE,GAAIkxC,EAAa,MAAM,IAAIxvC,UAAU,qBAAuB8uC,GAC5DA,GAAY,GAAKA,GAAUzV,cAC3BmW,GAAc,IAKtBxqC,EAAOrH,UAAUoqC,OAAS,WACxB,MAAO,CACL1jC,KAAM,SACNkV,KAAMzZ,MAAMnC,UAAUkB,MAAM3C,KAAKiE,KAAK+zC,MAAQ/zC,KAAM,KA4GxD,SAAS2vC,EAAYW,EAAKhsC,EAAOC,GAC/B,IAAIyvC,EAAM,GACVzvC,EAAMW,KAAK4Q,IAAIw6B,EAAInyC,OAAQoG,GAE3B,IAAK,IAAI3I,EAAI0I,EAAO1I,EAAI2I,IAAO3I,EAC7Bo4C,GAAOl0C,OAAOmF,aAAsB,IAATqrC,EAAI10C,IAEjC,OAAOo4C,EAGT,SAASpE,EAAaU,EAAKhsC,EAAOC,GAChC,IAAIyvC,EAAM,GACVzvC,EAAMW,KAAK4Q,IAAIw6B,EAAInyC,OAAQoG,GAE3B,IAAK,IAAI3I,EAAI0I,EAAO1I,EAAI2I,IAAO3I,EAC7Bo4C,GAAOl0C,OAAOmF,aAAaqrC,EAAI10C,IAEjC,OAAOo4C,EAGT,SAASvE,EAAUa,EAAKhsC,EAAOC,GAC7B,IAAImkC,EAAM4H,EAAInyC,SAETmG,GAASA,EAAQ,KAAGA,EAAQ,KAC5BC,GAAOA,EAAM,GAAKA,EAAMmkC,KAAKnkC,EAAMmkC,GAGxC,IADA,IAAIuL,EAAM,GACDr4C,EAAI0I,EAAO1I,EAAI2I,IAAO3I,EAC7Bq4C,GAAOC,EAAM5D,EAAI10C,IAEnB,OAAOq4C,EAGT,SAASnE,EAAcQ,EAAKhsC,EAAOC,GAGjC,IAFA,IAAI4vC,EAAQ7D,EAAI5xC,MAAM4F,EAAOC,GACzBioC,EAAM,GACD5wC,EAAI,EAAGA,EAAIu4C,EAAMh2C,OAAQvC,GAAK,EACrC4wC,GAAO1sC,OAAOmF,aAAakvC,EAAMv4C,GAAoB,IAAfu4C,EAAMv4C,EAAI,IAElD,OAAO4wC,EA0CT,SAAS4H,EAAatlC,EAAQulC,EAAKl2C,GACjC,GAAK2Q,EAAS,GAAO,GAAKA,EAAS,EAAG,MAAM,IAAIy/B,WAAW,sBAC3D,GAAIz/B,EAASulC,EAAMl2C,EAAQ,MAAM,IAAIowC,WAAW,yCA+JlD,SAAS+F,EAAUhE,EAAKzzC,EAAOiS,EAAQulC,EAAKz+B,EAAKE,GAC/C,IAAKjR,EAAOyQ,SAASg7B,GAAM,MAAM,IAAIzwC,UAAU,+CAC/C,GAAIhD,EAAQ+Y,GAAO/Y,EAAQiZ,EAAK,MAAM,IAAIy4B,WAAW,qCACrD,GAAIz/B,EAASulC,EAAM/D,EAAInyC,OAAQ,MAAM,IAAIowC,WAAW,sBAkDtD,SAASgG,EAAmBjE,EAAKzzC,EAAOiS,EAAQ0lC,GAC1C33C,EAAQ,IAAGA,EAAQ,MAASA,EAAQ,GACxC,IAAK,IAAIjB,EAAI,EAAG80C,EAAIxrC,KAAK4Q,IAAIw6B,EAAInyC,OAAS2Q,EAAQ,GAAIlT,EAAI80C,IAAK90C,EAC7D00C,EAAIxhC,EAASlT,IAAMiB,EAAS,KAAS,GAAK23C,EAAe54C,EAAI,EAAIA,MAClC,GAA5B44C,EAAe54C,EAAI,EAAIA,GA8B9B,SAAS64C,EAAmBnE,EAAKzzC,EAAOiS,EAAQ0lC,GAC1C33C,EAAQ,IAAGA,EAAQ,WAAaA,EAAQ,GAC5C,IAAK,IAAIjB,EAAI,EAAG80C,EAAIxrC,KAAK4Q,IAAIw6B,EAAInyC,OAAS2Q,EAAQ,GAAIlT,EAAI80C,IAAK90C,EAC7D00C,EAAIxhC,EAASlT,GAAMiB,IAAuC,GAA5B23C,EAAe54C,EAAI,EAAIA,GAAU,IAmJnE,SAAS84C,EAAcpE,EAAKzzC,EAAOiS,EAAQulC,EAAKz+B,EAAKE,GACnD,GAAIhH,EAASulC,EAAM/D,EAAInyC,OAAQ,MAAM,IAAIowC,WAAW,sBACpD,GAAIz/B,EAAS,EAAG,MAAM,IAAIy/B,WAAW,sBAGvC,SAASoG,EAAYrE,EAAKzzC,EAAOiS,EAAQ0lC,EAAcI,GAKrD,OAJKA,GACHF,EAAapE,EAAKzzC,EAAOiS,EAAQ,GAEnCo/B,EAAQY,MAAMwB,EAAKzzC,EAAOiS,EAAQ0lC,EAAc,GAAI,GAC7C1lC,EAAS,EAWlB,SAAS+lC,EAAavE,EAAKzzC,EAAOiS,EAAQ0lC,EAAcI,GAKtD,OAJKA,GACHF,EAAapE,EAAKzzC,EAAOiS,EAAQ,GAEnCo/B,EAAQY,MAAMwB,EAAKzzC,EAAOiS,EAAQ0lC,EAAc,GAAI,GAC7C1lC,EAAS,EA/clBjK,EAAOrH,UAAUkB,MAAQ,SAAgB4F,EAAOC,GAC9C,IAoBIuwC,EApBApM,EAAM1oC,KAAK7B,OAqBf,IApBAmG,IAAUA,GAGE,GACVA,GAASokC,GACG,IAAGpkC,EAAQ,GACdA,EAAQokC,IACjBpkC,EAAQokC,IANVnkC,OAAcyL,IAARzL,EAAoBmkC,IAAQnkC,GASxB,GACRA,GAAOmkC,GACG,IAAGnkC,EAAM,GACVA,EAAMmkC,IACfnkC,EAAMmkC,GAGJnkC,EAAMD,IAAOC,EAAMD,GAGnBO,EAAOupC,qBACT0G,EAAS90C,KAAK0yC,SAASpuC,EAAOC,IACvB7E,UAAYmF,EAAOrH,cACrB,CACL,IAAIu3C,EAAWxwC,EAAMD,EACrBwwC,EAAS,IAAIjwC,EAAOkwC,OAAU/kC,GAC9B,IAAK,IAAIpU,EAAI,EAAGA,EAAIm5C,IAAYn5C,EAC9Bk5C,EAAOl5C,GAAKoE,KAAKpE,EAAI0I,GAIzB,OAAOwwC,GAWTjwC,EAAOrH,UAAUw3C,WAAa,SAAqBlmC,EAAQgO,EAAY83B,GACrE9lC,GAAkB,EAClBgO,GAA0B,EACrB83B,GAAUR,EAAYtlC,EAAQgO,EAAY9c,KAAK7B,QAKpD,IAHA,IAAIyuC,EAAM5sC,KAAK8O,GACXmmC,EAAM,EACNr5C,EAAI,IACCA,EAAIkhB,IAAem4B,GAAO,MACjCrI,GAAO5sC,KAAK8O,EAASlT,GAAKq5C,EAG5B,OAAOrI,GAGT/nC,EAAOrH,UAAU03C,WAAa,SAAqBpmC,EAAQgO,EAAY83B,GACrE9lC,GAAkB,EAClBgO,GAA0B,EACrB83B,GACHR,EAAYtlC,EAAQgO,EAAY9c,KAAK7B,QAKvC,IAFA,IAAIyuC,EAAM5sC,KAAK8O,IAAWgO,GACtBm4B,EAAM,EACHn4B,EAAa,IAAMm4B,GAAO,MAC/BrI,GAAO5sC,KAAK8O,IAAWgO,GAAcm4B,EAGvC,OAAOrI,GAGT/nC,EAAOrH,UAAU23C,UAAY,SAAoBrmC,EAAQ8lC,GAEvD,OADKA,GAAUR,EAAYtlC,EAAQ,EAAG9O,KAAK7B,QACpC6B,KAAK8O,IAGdjK,EAAOrH,UAAU43C,aAAe,SAAuBtmC,EAAQ8lC,GAE7D,OADKA,GAAUR,EAAYtlC,EAAQ,EAAG9O,KAAK7B,QACpC6B,KAAK8O,GAAW9O,KAAK8O,EAAS,IAAM,GAG7CjK,EAAOrH,UAAU+yC,aAAe,SAAuBzhC,EAAQ8lC,GAE7D,OADKA,GAAUR,EAAYtlC,EAAQ,EAAG9O,KAAK7B,QACnC6B,KAAK8O,IAAW,EAAK9O,KAAK8O,EAAS,IAG7CjK,EAAOrH,UAAU63C,aAAe,SAAuBvmC,EAAQ8lC,GAG7D,OAFKA,GAAUR,EAAYtlC,EAAQ,EAAG9O,KAAK7B,SAElC6B,KAAK8O,GACT9O,KAAK8O,EAAS,IAAM,EACpB9O,KAAK8O,EAAS,IAAM,IACD,SAAnB9O,KAAK8O,EAAS,IAGrBjK,EAAOrH,UAAU83C,aAAe,SAAuBxmC,EAAQ8lC,GAG7D,OAFKA,GAAUR,EAAYtlC,EAAQ,EAAG9O,KAAK7B,QAEpB,SAAf6B,KAAK8O,IACT9O,KAAK8O,EAAS,IAAM,GACrB9O,KAAK8O,EAAS,IAAM,EACrB9O,KAAK8O,EAAS,KAGlBjK,EAAOrH,UAAU+3C,UAAY,SAAoBzmC,EAAQgO,EAAY83B,GACnE9lC,GAAkB,EAClBgO,GAA0B,EACrB83B,GAAUR,EAAYtlC,EAAQgO,EAAY9c,KAAK7B,QAKpD,IAHA,IAAIyuC,EAAM5sC,KAAK8O,GACXmmC,EAAM,EACNr5C,EAAI,IACCA,EAAIkhB,IAAem4B,GAAO,MACjCrI,GAAO5sC,KAAK8O,EAASlT,GAAKq5C,EAM5B,OAFIrI,IAFJqI,GAAO,OAESrI,GAAO1nC,KAAKswC,IAAI,EAAG,EAAI14B,IAEhC8vB,GAGT/nC,EAAOrH,UAAUi4C,UAAY,SAAoB3mC,EAAQgO,EAAY83B,GACnE9lC,GAAkB,EAClBgO,GAA0B,EACrB83B,GAAUR,EAAYtlC,EAAQgO,EAAY9c,KAAK7B,QAKpD,IAHA,IAAIvC,EAAIkhB,EACJm4B,EAAM,EACNrI,EAAM5sC,KAAK8O,IAAWlT,GACnBA,EAAI,IAAMq5C,GAAO,MACtBrI,GAAO5sC,KAAK8O,IAAWlT,GAAKq5C,EAM9B,OAFIrI,IAFJqI,GAAO,OAESrI,GAAO1nC,KAAKswC,IAAI,EAAG,EAAI14B,IAEhC8vB,GAGT/nC,EAAOrH,UAAUk4C,SAAW,SAAmB5mC,EAAQ8lC,GAErD,OADKA,GAAUR,EAAYtlC,EAAQ,EAAG9O,KAAK7B,QACtB,IAAf6B,KAAK8O,IAC0B,GAA5B,IAAO9O,KAAK8O,GAAU,GADK9O,KAAK8O,IAI3CjK,EAAOrH,UAAUm4C,YAAc,SAAsB7mC,EAAQ8lC,GACtDA,GAAUR,EAAYtlC,EAAQ,EAAG9O,KAAK7B,QAC3C,IAAIyuC,EAAM5sC,KAAK8O,GAAW9O,KAAK8O,EAAS,IAAM,EAC9C,OAAc,MAAN89B,EAAsB,WAANA,EAAmBA,GAG7C/nC,EAAOrH,UAAUo4C,YAAc,SAAsB9mC,EAAQ8lC,GACtDA,GAAUR,EAAYtlC,EAAQ,EAAG9O,KAAK7B,QAC3C,IAAIyuC,EAAM5sC,KAAK8O,EAAS,GAAM9O,KAAK8O,IAAW,EAC9C,OAAc,MAAN89B,EAAsB,WAANA,EAAmBA,GAG7C/nC,EAAOrH,UAAUq4C,YAAc,SAAsB/mC,EAAQ8lC,GAG3D,OAFKA,GAAUR,EAAYtlC,EAAQ,EAAG9O,KAAK7B,QAEnC6B,KAAK8O,GACV9O,KAAK8O,EAAS,IAAM,EACpB9O,KAAK8O,EAAS,IAAM,GACpB9O,KAAK8O,EAAS,IAAM,IAGzBjK,EAAOrH,UAAUs4C,YAAc,SAAsBhnC,EAAQ8lC,GAG3D,OAFKA,GAAUR,EAAYtlC,EAAQ,EAAG9O,KAAK7B,QAEnC6B,KAAK8O,IAAW,GACrB9O,KAAK8O,EAAS,IAAM,GACpB9O,KAAK8O,EAAS,IAAM,EACpB9O,KAAK8O,EAAS,IAGnBjK,EAAOrH,UAAUu4C,YAAc,SAAsBjnC,EAAQ8lC,GAE3D,OADKA,GAAUR,EAAYtlC,EAAQ,EAAG9O,KAAK7B,QACpC+vC,EAAQmC,KAAKrwC,KAAM8O,GAAQ,EAAM,GAAI,IAG9CjK,EAAOrH,UAAUw4C,YAAc,SAAsBlnC,EAAQ8lC,GAE3D,OADKA,GAAUR,EAAYtlC,EAAQ,EAAG9O,KAAK7B,QACpC+vC,EAAQmC,KAAKrwC,KAAM8O,GAAQ,EAAO,GAAI,IAG/CjK,EAAOrH,UAAUy4C,aAAe,SAAuBnnC,EAAQ8lC,GAE7D,OADKA,GAAUR,EAAYtlC,EAAQ,EAAG9O,KAAK7B,QACpC+vC,EAAQmC,KAAKrwC,KAAM8O,GAAQ,EAAM,GAAI,IAG9CjK,EAAOrH,UAAU04C,aAAe,SAAuBpnC,EAAQ8lC,GAE7D,OADKA,GAAUR,EAAYtlC,EAAQ,EAAG9O,KAAK7B,QACpC+vC,EAAQmC,KAAKrwC,KAAM8O,GAAQ,EAAO,GAAI,IAS/CjK,EAAOrH,UAAU24C,YAAc,SAAsBt5C,EAAOiS,EAAQgO,EAAY83B,IAC9E/3C,GAASA,EACTiS,GAAkB,EAClBgO,GAA0B,EACrB83B,IAEHN,EAASt0C,KAAMnD,EAAOiS,EAAQgO,EADf5X,KAAKswC,IAAI,EAAG,EAAI14B,GAAc,EACO,GAGtD,IAAIm4B,EAAM,EACNr5C,EAAI,EAER,IADAoE,KAAK8O,GAAkB,IAARjS,IACNjB,EAAIkhB,IAAem4B,GAAO,MACjCj1C,KAAK8O,EAASlT,GAAMiB,EAAQo4C,EAAO,IAGrC,OAAOnmC,EAASgO,GAGlBjY,EAAOrH,UAAU44C,YAAc,SAAsBv5C,EAAOiS,EAAQgO,EAAY83B,IAC9E/3C,GAASA,EACTiS,GAAkB,EAClBgO,GAA0B,EACrB83B,IAEHN,EAASt0C,KAAMnD,EAAOiS,EAAQgO,EADf5X,KAAKswC,IAAI,EAAG,EAAI14B,GAAc,EACO,GAGtD,IAAIlhB,EAAIkhB,EAAa,EACjBm4B,EAAM,EAEV,IADAj1C,KAAK8O,EAASlT,GAAa,IAARiB,IACVjB,GAAK,IAAMq5C,GAAO,MACzBj1C,KAAK8O,EAASlT,GAAMiB,EAAQo4C,EAAO,IAGrC,OAAOnmC,EAASgO,GAGlBjY,EAAOrH,UAAU64C,WAAa,SAAqBx5C,EAAOiS,EAAQ8lC,GAMhE,OALA/3C,GAASA,EACTiS,GAAkB,EACb8lC,GAAUN,EAASt0C,KAAMnD,EAAOiS,EAAQ,EAAG,IAAM,GACjDjK,EAAOupC,sBAAqBvxC,EAAQqI,KAAKE,MAAMvI,IACpDmD,KAAK8O,GAAmB,IAARjS,EACTiS,EAAS,GAWlBjK,EAAOrH,UAAU84C,cAAgB,SAAwBz5C,EAAOiS,EAAQ8lC,GAUtE,OATA/3C,GAASA,EACTiS,GAAkB,EACb8lC,GAAUN,EAASt0C,KAAMnD,EAAOiS,EAAQ,EAAG,MAAQ,GACpDjK,EAAOupC,qBACTpuC,KAAK8O,GAAmB,IAARjS,EAChBmD,KAAK8O,EAAS,GAAMjS,IAAU,GAE9B03C,EAAkBv0C,KAAMnD,EAAOiS,GAAQ,GAElCA,EAAS,GAGlBjK,EAAOrH,UAAU+4C,cAAgB,SAAwB15C,EAAOiS,EAAQ8lC,GAUtE,OATA/3C,GAASA,EACTiS,GAAkB,EACb8lC,GAAUN,EAASt0C,KAAMnD,EAAOiS,EAAQ,EAAG,MAAQ,GACpDjK,EAAOupC,qBACTpuC,KAAK8O,GAAWjS,IAAU,EAC1BmD,KAAK8O,EAAS,GAAc,IAARjS,GAEpB03C,EAAkBv0C,KAAMnD,EAAOiS,GAAQ,GAElCA,EAAS,GAUlBjK,EAAOrH,UAAUg5C,cAAgB,SAAwB35C,EAAOiS,EAAQ8lC,GAYtE,OAXA/3C,GAASA,EACTiS,GAAkB,EACb8lC,GAAUN,EAASt0C,KAAMnD,EAAOiS,EAAQ,EAAG,WAAY,GACxDjK,EAAOupC,qBACTpuC,KAAK8O,EAAS,GAAMjS,IAAU,GAC9BmD,KAAK8O,EAAS,GAAMjS,IAAU,GAC9BmD,KAAK8O,EAAS,GAAMjS,IAAU,EAC9BmD,KAAK8O,GAAmB,IAARjS,GAEhB43C,EAAkBz0C,KAAMnD,EAAOiS,GAAQ,GAElCA,EAAS,GAGlBjK,EAAOrH,UAAUi5C,cAAgB,SAAwB55C,EAAOiS,EAAQ8lC,GAYtE,OAXA/3C,GAASA,EACTiS,GAAkB,EACb8lC,GAAUN,EAASt0C,KAAMnD,EAAOiS,EAAQ,EAAG,WAAY,GACxDjK,EAAOupC,qBACTpuC,KAAK8O,GAAWjS,IAAU,GAC1BmD,KAAK8O,EAAS,GAAMjS,IAAU,GAC9BmD,KAAK8O,EAAS,GAAMjS,IAAU,EAC9BmD,KAAK8O,EAAS,GAAc,IAARjS,GAEpB43C,EAAkBz0C,KAAMnD,EAAOiS,GAAQ,GAElCA,EAAS,GAGlBjK,EAAOrH,UAAUk5C,WAAa,SAAqB75C,EAAOiS,EAAQgO,EAAY83B,GAG5E,GAFA/3C,GAASA,EACTiS,GAAkB,GACb8lC,EAAU,CACb,IAAIrW,EAAQr5B,KAAKswC,IAAI,EAAG,EAAI14B,EAAa,GAEzCw3B,EAASt0C,KAAMnD,EAAOiS,EAAQgO,EAAYyhB,EAAQ,GAAIA,GAGxD,IAAI3iC,EAAI,EACJq5C,EAAM,EACN0B,EAAM,EAEV,IADA32C,KAAK8O,GAAkB,IAARjS,IACNjB,EAAIkhB,IAAem4B,GAAO,MAC7Bp4C,EAAQ,GAAa,IAAR85C,GAAsC,IAAzB32C,KAAK8O,EAASlT,EAAI,KAC9C+6C,EAAM,GAER32C,KAAK8O,EAASlT,IAAOiB,EAAQo4C,GAAQ,GAAK0B,EAAM,IAGlD,OAAO7nC,EAASgO,GAGlBjY,EAAOrH,UAAUo5C,WAAa,SAAqB/5C,EAAOiS,EAAQgO,EAAY83B,GAG5E,GAFA/3C,GAASA,EACTiS,GAAkB,GACb8lC,EAAU,CACb,IAAIrW,EAAQr5B,KAAKswC,IAAI,EAAG,EAAI14B,EAAa,GAEzCw3B,EAASt0C,KAAMnD,EAAOiS,EAAQgO,EAAYyhB,EAAQ,GAAIA,GAGxD,IAAI3iC,EAAIkhB,EAAa,EACjBm4B,EAAM,EACN0B,EAAM,EAEV,IADA32C,KAAK8O,EAASlT,GAAa,IAARiB,IACVjB,GAAK,IAAMq5C,GAAO,MACrBp4C,EAAQ,GAAa,IAAR85C,GAAsC,IAAzB32C,KAAK8O,EAASlT,EAAI,KAC9C+6C,EAAM,GAER32C,KAAK8O,EAASlT,IAAOiB,EAAQo4C,GAAQ,GAAK0B,EAAM,IAGlD,OAAO7nC,EAASgO,GAGlBjY,EAAOrH,UAAUq5C,UAAY,SAAoBh6C,EAAOiS,EAAQ8lC,GAO9D,OANA/3C,GAASA,EACTiS,GAAkB,EACb8lC,GAAUN,EAASt0C,KAAMnD,EAAOiS,EAAQ,EAAG,KAAO,KAClDjK,EAAOupC,sBAAqBvxC,EAAQqI,KAAKE,MAAMvI,IAChDA,EAAQ,IAAGA,EAAQ,IAAOA,EAAQ,GACtCmD,KAAK8O,GAAmB,IAARjS,EACTiS,EAAS,GAGlBjK,EAAOrH,UAAUs5C,aAAe,SAAuBj6C,EAAOiS,EAAQ8lC,GAUpE,OATA/3C,GAASA,EACTiS,GAAkB,EACb8lC,GAAUN,EAASt0C,KAAMnD,EAAOiS,EAAQ,EAAG,OAAS,OACrDjK,EAAOupC,qBACTpuC,KAAK8O,GAAmB,IAARjS,EAChBmD,KAAK8O,EAAS,GAAMjS,IAAU,GAE9B03C,EAAkBv0C,KAAMnD,EAAOiS,GAAQ,GAElCA,EAAS,GAGlBjK,EAAOrH,UAAUu5C,aAAe,SAAuBl6C,EAAOiS,EAAQ8lC,GAUpE,OATA/3C,GAASA,EACTiS,GAAkB,EACb8lC,GAAUN,EAASt0C,KAAMnD,EAAOiS,EAAQ,EAAG,OAAS,OACrDjK,EAAOupC,qBACTpuC,KAAK8O,GAAWjS,IAAU,EAC1BmD,KAAK8O,EAAS,GAAc,IAARjS,GAEpB03C,EAAkBv0C,KAAMnD,EAAOiS,GAAQ,GAElCA,EAAS,GAGlBjK,EAAOrH,UAAUw5C,aAAe,SAAuBn6C,EAAOiS,EAAQ8lC,GAYpE,OAXA/3C,GAASA,EACTiS,GAAkB,EACb8lC,GAAUN,EAASt0C,KAAMnD,EAAOiS,EAAQ,EAAG,YAAa,YACzDjK,EAAOupC,qBACTpuC,KAAK8O,GAAmB,IAARjS,EAChBmD,KAAK8O,EAAS,GAAMjS,IAAU,EAC9BmD,KAAK8O,EAAS,GAAMjS,IAAU,GAC9BmD,KAAK8O,EAAS,GAAMjS,IAAU,IAE9B43C,EAAkBz0C,KAAMnD,EAAOiS,GAAQ,GAElCA,EAAS,GAGlBjK,EAAOrH,UAAUy5C,aAAe,SAAuBp6C,EAAOiS,EAAQ8lC,GAapE,OAZA/3C,GAASA,EACTiS,GAAkB,EACb8lC,GAAUN,EAASt0C,KAAMnD,EAAOiS,EAAQ,EAAG,YAAa,YACzDjS,EAAQ,IAAGA,EAAQ,WAAaA,EAAQ,GACxCgI,EAAOupC,qBACTpuC,KAAK8O,GAAWjS,IAAU,GAC1BmD,KAAK8O,EAAS,GAAMjS,IAAU,GAC9BmD,KAAK8O,EAAS,GAAMjS,IAAU,EAC9BmD,KAAK8O,EAAS,GAAc,IAARjS,GAEpB43C,EAAkBz0C,KAAMnD,EAAOiS,GAAQ,GAElCA,EAAS,GAgBlBjK,EAAOrH,UAAU05C,aAAe,SAAuBr6C,EAAOiS,EAAQ8lC,GACpE,OAAOD,EAAW30C,KAAMnD,EAAOiS,GAAQ,EAAM8lC,IAG/C/vC,EAAOrH,UAAU25C,aAAe,SAAuBt6C,EAAOiS,EAAQ8lC,GACpE,OAAOD,EAAW30C,KAAMnD,EAAOiS,GAAQ,EAAO8lC,IAWhD/vC,EAAOrH,UAAU45C,cAAgB,SAAwBv6C,EAAOiS,EAAQ8lC,GACtE,OAAOC,EAAY70C,KAAMnD,EAAOiS,GAAQ,EAAM8lC,IAGhD/vC,EAAOrH,UAAU65C,cAAgB,SAAwBx6C,EAAOiS,EAAQ8lC,GACtE,OAAOC,EAAY70C,KAAMnD,EAAOiS,GAAQ,EAAO8lC,IAIjD/vC,EAAOrH,UAAUqsB,KAAO,SAAe0W,EAAQ+W,EAAahzC,EAAOC,GAQjE,GAPKD,IAAOA,EAAQ,GACfC,GAAe,IAARA,IAAWA,EAAMvE,KAAK7B,QAC9Bm5C,GAAe/W,EAAOpiC,SAAQm5C,EAAc/W,EAAOpiC,QAClDm5C,IAAaA,EAAc,GAC5B/yC,EAAM,GAAKA,EAAMD,IAAOC,EAAMD,GAG9BC,IAAQD,EAAO,OAAO,EAC1B,GAAsB,IAAlBi8B,EAAOpiC,QAAgC,IAAhB6B,KAAK7B,OAAc,OAAO,EAGrD,GAAIm5C,EAAc,EAChB,MAAM,IAAI/I,WAAW,6BAEvB,GAAIjqC,EAAQ,GAAKA,GAAStE,KAAK7B,OAAQ,MAAM,IAAIowC,WAAW,6BAC5D,GAAIhqC,EAAM,EAAG,MAAM,IAAIgqC,WAAW,2BAG9BhqC,EAAMvE,KAAK7B,SAAQoG,EAAMvE,KAAK7B,QAC9BoiC,EAAOpiC,OAASm5C,EAAc/yC,EAAMD,IACtCC,EAAMg8B,EAAOpiC,OAASm5C,EAAchzC,GAGtC,IACI1I,EADA8sC,EAAMnkC,EAAMD,EAGhB,GAAItE,OAASugC,GAAUj8B,EAAQgzC,GAAeA,EAAc/yC,EAE1D,IAAK3I,EAAI8sC,EAAM,EAAG9sC,GAAK,IAAKA,EAC1B2kC,EAAO3kC,EAAI07C,GAAet3C,KAAKpE,EAAI0I,QAEhC,GAAIokC,EAAM,MAAS7jC,EAAOupC,oBAE/B,IAAKxyC,EAAI,EAAGA,EAAI8sC,IAAO9sC,EACrB2kC,EAAO3kC,EAAI07C,GAAet3C,KAAKpE,EAAI0I,QAGrC0P,WAAWxW,UAAUyU,IAAIlW,KACvBwkC,EACAvgC,KAAK0yC,SAASpuC,EAAOA,EAAQokC,GAC7B4O,GAIJ,OAAO5O,GAOT7jC,EAAOrH,UAAUg/B,KAAO,SAAeoQ,EAAKtoC,EAAOC,EAAKoqC,GAEtD,GAAmB,iBAAR/B,EAAkB,CAS3B,GARqB,iBAAVtoC,GACTqqC,EAAWrqC,EACXA,EAAQ,EACRC,EAAMvE,KAAK7B,QACa,iBAARoG,IAChBoqC,EAAWpqC,EACXA,EAAMvE,KAAK7B,QAEM,IAAfyuC,EAAIzuC,OAAc,CACpB,IAAIo5C,EAAO3K,EAAI1a,WAAW,GACtBqlB,EAAO,MACT3K,EAAM2K,GAGV,QAAiBvnC,IAAb2+B,GAA8C,iBAAbA,EACnC,MAAM,IAAI9uC,UAAU,6BAEtB,GAAwB,iBAAb8uC,IAA0B9pC,EAAO+pC,WAAWD,GACrD,MAAM,IAAI9uC,UAAU,qBAAuB8uC,OAErB,iBAAR/B,IAChBA,GAAY,KAId,GAAItoC,EAAQ,GAAKtE,KAAK7B,OAASmG,GAAStE,KAAK7B,OAASoG,EACpD,MAAM,IAAIgqC,WAAW,sBAGvB,GAAIhqC,GAAOD,EACT,OAAOtE,KAQT,IAAIpE,EACJ,GANA0I,KAAkB,EAClBC,OAAcyL,IAARzL,EAAoBvE,KAAK7B,OAASoG,IAAQ,EAE3CqoC,IAAKA,EAAM,GAGG,iBAARA,EACT,IAAKhxC,EAAI0I,EAAO1I,EAAI2I,IAAO3I,EACzBoE,KAAKpE,GAAKgxC,MAEP,CACL,IAAIuH,EAAQtvC,EAAOyQ,SAASs3B,GACxBA,EACA0C,EAAY,IAAIzqC,EAAO+nC,EAAK+B,GAAU7pC,YACtC4jC,EAAMyL,EAAMh2C,OAChB,IAAKvC,EAAI,EAAGA,EAAI2I,EAAMD,IAAS1I,EAC7BoE,KAAKpE,EAAI0I,GAAS6vC,EAAMv4C,EAAI8sC,GAIhC,OAAO1oC,MAMT,IAAIw3C,EAAoB,qBAmBxB,SAAStD,EAAO72C,GACd,OAAIA,EAAI,GAAW,IAAMA,EAAEyH,SAAS,IAC7BzH,EAAEyH,SAAS,IAGpB,SAASwqC,EAAah/B,EAAQkhC,GAE5B,IAAIU,EADJV,EAAQA,GAAS1wB,IAMjB,IAJA,IAAI3iB,EAASmS,EAAOnS,OAChBs5C,EAAgB,KAChBtD,EAAQ,GAEHv4C,EAAI,EAAGA,EAAIuC,IAAUvC,EAAG,CAI/B,IAHAs2C,EAAY5hC,EAAO4hB,WAAWt2B,IAGd,OAAUs2C,EAAY,MAAQ,CAE5C,IAAKuF,EAAe,CAElB,GAAIvF,EAAY,MAAQ,EAEjBV,GAAS,IAAM,GAAG2C,EAAM/1C,KAAK,IAAM,IAAM,KAC9C,SACK,GAAIxC,EAAI,IAAMuC,EAAQ,EAEtBqzC,GAAS,IAAM,GAAG2C,EAAM/1C,KAAK,IAAM,IAAM,KAC9C,SAIFq5C,EAAgBvF,EAEhB,SAIF,GAAIA,EAAY,MAAQ,EACjBV,GAAS,IAAM,GAAG2C,EAAM/1C,KAAK,IAAM,IAAM,KAC9Cq5C,EAAgBvF,EAChB,SAIFA,EAAkE,OAArDuF,EAAgB,OAAU,GAAKvF,EAAY,YAC/CuF,IAEJjG,GAAS,IAAM,GAAG2C,EAAM/1C,KAAK,IAAM,IAAM,KAMhD,GAHAq5C,EAAgB,KAGZvF,EAAY,IAAM,CACpB,IAAKV,GAAS,GAAK,EAAG,MACtB2C,EAAM/1C,KAAK8zC,QACN,GAAIA,EAAY,KAAO,CAC5B,IAAKV,GAAS,GAAK,EAAG,MACtB2C,EAAM/1C,KACJ8zC,GAAa,EAAM,IACP,GAAZA,EAAmB,UAEhB,GAAIA,EAAY,MAAS,CAC9B,IAAKV,GAAS,GAAK,EAAG,MACtB2C,EAAM/1C,KACJ8zC,GAAa,GAAM,IACnBA,GAAa,EAAM,GAAO,IACd,GAAZA,EAAmB,SAEhB,MAAIA,EAAY,SASrB,MAAM,IAAIj/B,MAAM,sBARhB,IAAKu+B,GAAS,GAAK,EAAG,MACtB2C,EAAM/1C,KACJ8zC,GAAa,GAAO,IACpBA,GAAa,GAAM,GAAO,IAC1BA,GAAa,EAAM,GAAO,IACd,GAAZA,EAAmB,MAOzB,OAAOiC,EA4BT,SAAS5E,EAAe2B,GACtB,OAAOjD,EAAOyJ,YAhIhB,SAAsBxG,GAIpB,IAFAA,EAUF,SAAqBA,GACnB,OAAIA,EAAI3L,KAAa2L,EAAI3L,OAClB2L,EAAI7rC,QAAQ,aAAc,IAZ3BsyC,CAAWzG,GAAK7rC,QAAQmyC,EAAmB,KAEzCr5C,OAAS,EAAG,MAAO,GAE3B,KAAO+yC,EAAI/yC,OAAS,GAAM,GACxB+yC,GAAY,IAEd,OAAOA,EAuHmB0G,CAAY1G,IAGxC,SAASF,EAAYryC,EAAKk5C,EAAK/oC,EAAQ3Q,GACrC,IAAK,IAAIvC,EAAI,EAAGA,EAAIuC,KACbvC,EAAIkT,GAAU+oC,EAAI15C,QAAYvC,GAAK+C,EAAIR,UADhBvC,EAE5Bi8C,EAAIj8C,EAAIkT,GAAUnQ,EAAI/C,GAExB,OAAOA,K,8CCrvDTF,EAAQohB,WAuCR,SAAqBg7B,GACnB,IAAIC,EAAOC,EAAQF,GACfG,EAAWF,EAAK,GAChBG,EAAkBH,EAAK,GAC3B,OAAuC,GAA9BE,EAAWC,GAAuB,EAAKA,GA1ClDx8C,EAAQg8C,YAiDR,SAAsBI,GACpB,IAAIK,EAcAv8C,EAbAm8C,EAAOC,EAAQF,GACfG,EAAWF,EAAK,GAChBG,EAAkBH,EAAK,GAEvB7H,EAAM,IAAIkI,EAVhB,SAAsBN,EAAKG,EAAUC,GACnC,OAAuC,GAA9BD,EAAWC,GAAuB,EAAKA,EAS9BG,CAAYP,EAAKG,EAAUC,IAEzCI,EAAU,EAGV5P,EAAMwP,EAAkB,EACxBD,EAAW,EACXA,EAGJ,IAAKr8C,EAAI,EAAGA,EAAI8sC,EAAK9sC,GAAK,EACxBu8C,EACGI,EAAUT,EAAI5lB,WAAWt2B,KAAO,GAChC28C,EAAUT,EAAI5lB,WAAWt2B,EAAI,KAAO,GACpC28C,EAAUT,EAAI5lB,WAAWt2B,EAAI,KAAO,EACrC28C,EAAUT,EAAI5lB,WAAWt2B,EAAI,IAC/Bs0C,EAAIoI,KAAcH,GAAO,GAAM,IAC/BjI,EAAIoI,KAAcH,GAAO,EAAK,IAC9BjI,EAAIoI,KAAmB,IAANH,EAGK,IAApBD,IACFC,EACGI,EAAUT,EAAI5lB,WAAWt2B,KAAO,EAChC28C,EAAUT,EAAI5lB,WAAWt2B,EAAI,KAAO,EACvCs0C,EAAIoI,KAAmB,IAANH,GAGK,IAApBD,IACFC,EACGI,EAAUT,EAAI5lB,WAAWt2B,KAAO,GAChC28C,EAAUT,EAAI5lB,WAAWt2B,EAAI,KAAO,EACpC28C,EAAUT,EAAI5lB,WAAWt2B,EAAI,KAAO,EACvCs0C,EAAIoI,KAAcH,GAAO,EAAK,IAC9BjI,EAAIoI,KAAmB,IAANH,GAGnB,OAAOjI,GA3FTx0C,EAAQk2C,cAkHR,SAAwB4G,GAQtB,IAPA,IAAIL,EACAzP,EAAM8P,EAAMr6C,OACZs6C,EAAa/P,EAAM,EACnBgQ,EAAQ,GAIH98C,EAAI,EAAG+8C,EAAOjQ,EAAM+P,EAAY78C,EAAI+8C,EAAM/8C,GAH9B,MAInB88C,EAAMt6C,KAAKw6C,EAAYJ,EAAO58C,EAAIA,EAJf,MAIqC+8C,EAAOA,EAAQ/8C,EAJpD,QAQF,IAAf68C,GACFN,EAAMK,EAAM9P,EAAM,GAClBgQ,EAAMt6C,KACJy6C,EAAOV,GAAO,GACdU,EAAQV,GAAO,EAAK,IACpB,OAEsB,IAAfM,IACTN,GAAOK,EAAM9P,EAAM,IAAM,GAAK8P,EAAM9P,EAAM,GAC1CgQ,EAAMt6C,KACJy6C,EAAOV,GAAO,IACdU,EAAQV,GAAO,EAAK,IACpBU,EAAQV,GAAO,EAAK,IACpB,MAIJ,OAAOO,EAAM75C,KAAK,KAzIpB,IALA,IAAIg6C,EAAS,GACTN,EAAY,GACZH,EAA4B,oBAAfpkC,WAA6BA,WAAarU,MAEvD43C,EAAO,mEACF37C,EAAI,EAAG8sC,EAAM6O,EAAKp5C,OAAQvC,EAAI8sC,IAAO9sC,EAC5Ci9C,EAAOj9C,GAAK27C,EAAK37C,GACjB28C,EAAUhB,EAAKrlB,WAAWt2B,IAAMA,EAQlC,SAASo8C,EAASF,GAChB,IAAIpP,EAAMoP,EAAI35C,OAEd,GAAIuqC,EAAM,EAAI,EACZ,MAAM,IAAIz1B,MAAM,kDAKlB,IAAIglC,EAAWH,EAAI1xB,QAAQ,KAO3B,OANkB,IAAd6xB,IAAiBA,EAAWvP,GAMzB,CAACuP,EAJcA,IAAavP,EAC/B,EACA,EAAKuP,EAAW,GAsEtB,SAASW,EAAaJ,EAAOl0C,EAAOC,GAGlC,IAFA,IAAI4zC,EARoBW,EASpBC,EAAS,GACJn9C,EAAI0I,EAAO1I,EAAI2I,EAAK3I,GAAK,EAChCu8C,GACIK,EAAM58C,IAAM,GAAM,WAClB48C,EAAM58C,EAAI,IAAM,EAAK,QACP,IAAf48C,EAAM58C,EAAI,IACbm9C,EAAO36C,KAdFy6C,GADiBC,EAeMX,IAdT,GAAK,IACxBU,EAAOC,GAAO,GAAK,IACnBD,EAAOC,GAAO,EAAI,IAClBD,EAAa,GAANC,IAaT,OAAOC,EAAOl6C,KAAK,IAjGrB05C,EAAU,IAAIrmB,WAAW,IAAM,GAC/BqmB,EAAU,IAAIrmB,WAAW,IAAM,I,cClB/Bx2B,EAAQ20C,KAAO,SAAUzzB,EAAQ9N,EAAQkqC,EAAMC,EAAMC,GACnD,IAAIj4C,EAAGjF,EACHm9C,EAAiB,EAATD,EAAcD,EAAO,EAC7BG,GAAQ,GAAKD,GAAQ,EACrBE,EAAQD,GAAQ,EAChBE,GAAS,EACT19C,EAAIo9C,EAAQE,EAAS,EAAK,EAC1Bh9C,EAAI88C,GAAQ,EAAI,EAChB16C,EAAIse,EAAO9N,EAASlT,GAOxB,IALAA,GAAKM,EAEL+E,EAAI3C,GAAM,IAAOg7C,GAAU,EAC3Bh7C,KAAQg7C,EACRA,GAASH,EACFG,EAAQ,EAAGr4C,EAAS,IAAJA,EAAW2b,EAAO9N,EAASlT,GAAIA,GAAKM,EAAGo9C,GAAS,GAKvE,IAHAt9C,EAAIiF,GAAM,IAAOq4C,GAAU,EAC3Br4C,KAAQq4C,EACRA,GAASL,EACFK,EAAQ,EAAGt9C,EAAS,IAAJA,EAAW4gB,EAAO9N,EAASlT,GAAIA,GAAKM,EAAGo9C,GAAS,GAEvE,GAAU,IAANr4C,EACFA,EAAI,EAAIo4C,MACH,IAAIp4C,IAAMm4C,EACf,OAAOp9C,EAAIu9C,IAAsBz4B,KAAdxiB,GAAK,EAAI,GAE5BtC,GAAQkJ,KAAKswC,IAAI,EAAGyD,GACpBh4C,GAAQo4C,EAEV,OAAQ/6C,GAAK,EAAI,GAAKtC,EAAIkJ,KAAKswC,IAAI,EAAGv0C,EAAIg4C,IAG5Cv9C,EAAQozC,MAAQ,SAAUlyB,EAAQ/f,EAAOiS,EAAQkqC,EAAMC,EAAMC,GAC3D,IAAIj4C,EAAGjF,EAAGC,EACNk9C,EAAiB,EAATD,EAAcD,EAAO,EAC7BG,GAAQ,GAAKD,GAAQ,EACrBE,EAAQD,GAAQ,EAChBI,EAAe,KAATP,EAAc/zC,KAAKswC,IAAI,GAAI,IAAMtwC,KAAKswC,IAAI,GAAI,IAAM,EAC1D55C,EAAIo9C,EAAO,EAAKE,EAAS,EACzBh9C,EAAI88C,EAAO,GAAK,EAChB16C,EAAIzB,EAAQ,GAAgB,IAAVA,GAAe,EAAIA,EAAQ,EAAK,EAAI,EAmC1D,IAjCAA,EAAQqI,KAAKu0C,IAAI58C,GAEb8kC,MAAM9kC,IAAUA,IAAUikB,KAC5B9kB,EAAI2lC,MAAM9kC,GAAS,EAAI,EACvBoE,EAAIm4C,IAEJn4C,EAAIiE,KAAKE,MAAMF,KAAKw0C,IAAI78C,GAASqI,KAAKy0C,KAClC98C,GAASZ,EAAIiJ,KAAKswC,IAAI,GAAIv0C,IAAM,IAClCA,IACAhF,GAAK,IAGLY,GADEoE,EAAIo4C,GAAS,EACNG,EAAKv9C,EAELu9C,EAAKt0C,KAAKswC,IAAI,EAAG,EAAI6D,IAEpBp9C,GAAK,IACfgF,IACAhF,GAAK,GAGHgF,EAAIo4C,GAASD,GACfp9C,EAAI,EACJiF,EAAIm4C,GACKn4C,EAAIo4C,GAAS,GACtBr9C,GAAMa,EAAQZ,EAAK,GAAKiJ,KAAKswC,IAAI,EAAGyD,GACpCh4C,GAAQo4C,IAERr9C,EAAIa,EAAQqI,KAAKswC,IAAI,EAAG6D,EAAQ,GAAKn0C,KAAKswC,IAAI,EAAGyD,GACjDh4C,EAAI,IAIDg4C,GAAQ,EAAGr8B,EAAO9N,EAASlT,GAAS,IAAJI,EAAUJ,GAAKM,EAAGF,GAAK,IAAKi9C,GAAQ,GAI3E,IAFAh4C,EAAKA,GAAKg4C,EAAQj9C,EAClBm9C,GAAQF,EACDE,EAAO,EAAGv8B,EAAO9N,EAASlT,GAAS,IAAJqF,EAAUrF,GAAKM,EAAG+E,GAAK,IAAKk4C,GAAQ,GAE1Ev8B,EAAO9N,EAASlT,EAAIM,IAAU,IAAJoC,I,cCnF5B,IAAIwG,EAAW,GAAGA,SAElBnJ,EAAOD,QAAUiE,MAAM4X,SAAW,SAAU24B,GAC1C,MAA6B,kBAAtBprC,EAAS/I,KAAKm0C,K,iBCHvB,6BACI,aAEA,IAAInkC,EAAOm+B,aAAX,CAIA,IAIIO,EA6HIC,EAZAC,EArBAC,EACAC,EAjGJK,EAAa,EACbF,EAAgB,GAChB4O,GAAwB,EACxB3O,EAAMl/B,EAAOjO,SAoJb+7C,EAAWv9C,OAAO6X,gBAAkB7X,OAAO6X,eAAepI,GAC9D8tC,EAAWA,GAAYA,EAAS9kC,WAAa8kC,EAAW9tC,EAGf,qBAArC,GAAGjH,SAAS/I,KAAKgQ,EAAO/I,SApFxBynC,EAAoB,SAASH,GACzBtnC,EAAQ+lC,UAAS,WAAcoC,EAAab,QAIpD,WAGI,GAAIv+B,EAAOs/B,cAAgBt/B,EAAOu/B,cAAe,CAC7C,IAAIwO,GAA4B,EAC5BtO,EAAez/B,EAAO0/B,UAM1B,OALA1/B,EAAO0/B,UAAY,WACfqO,GAA4B,GAEhC/tC,EAAOs/B,YAAY,GAAI,KACvBt/B,EAAO0/B,UAAYD,EACZsO,GAwEJpO,GAIA3/B,EAAO+/B,iBA9CVnB,EAAU,IAAImB,gBACVC,MAAMN,UAAY,SAASE,GAE/BR,EADaQ,EAAMvyB,OAIvBqxB,EAAoB,SAASH,GACzBK,EAAQqB,MAAMX,YAAYf,KA2CvBW,GAAO,uBAAwBA,EAAIgB,cAAc,WAtCpDvB,EAAOO,EAAIiB,gBACfzB,EAAoB,SAASH,GAGzB,IAAIzsC,EAASotC,EAAIgB,cAAc,UAC/BpuC,EAAOsuC,mBAAqB,WACxBhB,EAAab,GACbzsC,EAAOsuC,mBAAqB,KAC5BzB,EAAK0B,YAAYvuC,GACjBA,EAAS,MAEb6sC,EAAK2B,YAAYxuC,KAKrB4sC,EAAoB,SAASH,GACzBv1B,WAAWo2B,EAAc,EAAGb,KAlD5BM,EAAgB,gBAAkB1lC,KAAKC,SAAW,IAClD0lC,EAAkB,SAASc,GACvBA,EAAM9jC,SAAWkE,GACK,iBAAf4/B,EAAMvyB,MACyB,IAAtCuyB,EAAMvyB,KAAKgN,QAAQwkB,IACnBO,GAAcQ,EAAMvyB,KAAK1a,MAAMksC,EAAczsC,UAIjD4N,EAAO6/B,iBACP7/B,EAAO6/B,iBAAiB,UAAWf,GAAiB,GAEpD9+B,EAAO8/B,YAAY,YAAahB,GAGpCJ,EAAoB,SAASH,GACzBv+B,EAAOs/B,YAAYT,EAAgBN,EAAQ,OAgEnDuP,EAAS3P,aA1KT,SAAsBre,GAEI,mBAAbA,IACTA,EAAW,IAAI1f,SAAS,GAAK0f,IAI/B,IADA,IAAIne,EAAO,IAAI/N,MAAMS,UAAUjC,OAAS,GAC/BvC,EAAI,EAAGA,EAAI8R,EAAKvP,OAAQvC,IAC7B8R,EAAK9R,GAAKwE,UAAUxE,EAAI,GAG5B,IAAIwvC,EAAO,CAAEvf,SAAUA,EAAUne,KAAMA,GAGvC,OAFAs9B,EAAcE,GAAcE,EAC5BX,EAAkBS,GACXA,KA6JT2O,EAASxP,eAAiBA,EA1J1B,SAASA,EAAeC,UACbU,EAAcV,GAyBzB,SAASa,EAAab,GAGlB,GAAIsP,EAGA7kC,WAAWo2B,EAAc,EAAGb,OACzB,CACH,IAAIc,EAAOJ,EAAcV,GACzB,GAAIc,EAAM,CACNwO,GAAwB,EACxB,KAjCZ,SAAaxO,GACT,IAAIvf,EAAWuf,EAAKvf,SAChBne,EAAO09B,EAAK19B,KAChB,OAAQA,EAAKvP,QACb,KAAK,EACD0tB,IACA,MACJ,KAAK,EACDA,EAASne,EAAK,IACd,MACJ,KAAK,EACDme,EAASne,EAAK,GAAIA,EAAK,IACvB,MACJ,KAAK,EACDme,EAASne,EAAK,GAAIA,EAAK,GAAIA,EAAK,IAChC,MACJ,QACIme,EAASxrB,WAnDrB,EAmDsCqN,IAiBlBi7B,CAAIyC,GACN,QACEf,EAAeC,GACfsP,GAAwB,MAvE5C,CAyLkB,oBAAT3tC,UAAyC,IAAXF,EAAyB/L,KAAO+L,EAASE,Q,oCCzLhFtQ,EAAOD,QAAU6H,gB,cCAjB5H,EAAOD,QAAU,SAASC,GAoBzB,OAnBKA,EAAOo+C,kBACXp+C,EAAOq+C,UAAY,aACnBr+C,EAAOqf,MAAQ,GAEVrf,EAAOs+C,WAAUt+C,EAAOs+C,SAAW,IACxC39C,OAAOC,eAAeZ,EAAQ,SAAU,CACvCa,YAAY,EACZC,IAAK,WACJ,OAAOd,EAAOE,KAGhBS,OAAOC,eAAeZ,EAAQ,KAAM,CACnCa,YAAY,EACZC,IAAK,WACJ,OAAOd,EAAOC,KAGhBD,EAAOo+C,gBAAkB,GAEnBp+C,I,gBCnBR,IAAIu+C,EAAU,EAAQ,IAEA,iBAAZA,IAAsBA,EAAU,CAAC,CAACv+C,EAAOC,EAAIs+C,EAAS,MAOhE,IAAIr2C,EAAU,CAAC,SAAW,MAAM,KAAM,EAEtC,eAPIgO,EAQJ,gBAAqB7B,GAER,EAAQ,GAAR,CAA0DkqC,EAASr2C,GAE7Eq2C,EAAQC,SAAQx+C,EAAOD,QAAUw+C,EAAQC,S,iBCf5Cz+C,EADkC,EAAQ,GAChC0+C,EAA4B,IAE9Bh8C,KAAK,CAACzC,EAAOC,EAAI,q+iEAA8+iE,KAEvgjED,EAAOD,QAAUA,G,6BCEjBC,EAAOD,QAAU,SAAU2+C,GACzB,IAAIjH,EAAO,GAuDX,OArDAA,EAAKtuC,SAAW,WACd,OAAO9E,KAAK0R,KAAI,SAAU+7B,GACxB,IAAIyM,EAsDV,SAAgCzM,EAAM4M,GACpC,IAAIH,EAAUzM,EAAK,IAAM,GAErB6M,EAAa7M,EAAK,GAEtB,IAAK6M,EACH,OAAOJ,EAGT,GAAIG,GAAgC,mBAATz1C,KAAqB,CAC9C,IAAI21C,GAWWC,EAXeF,EAa5BrM,EAASrpC,KAAKmhC,SAAS0U,mBAAmBC,KAAKC,UAAUH,MACzDphC,EAAO,+DAA+D1W,OAAOurC,GAC1E,OAAOvrC,OAAO0W,EAAM,QAdrBwhC,EAAaN,EAAWjvB,QAAQ3Z,KAAI,SAAU7J,GAChD,MAAO,iBAAiBnF,OAAO43C,EAAWO,YAAc,IAAIn4C,OAAOmF,EAAQ,UAE7E,MAAO,CAACqyC,GAASx3C,OAAOk4C,GAAYl4C,OAAO,CAAC63C,IAAgB17C,KAAK,MAOrE,IAAmB27C,EAEbvM,EACA70B,EAPJ,MAAO,CAAC8gC,GAASr7C,KAAK,MAvEJi8C,CAAuBrN,EAAM4M,GAE3C,OAAI5M,EAAK,GACA,UAAU/qC,OAAO+qC,EAAK,GAAI,MAAM/qC,OAAOw3C,EAAS,KAGlDA,KACNr7C,KAAK,KAKVu0C,EAAKx3C,EAAI,SAAUE,EAASi/C,EAAYC,GACf,iBAAZl/C,IAETA,EAAU,CAAC,CAAC,KAAMA,EAAS,MAG7B,IAAIm/C,EAAyB,GAE7B,GAAID,EACF,IAAK,IAAIp/C,EAAI,EAAGA,EAAIoE,KAAK7B,OAAQvC,IAAK,CAEpC,IAAIguB,EAAK5pB,KAAKpE,GAAG,GAEP,MAANguB,IACFqxB,EAAuBrxB,IAAM,GAKnC,IAAK,IAAIwgB,EAAK,EAAGA,EAAKtuC,EAAQqC,OAAQisC,IAAM,CAC1C,IAAIqD,EAAO,GAAG/qC,OAAO5G,EAAQsuC,IAEzB4Q,GAAUC,EAAuBxN,EAAK,MAKtCsN,IACGtN,EAAK,GAGRA,EAAK,GAAK,GAAG/qC,OAAOq4C,EAAY,SAASr4C,OAAO+qC,EAAK,IAFrDA,EAAK,GAAKsN,GAMd3H,EAAKh1C,KAAKqvC,MAIP2F,I,gBC3DT,IAEwBvlB,EACnBqtB,EAHDC,EAAc,GAWdC,GAToBvtB,EASF,WAMrB,OAAOhrB,QAAU/E,UAAYA,SAASu9C,MAAQx4C,OAAOy4C,MAZ9C,WAEN,YADoB,IAATJ,IAAsBA,EAAOrtB,EAAGxtB,MAAML,KAAMI,YAChD86C,IAaLK,EAAY,SAAUhb,EAAQtf,GAChC,OAAIA,EACKA,EAAOu6B,cAAcjb,GAEvBziC,SAAS09C,cAAcjb,IAG5Bkb,EAAa,SAAW5tB,GAC3B,IAAIqtB,EAAO,GAEX,OAAO,SAAS3a,EAAQtf,GAMT,GAAsB,mBAAXsf,EACH,OAAOA,IAEf,QAA4B,IAAjB2a,EAAK3a,GAAyB,CACtD,IAAImb,EAAcH,EAAUx/C,KAAKiE,KAAMugC,EAAQtf,GAE/C,GAAIpe,OAAO84C,mBAAqBD,aAAuB74C,OAAO84C,kBAC7D,IAGCD,EAAcA,EAAYE,gBAAgBjpB,KACzC,MAAM1xB,GACPy6C,EAAc,KAGhBR,EAAK3a,GAAUmb,EAEhB,OAAOR,EAAK3a,IA1BG,GA8Bbsb,EAAY,KACZC,EAAmB,EACnBC,EAAsB,GAEtBC,EAAU,EAAQ,IAqDtB,SAASC,EAAgBC,EAAQr4C,GAChC,IAAK,IAAIjI,EAAI,EAAGA,EAAIsgD,EAAO/9C,OAAQvC,IAAK,CACvC,IAAI6xC,EAAOyO,EAAOtgD,GACdugD,EAAWhB,EAAY1N,EAAK7jB,IAEhC,GAAGuyB,EAAU,CACZA,EAASC,OAET,IAAI,IAAI1L,EAAI,EAAGA,EAAIyL,EAASzD,MAAMv6C,OAAQuyC,IACzCyL,EAASzD,MAAMhI,GAAGjD,EAAKiL,MAAMhI,IAG9B,KAAMA,EAAIjD,EAAKiL,MAAMv6C,OAAQuyC,IAC5ByL,EAASzD,MAAMt6C,KAAKi+C,EAAS5O,EAAKiL,MAAMhI,GAAI7sC,QAEvC,CACN,IAAI60C,EAAQ,GAEZ,IAAQhI,EAAI,EAAGA,EAAIjD,EAAKiL,MAAMv6C,OAAQuyC,IACrCgI,EAAMt6C,KAAKi+C,EAAS5O,EAAKiL,MAAMhI,GAAI7sC,IAGpCs3C,EAAY1N,EAAK7jB,IAAM,CAACA,GAAI6jB,EAAK7jB,GAAIwyB,KAAM,EAAG1D,MAAOA,KAKxD,SAAS4D,EAAclJ,EAAMvvC,GAI5B,IAHA,IAAIq4C,EAAS,GACTK,EAAY,GAEP3gD,EAAI,EAAGA,EAAIw3C,EAAKj1C,OAAQvC,IAAK,CACrC,IAAI6xC,EAAO2F,EAAKx3C,GACZguB,EAAK/lB,EAAQ24C,KAAO/O,EAAK,GAAK5pC,EAAQ24C,KAAO/O,EAAK,GAIlDgP,EAAO,CAACC,IAHFjP,EAAK,GAGOkP,MAFVlP,EAAK,GAEmB+M,UADpB/M,EAAK,IAGjB8O,EAAU3yB,GACT2yB,EAAU3yB,GAAI8uB,MAAMt6C,KAAKq+C,GADXP,EAAO99C,KAAKm+C,EAAU3yB,GAAM,CAACA,GAAIA,EAAI8uB,MAAO,CAAC+D,KAIjE,OAAOP,EAGR,SAASU,EAAoB/4C,EAASg5C,GACrC,IAAItc,EAASkb,EAAW53C,EAAQi5C,YAEhC,IAAKvc,EACJ,MAAM,IAAIttB,MAAM,+GAGjB,IAAI8pC,EAAgChB,EAAoBA,EAAoB59C,OAAS,GAErF,GAAyB,QAArB0F,EAAQm5C,SACND,EAEMA,EAA8BE,YACxC1c,EAAO2c,aAAaL,EAAOE,EAA8BE,aAEzD1c,EAAO8L,YAAYwQ,GAJnBtc,EAAO2c,aAAaL,EAAOtc,EAAO4c,YAMnCpB,EAAoB39C,KAAKy+C,QACnB,GAAyB,WAArBh5C,EAAQm5C,SAClBzc,EAAO8L,YAAYwQ,OACb,IAAgC,iBAArBh5C,EAAQm5C,WAAyBn5C,EAAQm5C,SAASroB,OAInE,MAAM,IAAI1hB,MAAM,8LAHhB,IAAIgqC,EAAcxB,EAAW53C,EAAQm5C,SAASroB,OAAQ4L,GACtDA,EAAO2c,aAAaL,EAAOI,IAM7B,SAASG,EAAoBP,GAC5B,GAAyB,OAArBA,EAAMQ,WAAqB,OAAO,EACtCR,EAAMQ,WAAWjR,YAAYyQ,GAE7B,IAAIS,EAAMvB,EAAoB31B,QAAQy2B,GACnCS,GAAO,GACTvB,EAAoBz8C,OAAOg+C,EAAK,GAIlC,SAASC,EAAoB15C,GAC5B,IAAIg5C,EAAQ/+C,SAASmuC,cAAc,SAMnC,QAJ0Bj8B,IAAvBnM,EAAQ25C,MAAMt5C,OAChBL,EAAQ25C,MAAMt5C,KAAO,iBAGK8L,IAAxBnM,EAAQ25C,MAAMC,MAAqB,CACrC,IAAIA,EAgCN,WACK,EAIJ,OAAO,KArCMC,GACRD,IACH55C,EAAQ25C,MAAMC,MAAQA,GAOxB,OAHAE,EAASd,EAAOh5C,EAAQ25C,OACxBZ,EAAmB/4C,EAASg5C,GAErBA,EAiBR,SAASc,EAAUC,EAAIJ,GACtBlhD,OAAOoX,KAAK8pC,GAAO7rC,SAAQ,SAAUxU,GACpCygD,EAAGC,aAAa1gD,EAAKqgD,EAAMrgD,OAY7B,SAASk/C,EAAUrN,EAAKnrC,GACvB,IAAIg5C,EAAOtd,EAAQxB,EAAQ58B,EAG3B,GAAI0C,EAAQgO,WAAam9B,EAAI0N,IAAK,CAK9B,KAJAv7C,EAAsC,mBAAtB0C,EAAQgO,UACxBhO,EAAQgO,UAAUm9B,EAAI0N,KACtB74C,EAAQgO,UAAUisC,QAAQ9O,EAAI0N,MAS7B,OAAO,aAJP1N,EAAI0N,IAAMv7C,EAUf,GAAI0C,EAAQg4C,UAAW,CACtB,IAAIkC,EAAajC,IAEjBe,EAAQhB,IAAcA,EAAY0B,EAAmB15C,IAErD07B,EAASye,EAAoB5gD,KAAK,KAAMy/C,EAAOkB,GAAY,GAC3DhgB,EAASigB,EAAoB5gD,KAAK,KAAMy/C,EAAOkB,GAAY,QAG3D/O,EAAIwL,WACW,mBAARyD,KACwB,mBAAxBA,IAAIC,iBACoB,mBAAxBD,IAAIE,iBACK,mBAATn6C,MACS,mBAATY,MAEPi4C,EAlEF,SAA4Bh5C,GAC3B,IAAIu6C,EAAOtgD,SAASmuC,cAAc,QAUlC,YAR0Bj8B,IAAvBnM,EAAQ25C,MAAMt5C,OAChBL,EAAQ25C,MAAMt5C,KAAO,YAEtBL,EAAQ25C,MAAMa,IAAM,aAEpBV,EAASS,EAAMv6C,EAAQ25C,OACvBZ,EAAmB/4C,EAASu6C,GAErBA,EAuDEE,CAAkBz6C,GAC1B07B,EAASgf,EAAWnhD,KAAK,KAAMy/C,EAAOh5C,GACtCk6B,EAAS,WACRqf,EAAmBP,GAEhBA,EAAM2B,MAAMP,IAAIE,gBAAgBtB,EAAM2B,SAG1C3B,EAAQU,EAAmB15C,GAC3B07B,EAASkf,EAAWrhD,KAAK,KAAMy/C,GAC/B9e,EAAS,WACRqf,EAAmBP,KAMrB,OAFAtd,EAAOyP,GAEA,SAAsB0P,GAC5B,GAAIA,EAAQ,CACX,GACCA,EAAOhC,MAAQ1N,EAAI0N,KACnBgC,EAAO/B,QAAU3N,EAAI2N,OACrB+B,EAAOlE,YAAcxL,EAAIwL,UAEzB,OAGDjb,EAAOyP,EAAM0P,QAEb3gB,KA1PHpiC,EAAOD,QAAU,SAAS03C,EAAMvvC,GAC/B,GAAqB,oBAAVgpC,OAAyBA,OACX,iBAAb/uC,SAAuB,MAAM,IAAImV,MAAM,iEAGnDpP,EAAUA,GAAW,IAEb25C,MAAiC,iBAAlB35C,EAAQ25C,MAAqB35C,EAAQ25C,MAAQ,GAI/D35C,EAAQg4C,WAA0C,kBAAtBh4C,EAAQg4C,YAAyBh4C,EAAQg4C,UAAYT,KAG1Ev3C,EAAQi5C,aAAYj5C,EAAQi5C,WAAa,QAGhDj5C,EAAQm5C,WAAUn5C,EAAQm5C,SAAW,UAE1C,IAAId,EAASI,EAAalJ,EAAMvvC,GAIhC,OAFAo4C,EAAeC,EAAQr4C,GAEhB,SAAiB86C,GAGvB,IAFA,IAAIC,EAAY,GAEPhjD,EAAI,EAAGA,EAAIsgD,EAAO/9C,OAAQvC,IAAK,CACvC,IAAI6xC,EAAOyO,EAAOtgD,IACdugD,EAAWhB,EAAY1N,EAAK7jB,KAEvBwyB,OACTwC,EAAUxgD,KAAK+9C,GAGbwC,GAEF1C,EADgBK,EAAaqC,EAAS96C,GACZA,GAG3B,IAASjI,EAAI,EAAGA,EAAIgjD,EAAUzgD,OAAQvC,IAAK,CAC1C,IAAIugD,EAEJ,GAAqB,KAFjBA,EAAWyC,EAAUhjD,IAEbwgD,KAAY,CACvB,IAAK,IAAI1L,EAAI,EAAGA,EAAIyL,EAASzD,MAAMv6C,OAAQuyC,IAAKyL,EAASzD,MAAMhI,YAExDyK,EAAYgB,EAASvyB,QAkNhC,IACKi1B,EADDC,GACCD,EAAY,GAET,SAAU7wC,EAAO+wC,GAGvB,OAFAF,EAAU7wC,GAAS+wC,EAEZF,EAAUxgD,OAAO2gD,SAASngD,KAAK,QAIxC,SAASm/C,EAAqBnB,EAAO7uC,EAAO+vB,EAAQiR,GACnD,IAAI0N,EAAM3e,EAAS,GAAKiR,EAAI0N,IAE5B,GAAIG,EAAMoC,WACTpC,EAAMoC,WAAWC,QAAUJ,EAAY9wC,EAAO0uC,OACxC,CACN,IAAIyC,EAAUrhD,SAASshD,eAAe1C,GAClC2C,EAAaxC,EAAMwC,WAEnBA,EAAWrxC,IAAQ6uC,EAAMzQ,YAAYiT,EAAWrxC,IAEhDqxC,EAAWlhD,OACd0+C,EAAMK,aAAaiC,EAASE,EAAWrxC,IAEvC6uC,EAAMxQ,YAAY8S,IAKrB,SAASV,EAAY5B,EAAO7N,GAC3B,IAAI0N,EAAM1N,EAAI0N,IACVC,EAAQ3N,EAAI2N,MAMhB,GAJGA,GACFE,EAAMgB,aAAa,QAASlB,GAG1BE,EAAMoC,WACRpC,EAAMoC,WAAWC,QAAUxC,MACrB,CACN,KAAMG,EAAMM,YACXN,EAAMzQ,YAAYyQ,EAAMM,YAGzBN,EAAMxQ,YAAYvuC,SAASshD,eAAe1C,KAI5C,SAAS6B,EAAYH,EAAMv6C,EAASmrC,GACnC,IAAI0N,EAAM1N,EAAI0N,IACVlC,EAAYxL,EAAIwL,UAQhB8E,OAAgDtvC,IAAlCnM,EAAQ07C,uBAAuC/E,GAE7D32C,EAAQ07C,uBAAyBD,KACpC5C,EAAMV,EAAQU,IAGXlC,IAEHkC,GAAO,uDAAyD93C,KAAKmhC,SAAS0U,mBAAmBC,KAAKC,UAAUH,MAAgB,OAGjI,IAAIz2C,EAAO,IAAIC,KAAK,CAAC04C,GAAM,CAAEx4C,KAAM,aAE/Bs7C,EAASpB,EAAKI,KAElBJ,EAAKI,KAAOP,IAAIC,gBAAgBn6C,GAE7By7C,GAAQvB,IAAIE,gBAAgBqB,K,cChYhC7jD,EAAOD,QAAU,SAAUghD,GAEzB,IAAI+C,EAA6B,oBAAX58C,QAA0BA,OAAO48C,SAEvD,IAAKA,EACH,MAAM,IAAIxsC,MAAM,oCAInB,IAAKypC,GAAsB,iBAARA,EACjB,OAAOA,EAGR,IAAIgD,EAAUD,EAASE,SAAW,KAAOF,EAASG,KAC9CC,EAAaH,EAAUD,EAASK,SAASz6C,QAAQ,YAAa,KA2DnE,OA/Beq3C,EAAIr3C,QAAQ,uDAAuD,SAAS06C,EAAWC,GAErG,IAWIC,EAXAC,EAAkBF,EACpBza,OACAlgC,QAAQ,YAAY,SAAShJ,EAAG8jD,GAAK,OAAOA,KAC5C96C,QAAQ,YAAY,SAAShJ,EAAG8jD,GAAK,OAAOA,KAG9C,MAAI,oDAAoDjhD,KAAKghD,GACpDH,GAQRE,EAFqC,IAAlCC,EAAgB95B,QAAQ,MAElB85B,EACkC,IAAjCA,EAAgB95B,QAAQ,KAEzBs5B,EAAUQ,EAGVL,EAAaK,EAAgB76C,QAAQ,QAAS,IAIjD,OAASq1C,KAAKC,UAAUsF,GAAU,U,o/EClEhCG,EAAU,KACd,SAASC,EAASlN,EAAG3zC,EAAG8gD,GAC3B,OAAOp7C,KAAKu0C,IAAItG,EAAI3zC,IAAM8gD,ECXvB,SAAS,EAAMzjD,EAAOiZ,EAAKF,GAC9B,OAAO1Q,KAAK0Q,IAAIE,EAAK5Q,KAAK4Q,IAAIF,EAAK/Y,IAYhC,SAAS,EAAKyH,EAAOi8C,EAAMC,GAC9B,OAAOl8C,GAASi8C,EAAOj8C,GAASk8C,EAG7B,SAAS,EAAOC,EAAIC,EAAIC,EAAIC,EAAI9jD,EAAG+jD,GACtC,IAAIC,GAAMH,EAAKF,GAAMI,EACjBE,GAAMH,EAAKF,GAAMG,EACjBG,EAAKlkD,EAAIA,EAEb,OAAQ,EAAI4jD,EAAK,EAAIC,EAAKG,EAAKC,IADtBjkD,EAAIkkD,KAC+B,EAAIN,EAAK,EAAIC,EAAK,EAAIG,EAAKC,GAAMC,EAAKF,EAAKhkD,EAAI4jD,EAExF,SAAS,EAAgBD,EAAIC,EAAIC,EAAI7jD,GACxC,IAAImkD,EAAI,EAAInkD,EACZ,OAAQmkD,EAAIA,EAAIR,EAAO,EAAIQ,EAAInkD,EAAI4jD,EAAO5jD,EAAIA,EAAI6jD,ECdtD,IAAIO,EAAY1rC,SAChB,SAAS,IACL,OAAO,EAAK2rC,QAEhB,SAAWC,GACP,SAASD,IACL,IAAIlN,EAAM,CAAC,GAAK,EAAK,GAErB,OADAA,EAAI,GAAK,EACFA,EAgDX,SAAS/2C,EAAOuI,EAAGhE,EAAG4/C,GAClB,IAAIpN,EAAMkN,IAIV,OAHAlN,EAAI,GAAKxuC,EACTwuC,EAAI,GAAKxyC,EACTwyC,EAAI,GAAKoN,EACFpN,EAkBX,SAASpqB,EAAKoqB,EAAKd,GAIf,OAHAc,EAAI,GAAKd,EAAE,GACXc,EAAI,GAAKd,EAAE,GACXc,EAAI,GAAKd,EAAE,GACJc,EAGX,SAAS/6B,EAAI+6B,EAAKd,EAAG3zC,GAIjB,OAHAy0C,EAAI,GAAKd,EAAE,GAAK3zC,EAAE,GAClBy0C,EAAI,GAAKd,EAAE,GAAK3zC,EAAE,GAClBy0C,EAAI,GAAKd,EAAE,GAAK3zC,EAAE,GACXy0C,EAGX,SAAS0C,EAAI1C,EAAKd,EAAG3zC,GAIjB,OAHAy0C,EAAI,GAAKd,EAAE,GAAK3zC,EAAE,GAClBy0C,EAAI,GAAKd,EAAE,GAAK3zC,EAAE,GAClBy0C,EAAI,GAAKd,EAAE,GAAK3zC,EAAE,GACXy0C,EAiBX,SAASqN,EAAMrN,EAAKd,EAAG3zC,GAInB,OAHAy0C,EAAI,GAAKd,EAAE,GAAK3zC,EAChBy0C,EAAI,GAAKd,EAAE,GAAK3zC,EAChBy0C,EAAI,GAAKd,EAAE,GAAK3zC,EACTy0C,EAIX,SAASsN,EAAYtN,EAAKd,EAAG3zC,EAAG8hD,GAI5B,OAHArN,EAAI,GAAKd,EAAE,GAAM3zC,EAAE,GAAK8hD,EACxBrN,EAAI,GAAKd,EAAE,GAAM3zC,EAAE,GAAK8hD,EACxBrN,EAAI,GAAKd,EAAE,GAAM3zC,EAAE,GAAK8hD,EACjBrN,EAwHX,SAASuN,EAAiBrO,GACtB,IAAI1tC,EAAI0tC,EAAE,GAAI1xC,EAAI0xC,EAAE,GAAIkO,EAAIlO,EAAE,GAC9B,OAAO1tC,EAAIA,EAAIhE,EAAIA,EAAI4/C,EAAIA,EAU/B,SAAS5qB,EAAOwd,EAAKd,GAIjB,OAHAc,EAAI,IAAMd,EAAE,GACZc,EAAI,IAAMd,EAAE,GACZc,EAAI,IAAMd,EAAE,GACLc,EAaX,SAASwN,EAAUxN,EAAKd,GACpB,IAAI1tC,EAAI0tC,EAAE,GAAI1xC,EAAI0xC,EAAE,GAAIkO,EAAIlO,EAAE,GAC1BzK,EAAMjjC,EAAIA,EAAIhE,EAAIA,EAAI4/C,EAAIA,EAO9B,OANI3Y,EAAM,IACNA,EAAM,EAAIxjC,KAAKw8C,KAAKhZ,GACpBuL,EAAI,GAAKd,EAAE,GAAKzK,EAChBuL,EAAI,GAAKd,EAAE,GAAKzK,EAChBuL,EAAI,GAAKd,EAAE,GAAKzK,GAEbuL,EAGX,SAAS0N,EAAIxO,EAAG3zC,GACZ,OAAO2zC,EAAE,GAAK3zC,EAAE,GAAK2zC,EAAE,GAAK3zC,EAAE,GAAK2zC,EAAE,GAAK3zC,EAAE,GAGhD,SAASoiD,EAAM3N,EAAKd,EAAG3zC,GACnB,IAAIqiD,EAAK1O,EAAE,GAAI2O,EAAK3O,EAAE,GAAI4O,EAAK5O,EAAE,GAAI6O,EAAKxiD,EAAE,GAAIyiD,EAAKziD,EAAE,GAAI0iD,EAAK1iD,EAAE,GAIlE,OAHAy0C,EAAI,GAAK6N,EAAKI,EAAKH,EAAKE,EACxBhO,EAAI,GAAK8N,EAAKC,EAAKH,EAAKK,EACxBjO,EAAI,GAAK4N,EAAKI,EAAKH,EAAKE,EACjB/N,EA9RXmN,EAAKD,KAAOA,EAQZC,EAAK/uB,MAPL,SAAe8gB,GACX,IAAIc,EAAMkN,IAIV,OAHAlN,EAAI,GAAKd,EAAE,GACXc,EAAI,GAAKd,EAAE,GACXc,EAAI,GAAKd,EAAE,GACJc,GAMXmN,EAAK5rC,SAHL,SAAkB29B,GACd,OAAO+N,EAAU/N,EAAE,KAAO+N,EAAU/N,EAAE,KAAO+N,EAAU/N,EAAE,KAM7DiO,EAAKe,OAHL,SAAgBhP,GACZ,OAAOxR,MAAMwR,EAAE,KAAOxR,MAAMwR,EAAE,KAAOxR,MAAMwR,EAAE,KASjDiO,EAAKgB,OANL,SAAgBnO,GAIZ,OAHAA,EAAI,GAAKsF,IACTtF,EAAI,GAAKsF,IACTtF,EAAI,GAAKsF,IACFtF,GAMXmN,EAAKiB,QAHL,SAAiBngD,GACb,OAAOhF,EAAOgF,EAAEuD,EAAGvD,EAAET,EAAGS,EAAEm/C,IAM9BD,EAAKkB,MAHL,SAAepgD,GACX,MAAO,CAAEuD,EAAGvD,EAAE,GAAIT,EAAGS,EAAE,GAAIm/C,EAAGn/C,EAAE,KASpCk/C,EAAKmB,UANL,SAAmBrgD,EAAG0L,EAAOkB,GAIzB,OAHA5M,EAAE,GAAK0L,EAAMkB,EAAS,GACtB5M,EAAE,GAAK0L,EAAMkB,EAAS,GACtB5M,EAAE,GAAK0L,EAAMkB,EAAS,GACf5M,GASXk/C,EAAK5pB,QANL,SAAiBt1B,EAAG+xC,EAAKnlC,GAIrB,OAHAmlC,EAAInlC,EAAS,GAAK5M,EAAE,GACpB+xC,EAAInlC,EAAS,GAAK5M,EAAE,GACpB+xC,EAAInlC,EAAS,GAAK5M,EAAE,GACb+xC,GAUXmN,EAAKlkD,OAASA,EAQdkkD,EAAKoB,QAPL,SAAiB50C,GACb,IAAIqmC,EAAMkN,IAIV,OAHAlN,EAAI,GAAKrmC,EAAM,GACfqmC,EAAI,GAAKrmC,EAAM,GACfqmC,EAAI,GAAKrmC,EAAM,GACRqmC,GASXmN,EAAKnvC,IANL,SAAagiC,EAAKxuC,EAAGhE,EAAG4/C,GAIpB,OAHApN,EAAI,GAAKxuC,EACTwuC,EAAI,GAAKxyC,EACTwyC,EAAI,GAAKoN,EACFpN,GASXmN,EAAKv3B,KAAOA,EAOZu3B,EAAKloC,IAAMA,EAOXkoC,EAAKzK,IAAMA,EAOXyK,EAAKnM,IANL,SAAahB,EAAKd,EAAG3zC,GAIjB,OAHAy0C,EAAI,GAAKd,EAAE,GAAK3zC,EAAE,GAClBy0C,EAAI,GAAKd,EAAE,GAAK3zC,EAAE,GAClBy0C,EAAI,GAAKd,EAAE,GAAK3zC,EAAE,GACXy0C,GASXmN,EAAKqB,IANL,SAAaxO,EAAKd,EAAG3zC,GAIjB,OAHAy0C,EAAI,GAAKd,EAAE,GAAK3zC,EAAE,GAClBy0C,EAAI,GAAKd,EAAE,GAAK3zC,EAAE,GAClBy0C,EAAI,GAAKd,EAAE,GAAK3zC,EAAE,GACXy0C,GASXmN,EAAKE,MAAQA,EAQbF,EAAKG,YAAcA,EAQnBH,EAAKsB,YANL,SAAqBzO,EAAKd,EAAG3zC,EAAG8hD,GAI5B,OAHArN,EAAI,GAAKd,EAAE,GAAM3zC,EAAE,GAAK8hD,EACxBrN,EAAI,GAAKd,EAAE,GAAM3zC,EAAE,GAAK8hD,EACxBrN,EAAI,GAAKd,EAAE,GAAM3zC,EAAE,GAAK8hD,EACjBrN,GASXmN,EAAKuB,UANL,SAAmB1O,EAAKd,EAAG3zC,GAIvB,OAHAy0C,EAAI,GAAKd,EAAE,GAAK3zC,EAChBy0C,EAAI,GAAKd,EAAE,GAAK3zC,EAChBy0C,EAAI,GAAKd,EAAE,GAAK3zC,EACTy0C,GASXmN,EAAKwB,UANL,SAAmB3O,EAAKd,EAAG3zC,GAIvB,OAHAy0C,EAAI,GAAKd,EAAE,GAAK3zC,EAChBy0C,EAAI,GAAKd,EAAE,GAAK3zC,EAChBy0C,EAAI,GAAKd,EAAE,GAAK3zC,EACTy0C,GAYXmN,EAAK9lB,MANL,SAAe2Y,EAAKd,GAIhB,OAHAc,EAAI,GAAK/uC,KAAKo2B,MAAM6X,EAAE,IACtBc,EAAI,GAAK/uC,KAAKo2B,MAAM6X,EAAE,IACtBc,EAAI,GAAK/uC,KAAKo2B,MAAM6X,EAAE,IACfc,GAYXmN,EAAKnsC,KANL,SAAcg/B,EAAKd,GAIf,OAHAc,EAAI,GAAK/uC,KAAK+P,KAAKk+B,EAAE,IACrBc,EAAI,GAAK/uC,KAAK+P,KAAKk+B,EAAE,IACrBc,EAAI,GAAK/uC,KAAK+P,KAAKk+B,EAAE,IACdc,GAYXmN,EAAKh8C,MANL,SAAe6uC,EAAKd,GAIhB,OAHAc,EAAI,GAAK/uC,KAAKE,MAAM+tC,EAAE,IACtBc,EAAI,GAAK/uC,KAAKE,MAAM+tC,EAAE,IACtBc,EAAI,GAAK/uC,KAAKE,MAAM+tC,EAAE,IACfc,GAYXmN,EAAKyB,MANL,SAAe5O,EAAKd,GAIhB,OAHAc,EAAI,GAAK/uC,KAAK29C,MAAM1P,EAAE,IACtBc,EAAI,GAAK/uC,KAAK29C,MAAM1P,EAAE,IACtBc,EAAI,GAAK/uC,KAAK29C,MAAM1P,EAAE,IACfc,GAYXmN,EAAK3H,IANL,SAAaxF,EAAKd,GAId,OAHAc,EAAI,GAAK/uC,KAAKu0C,IAAItG,EAAE,IACpBc,EAAI,GAAK/uC,KAAKu0C,IAAItG,EAAE,IACpBc,EAAI,GAAK/uC,KAAKu0C,IAAItG,EAAE,IACbc,GAYXmN,EAAKtrC,IANL,SAAam+B,EAAKd,EAAG3zC,GAIjB,OAHAy0C,EAAI,GAAK/uC,KAAK4Q,IAAIq9B,EAAE,GAAI3zC,EAAE,IAC1By0C,EAAI,GAAK/uC,KAAK4Q,IAAIq9B,EAAE,GAAI3zC,EAAE,IAC1By0C,EAAI,GAAK/uC,KAAK4Q,IAAIq9B,EAAE,GAAI3zC,EAAE,IACnBy0C,GAYXmN,EAAKxrC,IANL,SAAaq+B,EAAKd,EAAG3zC,GAIjB,OAHAy0C,EAAI,GAAK/uC,KAAK0Q,IAAIu9B,EAAE,GAAI3zC,EAAE,IAC1By0C,EAAI,GAAK/uC,KAAK0Q,IAAIu9B,EAAE,GAAI3zC,EAAE,IAC1By0C,EAAI,GAAK/uC,KAAK0Q,IAAIu9B,EAAE,GAAI3zC,EAAE,IACnBy0C,GAYXmN,EAAKphB,MANL,SAAeiU,EAAKd,EAAGr9B,EAAKF,GAIxB,OAHAq+B,EAAI,GAAK/uC,KAAK0Q,IAAIE,EAAI,GAAI5Q,KAAK4Q,IAAIF,EAAI,GAAIu9B,EAAE,KAC7Cc,EAAI,GAAK/uC,KAAK0Q,IAAIE,EAAI,GAAI5Q,KAAK4Q,IAAIF,EAAI,GAAIu9B,EAAE,KAC7Cc,EAAI,GAAK/uC,KAAK0Q,IAAIE,EAAI,GAAI5Q,KAAK4Q,IAAIF,EAAI,GAAIu9B,EAAE,KACtCc,GAOXmN,EAAK0B,SAJL,SAAkB3P,EAAG3zC,GACjB,IAAIiG,EAAIjG,EAAE,GAAK2zC,EAAE,GAAI1xC,EAAIjC,EAAE,GAAK2zC,EAAE,GAAIkO,EAAI7hD,EAAE,GAAK2zC,EAAE,GACnD,OAAOjuC,KAAKw8C,KAAKj8C,EAAIA,EAAIhE,EAAIA,EAAI4/C,EAAIA,IAOzCD,EAAK2B,gBAJL,SAAyB5P,EAAG3zC,GACxB,IAAIiG,EAAIjG,EAAE,GAAK2zC,EAAE,GAAI1xC,EAAIjC,EAAE,GAAK2zC,EAAE,GAAIkO,EAAI7hD,EAAE,GAAK2zC,EAAE,GACnD,OAAO1tC,EAAIA,EAAIhE,EAAIA,EAAI4/C,EAAIA,GAO/BD,EAAK4B,UAJL,SAAmB7P,GACf,IAAI1tC,EAAI0tC,EAAE,GAAI1xC,EAAI0xC,EAAE,GAAIkO,EAAIlO,EAAE,GAC9B,OAAOjuC,KAAKw8C,KAAKj8C,EAAIA,EAAIhE,EAAIA,EAAI4/C,EAAIA,IAOzCD,EAAKI,iBAAmBA,EAIxBJ,EAAK6B,aAHL,SAAsBhP,EAAKd,EAAGt3C,GAC1B,OAAOylD,EAAMrN,EAAKwN,EAAUxN,EAAKd,GAAIt3C,IAYzCulD,EAAK3qB,OAASA,EAUd2qB,EAAK8B,QANL,SAAiBjP,EAAKd,GAIlB,OAHAc,EAAI,GAAK,EAAMd,EAAE,GACjBc,EAAI,GAAK,EAAMd,EAAE,GACjBc,EAAI,GAAK,EAAMd,EAAE,GACVc,GAcXmN,EAAKK,UAAYA,EAIjBL,EAAKO,IAAMA,EAQXP,EAAKQ,MAAQA,EAWbR,EAAK+B,KAPL,SAAclP,EAAKd,EAAG3zC,EAAG1C,GACrB,IAAI+kD,EAAK1O,EAAE,GAAI2O,EAAK3O,EAAE,GAAI4O,EAAK5O,EAAE,GAIjC,OAHAc,EAAI,GAAK4N,EAAK/kD,GAAK0C,EAAE,GAAKqiD,GAC1B5N,EAAI,GAAK6N,EAAKhlD,GAAK0C,EAAE,GAAKsiD,GAC1B7N,EAAI,GAAK8N,EAAKjlD,GAAK0C,EAAE,GAAKuiD,GACnB9N,GAGX,IAAImP,EAAcjC,IAkIlB,SAASkC,EAAMlQ,EAAG3zC,GACd,IAAI8jD,EAAcp+C,KAAKw8C,KAAKF,EAAiBrO,GAAKqO,EAAiBhiD,IACnE,GAAoB,IAAhB8jD,EACA,OAAOp+C,KAAKq+C,GAAK,EACrB,IAAIC,EAAQ7B,EAAIxO,EAAG3zC,GAAK8jD,EACxB,OAAOp+C,KAAKu+C,KAAK,EAAOD,GAAQ,EAAG,IA/HvCpC,EAAKsC,MAPL,SAAezP,EAAKd,EAAG3zC,EAAG1C,GACtB,IAAIZ,EAAI,EAAOylD,EAAIxO,EAAG3zC,IAAK,EAAG,GAC1BgkD,EAAQt+C,KAAKu+C,KAAKvnD,GAAKY,EAG3B,OAFAykD,EAAY6B,EAAa5jD,EAAG2zC,GAAIj3C,GAChCulD,EAAU2B,EAAaA,GAChBlqC,EAAI+6B,EAAKqN,EAAMrN,EAAKd,EAAGjuC,KAAKy+C,IAAIH,IAASlC,EAAM8B,EAAaA,EAAal+C,KAAK0+C,IAAIJ,MAiB7FpC,EAAKyC,QAXL,SAAiB5P,EAAKd,EAAG3zC,EAAGvD,EAAGC,EAAGY,GAC9B,IAAIgnD,EAAehnD,EAAIA,EACnBinD,EAAUD,GAAgB,EAAIhnD,EAAI,GAAK,EACvCknD,EAAUF,GAAgBhnD,EAAI,GAAKA,EACnCmnD,EAAUH,GAAgBhnD,EAAI,GAC9BonD,EAAUJ,GAAgB,EAAI,EAAIhnD,GAItC,OAHAm3C,EAAI,GAAKd,EAAE,GAAK4Q,EAAUvkD,EAAE,GAAKwkD,EAAU/nD,EAAE,GAAKgoD,EAAU/nD,EAAE,GAAKgoD,EACnEjQ,EAAI,GAAKd,EAAE,GAAK4Q,EAAUvkD,EAAE,GAAKwkD,EAAU/nD,EAAE,GAAKgoD,EAAU/nD,EAAE,GAAKgoD,EACnEjQ,EAAI,GAAKd,EAAE,GAAK4Q,EAAUvkD,EAAE,GAAKwkD,EAAU/nD,EAAE,GAAKgoD,EAAU/nD,EAAE,GAAKgoD,EAC5DjQ,GAmBXmN,EAAK+C,OAbL,SAAgBlQ,EAAKd,EAAG3zC,EAAGvD,EAAGC,EAAGY,GAC7B,IAAIsnD,EAAgB,EAAItnD,EACpBunD,EAAwBD,EAAgBA,EACxCN,EAAehnD,EAAIA,EACnBinD,EAAUM,EAAwBD,EAClCJ,EAAU,EAAIlnD,EAAIunD,EAClBJ,EAAU,EAAIH,EAAeM,EAC7BF,EAAUJ,EAAehnD,EAI7B,OAHAm3C,EAAI,GAAKd,EAAE,GAAK4Q,EAAUvkD,EAAE,GAAKwkD,EAAU/nD,EAAE,GAAKgoD,EAAU/nD,EAAE,GAAKgoD,EACnEjQ,EAAI,GAAKd,EAAE,GAAK4Q,EAAUvkD,EAAE,GAAKwkD,EAAU/nD,EAAE,GAAKgoD,EAAU/nD,EAAE,GAAKgoD,EACnEjQ,EAAI,GAAKd,EAAE,GAAK4Q,EAAUvkD,EAAE,GAAKwkD,EAAU/nD,EAAE,GAAKgoD,EAAU/nD,EAAE,GAAKgoD,EAC5DjQ,GASXmN,EAAKkD,gBANL,SAAyBrQ,EAAKd,EAAG3zC,EAAGvD,EAAGa,GAInC,OAHAm3C,EAAI,GAAK,EAAiBd,EAAE,GAAI3zC,EAAE,GAAIvD,EAAE,GAAIa,GAC5Cm3C,EAAI,GAAK,EAAiBd,EAAE,GAAI3zC,EAAE,GAAIvD,EAAE,GAAIa,GAC5Cm3C,EAAI,GAAK,EAAiBd,EAAE,GAAI3zC,EAAE,GAAIvD,EAAE,GAAIa,GACrCm3C,GAYXmN,EAAKmD,OANL,SAAgBtQ,EAAKd,EAAG3zC,EAAGvD,EAAGC,EAAGY,EAAG+jD,GAIhC,OAHA5M,EAAI,GAAK,EAAQd,EAAE,GAAI3zC,EAAE,GAAIvD,EAAE,GAAIC,EAAE,GAAIY,EAAG+jD,GAC5C5M,EAAI,GAAK,EAAQd,EAAE,GAAI3zC,EAAE,GAAIvD,EAAE,GAAIC,EAAE,GAAIY,EAAG+jD,GAC5C5M,EAAI,GAAK,EAAQd,EAAE,GAAI3zC,EAAE,GAAIvD,EAAE,GAAIC,EAAE,GAAIY,EAAG+jD,GACrC5M,GAeXmN,EAAKj8C,OATL,SAAgB8uC,EAAKqN,GACjB,IAAI5kD,EAAoB,EAAhBwI,KAAKC,SAAiBD,KAAKq+C,GAC/BlC,EAAqB,EAAhBn8C,KAAKC,SAAkB,EAC5Bq/C,EAASt/C,KAAKw8C,KAAK,EAAML,EAAIA,GAAKC,EAItC,OAHArN,EAAI,GAAK/uC,KAAKy+C,IAAIjnD,GAAK8nD,EACvBvQ,EAAI,GAAK/uC,KAAK0+C,IAAIlnD,GAAK8nD,EACvBvQ,EAAI,GAAKoN,EAAIC,EACNrN,GAaXmN,EAAKqD,cAPL,SAAuBxQ,EAAKd,EAAGn3C,GAC3B,IAAIyJ,EAAI0tC,EAAE,GAAI1xC,EAAI0xC,EAAE,GAAIkO,EAAIlO,EAAE,GAAIuR,EAAI,GAAM1oD,EAAE,GAAKyJ,EAAIzJ,EAAE,GAAKyF,EAAIzF,EAAE,IAAMqlD,EAAIrlD,EAAE,KAAQ,GAIxF,OAHAi4C,EAAI,IAAMj4C,EAAE,GAAKyJ,EAAIzJ,EAAE,GAAKyF,EAAIzF,EAAE,GAAKqlD,EAAIrlD,EAAE,KAAO0oD,EACpDzQ,EAAI,IAAMj4C,EAAE,GAAKyJ,EAAIzJ,EAAE,GAAKyF,EAAIzF,EAAE,GAAKqlD,EAAIrlD,EAAE,KAAO0oD,EACpDzQ,EAAI,IAAMj4C,EAAE,GAAKyJ,EAAIzJ,EAAE,GAAKyF,EAAIzF,EAAE,IAAMqlD,EAAIrlD,EAAE,KAAO0oD,EAC9CzQ,GAUXmN,EAAKuD,mBAPL,SAA4B1Q,EAAKd,EAAGn3C,GAChC,IAAIyJ,EAAI0tC,EAAE,GAAI1xC,EAAI0xC,EAAE,GAAIkO,EAAIlO,EAAE,GAI9B,OAHAc,EAAI,GAAKj4C,EAAE,GAAKyJ,EAAIzJ,EAAE,GAAKyF,EAAIzF,EAAE,GAAKqlD,EACtCpN,EAAI,GAAKj4C,EAAE,GAAKyJ,EAAIzJ,EAAE,GAAKyF,EAAIzF,EAAE,GAAKqlD,EACtCpN,EAAI,GAAKj4C,EAAE,GAAKyJ,EAAIzJ,EAAE,GAAKyF,EAAIzF,EAAE,IAAMqlD,EAChCI,EAAUxN,EAAKA,IAa1BmN,EAAKwD,oBAPL,SAA6B3Q,EAAKd,EAAGn3C,EAAG6oD,EAAMC,EAAIC,GAC9C,IAAIt/C,EAAI0tC,EAAE,EAAI2R,GAAKrjD,EAAI0xC,EAAE,EAAI2R,GAAKzD,EAAIlO,EAAE,EAAI2R,GAAKJ,EAAI,GAAM1oD,EAAE,EAAI+oD,GAAMt/C,EAAIzJ,EAAE,EAAI+oD,GAAMtjD,EAAIzF,EAAE,GAAK+oD,GAAM1D,EAAIrlD,EAAE,GAAK+oD,IAAQ,GAI3H,OAHA9Q,EAAI,EAAI4Q,IAAS7oD,EAAE,EAAI+oD,GAAMt/C,EAAIzJ,EAAE,EAAI+oD,GAAMtjD,EAAIzF,EAAE,EAAI+oD,GAAM1D,EAAIrlD,EAAE,GAAK+oD,IAAOL,EAC/EzQ,EAAI,EAAI4Q,IAAS7oD,EAAE,EAAI+oD,GAAMt/C,EAAIzJ,EAAE,EAAI+oD,GAAMtjD,EAAIzF,EAAE,EAAI+oD,GAAM1D,EAAIrlD,EAAE,GAAK+oD,IAAOL,EAC/EzQ,EAAI,EAAI4Q,IAAS7oD,EAAE,EAAI+oD,GAAMt/C,EAAIzJ,EAAE,EAAI+oD,GAAMtjD,EAAIzF,EAAE,GAAK+oD,GAAM1D,EAAIrlD,EAAE,GAAK+oD,IAAOL,EACzEzQ,GAaXmN,EAAK4D,cAPL,SAAuB/Q,EAAKd,EAAGn3C,GAC3B,IAAIyJ,EAAI0tC,EAAE,GAAI1xC,EAAI0xC,EAAE,GAAIkO,EAAIlO,EAAE,GAI9B,OAHAc,EAAI,GAAKxuC,EAAIzJ,EAAE,GAAKyF,EAAIzF,EAAE,GAAKqlD,EAAIrlD,EAAE,GACrCi4C,EAAI,GAAKxuC,EAAIzJ,EAAE,GAAKyF,EAAIzF,EAAE,GAAKqlD,EAAIrlD,EAAE,GACrCi4C,EAAI,GAAKxuC,EAAIzJ,EAAE,GAAKyF,EAAIzF,EAAE,GAAKqlD,EAAIrlD,EAAE,GAC9Bi4C,GAmBXmN,EAAK6D,cAfL,SAAuBhR,EAAKd,EAAG+R,GAE3B,IAAIz/C,EAAI0tC,EAAE,GAAI1xC,EAAI0xC,EAAE,GAAIkO,EAAIlO,EAAE,GAC1BgS,EAAKD,EAAE,GAAIE,EAAKF,EAAE,GAAIG,EAAKH,EAAE,GAAII,EAAKJ,EAAE,GAExCK,EAAKD,EAAK7/C,EAAI2/C,EAAK/D,EAAIgE,EAAK5jD,EAC5B+jD,EAAKF,EAAK7jD,EAAI4jD,EAAK5/C,EAAI0/C,EAAK9D,EAC5BoE,EAAKH,EAAKjE,EAAI8D,EAAK1jD,EAAI2jD,EAAK3/C,EAC5BigD,GAAMP,EAAK1/C,EAAI2/C,EAAK3jD,EAAI4jD,EAAKhE,EAKjC,OAHApN,EAAI,GAAKsR,EAAKD,EAAKI,GAAMP,EAAKK,GAAMH,EAAKI,GAAML,EAC/CnR,EAAI,GAAKuR,EAAKF,EAAKI,GAAMN,EAAKK,GAAMN,EAAKI,GAAMF,EAC/CpR,EAAI,GAAKwR,EAAKH,EAAKI,GAAML,EAAKE,GAAMH,EAAKI,GAAML,EACxClR,GAWXmN,EAAKiC,MAAQA,EACb,IAAIsC,EAAYxE,IACZyE,EAAYzE,IACZ0E,EAAY1E,IACZ2E,EAAY3E,IACZ4E,EAAa5E,IACb6E,EAAa7E,IACb8E,EAAe9E,IAenBC,EAAK8E,cAXL,SAAuB/S,EAAG3zC,EAAGvD,EAAGC,GAC5By6C,EAAIgP,EAAWxS,EAAG3zC,GAClBm3C,EAAIiP,EAAW3pD,EAAGuD,GAClBm3C,EAAIkP,EAAWrmD,EAAGvD,GAClB06C,EAAImP,EAAW5pD,EAAGD,GAClB2lD,EAAMmE,EAAYJ,EAAWC,GAC7BhE,EAAMoE,EAAYH,EAAWC,GAC7B,IAAIK,EAAS9C,EAAM0C,EAAYC,GAE/B,OADApE,EAAMqE,EAAcF,EAAYC,GACzBrE,EAAIiE,EAAWK,GAAgB,EAAIE,GAAUA,GAWxD/E,EAAKgF,uBAHL,SAAgCnS,EAAKoS,EAAaC,EAASC,GACvD,OAAOnF,EAAKnvC,IAAIgiC,EAAKsS,EAASrhD,KAAKy+C,IAAI2C,GAAWphD,KAAK0+C,IAAIyC,GAAcE,EAASrhD,KAAK0+C,IAAI0C,GAAWphD,KAAK0+C,IAAIyC,GAAcE,EAASrhD,KAAKy+C,IAAI0C,KASnJjF,EAAKoF,YAHL,SAAqBrT,EAAG3zC,GACpB,OAAO2zC,EAAE,KAAO3zC,EAAE,IAAM2zC,EAAE,KAAO3zC,EAAE,IAAM2zC,EAAE,KAAO3zC,EAAE,IAaxD4hD,EAAK3N,OAPL,SAAgBN,EAAG3zC,GACf,IAAIinD,EAAKtT,EAAE,GAAIuT,EAAKvT,EAAE,GAAIwT,EAAKxT,EAAE,GAC7ByT,EAAKpnD,EAAE,GAAIqnD,EAAKrnD,EAAE,GAAIsnD,EAAKtnD,EAAE,GACjC,OAAQ0F,KAAKu0C,IAAIgN,EAAKG,IAAOxG,EAAUl7C,KAAK0Q,IAAI,EAAK1Q,KAAKu0C,IAAIgN,GAAKvhD,KAAKu0C,IAAImN,KACxE1hD,KAAKu0C,IAAIiN,EAAKG,IAAOzG,EAAUl7C,KAAK0Q,IAAI,EAAK1Q,KAAKu0C,IAAIiN,GAAKxhD,KAAKu0C,IAAIoN,KACpE3hD,KAAKu0C,IAAIkN,EAAKG,IAAO1G,EAAUl7C,KAAK0Q,IAAI,EAAK1Q,KAAKu0C,IAAIkN,GAAKzhD,KAAKu0C,IAAIqN,KAG5E,IAAIC,EAAU5F,IAYdC,EAAK4F,aAXL,SAAsBC,EAAK9T,EAAG3zC,GAC1B,IAAIyiD,EAAKoB,EAAMlQ,EAAG3zC,GAClB,GAAI0F,KAAKu0C,IAAIwI,GAAM,KACf,OAAO,EAAKiF,YAAYD,GAC5B,GAAI/hD,KAAKu0C,IAAIwI,EAAK/8C,KAAKq+C,IAAMnD,EAEzB,OAAO,EAAK+G,YAAYF,EAAK7F,EAAKgG,SAEtC,IAAIC,EAAOzF,EAAMmF,EAAS5T,EAAG3zC,GAC7B,OAAO,EAAK8nD,aAAaL,EAAKhF,EAAIoF,IAMtCjG,EAAKmG,OAHL,SAAgBrlD,GACZ,OAAgB,IAATA,EAAE,IAAqB,IAATA,EAAE,IAAqB,IAATA,EAAE,IASzCk/C,EAAKoG,qBALL,SAA8BvT,EAAKwT,EAAOC,EAAQC,GAG9C,OAFAhR,EAAI1C,EAAKwT,EAAOE,GAETzuC,EAAI+6B,EAAKqN,EAAMrN,EAAKyT,EADd/F,EAAI+F,EAAQzT,GAAOuN,EAAiBkG,IACLC,IAGhD,IAAIC,EAAkBzG,IAQtB,SAAS0G,EAAgB5T,EAAKv2C,EAAGgqD,GAE7B,OAAOpG,EAAMrN,EAAKyT,EADL/F,EAAI+F,EAAQhqD,GAAK8jD,EAAiBkG,IAFnDtG,EAAK0G,oBALL,SAA6B7T,EAAKwT,EAAOM,EAAQJ,GAG7C,OAFAlG,EAAUmG,EAAiBG,GAC3BpR,EAAI1C,EAAKwT,EAAOE,GACThR,EAAI1C,EAAKwT,EAAOnG,EAAMsG,EAAiBA,EAAiBjG,EAAI1N,EAAK2T,MAO5ExG,EAAKyG,gBAAkBA,EACvB,IAAIG,EAAa7G,IAKjBC,EAAK6G,eAJL,SAAwBhU,EAAKv2C,EAAGqqD,GAE5B,OADAF,EAAgBG,EAAYtqD,EAAGqqD,GACxBpR,EAAI1C,EAAKv2C,EAAGsqD,IAOvB5G,EAAK8G,cAHL,SAAuBjU,EAAKd,EAAG3zC,GAC3B,OAAOiiD,EAAUxN,EAAK2N,EAAM3N,EAAK2N,EAAM3N,EAAKd,EAAG3zC,GAAI2zC,KAcvDiO,EAAK+G,eAPL,SAAwBlU,EAAKd,EAAG3zC,GAK5B,OAJImiD,EAAIxO,EAAG3zC,GAAK,EACZqqB,EAAKoqB,EAAKd,GAEV1c,EAAOwd,EAAKpqB,EAAKoqB,EAAKd,IACnBc,GAGX,IAAImU,EAAsBjH,IACtBkH,EAAsBlH,IAO1BC,EAAKkH,eALL,SAAwBrU,EAAKd,EAAG3zC,EAAGvD,GAG/B,OAFA06C,EAAIyR,EAAqB5oD,EAAG2zC,GAC5BwD,EAAI0R,EAAqBpsD,EAAGk3C,GACrBsO,EAAUxN,EAAK2N,EAAM3N,EAAKmU,EAAqBC,KAM1DjH,EAAKt8C,SAHL,SAAkBquC,EAAG/jB,GACjB,MAAO,IAAI1sB,OAAOywC,EAAE,GAAGoV,YAAYn5B,GAAY,KAAK1sB,OAAOywC,EAAE,GAAGoV,YAAYn5B,GAAY,KAAK1sB,OAAOywC,EAAE,GAAGoV,YAAYn5B,GAAY,MAGrIgyB,EAAKuG,OAASzqD,EAAO,EAAG,EAAG,GAC3BkkD,EAAKoH,KAAOtrD,EAAO,EAAG,EAAG,GACzBkkD,EAAKgG,QAAUlqD,GAAQ,GAAI,GAAI,GAC/BkkD,EAAKqH,MAAQvrD,EAAO,EAAG,EAAG,GAC1BkkD,EAAKsH,MAAQxrD,EAAO,EAAG,EAAG,GAC1BkkD,EAAKuH,MAAQzrD,EAAO,EAAG,EAAG,GAC1BkkD,EAAKwH,SAAW1rD,GAAQ,EAAG,EAAG,GAC9BkkD,EAAKyH,SAAW3rD,EAAO,GAAI,EAAG,GAC9BkkD,EAAK0H,SAAW5rD,EAAO,EAAG,GAAI,GA9jBlC,CA+jBG,IAAS,EAAO,KCllBCgI,KAAKq+C,GAAlB,ICGI,EDFAwF,EAAW7jD,KAAKq+C,GAAK,IACzB,SAASyF,EAASC,GACrB,OAAOA,EAAMF,EAEV,SAASG,EAASC,GACrB,OAAOA,EAAMJ,EESjB,SAAS,IACL,OAAO,EAAK5H,OCbhB,SAAS,IACL,OAAO,EAAKA,OCJhB,SAASiI,IACL,OAAOA,EAAKjI,OCChB,SAAS,IACL,OAAO,EAAKA,OCET,SAASkI,EAAkB5jD,GAC9B,MAAM,IAAIwN,MAAM,eCFpB,SAAS,IACL,OAAO,EAAKkuC,QLgBhB,SAAWmI,GACP,SAASnI,IAEL,IAAInN,EAAM,CAAC,GAAK,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAE1D,OADAA,EAAI,GAAK,EACFA,EAGX,SAASxwB,IACL,IAAIywB,EAAMkN,IAiBV,OAhBAlN,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,IAAM,EACVA,EAAI,IAAM,EACVA,EAAI,IAAM,EACVA,EAAI,IAAM,EACVA,EAAI,IAAM,EACVA,EAAI,IAAM,EACHA,EAGX,SAASiT,EAAYD,GAiBjB,OAhBAA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,IAAM,EACVA,EAAI,IAAM,EACVA,EAAI,IAAM,EACVA,EAAI,IAAM,EACVA,EAAI,IAAM,EACVA,EAAI,IAAM,EACHA,EAGX,SAASsC,EAAQtC,GACb,IAAK,IAAIrrD,EAAI,EAAGA,EAAI,GAAIA,IACpBqrD,EAAIrrD,GAAK,EACb,OAAOqrD,EA7CXqC,EAAKnI,KAAOA,EAqBZmI,EAAK9lC,SAAWA,EAoBhB8lC,EAAKpC,YAAcA,EAMnBoC,EAAKC,QAAUA,EAWfD,EAAKE,OAVL,SAAgBC,GAEZ,IADA,IAAIxV,EAAMkN,IACDvlD,EAAI,EAAGA,EAAI,EAAGA,IAEnB,IADA,IAAIc,EAAI+sD,EAAK7tD,GACJ80C,EAAI,EAAGA,EAAI,EAAGA,IACnBuD,EAAI,EAAIvD,EAAI90C,GAAKc,EAAEg0C,GAG3B,OAAOuD,GAGX,IAAIjH,EAAMxpB,IAYV,SAASkmC,EAASvW,EAAG3zC,EAAG8gD,GACpB,IAAK,IAAI1kD,EAAI,EAAGA,EAAI,GAAIA,IACpB,GAAIsJ,KAAKu0C,IAAItG,EAAEv3C,GAAK4D,EAAE5D,IAAM0kD,EACxB,OAAO,EAEf,OAAO,EAGX,SAASqJ,EAASxW,EAAGv3C,EAAG80C,EAAG7zC,GACvBs2C,EAAE,EAAIzC,EAAI90C,GAAKiB,EA8DnB,SAASgtB,EAAKoqB,EAAKd,GAiBf,OAhBAc,EAAI,GAAKd,EAAE,GACXc,EAAI,GAAKd,EAAE,GACXc,EAAI,GAAKd,EAAE,GACXc,EAAI,GAAKd,EAAE,GACXc,EAAI,GAAKd,EAAE,GACXc,EAAI,GAAKd,EAAE,GACXc,EAAI,GAAKd,EAAE,GACXc,EAAI,GAAKd,EAAE,GACXc,EAAI,GAAKd,EAAE,GACXc,EAAI,GAAKd,EAAE,GACXc,EAAI,IAAMd,EAAE,IACZc,EAAI,IAAMd,EAAE,IACZc,EAAI,IAAMd,EAAE,IACZc,EAAI,IAAMd,EAAE,IACZc,EAAI,IAAMd,EAAE,IACZc,EAAI,IAAMd,EAAE,IACLc,EAuCX,SAAS2V,EAAY3V,EAAKgT,GAEtB,IAAI4C,EAAQ5C,EAAI,GAAKA,EAAI,GAAKA,EAAI,IAC9B6C,EAAI,EA6BR,OA5BID,EAAQ,GACRC,EAA6B,EAAzB5kD,KAAKw8C,KAAKmI,EAAQ,GACtB5V,EAAI,GAAK,IAAO6V,EAChB7V,EAAI,IAAMgT,EAAI,GAAKA,EAAI,IAAM6C,EAC7B7V,EAAI,IAAMgT,EAAI,GAAKA,EAAI,IAAM6C,EAC7B7V,EAAI,IAAMgT,EAAI,GAAKA,EAAI,IAAM6C,GAEvB7C,EAAI,GAAKA,EAAI,IAAQA,EAAI,GAAKA,EAAI,KACxC6C,EAAiD,EAA7C5kD,KAAKw8C,KAAK,EAAMuF,EAAI,GAAKA,EAAI,GAAKA,EAAI,KAC1ChT,EAAI,IAAMgT,EAAI,GAAKA,EAAI,IAAM6C,EAC7B7V,EAAI,GAAK,IAAO6V,EAChB7V,EAAI,IAAMgT,EAAI,GAAKA,EAAI,IAAM6C,EAC7B7V,EAAI,IAAMgT,EAAI,GAAKA,EAAI,IAAM6C,GAExB7C,EAAI,GAAKA,EAAI,KAClB6C,EAAiD,EAA7C5kD,KAAKw8C,KAAK,EAAMuF,EAAI,GAAKA,EAAI,GAAKA,EAAI,KAC1ChT,EAAI,IAAMgT,EAAI,GAAKA,EAAI,IAAM6C,EAC7B7V,EAAI,IAAMgT,EAAI,GAAKA,EAAI,IAAM6C,EAC7B7V,EAAI,GAAK,IAAO6V,EAChB7V,EAAI,IAAMgT,EAAI,GAAKA,EAAI,IAAM6C,IAG7BA,EAAiD,EAA7C5kD,KAAKw8C,KAAK,EAAMuF,EAAI,IAAMA,EAAI,GAAKA,EAAI,IAC3ChT,EAAI,IAAMgT,EAAI,GAAKA,EAAI,IAAM6C,EAC7B7V,EAAI,IAAMgT,EAAI,GAAKA,EAAI,IAAM6C,EAC7B7V,EAAI,IAAMgT,EAAI,GAAKA,EAAI,IAAM6C,EAC7B7V,EAAI,GAAK,IAAO6V,GAEb7V,EAkEX,SAAS8V,EAAU9V,EAAKd,GACpB,IAAI6W,EAAM7W,EAAE,GAAI8W,EAAM9W,EAAE,GAAI+W,EAAM/W,EAAE,GAAIgX,EAAMhX,EAAE,GAAIiX,EAAMjX,EAAE,GAAIkX,EAAMlX,EAAE,GAAImX,EAAMnX,EAAE,GAAIoX,EAAMpX,EAAE,GAAIqX,EAAMrX,EAAE,GAAIsX,EAAMtX,EAAE,GAAIuX,EAAMvX,EAAE,IAAKwX,EAAMxX,EAAE,IAAKyX,EAAMzX,EAAE,IAAK0X,EAAM1X,EAAE,IAAK2X,EAAM3X,EAAE,IAAK4X,EAAM5X,EAAE,IAAK6X,EAAMhB,EAAMK,EAAMJ,EAAMG,EAAKa,EAAMjB,EAAMM,EAAMJ,EAAME,EAAKc,EAAMlB,EAAMO,EAAMJ,EAAMC,EAAKe,EAAMlB,EAAMK,EAAMJ,EAAMG,EAAKe,EAAMnB,EAAMM,EAAMJ,EAAME,EAAKgB,EAAMnB,EAAMK,EAAMJ,EAAMG,EAAKgB,EAAMd,EAAMK,EAAMJ,EAAMG,EAAKW,EAAMf,EAAMM,EAAMJ,EAAME,EAAKY,EAAMhB,EAAMO,EAAMJ,EAAMC,EAAKa,EAAMhB,EAAMK,EAAMJ,EAAMG,EAAKa,EAAMjB,EAAMM,EAAMJ,EAAME,EAAKc,EAAMjB,EAAMK,EAAMJ,EAAMG,EAE7hBc,EAAMZ,EAAMW,EAAMV,EAAMS,EAAMR,EAAMO,EAAMN,EAAMK,EAAMJ,EAAMG,EAAMF,EAAMC,EAC5E,QAAKM,IAGLA,EAAM,EAAMA,EACZ3X,EAAI,IAAMoW,EAAMsB,EAAMrB,EAAMoB,EAAMnB,EAAMkB,GAAOG,EAC/C3X,EAAI,IAAMiW,EAAMwB,EAAMzB,EAAM0B,EAAMxB,EAAMsB,GAAOG,EAC/C3X,EAAI,IAAM4W,EAAMQ,EAAMP,EAAMM,EAAML,EAAMI,GAAOS,EAC/C3X,EAAI,IAAMyW,EAAMU,EAAMX,EAAMY,EAAMV,EAAMQ,GAAOS,EAC/C3X,EAAI,IAAMqW,EAAMkB,EAAMpB,EAAMuB,EAAMpB,EAAMgB,GAAOK,EAC/C3X,EAAI,IAAM+V,EAAM2B,EAAMzB,EAAMsB,EAAMrB,EAAMoB,GAAOK,EAC/C3X,EAAI,IAAM6W,EAAMI,EAAMN,EAAMS,EAAMN,EAAME,GAAOW,EAC/C3X,EAAI,IAAMuW,EAAMa,EAAMX,EAAMQ,EAAMP,EAAMM,GAAOW,EAC/C3X,EAAI,IAAMmW,EAAMsB,EAAMrB,EAAMmB,EAAMjB,EAAMe,GAAOM,EAC/C3X,EAAI,IAAMgW,EAAMuB,EAAMxB,EAAM0B,EAAMvB,EAAMmB,GAAOM,EAC/C3X,EAAI,KAAO2W,EAAMQ,EAAMP,EAAMK,EAAMH,EAAMC,GAAOY,EAChD3X,EAAI,KAAOwW,EAAMS,EAAMV,EAAMY,EAAMT,EAAMK,GAAOY,EAChD3X,EAAI,KAAOoW,EAAMkB,EAAMnB,EAAMqB,EAAMnB,EAAMgB,GAAOM,EAChD3X,EAAI,KAAO+V,EAAMyB,EAAMxB,EAAMsB,EAAMrB,EAAMoB,GAAOM,EAChD3X,EAAI,KAAO4W,EAAMI,EAAML,EAAMO,EAAML,EAAME,GAAOY,EAChD3X,EAAI,KAAOuW,EAAMW,EAAMV,EAAMQ,EAAMP,EAAMM,GAAOY,GACzC,GAUX,SAAS3W,EAAIhB,EAAKd,EAAG3zC,GACjB,IAAIwqD,EAAM7W,EAAE,GAAI8W,EAAM9W,EAAE,GAAI+W,EAAM/W,EAAE,GAAIgX,EAAMhX,EAAE,GAAIiX,EAAMjX,EAAE,GAAIkX,EAAMlX,EAAE,GAAImX,EAAMnX,EAAE,GAAIoX,EAAMpX,EAAE,GAAIqX,EAAMrX,EAAE,GAAIsX,EAAMtX,EAAE,GAAIuX,EAAMvX,EAAE,IAAKwX,EAAMxX,EAAE,IAAKyX,EAAMzX,EAAE,IAAK0X,EAAM1X,EAAE,IAAK2X,EAAM3X,EAAE,IAAK4X,EAAM5X,EAAE,IAEjMyT,EAAKpnD,EAAE,GAAIqnD,EAAKrnD,EAAE,GAAIsnD,EAAKtnD,EAAE,GAAIqsD,EAAKrsD,EAAE,GA6B5C,OA5BAy0C,EAAI,GAAK2S,EAAKoD,EAAMnD,EAAKuD,EAAMtD,EAAK0D,EAAMqB,EAAKjB,EAC/C3W,EAAI,GAAK2S,EAAKqD,EAAMpD,EAAKwD,EAAMvD,EAAK2D,EAAMoB,EAAKhB,EAC/C5W,EAAI,GAAK2S,EAAKsD,EAAMrD,EAAKyD,EAAMxD,EAAK4D,EAAMmB,EAAKf,EAC/C7W,EAAI,GAAK2S,EAAKuD,EAAMtD,EAAK0D,EAAMzD,EAAK6D,EAAMkB,EAAKd,EAC/CnE,EAAKpnD,EAAE,GACPqnD,EAAKrnD,EAAE,GACPsnD,EAAKtnD,EAAE,GACPqsD,EAAKrsD,EAAE,GACPy0C,EAAI,GAAK2S,EAAKoD,EAAMnD,EAAKuD,EAAMtD,EAAK0D,EAAMqB,EAAKjB,EAC/C3W,EAAI,GAAK2S,EAAKqD,EAAMpD,EAAKwD,EAAMvD,EAAK2D,EAAMoB,EAAKhB,EAC/C5W,EAAI,GAAK2S,EAAKsD,EAAMrD,EAAKyD,EAAMxD,EAAK4D,EAAMmB,EAAKf,EAC/C7W,EAAI,GAAK2S,EAAKuD,EAAMtD,EAAK0D,EAAMzD,EAAK6D,EAAMkB,EAAKd,EAC/CnE,EAAKpnD,EAAE,GACPqnD,EAAKrnD,EAAE,GACPsnD,EAAKtnD,EAAE,IACPqsD,EAAKrsD,EAAE,IACPy0C,EAAI,GAAK2S,EAAKoD,EAAMnD,EAAKuD,EAAMtD,EAAK0D,EAAMqB,EAAKjB,EAC/C3W,EAAI,GAAK2S,EAAKqD,EAAMpD,EAAKwD,EAAMvD,EAAK2D,EAAMoB,EAAKhB,EAC/C5W,EAAI,IAAM2S,EAAKsD,EAAMrD,EAAKyD,EAAMxD,EAAK4D,EAAMmB,EAAKf,EAChD7W,EAAI,IAAM2S,EAAKuD,EAAMtD,EAAK0D,EAAMzD,EAAK6D,EAAMkB,EAAKd,EAChDnE,EAAKpnD,EAAE,IACPqnD,EAAKrnD,EAAE,IACPsnD,EAAKtnD,EAAE,IACPqsD,EAAKrsD,EAAE,IACPy0C,EAAI,IAAM2S,EAAKoD,EAAMnD,EAAKuD,EAAMtD,EAAK0D,EAAMqB,EAAKjB,EAChD3W,EAAI,IAAM2S,EAAKqD,EAAMpD,EAAKwD,EAAMvD,EAAK2D,EAAMoB,EAAKhB,EAChD5W,EAAI,IAAM2S,EAAKsD,EAAMrD,EAAKyD,EAAMxD,EAAK4D,EAAMmB,EAAKf,EAChD7W,EAAI,IAAM2S,EAAKuD,EAAMtD,EAAK0D,EAAMzD,EAAK6D,EAAMkB,EAAKd,EACzC9W,EA+KX,SAASqT,EAAarT,EAAKkV,EAAK9B,GAC5B,IAAI5hD,EAAI4hD,EAAK,GAAI5lD,EAAI4lD,EAAK,GAAIhG,EAAIgG,EAAK,GACnC3e,EAAMxjC,KAAKw8C,KAAKj8C,EAAIA,EAAIhE,EAAIA,EAAI4/C,EAAIA,GACxC,GAAIn8C,KAAKu0C,IAAI/Q,GAAO0X,EAChB,OAAO8G,EAAYjT,GAGvBxuC,GADAijC,EAAM,EAAIA,EAEVjnC,GAAKinC,EACL2Y,GAAK3Y,EACL,IAAIpqC,EAAI4G,KAAK0+C,IAAIuF,GACbltD,EAAIiJ,KAAKy+C,IAAIwF,GACbrsD,EAAI,EAAIb,EAkBZ,OAhBAg4C,EAAI,GAAKxuC,EAAIA,EAAI3I,EAAIb,EACrBg4C,EAAI,GAAKxyC,EAAIgE,EAAI3I,EAAIukD,EAAI/iD,EACzB21C,EAAI,GAAKoN,EAAI57C,EAAI3I,EAAI2E,EAAInD,EACzB21C,EAAI,GAAK,EACTA,EAAI,GAAKxuC,EAAIhE,EAAI3E,EAAIukD,EAAI/iD,EACzB21C,EAAI,GAAKxyC,EAAIA,EAAI3E,EAAIb,EACrBg4C,EAAI,GAAKoN,EAAI5/C,EAAI3E,EAAI2I,EAAInH,EACzB21C,EAAI,GAAK,EACTA,EAAI,GAAKxuC,EAAI47C,EAAIvkD,EAAI2E,EAAInD,EACzB21C,EAAI,GAAKxyC,EAAI4/C,EAAIvkD,EAAI2I,EAAInH,EACzB21C,EAAI,IAAMoN,EAAIA,EAAIvkD,EAAIb,EACtBg4C,EAAI,IAAM,EACVA,EAAI,IAAM,EACVA,EAAI,IAAM,EACVA,EAAI,IAAM,EACVA,EAAI,IAAM,EACHA,EAxfXqV,EAAKwC,WAHL,SAAoB9vD,EAAGskD,GACnB,OAAOoJ,EAAS1tD,EAAGgxC,OAAoB,IAARsT,EAAsBF,EAAUE,IASnEgJ,EAAKnH,OANL,SAAgBnmD,GACZ,IAAK,IAAIJ,EAAI,EAAGA,EAAI,GAAIA,IACpB,GAAI+lC,MAAM3lC,EAAEJ,IACR,OAAO,EACf,OAAO,GAUX0tD,EAAKI,SAAWA,EAIhBJ,EAAKK,SAAWA,EAIhBL,EAAK54B,SAHL,SAAkByiB,EAAGv3C,EAAG80C,GACpB,OAAOyC,EAAE,EAAIzC,EAAI90C,IAsBrB0tD,EAAK9xB,QAnBL,SAAiB2b,EAAGc,EAAKnlC,GAiBrB,OAhBAmlC,EAAInlC,EAAS,GAAKqkC,EAAE,GACpBc,EAAInlC,EAAS,GAAKqkC,EAAE,GACpBc,EAAInlC,EAAS,GAAKqkC,EAAE,GACpBc,EAAInlC,EAAS,GAAKqkC,EAAE,GACpBc,EAAInlC,EAAS,GAAKqkC,EAAE,GACpBc,EAAInlC,EAAS,GAAKqkC,EAAE,GACpBc,EAAInlC,EAAS,GAAKqkC,EAAE,GACpBc,EAAInlC,EAAS,GAAKqkC,EAAE,GACpBc,EAAInlC,EAAS,GAAKqkC,EAAE,GACpBc,EAAInlC,EAAS,GAAKqkC,EAAE,GACpBc,EAAInlC,EAAS,IAAMqkC,EAAE,IACrBc,EAAInlC,EAAS,IAAMqkC,EAAE,IACrBc,EAAInlC,EAAS,IAAMqkC,EAAE,IACrBc,EAAInlC,EAAS,IAAMqkC,EAAE,IACrBc,EAAInlC,EAAS,IAAMqkC,EAAE,IACrBc,EAAInlC,EAAS,IAAMqkC,EAAE,IACdc,GAsBXqV,EAAK/G,UAnBL,SAAmBpP,EAAGvlC,EAAOkB,GAiBzB,OAhBAqkC,EAAE,GAAKvlC,EAAMkB,EAAS,GACtBqkC,EAAE,GAAKvlC,EAAMkB,EAAS,GACtBqkC,EAAE,GAAKvlC,EAAMkB,EAAS,GACtBqkC,EAAE,GAAKvlC,EAAMkB,EAAS,GACtBqkC,EAAE,GAAKvlC,EAAMkB,EAAS,GACtBqkC,EAAE,GAAKvlC,EAAMkB,EAAS,GACtBqkC,EAAE,GAAKvlC,EAAMkB,EAAS,GACtBqkC,EAAE,GAAKvlC,EAAMkB,EAAS,GACtBqkC,EAAE,GAAKvlC,EAAMkB,EAAS,GACtBqkC,EAAE,GAAKvlC,EAAMkB,EAAS,GACtBqkC,EAAE,IAAMvlC,EAAMkB,EAAS,IACvBqkC,EAAE,IAAMvlC,EAAMkB,EAAS,IACvBqkC,EAAE,IAAMvlC,EAAMkB,EAAS,IACvBqkC,EAAE,IAAMvlC,EAAMkB,EAAS,IACvBqkC,EAAE,IAAMvlC,EAAMkB,EAAS,IACvBqkC,EAAE,IAAMvlC,EAAMkB,EAAS,IAChBqkC,GAiBXmW,EAAKyC,UAdL,SAAmB5Y,EAAG1tC,EAAGhE,EAAG4/C,GAYxB,OAXAkI,EAAQpW,GACRwW,EAASxW,EAAG,EAAG,EAAG1tC,EAAE,IACpBkkD,EAASxW,EAAG,EAAG,EAAG1tC,EAAE,IACpBkkD,EAASxW,EAAG,EAAG,EAAG1tC,EAAE,IACpBkkD,EAASxW,EAAG,EAAG,EAAG1xC,EAAE,IACpBkoD,EAASxW,EAAG,EAAG,EAAG1xC,EAAE,IACpBkoD,EAASxW,EAAG,EAAG,EAAG1xC,EAAE,IACpBkoD,EAASxW,EAAG,EAAG,EAAGkO,EAAE,IACpBsI,EAASxW,EAAG,EAAG,EAAGkO,EAAE,IACpBsI,EAASxW,EAAG,EAAG,EAAGkO,EAAE,IACpBsI,EAASxW,EAAG,EAAG,EAAG,GACXA,GAsBXmW,EAAKz/B,KAAOA,EAIZy/B,EAAKj3B,MAHL,SAAe8gB,GACX,OAAOtpB,EAAKs3B,IAAQhO,IAYxBmW,EAAK0C,eANL,SAAwB/X,EAAKgT,GAIzB,OAHAhT,EAAI,GAAKgT,EAAI,IACbhT,EAAI,GAAKgT,EAAI,IACbhT,EAAI,GAAKgT,EAAI,IACNhT,GAqBXqV,EAAK2C,WAfL,SAAoBhY,EAAKgT,GACrB,IAAIiF,EAAMjF,EAAI,GACVkF,EAAMlF,EAAI,GACVmF,EAAMnF,EAAI,GACVoF,EAAMpF,EAAI,GACVqF,EAAMrF,EAAI,GACVsF,EAAMtF,EAAI,GACVuF,EAAMvF,EAAI,GACVwF,EAAMxF,EAAI,GACVyF,EAAMzF,EAAI,IAId,OAHAhT,EAAI,GAAK/uC,KAAKw8C,KAAKwK,EAAMA,EAAMC,EAAMA,EAAMC,EAAMA,GACjDnY,EAAI,GAAK/uC,KAAKw8C,KAAK2K,EAAMA,EAAMC,EAAMA,EAAMC,EAAMA,GACjDtY,EAAI,GAAK/uC,KAAKw8C,KAAK8K,EAAMA,EAAMC,EAAMA,EAAMC,EAAMA,GAC1CzY,GAwCXqV,EAAKM,YAAcA,EAuBnBN,EAAKqD,gBAtBL,SAAyB1Y,EAAKgT,GAC1B,IAAI2F,EAAS,EAAI1nD,KAAKw8C,KAAKuF,EAAI,GAAKA,EAAI,GAAKA,EAAI,GAAKA,EAAI,GAAKA,EAAI,GAAKA,EAAI,IACxE4F,EAAS,EAAI3nD,KAAKw8C,KAAKuF,EAAI,GAAKA,EAAI,GAAKA,EAAI,GAAKA,EAAI,GAAKA,EAAI,GAAKA,EAAI,IACxE6F,EAAS,EAAI5nD,KAAKw8C,KAAKuF,EAAI,GAAKA,EAAI,GAAKA,EAAI,GAAKA,EAAI,GAAKA,EAAI,IAAMA,EAAI,KAiB7E,OAhBAhT,EAAI,GAAKgT,EAAI,GAAK2F,EAClB3Y,EAAI,GAAKgT,EAAI,GAAK2F,EAClB3Y,EAAI,GAAKgT,EAAI,GAAK2F,EAClB3Y,EAAI,GAAK,EACTA,EAAI,GAAKgT,EAAI,GAAK4F,EAClB5Y,EAAI,GAAKgT,EAAI,GAAK4F,EAClB5Y,EAAI,GAAKgT,EAAI,GAAK4F,EAClB5Y,EAAI,GAAK,EACTA,EAAI,GAAKgT,EAAI,GAAK6F,EAClB7Y,EAAI,GAAKgT,EAAI,GAAK6F,EAClB7Y,EAAI,IAAMgT,EAAI,IAAM6F,EACpB7Y,EAAI,IAAM,EACVA,EAAI,IAAM,EACVA,EAAI,IAAM,EACVA,EAAI,IAAM,EACVA,EAAI,IAAM,EACHA,GA0CXqV,EAAKyD,UAvCL,SAAmB9Y,EAAKd,GAEpB,GAAIc,IAAQd,EAAG,CACX,IAAI8W,EAAM9W,EAAE,GAAI+W,EAAM/W,EAAE,GAAIgX,EAAMhX,EAAE,GAChCmX,EAAMnX,EAAE,GAAIoX,EAAMpX,EAAE,GACpBwX,EAAMxX,EAAE,IACZc,EAAI,GAAKd,EAAE,GACXc,EAAI,GAAKd,EAAE,GACXc,EAAI,GAAKd,EAAE,IACXc,EAAI,GAAKgW,EACThW,EAAI,GAAKd,EAAE,GACXc,EAAI,GAAKd,EAAE,IACXc,EAAI,GAAKiW,EACTjW,EAAI,GAAKqW,EACTrW,EAAI,IAAMd,EAAE,IACZc,EAAI,IAAMkW,EACVlW,EAAI,IAAMsW,EACVtW,EAAI,IAAM0W,OAGV1W,EAAI,GAAKd,EAAE,GACXc,EAAI,GAAKd,EAAE,GACXc,EAAI,GAAKd,EAAE,GACXc,EAAI,GAAKd,EAAE,IACXc,EAAI,GAAKd,EAAE,GACXc,EAAI,GAAKd,EAAE,GACXc,EAAI,GAAKd,EAAE,GACXc,EAAI,GAAKd,EAAE,IACXc,EAAI,GAAKd,EAAE,GACXc,EAAI,GAAKd,EAAE,GACXc,EAAI,IAAMd,EAAE,IACZc,EAAI,IAAMd,EAAE,IACZc,EAAI,IAAMd,EAAE,GACZc,EAAI,IAAMd,EAAE,GACZc,EAAI,IAAMd,EAAE,IACZc,EAAI,IAAMd,EAAE,IAEhB,OAAOc,GA6BXqV,EAAKS,UAAYA,EAOjBT,EAAKjxB,OANL,SAAgB4b,EAAKd,GAIjB,OAHK4W,EAAU9V,EAAKd,IAChB6Z,QAAQC,KAAK,yBAA0B9Z,GAEpCc,GAqCXqV,EAAKrU,IAAMA,EAsCXqU,EAAK4D,UAlCL,SAAmBjZ,EAAKd,EAAG3zC,EAAG2tD,EAAMC,EAAIC,GACpC,IAAIrD,EAAM7W,EAAE,EAAIia,GAAKnD,EAAM9W,EAAE,EAAIia,GAAKlD,EAAM/W,EAAE,EAAIia,GAAKjD,EAAMhX,EAAE,EAAIia,GAAKhD,EAAMjX,EAAE,EAAIia,GAAK/C,EAAMlX,EAAE,EAAIia,GAAK9C,EAAMnX,EAAE,EAAIia,GAAK7C,EAAMpX,EAAE,EAAIia,GAAK5C,EAAMrX,EAAE,EAAIia,GAAK3C,EAAMtX,EAAE,EAAIia,GAAK1C,EAAMvX,EAAE,GAAKia,GAAKzC,EAAMxX,EAAE,GAAKia,GAAKxC,EAAMzX,EAAE,GAAKia,GAAKvC,EAAM1X,EAAE,GAAKia,GAAKtC,EAAM3X,EAAE,GAAKia,GAAKrC,EAAM5X,EAAE,GAAKia,GAEjRxG,EAAKpnD,EAAE,EAAI6tD,GAAKxG,EAAKrnD,EAAE,EAAI6tD,GAAKvG,EAAKtnD,EAAE,EAAI6tD,GAAKxB,EAAKrsD,EAAE,EAAI6tD,GA6B/D,OA5BApZ,EAAI,EAAIkZ,GAAQvG,EAAKoD,EAAMnD,EAAKuD,EAAMtD,EAAK0D,EAAMqB,EAAKjB,EACtD3W,EAAI,EAAIkZ,GAAQvG,EAAKqD,EAAMpD,EAAKwD,EAAMvD,EAAK2D,EAAMoB,EAAKhB,EACtD5W,EAAI,EAAIkZ,GAAQvG,EAAKsD,EAAMrD,EAAKyD,EAAMxD,EAAK4D,EAAMmB,EAAKf,EACtD7W,EAAI,EAAIkZ,GAAQvG,EAAKuD,EAAMtD,EAAK0D,EAAMzD,EAAK6D,EAAMkB,EAAKd,EACtDnE,EAAKpnD,EAAE,EAAI6tD,GACXxG,EAAKrnD,EAAE,EAAI6tD,GACXvG,EAAKtnD,EAAE,EAAI6tD,GACXxB,EAAKrsD,EAAE,EAAI6tD,GACXpZ,EAAI,EAAIkZ,GAAQvG,EAAKoD,EAAMnD,EAAKuD,EAAMtD,EAAK0D,EAAMqB,EAAKjB,EACtD3W,EAAI,EAAIkZ,GAAQvG,EAAKqD,EAAMpD,EAAKwD,EAAMvD,EAAK2D,EAAMoB,EAAKhB,EACtD5W,EAAI,EAAIkZ,GAAQvG,EAAKsD,EAAMrD,EAAKyD,EAAMxD,EAAK4D,EAAMmB,EAAKf,EACtD7W,EAAI,EAAIkZ,GAAQvG,EAAKuD,EAAMtD,EAAK0D,EAAMzD,EAAK6D,EAAMkB,EAAKd,EACtDnE,EAAKpnD,EAAE,EAAI6tD,GACXxG,EAAKrnD,EAAE,EAAI6tD,GACXvG,EAAKtnD,EAAE,GAAK6tD,GACZxB,EAAKrsD,EAAE,GAAK6tD,GACZpZ,EAAI,EAAIkZ,GAAQvG,EAAKoD,EAAMnD,EAAKuD,EAAMtD,EAAK0D,EAAMqB,EAAKjB,EACtD3W,EAAI,EAAIkZ,GAAQvG,EAAKqD,EAAMpD,EAAKwD,EAAMvD,EAAK2D,EAAMoB,EAAKhB,EACtD5W,EAAI,GAAKkZ,GAAQvG,EAAKsD,EAAMrD,EAAKyD,EAAMxD,EAAK4D,EAAMmB,EAAKf,EACvD7W,EAAI,GAAKkZ,GAAQvG,EAAKuD,EAAMtD,EAAK0D,EAAMzD,EAAK6D,EAAMkB,EAAKd,EACvDnE,EAAKpnD,EAAE,GAAK6tD,GACZxG,EAAKrnD,EAAE,GAAK6tD,GACZvG,EAAKtnD,EAAE,GAAK6tD,GACZxB,EAAKrsD,EAAE,GAAK6tD,GACZpZ,EAAI,GAAKkZ,GAAQvG,EAAKoD,EAAMnD,EAAKuD,EAAMtD,EAAK0D,EAAMqB,EAAKjB,EACvD3W,EAAI,GAAKkZ,GAAQvG,EAAKqD,EAAMpD,EAAKwD,EAAMvD,EAAK2D,EAAMoB,EAAKhB,EACvD5W,EAAI,GAAKkZ,GAAQvG,EAAKsD,EAAMrD,EAAKyD,EAAMxD,EAAK4D,EAAMmB,EAAKf,EACvD7W,EAAI,GAAKkZ,GAAQvG,EAAKuD,EAAMtD,EAAK0D,EAAMzD,EAAK6D,EAAMkB,EAAKd,EAChD9W,GAMXqV,EAAKgE,KAHL,SAAcrZ,EAAKd,EAAG3zC,EAAGvD,GACrB,OAAOg5C,EAAIhB,EAAKgB,EAAIhB,EAAKd,EAAG3zC,GAAIvD,IA6CpCqtD,EAAKiE,UAzCL,SAAmBtZ,EAAKd,EAAGjxC,GACvB,IACI8nD,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EADvDllD,EAAIvD,EAAE,GAAIT,EAAIS,EAAE,GAAIm/C,EAAIn/C,EAAE,GAsC9B,OApCIixC,IAAMc,GACNA,EAAI,IAAMd,EAAE,GAAK1tC,EAAI0tC,EAAE,GAAK1xC,EAAI0xC,EAAE,GAAKkO,EAAIlO,EAAE,IAC7Cc,EAAI,IAAMd,EAAE,GAAK1tC,EAAI0tC,EAAE,GAAK1xC,EAAI0xC,EAAE,GAAKkO,EAAIlO,EAAE,IAC7Cc,EAAI,IAAMd,EAAE,GAAK1tC,EAAI0tC,EAAE,GAAK1xC,EAAI0xC,EAAE,IAAMkO,EAAIlO,EAAE,IAC9Cc,EAAI,IAAMd,EAAE,GAAK1tC,EAAI0tC,EAAE,GAAK1xC,EAAI0xC,EAAE,IAAMkO,EAAIlO,EAAE,MAG9C6W,EAAM7W,EAAE,GACR8W,EAAM9W,EAAE,GACR+W,EAAM/W,EAAE,GACRgX,EAAMhX,EAAE,GACRiX,EAAMjX,EAAE,GACRkX,EAAMlX,EAAE,GACRmX,EAAMnX,EAAE,GACRoX,EAAMpX,EAAE,GACRqX,EAAMrX,EAAE,GACRsX,EAAMtX,EAAE,GACRuX,EAAMvX,EAAE,IACRwX,EAAMxX,EAAE,IACRc,EAAI,GAAK+V,EACT/V,EAAI,GAAKgW,EACThW,EAAI,GAAKiW,EACTjW,EAAI,GAAKkW,EACTlW,EAAI,GAAKmW,EACTnW,EAAI,GAAKoW,EACTpW,EAAI,GAAKqW,EACTrW,EAAI,GAAKsW,EACTtW,EAAI,GAAKuW,EACTvW,EAAI,GAAKwW,EACTxW,EAAI,IAAMyW,EACVzW,EAAI,IAAM0W,EACV1W,EAAI,IAAM+V,EAAMvkD,EAAI2kD,EAAM3oD,EAAI+oD,EAAMnJ,EAAIlO,EAAE,IAC1Cc,EAAI,IAAMgW,EAAMxkD,EAAI4kD,EAAM5oD,EAAIgpD,EAAMpJ,EAAIlO,EAAE,IAC1Cc,EAAI,IAAMiW,EAAMzkD,EAAI6kD,EAAM7oD,EAAIipD,EAAMrJ,EAAIlO,EAAE,IAC1Cc,EAAI,IAAMkW,EAAM1kD,EAAI8kD,EAAM9oD,EAAIkpD,EAAMtJ,EAAIlO,EAAE,KAEvCc,GAsBXqV,EAAKkE,gBAnBL,SAAyBvZ,EAAK/xC,GAiB1B,OAhBA+xC,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,IAAM,EACVA,EAAI,IAAM,EACVA,EAAI,IAAM/xC,EAAE,GACZ+xC,EAAI,IAAM/xC,EAAE,GACZ+xC,EAAI,IAAM/xC,EAAE,GACZ+xC,EAAI,IAAM,EACHA,GASXqV,EAAKmE,eANL,SAAwBxZ,EAAK/xC,GAIzB,OAHA+xC,EAAI,IAAM/xC,EAAE,GACZ+xC,EAAI,IAAM/xC,EAAE,GACZ+xC,EAAI,IAAM/xC,EAAE,GACL+xC,GAoBXqV,EAAKoE,QAZL,SAAiBzZ,EAAK5M,EAAMsmB,EAAOC,GAU/B,OATA3Z,EAAI,GAAK0Z,EAAM,GACf1Z,EAAI,GAAK0Z,EAAM,GACf1Z,EAAI,GAAK0Z,EAAM,GACf1Z,EAAI,GAAK2Z,EAAG,GACZ3Z,EAAI,GAAK2Z,EAAG,GACZ3Z,EAAI,GAAK2Z,EAAG,GACZ3Z,EAAI,GAAK5M,EAAK,GACd4M,EAAI,GAAK5M,EAAK,GACd4M,EAAI,IAAM5M,EAAK,GACR4M,GA4CXqV,EAAKuE,OAzCL,SAAgB5Z,EAAKd,EAAGgW,EAAK9B,GACzB,IAAI5hD,EAAI4hD,EAAK,GAAI5lD,EAAI4lD,EAAK,GAAIhG,EAAIgG,EAAK,GACnC3e,EAAMxjC,KAAKw8C,KAAKj8C,EAAIA,EAAIhE,EAAIA,EAAI4/C,EAAIA,GACxC,GAAIn8C,KAAKu0C,IAAI/Q,GAAO0X,EAChB,OAAO58B,IAGX/d,GADAijC,EAAM,EAAIA,EAEVjnC,GAAKinC,EACL2Y,GAAK3Y,EACL,IAAIpqC,EAAI4G,KAAK0+C,IAAIuF,GACbltD,EAAIiJ,KAAKy+C,IAAIwF,GACbrsD,EAAI,EAAIb,EACR+tD,EAAM7W,EAAE,GAAI8W,EAAM9W,EAAE,GAAI+W,EAAM/W,EAAE,GAAIgX,EAAMhX,EAAE,GAC5CiX,EAAMjX,EAAE,GAAIkX,EAAMlX,EAAE,GAAImX,EAAMnX,EAAE,GAAIoX,EAAMpX,EAAE,GAC5CqX,EAAMrX,EAAE,GAAIsX,EAAMtX,EAAE,GAAIuX,EAAMvX,EAAE,IAAKwX,EAAMxX,EAAE,IAE7C6X,EAAMvlD,EAAIA,EAAI3I,EAAIb,EAAGgvD,EAAMxpD,EAAIgE,EAAI3I,EAAIukD,EAAI/iD,EAAG4sD,EAAM7J,EAAI57C,EAAI3I,EAAI2E,EAAInD,EACpEotD,EAAMjmD,EAAIhE,EAAI3E,EAAIukD,EAAI/iD,EAAGqtD,EAAMlqD,EAAIA,EAAI3E,EAAIb,EAAG6xD,EAAMzM,EAAI5/C,EAAI3E,EAAI2I,EAAInH,EACpEyvD,EAAMtoD,EAAI47C,EAAIvkD,EAAI2E,EAAInD,EAAG0vD,EAAMvsD,EAAI4/C,EAAIvkD,EAAI2I,EAAInH,EAAG2vD,EAAM5M,EAAIA,EAAIvkD,EAAIb,EAoBxE,OAlBAg4C,EAAI,GAAK+V,EAAMgB,EAAMZ,EAAMa,EAAMT,EAAMU,EACvCjX,EAAI,GAAKgW,EAAMe,EAAMX,EAAMY,EAAMR,EAAMS,EACvCjX,EAAI,GAAKiW,EAAMc,EAAMV,EAAMW,EAAMP,EAAMQ,EACvCjX,EAAI,GAAKkW,EAAMa,EAAMT,EAAMU,EAAMN,EAAMO,EACvCjX,EAAI,GAAK+V,EAAM0B,EAAMtB,EAAMuB,EAAMnB,EAAMsD,EACvC7Z,EAAI,GAAKgW,EAAMyB,EAAMrB,EAAMsB,EAAMlB,EAAMqD,EACvC7Z,EAAI,GAAKiW,EAAMwB,EAAMpB,EAAMqB,EAAMjB,EAAMoD,EACvC7Z,EAAI,GAAKkW,EAAMuB,EAAMnB,EAAMoB,EAAMhB,EAAMmD,EACvC7Z,EAAI,GAAK+V,EAAM+D,EAAM3D,EAAM4D,EAAMxD,EAAMyD,EACvCha,EAAI,GAAKgW,EAAM8D,EAAM1D,EAAM2D,EAAMvD,EAAMwD,EACvCha,EAAI,IAAMiW,EAAM6D,EAAMzD,EAAM0D,EAAMtD,EAAMuD,EACxCha,EAAI,IAAMkW,EAAM4D,EAAMxD,EAAMyD,EAAMrD,EAAMsD,EACpC9a,IAAMc,IACNA,EAAI,IAAMd,EAAE,IACZc,EAAI,IAAMd,EAAE,IACZc,EAAI,IAAMd,EAAE,IACZc,EAAI,IAAMd,EAAE,KAETc,GAmCXqV,EAAKhC,aAAeA,EAqBpBgC,EAAKhI,MApBL,SAAerN,EAAKd,EAAGjxC,GACnB,IAAIuD,EAAIvD,EAAE,GAAIT,EAAIS,EAAE,GAAIm/C,EAAIn/C,EAAE,GAiB9B,OAhBA+xC,EAAI,GAAKd,EAAE,GAAK1tC,EAChBwuC,EAAI,GAAKd,EAAE,GAAK1tC,EAChBwuC,EAAI,GAAKd,EAAE,GAAK1tC,EAChBwuC,EAAI,GAAKd,EAAE,GAAK1tC,EAChBwuC,EAAI,GAAKd,EAAE,GAAK1xC,EAChBwyC,EAAI,GAAKd,EAAE,GAAK1xC,EAChBwyC,EAAI,GAAKd,EAAE,GAAK1xC,EAChBwyC,EAAI,GAAKd,EAAE,GAAK1xC,EAChBwyC,EAAI,GAAKd,EAAE,GAAKkO,EAChBpN,EAAI,GAAKd,EAAE,GAAKkO,EAChBpN,EAAI,IAAMd,EAAE,IAAMkO,EAClBpN,EAAI,IAAMd,EAAE,IAAMkO,EAClBpN,EAAI,IAAMd,EAAE,IACZc,EAAI,IAAMd,EAAE,IACZc,EAAI,IAAMd,EAAE,IACZc,EAAI,IAAMd,EAAE,IACLc,GAsBXqV,EAAK4E,eAnBL,SAAwBja,EAAKd,EAAGmO,GAiB5B,OAhBArN,EAAI,GAAKd,EAAE,GAAKmO,EAChBrN,EAAI,GAAKd,EAAE,GAAKmO,EAChBrN,EAAI,GAAKd,EAAE,GAAKmO,EAChBrN,EAAI,GAAKd,EAAE,GAAKmO,EAChBrN,EAAI,GAAKd,EAAE,GAAKmO,EAChBrN,EAAI,GAAKd,EAAE,GAAKmO,EAChBrN,EAAI,GAAKd,EAAE,GAAKmO,EAChBrN,EAAI,GAAKd,EAAE,GAAKmO,EAChBrN,EAAI,GAAKd,EAAE,GAAKmO,EAChBrN,EAAI,GAAKd,EAAE,GAAKmO,EAChBrN,EAAI,IAAMd,EAAE,IAAMmO,EAClBrN,EAAI,IAAMd,EAAE,IAAMmO,EAClBrN,EAAI,IAAMd,EAAE,IACZc,EAAI,IAAMd,EAAE,IACZc,EAAI,IAAMd,EAAE,IACZc,EAAI,IAAMd,EAAE,IACLc,GAsBXqV,EAAKnC,YAnBL,SAAqBlT,EAAK/xC,GAiBtB,OAhBA+xC,EAAI,GAAK/xC,EAAE,GACX+xC,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK/xC,EAAE,GACX+xC,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,IAAM/xC,EAAE,GACZ+xC,EAAI,IAAM,EACVA,EAAI,IAAM,EACVA,EAAI,IAAM,EACVA,EAAI,IAAM,EACVA,EAAI,IAAM,EACHA,GAsBXqV,EAAK6E,mBAnBL,SAA4Bla,EAAKqN,GAiB7B,OAhBArN,EAAI,GAAKqN,EACTrN,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAKqN,EACTrN,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,IAAMqN,EACVrN,EAAI,IAAM,EACVA,EAAI,IAAM,EACVA,EAAI,IAAM,EACVA,EAAI,IAAM,EACVA,EAAI,IAAM,EACHA,GAkBXqV,EAAK8E,SAZL,SAAkBna,EAAKd,GAUnB,OATAc,EAAI,GAAKd,EAAE,GACXc,EAAI,GAAKd,EAAE,GACXc,EAAI,GAAKd,EAAE,GACXc,EAAI,GAAKd,EAAE,GACXc,EAAI,GAAKd,EAAE,GACXc,EAAI,GAAKd,EAAE,GACXc,EAAI,GAAKd,EAAE,GACXc,EAAI,GAAKd,EAAE,GACXc,EAAI,IAAMd,EAAE,GACLc,GA4BXqV,EAAK+E,QAzBL,SAAiBpa,EAAKzT,EAAU8tB,EAAYhN,GACxC,IAAI77C,EAAI6oD,EAAW,GAAI7sD,EAAI6sD,EAAW,GAAIjN,EAAIiN,EAAW,GAAI5J,EAAI4J,EAAW,GACxEC,EAAK9oD,EAAIA,EAAG+oD,EAAK/sD,EAAIA,EAAGgtD,EAAKpN,EAAIA,EACjCqN,EAAKjpD,EAAI8oD,EAAII,EAAKlpD,EAAI+oD,EAAII,EAAKnpD,EAAIgpD,EACnCI,EAAKptD,EAAI+sD,EAAIM,EAAKrtD,EAAIgtD,EAAIM,EAAK1N,EAAIoN,EACnCO,EAAKtK,EAAI6J,EAAIU,EAAKvK,EAAI8J,EAAIU,EAAKxK,EAAI+J,EACnCU,EAAK7N,EAAM,GAAI8N,EAAK9N,EAAM,GAAI+N,EAAK/N,EAAM,GAiB7C,OAhBArN,EAAI,IAAM,GAAK4a,EAAKE,IAAOI,EAC3Blb,EAAI,IAAM0a,EAAKO,GAAMC,EACrBlb,EAAI,IAAM2a,EAAKK,GAAME,EACrBlb,EAAI,GAAK,EACTA,EAAI,IAAM0a,EAAKO,GAAME,EACrBnb,EAAI,IAAM,GAAKya,EAAKK,IAAOK,EAC3Bnb,EAAI,IAAM6a,EAAKE,GAAMI,EACrBnb,EAAI,GAAK,EACTA,EAAI,IAAM2a,EAAKK,GAAMI,EACrBpb,EAAI,IAAM6a,EAAKE,GAAMK,EACrBpb,EAAI,KAAO,GAAKya,EAAKG,IAAOQ,EAC5Bpb,EAAI,IAAM,EACVA,EAAI,IAAMzT,EAAS,GACnByT,EAAI,IAAMzT,EAAS,GACnByT,EAAI,IAAMzT,EAAS,GACnByT,EAAI,IAAM,EACHA,GAGX,IAAIqb,EAAM,CAAC,EAAG,EAAG,GACbC,EAAMpO,IA+CV,SAASqO,EAAYrc,GACjB,IAAI6W,EAAM7W,EAAE,GAAI8W,EAAM9W,EAAE,GAAI+W,EAAM/W,EAAE,GAAIgX,EAAMhX,EAAE,GAAIiX,EAAMjX,EAAE,GAAIkX,EAAMlX,EAAE,GAAImX,EAAMnX,EAAE,GAAIoX,EAAMpX,EAAE,GAAIqX,EAAMrX,EAAE,GAAIsX,EAAMtX,EAAE,GAAIuX,EAAMvX,EAAE,IAAKwX,EAAMxX,EAAE,IAAKyX,EAAMzX,EAAE,IAAK0X,EAAM1X,EAAE,IAAK2X,EAAM3X,EAAE,IAAK4X,EAAM5X,EAAE,IAErM,OAFgN6W,EAAMK,EAAMJ,EAAMG,IAA6SM,EAAMK,EAAMJ,EAAMG,IAApTd,EAAMM,EAAMJ,EAAME,IAAmPK,EAAMM,EAAMJ,EAAME,IAA1Pb,EAAMO,EAAMJ,EAAMC,IAAyLK,EAAMK,EAAMJ,EAAMG,IAAhMZ,EAAMK,EAAMJ,EAAMG,IAA+HG,EAAMO,EAAMJ,EAAMC,IAAtIX,EAAMM,EAAMJ,EAAME,IAAqEG,EAAMM,EAAMJ,EAAME,IAA5EV,EAAMK,EAAMJ,EAAMG,IAAWE,EAAMK,EAAMJ,EAAMG,GAhBpZtB,EAAKmG,UA/BL,SAAmBzzD,EAAGwkC,EAAU8tB,EAAYhN,GACxC,IAAI6N,EAAK,EAAKnM,UAAU,EAAK/wC,IAAIq9C,EAAKtzD,EAAE,GAAIA,EAAE,GAAIA,EAAE,KAChDozD,EAAK,EAAKpM,UAAU,EAAK/wC,IAAIq9C,EAAKtzD,EAAE,GAAIA,EAAE,GAAIA,EAAE,KAChDqzD,EAAK,EAAKrM,UAAU,EAAK/wC,IAAIq9C,EAAKtzD,EAAE,GAAIA,EAAE,GAAIA,EAAE,MAE1CwzD,EAAYxzD,GACZ,IACNmzD,GAAMA,GACV3uB,EAAS,GAAKxkC,EAAE,IAChBwkC,EAAS,GAAKxkC,EAAE,IAChBwkC,EAAS,GAAKxkC,EAAE,IAEhB6tB,EAAK0lC,EAAKvzD,GACV,IAAI0zD,EAAQ,EAAIP,EACZQ,EAAQ,EAAIP,EACZQ,EAAQ,EAAIP,EAchB,OAbAE,EAAI,IAAMG,EACVH,EAAI,IAAMG,EACVH,EAAI,IAAMG,EACVH,EAAI,IAAMI,EACVJ,EAAI,IAAMI,EACVJ,EAAI,IAAMI,EACVJ,EAAI,IAAMK,EACVL,EAAI,IAAMK,EACVL,EAAI,KAAOK,EACXhG,EAAY0E,EAAYiB,GACxBjO,EAAM,GAAK6N,EACX7N,EAAM,GAAK8N,EACX9N,EAAM,GAAK+N,EACJrzD,GAgBXstD,EAAKuG,UAbL,SAAmB7zD,GAEf,IADA,IAAIg4C,EAAM,GACDp4C,EAAI,EAAGA,EAAI,EAAGA,IAAK,CACxB,IAAK,IAAI80C,EAAI,EAAGA,EAAI,EAAGA,IACnBsD,GAAOh4C,EAAE,EAAI00C,EAAI90C,GAAGkJ,WAChB4rC,EAAI,IACJsD,GAAO,KAEXp4C,EAAI,IACJo4C,GAAO,MAEf,OAAOA,GAQXsV,EAAKkG,YAAcA,EAWnBlG,EAAKwG,yBAHL,SAAkC3c,EAAGmN,GACjC,OAGJ,SAAmCnN,EAAGmN,GAClC,IAAI0J,EAAM7W,EAAE,GAAI8W,EAAM9W,EAAE,GAAI+W,EAAM/W,EAAE,GAAIgX,EAAMhX,EAAE,GAAIiX,EAAMjX,EAAE,GAAIkX,EAAMlX,EAAE,GAAImX,EAAMnX,EAAE,GAAIoX,EAAMpX,EAAE,GAAIqX,EAAMrX,EAAE,GAAIsX,EAAMtX,EAAE,GAAIuX,EAAMvX,EAAE,IAAKwX,EAAMxX,EAAE,IACjJ,KAAKkN,EADuJlN,EAAE,IAC3I,EAAGmN,IAASD,EAAS8J,EAAK,EAAG7J,IAASD,EAASkK,EAAK,EAAGjK,IAASD,EAASsK,EAAK,EAAGrK,IAChG,OAAO,EAIX,IAAKD,EADQn7C,KAAKu0C,IAAIuQ,GAAOK,EAAMK,EAAMJ,EAAMG,GAAOR,GAAOG,EAAMM,EAAMJ,EAAME,GAAON,GAAOE,EAAMK,EAAMJ,EAAMG,IACzF,EAAGlK,GACrB,OAAO,EAEX,OAAO,EAbAyP,CAA0B5c,OAAkB,IAARmN,EAAsBA,EAAMF,IAyB3EkJ,EAAK0G,+BAHL,SAAwC7c,EAAGmN,GACvC,OAGJ,SAAyCnN,EAAGmN,GACxC,IAAI0J,EAAM7W,EAAE,GACZ,OAEAkN,EAASlN,EAAE,GAAI,EAAGmN,IACdD,EAASlN,EAAE,GAAI,EAAGmN,IAClBD,EAASlN,EAAE,GAAI,EAAGmN,IAClBD,EAASlN,EAAE,GAAI,EAAGmN,IAClBD,EAASlN,EAAE,GAAI6W,EAAK1J,IACpBD,EAASlN,EAAE,GAAI,EAAGmN,IAClBD,EAASlN,EAAE,GAAI,EAAGmN,IAClBD,EAASlN,EAAE,GAAI,EAAGmN,IAClBD,EAASlN,EAAE,GAAI,EAAGmN,IAClBD,EAASlN,EAAE,IAAK6W,EAAK1J,IACrBD,EAASlN,EAAE,IAAK,EAAGmN,IAEnBD,EAASlN,EAAE,IAAK,EAAGmN,GAnBhB2P,CAAgC9c,OAAkB,IAARmN,EAAsBA,EAAMF,IAqDjFkJ,EAAK4G,SAhCL,SAAkBjc,EAAKiR,GACnB,IAAIz/C,EAAIy/C,EAAE,GAAIzjD,EAAIyjD,EAAE,GAAI7D,EAAI6D,EAAE,GAAIR,EAAIQ,EAAE,GACpCqJ,EAAK9oD,EAAIA,EACT+oD,EAAK/sD,EAAIA,EACTgtD,EAAKpN,EAAIA,EACTqN,EAAKjpD,EAAI8oD,EACT4B,EAAK1uD,EAAI8sD,EACTM,EAAKptD,EAAI+sD,EACT4B,EAAK/O,EAAIkN,EACT8B,EAAKhP,EAAImN,EACTO,EAAK1N,EAAIoN,EACTO,EAAKtK,EAAI6J,EACTU,EAAKvK,EAAI8J,EACTU,EAAKxK,EAAI+J,EAiBb,OAhBAxa,EAAI,GAAK,EAAI4a,EAAKE,EAClB9a,EAAI,GAAKkc,EAAKjB,EACdjb,EAAI,GAAKmc,EAAKnB,EACdhb,EAAI,GAAK,EACTA,EAAI,GAAKkc,EAAKjB,EACdjb,EAAI,GAAK,EAAIya,EAAKK,EAClB9a,EAAI,GAAKoc,EAAKrB,EACd/a,EAAI,GAAK,EACTA,EAAI,GAAKmc,EAAKnB,EACdhb,EAAI,GAAKoc,EAAKrB,EACd/a,EAAI,IAAM,EAAIya,EAAKG,EACnB5a,EAAI,IAAM,EACVA,EAAI,IAAM,EACVA,EAAI,IAAM,EACVA,EAAI,IAAM,EACVA,EAAI,IAAM,EACHA,GA2FXqV,EAAKgH,UAxFL,SAAmBrc,EAAKsc,EAAOxqC,GAC3B,IAAItgB,EAAI8qD,EAAM,GAAI9uD,EAAI8uD,EAAM,GAAIlP,EAAIkP,EAAM,GACtCpd,EAAIjuC,KAAKy+C,IAAIl+C,GAAIjG,EAAI0F,KAAK0+C,IAAIn+C,GAC9BxJ,EAAIiJ,KAAKy+C,IAAIliD,GAAIvF,EAAIgJ,KAAK0+C,IAAIniD,GAC9BR,EAAIiE,KAAKy+C,IAAItC,GAAI7/C,EAAI0D,KAAK0+C,IAAIvC,GAClC,GAAc,QAAVt7B,EAAiB,CACjB,IAAIyqC,EAAKrd,EAAIlyC,EAAGwvD,EAAKtd,EAAI3xC,EAAGkvD,EAAKlxD,EAAIyB,EAAG0vD,EAAKnxD,EAAIgC,EACjDyyC,EAAI,GAAKh4C,EAAIgF,EACbgzC,EAAI,IAAMh4C,EAAIuF,EACdyyC,EAAI,GAAK/3C,EACT+3C,EAAI,GAAKwc,EAAKC,EAAKx0D,EACnB+3C,EAAI,GAAKuc,EAAKG,EAAKz0D,EACnB+3C,EAAI,IAAMz0C,EAAIvD,EACdg4C,EAAI,GAAK0c,EAAKH,EAAKt0D,EACnB+3C,EAAI,GAAKyc,EAAKD,EAAKv0D,EACnB+3C,EAAI,IAAMd,EAAIl3C,OAEb,GAAc,QAAV8pB,EAAiB,CACtB,IAAI6qC,EAAK30D,EAAIgF,EAAG4vD,EAAK50D,EAAIuF,EAAGsvD,EAAK50D,EAAI+E,EAAG8vD,EAAK70D,EAAIsF,EACjDyyC,EAAI,GAAK2c,EAAKG,EAAKvxD,EACnBy0C,EAAI,GAAK6c,EAAKtxD,EAAIqxD,EAClB5c,EAAI,GAAKd,EAAIj3C,EACb+3C,EAAI,GAAKd,EAAI3xC,EACbyyC,EAAI,GAAKd,EAAIlyC,EACbgzC,EAAI,IAAMz0C,EACVy0C,EAAI,GAAK4c,EAAKrxD,EAAIsxD,EAClB7c,EAAI,GAAK8c,EAAKH,EAAKpxD,EACnBy0C,EAAI,IAAMd,EAAIl3C,OAEb,GAAc,QAAV8pB,EAAiB,CAClB6qC,EAAK30D,EAAIgF,EAAG4vD,EAAK50D,EAAIuF,EAAGsvD,EAAK50D,EAAI+E,EAAG8vD,EAAK70D,EAAIsF,EACjDyyC,EAAI,GAAK2c,EAAKG,EAAKvxD,EACnBy0C,EAAI,IAAMd,EAAI3xC,EACdyyC,EAAI,GAAK6c,EAAKD,EAAKrxD,EACnBy0C,EAAI,GAAK4c,EAAKC,EAAKtxD,EACnBy0C,EAAI,GAAKd,EAAIlyC,EACbgzC,EAAI,GAAK8c,EAAKH,EAAKpxD,EACnBy0C,EAAI,IAAMd,EAAIj3C,EACd+3C,EAAI,GAAKz0C,EACTy0C,EAAI,IAAMd,EAAIl3C,OAEb,GAAc,QAAV8pB,EAAiB,CAClByqC,EAAKrd,EAAIlyC,EAAGwvD,EAAKtd,EAAI3xC,EAAGkvD,EAAKlxD,EAAIyB,EAAG0vD,EAAKnxD,EAAIgC,EACjDyyC,EAAI,GAAKh4C,EAAIgF,EACbgzC,EAAI,GAAKyc,EAAKx0D,EAAIu0D,EAClBxc,EAAI,GAAKuc,EAAKt0D,EAAIy0D,EAClB1c,EAAI,GAAKh4C,EAAIuF,EACbyyC,EAAI,GAAK0c,EAAKz0D,EAAIs0D,EAClBvc,EAAI,GAAKwc,EAAKv0D,EAAIw0D,EAClBzc,EAAI,IAAM/3C,EACV+3C,EAAI,GAAKz0C,EAAIvD,EACbg4C,EAAI,IAAMd,EAAIl3C,OAEb,GAAc,QAAV8pB,EAAiB,CACtB,IAAIirC,EAAK7d,EAAIl3C,EAAGg1D,EAAK9d,EAAIj3C,EAAGg1D,EAAK1xD,EAAIvD,EAAGk1D,EAAK3xD,EAAItD,EACjD+3C,EAAI,GAAKh4C,EAAIgF,EACbgzC,EAAI,GAAKkd,EAAKH,EAAKxvD,EACnByyC,EAAI,GAAKid,EAAK1vD,EAAIyvD,EAClBhd,EAAI,GAAKzyC,EACTyyC,EAAI,GAAKd,EAAIlyC,EACbgzC,EAAI,IAAMz0C,EAAIyB,EACdgzC,EAAI,IAAM/3C,EAAI+E,EACdgzC,EAAI,GAAKgd,EAAKzvD,EAAI0vD,EAClBjd,EAAI,IAAM+c,EAAKG,EAAK3vD,OAEnB,GAAc,QAAVukB,EAAiB,CAClBirC,EAAK7d,EAAIl3C,EAAGg1D,EAAK9d,EAAIj3C,EAAGg1D,EAAK1xD,EAAIvD,EAAGk1D,EAAK3xD,EAAItD,EACjD+3C,EAAI,GAAKh4C,EAAIgF,EACbgzC,EAAI,IAAMzyC,EACVyyC,EAAI,GAAK/3C,EAAI+E,EACbgzC,EAAI,GAAK+c,EAAKxvD,EAAI2vD,EAClBld,EAAI,GAAKd,EAAIlyC,EACbgzC,EAAI,GAAKgd,EAAKzvD,EAAI0vD,EAClBjd,EAAI,GAAKid,EAAK1vD,EAAIyvD,EAClBhd,EAAI,GAAKz0C,EAAIyB,EACbgzC,EAAI,IAAMkd,EAAK3vD,EAAIwvD,EAWvB,OARA/c,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,IAAM,EAEVA,EAAI,IAAM,EACVA,EAAI,IAAM,EACVA,EAAI,IAAM,EACVA,EAAI,IAAM,EACHA,GA+BXqV,EAAK8H,YAzBL,SAAqBnd,EAAKod,EAAM1D,EAAO2D,EAAKC,EAAQC,EAAMC,GACtD,IAAIhsD,EAAI,EAAI+rD,GAAQ7D,EAAQ0D,GACxB5vD,EAAI,EAAI+vD,GAAQF,EAAMC,GACtBpe,GAAKwa,EAAQ0D,IAAS1D,EAAQ0D,GAC9B7xD,GAAK8xD,EAAMC,IAAWD,EAAMC,GAC5Bt1D,IAAMw1D,EAAMD,IAASC,EAAMD,GAC3Bt1D,GAAK,EAAIu1D,EAAMD,GAAQC,EAAMD,GAiBjC,OAhBAvd,EAAI,GAAKxuC,EACTwuC,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAKxyC,EACTwyC,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAKd,EACTc,EAAI,GAAKz0C,EACTy0C,EAAI,IAAMh4C,EACVg4C,EAAI,KAAO,EACXA,EAAI,IAAM,EACVA,EAAI,IAAM,EACVA,EAAI,IAAM/3C,EACV+3C,EAAI,IAAM,EACHA,GA+BXqV,EAAKoI,MAzBL,SAAezd,EAAKod,EAAM1D,EAAO2D,EAAKC,EAAQC,EAAMC,GAChD,IAAI/M,EAAI,GAAOiJ,EAAQ0D,GACnBM,EAAI,GAAOL,EAAMC,GACjB7zD,EAAI,GAAO+zD,EAAMD,GACjB/rD,GAAKkoD,EAAQ0D,GAAQ3M,EACrBjjD,GAAK6vD,EAAMC,GAAUI,EACrBtQ,GAAKoQ,EAAMD,GAAQ9zD,EAiBvB,OAhBAu2C,EAAI,GAAK,EAAIyQ,EACbzQ,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EAAI0d,EACb1d,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,KAAO,EAAIv2C,EACfu2C,EAAI,IAAM,EACVA,EAAI,KAAOxuC,EACXwuC,EAAI,KAAOxyC,EACXwyC,EAAI,KAAOoN,EACXpN,EAAI,IAAM,EACHA,GA6EXqV,EAAKsI,OAvEL,SAAgB3d,EAAK4d,EAAKC,EAAQlE,GAC9B,IAAImE,EAAIC,EAAIzD,EAAI0D,EAAIC,EAAI1D,EAAI2D,EAAIC,EAAI3D,EAAI/lB,EACpC2pB,EAAOR,EAAI,GACXS,EAAOT,EAAI,GACXU,EAAOV,EAAI,GACXW,EAAM5E,EAAG,GACT6E,EAAM7E,EAAG,GACT8E,EAAM9E,EAAG,GACT+E,EAAUb,EAAO,GACjBc,EAAUd,EAAO,GACjBe,EAAUf,EAAO,GACrB,OAAI5sD,KAAKu0C,IAAI4Y,EAAOM,GAAWvS,GAC3Bl7C,KAAKu0C,IAAI6Y,EAAOM,GAAWxS,GAC3Bl7C,KAAKu0C,IAAI8Y,EAAOM,GAAWzS,EACpB8G,EAAYjT,IAEvBke,EAAKE,EAAOM,EACZP,EAAKE,EAAOM,EACZnE,EAAK8D,EAAOM,EAKZd,EAAKU,GADLhE,GAHA/lB,EAAM,EAAIxjC,KAAKw8C,KAAKyQ,EAAKA,EAAKC,EAAKA,EAAK3D,EAAKA,IAI7BiE,GAFhBN,GAAM1pB,GAGNspB,EAAKU,GAJLP,GAAMzpB,GAIU8pB,EAAM/D,EACtBF,EAAKiE,EAAMJ,EAAKK,EAAMN,GACtBzpB,EAAMxjC,KAAKw8C,KAAKqQ,EAAKA,EAAKC,EAAKA,EAAKzD,EAAKA,KAQrCwD,GADArpB,EAAM,EAAIA,EAEVspB,GAAMtpB,EACN6lB,GAAM7lB,IARNqpB,EAAK,EACLC,EAAK,EACLzD,EAAK,GAQT0D,EAAKG,EAAK7D,EAAKE,EAAKuD,EACpBE,EAAKzD,EAAKsD,EAAKI,EAAK5D,EACpBC,EAAK2D,EAAKH,EAAKI,EAAKL,GACpBrpB,EAAMxjC,KAAKw8C,KAAKuQ,EAAKA,EAAKC,EAAKA,EAAK1D,EAAKA,KAQrCyD,GADAvpB,EAAM,EAAIA,EAEVwpB,GAAMxpB,EACN8lB,GAAM9lB,IARNupB,EAAK,EACLC,EAAK,EACL1D,EAAK,GAQTva,EAAI,GAAK8d,EACT9d,EAAI,GAAKge,EACThe,EAAI,GAAKke,EACTle,EAAI,GAAK,EACTA,EAAI,GAAK+d,EACT/d,EAAI,GAAKie,EACTje,EAAI,GAAKme,EACTne,EAAI,GAAK,EACTA,EAAI,GAAKsa,EACTta,EAAI,GAAKua,EACTva,EAAI,IAAMwa,EACVxa,EAAI,IAAM,EACVA,EAAI,MAAQ8d,EAAKM,EAAOL,EAAKM,EAAO/D,EAAKgE,GACzCte,EAAI,MAAQge,EAAKI,EAAOH,EAAKI,EAAO9D,EAAK+D,GACzCte,EAAI,MAAQke,EAAKE,EAAOD,EAAKE,EAAO7D,EAAK8D,GACzCte,EAAI,IAAM,EACHA,IA0CXqV,EAAKwJ,SApCL,SAAkB7e,EAAK4d,EAAKtxB,EAAQqtB,GAChC,IAAIyE,EAAOR,EAAI,GAAIS,EAAOT,EAAI,GAAIU,EAAOV,EAAI,GAAIW,EAAM5E,EAAG,GAAI6E,EAAM7E,EAAG,GAAI8E,EAAM9E,EAAG,GAChFuE,EAAKE,EAAO9xB,EAAO,GAAI6xB,EAAKE,EAAO/xB,EAAO,GAAIkuB,EAAK8D,EAAOhyB,EAAO,GACjEmI,EAAMypB,EAAKA,EAAKC,EAAKA,EAAK3D,EAAKA,EAC/B/lB,EAAM,IAENypB,GADAzpB,EAAM,EAAIxjC,KAAKw8C,KAAKhZ,GAEpB0pB,GAAM1pB,EACN+lB,GAAM/lB,GAEV,IAAIqpB,EAAKU,EAAMhE,EAAKiE,EAAMN,EAAIJ,EAAKU,EAAMP,EAAKK,EAAM/D,EAAIF,EAAKiE,EAAMJ,EAAKK,EAAMN,EAwB9E,OAvBAzpB,EAAMqpB,EAAKA,EAAKC,EAAKA,EAAKzD,EAAKA,GACrB,IAENwD,GADArpB,EAAM,EAAIxjC,KAAKw8C,KAAKhZ,GAEpBspB,GAAMtpB,EACN6lB,GAAM7lB,GAEVuL,EAAI,GAAK8d,EACT9d,EAAI,GAAK+d,EACT/d,EAAI,GAAKsa,EACTta,EAAI,GAAK,EACTA,EAAI,GAAKme,EAAK7D,EAAKE,EAAKuD,EACxB/d,EAAI,GAAKwa,EAAKsD,EAAKI,EAAK5D,EACxBta,EAAI,GAAKke,EAAKH,EAAKI,EAAKL,EACxB9d,EAAI,GAAK,EACTA,EAAI,GAAKke,EACTle,EAAI,GAAKme,EACTne,EAAI,IAAMwa,EACVxa,EAAI,IAAM,EACVA,EAAI,IAAMoe,EACVpe,EAAI,IAAMqe,EACVre,EAAI,IAAMse,EACVte,EAAI,IAAM,EACHA,GAcXqV,EAAKyJ,gBARL,SAAyB9e,EAAK+e,GAC1BzJ,EAAQtV,GACR,IAAK,IAAIr4C,EAAI,EAAGA,EAAI,EAAGA,IAAK,CAExB+tD,EAAS1V,EAAKr4C,EADNo3D,EAAKp3D,GACO,GAExB,OAAOq4C,GASXqV,EAAK2J,kBANL,SAA2Bj3D,GACvB,IAAIk3D,EAAWl3D,EAAE,GAAKA,EAAE,GAAKA,EAAE,GAAKA,EAAE,GAAKA,EAAE,GAAKA,EAAE,GAChDm3D,EAAWn3D,EAAE,GAAKA,EAAE,GAAKA,EAAE,GAAKA,EAAE,GAAKA,EAAE,GAAKA,EAAE,GAChDo3D,EAAWp3D,EAAE,GAAKA,EAAE,GAAKA,EAAE,GAAKA,EAAE,GAAKA,EAAE,IAAMA,EAAE,IACrD,OAAOkJ,KAAKw8C,KAAKx8C,KAAK0Q,IAAIs9C,EAAUC,EAAUC,KAGlD,IAAIC,EAAQ,CAAC,EAAG,EAAG,GACfC,EAAQ,CAAC,EAAG,EAAG,GACfC,EAAQ,CAAC,EAAG,EAAG,GAEnBjK,EAAKkK,OAASlM,EAAanG,IAAQ6H,EAAS,IAAKqK,GAEjD/J,EAAKmK,QAAUnM,EAAanG,IAAQ6H,EAAS,KAAMqK,GAEnD/J,EAAKoK,OAASpM,EAAanG,IAAQ6H,EAAS,IAAKsK,GAEjDhK,EAAKqK,QAAUrM,EAAanG,IAAQ6H,EAAS,KAAMsK,GAEnDhK,EAAKsK,QAAUtM,EAAanG,IAAQ6H,EAAS,KAAMsK,GAEnDhK,EAAKuK,OAASvM,EAAanG,IAAQ6H,EAAS,IAAKuK,GAEjDjK,EAAKwK,QAAUxM,EAAanG,IAAQ6H,EAAS,KAAMuK,GAEnDjK,EAAKyK,QAAU9e,EAAIkM,IAAQmI,EAAKkK,OAAQlK,EAAKoK,QAE7CpK,EAAK0K,QAAU/e,EAAIkM,IAAQmI,EAAKuK,OAAQvK,EAAKoK,QAE7CpK,EAAK2K,SAAWhf,EAAIkM,IAAQmI,EAAK0K,QAAS1K,EAAKuK,QAE/CvK,EAAK4K,WAAajf,EAAIkM,IAAQmI,EAAKuK,OAAQvK,EAAKmK,SAEhDnK,EAAK6K,WAAalf,EAAIkM,IAAQmI,EAAKoK,OAAQpK,EAAKwK,SAEhDxK,EAAK1/B,GAAKpG,IA5nCd,CA6nCG,IAAS,EAAO,KC5oCnB,SAAW4wC,GACP,SAASjT,IAEL,IAAInN,EAAM,CAAC,GAAK,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAErC,OADAA,EAAI,GAAK,EACFA,EAGX,SAASxwB,IACL,IAAIywB,EAAMkN,IAUV,OATAlN,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACFA,EA6CX,SAASogB,EAASpgB,EAAKd,GAUnB,OATAc,EAAI,GAAKd,EAAE,GACXc,EAAI,GAAKd,EAAE,GACXc,EAAI,GAAKd,EAAE,GACXc,EAAI,GAAKd,EAAE,GACXc,EAAI,GAAKd,EAAE,GACXc,EAAI,GAAKd,EAAE,GACXc,EAAI,GAAKd,EAAE,GACXc,EAAI,GAAKd,EAAE,GACXc,EAAI,GAAKd,EAAE,IACJc,EAnEXmgB,EAAKjT,KAAOA,EAcZiT,EAAK5wC,SAAWA,EAahB4wC,EAAKlN,YAZL,SAAqBD,GAUjB,OATAA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACFA,GAeXmN,EAAK58B,QAZL,SAAiB2b,EAAGc,EAAKnlC,GAUrB,OATAmlC,EAAInlC,EAAS,GAAKqkC,EAAE,GACpBc,EAAInlC,EAAS,GAAKqkC,EAAE,GACpBc,EAAInlC,EAAS,GAAKqkC,EAAE,GACpBc,EAAInlC,EAAS,GAAKqkC,EAAE,GACpBc,EAAInlC,EAAS,GAAKqkC,EAAE,GACpBc,EAAInlC,EAAS,GAAKqkC,EAAE,GACpBc,EAAInlC,EAAS,GAAKqkC,EAAE,GACpBc,EAAInlC,EAAS,GAAKqkC,EAAE,GACpBc,EAAInlC,EAAS,GAAKqkC,EAAE,GACbc,GAeXmgB,EAAK7R,UAZL,SAAmBpP,EAAGvlC,EAAOkB,GAUzB,OATAqkC,EAAE,GAAKvlC,EAAMkB,EAAS,GACtBqkC,EAAE,GAAKvlC,EAAMkB,EAAS,GACtBqkC,EAAE,GAAKvlC,EAAMkB,EAAS,GACtBqkC,EAAE,GAAKvlC,EAAMkB,EAAS,GACtBqkC,EAAE,GAAKvlC,EAAMkB,EAAS,GACtBqkC,EAAE,GAAKvlC,EAAMkB,EAAS,GACtBqkC,EAAE,GAAKvlC,EAAMkB,EAAS,GACtBqkC,EAAE,GAAKvlC,EAAMkB,EAAS,GACtBqkC,EAAE,GAAKvlC,EAAMkB,EAAS,GACfqkC,GAkBXihB,EAAKC,SAAWA,EAchBD,EAAKl3D,OAbL,SAAgB8sD,EAAKC,EAAKC,EAAKE,EAAKC,EAAKC,EAAKE,EAAKC,EAAKC,GACpD,IAAIzW,EAAMkN,IAUV,OATAlN,EAAI,GAAK+V,EACT/V,EAAI,GAAKgW,EACThW,EAAI,GAAKiW,EACTjW,EAAI,GAAKmW,EACTnW,EAAI,GAAKoW,EACTpW,EAAI,GAAKqW,EACTrW,EAAI,GAAKuW,EACTvW,EAAI,GAAKwW,EACTxW,EAAI,GAAKyW,EACFzW,GAGX,IAAIjH,EAAMxpB,IAmBV,SAASkmC,EAASvW,EAAG3zC,EAAG8gD,GACpB,IAAK,IAAI1kD,EAAI,EAAGA,EAAI,EAAGA,IACnB,GAAIsJ,KAAKu0C,IAAItG,EAAEv3C,GAAK4D,EAAE5D,IAAM0kD,EACxB,OAAO,EAEf,OAAO,EAcX,SAASz2B,EAAKoqB,EAAKd,GAUf,OATAc,EAAI,GAAKd,EAAE,GACXc,EAAI,GAAKd,EAAE,GACXc,EAAI,GAAKd,EAAE,GACXc,EAAI,GAAKd,EAAE,GACXc,EAAI,GAAKd,EAAE,GACXc,EAAI,GAAKd,EAAE,GACXc,EAAI,GAAKd,EAAE,GACXc,EAAI,GAAKd,EAAE,GACXc,EAAI,GAAKd,EAAE,GACJc,EAMX,SAAS8Y,EAAU9Y,EAAKd,GAEpB,GAAIc,IAAQd,EAAG,CACX,IAAI8W,EAAM9W,EAAE,GAAI+W,EAAM/W,EAAE,GAAImX,EAAMnX,EAAE,GACpCc,EAAI,GAAKd,EAAE,GACXc,EAAI,GAAKd,EAAE,GACXc,EAAI,GAAKgW,EACThW,EAAI,GAAKd,EAAE,GACXc,EAAI,GAAKiW,EACTjW,EAAI,GAAKqW,OAGTrW,EAAI,GAAKd,EAAE,GACXc,EAAI,GAAKd,EAAE,GACXc,EAAI,GAAKd,EAAE,GACXc,EAAI,GAAKd,EAAE,GACXc,EAAI,GAAKd,EAAE,GACXc,EAAI,GAAKd,EAAE,GACXc,EAAI,GAAKd,EAAE,GACXc,EAAI,GAAKd,EAAE,GACXc,EAAI,GAAKd,EAAE,GAEf,OAAOc,EAMX,SAAS5b,EAAO4b,EAAKd,GACjB,IAAI6W,EAAM7W,EAAE,GAAI8W,EAAM9W,EAAE,GAAI+W,EAAM/W,EAAE,GAChCiX,EAAMjX,EAAE,GAAIkX,EAAMlX,EAAE,GAAImX,EAAMnX,EAAE,GAChCqX,EAAMrX,EAAE,GAAIsX,EAAMtX,EAAE,GAAIuX,EAAMvX,EAAE,GAChC8X,EAAMP,EAAML,EAAMC,EAAMG,EACxBkB,GAAOjB,EAAMN,EAAME,EAAME,EACzBwD,EAAMvD,EAAML,EAAMC,EAAMG,EAExBoB,EAAM5B,EAAMiB,EAAMhB,EAAM0B,EAAMzB,EAAM8D,EACxC,OAAKpC,GAILA,EAAM,EAAMA,EACZ3X,EAAI,GAAKgX,EAAMW,EACf3X,EAAI,KAAOyW,EAAMT,EAAMC,EAAMO,GAAOmB,EACpC3X,EAAI,IAAMqW,EAAML,EAAMC,EAAMG,GAAOuB,EACnC3X,EAAI,GAAK0X,EAAMC,EACf3X,EAAI,IAAMyW,EAAMV,EAAME,EAAMM,GAAOoB,EACnC3X,EAAI,KAAOqW,EAAMN,EAAME,EAAME,GAAOwB,EACpC3X,EAAI,GAAK+Z,EAAMpC,EACf3X,EAAI,KAAOwW,EAAMT,EAAMC,EAAMO,GAAOoB,EACpC3X,EAAI,IAAMoW,EAAML,EAAMC,EAAMG,GAAOwB,EAC5B3X,IAbH+Y,QAAQC,KAAK,yBAA0B9Z,GAChCc,GAuDf,SAASub,EAAYrc,GACjB,IAAI6W,EAAM7W,EAAE,GAAI8W,EAAM9W,EAAE,GAAI+W,EAAM/W,EAAE,GAChCiX,EAAMjX,EAAE,GAAIkX,EAAMlX,EAAE,GAAImX,EAAMnX,EAAE,GAChCqX,EAAMrX,EAAE,GAAIsX,EAAMtX,EAAE,GAAIuX,EAAMvX,EAAE,GAKpC,OAAO6W,GAJGU,EAAML,EAAMC,EAAMG,GAITR,IAHRS,EAAMN,EAAME,EAAME,GAGEN,GAFrBO,EAAML,EAAMC,EAAMG,GAKhC,SAASX,EAAM1W,GACX,OAAOA,EAAE,GAAKA,EAAE,GAAKA,EAAE,GAG3B,SAASwD,EAAI1C,EAAKd,EAAG3zC,GAUjB,OATAy0C,EAAI,GAAKd,EAAE,GAAK3zC,EAAE,GAClBy0C,EAAI,GAAKd,EAAE,GAAK3zC,EAAE,GAClBy0C,EAAI,GAAKd,EAAE,GAAK3zC,EAAE,GAClBy0C,EAAI,GAAKd,EAAE,GAAK3zC,EAAE,GAClBy0C,EAAI,GAAKd,EAAE,GAAK3zC,EAAE,GAClBy0C,EAAI,GAAKd,EAAE,GAAK3zC,EAAE,GAClBy0C,EAAI,GAAKd,EAAE,GAAK3zC,EAAE,GAClBy0C,EAAI,GAAKd,EAAE,GAAK3zC,EAAE,GAClBy0C,EAAI,GAAKd,EAAE,GAAK3zC,EAAE,GACXy0C,EAyDX,SAASqgB,EAAUrgB,EAAKd,EAAG70C,GAUvB,OATA21C,EAAI,GAAKd,EAAE,GAAK70C,EAChB21C,EAAI,GAAKd,EAAE,GAAK70C,EAChB21C,EAAI,GAAKd,EAAE,GAAK70C,EAChB21C,EAAI,GAAKd,EAAE,GAAK70C,EAChB21C,EAAI,GAAKd,EAAE,GAAK70C,EAChB21C,EAAI,GAAKd,EAAE,GAAK70C,EAChB21C,EAAI,GAAKd,EAAE,GAAK70C,EAChB21C,EAAI,GAAKd,EAAE,GAAK70C,EAChB21C,EAAI,GAAKd,EAAE,GAAK70C,EACT21C,EA5OXmgB,EAAKtI,WAHL,SAAoB9vD,EAAGskD,GACnB,OAAOoJ,EAAS1tD,EAAGgxC,OAAoB,IAARsT,EAAsBF,EAAUE,IASnE8T,EAAKjS,OANL,SAAgBnmD,GACZ,IAAK,IAAIJ,EAAI,EAAGA,EAAI,EAAGA,IACnB,GAAI+lC,MAAM3lC,EAAEJ,IACR,OAAO,EACf,OAAO,GASXw4D,EAAK/hC,MAHL,SAAe8gB,GACX,OAAOtpB,EAAKs3B,IAAQhO,IAUxBihB,EAAK1K,SAAWA,EAIhB0K,EAAKzK,SAHL,SAAkBxW,EAAGv3C,EAAG80C,EAAG7zC,GACvBs2C,EAAE,EAAIzC,EAAI90C,GAAKiB,GAMnBu3D,EAAK1jC,SAHL,SAAkByiB,EAAGv3C,EAAG80C,GACpB,OAAOyC,EAAE,EAAIzC,EAAI90C,IAkBrBw4D,EAAKvqC,KAAOA,EA4BZuqC,EAAKrH,UAAYA,EA6BjBqH,EAAK/7B,OAASA,EAoBd+7B,EAAKG,kBAnBL,SAA2BtgB,EAAKd,GAiB5B,OAhBIc,IAAQd,GACRc,EAAI,GAAKd,EAAE,GACXc,EAAI,GAAKd,EAAE,GACXc,EAAI,GAAKd,EAAE,KAGXc,EAAI,GAAKd,EAAE,GACXc,EAAI,GAAKd,EAAE,GACXc,EAAI,GAAKd,EAAE,GACXc,EAAI,GAAKd,EAAE,GACXc,EAAI,GAAKd,EAAE,GACXc,EAAI,GAAKd,EAAE,GACXc,EAAI,GAAKd,EAAE,GACXc,EAAI,GAAKd,EAAE,GACXc,EAAI,GAAKd,EAAE,IAERc,GAsBXmgB,EAAKI,kBAnBL,SAA2BvgB,EAAKd,GAiB5B,OAhBIc,IAAQd,GACRc,EAAI,GAAKd,EAAE,GACXc,EAAI,GAAKd,EAAE,GACXc,EAAI,GAAKd,EAAE,KAGXc,EAAI,GAAKd,EAAE,GACXc,EAAI,GAAKd,EAAE,GACXc,EAAI,GAAKd,EAAE,GACXc,EAAI,GAAKd,EAAE,GACXc,EAAI,GAAKd,EAAE,GACXc,EAAI,GAAKd,EAAE,GACXc,EAAI,GAAKd,EAAE,GACXc,EAAI,GAAKd,EAAE,GACXc,EAAI,GAAKd,EAAE,IAERc,GAaXmgB,EAAK5E,YAAcA,EAInB4E,EAAKvK,MAAQA,EAabuK,EAAKzd,IAAMA,EAaXyd,EAAKl7C,IAZL,SAAa+6B,EAAKd,EAAG3zC,GAUjB,OATAy0C,EAAI,GAAKd,EAAE,GAAK3zC,EAAE,GAClBy0C,EAAI,GAAKd,EAAE,GAAK3zC,EAAE,GAClBy0C,EAAI,GAAKd,EAAE,GAAK3zC,EAAE,GAClBy0C,EAAI,GAAKd,EAAE,GAAK3zC,EAAE,GAClBy0C,EAAI,GAAKd,EAAE,GAAK3zC,EAAE,GAClBy0C,EAAI,GAAKd,EAAE,GAAK3zC,EAAE,GAClBy0C,EAAI,GAAKd,EAAE,GAAK3zC,EAAE,GAClBy0C,EAAI,GAAKd,EAAE,GAAK3zC,EAAE,GAClBy0C,EAAI,GAAKd,EAAE,GAAK3zC,EAAE,GACXy0C,GAiBXmgB,EAAKnf,IAdL,SAAahB,EAAKd,EAAG3zC,GACjB,IAAIwqD,EAAM7W,EAAE,GAAI8W,EAAM9W,EAAE,GAAI+W,EAAM/W,EAAE,GAAIiX,EAAMjX,EAAE,GAAIkX,EAAMlX,EAAE,GAAImX,EAAMnX,EAAE,GAAIqX,EAAMrX,EAAE,GAAIsX,EAAMtX,EAAE,GAAIuX,EAAMvX,EAAE,GACxG6X,EAAMxrD,EAAE,GAAIyrD,EAAMzrD,EAAE,GAAI0rD,EAAM1rD,EAAE,GAAIksD,EAAMlsD,EAAE,GAAImsD,EAAMnsD,EAAE,GAAIsuD,EAAMtuD,EAAE,GAAIuuD,EAAMvuD,EAAE,GAAIwuD,EAAMxuD,EAAE,GAAIyuD,EAAMzuD,EAAE,GAU5G,OATAy0C,EAAI,GAAK+W,EAAMhB,EAAMiB,EAAMb,EAAMc,EAAMV,EACvCvW,EAAI,GAAK+W,EAAMf,EAAMgB,EAAMZ,EAAMa,EAAMT,EACvCxW,EAAI,GAAK+W,EAAMd,EAAMe,EAAMX,EAAMY,EAAMR,EACvCzW,EAAI,GAAKyX,EAAM1B,EAAM2B,EAAMvB,EAAM0D,EAAMtD,EACvCvW,EAAI,GAAKyX,EAAMzB,EAAM0B,EAAMtB,EAAMyD,EAAMrD,EACvCxW,EAAI,GAAKyX,EAAMxB,EAAMyB,EAAMrB,EAAMwD,EAAMpD,EACvCzW,EAAI,GAAK8Z,EAAM/D,EAAMgE,EAAM5D,EAAM6D,EAAMzD,EACvCvW,EAAI,GAAK8Z,EAAM9D,EAAM+D,EAAM3D,EAAM4D,EAAMxD,EACvCxW,EAAI,GAAK8Z,EAAM7D,EAAM8D,EAAM1D,EAAM2D,EAAMvD,EAChCzW,GAeXmgB,EAAKxR,UAZL,SAAmB3O,EAAKd,EAAG70C,GAUvB,OATA21C,EAAI,GAAKd,EAAE,GAAK70C,EAChB21C,EAAI,GAAKd,EAAE,GAAK70C,EAChB21C,EAAI,GAAKd,EAAE,GAAK70C,EAChB21C,EAAI,GAAKd,EAAE,GAAK70C,EAChB21C,EAAI,GAAKd,EAAE,GAAK70C,EAChB21C,EAAI,GAAKd,EAAE,GAAK70C,EAChB21C,EAAI,GAAKd,EAAE,GAAK70C,EAChB21C,EAAI,GAAKd,EAAE,GAAK70C,EAChB21C,EAAI,GAAKd,EAAE,GAAK70C,EACT21C,GAeXmgB,EAAKzR,UAZL,SAAmB1O,EAAKd,EAAG70C,GAUvB,OATA21C,EAAI,GAAKd,EAAE,GAAK70C,EAChB21C,EAAI,GAAKd,EAAE,GAAK70C,EAChB21C,EAAI,GAAKd,EAAE,GAAK70C,EAChB21C,EAAI,GAAKd,EAAE,GAAK70C,EAChB21C,EAAI,GAAKd,EAAE,GAAK70C,EAChB21C,EAAI,GAAKd,EAAE,GAAK70C,EAChB21C,EAAI,GAAKd,EAAE,GAAK70C,EAChB21C,EAAI,GAAKd,EAAE,GAAK70C,EAChB21C,EAAI,GAAKd,EAAE,GAAK70C,EACT21C,GAeXmgB,EAAKE,UAAYA,EACjB,IAAIG,EAAUvvD,KAAKq+C,GAAK,EACpBmR,EAAOvT,IAmCXiT,EAAKO,qBA7BL,SAA8B1gB,EAAKd,GAC/B,IAAIuN,EAAKvN,EAAE,GAAKA,EAAE,GAAKA,EAAE,GAAKA,EAAE,GAAKA,EAAE,GAAKA,EAAE,GAC9C,GAAW,IAAPuN,EACAzM,EAAI,GAAKd,EAAE,GACXc,EAAI,GAAKd,EAAE,GACXc,EAAI,GAAKd,EAAE,OAEV,CACD,IAAI+R,EAAI2E,EAAM1W,GAAK,EACfuT,EAAKvT,EAAE,GAAK+R,EACZyB,EAAKxT,EAAE,GAAK+R,EACZ0P,EAAKzhB,EAAE,GAAK+R,EACZvE,EAAK+F,EAAKA,EAAKC,EAAKA,EAAKiO,EAAKA,EAAK,EAAIlU,EACvChjD,EAAIwH,KAAKw8C,KAAKf,EAAK,GACvB2T,EAAUI,EAAMN,EAAKS,SAAU3P,GAC/BvO,EAAI+d,EAAMvhB,EAAGuhB,GACbJ,EAAUI,EAAMA,EAAO,EAAIh3D,GAC3B,IAAIhB,EAAI8yD,EAAYkF,GAAQ,EAGxBI,EAAMp4D,IAAM,EAAI+3D,EAAU/3D,GAAK,EAC/B,EAAIwI,KAAKu+C,KAAK/mD,GAAK,EAEvBu3C,EAAI,GAAKiR,EAAI,EAAIxnD,EAAIwH,KAAKy+C,IAAImR,GAC9B7gB,EAAI,GAAKiR,EAAI,EAAIxnD,EAAIwH,KAAKy+C,IAAImR,EAAO,EAAIL,GACzCxgB,EAAI,GAAK,EAAIiR,EAAIjR,EAAI,GAAKA,EAAI,GAElC,OAAOA,GAGX,IAAI8gB,EAAQ,CAAC,GAAK,EAAK,GACnBC,EAAQ,CAAC,GAAK,EAAK,GACnBC,EAAQ,CAAC,GAAK,EAAK,GACnBC,EAAW,CAAC,GAAK,EAAK,GACtBC,EAAW,CAAC,GAAK,EAAK,GACtBC,EAAW,CAAC,GAAK,EAAK,GAiC1BhB,EAAKiB,YA7BL,SAAqBphB,EAAKd,EAAGlyC,GACzB,EAAKgR,IAAI8iD,EAAO5hB,EAAE,GAAKlyC,EAAGkyC,EAAE,GAAIA,EAAE,IAClC,EAAKlhC,IAAI+iD,EAAO7hB,EAAE,GAAIA,EAAE,GAAKlyC,EAAGkyC,EAAE,IAClC,EAAKlhC,IAAIgjD,EAAO9hB,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAKlyC,GACnC,EAAK2gD,MAAMsT,EAAUH,EAAOC,GAC5B,EAAKpT,MAAMuT,EAAUJ,EAAOE,GAC5B,EAAKrT,MAAMwT,EAAUJ,EAAOC,GAC5B,IAAIK,EAAK,EAAK3T,IAAIuT,EAAUA,GACxBK,EAAK,EAAK5T,IAAIwT,EAAUA,GACxBK,EAAK,EAAK7T,IAAIyT,EAAUA,GACxBK,EAAOH,EACPI,EAAO,EAgBX,OAfIH,EAAKE,IACLA,EAAOF,EACPG,EAAO,GAEPF,EAAKC,IACLC,EAAO,GACE,IAATA,EACA,EAAKpU,MAAMrN,EAAKihB,EAAU,EAAIhwD,KAAKw8C,KAAK4T,IAE1B,IAATI,EACL,EAAKpU,MAAMrN,EAAKkhB,EAAU,EAAIjwD,KAAKw8C,KAAK6T,IAGxC,EAAKjU,MAAMrN,EAAKmhB,EAAU,EAAIlwD,KAAKw8C,KAAK8T,IAErCvhB,GAYXmgB,EAAKuB,mBANL,SAA4B1hB,EAAKn3C,GAI7B,OAHAu3D,EAASpgB,EAAKn3C,GACdu7B,EAAO4b,EAAKA,GACZ8Y,EAAU9Y,EAAKA,GACRA,GAGXmgB,EAAKS,SAAWrxC,IAQhB4wC,EAAKwB,aALL,SAAsBziB,EAAG3zC,GACrB,OAAO2zC,EAAE,GAAK3zC,EAAE,GAAK2zC,EAAE,GAAK3zC,EAAE,GAAK2zC,EAAE,GAAK3zC,EAAE,GACtC2zC,EAAE,GAAK3zC,EAAE,GAAK2zC,EAAE,GAAK3zC,EAAE,GAAK2zC,EAAE,GAAK3zC,EAAE,GACrC2zC,EAAE,GAAK3zC,EAAE,GAAK2zC,EAAE,GAAK3zC,EAAE,GAAK2zC,EAAE,GAAK3zC,EAAE,IA1anD,CA6aG,IAAS,EAAO,KChbnB,SAAW4pD,GACP,SAASjI,IAEL,IAAInN,EAAM,CAAC,GAAK,GAEhB,OADAA,EAAI,GAAK,EACFA,EAEXoV,EAAKjI,KAAOA,EAOZiI,EAAK/2B,MANL,SAAe8gB,GACX,IAAIc,EAAMkN,IAGV,OAFAlN,EAAI,GAAKd,EAAE,GACXc,EAAI,GAAKd,EAAE,GACJc,GASXmV,EAAKlsD,OANL,SAAgBuI,EAAGhE,GACf,IAAIwyC,EAAMkN,IAGV,OAFAlN,EAAI,GAAKxuC,EACTwuC,EAAI,GAAKxyC,EACFwyC,GAMXmV,EAAKjH,OAHL,SAAgBhP,GACZ,OAAOxR,MAAMwR,EAAE,KAAOxR,MAAMwR,EAAE,KAQlCiW,EAAK5xB,QALL,SAAiB2b,EAAGc,EAAKnlC,GAGrB,OAFAmlC,EAAInlC,EAAS,GAAKqkC,EAAE,GACpBc,EAAInlC,EAAS,GAAKqkC,EAAE,GACbc,GAQXmV,EAAK7G,UALL,SAAmBpP,EAAGvlC,EAAOkB,GAGzB,OAFAqkC,EAAE,GAAKvlC,EAAMkB,EAAS,GACtBqkC,EAAE,GAAKvlC,EAAMkB,EAAS,GACfqkC,GAQXiW,EAAKv/B,KALL,SAAcoqB,EAAKd,GAGf,OAFAc,EAAI,GAAKd,EAAE,GACXc,EAAI,GAAKd,EAAE,GACJc,GAQXmV,EAAKn3C,IALL,SAAagiC,EAAKxuC,EAAGhE,GAGjB,OAFAwyC,EAAI,GAAKxuC,EACTwuC,EAAI,GAAKxyC,EACFwyC,GAQXmV,EAAKlwC,IALL,SAAa+6B,EAAKd,EAAG3zC,GAGjB,OAFAy0C,EAAI,GAAKd,EAAE,GAAK3zC,EAAE,GAClBy0C,EAAI,GAAKd,EAAE,GAAK3zC,EAAE,GACXy0C,GAQXmV,EAAKzS,IALL,SAAa1C,EAAKd,EAAG3zC,GAGjB,OAFAy0C,EAAI,GAAKd,EAAE,GAAK3zC,EAAE,GAClBy0C,EAAI,GAAKd,EAAE,GAAK3zC,EAAE,GACXy0C,GAQXmV,EAAKnU,IALL,SAAahB,EAAKd,EAAG3zC,GAGjB,OAFAy0C,EAAI,GAAKd,EAAE,GAAK3zC,EAAE,GAClBy0C,EAAI,GAAKd,EAAE,GAAK3zC,EAAE,GACXy0C,GAQXmV,EAAK3G,IALL,SAAaxO,EAAKd,EAAG3zC,GAGjB,OAFAy0C,EAAI,GAAKd,EAAE,GAAK3zC,EAAE,GAClBy0C,EAAI,GAAKd,EAAE,GAAK3zC,EAAE,GACXy0C,GAQXmV,EAAK9H,MALL,SAAerN,EAAKd,EAAG3zC,GAGnB,OAFAy0C,EAAI,GAAKd,EAAE,GAAK3zC,EAChBy0C,EAAI,GAAKd,EAAE,GAAK3zC,EACTy0C,GAWXmV,EAAK9tB,MALL,SAAe2Y,EAAKd,GAGhB,OAFAc,EAAI,GAAK/uC,KAAKo2B,MAAM6X,EAAE,IACtBc,EAAI,GAAK/uC,KAAKo2B,MAAM6X,EAAE,IACfc,GAWXmV,EAAKn0C,KALL,SAAcg/B,EAAKd,GAGf,OAFAc,EAAI,GAAK/uC,KAAK+P,KAAKk+B,EAAE,IACrBc,EAAI,GAAK/uC,KAAK+P,KAAKk+B,EAAE,IACdc,GAWXmV,EAAKhkD,MALL,SAAe6uC,EAAKd,GAGhB,OAFAc,EAAI,GAAK/uC,KAAKE,MAAM+tC,EAAE,IACtBc,EAAI,GAAK/uC,KAAKE,MAAM+tC,EAAE,IACfc,GAOXmV,EAAKtG,SAJL,SAAkB3P,EAAG3zC,GACjB,IAAIiG,EAAIjG,EAAE,GAAK2zC,EAAE,GAAI1xC,EAAIjC,EAAE,GAAK2zC,EAAE,GAClC,OAAOjuC,KAAKw8C,KAAKj8C,EAAIA,EAAIhE,EAAIA,IAOjC2nD,EAAKrG,gBAJL,SAAyB5P,EAAG3zC,GACxB,IAAIiG,EAAIjG,EAAE,GAAK2zC,EAAE,GAAI1xC,EAAIjC,EAAE,GAAK2zC,EAAE,GAClC,OAAO1tC,EAAIA,EAAIhE,EAAIA,GAOvB2nD,EAAKpG,UAJL,SAAmB7P,GACf,IAAI1tC,EAAI0tC,EAAE,GAAI1xC,EAAI0xC,EAAE,GACpB,OAAOjuC,KAAKw8C,KAAKj8C,EAAIA,EAAIhE,EAAIA,IAOjC2nD,EAAK5H,iBAJL,SAA0BrO,GACtB,IAAI1tC,EAAI0tC,EAAE,GAAI1xC,EAAI0xC,EAAE,GACpB,OAAO1tC,EAAIA,EAAIhE,EAAIA,GAWvB2nD,EAAKlG,QALL,SAAiBjP,EAAKd,GAGlB,OAFAc,EAAI,GAAK,EAAMd,EAAE,GACjBc,EAAI,GAAK,EAAMd,EAAE,GACVc,GAMXmV,EAAKM,SAHL,SAAkBvW,EAAG3zC,GACjB,OAAO2zC,EAAE,KAAO3zC,EAAE,IAAM2zC,EAAE,KAAO3zC,EAAE,IAMvC4pD,EAAKtkD,SAHL,SAAkBquC,EAAG/jB,GACjB,MAAO,IAAI1sB,OAAOywC,EAAE,GAAGoV,YAAYn5B,GAAY,KAAK1sB,OAAOywC,EAAE,GAAGoV,YAAYn5B,GAAY,OA7IhG,CAgJGg6B,IAASA,EAAO,KC9InB,SAAWyM,GACP,SAAS1U,IAEL,IAAInN,EAAM,CAAC,GAAK,EAAG,EAAG,GAEtB,OADAA,EAAI,GAAK,EACFA,EAqBX,SAAS8hB,EAAW7hB,EAAK8hB,GAKrB,OAJA9hB,EAAI,GAAK8hB,EAAOjE,OAAO,GACvB7d,EAAI,GAAK8hB,EAAOjE,OAAO,GACvB7d,EAAI,GAAK8hB,EAAOjE,OAAO,GACvB7d,EAAI,GAAK8hB,EAAOxP,OACTtS,EAxBX4hB,EAAK1U,KAAOA,EASZ0U,EAAKxjC,MARL,SAAe8gB,GACX,IAAIc,EAAMkN,IAKV,OAJAlN,EAAI,GAAKd,EAAE,GACXc,EAAI,GAAKd,EAAE,GACXc,EAAI,GAAKd,EAAE,GACXc,EAAI,GAAKd,EAAE,GACJc,GAWX4hB,EAAK34D,OARL,SAAgBuI,EAAGhE,EAAG4/C,EAAGqD,GACrB,IAAIzQ,EAAMkN,IAKV,OAJAlN,EAAI,GAAKxuC,EACTwuC,EAAI,GAAKxyC,EACTwyC,EAAI,GAAKoN,EACTpN,EAAI,GAAKyQ,EACFzQ,GAUX4hB,EAAKC,WAAaA,EAIlBD,EAAKG,SAHL,SAAkBD,GACd,OAAOD,EAAW3U,IAAQ4U,IAM9BF,EAAK1T,OAHL,SAAgBhP,GACZ,OAAOxR,MAAMwR,EAAE,KAAOxR,MAAMwR,EAAE,KAAOxR,MAAMwR,EAAE,KAAOxR,MAAMwR,EAAE,KAUhE0iB,EAAKr+B,QAPL,SAAiB2b,EAAGc,EAAKnlC,GAKrB,OAJAmlC,EAAInlC,EAAS,GAAKqkC,EAAE,GACpBc,EAAInlC,EAAS,GAAKqkC,EAAE,GACpBc,EAAInlC,EAAS,GAAKqkC,EAAE,GACpBc,EAAInlC,EAAS,GAAKqkC,EAAE,GACbc,GAUX4hB,EAAKtT,UAPL,SAAmBpP,EAAGvlC,EAAOkB,GAKzB,OAJAqkC,EAAE,GAAKvlC,EAAMkB,EAAS,GACtBqkC,EAAE,GAAKvlC,EAAMkB,EAAS,GACtBqkC,EAAE,GAAKvlC,EAAMkB,EAAS,GACtBqkC,EAAE,GAAKvlC,EAAMkB,EAAS,GACfqkC,GAQX0iB,EAAKI,YALL,SAAqB9iB,EAAGc,EAAKnlC,GACzBmlC,EAAInlC,EAAS,GAAKqkC,EAAE,GACpBc,EAAInlC,EAAS,GAAKqkC,EAAE,GACpBc,EAAInlC,EAAS,GAAKqkC,EAAE,IAUxB0iB,EAAKK,cAPL,SAAuB/iB,EAAGvlC,EAAOkB,GAK7B,OAJAqkC,EAAE,GAAKvlC,EAAMkB,EAAS,GACtBqkC,EAAE,GAAKvlC,EAAMkB,EAAS,GACtBqkC,EAAE,GAAKvlC,EAAMkB,EAAS,GACtBqkC,EAAE,GAAK,EACAA,GAUX0iB,EAAKhsC,KAPL,SAAcoqB,EAAKd,GAKf,OAJAc,EAAI,GAAKd,EAAE,GACXc,EAAI,GAAKd,EAAE,GACXc,EAAI,GAAKd,EAAE,GACXc,EAAI,GAAKd,EAAE,GACJc,GAUX4hB,EAAK5jD,IAPL,SAAagiC,EAAKxuC,EAAGhE,EAAG4/C,EAAGqD,GAKvB,OAJAzQ,EAAI,GAAKxuC,EACTwuC,EAAI,GAAKxyC,EACTwyC,EAAI,GAAKoN,EACTpN,EAAI,GAAKyQ,EACFzQ,GAUX4hB,EAAK38C,IAPL,SAAa+6B,EAAKd,EAAG3zC,GAKjB,OAJAy0C,EAAI,GAAKd,EAAE,GAAK3zC,EAAE,GAClBy0C,EAAI,GAAKd,EAAE,GAAK3zC,EAAE,GAClBy0C,EAAI,GAAKd,EAAE,GAAK3zC,EAAE,GAClBy0C,EAAI,GAAKd,EAAE,GAAK3zC,EAAE,GACXy0C,GAOX4hB,EAAK/S,SAJL,SAAkB3P,EAAG3zC,GACjB,IAAIiG,EAAIjG,EAAE,GAAK2zC,EAAE,GAAI1xC,EAAIjC,EAAE,GAAK2zC,EAAE,GAAIkO,EAAI7hD,EAAE,GAAK2zC,EAAE,GAAIuR,EAAIllD,EAAE,GAAK2zC,EAAE,GACpE,OAAOjuC,KAAKw8C,KAAKj8C,EAAIA,EAAIhE,EAAIA,EAAI4/C,EAAIA,EAAIqD,EAAIA,IAUjDmR,EAAKvU,MAPL,SAAerN,EAAKd,EAAG3zC,GAKnB,OAJAy0C,EAAI,GAAKd,EAAE,GAAK3zC,EAChBy0C,EAAI,GAAKd,EAAE,GAAK3zC,EAChBy0C,EAAI,GAAKd,EAAE,GAAK3zC,EAChBy0C,EAAI,GAAKd,EAAE,GAAK3zC,EACTy0C,GAaX4hB,EAAKv6B,MAPL,SAAe2Y,EAAKd,GAKhB,OAJAc,EAAI,GAAK/uC,KAAKo2B,MAAM6X,EAAE,IACtBc,EAAI,GAAK/uC,KAAKo2B,MAAM6X,EAAE,IACtBc,EAAI,GAAK/uC,KAAKo2B,MAAM6X,EAAE,IACtBc,EAAI,GAAK/uC,KAAKo2B,MAAM6X,EAAE,IACfc,GAaX4hB,EAAK5gD,KAPL,SAAcg/B,EAAKd,GAKf,OAJAc,EAAI,GAAK/uC,KAAK+P,KAAKk+B,EAAE,IACrBc,EAAI,GAAK/uC,KAAK+P,KAAKk+B,EAAE,IACrBc,EAAI,GAAK/uC,KAAK+P,KAAKk+B,EAAE,IACrBc,EAAI,GAAK/uC,KAAK+P,KAAKk+B,EAAE,IACdc,GAaX4hB,EAAKzwD,MAPL,SAAe6uC,EAAKd,GAKhB,OAJAc,EAAI,GAAK/uC,KAAKE,MAAM+tC,EAAE,IACtBc,EAAI,GAAK/uC,KAAKE,MAAM+tC,EAAE,IACtBc,EAAI,GAAK/uC,KAAKE,MAAM+tC,EAAE,IACtBc,EAAI,GAAK/uC,KAAKE,MAAM+tC,EAAE,IACfc,GAOX4hB,EAAK9S,gBAJL,SAAyB5P,EAAG3zC,GACxB,IAAIiG,EAAIjG,EAAE,GAAK2zC,EAAE,GAAI1xC,EAAIjC,EAAE,GAAK2zC,EAAE,GAAIkO,EAAI7hD,EAAE,GAAK2zC,EAAE,GAAIuR,EAAIllD,EAAE,GAAK2zC,EAAE,GACpE,OAAO1tC,EAAIA,EAAIhE,EAAIA,EAAI4/C,EAAIA,EAAIqD,EAAIA,GAOvCmR,EAAKM,KAJL,SAAchjB,GACV,IAAI1tC,EAAI0tC,EAAE,GAAI1xC,EAAI0xC,EAAE,GAAIkO,EAAIlO,EAAE,GAAIuR,EAAIvR,EAAE,GACxC,OAAOjuC,KAAKw8C,KAAKj8C,EAAIA,EAAIhE,EAAIA,EAAI4/C,EAAIA,EAAIqD,EAAIA,IAOjDmR,EAAKO,YAJL,SAAqBjjB,GACjB,IAAI1tC,EAAI0tC,EAAE,GAAI1xC,EAAI0xC,EAAE,GAAIkO,EAAIlO,EAAE,GAAIuR,EAAIvR,EAAE,GACxC,OAAO1tC,EAAIA,EAAIhE,EAAIA,EAAI4/C,EAAIA,EAAIqD,EAAIA,GAWvCmR,EAAKpR,cARL,SAAuBxQ,EAAKd,EAAGn3C,GAC3B,IAAIyJ,EAAI0tC,EAAE,GAAI1xC,EAAI0xC,EAAE,GAAIkO,EAAIlO,EAAE,GAAIuR,EAAIvR,EAAE,GAKxC,OAJAc,EAAI,GAAKj4C,EAAE,GAAKyJ,EAAIzJ,EAAE,GAAKyF,EAAIzF,EAAE,GAAKqlD,EAAIrlD,EAAE,IAAM0oD,EAClDzQ,EAAI,GAAKj4C,EAAE,GAAKyJ,EAAIzJ,EAAE,GAAKyF,EAAIzF,EAAE,GAAKqlD,EAAIrlD,EAAE,IAAM0oD,EAClDzQ,EAAI,GAAKj4C,EAAE,GAAKyJ,EAAIzJ,EAAE,GAAKyF,EAAIzF,EAAE,IAAMqlD,EAAIrlD,EAAE,IAAM0oD,EACnDzQ,EAAI,GAAKj4C,EAAE,GAAKyJ,EAAIzJ,EAAE,GAAKyF,EAAIzF,EAAE,IAAMqlD,EAAIrlD,EAAE,IAAM0oD,EAC5CzQ,GAMX4hB,EAAKlU,IAHL,SAAaxO,EAAG3zC,GACZ,OAAO2zC,EAAE,GAAK3zC,EAAE,GAAK2zC,EAAE,GAAK3zC,EAAE,GAAK2zC,EAAE,GAAK3zC,EAAE,GAAK2zC,EAAE,GAAK3zC,EAAE,IAa9Dq2D,EAAK3S,QAPL,SAAiBjP,EAAKd,GAKlB,OAJAc,EAAI,GAAK,EAAMd,EAAE,GACjBc,EAAI,GAAK,EAAMd,EAAE,GACjBc,EAAI,GAAK,EAAMd,EAAE,GACjBc,EAAI,GAAK,EAAMd,EAAE,GACVc,GASX4hB,EAAKrP,YAHL,SAAqBrT,EAAG3zC,GACpB,OAAO2zC,EAAE,KAAO3zC,EAAE,IAAM2zC,EAAE,KAAO3zC,EAAE,IAAM2zC,EAAE,KAAO3zC,EAAE,IAAM2zC,EAAE,KAAO3zC,EAAE,IAczEq2D,EAAKpiB,OARL,SAAgBN,EAAG3zC,GACf,IAAIinD,EAAKtT,EAAE,GAAIuT,EAAKvT,EAAE,GAAIwT,EAAKxT,EAAE,GAAIyhB,EAAKzhB,EAAE,GACxCyT,EAAKpnD,EAAE,GAAIqnD,EAAKrnD,EAAE,GAAIsnD,EAAKtnD,EAAE,GAAIqsD,EAAKrsD,EAAE,GAC5C,OAAQ0F,KAAKu0C,IAAIgN,EAAKG,IAAOxG,EAAUl7C,KAAK0Q,IAAI,EAAK1Q,KAAKu0C,IAAIgN,GAAKvhD,KAAKu0C,IAAImN,KACxE1hD,KAAKu0C,IAAIiN,EAAKG,IAAOzG,EAAUl7C,KAAK0Q,IAAI,EAAK1Q,KAAKu0C,IAAIiN,GAAKxhD,KAAKu0C,IAAIoN,KACpE3hD,KAAKu0C,IAAIkN,EAAKG,IAAO1G,EAAUl7C,KAAK0Q,IAAI,EAAK1Q,KAAKu0C,IAAIkN,GAAKzhD,KAAKu0C,IAAIqN,KACpE5hD,KAAKu0C,IAAImb,EAAK/I,IAAOzL,EAAUl7C,KAAK0Q,IAAI,EAAK1Q,KAAKu0C,IAAImb,GAAK1vD,KAAKu0C,IAAIoS,KAM5EgK,EAAK/wD,SAHL,SAAkBquC,EAAG/jB,GACjB,MAAO,IAAI1sB,OAAOywC,EAAE,GAAGoV,YAAYn5B,GAAY,KAAK1sB,OAAOywC,EAAE,GAAGoV,YAAYn5B,GAAY,KAAK1sB,OAAOywC,EAAE,GAAGoV,YAAYn5B,GAAY,MAAM1sB,OAAOywC,EAAE,GAAGoV,YAAYn5B,GAAY,MAzMnL,CA4MG,IAAS,EAAO,KE1MnB,SAAWinC,GACP,SAASlV,IAEL,IAAInN,EAAM,CAAC,GAAK,EAAG,EAAG,GAEtB,OADAA,EAAI,GAAK,EACFA,EAGX,SAASxwB,IACL,IAAIywB,EAAMkN,IAEV,OADAlN,EAAI,GAAK,EACFA,EAuBX,SAASqiB,EAAariB,EAAKoT,EAAM8B,GAC7BA,GAAY,GACZ,IAAI7qD,EAAI4G,KAAK0+C,IAAIuF,GAKjB,OAJAlV,EAAI,GAAK31C,EAAI+oD,EAAK,GAClBpT,EAAI,GAAK31C,EAAI+oD,EAAK,GAClBpT,EAAI,GAAK31C,EAAI+oD,EAAK,GAClBpT,EAAI,GAAK/uC,KAAKy+C,IAAIwF,GACXlV,EA0FX,SAASyP,EAAMzP,EAAKd,EAAG3zC,EAAG1C,GAGtB,IAEIy5D,EAAOC,EAAOC,EAAOC,EAAQC,EAF7B9U,EAAK1O,EAAE,GAAI2O,EAAK3O,EAAE,GAAI4O,EAAK5O,EAAE,GAAIyjB,EAAKzjB,EAAE,GACxC6O,EAAKxiD,EAAE,GAAIyiD,EAAKziD,EAAE,GAAI0iD,EAAK1iD,EAAE,GAAIq3D,EAAKr3D,EAAE,GA+B5C,OA5BAg3D,EAAQ3U,EAAKG,EAAKF,EAAKG,EAAKF,EAAKG,EAAK0U,EAAKC,GAE/B,IACRL,GAASA,EACTxU,GAAMA,EACNC,GAAMA,EACNC,GAAMA,EACN2U,GAAMA,GAGL,EAAML,EAAS,MAEhBD,EAAQrxD,KAAKu+C,KAAK+S,GAClBC,EAAQvxD,KAAK0+C,IAAI2S,GACjBG,EAASxxD,KAAK0+C,KAAK,EAAM9mD,GAAKy5D,GAASE,EACvCE,EAASzxD,KAAK0+C,IAAI9mD,EAAIy5D,GAASE,IAK/BC,EAAS,EAAM55D,EACf65D,EAAS75D,GAGbm3C,EAAI,GAAKyiB,EAAS7U,EAAK8U,EAAS3U,EAChC/N,EAAI,GAAKyiB,EAAS5U,EAAK6U,EAAS1U,EAChChO,EAAI,GAAKyiB,EAAS3U,EAAK4U,EAASzU,EAChCjO,EAAI,GAAKyiB,EAASE,EAAKD,EAASE,EACzB5iB,EAqCX,SAASma,EAASna,EAAKj4C,GAGnB,IACI86D,EADAC,EAAS/6D,EAAE,GAAKA,EAAE,GAAKA,EAAE,GAE7B,GAAI+6D,EAAS,EAETD,EAAQ5xD,KAAKw8C,KAAKqV,EAAS,GAC3B9iB,EAAI,GAAK,GAAM6iB,EACfA,EAAQ,GAAMA,EACd7iB,EAAI,IAAMj4C,EAAE,GAAKA,EAAE,IAAM86D,EACzB7iB,EAAI,IAAMj4C,EAAE,GAAKA,EAAE,IAAM86D,EACzB7iB,EAAI,IAAMj4C,EAAE,GAAKA,EAAE,IAAM86D,MAExB,CAED,IAAIl7D,EAAI,EACJI,EAAE,GAAKA,EAAE,KACTJ,EAAI,GACJI,EAAE,GAAKA,EAAM,EAAJJ,EAAQA,KACjBA,EAAI,GACR,IAAI80C,GAAK90C,EAAI,GAAK,EACdqlD,GAAKrlD,EAAI,GAAK,EAClBk7D,EAAQ5xD,KAAKw8C,KAAK1lD,EAAM,EAAJJ,EAAQA,GAAKI,EAAM,EAAJ00C,EAAQA,GAAK10C,EAAM,EAAJilD,EAAQA,GAAK,GAC/DhN,EAAIr4C,GAAK,GAAMk7D,EACfA,EAAQ,GAAMA,EACd7iB,EAAI,IAAMj4C,EAAM,EAAJ00C,EAAQuQ,GAAKjlD,EAAM,EAAJilD,EAAQvQ,IAAMomB,EACzC7iB,EAAIvD,IAAM10C,EAAM,EAAJ00C,EAAQ90C,GAAKI,EAAM,EAAJJ,EAAQ80C,IAAMomB,EACzC7iB,EAAIgN,IAAMjlD,EAAM,EAAJilD,EAAQrlD,GAAKI,EAAM,EAAJJ,EAAQqlD,IAAM6V,EAE7C,OAAO7iB,EAlOXoiB,EAAKlV,KAAOA,EAMZkV,EAAK7yC,SAAWA,EAOhB6yC,EAAKnP,YANL,SAAqBjT,GACjBA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,GAMboiB,EAAKlU,OAHL,SAAgB+C,GACZ,OAAOvjB,MAAMujB,EAAE,KAAOvjB,MAAMujB,EAAE,KAAOvjB,MAAMujB,EAAE,KAAOvjB,MAAMujB,EAAE,KAWhEmR,EAAKn5D,OARL,SAAgBuI,EAAGhE,EAAG4/C,EAAGqD,GACrB,IAAIzQ,EAAMzwB,IAKV,OAJAywB,EAAI,GAAKxuC,EACTwuC,EAAI,GAAKxyC,EACTwyC,EAAI,GAAKoN,EACTpN,EAAI,GAAKyQ,EACFzQ,GAYXoiB,EAAKC,aAAeA,EA2BpBD,EAAKW,aAhBL,SAAsBC,EAAU/R,GAC5B,IAAIiE,EAAwB,EAAlBjkD,KAAKu+C,KAAKyB,EAAE,IAClB5mD,EAAI4G,KAAK0+C,IAAIuF,EAAM,GAYvB,OAXU,IAAN7qD,GACA24D,EAAS,GAAK/R,EAAE,GAAK5mD,EACrB24D,EAAS,GAAK/R,EAAE,GAAK5mD,EACrB24D,EAAS,GAAK/R,EAAE,GAAK5mD,IAIrB24D,EAAS,GAAK,EACdA,EAAS,GAAK,EACdA,EAAS,GAAK,GAEX9N,GAYXkN,EAAKl7B,SATL,SAAkB8Y,EAAKd,EAAG3zC,GACtB,IAAIqiD,EAAK1O,EAAE,GAAI2O,EAAK3O,EAAE,GAAI4O,EAAK5O,EAAE,GAAIyjB,EAAKzjB,EAAE,GACxC6O,EAAKxiD,EAAE,GAAIyiD,EAAKziD,EAAE,GAAI0iD,EAAK1iD,EAAE,GAAIq3D,EAAKr3D,EAAE,GAK5C,OAJAy0C,EAAI,GAAK4N,EAAKgV,EAAKD,EAAK5U,EAAKF,EAAKI,EAAKH,EAAKE,EAC5ChO,EAAI,GAAK6N,EAAK+U,EAAKD,EAAK3U,EAAKF,EAAKC,EAAKH,EAAKK,EAC5CjO,EAAI,GAAK8N,EAAK8U,EAAKD,EAAK1U,EAAKL,EAAKI,EAAKH,EAAKE,EAC5C/N,EAAI,GAAK2iB,EAAKC,EAAKhV,EAAKG,EAAKF,EAAKG,EAAKF,EAAKG,EACrCjO,GAaXoiB,EAAKa,QAVL,SAAiBjjB,EAAKd,EAAGgW,GACrBA,GAAO,GACP,IAAItH,EAAK1O,EAAE,GAAI2O,EAAK3O,EAAE,GAAI4O,EAAK5O,EAAE,GAAIyjB,EAAKzjB,EAAE,GACxC6O,EAAK98C,KAAK0+C,IAAIuF,GAAM0N,EAAK3xD,KAAKy+C,IAAIwF,GAKtC,OAJAlV,EAAI,GAAK4N,EAAKgV,EAAKD,EAAK5U,EACxB/N,EAAI,GAAK6N,EAAK+U,EAAK9U,EAAKC,EACxB/N,EAAI,GAAK8N,EAAK8U,EAAK/U,EAAKE,EACxB/N,EAAI,GAAK2iB,EAAKC,EAAKhV,EAAKG,EACjB/N,GAaXoiB,EAAKc,QAVL,SAAiBljB,EAAKd,EAAGgW,GACrBA,GAAO,GACP,IAAItH,EAAK1O,EAAE,GAAI2O,EAAK3O,EAAE,GAAI4O,EAAK5O,EAAE,GAAIyjB,EAAKzjB,EAAE,GACxC8O,EAAK/8C,KAAK0+C,IAAIuF,GAAM0N,EAAK3xD,KAAKy+C,IAAIwF,GAKtC,OAJAlV,EAAI,GAAK4N,EAAKgV,EAAK9U,EAAKE,EACxBhO,EAAI,GAAK6N,EAAK+U,EAAKD,EAAK3U,EACxBhO,EAAI,GAAK8N,EAAK8U,EAAKhV,EAAKI,EACxBhO,EAAI,GAAK2iB,EAAKC,EAAK/U,EAAKG,EACjBhO,GAaXoiB,EAAKe,QAVL,SAAiBnjB,EAAKd,EAAGgW,GACrBA,GAAO,GACP,IAAItH,EAAK1O,EAAE,GAAI2O,EAAK3O,EAAE,GAAI4O,EAAK5O,EAAE,GAAIyjB,EAAKzjB,EAAE,GACxC+O,EAAKh9C,KAAK0+C,IAAIuF,GAAM0N,EAAK3xD,KAAKy+C,IAAIwF,GAKtC,OAJAlV,EAAI,GAAK4N,EAAKgV,EAAK/U,EAAKI,EACxBjO,EAAI,GAAK6N,EAAK+U,EAAKhV,EAAKK,EACxBjO,EAAI,GAAK8N,EAAK8U,EAAKD,EAAK1U,EACxBjO,EAAI,GAAK2iB,EAAKC,EAAK9U,EAAKG,EACjBjO,GAgBXoiB,EAAKgB,WARL,SAAoBpjB,EAAKd,GACrB,IAAI1tC,EAAI0tC,EAAE,GAAI1xC,EAAI0xC,EAAE,GAAIkO,EAAIlO,EAAE,GAK9B,OAJAc,EAAI,GAAKxuC,EACTwuC,EAAI,GAAKxyC,EACTwyC,EAAI,GAAKoN,EACTpN,EAAI,GAAK/uC,KAAKw8C,KAAKx8C,KAAKu0C,IAAI,EAAMh0C,EAAIA,EAAIhE,EAAIA,EAAI4/C,EAAIA,IAC/CpN,GA2CXoiB,EAAK3S,MAAQA,EAYb2S,EAAKh+B,OAXL,SAAgB4b,EAAKd,GACjB,IAAIsT,EAAKtT,EAAE,GAAIuT,EAAKvT,EAAE,GAAIwT,EAAKxT,EAAE,GAAIyhB,EAAKzhB,EAAE,GACxCwO,EAAM8E,EAAKA,EAAKC,EAAKA,EAAKC,EAAKA,EAAKiO,EAAKA,EACzC0C,EAAS3V,EAAM,EAAMA,EAAM,EAM/B,OAJA1N,EAAI,IAAMwS,EAAK6Q,EACfrjB,EAAI,IAAMyS,EAAK4Q,EACfrjB,EAAI,IAAM0S,EAAK2Q,EACfrjB,EAAI,GAAK2gB,EAAK0C,EACPrjB,GAcXoiB,EAAKkB,UAPL,SAAmBtjB,EAAKd,GAKpB,OAJAc,EAAI,IAAMd,EAAE,GACZc,EAAI,IAAMd,EAAE,GACZc,EAAI,IAAMd,EAAE,GACZc,EAAI,GAAKd,EAAE,GACJc,GAMXoiB,EAAK1U,IAHL,SAAaxO,EAAG3zC,GACZ,OAAO2zC,EAAE,GAAK3zC,EAAE,GAAK2zC,EAAE,GAAK3zC,EAAE,GAAK2zC,EAAE,GAAK3zC,EAAE,GAAK2zC,EAAE,GAAK3zC,EAAE,IAyC9D62D,EAAKjI,SAAWA,EAoDhBiI,EAAK/F,UAnDL,SAAmBrc,EAAKsc,EAAOxqC,GAC3B,IAAItgB,EAAI8qD,EAAM,GAAI9uD,EAAI8uD,EAAM,GAAIlP,EAAIkP,EAAM,GAEtCiH,EAAKtyD,KAAKy+C,IAAIl+C,EAAI,GAClBgyD,EAAKvyD,KAAKy+C,IAAIliD,EAAI,GAClBi2D,EAAKxyD,KAAKy+C,IAAItC,EAAI,GAClBsW,EAAKzyD,KAAK0+C,IAAIn+C,EAAI,GAClBmyD,EAAK1yD,KAAK0+C,IAAIniD,EAAI,GAClBo2D,EAAK3yD,KAAK0+C,IAAIvC,EAAI,GACtB,OAAQt7B,GACJ,IAAK,MACDkuB,EAAI,GAAK0jB,EAAKF,EAAKC,EAAKF,EAAKI,EAAKC,EAClC5jB,EAAI,GAAKujB,EAAKI,EAAKF,EAAKC,EAAKF,EAAKI,EAClC5jB,EAAI,GAAKujB,EAAKC,EAAKI,EAAKF,EAAKC,EAAKF,EAClCzjB,EAAI,GAAKujB,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAClC,MACJ,IAAK,MACD5jB,EAAI,GAAK0jB,EAAKF,EAAKC,EAAKF,EAAKI,EAAKC,EAClC5jB,EAAI,GAAKujB,EAAKI,EAAKF,EAAKC,EAAKF,EAAKI,EAClC5jB,EAAI,GAAKujB,EAAKC,EAAKI,EAAKF,EAAKC,EAAKF,EAClCzjB,EAAI,GAAKujB,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAClC,MACJ,IAAK,MACD5jB,EAAI,GAAK0jB,EAAKF,EAAKC,EAAKF,EAAKI,EAAKC,EAClC5jB,EAAI,GAAKujB,EAAKI,EAAKF,EAAKC,EAAKF,EAAKI,EAClC5jB,EAAI,GAAKujB,EAAKC,EAAKI,EAAKF,EAAKC,EAAKF,EAClCzjB,EAAI,GAAKujB,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAClC,MACJ,IAAK,MACD5jB,EAAI,GAAK0jB,EAAKF,EAAKC,EAAKF,EAAKI,EAAKC,EAClC5jB,EAAI,GAAKujB,EAAKI,EAAKF,EAAKC,EAAKF,EAAKI,EAClC5jB,EAAI,GAAKujB,EAAKC,EAAKI,EAAKF,EAAKC,EAAKF,EAClCzjB,EAAI,GAAKujB,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAClC,MACJ,IAAK,MACD5jB,EAAI,GAAK0jB,EAAKF,EAAKC,EAAKF,EAAKI,EAAKC,EAClC5jB,EAAI,GAAKujB,EAAKI,EAAKF,EAAKC,EAAKF,EAAKI,EAClC5jB,EAAI,GAAKujB,EAAKC,EAAKI,EAAKF,EAAKC,EAAKF,EAClCzjB,EAAI,GAAKujB,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAClC,MACJ,IAAK,MACD5jB,EAAI,GAAK0jB,EAAKF,EAAKC,EAAKF,EAAKI,EAAKC,EAClC5jB,EAAI,GAAKujB,EAAKI,EAAKF,EAAKC,EAAKF,EAAKI,EAClC5jB,EAAI,GAAKujB,EAAKC,EAAKI,EAAKF,EAAKC,EAAKF,EAClCzjB,EAAI,GAAKujB,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAClC,MACJ,QACIxO,IAER,OAAOpV,GAGX,IAAI6jB,EAAmB,CAAC,EAAG,EAAG,GAiG9B,SAASrW,EAAUxN,EAAKd,GACpB,IAAI1tC,EAAI0tC,EAAE,GACN1xC,EAAI0xC,EAAE,GACNkO,EAAIlO,EAAE,GACNuR,EAAIvR,EAAE,GACNzK,EAAMjjC,EAAIA,EAAIhE,EAAIA,EAAI4/C,EAAIA,EAAIqD,EAAIA,EAQtC,OAPIhc,EAAM,IACNA,EAAM,EAAIxjC,KAAKw8C,KAAKhZ,GACpBuL,EAAI,GAAKxuC,EAAIijC,EACbuL,EAAI,GAAKxyC,EAAIinC,EACbuL,EAAI,GAAKoN,EAAI3Y,EACbuL,EAAI,GAAKyQ,EAAIhc,GAEVuL,EAlFXoiB,EAAK0B,aA1BL,SAAsB9jB,EAAKd,EAAG3zC,GAE1B,IAAI9C,EAAI,EAAKilD,IAAIxO,EAAG3zC,GAAK,EAsBzB,OArBI9C,EAAI0jD,GAIJ1jD,EAAI,EACAwI,KAAKu0C,IAAItG,EAAE,IAAMjuC,KAAKu0C,IAAItG,EAAE,IAC5B,EAAKlhC,IAAI6lD,GAAmB3kB,EAAE,GAAIA,EAAE,GAAI,GAGxC,EAAKlhC,IAAI6lD,EAAkB,GAAI3kB,EAAE,GAAIA,EAAE,KAK3C,EAAKyO,MAAMkW,EAAkB3kB,EAAG3zC,GAEpCy0C,EAAI,GAAK6jB,EAAiB,GAC1B7jB,EAAI,GAAK6jB,EAAiB,GAC1B7jB,EAAI,GAAK6jB,EAAiB,GAC1B7jB,EAAI,GAAKv3C,EACT+kD,EAAUxN,EAAKA,GACRA,GAWXoiB,EAAKhkC,MARL,SAAe8gB,GACX,IAAIc,EAAMkN,IAKV,OAJAlN,EAAI,GAAKd,EAAE,GACXc,EAAI,GAAKd,EAAE,GACXc,EAAI,GAAKd,EAAE,GACXc,EAAI,GAAKd,EAAE,GACJc,GAUXoiB,EAAK7+B,QAPL,SAAiB2b,EAAGc,EAAKnlC,GAKrB,OAJAmlC,EAAInlC,EAAS,GAAKqkC,EAAE,GACpBc,EAAInlC,EAAS,GAAKqkC,EAAE,GACpBc,EAAInlC,EAAS,GAAKqkC,EAAE,GACpBc,EAAInlC,EAAS,GAAKqkC,EAAE,GACbc,GAUXoiB,EAAK9T,UAPL,SAAmBpP,EAAGvlC,EAAOkB,GAKzB,OAJAqkC,EAAE,GAAKvlC,EAAMkB,EAAS,GACtBqkC,EAAE,GAAKvlC,EAAMkB,EAAS,GACtBqkC,EAAE,GAAKvlC,EAAMkB,EAAS,GACtBqkC,EAAE,GAAKvlC,EAAMkB,EAAS,GACfqkC,GAUXkjB,EAAKxsC,KAPL,SAAcoqB,EAAKd,GAKf,OAJAc,EAAI,GAAKd,EAAE,GACXc,EAAI,GAAKd,EAAE,GACXc,EAAI,GAAKd,EAAE,GACXc,EAAI,GAAKd,EAAE,GACJc,GAUXoiB,EAAKpkD,IAPL,SAAagiC,EAAKxuC,EAAGhE,EAAG4/C,EAAGqD,GAKvB,OAJAzQ,EAAI,GAAKxuC,EACTwuC,EAAI,GAAKxyC,EACTwyC,EAAI,GAAKoN,EACTpN,EAAI,GAAKyQ,EACFzQ,GASXoiB,EAAK7P,YAHL,SAAqBrT,EAAG3zC,GACpB,OAAO2zC,EAAE,KAAO3zC,EAAE,IAAM2zC,EAAE,KAAO3zC,EAAE,IAAM2zC,EAAE,KAAO3zC,EAAE,IAAM2zC,EAAE,KAAO3zC,EAAE,IAczE62D,EAAK5iB,OARL,SAAgBN,EAAG3zC,GACf,IAAIinD,EAAKtT,EAAE,GAAIuT,EAAKvT,EAAE,GAAIwT,EAAKxT,EAAE,GAAIyhB,EAAKzhB,EAAE,GACxCyT,EAAKpnD,EAAE,GAAIqnD,EAAKrnD,EAAE,GAAIsnD,EAAKtnD,EAAE,GAAIqsD,EAAKrsD,EAAE,GAC5C,OAAQ0F,KAAKu0C,IAAIgN,EAAKG,IAAOxG,EAAUl7C,KAAK0Q,IAAI,EAAK1Q,KAAKu0C,IAAIgN,GAAKvhD,KAAKu0C,IAAImN,KACxE1hD,KAAKu0C,IAAIiN,EAAKG,IAAOzG,EAAUl7C,KAAK0Q,IAAI,EAAK1Q,KAAKu0C,IAAIiN,GAAKxhD,KAAKu0C,IAAIoN,KACpE3hD,KAAKu0C,IAAIkN,EAAKG,IAAO1G,EAAUl7C,KAAK0Q,IAAI,EAAK1Q,KAAKu0C,IAAIkN,GAAKzhD,KAAKu0C,IAAIqN,KACpE5hD,KAAKu0C,IAAImb,EAAK/I,IAAOzL,EAAUl7C,KAAK0Q,IAAI,EAAK1Q,KAAKu0C,IAAImb,GAAK1vD,KAAKu0C,IAAIoS,KAU5EwK,EAAKn9C,IAPL,SAAa+6B,EAAKd,EAAG3zC,GAKjB,OAJAy0C,EAAI,GAAKd,EAAE,GAAK3zC,EAAE,GAClBy0C,EAAI,GAAKd,EAAE,GAAK3zC,EAAE,GAClBy0C,EAAI,GAAKd,EAAE,GAAK3zC,EAAE,GAClBy0C,EAAI,GAAKd,EAAE,GAAK3zC,EAAE,GACXy0C,GAkBXoiB,EAAK5U,UAAYA,EAOjB,IAAIuW,EAAa,CAAC,EAAG,EAAG,GACpBC,EAAkB,CAAC,EAAG,EAAG,GACzBC,EAAkB,CAAC,EAAG,EAAG,GA2B7B7B,EAAK8B,WA1BL,SAAoBlkB,EAAKd,EAAG3zC,GACxB,IAAImiD,EAAM,EAAKA,IAAIxO,EAAG3zC,GACtB,OAAImiD,GAAO,SACP,EAAKC,MAAMoW,EAAYC,EAAiB9kB,GACpC,EAAK6P,UAAUgV,GAAc,MAC7B,EAAKpW,MAAMoW,EAAYE,EAAiB/kB,GAC5C,EAAKsO,UAAUuW,EAAYA,GAC3B1B,EAAariB,EAAK+jB,EAAY9yD,KAAKq+C,IAC5BtP,GAEF0N,EAAM,SACX1N,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACFA,IAGP,EAAK2N,MAAMoW,EAAY7kB,EAAG3zC,GAC1By0C,EAAI,GAAK+jB,EAAW,GACpB/jB,EAAI,GAAK+jB,EAAW,GACpB/jB,EAAI,GAAK+jB,EAAW,GACpB/jB,EAAI,GAAK,EAAI0N,EACNF,EAAUxN,EAAKA,KAO9B,IAAImkB,EAAcjX,IACdkX,EAAclX,IAOlBkV,EAAKiC,OANL,SAAgBrkB,EAAKd,EAAG3zC,EAAGvD,EAAGC,EAAGY,GAI7B,OAHA4mD,EAAM0U,EAAajlB,EAAGj3C,EAAGY,GACzB4mD,EAAM2U,EAAa74D,EAAGvD,EAAGa,GACzB4mD,EAAMzP,EAAKmkB,EAAaC,EAAa,EAAIv7D,GAAK,EAAIA,IAC3Cm3C,GAQX,IAAIskB,EAAa,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAa1ClC,EAAK3I,QAZL,SAAiBzZ,EAAK5M,EAAMsmB,EAAOC,GAU/B,OATA2K,EAAW,GAAK5K,EAAM,GACtB4K,EAAW,GAAK5K,EAAM,GACtB4K,EAAW,GAAK5K,EAAM,GACtB4K,EAAW,GAAK3K,EAAG,GACnB2K,EAAW,GAAK3K,EAAG,GACnB2K,EAAW,GAAK3K,EAAG,GACnB2K,EAAW,IAAMlxB,EAAK,GACtBkxB,EAAW,IAAMlxB,EAAK,GACtBkxB,EAAW,IAAMlxB,EAAK,GACfoa,EAAUxN,EAAKma,EAASna,EAAKskB,KAMxClC,EAAKvxD,SAHL,SAAkBquC,EAAG/jB,GACjB,MAAO,IAAI1sB,OAAOywC,EAAE,GAAGoV,YAAYn5B,GAAY,KAAK1sB,OAAOywC,EAAE,GAAGoV,YAAYn5B,GAAY,KAAK1sB,OAAOywC,EAAE,GAAGoV,YAAYn5B,GAAY,MAAM1sB,OAAOywC,EAAE,GAAGoV,YAAYn5B,GAAY,MAG/KinC,EAAKxB,SAAWrxC,IAxdpB,CAydG,IAAS,EAAO,KN5dnB,SAAWg1C,GAaP,SAASC,EAAMC,EAAYC,EAAqBC,GAC5C,IAAIC,EAbR,SAAgBH,EAAYC,EAAqBC,GAG7C,IADA,IAAIE,EAAsB,GACjBl9D,EAAI,EAAGA,EAAI+8D,EAAoBx6D,OAAQvC,IAC5Ck9D,EAAoBl9D,GAAK+8D,EAAoBA,EAAoBx6D,OAASvC,EAAI,GAClF,IAAIm9D,EAAmB,CAAC,GACxB,IAASn9D,EAAI,EAAGA,EAAI88D,EAAWv6D,OAAQvC,IACnCm9D,EAAiBn9D,GAAK88D,EAAWI,EAAoBl9D,EAAI,IAC7D,MAAO,CAAE88D,WAAYA,EAAYI,oBAAqBA,EAAqBH,oBAAqBA,EAAqBI,iBAAkBA,EAAkBC,YAAaJ,GAAQK,cAKjKC,CAAOR,EAAYC,EAAqBC,GACjD90D,EAAKq1D,EAAUN,GAASp8D,EAAMqH,EAAGrH,IAAKwV,EAAMnO,EAAGmO,IAAKiH,EAAMpV,EAAGoV,IAAKkgD,EAAat1D,EAAGs1D,WAAYC,EAAYv1D,EAAGu1D,UACjH,MAAO,CAAEC,KAAMZ,EAAWv6D,OAAQu6D,WAAYA,EAAYC,oBAAqBA,EAAqBz7D,OAAQq8D,EAAQV,GAASp8D,IAAKA,EAAKwV,IAAKA,EAAKiH,IAAKA,EAAKkgD,WAAYA,EAAYC,UAAWA,GA6DlM,SAASF,EAAUN,GACf,IAAIH,EAAaG,EAAOH,WAAYc,EAAKX,EAAOC,oBAChD,OAAQJ,EAAWv6D,QACf,KAAK,EAAG,MAAO,CACX1B,IAAK,SAAUK,EAAGZ,GAAK,OAAOY,EAAEZ,IAChC+V,IAAK,SAAUnV,EAAGZ,EAAGuJ,GAAK,OAAO3I,EAAEZ,GAAKuJ,GACxCyT,IAAK,SAAUpc,EAAGZ,EAAGuJ,GAAK,OAAO3I,EAAEZ,IAAMuJ,GACzC2zD,WAAY,SAAUl9D,GAAK,OAAOA,GAClCm9D,UAAW,SAAUh9D,EAAGJ,GAEpB,OADAA,EAAE,GAAKI,EACAJ,IAGf,KAAK,EAED,GAAc,IAAVu9D,EAAG,IAAsB,IAAVA,EAAG,GAAU,CAC5B,IAAIC,EAASf,EAAW,GACxB,MAAO,CACHj8D,IAAK,SAAUK,EAAGlB,EAAG80C,GAAK,OAAO5zC,EAAE4zC,EAAI+oB,EAAS79D,IAChDqW,IAAK,SAAUnV,EAAGlB,EAAG80C,EAAGjrC,GAAK,OAAO3I,EAAE4zC,EAAI+oB,EAAS79D,GAAK6J,GACxDyT,IAAK,SAAUpc,EAAGlB,EAAG80C,EAAGjrC,GAAK,OAAO3I,EAAE4zC,EAAI+oB,EAAS79D,IAAM6J,GACzD2zD,WAAY,SAAUx9D,EAAG80C,GAAK,OAAOA,EAAI+oB,EAAS79D,GAClDy9D,UAAW,SAAUh9D,EAAGJ,GAGpB,OAFAA,EAAE,GAAKI,EAAIo9D,EACXx9D,EAAE,GAAKiJ,KAAKE,MAAM/I,EAAIo9D,GACfx9D,IAInB,GAAc,IAAVu9D,EAAG,IAAsB,IAAVA,EAAG,GAAU,CAC5B,IAAIE,EAAShB,EAAW,GACxB,MAAO,CACHj8D,IAAK,SAAUK,EAAGlB,EAAG80C,GAAK,OAAO5zC,EAAElB,EAAI89D,EAAShpB,IAChDz+B,IAAK,SAAUnV,EAAGlB,EAAG80C,EAAGjrC,GAAK,OAAO3I,EAAElB,EAAI89D,EAAShpB,GAAKjrC,GACxDyT,IAAK,SAAUpc,EAAGlB,EAAG80C,EAAGjrC,GAAK,OAAO3I,EAAElB,EAAI89D,EAAShpB,IAAMjrC,GACzD2zD,WAAY,SAAUx9D,EAAG80C,GAAK,OAAO90C,EAAI89D,EAAShpB,GAClD2oB,UAAW,SAAUh9D,EAAGJ,GAGpB,OAFAA,EAAE,GAAKiJ,KAAKE,MAAM/I,EAAIq9D,GACtBz9D,EAAE,GAAKI,EAAIq9D,EACJz9D,IAInB,MAAM,IAAIgX,MAAM,kBAEpB,KAAK,EACD,GAAc,IAAVumD,EAAG,IAAsB,IAAVA,EAAG,IAAsB,IAAVA,EAAG,GAAU,CAC3C,IAAIG,EAAMjB,EAAW,GAAIkB,EAAMlB,EAAW,GAAImB,EAAOF,EAAMC,EAC3D,MAAO,CACHn9D,IAAK,SAAUK,EAAGlB,EAAG80C,EAAGuQ,GAAK,OAAOnkD,EAAElB,EAAI80C,EAAIipB,EAAM1Y,EAAI4Y,IACxD5nD,IAAK,SAAUnV,EAAGlB,EAAG80C,EAAGuQ,EAAGx7C,GAAK,OAAO3I,EAAElB,EAAI80C,EAAIipB,EAAM1Y,EAAI4Y,GAAQp0D,GACnEyT,IAAK,SAAUpc,EAAGlB,EAAG80C,EAAGuQ,EAAGx7C,GAAK,OAAO3I,EAAElB,EAAI80C,EAAIipB,EAAM1Y,EAAI4Y,IAASp0D,GACpE2zD,WAAY,SAAUx9D,EAAG80C,EAAGuQ,GAAK,OAAOrlD,EAAI80C,EAAIipB,EAAM1Y,EAAI4Y,GAC1DR,UAAW,SAAUh9D,EAAGJ,GACpB,IAAIyB,EAAIwH,KAAKE,MAAM/I,EAAIs9D,GAIvB,OAHA19D,EAAE,GAAKI,EAAIs9D,EACX19D,EAAE,GAAKyB,EAAIk8D,EACX39D,EAAE,GAAKiJ,KAAKE,MAAM1H,EAAIk8D,GACf39D,IAInB,GAAc,IAAVu9D,EAAG,IAAsB,IAAVA,EAAG,IAAsB,IAAVA,EAAG,GAAU,CAC3C,IAAIM,EAAMpB,EAAW,GAAIqB,EAAMrB,EAAW,GAAIsB,EAAOF,EAAMC,EAC3D,MAAO,CACHt9D,IAAK,SAAUK,EAAGlB,EAAG80C,EAAGuQ,GAAK,OAAOnkD,EAAElB,EAAIqlD,EAAI6Y,EAAMppB,EAAIspB,IACxD/nD,IAAK,SAAUnV,EAAGlB,EAAG80C,EAAGuQ,EAAGx7C,GAAK,OAAO3I,EAAElB,EAAIqlD,EAAI6Y,EAAMppB,EAAIspB,GAAQv0D,GACnEyT,IAAK,SAAUpc,EAAGlB,EAAG80C,EAAGuQ,EAAGx7C,GAAK,OAAO3I,EAAElB,EAAIqlD,EAAI6Y,EAAMppB,EAAIspB,IAASv0D,GACpE2zD,WAAY,SAAUx9D,EAAG80C,EAAGuQ,GAAK,OAAOrlD,EAAIqlD,EAAI6Y,EAAMppB,EAAIspB,GAC1DX,UAAW,SAAUh9D,EAAGJ,GACpB,IAAIyB,EAAIwH,KAAKE,MAAM/I,EAAIy9D,GAIvB,OAHA79D,EAAE,GAAKI,EAAIy9D,EACX79D,EAAE,GAAKiJ,KAAKE,MAAM1H,EAAIq8D,GACtB99D,EAAE,GAAKyB,EAAIq8D,EACJ99D,IAInB,GAAc,IAAVu9D,EAAG,IAAsB,IAAVA,EAAG,IAAsB,IAAVA,EAAG,GAAU,CAC3C,IAAIS,EAAMvB,EAAW,GAAIwB,EAAMxB,EAAW,GAAIyB,EAAOF,EAAMC,EAC3D,MAAO,CACHz9D,IAAK,SAAUK,EAAGlB,EAAG80C,EAAGuQ,GAAK,OAAOnkD,EAAE4zC,EAAI90C,EAAIq+D,EAAMhZ,EAAIkZ,IACxDloD,IAAK,SAAUnV,EAAGlB,EAAG80C,EAAGuQ,EAAGx7C,GAAK,OAAO3I,EAAE4zC,EAAI90C,EAAIq+D,EAAMhZ,EAAIkZ,GAAQ10D,GACnEyT,IAAK,SAAUpc,EAAGlB,EAAG80C,EAAGuQ,EAAGx7C,GAAK,OAAO3I,EAAE4zC,EAAI90C,EAAIq+D,EAAMhZ,EAAIkZ,IAAS10D,GACpE2zD,WAAY,SAAUx9D,EAAG80C,EAAGuQ,GAAK,OAAOvQ,EAAI90C,EAAIq+D,EAAMhZ,EAAIkZ,GAC1Dd,UAAW,SAAUh9D,EAAGJ,GACpB,IAAIyB,EAAIwH,KAAKE,MAAM/I,EAAI49D,GAIvB,OAHAh+D,EAAE,GAAKyB,EAAIw8D,EACXj+D,EAAE,GAAKI,EAAI49D,EACXh+D,EAAE,GAAKiJ,KAAKE,MAAM1H,EAAIw8D,GACfj+D,IAInB,GAAc,IAAVu9D,EAAG,IAAsB,IAAVA,EAAG,IAAsB,IAAVA,EAAG,GAAU,CAC3C,IAAIY,EAAM1B,EAAW,GAAI2B,EAAM3B,EAAW,GAAI4B,EAAOF,EAAMC,EAC3D,MAAO,CACH59D,IAAK,SAAUK,EAAGlB,EAAG80C,EAAGuQ,GAAK,OAAOnkD,EAAE4zC,EAAIuQ,EAAImZ,EAAMx+D,EAAI0+D,IACxDroD,IAAK,SAAUnV,EAAGlB,EAAG80C,EAAGuQ,EAAGx7C,GAAK,OAAO3I,EAAE4zC,EAAIuQ,EAAImZ,EAAMx+D,EAAI0+D,GAAQ70D,GACnEyT,IAAK,SAAUpc,EAAGlB,EAAG80C,EAAGuQ,EAAGx7C,GAAK,OAAO3I,EAAE4zC,EAAIuQ,EAAImZ,EAAMx+D,EAAI0+D,IAAS70D,GACpE2zD,WAAY,SAAUx9D,EAAG80C,EAAGuQ,GAAK,OAAOvQ,EAAIuQ,EAAImZ,EAAMx+D,EAAI0+D,GAC1DjB,UAAW,SAAUh9D,EAAGJ,GACpB,IAAIyB,EAAIwH,KAAKE,MAAM/I,EAAI+9D,GAIvB,OAHAn+D,EAAE,GAAKiJ,KAAKE,MAAM1H,EAAI28D,GACtBp+D,EAAE,GAAKI,EAAI+9D,EACXn+D,EAAE,GAAKyB,EAAI28D,EACJp+D,IAInB,GAAc,IAAVu9D,EAAG,IAAsB,IAAVA,EAAG,IAAsB,IAAVA,EAAG,GAAU,CAC3C,IAAIe,EAAM7B,EAAW,GAAI8B,EAAM9B,EAAW,GAAI+B,EAAOF,EAAMC,EAC3D,MAAO,CACH/9D,IAAK,SAAUK,EAAGlB,EAAG80C,EAAGuQ,GAAK,OAAOnkD,EAAEmkD,EAAIrlD,EAAI2+D,EAAM7pB,EAAI+pB,IACxDxoD,IAAK,SAAUnV,EAAGlB,EAAG80C,EAAGuQ,EAAGx7C,GAAK,OAAO3I,EAAEmkD,EAAIrlD,EAAI2+D,EAAM7pB,EAAI+pB,GAAQh1D,GACnEyT,IAAK,SAAUpc,EAAGlB,EAAG80C,EAAGuQ,EAAGx7C,GAAK,OAAO3I,EAAEmkD,EAAIrlD,EAAI2+D,EAAM7pB,EAAI+pB,IAASh1D,GACpE2zD,WAAY,SAAUx9D,EAAG80C,EAAGuQ,GAAK,OAAOA,EAAIrlD,EAAI2+D,EAAM7pB,EAAI+pB,GAC1DpB,UAAW,SAAUh9D,EAAGJ,GACpB,IAAIyB,EAAIwH,KAAKE,MAAM/I,EAAIk+D,GAIvB,OAHAt+D,EAAE,GAAKyB,EAAI88D,EACXv+D,EAAE,GAAKiJ,KAAKE,MAAM1H,EAAI88D,GACtBv+D,EAAE,GAAKI,EAAIk+D,EACJt+D,IAInB,GAAc,IAAVu9D,EAAG,IAAsB,IAAVA,EAAG,IAAsB,IAAVA,EAAG,GAAU,CAC3C,IAAIkB,EAAMhC,EAAW,GAAIiC,EAAMjC,EAAW,GAAIkC,EAAOF,EAAMC,EAC3D,MAAO,CACHl+D,IAAK,SAAUK,EAAGlB,EAAG80C,EAAGuQ,GAAK,OAAOnkD,EAAEmkD,EAAIvQ,EAAIgqB,EAAM9+D,EAAIg/D,IACxD3oD,IAAK,SAAUnV,EAAGlB,EAAG80C,EAAGuQ,EAAGx7C,GAAK,OAAO3I,EAAEmkD,EAAIvQ,EAAIgqB,EAAM9+D,EAAIg/D,GAAQn1D,GACnEyT,IAAK,SAAUpc,EAAGlB,EAAG80C,EAAGuQ,EAAGx7C,GAAK,OAAO3I,EAAEmkD,EAAIvQ,EAAIgqB,EAAM9+D,EAAIg/D,IAASn1D,GACpE2zD,WAAY,SAAUx9D,EAAG80C,EAAGuQ,GAAK,OAAOA,EAAIvQ,EAAIgqB,EAAM9+D,EAAIg/D,GAC1DvB,UAAW,SAAUh9D,EAAGJ,GACpB,IAAIyB,EAAIwH,KAAKE,MAAM/I,EAAIq+D,GAIvB,OAHAz+D,EAAE,GAAKiJ,KAAKE,MAAM1H,EAAIi9D,GACtB1+D,EAAE,GAAKyB,EAAIi9D,EACX1+D,EAAE,GAAKI,EAAIq+D,EACJz+D,IAInB,MAAM,IAAIgX,MAAM,kBAEpB,QAAS,MAAO,CACZxW,IAAK,SAAUK,GAEX,IADA,IAAIb,EAAI,GACC6H,EAAK,EAAGA,EAAK1D,UAAUjC,OAAQ2F,IACpC7H,EAAE6H,EAAK,GAAK1D,UAAU0D,GAE1B,OAAOhH,EAAEs8D,EAAWP,EAAQ58D,KAEhCgW,IAAK,SAAUnV,GAEX,IADA,IAAIb,EAAI,GACC6H,EAAK,EAAGA,EAAK1D,UAAUjC,OAAQ2F,IACpC7H,EAAE6H,EAAK,GAAK1D,UAAU0D,GAE1B,OAAOhH,EAAEs8D,EAAWP,EAAQ58D,IAAMA,EAAEA,EAAEkC,OAAS,IAEnD+a,IAAK,SAAUpc,GAEX,IADA,IAAIb,EAAI,GACC6H,EAAK,EAAGA,EAAK1D,UAAUjC,OAAQ2F,IACpC7H,EAAE6H,EAAK,GAAK1D,UAAU0D,GAE1B,OAAOhH,EAAEs8D,EAAWP,EAAQ58D,KAAOA,EAAEA,EAAEkC,OAAS,IAEpDi7D,WAAY,WAER,IADA,IAAIn9D,EAAI,GACC6H,EAAK,EAAGA,EAAK1D,UAAUjC,OAAQ2F,IACpC7H,EAAE6H,GAAM1D,UAAU0D,GAEtB,OAAOs1D,EAAWP,EAAQ58D,IAE9Bo9D,UAAW,SAAUh9D,EAAGJ,GAAK,OAoBzC,SAAmB48D,EAAQx8D,EAAGw+D,GAI1B,IAHA,IAAIC,EAAMjC,EAAOH,WAAYc,EAAKX,EAAOC,oBACrC58D,EAAI4+D,EAAI38D,OACRlC,EAAII,EACCT,EAAI,EAAGA,EAAIM,EAAGN,IAAK,CACxB,IAAIm/D,EAAMD,EAAItB,EAAG59D,IACjBi/D,EAAOrB,EAAG59D,IAAMK,EAAI8+D,EACpB9+D,EAAIiJ,KAAKE,MAAMnJ,EAAI8+D,GAGvB,OADAF,EAAOrB,EAAGt9D,EAAI,IAAMD,EACb4+D,EA9BqCxB,CAAUR,EAAQx8D,EAAGJ,MAIrE,SAASs9D,EAAQV,GAGb,IAFA,IAAImC,EAAKnC,EAAOH,WACZz0D,EAAO,EACFrI,EAAI,EAAGwuC,EAAK4wB,EAAG78D,OAAQvC,EAAIwuC,EAAIxuC,IACpCqI,GAAQ+2D,EAAGp/D,GACf,OAAO,SAAUg9D,GAAQ,OAAO,IAAKA,GAAQC,EAAOG,aAAa/0D,IAErE,SAASm1D,EAAWP,EAAQoC,GAIxB,IAHA,IAAIC,EAAMrC,EAAOE,iBAAkBS,EAAKX,EAAOC,oBAC3C58D,EAAIg/D,EAAI/8D,OAAS,EACjB9B,EAAI6+D,EAAIh/D,GAAK++D,EAAMzB,EAAGt9D,IACjBN,EAAIM,EAAI,EAAGN,GAAK,EAAGA,IACxBS,GAAKA,EAAI4+D,EAAMzB,EAAG59D,KAAOs/D,EAAIt/D,GAEjC,OAAOS,EAuBX,SAASyxB,EAAQqtC,EAAIC,GAEjB,IADA,IAAIpnB,EAAM,GACDp4C,EAAI,EAAGA,EAAIu/D,EAAGh9D,OAAQvC,IAC3Bo4C,EAAIp4C,GAAKu/D,EAAGC,EAAQx/D,IACxB,OAAOo4C,EA3RXwkB,EAAOt7D,OADP,SAAgBm+D,EAAOjiD,GAAQ,MAAO,CAAEiiD,MAAOA,EAAOjiD,KAAMA,IAO5Do/C,EAAOC,MAAQA,EAEfD,EAAO8C,MADP,SAAezsD,GAAU,OAAOA,GAGhC2pD,EAAO+C,OADP,SAAgBr/D,EAAG08D,GAAQ,OAAOH,EAAM,CAACv8D,GAAI,CAAC,GAAI08D,IAGlDJ,EAAOgD,kBADP,SAA2B/R,EAAMgS,EAAM7C,GAAQ,OAAOH,EAAM,CAAChP,EAAMgS,GAAO,CAAC,EAAG,GAAI7C,IAGlFJ,EAAOkD,eADP,SAAwBjS,EAAMgS,EAAM7C,GAAQ,OAAOH,EAAM,CAAChP,EAAMgS,GAAO,CAAC,EAAG,GAAI7C,IAY/EJ,EAAOmD,OAVP,SAAgB1nB,EAAKonB,EAAOjiD,GACxB,GAAmB,IAAfiiD,EAAM/B,KACN,MAAM,IAAIrmD,MAAM,uBAEpB,IADA,IAAIqiD,EAAKpwD,KAAK4Q,IAAI,EAAGulD,EAAM3C,WAAW,IAAKnD,EAAKrwD,KAAK4Q,IAAI,EAAGulD,EAAM3C,WAAW,IACpE98D,EAAI,EAAGA,EAAI05D,EAAI15D,IACpB,IAAK,IAAI80C,EAAI,EAAGA,EAAI6kB,EAAI7kB,IACpB,EAAKiZ,SAAS1V,EAAKr4C,EAAG80C,EAAG2qB,EAAM5+D,IAAI2c,EAAMxd,EAAG80C,IAEpD,OAAOuD,GAaXukB,EAAOoD,OAVP,SAAgB3nB,EAAKonB,EAAOjiD,GACxB,GAAmB,IAAfiiD,EAAM/B,KACN,MAAM,IAAIrmD,MAAM,uBAEpB,IADA,IAAIqiD,EAAKpwD,KAAK4Q,IAAI,EAAGulD,EAAM3C,WAAW,IAAKnD,EAAKrwD,KAAK4Q,IAAI,EAAGulD,EAAM3C,WAAW,IACpE98D,EAAI,EAAGA,EAAI05D,EAAI15D,IACpB,IAAK,IAAI80C,EAAI,EAAGA,EAAI6kB,EAAI7kB,IACpB,EAAKiZ,SAAS1V,EAAKr4C,EAAG80C,EAAG2qB,EAAM5+D,IAAI2c,EAAMxd,EAAG80C,IAEpD,OAAOuD,GAWXukB,EAAOqD,OARP,SAAgB5nB,EAAKonB,EAAOjiD,GACxB,GAAmB,IAAfiiD,EAAM/B,KACN,MAAM,IAAIrmD,MAAM,uBAEpB,IADA,IAAIqiD,EAAKpwD,KAAK4Q,IAAI,EAAGulD,EAAM3C,WAAW,IAC7B98D,EAAI,EAAGA,EAAI05D,EAAI15D,IACpBq4C,EAAIr4C,GAAKwd,EAAKxd,GAClB,OAAOq4C,GAWXukB,EAAOsD,OARP,SAAgB7nB,EAAKonB,EAAOjiD,GACxB,GAAmB,IAAfiiD,EAAM/B,KACN,MAAM,IAAIrmD,MAAM,uBAEpB,IADA,IAAIqiD,EAAKpwD,KAAK4Q,IAAI,EAAGulD,EAAM3C,WAAW,IAC7B98D,EAAI,EAAGA,EAAI05D,EAAI15D,IACpBq4C,EAAIr4C,GAAKwd,EAAKxd,GAClB,OAAOq4C,GAYXukB,EAAOuD,cATP,SAAuB5oB,EAAG3zC,GACtB,IAAIkpC,EAAMyK,EAAEh1C,OACZ,GAAIuqC,IAAQlpC,EAAErB,OACV,OAAO,EACX,IAAK,IAAIvC,EAAI,EAAGA,EAAI8sC,EAAK9sC,IACrB,GAAIu3C,EAAEv3C,KAAO4D,EAAE5D,GACX,OAAO,EACf,OAAO,GAwNX48D,EAAOwD,gBAPP,SAAyB95D,GAErB,IADA,IAAI8xC,EAAM,GACDp4C,EAAI,EAAGA,EAAIsG,EAAE/D,OAAQvC,IAC1Bo4C,EAAIp4C,GAAKsG,EAAEA,EAAE/D,OAASvC,EAAI,GAE9B,OAAOo4C,GAeXwkB,EAAOyD,wCANP,SAAiDl2C,GAE7C,IADA,IAAIq1C,EAAU,IAAIc,WAAWn2C,EAAM5nB,QAC1BvC,EAAI,EAAGA,EAAImqB,EAAM5nB,OAAQvC,IAC9Bw/D,EAAQr1C,EAAMnqB,IAAMA,EACxB,OAAO,SAAUu/D,GAAM,OAAOrtC,EAAQqtC,EAAIC,KAS9C5C,EAAO2D,wCANP,SAAiDp2C,GAE7C,IADA,IAAIq1C,EAAU,IAAIc,WAAWn2C,EAAM5nB,QAC1BvC,EAAI,EAAGA,EAAImqB,EAAM5nB,OAAQvC,IAC9Bw/D,EAAQr1C,EAAMA,EAAM5nB,OAASvC,EAAI,IAAMA,EAC3C,OAAO,SAAUu/D,GAAM,OAAOrtC,EAAQqtC,EAAIC,KApTlD,CAuTG,IAAW,EAAS,K,IO3TnB,EACOgB,E,OCCJ,SAASrsB,EAAKssB,EAAGC,EAAIC,EAAIz/D,GAC5BA,EAAIu/D,EAAEC,GACND,EAAEC,GAAMD,EAAEE,GACVF,EAAEE,GAAMz/D,EAEL,SAAS0/D,EAAMrpB,EAAG3zC,GAGrB,OAFA2zC,EAAIjuC,KAAKu0C,IAAItG,KACb3zC,EAAI0F,KAAKu0C,IAAIj6C,KAETA,GAAK2zC,EACEA,EAAIjuC,KAAKw8C,KAAK,EAAMliD,EAAIA,IAE/BA,EAAI,GACJ2zC,GAAK3zC,EACEA,EAAI0F,KAAKw8C,KAAK,EAAMvO,EAAIA,IAE5B,GDjBAipB,EAmGR,IAAW,EAAS,KA7FZl/D,OALP,SAAgBu+D,EAAMhS,EAAMmP,QACX,IAATA,IAAmBA,EAAO6D,cAC9B,IAAIx4D,EAAOw3D,EAAOhS,EAClB,MAAO,CAAErwC,KAAM,IAAIw/C,EAAK30D,GAAOA,KAAMA,EAAMw3D,KAAMA,EAAMhS,KAAMA,IAOjE2S,EAAO3/D,IAHP,SAAaT,EAAGJ,EAAG80C,GACf,OAAO10C,EAAEod,KAAKpd,EAAEytD,KAAO/Y,EAAI90C,IAQ/BwgE,EAAOnqD,IAJP,SAAajW,EAAGJ,EAAG80C,EAAG7zC,GAElB,OADAb,EAAEod,KAAKpd,EAAEytD,KAAO/Y,EAAI90C,GAAKiB,EAClBb,GAQXogE,EAAOljD,IAJP,SAAald,EAAGJ,EAAG80C,EAAG7zC,GAElB,OADAb,EAAEod,KAAKpd,EAAEytD,KAAO/Y,EAAI90C,IAAMiB,EACnBb,GAQXogE,EAAOM,SAJP,SAAkB1gE,GAEd,OADAA,EAAEod,KAAKojB,KAAK,GACLxgC,GAMXogE,EAAO/pC,MAHP,SAAer2B,GACX,MAAO,CAAEod,KAAMpd,EAAEod,KAAK1a,QAASuF,KAAMjI,EAAEiI,KAAMw3D,KAAMz/D,EAAEy/D,KAAMhS,KAAMztD,EAAEytD,OAMvE2S,EAAO7Z,UAHP,SAAmBnpC,EAAMqiD,EAAMhS,GAC3B,MAAO,CAAErwC,KAAMA,EAAMnV,KAAMw3D,EAAOhS,EAAMgS,KAAMA,EAAMhS,KAAMA,IAmB9D2S,EAAOrP,UAhBP,SAAmB9Y,EAAKgT,GACpB,GAAIhT,EAAIwnB,OAASxU,EAAIwC,MAAQxV,EAAIwV,OAASxC,EAAIwU,KAC1C,MAAM,IAAIxoD,MAAM,6CAEpB,GAAIghC,EAAI76B,OAAS6tC,EAAI7tC,KACjB,MAAM,IAAInG,MAAM,oCAIpB,IAFA,IAAI0pD,EAAQ1V,EAAIwC,KAAMmT,EAAQ3V,EAAIwU,KAC9BoB,EAAK5V,EAAI7tC,KAAM0jD,EAAM7oB,EAAI76B,KACpBxd,EAAI,EAAGmhE,EAAK,EAAGC,EAAM,EAAGphE,EAAI+gE,EAAOK,GAAO,EAAGD,GAAMH,IAAShhE,EAEjE,IADA,IAAIqhE,EAAKD,EACAtsB,EAAI,EAAGA,EAAIksB,EAAOK,GAAMN,EAAOjsB,IACpCosB,EAAIG,GAAMJ,EAAGE,EAAKrsB,GAE1B,OAAOuD,GAmBXmoB,EAAOc,YAfP,SAAqBjpB,EAAKkpB,EAAMC,GAG5B,IAFA,IAAIR,EAAQO,EAAK1B,KAAMkB,EAAQQ,EAAK1T,KAAM4T,EAAQD,EAAK3T,KACnDwH,EAAKkM,EAAK/jD,KAAM+3C,EAAKiM,EAAKhkD,KAAMkkD,EAAKrpB,EAAI76B,KACpCxd,EAAI,EAAG2hE,EAAQ,EAAGC,EAAO,EAAG5hE,EAAI+gE,EAAOY,GAASX,EAAOhhE,IAC5D,IAAK,IAAI6hE,EAAK,EAAG/sB,EAAI,EAAGA,EAAI2sB,EAAOG,IAAQ9sB,IAAK,CAG5C,IAFA,IAAIzM,EAAM,EACNy5B,EAAQH,EACHtc,EAAI,EAAGA,EAAI2b,EAAOc,IAASD,IAAMxc,IACtChd,GAAOgtB,EAAGyM,GAASvM,EAAGsM,GAE1BH,EAAGE,GAAQv5B,EAGnB,OAAOgQ,GAkBXmoB,EAAOuB,SAdP,SAAkB1W,GAId,IAHA,IAAI0V,EAAQ1V,EAAIwC,KAAMmT,EAAQ3V,EAAIwU,KAC9BoB,EAAK5V,EAAI7tC,KACTkpB,EAAO,IAAI3iC,MAAMi9D,GACZlsB,EAAI,EAAGA,EAAIksB,IAASlsB,EACzBpO,EAAKoO,GAAK,EACd,IAAK,IAAI90C,EAAI,EAAG8B,EAAI,EAAG9B,EAAI+gE,IAAS/gE,EAChC,IAAS80C,EAAI,EAAGA,EAAIksB,IAASlsB,IAAKhzC,EAC9B4kC,EAAKoO,IAAMmsB,EAAGn/D,GAEtB,IAASgzC,EAAI,EAAGA,EAAIksB,IAASlsB,EACzBpO,EAAKoO,IAAMisB,EACf,OAAOr6B,GAaX85B,EAAOwB,QATP,SAAiB3W,EAAK4W,GAGlB,IAFA,IAAIlB,EAAQ1V,EAAIwC,KAAMmT,EAAQ3V,EAAIwU,KAC9BoB,EAAK5V,EAAI7tC,KACJxd,EAAI,EAAG8B,EAAI,EAAG9B,EAAI+gE,IAAS/gE,EAChC,IAAK,IAAI80C,EAAI,EAAGA,EAAIksB,IAASlsB,IAAKhzC,EAC9Bm/D,EAAGn/D,IAAMmgE,EAAIntB,GAErB,OAAOuW,GC7Ef,ICdI,EDqNG,SAAS6W,EAAIzB,EAAG0B,EAAGC,EAAGC,GACzB,IAAIjmC,EAAK,EACLp8B,EAAI,EACJsiE,EAAK7B,EAAE5S,KACP0U,EAAK9B,EAAEZ,KACPz/D,EAAIkiE,EACJ7gE,EAAI8gE,EACJniE,EAAIqB,IACJ26B,EAAK,EACLp8B,EAAII,EACJA,EAAIqB,EACJA,EAAIzB,GAER,IAAIwiE,EAAM,EAAOlhE,OAAOlB,EAAGA,GACvBqiE,EAAM,EAAOnhE,OAAO,EAAGG,GACvBihE,EAAM,EAAOphE,OAAOG,EAAGA,GAC3B,GAAW,IAAP26B,EACA,EAAO+0B,UAAUqR,EAAK/B,OAErB,CACD,IAAKzgE,EAAI,EAAGA,EAAIuiE,EAAKD,EAAItiE,IACrBwiE,EAAIhlD,KAAKxd,GAAKygE,EAAEjjD,KAAKxd,GAEzB,KAAOA,EAAIyB,EAAIrB,EAAGJ,IACdwiE,EAAIhlD,KAAKxd,GAAK,EAItB,GAjOG,SAAuB2iE,EAAIC,EAAOC,EAAIC,EAAIC,EAAO3iE,EAAGqB,EAAGuhE,GA8B1D,IA7BA,IAEIhjE,EAAI,EACJ80C,EAAI,EACJuQ,EAAI,EACJ4d,EAAO,EACPC,EAAU55D,KAAK0Q,IAAI5Z,EAAG,IACtB+iE,EAAK,EACLC,EAAK,EACLC,EAAK,EACLC,EAAK,EACLC,EAAU,EACVljE,EAAI,EACJqC,EAAI,EACJxB,EAAI,EACJsiE,EAAK,EACLC,EAAK,EACLC,EAAK,EACLC,EAAO,EACPC,EAAQ,EACRC,EAAQ,EACRtsB,EAAI,EACJz1C,EAAI,EACJ8B,EAAI,EACJkgE,EAAO,KACP9yB,EAAM,EACN+yB,EAAO,EACPC,EAAO,EACP7B,EAAI,IAAI9E,aAAa57D,GAAK,GACvBzB,EAAIyB,EAAGzB,IAAK,CACf,IAAKqlD,EAAI,EAAGqe,EAAK,EAAGre,EAAIjlD,EAAGilD,IAEvBqe,IADAxiE,EAAIyhE,EAAG3iE,EAAI4iE,EAAQvd,IACTnkD,EAGd,GADAihE,EAAEniE,GAAK0jE,EACHZ,EAAI,CACJ,IAAKzd,EAAI,EAAGA,EAAI5jD,EAAG4jD,IACfyd,EAAG9iE,EAAI+iE,EAAQ1d,GAAK,EAExByd,EAAG9iE,EAAI+iE,EAAQ/iE,GAAK,GAG5B,KAAOijE,EAAOC,EAASD,IAAQ,CAE3B,IADAM,EAAU,EACLvjE,EAAI,EAAGA,EAAIyB,EAAI,EAAGzB,IACnB,IAAK80C,EAAI90C,EAAI,EAAG80C,EAAIrzC,EAAGqzC,IAAK,CASxB,IARAquB,EAAMnjE,EAAI4iE,EAAS,EACnBQ,EAAMtuB,EAAI8tB,EAAS,EACnBrrB,EAAI4qB,EAAEniE,GACN8B,EAAI,EACJ8B,EAAIu+D,EAAErtB,GACNuQ,EAAI,EACJvjD,GAAK6gE,EAAGQ,GAAMR,EAAGS,GACjBthE,GAAK6gE,EAAGQ,EAAK,GAAKR,EAAGS,EAAK,GACnB/d,EAAIjlD,EAAGilD,IACVvjD,GAAK6gE,EAAGQ,EAAK9d,GAAKsd,EAAGS,EAAK/d,GAE9B,KAAI/7C,KAAKu0C,IAAI/7C,IAzDf,eAyD2BwH,KAAKw8C,KAAKvO,EAAI3zC,IAAvC,CA6BA,IAzBAggE,EAAQhD,EAFR9+D,GAAK,EACL6hE,EAAOpsB,EAAI3zC,GAEP+/D,EAAO,GACPE,EAAyB,IAAhBD,EAAQD,GAEjBtjE,EAAKyB,GAAK8hE,GADVlhE,EAAI4G,KAAKw8C,KAAK+d,EAAQD,IACA,IAItBlhE,EAAKZ,GAAK8hE,GADVvjE,EAAIiJ,KAAKw8C,MAAM8d,EAAQD,IAAiB,EAARC,KACV,GAE1BrsB,EAAI,EACJ3zC,EAAI,EACJyhD,EAAI,EACJme,EAAKnjE,EAAIsiE,EAAGQ,GAAMzgE,EAAIigE,EAAGS,GACzBK,GAAM/gE,EAAIigE,EAAGQ,GAAM9iE,EAAIsiE,EAAGS,GAC1BT,EAAGQ,GAAMK,EACTb,EAAGS,GAAMK,EACTlsB,GAAKisB,EAAKA,EACV5/D,GAAK6/D,EAAKA,EACVD,EAAKnjE,EAAIsiE,EAAGQ,EAAK,GAAKzgE,EAAIigE,EAAGS,EAAK,GAClCK,GAAM/gE,EAAIigE,EAAGQ,EAAK,GAAK9iE,EAAIsiE,EAAGS,EAAK,GACnCT,EAAGQ,EAAK,GAAKK,EACbb,EAAGS,EAAK,GAAKK,EACblsB,GAAKisB,EAAKA,EACV5/D,GAAK6/D,EAAKA,EACHpe,EAAIjlD,EAAGilD,IACVme,EAAKnjE,EAAIsiE,EAAGQ,EAAK9d,GAAK3iD,EAAIigE,EAAGS,EAAK/d,GAClCoe,GAAM/gE,EAAIigE,EAAGQ,EAAK9d,GAAKhlD,EAAIsiE,EAAGS,EAAK/d,GACnCsd,EAAGQ,EAAK9d,GAAKme,EACbb,EAAGS,EAAK/d,GAAKoe,EACblsB,GAAKisB,EAAKA,EACV5/D,GAAK6/D,EAAKA,EAKd,GAHAtB,EAAEniE,GAAKu3C,EACP4qB,EAAErtB,GAAKlxC,EACP2/D,EAAU,EACNT,EAYA,IAVAQ,EAAMxuB,EAAIiuB,EAAS,EACnB1d,EAAI,EACJme,EAAKnjE,EAAIyiE,EAHTO,EAAMrjE,EAAI+iE,EAAS,GAGDrgE,EAAIogE,EAAGQ,GACzBG,GAAM/gE,EAAIogE,EAAGO,GAAMhjE,EAAIyiE,EAAGQ,GAC1BR,EAAGO,GAAMG,EACTV,EAAGQ,GAAMG,EACTD,EAAKnjE,EAAIyiE,EAAGO,EAAK,GAAK3gE,EAAIogE,EAAGQ,EAAK,GAClCG,GAAM/gE,EAAIogE,EAAGO,EAAK,GAAKhjE,EAAIyiE,EAAGQ,EAAK,GACnCR,EAAGO,EAAK,GAAKG,EACbV,EAAGQ,EAAK,GAAKG,EACNpe,EAAI5jD,EAAG4jD,IACVme,EAAKnjE,EAAIyiE,EAAGO,EAAKhe,GAAK3iD,EAAIogE,EAAGQ,EAAKje,GAClCoe,GAAM/gE,EAAIogE,EAAGO,EAAKhe,GAAKhlD,EAAIyiE,EAAGQ,EAAKje,GACnCyd,EAAGO,EAAKhe,GAAKme,EACbV,EAAGQ,EAAKje,GAAKoe,GAK7B,GAAgB,IAAZF,EACA,MAER,IAAKvjE,EAAI,EAAGA,EAAIyB,EAAGzB,IAAK,CACpB,IAAKqlD,EAAI,EAAGqe,EAAK,EAAGre,EAAIjlD,EAAGilD,IAEvBqe,IADAxiE,EAAIyhE,EAAG3iE,EAAI4iE,EAAQvd,IACTnkD,EAEdihE,EAAEniE,GAAKsJ,KAAKw8C,KAAK4d,GAErB,IAAK1jE,EAAI,EAAGA,EAAIyB,EAAI,EAAGzB,IAAK,CAExB,IADA80C,EAAI90C,EACCqlD,EAAIrlD,EAAI,EAAGqlD,EAAI5jD,EAAG4jD,IACf8c,EAAErtB,GAAKqtB,EAAE9c,KACTvQ,EAAIuQ,GAGZ,GAAIrlD,IAAM80C,IACNX,EAAKguB,EAAGniE,EAAG80C,EAAG4uB,GACVZ,GAAI,CACJ,IAAKzd,EAAI,EAAGA,EAAIjlD,EAAGilD,IACflR,EAAKwuB,EAAI3iE,EAAI4iE,EAAQvd,EAAGvQ,EAAI8tB,EAAQvd,EAAGnkD,GAE3C,IAAKmkD,EAAI,EAAGA,EAAI5jD,EAAG4jD,IACflR,EAAK2uB,EAAI9iE,EAAI+iE,EAAQ1d,EAAGvQ,EAAIiuB,EAAQ1d,EAAGnkD,IAKvD,IAAKlB,EAAI,EAAGA,EAAIyB,EAAGzB,IACf6iE,EAAG7iE,GAAKmiE,EAAEniE,GAEd,GAAK8iE,EAGL,IAAK9iE,EAAI,EAAGA,EAAIgjE,EAAIhjE,IAAK,CAErB,IADA0jE,EAAK1jE,EAAIyB,EAAI0gE,EAAEniE,GAAK,EACb0jE,GA7JD,OA6Je,CAKjB,IADAK,EAAQ,EAAM3jE,EACTilD,EAAI,EAAGA,EAAIjlD,EAAGilD,IAEfrU,EAA0C,IAAnB,KADvB8yB,EAAe,OAAPA,EAAgB,UACP,IAA6BC,GAAQA,EACtDpB,EAAG3iE,EAAI4iE,EAAQvd,GAAKrU,EAExB,IAAKiyB,EAAO,EAAGA,EAAO,EAAGA,IACrB,IAAKnuB,EAAI,EAAGA,EAAI90C,EAAG80C,IAAK,CAEpB,IADA4uB,EAAK,EACAre,EAAI,EAAGA,EAAIjlD,EAAGilD,IACfqe,GAAMf,EAAG3iE,EAAI4iE,EAAQvd,GAAKsd,EAAG7tB,EAAI8tB,EAAQvd,GAG7C,IADA2e,EAAO,EACF3e,EAAI,EAAGA,EAAIjlD,EAAGilD,IACfnkD,EAAKyhE,EAAG3iE,EAAI4iE,EAAQvd,GAAKqe,EAAKf,EAAG7tB,EAAI8tB,EAAQvd,GAC7Csd,EAAG3iE,EAAI4iE,EAAQvd,GAAKnkD,EACpB8iE,GAAQ16D,KAAKu0C,IAAI38C,GAGrB,IADA8iE,EAAOA,EAAO,EAAMA,EAAO,EACtB3e,EAAI,EAAGA,EAAIjlD,EAAGilD,IACfsd,EAAG3iE,EAAI4iE,EAAQvd,IAAM2e,EAKjC,IADAN,EAAK,EACAre,EAAI,EAAGA,EAAIjlD,EAAGilD,IAEfqe,IADAxiE,EAAIyhE,EAAG3iE,EAAI4iE,EAAQvd,IACTnkD,EAEdwiE,EAAKp6D,KAAKw8C,KAAK4d,GAGnB,IADAhhE,EAAK,EAAMghE,EACNre,EAAI,EAAGA,EAAIjlD,EAAGilD,IACfsd,EAAG3iE,EAAI4iE,EAAQvd,IAAM3iD,GA+B7BuhE,CAAczB,EAAIhlD,KAAMpd,EAAGqiE,EAAIjlD,KAAMklD,EAAIllD,KAAM/b,EAAGrB,EAAGqB,EAAGrB,GACpD+hE,EAAG,CACH,IAAKniE,EAAI,EAAGA,EAAIyB,EAAGzB,IACfmiE,EAAE3kD,KAAKxd,GAAKyiE,EAAIjlD,KAAKxd,GAEzB,KAAOA,EAAIuiE,EAAIviE,IACXmiE,EAAE3kD,KAAKxd,GAAK,EAGT,IAAPo8B,GACIgmC,GACA,EAAOjR,UAAUiR,EAAGI,GACpBH,GACA,EAAOlR,UAAUkR,EAAGK,KAGpBN,GACA,EAAOjR,UAAUiR,EAAGM,GACpBL,GACA,EAAOlR,UAAUkR,EAAGG,ICpIhC,SAAS0B,EAAYlkE,GAAK,OAAO,EAMjC,SAASmkE,EAAa5E,GAClB,OAAO,SAAsBv/D,GACzB,OAAOu/D,EAAGv/D,IAGlB,SAASokE,EAAKhkE,GACV,OAAgB,IAATA,EAAE,IAAqB,IAATA,EAAE,IAAsB,IAAVA,EAAE,KAAuB,IAAVA,EAAE,IAExD,SAASikE,EAASn8D,EAAIo8D,GAClB,IAAIlkE,EAAI8H,EAAGq8D,OACPhF,EAAK+E,EAAGz6D,EAAG26D,EAAKF,EAAGz+D,EAAG4+D,EAAKH,EAAG7e,EAC9BqN,EAAK1yD,EAAE,GAAI6yD,EAAK7yD,EAAE,GAAI+yD,EAAK/yD,EAAE,GAAIskE,EAAKtkE,EAAE,IAC5C,OAAIgkE,EAAKhkE,GAEE,SAAqBJ,GACxB,OAAO8yD,EAAKyM,EAAGv/D,GAAKizD,EAAKuR,EAAGxkE,GAAKmzD,EAAKsR,EAAGzkE,GAAK0kE,GAG/C,SAAkB1kE,GACrB,IAAI6J,EAAI01D,EAAGv/D,GAAI6F,EAAI2+D,EAAGxkE,GAAIylD,EAAIgf,EAAGzkE,GAAI8oD,EAAK1oD,EAAE,GAAKyJ,EAAIzJ,EAAE,GAAKyF,EAAIzF,EAAE,IAAMqlD,EAAIrlD,EAAE,KAAQ,EACtF,OAAQ0yD,EAAKjpD,EAAIopD,EAAKptD,EAAIstD,EAAK1N,EAAIif,GAAM5b,GAGjD,SAAS6b,EAASz8D,EAAIo8D,GAClB,IAAIlkE,EAAI8H,EAAGq8D,OACPhF,EAAK+E,EAAGz6D,EAAG26D,EAAKF,EAAGz+D,EAAG4+D,EAAKH,EAAG7e,EAC9BqN,EAAK1yD,EAAE,GAAI6yD,EAAK7yD,EAAE,GAAI+yD,EAAK/yD,EAAE,GAAIwkE,EAAKxkE,EAAE,IAC5C,OAAIgkE,EAAKhkE,GAEE,SAAqBJ,GACxB,OAAO8yD,EAAKyM,EAAGv/D,GAAKizD,EAAKuR,EAAGxkE,GAAKmzD,EAAKsR,EAAGzkE,GAAK4kE,GAG/C,SAAkB5kE,GACrB,IAAI6J,EAAI01D,EAAGv/D,GAAI6F,EAAI2+D,EAAGxkE,GAAIylD,EAAIgf,EAAGzkE,GAAI8oD,EAAK1oD,EAAE,GAAKyJ,EAAIzJ,EAAE,GAAKyF,EAAIzF,EAAE,IAAMqlD,EAAIrlD,EAAE,KAAQ,EACtF,OAAQ0yD,EAAKjpD,EAAIopD,EAAKptD,EAAIstD,EAAK1N,EAAImf,GAAM9b,GAGjD,SAAS+b,EAAS38D,EAAIo8D,GAClB,IAAIlkE,EAAI8H,EAAGq8D,OACPhF,EAAK+E,EAAGz6D,EAAG26D,EAAKF,EAAGz+D,EAAG4+D,EAAKH,EAAG7e,EAC9BqN,EAAK1yD,EAAE,GAAI6yD,EAAK7yD,EAAE,GAAI+yD,EAAK/yD,EAAE,IAAK0kE,EAAK1kE,EAAE,IAC7C,OAAIgkE,EAAKhkE,GAEE,SAAqBJ,GACxB,OAAO8yD,EAAKyM,EAAGv/D,GAAKizD,EAAKuR,EAAGxkE,GAAKmzD,EAAKsR,EAAGzkE,GAAK8kE,GAG/C,SAAkB9kE,GACrB,IAAI6J,EAAI01D,EAAGv/D,GAAI6F,EAAI2+D,EAAGxkE,GAAIylD,EAAIgf,EAAGzkE,GAAI8oD,EAAK1oD,EAAE,GAAKyJ,EAAIzJ,EAAE,GAAKyF,EAAIzF,EAAE,IAAMqlD,EAAIrlD,EAAE,KAAQ,EACtF,OAAQ0yD,EAAKjpD,EAAIopD,EAAKptD,EAAIstD,EAAK1N,EAAIqf,GAAMhc,IAtLjD,SAAWic,GAIP,SAASzjE,EAAOf,EAAMgkE,EAAQS,GAC1B,IAAI98D,EAAK88D,GAAQ,GAAIC,EAAW/8D,EAAG+8D,SAAUC,EAAQh9D,EAAGg9D,MAAOC,EAAMj9D,EAAGi9D,IAAKC,EAASl9D,EAAGk9D,OAAQ7jE,EAAM2G,EAAG3G,IACtG8jE,EAAOF,EAAM,EAAK1uC,MAAM0uC,GAAO,IACnCC,EAASA,QAAuCA,GAAU,EAC1D7jE,EAAMA,QAAiCA,GAAO,EAC9C2jE,EAAQA,IAAU,EAClB,IAAIhV,EAAa,EAAKA,WAAWqU,GAC7Be,EAYR,SAAmBN,EAAM9U,GACrB,IAAK8U,EACD,MAAO,GACX,GAAIA,EAAKC,SACL,OAPoBp7D,EAOGm7D,IANXn7D,EAAE06D,QAAY16D,EAAEy9C,SAA6B,iBAAXz9C,EAAEtJ,KAOrCykE,EAAKM,OACTpV,EAAa,GAAK,IAAIppD,OAAOk+D,EAAKC,SAASM,QAT1D,IAA4B17D,EAWxB,QAA2B,IAAhBm7D,EAAKI,aAA8C,IAAbJ,EAAKG,MAAwC,IAAjBH,EAAKI,OAAe,CAC7F,IAAIl9D,EAAK88D,EAAKG,IAAKnlE,EAAIkI,EAAG,GAAI4sC,EAAI5sC,EAAG,GAAIm9C,EAAIn9C,EAAG,GAChD,MAAO,IAAIpB,OAAOk+D,EAAKI,OAAS,EAAG,KAAKt+D,OAAO,EAAI9G,GAAG8G,OAAO,EAAIguC,GAAGhuC,OAAO,EAAIu+C,GAEnF,IAAoB,IAAhB2f,EAAKE,MACL,MAAO,IAAIp+D,OAAOk+D,EAAKE,OAE3B,MAAO,GA3BMM,CAAUR,EAAM9U,GAC7B,OAAIA,EACO,CAAE3vD,KAAMA,EAAM0kE,SAAUA,EAAUV,OAAQA,EAAQjd,QAAS,EAAK1/B,WAAYsoC,YAAY,EAAMiV,IAAKE,EAAMD,OAAQA,EAAQF,MAAOA,EAAOI,OAAQA,EAAQ/jE,IAAKA,IAClK,EAAK2yD,yBAAyBqQ,EAAQQ,EAAiBU,6BACxDrU,QAAQC,KAAK,sBAAsBvqD,OAAOvG,EAAM,2DAE7C,CAAEA,KAAMA,EAAM0kE,SAAUA,EAAUV,OAAQA,EAAQjd,QAAS,EAAK7qB,OAAO,IAAQ8nC,GAASrU,YAAY,EAAOiV,IAAKE,EAAMD,OAAQA,EAAQ7jE,IAAKA,EAAK2jE,MAAOA,EAAOI,OAAQA,IAhBjLP,EAAiBW,YAAc,QAC/BX,EAAiBY,QAAUrkE,EAAOyjE,EAAiBW,YAAa,EAAK99C,YACrEm9C,EAAiBU,2BAA6B,KAgB9CV,EAAiBzjE,OAASA,EA+B1ByjE,EAAiBa,8BAVjB,SAAuCC,EAAK3yD,GAExC,IADA,IAAIqxD,EAAS,EAAK38C,WACT5nB,EAAI,EAAGA,EAAI,EAAGA,IACnB,IAAK,IAAI80C,EAAI,EAAGA,EAAI,EAAGA,IACnB,EAAKiZ,SAASwW,EAAQvkE,EAAG80C,EAAG,EAAKhgB,SAAS+wC,EAAK7lE,EAAG80C,IAI1D,OADA,EAAK+c,eAAe0S,EAAQrxD,GACrB,EAAKghD,yBAAyBqQ,EAAQQ,EAAiBU,6BAalEV,EAAiBe,oBAVjB,SAA6BvlE,EAAMslE,EAAK3yD,EAAQgyD,GAE5C,IADA,IAAIhkE,EAAI,EAAK0mB,WACJ5nB,EAAI,EAAGA,EAAI,EAAGA,IACnB,IAAK,IAAI80C,EAAI,EAAGA,EAAI,EAAGA,IACnB,EAAKiZ,SAAS7sD,EAAGlB,EAAG80C,EAAG,EAAKhgB,SAAS+wC,EAAK7lE,EAAG80C,IAIrD,OADA,EAAK+c,eAAe3wD,EAAGgS,GAChB5R,EAAOf,EAAMW,EAAG,CAAEgkE,MAAOA,KAGpC,IAAIa,EAAM,EAAKn+C,WAAYo+C,EAAM,IAAQC,EAAM,IAAQC,EAAQ,IA6C/D,SAASC,EAAe5zC,EAAU0sC,EAAQtU,GACtC,IAAIyb,EAAoBC,EAAuBtB,EAAiBY,QAAS1G,GACrEr6B,EAAWrS,EAAS29B,WAAakW,EAAoBC,EAAuB9zC,EAAU0sC,GACtF/2D,EAiBZ,SAA2BhH,EAAG+9D,GAC1B,OAAI/9D,EAAEgvD,WACK,CAAErmD,EAAGs6D,EAAalF,EAAOp1D,GAAIhE,EAAGs+D,EAAalF,EAAOp5D,GAAI4/C,EAAG0e,EAAalF,EAAOxZ,IACnF,CAAE57C,EAAGw6D,EAASnjE,EAAG+9D,GAASp5D,EAAG8+D,EAASzjE,EAAG+9D,GAASxZ,EAAGof,EAAS3jE,EAAG+9D,IApB3DqH,CAAkB/zC,EAAU0sC,GACrC,MAAO,CAAE1sC,SAAUA,EAAUg0C,YAAatH,EAAQmH,kBAAmBA,EAAmBxhC,SAAUA,EAAU/6B,EAD1D3B,EAAG2B,EAC6DhE,EADtDqC,EAAGrC,EACyD4/C,EADlDv9C,EAAGu9C,EACqD3kD,EAAG6pD,GAOrI,SAAS0b,EAAuBnlE,EAAG+9D,GAC/B,OAAI/9D,EAAEgvD,YAmENrmD,GADkB3B,EAjEU+2D,GAkErBp1D,EAAGhE,EAAIqC,EAAGrC,EAAG4/C,EAAIv9C,EAAGu9C,EACxB,SAA0BzlD,EAAG0C,GAIhC,OAHAA,EAAE,GAAKmH,EAAE7J,GACT0C,EAAE,GAAKmD,EAAE7F,GACT0C,EAAE,GAAK+iD,EAAEzlD,GACF0C,IAGf,SAAyBwF,EAAIo8D,GACzB,IAAIlkE,EAAI8H,EAAGq8D,OACPhF,EAAK+E,EAAGz6D,EAAG26D,EAAKF,EAAGz+D,EAAG4+D,EAAKH,EAAG7e,EAClC,GAAI2e,EAAKhkE,GAEL,OAAO,SAA4BJ,EAAGc,GAClC,IAAI+I,EAAI01D,EAAGv/D,GAAI6F,EAAI2+D,EAAGxkE,GAAIylD,EAAIgf,EAAGzkE,GAIjC,OAHAc,EAAE,GAAKV,EAAE,GAAKyJ,EAAIzJ,EAAE,GAAKyF,EAAIzF,EAAE,GAAKqlD,EAAIrlD,EAAE,IAC1CU,EAAE,GAAKV,EAAE,GAAKyJ,EAAIzJ,EAAE,GAAKyF,EAAIzF,EAAE,GAAKqlD,EAAIrlD,EAAE,IAC1CU,EAAE,GAAKV,EAAE,GAAKyJ,EAAIzJ,EAAE,GAAKyF,EAAIzF,EAAE,IAAMqlD,EAAIrlD,EAAE,IACpCU,GAGf,OAAO,SAAyBd,EAAGc,GAK/B,OAJAA,EAAE,GAAKy+D,EAAGv/D,GACVc,EAAE,GAAK0jE,EAAGxkE,GACVc,EAAE,GAAK2jE,EAAGzkE,GACV,EAAK6oD,cAAc/nD,EAAGA,EAAGV,GAClBU,GA3FA,CAAgBI,EAAG+9D,GAgElC,IAA0B/2D,EAClB2B,EAAUhE,EAAU4/C,EA3GxBsf,EAAiByB,iBAhBjB,SAA0BnuB,EAAK9xC,EAAIrF,GAC/B,IAAId,EAAImG,EAAG+gD,QACX,GAAI/gD,EAAG2pD,WACH,OAAO,EAAKjiC,KAAKoqB,EAAKj4C,GAC1B,IAAIqmE,EAAK,EAAIvlE,EAEb,EAAK8sD,YAAYgY,EAAK5lE,GACtB,EAAK0nD,MAAMke,EAAKD,EAAKC,EAAKS,GAC1B,IAAIhf,EAAQ,EAAK2T,aAAa8K,EAAOF,GAMrC,OALA,EAAKta,aAAarT,EAAKoP,EAAOye,GAE9B,EAAKnY,SAAS1V,EAAK,EAAG,EAAGouB,EAAK,EAAK3xC,SAAS10B,EAAG,EAAG,IAClD,EAAK2tD,SAAS1V,EAAK,EAAG,EAAGouB,EAAK,EAAK3xC,SAAS10B,EAAG,EAAG,IAClD,EAAK2tD,SAAS1V,EAAK,EAAG,EAAGouB,EAAK,EAAK3xC,SAAS10B,EAAG,EAAG,IAC3Ci4C,GAoBX0sB,EAAiBjd,MAjBjB,SAAezP,EAAKt1C,EAAK2jE,EAAKxlE,GAC1B,GAAIoI,KAAKu0C,IAAI38C,IAAM,KACf,OAAO,EAAK+sB,KAAKoqB,EAAKt1C,GAC1B,GAAIuG,KAAKu0C,IAAI38C,EAAI,IAAM,KACnB,OAAO,EAAK+sB,KAAKoqB,EAAKquB,GAE1B,EAAK1Y,YAAYgY,EAAKjjE,GACtB,EAAKirD,YAAYiY,EAAKS,GACtB,EAAK5e,MAAMme,EAAKD,EAAKC,EAAK/kE,GAC1B,IAAIumD,EAAQ,EAAK2T,aAAa8K,EAAOD,GAMrC,OALA,EAAKva,aAAarT,EAAKoP,EAAOye,GAE9B,EAAKnY,SAAS1V,EAAK,EAAG,EAAG,EAAY,EAAKvjB,SAAS/xB,EAAK,EAAG,GAAI,EAAK+xB,SAAS4xC,EAAK,EAAG,GAAIxlE,IACzF,EAAK6sD,SAAS1V,EAAK,EAAG,EAAG,EAAY,EAAKvjB,SAAS/xB,EAAK,EAAG,GAAI,EAAK+xB,SAAS4xC,EAAK,EAAG,GAAIxlE,IACzF,EAAK6sD,SAAS1V,EAAK,EAAG,EAAG,EAAY,EAAKvjB,SAAS/xB,EAAK,EAAG,GAAI,EAAK+xB,SAAS4xC,EAAK,EAAG,GAAIxlE,IAClFm3C,GAWX0sB,EAAiBtS,QAJjB,SAAiBjoB,EAAOm8B,GACpB,IAAIpC,EAAS,EAAKlrB,IAAI,IAAQstB,EAAOpC,OAAQ/5B,EAAM+5B,QACnD,OAAOjjE,EAAOqlE,EAAOpmE,KAAMgkE,EAAQoC,IAavC5B,EAAiB6B,cAJjB,SAAuBr0C,EAAU0sC,EAAQtU,GAErC,YADe,IAAXA,IAAqBA,EAASuZ,GAC3BiC,EAAe5zC,EAAU0sC,EAAQtU,IAQ5Coa,EAAiBsB,uBAAyBA,EA3H9C,CA4HG,IAAqB,EAAmB,KClIpC,IAAIQ,EAAgB,CACvB,CAAC,EAAK,EAAK,EAAK,GAChB,CAAC,EAAK,EAAK,EAAK,GAChB,CAAC,EAAK,EAAK,EAAK,GAChB,EAAE,EAAK,EAAK,EAAK,GACjB,CAAC,GAAM,EAAK,EAAK,GACjB,CAAC,EAAK,GAAM,EAAK,GACjB,CAAC,EAAK,EAAK,EAAK,IAChB,CAAC,EAAK,EAAK,EAAK,IAChB,EAAE,EAAK,EAAK,EAAK,IACjB,CAAC,EAAK,EAAK,EAAK,IAChB,CAAC,GAAM,EAAK,EAAK,IACjB,CAAC,EAAK,GAAM,EAAK,IACjB,CAAC,EAAK,EAAK,EAAK,KAChB,CAAC,GAAM,EAAK,EAAK,KACjB,CAAC,EAAK,EAAK,EAAK,KAChB,EAAE,EAAK,EAAK,EAAK,KACjB,CAAC,EAAK,EAAK,EAAK,KAChB,CAAC,GAAM,EAAK,EAAK,KACjB,CAAC,EAAK,EAAK,EAAK,KAChB,CAAC,EAAK,EAAK,EAAK,KAChB,CAAC,EAAK,EAAK,EAAK,KAChB,EAAE,EAAK,EAAK,EAAK,KACjB,CAAC,EAAK,GAAM,EAAK,KACjB,CAAC,EAAK,GAAM,EAAK,KACjB,CAAC,GAAM,EAAK,EAAK,GACjB,EAAE,EAAK,EAAK,EAAK,GACjB,CAAC,EAAK,EAAK,EAAK,EAAI,GACpB,CAAC,EAAK,EAAK,EAAK,EAAI,GACpB,CAAC,EAAK,EAAK,EAAK,EAAI,GACpB,CAAC,EAAK,EAAK,EAAK,EAAI,GACpB,CAAC,GAAM,EAAK,EAAK,EAAI,GACrB,CAAC,GAAM,EAAK,EAAK,EAAI,GACrB,EAAE,EAAK,EAAK,EAAK,EAAI,GACrB,EAAE,EAAK,EAAK,EAAK,EAAI,GACrB,CAAC,EAAK,EAAK,EAAK,EAAI,GACpB,CAAC,EAAK,EAAK,EAAK,EAAI,GACpB,CAAC,GAAM,EAAK,EAAK,EAAI,GACrB,CAAC,GAAM,EAAK,EAAK,EAAI,GACrB,EAAE,EAAK,EAAK,EAAK,EAAI,GACrB,EAAE,EAAK,EAAK,EAAK,EAAI,GACrB,CAAC,EAAK,GAAM,EAAK,EAAI,GACrB,CAAC,EAAK,GAAM,EAAK,EAAI,GACrB,CAAC,EAAK,EAAK,EAAK,EAAI,GACpB,CAAC,EAAK,EAAK,EAAK,EAAI,GACpB,CAAC,EAAK,GAAM,EAAK,EAAI,GACrB,CAAC,EAAK,GAAM,EAAK,EAAI,IAEdC,EAAe,CACtB,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,GAAI,GACR,CAAC,EAAG,GAAI,GACR,CAAC,EAAG,GAAI,GACR,CAAC,EAAG,GAAI,GACR,CAAC,EAAG,EAAG,IACP,CAAC,EAAG,EAAG,IACP,CAAC,EAAG,GAAI,GACR,CAAC,EAAG,EAAG,IACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,GAAI,GACR,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,GAAI,GACR,CAAC,EAAG,GAAI,GACR,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,GAAI,GACR,CAAC,EAAG,GAAI,IACR,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,IACP,CAAC,EAAG,EAAG,IACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,GAAI,IACR,CAAC,EAAG,GAAI,GACR,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,IACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,GAAI,IACR,CAAC,EAAG,EAAG,IACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,IACP,CAAC,EAAG,GAAI,GACR,CAAC,EAAG,EAAG,IACP,CAAC,EAAG,EAAG,IACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,GAAI,IACR,CAAC,EAAG,EAAG,IACP,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,IACP,CAAC,EAAG,EAAG,IACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,IACP,CAAC,EAAG,EAAG,IACP,CAAC,GAAI,EAAG,GACR,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,IACP,CAAC,EAAG,EAAG,IACP,CAAC,GAAI,EAAG,IACR,CAAC,EAAG,EAAG,IACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,IACP,CAAC,GAAI,EAAG,IACR,CAAC,EAAG,EAAG,IACP,CAAC,EAAG,EAAG,IACP,CAAC,GAAI,EAAG,GACR,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,GAAI,IACR,CAAC,EAAG,EAAG,IACP,CAAC,EAAG,EAAG,IACP,CAAC,EAAG,EAAG,IACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,IACP,CAAC,EAAG,EAAG,IACP,CAAC,GAAI,EAAG,IACR,CAAC,EAAG,EAAG,IACP,CAAC,EAAG,EAAG,IACP,CAAC,EAAG,GAAI,IACR,CAAC,EAAG,EAAG,IACP,CAAC,EAAG,EAAG,IACP,CAAC,EAAG,EAAG,IACP,CAAC,EAAG,EAAG,IACP,CAAC,GAAI,EAAG,IACR,CAAC,EAAG,EAAG,IACP,CAAC,EAAG,EAAG,IACP,CAAC,EAAG,GAAI,IACR,CAAC,EAAG,EAAG,IACP,CAAC,GAAI,EAAG,IACR,CAAC,EAAG,EAAG,IACP,CAAC,EAAG,GAAI,IACR,CAAC,EAAG,EAAG,IACP,CAAC,EAAG,EAAG,IACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,GAAI,EAAG,GACR,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,GAAI,EAAG,GACR,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,IACP,CAAC,EAAG,EAAG,IACP,CAAC,GAAI,EAAG,IACR,CAAC,EAAG,EAAG,IACP,CAAC,EAAG,EAAG,IACP,CAAC,EAAG,EAAG,IACP,CAAC,GAAI,EAAG,IACR,CAAC,EAAG,EAAG,IACP,CAAC,EAAG,EAAG,GACP,CAAC,GAAI,EAAG,GACR,CAAC,EAAG,EAAG,GACP,CAAC,GAAI,EAAG,GACR,CAAC,EAAG,EAAG,IACP,CAAC,EAAG,GAAI,IACR,CAAC,EAAG,EAAG,IACP,CAAC,EAAG,EAAG,IACP,CAAC,EAAG,GAAI,GACR,CAAC,GAAI,EAAG,GACR,CAAC,EAAG,GAAI,IACR,CAAC,GAAI,EAAG,IACR,CAAC,EAAG,GAAI,IACR,CAAC,GAAI,EAAG,IACR,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,GAAI,GACR,CAAC,GAAI,EAAG,GACR,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,GAAI,EAAG,GACR,CAAC,EAAG,GAAI,GACR,CAAC,GAAI,EAAG,GACR,CAAC,EAAG,GAAI,GACR,CAAC,EAAG,EAAG,IACP,CAAC,GAAI,EAAG,IACR,CAAC,GAAI,EAAG,IACR,CAAC,EAAG,GAAI,IACR,CAAC,EAAG,EAAG,IACP,CAAC,GAAI,EAAG,IACR,CAAC,GAAI,EAAG,IACR,CAAC,EAAG,GAAI,IACR,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,GAAI,EAAG,GACR,CAAC,EAAG,GAAI,GACR,CAAC,GAAI,EAAG,GACR,CAAC,EAAG,GAAI,GACR,CAAC,GAAI,EAAG,GACR,CAAC,EAAG,GAAI,GACR,CAAC,GAAI,EAAG,GACR,CAAC,EAAG,GAAI,GACR,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,GAAI,EAAG,IACR,CAAC,EAAG,GAAI,IACR,CAAC,GAAI,EAAG,IACR,CAAC,EAAG,GAAI,IACR,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,EAAG,GAAI,IACR,CAAC,GAAI,GAAI,GACT,CAAC,EAAG,GAAI,GACR,CAAC,GAAI,EAAG,GACR,CAAC,EAAG,GAAI,IACR,CAAC,GAAI,EAAG,IACR,CAAC,EAAG,GAAI,IACR,CAAC,GAAI,EAAG,IACR,CAAC,EAAG,GAAI,IACR,CAAC,GAAI,EAAG,IACR,CAAC,EAAG,GAAI,IACR,CAAC,GAAI,EAAG,IACR,CAAC,EAAG,GAAI,GACR,CAAC,GAAI,EAAG,GACR,CAAC,EAAG,GAAI,GACR,CAAC,GAAI,EAAG,GACR,CAAC,EAAG,GAAI,IACR,CAAC,GAAI,EAAG,IACR,CAAC,EAAG,EAAG,IACP,CAAC,EAAG,EAAG,IACP,CAAC,EAAG,GAAI,IACR,CAAC,EAAG,EAAG,IACP,CAAC,EAAG,EAAG,IACP,CAAC,EAAG,GAAI,IACR,CAAC,EAAG,GAAI,IACR,CAAC,EAAG,GAAI,IACR,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,IACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,IACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,GAAI,GACR,CAAC,EAAG,GAAI,GACR,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,IACP,CAAC,GAAI,EAAG,GACR,CAAC,GAAI,EAAG,IACR,CAAC,EAAG,EAAG,GACP,CAAC,GAAI,EAAG,GACR,CAAC,EAAG,EAAG,GACP,CAAC,GAAI,EAAG,GACR,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,GAAI,EAAG,GACR,CAAC,GAAI,EAAG,GACR,CAAC,EAAG,EAAG,GACP,CAAC,GAAI,EAAG,GACR,CAAC,EAAG,GAAI,GACR,CAAC,GAAI,GAAI,GACT,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,IACP,CAAC,GAAI,EAAG,GACR,CAAC,GAAI,EAAG,IACR,CAAC,EAAG,EAAG,GACP,CAAC,GAAI,EAAG,GACR,CAAC,EAAG,GAAI,GACR,CAAC,GAAI,GAAI,GACT,CAAC,EAAG,EAAG,IACP,CAAC,EAAG,EAAG,GACP,CAAC,GAAI,EAAG,GACR,CAAC,GAAI,EAAG,GACR,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,GAAI,GACR,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,GAAI,EAAG,IACR,CAAC,GAAI,EAAG,GACR,CAAC,EAAG,EAAG,IACP,CAAC,EAAG,EAAG,GACP,CAAC,GAAI,GAAI,GACT,CAAC,EAAG,GAAI,GACR,CAAC,GAAI,EAAG,GACR,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,IACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,IACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,GAAI,GACR,CAAC,EAAG,GAAI,GACR,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,GAAI,EAAG,IACR,CAAC,GAAI,EAAG,GACR,CAAC,EAAG,EAAG,IACP,CAAC,EAAG,EAAG,GACP,CAAC,GAAI,EAAG,GACR,CAAC,EAAG,EAAG,GACP,CAAC,GAAI,EAAG,GACR,CAAC,EAAG,EAAG,GACP,CAAC,GAAI,EAAG,GACR,CAAC,GAAI,EAAG,GACR,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,GAAI,GAAI,GACT,CAAC,EAAG,GAAI,GACR,CAAC,GAAI,EAAG,GACR,CAAC,EAAG,EAAG,GACP,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,IACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,GAAI,GACR,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,GAAI,GACR,CAAC,GAAI,EAAG,GACR,CAAC,EAAG,EAAG,IACP,CAAC,EAAG,EAAG,IACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,IACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,GAAI,IACR,CAAC,EAAG,GAAI,GACR,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,GAAI,GACR,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,GAAI,GACR,CAAC,EAAG,EAAG,IACP,CAAC,GAAI,EAAG,IACR,CAAC,EAAG,EAAG,GACP,CAAC,GAAI,EAAG,GACR,CAAC,EAAG,EAAG,IACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,IACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,GAAI,EAAG,GACR,CAAC,GAAI,EAAG,GACR,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,GAAI,GACR,CAAC,EAAG,GAAI,GACR,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,GAAI,GACR,CAAC,GAAI,EAAG,GACR,CAAC,GAAI,GAAI,GACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,IACP,CAAC,EAAG,EAAG,IACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,IACP,CAAC,EAAG,GAAI,GACR,CAAC,EAAG,GAAI,IACR,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,GAAI,GACR,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,GAAI,GACR,CAAC,EAAG,EAAG,GACP,CAAC,GAAI,EAAG,GACR,CAAC,EAAG,EAAG,IACP,CAAC,GAAI,EAAG,IACR,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,IACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,IACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,GAAI,EAAG,GACR,CAAC,GAAI,EAAG,GACR,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,GAAI,GACR,CAAC,EAAG,GAAI,GACR,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,GAAI,GACR,CAAC,GAAI,EAAG,GACR,CAAC,GAAI,GAAI,GACT,CAAC,EAAG,EAAG,IACP,CAAC,EAAG,GAAI,GACR,CAAC,EAAG,GAAI,IACR,CAAC,EAAG,GAAI,GACR,CAAC,GAAI,EAAG,GACR,CAAC,GAAI,GAAI,GACT,CAAC,EAAG,EAAG,GACP,CAAC,GAAI,EAAG,GACR,CAAC,EAAG,EAAG,GACP,CAAC,GAAI,EAAG,GACR,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,GAAI,EAAG,GACR,CAAC,GAAI,EAAG,GACR,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,GAAI,GACR,CAAC,EAAG,GAAI,GACR,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,GAAI,GACR,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,GAAI,GACR,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,IACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,IACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,EAAG,EAAG,GACP,CAAC,GAAI,EAAG,GACR,CAAC,EAAG,EAAG,GACP,CAAC,GAAI,EAAG,GACR,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,GAAI,EAAG,GACR,CAAC,GAAI,EAAG,GACR,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,GAAI,GACR,CAAC,EAAG,GAAI,GACR,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,GAAI,GACR,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,GAAI,GACR,CAAC,EAAG,EAAG,IACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,IACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,I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I,IAAK,KAC7D,CAAC,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,GAAI,GAAI,EAAG,GAAI,IAAK,KAC9D,CAAC,EAAG,GAAI,GAAI,GAAI,EAAG,GAAI,IAAK,IAAK,EAAG,GAAI,GAAI,GAAI,EAAG,GAAI,IAAK,KAC5D,CAAC,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,IAAK,IAAK,EAAG,GAAI,GAAI,GAAI,EAAG,GAAI,IAAK,KAC7D,CAAC,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,GAAI,GAAI,EAAG,GAAI,IAAK,KAC9D,CAAC,EAAG,GAAI,GAAI,GAAI,EAAG,GAAI,IAAK,IAAK,GAAI,GAAI,GAAI,GAAI,EAAG,GAAI,IAAK,KAC7D,CAAC,EAAG,GAAI,GAAI,GAAI,EAAG,GAAI,IAAK,IAAK,EAAG,GAAI,GAAI,GAAI,EAAG,GAAI,IAAK,KAC5D,CAAC,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,IAAK,IAAK,EAAG,GAAI,GAAI,GAAI,EAAG,GAAI,IAAK,KAC7D,CAAC,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,GAAI,GAAI,EAAG,GAAI,IAAK,KAC9D,CAAC,EAAG,GAAI,GAAI,GAAI,EAAG,GAAI,IAAK,IAAK,GAAI,GAAI,GAAI,GAAI,EAAG,GAAI,IAAK,KAC7D,CAAC,EAAG,GAAI,GAAI,GAAI,EAAG,GAAI,IAAK,IAAK,EAAG,GAAI,GAAI,GAAI,EAAG,GAAI,IAAK,IAAK,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,GAAI,GAAI,EAAG,GAAI,IAAK,KAC/H,CAAC,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,IAAK,IAAK,EAAG,GAAI,GAAI,GAAI,EAAG,GAAI,IAAK,IAAK,GAAI,GAAI,GAAI,GAAI,EAAG,GAAI,IAAK,IAAK,GAAI,GAAI,GAAI,GAAI,EAAG,GAAI,IAAK,KAC/H,CAAC,EAAG,GAAI,GAAI,GAAI,IAAK,IAAK,IAAK,IAAK,GAAI,GAAI,GAAI,GAAI,EAAG,GAAI,IAAK,I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G,IAAK,IAAK,GAAI,IAAK,IAAK,EAAG,IAAK,IAAK,GAAI,IAAK,KAClD,CAAC,EAAG,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KACrD,CAAC,EAAG,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KACrD,CAAC,EAAG,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KACrD,CAAC,EAAG,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KACrD,CAAC,EAAG,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KACrD,CAAC,EAAG,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KACrD,CAAC,EAAG,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KACrD,CAAC,EAAG,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KACrD,CAAC,EAAG,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KACrD,CAAC,EAAG,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KACrD,CAAC,EAAG,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KACrD,CAAC,EAAG,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KACrD,CAAC,EAAG,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KACrD,CAAC,EAAG,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KACrD,CAAC,EAAG,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,EAAG,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KAC9G,CAAC,EAAG,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,EAAG,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KAC9G,CAAC,EAAG,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,EAAG,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KAC9G,CAAC,EAAG,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,EAAG,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KAC9G,CAAC,EAAG,GAAI,EAAG,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KAClD,CAAC,EAAG,GAAI,EAAG,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,GAAI,GAAI,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,GAAI,GAAI,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,EAAG,GAAI,EAAG,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KACxN,CAAC,EAAG,GAAI,EAAG,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,GAAI,GAAI,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KAC1G,CAAC,EAAG,GAAI,GAAI,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KACnD,CAAC,EAAG,GAAI,GAAI,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,GAAI,GAAI,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KAC3G,CAAC,EAAG,GAAI,EAAG,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,EAAG,GAAI,EAAG,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KACxG,CAAC,EAAG,GAAI,EAAG,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,GAAI,EAAG,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KACzG,CAAC,EAAG,GAAI,EAAG,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,EAAG,GAAI,EAAG,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,GAAI,GAAI,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,GAAI,GAAI,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,GAAI,GAAI,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,GAAI,GAAI,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,EAAG,GAAI,EAAG,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,GAAI,EAAG,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KACrb,CAAC,EAAG,GAAI,EAAG,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,GAAI,GAAI,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,GAAI,GAAI,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,GAAI,GAAI,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,GAAI,GAAI,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,GAAI,GAAI,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,EAAG,GAAI,EAAG,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,GAAI,GAAI,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KACxb,CAAC,EAAG,GAAI,EAAG,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,EAAG,GAAI,EAAG,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,GAAI,GAAI,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,GAAI,EAAG,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KACvN,CAAC,EAAG,GAAI,GAAI,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,EAAG,GAAI,GAAI,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KAC1G,CAAC,EAAG,GAAI,GAAI,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,EAAG,GAAI,GAAI,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,GAAI,GAAI,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,GAAI,GAAI,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KAC1N,CAAC,EAAG,GAAI,EAAG,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KAC5G,CAAC,EAAG,GAAI,EAAG,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KAC5G,CAAC,EAAG,GAAI,EAAG,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,GAAI,GAAI,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,GAAI,GAAI,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,EAAG,GAAI,EAAG,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KACpc,CAAC,EAAG,GAAI,EAAG,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,GAAI,GAAI,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,GAAI,GAAI,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,EAAG,GAAI,EAAG,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KACxc,CAAC,EAAG,GAAI,EAAG,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,GAAI,GAAI,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KAC9N,CAAC,EAAG,GAAI,GAAI,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KAC/G,CAAC,EAAG,GAAI,GAAI,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KAC/G,CAAC,EAAG,GAAI,GAAI,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,GAAI,GAAI,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KACnO,CAAC,EAAG,GAAI,EAAG,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KAC5G,CAAC,EAAG,GAAI,EAAG,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,GAAI,GAAI,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,GAAI,GAAI,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,EAAG,GAAI,EAAG,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KACtc,CAAC,EAAG,GAAI,EAAG,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,GAAI,GAAI,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KAC9N,CAAC,EAAG,GAAI,EAAG,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KAC5G,CAAC,EAAG,GAAI,EAAG,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,GAAI,GAAI,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,GAAI,GAAI,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,EAAG,GAAI,EAAG,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KACpc,CAAC,EAAG,GAAI,GAAI,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,GAAI,GAAI,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KACnO,CAAC,EAAG,GAAI,EAAG,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,EAAG,GAAI,EAAG,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KAC5N,CAAC,EAAG,GAAI,EAAG,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,GAAI,EAAG,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KAC7N,CAAC,EAAG,GAAI,EAAG,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,EAAG,GAAI,EAAG,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KAC5N,CAAC,EAAG,GAAI,EAAG,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,GAAI,EAAG,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KAC7N,CAAC,EAAG,GAAI,EAAG,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,EAAG,GAAI,EAAG,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,GAAI,GAAI,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,GAAI,GAAI,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,GAAI,GAAI,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,GAAI,GAAI,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,EAAG,GAAI,EAAG,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,GAAI,EAAG,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KAC/4B,CAAC,EAAG,GAAI,EAAG,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,EAAG,GAAI,EAAG,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,GAAI,GAAI,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,GAAI,GAAI,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,GAAI,GAAI,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,GAAI,GAAI,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,EAAG,GAAI,EAAG,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,GAAI,EAAG,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KAC74B,CAAC,EAAG,GAAI,EAAG,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,GAAI,GAAI,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,GAAI,GAAI,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,GAAI,GAAI,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,GAAI,GAAI,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,GAAI,GAAI,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,EAAG,GAAI,EAAG,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,GAAI,GAAI,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KACt5B,CAAC,EAAG,GAAI,EAAG,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,GAAI,GAAI,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,GAAI,GAAI,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,EAAG,GAAI,EAAG,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KACp6B,CAAC,EAAG,GAAI,EAAG,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,EAAG,GAAI,EAAG,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,GAAI,GAAI,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,GAAI,EAAG,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KAC/b,CAAC,EAAG,GAAI,GAAI,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,EAAG,GAAI,GAAI,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,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,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO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,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,OACxKf,IAAK,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,OAC3dQ,OAAQ,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,OAC9PmC,IAAK,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,OACna1C,IAAK,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,OAC3dQ,OAAQ,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,OAC9PgB,KAAM,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,OAC5PvB,IAAK,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,OAC3dC,IAAK,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,OAC3dC,IAAK,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,OAC3dC,IAAK,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,OAC3dC,IAAK,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,OAC3dwB,KAAM,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,QACnQG,IAAK,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,OAC3PD,IAAK,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,OAC3PD,IAAK,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,OAC3Pa,IAAK,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,OACnaC,IAAK,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,OACnaC,IAAK,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,OACnakB,IAAK,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,OAC3dC,IAAK,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,OAC3dC,IAAK,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,M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MAAO,CAAC,GAAI,MAAO,CAAC,GAAI,MAAO,CAAC,GAAI,MAAO,CAAC,GAAI,MAAO,CAAC,GAAI,MAAO,CAAC,GAAI,MAAO,CAAC,GAAI,MAAO,CAAC,GAAI,KAAM,CAAC,GAAI,MAAO,CAAC,GAAI,MAAO,CAAC,GAAI,MAAO,CAAC,GAAI,MAAO,CAAC,GAAI,MAAO,CAAC,GAAI,MAAO,CAAC,GAAI,MAAO,CAAC,GAAI,MAAO,CAAC,GAAI,MAAO,CAAC,GAAI,MAAO,CAAC,GAAI,MAAO,CAAC,GAAI,MAAO,CAAC,GAAI,MAAO,CAAC,GAAI,KAAM,CAAC,GAAI,MAAO,CAAC,GAAI,MAAO,CAAC,GAAI,MAAO,CAAC,GAAI,MAAO,CAAC,GAAI,MAAO,CAAC,GAAI,MAAO,CAAC,GAAI,MAAO,CAAC,GAAI,MAAO,CAAC,GAAI,MAAO,CAAC,GAAI,MAAO,CAAC,GAAI,MAAO,CAAC,GAAI,MAAO,CAAC,GAAI,MAAO,CAAC,GAAI,MAAO,CAAC,GAAI,MAAO,CAAC,GAAI,MAAO,CAAC,GAAI,MAAO,CAAC,GAAI,MAAO,CAAC,GAAI,MAAO,CAAC,GAAI,MAAO,CAAC,GAAI,KAAM,CAAC,GAAI,MAAO,CAAC,GAAI,MAAO,CAAC,GAAI,MAAO,CAAC,GAAI,MAAO,CAAC,GAAI,MAAO,CAAC,GAAI,MAAO,CAAC,GAAI,MAAO,CAAC,GAAI,MAAO,CAAC,GAAI,MAAO,CAAC,GAAI,MAAO,CAAC,GAAI,MAAO,CAAC,GAAI,MAAO,CAAC,GAAI,MAAO,CAAC,GAAI,MAAO,CAAC,GAAI,MAAO,CAAC,GAAI,MAAO,CAAC,GAAI,MAAO,CAAC,GAAI,KAAM,CAAC,GAAI,MAAO,CAAC,GAAI,MAAO,CAAC,GAAI,MAAO,CAAC,GAAI,MAAO,CAAC,GAAI,MAAO,CAAC,GAAI,MAAO,CAAC,GAAI,MAAO,CAAC,IAAK,MAAO,CAAC,IAAK,MAAO,CAAC,IAAK,MAAO,CAAC,IAAK,MAAO,CAAC,IAAK,MAAO,CAAC,IAAK,MAAO,CAAC,IAAK,MAAO,CAAC,IAAK,MAAO,CAAC,IAAK,MAAO,CAAC,IAAK,MAAO,CAAC,IAAK,MAAO,CAAC,IAAK,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AI,GAAM,GAAI,GAAM,GAAI,EAAK,GAAI,EAAK,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,EAAK,GAAI,EAAK,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,EAAK,GAAI,EAAK,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,EAAK,GAAI,EAAK,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,EAAK,GAAI,EAAK,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,IAAK,GAAM,IAAK,GAAM,IAAK,GAAM,IAAK,GAAM,IAAK,GAAM,IAAK,GAAM,IAAK,GAAM,IAAK,GAAM,IAAK,GAAM,IAAK,GAAM,IAAK,GAAM,IA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","file":"dash_molstar.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";var getCurrentScript = function() {\n \t    var script = document.currentScript;\n \t    if (!script) {\n \t        /* Shim for IE11 and below */\n \t        /* Do not take into account async scripts and inline scripts */\n\n \t        var doc_scripts = document.getElementsByTagName('script');\n \t        var scripts = [];\n\n \t        for (var i = 0; i < doc_scripts.length; i++) {\n \t            scripts.push(doc_scripts[i]);\n \t        }\n\n \t        scripts = scripts.filter(function(s) { return !s.async && !s.text && !s.textContent; });\n \t        script = scripts.slice(-1)[0];\n \t    }\n\n \t    return script;\n \t};\n\n \tvar isLocalScript = function(script) {\n \t    return /\\/_dash-component-suites\\//.test(script.src);\n \t};\n\n \tObject.defineProperty(__webpack_require__, 'p', {\n \t    get: (function () {\n \t        var script = getCurrentScript();\n\n \t        var url = script.src.split('/').slice(0, -1).join('/') + '/';\n\n \t        return function() {\n \t            return url;\n \t        };\n \t    })()\n \t});\n\n \tif (typeof jsonpScriptSrc !== 'undefined') {\n \t    var __jsonpScriptSrc__ = jsonpScriptSrc;\n \t    jsonpScriptSrc = function(chunkId) {\n \t        var script = getCurrentScript();\n \t        var isLocal = isLocalScript(script);\n\n \t        var src = __jsonpScriptSrc__(chunkId);\n\n \t        if(!isLocal) {\n \t            return src;\n \t        }\n\n \t        var srcFragments = src.split('/');\n \t        var fileFragments = srcFragments.slice(-1)[0].split('.');\n\n \t        fileFragments.splice(1, 0, \"v1_2_14m1703831891\");\n \t        srcFragments.splice(-1, 1, fileFragments.join('.'))\n\n \t        return srcFragments.join('/');\n \t    };\n \t}\n\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 24);\n","/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise, SuppressedError, Symbol */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __esDecorate(ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\r\n    function accept(f) { if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\"); return f; }\r\n    var kind = contextIn.kind, key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\r\n    var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\r\n    var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\r\n    var _, done = false;\r\n    for (var i = decorators.length - 1; i >= 0; i--) {\r\n        var context = {};\r\n        for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\r\n        for (var p in contextIn.access) context.access[p] = contextIn.access[p];\r\n        context.addInitializer = function (f) { if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\"); extraInitializers.push(accept(f || null)); };\r\n        var result = (0, decorators[i])(kind === \"accessor\" ? { get: descriptor.get, set: descriptor.set } : descriptor[key], context);\r\n        if (kind === \"accessor\") {\r\n            if (result === void 0) continue;\r\n            if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\r\n            if (_ = accept(result.get)) descriptor.get = _;\r\n            if (_ = accept(result.set)) descriptor.set = _;\r\n            if (_ = accept(result.init)) initializers.unshift(_);\r\n        }\r\n        else if (_ = accept(result)) {\r\n            if (kind === \"field\") initializers.unshift(_);\r\n            else descriptor[key] = _;\r\n        }\r\n    }\r\n    if (target) Object.defineProperty(target, contextIn.name, descriptor);\r\n    done = true;\r\n};\r\n\r\nexport function __runInitializers(thisArg, initializers, value) {\r\n    var useValue = arguments.length > 2;\r\n    for (var i = 0; i < initializers.length; i++) {\r\n        value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\r\n    }\r\n    return useValue ? value : void 0;\r\n};\r\n\r\nexport function __propKey(x) {\r\n    return typeof x === \"symbol\" ? x : \"\".concat(x);\r\n};\r\n\r\nexport function __setFunctionName(f, name, prefix) {\r\n    if (typeof name === \"symbol\") name = name.description ? \"[\".concat(name.description, \"]\") : \"\";\r\n    return Object.defineProperty(f, \"name\", { configurable: true, value: prefix ? \"\".concat(prefix, \" \", name) : name });\r\n};\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n        desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: false } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n\r\nexport function __classPrivateFieldIn(state, receiver) {\r\n    if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\r\n    return typeof state === \"function\" ? receiver === state : state.has(receiver);\r\n}\r\n\r\nexport function __addDisposableResource(env, value, async) {\r\n    if (value !== null && value !== void 0) {\r\n        if (typeof value !== \"object\" && typeof value !== \"function\") throw new TypeError(\"Object expected.\");\r\n        var dispose;\r\n        if (async) {\r\n            if (!Symbol.asyncDispose) throw new TypeError(\"Symbol.asyncDispose is not defined.\");\r\n            dispose = value[Symbol.asyncDispose];\r\n        }\r\n        if (dispose === void 0) {\r\n            if (!Symbol.dispose) throw new TypeError(\"Symbol.dispose is not defined.\");\r\n            dispose = value[Symbol.dispose];\r\n        }\r\n        if (typeof dispose !== \"function\") throw new TypeError(\"Object not disposable.\");\r\n        env.stack.push({ value: value, dispose: dispose, async: async });\r\n    }\r\n    else if (async) {\r\n        env.stack.push({ async: true });\r\n    }\r\n    return value;\r\n}\r\n\r\nvar _SuppressedError = typeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\r\n    var e = new Error(message);\r\n    return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\r\n};\r\n\r\nexport function __disposeResources(env) {\r\n    function fail(e) {\r\n        env.error = env.hasError ? new _SuppressedError(e, env.error, \"An error was suppressed during disposal.\") : e;\r\n        env.hasError = true;\r\n    }\r\n    function next() {\r\n        while (env.stack.length) {\r\n            var rec = env.stack.pop();\r\n            try {\r\n                var result = rec.dispose && rec.dispose.call(rec.value);\r\n                if (rec.async) return Promise.resolve(result).then(next, function(e) { fail(e); return next(); });\r\n            }\r\n            catch (e) {\r\n                fail(e);\r\n            }\r\n        }\r\n        if (env.hasError) throw env.error;\r\n    }\r\n    return next();\r\n}\r\n\r\nexport default {\r\n    __extends: __extends,\r\n    __assign: __assign,\r\n    __rest: __rest,\r\n    __decorate: __decorate,\r\n    __param: __param,\r\n    __metadata: __metadata,\r\n    __awaiter: __awaiter,\r\n    __generator: __generator,\r\n    __createBinding: __createBinding,\r\n    __exportStar: __exportStar,\r\n    __values: __values,\r\n    __read: __read,\r\n    __spread: __spread,\r\n    __spreadArrays: __spreadArrays,\r\n    __spreadArray: __spreadArray,\r\n    __await: __await,\r\n    __asyncGenerator: __asyncGenerator,\r\n    __asyncDelegator: __asyncDelegator,\r\n    __asyncValues: __asyncValues,\r\n    __makeTemplateObject: __makeTemplateObject,\r\n    __importStar: __importStar,\r\n    __importDefault: __importDefault,\r\n    __classPrivateFieldGet: __classPrivateFieldGet,\r\n    __classPrivateFieldSet: __classPrivateFieldSet,\r\n    __classPrivateFieldIn: __classPrivateFieldIn,\r\n    __addDisposableResource: __addDisposableResource,\r\n    __disposeResources: __disposeResources,\r\n};\r\n","/**\n * Copyright (c) 2017 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n */\nvar now = (function () {\n    if (typeof window !== 'undefined' && window.performance) {\n        var perf_1 = window.performance;\n        return function () { return perf_1.now(); };\n    }\n    else if (typeof process !== 'undefined' && process.hrtime !== 'undefined' && typeof process.hrtime === 'function') {\n        return function () {\n            var t = process.hrtime();\n            return t[0] * 1000 + t[1] / 1000000;\n        };\n    }\n    else if (Date.now) {\n        return function () { return Date.now(); };\n    }\n    else {\n        return function () { return +new Date(); };\n    }\n}());\nfunction formatTimespan(t, includeMsZeroes) {\n    if (includeMsZeroes === void 0) { includeMsZeroes = true; }\n    if (isNaN(t))\n        return 'n/a';\n    var h = Math.floor(t / (60 * 60 * 1000)), m = Math.floor(t / (60 * 1000) % 60), s = Math.floor(t / 1000 % 60);\n    var ms = Math.floor(t % 1000).toString();\n    while (ms.length < 3)\n        ms = '0' + ms;\n    while (!includeMsZeroes && ms.length > 1 && ms[ms.length - 1] === '0')\n        ms = ms.substr(0, ms.length - 1);\n    if (h > 0)\n        return \"\".concat(h, \"h\").concat(m, \"m\").concat(s, \".\").concat(ms, \"s\");\n    if (m > 0)\n        return \"\".concat(m, \"m\").concat(s, \".\").concat(ms, \"s\");\n    if (s > 0)\n        return \"\".concat(s, \".\").concat(ms, \"s\");\n    return \"\".concat(t.toFixed(0), \"ms\");\n}\nexport { now, formatTimespan };\n","/**\n * Copyright (c) 2018-2023 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author Adam Midlik <midlik@gmail.com>\n * @author Russell Parker <russell@benchling.com>\n *\n * Implements some browser-only global variables for Node.js environment.\n * These workarounds will also work in browsers as usual.\n */\n/** Determines whether the current code is running in Node.js */\nexport var RUNNING_IN_NODEJS = typeof process !== 'undefined' && process.versions != null && process.versions.node != null;\n/** Like `XMLHttpRequest` but works also in Node.js */\nexport var XMLHttpRequest_ = getXMLHttpRequest();\n/** Like `File` but works also in Node.js */\nexport var File_ = getFile();\nfunction getXMLHttpRequest() {\n    if (typeof XMLHttpRequest === 'undefined' || RUNNING_IN_NODEJS) {\n        return require('xhr2');\n    }\n    else {\n        return XMLHttpRequest;\n    }\n}\nfunction getFile() {\n    if (typeof File === 'undefined' || RUNNING_IN_NODEJS) {\n        var File_NodeJs = /** @class */ (function () {\n            function File_NodeJs(fileBits, fileName, options) {\n                var _a;\n                this.blob = new Blob(fileBits, options);\n                // Blob fields\n                this.size = this.blob.size;\n                this.type = this.blob.type;\n                // File fields\n                this.name = fileName;\n                this.lastModified = (_a = options === null || options === void 0 ? void 0 : options.lastModified) !== null && _a !== void 0 ? _a : 0;\n                this.webkitRelativePath = '';\n            }\n            File_NodeJs.prototype.arrayBuffer = function () { return this.blob.arrayBuffer(); };\n            File_NodeJs.prototype.slice = function (start, end, contentType) { return this.blob.slice(start, end, contentType); };\n            File_NodeJs.prototype.stream = function () { return this.blob.stream(); };\n            File_NodeJs.prototype.text = function () { return this.blob.text(); };\n            return File_NodeJs;\n        }());\n        return File_NodeJs;\n    }\n    else {\n        return File;\n    }\n}\n","/**\n * Copyright (c) 2017 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n */\nimport { now } from '../mol-util/now';\nvar UUID;\n(function (UUID) {\n    var _btoa = typeof btoa !== 'undefined' ? btoa : function (s) { return Buffer.from(s).toString('base64'); };\n    var chars = [];\n    /** Creates a 22 characters 'base64' encoded UUID */\n    function create22() {\n        var d = (+new Date()) + now();\n        for (var i = 0; i < 16; i++) {\n            chars[i] = String.fromCharCode((d + Math.random() * 0xff) % 0xff | 0);\n            d = Math.floor(d / 0xff);\n        }\n        return _btoa(chars.join('')).replace(/\\+/g, '-').replace(/\\//g, '_').substr(0, 22);\n    }\n    UUID.create22 = create22;\n    function createv4() {\n        var d = (+new Date()) + now();\n        var uuid = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n            var r = (d + Math.random() * 16) % 16 | 0;\n            d = Math.floor(d / 16);\n            return (c === 'x' ? r : (r & 0x3 | 0x8)).toString(16);\n        });\n        return uuid;\n    }\n    UUID.createv4 = createv4;\n    function is(x) {\n        return typeof x === 'string';\n    }\n    UUID.is = is;\n})(UUID || (UUID = {}));\nexport { UUID };\n","(function() { module.exports = window[\"PropTypes\"]; }());","/**\n * @license\n * Lodash <https://lodash.com/>\n * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n;(function() {\n\n  /** Used as a safe reference for `undefined` in pre-ES5 environments. */\n  var undefined;\n\n  /** Used as the semantic version number. */\n  var VERSION = '4.17.21';\n\n  /** Used as the size to enable large array optimizations. */\n  var LARGE_ARRAY_SIZE = 200;\n\n  /** Error message constants. */\n  var CORE_ERROR_TEXT = 'Unsupported core-js use. Try https://npms.io/search?q=ponyfill.',\n      FUNC_ERROR_TEXT = 'Expected a function',\n      INVALID_TEMPL_VAR_ERROR_TEXT = 'Invalid `variable` option passed into `_.template`';\n\n  /** Used to stand-in for `undefined` hash values. */\n  var HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n  /** Used as the maximum memoize cache size. */\n  var MAX_MEMOIZE_SIZE = 500;\n\n  /** Used as the internal argument placeholder. */\n  var PLACEHOLDER = '__lodash_placeholder__';\n\n  /** Used to compose bitmasks for cloning. */\n  var CLONE_DEEP_FLAG = 1,\n      CLONE_FLAT_FLAG = 2,\n      CLONE_SYMBOLS_FLAG = 4;\n\n  /** Used to compose bitmasks for value comparisons. */\n  var COMPARE_PARTIAL_FLAG = 1,\n      COMPARE_UNORDERED_FLAG = 2;\n\n  /** Used to compose bitmasks for function metadata. */\n  var WRAP_BIND_FLAG = 1,\n      WRAP_BIND_KEY_FLAG = 2,\n      WRAP_CURRY_BOUND_FLAG = 4,\n      WRAP_CURRY_FLAG = 8,\n      WRAP_CURRY_RIGHT_FLAG = 16,\n      WRAP_PARTIAL_FLAG = 32,\n      WRAP_PARTIAL_RIGHT_FLAG = 64,\n      WRAP_ARY_FLAG = 128,\n      WRAP_REARG_FLAG = 256,\n      WRAP_FLIP_FLAG = 512;\n\n  /** Used as default options for `_.truncate`. */\n  var DEFAULT_TRUNC_LENGTH = 30,\n      DEFAULT_TRUNC_OMISSION = '...';\n\n  /** Used to detect hot functions by number of calls within a span of milliseconds. */\n  var HOT_COUNT = 800,\n      HOT_SPAN = 16;\n\n  /** Used to indicate the type of lazy iteratees. */\n  var LAZY_FILTER_FLAG = 1,\n      LAZY_MAP_FLAG = 2,\n      LAZY_WHILE_FLAG = 3;\n\n  /** Used as references for various `Number` constants. */\n  var INFINITY = 1 / 0,\n      MAX_SAFE_INTEGER = 9007199254740991,\n      MAX_INTEGER = 1.7976931348623157e+308,\n      NAN = 0 / 0;\n\n  /** Used as references for the maximum length and index of an array. */\n  var MAX_ARRAY_LENGTH = 4294967295,\n      MAX_ARRAY_INDEX = MAX_ARRAY_LENGTH - 1,\n      HALF_MAX_ARRAY_LENGTH = MAX_ARRAY_LENGTH >>> 1;\n\n  /** Used to associate wrap methods with their bit flags. */\n  var wrapFlags = [\n    ['ary', WRAP_ARY_FLAG],\n    ['bind', WRAP_BIND_FLAG],\n    ['bindKey', WRAP_BIND_KEY_FLAG],\n    ['curry', WRAP_CURRY_FLAG],\n    ['curryRight', WRAP_CURRY_RIGHT_FLAG],\n    ['flip', WRAP_FLIP_FLAG],\n    ['partial', WRAP_PARTIAL_FLAG],\n    ['partialRight', WRAP_PARTIAL_RIGHT_FLAG],\n    ['rearg', WRAP_REARG_FLAG]\n  ];\n\n  /** `Object#toString` result references. */\n  var argsTag = '[object Arguments]',\n      arrayTag = '[object Array]',\n      asyncTag = '[object AsyncFunction]',\n      boolTag = '[object Boolean]',\n      dateTag = '[object Date]',\n      domExcTag = '[object DOMException]',\n      errorTag = '[object Error]',\n      funcTag = '[object Function]',\n      genTag = '[object GeneratorFunction]',\n      mapTag = '[object Map]',\n      numberTag = '[object Number]',\n      nullTag = '[object Null]',\n      objectTag = '[object Object]',\n      promiseTag = '[object Promise]',\n      proxyTag = '[object Proxy]',\n      regexpTag = '[object RegExp]',\n      setTag = '[object Set]',\n      stringTag = '[object String]',\n      symbolTag = '[object Symbol]',\n      undefinedTag = '[object Undefined]',\n      weakMapTag = '[object WeakMap]',\n      weakSetTag = '[object WeakSet]';\n\n  var arrayBufferTag = '[object ArrayBuffer]',\n      dataViewTag = '[object DataView]',\n      float32Tag = '[object Float32Array]',\n      float64Tag = '[object Float64Array]',\n      int8Tag = '[object Int8Array]',\n      int16Tag = '[object Int16Array]',\n      int32Tag = '[object Int32Array]',\n      uint8Tag = '[object Uint8Array]',\n      uint8ClampedTag = '[object Uint8ClampedArray]',\n      uint16Tag = '[object Uint16Array]',\n      uint32Tag = '[object Uint32Array]';\n\n  /** Used to match empty string literals in compiled template source. */\n  var reEmptyStringLeading = /\\b__p \\+= '';/g,\n      reEmptyStringMiddle = /\\b(__p \\+=) '' \\+/g,\n      reEmptyStringTrailing = /(__e\\(.*?\\)|\\b__t\\)) \\+\\n'';/g;\n\n  /** Used to match HTML entities and HTML characters. */\n  var reEscapedHtml = /&(?:amp|lt|gt|quot|#39);/g,\n      reUnescapedHtml = /[&<>\"']/g,\n      reHasEscapedHtml = RegExp(reEscapedHtml.source),\n      reHasUnescapedHtml = RegExp(reUnescapedHtml.source);\n\n  /** Used to match template delimiters. */\n  var reEscape = /<%-([\\s\\S]+?)%>/g,\n      reEvaluate = /<%([\\s\\S]+?)%>/g,\n      reInterpolate = /<%=([\\s\\S]+?)%>/g;\n\n  /** Used to match property names within property paths. */\n  var reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n      reIsPlainProp = /^\\w*$/,\n      rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n  /**\n   * Used to match `RegExp`\n   * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n   */\n  var reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g,\n      reHasRegExpChar = RegExp(reRegExpChar.source);\n\n  /** Used to match leading whitespace. */\n  var reTrimStart = /^\\s+/;\n\n  /** Used to match a single whitespace character. */\n  var reWhitespace = /\\s/;\n\n  /** Used to match wrap detail comments. */\n  var reWrapComment = /\\{(?:\\n\\/\\* \\[wrapped with .+\\] \\*\\/)?\\n?/,\n      reWrapDetails = /\\{\\n\\/\\* \\[wrapped with (.+)\\] \\*/,\n      reSplitDetails = /,? & /;\n\n  /** Used to match words composed of alphanumeric characters. */\n  var reAsciiWord = /[^\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\x7f]+/g;\n\n  /**\n   * Used to validate the `validate` option in `_.template` variable.\n   *\n   * Forbids characters which could potentially change the meaning of the function argument definition:\n   * - \"(),\" (modification of function parameters)\n   * - \"=\" (default value)\n   * - \"[]{}\" (destructuring of function parameters)\n   * - \"/\" (beginning of a comment)\n   * - whitespace\n   */\n  var reForbiddenIdentifierChars = /[()=,{}\\[\\]\\/\\s]/;\n\n  /** Used to match backslashes in property paths. */\n  var reEscapeChar = /\\\\(\\\\)?/g;\n\n  /**\n   * Used to match\n   * [ES template delimiters](http://ecma-international.org/ecma-262/7.0/#sec-template-literal-lexical-components).\n   */\n  var reEsTemplate = /\\$\\{([^\\\\}]*(?:\\\\.[^\\\\}]*)*)\\}/g;\n\n  /** Used to match `RegExp` flags from their coerced string values. */\n  var reFlags = /\\w*$/;\n\n  /** Used to detect bad signed hexadecimal string values. */\n  var reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n  /** Used to detect binary string values. */\n  var reIsBinary = /^0b[01]+$/i;\n\n  /** Used to detect host constructors (Safari). */\n  var reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n  /** Used to detect octal string values. */\n  var reIsOctal = /^0o[0-7]+$/i;\n\n  /** Used to detect unsigned integer values. */\n  var reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n  /** Used to match Latin Unicode letters (excluding mathematical operators). */\n  var reLatin = /[\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\xff\\u0100-\\u017f]/g;\n\n  /** Used to ensure capturing order of template delimiters. */\n  var reNoMatch = /($^)/;\n\n  /** Used to match unescaped characters in compiled string literals. */\n  var reUnescapedString = /['\\n\\r\\u2028\\u2029\\\\]/g;\n\n  /** Used to compose unicode character classes. */\n  var rsAstralRange = '\\\\ud800-\\\\udfff',\n      rsComboMarksRange = '\\\\u0300-\\\\u036f',\n      reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n      rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n      rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange,\n      rsDingbatRange = '\\\\u2700-\\\\u27bf',\n      rsLowerRange = 'a-z\\\\xdf-\\\\xf6\\\\xf8-\\\\xff',\n      rsMathOpRange = '\\\\xac\\\\xb1\\\\xd7\\\\xf7',\n      rsNonCharRange = '\\\\x00-\\\\x2f\\\\x3a-\\\\x40\\\\x5b-\\\\x60\\\\x7b-\\\\xbf',\n      rsPunctuationRange = '\\\\u2000-\\\\u206f',\n      rsSpaceRange = ' \\\\t\\\\x0b\\\\f\\\\xa0\\\\ufeff\\\\n\\\\r\\\\u2028\\\\u2029\\\\u1680\\\\u180e\\\\u2000\\\\u2001\\\\u2002\\\\u2003\\\\u2004\\\\u2005\\\\u2006\\\\u2007\\\\u2008\\\\u2009\\\\u200a\\\\u202f\\\\u205f\\\\u3000',\n      rsUpperRange = 'A-Z\\\\xc0-\\\\xd6\\\\xd8-\\\\xde',\n      rsVarRange = '\\\\ufe0e\\\\ufe0f',\n      rsBreakRange = rsMathOpRange + rsNonCharRange + rsPunctuationRange + rsSpaceRange;\n\n  /** Used to compose unicode capture groups. */\n  var rsApos = \"['\\u2019]\",\n      rsAstral = '[' + rsAstralRange + ']',\n      rsBreak = '[' + rsBreakRange + ']',\n      rsCombo = '[' + rsComboRange + ']',\n      rsDigits = '\\\\d+',\n      rsDingbat = '[' + rsDingbatRange + ']',\n      rsLower = '[' + rsLowerRange + ']',\n      rsMisc = '[^' + rsAstralRange + rsBreakRange + rsDigits + rsDingbatRange + rsLowerRange + rsUpperRange + ']',\n      rsFitz = '\\\\ud83c[\\\\udffb-\\\\udfff]',\n      rsModifier = '(?:' + rsCombo + '|' + rsFitz + ')',\n      rsNonAstral = '[^' + rsAstralRange + ']',\n      rsRegional = '(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}',\n      rsSurrPair = '[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]',\n      rsUpper = '[' + rsUpperRange + ']',\n      rsZWJ = '\\\\u200d';\n\n  /** Used to compose unicode regexes. */\n  var rsMiscLower = '(?:' + rsLower + '|' + rsMisc + ')',\n      rsMiscUpper = '(?:' + rsUpper + '|' + rsMisc + ')',\n      rsOptContrLower = '(?:' + rsApos + '(?:d|ll|m|re|s|t|ve))?',\n      rsOptContrUpper = '(?:' + rsApos + '(?:D|LL|M|RE|S|T|VE))?',\n      reOptMod = rsModifier + '?',\n      rsOptVar = '[' + rsVarRange + ']?',\n      rsOptJoin = '(?:' + rsZWJ + '(?:' + [rsNonAstral, rsRegional, rsSurrPair].join('|') + ')' + rsOptVar + reOptMod + ')*',\n      rsOrdLower = '\\\\d*(?:1st|2nd|3rd|(?![123])\\\\dth)(?=\\\\b|[A-Z_])',\n      rsOrdUpper = '\\\\d*(?:1ST|2ND|3RD|(?![123])\\\\dTH)(?=\\\\b|[a-z_])',\n      rsSeq = rsOptVar + reOptMod + rsOptJoin,\n      rsEmoji = '(?:' + [rsDingbat, rsRegional, rsSurrPair].join('|') + ')' + rsSeq,\n      rsSymbol = '(?:' + [rsNonAstral + rsCombo + '?', rsCombo, rsRegional, rsSurrPair, rsAstral].join('|') + ')';\n\n  /** Used to match apostrophes. */\n  var reApos = RegExp(rsApos, 'g');\n\n  /**\n   * Used to match [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks) and\n   * [combining diacritical marks for symbols](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks_for_Symbols).\n   */\n  var reComboMark = RegExp(rsCombo, 'g');\n\n  /** Used to match [string symbols](https://mathiasbynens.be/notes/javascript-unicode). */\n  var reUnicode = RegExp(rsFitz + '(?=' + rsFitz + ')|' + rsSymbol + rsSeq, 'g');\n\n  /** Used to match complex or compound words. */\n  var reUnicodeWord = RegExp([\n    rsUpper + '?' + rsLower + '+' + rsOptContrLower + '(?=' + [rsBreak, rsUpper, '$'].join('|') + ')',\n    rsMiscUpper + '+' + rsOptContrUpper + '(?=' + [rsBreak, rsUpper + rsMiscLower, '$'].join('|') + ')',\n    rsUpper + '?' + rsMiscLower + '+' + rsOptContrLower,\n    rsUpper + '+' + rsOptContrUpper,\n    rsOrdUpper,\n    rsOrdLower,\n    rsDigits,\n    rsEmoji\n  ].join('|'), 'g');\n\n  /** Used to detect strings with [zero-width joiners or code points from the astral planes](http://eev.ee/blog/2015/09/12/dark-corners-of-unicode/). */\n  var reHasUnicode = RegExp('[' + rsZWJ + rsAstralRange  + rsComboRange + rsVarRange + ']');\n\n  /** Used to detect strings that need a more robust regexp to match words. */\n  var reHasUnicodeWord = /[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;\n\n  /** Used to assign default `context` object properties. */\n  var contextProps = [\n    'Array', 'Buffer', 'DataView', 'Date', 'Error', 'Float32Array', 'Float64Array',\n    'Function', 'Int8Array', 'Int16Array', 'Int32Array', 'Map', 'Math', 'Object',\n    'Promise', 'RegExp', 'Set', 'String', 'Symbol', 'TypeError', 'Uint8Array',\n    'Uint8ClampedArray', 'Uint16Array', 'Uint32Array', 'WeakMap',\n    '_', 'clearTimeout', 'isFinite', 'parseInt', 'setTimeout'\n  ];\n\n  /** Used to make template sourceURLs easier to identify. */\n  var templateCounter = -1;\n\n  /** Used to identify `toStringTag` values of typed arrays. */\n  var typedArrayTags = {};\n  typedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\n  typedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\n  typedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\n  typedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\n  typedArrayTags[uint32Tag] = true;\n  typedArrayTags[argsTag] = typedArrayTags[arrayTag] =\n  typedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\n  typedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\n  typedArrayTags[errorTag] = typedArrayTags[funcTag] =\n  typedArrayTags[mapTag] = typedArrayTags[numberTag] =\n  typedArrayTags[objectTag] = typedArrayTags[regexpTag] =\n  typedArrayTags[setTag] = typedArrayTags[stringTag] =\n  typedArrayTags[weakMapTag] = false;\n\n  /** Used to identify `toStringTag` values supported by `_.clone`. */\n  var cloneableTags = {};\n  cloneableTags[argsTag] = cloneableTags[arrayTag] =\n  cloneableTags[arrayBufferTag] = cloneableTags[dataViewTag] =\n  cloneableTags[boolTag] = cloneableTags[dateTag] =\n  cloneableTags[float32Tag] = cloneableTags[float64Tag] =\n  cloneableTags[int8Tag] = cloneableTags[int16Tag] =\n  cloneableTags[int32Tag] = cloneableTags[mapTag] =\n  cloneableTags[numberTag] = cloneableTags[objectTag] =\n  cloneableTags[regexpTag] = cloneableTags[setTag] =\n  cloneableTags[stringTag] = cloneableTags[symbolTag] =\n  cloneableTags[uint8Tag] = cloneableTags[uint8ClampedTag] =\n  cloneableTags[uint16Tag] = cloneableTags[uint32Tag] = true;\n  cloneableTags[errorTag] = cloneableTags[funcTag] =\n  cloneableTags[weakMapTag] = false;\n\n  /** Used to map Latin Unicode letters to basic Latin letters. */\n  var deburredLetters = {\n    // Latin-1 Supplement block.\n    '\\xc0': 'A',  '\\xc1': 'A', '\\xc2': 'A', '\\xc3': 'A', '\\xc4': 'A', '\\xc5': 'A',\n    '\\xe0': 'a',  '\\xe1': 'a', '\\xe2': 'a', '\\xe3': 'a', '\\xe4': 'a', '\\xe5': 'a',\n    '\\xc7': 'C',  '\\xe7': 'c',\n    '\\xd0': 'D',  '\\xf0': 'd',\n    '\\xc8': 'E',  '\\xc9': 'E', '\\xca': 'E', '\\xcb': 'E',\n    '\\xe8': 'e',  '\\xe9': 'e', '\\xea': 'e', '\\xeb': 'e',\n    '\\xcc': 'I',  '\\xcd': 'I', '\\xce': 'I', '\\xcf': 'I',\n    '\\xec': 'i',  '\\xed': 'i', '\\xee': 'i', '\\xef': 'i',\n    '\\xd1': 'N',  '\\xf1': 'n',\n    '\\xd2': 'O',  '\\xd3': 'O', '\\xd4': 'O', '\\xd5': 'O', '\\xd6': 'O', '\\xd8': 'O',\n    '\\xf2': 'o',  '\\xf3': 'o', '\\xf4': 'o', '\\xf5': 'o', '\\xf6': 'o', '\\xf8': 'o',\n    '\\xd9': 'U',  '\\xda': 'U', '\\xdb': 'U', '\\xdc': 'U',\n    '\\xf9': 'u',  '\\xfa': 'u', '\\xfb': 'u', '\\xfc': 'u',\n    '\\xdd': 'Y',  '\\xfd': 'y', '\\xff': 'y',\n    '\\xc6': 'Ae', '\\xe6': 'ae',\n    '\\xde': 'Th', '\\xfe': 'th',\n    '\\xdf': 'ss',\n    // Latin Extended-A block.\n    '\\u0100': 'A',  '\\u0102': 'A', '\\u0104': 'A',\n    '\\u0101': 'a',  '\\u0103': 'a', '\\u0105': 'a',\n    '\\u0106': 'C',  '\\u0108': 'C', '\\u010a': 'C', '\\u010c': 'C',\n    '\\u0107': 'c',  '\\u0109': 'c', '\\u010b': 'c', '\\u010d': 'c',\n    '\\u010e': 'D',  '\\u0110': 'D', '\\u010f': 'd', '\\u0111': 'd',\n    '\\u0112': 'E',  '\\u0114': 'E', '\\u0116': 'E', '\\u0118': 'E', '\\u011a': 'E',\n    '\\u0113': 'e',  '\\u0115': 'e', '\\u0117': 'e', '\\u0119': 'e', '\\u011b': 'e',\n    '\\u011c': 'G',  '\\u011e': 'G', '\\u0120': 'G', '\\u0122': 'G',\n    '\\u011d': 'g',  '\\u011f': 'g', '\\u0121': 'g', '\\u0123': 'g',\n    '\\u0124': 'H',  '\\u0126': 'H', '\\u0125': 'h', '\\u0127': 'h',\n    '\\u0128': 'I',  '\\u012a': 'I', '\\u012c': 'I', '\\u012e': 'I', '\\u0130': 'I',\n    '\\u0129': 'i',  '\\u012b': 'i', '\\u012d': 'i', '\\u012f': 'i', '\\u0131': 'i',\n    '\\u0134': 'J',  '\\u0135': 'j',\n    '\\u0136': 'K',  '\\u0137': 'k', '\\u0138': 'k',\n    '\\u0139': 'L',  '\\u013b': 'L', '\\u013d': 'L', '\\u013f': 'L', '\\u0141': 'L',\n    '\\u013a': 'l',  '\\u013c': 'l', '\\u013e': 'l', '\\u0140': 'l', '\\u0142': 'l',\n    '\\u0143': 'N',  '\\u0145': 'N', '\\u0147': 'N', '\\u014a': 'N',\n    '\\u0144': 'n',  '\\u0146': 'n', '\\u0148': 'n', '\\u014b': 'n',\n    '\\u014c': 'O',  '\\u014e': 'O', '\\u0150': 'O',\n    '\\u014d': 'o',  '\\u014f': 'o', '\\u0151': 'o',\n    '\\u0154': 'R',  '\\u0156': 'R', '\\u0158': 'R',\n    '\\u0155': 'r',  '\\u0157': 'r', '\\u0159': 'r',\n    '\\u015a': 'S',  '\\u015c': 'S', '\\u015e': 'S', '\\u0160': 'S',\n    '\\u015b': 's',  '\\u015d': 's', '\\u015f': 's', '\\u0161': 's',\n    '\\u0162': 'T',  '\\u0164': 'T', '\\u0166': 'T',\n    '\\u0163': 't',  '\\u0165': 't', '\\u0167': 't',\n    '\\u0168': 'U',  '\\u016a': 'U', '\\u016c': 'U', '\\u016e': 'U', '\\u0170': 'U', '\\u0172': 'U',\n    '\\u0169': 'u',  '\\u016b': 'u', '\\u016d': 'u', '\\u016f': 'u', '\\u0171': 'u', '\\u0173': 'u',\n    '\\u0174': 'W',  '\\u0175': 'w',\n    '\\u0176': 'Y',  '\\u0177': 'y', '\\u0178': 'Y',\n    '\\u0179': 'Z',  '\\u017b': 'Z', '\\u017d': 'Z',\n    '\\u017a': 'z',  '\\u017c': 'z', '\\u017e': 'z',\n    '\\u0132': 'IJ', '\\u0133': 'ij',\n    '\\u0152': 'Oe', '\\u0153': 'oe',\n    '\\u0149': \"'n\", '\\u017f': 's'\n  };\n\n  /** Used to map characters to HTML entities. */\n  var htmlEscapes = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#39;'\n  };\n\n  /** Used to map HTML entities to characters. */\n  var htmlUnescapes = {\n    '&amp;': '&',\n    '&lt;': '<',\n    '&gt;': '>',\n    '&quot;': '\"',\n    '&#39;': \"'\"\n  };\n\n  /** Used to escape characters for inclusion in compiled string literals. */\n  var stringEscapes = {\n    '\\\\': '\\\\',\n    \"'\": \"'\",\n    '\\n': 'n',\n    '\\r': 'r',\n    '\\u2028': 'u2028',\n    '\\u2029': 'u2029'\n  };\n\n  /** Built-in method references without a dependency on `root`. */\n  var freeParseFloat = parseFloat,\n      freeParseInt = parseInt;\n\n  /** Detect free variable `global` from Node.js. */\n  var freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n  /** Detect free variable `self`. */\n  var freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n  /** Used as a reference to the global object. */\n  var root = freeGlobal || freeSelf || Function('return this')();\n\n  /** Detect free variable `exports`. */\n  var freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n  /** Detect free variable `module`. */\n  var freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n  /** Detect the popular CommonJS extension `module.exports`. */\n  var moduleExports = freeModule && freeModule.exports === freeExports;\n\n  /** Detect free variable `process` from Node.js. */\n  var freeProcess = moduleExports && freeGlobal.process;\n\n  /** Used to access faster Node.js helpers. */\n  var nodeUtil = (function() {\n    try {\n      // Use `util.types` for Node.js 10+.\n      var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n      if (types) {\n        return types;\n      }\n\n      // Legacy `process.binding('util')` for Node.js < 10.\n      return freeProcess && freeProcess.binding && freeProcess.binding('util');\n    } catch (e) {}\n  }());\n\n  /* Node.js helper references. */\n  var nodeIsArrayBuffer = nodeUtil && nodeUtil.isArrayBuffer,\n      nodeIsDate = nodeUtil && nodeUtil.isDate,\n      nodeIsMap = nodeUtil && nodeUtil.isMap,\n      nodeIsRegExp = nodeUtil && nodeUtil.isRegExp,\n      nodeIsSet = nodeUtil && nodeUtil.isSet,\n      nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * A faster alternative to `Function#apply`, this function invokes `func`\n   * with the `this` binding of `thisArg` and the arguments of `args`.\n   *\n   * @private\n   * @param {Function} func The function to invoke.\n   * @param {*} thisArg The `this` binding of `func`.\n   * @param {Array} args The arguments to invoke `func` with.\n   * @returns {*} Returns the result of `func`.\n   */\n  function apply(func, thisArg, args) {\n    switch (args.length) {\n      case 0: return func.call(thisArg);\n      case 1: return func.call(thisArg, args[0]);\n      case 2: return func.call(thisArg, args[0], args[1]);\n      case 3: return func.call(thisArg, args[0], args[1], args[2]);\n    }\n    return func.apply(thisArg, args);\n  }\n\n  /**\n   * A specialized version of `baseAggregator` for arrays.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} setter The function to set `accumulator` values.\n   * @param {Function} iteratee The iteratee to transform keys.\n   * @param {Object} accumulator The initial aggregated object.\n   * @returns {Function} Returns `accumulator`.\n   */\n  function arrayAggregator(array, setter, iteratee, accumulator) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      var value = array[index];\n      setter(accumulator, value, iteratee(value), array);\n    }\n    return accumulator;\n  }\n\n  /**\n   * A specialized version of `_.forEach` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns `array`.\n   */\n  function arrayEach(array, iteratee) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      if (iteratee(array[index], index, array) === false) {\n        break;\n      }\n    }\n    return array;\n  }\n\n  /**\n   * A specialized version of `_.forEachRight` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns `array`.\n   */\n  function arrayEachRight(array, iteratee) {\n    var length = array == null ? 0 : array.length;\n\n    while (length--) {\n      if (iteratee(array[length], length, array) === false) {\n        break;\n      }\n    }\n    return array;\n  }\n\n  /**\n   * A specialized version of `_.every` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} predicate The function invoked per iteration.\n   * @returns {boolean} Returns `true` if all elements pass the predicate check,\n   *  else `false`.\n   */\n  function arrayEvery(array, predicate) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      if (!predicate(array[index], index, array)) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  /**\n   * A specialized version of `_.filter` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} predicate The function invoked per iteration.\n   * @returns {Array} Returns the new filtered array.\n   */\n  function arrayFilter(array, predicate) {\n    var index = -1,\n        length = array == null ? 0 : array.length,\n        resIndex = 0,\n        result = [];\n\n    while (++index < length) {\n      var value = array[index];\n      if (predicate(value, index, array)) {\n        result[resIndex++] = value;\n      }\n    }\n    return result;\n  }\n\n  /**\n   * A specialized version of `_.includes` for arrays without support for\n   * specifying an index to search from.\n   *\n   * @private\n   * @param {Array} [array] The array to inspect.\n   * @param {*} target The value to search for.\n   * @returns {boolean} Returns `true` if `target` is found, else `false`.\n   */\n  function arrayIncludes(array, value) {\n    var length = array == null ? 0 : array.length;\n    return !!length && baseIndexOf(array, value, 0) > -1;\n  }\n\n  /**\n   * This function is like `arrayIncludes` except that it accepts a comparator.\n   *\n   * @private\n   * @param {Array} [array] The array to inspect.\n   * @param {*} target The value to search for.\n   * @param {Function} comparator The comparator invoked per element.\n   * @returns {boolean} Returns `true` if `target` is found, else `false`.\n   */\n  function arrayIncludesWith(array, value, comparator) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      if (comparator(value, array[index])) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  /**\n   * A specialized version of `_.map` for arrays without support for iteratee\n   * shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns the new mapped array.\n   */\n  function arrayMap(array, iteratee) {\n    var index = -1,\n        length = array == null ? 0 : array.length,\n        result = Array(length);\n\n    while (++index < length) {\n      result[index] = iteratee(array[index], index, array);\n    }\n    return result;\n  }\n\n  /**\n   * Appends the elements of `values` to `array`.\n   *\n   * @private\n   * @param {Array} array The array to modify.\n   * @param {Array} values The values to append.\n   * @returns {Array} Returns `array`.\n   */\n  function arrayPush(array, values) {\n    var index = -1,\n        length = values.length,\n        offset = array.length;\n\n    while (++index < length) {\n      array[offset + index] = values[index];\n    }\n    return array;\n  }\n\n  /**\n   * A specialized version of `_.reduce` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @param {*} [accumulator] The initial value.\n   * @param {boolean} [initAccum] Specify using the first element of `array` as\n   *  the initial value.\n   * @returns {*} Returns the accumulated value.\n   */\n  function arrayReduce(array, iteratee, accumulator, initAccum) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    if (initAccum && length) {\n      accumulator = array[++index];\n    }\n    while (++index < length) {\n      accumulator = iteratee(accumulator, array[index], index, array);\n    }\n    return accumulator;\n  }\n\n  /**\n   * A specialized version of `_.reduceRight` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @param {*} [accumulator] The initial value.\n   * @param {boolean} [initAccum] Specify using the last element of `array` as\n   *  the initial value.\n   * @returns {*} Returns the accumulated value.\n   */\n  function arrayReduceRight(array, iteratee, accumulator, initAccum) {\n    var length = array == null ? 0 : array.length;\n    if (initAccum && length) {\n      accumulator = array[--length];\n    }\n    while (length--) {\n      accumulator = iteratee(accumulator, array[length], length, array);\n    }\n    return accumulator;\n  }\n\n  /**\n   * A specialized version of `_.some` for arrays without support for iteratee\n   * shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} predicate The function invoked per iteration.\n   * @returns {boolean} Returns `true` if any element passes the predicate check,\n   *  else `false`.\n   */\n  function arraySome(array, predicate) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      if (predicate(array[index], index, array)) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  /**\n   * Gets the size of an ASCII `string`.\n   *\n   * @private\n   * @param {string} string The string inspect.\n   * @returns {number} Returns the string size.\n   */\n  var asciiSize = baseProperty('length');\n\n  /**\n   * Converts an ASCII `string` to an array.\n   *\n   * @private\n   * @param {string} string The string to convert.\n   * @returns {Array} Returns the converted array.\n   */\n  function asciiToArray(string) {\n    return string.split('');\n  }\n\n  /**\n   * Splits an ASCII `string` into an array of its words.\n   *\n   * @private\n   * @param {string} The string to inspect.\n   * @returns {Array} Returns the words of `string`.\n   */\n  function asciiWords(string) {\n    return string.match(reAsciiWord) || [];\n  }\n\n  /**\n   * The base implementation of methods like `_.findKey` and `_.findLastKey`,\n   * without support for iteratee shorthands, which iterates over `collection`\n   * using `eachFunc`.\n   *\n   * @private\n   * @param {Array|Object} collection The collection to inspect.\n   * @param {Function} predicate The function invoked per iteration.\n   * @param {Function} eachFunc The function to iterate over `collection`.\n   * @returns {*} Returns the found element or its key, else `undefined`.\n   */\n  function baseFindKey(collection, predicate, eachFunc) {\n    var result;\n    eachFunc(collection, function(value, key, collection) {\n      if (predicate(value, key, collection)) {\n        result = key;\n        return false;\n      }\n    });\n    return result;\n  }\n\n  /**\n   * The base implementation of `_.findIndex` and `_.findLastIndex` without\n   * support for iteratee shorthands.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {Function} predicate The function invoked per iteration.\n   * @param {number} fromIndex The index to search from.\n   * @param {boolean} [fromRight] Specify iterating from right to left.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function baseFindIndex(array, predicate, fromIndex, fromRight) {\n    var length = array.length,\n        index = fromIndex + (fromRight ? 1 : -1);\n\n    while ((fromRight ? index-- : ++index < length)) {\n      if (predicate(array[index], index, array)) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * The base implementation of `_.indexOf` without `fromIndex` bounds checks.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function baseIndexOf(array, value, fromIndex) {\n    return value === value\n      ? strictIndexOf(array, value, fromIndex)\n      : baseFindIndex(array, baseIsNaN, fromIndex);\n  }\n\n  /**\n   * This function is like `baseIndexOf` except that it accepts a comparator.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @param {Function} comparator The comparator invoked per element.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function baseIndexOfWith(array, value, fromIndex, comparator) {\n    var index = fromIndex - 1,\n        length = array.length;\n\n    while (++index < length) {\n      if (comparator(array[index], value)) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * The base implementation of `_.isNaN` without support for number objects.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n   */\n  function baseIsNaN(value) {\n    return value !== value;\n  }\n\n  /**\n   * The base implementation of `_.mean` and `_.meanBy` without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} array The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {number} Returns the mean.\n   */\n  function baseMean(array, iteratee) {\n    var length = array == null ? 0 : array.length;\n    return length ? (baseSum(array, iteratee) / length) : NAN;\n  }\n\n  /**\n   * The base implementation of `_.property` without support for deep paths.\n   *\n   * @private\n   * @param {string} key The key of the property to get.\n   * @returns {Function} Returns the new accessor function.\n   */\n  function baseProperty(key) {\n    return function(object) {\n      return object == null ? undefined : object[key];\n    };\n  }\n\n  /**\n   * The base implementation of `_.propertyOf` without support for deep paths.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @returns {Function} Returns the new accessor function.\n   */\n  function basePropertyOf(object) {\n    return function(key) {\n      return object == null ? undefined : object[key];\n    };\n  }\n\n  /**\n   * The base implementation of `_.reduce` and `_.reduceRight`, without support\n   * for iteratee shorthands, which iterates over `collection` using `eachFunc`.\n   *\n   * @private\n   * @param {Array|Object} collection The collection to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @param {*} accumulator The initial value.\n   * @param {boolean} initAccum Specify using the first or last element of\n   *  `collection` as the initial value.\n   * @param {Function} eachFunc The function to iterate over `collection`.\n   * @returns {*} Returns the accumulated value.\n   */\n  function baseReduce(collection, iteratee, accumulator, initAccum, eachFunc) {\n    eachFunc(collection, function(value, index, collection) {\n      accumulator = initAccum\n        ? (initAccum = false, value)\n        : iteratee(accumulator, value, index, collection);\n    });\n    return accumulator;\n  }\n\n  /**\n   * The base implementation of `_.sortBy` which uses `comparer` to define the\n   * sort order of `array` and replaces criteria objects with their corresponding\n   * values.\n   *\n   * @private\n   * @param {Array} array The array to sort.\n   * @param {Function} comparer The function to define sort order.\n   * @returns {Array} Returns `array`.\n   */\n  function baseSortBy(array, comparer) {\n    var length = array.length;\n\n    array.sort(comparer);\n    while (length--) {\n      array[length] = array[length].value;\n    }\n    return array;\n  }\n\n  /**\n   * The base implementation of `_.sum` and `_.sumBy` without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} array The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {number} Returns the sum.\n   */\n  function baseSum(array, iteratee) {\n    var result,\n        index = -1,\n        length = array.length;\n\n    while (++index < length) {\n      var current = iteratee(array[index]);\n      if (current !== undefined) {\n        result = result === undefined ? current : (result + current);\n      }\n    }\n    return result;\n  }\n\n  /**\n   * The base implementation of `_.times` without support for iteratee shorthands\n   * or max array length checks.\n   *\n   * @private\n   * @param {number} n The number of times to invoke `iteratee`.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns the array of results.\n   */\n  function baseTimes(n, iteratee) {\n    var index = -1,\n        result = Array(n);\n\n    while (++index < n) {\n      result[index] = iteratee(index);\n    }\n    return result;\n  }\n\n  /**\n   * The base implementation of `_.toPairs` and `_.toPairsIn` which creates an array\n   * of key-value pairs for `object` corresponding to the property names of `props`.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @param {Array} props The property names to get values for.\n   * @returns {Object} Returns the key-value pairs.\n   */\n  function baseToPairs(object, props) {\n    return arrayMap(props, function(key) {\n      return [key, object[key]];\n    });\n  }\n\n  /**\n   * The base implementation of `_.trim`.\n   *\n   * @private\n   * @param {string} string The string to trim.\n   * @returns {string} Returns the trimmed string.\n   */\n  function baseTrim(string) {\n    return string\n      ? string.slice(0, trimmedEndIndex(string) + 1).replace(reTrimStart, '')\n      : string;\n  }\n\n  /**\n   * The base implementation of `_.unary` without support for storing metadata.\n   *\n   * @private\n   * @param {Function} func The function to cap arguments for.\n   * @returns {Function} Returns the new capped function.\n   */\n  function baseUnary(func) {\n    return function(value) {\n      return func(value);\n    };\n  }\n\n  /**\n   * The base implementation of `_.values` and `_.valuesIn` which creates an\n   * array of `object` property values corresponding to the property names\n   * of `props`.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @param {Array} props The property names to get values for.\n   * @returns {Object} Returns the array of property values.\n   */\n  function baseValues(object, props) {\n    return arrayMap(props, function(key) {\n      return object[key];\n    });\n  }\n\n  /**\n   * Checks if a `cache` value for `key` exists.\n   *\n   * @private\n   * @param {Object} cache The cache to query.\n   * @param {string} key The key of the entry to check.\n   * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n   */\n  function cacheHas(cache, key) {\n    return cache.has(key);\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimStart` to get the index of the first string symbol\n   * that is not found in the character symbols.\n   *\n   * @private\n   * @param {Array} strSymbols The string symbols to inspect.\n   * @param {Array} chrSymbols The character symbols to find.\n   * @returns {number} Returns the index of the first unmatched string symbol.\n   */\n  function charsStartIndex(strSymbols, chrSymbols) {\n    var index = -1,\n        length = strSymbols.length;\n\n    while (++index < length && baseIndexOf(chrSymbols, strSymbols[index], 0) > -1) {}\n    return index;\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimEnd` to get the index of the last string symbol\n   * that is not found in the character symbols.\n   *\n   * @private\n   * @param {Array} strSymbols The string symbols to inspect.\n   * @param {Array} chrSymbols The character symbols to find.\n   * @returns {number} Returns the index of the last unmatched string symbol.\n   */\n  function charsEndIndex(strSymbols, chrSymbols) {\n    var index = strSymbols.length;\n\n    while (index-- && baseIndexOf(chrSymbols, strSymbols[index], 0) > -1) {}\n    return index;\n  }\n\n  /**\n   * Gets the number of `placeholder` occurrences in `array`.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} placeholder The placeholder to search for.\n   * @returns {number} Returns the placeholder count.\n   */\n  function countHolders(array, placeholder) {\n    var length = array.length,\n        result = 0;\n\n    while (length--) {\n      if (array[length] === placeholder) {\n        ++result;\n      }\n    }\n    return result;\n  }\n\n  /**\n   * Used by `_.deburr` to convert Latin-1 Supplement and Latin Extended-A\n   * letters to basic Latin letters.\n   *\n   * @private\n   * @param {string} letter The matched letter to deburr.\n   * @returns {string} Returns the deburred letter.\n   */\n  var deburrLetter = basePropertyOf(deburredLetters);\n\n  /**\n   * Used by `_.escape` to convert characters to HTML entities.\n   *\n   * @private\n   * @param {string} chr The matched character to escape.\n   * @returns {string} Returns the escaped character.\n   */\n  var escapeHtmlChar = basePropertyOf(htmlEscapes);\n\n  /**\n   * Used by `_.template` to escape characters for inclusion in compiled string literals.\n   *\n   * @private\n   * @param {string} chr The matched character to escape.\n   * @returns {string} Returns the escaped character.\n   */\n  function escapeStringChar(chr) {\n    return '\\\\' + stringEscapes[chr];\n  }\n\n  /**\n   * Gets the value at `key` of `object`.\n   *\n   * @private\n   * @param {Object} [object] The object to query.\n   * @param {string} key The key of the property to get.\n   * @returns {*} Returns the property value.\n   */\n  function getValue(object, key) {\n    return object == null ? undefined : object[key];\n  }\n\n  /**\n   * Checks if `string` contains Unicode symbols.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {boolean} Returns `true` if a symbol is found, else `false`.\n   */\n  function hasUnicode(string) {\n    return reHasUnicode.test(string);\n  }\n\n  /**\n   * Checks if `string` contains a word composed of Unicode symbols.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {boolean} Returns `true` if a word is found, else `false`.\n   */\n  function hasUnicodeWord(string) {\n    return reHasUnicodeWord.test(string);\n  }\n\n  /**\n   * Converts `iterator` to an array.\n   *\n   * @private\n   * @param {Object} iterator The iterator to convert.\n   * @returns {Array} Returns the converted array.\n   */\n  function iteratorToArray(iterator) {\n    var data,\n        result = [];\n\n    while (!(data = iterator.next()).done) {\n      result.push(data.value);\n    }\n    return result;\n  }\n\n  /**\n   * Converts `map` to its key-value pairs.\n   *\n   * @private\n   * @param {Object} map The map to convert.\n   * @returns {Array} Returns the key-value pairs.\n   */\n  function mapToArray(map) {\n    var index = -1,\n        result = Array(map.size);\n\n    map.forEach(function(value, key) {\n      result[++index] = [key, value];\n    });\n    return result;\n  }\n\n  /**\n   * Creates a unary function that invokes `func` with its argument transformed.\n   *\n   * @private\n   * @param {Function} func The function to wrap.\n   * @param {Function} transform The argument transform.\n   * @returns {Function} Returns the new function.\n   */\n  function overArg(func, transform) {\n    return function(arg) {\n      return func(transform(arg));\n    };\n  }\n\n  /**\n   * Replaces all `placeholder` elements in `array` with an internal placeholder\n   * and returns an array of their indexes.\n   *\n   * @private\n   * @param {Array} array The array to modify.\n   * @param {*} placeholder The placeholder to replace.\n   * @returns {Array} Returns the new array of placeholder indexes.\n   */\n  function replaceHolders(array, placeholder) {\n    var index = -1,\n        length = array.length,\n        resIndex = 0,\n        result = [];\n\n    while (++index < length) {\n      var value = array[index];\n      if (value === placeholder || value === PLACEHOLDER) {\n        array[index] = PLACEHOLDER;\n        result[resIndex++] = index;\n      }\n    }\n    return result;\n  }\n\n  /**\n   * Converts `set` to an array of its values.\n   *\n   * @private\n   * @param {Object} set The set to convert.\n   * @returns {Array} Returns the values.\n   */\n  function setToArray(set) {\n    var index = -1,\n        result = Array(set.size);\n\n    set.forEach(function(value) {\n      result[++index] = value;\n    });\n    return result;\n  }\n\n  /**\n   * Converts `set` to its value-value pairs.\n   *\n   * @private\n   * @param {Object} set The set to convert.\n   * @returns {Array} Returns the value-value pairs.\n   */\n  function setToPairs(set) {\n    var index = -1,\n        result = Array(set.size);\n\n    set.forEach(function(value) {\n      result[++index] = [value, value];\n    });\n    return result;\n  }\n\n  /**\n   * A specialized version of `_.indexOf` which performs strict equality\n   * comparisons of values, i.e. `===`.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function strictIndexOf(array, value, fromIndex) {\n    var index = fromIndex - 1,\n        length = array.length;\n\n    while (++index < length) {\n      if (array[index] === value) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * A specialized version of `_.lastIndexOf` which performs strict equality\n   * comparisons of values, i.e. `===`.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function strictLastIndexOf(array, value, fromIndex) {\n    var index = fromIndex + 1;\n    while (index--) {\n      if (array[index] === value) {\n        return index;\n      }\n    }\n    return index;\n  }\n\n  /**\n   * Gets the number of symbols in `string`.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {number} Returns the string size.\n   */\n  function stringSize(string) {\n    return hasUnicode(string)\n      ? unicodeSize(string)\n      : asciiSize(string);\n  }\n\n  /**\n   * Converts `string` to an array.\n   *\n   * @private\n   * @param {string} string The string to convert.\n   * @returns {Array} Returns the converted array.\n   */\n  function stringToArray(string) {\n    return hasUnicode(string)\n      ? unicodeToArray(string)\n      : asciiToArray(string);\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimEnd` to get the index of the last non-whitespace\n   * character of `string`.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {number} Returns the index of the last non-whitespace character.\n   */\n  function trimmedEndIndex(string) {\n    var index = string.length;\n\n    while (index-- && reWhitespace.test(string.charAt(index))) {}\n    return index;\n  }\n\n  /**\n   * Used by `_.unescape` to convert HTML entities to characters.\n   *\n   * @private\n   * @param {string} chr The matched character to unescape.\n   * @returns {string} Returns the unescaped character.\n   */\n  var unescapeHtmlChar = basePropertyOf(htmlUnescapes);\n\n  /**\n   * Gets the size of a Unicode `string`.\n   *\n   * @private\n   * @param {string} string The string inspect.\n   * @returns {number} Returns the string size.\n   */\n  function unicodeSize(string) {\n    var result = reUnicode.lastIndex = 0;\n    while (reUnicode.test(string)) {\n      ++result;\n    }\n    return result;\n  }\n\n  /**\n   * Converts a Unicode `string` to an array.\n   *\n   * @private\n   * @param {string} string The string to convert.\n   * @returns {Array} Returns the converted array.\n   */\n  function unicodeToArray(string) {\n    return string.match(reUnicode) || [];\n  }\n\n  /**\n   * Splits a Unicode `string` into an array of its words.\n   *\n   * @private\n   * @param {string} The string to inspect.\n   * @returns {Array} Returns the words of `string`.\n   */\n  function unicodeWords(string) {\n    return string.match(reUnicodeWord) || [];\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Create a new pristine `lodash` function using the `context` object.\n   *\n   * @static\n   * @memberOf _\n   * @since 1.1.0\n   * @category Util\n   * @param {Object} [context=root] The context object.\n   * @returns {Function} Returns a new `lodash` function.\n   * @example\n   *\n   * _.mixin({ 'foo': _.constant('foo') });\n   *\n   * var lodash = _.runInContext();\n   * lodash.mixin({ 'bar': lodash.constant('bar') });\n   *\n   * _.isFunction(_.foo);\n   * // => true\n   * _.isFunction(_.bar);\n   * // => false\n   *\n   * lodash.isFunction(lodash.foo);\n   * // => false\n   * lodash.isFunction(lodash.bar);\n   * // => true\n   *\n   * // Create a suped-up `defer` in Node.js.\n   * var defer = _.runInContext({ 'setTimeout': setImmediate }).defer;\n   */\n  var runInContext = (function runInContext(context) {\n    context = context == null ? root : _.defaults(root.Object(), context, _.pick(root, contextProps));\n\n    /** Built-in constructor references. */\n    var Array = context.Array,\n        Date = context.Date,\n        Error = context.Error,\n        Function = context.Function,\n        Math = context.Math,\n        Object = context.Object,\n        RegExp = context.RegExp,\n        String = context.String,\n        TypeError = context.TypeError;\n\n    /** Used for built-in method references. */\n    var arrayProto = Array.prototype,\n        funcProto = Function.prototype,\n        objectProto = Object.prototype;\n\n    /** Used to detect overreaching core-js shims. */\n    var coreJsData = context['__core-js_shared__'];\n\n    /** Used to resolve the decompiled source of functions. */\n    var funcToString = funcProto.toString;\n\n    /** Used to check objects for own properties. */\n    var hasOwnProperty = objectProto.hasOwnProperty;\n\n    /** Used to generate unique IDs. */\n    var idCounter = 0;\n\n    /** Used to detect methods masquerading as native. */\n    var maskSrcKey = (function() {\n      var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n      return uid ? ('Symbol(src)_1.' + uid) : '';\n    }());\n\n    /**\n     * Used to resolve the\n     * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n     * of values.\n     */\n    var nativeObjectToString = objectProto.toString;\n\n    /** Used to infer the `Object` constructor. */\n    var objectCtorString = funcToString.call(Object);\n\n    /** Used to restore the original `_` reference in `_.noConflict`. */\n    var oldDash = root._;\n\n    /** Used to detect if a method is native. */\n    var reIsNative = RegExp('^' +\n      funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n      .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n    );\n\n    /** Built-in value references. */\n    var Buffer = moduleExports ? context.Buffer : undefined,\n        Symbol = context.Symbol,\n        Uint8Array = context.Uint8Array,\n        allocUnsafe = Buffer ? Buffer.allocUnsafe : undefined,\n        getPrototype = overArg(Object.getPrototypeOf, Object),\n        objectCreate = Object.create,\n        propertyIsEnumerable = objectProto.propertyIsEnumerable,\n        splice = arrayProto.splice,\n        spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined,\n        symIterator = Symbol ? Symbol.iterator : undefined,\n        symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n    var defineProperty = (function() {\n      try {\n        var func = getNative(Object, 'defineProperty');\n        func({}, '', {});\n        return func;\n      } catch (e) {}\n    }());\n\n    /** Mocked built-ins. */\n    var ctxClearTimeout = context.clearTimeout !== root.clearTimeout && context.clearTimeout,\n        ctxNow = Date && Date.now !== root.Date.now && Date.now,\n        ctxSetTimeout = context.setTimeout !== root.setTimeout && context.setTimeout;\n\n    /* Built-in method references for those with the same name as other `lodash` methods. */\n    var nativeCeil = Math.ceil,\n        nativeFloor = Math.floor,\n        nativeGetSymbols = Object.getOwnPropertySymbols,\n        nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined,\n        nativeIsFinite = context.isFinite,\n        nativeJoin = arrayProto.join,\n        nativeKeys = overArg(Object.keys, Object),\n        nativeMax = Math.max,\n        nativeMin = Math.min,\n        nativeNow = Date.now,\n        nativeParseInt = context.parseInt,\n        nativeRandom = Math.random,\n        nativeReverse = arrayProto.reverse;\n\n    /* Built-in method references that are verified to be native. */\n    var DataView = getNative(context, 'DataView'),\n        Map = getNative(context, 'Map'),\n        Promise = getNative(context, 'Promise'),\n        Set = getNative(context, 'Set'),\n        WeakMap = getNative(context, 'WeakMap'),\n        nativeCreate = getNative(Object, 'create');\n\n    /** Used to store function metadata. */\n    var metaMap = WeakMap && new WeakMap;\n\n    /** Used to lookup unminified function names. */\n    var realNames = {};\n\n    /** Used to detect maps, sets, and weakmaps. */\n    var dataViewCtorString = toSource(DataView),\n        mapCtorString = toSource(Map),\n        promiseCtorString = toSource(Promise),\n        setCtorString = toSource(Set),\n        weakMapCtorString = toSource(WeakMap);\n\n    /** Used to convert symbols to primitives and strings. */\n    var symbolProto = Symbol ? Symbol.prototype : undefined,\n        symbolValueOf = symbolProto ? symbolProto.valueOf : undefined,\n        symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a `lodash` object which wraps `value` to enable implicit method\n     * chain sequences. Methods that operate on and return arrays, collections,\n     * and functions can be chained together. Methods that retrieve a single value\n     * or may return a primitive value will automatically end the chain sequence\n     * and return the unwrapped value. Otherwise, the value must be unwrapped\n     * with `_#value`.\n     *\n     * Explicit chain sequences, which must be unwrapped with `_#value`, may be\n     * enabled using `_.chain`.\n     *\n     * The execution of chained methods is lazy, that is, it's deferred until\n     * `_#value` is implicitly or explicitly called.\n     *\n     * Lazy evaluation allows several methods to support shortcut fusion.\n     * Shortcut fusion is an optimization to merge iteratee calls; this avoids\n     * the creation of intermediate arrays and can greatly reduce the number of\n     * iteratee executions. Sections of a chain sequence qualify for shortcut\n     * fusion if the section is applied to an array and iteratees accept only\n     * one argument. The heuristic for whether a section qualifies for shortcut\n     * fusion is subject to change.\n     *\n     * Chaining is supported in custom builds as long as the `_#value` method is\n     * directly or indirectly included in the build.\n     *\n     * In addition to lodash methods, wrappers have `Array` and `String` methods.\n     *\n     * The wrapper `Array` methods are:\n     * `concat`, `join`, `pop`, `push`, `shift`, `sort`, `splice`, and `unshift`\n     *\n     * The wrapper `String` methods are:\n     * `replace` and `split`\n     *\n     * The wrapper methods that support shortcut fusion are:\n     * `at`, `compact`, `drop`, `dropRight`, `dropWhile`, `filter`, `find`,\n     * `findLast`, `head`, `initial`, `last`, `map`, `reject`, `reverse`, `slice`,\n     * `tail`, `take`, `takeRight`, `takeRightWhile`, `takeWhile`, and `toArray`\n     *\n     * The chainable wrapper methods are:\n     * `after`, `ary`, `assign`, `assignIn`, `assignInWith`, `assignWith`, `at`,\n     * `before`, `bind`, `bindAll`, `bindKey`, `castArray`, `chain`, `chunk`,\n     * `commit`, `compact`, `concat`, `conforms`, `constant`, `countBy`, `create`,\n     * `curry`, `debounce`, `defaults`, `defaultsDeep`, `defer`, `delay`,\n     * `difference`, `differenceBy`, `differenceWith`, `drop`, `dropRight`,\n     * `dropRightWhile`, `dropWhile`, `extend`, `extendWith`, `fill`, `filter`,\n     * `flatMap`, `flatMapDeep`, `flatMapDepth`, `flatten`, `flattenDeep`,\n     * `flattenDepth`, `flip`, `flow`, `flowRight`, `fromPairs`, `functions`,\n     * `functionsIn`, `groupBy`, `initial`, `intersection`, `intersectionBy`,\n     * `intersectionWith`, `invert`, `invertBy`, `invokeMap`, `iteratee`, `keyBy`,\n     * `keys`, `keysIn`, `map`, `mapKeys`, `mapValues`, `matches`, `matchesProperty`,\n     * `memoize`, `merge`, `mergeWith`, `method`, `methodOf`, `mixin`, `negate`,\n     * `nthArg`, `omit`, `omitBy`, `once`, `orderBy`, `over`, `overArgs`,\n     * `overEvery`, `overSome`, `partial`, `partialRight`, `partition`, `pick`,\n     * `pickBy`, `plant`, `property`, `propertyOf`, `pull`, `pullAll`, `pullAllBy`,\n     * `pullAllWith`, `pullAt`, `push`, `range`, `rangeRight`, `rearg`, `reject`,\n     * `remove`, `rest`, `reverse`, `sampleSize`, `set`, `setWith`, `shuffle`,\n     * `slice`, `sort`, `sortBy`, `splice`, `spread`, `tail`, `take`, `takeRight`,\n     * `takeRightWhile`, `takeWhile`, `tap`, `throttle`, `thru`, `toArray`,\n     * `toPairs`, `toPairsIn`, `toPath`, `toPlainObject`, `transform`, `unary`,\n     * `union`, `unionBy`, `unionWith`, `uniq`, `uniqBy`, `uniqWith`, `unset`,\n     * `unshift`, `unzip`, `unzipWith`, `update`, `updateWith`, `values`,\n     * `valuesIn`, `without`, `wrap`, `xor`, `xorBy`, `xorWith`, `zip`,\n     * `zipObject`, `zipObjectDeep`, and `zipWith`\n     *\n     * The wrapper methods that are **not** chainable by default are:\n     * `add`, `attempt`, `camelCase`, `capitalize`, `ceil`, `clamp`, `clone`,\n     * `cloneDeep`, `cloneDeepWith`, `cloneWith`, `conformsTo`, `deburr`,\n     * `defaultTo`, `divide`, `each`, `eachRight`, `endsWith`, `eq`, `escape`,\n     * `escapeRegExp`, `every`, `find`, `findIndex`, `findKey`, `findLast`,\n     * `findLastIndex`, `findLastKey`, `first`, `floor`, `forEach`, `forEachRight`,\n     * `forIn`, `forInRight`, `forOwn`, `forOwnRight`, `get`, `gt`, `gte`, `has`,\n     * `hasIn`, `head`, `identity`, `includes`, `indexOf`, `inRange`, `invoke`,\n     * `isArguments`, `isArray`, `isArrayBuffer`, `isArrayLike`, `isArrayLikeObject`,\n     * `isBoolean`, `isBuffer`, `isDate`, `isElement`, `isEmpty`, `isEqual`,\n     * `isEqualWith`, `isError`, `isFinite`, `isFunction`, `isInteger`, `isLength`,\n     * `isMap`, `isMatch`, `isMatchWith`, `isNaN`, `isNative`, `isNil`, `isNull`,\n     * `isNumber`, `isObject`, `isObjectLike`, `isPlainObject`, `isRegExp`,\n     * `isSafeInteger`, `isSet`, `isString`, `isUndefined`, `isTypedArray`,\n     * `isWeakMap`, `isWeakSet`, `join`, `kebabCase`, `last`, `lastIndexOf`,\n     * `lowerCase`, `lowerFirst`, `lt`, `lte`, `max`, `maxBy`, `mean`, `meanBy`,\n     * `min`, `minBy`, `multiply`, `noConflict`, `noop`, `now`, `nth`, `pad`,\n     * `padEnd`, `padStart`, `parseInt`, `pop`, `random`, `reduce`, `reduceRight`,\n     * `repeat`, `result`, `round`, `runInContext`, `sample`, `shift`, `size`,\n     * `snakeCase`, `some`, `sortedIndex`, `sortedIndexBy`, `sortedLastIndex`,\n     * `sortedLastIndexBy`, `startCase`, `startsWith`, `stubArray`, `stubFalse`,\n     * `stubObject`, `stubString`, `stubTrue`, `subtract`, `sum`, `sumBy`,\n     * `template`, `times`, `toFinite`, `toInteger`, `toJSON`, `toLength`,\n     * `toLower`, `toNumber`, `toSafeInteger`, `toString`, `toUpper`, `trim`,\n     * `trimEnd`, `trimStart`, `truncate`, `unescape`, `uniqueId`, `upperCase`,\n     * `upperFirst`, `value`, and `words`\n     *\n     * @name _\n     * @constructor\n     * @category Seq\n     * @param {*} value The value to wrap in a `lodash` instance.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var wrapped = _([1, 2, 3]);\n     *\n     * // Returns an unwrapped value.\n     * wrapped.reduce(_.add);\n     * // => 6\n     *\n     * // Returns a wrapped value.\n     * var squares = wrapped.map(square);\n     *\n     * _.isArray(squares);\n     * // => false\n     *\n     * _.isArray(squares.value());\n     * // => true\n     */\n    function lodash(value) {\n      if (isObjectLike(value) && !isArray(value) && !(value instanceof LazyWrapper)) {\n        if (value instanceof LodashWrapper) {\n          return value;\n        }\n        if (hasOwnProperty.call(value, '__wrapped__')) {\n          return wrapperClone(value);\n        }\n      }\n      return new LodashWrapper(value);\n    }\n\n    /**\n     * The base implementation of `_.create` without support for assigning\n     * properties to the created object.\n     *\n     * @private\n     * @param {Object} proto The object to inherit from.\n     * @returns {Object} Returns the new object.\n     */\n    var baseCreate = (function() {\n      function object() {}\n      return function(proto) {\n        if (!isObject(proto)) {\n          return {};\n        }\n        if (objectCreate) {\n          return objectCreate(proto);\n        }\n        object.prototype = proto;\n        var result = new object;\n        object.prototype = undefined;\n        return result;\n      };\n    }());\n\n    /**\n     * The function whose prototype chain sequence wrappers inherit from.\n     *\n     * @private\n     */\n    function baseLodash() {\n      // No operation performed.\n    }\n\n    /**\n     * The base constructor for creating `lodash` wrapper objects.\n     *\n     * @private\n     * @param {*} value The value to wrap.\n     * @param {boolean} [chainAll] Enable explicit method chain sequences.\n     */\n    function LodashWrapper(value, chainAll) {\n      this.__wrapped__ = value;\n      this.__actions__ = [];\n      this.__chain__ = !!chainAll;\n      this.__index__ = 0;\n      this.__values__ = undefined;\n    }\n\n    /**\n     * By default, the template delimiters used by lodash are like those in\n     * embedded Ruby (ERB) as well as ES2015 template strings. Change the\n     * following template settings to use alternative delimiters.\n     *\n     * @static\n     * @memberOf _\n     * @type {Object}\n     */\n    lodash.templateSettings = {\n\n      /**\n       * Used to detect `data` property values to be HTML-escaped.\n       *\n       * @memberOf _.templateSettings\n       * @type {RegExp}\n       */\n      'escape': reEscape,\n\n      /**\n       * Used to detect code to be evaluated.\n       *\n       * @memberOf _.templateSettings\n       * @type {RegExp}\n       */\n      'evaluate': reEvaluate,\n\n      /**\n       * Used to detect `data` property values to inject.\n       *\n       * @memberOf _.templateSettings\n       * @type {RegExp}\n       */\n      'interpolate': reInterpolate,\n\n      /**\n       * Used to reference the data object in the template text.\n       *\n       * @memberOf _.templateSettings\n       * @type {string}\n       */\n      'variable': '',\n\n      /**\n       * Used to import variables into the compiled template.\n       *\n       * @memberOf _.templateSettings\n       * @type {Object}\n       */\n      'imports': {\n\n        /**\n         * A reference to the `lodash` function.\n         *\n         * @memberOf _.templateSettings.imports\n         * @type {Function}\n         */\n        '_': lodash\n      }\n    };\n\n    // Ensure wrappers are instances of `baseLodash`.\n    lodash.prototype = baseLodash.prototype;\n    lodash.prototype.constructor = lodash;\n\n    LodashWrapper.prototype = baseCreate(baseLodash.prototype);\n    LodashWrapper.prototype.constructor = LodashWrapper;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a lazy wrapper object which wraps `value` to enable lazy evaluation.\n     *\n     * @private\n     * @constructor\n     * @param {*} value The value to wrap.\n     */\n    function LazyWrapper(value) {\n      this.__wrapped__ = value;\n      this.__actions__ = [];\n      this.__dir__ = 1;\n      this.__filtered__ = false;\n      this.__iteratees__ = [];\n      this.__takeCount__ = MAX_ARRAY_LENGTH;\n      this.__views__ = [];\n    }\n\n    /**\n     * Creates a clone of the lazy wrapper object.\n     *\n     * @private\n     * @name clone\n     * @memberOf LazyWrapper\n     * @returns {Object} Returns the cloned `LazyWrapper` object.\n     */\n    function lazyClone() {\n      var result = new LazyWrapper(this.__wrapped__);\n      result.__actions__ = copyArray(this.__actions__);\n      result.__dir__ = this.__dir__;\n      result.__filtered__ = this.__filtered__;\n      result.__iteratees__ = copyArray(this.__iteratees__);\n      result.__takeCount__ = this.__takeCount__;\n      result.__views__ = copyArray(this.__views__);\n      return result;\n    }\n\n    /**\n     * Reverses the direction of lazy iteration.\n     *\n     * @private\n     * @name reverse\n     * @memberOf LazyWrapper\n     * @returns {Object} Returns the new reversed `LazyWrapper` object.\n     */\n    function lazyReverse() {\n      if (this.__filtered__) {\n        var result = new LazyWrapper(this);\n        result.__dir__ = -1;\n        result.__filtered__ = true;\n      } else {\n        result = this.clone();\n        result.__dir__ *= -1;\n      }\n      return result;\n    }\n\n    /**\n     * Extracts the unwrapped value from its lazy wrapper.\n     *\n     * @private\n     * @name value\n     * @memberOf LazyWrapper\n     * @returns {*} Returns the unwrapped value.\n     */\n    function lazyValue() {\n      var array = this.__wrapped__.value(),\n          dir = this.__dir__,\n          isArr = isArray(array),\n          isRight = dir < 0,\n          arrLength = isArr ? array.length : 0,\n          view = getView(0, arrLength, this.__views__),\n          start = view.start,\n          end = view.end,\n          length = end - start,\n          index = isRight ? end : (start - 1),\n          iteratees = this.__iteratees__,\n          iterLength = iteratees.length,\n          resIndex = 0,\n          takeCount = nativeMin(length, this.__takeCount__);\n\n      if (!isArr || (!isRight && arrLength == length && takeCount == length)) {\n        return baseWrapperValue(array, this.__actions__);\n      }\n      var result = [];\n\n      outer:\n      while (length-- && resIndex < takeCount) {\n        index += dir;\n\n        var iterIndex = -1,\n            value = array[index];\n\n        while (++iterIndex < iterLength) {\n          var data = iteratees[iterIndex],\n              iteratee = data.iteratee,\n              type = data.type,\n              computed = iteratee(value);\n\n          if (type == LAZY_MAP_FLAG) {\n            value = computed;\n          } else if (!computed) {\n            if (type == LAZY_FILTER_FLAG) {\n              continue outer;\n            } else {\n              break outer;\n            }\n          }\n        }\n        result[resIndex++] = value;\n      }\n      return result;\n    }\n\n    // Ensure `LazyWrapper` is an instance of `baseLodash`.\n    LazyWrapper.prototype = baseCreate(baseLodash.prototype);\n    LazyWrapper.prototype.constructor = LazyWrapper;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a hash object.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n    function Hash(entries) {\n      var index = -1,\n          length = entries == null ? 0 : entries.length;\n\n      this.clear();\n      while (++index < length) {\n        var entry = entries[index];\n        this.set(entry[0], entry[1]);\n      }\n    }\n\n    /**\n     * Removes all key-value entries from the hash.\n     *\n     * @private\n     * @name clear\n     * @memberOf Hash\n     */\n    function hashClear() {\n      this.__data__ = nativeCreate ? nativeCreate(null) : {};\n      this.size = 0;\n    }\n\n    /**\n     * Removes `key` and its value from the hash.\n     *\n     * @private\n     * @name delete\n     * @memberOf Hash\n     * @param {Object} hash The hash to modify.\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n    function hashDelete(key) {\n      var result = this.has(key) && delete this.__data__[key];\n      this.size -= result ? 1 : 0;\n      return result;\n    }\n\n    /**\n     * Gets the hash value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf Hash\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n    function hashGet(key) {\n      var data = this.__data__;\n      if (nativeCreate) {\n        var result = data[key];\n        return result === HASH_UNDEFINED ? undefined : result;\n      }\n      return hasOwnProperty.call(data, key) ? data[key] : undefined;\n    }\n\n    /**\n     * Checks if a hash value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf Hash\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function hashHas(key) {\n      var data = this.__data__;\n      return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n    }\n\n    /**\n     * Sets the hash `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf Hash\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the hash instance.\n     */\n    function hashSet(key, value) {\n      var data = this.__data__;\n      this.size += this.has(key) ? 0 : 1;\n      data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n      return this;\n    }\n\n    // Add methods to `Hash`.\n    Hash.prototype.clear = hashClear;\n    Hash.prototype['delete'] = hashDelete;\n    Hash.prototype.get = hashGet;\n    Hash.prototype.has = hashHas;\n    Hash.prototype.set = hashSet;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an list cache object.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n    function ListCache(entries) {\n      var index = -1,\n          length = entries == null ? 0 : entries.length;\n\n      this.clear();\n      while (++index < length) {\n        var entry = entries[index];\n        this.set(entry[0], entry[1]);\n      }\n    }\n\n    /**\n     * Removes all key-value entries from the list cache.\n     *\n     * @private\n     * @name clear\n     * @memberOf ListCache\n     */\n    function listCacheClear() {\n      this.__data__ = [];\n      this.size = 0;\n    }\n\n    /**\n     * Removes `key` and its value from the list cache.\n     *\n     * @private\n     * @name delete\n     * @memberOf ListCache\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n    function listCacheDelete(key) {\n      var data = this.__data__,\n          index = assocIndexOf(data, key);\n\n      if (index < 0) {\n        return false;\n      }\n      var lastIndex = data.length - 1;\n      if (index == lastIndex) {\n        data.pop();\n      } else {\n        splice.call(data, index, 1);\n      }\n      --this.size;\n      return true;\n    }\n\n    /**\n     * Gets the list cache value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf ListCache\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n    function listCacheGet(key) {\n      var data = this.__data__,\n          index = assocIndexOf(data, key);\n\n      return index < 0 ? undefined : data[index][1];\n    }\n\n    /**\n     * Checks if a list cache value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf ListCache\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function listCacheHas(key) {\n      return assocIndexOf(this.__data__, key) > -1;\n    }\n\n    /**\n     * Sets the list cache `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf ListCache\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the list cache instance.\n     */\n    function listCacheSet(key, value) {\n      var data = this.__data__,\n          index = assocIndexOf(data, key);\n\n      if (index < 0) {\n        ++this.size;\n        data.push([key, value]);\n      } else {\n        data[index][1] = value;\n      }\n      return this;\n    }\n\n    // Add methods to `ListCache`.\n    ListCache.prototype.clear = listCacheClear;\n    ListCache.prototype['delete'] = listCacheDelete;\n    ListCache.prototype.get = listCacheGet;\n    ListCache.prototype.has = listCacheHas;\n    ListCache.prototype.set = listCacheSet;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a map cache object to store key-value pairs.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n    function MapCache(entries) {\n      var index = -1,\n          length = entries == null ? 0 : entries.length;\n\n      this.clear();\n      while (++index < length) {\n        var entry = entries[index];\n        this.set(entry[0], entry[1]);\n      }\n    }\n\n    /**\n     * Removes all key-value entries from the map.\n     *\n     * @private\n     * @name clear\n     * @memberOf MapCache\n     */\n    function mapCacheClear() {\n      this.size = 0;\n      this.__data__ = {\n        'hash': new Hash,\n        'map': new (Map || ListCache),\n        'string': new Hash\n      };\n    }\n\n    /**\n     * Removes `key` and its value from the map.\n     *\n     * @private\n     * @name delete\n     * @memberOf MapCache\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n    function mapCacheDelete(key) {\n      var result = getMapData(this, key)['delete'](key);\n      this.size -= result ? 1 : 0;\n      return result;\n    }\n\n    /**\n     * Gets the map value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf MapCache\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n    function mapCacheGet(key) {\n      return getMapData(this, key).get(key);\n    }\n\n    /**\n     * Checks if a map value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf MapCache\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function mapCacheHas(key) {\n      return getMapData(this, key).has(key);\n    }\n\n    /**\n     * Sets the map `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf MapCache\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the map cache instance.\n     */\n    function mapCacheSet(key, value) {\n      var data = getMapData(this, key),\n          size = data.size;\n\n      data.set(key, value);\n      this.size += data.size == size ? 0 : 1;\n      return this;\n    }\n\n    // Add methods to `MapCache`.\n    MapCache.prototype.clear = mapCacheClear;\n    MapCache.prototype['delete'] = mapCacheDelete;\n    MapCache.prototype.get = mapCacheGet;\n    MapCache.prototype.has = mapCacheHas;\n    MapCache.prototype.set = mapCacheSet;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     *\n     * Creates an array cache object to store unique values.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [values] The values to cache.\n     */\n    function SetCache(values) {\n      var index = -1,\n          length = values == null ? 0 : values.length;\n\n      this.__data__ = new MapCache;\n      while (++index < length) {\n        this.add(values[index]);\n      }\n    }\n\n    /**\n     * Adds `value` to the array cache.\n     *\n     * @private\n     * @name add\n     * @memberOf SetCache\n     * @alias push\n     * @param {*} value The value to cache.\n     * @returns {Object} Returns the cache instance.\n     */\n    function setCacheAdd(value) {\n      this.__data__.set(value, HASH_UNDEFINED);\n      return this;\n    }\n\n    /**\n     * Checks if `value` is in the array cache.\n     *\n     * @private\n     * @name has\n     * @memberOf SetCache\n     * @param {*} value The value to search for.\n     * @returns {number} Returns `true` if `value` is found, else `false`.\n     */\n    function setCacheHas(value) {\n      return this.__data__.has(value);\n    }\n\n    // Add methods to `SetCache`.\n    SetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\n    SetCache.prototype.has = setCacheHas;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a stack cache object to store key-value pairs.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n    function Stack(entries) {\n      var data = this.__data__ = new ListCache(entries);\n      this.size = data.size;\n    }\n\n    /**\n     * Removes all key-value entries from the stack.\n     *\n     * @private\n     * @name clear\n     * @memberOf Stack\n     */\n    function stackClear() {\n      this.__data__ = new ListCache;\n      this.size = 0;\n    }\n\n    /**\n     * Removes `key` and its value from the stack.\n     *\n     * @private\n     * @name delete\n     * @memberOf Stack\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n    function stackDelete(key) {\n      var data = this.__data__,\n          result = data['delete'](key);\n\n      this.size = data.size;\n      return result;\n    }\n\n    /**\n     * Gets the stack value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf Stack\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n    function stackGet(key) {\n      return this.__data__.get(key);\n    }\n\n    /**\n     * Checks if a stack value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf Stack\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function stackHas(key) {\n      return this.__data__.has(key);\n    }\n\n    /**\n     * Sets the stack `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf Stack\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the stack cache instance.\n     */\n    function stackSet(key, value) {\n      var data = this.__data__;\n      if (data instanceof ListCache) {\n        var pairs = data.__data__;\n        if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n          pairs.push([key, value]);\n          this.size = ++data.size;\n          return this;\n        }\n        data = this.__data__ = new MapCache(pairs);\n      }\n      data.set(key, value);\n      this.size = data.size;\n      return this;\n    }\n\n    // Add methods to `Stack`.\n    Stack.prototype.clear = stackClear;\n    Stack.prototype['delete'] = stackDelete;\n    Stack.prototype.get = stackGet;\n    Stack.prototype.has = stackHas;\n    Stack.prototype.set = stackSet;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an array of the enumerable property names of the array-like `value`.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @param {boolean} inherited Specify returning inherited property names.\n     * @returns {Array} Returns the array of property names.\n     */\n    function arrayLikeKeys(value, inherited) {\n      var isArr = isArray(value),\n          isArg = !isArr && isArguments(value),\n          isBuff = !isArr && !isArg && isBuffer(value),\n          isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n          skipIndexes = isArr || isArg || isBuff || isType,\n          result = skipIndexes ? baseTimes(value.length, String) : [],\n          length = result.length;\n\n      for (var key in value) {\n        if ((inherited || hasOwnProperty.call(value, key)) &&\n            !(skipIndexes && (\n               // Safari 9 has enumerable `arguments.length` in strict mode.\n               key == 'length' ||\n               // Node.js 0.10 has enumerable non-index properties on buffers.\n               (isBuff && (key == 'offset' || key == 'parent')) ||\n               // PhantomJS 2 has enumerable non-index properties on typed arrays.\n               (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n               // Skip index properties.\n               isIndex(key, length)\n            ))) {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * A specialized version of `_.sample` for arrays.\n     *\n     * @private\n     * @param {Array} array The array to sample.\n     * @returns {*} Returns the random element.\n     */\n    function arraySample(array) {\n      var length = array.length;\n      return length ? array[baseRandom(0, length - 1)] : undefined;\n    }\n\n    /**\n     * A specialized version of `_.sampleSize` for arrays.\n     *\n     * @private\n     * @param {Array} array The array to sample.\n     * @param {number} n The number of elements to sample.\n     * @returns {Array} Returns the random elements.\n     */\n    function arraySampleSize(array, n) {\n      return shuffleSelf(copyArray(array), baseClamp(n, 0, array.length));\n    }\n\n    /**\n     * A specialized version of `_.shuffle` for arrays.\n     *\n     * @private\n     * @param {Array} array The array to shuffle.\n     * @returns {Array} Returns the new shuffled array.\n     */\n    function arrayShuffle(array) {\n      return shuffleSelf(copyArray(array));\n    }\n\n    /**\n     * This function is like `assignValue` except that it doesn't assign\n     * `undefined` values.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {string} key The key of the property to assign.\n     * @param {*} value The value to assign.\n     */\n    function assignMergeValue(object, key, value) {\n      if ((value !== undefined && !eq(object[key], value)) ||\n          (value === undefined && !(key in object))) {\n        baseAssignValue(object, key, value);\n      }\n    }\n\n    /**\n     * Assigns `value` to `key` of `object` if the existing value is not equivalent\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {string} key The key of the property to assign.\n     * @param {*} value The value to assign.\n     */\n    function assignValue(object, key, value) {\n      var objValue = object[key];\n      if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n          (value === undefined && !(key in object))) {\n        baseAssignValue(object, key, value);\n      }\n    }\n\n    /**\n     * Gets the index at which the `key` is found in `array` of key-value pairs.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {*} key The key to search for.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     */\n    function assocIndexOf(array, key) {\n      var length = array.length;\n      while (length--) {\n        if (eq(array[length][0], key)) {\n          return length;\n        }\n      }\n      return -1;\n    }\n\n    /**\n     * Aggregates elements of `collection` on `accumulator` with keys transformed\n     * by `iteratee` and values set by `setter`.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} setter The function to set `accumulator` values.\n     * @param {Function} iteratee The iteratee to transform keys.\n     * @param {Object} accumulator The initial aggregated object.\n     * @returns {Function} Returns `accumulator`.\n     */\n    function baseAggregator(collection, setter, iteratee, accumulator) {\n      baseEach(collection, function(value, key, collection) {\n        setter(accumulator, value, iteratee(value), collection);\n      });\n      return accumulator;\n    }\n\n    /**\n     * The base implementation of `_.assign` without support for multiple sources\n     * or `customizer` functions.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @returns {Object} Returns `object`.\n     */\n    function baseAssign(object, source) {\n      return object && copyObject(source, keys(source), object);\n    }\n\n    /**\n     * The base implementation of `_.assignIn` without support for multiple sources\n     * or `customizer` functions.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @returns {Object} Returns `object`.\n     */\n    function baseAssignIn(object, source) {\n      return object && copyObject(source, keysIn(source), object);\n    }\n\n    /**\n     * The base implementation of `assignValue` and `assignMergeValue` without\n     * value checks.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {string} key The key of the property to assign.\n     * @param {*} value The value to assign.\n     */\n    function baseAssignValue(object, key, value) {\n      if (key == '__proto__' && defineProperty) {\n        defineProperty(object, key, {\n          'configurable': true,\n          'enumerable': true,\n          'value': value,\n          'writable': true\n        });\n      } else {\n        object[key] = value;\n      }\n    }\n\n    /**\n     * The base implementation of `_.at` without support for individual paths.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {string[]} paths The property paths to pick.\n     * @returns {Array} Returns the picked elements.\n     */\n    function baseAt(object, paths) {\n      var index = -1,\n          length = paths.length,\n          result = Array(length),\n          skip = object == null;\n\n      while (++index < length) {\n        result[index] = skip ? undefined : get(object, paths[index]);\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.clamp` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {number} number The number to clamp.\n     * @param {number} [lower] The lower bound.\n     * @param {number} upper The upper bound.\n     * @returns {number} Returns the clamped number.\n     */\n    function baseClamp(number, lower, upper) {\n      if (number === number) {\n        if (upper !== undefined) {\n          number = number <= upper ? number : upper;\n        }\n        if (lower !== undefined) {\n          number = number >= lower ? number : lower;\n        }\n      }\n      return number;\n    }\n\n    /**\n     * The base implementation of `_.clone` and `_.cloneDeep` which tracks\n     * traversed objects.\n     *\n     * @private\n     * @param {*} value The value to clone.\n     * @param {boolean} bitmask The bitmask flags.\n     *  1 - Deep clone\n     *  2 - Flatten inherited properties\n     *  4 - Clone symbols\n     * @param {Function} [customizer] The function to customize cloning.\n     * @param {string} [key] The key of `value`.\n     * @param {Object} [object] The parent object of `value`.\n     * @param {Object} [stack] Tracks traversed objects and their clone counterparts.\n     * @returns {*} Returns the cloned value.\n     */\n    function baseClone(value, bitmask, customizer, key, object, stack) {\n      var result,\n          isDeep = bitmask & CLONE_DEEP_FLAG,\n          isFlat = bitmask & CLONE_FLAT_FLAG,\n          isFull = bitmask & CLONE_SYMBOLS_FLAG;\n\n      if (customizer) {\n        result = object ? customizer(value, key, object, stack) : customizer(value);\n      }\n      if (result !== undefined) {\n        return result;\n      }\n      if (!isObject(value)) {\n        return value;\n      }\n      var isArr = isArray(value);\n      if (isArr) {\n        result = initCloneArray(value);\n        if (!isDeep) {\n          return copyArray(value, result);\n        }\n      } else {\n        var tag = getTag(value),\n            isFunc = tag == funcTag || tag == genTag;\n\n        if (isBuffer(value)) {\n          return cloneBuffer(value, isDeep);\n        }\n        if (tag == objectTag || tag == argsTag || (isFunc && !object)) {\n          result = (isFlat || isFunc) ? {} : initCloneObject(value);\n          if (!isDeep) {\n            return isFlat\n              ? copySymbolsIn(value, baseAssignIn(result, value))\n              : copySymbols(value, baseAssign(result, value));\n          }\n        } else {\n          if (!cloneableTags[tag]) {\n            return object ? value : {};\n          }\n          result = initCloneByTag(value, tag, isDeep);\n        }\n      }\n      // Check for circular references and return its corresponding clone.\n      stack || (stack = new Stack);\n      var stacked = stack.get(value);\n      if (stacked) {\n        return stacked;\n      }\n      stack.set(value, result);\n\n      if (isSet(value)) {\n        value.forEach(function(subValue) {\n          result.add(baseClone(subValue, bitmask, customizer, subValue, value, stack));\n        });\n      } else if (isMap(value)) {\n        value.forEach(function(subValue, key) {\n          result.set(key, baseClone(subValue, bitmask, customizer, key, value, stack));\n        });\n      }\n\n      var keysFunc = isFull\n        ? (isFlat ? getAllKeysIn : getAllKeys)\n        : (isFlat ? keysIn : keys);\n\n      var props = isArr ? undefined : keysFunc(value);\n      arrayEach(props || value, function(subValue, key) {\n        if (props) {\n          key = subValue;\n          subValue = value[key];\n        }\n        // Recursively populate clone (susceptible to call stack limits).\n        assignValue(result, key, baseClone(subValue, bitmask, customizer, key, value, stack));\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.conforms` which doesn't clone `source`.\n     *\n     * @private\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {Function} Returns the new spec function.\n     */\n    function baseConforms(source) {\n      var props = keys(source);\n      return function(object) {\n        return baseConformsTo(object, source, props);\n      };\n    }\n\n    /**\n     * The base implementation of `_.conformsTo` which accepts `props` to check.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {boolean} Returns `true` if `object` conforms, else `false`.\n     */\n    function baseConformsTo(object, source, props) {\n      var length = props.length;\n      if (object == null) {\n        return !length;\n      }\n      object = Object(object);\n      while (length--) {\n        var key = props[length],\n            predicate = source[key],\n            value = object[key];\n\n        if ((value === undefined && !(key in object)) || !predicate(value)) {\n          return false;\n        }\n      }\n      return true;\n    }\n\n    /**\n     * The base implementation of `_.delay` and `_.defer` which accepts `args`\n     * to provide to `func`.\n     *\n     * @private\n     * @param {Function} func The function to delay.\n     * @param {number} wait The number of milliseconds to delay invocation.\n     * @param {Array} args The arguments to provide to `func`.\n     * @returns {number|Object} Returns the timer id or timeout object.\n     */\n    function baseDelay(func, wait, args) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      return setTimeout(function() { func.apply(undefined, args); }, wait);\n    }\n\n    /**\n     * The base implementation of methods like `_.difference` without support\n     * for excluding multiple arrays or iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {Array} values The values to exclude.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     */\n    function baseDifference(array, values, iteratee, comparator) {\n      var index = -1,\n          includes = arrayIncludes,\n          isCommon = true,\n          length = array.length,\n          result = [],\n          valuesLength = values.length;\n\n      if (!length) {\n        return result;\n      }\n      if (iteratee) {\n        values = arrayMap(values, baseUnary(iteratee));\n      }\n      if (comparator) {\n        includes = arrayIncludesWith;\n        isCommon = false;\n      }\n      else if (values.length >= LARGE_ARRAY_SIZE) {\n        includes = cacheHas;\n        isCommon = false;\n        values = new SetCache(values);\n      }\n      outer:\n      while (++index < length) {\n        var value = array[index],\n            computed = iteratee == null ? value : iteratee(value);\n\n        value = (comparator || value !== 0) ? value : 0;\n        if (isCommon && computed === computed) {\n          var valuesIndex = valuesLength;\n          while (valuesIndex--) {\n            if (values[valuesIndex] === computed) {\n              continue outer;\n            }\n          }\n          result.push(value);\n        }\n        else if (!includes(values, computed, comparator)) {\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.forEach` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     */\n    var baseEach = createBaseEach(baseForOwn);\n\n    /**\n     * The base implementation of `_.forEachRight` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     */\n    var baseEachRight = createBaseEach(baseForOwnRight, true);\n\n    /**\n     * The base implementation of `_.every` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {boolean} Returns `true` if all elements pass the predicate check,\n     *  else `false`\n     */\n    function baseEvery(collection, predicate) {\n      var result = true;\n      baseEach(collection, function(value, index, collection) {\n        result = !!predicate(value, index, collection);\n        return result;\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of methods like `_.max` and `_.min` which accepts a\n     * `comparator` to determine the extremum value.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} iteratee The iteratee invoked per iteration.\n     * @param {Function} comparator The comparator used to compare values.\n     * @returns {*} Returns the extremum value.\n     */\n    function baseExtremum(array, iteratee, comparator) {\n      var index = -1,\n          length = array.length;\n\n      while (++index < length) {\n        var value = array[index],\n            current = iteratee(value);\n\n        if (current != null && (computed === undefined\n              ? (current === current && !isSymbol(current))\n              : comparator(current, computed)\n            )) {\n          var computed = current,\n              result = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.fill` without an iteratee call guard.\n     *\n     * @private\n     * @param {Array} array The array to fill.\n     * @param {*} value The value to fill `array` with.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns `array`.\n     */\n    function baseFill(array, value, start, end) {\n      var length = array.length;\n\n      start = toInteger(start);\n      if (start < 0) {\n        start = -start > length ? 0 : (length + start);\n      }\n      end = (end === undefined || end > length) ? length : toInteger(end);\n      if (end < 0) {\n        end += length;\n      }\n      end = start > end ? 0 : toLength(end);\n      while (start < end) {\n        array[start++] = value;\n      }\n      return array;\n    }\n\n    /**\n     * The base implementation of `_.filter` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {Array} Returns the new filtered array.\n     */\n    function baseFilter(collection, predicate) {\n      var result = [];\n      baseEach(collection, function(value, index, collection) {\n        if (predicate(value, index, collection)) {\n          result.push(value);\n        }\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.flatten` with support for restricting flattening.\n     *\n     * @private\n     * @param {Array} array The array to flatten.\n     * @param {number} depth The maximum recursion depth.\n     * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n     * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n     * @param {Array} [result=[]] The initial result value.\n     * @returns {Array} Returns the new flattened array.\n     */\n    function baseFlatten(array, depth, predicate, isStrict, result) {\n      var index = -1,\n          length = array.length;\n\n      predicate || (predicate = isFlattenable);\n      result || (result = []);\n\n      while (++index < length) {\n        var value = array[index];\n        if (depth > 0 && predicate(value)) {\n          if (depth > 1) {\n            // Recursively flatten arrays (susceptible to call stack limits).\n            baseFlatten(value, depth - 1, predicate, isStrict, result);\n          } else {\n            arrayPush(result, value);\n          }\n        } else if (!isStrict) {\n          result[result.length] = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `baseForOwn` which iterates over `object`\n     * properties returned by `keysFunc` and invokes `iteratee` for each property.\n     * Iteratee functions may exit iteration early by explicitly returning `false`.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {Function} keysFunc The function to get the keys of `object`.\n     * @returns {Object} Returns `object`.\n     */\n    var baseFor = createBaseFor();\n\n    /**\n     * This function is like `baseFor` except that it iterates over properties\n     * in the opposite order.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {Function} keysFunc The function to get the keys of `object`.\n     * @returns {Object} Returns `object`.\n     */\n    var baseForRight = createBaseFor(true);\n\n    /**\n     * The base implementation of `_.forOwn` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     */\n    function baseForOwn(object, iteratee) {\n      return object && baseFor(object, iteratee, keys);\n    }\n\n    /**\n     * The base implementation of `_.forOwnRight` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     */\n    function baseForOwnRight(object, iteratee) {\n      return object && baseForRight(object, iteratee, keys);\n    }\n\n    /**\n     * The base implementation of `_.functions` which creates an array of\n     * `object` function property names filtered from `props`.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @param {Array} props The property names to filter.\n     * @returns {Array} Returns the function names.\n     */\n    function baseFunctions(object, props) {\n      return arrayFilter(props, function(key) {\n        return isFunction(object[key]);\n      });\n    }\n\n    /**\n     * The base implementation of `_.get` without support for default values.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the property to get.\n     * @returns {*} Returns the resolved value.\n     */\n    function baseGet(object, path) {\n      path = castPath(path, object);\n\n      var index = 0,\n          length = path.length;\n\n      while (object != null && index < length) {\n        object = object[toKey(path[index++])];\n      }\n      return (index && index == length) ? object : undefined;\n    }\n\n    /**\n     * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n     * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n     * symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Function} keysFunc The function to get the keys of `object`.\n     * @param {Function} symbolsFunc The function to get the symbols of `object`.\n     * @returns {Array} Returns the array of property names and symbols.\n     */\n    function baseGetAllKeys(object, keysFunc, symbolsFunc) {\n      var result = keysFunc(object);\n      return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n    }\n\n    /**\n     * The base implementation of `getTag` without fallbacks for buggy environments.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @returns {string} Returns the `toStringTag`.\n     */\n    function baseGetTag(value) {\n      if (value == null) {\n        return value === undefined ? undefinedTag : nullTag;\n      }\n      return (symToStringTag && symToStringTag in Object(value))\n        ? getRawTag(value)\n        : objectToString(value);\n    }\n\n    /**\n     * The base implementation of `_.gt` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is greater than `other`,\n     *  else `false`.\n     */\n    function baseGt(value, other) {\n      return value > other;\n    }\n\n    /**\n     * The base implementation of `_.has` without support for deep paths.\n     *\n     * @private\n     * @param {Object} [object] The object to query.\n     * @param {Array|string} key The key to check.\n     * @returns {boolean} Returns `true` if `key` exists, else `false`.\n     */\n    function baseHas(object, key) {\n      return object != null && hasOwnProperty.call(object, key);\n    }\n\n    /**\n     * The base implementation of `_.hasIn` without support for deep paths.\n     *\n     * @private\n     * @param {Object} [object] The object to query.\n     * @param {Array|string} key The key to check.\n     * @returns {boolean} Returns `true` if `key` exists, else `false`.\n     */\n    function baseHasIn(object, key) {\n      return object != null && key in Object(object);\n    }\n\n    /**\n     * The base implementation of `_.inRange` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {number} number The number to check.\n     * @param {number} start The start of the range.\n     * @param {number} end The end of the range.\n     * @returns {boolean} Returns `true` if `number` is in the range, else `false`.\n     */\n    function baseInRange(number, start, end) {\n      return number >= nativeMin(start, end) && number < nativeMax(start, end);\n    }\n\n    /**\n     * The base implementation of methods like `_.intersection`, without support\n     * for iteratee shorthands, that accepts an array of arrays to inspect.\n     *\n     * @private\n     * @param {Array} arrays The arrays to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of shared values.\n     */\n    function baseIntersection(arrays, iteratee, comparator) {\n      var includes = comparator ? arrayIncludesWith : arrayIncludes,\n          length = arrays[0].length,\n          othLength = arrays.length,\n          othIndex = othLength,\n          caches = Array(othLength),\n          maxLength = Infinity,\n          result = [];\n\n      while (othIndex--) {\n        var array = arrays[othIndex];\n        if (othIndex && iteratee) {\n          array = arrayMap(array, baseUnary(iteratee));\n        }\n        maxLength = nativeMin(array.length, maxLength);\n        caches[othIndex] = !comparator && (iteratee || (length >= 120 && array.length >= 120))\n          ? new SetCache(othIndex && array)\n          : undefined;\n      }\n      array = arrays[0];\n\n      var index = -1,\n          seen = caches[0];\n\n      outer:\n      while (++index < length && result.length < maxLength) {\n        var value = array[index],\n            computed = iteratee ? iteratee(value) : value;\n\n        value = (comparator || value !== 0) ? value : 0;\n        if (!(seen\n              ? cacheHas(seen, computed)\n              : includes(result, computed, comparator)\n            )) {\n          othIndex = othLength;\n          while (--othIndex) {\n            var cache = caches[othIndex];\n            if (!(cache\n                  ? cacheHas(cache, computed)\n                  : includes(arrays[othIndex], computed, comparator))\n                ) {\n              continue outer;\n            }\n          }\n          if (seen) {\n            seen.push(computed);\n          }\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.invert` and `_.invertBy` which inverts\n     * `object` with values transformed by `iteratee` and set by `setter`.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} setter The function to set `accumulator` values.\n     * @param {Function} iteratee The iteratee to transform values.\n     * @param {Object} accumulator The initial inverted object.\n     * @returns {Function} Returns `accumulator`.\n     */\n    function baseInverter(object, setter, iteratee, accumulator) {\n      baseForOwn(object, function(value, key, object) {\n        setter(accumulator, iteratee(value), key, object);\n      });\n      return accumulator;\n    }\n\n    /**\n     * The base implementation of `_.invoke` without support for individual\n     * method arguments.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the method to invoke.\n     * @param {Array} args The arguments to invoke the method with.\n     * @returns {*} Returns the result of the invoked method.\n     */\n    function baseInvoke(object, path, args) {\n      path = castPath(path, object);\n      object = parent(object, path);\n      var func = object == null ? object : object[toKey(last(path))];\n      return func == null ? undefined : apply(func, object, args);\n    }\n\n    /**\n     * The base implementation of `_.isArguments`.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n     */\n    function baseIsArguments(value) {\n      return isObjectLike(value) && baseGetTag(value) == argsTag;\n    }\n\n    /**\n     * The base implementation of `_.isArrayBuffer` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array buffer, else `false`.\n     */\n    function baseIsArrayBuffer(value) {\n      return isObjectLike(value) && baseGetTag(value) == arrayBufferTag;\n    }\n\n    /**\n     * The base implementation of `_.isDate` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a date object, else `false`.\n     */\n    function baseIsDate(value) {\n      return isObjectLike(value) && baseGetTag(value) == dateTag;\n    }\n\n    /**\n     * The base implementation of `_.isEqual` which supports partial comparisons\n     * and tracks traversed objects.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @param {boolean} bitmask The bitmask flags.\n     *  1 - Unordered comparison\n     *  2 - Partial comparison\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     */\n    function baseIsEqual(value, other, bitmask, customizer, stack) {\n      if (value === other) {\n        return true;\n      }\n      if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n        return value !== value && other !== other;\n      }\n      return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n    }\n\n    /**\n     * A specialized version of `baseIsEqual` for arrays and objects which performs\n     * deep comparisons and tracks traversed objects enabling objects with circular\n     * references to be compared.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n      var objIsArr = isArray(object),\n          othIsArr = isArray(other),\n          objTag = objIsArr ? arrayTag : getTag(object),\n          othTag = othIsArr ? arrayTag : getTag(other);\n\n      objTag = objTag == argsTag ? objectTag : objTag;\n      othTag = othTag == argsTag ? objectTag : othTag;\n\n      var objIsObj = objTag == objectTag,\n          othIsObj = othTag == objectTag,\n          isSameTag = objTag == othTag;\n\n      if (isSameTag && isBuffer(object)) {\n        if (!isBuffer(other)) {\n          return false;\n        }\n        objIsArr = true;\n        objIsObj = false;\n      }\n      if (isSameTag && !objIsObj) {\n        stack || (stack = new Stack);\n        return (objIsArr || isTypedArray(object))\n          ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n          : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n      }\n      if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n        var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n            othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n        if (objIsWrapped || othIsWrapped) {\n          var objUnwrapped = objIsWrapped ? object.value() : object,\n              othUnwrapped = othIsWrapped ? other.value() : other;\n\n          stack || (stack = new Stack);\n          return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n        }\n      }\n      if (!isSameTag) {\n        return false;\n      }\n      stack || (stack = new Stack);\n      return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n    }\n\n    /**\n     * The base implementation of `_.isMap` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a map, else `false`.\n     */\n    function baseIsMap(value) {\n      return isObjectLike(value) && getTag(value) == mapTag;\n    }\n\n    /**\n     * The base implementation of `_.isMatch` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property values to match.\n     * @param {Array} matchData The property names, values, and compare flags to match.\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n     */\n    function baseIsMatch(object, source, matchData, customizer) {\n      var index = matchData.length,\n          length = index,\n          noCustomizer = !customizer;\n\n      if (object == null) {\n        return !length;\n      }\n      object = Object(object);\n      while (index--) {\n        var data = matchData[index];\n        if ((noCustomizer && data[2])\n              ? data[1] !== object[data[0]]\n              : !(data[0] in object)\n            ) {\n          return false;\n        }\n      }\n      while (++index < length) {\n        data = matchData[index];\n        var key = data[0],\n            objValue = object[key],\n            srcValue = data[1];\n\n        if (noCustomizer && data[2]) {\n          if (objValue === undefined && !(key in object)) {\n            return false;\n          }\n        } else {\n          var stack = new Stack;\n          if (customizer) {\n            var result = customizer(objValue, srcValue, key, object, source, stack);\n          }\n          if (!(result === undefined\n                ? baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG, customizer, stack)\n                : result\n              )) {\n            return false;\n          }\n        }\n      }\n      return true;\n    }\n\n    /**\n     * The base implementation of `_.isNative` without bad shim checks.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a native function,\n     *  else `false`.\n     */\n    function baseIsNative(value) {\n      if (!isObject(value) || isMasked(value)) {\n        return false;\n      }\n      var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n      return pattern.test(toSource(value));\n    }\n\n    /**\n     * The base implementation of `_.isRegExp` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a regexp, else `false`.\n     */\n    function baseIsRegExp(value) {\n      return isObjectLike(value) && baseGetTag(value) == regexpTag;\n    }\n\n    /**\n     * The base implementation of `_.isSet` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a set, else `false`.\n     */\n    function baseIsSet(value) {\n      return isObjectLike(value) && getTag(value) == setTag;\n    }\n\n    /**\n     * The base implementation of `_.isTypedArray` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n     */\n    function baseIsTypedArray(value) {\n      return isObjectLike(value) &&\n        isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n    }\n\n    /**\n     * The base implementation of `_.iteratee`.\n     *\n     * @private\n     * @param {*} [value=_.identity] The value to convert to an iteratee.\n     * @returns {Function} Returns the iteratee.\n     */\n    function baseIteratee(value) {\n      // Don't store the `typeof` result in a variable to avoid a JIT bug in Safari 9.\n      // See https://bugs.webkit.org/show_bug.cgi?id=156034 for more details.\n      if (typeof value == 'function') {\n        return value;\n      }\n      if (value == null) {\n        return identity;\n      }\n      if (typeof value == 'object') {\n        return isArray(value)\n          ? baseMatchesProperty(value[0], value[1])\n          : baseMatches(value);\n      }\n      return property(value);\n    }\n\n    /**\n     * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     */\n    function baseKeys(object) {\n      if (!isPrototype(object)) {\n        return nativeKeys(object);\n      }\n      var result = [];\n      for (var key in Object(object)) {\n        if (hasOwnProperty.call(object, key) && key != 'constructor') {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     */\n    function baseKeysIn(object) {\n      if (!isObject(object)) {\n        return nativeKeysIn(object);\n      }\n      var isProto = isPrototype(object),\n          result = [];\n\n      for (var key in object) {\n        if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.lt` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is less than `other`,\n     *  else `false`.\n     */\n    function baseLt(value, other) {\n      return value < other;\n    }\n\n    /**\n     * The base implementation of `_.map` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array} Returns the new mapped array.\n     */\n    function baseMap(collection, iteratee) {\n      var index = -1,\n          result = isArrayLike(collection) ? Array(collection.length) : [];\n\n      baseEach(collection, function(value, key, collection) {\n        result[++index] = iteratee(value, key, collection);\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.matches` which doesn't clone `source`.\n     *\n     * @private\n     * @param {Object} source The object of property values to match.\n     * @returns {Function} Returns the new spec function.\n     */\n    function baseMatches(source) {\n      var matchData = getMatchData(source);\n      if (matchData.length == 1 && matchData[0][2]) {\n        return matchesStrictComparable(matchData[0][0], matchData[0][1]);\n      }\n      return function(object) {\n        return object === source || baseIsMatch(object, source, matchData);\n      };\n    }\n\n    /**\n     * The base implementation of `_.matchesProperty` which doesn't clone `srcValue`.\n     *\n     * @private\n     * @param {string} path The path of the property to get.\n     * @param {*} srcValue The value to match.\n     * @returns {Function} Returns the new spec function.\n     */\n    function baseMatchesProperty(path, srcValue) {\n      if (isKey(path) && isStrictComparable(srcValue)) {\n        return matchesStrictComparable(toKey(path), srcValue);\n      }\n      return function(object) {\n        var objValue = get(object, path);\n        return (objValue === undefined && objValue === srcValue)\n          ? hasIn(object, path)\n          : baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG);\n      };\n    }\n\n    /**\n     * The base implementation of `_.merge` without support for multiple sources.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @param {number} srcIndex The index of `source`.\n     * @param {Function} [customizer] The function to customize merged values.\n     * @param {Object} [stack] Tracks traversed source values and their merged\n     *  counterparts.\n     */\n    function baseMerge(object, source, srcIndex, customizer, stack) {\n      if (object === source) {\n        return;\n      }\n      baseFor(source, function(srcValue, key) {\n        stack || (stack = new Stack);\n        if (isObject(srcValue)) {\n          baseMergeDeep(object, source, key, srcIndex, baseMerge, customizer, stack);\n        }\n        else {\n          var newValue = customizer\n            ? customizer(safeGet(object, key), srcValue, (key + ''), object, source, stack)\n            : undefined;\n\n          if (newValue === undefined) {\n            newValue = srcValue;\n          }\n          assignMergeValue(object, key, newValue);\n        }\n      }, keysIn);\n    }\n\n    /**\n     * A specialized version of `baseMerge` for arrays and objects which performs\n     * deep merges and tracks traversed objects enabling objects with circular\n     * references to be merged.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @param {string} key The key of the value to merge.\n     * @param {number} srcIndex The index of `source`.\n     * @param {Function} mergeFunc The function to merge values.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @param {Object} [stack] Tracks traversed source values and their merged\n     *  counterparts.\n     */\n    function baseMergeDeep(object, source, key, srcIndex, mergeFunc, customizer, stack) {\n      var objValue = safeGet(object, key),\n          srcValue = safeGet(source, key),\n          stacked = stack.get(srcValue);\n\n      if (stacked) {\n        assignMergeValue(object, key, stacked);\n        return;\n      }\n      var newValue = customizer\n        ? customizer(objValue, srcValue, (key + ''), object, source, stack)\n        : undefined;\n\n      var isCommon = newValue === undefined;\n\n      if (isCommon) {\n        var isArr = isArray(srcValue),\n            isBuff = !isArr && isBuffer(srcValue),\n            isTyped = !isArr && !isBuff && isTypedArray(srcValue);\n\n        newValue = srcValue;\n        if (isArr || isBuff || isTyped) {\n          if (isArray(objValue)) {\n            newValue = objValue;\n          }\n          else if (isArrayLikeObject(objValue)) {\n            newValue = copyArray(objValue);\n          }\n          else if (isBuff) {\n            isCommon = false;\n            newValue = cloneBuffer(srcValue, true);\n          }\n          else if (isTyped) {\n            isCommon = false;\n            newValue = cloneTypedArray(srcValue, true);\n          }\n          else {\n            newValue = [];\n          }\n        }\n        else if (isPlainObject(srcValue) || isArguments(srcValue)) {\n          newValue = objValue;\n          if (isArguments(objValue)) {\n            newValue = toPlainObject(objValue);\n          }\n          else if (!isObject(objValue) || isFunction(objValue)) {\n            newValue = initCloneObject(srcValue);\n          }\n        }\n        else {\n          isCommon = false;\n        }\n      }\n      if (isCommon) {\n        // Recursively merge objects and arrays (susceptible to call stack limits).\n        stack.set(srcValue, newValue);\n        mergeFunc(newValue, srcValue, srcIndex, customizer, stack);\n        stack['delete'](srcValue);\n      }\n      assignMergeValue(object, key, newValue);\n    }\n\n    /**\n     * The base implementation of `_.nth` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {Array} array The array to query.\n     * @param {number} n The index of the element to return.\n     * @returns {*} Returns the nth element of `array`.\n     */\n    function baseNth(array, n) {\n      var length = array.length;\n      if (!length) {\n        return;\n      }\n      n += n < 0 ? length : 0;\n      return isIndex(n, length) ? array[n] : undefined;\n    }\n\n    /**\n     * The base implementation of `_.orderBy` without param guards.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function[]|Object[]|string[]} iteratees The iteratees to sort by.\n     * @param {string[]} orders The sort orders of `iteratees`.\n     * @returns {Array} Returns the new sorted array.\n     */\n    function baseOrderBy(collection, iteratees, orders) {\n      if (iteratees.length) {\n        iteratees = arrayMap(iteratees, function(iteratee) {\n          if (isArray(iteratee)) {\n            return function(value) {\n              return baseGet(value, iteratee.length === 1 ? iteratee[0] : iteratee);\n            }\n          }\n          return iteratee;\n        });\n      } else {\n        iteratees = [identity];\n      }\n\n      var index = -1;\n      iteratees = arrayMap(iteratees, baseUnary(getIteratee()));\n\n      var result = baseMap(collection, function(value, key, collection) {\n        var criteria = arrayMap(iteratees, function(iteratee) {\n          return iteratee(value);\n        });\n        return { 'criteria': criteria, 'index': ++index, 'value': value };\n      });\n\n      return baseSortBy(result, function(object, other) {\n        return compareMultiple(object, other, orders);\n      });\n    }\n\n    /**\n     * The base implementation of `_.pick` without support for individual\n     * property identifiers.\n     *\n     * @private\n     * @param {Object} object The source object.\n     * @param {string[]} paths The property paths to pick.\n     * @returns {Object} Returns the new object.\n     */\n    function basePick(object, paths) {\n      return basePickBy(object, paths, function(value, path) {\n        return hasIn(object, path);\n      });\n    }\n\n    /**\n     * The base implementation of  `_.pickBy` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The source object.\n     * @param {string[]} paths The property paths to pick.\n     * @param {Function} predicate The function invoked per property.\n     * @returns {Object} Returns the new object.\n     */\n    function basePickBy(object, paths, predicate) {\n      var index = -1,\n          length = paths.length,\n          result = {};\n\n      while (++index < length) {\n        var path = paths[index],\n            value = baseGet(object, path);\n\n        if (predicate(value, path)) {\n          baseSet(result, castPath(path, object), value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * A specialized version of `baseProperty` which supports deep paths.\n     *\n     * @private\n     * @param {Array|string} path The path of the property to get.\n     * @returns {Function} Returns the new accessor function.\n     */\n    function basePropertyDeep(path) {\n      return function(object) {\n        return baseGet(object, path);\n      };\n    }\n\n    /**\n     * The base implementation of `_.pullAllBy` without support for iteratee\n     * shorthands.\n     *\n     * @private\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns `array`.\n     */\n    function basePullAll(array, values, iteratee, comparator) {\n      var indexOf = comparator ? baseIndexOfWith : baseIndexOf,\n          index = -1,\n          length = values.length,\n          seen = array;\n\n      if (array === values) {\n        values = copyArray(values);\n      }\n      if (iteratee) {\n        seen = arrayMap(array, baseUnary(iteratee));\n      }\n      while (++index < length) {\n        var fromIndex = 0,\n            value = values[index],\n            computed = iteratee ? iteratee(value) : value;\n\n        while ((fromIndex = indexOf(seen, computed, fromIndex, comparator)) > -1) {\n          if (seen !== array) {\n            splice.call(seen, fromIndex, 1);\n          }\n          splice.call(array, fromIndex, 1);\n        }\n      }\n      return array;\n    }\n\n    /**\n     * The base implementation of `_.pullAt` without support for individual\n     * indexes or capturing the removed elements.\n     *\n     * @private\n     * @param {Array} array The array to modify.\n     * @param {number[]} indexes The indexes of elements to remove.\n     * @returns {Array} Returns `array`.\n     */\n    function basePullAt(array, indexes) {\n      var length = array ? indexes.length : 0,\n          lastIndex = length - 1;\n\n      while (length--) {\n        var index = indexes[length];\n        if (length == lastIndex || index !== previous) {\n          var previous = index;\n          if (isIndex(index)) {\n            splice.call(array, index, 1);\n          } else {\n            baseUnset(array, index);\n          }\n        }\n      }\n      return array;\n    }\n\n    /**\n     * The base implementation of `_.random` without support for returning\n     * floating-point numbers.\n     *\n     * @private\n     * @param {number} lower The lower bound.\n     * @param {number} upper The upper bound.\n     * @returns {number} Returns the random number.\n     */\n    function baseRandom(lower, upper) {\n      return lower + nativeFloor(nativeRandom() * (upper - lower + 1));\n    }\n\n    /**\n     * The base implementation of `_.range` and `_.rangeRight` which doesn't\n     * coerce arguments.\n     *\n     * @private\n     * @param {number} start The start of the range.\n     * @param {number} end The end of the range.\n     * @param {number} step The value to increment or decrement by.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Array} Returns the range of numbers.\n     */\n    function baseRange(start, end, step, fromRight) {\n      var index = -1,\n          length = nativeMax(nativeCeil((end - start) / (step || 1)), 0),\n          result = Array(length);\n\n      while (length--) {\n        result[fromRight ? length : ++index] = start;\n        start += step;\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.repeat` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {string} string The string to repeat.\n     * @param {number} n The number of times to repeat the string.\n     * @returns {string} Returns the repeated string.\n     */\n    function baseRepeat(string, n) {\n      var result = '';\n      if (!string || n < 1 || n > MAX_SAFE_INTEGER) {\n        return result;\n      }\n      // Leverage the exponentiation by squaring algorithm for a faster repeat.\n      // See https://en.wikipedia.org/wiki/Exponentiation_by_squaring for more details.\n      do {\n        if (n % 2) {\n          result += string;\n        }\n        n = nativeFloor(n / 2);\n        if (n) {\n          string += string;\n        }\n      } while (n);\n\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n     *\n     * @private\n     * @param {Function} func The function to apply a rest parameter to.\n     * @param {number} [start=func.length-1] The start position of the rest parameter.\n     * @returns {Function} Returns the new function.\n     */\n    function baseRest(func, start) {\n      return setToString(overRest(func, start, identity), func + '');\n    }\n\n    /**\n     * The base implementation of `_.sample`.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to sample.\n     * @returns {*} Returns the random element.\n     */\n    function baseSample(collection) {\n      return arraySample(values(collection));\n    }\n\n    /**\n     * The base implementation of `_.sampleSize` without param guards.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to sample.\n     * @param {number} n The number of elements to sample.\n     * @returns {Array} Returns the random elements.\n     */\n    function baseSampleSize(collection, n) {\n      var array = values(collection);\n      return shuffleSelf(array, baseClamp(n, 0, array.length));\n    }\n\n    /**\n     * The base implementation of `_.set`.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {*} value The value to set.\n     * @param {Function} [customizer] The function to customize path creation.\n     * @returns {Object} Returns `object`.\n     */\n    function baseSet(object, path, value, customizer) {\n      if (!isObject(object)) {\n        return object;\n      }\n      path = castPath(path, object);\n\n      var index = -1,\n          length = path.length,\n          lastIndex = length - 1,\n          nested = object;\n\n      while (nested != null && ++index < length) {\n        var key = toKey(path[index]),\n            newValue = value;\n\n        if (key === '__proto__' || key === 'constructor' || key === 'prototype') {\n          return object;\n        }\n\n        if (index != lastIndex) {\n          var objValue = nested[key];\n          newValue = customizer ? customizer(objValue, key, nested) : undefined;\n          if (newValue === undefined) {\n            newValue = isObject(objValue)\n              ? objValue\n              : (isIndex(path[index + 1]) ? [] : {});\n          }\n        }\n        assignValue(nested, key, newValue);\n        nested = nested[key];\n      }\n      return object;\n    }\n\n    /**\n     * The base implementation of `setData` without support for hot loop shorting.\n     *\n     * @private\n     * @param {Function} func The function to associate metadata with.\n     * @param {*} data The metadata.\n     * @returns {Function} Returns `func`.\n     */\n    var baseSetData = !metaMap ? identity : function(func, data) {\n      metaMap.set(func, data);\n      return func;\n    };\n\n    /**\n     * The base implementation of `setToString` without support for hot loop shorting.\n     *\n     * @private\n     * @param {Function} func The function to modify.\n     * @param {Function} string The `toString` result.\n     * @returns {Function} Returns `func`.\n     */\n    var baseSetToString = !defineProperty ? identity : function(func, string) {\n      return defineProperty(func, 'toString', {\n        'configurable': true,\n        'enumerable': false,\n        'value': constant(string),\n        'writable': true\n      });\n    };\n\n    /**\n     * The base implementation of `_.shuffle`.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to shuffle.\n     * @returns {Array} Returns the new shuffled array.\n     */\n    function baseShuffle(collection) {\n      return shuffleSelf(values(collection));\n    }\n\n    /**\n     * The base implementation of `_.slice` without an iteratee call guard.\n     *\n     * @private\n     * @param {Array} array The array to slice.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns the slice of `array`.\n     */\n    function baseSlice(array, start, end) {\n      var index = -1,\n          length = array.length;\n\n      if (start < 0) {\n        start = -start > length ? 0 : (length + start);\n      }\n      end = end > length ? length : end;\n      if (end < 0) {\n        end += length;\n      }\n      length = start > end ? 0 : ((end - start) >>> 0);\n      start >>>= 0;\n\n      var result = Array(length);\n      while (++index < length) {\n        result[index] = array[index + start];\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.some` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {boolean} Returns `true` if any element passes the predicate check,\n     *  else `false`.\n     */\n    function baseSome(collection, predicate) {\n      var result;\n\n      baseEach(collection, function(value, index, collection) {\n        result = predicate(value, index, collection);\n        return !result;\n      });\n      return !!result;\n    }\n\n    /**\n     * The base implementation of `_.sortedIndex` and `_.sortedLastIndex` which\n     * performs a binary search of `array` to determine the index at which `value`\n     * should be inserted into `array` in order to maintain its sort order.\n     *\n     * @private\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {boolean} [retHighest] Specify returning the highest qualified index.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     */\n    function baseSortedIndex(array, value, retHighest) {\n      var low = 0,\n          high = array == null ? low : array.length;\n\n      if (typeof value == 'number' && value === value && high <= HALF_MAX_ARRAY_LENGTH) {\n        while (low < high) {\n          var mid = (low + high) >>> 1,\n              computed = array[mid];\n\n          if (computed !== null && !isSymbol(computed) &&\n              (retHighest ? (computed <= value) : (computed < value))) {\n            low = mid + 1;\n          } else {\n            high = mid;\n          }\n        }\n        return high;\n      }\n      return baseSortedIndexBy(array, value, identity, retHighest);\n    }\n\n    /**\n     * The base implementation of `_.sortedIndexBy` and `_.sortedLastIndexBy`\n     * which invokes `iteratee` for `value` and each element of `array` to compute\n     * their sort ranking. The iteratee is invoked with one argument; (value).\n     *\n     * @private\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function} iteratee The iteratee invoked per element.\n     * @param {boolean} [retHighest] Specify returning the highest qualified index.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     */\n    function baseSortedIndexBy(array, value, iteratee, retHighest) {\n      var low = 0,\n          high = array == null ? 0 : array.length;\n      if (high === 0) {\n        return 0;\n      }\n\n      value = iteratee(value);\n      var valIsNaN = value !== value,\n          valIsNull = value === null,\n          valIsSymbol = isSymbol(value),\n          valIsUndefined = value === undefined;\n\n      while (low < high) {\n        var mid = nativeFloor((low + high) / 2),\n            computed = iteratee(array[mid]),\n            othIsDefined = computed !== undefined,\n            othIsNull = computed === null,\n            othIsReflexive = computed === computed,\n            othIsSymbol = isSymbol(computed);\n\n        if (valIsNaN) {\n          var setLow = retHighest || othIsReflexive;\n        } else if (valIsUndefined) {\n          setLow = othIsReflexive && (retHighest || othIsDefined);\n        } else if (valIsNull) {\n          setLow = othIsReflexive && othIsDefined && (retHighest || !othIsNull);\n        } else if (valIsSymbol) {\n          setLow = othIsReflexive && othIsDefined && !othIsNull && (retHighest || !othIsSymbol);\n        } else if (othIsNull || othIsSymbol) {\n          setLow = false;\n        } else {\n          setLow = retHighest ? (computed <= value) : (computed < value);\n        }\n        if (setLow) {\n          low = mid + 1;\n        } else {\n          high = mid;\n        }\n      }\n      return nativeMin(high, MAX_ARRAY_INDEX);\n    }\n\n    /**\n     * The base implementation of `_.sortedUniq` and `_.sortedUniqBy` without\n     * support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     */\n    function baseSortedUniq(array, iteratee) {\n      var index = -1,\n          length = array.length,\n          resIndex = 0,\n          result = [];\n\n      while (++index < length) {\n        var value = array[index],\n            computed = iteratee ? iteratee(value) : value;\n\n        if (!index || !eq(computed, seen)) {\n          var seen = computed;\n          result[resIndex++] = value === 0 ? 0 : value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.toNumber` which doesn't ensure correct\n     * conversions of binary, hexadecimal, or octal string values.\n     *\n     * @private\n     * @param {*} value The value to process.\n     * @returns {number} Returns the number.\n     */\n    function baseToNumber(value) {\n      if (typeof value == 'number') {\n        return value;\n      }\n      if (isSymbol(value)) {\n        return NAN;\n      }\n      return +value;\n    }\n\n    /**\n     * The base implementation of `_.toString` which doesn't convert nullish\n     * values to empty strings.\n     *\n     * @private\n     * @param {*} value The value to process.\n     * @returns {string} Returns the string.\n     */\n    function baseToString(value) {\n      // Exit early for strings to avoid a performance hit in some environments.\n      if (typeof value == 'string') {\n        return value;\n      }\n      if (isArray(value)) {\n        // Recursively convert values (susceptible to call stack limits).\n        return arrayMap(value, baseToString) + '';\n      }\n      if (isSymbol(value)) {\n        return symbolToString ? symbolToString.call(value) : '';\n      }\n      var result = (value + '');\n      return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n    }\n\n    /**\n     * The base implementation of `_.uniqBy` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     */\n    function baseUniq(array, iteratee, comparator) {\n      var index = -1,\n          includes = arrayIncludes,\n          length = array.length,\n          isCommon = true,\n          result = [],\n          seen = result;\n\n      if (comparator) {\n        isCommon = false;\n        includes = arrayIncludesWith;\n      }\n      else if (length >= LARGE_ARRAY_SIZE) {\n        var set = iteratee ? null : createSet(array);\n        if (set) {\n          return setToArray(set);\n        }\n        isCommon = false;\n        includes = cacheHas;\n        seen = new SetCache;\n      }\n      else {\n        seen = iteratee ? [] : result;\n      }\n      outer:\n      while (++index < length) {\n        var value = array[index],\n            computed = iteratee ? iteratee(value) : value;\n\n        value = (comparator || value !== 0) ? value : 0;\n        if (isCommon && computed === computed) {\n          var seenIndex = seen.length;\n          while (seenIndex--) {\n            if (seen[seenIndex] === computed) {\n              continue outer;\n            }\n          }\n          if (iteratee) {\n            seen.push(computed);\n          }\n          result.push(value);\n        }\n        else if (!includes(seen, computed, comparator)) {\n          if (seen !== result) {\n            seen.push(computed);\n          }\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.unset`.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The property path to unset.\n     * @returns {boolean} Returns `true` if the property is deleted, else `false`.\n     */\n    function baseUnset(object, path) {\n      path = castPath(path, object);\n      object = parent(object, path);\n      return object == null || delete object[toKey(last(path))];\n    }\n\n    /**\n     * The base implementation of `_.update`.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to update.\n     * @param {Function} updater The function to produce the updated value.\n     * @param {Function} [customizer] The function to customize path creation.\n     * @returns {Object} Returns `object`.\n     */\n    function baseUpdate(object, path, updater, customizer) {\n      return baseSet(object, path, updater(baseGet(object, path)), customizer);\n    }\n\n    /**\n     * The base implementation of methods like `_.dropWhile` and `_.takeWhile`\n     * without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to query.\n     * @param {Function} predicate The function invoked per iteration.\n     * @param {boolean} [isDrop] Specify dropping elements instead of taking them.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Array} Returns the slice of `array`.\n     */\n    function baseWhile(array, predicate, isDrop, fromRight) {\n      var length = array.length,\n          index = fromRight ? length : -1;\n\n      while ((fromRight ? index-- : ++index < length) &&\n        predicate(array[index], index, array)) {}\n\n      return isDrop\n        ? baseSlice(array, (fromRight ? 0 : index), (fromRight ? index + 1 : length))\n        : baseSlice(array, (fromRight ? index + 1 : 0), (fromRight ? length : index));\n    }\n\n    /**\n     * The base implementation of `wrapperValue` which returns the result of\n     * performing a sequence of actions on the unwrapped `value`, where each\n     * successive action is supplied the return value of the previous.\n     *\n     * @private\n     * @param {*} value The unwrapped value.\n     * @param {Array} actions Actions to perform to resolve the unwrapped value.\n     * @returns {*} Returns the resolved value.\n     */\n    function baseWrapperValue(value, actions) {\n      var result = value;\n      if (result instanceof LazyWrapper) {\n        result = result.value();\n      }\n      return arrayReduce(actions, function(result, action) {\n        return action.func.apply(action.thisArg, arrayPush([result], action.args));\n      }, result);\n    }\n\n    /**\n     * The base implementation of methods like `_.xor`, without support for\n     * iteratee shorthands, that accepts an array of arrays to inspect.\n     *\n     * @private\n     * @param {Array} arrays The arrays to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of values.\n     */\n    function baseXor(arrays, iteratee, comparator) {\n      var length = arrays.length;\n      if (length < 2) {\n        return length ? baseUniq(arrays[0]) : [];\n      }\n      var index = -1,\n          result = Array(length);\n\n      while (++index < length) {\n        var array = arrays[index],\n            othIndex = -1;\n\n        while (++othIndex < length) {\n          if (othIndex != index) {\n            result[index] = baseDifference(result[index] || array, arrays[othIndex], iteratee, comparator);\n          }\n        }\n      }\n      return baseUniq(baseFlatten(result, 1), iteratee, comparator);\n    }\n\n    /**\n     * This base implementation of `_.zipObject` which assigns values using `assignFunc`.\n     *\n     * @private\n     * @param {Array} props The property identifiers.\n     * @param {Array} values The property values.\n     * @param {Function} assignFunc The function to assign values.\n     * @returns {Object} Returns the new object.\n     */\n    function baseZipObject(props, values, assignFunc) {\n      var index = -1,\n          length = props.length,\n          valsLength = values.length,\n          result = {};\n\n      while (++index < length) {\n        var value = index < valsLength ? values[index] : undefined;\n        assignFunc(result, props[index], value);\n      }\n      return result;\n    }\n\n    /**\n     * Casts `value` to an empty array if it's not an array like object.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @returns {Array|Object} Returns the cast array-like object.\n     */\n    function castArrayLikeObject(value) {\n      return isArrayLikeObject(value) ? value : [];\n    }\n\n    /**\n     * Casts `value` to `identity` if it's not a function.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @returns {Function} Returns cast function.\n     */\n    function castFunction(value) {\n      return typeof value == 'function' ? value : identity;\n    }\n\n    /**\n     * Casts `value` to a path array if it's not one.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @param {Object} [object] The object to query keys on.\n     * @returns {Array} Returns the cast property path array.\n     */\n    function castPath(value, object) {\n      if (isArray(value)) {\n        return value;\n      }\n      return isKey(value, object) ? [value] : stringToPath(toString(value));\n    }\n\n    /**\n     * A `baseRest` alias which can be replaced with `identity` by module\n     * replacement plugins.\n     *\n     * @private\n     * @type {Function}\n     * @param {Function} func The function to apply a rest parameter to.\n     * @returns {Function} Returns the new function.\n     */\n    var castRest = baseRest;\n\n    /**\n     * Casts `array` to a slice if it's needed.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {number} start The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns the cast slice.\n     */\n    function castSlice(array, start, end) {\n      var length = array.length;\n      end = end === undefined ? length : end;\n      return (!start && end >= length) ? array : baseSlice(array, start, end);\n    }\n\n    /**\n     * A simple wrapper around the global [`clearTimeout`](https://mdn.io/clearTimeout).\n     *\n     * @private\n     * @param {number|Object} id The timer id or timeout object of the timer to clear.\n     */\n    var clearTimeout = ctxClearTimeout || function(id) {\n      return root.clearTimeout(id);\n    };\n\n    /**\n     * Creates a clone of  `buffer`.\n     *\n     * @private\n     * @param {Buffer} buffer The buffer to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Buffer} Returns the cloned buffer.\n     */\n    function cloneBuffer(buffer, isDeep) {\n      if (isDeep) {\n        return buffer.slice();\n      }\n      var length = buffer.length,\n          result = allocUnsafe ? allocUnsafe(length) : new buffer.constructor(length);\n\n      buffer.copy(result);\n      return result;\n    }\n\n    /**\n     * Creates a clone of `arrayBuffer`.\n     *\n     * @private\n     * @param {ArrayBuffer} arrayBuffer The array buffer to clone.\n     * @returns {ArrayBuffer} Returns the cloned array buffer.\n     */\n    function cloneArrayBuffer(arrayBuffer) {\n      var result = new arrayBuffer.constructor(arrayBuffer.byteLength);\n      new Uint8Array(result).set(new Uint8Array(arrayBuffer));\n      return result;\n    }\n\n    /**\n     * Creates a clone of `dataView`.\n     *\n     * @private\n     * @param {Object} dataView The data view to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Object} Returns the cloned data view.\n     */\n    function cloneDataView(dataView, isDeep) {\n      var buffer = isDeep ? cloneArrayBuffer(dataView.buffer) : dataView.buffer;\n      return new dataView.constructor(buffer, dataView.byteOffset, dataView.byteLength);\n    }\n\n    /**\n     * Creates a clone of `regexp`.\n     *\n     * @private\n     * @param {Object} regexp The regexp to clone.\n     * @returns {Object} Returns the cloned regexp.\n     */\n    function cloneRegExp(regexp) {\n      var result = new regexp.constructor(regexp.source, reFlags.exec(regexp));\n      result.lastIndex = regexp.lastIndex;\n      return result;\n    }\n\n    /**\n     * Creates a clone of the `symbol` object.\n     *\n     * @private\n     * @param {Object} symbol The symbol object to clone.\n     * @returns {Object} Returns the cloned symbol object.\n     */\n    function cloneSymbol(symbol) {\n      return symbolValueOf ? Object(symbolValueOf.call(symbol)) : {};\n    }\n\n    /**\n     * Creates a clone of `typedArray`.\n     *\n     * @private\n     * @param {Object} typedArray The typed array to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Object} Returns the cloned typed array.\n     */\n    function cloneTypedArray(typedArray, isDeep) {\n      var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;\n      return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);\n    }\n\n    /**\n     * Compares values to sort them in ascending order.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {number} Returns the sort order indicator for `value`.\n     */\n    function compareAscending(value, other) {\n      if (value !== other) {\n        var valIsDefined = value !== undefined,\n            valIsNull = value === null,\n            valIsReflexive = value === value,\n            valIsSymbol = isSymbol(value);\n\n        var othIsDefined = other !== undefined,\n            othIsNull = other === null,\n            othIsReflexive = other === other,\n            othIsSymbol = isSymbol(other);\n\n        if ((!othIsNull && !othIsSymbol && !valIsSymbol && value > other) ||\n            (valIsSymbol && othIsDefined && othIsReflexive && !othIsNull && !othIsSymbol) ||\n            (valIsNull && othIsDefined && othIsReflexive) ||\n            (!valIsDefined && othIsReflexive) ||\n            !valIsReflexive) {\n          return 1;\n        }\n        if ((!valIsNull && !valIsSymbol && !othIsSymbol && value < other) ||\n            (othIsSymbol && valIsDefined && valIsReflexive && !valIsNull && !valIsSymbol) ||\n            (othIsNull && valIsDefined && valIsReflexive) ||\n            (!othIsDefined && valIsReflexive) ||\n            !othIsReflexive) {\n          return -1;\n        }\n      }\n      return 0;\n    }\n\n    /**\n     * Used by `_.orderBy` to compare multiple properties of a value to another\n     * and stable sort them.\n     *\n     * If `orders` is unspecified, all values are sorted in ascending order. Otherwise,\n     * specify an order of \"desc\" for descending or \"asc\" for ascending sort order\n     * of corresponding values.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {boolean[]|string[]} orders The order to sort by for each property.\n     * @returns {number} Returns the sort order indicator for `object`.\n     */\n    function compareMultiple(object, other, orders) {\n      var index = -1,\n          objCriteria = object.criteria,\n          othCriteria = other.criteria,\n          length = objCriteria.length,\n          ordersLength = orders.length;\n\n      while (++index < length) {\n        var result = compareAscending(objCriteria[index], othCriteria[index]);\n        if (result) {\n          if (index >= ordersLength) {\n            return result;\n          }\n          var order = orders[index];\n          return result * (order == 'desc' ? -1 : 1);\n        }\n      }\n      // Fixes an `Array#sort` bug in the JS engine embedded in Adobe applications\n      // that causes it, under certain circumstances, to provide the same value for\n      // `object` and `other`. See https://github.com/jashkenas/underscore/pull/1247\n      // for more details.\n      //\n      // This also ensures a stable sort in V8 and other engines.\n      // See https://bugs.chromium.org/p/v8/issues/detail?id=90 for more details.\n      return object.index - other.index;\n    }\n\n    /**\n     * Creates an array that is the composition of partially applied arguments,\n     * placeholders, and provided arguments into a single array of arguments.\n     *\n     * @private\n     * @param {Array} args The provided arguments.\n     * @param {Array} partials The arguments to prepend to those provided.\n     * @param {Array} holders The `partials` placeholder indexes.\n     * @params {boolean} [isCurried] Specify composing for a curried function.\n     * @returns {Array} Returns the new array of composed arguments.\n     */\n    function composeArgs(args, partials, holders, isCurried) {\n      var argsIndex = -1,\n          argsLength = args.length,\n          holdersLength = holders.length,\n          leftIndex = -1,\n          leftLength = partials.length,\n          rangeLength = nativeMax(argsLength - holdersLength, 0),\n          result = Array(leftLength + rangeLength),\n          isUncurried = !isCurried;\n\n      while (++leftIndex < leftLength) {\n        result[leftIndex] = partials[leftIndex];\n      }\n      while (++argsIndex < holdersLength) {\n        if (isUncurried || argsIndex < argsLength) {\n          result[holders[argsIndex]] = args[argsIndex];\n        }\n      }\n      while (rangeLength--) {\n        result[leftIndex++] = args[argsIndex++];\n      }\n      return result;\n    }\n\n    /**\n     * This function is like `composeArgs` except that the arguments composition\n     * is tailored for `_.partialRight`.\n     *\n     * @private\n     * @param {Array} args The provided arguments.\n     * @param {Array} partials The arguments to append to those provided.\n     * @param {Array} holders The `partials` placeholder indexes.\n     * @params {boolean} [isCurried] Specify composing for a curried function.\n     * @returns {Array} Returns the new array of composed arguments.\n     */\n    function composeArgsRight(args, partials, holders, isCurried) {\n      var argsIndex = -1,\n          argsLength = args.length,\n          holdersIndex = -1,\n          holdersLength = holders.length,\n          rightIndex = -1,\n          rightLength = partials.length,\n          rangeLength = nativeMax(argsLength - holdersLength, 0),\n          result = Array(rangeLength + rightLength),\n          isUncurried = !isCurried;\n\n      while (++argsIndex < rangeLength) {\n        result[argsIndex] = args[argsIndex];\n      }\n      var offset = argsIndex;\n      while (++rightIndex < rightLength) {\n        result[offset + rightIndex] = partials[rightIndex];\n      }\n      while (++holdersIndex < holdersLength) {\n        if (isUncurried || argsIndex < argsLength) {\n          result[offset + holders[holdersIndex]] = args[argsIndex++];\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Copies the values of `source` to `array`.\n     *\n     * @private\n     * @param {Array} source The array to copy values from.\n     * @param {Array} [array=[]] The array to copy values to.\n     * @returns {Array} Returns `array`.\n     */\n    function copyArray(source, array) {\n      var index = -1,\n          length = source.length;\n\n      array || (array = Array(length));\n      while (++index < length) {\n        array[index] = source[index];\n      }\n      return array;\n    }\n\n    /**\n     * Copies properties of `source` to `object`.\n     *\n     * @private\n     * @param {Object} source The object to copy properties from.\n     * @param {Array} props The property identifiers to copy.\n     * @param {Object} [object={}] The object to copy properties to.\n     * @param {Function} [customizer] The function to customize copied values.\n     * @returns {Object} Returns `object`.\n     */\n    function copyObject(source, props, object, customizer) {\n      var isNew = !object;\n      object || (object = {});\n\n      var index = -1,\n          length = props.length;\n\n      while (++index < length) {\n        var key = props[index];\n\n        var newValue = customizer\n          ? customizer(object[key], source[key], key, object, source)\n          : undefined;\n\n        if (newValue === undefined) {\n          newValue = source[key];\n        }\n        if (isNew) {\n          baseAssignValue(object, key, newValue);\n        } else {\n          assignValue(object, key, newValue);\n        }\n      }\n      return object;\n    }\n\n    /**\n     * Copies own symbols of `source` to `object`.\n     *\n     * @private\n     * @param {Object} source The object to copy symbols from.\n     * @param {Object} [object={}] The object to copy symbols to.\n     * @returns {Object} Returns `object`.\n     */\n    function copySymbols(source, object) {\n      return copyObject(source, getSymbols(source), object);\n    }\n\n    /**\n     * Copies own and inherited symbols of `source` to `object`.\n     *\n     * @private\n     * @param {Object} source The object to copy symbols from.\n     * @param {Object} [object={}] The object to copy symbols to.\n     * @returns {Object} Returns `object`.\n     */\n    function copySymbolsIn(source, object) {\n      return copyObject(source, getSymbolsIn(source), object);\n    }\n\n    /**\n     * Creates a function like `_.groupBy`.\n     *\n     * @private\n     * @param {Function} setter The function to set accumulator values.\n     * @param {Function} [initializer] The accumulator object initializer.\n     * @returns {Function} Returns the new aggregator function.\n     */\n    function createAggregator(setter, initializer) {\n      return function(collection, iteratee) {\n        var func = isArray(collection) ? arrayAggregator : baseAggregator,\n            accumulator = initializer ? initializer() : {};\n\n        return func(collection, setter, getIteratee(iteratee, 2), accumulator);\n      };\n    }\n\n    /**\n     * Creates a function like `_.assign`.\n     *\n     * @private\n     * @param {Function} assigner The function to assign values.\n     * @returns {Function} Returns the new assigner function.\n     */\n    function createAssigner(assigner) {\n      return baseRest(function(object, sources) {\n        var index = -1,\n            length = sources.length,\n            customizer = length > 1 ? sources[length - 1] : undefined,\n            guard = length > 2 ? sources[2] : undefined;\n\n        customizer = (assigner.length > 3 && typeof customizer == 'function')\n          ? (length--, customizer)\n          : undefined;\n\n        if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n          customizer = length < 3 ? undefined : customizer;\n          length = 1;\n        }\n        object = Object(object);\n        while (++index < length) {\n          var source = sources[index];\n          if (source) {\n            assigner(object, source, index, customizer);\n          }\n        }\n        return object;\n      });\n    }\n\n    /**\n     * Creates a `baseEach` or `baseEachRight` function.\n     *\n     * @private\n     * @param {Function} eachFunc The function to iterate over a collection.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new base function.\n     */\n    function createBaseEach(eachFunc, fromRight) {\n      return function(collection, iteratee) {\n        if (collection == null) {\n          return collection;\n        }\n        if (!isArrayLike(collection)) {\n          return eachFunc(collection, iteratee);\n        }\n        var length = collection.length,\n            index = fromRight ? length : -1,\n            iterable = Object(collection);\n\n        while ((fromRight ? index-- : ++index < length)) {\n          if (iteratee(iterable[index], index, iterable) === false) {\n            break;\n          }\n        }\n        return collection;\n      };\n    }\n\n    /**\n     * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new base function.\n     */\n    function createBaseFor(fromRight) {\n      return function(object, iteratee, keysFunc) {\n        var index = -1,\n            iterable = Object(object),\n            props = keysFunc(object),\n            length = props.length;\n\n        while (length--) {\n          var key = props[fromRight ? length : ++index];\n          if (iteratee(iterable[key], key, iterable) === false) {\n            break;\n          }\n        }\n        return object;\n      };\n    }\n\n    /**\n     * Creates a function that wraps `func` to invoke it with the optional `this`\n     * binding of `thisArg`.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createBind(func, bitmask, thisArg) {\n      var isBind = bitmask & WRAP_BIND_FLAG,\n          Ctor = createCtor(func);\n\n      function wrapper() {\n        var fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n        return fn.apply(isBind ? thisArg : this, arguments);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a function like `_.lowerFirst`.\n     *\n     * @private\n     * @param {string} methodName The name of the `String` case method to use.\n     * @returns {Function} Returns the new case function.\n     */\n    function createCaseFirst(methodName) {\n      return function(string) {\n        string = toString(string);\n\n        var strSymbols = hasUnicode(string)\n          ? stringToArray(string)\n          : undefined;\n\n        var chr = strSymbols\n          ? strSymbols[0]\n          : string.charAt(0);\n\n        var trailing = strSymbols\n          ? castSlice(strSymbols, 1).join('')\n          : string.slice(1);\n\n        return chr[methodName]() + trailing;\n      };\n    }\n\n    /**\n     * Creates a function like `_.camelCase`.\n     *\n     * @private\n     * @param {Function} callback The function to combine each word.\n     * @returns {Function} Returns the new compounder function.\n     */\n    function createCompounder(callback) {\n      return function(string) {\n        return arrayReduce(words(deburr(string).replace(reApos, '')), callback, '');\n      };\n    }\n\n    /**\n     * Creates a function that produces an instance of `Ctor` regardless of\n     * whether it was invoked as part of a `new` expression or by `call` or `apply`.\n     *\n     * @private\n     * @param {Function} Ctor The constructor to wrap.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createCtor(Ctor) {\n      return function() {\n        // Use a `switch` statement to work with class constructors. See\n        // http://ecma-international.org/ecma-262/7.0/#sec-ecmascript-function-objects-call-thisargument-argumentslist\n        // for more details.\n        var args = arguments;\n        switch (args.length) {\n          case 0: return new Ctor;\n          case 1: return new Ctor(args[0]);\n          case 2: return new Ctor(args[0], args[1]);\n          case 3: return new Ctor(args[0], args[1], args[2]);\n          case 4: return new Ctor(args[0], args[1], args[2], args[3]);\n          case 5: return new Ctor(args[0], args[1], args[2], args[3], args[4]);\n          case 6: return new Ctor(args[0], args[1], args[2], args[3], args[4], args[5]);\n          case 7: return new Ctor(args[0], args[1], args[2], args[3], args[4], args[5], args[6]);\n        }\n        var thisBinding = baseCreate(Ctor.prototype),\n            result = Ctor.apply(thisBinding, args);\n\n        // Mimic the constructor's `return` behavior.\n        // See https://es5.github.io/#x13.2.2 for more details.\n        return isObject(result) ? result : thisBinding;\n      };\n    }\n\n    /**\n     * Creates a function that wraps `func` to enable currying.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {number} arity The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createCurry(func, bitmask, arity) {\n      var Ctor = createCtor(func);\n\n      function wrapper() {\n        var length = arguments.length,\n            args = Array(length),\n            index = length,\n            placeholder = getHolder(wrapper);\n\n        while (index--) {\n          args[index] = arguments[index];\n        }\n        var holders = (length < 3 && args[0] !== placeholder && args[length - 1] !== placeholder)\n          ? []\n          : replaceHolders(args, placeholder);\n\n        length -= holders.length;\n        if (length < arity) {\n          return createRecurry(\n            func, bitmask, createHybrid, wrapper.placeholder, undefined,\n            args, holders, undefined, undefined, arity - length);\n        }\n        var fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n        return apply(fn, this, args);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a `_.find` or `_.findLast` function.\n     *\n     * @private\n     * @param {Function} findIndexFunc The function to find the collection index.\n     * @returns {Function} Returns the new find function.\n     */\n    function createFind(findIndexFunc) {\n      return function(collection, predicate, fromIndex) {\n        var iterable = Object(collection);\n        if (!isArrayLike(collection)) {\n          var iteratee = getIteratee(predicate, 3);\n          collection = keys(collection);\n          predicate = function(key) { return iteratee(iterable[key], key, iterable); };\n        }\n        var index = findIndexFunc(collection, predicate, fromIndex);\n        return index > -1 ? iterable[iteratee ? collection[index] : index] : undefined;\n      };\n    }\n\n    /**\n     * Creates a `_.flow` or `_.flowRight` function.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new flow function.\n     */\n    function createFlow(fromRight) {\n      return flatRest(function(funcs) {\n        var length = funcs.length,\n            index = length,\n            prereq = LodashWrapper.prototype.thru;\n\n        if (fromRight) {\n          funcs.reverse();\n        }\n        while (index--) {\n          var func = funcs[index];\n          if (typeof func != 'function') {\n            throw new TypeError(FUNC_ERROR_TEXT);\n          }\n          if (prereq && !wrapper && getFuncName(func) == 'wrapper') {\n            var wrapper = new LodashWrapper([], true);\n          }\n        }\n        index = wrapper ? index : length;\n        while (++index < length) {\n          func = funcs[index];\n\n          var funcName = getFuncName(func),\n              data = funcName == 'wrapper' ? getData(func) : undefined;\n\n          if (data && isLaziable(data[0]) &&\n                data[1] == (WRAP_ARY_FLAG | WRAP_CURRY_FLAG | WRAP_PARTIAL_FLAG | WRAP_REARG_FLAG) &&\n                !data[4].length && data[9] == 1\n              ) {\n            wrapper = wrapper[getFuncName(data[0])].apply(wrapper, data[3]);\n          } else {\n            wrapper = (func.length == 1 && isLaziable(func))\n              ? wrapper[funcName]()\n              : wrapper.thru(func);\n          }\n        }\n        return function() {\n          var args = arguments,\n              value = args[0];\n\n          if (wrapper && args.length == 1 && isArray(value)) {\n            return wrapper.plant(value).value();\n          }\n          var index = 0,\n              result = length ? funcs[index].apply(this, args) : value;\n\n          while (++index < length) {\n            result = funcs[index].call(this, result);\n          }\n          return result;\n        };\n      });\n    }\n\n    /**\n     * Creates a function that wraps `func` to invoke it with optional `this`\n     * binding of `thisArg`, partial application, and currying.\n     *\n     * @private\n     * @param {Function|string} func The function or method name to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {Array} [partials] The arguments to prepend to those provided to\n     *  the new function.\n     * @param {Array} [holders] The `partials` placeholder indexes.\n     * @param {Array} [partialsRight] The arguments to append to those provided\n     *  to the new function.\n     * @param {Array} [holdersRight] The `partialsRight` placeholder indexes.\n     * @param {Array} [argPos] The argument positions of the new function.\n     * @param {number} [ary] The arity cap of `func`.\n     * @param {number} [arity] The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createHybrid(func, bitmask, thisArg, partials, holders, partialsRight, holdersRight, argPos, ary, arity) {\n      var isAry = bitmask & WRAP_ARY_FLAG,\n          isBind = bitmask & WRAP_BIND_FLAG,\n          isBindKey = bitmask & WRAP_BIND_KEY_FLAG,\n          isCurried = bitmask & (WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG),\n          isFlip = bitmask & WRAP_FLIP_FLAG,\n          Ctor = isBindKey ? undefined : createCtor(func);\n\n      function wrapper() {\n        var length = arguments.length,\n            args = Array(length),\n            index = length;\n\n        while (index--) {\n          args[index] = arguments[index];\n        }\n        if (isCurried) {\n          var placeholder = getHolder(wrapper),\n              holdersCount = countHolders(args, placeholder);\n        }\n        if (partials) {\n          args = composeArgs(args, partials, holders, isCurried);\n        }\n        if (partialsRight) {\n          args = composeArgsRight(args, partialsRight, holdersRight, isCurried);\n        }\n        length -= holdersCount;\n        if (isCurried && length < arity) {\n          var newHolders = replaceHolders(args, placeholder);\n          return createRecurry(\n            func, bitmask, createHybrid, wrapper.placeholder, thisArg,\n            args, newHolders, argPos, ary, arity - length\n          );\n        }\n        var thisBinding = isBind ? thisArg : this,\n            fn = isBindKey ? thisBinding[func] : func;\n\n        length = args.length;\n        if (argPos) {\n          args = reorder(args, argPos);\n        } else if (isFlip && length > 1) {\n          args.reverse();\n        }\n        if (isAry && ary < length) {\n          args.length = ary;\n        }\n        if (this && this !== root && this instanceof wrapper) {\n          fn = Ctor || createCtor(fn);\n        }\n        return fn.apply(thisBinding, args);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a function like `_.invertBy`.\n     *\n     * @private\n     * @param {Function} setter The function to set accumulator values.\n     * @param {Function} toIteratee The function to resolve iteratees.\n     * @returns {Function} Returns the new inverter function.\n     */\n    function createInverter(setter, toIteratee) {\n      return function(object, iteratee) {\n        return baseInverter(object, setter, toIteratee(iteratee), {});\n      };\n    }\n\n    /**\n     * Creates a function that performs a mathematical operation on two values.\n     *\n     * @private\n     * @param {Function} operator The function to perform the operation.\n     * @param {number} [defaultValue] The value used for `undefined` arguments.\n     * @returns {Function} Returns the new mathematical operation function.\n     */\n    function createMathOperation(operator, defaultValue) {\n      return function(value, other) {\n        var result;\n        if (value === undefined && other === undefined) {\n          return defaultValue;\n        }\n        if (value !== undefined) {\n          result = value;\n        }\n        if (other !== undefined) {\n          if (result === undefined) {\n            return other;\n          }\n          if (typeof value == 'string' || typeof other == 'string') {\n            value = baseToString(value);\n            other = baseToString(other);\n          } else {\n            value = baseToNumber(value);\n            other = baseToNumber(other);\n          }\n          result = operator(value, other);\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Creates a function like `_.over`.\n     *\n     * @private\n     * @param {Function} arrayFunc The function to iterate over iteratees.\n     * @returns {Function} Returns the new over function.\n     */\n    function createOver(arrayFunc) {\n      return flatRest(function(iteratees) {\n        iteratees = arrayMap(iteratees, baseUnary(getIteratee()));\n        return baseRest(function(args) {\n          var thisArg = this;\n          return arrayFunc(iteratees, function(iteratee) {\n            return apply(iteratee, thisArg, args);\n          });\n        });\n      });\n    }\n\n    /**\n     * Creates the padding for `string` based on `length`. The `chars` string\n     * is truncated if the number of characters exceeds `length`.\n     *\n     * @private\n     * @param {number} length The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padding for `string`.\n     */\n    function createPadding(length, chars) {\n      chars = chars === undefined ? ' ' : baseToString(chars);\n\n      var charsLength = chars.length;\n      if (charsLength < 2) {\n        return charsLength ? baseRepeat(chars, length) : chars;\n      }\n      var result = baseRepeat(chars, nativeCeil(length / stringSize(chars)));\n      return hasUnicode(chars)\n        ? castSlice(stringToArray(result), 0, length).join('')\n        : result.slice(0, length);\n    }\n\n    /**\n     * Creates a function that wraps `func` to invoke it with the `this` binding\n     * of `thisArg` and `partials` prepended to the arguments it receives.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {*} thisArg The `this` binding of `func`.\n     * @param {Array} partials The arguments to prepend to those provided to\n     *  the new function.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createPartial(func, bitmask, thisArg, partials) {\n      var isBind = bitmask & WRAP_BIND_FLAG,\n          Ctor = createCtor(func);\n\n      function wrapper() {\n        var argsIndex = -1,\n            argsLength = arguments.length,\n            leftIndex = -1,\n            leftLength = partials.length,\n            args = Array(leftLength + argsLength),\n            fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n\n        while (++leftIndex < leftLength) {\n          args[leftIndex] = partials[leftIndex];\n        }\n        while (argsLength--) {\n          args[leftIndex++] = arguments[++argsIndex];\n        }\n        return apply(fn, isBind ? thisArg : this, args);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a `_.range` or `_.rangeRight` function.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new range function.\n     */\n    function createRange(fromRight) {\n      return function(start, end, step) {\n        if (step && typeof step != 'number' && isIterateeCall(start, end, step)) {\n          end = step = undefined;\n        }\n        // Ensure the sign of `-0` is preserved.\n        start = toFinite(start);\n        if (end === undefined) {\n          end = start;\n          start = 0;\n        } else {\n          end = toFinite(end);\n        }\n        step = step === undefined ? (start < end ? 1 : -1) : toFinite(step);\n        return baseRange(start, end, step, fromRight);\n      };\n    }\n\n    /**\n     * Creates a function that performs a relational operation on two values.\n     *\n     * @private\n     * @param {Function} operator The function to perform the operation.\n     * @returns {Function} Returns the new relational operation function.\n     */\n    function createRelationalOperation(operator) {\n      return function(value, other) {\n        if (!(typeof value == 'string' && typeof other == 'string')) {\n          value = toNumber(value);\n          other = toNumber(other);\n        }\n        return operator(value, other);\n      };\n    }\n\n    /**\n     * Creates a function that wraps `func` to continue currying.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {Function} wrapFunc The function to create the `func` wrapper.\n     * @param {*} placeholder The placeholder value.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {Array} [partials] The arguments to prepend to those provided to\n     *  the new function.\n     * @param {Array} [holders] The `partials` placeholder indexes.\n     * @param {Array} [argPos] The argument positions of the new function.\n     * @param {number} [ary] The arity cap of `func`.\n     * @param {number} [arity] The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createRecurry(func, bitmask, wrapFunc, placeholder, thisArg, partials, holders, argPos, ary, arity) {\n      var isCurry = bitmask & WRAP_CURRY_FLAG,\n          newHolders = isCurry ? holders : undefined,\n          newHoldersRight = isCurry ? undefined : holders,\n          newPartials = isCurry ? partials : undefined,\n          newPartialsRight = isCurry ? undefined : partials;\n\n      bitmask |= (isCurry ? WRAP_PARTIAL_FLAG : WRAP_PARTIAL_RIGHT_FLAG);\n      bitmask &= ~(isCurry ? WRAP_PARTIAL_RIGHT_FLAG : WRAP_PARTIAL_FLAG);\n\n      if (!(bitmask & WRAP_CURRY_BOUND_FLAG)) {\n        bitmask &= ~(WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG);\n      }\n      var newData = [\n        func, bitmask, thisArg, newPartials, newHolders, newPartialsRight,\n        newHoldersRight, argPos, ary, arity\n      ];\n\n      var result = wrapFunc.apply(undefined, newData);\n      if (isLaziable(func)) {\n        setData(result, newData);\n      }\n      result.placeholder = placeholder;\n      return setWrapToString(result, func, bitmask);\n    }\n\n    /**\n     * Creates a function like `_.round`.\n     *\n     * @private\n     * @param {string} methodName The name of the `Math` method to use when rounding.\n     * @returns {Function} Returns the new round function.\n     */\n    function createRound(methodName) {\n      var func = Math[methodName];\n      return function(number, precision) {\n        number = toNumber(number);\n        precision = precision == null ? 0 : nativeMin(toInteger(precision), 292);\n        if (precision && nativeIsFinite(number)) {\n          // Shift with exponential notation to avoid floating-point issues.\n          // See [MDN](https://mdn.io/round#Examples) for more details.\n          var pair = (toString(number) + 'e').split('e'),\n              value = func(pair[0] + 'e' + (+pair[1] + precision));\n\n          pair = (toString(value) + 'e').split('e');\n          return +(pair[0] + 'e' + (+pair[1] - precision));\n        }\n        return func(number);\n      };\n    }\n\n    /**\n     * Creates a set object of `values`.\n     *\n     * @private\n     * @param {Array} values The values to add to the set.\n     * @returns {Object} Returns the new set.\n     */\n    var createSet = !(Set && (1 / setToArray(new Set([,-0]))[1]) == INFINITY) ? noop : function(values) {\n      return new Set(values);\n    };\n\n    /**\n     * Creates a `_.toPairs` or `_.toPairsIn` function.\n     *\n     * @private\n     * @param {Function} keysFunc The function to get the keys of a given object.\n     * @returns {Function} Returns the new pairs function.\n     */\n    function createToPairs(keysFunc) {\n      return function(object) {\n        var tag = getTag(object);\n        if (tag == mapTag) {\n          return mapToArray(object);\n        }\n        if (tag == setTag) {\n          return setToPairs(object);\n        }\n        return baseToPairs(object, keysFunc(object));\n      };\n    }\n\n    /**\n     * Creates a function that either curries or invokes `func` with optional\n     * `this` binding and partially applied arguments.\n     *\n     * @private\n     * @param {Function|string} func The function or method name to wrap.\n     * @param {number} bitmask The bitmask flags.\n     *    1 - `_.bind`\n     *    2 - `_.bindKey`\n     *    4 - `_.curry` or `_.curryRight` of a bound function\n     *    8 - `_.curry`\n     *   16 - `_.curryRight`\n     *   32 - `_.partial`\n     *   64 - `_.partialRight`\n     *  128 - `_.rearg`\n     *  256 - `_.ary`\n     *  512 - `_.flip`\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {Array} [partials] The arguments to be partially applied.\n     * @param {Array} [holders] The `partials` placeholder indexes.\n     * @param {Array} [argPos] The argument positions of the new function.\n     * @param {number} [ary] The arity cap of `func`.\n     * @param {number} [arity] The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createWrap(func, bitmask, thisArg, partials, holders, argPos, ary, arity) {\n      var isBindKey = bitmask & WRAP_BIND_KEY_FLAG;\n      if (!isBindKey && typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      var length = partials ? partials.length : 0;\n      if (!length) {\n        bitmask &= ~(WRAP_PARTIAL_FLAG | WRAP_PARTIAL_RIGHT_FLAG);\n        partials = holders = undefined;\n      }\n      ary = ary === undefined ? ary : nativeMax(toInteger(ary), 0);\n      arity = arity === undefined ? arity : toInteger(arity);\n      length -= holders ? holders.length : 0;\n\n      if (bitmask & WRAP_PARTIAL_RIGHT_FLAG) {\n        var partialsRight = partials,\n            holdersRight = holders;\n\n        partials = holders = undefined;\n      }\n      var data = isBindKey ? undefined : getData(func);\n\n      var newData = [\n        func, bitmask, thisArg, partials, holders, partialsRight, holdersRight,\n        argPos, ary, arity\n      ];\n\n      if (data) {\n        mergeData(newData, data);\n      }\n      func = newData[0];\n      bitmask = newData[1];\n      thisArg = newData[2];\n      partials = newData[3];\n      holders = newData[4];\n      arity = newData[9] = newData[9] === undefined\n        ? (isBindKey ? 0 : func.length)\n        : nativeMax(newData[9] - length, 0);\n\n      if (!arity && bitmask & (WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG)) {\n        bitmask &= ~(WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG);\n      }\n      if (!bitmask || bitmask == WRAP_BIND_FLAG) {\n        var result = createBind(func, bitmask, thisArg);\n      } else if (bitmask == WRAP_CURRY_FLAG || bitmask == WRAP_CURRY_RIGHT_FLAG) {\n        result = createCurry(func, bitmask, arity);\n      } else if ((bitmask == WRAP_PARTIAL_FLAG || bitmask == (WRAP_BIND_FLAG | WRAP_PARTIAL_FLAG)) && !holders.length) {\n        result = createPartial(func, bitmask, thisArg, partials);\n      } else {\n        result = createHybrid.apply(undefined, newData);\n      }\n      var setter = data ? baseSetData : setData;\n      return setWrapToString(setter(result, newData), func, bitmask);\n    }\n\n    /**\n     * Used by `_.defaults` to customize its `_.assignIn` use to assign properties\n     * of source objects to the destination object for all destination properties\n     * that resolve to `undefined`.\n     *\n     * @private\n     * @param {*} objValue The destination value.\n     * @param {*} srcValue The source value.\n     * @param {string} key The key of the property to assign.\n     * @param {Object} object The parent object of `objValue`.\n     * @returns {*} Returns the value to assign.\n     */\n    function customDefaultsAssignIn(objValue, srcValue, key, object) {\n      if (objValue === undefined ||\n          (eq(objValue, objectProto[key]) && !hasOwnProperty.call(object, key))) {\n        return srcValue;\n      }\n      return objValue;\n    }\n\n    /**\n     * Used by `_.defaultsDeep` to customize its `_.merge` use to merge source\n     * objects into destination objects that are passed thru.\n     *\n     * @private\n     * @param {*} objValue The destination value.\n     * @param {*} srcValue The source value.\n     * @param {string} key The key of the property to merge.\n     * @param {Object} object The parent object of `objValue`.\n     * @param {Object} source The parent object of `srcValue`.\n     * @param {Object} [stack] Tracks traversed source values and their merged\n     *  counterparts.\n     * @returns {*} Returns the value to assign.\n     */\n    function customDefaultsMerge(objValue, srcValue, key, object, source, stack) {\n      if (isObject(objValue) && isObject(srcValue)) {\n        // Recursively merge objects and arrays (susceptible to call stack limits).\n        stack.set(srcValue, objValue);\n        baseMerge(objValue, srcValue, undefined, customDefaultsMerge, stack);\n        stack['delete'](srcValue);\n      }\n      return objValue;\n    }\n\n    /**\n     * Used by `_.omit` to customize its `_.cloneDeep` use to only clone plain\n     * objects.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @param {string} key The key of the property to inspect.\n     * @returns {*} Returns the uncloned value or `undefined` to defer cloning to `_.cloneDeep`.\n     */\n    function customOmitClone(value) {\n      return isPlainObject(value) ? undefined : value;\n    }\n\n    /**\n     * A specialized version of `baseIsEqualDeep` for arrays with support for\n     * partial deep comparisons.\n     *\n     * @private\n     * @param {Array} array The array to compare.\n     * @param {Array} other The other array to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} stack Tracks traversed `array` and `other` objects.\n     * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n     */\n    function equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n          arrLength = array.length,\n          othLength = other.length;\n\n      if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n        return false;\n      }\n      // Check that cyclic values are equal.\n      var arrStacked = stack.get(array);\n      var othStacked = stack.get(other);\n      if (arrStacked && othStacked) {\n        return arrStacked == other && othStacked == array;\n      }\n      var index = -1,\n          result = true,\n          seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n      stack.set(array, other);\n      stack.set(other, array);\n\n      // Ignore non-index properties.\n      while (++index < arrLength) {\n        var arrValue = array[index],\n            othValue = other[index];\n\n        if (customizer) {\n          var compared = isPartial\n            ? customizer(othValue, arrValue, index, other, array, stack)\n            : customizer(arrValue, othValue, index, array, other, stack);\n        }\n        if (compared !== undefined) {\n          if (compared) {\n            continue;\n          }\n          result = false;\n          break;\n        }\n        // Recursively compare arrays (susceptible to call stack limits).\n        if (seen) {\n          if (!arraySome(other, function(othValue, othIndex) {\n                if (!cacheHas(seen, othIndex) &&\n                    (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n                  return seen.push(othIndex);\n                }\n              })) {\n            result = false;\n            break;\n          }\n        } else if (!(\n              arrValue === othValue ||\n                equalFunc(arrValue, othValue, bitmask, customizer, stack)\n            )) {\n          result = false;\n          break;\n        }\n      }\n      stack['delete'](array);\n      stack['delete'](other);\n      return result;\n    }\n\n    /**\n     * A specialized version of `baseIsEqualDeep` for comparing objects of\n     * the same `toStringTag`.\n     *\n     * **Note:** This function only supports comparing values with tags of\n     * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {string} tag The `toStringTag` of the objects to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} stack Tracks traversed `object` and `other` objects.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n      switch (tag) {\n        case dataViewTag:\n          if ((object.byteLength != other.byteLength) ||\n              (object.byteOffset != other.byteOffset)) {\n            return false;\n          }\n          object = object.buffer;\n          other = other.buffer;\n\n        case arrayBufferTag:\n          if ((object.byteLength != other.byteLength) ||\n              !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n            return false;\n          }\n          return true;\n\n        case boolTag:\n        case dateTag:\n        case numberTag:\n          // Coerce booleans to `1` or `0` and dates to milliseconds.\n          // Invalid dates are coerced to `NaN`.\n          return eq(+object, +other);\n\n        case errorTag:\n          return object.name == other.name && object.message == other.message;\n\n        case regexpTag:\n        case stringTag:\n          // Coerce regexes to strings and treat strings, primitives and objects,\n          // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n          // for more details.\n          return object == (other + '');\n\n        case mapTag:\n          var convert = mapToArray;\n\n        case setTag:\n          var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n          convert || (convert = setToArray);\n\n          if (object.size != other.size && !isPartial) {\n            return false;\n          }\n          // Assume cyclic values are equal.\n          var stacked = stack.get(object);\n          if (stacked) {\n            return stacked == other;\n          }\n          bitmask |= COMPARE_UNORDERED_FLAG;\n\n          // Recursively compare objects (susceptible to call stack limits).\n          stack.set(object, other);\n          var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n          stack['delete'](object);\n          return result;\n\n        case symbolTag:\n          if (symbolValueOf) {\n            return symbolValueOf.call(object) == symbolValueOf.call(other);\n          }\n      }\n      return false;\n    }\n\n    /**\n     * A specialized version of `baseIsEqualDeep` for objects with support for\n     * partial deep comparisons.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} stack Tracks traversed `object` and `other` objects.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n          objProps = getAllKeys(object),\n          objLength = objProps.length,\n          othProps = getAllKeys(other),\n          othLength = othProps.length;\n\n      if (objLength != othLength && !isPartial) {\n        return false;\n      }\n      var index = objLength;\n      while (index--) {\n        var key = objProps[index];\n        if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n          return false;\n        }\n      }\n      // Check that cyclic values are equal.\n      var objStacked = stack.get(object);\n      var othStacked = stack.get(other);\n      if (objStacked && othStacked) {\n        return objStacked == other && othStacked == object;\n      }\n      var result = true;\n      stack.set(object, other);\n      stack.set(other, object);\n\n      var skipCtor = isPartial;\n      while (++index < objLength) {\n        key = objProps[index];\n        var objValue = object[key],\n            othValue = other[key];\n\n        if (customizer) {\n          var compared = isPartial\n            ? customizer(othValue, objValue, key, other, object, stack)\n            : customizer(objValue, othValue, key, object, other, stack);\n        }\n        // Recursively compare objects (susceptible to call stack limits).\n        if (!(compared === undefined\n              ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n              : compared\n            )) {\n          result = false;\n          break;\n        }\n        skipCtor || (skipCtor = key == 'constructor');\n      }\n      if (result && !skipCtor) {\n        var objCtor = object.constructor,\n            othCtor = other.constructor;\n\n        // Non `Object` object instances with different constructors are not equal.\n        if (objCtor != othCtor &&\n            ('constructor' in object && 'constructor' in other) &&\n            !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n              typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n          result = false;\n        }\n      }\n      stack['delete'](object);\n      stack['delete'](other);\n      return result;\n    }\n\n    /**\n     * A specialized version of `baseRest` which flattens the rest array.\n     *\n     * @private\n     * @param {Function} func The function to apply a rest parameter to.\n     * @returns {Function} Returns the new function.\n     */\n    function flatRest(func) {\n      return setToString(overRest(func, undefined, flatten), func + '');\n    }\n\n    /**\n     * Creates an array of own enumerable property names and symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names and symbols.\n     */\n    function getAllKeys(object) {\n      return baseGetAllKeys(object, keys, getSymbols);\n    }\n\n    /**\n     * Creates an array of own and inherited enumerable property names and\n     * symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names and symbols.\n     */\n    function getAllKeysIn(object) {\n      return baseGetAllKeys(object, keysIn, getSymbolsIn);\n    }\n\n    /**\n     * Gets metadata for `func`.\n     *\n     * @private\n     * @param {Function} func The function to query.\n     * @returns {*} Returns the metadata for `func`.\n     */\n    var getData = !metaMap ? noop : function(func) {\n      return metaMap.get(func);\n    };\n\n    /**\n     * Gets the name of `func`.\n     *\n     * @private\n     * @param {Function} func The function to query.\n     * @returns {string} Returns the function name.\n     */\n    function getFuncName(func) {\n      var result = (func.name + ''),\n          array = realNames[result],\n          length = hasOwnProperty.call(realNames, result) ? array.length : 0;\n\n      while (length--) {\n        var data = array[length],\n            otherFunc = data.func;\n        if (otherFunc == null || otherFunc == func) {\n          return data.name;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Gets the argument placeholder value for `func`.\n     *\n     * @private\n     * @param {Function} func The function to inspect.\n     * @returns {*} Returns the placeholder value.\n     */\n    function getHolder(func) {\n      var object = hasOwnProperty.call(lodash, 'placeholder') ? lodash : func;\n      return object.placeholder;\n    }\n\n    /**\n     * Gets the appropriate \"iteratee\" function. If `_.iteratee` is customized,\n     * this function returns the custom method, otherwise it returns `baseIteratee`.\n     * If arguments are provided, the chosen function is invoked with them and\n     * its result is returned.\n     *\n     * @private\n     * @param {*} [value] The value to convert to an iteratee.\n     * @param {number} [arity] The arity of the created iteratee.\n     * @returns {Function} Returns the chosen function or its result.\n     */\n    function getIteratee() {\n      var result = lodash.iteratee || iteratee;\n      result = result === iteratee ? baseIteratee : result;\n      return arguments.length ? result(arguments[0], arguments[1]) : result;\n    }\n\n    /**\n     * Gets the data for `map`.\n     *\n     * @private\n     * @param {Object} map The map to query.\n     * @param {string} key The reference key.\n     * @returns {*} Returns the map data.\n     */\n    function getMapData(map, key) {\n      var data = map.__data__;\n      return isKeyable(key)\n        ? data[typeof key == 'string' ? 'string' : 'hash']\n        : data.map;\n    }\n\n    /**\n     * Gets the property names, values, and compare flags of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the match data of `object`.\n     */\n    function getMatchData(object) {\n      var result = keys(object),\n          length = result.length;\n\n      while (length--) {\n        var key = result[length],\n            value = object[key];\n\n        result[length] = [key, value, isStrictComparable(value)];\n      }\n      return result;\n    }\n\n    /**\n     * Gets the native function at `key` of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {string} key The key of the method to get.\n     * @returns {*} Returns the function if it's native, else `undefined`.\n     */\n    function getNative(object, key) {\n      var value = getValue(object, key);\n      return baseIsNative(value) ? value : undefined;\n    }\n\n    /**\n     * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @returns {string} Returns the raw `toStringTag`.\n     */\n    function getRawTag(value) {\n      var isOwn = hasOwnProperty.call(value, symToStringTag),\n          tag = value[symToStringTag];\n\n      try {\n        value[symToStringTag] = undefined;\n        var unmasked = true;\n      } catch (e) {}\n\n      var result = nativeObjectToString.call(value);\n      if (unmasked) {\n        if (isOwn) {\n          value[symToStringTag] = tag;\n        } else {\n          delete value[symToStringTag];\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Creates an array of the own enumerable symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of symbols.\n     */\n    var getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n      if (object == null) {\n        return [];\n      }\n      object = Object(object);\n      return arrayFilter(nativeGetSymbols(object), function(symbol) {\n        return propertyIsEnumerable.call(object, symbol);\n      });\n    };\n\n    /**\n     * Creates an array of the own and inherited enumerable symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of symbols.\n     */\n    var getSymbolsIn = !nativeGetSymbols ? stubArray : function(object) {\n      var result = [];\n      while (object) {\n        arrayPush(result, getSymbols(object));\n        object = getPrototype(object);\n      }\n      return result;\n    };\n\n    /**\n     * Gets the `toStringTag` of `value`.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @returns {string} Returns the `toStringTag`.\n     */\n    var getTag = baseGetTag;\n\n    // Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\n    if ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n        (Map && getTag(new Map) != mapTag) ||\n        (Promise && getTag(Promise.resolve()) != promiseTag) ||\n        (Set && getTag(new Set) != setTag) ||\n        (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n      getTag = function(value) {\n        var result = baseGetTag(value),\n            Ctor = result == objectTag ? value.constructor : undefined,\n            ctorString = Ctor ? toSource(Ctor) : '';\n\n        if (ctorString) {\n          switch (ctorString) {\n            case dataViewCtorString: return dataViewTag;\n            case mapCtorString: return mapTag;\n            case promiseCtorString: return promiseTag;\n            case setCtorString: return setTag;\n            case weakMapCtorString: return weakMapTag;\n          }\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Gets the view, applying any `transforms` to the `start` and `end` positions.\n     *\n     * @private\n     * @param {number} start The start of the view.\n     * @param {number} end The end of the view.\n     * @param {Array} transforms The transformations to apply to the view.\n     * @returns {Object} Returns an object containing the `start` and `end`\n     *  positions of the view.\n     */\n    function getView(start, end, transforms) {\n      var index = -1,\n          length = transforms.length;\n\n      while (++index < length) {\n        var data = transforms[index],\n            size = data.size;\n\n        switch (data.type) {\n          case 'drop':      start += size; break;\n          case 'dropRight': end -= size; break;\n          case 'take':      end = nativeMin(end, start + size); break;\n          case 'takeRight': start = nativeMax(start, end - size); break;\n        }\n      }\n      return { 'start': start, 'end': end };\n    }\n\n    /**\n     * Extracts wrapper details from the `source` body comment.\n     *\n     * @private\n     * @param {string} source The source to inspect.\n     * @returns {Array} Returns the wrapper details.\n     */\n    function getWrapDetails(source) {\n      var match = source.match(reWrapDetails);\n      return match ? match[1].split(reSplitDetails) : [];\n    }\n\n    /**\n     * Checks if `path` exists on `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path to check.\n     * @param {Function} hasFunc The function to check properties.\n     * @returns {boolean} Returns `true` if `path` exists, else `false`.\n     */\n    function hasPath(object, path, hasFunc) {\n      path = castPath(path, object);\n\n      var index = -1,\n          length = path.length,\n          result = false;\n\n      while (++index < length) {\n        var key = toKey(path[index]);\n        if (!(result = object != null && hasFunc(object, key))) {\n          break;\n        }\n        object = object[key];\n      }\n      if (result || ++index != length) {\n        return result;\n      }\n      length = object == null ? 0 : object.length;\n      return !!length && isLength(length) && isIndex(key, length) &&\n        (isArray(object) || isArguments(object));\n    }\n\n    /**\n     * Initializes an array clone.\n     *\n     * @private\n     * @param {Array} array The array to clone.\n     * @returns {Array} Returns the initialized clone.\n     */\n    function initCloneArray(array) {\n      var length = array.length,\n          result = new array.constructor(length);\n\n      // Add properties assigned by `RegExp#exec`.\n      if (length && typeof array[0] == 'string' && hasOwnProperty.call(array, 'index')) {\n        result.index = array.index;\n        result.input = array.input;\n      }\n      return result;\n    }\n\n    /**\n     * Initializes an object clone.\n     *\n     * @private\n     * @param {Object} object The object to clone.\n     * @returns {Object} Returns the initialized clone.\n     */\n    function initCloneObject(object) {\n      return (typeof object.constructor == 'function' && !isPrototype(object))\n        ? baseCreate(getPrototype(object))\n        : {};\n    }\n\n    /**\n     * Initializes an object clone based on its `toStringTag`.\n     *\n     * **Note:** This function only supports cloning values with tags of\n     * `Boolean`, `Date`, `Error`, `Map`, `Number`, `RegExp`, `Set`, or `String`.\n     *\n     * @private\n     * @param {Object} object The object to clone.\n     * @param {string} tag The `toStringTag` of the object to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Object} Returns the initialized clone.\n     */\n    function initCloneByTag(object, tag, isDeep) {\n      var Ctor = object.constructor;\n      switch (tag) {\n        case arrayBufferTag:\n          return cloneArrayBuffer(object);\n\n        case boolTag:\n        case dateTag:\n          return new Ctor(+object);\n\n        case dataViewTag:\n          return cloneDataView(object, isDeep);\n\n        case float32Tag: case float64Tag:\n        case int8Tag: case int16Tag: case int32Tag:\n        case uint8Tag: case uint8ClampedTag: case uint16Tag: case uint32Tag:\n          return cloneTypedArray(object, isDeep);\n\n        case mapTag:\n          return new Ctor;\n\n        case numberTag:\n        case stringTag:\n          return new Ctor(object);\n\n        case regexpTag:\n          return cloneRegExp(object);\n\n        case setTag:\n          return new Ctor;\n\n        case symbolTag:\n          return cloneSymbol(object);\n      }\n    }\n\n    /**\n     * Inserts wrapper `details` in a comment at the top of the `source` body.\n     *\n     * @private\n     * @param {string} source The source to modify.\n     * @returns {Array} details The details to insert.\n     * @returns {string} Returns the modified source.\n     */\n    function insertWrapDetails(source, details) {\n      var length = details.length;\n      if (!length) {\n        return source;\n      }\n      var lastIndex = length - 1;\n      details[lastIndex] = (length > 1 ? '& ' : '') + details[lastIndex];\n      details = details.join(length > 2 ? ', ' : ' ');\n      return source.replace(reWrapComment, '{\\n/* [wrapped with ' + details + '] */\\n');\n    }\n\n    /**\n     * Checks if `value` is a flattenable `arguments` object or array.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n     */\n    function isFlattenable(value) {\n      return isArray(value) || isArguments(value) ||\n        !!(spreadableSymbol && value && value[spreadableSymbol]);\n    }\n\n    /**\n     * Checks if `value` is a valid array-like index.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n     * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n     */\n    function isIndex(value, length) {\n      var type = typeof value;\n      length = length == null ? MAX_SAFE_INTEGER : length;\n\n      return !!length &&\n        (type == 'number' ||\n          (type != 'symbol' && reIsUint.test(value))) &&\n            (value > -1 && value % 1 == 0 && value < length);\n    }\n\n    /**\n     * Checks if the given arguments are from an iteratee call.\n     *\n     * @private\n     * @param {*} value The potential iteratee value argument.\n     * @param {*} index The potential iteratee index or key argument.\n     * @param {*} object The potential iteratee object argument.\n     * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n     *  else `false`.\n     */\n    function isIterateeCall(value, index, object) {\n      if (!isObject(object)) {\n        return false;\n      }\n      var type = typeof index;\n      if (type == 'number'\n            ? (isArrayLike(object) && isIndex(index, object.length))\n            : (type == 'string' && index in object)\n          ) {\n        return eq(object[index], value);\n      }\n      return false;\n    }\n\n    /**\n     * Checks if `value` is a property name and not a property path.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @param {Object} [object] The object to query keys on.\n     * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n     */\n    function isKey(value, object) {\n      if (isArray(value)) {\n        return false;\n      }\n      var type = typeof value;\n      if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n          value == null || isSymbol(value)) {\n        return true;\n      }\n      return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n        (object != null && value in Object(object));\n    }\n\n    /**\n     * Checks if `value` is suitable for use as unique object key.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n     */\n    function isKeyable(value) {\n      var type = typeof value;\n      return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n        ? (value !== '__proto__')\n        : (value === null);\n    }\n\n    /**\n     * Checks if `func` has a lazy counterpart.\n     *\n     * @private\n     * @param {Function} func The function to check.\n     * @returns {boolean} Returns `true` if `func` has a lazy counterpart,\n     *  else `false`.\n     */\n    function isLaziable(func) {\n      var funcName = getFuncName(func),\n          other = lodash[funcName];\n\n      if (typeof other != 'function' || !(funcName in LazyWrapper.prototype)) {\n        return false;\n      }\n      if (func === other) {\n        return true;\n      }\n      var data = getData(other);\n      return !!data && func === data[0];\n    }\n\n    /**\n     * Checks if `func` has its source masked.\n     *\n     * @private\n     * @param {Function} func The function to check.\n     * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n     */\n    function isMasked(func) {\n      return !!maskSrcKey && (maskSrcKey in func);\n    }\n\n    /**\n     * Checks if `func` is capable of being masked.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `func` is maskable, else `false`.\n     */\n    var isMaskable = coreJsData ? isFunction : stubFalse;\n\n    /**\n     * Checks if `value` is likely a prototype object.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n     */\n    function isPrototype(value) {\n      var Ctor = value && value.constructor,\n          proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n      return value === proto;\n    }\n\n    /**\n     * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` if suitable for strict\n     *  equality comparisons, else `false`.\n     */\n    function isStrictComparable(value) {\n      return value === value && !isObject(value);\n    }\n\n    /**\n     * A specialized version of `matchesProperty` for source values suitable\n     * for strict equality comparisons, i.e. `===`.\n     *\n     * @private\n     * @param {string} key The key of the property to get.\n     * @param {*} srcValue The value to match.\n     * @returns {Function} Returns the new spec function.\n     */\n    function matchesStrictComparable(key, srcValue) {\n      return function(object) {\n        if (object == null) {\n          return false;\n        }\n        return object[key] === srcValue &&\n          (srcValue !== undefined || (key in Object(object)));\n      };\n    }\n\n    /**\n     * A specialized version of `_.memoize` which clears the memoized function's\n     * cache when it exceeds `MAX_MEMOIZE_SIZE`.\n     *\n     * @private\n     * @param {Function} func The function to have its output memoized.\n     * @returns {Function} Returns the new memoized function.\n     */\n    function memoizeCapped(func) {\n      var result = memoize(func, function(key) {\n        if (cache.size === MAX_MEMOIZE_SIZE) {\n          cache.clear();\n        }\n        return key;\n      });\n\n      var cache = result.cache;\n      return result;\n    }\n\n    /**\n     * Merges the function metadata of `source` into `data`.\n     *\n     * Merging metadata reduces the number of wrappers used to invoke a function.\n     * This is possible because methods like `_.bind`, `_.curry`, and `_.partial`\n     * may be applied regardless of execution order. Methods like `_.ary` and\n     * `_.rearg` modify function arguments, making the order in which they are\n     * executed important, preventing the merging of metadata. However, we make\n     * an exception for a safe combined case where curried functions have `_.ary`\n     * and or `_.rearg` applied.\n     *\n     * @private\n     * @param {Array} data The destination metadata.\n     * @param {Array} source The source metadata.\n     * @returns {Array} Returns `data`.\n     */\n    function mergeData(data, source) {\n      var bitmask = data[1],\n          srcBitmask = source[1],\n          newBitmask = bitmask | srcBitmask,\n          isCommon = newBitmask < (WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG | WRAP_ARY_FLAG);\n\n      var isCombo =\n        ((srcBitmask == WRAP_ARY_FLAG) && (bitmask == WRAP_CURRY_FLAG)) ||\n        ((srcBitmask == WRAP_ARY_FLAG) && (bitmask == WRAP_REARG_FLAG) && (data[7].length <= source[8])) ||\n        ((srcBitmask == (WRAP_ARY_FLAG | WRAP_REARG_FLAG)) && (source[7].length <= source[8]) && (bitmask == WRAP_CURRY_FLAG));\n\n      // Exit early if metadata can't be merged.\n      if (!(isCommon || isCombo)) {\n        return data;\n      }\n      // Use source `thisArg` if available.\n      if (srcBitmask & WRAP_BIND_FLAG) {\n        data[2] = source[2];\n        // Set when currying a bound function.\n        newBitmask |= bitmask & WRAP_BIND_FLAG ? 0 : WRAP_CURRY_BOUND_FLAG;\n      }\n      // Compose partial arguments.\n      var value = source[3];\n      if (value) {\n        var partials = data[3];\n        data[3] = partials ? composeArgs(partials, value, source[4]) : value;\n        data[4] = partials ? replaceHolders(data[3], PLACEHOLDER) : source[4];\n      }\n      // Compose partial right arguments.\n      value = source[5];\n      if (value) {\n        partials = data[5];\n        data[5] = partials ? composeArgsRight(partials, value, source[6]) : value;\n        data[6] = partials ? replaceHolders(data[5], PLACEHOLDER) : source[6];\n      }\n      // Use source `argPos` if available.\n      value = source[7];\n      if (value) {\n        data[7] = value;\n      }\n      // Use source `ary` if it's smaller.\n      if (srcBitmask & WRAP_ARY_FLAG) {\n        data[8] = data[8] == null ? source[8] : nativeMin(data[8], source[8]);\n      }\n      // Use source `arity` if one is not provided.\n      if (data[9] == null) {\n        data[9] = source[9];\n      }\n      // Use source `func` and merge bitmasks.\n      data[0] = source[0];\n      data[1] = newBitmask;\n\n      return data;\n    }\n\n    /**\n     * This function is like\n     * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n     * except that it includes inherited enumerable properties.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     */\n    function nativeKeysIn(object) {\n      var result = [];\n      if (object != null) {\n        for (var key in Object(object)) {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Converts `value` to a string using `Object.prototype.toString`.\n     *\n     * @private\n     * @param {*} value The value to convert.\n     * @returns {string} Returns the converted string.\n     */\n    function objectToString(value) {\n      return nativeObjectToString.call(value);\n    }\n\n    /**\n     * A specialized version of `baseRest` which transforms the rest array.\n     *\n     * @private\n     * @param {Function} func The function to apply a rest parameter to.\n     * @param {number} [start=func.length-1] The start position of the rest parameter.\n     * @param {Function} transform The rest array transform.\n     * @returns {Function} Returns the new function.\n     */\n    function overRest(func, start, transform) {\n      start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n      return function() {\n        var args = arguments,\n            index = -1,\n            length = nativeMax(args.length - start, 0),\n            array = Array(length);\n\n        while (++index < length) {\n          array[index] = args[start + index];\n        }\n        index = -1;\n        var otherArgs = Array(start + 1);\n        while (++index < start) {\n          otherArgs[index] = args[index];\n        }\n        otherArgs[start] = transform(array);\n        return apply(func, this, otherArgs);\n      };\n    }\n\n    /**\n     * Gets the parent value at `path` of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array} path The path to get the parent value of.\n     * @returns {*} Returns the parent value.\n     */\n    function parent(object, path) {\n      return path.length < 2 ? object : baseGet(object, baseSlice(path, 0, -1));\n    }\n\n    /**\n     * Reorder `array` according to the specified indexes where the element at\n     * the first index is assigned as the first element, the element at\n     * the second index is assigned as the second element, and so on.\n     *\n     * @private\n     * @param {Array} array The array to reorder.\n     * @param {Array} indexes The arranged array indexes.\n     * @returns {Array} Returns `array`.\n     */\n    function reorder(array, indexes) {\n      var arrLength = array.length,\n          length = nativeMin(indexes.length, arrLength),\n          oldArray = copyArray(array);\n\n      while (length--) {\n        var index = indexes[length];\n        array[length] = isIndex(index, arrLength) ? oldArray[index] : undefined;\n      }\n      return array;\n    }\n\n    /**\n     * Gets the value at `key`, unless `key` is \"__proto__\" or \"constructor\".\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {string} key The key of the property to get.\n     * @returns {*} Returns the property value.\n     */\n    function safeGet(object, key) {\n      if (key === 'constructor' && typeof object[key] === 'function') {\n        return;\n      }\n\n      if (key == '__proto__') {\n        return;\n      }\n\n      return object[key];\n    }\n\n    /**\n     * Sets metadata for `func`.\n     *\n     * **Note:** If this function becomes hot, i.e. is invoked a lot in a short\n     * period of time, it will trip its breaker and transition to an identity\n     * function to avoid garbage collection pauses in V8. See\n     * [V8 issue 2070](https://bugs.chromium.org/p/v8/issues/detail?id=2070)\n     * for more details.\n     *\n     * @private\n     * @param {Function} func The function to associate metadata with.\n     * @param {*} data The metadata.\n     * @returns {Function} Returns `func`.\n     */\n    var setData = shortOut(baseSetData);\n\n    /**\n     * A simple wrapper around the global [`setTimeout`](https://mdn.io/setTimeout).\n     *\n     * @private\n     * @param {Function} func The function to delay.\n     * @param {number} wait The number of milliseconds to delay invocation.\n     * @returns {number|Object} Returns the timer id or timeout object.\n     */\n    var setTimeout = ctxSetTimeout || function(func, wait) {\n      return root.setTimeout(func, wait);\n    };\n\n    /**\n     * Sets the `toString` method of `func` to return `string`.\n     *\n     * @private\n     * @param {Function} func The function to modify.\n     * @param {Function} string The `toString` result.\n     * @returns {Function} Returns `func`.\n     */\n    var setToString = shortOut(baseSetToString);\n\n    /**\n     * Sets the `toString` method of `wrapper` to mimic the source of `reference`\n     * with wrapper details in a comment at the top of the source body.\n     *\n     * @private\n     * @param {Function} wrapper The function to modify.\n     * @param {Function} reference The reference function.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @returns {Function} Returns `wrapper`.\n     */\n    function setWrapToString(wrapper, reference, bitmask) {\n      var source = (reference + '');\n      return setToString(wrapper, insertWrapDetails(source, updateWrapDetails(getWrapDetails(source), bitmask)));\n    }\n\n    /**\n     * Creates a function that'll short out and invoke `identity` instead\n     * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`\n     * milliseconds.\n     *\n     * @private\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new shortable function.\n     */\n    function shortOut(func) {\n      var count = 0,\n          lastCalled = 0;\n\n      return function() {\n        var stamp = nativeNow(),\n            remaining = HOT_SPAN - (stamp - lastCalled);\n\n        lastCalled = stamp;\n        if (remaining > 0) {\n          if (++count >= HOT_COUNT) {\n            return arguments[0];\n          }\n        } else {\n          count = 0;\n        }\n        return func.apply(undefined, arguments);\n      };\n    }\n\n    /**\n     * A specialized version of `_.shuffle` which mutates and sets the size of `array`.\n     *\n     * @private\n     * @param {Array} array The array to shuffle.\n     * @param {number} [size=array.length] The size of `array`.\n     * @returns {Array} Returns `array`.\n     */\n    function shuffleSelf(array, size) {\n      var index = -1,\n          length = array.length,\n          lastIndex = length - 1;\n\n      size = size === undefined ? length : size;\n      while (++index < size) {\n        var rand = baseRandom(index, lastIndex),\n            value = array[rand];\n\n        array[rand] = array[index];\n        array[index] = value;\n      }\n      array.length = size;\n      return array;\n    }\n\n    /**\n     * Converts `string` to a property path array.\n     *\n     * @private\n     * @param {string} string The string to convert.\n     * @returns {Array} Returns the property path array.\n     */\n    var stringToPath = memoizeCapped(function(string) {\n      var result = [];\n      if (string.charCodeAt(0) === 46 /* . */) {\n        result.push('');\n      }\n      string.replace(rePropName, function(match, number, quote, subString) {\n        result.push(quote ? subString.replace(reEscapeChar, '$1') : (number || match));\n      });\n      return result;\n    });\n\n    /**\n     * Converts `value` to a string key if it's not a string or symbol.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @returns {string|symbol} Returns the key.\n     */\n    function toKey(value) {\n      if (typeof value == 'string' || isSymbol(value)) {\n        return value;\n      }\n      var result = (value + '');\n      return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n    }\n\n    /**\n     * Converts `func` to its source code.\n     *\n     * @private\n     * @param {Function} func The function to convert.\n     * @returns {string} Returns the source code.\n     */\n    function toSource(func) {\n      if (func != null) {\n        try {\n          return funcToString.call(func);\n        } catch (e) {}\n        try {\n          return (func + '');\n        } catch (e) {}\n      }\n      return '';\n    }\n\n    /**\n     * Updates wrapper `details` based on `bitmask` flags.\n     *\n     * @private\n     * @returns {Array} details The details to modify.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @returns {Array} Returns `details`.\n     */\n    function updateWrapDetails(details, bitmask) {\n      arrayEach(wrapFlags, function(pair) {\n        var value = '_.' + pair[0];\n        if ((bitmask & pair[1]) && !arrayIncludes(details, value)) {\n          details.push(value);\n        }\n      });\n      return details.sort();\n    }\n\n    /**\n     * Creates a clone of `wrapper`.\n     *\n     * @private\n     * @param {Object} wrapper The wrapper to clone.\n     * @returns {Object} Returns the cloned wrapper.\n     */\n    function wrapperClone(wrapper) {\n      if (wrapper instanceof LazyWrapper) {\n        return wrapper.clone();\n      }\n      var result = new LodashWrapper(wrapper.__wrapped__, wrapper.__chain__);\n      result.__actions__ = copyArray(wrapper.__actions__);\n      result.__index__  = wrapper.__index__;\n      result.__values__ = wrapper.__values__;\n      return result;\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an array of elements split into groups the length of `size`.\n     * If `array` can't be split evenly, the final chunk will be the remaining\n     * elements.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to process.\n     * @param {number} [size=1] The length of each chunk\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the new array of chunks.\n     * @example\n     *\n     * _.chunk(['a', 'b', 'c', 'd'], 2);\n     * // => [['a', 'b'], ['c', 'd']]\n     *\n     * _.chunk(['a', 'b', 'c', 'd'], 3);\n     * // => [['a', 'b', 'c'], ['d']]\n     */\n    function chunk(array, size, guard) {\n      if ((guard ? isIterateeCall(array, size, guard) : size === undefined)) {\n        size = 1;\n      } else {\n        size = nativeMax(toInteger(size), 0);\n      }\n      var length = array == null ? 0 : array.length;\n      if (!length || size < 1) {\n        return [];\n      }\n      var index = 0,\n          resIndex = 0,\n          result = Array(nativeCeil(length / size));\n\n      while (index < length) {\n        result[resIndex++] = baseSlice(array, index, (index += size));\n      }\n      return result;\n    }\n\n    /**\n     * Creates an array with all falsey values removed. The values `false`, `null`,\n     * `0`, `\"\"`, `undefined`, and `NaN` are falsey.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to compact.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.compact([0, 1, false, 2, '', 3]);\n     * // => [1, 2, 3]\n     */\n    function compact(array) {\n      var index = -1,\n          length = array == null ? 0 : array.length,\n          resIndex = 0,\n          result = [];\n\n      while (++index < length) {\n        var value = array[index];\n        if (value) {\n          result[resIndex++] = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Creates a new array concatenating `array` with any additional arrays\n     * and/or values.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to concatenate.\n     * @param {...*} [values] The values to concatenate.\n     * @returns {Array} Returns the new concatenated array.\n     * @example\n     *\n     * var array = [1];\n     * var other = _.concat(array, 2, [3], [[4]]);\n     *\n     * console.log(other);\n     * // => [1, 2, 3, [4]]\n     *\n     * console.log(array);\n     * // => [1]\n     */\n    function concat() {\n      var length = arguments.length;\n      if (!length) {\n        return [];\n      }\n      var args = Array(length - 1),\n          array = arguments[0],\n          index = length;\n\n      while (index--) {\n        args[index - 1] = arguments[index];\n      }\n      return arrayPush(isArray(array) ? copyArray(array) : [array], baseFlatten(args, 1));\n    }\n\n    /**\n     * Creates an array of `array` values not included in the other given arrays\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons. The order and references of result values are\n     * determined by the first array.\n     *\n     * **Note:** Unlike `_.pullAll`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...Array} [values] The values to exclude.\n     * @returns {Array} Returns the new array of filtered values.\n     * @see _.without, _.xor\n     * @example\n     *\n     * _.difference([2, 1], [2, 3]);\n     * // => [1]\n     */\n    var difference = baseRest(function(array, values) {\n      return isArrayLikeObject(array)\n        ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true))\n        : [];\n    });\n\n    /**\n     * This method is like `_.difference` except that it accepts `iteratee` which\n     * is invoked for each element of `array` and `values` to generate the criterion\n     * by which they're compared. The order and references of result values are\n     * determined by the first array. The iteratee is invoked with one argument:\n     * (value).\n     *\n     * **Note:** Unlike `_.pullAllBy`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...Array} [values] The values to exclude.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.differenceBy([2.1, 1.2], [2.3, 3.4], Math.floor);\n     * // => [1.2]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.differenceBy([{ 'x': 2 }, { 'x': 1 }], [{ 'x': 1 }], 'x');\n     * // => [{ 'x': 2 }]\n     */\n    var differenceBy = baseRest(function(array, values) {\n      var iteratee = last(values);\n      if (isArrayLikeObject(iteratee)) {\n        iteratee = undefined;\n      }\n      return isArrayLikeObject(array)\n        ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true), getIteratee(iteratee, 2))\n        : [];\n    });\n\n    /**\n     * This method is like `_.difference` except that it accepts `comparator`\n     * which is invoked to compare elements of `array` to `values`. The order and\n     * references of result values are determined by the first array. The comparator\n     * is invoked with two arguments: (arrVal, othVal).\n     *\n     * **Note:** Unlike `_.pullAllWith`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...Array} [values] The values to exclude.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n     *\n     * _.differenceWith(objects, [{ 'x': 1, 'y': 2 }], _.isEqual);\n     * // => [{ 'x': 2, 'y': 1 }]\n     */\n    var differenceWith = baseRest(function(array, values) {\n      var comparator = last(values);\n      if (isArrayLikeObject(comparator)) {\n        comparator = undefined;\n      }\n      return isArrayLikeObject(array)\n        ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true), undefined, comparator)\n        : [];\n    });\n\n    /**\n     * Creates a slice of `array` with `n` elements dropped from the beginning.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.5.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to drop.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.drop([1, 2, 3]);\n     * // => [2, 3]\n     *\n     * _.drop([1, 2, 3], 2);\n     * // => [3]\n     *\n     * _.drop([1, 2, 3], 5);\n     * // => []\n     *\n     * _.drop([1, 2, 3], 0);\n     * // => [1, 2, 3]\n     */\n    function drop(array, n, guard) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      n = (guard || n === undefined) ? 1 : toInteger(n);\n      return baseSlice(array, n < 0 ? 0 : n, length);\n    }\n\n    /**\n     * Creates a slice of `array` with `n` elements dropped from the end.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to drop.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.dropRight([1, 2, 3]);\n     * // => [1, 2]\n     *\n     * _.dropRight([1, 2, 3], 2);\n     * // => [1]\n     *\n     * _.dropRight([1, 2, 3], 5);\n     * // => []\n     *\n     * _.dropRight([1, 2, 3], 0);\n     * // => [1, 2, 3]\n     */\n    function dropRight(array, n, guard) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      n = (guard || n === undefined) ? 1 : toInteger(n);\n      n = length - n;\n      return baseSlice(array, 0, n < 0 ? 0 : n);\n    }\n\n    /**\n     * Creates a slice of `array` excluding elements dropped from the end.\n     * Elements are dropped until `predicate` returns falsey. The predicate is\n     * invoked with three arguments: (value, index, array).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * _.dropRightWhile(users, function(o) { return !o.active; });\n     * // => objects for ['barney']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.dropRightWhile(users, { 'user': 'pebbles', 'active': false });\n     * // => objects for ['barney', 'fred']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.dropRightWhile(users, ['active', false]);\n     * // => objects for ['barney']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.dropRightWhile(users, 'active');\n     * // => objects for ['barney', 'fred', 'pebbles']\n     */\n    function dropRightWhile(array, predicate) {\n      return (array && array.length)\n        ? baseWhile(array, getIteratee(predicate, 3), true, true)\n        : [];\n    }\n\n    /**\n     * Creates a slice of `array` excluding elements dropped from the beginning.\n     * Elements are dropped until `predicate` returns falsey. The predicate is\n     * invoked with three arguments: (value, index, array).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * _.dropWhile(users, function(o) { return !o.active; });\n     * // => objects for ['pebbles']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.dropWhile(users, { 'user': 'barney', 'active': false });\n     * // => objects for ['fred', 'pebbles']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.dropWhile(users, ['active', false]);\n     * // => objects for ['pebbles']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.dropWhile(users, 'active');\n     * // => objects for ['barney', 'fred', 'pebbles']\n     */\n    function dropWhile(array, predicate) {\n      return (array && array.length)\n        ? baseWhile(array, getIteratee(predicate, 3), true)\n        : [];\n    }\n\n    /**\n     * Fills elements of `array` with `value` from `start` up to, but not\n     * including, `end`.\n     *\n     * **Note:** This method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.2.0\n     * @category Array\n     * @param {Array} array The array to fill.\n     * @param {*} value The value to fill `array` with.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [1, 2, 3];\n     *\n     * _.fill(array, 'a');\n     * console.log(array);\n     * // => ['a', 'a', 'a']\n     *\n     * _.fill(Array(3), 2);\n     * // => [2, 2, 2]\n     *\n     * _.fill([4, 6, 8, 10], '*', 1, 3);\n     * // => [4, '*', '*', 10]\n     */\n    function fill(array, value, start, end) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      if (start && typeof start != 'number' && isIterateeCall(array, value, start)) {\n        start = 0;\n        end = length;\n      }\n      return baseFill(array, value, start, end);\n    }\n\n    /**\n     * This method is like `_.find` except that it returns the index of the first\n     * element `predicate` returns truthy for instead of the element itself.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @returns {number} Returns the index of the found element, else `-1`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * _.findIndex(users, function(o) { return o.user == 'barney'; });\n     * // => 0\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.findIndex(users, { 'user': 'fred', 'active': false });\n     * // => 1\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.findIndex(users, ['active', false]);\n     * // => 0\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.findIndex(users, 'active');\n     * // => 2\n     */\n    function findIndex(array, predicate, fromIndex) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return -1;\n      }\n      var index = fromIndex == null ? 0 : toInteger(fromIndex);\n      if (index < 0) {\n        index = nativeMax(length + index, 0);\n      }\n      return baseFindIndex(array, getIteratee(predicate, 3), index);\n    }\n\n    /**\n     * This method is like `_.findIndex` except that it iterates over elements\n     * of `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param {number} [fromIndex=array.length-1] The index to search from.\n     * @returns {number} Returns the index of the found element, else `-1`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * _.findLastIndex(users, function(o) { return o.user == 'pebbles'; });\n     * // => 2\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.findLastIndex(users, { 'user': 'barney', 'active': true });\n     * // => 0\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.findLastIndex(users, ['active', false]);\n     * // => 2\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.findLastIndex(users, 'active');\n     * // => 0\n     */\n    function findLastIndex(array, predicate, fromIndex) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return -1;\n      }\n      var index = length - 1;\n      if (fromIndex !== undefined) {\n        index = toInteger(fromIndex);\n        index = fromIndex < 0\n          ? nativeMax(length + index, 0)\n          : nativeMin(index, length - 1);\n      }\n      return baseFindIndex(array, getIteratee(predicate, 3), index, true);\n    }\n\n    /**\n     * Flattens `array` a single level deep.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to flatten.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * _.flatten([1, [2, [3, [4]], 5]]);\n     * // => [1, 2, [3, [4]], 5]\n     */\n    function flatten(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? baseFlatten(array, 1) : [];\n    }\n\n    /**\n     * Recursively flattens `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to flatten.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * _.flattenDeep([1, [2, [3, [4]], 5]]);\n     * // => [1, 2, 3, 4, 5]\n     */\n    function flattenDeep(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? baseFlatten(array, INFINITY) : [];\n    }\n\n    /**\n     * Recursively flatten `array` up to `depth` times.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.4.0\n     * @category Array\n     * @param {Array} array The array to flatten.\n     * @param {number} [depth=1] The maximum recursion depth.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * var array = [1, [2, [3, [4]], 5]];\n     *\n     * _.flattenDepth(array, 1);\n     * // => [1, 2, [3, [4]], 5]\n     *\n     * _.flattenDepth(array, 2);\n     * // => [1, 2, 3, [4], 5]\n     */\n    function flattenDepth(array, depth) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      depth = depth === undefined ? 1 : toInteger(depth);\n      return baseFlatten(array, depth);\n    }\n\n    /**\n     * The inverse of `_.toPairs`; this method returns an object composed\n     * from key-value `pairs`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} pairs The key-value pairs.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * _.fromPairs([['a', 1], ['b', 2]]);\n     * // => { 'a': 1, 'b': 2 }\n     */\n    function fromPairs(pairs) {\n      var index = -1,\n          length = pairs == null ? 0 : pairs.length,\n          result = {};\n\n      while (++index < length) {\n        var pair = pairs[index];\n        result[pair[0]] = pair[1];\n      }\n      return result;\n    }\n\n    /**\n     * Gets the first element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @alias first\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {*} Returns the first element of `array`.\n     * @example\n     *\n     * _.head([1, 2, 3]);\n     * // => 1\n     *\n     * _.head([]);\n     * // => undefined\n     */\n    function head(array) {\n      return (array && array.length) ? array[0] : undefined;\n    }\n\n    /**\n     * Gets the index at which the first occurrence of `value` is found in `array`\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons. If `fromIndex` is negative, it's used as the\n     * offset from the end of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to search for.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.indexOf([1, 2, 1, 2], 2);\n     * // => 1\n     *\n     * // Search from the `fromIndex`.\n     * _.indexOf([1, 2, 1, 2], 2, 2);\n     * // => 3\n     */\n    function indexOf(array, value, fromIndex) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return -1;\n      }\n      var index = fromIndex == null ? 0 : toInteger(fromIndex);\n      if (index < 0) {\n        index = nativeMax(length + index, 0);\n      }\n      return baseIndexOf(array, value, index);\n    }\n\n    /**\n     * Gets all but the last element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.initial([1, 2, 3]);\n     * // => [1, 2]\n     */\n    function initial(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? baseSlice(array, 0, -1) : [];\n    }\n\n    /**\n     * Creates an array of unique values that are included in all given arrays\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons. The order and references of result values are\n     * determined by the first array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of intersecting values.\n     * @example\n     *\n     * _.intersection([2, 1], [2, 3]);\n     * // => [2]\n     */\n    var intersection = baseRest(function(arrays) {\n      var mapped = arrayMap(arrays, castArrayLikeObject);\n      return (mapped.length && mapped[0] === arrays[0])\n        ? baseIntersection(mapped)\n        : [];\n    });\n\n    /**\n     * This method is like `_.intersection` except that it accepts `iteratee`\n     * which is invoked for each element of each `arrays` to generate the criterion\n     * by which they're compared. The order and references of result values are\n     * determined by the first array. The iteratee is invoked with one argument:\n     * (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new array of intersecting values.\n     * @example\n     *\n     * _.intersectionBy([2.1, 1.2], [2.3, 3.4], Math.floor);\n     * // => [2.1]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.intersectionBy([{ 'x': 1 }], [{ 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 1 }]\n     */\n    var intersectionBy = baseRest(function(arrays) {\n      var iteratee = last(arrays),\n          mapped = arrayMap(arrays, castArrayLikeObject);\n\n      if (iteratee === last(mapped)) {\n        iteratee = undefined;\n      } else {\n        mapped.pop();\n      }\n      return (mapped.length && mapped[0] === arrays[0])\n        ? baseIntersection(mapped, getIteratee(iteratee, 2))\n        : [];\n    });\n\n    /**\n     * This method is like `_.intersection` except that it accepts `comparator`\n     * which is invoked to compare elements of `arrays`. The order and references\n     * of result values are determined by the first array. The comparator is\n     * invoked with two arguments: (arrVal, othVal).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of intersecting values.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n     * var others = [{ 'x': 1, 'y': 1 }, { 'x': 1, 'y': 2 }];\n     *\n     * _.intersectionWith(objects, others, _.isEqual);\n     * // => [{ 'x': 1, 'y': 2 }]\n     */\n    var intersectionWith = baseRest(function(arrays) {\n      var comparator = last(arrays),\n          mapped = arrayMap(arrays, castArrayLikeObject);\n\n      comparator = typeof comparator == 'function' ? comparator : undefined;\n      if (comparator) {\n        mapped.pop();\n      }\n      return (mapped.length && mapped[0] === arrays[0])\n        ? baseIntersection(mapped, undefined, comparator)\n        : [];\n    });\n\n    /**\n     * Converts all elements in `array` into a string separated by `separator`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to convert.\n     * @param {string} [separator=','] The element separator.\n     * @returns {string} Returns the joined string.\n     * @example\n     *\n     * _.join(['a', 'b', 'c'], '~');\n     * // => 'a~b~c'\n     */\n    function join(array, separator) {\n      return array == null ? '' : nativeJoin.call(array, separator);\n    }\n\n    /**\n     * Gets the last element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {*} Returns the last element of `array`.\n     * @example\n     *\n     * _.last([1, 2, 3]);\n     * // => 3\n     */\n    function last(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? array[length - 1] : undefined;\n    }\n\n    /**\n     * This method is like `_.indexOf` except that it iterates over elements of\n     * `array` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to search for.\n     * @param {number} [fromIndex=array.length-1] The index to search from.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.lastIndexOf([1, 2, 1, 2], 2);\n     * // => 3\n     *\n     * // Search from the `fromIndex`.\n     * _.lastIndexOf([1, 2, 1, 2], 2, 2);\n     * // => 1\n     */\n    function lastIndexOf(array, value, fromIndex) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return -1;\n      }\n      var index = length;\n      if (fromIndex !== undefined) {\n        index = toInteger(fromIndex);\n        index = index < 0 ? nativeMax(length + index, 0) : nativeMin(index, length - 1);\n      }\n      return value === value\n        ? strictLastIndexOf(array, value, index)\n        : baseFindIndex(array, baseIsNaN, index, true);\n    }\n\n    /**\n     * Gets the element at index `n` of `array`. If `n` is negative, the nth\n     * element from the end is returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.11.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=0] The index of the element to return.\n     * @returns {*} Returns the nth element of `array`.\n     * @example\n     *\n     * var array = ['a', 'b', 'c', 'd'];\n     *\n     * _.nth(array, 1);\n     * // => 'b'\n     *\n     * _.nth(array, -2);\n     * // => 'c';\n     */\n    function nth(array, n) {\n      return (array && array.length) ? baseNth(array, toInteger(n)) : undefined;\n    }\n\n    /**\n     * Removes all given values from `array` using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * **Note:** Unlike `_.without`, this method mutates `array`. Use `_.remove`\n     * to remove elements from an array by predicate.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {...*} [values] The values to remove.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = ['a', 'b', 'c', 'a', 'b', 'c'];\n     *\n     * _.pull(array, 'a', 'c');\n     * console.log(array);\n     * // => ['b', 'b']\n     */\n    var pull = baseRest(pullAll);\n\n    /**\n     * This method is like `_.pull` except that it accepts an array of values to remove.\n     *\n     * **Note:** Unlike `_.difference`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = ['a', 'b', 'c', 'a', 'b', 'c'];\n     *\n     * _.pullAll(array, ['a', 'c']);\n     * console.log(array);\n     * // => ['b', 'b']\n     */\n    function pullAll(array, values) {\n      return (array && array.length && values && values.length)\n        ? basePullAll(array, values)\n        : array;\n    }\n\n    /**\n     * This method is like `_.pullAll` except that it accepts `iteratee` which is\n     * invoked for each element of `array` and `values` to generate the criterion\n     * by which they're compared. The iteratee is invoked with one argument: (value).\n     *\n     * **Note:** Unlike `_.differenceBy`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [{ 'x': 1 }, { 'x': 2 }, { 'x': 3 }, { 'x': 1 }];\n     *\n     * _.pullAllBy(array, [{ 'x': 1 }, { 'x': 3 }], 'x');\n     * console.log(array);\n     * // => [{ 'x': 2 }]\n     */\n    function pullAllBy(array, values, iteratee) {\n      return (array && array.length && values && values.length)\n        ? basePullAll(array, values, getIteratee(iteratee, 2))\n        : array;\n    }\n\n    /**\n     * This method is like `_.pullAll` except that it accepts `comparator` which\n     * is invoked to compare elements of `array` to `values`. The comparator is\n     * invoked with two arguments: (arrVal, othVal).\n     *\n     * **Note:** Unlike `_.differenceWith`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.6.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [{ 'x': 1, 'y': 2 }, { 'x': 3, 'y': 4 }, { 'x': 5, 'y': 6 }];\n     *\n     * _.pullAllWith(array, [{ 'x': 3, 'y': 4 }], _.isEqual);\n     * console.log(array);\n     * // => [{ 'x': 1, 'y': 2 }, { 'x': 5, 'y': 6 }]\n     */\n    function pullAllWith(array, values, comparator) {\n      return (array && array.length && values && values.length)\n        ? basePullAll(array, values, undefined, comparator)\n        : array;\n    }\n\n    /**\n     * Removes elements from `array` corresponding to `indexes` and returns an\n     * array of removed elements.\n     *\n     * **Note:** Unlike `_.at`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {...(number|number[])} [indexes] The indexes of elements to remove.\n     * @returns {Array} Returns the new array of removed elements.\n     * @example\n     *\n     * var array = ['a', 'b', 'c', 'd'];\n     * var pulled = _.pullAt(array, [1, 3]);\n     *\n     * console.log(array);\n     * // => ['a', 'c']\n     *\n     * console.log(pulled);\n     * // => ['b', 'd']\n     */\n    var pullAt = flatRest(function(array, indexes) {\n      var length = array == null ? 0 : array.length,\n          result = baseAt(array, indexes);\n\n      basePullAt(array, arrayMap(indexes, function(index) {\n        return isIndex(index, length) ? +index : index;\n      }).sort(compareAscending));\n\n      return result;\n    });\n\n    /**\n     * Removes all elements from `array` that `predicate` returns truthy for\n     * and returns an array of the removed elements. The predicate is invoked\n     * with three arguments: (value, index, array).\n     *\n     * **Note:** Unlike `_.filter`, this method mutates `array`. Use `_.pull`\n     * to pull elements from an array by value.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new array of removed elements.\n     * @example\n     *\n     * var array = [1, 2, 3, 4];\n     * var evens = _.remove(array, function(n) {\n     *   return n % 2 == 0;\n     * });\n     *\n     * console.log(array);\n     * // => [1, 3]\n     *\n     * console.log(evens);\n     * // => [2, 4]\n     */\n    function remove(array, predicate) {\n      var result = [];\n      if (!(array && array.length)) {\n        return result;\n      }\n      var index = -1,\n          indexes = [],\n          length = array.length;\n\n      predicate = getIteratee(predicate, 3);\n      while (++index < length) {\n        var value = array[index];\n        if (predicate(value, index, array)) {\n          result.push(value);\n          indexes.push(index);\n        }\n      }\n      basePullAt(array, indexes);\n      return result;\n    }\n\n    /**\n     * Reverses `array` so that the first element becomes the last, the second\n     * element becomes the second to last, and so on.\n     *\n     * **Note:** This method mutates `array` and is based on\n     * [`Array#reverse`](https://mdn.io/Array/reverse).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [1, 2, 3];\n     *\n     * _.reverse(array);\n     * // => [3, 2, 1]\n     *\n     * console.log(array);\n     * // => [3, 2, 1]\n     */\n    function reverse(array) {\n      return array == null ? array : nativeReverse.call(array);\n    }\n\n    /**\n     * Creates a slice of `array` from `start` up to, but not including, `end`.\n     *\n     * **Note:** This method is used instead of\n     * [`Array#slice`](https://mdn.io/Array/slice) to ensure dense arrays are\n     * returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to slice.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns the slice of `array`.\n     */\n    function slice(array, start, end) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      if (end && typeof end != 'number' && isIterateeCall(array, start, end)) {\n        start = 0;\n        end = length;\n      }\n      else {\n        start = start == null ? 0 : toInteger(start);\n        end = end === undefined ? length : toInteger(end);\n      }\n      return baseSlice(array, start, end);\n    }\n\n    /**\n     * Uses a binary search to determine the lowest index at which `value`\n     * should be inserted into `array` in order to maintain its sort order.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * _.sortedIndex([30, 50], 40);\n     * // => 1\n     */\n    function sortedIndex(array, value) {\n      return baseSortedIndex(array, value);\n    }\n\n    /**\n     * This method is like `_.sortedIndex` except that it accepts `iteratee`\n     * which is invoked for `value` and each element of `array` to compute their\n     * sort ranking. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * var objects = [{ 'x': 4 }, { 'x': 5 }];\n     *\n     * _.sortedIndexBy(objects, { 'x': 4 }, function(o) { return o.x; });\n     * // => 0\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.sortedIndexBy(objects, { 'x': 4 }, 'x');\n     * // => 0\n     */\n    function sortedIndexBy(array, value, iteratee) {\n      return baseSortedIndexBy(array, value, getIteratee(iteratee, 2));\n    }\n\n    /**\n     * This method is like `_.indexOf` except that it performs a binary\n     * search on a sorted `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to search for.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.sortedIndexOf([4, 5, 5, 5, 6], 5);\n     * // => 1\n     */\n    function sortedIndexOf(array, value) {\n      var length = array == null ? 0 : array.length;\n      if (length) {\n        var index = baseSortedIndex(array, value);\n        if (index < length && eq(array[index], value)) {\n          return index;\n        }\n      }\n      return -1;\n    }\n\n    /**\n     * This method is like `_.sortedIndex` except that it returns the highest\n     * index at which `value` should be inserted into `array` in order to\n     * maintain its sort order.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * _.sortedLastIndex([4, 5, 5, 5, 6], 5);\n     * // => 4\n     */\n    function sortedLastIndex(array, value) {\n      return baseSortedIndex(array, value, true);\n    }\n\n    /**\n     * This method is like `_.sortedLastIndex` except that it accepts `iteratee`\n     * which is invoked for `value` and each element of `array` to compute their\n     * sort ranking. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * var objects = [{ 'x': 4 }, { 'x': 5 }];\n     *\n     * _.sortedLastIndexBy(objects, { 'x': 4 }, function(o) { return o.x; });\n     * // => 1\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.sortedLastIndexBy(objects, { 'x': 4 }, 'x');\n     * // => 1\n     */\n    function sortedLastIndexBy(array, value, iteratee) {\n      return baseSortedIndexBy(array, value, getIteratee(iteratee, 2), true);\n    }\n\n    /**\n     * This method is like `_.lastIndexOf` except that it performs a binary\n     * search on a sorted `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to search for.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.sortedLastIndexOf([4, 5, 5, 5, 6], 5);\n     * // => 3\n     */\n    function sortedLastIndexOf(array, value) {\n      var length = array == null ? 0 : array.length;\n      if (length) {\n        var index = baseSortedIndex(array, value, true) - 1;\n        if (eq(array[index], value)) {\n          return index;\n        }\n      }\n      return -1;\n    }\n\n    /**\n     * This method is like `_.uniq` except that it's designed and optimized\n     * for sorted arrays.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * _.sortedUniq([1, 1, 2]);\n     * // => [1, 2]\n     */\n    function sortedUniq(array) {\n      return (array && array.length)\n        ? baseSortedUniq(array)\n        : [];\n    }\n\n    /**\n     * This method is like `_.uniqBy` except that it's designed and optimized\n     * for sorted arrays.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * _.sortedUniqBy([1.1, 1.2, 2.3, 2.4], Math.floor);\n     * // => [1.1, 2.3]\n     */\n    function sortedUniqBy(array, iteratee) {\n      return (array && array.length)\n        ? baseSortedUniq(array, getIteratee(iteratee, 2))\n        : [];\n    }\n\n    /**\n     * Gets all but the first element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.tail([1, 2, 3]);\n     * // => [2, 3]\n     */\n    function tail(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? baseSlice(array, 1, length) : [];\n    }\n\n    /**\n     * Creates a slice of `array` with `n` elements taken from the beginning.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to take.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.take([1, 2, 3]);\n     * // => [1]\n     *\n     * _.take([1, 2, 3], 2);\n     * // => [1, 2]\n     *\n     * _.take([1, 2, 3], 5);\n     * // => [1, 2, 3]\n     *\n     * _.take([1, 2, 3], 0);\n     * // => []\n     */\n    function take(array, n, guard) {\n      if (!(array && array.length)) {\n        return [];\n      }\n      n = (guard || n === undefined) ? 1 : toInteger(n);\n      return baseSlice(array, 0, n < 0 ? 0 : n);\n    }\n\n    /**\n     * Creates a slice of `array` with `n` elements taken from the end.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to take.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.takeRight([1, 2, 3]);\n     * // => [3]\n     *\n     * _.takeRight([1, 2, 3], 2);\n     * // => [2, 3]\n     *\n     * _.takeRight([1, 2, 3], 5);\n     * // => [1, 2, 3]\n     *\n     * _.takeRight([1, 2, 3], 0);\n     * // => []\n     */\n    function takeRight(array, n, guard) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      n = (guard || n === undefined) ? 1 : toInteger(n);\n      n = length - n;\n      return baseSlice(array, n < 0 ? 0 : n, length);\n    }\n\n    /**\n     * Creates a slice of `array` with elements taken from the end. Elements are\n     * taken until `predicate` returns falsey. The predicate is invoked with\n     * three arguments: (value, index, array).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * _.takeRightWhile(users, function(o) { return !o.active; });\n     * // => objects for ['fred', 'pebbles']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.takeRightWhile(users, { 'user': 'pebbles', 'active': false });\n     * // => objects for ['pebbles']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.takeRightWhile(users, ['active', false]);\n     * // => objects for ['fred', 'pebbles']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.takeRightWhile(users, 'active');\n     * // => []\n     */\n    function takeRightWhile(array, predicate) {\n      return (array && array.length)\n        ? baseWhile(array, getIteratee(predicate, 3), false, true)\n        : [];\n    }\n\n    /**\n     * Creates a slice of `array` with elements taken from the beginning. Elements\n     * are taken until `predicate` returns falsey. The predicate is invoked with\n     * three arguments: (value, index, array).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * _.takeWhile(users, function(o) { return !o.active; });\n     * // => objects for ['barney', 'fred']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.takeWhile(users, { 'user': 'barney', 'active': false });\n     * // => objects for ['barney']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.takeWhile(users, ['active', false]);\n     * // => objects for ['barney', 'fred']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.takeWhile(users, 'active');\n     * // => []\n     */\n    function takeWhile(array, predicate) {\n      return (array && array.length)\n        ? baseWhile(array, getIteratee(predicate, 3))\n        : [];\n    }\n\n    /**\n     * Creates an array of unique values, in order, from all given arrays using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of combined values.\n     * @example\n     *\n     * _.union([2], [1, 2]);\n     * // => [2, 1]\n     */\n    var union = baseRest(function(arrays) {\n      return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true));\n    });\n\n    /**\n     * This method is like `_.union` except that it accepts `iteratee` which is\n     * invoked for each element of each `arrays` to generate the criterion by\n     * which uniqueness is computed. Result values are chosen from the first\n     * array in which the value occurs. The iteratee is invoked with one argument:\n     * (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new array of combined values.\n     * @example\n     *\n     * _.unionBy([2.1], [1.2, 2.3], Math.floor);\n     * // => [2.1, 1.2]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.unionBy([{ 'x': 1 }], [{ 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 1 }, { 'x': 2 }]\n     */\n    var unionBy = baseRest(function(arrays) {\n      var iteratee = last(arrays);\n      if (isArrayLikeObject(iteratee)) {\n        iteratee = undefined;\n      }\n      return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true), getIteratee(iteratee, 2));\n    });\n\n    /**\n     * This method is like `_.union` except that it accepts `comparator` which\n     * is invoked to compare elements of `arrays`. Result values are chosen from\n     * the first array in which the value occurs. The comparator is invoked\n     * with two arguments: (arrVal, othVal).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of combined values.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n     * var others = [{ 'x': 1, 'y': 1 }, { 'x': 1, 'y': 2 }];\n     *\n     * _.unionWith(objects, others, _.isEqual);\n     * // => [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }, { 'x': 1, 'y': 1 }]\n     */\n    var unionWith = baseRest(function(arrays) {\n      var comparator = last(arrays);\n      comparator = typeof comparator == 'function' ? comparator : undefined;\n      return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true), undefined, comparator);\n    });\n\n    /**\n     * Creates a duplicate-free version of an array, using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons, in which only the first occurrence of each element\n     * is kept. The order of result values is determined by the order they occur\n     * in the array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * _.uniq([2, 1, 2]);\n     * // => [2, 1]\n     */\n    function uniq(array) {\n      return (array && array.length) ? baseUniq(array) : [];\n    }\n\n    /**\n     * This method is like `_.uniq` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the criterion by which\n     * uniqueness is computed. The order of result values is determined by the\n     * order they occur in the array. The iteratee is invoked with one argument:\n     * (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * _.uniqBy([2.1, 1.2, 2.3], Math.floor);\n     * // => [2.1, 1.2]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.uniqBy([{ 'x': 1 }, { 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 1 }, { 'x': 2 }]\n     */\n    function uniqBy(array, iteratee) {\n      return (array && array.length) ? baseUniq(array, getIteratee(iteratee, 2)) : [];\n    }\n\n    /**\n     * This method is like `_.uniq` except that it accepts `comparator` which\n     * is invoked to compare elements of `array`. The order of result values is\n     * determined by the order they occur in the array.The comparator is invoked\n     * with two arguments: (arrVal, othVal).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }, { 'x': 1, 'y': 2 }];\n     *\n     * _.uniqWith(objects, _.isEqual);\n     * // => [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }]\n     */\n    function uniqWith(array, comparator) {\n      comparator = typeof comparator == 'function' ? comparator : undefined;\n      return (array && array.length) ? baseUniq(array, undefined, comparator) : [];\n    }\n\n    /**\n     * This method is like `_.zip` except that it accepts an array of grouped\n     * elements and creates an array regrouping the elements to their pre-zip\n     * configuration.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.2.0\n     * @category Array\n     * @param {Array} array The array of grouped elements to process.\n     * @returns {Array} Returns the new array of regrouped elements.\n     * @example\n     *\n     * var zipped = _.zip(['a', 'b'], [1, 2], [true, false]);\n     * // => [['a', 1, true], ['b', 2, false]]\n     *\n     * _.unzip(zipped);\n     * // => [['a', 'b'], [1, 2], [true, false]]\n     */\n    function unzip(array) {\n      if (!(array && array.length)) {\n        return [];\n      }\n      var length = 0;\n      array = arrayFilter(array, function(group) {\n        if (isArrayLikeObject(group)) {\n          length = nativeMax(group.length, length);\n          return true;\n        }\n      });\n      return baseTimes(length, function(index) {\n        return arrayMap(array, baseProperty(index));\n      });\n    }\n\n    /**\n     * This method is like `_.unzip` except that it accepts `iteratee` to specify\n     * how regrouped values should be combined. The iteratee is invoked with the\n     * elements of each group: (...group).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.8.0\n     * @category Array\n     * @param {Array} array The array of grouped elements to process.\n     * @param {Function} [iteratee=_.identity] The function to combine\n     *  regrouped values.\n     * @returns {Array} Returns the new array of regrouped elements.\n     * @example\n     *\n     * var zipped = _.zip([1, 2], [10, 20], [100, 200]);\n     * // => [[1, 10, 100], [2, 20, 200]]\n     *\n     * _.unzipWith(zipped, _.add);\n     * // => [3, 30, 300]\n     */\n    function unzipWith(array, iteratee) {\n      if (!(array && array.length)) {\n        return [];\n      }\n      var result = unzip(array);\n      if (iteratee == null) {\n        return result;\n      }\n      return arrayMap(result, function(group) {\n        return apply(iteratee, undefined, group);\n      });\n    }\n\n    /**\n     * Creates an array excluding all given values using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * **Note:** Unlike `_.pull`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...*} [values] The values to exclude.\n     * @returns {Array} Returns the new array of filtered values.\n     * @see _.difference, _.xor\n     * @example\n     *\n     * _.without([2, 1, 2, 3], 1, 2);\n     * // => [3]\n     */\n    var without = baseRest(function(array, values) {\n      return isArrayLikeObject(array)\n        ? baseDifference(array, values)\n        : [];\n    });\n\n    /**\n     * Creates an array of unique values that is the\n     * [symmetric difference](https://en.wikipedia.org/wiki/Symmetric_difference)\n     * of the given arrays. The order of result values is determined by the order\n     * they occur in the arrays.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of filtered values.\n     * @see _.difference, _.without\n     * @example\n     *\n     * _.xor([2, 1], [2, 3]);\n     * // => [1, 3]\n     */\n    var xor = baseRest(function(arrays) {\n      return baseXor(arrayFilter(arrays, isArrayLikeObject));\n    });\n\n    /**\n     * This method is like `_.xor` except that it accepts `iteratee` which is\n     * invoked for each element of each `arrays` to generate the criterion by\n     * which by which they're compared. The order of result values is determined\n     * by the order they occur in the arrays. The iteratee is invoked with one\n     * argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.xorBy([2.1, 1.2], [2.3, 3.4], Math.floor);\n     * // => [1.2, 3.4]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.xorBy([{ 'x': 1 }], [{ 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 2 }]\n     */\n    var xorBy = baseRest(function(arrays) {\n      var iteratee = last(arrays);\n      if (isArrayLikeObject(iteratee)) {\n        iteratee = undefined;\n      }\n      return baseXor(arrayFilter(arrays, isArrayLikeObject), getIteratee(iteratee, 2));\n    });\n\n    /**\n     * This method is like `_.xor` except that it accepts `comparator` which is\n     * invoked to compare elements of `arrays`. The order of result values is\n     * determined by the order they occur in the arrays. The comparator is invoked\n     * with two arguments: (arrVal, othVal).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n     * var others = [{ 'x': 1, 'y': 1 }, { 'x': 1, 'y': 2 }];\n     *\n     * _.xorWith(objects, others, _.isEqual);\n     * // => [{ 'x': 2, 'y': 1 }, { 'x': 1, 'y': 1 }]\n     */\n    var xorWith = baseRest(function(arrays) {\n      var comparator = last(arrays);\n      comparator = typeof comparator == 'function' ? comparator : undefined;\n      return baseXor(arrayFilter(arrays, isArrayLikeObject), undefined, comparator);\n    });\n\n    /**\n     * Creates an array of grouped elements, the first of which contains the\n     * first elements of the given arrays, the second of which contains the\n     * second elements of the given arrays, and so on.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to process.\n     * @returns {Array} Returns the new array of grouped elements.\n     * @example\n     *\n     * _.zip(['a', 'b'], [1, 2], [true, false]);\n     * // => [['a', 1, true], ['b', 2, false]]\n     */\n    var zip = baseRest(unzip);\n\n    /**\n     * This method is like `_.fromPairs` except that it accepts two arrays,\n     * one of property identifiers and one of corresponding values.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.4.0\n     * @category Array\n     * @param {Array} [props=[]] The property identifiers.\n     * @param {Array} [values=[]] The property values.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * _.zipObject(['a', 'b'], [1, 2]);\n     * // => { 'a': 1, 'b': 2 }\n     */\n    function zipObject(props, values) {\n      return baseZipObject(props || [], values || [], assignValue);\n    }\n\n    /**\n     * This method is like `_.zipObject` except that it supports property paths.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.1.0\n     * @category Array\n     * @param {Array} [props=[]] The property identifiers.\n     * @param {Array} [values=[]] The property values.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * _.zipObjectDeep(['a.b[0].c', 'a.b[1].d'], [1, 2]);\n     * // => { 'a': { 'b': [{ 'c': 1 }, { 'd': 2 }] } }\n     */\n    function zipObjectDeep(props, values) {\n      return baseZipObject(props || [], values || [], baseSet);\n    }\n\n    /**\n     * This method is like `_.zip` except that it accepts `iteratee` to specify\n     * how grouped values should be combined. The iteratee is invoked with the\n     * elements of each group: (...group).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.8.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to process.\n     * @param {Function} [iteratee=_.identity] The function to combine\n     *  grouped values.\n     * @returns {Array} Returns the new array of grouped elements.\n     * @example\n     *\n     * _.zipWith([1, 2], [10, 20], [100, 200], function(a, b, c) {\n     *   return a + b + c;\n     * });\n     * // => [111, 222]\n     */\n    var zipWith = baseRest(function(arrays) {\n      var length = arrays.length,\n          iteratee = length > 1 ? arrays[length - 1] : undefined;\n\n      iteratee = typeof iteratee == 'function' ? (arrays.pop(), iteratee) : undefined;\n      return unzipWith(arrays, iteratee);\n    });\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a `lodash` wrapper instance that wraps `value` with explicit method\n     * chain sequences enabled. The result of such sequences must be unwrapped\n     * with `_#value`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.3.0\n     * @category Seq\n     * @param {*} value The value to wrap.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36 },\n     *   { 'user': 'fred',    'age': 40 },\n     *   { 'user': 'pebbles', 'age': 1 }\n     * ];\n     *\n     * var youngest = _\n     *   .chain(users)\n     *   .sortBy('age')\n     *   .map(function(o) {\n     *     return o.user + ' is ' + o.age;\n     *   })\n     *   .head()\n     *   .value();\n     * // => 'pebbles is 1'\n     */\n    function chain(value) {\n      var result = lodash(value);\n      result.__chain__ = true;\n      return result;\n    }\n\n    /**\n     * This method invokes `interceptor` and returns `value`. The interceptor\n     * is invoked with one argument; (value). The purpose of this method is to\n     * \"tap into\" a method chain sequence in order to modify intermediate results.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Seq\n     * @param {*} value The value to provide to `interceptor`.\n     * @param {Function} interceptor The function to invoke.\n     * @returns {*} Returns `value`.\n     * @example\n     *\n     * _([1, 2, 3])\n     *  .tap(function(array) {\n     *    // Mutate input array.\n     *    array.pop();\n     *  })\n     *  .reverse()\n     *  .value();\n     * // => [2, 1]\n     */\n    function tap(value, interceptor) {\n      interceptor(value);\n      return value;\n    }\n\n    /**\n     * This method is like `_.tap` except that it returns the result of `interceptor`.\n     * The purpose of this method is to \"pass thru\" values replacing intermediate\n     * results in a method chain sequence.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Seq\n     * @param {*} value The value to provide to `interceptor`.\n     * @param {Function} interceptor The function to invoke.\n     * @returns {*} Returns the result of `interceptor`.\n     * @example\n     *\n     * _('  abc  ')\n     *  .chain()\n     *  .trim()\n     *  .thru(function(value) {\n     *    return [value];\n     *  })\n     *  .value();\n     * // => ['abc']\n     */\n    function thru(value, interceptor) {\n      return interceptor(value);\n    }\n\n    /**\n     * This method is the wrapper version of `_.at`.\n     *\n     * @name at\n     * @memberOf _\n     * @since 1.0.0\n     * @category Seq\n     * @param {...(string|string[])} [paths] The property paths to pick.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }, 4] };\n     *\n     * _(object).at(['a[0].b.c', 'a[1]']).value();\n     * // => [3, 4]\n     */\n    var wrapperAt = flatRest(function(paths) {\n      var length = paths.length,\n          start = length ? paths[0] : 0,\n          value = this.__wrapped__,\n          interceptor = function(object) { return baseAt(object, paths); };\n\n      if (length > 1 || this.__actions__.length ||\n          !(value instanceof LazyWrapper) || !isIndex(start)) {\n        return this.thru(interceptor);\n      }\n      value = value.slice(start, +start + (length ? 1 : 0));\n      value.__actions__.push({\n        'func': thru,\n        'args': [interceptor],\n        'thisArg': undefined\n      });\n      return new LodashWrapper(value, this.__chain__).thru(function(array) {\n        if (length && !array.length) {\n          array.push(undefined);\n        }\n        return array;\n      });\n    });\n\n    /**\n     * Creates a `lodash` wrapper instance with explicit method chain sequences enabled.\n     *\n     * @name chain\n     * @memberOf _\n     * @since 0.1.0\n     * @category Seq\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 40 }\n     * ];\n     *\n     * // A sequence without explicit chaining.\n     * _(users).head();\n     * // => { 'user': 'barney', 'age': 36 }\n     *\n     * // A sequence with explicit chaining.\n     * _(users)\n     *   .chain()\n     *   .head()\n     *   .pick('user')\n     *   .value();\n     * // => { 'user': 'barney' }\n     */\n    function wrapperChain() {\n      return chain(this);\n    }\n\n    /**\n     * Executes the chain sequence and returns the wrapped result.\n     *\n     * @name commit\n     * @memberOf _\n     * @since 3.2.0\n     * @category Seq\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var array = [1, 2];\n     * var wrapped = _(array).push(3);\n     *\n     * console.log(array);\n     * // => [1, 2]\n     *\n     * wrapped = wrapped.commit();\n     * console.log(array);\n     * // => [1, 2, 3]\n     *\n     * wrapped.last();\n     * // => 3\n     *\n     * console.log(array);\n     * // => [1, 2, 3]\n     */\n    function wrapperCommit() {\n      return new LodashWrapper(this.value(), this.__chain__);\n    }\n\n    /**\n     * Gets the next value on a wrapped object following the\n     * [iterator protocol](https://mdn.io/iteration_protocols#iterator).\n     *\n     * @name next\n     * @memberOf _\n     * @since 4.0.0\n     * @category Seq\n     * @returns {Object} Returns the next iterator value.\n     * @example\n     *\n     * var wrapped = _([1, 2]);\n     *\n     * wrapped.next();\n     * // => { 'done': false, 'value': 1 }\n     *\n     * wrapped.next();\n     * // => { 'done': false, 'value': 2 }\n     *\n     * wrapped.next();\n     * // => { 'done': true, 'value': undefined }\n     */\n    function wrapperNext() {\n      if (this.__values__ === undefined) {\n        this.__values__ = toArray(this.value());\n      }\n      var done = this.__index__ >= this.__values__.length,\n          value = done ? undefined : this.__values__[this.__index__++];\n\n      return { 'done': done, 'value': value };\n    }\n\n    /**\n     * Enables the wrapper to be iterable.\n     *\n     * @name Symbol.iterator\n     * @memberOf _\n     * @since 4.0.0\n     * @category Seq\n     * @returns {Object} Returns the wrapper object.\n     * @example\n     *\n     * var wrapped = _([1, 2]);\n     *\n     * wrapped[Symbol.iterator]() === wrapped;\n     * // => true\n     *\n     * Array.from(wrapped);\n     * // => [1, 2]\n     */\n    function wrapperToIterator() {\n      return this;\n    }\n\n    /**\n     * Creates a clone of the chain sequence planting `value` as the wrapped value.\n     *\n     * @name plant\n     * @memberOf _\n     * @since 3.2.0\n     * @category Seq\n     * @param {*} value The value to plant.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var wrapped = _([1, 2]).map(square);\n     * var other = wrapped.plant([3, 4]);\n     *\n     * other.value();\n     * // => [9, 16]\n     *\n     * wrapped.value();\n     * // => [1, 4]\n     */\n    function wrapperPlant(value) {\n      var result,\n          parent = this;\n\n      while (parent instanceof baseLodash) {\n        var clone = wrapperClone(parent);\n        clone.__index__ = 0;\n        clone.__values__ = undefined;\n        if (result) {\n          previous.__wrapped__ = clone;\n        } else {\n          result = clone;\n        }\n        var previous = clone;\n        parent = parent.__wrapped__;\n      }\n      previous.__wrapped__ = value;\n      return result;\n    }\n\n    /**\n     * This method is the wrapper version of `_.reverse`.\n     *\n     * **Note:** This method mutates the wrapped array.\n     *\n     * @name reverse\n     * @memberOf _\n     * @since 0.1.0\n     * @category Seq\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var array = [1, 2, 3];\n     *\n     * _(array).reverse().value()\n     * // => [3, 2, 1]\n     *\n     * console.log(array);\n     * // => [3, 2, 1]\n     */\n    function wrapperReverse() {\n      var value = this.__wrapped__;\n      if (value instanceof LazyWrapper) {\n        var wrapped = value;\n        if (this.__actions__.length) {\n          wrapped = new LazyWrapper(this);\n        }\n        wrapped = wrapped.reverse();\n        wrapped.__actions__.push({\n          'func': thru,\n          'args': [reverse],\n          'thisArg': undefined\n        });\n        return new LodashWrapper(wrapped, this.__chain__);\n      }\n      return this.thru(reverse);\n    }\n\n    /**\n     * Executes the chain sequence to resolve the unwrapped value.\n     *\n     * @name value\n     * @memberOf _\n     * @since 0.1.0\n     * @alias toJSON, valueOf\n     * @category Seq\n     * @returns {*} Returns the resolved unwrapped value.\n     * @example\n     *\n     * _([1, 2, 3]).value();\n     * // => [1, 2, 3]\n     */\n    function wrapperValue() {\n      return baseWrapperValue(this.__wrapped__, this.__actions__);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` thru `iteratee`. The corresponding value of\n     * each key is the number of times the key was returned by `iteratee`. The\n     * iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.5.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * _.countBy([6.1, 4.2, 6.3], Math.floor);\n     * // => { '4': 1, '6': 2 }\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.countBy(['one', 'two', 'three'], 'length');\n     * // => { '3': 2, '5': 1 }\n     */\n    var countBy = createAggregator(function(result, value, key) {\n      if (hasOwnProperty.call(result, key)) {\n        ++result[key];\n      } else {\n        baseAssignValue(result, key, 1);\n      }\n    });\n\n    /**\n     * Checks if `predicate` returns truthy for **all** elements of `collection`.\n     * Iteration is stopped once `predicate` returns falsey. The predicate is\n     * invoked with three arguments: (value, index|key, collection).\n     *\n     * **Note:** This method returns `true` for\n     * [empty collections](https://en.wikipedia.org/wiki/Empty_set) because\n     * [everything is true](https://en.wikipedia.org/wiki/Vacuous_truth) of\n     * elements of empty collections.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {boolean} Returns `true` if all elements pass the predicate check,\n     *  else `false`.\n     * @example\n     *\n     * _.every([true, 1, null, 'yes'], Boolean);\n     * // => false\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': false },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.every(users, { 'user': 'barney', 'active': false });\n     * // => false\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.every(users, ['active', false]);\n     * // => true\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.every(users, 'active');\n     * // => false\n     */\n    function every(collection, predicate, guard) {\n      var func = isArray(collection) ? arrayEvery : baseEvery;\n      if (guard && isIterateeCall(collection, predicate, guard)) {\n        predicate = undefined;\n      }\n      return func(collection, getIteratee(predicate, 3));\n    }\n\n    /**\n     * Iterates over elements of `collection`, returning an array of all elements\n     * `predicate` returns truthy for. The predicate is invoked with three\n     * arguments: (value, index|key, collection).\n     *\n     * **Note:** Unlike `_.remove`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new filtered array.\n     * @see _.reject\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': true },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * _.filter(users, function(o) { return !o.active; });\n     * // => objects for ['fred']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.filter(users, { 'age': 36, 'active': true });\n     * // => objects for ['barney']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.filter(users, ['active', false]);\n     * // => objects for ['fred']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.filter(users, 'active');\n     * // => objects for ['barney']\n     *\n     * // Combining several predicates using `_.overEvery` or `_.overSome`.\n     * _.filter(users, _.overSome([{ 'age': 36 }, ['age', 40]]));\n     * // => objects for ['fred', 'barney']\n     */\n    function filter(collection, predicate) {\n      var func = isArray(collection) ? arrayFilter : baseFilter;\n      return func(collection, getIteratee(predicate, 3));\n    }\n\n    /**\n     * Iterates over elements of `collection`, returning the first element\n     * `predicate` returns truthy for. The predicate is invoked with three\n     * arguments: (value, index|key, collection).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @returns {*} Returns the matched element, else `undefined`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36, 'active': true },\n     *   { 'user': 'fred',    'age': 40, 'active': false },\n     *   { 'user': 'pebbles', 'age': 1,  'active': true }\n     * ];\n     *\n     * _.find(users, function(o) { return o.age < 40; });\n     * // => object for 'barney'\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.find(users, { 'age': 1, 'active': true });\n     * // => object for 'pebbles'\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.find(users, ['active', false]);\n     * // => object for 'fred'\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.find(users, 'active');\n     * // => object for 'barney'\n     */\n    var find = createFind(findIndex);\n\n    /**\n     * This method is like `_.find` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param {number} [fromIndex=collection.length-1] The index to search from.\n     * @returns {*} Returns the matched element, else `undefined`.\n     * @example\n     *\n     * _.findLast([1, 2, 3, 4], function(n) {\n     *   return n % 2 == 1;\n     * });\n     * // => 3\n     */\n    var findLast = createFind(findLastIndex);\n\n    /**\n     * Creates a flattened array of values by running each element in `collection`\n     * thru `iteratee` and flattening the mapped results. The iteratee is invoked\n     * with three arguments: (value, index|key, collection).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * function duplicate(n) {\n     *   return [n, n];\n     * }\n     *\n     * _.flatMap([1, 2], duplicate);\n     * // => [1, 1, 2, 2]\n     */\n    function flatMap(collection, iteratee) {\n      return baseFlatten(map(collection, iteratee), 1);\n    }\n\n    /**\n     * This method is like `_.flatMap` except that it recursively flattens the\n     * mapped results.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * function duplicate(n) {\n     *   return [[[n, n]]];\n     * }\n     *\n     * _.flatMapDeep([1, 2], duplicate);\n     * // => [1, 1, 2, 2]\n     */\n    function flatMapDeep(collection, iteratee) {\n      return baseFlatten(map(collection, iteratee), INFINITY);\n    }\n\n    /**\n     * This method is like `_.flatMap` except that it recursively flattens the\n     * mapped results up to `depth` times.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {number} [depth=1] The maximum recursion depth.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * function duplicate(n) {\n     *   return [[[n, n]]];\n     * }\n     *\n     * _.flatMapDepth([1, 2], duplicate, 2);\n     * // => [[1, 1], [2, 2]]\n     */\n    function flatMapDepth(collection, iteratee, depth) {\n      depth = depth === undefined ? 1 : toInteger(depth);\n      return baseFlatten(map(collection, iteratee), depth);\n    }\n\n    /**\n     * Iterates over elements of `collection` and invokes `iteratee` for each element.\n     * The iteratee is invoked with three arguments: (value, index|key, collection).\n     * Iteratee functions may exit iteration early by explicitly returning `false`.\n     *\n     * **Note:** As with other \"Collections\" methods, objects with a \"length\"\n     * property are iterated like arrays. To avoid this behavior use `_.forIn`\n     * or `_.forOwn` for object iteration.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @alias each\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     * @see _.forEachRight\n     * @example\n     *\n     * _.forEach([1, 2], function(value) {\n     *   console.log(value);\n     * });\n     * // => Logs `1` then `2`.\n     *\n     * _.forEach({ 'a': 1, 'b': 2 }, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'a' then 'b' (iteration order is not guaranteed).\n     */\n    function forEach(collection, iteratee) {\n      var func = isArray(collection) ? arrayEach : baseEach;\n      return func(collection, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * This method is like `_.forEach` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @alias eachRight\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     * @see _.forEach\n     * @example\n     *\n     * _.forEachRight([1, 2], function(value) {\n     *   console.log(value);\n     * });\n     * // => Logs `2` then `1`.\n     */\n    function forEachRight(collection, iteratee) {\n      var func = isArray(collection) ? arrayEachRight : baseEachRight;\n      return func(collection, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` thru `iteratee`. The order of grouped values\n     * is determined by the order they occur in `collection`. The corresponding\n     * value of each key is an array of elements responsible for generating the\n     * key. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * _.groupBy([6.1, 4.2, 6.3], Math.floor);\n     * // => { '4': [4.2], '6': [6.1, 6.3] }\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.groupBy(['one', 'two', 'three'], 'length');\n     * // => { '3': ['one', 'two'], '5': ['three'] }\n     */\n    var groupBy = createAggregator(function(result, value, key) {\n      if (hasOwnProperty.call(result, key)) {\n        result[key].push(value);\n      } else {\n        baseAssignValue(result, key, [value]);\n      }\n    });\n\n    /**\n     * Checks if `value` is in `collection`. If `collection` is a string, it's\n     * checked for a substring of `value`, otherwise\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * is used for equality comparisons. If `fromIndex` is negative, it's used as\n     * the offset from the end of `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to inspect.\n     * @param {*} value The value to search for.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.reduce`.\n     * @returns {boolean} Returns `true` if `value` is found, else `false`.\n     * @example\n     *\n     * _.includes([1, 2, 3], 1);\n     * // => true\n     *\n     * _.includes([1, 2, 3], 1, 2);\n     * // => false\n     *\n     * _.includes({ 'a': 1, 'b': 2 }, 1);\n     * // => true\n     *\n     * _.includes('abcd', 'bc');\n     * // => true\n     */\n    function includes(collection, value, fromIndex, guard) {\n      collection = isArrayLike(collection) ? collection : values(collection);\n      fromIndex = (fromIndex && !guard) ? toInteger(fromIndex) : 0;\n\n      var length = collection.length;\n      if (fromIndex < 0) {\n        fromIndex = nativeMax(length + fromIndex, 0);\n      }\n      return isString(collection)\n        ? (fromIndex <= length && collection.indexOf(value, fromIndex) > -1)\n        : (!!length && baseIndexOf(collection, value, fromIndex) > -1);\n    }\n\n    /**\n     * Invokes the method at `path` of each element in `collection`, returning\n     * an array of the results of each invoked method. Any additional arguments\n     * are provided to each invoked method. If `path` is a function, it's invoked\n     * for, and `this` bound to, each element in `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Array|Function|string} path The path of the method to invoke or\n     *  the function invoked per iteration.\n     * @param {...*} [args] The arguments to invoke each method with.\n     * @returns {Array} Returns the array of results.\n     * @example\n     *\n     * _.invokeMap([[5, 1, 7], [3, 2, 1]], 'sort');\n     * // => [[1, 5, 7], [1, 2, 3]]\n     *\n     * _.invokeMap([123, 456], String.prototype.split, '');\n     * // => [['1', '2', '3'], ['4', '5', '6']]\n     */\n    var invokeMap = baseRest(function(collection, path, args) {\n      var index = -1,\n          isFunc = typeof path == 'function',\n          result = isArrayLike(collection) ? Array(collection.length) : [];\n\n      baseEach(collection, function(value) {\n        result[++index] = isFunc ? apply(path, value, args) : baseInvoke(value, path, args);\n      });\n      return result;\n    });\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` thru `iteratee`. The corresponding value of\n     * each key is the last element responsible for generating the key. The\n     * iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * var array = [\n     *   { 'dir': 'left', 'code': 97 },\n     *   { 'dir': 'right', 'code': 100 }\n     * ];\n     *\n     * _.keyBy(array, function(o) {\n     *   return String.fromCharCode(o.code);\n     * });\n     * // => { 'a': { 'dir': 'left', 'code': 97 }, 'd': { 'dir': 'right', 'code': 100 } }\n     *\n     * _.keyBy(array, 'dir');\n     * // => { 'left': { 'dir': 'left', 'code': 97 }, 'right': { 'dir': 'right', 'code': 100 } }\n     */\n    var keyBy = createAggregator(function(result, value, key) {\n      baseAssignValue(result, key, value);\n    });\n\n    /**\n     * Creates an array of values by running each element in `collection` thru\n     * `iteratee`. The iteratee is invoked with three arguments:\n     * (value, index|key, collection).\n     *\n     * Many lodash methods are guarded to work as iteratees for methods like\n     * `_.every`, `_.filter`, `_.map`, `_.mapValues`, `_.reject`, and `_.some`.\n     *\n     * The guarded methods are:\n     * `ary`, `chunk`, `curry`, `curryRight`, `drop`, `dropRight`, `every`,\n     * `fill`, `invert`, `parseInt`, `random`, `range`, `rangeRight`, `repeat`,\n     * `sampleSize`, `slice`, `some`, `sortBy`, `split`, `take`, `takeRight`,\n     * `template`, `trim`, `trimEnd`, `trimStart`, and `words`\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new mapped array.\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * _.map([4, 8], square);\n     * // => [16, 64]\n     *\n     * _.map({ 'a': 4, 'b': 8 }, square);\n     * // => [16, 64] (iteration order is not guaranteed)\n     *\n     * var users = [\n     *   { 'user': 'barney' },\n     *   { 'user': 'fred' }\n     * ];\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.map(users, 'user');\n     * // => ['barney', 'fred']\n     */\n    function map(collection, iteratee) {\n      var func = isArray(collection) ? arrayMap : baseMap;\n      return func(collection, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * This method is like `_.sortBy` except that it allows specifying the sort\n     * orders of the iteratees to sort by. If `orders` is unspecified, all values\n     * are sorted in ascending order. Otherwise, specify an order of \"desc\" for\n     * descending or \"asc\" for ascending sort order of corresponding values.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Array[]|Function[]|Object[]|string[]} [iteratees=[_.identity]]\n     *  The iteratees to sort by.\n     * @param {string[]} [orders] The sort orders of `iteratees`.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.reduce`.\n     * @returns {Array} Returns the new sorted array.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'fred',   'age': 48 },\n     *   { 'user': 'barney', 'age': 34 },\n     *   { 'user': 'fred',   'age': 40 },\n     *   { 'user': 'barney', 'age': 36 }\n     * ];\n     *\n     * // Sort by `user` in ascending order and by `age` in descending order.\n     * _.orderBy(users, ['user', 'age'], ['asc', 'desc']);\n     * // => objects for [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 40]]\n     */\n    function orderBy(collection, iteratees, orders, guard) {\n      if (collection == null) {\n        return [];\n      }\n      if (!isArray(iteratees)) {\n        iteratees = iteratees == null ? [] : [iteratees];\n      }\n      orders = guard ? undefined : orders;\n      if (!isArray(orders)) {\n        orders = orders == null ? [] : [orders];\n      }\n      return baseOrderBy(collection, iteratees, orders);\n    }\n\n    /**\n     * Creates an array of elements split into two groups, the first of which\n     * contains elements `predicate` returns truthy for, the second of which\n     * contains elements `predicate` returns falsey for. The predicate is\n     * invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the array of grouped elements.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36, 'active': false },\n     *   { 'user': 'fred',    'age': 40, 'active': true },\n     *   { 'user': 'pebbles', 'age': 1,  'active': false }\n     * ];\n     *\n     * _.partition(users, function(o) { return o.active; });\n     * // => objects for [['fred'], ['barney', 'pebbles']]\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.partition(users, { 'age': 1, 'active': false });\n     * // => objects for [['pebbles'], ['barney', 'fred']]\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.partition(users, ['active', false]);\n     * // => objects for [['barney', 'pebbles'], ['fred']]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.partition(users, 'active');\n     * // => objects for [['fred'], ['barney', 'pebbles']]\n     */\n    var partition = createAggregator(function(result, value, key) {\n      result[key ? 0 : 1].push(value);\n    }, function() { return [[], []]; });\n\n    /**\n     * Reduces `collection` to a value which is the accumulated result of running\n     * each element in `collection` thru `iteratee`, where each successive\n     * invocation is supplied the return value of the previous. If `accumulator`\n     * is not given, the first element of `collection` is used as the initial\n     * value. The iteratee is invoked with four arguments:\n     * (accumulator, value, index|key, collection).\n     *\n     * Many lodash methods are guarded to work as iteratees for methods like\n     * `_.reduce`, `_.reduceRight`, and `_.transform`.\n     *\n     * The guarded methods are:\n     * `assign`, `defaults`, `defaultsDeep`, `includes`, `merge`, `orderBy`,\n     * and `sortBy`\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The initial value.\n     * @returns {*} Returns the accumulated value.\n     * @see _.reduceRight\n     * @example\n     *\n     * _.reduce([1, 2], function(sum, n) {\n     *   return sum + n;\n     * }, 0);\n     * // => 3\n     *\n     * _.reduce({ 'a': 1, 'b': 2, 'c': 1 }, function(result, value, key) {\n     *   (result[value] || (result[value] = [])).push(key);\n     *   return result;\n     * }, {});\n     * // => { '1': ['a', 'c'], '2': ['b'] } (iteration order is not guaranteed)\n     */\n    function reduce(collection, iteratee, accumulator) {\n      var func = isArray(collection) ? arrayReduce : baseReduce,\n          initAccum = arguments.length < 3;\n\n      return func(collection, getIteratee(iteratee, 4), accumulator, initAccum, baseEach);\n    }\n\n    /**\n     * This method is like `_.reduce` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The initial value.\n     * @returns {*} Returns the accumulated value.\n     * @see _.reduce\n     * @example\n     *\n     * var array = [[0, 1], [2, 3], [4, 5]];\n     *\n     * _.reduceRight(array, function(flattened, other) {\n     *   return flattened.concat(other);\n     * }, []);\n     * // => [4, 5, 2, 3, 0, 1]\n     */\n    function reduceRight(collection, iteratee, accumulator) {\n      var func = isArray(collection) ? arrayReduceRight : baseReduce,\n          initAccum = arguments.length < 3;\n\n      return func(collection, getIteratee(iteratee, 4), accumulator, initAccum, baseEachRight);\n    }\n\n    /**\n     * The opposite of `_.filter`; this method returns the elements of `collection`\n     * that `predicate` does **not** return truthy for.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new filtered array.\n     * @see _.filter\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': false },\n     *   { 'user': 'fred',   'age': 40, 'active': true }\n     * ];\n     *\n     * _.reject(users, function(o) { return !o.active; });\n     * // => objects for ['fred']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.reject(users, { 'age': 40, 'active': true });\n     * // => objects for ['barney']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.reject(users, ['active', false]);\n     * // => objects for ['fred']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.reject(users, 'active');\n     * // => objects for ['barney']\n     */\n    function reject(collection, predicate) {\n      var func = isArray(collection) ? arrayFilter : baseFilter;\n      return func(collection, negate(getIteratee(predicate, 3)));\n    }\n\n    /**\n     * Gets a random element from `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to sample.\n     * @returns {*} Returns the random element.\n     * @example\n     *\n     * _.sample([1, 2, 3, 4]);\n     * // => 2\n     */\n    function sample(collection) {\n      var func = isArray(collection) ? arraySample : baseSample;\n      return func(collection);\n    }\n\n    /**\n     * Gets `n` random elements at unique keys from `collection` up to the\n     * size of `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to sample.\n     * @param {number} [n=1] The number of elements to sample.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the random elements.\n     * @example\n     *\n     * _.sampleSize([1, 2, 3], 2);\n     * // => [3, 1]\n     *\n     * _.sampleSize([1, 2, 3], 4);\n     * // => [2, 3, 1]\n     */\n    function sampleSize(collection, n, guard) {\n      if ((guard ? isIterateeCall(collection, n, guard) : n === undefined)) {\n        n = 1;\n      } else {\n        n = toInteger(n);\n      }\n      var func = isArray(collection) ? arraySampleSize : baseSampleSize;\n      return func(collection, n);\n    }\n\n    /**\n     * Creates an array of shuffled values, using a version of the\n     * [Fisher-Yates shuffle](https://en.wikipedia.org/wiki/Fisher-Yates_shuffle).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to shuffle.\n     * @returns {Array} Returns the new shuffled array.\n     * @example\n     *\n     * _.shuffle([1, 2, 3, 4]);\n     * // => [4, 1, 3, 2]\n     */\n    function shuffle(collection) {\n      var func = isArray(collection) ? arrayShuffle : baseShuffle;\n      return func(collection);\n    }\n\n    /**\n     * Gets the size of `collection` by returning its length for array-like\n     * values or the number of own enumerable string keyed properties for objects.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to inspect.\n     * @returns {number} Returns the collection size.\n     * @example\n     *\n     * _.size([1, 2, 3]);\n     * // => 3\n     *\n     * _.size({ 'a': 1, 'b': 2 });\n     * // => 2\n     *\n     * _.size('pebbles');\n     * // => 7\n     */\n    function size(collection) {\n      if (collection == null) {\n        return 0;\n      }\n      if (isArrayLike(collection)) {\n        return isString(collection) ? stringSize(collection) : collection.length;\n      }\n      var tag = getTag(collection);\n      if (tag == mapTag || tag == setTag) {\n        return collection.size;\n      }\n      return baseKeys(collection).length;\n    }\n\n    /**\n     * Checks if `predicate` returns truthy for **any** element of `collection`.\n     * Iteration is stopped once `predicate` returns truthy. The predicate is\n     * invoked with three arguments: (value, index|key, collection).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {boolean} Returns `true` if any element passes the predicate check,\n     *  else `false`.\n     * @example\n     *\n     * _.some([null, 0, 'yes', false], Boolean);\n     * // => true\n     *\n     * var users = [\n     *   { 'user': 'barney', 'active': true },\n     *   { 'user': 'fred',   'active': false }\n     * ];\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.some(users, { 'user': 'barney', 'active': false });\n     * // => false\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.some(users, ['active', false]);\n     * // => true\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.some(users, 'active');\n     * // => true\n     */\n    function some(collection, predicate, guard) {\n      var func = isArray(collection) ? arraySome : baseSome;\n      if (guard && isIterateeCall(collection, predicate, guard)) {\n        predicate = undefined;\n      }\n      return func(collection, getIteratee(predicate, 3));\n    }\n\n    /**\n     * Creates an array of elements, sorted in ascending order by the results of\n     * running each element in a collection thru each iteratee. This method\n     * performs a stable sort, that is, it preserves the original sort order of\n     * equal elements. The iteratees are invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {...(Function|Function[])} [iteratees=[_.identity]]\n     *  The iteratees to sort by.\n     * @returns {Array} Returns the new sorted array.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'fred',   'age': 48 },\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 30 },\n     *   { 'user': 'barney', 'age': 34 }\n     * ];\n     *\n     * _.sortBy(users, [function(o) { return o.user; }]);\n     * // => objects for [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 30]]\n     *\n     * _.sortBy(users, ['user', 'age']);\n     * // => objects for [['barney', 34], ['barney', 36], ['fred', 30], ['fred', 48]]\n     */\n    var sortBy = baseRest(function(collection, iteratees) {\n      if (collection == null) {\n        return [];\n      }\n      var length = iteratees.length;\n      if (length > 1 && isIterateeCall(collection, iteratees[0], iteratees[1])) {\n        iteratees = [];\n      } else if (length > 2 && isIterateeCall(iteratees[0], iteratees[1], iteratees[2])) {\n        iteratees = [iteratees[0]];\n      }\n      return baseOrderBy(collection, baseFlatten(iteratees, 1), []);\n    });\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Gets the timestamp of the number of milliseconds that have elapsed since\n     * the Unix epoch (1 January 1970 00:00:00 UTC).\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Date\n     * @returns {number} Returns the timestamp.\n     * @example\n     *\n     * _.defer(function(stamp) {\n     *   console.log(_.now() - stamp);\n     * }, _.now());\n     * // => Logs the number of milliseconds it took for the deferred invocation.\n     */\n    var now = ctxNow || function() {\n      return root.Date.now();\n    };\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * The opposite of `_.before`; this method creates a function that invokes\n     * `func` once it's called `n` or more times.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {number} n The number of calls before `func` is invoked.\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * var saves = ['profile', 'settings'];\n     *\n     * var done = _.after(saves.length, function() {\n     *   console.log('done saving!');\n     * });\n     *\n     * _.forEach(saves, function(type) {\n     *   asyncSave({ 'type': type, 'complete': done });\n     * });\n     * // => Logs 'done saving!' after the two async saves have completed.\n     */\n    function after(n, func) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      n = toInteger(n);\n      return function() {\n        if (--n < 1) {\n          return func.apply(this, arguments);\n        }\n      };\n    }\n\n    /**\n     * Creates a function that invokes `func`, with up to `n` arguments,\n     * ignoring any additional arguments.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {Function} func The function to cap arguments for.\n     * @param {number} [n=func.length] The arity cap.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Function} Returns the new capped function.\n     * @example\n     *\n     * _.map(['6', '8', '10'], _.ary(parseInt, 1));\n     * // => [6, 8, 10]\n     */\n    function ary(func, n, guard) {\n      n = guard ? undefined : n;\n      n = (func && n == null) ? func.length : n;\n      return createWrap(func, WRAP_ARY_FLAG, undefined, undefined, undefined, undefined, n);\n    }\n\n    /**\n     * Creates a function that invokes `func`, with the `this` binding and arguments\n     * of the created function, while it's called less than `n` times. Subsequent\n     * calls to the created function return the result of the last `func` invocation.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {number} n The number of calls at which `func` is no longer invoked.\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * jQuery(element).on('click', _.before(5, addContactToList));\n     * // => Allows adding up to 4 contacts to the list.\n     */\n    function before(n, func) {\n      var result;\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      n = toInteger(n);\n      return function() {\n        if (--n > 0) {\n          result = func.apply(this, arguments);\n        }\n        if (n <= 1) {\n          func = undefined;\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of `thisArg`\n     * and `partials` prepended to the arguments it receives.\n     *\n     * The `_.bind.placeholder` value, which defaults to `_` in monolithic builds,\n     * may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** Unlike native `Function#bind`, this method doesn't set the \"length\"\n     * property of bound functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to bind.\n     * @param {*} thisArg The `this` binding of `func`.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new bound function.\n     * @example\n     *\n     * function greet(greeting, punctuation) {\n     *   return greeting + ' ' + this.user + punctuation;\n     * }\n     *\n     * var object = { 'user': 'fred' };\n     *\n     * var bound = _.bind(greet, object, 'hi');\n     * bound('!');\n     * // => 'hi fred!'\n     *\n     * // Bound with placeholders.\n     * var bound = _.bind(greet, object, _, '!');\n     * bound('hi');\n     * // => 'hi fred!'\n     */\n    var bind = baseRest(function(func, thisArg, partials) {\n      var bitmask = WRAP_BIND_FLAG;\n      if (partials.length) {\n        var holders = replaceHolders(partials, getHolder(bind));\n        bitmask |= WRAP_PARTIAL_FLAG;\n      }\n      return createWrap(func, bitmask, thisArg, partials, holders);\n    });\n\n    /**\n     * Creates a function that invokes the method at `object[key]` with `partials`\n     * prepended to the arguments it receives.\n     *\n     * This method differs from `_.bind` by allowing bound functions to reference\n     * methods that may be redefined or don't yet exist. See\n     * [Peter Michaux's article](http://peter.michaux.ca/articles/lazy-function-definition-pattern)\n     * for more details.\n     *\n     * The `_.bindKey.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.10.0\n     * @category Function\n     * @param {Object} object The object to invoke the method on.\n     * @param {string} key The key of the method.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new bound function.\n     * @example\n     *\n     * var object = {\n     *   'user': 'fred',\n     *   'greet': function(greeting, punctuation) {\n     *     return greeting + ' ' + this.user + punctuation;\n     *   }\n     * };\n     *\n     * var bound = _.bindKey(object, 'greet', 'hi');\n     * bound('!');\n     * // => 'hi fred!'\n     *\n     * object.greet = function(greeting, punctuation) {\n     *   return greeting + 'ya ' + this.user + punctuation;\n     * };\n     *\n     * bound('!');\n     * // => 'hiya fred!'\n     *\n     * // Bound with placeholders.\n     * var bound = _.bindKey(object, 'greet', _, '!');\n     * bound('hi');\n     * // => 'hiya fred!'\n     */\n    var bindKey = baseRest(function(object, key, partials) {\n      var bitmask = WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG;\n      if (partials.length) {\n        var holders = replaceHolders(partials, getHolder(bindKey));\n        bitmask |= WRAP_PARTIAL_FLAG;\n      }\n      return createWrap(key, bitmask, object, partials, holders);\n    });\n\n    /**\n     * Creates a function that accepts arguments of `func` and either invokes\n     * `func` returning its result, if at least `arity` number of arguments have\n     * been provided, or returns a function that accepts the remaining `func`\n     * arguments, and so on. The arity of `func` may be specified if `func.length`\n     * is not sufficient.\n     *\n     * The `_.curry.placeholder` value, which defaults to `_` in monolithic builds,\n     * may be used as a placeholder for provided arguments.\n     *\n     * **Note:** This method doesn't set the \"length\" property of curried functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Function\n     * @param {Function} func The function to curry.\n     * @param {number} [arity=func.length] The arity of `func`.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Function} Returns the new curried function.\n     * @example\n     *\n     * var abc = function(a, b, c) {\n     *   return [a, b, c];\n     * };\n     *\n     * var curried = _.curry(abc);\n     *\n     * curried(1)(2)(3);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2)(3);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2, 3);\n     * // => [1, 2, 3]\n     *\n     * // Curried with placeholders.\n     * curried(1)(_, 3)(2);\n     * // => [1, 2, 3]\n     */\n    function curry(func, arity, guard) {\n      arity = guard ? undefined : arity;\n      var result = createWrap(func, WRAP_CURRY_FLAG, undefined, undefined, undefined, undefined, undefined, arity);\n      result.placeholder = curry.placeholder;\n      return result;\n    }\n\n    /**\n     * This method is like `_.curry` except that arguments are applied to `func`\n     * in the manner of `_.partialRight` instead of `_.partial`.\n     *\n     * The `_.curryRight.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for provided arguments.\n     *\n     * **Note:** This method doesn't set the \"length\" property of curried functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {Function} func The function to curry.\n     * @param {number} [arity=func.length] The arity of `func`.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Function} Returns the new curried function.\n     * @example\n     *\n     * var abc = function(a, b, c) {\n     *   return [a, b, c];\n     * };\n     *\n     * var curried = _.curryRight(abc);\n     *\n     * curried(3)(2)(1);\n     * // => [1, 2, 3]\n     *\n     * curried(2, 3)(1);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2, 3);\n     * // => [1, 2, 3]\n     *\n     * // Curried with placeholders.\n     * curried(3)(1, _)(2);\n     * // => [1, 2, 3]\n     */\n    function curryRight(func, arity, guard) {\n      arity = guard ? undefined : arity;\n      var result = createWrap(func, WRAP_CURRY_RIGHT_FLAG, undefined, undefined, undefined, undefined, undefined, arity);\n      result.placeholder = curryRight.placeholder;\n      return result;\n    }\n\n    /**\n     * Creates a debounced function that delays invoking `func` until after `wait`\n     * milliseconds have elapsed since the last time the debounced function was\n     * invoked. The debounced function comes with a `cancel` method to cancel\n     * delayed `func` invocations and a `flush` method to immediately invoke them.\n     * Provide `options` to indicate whether `func` should be invoked on the\n     * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n     * with the last arguments provided to the debounced function. Subsequent\n     * calls to the debounced function return the result of the last `func`\n     * invocation.\n     *\n     * **Note:** If `leading` and `trailing` options are `true`, `func` is\n     * invoked on the trailing edge of the timeout only if the debounced function\n     * is invoked more than once during the `wait` timeout.\n     *\n     * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n     * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n     *\n     * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n     * for details over the differences between `_.debounce` and `_.throttle`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to debounce.\n     * @param {number} [wait=0] The number of milliseconds to delay.\n     * @param {Object} [options={}] The options object.\n     * @param {boolean} [options.leading=false]\n     *  Specify invoking on the leading edge of the timeout.\n     * @param {number} [options.maxWait]\n     *  The maximum time `func` is allowed to be delayed before it's invoked.\n     * @param {boolean} [options.trailing=true]\n     *  Specify invoking on the trailing edge of the timeout.\n     * @returns {Function} Returns the new debounced function.\n     * @example\n     *\n     * // Avoid costly calculations while the window size is in flux.\n     * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n     *\n     * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n     * jQuery(element).on('click', _.debounce(sendMail, 300, {\n     *   'leading': true,\n     *   'trailing': false\n     * }));\n     *\n     * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n     * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n     * var source = new EventSource('/stream');\n     * jQuery(source).on('message', debounced);\n     *\n     * // Cancel the trailing debounced invocation.\n     * jQuery(window).on('popstate', debounced.cancel);\n     */\n    function debounce(func, wait, options) {\n      var lastArgs,\n          lastThis,\n          maxWait,\n          result,\n          timerId,\n          lastCallTime,\n          lastInvokeTime = 0,\n          leading = false,\n          maxing = false,\n          trailing = true;\n\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      wait = toNumber(wait) || 0;\n      if (isObject(options)) {\n        leading = !!options.leading;\n        maxing = 'maxWait' in options;\n        maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n        trailing = 'trailing' in options ? !!options.trailing : trailing;\n      }\n\n      function invokeFunc(time) {\n        var args = lastArgs,\n            thisArg = lastThis;\n\n        lastArgs = lastThis = undefined;\n        lastInvokeTime = time;\n        result = func.apply(thisArg, args);\n        return result;\n      }\n\n      function leadingEdge(time) {\n        // Reset any `maxWait` timer.\n        lastInvokeTime = time;\n        // Start the timer for the trailing edge.\n        timerId = setTimeout(timerExpired, wait);\n        // Invoke the leading edge.\n        return leading ? invokeFunc(time) : result;\n      }\n\n      function remainingWait(time) {\n        var timeSinceLastCall = time - lastCallTime,\n            timeSinceLastInvoke = time - lastInvokeTime,\n            timeWaiting = wait - timeSinceLastCall;\n\n        return maxing\n          ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)\n          : timeWaiting;\n      }\n\n      function shouldInvoke(time) {\n        var timeSinceLastCall = time - lastCallTime,\n            timeSinceLastInvoke = time - lastInvokeTime;\n\n        // Either this is the first call, activity has stopped and we're at the\n        // trailing edge, the system time has gone backwards and we're treating\n        // it as the trailing edge, or we've hit the `maxWait` limit.\n        return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n          (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n      }\n\n      function timerExpired() {\n        var time = now();\n        if (shouldInvoke(time)) {\n          return trailingEdge(time);\n        }\n        // Restart the timer.\n        timerId = setTimeout(timerExpired, remainingWait(time));\n      }\n\n      function trailingEdge(time) {\n        timerId = undefined;\n\n        // Only invoke if we have `lastArgs` which means `func` has been\n        // debounced at least once.\n        if (trailing && lastArgs) {\n          return invokeFunc(time);\n        }\n        lastArgs = lastThis = undefined;\n        return result;\n      }\n\n      function cancel() {\n        if (timerId !== undefined) {\n          clearTimeout(timerId);\n        }\n        lastInvokeTime = 0;\n        lastArgs = lastCallTime = lastThis = timerId = undefined;\n      }\n\n      function flush() {\n        return timerId === undefined ? result : trailingEdge(now());\n      }\n\n      function debounced() {\n        var time = now(),\n            isInvoking = shouldInvoke(time);\n\n        lastArgs = arguments;\n        lastThis = this;\n        lastCallTime = time;\n\n        if (isInvoking) {\n          if (timerId === undefined) {\n            return leadingEdge(lastCallTime);\n          }\n          if (maxing) {\n            // Handle invocations in a tight loop.\n            clearTimeout(timerId);\n            timerId = setTimeout(timerExpired, wait);\n            return invokeFunc(lastCallTime);\n          }\n        }\n        if (timerId === undefined) {\n          timerId = setTimeout(timerExpired, wait);\n        }\n        return result;\n      }\n      debounced.cancel = cancel;\n      debounced.flush = flush;\n      return debounced;\n    }\n\n    /**\n     * Defers invoking the `func` until the current call stack has cleared. Any\n     * additional arguments are provided to `func` when it's invoked.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to defer.\n     * @param {...*} [args] The arguments to invoke `func` with.\n     * @returns {number} Returns the timer id.\n     * @example\n     *\n     * _.defer(function(text) {\n     *   console.log(text);\n     * }, 'deferred');\n     * // => Logs 'deferred' after one millisecond.\n     */\n    var defer = baseRest(function(func, args) {\n      return baseDelay(func, 1, args);\n    });\n\n    /**\n     * Invokes `func` after `wait` milliseconds. Any additional arguments are\n     * provided to `func` when it's invoked.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to delay.\n     * @param {number} wait The number of milliseconds to delay invocation.\n     * @param {...*} [args] The arguments to invoke `func` with.\n     * @returns {number} Returns the timer id.\n     * @example\n     *\n     * _.delay(function(text) {\n     *   console.log(text);\n     * }, 1000, 'later');\n     * // => Logs 'later' after one second.\n     */\n    var delay = baseRest(function(func, wait, args) {\n      return baseDelay(func, toNumber(wait) || 0, args);\n    });\n\n    /**\n     * Creates a function that invokes `func` with arguments reversed.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Function\n     * @param {Function} func The function to flip arguments for.\n     * @returns {Function} Returns the new flipped function.\n     * @example\n     *\n     * var flipped = _.flip(function() {\n     *   return _.toArray(arguments);\n     * });\n     *\n     * flipped('a', 'b', 'c', 'd');\n     * // => ['d', 'c', 'b', 'a']\n     */\n    function flip(func) {\n      return createWrap(func, WRAP_FLIP_FLAG);\n    }\n\n    /**\n     * Creates a function that memoizes the result of `func`. If `resolver` is\n     * provided, it determines the cache key for storing the result based on the\n     * arguments provided to the memoized function. By default, the first argument\n     * provided to the memoized function is used as the map cache key. The `func`\n     * is invoked with the `this` binding of the memoized function.\n     *\n     * **Note:** The cache is exposed as the `cache` property on the memoized\n     * function. Its creation may be customized by replacing the `_.memoize.Cache`\n     * constructor with one whose instances implement the\n     * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n     * method interface of `clear`, `delete`, `get`, `has`, and `set`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to have its output memoized.\n     * @param {Function} [resolver] The function to resolve the cache key.\n     * @returns {Function} Returns the new memoized function.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2 };\n     * var other = { 'c': 3, 'd': 4 };\n     *\n     * var values = _.memoize(_.values);\n     * values(object);\n     * // => [1, 2]\n     *\n     * values(other);\n     * // => [3, 4]\n     *\n     * object.a = 2;\n     * values(object);\n     * // => [1, 2]\n     *\n     * // Modify the result cache.\n     * values.cache.set(object, ['a', 'b']);\n     * values(object);\n     * // => ['a', 'b']\n     *\n     * // Replace `_.memoize.Cache`.\n     * _.memoize.Cache = WeakMap;\n     */\n    function memoize(func, resolver) {\n      if (typeof func != 'function' || (resolver != null && typeof resolver != 'function')) {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      var memoized = function() {\n        var args = arguments,\n            key = resolver ? resolver.apply(this, args) : args[0],\n            cache = memoized.cache;\n\n        if (cache.has(key)) {\n          return cache.get(key);\n        }\n        var result = func.apply(this, args);\n        memoized.cache = cache.set(key, result) || cache;\n        return result;\n      };\n      memoized.cache = new (memoize.Cache || MapCache);\n      return memoized;\n    }\n\n    // Expose `MapCache`.\n    memoize.Cache = MapCache;\n\n    /**\n     * Creates a function that negates the result of the predicate `func`. The\n     * `func` predicate is invoked with the `this` binding and arguments of the\n     * created function.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {Function} predicate The predicate to negate.\n     * @returns {Function} Returns the new negated function.\n     * @example\n     *\n     * function isEven(n) {\n     *   return n % 2 == 0;\n     * }\n     *\n     * _.filter([1, 2, 3, 4, 5, 6], _.negate(isEven));\n     * // => [1, 3, 5]\n     */\n    function negate(predicate) {\n      if (typeof predicate != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      return function() {\n        var args = arguments;\n        switch (args.length) {\n          case 0: return !predicate.call(this);\n          case 1: return !predicate.call(this, args[0]);\n          case 2: return !predicate.call(this, args[0], args[1]);\n          case 3: return !predicate.call(this, args[0], args[1], args[2]);\n        }\n        return !predicate.apply(this, args);\n      };\n    }\n\n    /**\n     * Creates a function that is restricted to invoking `func` once. Repeat calls\n     * to the function return the value of the first invocation. The `func` is\n     * invoked with the `this` binding and arguments of the created function.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * var initialize = _.once(createApplication);\n     * initialize();\n     * initialize();\n     * // => `createApplication` is invoked once\n     */\n    function once(func) {\n      return before(2, func);\n    }\n\n    /**\n     * Creates a function that invokes `func` with its arguments transformed.\n     *\n     * @static\n     * @since 4.0.0\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to wrap.\n     * @param {...(Function|Function[])} [transforms=[_.identity]]\n     *  The argument transforms.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * function doubled(n) {\n     *   return n * 2;\n     * }\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var func = _.overArgs(function(x, y) {\n     *   return [x, y];\n     * }, [square, doubled]);\n     *\n     * func(9, 3);\n     * // => [81, 6]\n     *\n     * func(10, 5);\n     * // => [100, 10]\n     */\n    var overArgs = castRest(function(func, transforms) {\n      transforms = (transforms.length == 1 && isArray(transforms[0]))\n        ? arrayMap(transforms[0], baseUnary(getIteratee()))\n        : arrayMap(baseFlatten(transforms, 1), baseUnary(getIteratee()));\n\n      var funcsLength = transforms.length;\n      return baseRest(function(args) {\n        var index = -1,\n            length = nativeMin(args.length, funcsLength);\n\n        while (++index < length) {\n          args[index] = transforms[index].call(this, args[index]);\n        }\n        return apply(func, this, args);\n      });\n    });\n\n    /**\n     * Creates a function that invokes `func` with `partials` prepended to the\n     * arguments it receives. This method is like `_.bind` except it does **not**\n     * alter the `this` binding.\n     *\n     * The `_.partial.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** This method doesn't set the \"length\" property of partially\n     * applied functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.2.0\n     * @category Function\n     * @param {Function} func The function to partially apply arguments to.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new partially applied function.\n     * @example\n     *\n     * function greet(greeting, name) {\n     *   return greeting + ' ' + name;\n     * }\n     *\n     * var sayHelloTo = _.partial(greet, 'hello');\n     * sayHelloTo('fred');\n     * // => 'hello fred'\n     *\n     * // Partially applied with placeholders.\n     * var greetFred = _.partial(greet, _, 'fred');\n     * greetFred('hi');\n     * // => 'hi fred'\n     */\n    var partial = baseRest(function(func, partials) {\n      var holders = replaceHolders(partials, getHolder(partial));\n      return createWrap(func, WRAP_PARTIAL_FLAG, undefined, partials, holders);\n    });\n\n    /**\n     * This method is like `_.partial` except that partially applied arguments\n     * are appended to the arguments it receives.\n     *\n     * The `_.partialRight.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** This method doesn't set the \"length\" property of partially\n     * applied functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.0.0\n     * @category Function\n     * @param {Function} func The function to partially apply arguments to.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new partially applied function.\n     * @example\n     *\n     * function greet(greeting, name) {\n     *   return greeting + ' ' + name;\n     * }\n     *\n     * var greetFred = _.partialRight(greet, 'fred');\n     * greetFred('hi');\n     * // => 'hi fred'\n     *\n     * // Partially applied with placeholders.\n     * var sayHelloTo = _.partialRight(greet, 'hello', _);\n     * sayHelloTo('fred');\n     * // => 'hello fred'\n     */\n    var partialRight = baseRest(function(func, partials) {\n      var holders = replaceHolders(partials, getHolder(partialRight));\n      return createWrap(func, WRAP_PARTIAL_RIGHT_FLAG, undefined, partials, holders);\n    });\n\n    /**\n     * Creates a function that invokes `func` with arguments arranged according\n     * to the specified `indexes` where the argument value at the first index is\n     * provided as the first argument, the argument value at the second index is\n     * provided as the second argument, and so on.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {Function} func The function to rearrange arguments for.\n     * @param {...(number|number[])} indexes The arranged argument indexes.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var rearged = _.rearg(function(a, b, c) {\n     *   return [a, b, c];\n     * }, [2, 0, 1]);\n     *\n     * rearged('b', 'c', 'a')\n     * // => ['a', 'b', 'c']\n     */\n    var rearg = flatRest(function(func, indexes) {\n      return createWrap(func, WRAP_REARG_FLAG, undefined, undefined, undefined, indexes);\n    });\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of the\n     * created function and arguments from `start` and beyond provided as\n     * an array.\n     *\n     * **Note:** This method is based on the\n     * [rest parameter](https://mdn.io/rest_parameters).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Function\n     * @param {Function} func The function to apply a rest parameter to.\n     * @param {number} [start=func.length-1] The start position of the rest parameter.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var say = _.rest(function(what, names) {\n     *   return what + ' ' + _.initial(names).join(', ') +\n     *     (_.size(names) > 1 ? ', & ' : '') + _.last(names);\n     * });\n     *\n     * say('hello', 'fred', 'barney', 'pebbles');\n     * // => 'hello fred, barney, & pebbles'\n     */\n    function rest(func, start) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      start = start === undefined ? start : toInteger(start);\n      return baseRest(func, start);\n    }\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of the\n     * create function and an array of arguments much like\n     * [`Function#apply`](http://www.ecma-international.org/ecma-262/7.0/#sec-function.prototype.apply).\n     *\n     * **Note:** This method is based on the\n     * [spread operator](https://mdn.io/spread_operator).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.2.0\n     * @category Function\n     * @param {Function} func The function to spread arguments over.\n     * @param {number} [start=0] The start position of the spread.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var say = _.spread(function(who, what) {\n     *   return who + ' says ' + what;\n     * });\n     *\n     * say(['fred', 'hello']);\n     * // => 'fred says hello'\n     *\n     * var numbers = Promise.all([\n     *   Promise.resolve(40),\n     *   Promise.resolve(36)\n     * ]);\n     *\n     * numbers.then(_.spread(function(x, y) {\n     *   return x + y;\n     * }));\n     * // => a Promise of 76\n     */\n    function spread(func, start) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      start = start == null ? 0 : nativeMax(toInteger(start), 0);\n      return baseRest(function(args) {\n        var array = args[start],\n            otherArgs = castSlice(args, 0, start);\n\n        if (array) {\n          arrayPush(otherArgs, array);\n        }\n        return apply(func, this, otherArgs);\n      });\n    }\n\n    /**\n     * Creates a throttled function that only invokes `func` at most once per\n     * every `wait` milliseconds. The throttled function comes with a `cancel`\n     * method to cancel delayed `func` invocations and a `flush` method to\n     * immediately invoke them. Provide `options` to indicate whether `func`\n     * should be invoked on the leading and/or trailing edge of the `wait`\n     * timeout. The `func` is invoked with the last arguments provided to the\n     * throttled function. Subsequent calls to the throttled function return the\n     * result of the last `func` invocation.\n     *\n     * **Note:** If `leading` and `trailing` options are `true`, `func` is\n     * invoked on the trailing edge of the timeout only if the throttled function\n     * is invoked more than once during the `wait` timeout.\n     *\n     * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n     * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n     *\n     * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n     * for details over the differences between `_.throttle` and `_.debounce`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to throttle.\n     * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n     * @param {Object} [options={}] The options object.\n     * @param {boolean} [options.leading=true]\n     *  Specify invoking on the leading edge of the timeout.\n     * @param {boolean} [options.trailing=true]\n     *  Specify invoking on the trailing edge of the timeout.\n     * @returns {Function} Returns the new throttled function.\n     * @example\n     *\n     * // Avoid excessively updating the position while scrolling.\n     * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n     *\n     * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n     * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n     * jQuery(element).on('click', throttled);\n     *\n     * // Cancel the trailing throttled invocation.\n     * jQuery(window).on('popstate', throttled.cancel);\n     */\n    function throttle(func, wait, options) {\n      var leading = true,\n          trailing = true;\n\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      if (isObject(options)) {\n        leading = 'leading' in options ? !!options.leading : leading;\n        trailing = 'trailing' in options ? !!options.trailing : trailing;\n      }\n      return debounce(func, wait, {\n        'leading': leading,\n        'maxWait': wait,\n        'trailing': trailing\n      });\n    }\n\n    /**\n     * Creates a function that accepts up to one argument, ignoring any\n     * additional arguments.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Function\n     * @param {Function} func The function to cap arguments for.\n     * @returns {Function} Returns the new capped function.\n     * @example\n     *\n     * _.map(['6', '8', '10'], _.unary(parseInt));\n     * // => [6, 8, 10]\n     */\n    function unary(func) {\n      return ary(func, 1);\n    }\n\n    /**\n     * Creates a function that provides `value` to `wrapper` as its first\n     * argument. Any additional arguments provided to the function are appended\n     * to those provided to the `wrapper`. The wrapper is invoked with the `this`\n     * binding of the created function.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {*} value The value to wrap.\n     * @param {Function} [wrapper=identity] The wrapper function.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var p = _.wrap(_.escape, function(func, text) {\n     *   return '<p>' + func(text) + '</p>';\n     * });\n     *\n     * p('fred, barney, & pebbles');\n     * // => '<p>fred, barney, &amp; pebbles</p>'\n     */\n    function wrap(value, wrapper) {\n      return partial(castFunction(wrapper), value);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Casts `value` as an array if it's not one.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.4.0\n     * @category Lang\n     * @param {*} value The value to inspect.\n     * @returns {Array} Returns the cast array.\n     * @example\n     *\n     * _.castArray(1);\n     * // => [1]\n     *\n     * _.castArray({ 'a': 1 });\n     * // => [{ 'a': 1 }]\n     *\n     * _.castArray('abc');\n     * // => ['abc']\n     *\n     * _.castArray(null);\n     * // => [null]\n     *\n     * _.castArray(undefined);\n     * // => [undefined]\n     *\n     * _.castArray();\n     * // => []\n     *\n     * var array = [1, 2, 3];\n     * console.log(_.castArray(array) === array);\n     * // => true\n     */\n    function castArray() {\n      if (!arguments.length) {\n        return [];\n      }\n      var value = arguments[0];\n      return isArray(value) ? value : [value];\n    }\n\n    /**\n     * Creates a shallow clone of `value`.\n     *\n     * **Note:** This method is loosely based on the\n     * [structured clone algorithm](https://mdn.io/Structured_clone_algorithm)\n     * and supports cloning arrays, array buffers, booleans, date objects, maps,\n     * numbers, `Object` objects, regexes, sets, strings, symbols, and typed\n     * arrays. The own enumerable properties of `arguments` objects are cloned\n     * as plain objects. An empty object is returned for uncloneable values such\n     * as error objects, functions, DOM nodes, and WeakMaps.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to clone.\n     * @returns {*} Returns the cloned value.\n     * @see _.cloneDeep\n     * @example\n     *\n     * var objects = [{ 'a': 1 }, { 'b': 2 }];\n     *\n     * var shallow = _.clone(objects);\n     * console.log(shallow[0] === objects[0]);\n     * // => true\n     */\n    function clone(value) {\n      return baseClone(value, CLONE_SYMBOLS_FLAG);\n    }\n\n    /**\n     * This method is like `_.clone` except that it accepts `customizer` which\n     * is invoked to produce the cloned value. If `customizer` returns `undefined`,\n     * cloning is handled by the method instead. The `customizer` is invoked with\n     * up to four arguments; (value [, index|key, object, stack]).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to clone.\n     * @param {Function} [customizer] The function to customize cloning.\n     * @returns {*} Returns the cloned value.\n     * @see _.cloneDeepWith\n     * @example\n     *\n     * function customizer(value) {\n     *   if (_.isElement(value)) {\n     *     return value.cloneNode(false);\n     *   }\n     * }\n     *\n     * var el = _.cloneWith(document.body, customizer);\n     *\n     * console.log(el === document.body);\n     * // => false\n     * console.log(el.nodeName);\n     * // => 'BODY'\n     * console.log(el.childNodes.length);\n     * // => 0\n     */\n    function cloneWith(value, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return baseClone(value, CLONE_SYMBOLS_FLAG, customizer);\n    }\n\n    /**\n     * This method is like `_.clone` except that it recursively clones `value`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.0.0\n     * @category Lang\n     * @param {*} value The value to recursively clone.\n     * @returns {*} Returns the deep cloned value.\n     * @see _.clone\n     * @example\n     *\n     * var objects = [{ 'a': 1 }, { 'b': 2 }];\n     *\n     * var deep = _.cloneDeep(objects);\n     * console.log(deep[0] === objects[0]);\n     * // => false\n     */\n    function cloneDeep(value) {\n      return baseClone(value, CLONE_DEEP_FLAG | CLONE_SYMBOLS_FLAG);\n    }\n\n    /**\n     * This method is like `_.cloneWith` except that it recursively clones `value`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to recursively clone.\n     * @param {Function} [customizer] The function to customize cloning.\n     * @returns {*} Returns the deep cloned value.\n     * @see _.cloneWith\n     * @example\n     *\n     * function customizer(value) {\n     *   if (_.isElement(value)) {\n     *     return value.cloneNode(true);\n     *   }\n     * }\n     *\n     * var el = _.cloneDeepWith(document.body, customizer);\n     *\n     * console.log(el === document.body);\n     * // => false\n     * console.log(el.nodeName);\n     * // => 'BODY'\n     * console.log(el.childNodes.length);\n     * // => 20\n     */\n    function cloneDeepWith(value, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return baseClone(value, CLONE_DEEP_FLAG | CLONE_SYMBOLS_FLAG, customizer);\n    }\n\n    /**\n     * Checks if `object` conforms to `source` by invoking the predicate\n     * properties of `source` with the corresponding property values of `object`.\n     *\n     * **Note:** This method is equivalent to `_.conforms` when `source` is\n     * partially applied.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.14.0\n     * @category Lang\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {boolean} Returns `true` if `object` conforms, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2 };\n     *\n     * _.conformsTo(object, { 'b': function(n) { return n > 1; } });\n     * // => true\n     *\n     * _.conformsTo(object, { 'b': function(n) { return n > 2; } });\n     * // => false\n     */\n    function conformsTo(object, source) {\n      return source == null || baseConformsTo(object, source, keys(source));\n    }\n\n    /**\n     * Performs a\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * comparison between two values to determine if they are equivalent.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1 };\n     * var other = { 'a': 1 };\n     *\n     * _.eq(object, object);\n     * // => true\n     *\n     * _.eq(object, other);\n     * // => false\n     *\n     * _.eq('a', 'a');\n     * // => true\n     *\n     * _.eq('a', Object('a'));\n     * // => false\n     *\n     * _.eq(NaN, NaN);\n     * // => true\n     */\n    function eq(value, other) {\n      return value === other || (value !== value && other !== other);\n    }\n\n    /**\n     * Checks if `value` is greater than `other`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.9.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is greater than `other`,\n     *  else `false`.\n     * @see _.lt\n     * @example\n     *\n     * _.gt(3, 1);\n     * // => true\n     *\n     * _.gt(3, 3);\n     * // => false\n     *\n     * _.gt(1, 3);\n     * // => false\n     */\n    var gt = createRelationalOperation(baseGt);\n\n    /**\n     * Checks if `value` is greater than or equal to `other`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.9.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is greater than or equal to\n     *  `other`, else `false`.\n     * @see _.lte\n     * @example\n     *\n     * _.gte(3, 1);\n     * // => true\n     *\n     * _.gte(3, 3);\n     * // => true\n     *\n     * _.gte(1, 3);\n     * // => false\n     */\n    var gte = createRelationalOperation(function(value, other) {\n      return value >= other;\n    });\n\n    /**\n     * Checks if `value` is likely an `arguments` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n     *  else `false`.\n     * @example\n     *\n     * _.isArguments(function() { return arguments; }());\n     * // => true\n     *\n     * _.isArguments([1, 2, 3]);\n     * // => false\n     */\n    var isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n      return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n        !propertyIsEnumerable.call(value, 'callee');\n    };\n\n    /**\n     * Checks if `value` is classified as an `Array` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n     * @example\n     *\n     * _.isArray([1, 2, 3]);\n     * // => true\n     *\n     * _.isArray(document.body.children);\n     * // => false\n     *\n     * _.isArray('abc');\n     * // => false\n     *\n     * _.isArray(_.noop);\n     * // => false\n     */\n    var isArray = Array.isArray;\n\n    /**\n     * Checks if `value` is classified as an `ArrayBuffer` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array buffer, else `false`.\n     * @example\n     *\n     * _.isArrayBuffer(new ArrayBuffer(2));\n     * // => true\n     *\n     * _.isArrayBuffer(new Array(2));\n     * // => false\n     */\n    var isArrayBuffer = nodeIsArrayBuffer ? baseUnary(nodeIsArrayBuffer) : baseIsArrayBuffer;\n\n    /**\n     * Checks if `value` is array-like. A value is considered array-like if it's\n     * not a function and has a `value.length` that's an integer greater than or\n     * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n     * @example\n     *\n     * _.isArrayLike([1, 2, 3]);\n     * // => true\n     *\n     * _.isArrayLike(document.body.children);\n     * // => true\n     *\n     * _.isArrayLike('abc');\n     * // => true\n     *\n     * _.isArrayLike(_.noop);\n     * // => false\n     */\n    function isArrayLike(value) {\n      return value != null && isLength(value.length) && !isFunction(value);\n    }\n\n    /**\n     * This method is like `_.isArrayLike` except that it also checks if `value`\n     * is an object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array-like object,\n     *  else `false`.\n     * @example\n     *\n     * _.isArrayLikeObject([1, 2, 3]);\n     * // => true\n     *\n     * _.isArrayLikeObject(document.body.children);\n     * // => true\n     *\n     * _.isArrayLikeObject('abc');\n     * // => false\n     *\n     * _.isArrayLikeObject(_.noop);\n     * // => false\n     */\n    function isArrayLikeObject(value) {\n      return isObjectLike(value) && isArrayLike(value);\n    }\n\n    /**\n     * Checks if `value` is classified as a boolean primitive or object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a boolean, else `false`.\n     * @example\n     *\n     * _.isBoolean(false);\n     * // => true\n     *\n     * _.isBoolean(null);\n     * // => false\n     */\n    function isBoolean(value) {\n      return value === true || value === false ||\n        (isObjectLike(value) && baseGetTag(value) == boolTag);\n    }\n\n    /**\n     * Checks if `value` is a buffer.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n     * @example\n     *\n     * _.isBuffer(new Buffer(2));\n     * // => true\n     *\n     * _.isBuffer(new Uint8Array(2));\n     * // => false\n     */\n    var isBuffer = nativeIsBuffer || stubFalse;\n\n    /**\n     * Checks if `value` is classified as a `Date` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a date object, else `false`.\n     * @example\n     *\n     * _.isDate(new Date);\n     * // => true\n     *\n     * _.isDate('Mon April 23 2012');\n     * // => false\n     */\n    var isDate = nodeIsDate ? baseUnary(nodeIsDate) : baseIsDate;\n\n    /**\n     * Checks if `value` is likely a DOM element.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a DOM element, else `false`.\n     * @example\n     *\n     * _.isElement(document.body);\n     * // => true\n     *\n     * _.isElement('<body>');\n     * // => false\n     */\n    function isElement(value) {\n      return isObjectLike(value) && value.nodeType === 1 && !isPlainObject(value);\n    }\n\n    /**\n     * Checks if `value` is an empty object, collection, map, or set.\n     *\n     * Objects are considered empty if they have no own enumerable string keyed\n     * properties.\n     *\n     * Array-like values such as `arguments` objects, arrays, buffers, strings, or\n     * jQuery-like collections are considered empty if they have a `length` of `0`.\n     * Similarly, maps and sets are considered empty if they have a `size` of `0`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is empty, else `false`.\n     * @example\n     *\n     * _.isEmpty(null);\n     * // => true\n     *\n     * _.isEmpty(true);\n     * // => true\n     *\n     * _.isEmpty(1);\n     * // => true\n     *\n     * _.isEmpty([1, 2, 3]);\n     * // => false\n     *\n     * _.isEmpty({ 'a': 1 });\n     * // => false\n     */\n    function isEmpty(value) {\n      if (value == null) {\n        return true;\n      }\n      if (isArrayLike(value) &&\n          (isArray(value) || typeof value == 'string' || typeof value.splice == 'function' ||\n            isBuffer(value) || isTypedArray(value) || isArguments(value))) {\n        return !value.length;\n      }\n      var tag = getTag(value);\n      if (tag == mapTag || tag == setTag) {\n        return !value.size;\n      }\n      if (isPrototype(value)) {\n        return !baseKeys(value).length;\n      }\n      for (var key in value) {\n        if (hasOwnProperty.call(value, key)) {\n          return false;\n        }\n      }\n      return true;\n    }\n\n    /**\n     * Performs a deep comparison between two values to determine if they are\n     * equivalent.\n     *\n     * **Note:** This method supports comparing arrays, array buffers, booleans,\n     * date objects, error objects, maps, numbers, `Object` objects, regexes,\n     * sets, strings, symbols, and typed arrays. `Object` objects are compared\n     * by their own, not inherited, enumerable properties. Functions and DOM\n     * nodes are compared by strict equality, i.e. `===`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1 };\n     * var other = { 'a': 1 };\n     *\n     * _.isEqual(object, other);\n     * // => true\n     *\n     * object === other;\n     * // => false\n     */\n    function isEqual(value, other) {\n      return baseIsEqual(value, other);\n    }\n\n    /**\n     * This method is like `_.isEqual` except that it accepts `customizer` which\n     * is invoked to compare values. If `customizer` returns `undefined`, comparisons\n     * are handled by the method instead. The `customizer` is invoked with up to\n     * six arguments: (objValue, othValue [, index|key, object, other, stack]).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     * @example\n     *\n     * function isGreeting(value) {\n     *   return /^h(?:i|ello)$/.test(value);\n     * }\n     *\n     * function customizer(objValue, othValue) {\n     *   if (isGreeting(objValue) && isGreeting(othValue)) {\n     *     return true;\n     *   }\n     * }\n     *\n     * var array = ['hello', 'goodbye'];\n     * var other = ['hi', 'goodbye'];\n     *\n     * _.isEqualWith(array, other, customizer);\n     * // => true\n     */\n    function isEqualWith(value, other, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      var result = customizer ? customizer(value, other) : undefined;\n      return result === undefined ? baseIsEqual(value, other, undefined, customizer) : !!result;\n    }\n\n    /**\n     * Checks if `value` is an `Error`, `EvalError`, `RangeError`, `ReferenceError`,\n     * `SyntaxError`, `TypeError`, or `URIError` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an error object, else `false`.\n     * @example\n     *\n     * _.isError(new Error);\n     * // => true\n     *\n     * _.isError(Error);\n     * // => false\n     */\n    function isError(value) {\n      if (!isObjectLike(value)) {\n        return false;\n      }\n      var tag = baseGetTag(value);\n      return tag == errorTag || tag == domExcTag ||\n        (typeof value.message == 'string' && typeof value.name == 'string' && !isPlainObject(value));\n    }\n\n    /**\n     * Checks if `value` is a finite primitive number.\n     *\n     * **Note:** This method is based on\n     * [`Number.isFinite`](https://mdn.io/Number/isFinite).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a finite number, else `false`.\n     * @example\n     *\n     * _.isFinite(3);\n     * // => true\n     *\n     * _.isFinite(Number.MIN_VALUE);\n     * // => true\n     *\n     * _.isFinite(Infinity);\n     * // => false\n     *\n     * _.isFinite('3');\n     * // => false\n     */\n    function isFinite(value) {\n      return typeof value == 'number' && nativeIsFinite(value);\n    }\n\n    /**\n     * Checks if `value` is classified as a `Function` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n     * @example\n     *\n     * _.isFunction(_);\n     * // => true\n     *\n     * _.isFunction(/abc/);\n     * // => false\n     */\n    function isFunction(value) {\n      if (!isObject(value)) {\n        return false;\n      }\n      // The use of `Object#toString` avoids issues with the `typeof` operator\n      // in Safari 9 which returns 'object' for typed arrays and other constructors.\n      var tag = baseGetTag(value);\n      return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n    }\n\n    /**\n     * Checks if `value` is an integer.\n     *\n     * **Note:** This method is based on\n     * [`Number.isInteger`](https://mdn.io/Number/isInteger).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an integer, else `false`.\n     * @example\n     *\n     * _.isInteger(3);\n     * // => true\n     *\n     * _.isInteger(Number.MIN_VALUE);\n     * // => false\n     *\n     * _.isInteger(Infinity);\n     * // => false\n     *\n     * _.isInteger('3');\n     * // => false\n     */\n    function isInteger(value) {\n      return typeof value == 'number' && value == toInteger(value);\n    }\n\n    /**\n     * Checks if `value` is a valid array-like length.\n     *\n     * **Note:** This method is loosely based on\n     * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n     * @example\n     *\n     * _.isLength(3);\n     * // => true\n     *\n     * _.isLength(Number.MIN_VALUE);\n     * // => false\n     *\n     * _.isLength(Infinity);\n     * // => false\n     *\n     * _.isLength('3');\n     * // => false\n     */\n    function isLength(value) {\n      return typeof value == 'number' &&\n        value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n    }\n\n    /**\n     * Checks if `value` is the\n     * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n     * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n     * @example\n     *\n     * _.isObject({});\n     * // => true\n     *\n     * _.isObject([1, 2, 3]);\n     * // => true\n     *\n     * _.isObject(_.noop);\n     * // => true\n     *\n     * _.isObject(null);\n     * // => false\n     */\n    function isObject(value) {\n      var type = typeof value;\n      return value != null && (type == 'object' || type == 'function');\n    }\n\n    /**\n     * Checks if `value` is object-like. A value is object-like if it's not `null`\n     * and has a `typeof` result of \"object\".\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n     * @example\n     *\n     * _.isObjectLike({});\n     * // => true\n     *\n     * _.isObjectLike([1, 2, 3]);\n     * // => true\n     *\n     * _.isObjectLike(_.noop);\n     * // => false\n     *\n     * _.isObjectLike(null);\n     * // => false\n     */\n    function isObjectLike(value) {\n      return value != null && typeof value == 'object';\n    }\n\n    /**\n     * Checks if `value` is classified as a `Map` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a map, else `false`.\n     * @example\n     *\n     * _.isMap(new Map);\n     * // => true\n     *\n     * _.isMap(new WeakMap);\n     * // => false\n     */\n    var isMap = nodeIsMap ? baseUnary(nodeIsMap) : baseIsMap;\n\n    /**\n     * Performs a partial deep comparison between `object` and `source` to\n     * determine if `object` contains equivalent property values.\n     *\n     * **Note:** This method is equivalent to `_.matches` when `source` is\n     * partially applied.\n     *\n     * Partial comparisons will match empty array and empty object `source`\n     * values against any array or object value, respectively. See `_.isEqual`\n     * for a list of supported value comparisons.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property values to match.\n     * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2 };\n     *\n     * _.isMatch(object, { 'b': 2 });\n     * // => true\n     *\n     * _.isMatch(object, { 'b': 1 });\n     * // => false\n     */\n    function isMatch(object, source) {\n      return object === source || baseIsMatch(object, source, getMatchData(source));\n    }\n\n    /**\n     * This method is like `_.isMatch` except that it accepts `customizer` which\n     * is invoked to compare values. If `customizer` returns `undefined`, comparisons\n     * are handled by the method instead. The `customizer` is invoked with five\n     * arguments: (objValue, srcValue, index|key, object, source).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property values to match.\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n     * @example\n     *\n     * function isGreeting(value) {\n     *   return /^h(?:i|ello)$/.test(value);\n     * }\n     *\n     * function customizer(objValue, srcValue) {\n     *   if (isGreeting(objValue) && isGreeting(srcValue)) {\n     *     return true;\n     *   }\n     * }\n     *\n     * var object = { 'greeting': 'hello' };\n     * var source = { 'greeting': 'hi' };\n     *\n     * _.isMatchWith(object, source, customizer);\n     * // => true\n     */\n    function isMatchWith(object, source, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return baseIsMatch(object, source, getMatchData(source), customizer);\n    }\n\n    /**\n     * Checks if `value` is `NaN`.\n     *\n     * **Note:** This method is based on\n     * [`Number.isNaN`](https://mdn.io/Number/isNaN) and is not the same as\n     * global [`isNaN`](https://mdn.io/isNaN) which returns `true` for\n     * `undefined` and other non-number values.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n     * @example\n     *\n     * _.isNaN(NaN);\n     * // => true\n     *\n     * _.isNaN(new Number(NaN));\n     * // => true\n     *\n     * isNaN(undefined);\n     * // => true\n     *\n     * _.isNaN(undefined);\n     * // => false\n     */\n    function isNaN(value) {\n      // An `NaN` primitive is the only value that is not equal to itself.\n      // Perform the `toStringTag` check first to avoid errors with some\n      // ActiveX objects in IE.\n      return isNumber(value) && value != +value;\n    }\n\n    /**\n     * Checks if `value` is a pristine native function.\n     *\n     * **Note:** This method can't reliably detect native functions in the presence\n     * of the core-js package because core-js circumvents this kind of detection.\n     * Despite multiple requests, the core-js maintainer has made it clear: any\n     * attempt to fix the detection will be obstructed. As a result, we're left\n     * with little choice but to throw an error. Unfortunately, this also affects\n     * packages, like [babel-polyfill](https://www.npmjs.com/package/babel-polyfill),\n     * which rely on core-js.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a native function,\n     *  else `false`.\n     * @example\n     *\n     * _.isNative(Array.prototype.push);\n     * // => true\n     *\n     * _.isNative(_);\n     * // => false\n     */\n    function isNative(value) {\n      if (isMaskable(value)) {\n        throw new Error(CORE_ERROR_TEXT);\n      }\n      return baseIsNative(value);\n    }\n\n    /**\n     * Checks if `value` is `null`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `null`, else `false`.\n     * @example\n     *\n     * _.isNull(null);\n     * // => true\n     *\n     * _.isNull(void 0);\n     * // => false\n     */\n    function isNull(value) {\n      return value === null;\n    }\n\n    /**\n     * Checks if `value` is `null` or `undefined`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is nullish, else `false`.\n     * @example\n     *\n     * _.isNil(null);\n     * // => true\n     *\n     * _.isNil(void 0);\n     * // => true\n     *\n     * _.isNil(NaN);\n     * // => false\n     */\n    function isNil(value) {\n      return value == null;\n    }\n\n    /**\n     * Checks if `value` is classified as a `Number` primitive or object.\n     *\n     * **Note:** To exclude `Infinity`, `-Infinity`, and `NaN`, which are\n     * classified as numbers, use the `_.isFinite` method.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a number, else `false`.\n     * @example\n     *\n     * _.isNumber(3);\n     * // => true\n     *\n     * _.isNumber(Number.MIN_VALUE);\n     * // => true\n     *\n     * _.isNumber(Infinity);\n     * // => true\n     *\n     * _.isNumber('3');\n     * // => false\n     */\n    function isNumber(value) {\n      return typeof value == 'number' ||\n        (isObjectLike(value) && baseGetTag(value) == numberTag);\n    }\n\n    /**\n     * Checks if `value` is a plain object, that is, an object created by the\n     * `Object` constructor or one with a `[[Prototype]]` of `null`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.8.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     * }\n     *\n     * _.isPlainObject(new Foo);\n     * // => false\n     *\n     * _.isPlainObject([1, 2, 3]);\n     * // => false\n     *\n     * _.isPlainObject({ 'x': 0, 'y': 0 });\n     * // => true\n     *\n     * _.isPlainObject(Object.create(null));\n     * // => true\n     */\n    function isPlainObject(value) {\n      if (!isObjectLike(value) || baseGetTag(value) != objectTag) {\n        return false;\n      }\n      var proto = getPrototype(value);\n      if (proto === null) {\n        return true;\n      }\n      var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n      return typeof Ctor == 'function' && Ctor instanceof Ctor &&\n        funcToString.call(Ctor) == objectCtorString;\n    }\n\n    /**\n     * Checks if `value` is classified as a `RegExp` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a regexp, else `false`.\n     * @example\n     *\n     * _.isRegExp(/abc/);\n     * // => true\n     *\n     * _.isRegExp('/abc/');\n     * // => false\n     */\n    var isRegExp = nodeIsRegExp ? baseUnary(nodeIsRegExp) : baseIsRegExp;\n\n    /**\n     * Checks if `value` is a safe integer. An integer is safe if it's an IEEE-754\n     * double precision number which isn't the result of a rounded unsafe integer.\n     *\n     * **Note:** This method is based on\n     * [`Number.isSafeInteger`](https://mdn.io/Number/isSafeInteger).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a safe integer, else `false`.\n     * @example\n     *\n     * _.isSafeInteger(3);\n     * // => true\n     *\n     * _.isSafeInteger(Number.MIN_VALUE);\n     * // => false\n     *\n     * _.isSafeInteger(Infinity);\n     * // => false\n     *\n     * _.isSafeInteger('3');\n     * // => false\n     */\n    function isSafeInteger(value) {\n      return isInteger(value) && value >= -MAX_SAFE_INTEGER && value <= MAX_SAFE_INTEGER;\n    }\n\n    /**\n     * Checks if `value` is classified as a `Set` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a set, else `false`.\n     * @example\n     *\n     * _.isSet(new Set);\n     * // => true\n     *\n     * _.isSet(new WeakSet);\n     * // => false\n     */\n    var isSet = nodeIsSet ? baseUnary(nodeIsSet) : baseIsSet;\n\n    /**\n     * Checks if `value` is classified as a `String` primitive or object.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a string, else `false`.\n     * @example\n     *\n     * _.isString('abc');\n     * // => true\n     *\n     * _.isString(1);\n     * // => false\n     */\n    function isString(value) {\n      return typeof value == 'string' ||\n        (!isArray(value) && isObjectLike(value) && baseGetTag(value) == stringTag);\n    }\n\n    /**\n     * Checks if `value` is classified as a `Symbol` primitive or object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n     * @example\n     *\n     * _.isSymbol(Symbol.iterator);\n     * // => true\n     *\n     * _.isSymbol('abc');\n     * // => false\n     */\n    function isSymbol(value) {\n      return typeof value == 'symbol' ||\n        (isObjectLike(value) && baseGetTag(value) == symbolTag);\n    }\n\n    /**\n     * Checks if `value` is classified as a typed array.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n     * @example\n     *\n     * _.isTypedArray(new Uint8Array);\n     * // => true\n     *\n     * _.isTypedArray([]);\n     * // => false\n     */\n    var isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\n    /**\n     * Checks if `value` is `undefined`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `undefined`, else `false`.\n     * @example\n     *\n     * _.isUndefined(void 0);\n     * // => true\n     *\n     * _.isUndefined(null);\n     * // => false\n     */\n    function isUndefined(value) {\n      return value === undefined;\n    }\n\n    /**\n     * Checks if `value` is classified as a `WeakMap` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a weak map, else `false`.\n     * @example\n     *\n     * _.isWeakMap(new WeakMap);\n     * // => true\n     *\n     * _.isWeakMap(new Map);\n     * // => false\n     */\n    function isWeakMap(value) {\n      return isObjectLike(value) && getTag(value) == weakMapTag;\n    }\n\n    /**\n     * Checks if `value` is classified as a `WeakSet` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a weak set, else `false`.\n     * @example\n     *\n     * _.isWeakSet(new WeakSet);\n     * // => true\n     *\n     * _.isWeakSet(new Set);\n     * // => false\n     */\n    function isWeakSet(value) {\n      return isObjectLike(value) && baseGetTag(value) == weakSetTag;\n    }\n\n    /**\n     * Checks if `value` is less than `other`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.9.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is less than `other`,\n     *  else `false`.\n     * @see _.gt\n     * @example\n     *\n     * _.lt(1, 3);\n     * // => true\n     *\n     * _.lt(3, 3);\n     * // => false\n     *\n     * _.lt(3, 1);\n     * // => false\n     */\n    var lt = createRelationalOperation(baseLt);\n\n    /**\n     * Checks if `value` is less than or equal to `other`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.9.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is less than or equal to\n     *  `other`, else `false`.\n     * @see _.gte\n     * @example\n     *\n     * _.lte(1, 3);\n     * // => true\n     *\n     * _.lte(3, 3);\n     * // => true\n     *\n     * _.lte(3, 1);\n     * // => false\n     */\n    var lte = createRelationalOperation(function(value, other) {\n      return value <= other;\n    });\n\n    /**\n     * Converts `value` to an array.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {Array} Returns the converted array.\n     * @example\n     *\n     * _.toArray({ 'a': 1, 'b': 2 });\n     * // => [1, 2]\n     *\n     * _.toArray('abc');\n     * // => ['a', 'b', 'c']\n     *\n     * _.toArray(1);\n     * // => []\n     *\n     * _.toArray(null);\n     * // => []\n     */\n    function toArray(value) {\n      if (!value) {\n        return [];\n      }\n      if (isArrayLike(value)) {\n        return isString(value) ? stringToArray(value) : copyArray(value);\n      }\n      if (symIterator && value[symIterator]) {\n        return iteratorToArray(value[symIterator]());\n      }\n      var tag = getTag(value),\n          func = tag == mapTag ? mapToArray : (tag == setTag ? setToArray : values);\n\n      return func(value);\n    }\n\n    /**\n     * Converts `value` to a finite number.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.12.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {number} Returns the converted number.\n     * @example\n     *\n     * _.toFinite(3.2);\n     * // => 3.2\n     *\n     * _.toFinite(Number.MIN_VALUE);\n     * // => 5e-324\n     *\n     * _.toFinite(Infinity);\n     * // => 1.7976931348623157e+308\n     *\n     * _.toFinite('3.2');\n     * // => 3.2\n     */\n    function toFinite(value) {\n      if (!value) {\n        return value === 0 ? value : 0;\n      }\n      value = toNumber(value);\n      if (value === INFINITY || value === -INFINITY) {\n        var sign = (value < 0 ? -1 : 1);\n        return sign * MAX_INTEGER;\n      }\n      return value === value ? value : 0;\n    }\n\n    /**\n     * Converts `value` to an integer.\n     *\n     * **Note:** This method is loosely based on\n     * [`ToInteger`](http://www.ecma-international.org/ecma-262/7.0/#sec-tointeger).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.toInteger(3.2);\n     * // => 3\n     *\n     * _.toInteger(Number.MIN_VALUE);\n     * // => 0\n     *\n     * _.toInteger(Infinity);\n     * // => 1.7976931348623157e+308\n     *\n     * _.toInteger('3.2');\n     * // => 3\n     */\n    function toInteger(value) {\n      var result = toFinite(value),\n          remainder = result % 1;\n\n      return result === result ? (remainder ? result - remainder : result) : 0;\n    }\n\n    /**\n     * Converts `value` to an integer suitable for use as the length of an\n     * array-like object.\n     *\n     * **Note:** This method is based on\n     * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.toLength(3.2);\n     * // => 3\n     *\n     * _.toLength(Number.MIN_VALUE);\n     * // => 0\n     *\n     * _.toLength(Infinity);\n     * // => 4294967295\n     *\n     * _.toLength('3.2');\n     * // => 3\n     */\n    function toLength(value) {\n      return value ? baseClamp(toInteger(value), 0, MAX_ARRAY_LENGTH) : 0;\n    }\n\n    /**\n     * Converts `value` to a number.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to process.\n     * @returns {number} Returns the number.\n     * @example\n     *\n     * _.toNumber(3.2);\n     * // => 3.2\n     *\n     * _.toNumber(Number.MIN_VALUE);\n     * // => 5e-324\n     *\n     * _.toNumber(Infinity);\n     * // => Infinity\n     *\n     * _.toNumber('3.2');\n     * // => 3.2\n     */\n    function toNumber(value) {\n      if (typeof value == 'number') {\n        return value;\n      }\n      if (isSymbol(value)) {\n        return NAN;\n      }\n      if (isObject(value)) {\n        var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n        value = isObject(other) ? (other + '') : other;\n      }\n      if (typeof value != 'string') {\n        return value === 0 ? value : +value;\n      }\n      value = baseTrim(value);\n      var isBinary = reIsBinary.test(value);\n      return (isBinary || reIsOctal.test(value))\n        ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n        : (reIsBadHex.test(value) ? NAN : +value);\n    }\n\n    /**\n     * Converts `value` to a plain object flattening inherited enumerable string\n     * keyed properties of `value` to own properties of the plain object.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {Object} Returns the converted plain object.\n     * @example\n     *\n     * function Foo() {\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.assign({ 'a': 1 }, new Foo);\n     * // => { 'a': 1, 'b': 2 }\n     *\n     * _.assign({ 'a': 1 }, _.toPlainObject(new Foo));\n     * // => { 'a': 1, 'b': 2, 'c': 3 }\n     */\n    function toPlainObject(value) {\n      return copyObject(value, keysIn(value));\n    }\n\n    /**\n     * Converts `value` to a safe integer. A safe integer can be compared and\n     * represented correctly.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.toSafeInteger(3.2);\n     * // => 3\n     *\n     * _.toSafeInteger(Number.MIN_VALUE);\n     * // => 0\n     *\n     * _.toSafeInteger(Infinity);\n     * // => 9007199254740991\n     *\n     * _.toSafeInteger('3.2');\n     * // => 3\n     */\n    function toSafeInteger(value) {\n      return value\n        ? baseClamp(toInteger(value), -MAX_SAFE_INTEGER, MAX_SAFE_INTEGER)\n        : (value === 0 ? value : 0);\n    }\n\n    /**\n     * Converts `value` to a string. An empty string is returned for `null`\n     * and `undefined` values. The sign of `-0` is preserved.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {string} Returns the converted string.\n     * @example\n     *\n     * _.toString(null);\n     * // => ''\n     *\n     * _.toString(-0);\n     * // => '-0'\n     *\n     * _.toString([1, 2, 3]);\n     * // => '1,2,3'\n     */\n    function toString(value) {\n      return value == null ? '' : baseToString(value);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Assigns own enumerable string keyed properties of source objects to the\n     * destination object. Source objects are applied from left to right.\n     * Subsequent sources overwrite property assignments of previous sources.\n     *\n     * **Note:** This method mutates `object` and is loosely based on\n     * [`Object.assign`](https://mdn.io/Object/assign).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.10.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @see _.assignIn\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     * }\n     *\n     * function Bar() {\n     *   this.c = 3;\n     * }\n     *\n     * Foo.prototype.b = 2;\n     * Bar.prototype.d = 4;\n     *\n     * _.assign({ 'a': 0 }, new Foo, new Bar);\n     * // => { 'a': 1, 'c': 3 }\n     */\n    var assign = createAssigner(function(object, source) {\n      if (isPrototype(source) || isArrayLike(source)) {\n        copyObject(source, keys(source), object);\n        return;\n      }\n      for (var key in source) {\n        if (hasOwnProperty.call(source, key)) {\n          assignValue(object, key, source[key]);\n        }\n      }\n    });\n\n    /**\n     * This method is like `_.assign` except that it iterates over own and\n     * inherited source properties.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @alias extend\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @see _.assign\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     * }\n     *\n     * function Bar() {\n     *   this.c = 3;\n     * }\n     *\n     * Foo.prototype.b = 2;\n     * Bar.prototype.d = 4;\n     *\n     * _.assignIn({ 'a': 0 }, new Foo, new Bar);\n     * // => { 'a': 1, 'b': 2, 'c': 3, 'd': 4 }\n     */\n    var assignIn = createAssigner(function(object, source) {\n      copyObject(source, keysIn(source), object);\n    });\n\n    /**\n     * This method is like `_.assignIn` except that it accepts `customizer`\n     * which is invoked to produce the assigned values. If `customizer` returns\n     * `undefined`, assignment is handled by the method instead. The `customizer`\n     * is invoked with five arguments: (objValue, srcValue, key, object, source).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @alias extendWith\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} sources The source objects.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @see _.assignWith\n     * @example\n     *\n     * function customizer(objValue, srcValue) {\n     *   return _.isUndefined(objValue) ? srcValue : objValue;\n     * }\n     *\n     * var defaults = _.partialRight(_.assignInWith, customizer);\n     *\n     * defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n     * // => { 'a': 1, 'b': 2 }\n     */\n    var assignInWith = createAssigner(function(object, source, srcIndex, customizer) {\n      copyObject(source, keysIn(source), object, customizer);\n    });\n\n    /**\n     * This method is like `_.assign` except that it accepts `customizer`\n     * which is invoked to produce the assigned values. If `customizer` returns\n     * `undefined`, assignment is handled by the method instead. The `customizer`\n     * is invoked with five arguments: (objValue, srcValue, key, object, source).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} sources The source objects.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @see _.assignInWith\n     * @example\n     *\n     * function customizer(objValue, srcValue) {\n     *   return _.isUndefined(objValue) ? srcValue : objValue;\n     * }\n     *\n     * var defaults = _.partialRight(_.assignWith, customizer);\n     *\n     * defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n     * // => { 'a': 1, 'b': 2 }\n     */\n    var assignWith = createAssigner(function(object, source, srcIndex, customizer) {\n      copyObject(source, keys(source), object, customizer);\n    });\n\n    /**\n     * Creates an array of values corresponding to `paths` of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.0.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {...(string|string[])} [paths] The property paths to pick.\n     * @returns {Array} Returns the picked values.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }, 4] };\n     *\n     * _.at(object, ['a[0].b.c', 'a[1]']);\n     * // => [3, 4]\n     */\n    var at = flatRest(baseAt);\n\n    /**\n     * Creates an object that inherits from the `prototype` object. If a\n     * `properties` object is given, its own enumerable string keyed properties\n     * are assigned to the created object.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.3.0\n     * @category Object\n     * @param {Object} prototype The object to inherit from.\n     * @param {Object} [properties] The properties to assign to the object.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * function Shape() {\n     *   this.x = 0;\n     *   this.y = 0;\n     * }\n     *\n     * function Circle() {\n     *   Shape.call(this);\n     * }\n     *\n     * Circle.prototype = _.create(Shape.prototype, {\n     *   'constructor': Circle\n     * });\n     *\n     * var circle = new Circle;\n     * circle instanceof Circle;\n     * // => true\n     *\n     * circle instanceof Shape;\n     * // => true\n     */\n    function create(prototype, properties) {\n      var result = baseCreate(prototype);\n      return properties == null ? result : baseAssign(result, properties);\n    }\n\n    /**\n     * Assigns own and inherited enumerable string keyed properties of source\n     * objects to the destination object for all destination properties that\n     * resolve to `undefined`. Source objects are applied from left to right.\n     * Once a property is set, additional values of the same property are ignored.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @see _.defaultsDeep\n     * @example\n     *\n     * _.defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n     * // => { 'a': 1, 'b': 2 }\n     */\n    var defaults = baseRest(function(object, sources) {\n      object = Object(object);\n\n      var index = -1;\n      var length = sources.length;\n      var guard = length > 2 ? sources[2] : undefined;\n\n      if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n        length = 1;\n      }\n\n      while (++index < length) {\n        var source = sources[index];\n        var props = keysIn(source);\n        var propsIndex = -1;\n        var propsLength = props.length;\n\n        while (++propsIndex < propsLength) {\n          var key = props[propsIndex];\n          var value = object[key];\n\n          if (value === undefined ||\n              (eq(value, objectProto[key]) && !hasOwnProperty.call(object, key))) {\n            object[key] = source[key];\n          }\n        }\n      }\n\n      return object;\n    });\n\n    /**\n     * This method is like `_.defaults` except that it recursively assigns\n     * default properties.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.10.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @see _.defaults\n     * @example\n     *\n     * _.defaultsDeep({ 'a': { 'b': 2 } }, { 'a': { 'b': 1, 'c': 3 } });\n     * // => { 'a': { 'b': 2, 'c': 3 } }\n     */\n    var defaultsDeep = baseRest(function(args) {\n      args.push(undefined, customDefaultsMerge);\n      return apply(mergeWith, undefined, args);\n    });\n\n    /**\n     * This method is like `_.find` except that it returns the key of the first\n     * element `predicate` returns truthy for instead of the element itself.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.1.0\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {string|undefined} Returns the key of the matched element,\n     *  else `undefined`.\n     * @example\n     *\n     * var users = {\n     *   'barney':  { 'age': 36, 'active': true },\n     *   'fred':    { 'age': 40, 'active': false },\n     *   'pebbles': { 'age': 1,  'active': true }\n     * };\n     *\n     * _.findKey(users, function(o) { return o.age < 40; });\n     * // => 'barney' (iteration order is not guaranteed)\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.findKey(users, { 'age': 1, 'active': true });\n     * // => 'pebbles'\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.findKey(users, ['active', false]);\n     * // => 'fred'\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.findKey(users, 'active');\n     * // => 'barney'\n     */\n    function findKey(object, predicate) {\n      return baseFindKey(object, getIteratee(predicate, 3), baseForOwn);\n    }\n\n    /**\n     * This method is like `_.findKey` except that it iterates over elements of\n     * a collection in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {string|undefined} Returns the key of the matched element,\n     *  else `undefined`.\n     * @example\n     *\n     * var users = {\n     *   'barney':  { 'age': 36, 'active': true },\n     *   'fred':    { 'age': 40, 'active': false },\n     *   'pebbles': { 'age': 1,  'active': true }\n     * };\n     *\n     * _.findLastKey(users, function(o) { return o.age < 40; });\n     * // => returns 'pebbles' assuming `_.findKey` returns 'barney'\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.findLastKey(users, { 'age': 36, 'active': true });\n     * // => 'barney'\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.findLastKey(users, ['active', false]);\n     * // => 'fred'\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.findLastKey(users, 'active');\n     * // => 'pebbles'\n     */\n    function findLastKey(object, predicate) {\n      return baseFindKey(object, getIteratee(predicate, 3), baseForOwnRight);\n    }\n\n    /**\n     * Iterates over own and inherited enumerable string keyed properties of an\n     * object and invokes `iteratee` for each property. The iteratee is invoked\n     * with three arguments: (value, key, object). Iteratee functions may exit\n     * iteration early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.3.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     * @see _.forInRight\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forIn(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'a', 'b', then 'c' (iteration order is not guaranteed).\n     */\n    function forIn(object, iteratee) {\n      return object == null\n        ? object\n        : baseFor(object, getIteratee(iteratee, 3), keysIn);\n    }\n\n    /**\n     * This method is like `_.forIn` except that it iterates over properties of\n     * `object` in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     * @see _.forIn\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forInRight(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'c', 'b', then 'a' assuming `_.forIn` logs 'a', 'b', then 'c'.\n     */\n    function forInRight(object, iteratee) {\n      return object == null\n        ? object\n        : baseForRight(object, getIteratee(iteratee, 3), keysIn);\n    }\n\n    /**\n     * Iterates over own enumerable string keyed properties of an object and\n     * invokes `iteratee` for each property. The iteratee is invoked with three\n     * arguments: (value, key, object). Iteratee functions may exit iteration\n     * early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.3.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     * @see _.forOwnRight\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forOwn(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'a' then 'b' (iteration order is not guaranteed).\n     */\n    function forOwn(object, iteratee) {\n      return object && baseForOwn(object, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * This method is like `_.forOwn` except that it iterates over properties of\n     * `object` in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     * @see _.forOwn\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forOwnRight(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'b' then 'a' assuming `_.forOwn` logs 'a' then 'b'.\n     */\n    function forOwnRight(object, iteratee) {\n      return object && baseForOwnRight(object, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * Creates an array of function property names from own enumerable properties\n     * of `object`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @returns {Array} Returns the function names.\n     * @see _.functionsIn\n     * @example\n     *\n     * function Foo() {\n     *   this.a = _.constant('a');\n     *   this.b = _.constant('b');\n     * }\n     *\n     * Foo.prototype.c = _.constant('c');\n     *\n     * _.functions(new Foo);\n     * // => ['a', 'b']\n     */\n    function functions(object) {\n      return object == null ? [] : baseFunctions(object, keys(object));\n    }\n\n    /**\n     * Creates an array of function property names from own and inherited\n     * enumerable properties of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @returns {Array} Returns the function names.\n     * @see _.functions\n     * @example\n     *\n     * function Foo() {\n     *   this.a = _.constant('a');\n     *   this.b = _.constant('b');\n     * }\n     *\n     * Foo.prototype.c = _.constant('c');\n     *\n     * _.functionsIn(new Foo);\n     * // => ['a', 'b', 'c']\n     */\n    function functionsIn(object) {\n      return object == null ? [] : baseFunctions(object, keysIn(object));\n    }\n\n    /**\n     * Gets the value at `path` of `object`. If the resolved value is\n     * `undefined`, the `defaultValue` is returned in its place.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.7.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the property to get.\n     * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n     * @returns {*} Returns the resolved value.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n     *\n     * _.get(object, 'a[0].b.c');\n     * // => 3\n     *\n     * _.get(object, ['a', '0', 'b', 'c']);\n     * // => 3\n     *\n     * _.get(object, 'a.b.c', 'default');\n     * // => 'default'\n     */\n    function get(object, path, defaultValue) {\n      var result = object == null ? undefined : baseGet(object, path);\n      return result === undefined ? defaultValue : result;\n    }\n\n    /**\n     * Checks if `path` is a direct property of `object`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path to check.\n     * @returns {boolean} Returns `true` if `path` exists, else `false`.\n     * @example\n     *\n     * var object = { 'a': { 'b': 2 } };\n     * var other = _.create({ 'a': _.create({ 'b': 2 }) });\n     *\n     * _.has(object, 'a');\n     * // => true\n     *\n     * _.has(object, 'a.b');\n     * // => true\n     *\n     * _.has(object, ['a', 'b']);\n     * // => true\n     *\n     * _.has(other, 'a');\n     * // => false\n     */\n    function has(object, path) {\n      return object != null && hasPath(object, path, baseHas);\n    }\n\n    /**\n     * Checks if `path` is a direct or inherited property of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path to check.\n     * @returns {boolean} Returns `true` if `path` exists, else `false`.\n     * @example\n     *\n     * var object = _.create({ 'a': _.create({ 'b': 2 }) });\n     *\n     * _.hasIn(object, 'a');\n     * // => true\n     *\n     * _.hasIn(object, 'a.b');\n     * // => true\n     *\n     * _.hasIn(object, ['a', 'b']);\n     * // => true\n     *\n     * _.hasIn(object, 'b');\n     * // => false\n     */\n    function hasIn(object, path) {\n      return object != null && hasPath(object, path, baseHasIn);\n    }\n\n    /**\n     * Creates an object composed of the inverted keys and values of `object`.\n     * If `object` contains duplicate values, subsequent values overwrite\n     * property assignments of previous values.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.7.0\n     * @category Object\n     * @param {Object} object The object to invert.\n     * @returns {Object} Returns the new inverted object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2, 'c': 1 };\n     *\n     * _.invert(object);\n     * // => { '1': 'c', '2': 'b' }\n     */\n    var invert = createInverter(function(result, value, key) {\n      if (value != null &&\n          typeof value.toString != 'function') {\n        value = nativeObjectToString.call(value);\n      }\n\n      result[value] = key;\n    }, constant(identity));\n\n    /**\n     * This method is like `_.invert` except that the inverted object is generated\n     * from the results of running each element of `object` thru `iteratee`. The\n     * corresponding inverted value of each inverted key is an array of keys\n     * responsible for generating the inverted value. The iteratee is invoked\n     * with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.1.0\n     * @category Object\n     * @param {Object} object The object to invert.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Object} Returns the new inverted object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2, 'c': 1 };\n     *\n     * _.invertBy(object);\n     * // => { '1': ['a', 'c'], '2': ['b'] }\n     *\n     * _.invertBy(object, function(value) {\n     *   return 'group' + value;\n     * });\n     * // => { 'group1': ['a', 'c'], 'group2': ['b'] }\n     */\n    var invertBy = createInverter(function(result, value, key) {\n      if (value != null &&\n          typeof value.toString != 'function') {\n        value = nativeObjectToString.call(value);\n      }\n\n      if (hasOwnProperty.call(result, value)) {\n        result[value].push(key);\n      } else {\n        result[value] = [key];\n      }\n    }, getIteratee);\n\n    /**\n     * Invokes the method at `path` of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the method to invoke.\n     * @param {...*} [args] The arguments to invoke the method with.\n     * @returns {*} Returns the result of the invoked method.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': [1, 2, 3, 4] } }] };\n     *\n     * _.invoke(object, 'a[0].b.c.slice', 1, 3);\n     * // => [2, 3]\n     */\n    var invoke = baseRest(baseInvoke);\n\n    /**\n     * Creates an array of the own enumerable property names of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects. See the\n     * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n     * for more details.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.keys(new Foo);\n     * // => ['a', 'b'] (iteration order is not guaranteed)\n     *\n     * _.keys('hi');\n     * // => ['0', '1']\n     */\n    function keys(object) {\n      return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n    }\n\n    /**\n     * Creates an array of the own and inherited enumerable property names of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.keysIn(new Foo);\n     * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n     */\n    function keysIn(object) {\n      return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);\n    }\n\n    /**\n     * The opposite of `_.mapValues`; this method creates an object with the\n     * same values as `object` and keys generated by running each own enumerable\n     * string keyed property of `object` thru `iteratee`. The iteratee is invoked\n     * with three arguments: (value, key, object).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.8.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns the new mapped object.\n     * @see _.mapValues\n     * @example\n     *\n     * _.mapKeys({ 'a': 1, 'b': 2 }, function(value, key) {\n     *   return key + value;\n     * });\n     * // => { 'a1': 1, 'b2': 2 }\n     */\n    function mapKeys(object, iteratee) {\n      var result = {};\n      iteratee = getIteratee(iteratee, 3);\n\n      baseForOwn(object, function(value, key, object) {\n        baseAssignValue(result, iteratee(value, key, object), value);\n      });\n      return result;\n    }\n\n    /**\n     * Creates an object with the same keys as `object` and values generated\n     * by running each own enumerable string keyed property of `object` thru\n     * `iteratee`. The iteratee is invoked with three arguments:\n     * (value, key, object).\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns the new mapped object.\n     * @see _.mapKeys\n     * @example\n     *\n     * var users = {\n     *   'fred':    { 'user': 'fred',    'age': 40 },\n     *   'pebbles': { 'user': 'pebbles', 'age': 1 }\n     * };\n     *\n     * _.mapValues(users, function(o) { return o.age; });\n     * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.mapValues(users, 'age');\n     * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n     */\n    function mapValues(object, iteratee) {\n      var result = {};\n      iteratee = getIteratee(iteratee, 3);\n\n      baseForOwn(object, function(value, key, object) {\n        baseAssignValue(result, key, iteratee(value, key, object));\n      });\n      return result;\n    }\n\n    /**\n     * This method is like `_.assign` except that it recursively merges own and\n     * inherited enumerable string keyed properties of source objects into the\n     * destination object. Source properties that resolve to `undefined` are\n     * skipped if a destination value exists. Array and plain object properties\n     * are merged recursively. Other objects and value types are overridden by\n     * assignment. Source objects are applied from left to right. Subsequent\n     * sources overwrite property assignments of previous sources.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.5.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = {\n     *   'a': [{ 'b': 2 }, { 'd': 4 }]\n     * };\n     *\n     * var other = {\n     *   'a': [{ 'c': 3 }, { 'e': 5 }]\n     * };\n     *\n     * _.merge(object, other);\n     * // => { 'a': [{ 'b': 2, 'c': 3 }, { 'd': 4, 'e': 5 }] }\n     */\n    var merge = createAssigner(function(object, source, srcIndex) {\n      baseMerge(object, source, srcIndex);\n    });\n\n    /**\n     * This method is like `_.merge` except that it accepts `customizer` which\n     * is invoked to produce the merged values of the destination and source\n     * properties. If `customizer` returns `undefined`, merging is handled by the\n     * method instead. The `customizer` is invoked with six arguments:\n     * (objValue, srcValue, key, object, source, stack).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} sources The source objects.\n     * @param {Function} customizer The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * function customizer(objValue, srcValue) {\n     *   if (_.isArray(objValue)) {\n     *     return objValue.concat(srcValue);\n     *   }\n     * }\n     *\n     * var object = { 'a': [1], 'b': [2] };\n     * var other = { 'a': [3], 'b': [4] };\n     *\n     * _.mergeWith(object, other, customizer);\n     * // => { 'a': [1, 3], 'b': [2, 4] }\n     */\n    var mergeWith = createAssigner(function(object, source, srcIndex, customizer) {\n      baseMerge(object, source, srcIndex, customizer);\n    });\n\n    /**\n     * The opposite of `_.pick`; this method creates an object composed of the\n     * own and inherited enumerable property paths of `object` that are not omitted.\n     *\n     * **Note:** This method is considerably slower than `_.pick`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {...(string|string[])} [paths] The property paths to omit.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': '2', 'c': 3 };\n     *\n     * _.omit(object, ['a', 'c']);\n     * // => { 'b': '2' }\n     */\n    var omit = flatRest(function(object, paths) {\n      var result = {};\n      if (object == null) {\n        return result;\n      }\n      var isDeep = false;\n      paths = arrayMap(paths, function(path) {\n        path = castPath(path, object);\n        isDeep || (isDeep = path.length > 1);\n        return path;\n      });\n      copyObject(object, getAllKeysIn(object), result);\n      if (isDeep) {\n        result = baseClone(result, CLONE_DEEP_FLAG | CLONE_FLAT_FLAG | CLONE_SYMBOLS_FLAG, customOmitClone);\n      }\n      var length = paths.length;\n      while (length--) {\n        baseUnset(result, paths[length]);\n      }\n      return result;\n    });\n\n    /**\n     * The opposite of `_.pickBy`; this method creates an object composed of\n     * the own and inherited enumerable string keyed properties of `object` that\n     * `predicate` doesn't return truthy for. The predicate is invoked with two\n     * arguments: (value, key).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {Function} [predicate=_.identity] The function invoked per property.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': '2', 'c': 3 };\n     *\n     * _.omitBy(object, _.isNumber);\n     * // => { 'b': '2' }\n     */\n    function omitBy(object, predicate) {\n      return pickBy(object, negate(getIteratee(predicate)));\n    }\n\n    /**\n     * Creates an object composed of the picked `object` properties.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {...(string|string[])} [paths] The property paths to pick.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': '2', 'c': 3 };\n     *\n     * _.pick(object, ['a', 'c']);\n     * // => { 'a': 1, 'c': 3 }\n     */\n    var pick = flatRest(function(object, paths) {\n      return object == null ? {} : basePick(object, paths);\n    });\n\n    /**\n     * Creates an object composed of the `object` properties `predicate` returns\n     * truthy for. The predicate is invoked with two arguments: (value, key).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {Function} [predicate=_.identity] The function invoked per property.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': '2', 'c': 3 };\n     *\n     * _.pickBy(object, _.isNumber);\n     * // => { 'a': 1, 'c': 3 }\n     */\n    function pickBy(object, predicate) {\n      if (object == null) {\n        return {};\n      }\n      var props = arrayMap(getAllKeysIn(object), function(prop) {\n        return [prop];\n      });\n      predicate = getIteratee(predicate);\n      return basePickBy(object, props, function(value, path) {\n        return predicate(value, path[0]);\n      });\n    }\n\n    /**\n     * This method is like `_.get` except that if the resolved value is a\n     * function it's invoked with the `this` binding of its parent object and\n     * its result is returned.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the property to resolve.\n     * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n     * @returns {*} Returns the resolved value.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c1': 3, 'c2': _.constant(4) } }] };\n     *\n     * _.result(object, 'a[0].b.c1');\n     * // => 3\n     *\n     * _.result(object, 'a[0].b.c2');\n     * // => 4\n     *\n     * _.result(object, 'a[0].b.c3', 'default');\n     * // => 'default'\n     *\n     * _.result(object, 'a[0].b.c3', _.constant('default'));\n     * // => 'default'\n     */\n    function result(object, path, defaultValue) {\n      path = castPath(path, object);\n\n      var index = -1,\n          length = path.length;\n\n      // Ensure the loop is entered when path is empty.\n      if (!length) {\n        length = 1;\n        object = undefined;\n      }\n      while (++index < length) {\n        var value = object == null ? undefined : object[toKey(path[index])];\n        if (value === undefined) {\n          index = length;\n          value = defaultValue;\n        }\n        object = isFunction(value) ? value.call(object) : value;\n      }\n      return object;\n    }\n\n    /**\n     * Sets the value at `path` of `object`. If a portion of `path` doesn't exist,\n     * it's created. Arrays are created for missing index properties while objects\n     * are created for all other missing properties. Use `_.setWith` to customize\n     * `path` creation.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.7.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n     *\n     * _.set(object, 'a[0].b.c', 4);\n     * console.log(object.a[0].b.c);\n     * // => 4\n     *\n     * _.set(object, ['x', '0', 'y', 'z'], 5);\n     * console.log(object.x[0].y.z);\n     * // => 5\n     */\n    function set(object, path, value) {\n      return object == null ? object : baseSet(object, path, value);\n    }\n\n    /**\n     * This method is like `_.set` except that it accepts `customizer` which is\n     * invoked to produce the objects of `path`.  If `customizer` returns `undefined`\n     * path creation is handled by the method instead. The `customizer` is invoked\n     * with three arguments: (nsValue, key, nsObject).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {*} value The value to set.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = {};\n     *\n     * _.setWith(object, '[0][1]', 'a', Object);\n     * // => { '0': { '1': 'a' } }\n     */\n    function setWith(object, path, value, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return object == null ? object : baseSet(object, path, value, customizer);\n    }\n\n    /**\n     * Creates an array of own enumerable string keyed-value pairs for `object`\n     * which can be consumed by `_.fromPairs`. If `object` is a map or set, its\n     * entries are returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @alias entries\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the key-value pairs.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.toPairs(new Foo);\n     * // => [['a', 1], ['b', 2]] (iteration order is not guaranteed)\n     */\n    var toPairs = createToPairs(keys);\n\n    /**\n     * Creates an array of own and inherited enumerable string keyed-value pairs\n     * for `object` which can be consumed by `_.fromPairs`. If `object` is a map\n     * or set, its entries are returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @alias entriesIn\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the key-value pairs.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.toPairsIn(new Foo);\n     * // => [['a', 1], ['b', 2], ['c', 3]] (iteration order is not guaranteed)\n     */\n    var toPairsIn = createToPairs(keysIn);\n\n    /**\n     * An alternative to `_.reduce`; this method transforms `object` to a new\n     * `accumulator` object which is the result of running each of its own\n     * enumerable string keyed properties thru `iteratee`, with each invocation\n     * potentially mutating the `accumulator` object. If `accumulator` is not\n     * provided, a new object with the same `[[Prototype]]` will be used. The\n     * iteratee is invoked with four arguments: (accumulator, value, key, object).\n     * Iteratee functions may exit iteration early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.3.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The custom accumulator value.\n     * @returns {*} Returns the accumulated value.\n     * @example\n     *\n     * _.transform([2, 3, 4], function(result, n) {\n     *   result.push(n *= n);\n     *   return n % 2 == 0;\n     * }, []);\n     * // => [4, 9]\n     *\n     * _.transform({ 'a': 1, 'b': 2, 'c': 1 }, function(result, value, key) {\n     *   (result[value] || (result[value] = [])).push(key);\n     * }, {});\n     * // => { '1': ['a', 'c'], '2': ['b'] }\n     */\n    function transform(object, iteratee, accumulator) {\n      var isArr = isArray(object),\n          isArrLike = isArr || isBuffer(object) || isTypedArray(object);\n\n      iteratee = getIteratee(iteratee, 4);\n      if (accumulator == null) {\n        var Ctor = object && object.constructor;\n        if (isArrLike) {\n          accumulator = isArr ? new Ctor : [];\n        }\n        else if (isObject(object)) {\n          accumulator = isFunction(Ctor) ? baseCreate(getPrototype(object)) : {};\n        }\n        else {\n          accumulator = {};\n        }\n      }\n      (isArrLike ? arrayEach : baseForOwn)(object, function(value, index, object) {\n        return iteratee(accumulator, value, index, object);\n      });\n      return accumulator;\n    }\n\n    /**\n     * Removes the property at `path` of `object`.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to unset.\n     * @returns {boolean} Returns `true` if the property is deleted, else `false`.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 7 } }] };\n     * _.unset(object, 'a[0].b.c');\n     * // => true\n     *\n     * console.log(object);\n     * // => { 'a': [{ 'b': {} }] };\n     *\n     * _.unset(object, ['a', '0', 'b', 'c']);\n     * // => true\n     *\n     * console.log(object);\n     * // => { 'a': [{ 'b': {} }] };\n     */\n    function unset(object, path) {\n      return object == null ? true : baseUnset(object, path);\n    }\n\n    /**\n     * This method is like `_.set` except that accepts `updater` to produce the\n     * value to set. Use `_.updateWith` to customize `path` creation. The `updater`\n     * is invoked with one argument: (value).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.6.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {Function} updater The function to produce the updated value.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n     *\n     * _.update(object, 'a[0].b.c', function(n) { return n * n; });\n     * console.log(object.a[0].b.c);\n     * // => 9\n     *\n     * _.update(object, 'x[0].y.z', function(n) { return n ? n + 1 : 0; });\n     * console.log(object.x[0].y.z);\n     * // => 0\n     */\n    function update(object, path, updater) {\n      return object == null ? object : baseUpdate(object, path, castFunction(updater));\n    }\n\n    /**\n     * This method is like `_.update` except that it accepts `customizer` which is\n     * invoked to produce the objects of `path`.  If `customizer` returns `undefined`\n     * path creation is handled by the method instead. The `customizer` is invoked\n     * with three arguments: (nsValue, key, nsObject).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.6.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {Function} updater The function to produce the updated value.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = {};\n     *\n     * _.updateWith(object, '[0][1]', _.constant('a'), Object);\n     * // => { '0': { '1': 'a' } }\n     */\n    function updateWith(object, path, updater, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return object == null ? object : baseUpdate(object, path, castFunction(updater), customizer);\n    }\n\n    /**\n     * Creates an array of the own enumerable string keyed property values of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property values.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.values(new Foo);\n     * // => [1, 2] (iteration order is not guaranteed)\n     *\n     * _.values('hi');\n     * // => ['h', 'i']\n     */\n    function values(object) {\n      return object == null ? [] : baseValues(object, keys(object));\n    }\n\n    /**\n     * Creates an array of the own and inherited enumerable string keyed property\n     * values of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property values.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.valuesIn(new Foo);\n     * // => [1, 2, 3] (iteration order is not guaranteed)\n     */\n    function valuesIn(object) {\n      return object == null ? [] : baseValues(object, keysIn(object));\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Clamps `number` within the inclusive `lower` and `upper` bounds.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Number\n     * @param {number} number The number to clamp.\n     * @param {number} [lower] The lower bound.\n     * @param {number} upper The upper bound.\n     * @returns {number} Returns the clamped number.\n     * @example\n     *\n     * _.clamp(-10, -5, 5);\n     * // => -5\n     *\n     * _.clamp(10, -5, 5);\n     * // => 5\n     */\n    function clamp(number, lower, upper) {\n      if (upper === undefined) {\n        upper = lower;\n        lower = undefined;\n      }\n      if (upper !== undefined) {\n        upper = toNumber(upper);\n        upper = upper === upper ? upper : 0;\n      }\n      if (lower !== undefined) {\n        lower = toNumber(lower);\n        lower = lower === lower ? lower : 0;\n      }\n      return baseClamp(toNumber(number), lower, upper);\n    }\n\n    /**\n     * Checks if `n` is between `start` and up to, but not including, `end`. If\n     * `end` is not specified, it's set to `start` with `start` then set to `0`.\n     * If `start` is greater than `end` the params are swapped to support\n     * negative ranges.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.3.0\n     * @category Number\n     * @param {number} number The number to check.\n     * @param {number} [start=0] The start of the range.\n     * @param {number} end The end of the range.\n     * @returns {boolean} Returns `true` if `number` is in the range, else `false`.\n     * @see _.range, _.rangeRight\n     * @example\n     *\n     * _.inRange(3, 2, 4);\n     * // => true\n     *\n     * _.inRange(4, 8);\n     * // => true\n     *\n     * _.inRange(4, 2);\n     * // => false\n     *\n     * _.inRange(2, 2);\n     * // => false\n     *\n     * _.inRange(1.2, 2);\n     * // => true\n     *\n     * _.inRange(5.2, 4);\n     * // => false\n     *\n     * _.inRange(-3, -2, -6);\n     * // => true\n     */\n    function inRange(number, start, end) {\n      start = toFinite(start);\n      if (end === undefined) {\n        end = start;\n        start = 0;\n      } else {\n        end = toFinite(end);\n      }\n      number = toNumber(number);\n      return baseInRange(number, start, end);\n    }\n\n    /**\n     * Produces a random number between the inclusive `lower` and `upper` bounds.\n     * If only one argument is provided a number between `0` and the given number\n     * is returned. If `floating` is `true`, or either `lower` or `upper` are\n     * floats, a floating-point number is returned instead of an integer.\n     *\n     * **Note:** JavaScript follows the IEEE-754 standard for resolving\n     * floating-point values which can produce unexpected results.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.7.0\n     * @category Number\n     * @param {number} [lower=0] The lower bound.\n     * @param {number} [upper=1] The upper bound.\n     * @param {boolean} [floating] Specify returning a floating-point number.\n     * @returns {number} Returns the random number.\n     * @example\n     *\n     * _.random(0, 5);\n     * // => an integer between 0 and 5\n     *\n     * _.random(5);\n     * // => also an integer between 0 and 5\n     *\n     * _.random(5, true);\n     * // => a floating-point number between 0 and 5\n     *\n     * _.random(1.2, 5.2);\n     * // => a floating-point number between 1.2 and 5.2\n     */\n    function random(lower, upper, floating) {\n      if (floating && typeof floating != 'boolean' && isIterateeCall(lower, upper, floating)) {\n        upper = floating = undefined;\n      }\n      if (floating === undefined) {\n        if (typeof upper == 'boolean') {\n          floating = upper;\n          upper = undefined;\n        }\n        else if (typeof lower == 'boolean') {\n          floating = lower;\n          lower = undefined;\n        }\n      }\n      if (lower === undefined && upper === undefined) {\n        lower = 0;\n        upper = 1;\n      }\n      else {\n        lower = toFinite(lower);\n        if (upper === undefined) {\n          upper = lower;\n          lower = 0;\n        } else {\n          upper = toFinite(upper);\n        }\n      }\n      if (lower > upper) {\n        var temp = lower;\n        lower = upper;\n        upper = temp;\n      }\n      if (floating || lower % 1 || upper % 1) {\n        var rand = nativeRandom();\n        return nativeMin(lower + (rand * (upper - lower + freeParseFloat('1e-' + ((rand + '').length - 1)))), upper);\n      }\n      return baseRandom(lower, upper);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Converts `string` to [camel case](https://en.wikipedia.org/wiki/CamelCase).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the camel cased string.\n     * @example\n     *\n     * _.camelCase('Foo Bar');\n     * // => 'fooBar'\n     *\n     * _.camelCase('--foo-bar--');\n     * // => 'fooBar'\n     *\n     * _.camelCase('__FOO_BAR__');\n     * // => 'fooBar'\n     */\n    var camelCase = createCompounder(function(result, word, index) {\n      word = word.toLowerCase();\n      return result + (index ? capitalize(word) : word);\n    });\n\n    /**\n     * Converts the first character of `string` to upper case and the remaining\n     * to lower case.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to capitalize.\n     * @returns {string} Returns the capitalized string.\n     * @example\n     *\n     * _.capitalize('FRED');\n     * // => 'Fred'\n     */\n    function capitalize(string) {\n      return upperFirst(toString(string).toLowerCase());\n    }\n\n    /**\n     * Deburrs `string` by converting\n     * [Latin-1 Supplement](https://en.wikipedia.org/wiki/Latin-1_Supplement_(Unicode_block)#Character_table)\n     * and [Latin Extended-A](https://en.wikipedia.org/wiki/Latin_Extended-A)\n     * letters to basic Latin letters and removing\n     * [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to deburr.\n     * @returns {string} Returns the deburred string.\n     * @example\n     *\n     * _.deburr('dj vu');\n     * // => 'deja vu'\n     */\n    function deburr(string) {\n      string = toString(string);\n      return string && string.replace(reLatin, deburrLetter).replace(reComboMark, '');\n    }\n\n    /**\n     * Checks if `string` ends with the given target string.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to inspect.\n     * @param {string} [target] The string to search for.\n     * @param {number} [position=string.length] The position to search up to.\n     * @returns {boolean} Returns `true` if `string` ends with `target`,\n     *  else `false`.\n     * @example\n     *\n     * _.endsWith('abc', 'c');\n     * // => true\n     *\n     * _.endsWith('abc', 'b');\n     * // => false\n     *\n     * _.endsWith('abc', 'b', 2);\n     * // => true\n     */\n    function endsWith(string, target, position) {\n      string = toString(string);\n      target = baseToString(target);\n\n      var length = string.length;\n      position = position === undefined\n        ? length\n        : baseClamp(toInteger(position), 0, length);\n\n      var end = position;\n      position -= target.length;\n      return position >= 0 && string.slice(position, end) == target;\n    }\n\n    /**\n     * Converts the characters \"&\", \"<\", \">\", '\"', and \"'\" in `string` to their\n     * corresponding HTML entities.\n     *\n     * **Note:** No other characters are escaped. To escape additional\n     * characters use a third-party library like [_he_](https://mths.be/he).\n     *\n     * Though the \">\" character is escaped for symmetry, characters like\n     * \">\" and \"/\" don't need escaping in HTML and have no special meaning\n     * unless they're part of a tag or unquoted attribute value. See\n     * [Mathias Bynens's article](https://mathiasbynens.be/notes/ambiguous-ampersands)\n     * (under \"semi-related fun fact\") for more details.\n     *\n     * When working with HTML you should always\n     * [quote attribute values](http://wonko.com/post/html-escaping) to reduce\n     * XSS vectors.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to escape.\n     * @returns {string} Returns the escaped string.\n     * @example\n     *\n     * _.escape('fred, barney, & pebbles');\n     * // => 'fred, barney, &amp; pebbles'\n     */\n    function escape(string) {\n      string = toString(string);\n      return (string && reHasUnescapedHtml.test(string))\n        ? string.replace(reUnescapedHtml, escapeHtmlChar)\n        : string;\n    }\n\n    /**\n     * Escapes the `RegExp` special characters \"^\", \"$\", \"\\\", \".\", \"*\", \"+\",\n     * \"?\", \"(\", \")\", \"[\", \"]\", \"{\", \"}\", and \"|\" in `string`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to escape.\n     * @returns {string} Returns the escaped string.\n     * @example\n     *\n     * _.escapeRegExp('[lodash](https://lodash.com/)');\n     * // => '\\[lodash\\]\\(https://lodash\\.com/\\)'\n     */\n    function escapeRegExp(string) {\n      string = toString(string);\n      return (string && reHasRegExpChar.test(string))\n        ? string.replace(reRegExpChar, '\\\\$&')\n        : string;\n    }\n\n    /**\n     * Converts `string` to\n     * [kebab case](https://en.wikipedia.org/wiki/Letter_case#Special_case_styles).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the kebab cased string.\n     * @example\n     *\n     * _.kebabCase('Foo Bar');\n     * // => 'foo-bar'\n     *\n     * _.kebabCase('fooBar');\n     * // => 'foo-bar'\n     *\n     * _.kebabCase('__FOO_BAR__');\n     * // => 'foo-bar'\n     */\n    var kebabCase = createCompounder(function(result, word, index) {\n      return result + (index ? '-' : '') + word.toLowerCase();\n    });\n\n    /**\n     * Converts `string`, as space separated words, to lower case.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the lower cased string.\n     * @example\n     *\n     * _.lowerCase('--Foo-Bar--');\n     * // => 'foo bar'\n     *\n     * _.lowerCase('fooBar');\n     * // => 'foo bar'\n     *\n     * _.lowerCase('__FOO_BAR__');\n     * // => 'foo bar'\n     */\n    var lowerCase = createCompounder(function(result, word, index) {\n      return result + (index ? ' ' : '') + word.toLowerCase();\n    });\n\n    /**\n     * Converts the first character of `string` to lower case.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the converted string.\n     * @example\n     *\n     * _.lowerFirst('Fred');\n     * // => 'fred'\n     *\n     * _.lowerFirst('FRED');\n     * // => 'fRED'\n     */\n    var lowerFirst = createCaseFirst('toLowerCase');\n\n    /**\n     * Pads `string` on the left and right sides if it's shorter than `length`.\n     * Padding characters are truncated if they can't be evenly divided by `length`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.pad('abc', 8);\n     * // => '  abc   '\n     *\n     * _.pad('abc', 8, '_-');\n     * // => '_-abc_-_'\n     *\n     * _.pad('abc', 3);\n     * // => 'abc'\n     */\n    function pad(string, length, chars) {\n      string = toString(string);\n      length = toInteger(length);\n\n      var strLength = length ? stringSize(string) : 0;\n      if (!length || strLength >= length) {\n        return string;\n      }\n      var mid = (length - strLength) / 2;\n      return (\n        createPadding(nativeFloor(mid), chars) +\n        string +\n        createPadding(nativeCeil(mid), chars)\n      );\n    }\n\n    /**\n     * Pads `string` on the right side if it's shorter than `length`. Padding\n     * characters are truncated if they exceed `length`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.padEnd('abc', 6);\n     * // => 'abc   '\n     *\n     * _.padEnd('abc', 6, '_-');\n     * // => 'abc_-_'\n     *\n     * _.padEnd('abc', 3);\n     * // => 'abc'\n     */\n    function padEnd(string, length, chars) {\n      string = toString(string);\n      length = toInteger(length);\n\n      var strLength = length ? stringSize(string) : 0;\n      return (length && strLength < length)\n        ? (string + createPadding(length - strLength, chars))\n        : string;\n    }\n\n    /**\n     * Pads `string` on the left side if it's shorter than `length`. Padding\n     * characters are truncated if they exceed `length`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.padStart('abc', 6);\n     * // => '   abc'\n     *\n     * _.padStart('abc', 6, '_-');\n     * // => '_-_abc'\n     *\n     * _.padStart('abc', 3);\n     * // => 'abc'\n     */\n    function padStart(string, length, chars) {\n      string = toString(string);\n      length = toInteger(length);\n\n      var strLength = length ? stringSize(string) : 0;\n      return (length && strLength < length)\n        ? (createPadding(length - strLength, chars) + string)\n        : string;\n    }\n\n    /**\n     * Converts `string` to an integer of the specified radix. If `radix` is\n     * `undefined` or `0`, a `radix` of `10` is used unless `value` is a\n     * hexadecimal, in which case a `radix` of `16` is used.\n     *\n     * **Note:** This method aligns with the\n     * [ES5 implementation](https://es5.github.io/#x15.1.2.2) of `parseInt`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.1.0\n     * @category String\n     * @param {string} string The string to convert.\n     * @param {number} [radix=10] The radix to interpret `value` by.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.parseInt('08');\n     * // => 8\n     *\n     * _.map(['6', '08', '10'], _.parseInt);\n     * // => [6, 8, 10]\n     */\n    function parseInt(string, radix, guard) {\n      if (guard || radix == null) {\n        radix = 0;\n      } else if (radix) {\n        radix = +radix;\n      }\n      return nativeParseInt(toString(string).replace(reTrimStart, ''), radix || 0);\n    }\n\n    /**\n     * Repeats the given string `n` times.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to repeat.\n     * @param {number} [n=1] The number of times to repeat the string.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {string} Returns the repeated string.\n     * @example\n     *\n     * _.repeat('*', 3);\n     * // => '***'\n     *\n     * _.repeat('abc', 2);\n     * // => 'abcabc'\n     *\n     * _.repeat('abc', 0);\n     * // => ''\n     */\n    function repeat(string, n, guard) {\n      if ((guard ? isIterateeCall(string, n, guard) : n === undefined)) {\n        n = 1;\n      } else {\n        n = toInteger(n);\n      }\n      return baseRepeat(toString(string), n);\n    }\n\n    /**\n     * Replaces matches for `pattern` in `string` with `replacement`.\n     *\n     * **Note:** This method is based on\n     * [`String#replace`](https://mdn.io/String/replace).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to modify.\n     * @param {RegExp|string} pattern The pattern to replace.\n     * @param {Function|string} replacement The match replacement.\n     * @returns {string} Returns the modified string.\n     * @example\n     *\n     * _.replace('Hi Fred', 'Fred', 'Barney');\n     * // => 'Hi Barney'\n     */\n    function replace() {\n      var args = arguments,\n          string = toString(args[0]);\n\n      return args.length < 3 ? string : string.replace(args[1], args[2]);\n    }\n\n    /**\n     * Converts `string` to\n     * [snake case](https://en.wikipedia.org/wiki/Snake_case).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the snake cased string.\n     * @example\n     *\n     * _.snakeCase('Foo Bar');\n     * // => 'foo_bar'\n     *\n     * _.snakeCase('fooBar');\n     * // => 'foo_bar'\n     *\n     * _.snakeCase('--FOO-BAR--');\n     * // => 'foo_bar'\n     */\n    var snakeCase = createCompounder(function(result, word, index) {\n      return result + (index ? '_' : '') + word.toLowerCase();\n    });\n\n    /**\n     * Splits `string` by `separator`.\n     *\n     * **Note:** This method is based on\n     * [`String#split`](https://mdn.io/String/split).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to split.\n     * @param {RegExp|string} separator The separator pattern to split by.\n     * @param {number} [limit] The length to truncate results to.\n     * @returns {Array} Returns the string segments.\n     * @example\n     *\n     * _.split('a-b-c', '-', 2);\n     * // => ['a', 'b']\n     */\n    function split(string, separator, limit) {\n      if (limit && typeof limit != 'number' && isIterateeCall(string, separator, limit)) {\n        separator = limit = undefined;\n      }\n      limit = limit === undefined ? MAX_ARRAY_LENGTH : limit >>> 0;\n      if (!limit) {\n        return [];\n      }\n      string = toString(string);\n      if (string && (\n            typeof separator == 'string' ||\n            (separator != null && !isRegExp(separator))\n          )) {\n        separator = baseToString(separator);\n        if (!separator && hasUnicode(string)) {\n          return castSlice(stringToArray(string), 0, limit);\n        }\n      }\n      return string.split(separator, limit);\n    }\n\n    /**\n     * Converts `string` to\n     * [start case](https://en.wikipedia.org/wiki/Letter_case#Stylistic_or_specialised_usage).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.1.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the start cased string.\n     * @example\n     *\n     * _.startCase('--foo-bar--');\n     * // => 'Foo Bar'\n     *\n     * _.startCase('fooBar');\n     * // => 'Foo Bar'\n     *\n     * _.startCase('__FOO_BAR__');\n     * // => 'FOO BAR'\n     */\n    var startCase = createCompounder(function(result, word, index) {\n      return result + (index ? ' ' : '') + upperFirst(word);\n    });\n\n    /**\n     * Checks if `string` starts with the given target string.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to inspect.\n     * @param {string} [target] The string to search for.\n     * @param {number} [position=0] The position to search from.\n     * @returns {boolean} Returns `true` if `string` starts with `target`,\n     *  else `false`.\n     * @example\n     *\n     * _.startsWith('abc', 'a');\n     * // => true\n     *\n     * _.startsWith('abc', 'b');\n     * // => false\n     *\n     * _.startsWith('abc', 'b', 1);\n     * // => true\n     */\n    function startsWith(string, target, position) {\n      string = toString(string);\n      position = position == null\n        ? 0\n        : baseClamp(toInteger(position), 0, string.length);\n\n      target = baseToString(target);\n      return string.slice(position, position + target.length) == target;\n    }\n\n    /**\n     * Creates a compiled template function that can interpolate data properties\n     * in \"interpolate\" delimiters, HTML-escape interpolated data properties in\n     * \"escape\" delimiters, and execute JavaScript in \"evaluate\" delimiters. Data\n     * properties may be accessed as free variables in the template. If a setting\n     * object is given, it takes precedence over `_.templateSettings` values.\n     *\n     * **Note:** In the development build `_.template` utilizes\n     * [sourceURLs](http://www.html5rocks.com/en/tutorials/developertools/sourcemaps/#toc-sourceurl)\n     * for easier debugging.\n     *\n     * For more information on precompiling templates see\n     * [lodash's custom builds documentation](https://lodash.com/custom-builds).\n     *\n     * For more information on Chrome extension sandboxes see\n     * [Chrome's extensions documentation](https://developer.chrome.com/extensions/sandboxingEval).\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The template string.\n     * @param {Object} [options={}] The options object.\n     * @param {RegExp} [options.escape=_.templateSettings.escape]\n     *  The HTML \"escape\" delimiter.\n     * @param {RegExp} [options.evaluate=_.templateSettings.evaluate]\n     *  The \"evaluate\" delimiter.\n     * @param {Object} [options.imports=_.templateSettings.imports]\n     *  An object to import into the template as free variables.\n     * @param {RegExp} [options.interpolate=_.templateSettings.interpolate]\n     *  The \"interpolate\" delimiter.\n     * @param {string} [options.sourceURL='lodash.templateSources[n]']\n     *  The sourceURL of the compiled template.\n     * @param {string} [options.variable='obj']\n     *  The data object variable name.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Function} Returns the compiled template function.\n     * @example\n     *\n     * // Use the \"interpolate\" delimiter to create a compiled template.\n     * var compiled = _.template('hello <%= user %>!');\n     * compiled({ 'user': 'fred' });\n     * // => 'hello fred!'\n     *\n     * // Use the HTML \"escape\" delimiter to escape data property values.\n     * var compiled = _.template('<b><%- value %></b>');\n     * compiled({ 'value': '<script>' });\n     * // => '<b>&lt;script&gt;</b>'\n     *\n     * // Use the \"evaluate\" delimiter to execute JavaScript and generate HTML.\n     * var compiled = _.template('<% _.forEach(users, function(user) { %><li><%- user %></li><% }); %>');\n     * compiled({ 'users': ['fred', 'barney'] });\n     * // => '<li>fred</li><li>barney</li>'\n     *\n     * // Use the internal `print` function in \"evaluate\" delimiters.\n     * var compiled = _.template('<% print(\"hello \" + user); %>!');\n     * compiled({ 'user': 'barney' });\n     * // => 'hello barney!'\n     *\n     * // Use the ES template literal delimiter as an \"interpolate\" delimiter.\n     * // Disable support by replacing the \"interpolate\" delimiter.\n     * var compiled = _.template('hello ${ user }!');\n     * compiled({ 'user': 'pebbles' });\n     * // => 'hello pebbles!'\n     *\n     * // Use backslashes to treat delimiters as plain text.\n     * var compiled = _.template('<%= \"\\\\<%- value %\\\\>\" %>');\n     * compiled({ 'value': 'ignored' });\n     * // => '<%- value %>'\n     *\n     * // Use the `imports` option to import `jQuery` as `jq`.\n     * var text = '<% jq.each(users, function(user) { %><li><%- user %></li><% }); %>';\n     * var compiled = _.template(text, { 'imports': { 'jq': jQuery } });\n     * compiled({ 'users': ['fred', 'barney'] });\n     * // => '<li>fred</li><li>barney</li>'\n     *\n     * // Use the `sourceURL` option to specify a custom sourceURL for the template.\n     * var compiled = _.template('hello <%= user %>!', { 'sourceURL': '/basic/greeting.jst' });\n     * compiled(data);\n     * // => Find the source of \"greeting.jst\" under the Sources tab or Resources panel of the web inspector.\n     *\n     * // Use the `variable` option to ensure a with-statement isn't used in the compiled template.\n     * var compiled = _.template('hi <%= data.user %>!', { 'variable': 'data' });\n     * compiled.source;\n     * // => function(data) {\n     * //   var __t, __p = '';\n     * //   __p += 'hi ' + ((__t = ( data.user )) == null ? '' : __t) + '!';\n     * //   return __p;\n     * // }\n     *\n     * // Use custom template delimiters.\n     * _.templateSettings.interpolate = /{{([\\s\\S]+?)}}/g;\n     * var compiled = _.template('hello {{ user }}!');\n     * compiled({ 'user': 'mustache' });\n     * // => 'hello mustache!'\n     *\n     * // Use the `source` property to inline compiled templates for meaningful\n     * // line numbers in error messages and stack traces.\n     * fs.writeFileSync(path.join(process.cwd(), 'jst.js'), '\\\n     *   var JST = {\\\n     *     \"main\": ' + _.template(mainText).source + '\\\n     *   };\\\n     * ');\n     */\n    function template(string, options, guard) {\n      // Based on John Resig's `tmpl` implementation\n      // (http://ejohn.org/blog/javascript-micro-templating/)\n      // and Laura Doktorova's doT.js (https://github.com/olado/doT).\n      var settings = lodash.templateSettings;\n\n      if (guard && isIterateeCall(string, options, guard)) {\n        options = undefined;\n      }\n      string = toString(string);\n      options = assignInWith({}, options, settings, customDefaultsAssignIn);\n\n      var imports = assignInWith({}, options.imports, settings.imports, customDefaultsAssignIn),\n          importsKeys = keys(imports),\n          importsValues = baseValues(imports, importsKeys);\n\n      var isEscaping,\n          isEvaluating,\n          index = 0,\n          interpolate = options.interpolate || reNoMatch,\n          source = \"__p += '\";\n\n      // Compile the regexp to match each delimiter.\n      var reDelimiters = RegExp(\n        (options.escape || reNoMatch).source + '|' +\n        interpolate.source + '|' +\n        (interpolate === reInterpolate ? reEsTemplate : reNoMatch).source + '|' +\n        (options.evaluate || reNoMatch).source + '|$'\n      , 'g');\n\n      // Use a sourceURL for easier debugging.\n      // The sourceURL gets injected into the source that's eval-ed, so be careful\n      // to normalize all kinds of whitespace, so e.g. newlines (and unicode versions of it) can't sneak in\n      // and escape the comment, thus injecting code that gets evaled.\n      var sourceURL = '//# sourceURL=' +\n        (hasOwnProperty.call(options, 'sourceURL')\n          ? (options.sourceURL + '').replace(/\\s/g, ' ')\n          : ('lodash.templateSources[' + (++templateCounter) + ']')\n        ) + '\\n';\n\n      string.replace(reDelimiters, function(match, escapeValue, interpolateValue, esTemplateValue, evaluateValue, offset) {\n        interpolateValue || (interpolateValue = esTemplateValue);\n\n        // Escape characters that can't be included in string literals.\n        source += string.slice(index, offset).replace(reUnescapedString, escapeStringChar);\n\n        // Replace delimiters with snippets.\n        if (escapeValue) {\n          isEscaping = true;\n          source += \"' +\\n__e(\" + escapeValue + \") +\\n'\";\n        }\n        if (evaluateValue) {\n          isEvaluating = true;\n          source += \"';\\n\" + evaluateValue + \";\\n__p += '\";\n        }\n        if (interpolateValue) {\n          source += \"' +\\n((__t = (\" + interpolateValue + \")) == null ? '' : __t) +\\n'\";\n        }\n        index = offset + match.length;\n\n        // The JS engine embedded in Adobe products needs `match` returned in\n        // order to produce the correct `offset` value.\n        return match;\n      });\n\n      source += \"';\\n\";\n\n      // If `variable` is not specified wrap a with-statement around the generated\n      // code to add the data object to the top of the scope chain.\n      var variable = hasOwnProperty.call(options, 'variable') && options.variable;\n      if (!variable) {\n        source = 'with (obj) {\\n' + source + '\\n}\\n';\n      }\n      // Throw an error if a forbidden character was found in `variable`, to prevent\n      // potential command injection attacks.\n      else if (reForbiddenIdentifierChars.test(variable)) {\n        throw new Error(INVALID_TEMPL_VAR_ERROR_TEXT);\n      }\n\n      // Cleanup code by stripping empty strings.\n      source = (isEvaluating ? source.replace(reEmptyStringLeading, '') : source)\n        .replace(reEmptyStringMiddle, '$1')\n        .replace(reEmptyStringTrailing, '$1;');\n\n      // Frame code as the function body.\n      source = 'function(' + (variable || 'obj') + ') {\\n' +\n        (variable\n          ? ''\n          : 'obj || (obj = {});\\n'\n        ) +\n        \"var __t, __p = ''\" +\n        (isEscaping\n           ? ', __e = _.escape'\n           : ''\n        ) +\n        (isEvaluating\n          ? ', __j = Array.prototype.join;\\n' +\n            \"function print() { __p += __j.call(arguments, '') }\\n\"\n          : ';\\n'\n        ) +\n        source +\n        'return __p\\n}';\n\n      var result = attempt(function() {\n        return Function(importsKeys, sourceURL + 'return ' + source)\n          .apply(undefined, importsValues);\n      });\n\n      // Provide the compiled function's source by its `toString` method or\n      // the `source` property as a convenience for inlining compiled templates.\n      result.source = source;\n      if (isError(result)) {\n        throw result;\n      }\n      return result;\n    }\n\n    /**\n     * Converts `string`, as a whole, to lower case just like\n     * [String#toLowerCase](https://mdn.io/toLowerCase).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the lower cased string.\n     * @example\n     *\n     * _.toLower('--Foo-Bar--');\n     * // => '--foo-bar--'\n     *\n     * _.toLower('fooBar');\n     * // => 'foobar'\n     *\n     * _.toLower('__FOO_BAR__');\n     * // => '__foo_bar__'\n     */\n    function toLower(value) {\n      return toString(value).toLowerCase();\n    }\n\n    /**\n     * Converts `string`, as a whole, to upper case just like\n     * [String#toUpperCase](https://mdn.io/toUpperCase).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the upper cased string.\n     * @example\n     *\n     * _.toUpper('--foo-bar--');\n     * // => '--FOO-BAR--'\n     *\n     * _.toUpper('fooBar');\n     * // => 'FOOBAR'\n     *\n     * _.toUpper('__foo_bar__');\n     * // => '__FOO_BAR__'\n     */\n    function toUpper(value) {\n      return toString(value).toUpperCase();\n    }\n\n    /**\n     * Removes leading and trailing whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trim('  abc  ');\n     * // => 'abc'\n     *\n     * _.trim('-_-abc-_-', '_-');\n     * // => 'abc'\n     *\n     * _.map(['  foo  ', '  bar  '], _.trim);\n     * // => ['foo', 'bar']\n     */\n    function trim(string, chars, guard) {\n      string = toString(string);\n      if (string && (guard || chars === undefined)) {\n        return baseTrim(string);\n      }\n      if (!string || !(chars = baseToString(chars))) {\n        return string;\n      }\n      var strSymbols = stringToArray(string),\n          chrSymbols = stringToArray(chars),\n          start = charsStartIndex(strSymbols, chrSymbols),\n          end = charsEndIndex(strSymbols, chrSymbols) + 1;\n\n      return castSlice(strSymbols, start, end).join('');\n    }\n\n    /**\n     * Removes trailing whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trimEnd('  abc  ');\n     * // => '  abc'\n     *\n     * _.trimEnd('-_-abc-_-', '_-');\n     * // => '-_-abc'\n     */\n    function trimEnd(string, chars, guard) {\n      string = toString(string);\n      if (string && (guard || chars === undefined)) {\n        return string.slice(0, trimmedEndIndex(string) + 1);\n      }\n      if (!string || !(chars = baseToString(chars))) {\n        return string;\n      }\n      var strSymbols = stringToArray(string),\n          end = charsEndIndex(strSymbols, stringToArray(chars)) + 1;\n\n      return castSlice(strSymbols, 0, end).join('');\n    }\n\n    /**\n     * Removes leading whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trimStart('  abc  ');\n     * // => 'abc  '\n     *\n     * _.trimStart('-_-abc-_-', '_-');\n     * // => 'abc-_-'\n     */\n    function trimStart(string, chars, guard) {\n      string = toString(string);\n      if (string && (guard || chars === undefined)) {\n        return string.replace(reTrimStart, '');\n      }\n      if (!string || !(chars = baseToString(chars))) {\n        return string;\n      }\n      var strSymbols = stringToArray(string),\n          start = charsStartIndex(strSymbols, stringToArray(chars));\n\n      return castSlice(strSymbols, start).join('');\n    }\n\n    /**\n     * Truncates `string` if it's longer than the given maximum string length.\n     * The last characters of the truncated string are replaced with the omission\n     * string which defaults to \"...\".\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to truncate.\n     * @param {Object} [options={}] The options object.\n     * @param {number} [options.length=30] The maximum string length.\n     * @param {string} [options.omission='...'] The string to indicate text is omitted.\n     * @param {RegExp|string} [options.separator] The separator pattern to truncate to.\n     * @returns {string} Returns the truncated string.\n     * @example\n     *\n     * _.truncate('hi-diddly-ho there, neighborino');\n     * // => 'hi-diddly-ho there, neighbo...'\n     *\n     * _.truncate('hi-diddly-ho there, neighborino', {\n     *   'length': 24,\n     *   'separator': ' '\n     * });\n     * // => 'hi-diddly-ho there,...'\n     *\n     * _.truncate('hi-diddly-ho there, neighborino', {\n     *   'length': 24,\n     *   'separator': /,? +/\n     * });\n     * // => 'hi-diddly-ho there...'\n     *\n     * _.truncate('hi-diddly-ho there, neighborino', {\n     *   'omission': ' [...]'\n     * });\n     * // => 'hi-diddly-ho there, neig [...]'\n     */\n    function truncate(string, options) {\n      var length = DEFAULT_TRUNC_LENGTH,\n          omission = DEFAULT_TRUNC_OMISSION;\n\n      if (isObject(options)) {\n        var separator = 'separator' in options ? options.separator : separator;\n        length = 'length' in options ? toInteger(options.length) : length;\n        omission = 'omission' in options ? baseToString(options.omission) : omission;\n      }\n      string = toString(string);\n\n      var strLength = string.length;\n      if (hasUnicode(string)) {\n        var strSymbols = stringToArray(string);\n        strLength = strSymbols.length;\n      }\n      if (length >= strLength) {\n        return string;\n      }\n      var end = length - stringSize(omission);\n      if (end < 1) {\n        return omission;\n      }\n      var result = strSymbols\n        ? castSlice(strSymbols, 0, end).join('')\n        : string.slice(0, end);\n\n      if (separator === undefined) {\n        return result + omission;\n      }\n      if (strSymbols) {\n        end += (result.length - end);\n      }\n      if (isRegExp(separator)) {\n        if (string.slice(end).search(separator)) {\n          var match,\n              substring = result;\n\n          if (!separator.global) {\n            separator = RegExp(separator.source, toString(reFlags.exec(separator)) + 'g');\n          }\n          separator.lastIndex = 0;\n          while ((match = separator.exec(substring))) {\n            var newEnd = match.index;\n          }\n          result = result.slice(0, newEnd === undefined ? end : newEnd);\n        }\n      } else if (string.indexOf(baseToString(separator), end) != end) {\n        var index = result.lastIndexOf(separator);\n        if (index > -1) {\n          result = result.slice(0, index);\n        }\n      }\n      return result + omission;\n    }\n\n    /**\n     * The inverse of `_.escape`; this method converts the HTML entities\n     * `&amp;`, `&lt;`, `&gt;`, `&quot;`, and `&#39;` in `string` to\n     * their corresponding characters.\n     *\n     * **Note:** No other HTML entities are unescaped. To unescape additional\n     * HTML entities use a third-party library like [_he_](https://mths.be/he).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.6.0\n     * @category String\n     * @param {string} [string=''] The string to unescape.\n     * @returns {string} Returns the unescaped string.\n     * @example\n     *\n     * _.unescape('fred, barney, &amp; pebbles');\n     * // => 'fred, barney, & pebbles'\n     */\n    function unescape(string) {\n      string = toString(string);\n      return (string && reHasEscapedHtml.test(string))\n        ? string.replace(reEscapedHtml, unescapeHtmlChar)\n        : string;\n    }\n\n    /**\n     * Converts `string`, as space separated words, to upper case.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the upper cased string.\n     * @example\n     *\n     * _.upperCase('--foo-bar');\n     * // => 'FOO BAR'\n     *\n     * _.upperCase('fooBar');\n     * // => 'FOO BAR'\n     *\n     * _.upperCase('__foo_bar__');\n     * // => 'FOO BAR'\n     */\n    var upperCase = createCompounder(function(result, word, index) {\n      return result + (index ? ' ' : '') + word.toUpperCase();\n    });\n\n    /**\n     * Converts the first character of `string` to upper case.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the converted string.\n     * @example\n     *\n     * _.upperFirst('fred');\n     * // => 'Fred'\n     *\n     * _.upperFirst('FRED');\n     * // => 'FRED'\n     */\n    var upperFirst = createCaseFirst('toUpperCase');\n\n    /**\n     * Splits `string` into an array of its words.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to inspect.\n     * @param {RegExp|string} [pattern] The pattern to match words.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the words of `string`.\n     * @example\n     *\n     * _.words('fred, barney, & pebbles');\n     * // => ['fred', 'barney', 'pebbles']\n     *\n     * _.words('fred, barney, & pebbles', /[^, ]+/g);\n     * // => ['fred', 'barney', '&', 'pebbles']\n     */\n    function words(string, pattern, guard) {\n      string = toString(string);\n      pattern = guard ? undefined : pattern;\n\n      if (pattern === undefined) {\n        return hasUnicodeWord(string) ? unicodeWords(string) : asciiWords(string);\n      }\n      return string.match(pattern) || [];\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Attempts to invoke `func`, returning either the result or the caught error\n     * object. Any additional arguments are provided to `func` when it's invoked.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Util\n     * @param {Function} func The function to attempt.\n     * @param {...*} [args] The arguments to invoke `func` with.\n     * @returns {*} Returns the `func` result or error object.\n     * @example\n     *\n     * // Avoid throwing errors for invalid selectors.\n     * var elements = _.attempt(function(selector) {\n     *   return document.querySelectorAll(selector);\n     * }, '>_>');\n     *\n     * if (_.isError(elements)) {\n     *   elements = [];\n     * }\n     */\n    var attempt = baseRest(function(func, args) {\n      try {\n        return apply(func, undefined, args);\n      } catch (e) {\n        return isError(e) ? e : new Error(e);\n      }\n    });\n\n    /**\n     * Binds methods of an object to the object itself, overwriting the existing\n     * method.\n     *\n     * **Note:** This method doesn't set the \"length\" property of bound functions.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {Object} object The object to bind and assign the bound methods to.\n     * @param {...(string|string[])} methodNames The object method names to bind.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var view = {\n     *   'label': 'docs',\n     *   'click': function() {\n     *     console.log('clicked ' + this.label);\n     *   }\n     * };\n     *\n     * _.bindAll(view, ['click']);\n     * jQuery(element).on('click', view.click);\n     * // => Logs 'clicked docs' when clicked.\n     */\n    var bindAll = flatRest(function(object, methodNames) {\n      arrayEach(methodNames, function(key) {\n        key = toKey(key);\n        baseAssignValue(object, key, bind(object[key], object));\n      });\n      return object;\n    });\n\n    /**\n     * Creates a function that iterates over `pairs` and invokes the corresponding\n     * function of the first predicate to return truthy. The predicate-function\n     * pairs are invoked with the `this` binding and arguments of the created\n     * function.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {Array} pairs The predicate-function pairs.\n     * @returns {Function} Returns the new composite function.\n     * @example\n     *\n     * var func = _.cond([\n     *   [_.matches({ 'a': 1 }),           _.constant('matches A')],\n     *   [_.conforms({ 'b': _.isNumber }), _.constant('matches B')],\n     *   [_.stubTrue,                      _.constant('no match')]\n     * ]);\n     *\n     * func({ 'a': 1, 'b': 2 });\n     * // => 'matches A'\n     *\n     * func({ 'a': 0, 'b': 1 });\n     * // => 'matches B'\n     *\n     * func({ 'a': '1', 'b': '2' });\n     * // => 'no match'\n     */\n    function cond(pairs) {\n      var length = pairs == null ? 0 : pairs.length,\n          toIteratee = getIteratee();\n\n      pairs = !length ? [] : arrayMap(pairs, function(pair) {\n        if (typeof pair[1] != 'function') {\n          throw new TypeError(FUNC_ERROR_TEXT);\n        }\n        return [toIteratee(pair[0]), pair[1]];\n      });\n\n      return baseRest(function(args) {\n        var index = -1;\n        while (++index < length) {\n          var pair = pairs[index];\n          if (apply(pair[0], this, args)) {\n            return apply(pair[1], this, args);\n          }\n        }\n      });\n    }\n\n    /**\n     * Creates a function that invokes the predicate properties of `source` with\n     * the corresponding property values of a given object, returning `true` if\n     * all predicates return truthy, else `false`.\n     *\n     * **Note:** The created function is equivalent to `_.conformsTo` with\n     * `source` partially applied.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {Function} Returns the new spec function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': 2, 'b': 1 },\n     *   { 'a': 1, 'b': 2 }\n     * ];\n     *\n     * _.filter(objects, _.conforms({ 'b': function(n) { return n > 1; } }));\n     * // => [{ 'a': 1, 'b': 2 }]\n     */\n    function conforms(source) {\n      return baseConforms(baseClone(source, CLONE_DEEP_FLAG));\n    }\n\n    /**\n     * Creates a function that returns `value`.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Util\n     * @param {*} value The value to return from the new function.\n     * @returns {Function} Returns the new constant function.\n     * @example\n     *\n     * var objects = _.times(2, _.constant({ 'a': 1 }));\n     *\n     * console.log(objects);\n     * // => [{ 'a': 1 }, { 'a': 1 }]\n     *\n     * console.log(objects[0] === objects[1]);\n     * // => true\n     */\n    function constant(value) {\n      return function() {\n        return value;\n      };\n    }\n\n    /**\n     * Checks `value` to determine whether a default value should be returned in\n     * its place. The `defaultValue` is returned if `value` is `NaN`, `null`,\n     * or `undefined`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.14.0\n     * @category Util\n     * @param {*} value The value to check.\n     * @param {*} defaultValue The default value.\n     * @returns {*} Returns the resolved value.\n     * @example\n     *\n     * _.defaultTo(1, 10);\n     * // => 1\n     *\n     * _.defaultTo(undefined, 10);\n     * // => 10\n     */\n    function defaultTo(value, defaultValue) {\n      return (value == null || value !== value) ? defaultValue : value;\n    }\n\n    /**\n     * Creates a function that returns the result of invoking the given functions\n     * with the `this` binding of the created function, where each successive\n     * invocation is supplied the return value of the previous.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Util\n     * @param {...(Function|Function[])} [funcs] The functions to invoke.\n     * @returns {Function} Returns the new composite function.\n     * @see _.flowRight\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var addSquare = _.flow([_.add, square]);\n     * addSquare(1, 2);\n     * // => 9\n     */\n    var flow = createFlow();\n\n    /**\n     * This method is like `_.flow` except that it creates a function that\n     * invokes the given functions from right to left.\n     *\n     * @static\n     * @since 3.0.0\n     * @memberOf _\n     * @category Util\n     * @param {...(Function|Function[])} [funcs] The functions to invoke.\n     * @returns {Function} Returns the new composite function.\n     * @see _.flow\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var addSquare = _.flowRight([square, _.add]);\n     * addSquare(1, 2);\n     * // => 9\n     */\n    var flowRight = createFlow(true);\n\n    /**\n     * This method returns the first argument it receives.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {*} value Any value.\n     * @returns {*} Returns `value`.\n     * @example\n     *\n     * var object = { 'a': 1 };\n     *\n     * console.log(_.identity(object) === object);\n     * // => true\n     */\n    function identity(value) {\n      return value;\n    }\n\n    /**\n     * Creates a function that invokes `func` with the arguments of the created\n     * function. If `func` is a property name, the created function returns the\n     * property value for a given element. If `func` is an array or object, the\n     * created function returns `true` for elements that contain the equivalent\n     * source properties, otherwise it returns `false`.\n     *\n     * @static\n     * @since 4.0.0\n     * @memberOf _\n     * @category Util\n     * @param {*} [func=_.identity] The value to convert to a callback.\n     * @returns {Function} Returns the callback.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': true },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.filter(users, _.iteratee({ 'user': 'barney', 'active': true }));\n     * // => [{ 'user': 'barney', 'age': 36, 'active': true }]\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.filter(users, _.iteratee(['user', 'fred']));\n     * // => [{ 'user': 'fred', 'age': 40 }]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.map(users, _.iteratee('user'));\n     * // => ['barney', 'fred']\n     *\n     * // Create custom iteratee shorthands.\n     * _.iteratee = _.wrap(_.iteratee, function(iteratee, func) {\n     *   return !_.isRegExp(func) ? iteratee(func) : function(string) {\n     *     return func.test(string);\n     *   };\n     * });\n     *\n     * _.filter(['abc', 'def'], /ef/);\n     * // => ['def']\n     */\n    function iteratee(func) {\n      return baseIteratee(typeof func == 'function' ? func : baseClone(func, CLONE_DEEP_FLAG));\n    }\n\n    /**\n     * Creates a function that performs a partial deep comparison between a given\n     * object and `source`, returning `true` if the given object has equivalent\n     * property values, else `false`.\n     *\n     * **Note:** The created function is equivalent to `_.isMatch` with `source`\n     * partially applied.\n     *\n     * Partial comparisons will match empty array and empty object `source`\n     * values against any array or object value, respectively. See `_.isEqual`\n     * for a list of supported value comparisons.\n     *\n     * **Note:** Multiple values can be checked by combining several matchers\n     * using `_.overSome`\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Util\n     * @param {Object} source The object of property values to match.\n     * @returns {Function} Returns the new spec function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': 1, 'b': 2, 'c': 3 },\n     *   { 'a': 4, 'b': 5, 'c': 6 }\n     * ];\n     *\n     * _.filter(objects, _.matches({ 'a': 4, 'c': 6 }));\n     * // => [{ 'a': 4, 'b': 5, 'c': 6 }]\n     *\n     * // Checking for several possible values\n     * _.filter(objects, _.overSome([_.matches({ 'a': 1 }), _.matches({ 'a': 4 })]));\n     * // => [{ 'a': 1, 'b': 2, 'c': 3 }, { 'a': 4, 'b': 5, 'c': 6 }]\n     */\n    function matches(source) {\n      return baseMatches(baseClone(source, CLONE_DEEP_FLAG));\n    }\n\n    /**\n     * Creates a function that performs a partial deep comparison between the\n     * value at `path` of a given object to `srcValue`, returning `true` if the\n     * object value is equivalent, else `false`.\n     *\n     * **Note:** Partial comparisons will match empty array and empty object\n     * `srcValue` values against any array or object value, respectively. See\n     * `_.isEqual` for a list of supported value comparisons.\n     *\n     * **Note:** Multiple values can be checked by combining several matchers\n     * using `_.overSome`\n     *\n     * @static\n     * @memberOf _\n     * @since 3.2.0\n     * @category Util\n     * @param {Array|string} path The path of the property to get.\n     * @param {*} srcValue The value to match.\n     * @returns {Function} Returns the new spec function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': 1, 'b': 2, 'c': 3 },\n     *   { 'a': 4, 'b': 5, 'c': 6 }\n     * ];\n     *\n     * _.find(objects, _.matchesProperty('a', 4));\n     * // => { 'a': 4, 'b': 5, 'c': 6 }\n     *\n     * // Checking for several possible values\n     * _.filter(objects, _.overSome([_.matchesProperty('a', 1), _.matchesProperty('a', 4)]));\n     * // => [{ 'a': 1, 'b': 2, 'c': 3 }, { 'a': 4, 'b': 5, 'c': 6 }]\n     */\n    function matchesProperty(path, srcValue) {\n      return baseMatchesProperty(path, baseClone(srcValue, CLONE_DEEP_FLAG));\n    }\n\n    /**\n     * Creates a function that invokes the method at `path` of a given object.\n     * Any additional arguments are provided to the invoked method.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.7.0\n     * @category Util\n     * @param {Array|string} path The path of the method to invoke.\n     * @param {...*} [args] The arguments to invoke the method with.\n     * @returns {Function} Returns the new invoker function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': { 'b': _.constant(2) } },\n     *   { 'a': { 'b': _.constant(1) } }\n     * ];\n     *\n     * _.map(objects, _.method('a.b'));\n     * // => [2, 1]\n     *\n     * _.map(objects, _.method(['a', 'b']));\n     * // => [2, 1]\n     */\n    var method = baseRest(function(path, args) {\n      return function(object) {\n        return baseInvoke(object, path, args);\n      };\n    });\n\n    /**\n     * The opposite of `_.method`; this method creates a function that invokes\n     * the method at a given path of `object`. Any additional arguments are\n     * provided to the invoked method.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.7.0\n     * @category Util\n     * @param {Object} object The object to query.\n     * @param {...*} [args] The arguments to invoke the method with.\n     * @returns {Function} Returns the new invoker function.\n     * @example\n     *\n     * var array = _.times(3, _.constant),\n     *     object = { 'a': array, 'b': array, 'c': array };\n     *\n     * _.map(['a[2]', 'c[0]'], _.methodOf(object));\n     * // => [2, 0]\n     *\n     * _.map([['a', '2'], ['c', '0']], _.methodOf(object));\n     * // => [2, 0]\n     */\n    var methodOf = baseRest(function(object, args) {\n      return function(path) {\n        return baseInvoke(object, path, args);\n      };\n    });\n\n    /**\n     * Adds all own enumerable string keyed function properties of a source\n     * object to the destination object. If `object` is a function, then methods\n     * are added to its prototype as well.\n     *\n     * **Note:** Use `_.runInContext` to create a pristine `lodash` function to\n     * avoid conflicts caused by modifying the original.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {Function|Object} [object=lodash] The destination object.\n     * @param {Object} source The object of functions to add.\n     * @param {Object} [options={}] The options object.\n     * @param {boolean} [options.chain=true] Specify whether mixins are chainable.\n     * @returns {Function|Object} Returns `object`.\n     * @example\n     *\n     * function vowels(string) {\n     *   return _.filter(string, function(v) {\n     *     return /[aeiou]/i.test(v);\n     *   });\n     * }\n     *\n     * _.mixin({ 'vowels': vowels });\n     * _.vowels('fred');\n     * // => ['e']\n     *\n     * _('fred').vowels().value();\n     * // => ['e']\n     *\n     * _.mixin({ 'vowels': vowels }, { 'chain': false });\n     * _('fred').vowels();\n     * // => ['e']\n     */\n    function mixin(object, source, options) {\n      var props = keys(source),\n          methodNames = baseFunctions(source, props);\n\n      if (options == null &&\n          !(isObject(source) && (methodNames.length || !props.length))) {\n        options = source;\n        source = object;\n        object = this;\n        methodNames = baseFunctions(source, keys(source));\n      }\n      var chain = !(isObject(options) && 'chain' in options) || !!options.chain,\n          isFunc = isFunction(object);\n\n      arrayEach(methodNames, function(methodName) {\n        var func = source[methodName];\n        object[methodName] = func;\n        if (isFunc) {\n          object.prototype[methodName] = function() {\n            var chainAll = this.__chain__;\n            if (chain || chainAll) {\n              var result = object(this.__wrapped__),\n                  actions = result.__actions__ = copyArray(this.__actions__);\n\n              actions.push({ 'func': func, 'args': arguments, 'thisArg': object });\n              result.__chain__ = chainAll;\n              return result;\n            }\n            return func.apply(object, arrayPush([this.value()], arguments));\n          };\n        }\n      });\n\n      return object;\n    }\n\n    /**\n     * Reverts the `_` variable to its previous value and returns a reference to\n     * the `lodash` function.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @returns {Function} Returns the `lodash` function.\n     * @example\n     *\n     * var lodash = _.noConflict();\n     */\n    function noConflict() {\n      if (root._ === this) {\n        root._ = oldDash;\n      }\n      return this;\n    }\n\n    /**\n     * This method returns `undefined`.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.3.0\n     * @category Util\n     * @example\n     *\n     * _.times(2, _.noop);\n     * // => [undefined, undefined]\n     */\n    function noop() {\n      // No operation performed.\n    }\n\n    /**\n     * Creates a function that gets the argument at index `n`. If `n` is negative,\n     * the nth argument from the end is returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {number} [n=0] The index of the argument to return.\n     * @returns {Function} Returns the new pass-thru function.\n     * @example\n     *\n     * var func = _.nthArg(1);\n     * func('a', 'b', 'c', 'd');\n     * // => 'b'\n     *\n     * var func = _.nthArg(-2);\n     * func('a', 'b', 'c', 'd');\n     * // => 'c'\n     */\n    function nthArg(n) {\n      n = toInteger(n);\n      return baseRest(function(args) {\n        return baseNth(args, n);\n      });\n    }\n\n    /**\n     * Creates a function that invokes `iteratees` with the arguments it receives\n     * and returns their results.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {...(Function|Function[])} [iteratees=[_.identity]]\n     *  The iteratees to invoke.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var func = _.over([Math.max, Math.min]);\n     *\n     * func(1, 2, 3, 4);\n     * // => [4, 1]\n     */\n    var over = createOver(arrayMap);\n\n    /**\n     * Creates a function that checks if **all** of the `predicates` return\n     * truthy when invoked with the arguments it receives.\n     *\n     * Following shorthands are possible for providing predicates.\n     * Pass an `Object` and it will be used as an parameter for `_.matches` to create the predicate.\n     * Pass an `Array` of parameters for `_.matchesProperty` and the predicate will be created using them.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {...(Function|Function[])} [predicates=[_.identity]]\n     *  The predicates to check.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var func = _.overEvery([Boolean, isFinite]);\n     *\n     * func('1');\n     * // => true\n     *\n     * func(null);\n     * // => false\n     *\n     * func(NaN);\n     * // => false\n     */\n    var overEvery = createOver(arrayEvery);\n\n    /**\n     * Creates a function that checks if **any** of the `predicates` return\n     * truthy when invoked with the arguments it receives.\n     *\n     * Following shorthands are possible for providing predicates.\n     * Pass an `Object` and it will be used as an parameter for `_.matches` to create the predicate.\n     * Pass an `Array` of parameters for `_.matchesProperty` and the predicate will be created using them.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {...(Function|Function[])} [predicates=[_.identity]]\n     *  The predicates to check.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var func = _.overSome([Boolean, isFinite]);\n     *\n     * func('1');\n     * // => true\n     *\n     * func(null);\n     * // => true\n     *\n     * func(NaN);\n     * // => false\n     *\n     * var matchesFunc = _.overSome([{ 'a': 1 }, { 'a': 2 }])\n     * var matchesPropertyFunc = _.overSome([['a', 1], ['a', 2]])\n     */\n    var overSome = createOver(arraySome);\n\n    /**\n     * Creates a function that returns the value at `path` of a given object.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Util\n     * @param {Array|string} path The path of the property to get.\n     * @returns {Function} Returns the new accessor function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': { 'b': 2 } },\n     *   { 'a': { 'b': 1 } }\n     * ];\n     *\n     * _.map(objects, _.property('a.b'));\n     * // => [2, 1]\n     *\n     * _.map(_.sortBy(objects, _.property(['a', 'b'])), 'a.b');\n     * // => [1, 2]\n     */\n    function property(path) {\n      return isKey(path) ? baseProperty(toKey(path)) : basePropertyDeep(path);\n    }\n\n    /**\n     * The opposite of `_.property`; this method creates a function that returns\n     * the value at a given path of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Util\n     * @param {Object} object The object to query.\n     * @returns {Function} Returns the new accessor function.\n     * @example\n     *\n     * var array = [0, 1, 2],\n     *     object = { 'a': array, 'b': array, 'c': array };\n     *\n     * _.map(['a[2]', 'c[0]'], _.propertyOf(object));\n     * // => [2, 0]\n     *\n     * _.map([['a', '2'], ['c', '0']], _.propertyOf(object));\n     * // => [2, 0]\n     */\n    function propertyOf(object) {\n      return function(path) {\n        return object == null ? undefined : baseGet(object, path);\n      };\n    }\n\n    /**\n     * Creates an array of numbers (positive and/or negative) progressing from\n     * `start` up to, but not including, `end`. A step of `-1` is used if a negative\n     * `start` is specified without an `end` or `step`. If `end` is not specified,\n     * it's set to `start` with `start` then set to `0`.\n     *\n     * **Note:** JavaScript follows the IEEE-754 standard for resolving\n     * floating-point values which can produce unexpected results.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {number} [start=0] The start of the range.\n     * @param {number} end The end of the range.\n     * @param {number} [step=1] The value to increment or decrement by.\n     * @returns {Array} Returns the range of numbers.\n     * @see _.inRange, _.rangeRight\n     * @example\n     *\n     * _.range(4);\n     * // => [0, 1, 2, 3]\n     *\n     * _.range(-4);\n     * // => [0, -1, -2, -3]\n     *\n     * _.range(1, 5);\n     * // => [1, 2, 3, 4]\n     *\n     * _.range(0, 20, 5);\n     * // => [0, 5, 10, 15]\n     *\n     * _.range(0, -4, -1);\n     * // => [0, -1, -2, -3]\n     *\n     * _.range(1, 4, 0);\n     * // => [1, 1, 1]\n     *\n     * _.range(0);\n     * // => []\n     */\n    var range = createRange();\n\n    /**\n     * This method is like `_.range` except that it populates values in\n     * descending order.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {number} [start=0] The start of the range.\n     * @param {number} end The end of the range.\n     * @param {number} [step=1] The value to increment or decrement by.\n     * @returns {Array} Returns the range of numbers.\n     * @see _.inRange, _.range\n     * @example\n     *\n     * _.rangeRight(4);\n     * // => [3, 2, 1, 0]\n     *\n     * _.rangeRight(-4);\n     * // => [-3, -2, -1, 0]\n     *\n     * _.rangeRight(1, 5);\n     * // => [4, 3, 2, 1]\n     *\n     * _.rangeRight(0, 20, 5);\n     * // => [15, 10, 5, 0]\n     *\n     * _.rangeRight(0, -4, -1);\n     * // => [-3, -2, -1, 0]\n     *\n     * _.rangeRight(1, 4, 0);\n     * // => [1, 1, 1]\n     *\n     * _.rangeRight(0);\n     * // => []\n     */\n    var rangeRight = createRange(true);\n\n    /**\n     * This method returns a new empty array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {Array} Returns the new empty array.\n     * @example\n     *\n     * var arrays = _.times(2, _.stubArray);\n     *\n     * console.log(arrays);\n     * // => [[], []]\n     *\n     * console.log(arrays[0] === arrays[1]);\n     * // => false\n     */\n    function stubArray() {\n      return [];\n    }\n\n    /**\n     * This method returns `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {boolean} Returns `false`.\n     * @example\n     *\n     * _.times(2, _.stubFalse);\n     * // => [false, false]\n     */\n    function stubFalse() {\n      return false;\n    }\n\n    /**\n     * This method returns a new empty object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {Object} Returns the new empty object.\n     * @example\n     *\n     * var objects = _.times(2, _.stubObject);\n     *\n     * console.log(objects);\n     * // => [{}, {}]\n     *\n     * console.log(objects[0] === objects[1]);\n     * // => false\n     */\n    function stubObject() {\n      return {};\n    }\n\n    /**\n     * This method returns an empty string.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {string} Returns the empty string.\n     * @example\n     *\n     * _.times(2, _.stubString);\n     * // => ['', '']\n     */\n    function stubString() {\n      return '';\n    }\n\n    /**\n     * This method returns `true`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {boolean} Returns `true`.\n     * @example\n     *\n     * _.times(2, _.stubTrue);\n     * // => [true, true]\n     */\n    function stubTrue() {\n      return true;\n    }\n\n    /**\n     * Invokes the iteratee `n` times, returning an array of the results of\n     * each invocation. The iteratee is invoked with one argument; (index).\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {number} n The number of times to invoke `iteratee`.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the array of results.\n     * @example\n     *\n     * _.times(3, String);\n     * // => ['0', '1', '2']\n     *\n     *  _.times(4, _.constant(0));\n     * // => [0, 0, 0, 0]\n     */\n    function times(n, iteratee) {\n      n = toInteger(n);\n      if (n < 1 || n > MAX_SAFE_INTEGER) {\n        return [];\n      }\n      var index = MAX_ARRAY_LENGTH,\n          length = nativeMin(n, MAX_ARRAY_LENGTH);\n\n      iteratee = getIteratee(iteratee);\n      n -= MAX_ARRAY_LENGTH;\n\n      var result = baseTimes(length, iteratee);\n      while (++index < n) {\n        iteratee(index);\n      }\n      return result;\n    }\n\n    /**\n     * Converts `value` to a property path array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {*} value The value to convert.\n     * @returns {Array} Returns the new property path array.\n     * @example\n     *\n     * _.toPath('a.b.c');\n     * // => ['a', 'b', 'c']\n     *\n     * _.toPath('a[0].b.c');\n     * // => ['a', '0', 'b', 'c']\n     */\n    function toPath(value) {\n      if (isArray(value)) {\n        return arrayMap(value, toKey);\n      }\n      return isSymbol(value) ? [value] : copyArray(stringToPath(toString(value)));\n    }\n\n    /**\n     * Generates a unique ID. If `prefix` is given, the ID is appended to it.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {string} [prefix=''] The value to prefix the ID with.\n     * @returns {string} Returns the unique ID.\n     * @example\n     *\n     * _.uniqueId('contact_');\n     * // => 'contact_104'\n     *\n     * _.uniqueId();\n     * // => '105'\n     */\n    function uniqueId(prefix) {\n      var id = ++idCounter;\n      return toString(prefix) + id;\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Adds two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.4.0\n     * @category Math\n     * @param {number} augend The first number in an addition.\n     * @param {number} addend The second number in an addition.\n     * @returns {number} Returns the total.\n     * @example\n     *\n     * _.add(6, 4);\n     * // => 10\n     */\n    var add = createMathOperation(function(augend, addend) {\n      return augend + addend;\n    }, 0);\n\n    /**\n     * Computes `number` rounded up to `precision`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.10.0\n     * @category Math\n     * @param {number} number The number to round up.\n     * @param {number} [precision=0] The precision to round up to.\n     * @returns {number} Returns the rounded up number.\n     * @example\n     *\n     * _.ceil(4.006);\n     * // => 5\n     *\n     * _.ceil(6.004, 2);\n     * // => 6.01\n     *\n     * _.ceil(6040, -2);\n     * // => 6100\n     */\n    var ceil = createRound('ceil');\n\n    /**\n     * Divide two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Math\n     * @param {number} dividend The first number in a division.\n     * @param {number} divisor The second number in a division.\n     * @returns {number} Returns the quotient.\n     * @example\n     *\n     * _.divide(6, 4);\n     * // => 1.5\n     */\n    var divide = createMathOperation(function(dividend, divisor) {\n      return dividend / divisor;\n    }, 1);\n\n    /**\n     * Computes `number` rounded down to `precision`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.10.0\n     * @category Math\n     * @param {number} number The number to round down.\n     * @param {number} [precision=0] The precision to round down to.\n     * @returns {number} Returns the rounded down number.\n     * @example\n     *\n     * _.floor(4.006);\n     * // => 4\n     *\n     * _.floor(0.046, 2);\n     * // => 0.04\n     *\n     * _.floor(4060, -2);\n     * // => 4000\n     */\n    var floor = createRound('floor');\n\n    /**\n     * Computes the maximum value of `array`. If `array` is empty or falsey,\n     * `undefined` is returned.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @returns {*} Returns the maximum value.\n     * @example\n     *\n     * _.max([4, 2, 8, 6]);\n     * // => 8\n     *\n     * _.max([]);\n     * // => undefined\n     */\n    function max(array) {\n      return (array && array.length)\n        ? baseExtremum(array, identity, baseGt)\n        : undefined;\n    }\n\n    /**\n     * This method is like `_.max` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the criterion by which\n     * the value is ranked. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {*} Returns the maximum value.\n     * @example\n     *\n     * var objects = [{ 'n': 1 }, { 'n': 2 }];\n     *\n     * _.maxBy(objects, function(o) { return o.n; });\n     * // => { 'n': 2 }\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.maxBy(objects, 'n');\n     * // => { 'n': 2 }\n     */\n    function maxBy(array, iteratee) {\n      return (array && array.length)\n        ? baseExtremum(array, getIteratee(iteratee, 2), baseGt)\n        : undefined;\n    }\n\n    /**\n     * Computes the mean of the values in `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @returns {number} Returns the mean.\n     * @example\n     *\n     * _.mean([4, 2, 8, 6]);\n     * // => 5\n     */\n    function mean(array) {\n      return baseMean(array, identity);\n    }\n\n    /**\n     * This method is like `_.mean` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the value to be averaged.\n     * The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {number} Returns the mean.\n     * @example\n     *\n     * var objects = [{ 'n': 4 }, { 'n': 2 }, { 'n': 8 }, { 'n': 6 }];\n     *\n     * _.meanBy(objects, function(o) { return o.n; });\n     * // => 5\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.meanBy(objects, 'n');\n     * // => 5\n     */\n    function meanBy(array, iteratee) {\n      return baseMean(array, getIteratee(iteratee, 2));\n    }\n\n    /**\n     * Computes the minimum value of `array`. If `array` is empty or falsey,\n     * `undefined` is returned.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @returns {*} Returns the minimum value.\n     * @example\n     *\n     * _.min([4, 2, 8, 6]);\n     * // => 2\n     *\n     * _.min([]);\n     * // => undefined\n     */\n    function min(array) {\n      return (array && array.length)\n        ? baseExtremum(array, identity, baseLt)\n        : undefined;\n    }\n\n    /**\n     * This method is like `_.min` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the criterion by which\n     * the value is ranked. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {*} Returns the minimum value.\n     * @example\n     *\n     * var objects = [{ 'n': 1 }, { 'n': 2 }];\n     *\n     * _.minBy(objects, function(o) { return o.n; });\n     * // => { 'n': 1 }\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.minBy(objects, 'n');\n     * // => { 'n': 1 }\n     */\n    function minBy(array, iteratee) {\n      return (array && array.length)\n        ? baseExtremum(array, getIteratee(iteratee, 2), baseLt)\n        : undefined;\n    }\n\n    /**\n     * Multiply two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Math\n     * @param {number} multiplier The first number in a multiplication.\n     * @param {number} multiplicand The second number in a multiplication.\n     * @returns {number} Returns the product.\n     * @example\n     *\n     * _.multiply(6, 4);\n     * // => 24\n     */\n    var multiply = createMathOperation(function(multiplier, multiplicand) {\n      return multiplier * multiplicand;\n    }, 1);\n\n    /**\n     * Computes `number` rounded to `precision`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.10.0\n     * @category Math\n     * @param {number} number The number to round.\n     * @param {number} [precision=0] The precision to round to.\n     * @returns {number} Returns the rounded number.\n     * @example\n     *\n     * _.round(4.006);\n     * // => 4\n     *\n     * _.round(4.006, 2);\n     * // => 4.01\n     *\n     * _.round(4060, -2);\n     * // => 4100\n     */\n    var round = createRound('round');\n\n    /**\n     * Subtract two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {number} minuend The first number in a subtraction.\n     * @param {number} subtrahend The second number in a subtraction.\n     * @returns {number} Returns the difference.\n     * @example\n     *\n     * _.subtract(6, 4);\n     * // => 2\n     */\n    var subtract = createMathOperation(function(minuend, subtrahend) {\n      return minuend - subtrahend;\n    }, 0);\n\n    /**\n     * Computes the sum of the values in `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.4.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @returns {number} Returns the sum.\n     * @example\n     *\n     * _.sum([4, 2, 8, 6]);\n     * // => 20\n     */\n    function sum(array) {\n      return (array && array.length)\n        ? baseSum(array, identity)\n        : 0;\n    }\n\n    /**\n     * This method is like `_.sum` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the value to be summed.\n     * The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {number} Returns the sum.\n     * @example\n     *\n     * var objects = [{ 'n': 4 }, { 'n': 2 }, { 'n': 8 }, { 'n': 6 }];\n     *\n     * _.sumBy(objects, function(o) { return o.n; });\n     * // => 20\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.sumBy(objects, 'n');\n     * // => 20\n     */\n    function sumBy(array, iteratee) {\n      return (array && array.length)\n        ? baseSum(array, getIteratee(iteratee, 2))\n        : 0;\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    // Add methods that return wrapped values in chain sequences.\n    lodash.after = after;\n    lodash.ary = ary;\n    lodash.assign = assign;\n    lodash.assignIn = assignIn;\n    lodash.assignInWith = assignInWith;\n    lodash.assignWith = assignWith;\n    lodash.at = at;\n    lodash.before = before;\n    lodash.bind = bind;\n    lodash.bindAll = bindAll;\n    lodash.bindKey = bindKey;\n    lodash.castArray = castArray;\n    lodash.chain = chain;\n    lodash.chunk = chunk;\n    lodash.compact = compact;\n    lodash.concat = concat;\n    lodash.cond = cond;\n    lodash.conforms = conforms;\n    lodash.constant = constant;\n    lodash.countBy = countBy;\n    lodash.create = create;\n    lodash.curry = curry;\n    lodash.curryRight = curryRight;\n    lodash.debounce = debounce;\n    lodash.defaults = defaults;\n    lodash.defaultsDeep = defaultsDeep;\n    lodash.defer = defer;\n    lodash.delay = delay;\n    lodash.difference = difference;\n    lodash.differenceBy = differenceBy;\n    lodash.differenceWith = differenceWith;\n    lodash.drop = drop;\n    lodash.dropRight = dropRight;\n    lodash.dropRightWhile = dropRightWhile;\n    lodash.dropWhile = dropWhile;\n    lodash.fill = fill;\n    lodash.filter = filter;\n    lodash.flatMap = flatMap;\n    lodash.flatMapDeep = flatMapDeep;\n    lodash.flatMapDepth = flatMapDepth;\n    lodash.flatten = flatten;\n    lodash.flattenDeep = flattenDeep;\n    lodash.flattenDepth = flattenDepth;\n    lodash.flip = flip;\n    lodash.flow = flow;\n    lodash.flowRight = flowRight;\n    lodash.fromPairs = fromPairs;\n    lodash.functions = functions;\n    lodash.functionsIn = functionsIn;\n    lodash.groupBy = groupBy;\n    lodash.initial = initial;\n    lodash.intersection = intersection;\n    lodash.intersectionBy = intersectionBy;\n    lodash.intersectionWith = intersectionWith;\n    lodash.invert = invert;\n    lodash.invertBy = invertBy;\n    lodash.invokeMap = invokeMap;\n    lodash.iteratee = iteratee;\n    lodash.keyBy = keyBy;\n    lodash.keys = keys;\n    lodash.keysIn = keysIn;\n    lodash.map = map;\n    lodash.mapKeys = mapKeys;\n    lodash.mapValues = mapValues;\n    lodash.matches = matches;\n    lodash.matchesProperty = matchesProperty;\n    lodash.memoize = memoize;\n    lodash.merge = merge;\n    lodash.mergeWith = mergeWith;\n    lodash.method = method;\n    lodash.methodOf = methodOf;\n    lodash.mixin = mixin;\n    lodash.negate = negate;\n    lodash.nthArg = nthArg;\n    lodash.omit = omit;\n    lodash.omitBy = omitBy;\n    lodash.once = once;\n    lodash.orderBy = orderBy;\n    lodash.over = over;\n    lodash.overArgs = overArgs;\n    lodash.overEvery = overEvery;\n    lodash.overSome = overSome;\n    lodash.partial = partial;\n    lodash.partialRight = partialRight;\n    lodash.partition = partition;\n    lodash.pick = pick;\n    lodash.pickBy = pickBy;\n    lodash.property = property;\n    lodash.propertyOf = propertyOf;\n    lodash.pull = pull;\n    lodash.pullAll = pullAll;\n    lodash.pullAllBy = pullAllBy;\n    lodash.pullAllWith = pullAllWith;\n    lodash.pullAt = pullAt;\n    lodash.range = range;\n    lodash.rangeRight = rangeRight;\n    lodash.rearg = rearg;\n    lodash.reject = reject;\n    lodash.remove = remove;\n    lodash.rest = rest;\n    lodash.reverse = reverse;\n    lodash.sampleSize = sampleSize;\n    lodash.set = set;\n    lodash.setWith = setWith;\n    lodash.shuffle = shuffle;\n    lodash.slice = slice;\n    lodash.sortBy = sortBy;\n    lodash.sortedUniq = sortedUniq;\n    lodash.sortedUniqBy = sortedUniqBy;\n    lodash.split = split;\n    lodash.spread = spread;\n    lodash.tail = tail;\n    lodash.take = take;\n    lodash.takeRight = takeRight;\n    lodash.takeRightWhile = takeRightWhile;\n    lodash.takeWhile = takeWhile;\n    lodash.tap = tap;\n    lodash.throttle = throttle;\n    lodash.thru = thru;\n    lodash.toArray = toArray;\n    lodash.toPairs = toPairs;\n    lodash.toPairsIn = toPairsIn;\n    lodash.toPath = toPath;\n    lodash.toPlainObject = toPlainObject;\n    lodash.transform = transform;\n    lodash.unary = unary;\n    lodash.union = union;\n    lodash.unionBy = unionBy;\n    lodash.unionWith = unionWith;\n    lodash.uniq = uniq;\n    lodash.uniqBy = uniqBy;\n    lodash.uniqWith = uniqWith;\n    lodash.unset = unset;\n    lodash.unzip = unzip;\n    lodash.unzipWith = unzipWith;\n    lodash.update = update;\n    lodash.updateWith = updateWith;\n    lodash.values = values;\n    lodash.valuesIn = valuesIn;\n    lodash.without = without;\n    lodash.words = words;\n    lodash.wrap = wrap;\n    lodash.xor = xor;\n    lodash.xorBy = xorBy;\n    lodash.xorWith = xorWith;\n    lodash.zip = zip;\n    lodash.zipObject = zipObject;\n    lodash.zipObjectDeep = zipObjectDeep;\n    lodash.zipWith = zipWith;\n\n    // Add aliases.\n    lodash.entries = toPairs;\n    lodash.entriesIn = toPairsIn;\n    lodash.extend = assignIn;\n    lodash.extendWith = assignInWith;\n\n    // Add methods to `lodash.prototype`.\n    mixin(lodash, lodash);\n\n    /*------------------------------------------------------------------------*/\n\n    // Add methods that return unwrapped values in chain sequences.\n    lodash.add = add;\n    lodash.attempt = attempt;\n    lodash.camelCase = camelCase;\n    lodash.capitalize = capitalize;\n    lodash.ceil = ceil;\n    lodash.clamp = clamp;\n    lodash.clone = clone;\n    lodash.cloneDeep = cloneDeep;\n    lodash.cloneDeepWith = cloneDeepWith;\n    lodash.cloneWith = cloneWith;\n    lodash.conformsTo = conformsTo;\n    lodash.deburr = deburr;\n    lodash.defaultTo = defaultTo;\n    lodash.divide = divide;\n    lodash.endsWith = endsWith;\n    lodash.eq = eq;\n    lodash.escape = escape;\n    lodash.escapeRegExp = escapeRegExp;\n    lodash.every = every;\n    lodash.find = find;\n    lodash.findIndex = findIndex;\n    lodash.findKey = findKey;\n    lodash.findLast = findLast;\n    lodash.findLastIndex = findLastIndex;\n    lodash.findLastKey = findLastKey;\n    lodash.floor = floor;\n    lodash.forEach = forEach;\n    lodash.forEachRight = forEachRight;\n    lodash.forIn = forIn;\n    lodash.forInRight = forInRight;\n    lodash.forOwn = forOwn;\n    lodash.forOwnRight = forOwnRight;\n    lodash.get = get;\n    lodash.gt = gt;\n    lodash.gte = gte;\n    lodash.has = has;\n    lodash.hasIn = hasIn;\n    lodash.head = head;\n    lodash.identity = identity;\n    lodash.includes = includes;\n    lodash.indexOf = indexOf;\n    lodash.inRange = inRange;\n    lodash.invoke = invoke;\n    lodash.isArguments = isArguments;\n    lodash.isArray = isArray;\n    lodash.isArrayBuffer = isArrayBuffer;\n    lodash.isArrayLike = isArrayLike;\n    lodash.isArrayLikeObject = isArrayLikeObject;\n    lodash.isBoolean = isBoolean;\n    lodash.isBuffer = isBuffer;\n    lodash.isDate = isDate;\n    lodash.isElement = isElement;\n    lodash.isEmpty = isEmpty;\n    lodash.isEqual = isEqual;\n    lodash.isEqualWith = isEqualWith;\n    lodash.isError = isError;\n    lodash.isFinite = isFinite;\n    lodash.isFunction = isFunction;\n    lodash.isInteger = isInteger;\n    lodash.isLength = isLength;\n    lodash.isMap = isMap;\n    lodash.isMatch = isMatch;\n    lodash.isMatchWith = isMatchWith;\n    lodash.isNaN = isNaN;\n    lodash.isNative = isNative;\n    lodash.isNil = isNil;\n    lodash.isNull = isNull;\n    lodash.isNumber = isNumber;\n    lodash.isObject = isObject;\n    lodash.isObjectLike = isObjectLike;\n    lodash.isPlainObject = isPlainObject;\n    lodash.isRegExp = isRegExp;\n    lodash.isSafeInteger = isSafeInteger;\n    lodash.isSet = isSet;\n    lodash.isString = isString;\n    lodash.isSymbol = isSymbol;\n    lodash.isTypedArray = isTypedArray;\n    lodash.isUndefined = isUndefined;\n    lodash.isWeakMap = isWeakMap;\n    lodash.isWeakSet = isWeakSet;\n    lodash.join = join;\n    lodash.kebabCase = kebabCase;\n    lodash.last = last;\n    lodash.lastIndexOf = lastIndexOf;\n    lodash.lowerCase = lowerCase;\n    lodash.lowerFirst = lowerFirst;\n    lodash.lt = lt;\n    lodash.lte = lte;\n    lodash.max = max;\n    lodash.maxBy = maxBy;\n    lodash.mean = mean;\n    lodash.meanBy = meanBy;\n    lodash.min = min;\n    lodash.minBy = minBy;\n    lodash.stubArray = stubArray;\n    lodash.stubFalse = stubFalse;\n    lodash.stubObject = stubObject;\n    lodash.stubString = stubString;\n    lodash.stubTrue = stubTrue;\n    lodash.multiply = multiply;\n    lodash.nth = nth;\n    lodash.noConflict = noConflict;\n    lodash.noop = noop;\n    lodash.now = now;\n    lodash.pad = pad;\n    lodash.padEnd = padEnd;\n    lodash.padStart = padStart;\n    lodash.parseInt = parseInt;\n    lodash.random = random;\n    lodash.reduce = reduce;\n    lodash.reduceRight = reduceRight;\n    lodash.repeat = repeat;\n    lodash.replace = replace;\n    lodash.result = result;\n    lodash.round = round;\n    lodash.runInContext = runInContext;\n    lodash.sample = sample;\n    lodash.size = size;\n    lodash.snakeCase = snakeCase;\n    lodash.some = some;\n    lodash.sortedIndex = sortedIndex;\n    lodash.sortedIndexBy = sortedIndexBy;\n    lodash.sortedIndexOf = sortedIndexOf;\n    lodash.sortedLastIndex = sortedLastIndex;\n    lodash.sortedLastIndexBy = sortedLastIndexBy;\n    lodash.sortedLastIndexOf = sortedLastIndexOf;\n    lodash.startCase = startCase;\n    lodash.startsWith = startsWith;\n    lodash.subtract = subtract;\n    lodash.sum = sum;\n    lodash.sumBy = sumBy;\n    lodash.template = template;\n    lodash.times = times;\n    lodash.toFinite = toFinite;\n    lodash.toInteger = toInteger;\n    lodash.toLength = toLength;\n    lodash.toLower = toLower;\n    lodash.toNumber = toNumber;\n    lodash.toSafeInteger = toSafeInteger;\n    lodash.toString = toString;\n    lodash.toUpper = toUpper;\n    lodash.trim = trim;\n    lodash.trimEnd = trimEnd;\n    lodash.trimStart = trimStart;\n    lodash.truncate = truncate;\n    lodash.unescape = unescape;\n    lodash.uniqueId = uniqueId;\n    lodash.upperCase = upperCase;\n    lodash.upperFirst = upperFirst;\n\n    // Add aliases.\n    lodash.each = forEach;\n    lodash.eachRight = forEachRight;\n    lodash.first = head;\n\n    mixin(lodash, (function() {\n      var source = {};\n      baseForOwn(lodash, function(func, methodName) {\n        if (!hasOwnProperty.call(lodash.prototype, methodName)) {\n          source[methodName] = func;\n        }\n      });\n      return source;\n    }()), { 'chain': false });\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * The semantic version number.\n     *\n     * @static\n     * @memberOf _\n     * @type {string}\n     */\n    lodash.VERSION = VERSION;\n\n    // Assign default placeholders.\n    arrayEach(['bind', 'bindKey', 'curry', 'curryRight', 'partial', 'partialRight'], function(methodName) {\n      lodash[methodName].placeholder = lodash;\n    });\n\n    // Add `LazyWrapper` methods for `_.drop` and `_.take` variants.\n    arrayEach(['drop', 'take'], function(methodName, index) {\n      LazyWrapper.prototype[methodName] = function(n) {\n        n = n === undefined ? 1 : nativeMax(toInteger(n), 0);\n\n        var result = (this.__filtered__ && !index)\n          ? new LazyWrapper(this)\n          : this.clone();\n\n        if (result.__filtered__) {\n          result.__takeCount__ = nativeMin(n, result.__takeCount__);\n        } else {\n          result.__views__.push({\n            'size': nativeMin(n, MAX_ARRAY_LENGTH),\n            'type': methodName + (result.__dir__ < 0 ? 'Right' : '')\n          });\n        }\n        return result;\n      };\n\n      LazyWrapper.prototype[methodName + 'Right'] = function(n) {\n        return this.reverse()[methodName](n).reverse();\n      };\n    });\n\n    // Add `LazyWrapper` methods that accept an `iteratee` value.\n    arrayEach(['filter', 'map', 'takeWhile'], function(methodName, index) {\n      var type = index + 1,\n          isFilter = type == LAZY_FILTER_FLAG || type == LAZY_WHILE_FLAG;\n\n      LazyWrapper.prototype[methodName] = function(iteratee) {\n        var result = this.clone();\n        result.__iteratees__.push({\n          'iteratee': getIteratee(iteratee, 3),\n          'type': type\n        });\n        result.__filtered__ = result.__filtered__ || isFilter;\n        return result;\n      };\n    });\n\n    // Add `LazyWrapper` methods for `_.head` and `_.last`.\n    arrayEach(['head', 'last'], function(methodName, index) {\n      var takeName = 'take' + (index ? 'Right' : '');\n\n      LazyWrapper.prototype[methodName] = function() {\n        return this[takeName](1).value()[0];\n      };\n    });\n\n    // Add `LazyWrapper` methods for `_.initial` and `_.tail`.\n    arrayEach(['initial', 'tail'], function(methodName, index) {\n      var dropName = 'drop' + (index ? '' : 'Right');\n\n      LazyWrapper.prototype[methodName] = function() {\n        return this.__filtered__ ? new LazyWrapper(this) : this[dropName](1);\n      };\n    });\n\n    LazyWrapper.prototype.compact = function() {\n      return this.filter(identity);\n    };\n\n    LazyWrapper.prototype.find = function(predicate) {\n      return this.filter(predicate).head();\n    };\n\n    LazyWrapper.prototype.findLast = function(predicate) {\n      return this.reverse().find(predicate);\n    };\n\n    LazyWrapper.prototype.invokeMap = baseRest(function(path, args) {\n      if (typeof path == 'function') {\n        return new LazyWrapper(this);\n      }\n      return this.map(function(value) {\n        return baseInvoke(value, path, args);\n      });\n    });\n\n    LazyWrapper.prototype.reject = function(predicate) {\n      return this.filter(negate(getIteratee(predicate)));\n    };\n\n    LazyWrapper.prototype.slice = function(start, end) {\n      start = toInteger(start);\n\n      var result = this;\n      if (result.__filtered__ && (start > 0 || end < 0)) {\n        return new LazyWrapper(result);\n      }\n      if (start < 0) {\n        result = result.takeRight(-start);\n      } else if (start) {\n        result = result.drop(start);\n      }\n      if (end !== undefined) {\n        end = toInteger(end);\n        result = end < 0 ? result.dropRight(-end) : result.take(end - start);\n      }\n      return result;\n    };\n\n    LazyWrapper.prototype.takeRightWhile = function(predicate) {\n      return this.reverse().takeWhile(predicate).reverse();\n    };\n\n    LazyWrapper.prototype.toArray = function() {\n      return this.take(MAX_ARRAY_LENGTH);\n    };\n\n    // Add `LazyWrapper` methods to `lodash.prototype`.\n    baseForOwn(LazyWrapper.prototype, function(func, methodName) {\n      var checkIteratee = /^(?:filter|find|map|reject)|While$/.test(methodName),\n          isTaker = /^(?:head|last)$/.test(methodName),\n          lodashFunc = lodash[isTaker ? ('take' + (methodName == 'last' ? 'Right' : '')) : methodName],\n          retUnwrapped = isTaker || /^find/.test(methodName);\n\n      if (!lodashFunc) {\n        return;\n      }\n      lodash.prototype[methodName] = function() {\n        var value = this.__wrapped__,\n            args = isTaker ? [1] : arguments,\n            isLazy = value instanceof LazyWrapper,\n            iteratee = args[0],\n            useLazy = isLazy || isArray(value);\n\n        var interceptor = function(value) {\n          var result = lodashFunc.apply(lodash, arrayPush([value], args));\n          return (isTaker && chainAll) ? result[0] : result;\n        };\n\n        if (useLazy && checkIteratee && typeof iteratee == 'function' && iteratee.length != 1) {\n          // Avoid lazy use if the iteratee has a \"length\" value other than `1`.\n          isLazy = useLazy = false;\n        }\n        var chainAll = this.__chain__,\n            isHybrid = !!this.__actions__.length,\n            isUnwrapped = retUnwrapped && !chainAll,\n            onlyLazy = isLazy && !isHybrid;\n\n        if (!retUnwrapped && useLazy) {\n          value = onlyLazy ? value : new LazyWrapper(this);\n          var result = func.apply(value, args);\n          result.__actions__.push({ 'func': thru, 'args': [interceptor], 'thisArg': undefined });\n          return new LodashWrapper(result, chainAll);\n        }\n        if (isUnwrapped && onlyLazy) {\n          return func.apply(this, args);\n        }\n        result = this.thru(interceptor);\n        return isUnwrapped ? (isTaker ? result.value()[0] : result.value()) : result;\n      };\n    });\n\n    // Add `Array` methods to `lodash.prototype`.\n    arrayEach(['pop', 'push', 'shift', 'sort', 'splice', 'unshift'], function(methodName) {\n      var func = arrayProto[methodName],\n          chainName = /^(?:push|sort|unshift)$/.test(methodName) ? 'tap' : 'thru',\n          retUnwrapped = /^(?:pop|shift)$/.test(methodName);\n\n      lodash.prototype[methodName] = function() {\n        var args = arguments;\n        if (retUnwrapped && !this.__chain__) {\n          var value = this.value();\n          return func.apply(isArray(value) ? value : [], args);\n        }\n        return this[chainName](function(value) {\n          return func.apply(isArray(value) ? value : [], args);\n        });\n      };\n    });\n\n    // Map minified method names to their real names.\n    baseForOwn(LazyWrapper.prototype, function(func, methodName) {\n      var lodashFunc = lodash[methodName];\n      if (lodashFunc) {\n        var key = lodashFunc.name + '';\n        if (!hasOwnProperty.call(realNames, key)) {\n          realNames[key] = [];\n        }\n        realNames[key].push({ 'name': methodName, 'func': lodashFunc });\n      }\n    });\n\n    realNames[createHybrid(undefined, WRAP_BIND_KEY_FLAG).name] = [{\n      'name': 'wrapper',\n      'func': undefined\n    }];\n\n    // Add methods to `LazyWrapper`.\n    LazyWrapper.prototype.clone = lazyClone;\n    LazyWrapper.prototype.reverse = lazyReverse;\n    LazyWrapper.prototype.value = lazyValue;\n\n    // Add chain sequence methods to the `lodash` wrapper.\n    lodash.prototype.at = wrapperAt;\n    lodash.prototype.chain = wrapperChain;\n    lodash.prototype.commit = wrapperCommit;\n    lodash.prototype.next = wrapperNext;\n    lodash.prototype.plant = wrapperPlant;\n    lodash.prototype.reverse = wrapperReverse;\n    lodash.prototype.toJSON = lodash.prototype.valueOf = lodash.prototype.value = wrapperValue;\n\n    // Add lazy aliases.\n    lodash.prototype.first = lodash.prototype.head;\n\n    if (symIterator) {\n      lodash.prototype[symIterator] = wrapperToIterator;\n    }\n    return lodash;\n  });\n\n  /*--------------------------------------------------------------------------*/\n\n  // Export lodash.\n  var _ = runInContext();\n\n  // Some AMD build optimizers, like r.js, check for condition patterns like:\n  if (typeof define == 'function' && typeof define.amd == 'object' && define.amd) {\n    // Expose Lodash on the global object to prevent errors when Lodash is\n    // loaded by a script tag in the presence of an AMD loader.\n    // See http://requirejs.org/docs/errors.html#mismatch for more details.\n    // Use `_.noConflict` to remove Lodash from the global object.\n    root._ = _;\n\n    // Define as an anonymous module so, through path mapping, it can be\n    // referenced as the \"underscore\" module.\n    define(function() {\n      return _;\n    });\n  }\n  // Check for `exports` after `define` in case a build optimizer adds it.\n  else if (freeModule) {\n    // Export for Node.js.\n    (freeModule.exports = _)._ = _;\n    // Export for CommonJS support.\n    freeExports._ = _;\n  }\n  else {\n    // Export to the global object.\n    root._ = _;\n  }\n}.call(this));\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","/**\n * Copyright (c) 2017 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n */\nimport { __spreadArray } from \"tslib\";\nfunction createImmediateActions() {\n    var thisGlobal = (function () {\n        var _window = typeof window !== 'undefined' && window;\n        var _self = typeof self !== 'undefined' && typeof WorkerGlobalScope !== 'undefined' && self instanceof WorkerGlobalScope && self;\n        var _global = typeof global !== 'undefined' && global;\n        return _window || _global || _self;\n    })();\n    var tasksByHandle = {};\n    var doc = typeof document !== 'undefined' ? document : void 0;\n    var nextHandle = 1; // Spec says greater than zero\n    var registerImmediate;\n    function setImmediate(callback) {\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        // Callback can either be a function or a string\n        if (typeof callback !== 'function') {\n            callback = new Function('' + callback);\n        }\n        // Store and register the task\n        var task = { callback: callback, args: args };\n        tasksByHandle[nextHandle] = task;\n        registerImmediate(nextHandle);\n        return nextHandle++;\n    }\n    function clearImmediate(handle) {\n        delete tasksByHandle[handle];\n    }\n    function run(task) {\n        var callback = task.callback;\n        var args = task.args;\n        switch (args.length) {\n            case 0:\n                callback();\n                break;\n            case 1:\n                callback(args[0]);\n                break;\n            case 2:\n                callback(args[0], args[1]);\n                break;\n            case 3:\n                callback(args[0], args[1], args[2]);\n                break;\n            default:\n                callback.apply(undefined, args);\n                break;\n        }\n    }\n    function runIfPresent(handle) {\n        var task = tasksByHandle[handle];\n        clearImmediate(handle);\n        run(task);\n    }\n    function installNextTickImplementation() {\n        registerImmediate = function (handle) {\n            process.nextTick(function () { runIfPresent(handle); });\n        };\n    }\n    function canUsePostMessage() {\n        if (thisGlobal && thisGlobal.postMessage && !thisGlobal.importScripts) {\n            var postMessageIsAsynchronous_1 = true;\n            var oldOnMessage = thisGlobal.onmessage;\n            thisGlobal.onmessage = function () {\n                postMessageIsAsynchronous_1 = false;\n            };\n            thisGlobal.postMessage('', '*');\n            thisGlobal.onmessage = oldOnMessage;\n            return postMessageIsAsynchronous_1;\n        }\n    }\n    function installPostMessageImplementation() {\n        // Installs an event handler on `global` for the `message` event: see\n        // * https://developer.mozilla.org/en/DOM/window.postMessage\n        // * http://www.whatwg.org/specs/web-apps/current-work/multipage/comms.html#crossDocumentMessages\n        var messagePrefix = 'setImmediate$' + Math.random() + '$';\n        var onGlobalMessage = function (event) {\n            if (event.source === thisGlobal &&\n                typeof event.data === 'string' &&\n                event.data.indexOf(messagePrefix) === 0) {\n                runIfPresent(+event.data.slice(messagePrefix.length));\n            }\n        };\n        if (window.addEventListener) {\n            window.addEventListener('message', onGlobalMessage, false);\n        }\n        else {\n            window.attachEvent('onmessage', onGlobalMessage);\n        }\n        registerImmediate = function (handle) {\n            window.postMessage(messagePrefix + handle, '*');\n        };\n    }\n    function installMessageChannelImplementation() {\n        var channel = new MessageChannel();\n        channel.port1.onmessage = function (event) {\n            var handle = event.data;\n            runIfPresent(handle);\n        };\n        registerImmediate = function (handle) {\n            channel.port2.postMessage(handle);\n        };\n    }\n    function installReadyStateChangeImplementation() {\n        var html = doc.documentElement;\n        registerImmediate = function (handle) {\n            // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted\n            // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.\n            var script = doc.createElement('script');\n            script.onreadystatechange = function () {\n                runIfPresent(handle);\n                script.onreadystatechange = null;\n                html.removeChild(script);\n                script = null;\n            };\n            html.appendChild(script);\n        };\n    }\n    function installSetTimeoutImplementation() {\n        registerImmediate = function (handle) {\n            setTimeout(runIfPresent, 0, handle);\n        };\n    }\n    // Don't get fooled by e.g. browserify environments.\n    if (typeof process !== 'undefined' && {}.toString.call(process) === '[object process]') {\n        // For Node.js before 0.9\n        installNextTickImplementation();\n    }\n    else if (canUsePostMessage()) {\n        // For non-IE10 modern browsers\n        installPostMessageImplementation();\n    }\n    else if (typeof MessageChannel !== 'undefined') {\n        // For web workers, where supported\n        installMessageChannelImplementation();\n    }\n    else if (doc && 'onreadystatechange' in doc.createElement('script')) {\n        // For IE 68\n        installReadyStateChangeImplementation();\n    }\n    else {\n        // For older browsers\n        installSetTimeoutImplementation();\n    }\n    return {\n        setImmediate: setImmediate,\n        clearImmediate: clearImmediate\n    };\n}\nvar immediateActions = (function () {\n    if (typeof setImmediate !== 'undefined') {\n        if (typeof window !== 'undefined') {\n            return {\n                setImmediate: function (handler) {\n                    var _a;\n                    var args = [];\n                    for (var _i = 1; _i < arguments.length; _i++) {\n                        args[_i - 1] = arguments[_i];\n                    }\n                    return (_a = window).setImmediate.apply(_a, __spreadArray([handler], args, false));\n                },\n                clearImmediate: function (handle) { return window.clearImmediate(handle); }\n            };\n        }\n        else {\n            return { setImmediate: setImmediate, clearImmediate: clearImmediate };\n        }\n    }\n    return createImmediateActions();\n}());\nfunction resolveImmediate(res) {\n    immediateActions.setImmediate(res);\n}\nvar Scheduler = {\n    setImmediate: immediateActions.setImmediate,\n    clearImmediate: immediateActions.clearImmediate,\n    immediatePromise: function () { return new Promise(resolveImmediate); },\n    delay: function (timeout, value) {\n        if (value === void 0) { value = void 0; }\n        return new Promise(function (r) { return setTimeout(r, timeout, value); });\n    }\n};\nexport { Scheduler };\n","/**\n * Copyright (c) 2019-2023 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\n/**\n * on node `process.env.NODE_ENV` is available, in webpack build it is automatically set\n * by the DefinePlugin to the webpack `mode` value\n */\nvar isProductionMode = function () {\n    try {\n        return process.env.NODE_ENV === 'production';\n    }\n    catch (_a) {\n        return false;\n    }\n}();\n/**\n * set to true to enable more comprehensive checks and assertions,\n * mostly used in `mol-gl` and in valence-model calculation\n */\nvar isDebugMode = function getIsDebug() {\n    try {\n        var val = process.env.DEBUG;\n        return val === '*' || val === 'molstar';\n    }\n    catch (_a) {\n        return false;\n    }\n}();\n/**\n * set to true to gather timings, mostly used in `mol-gl`\n */\nvar isTimingMode = false;\nexport { isProductionMode, isDebugMode, isTimingMode };\nexport function setProductionMode(value) {\n    if (typeof value !== 'undefined')\n        isProductionMode = value;\n}\nexport function setDebugMode(value) {\n    if (typeof value !== 'undefined')\n        isDebugMode = value;\n}\nexport function setTimingMode(value) {\n    if (typeof value !== 'undefined')\n        isTimingMode = value;\n}\nvar consoleStatsProviders = [];\nexport function addConsoleStatsProvider(p) {\n    if (!consoleStatsProviders.includes(p))\n        consoleStatsProviders.push(p);\n}\nexport function removeConsoleStatsProvider(p) {\n    var idx = consoleStatsProviders.indexOf(p);\n    if (idx !== -1)\n        consoleStatsProviders.splice(idx, 1);\n}\nexport function consoleStats() {\n    for (var _i = 0, consoleStatsProviders_1 = consoleStatsProviders; _i < consoleStatsProviders_1.length; _i++) {\n        var p = consoleStatsProviders_1[_i];\n        p();\n    }\n}\n","(function() { module.exports = window[\"React\"]; }());","var scope = (typeof global !== \"undefined\" && global) ||\n            (typeof self !== \"undefined\" && self) ||\n            window;\nvar apply = Function.prototype.apply;\n\n// DOM APIs, for completeness\n\nexports.setTimeout = function() {\n  return new Timeout(apply.call(setTimeout, scope, arguments), clearTimeout);\n};\nexports.setInterval = function() {\n  return new Timeout(apply.call(setInterval, scope, arguments), clearInterval);\n};\nexports.clearTimeout =\nexports.clearInterval = function(timeout) {\n  if (timeout) {\n    timeout.close();\n  }\n};\n\nfunction Timeout(id, clearFn) {\n  this._id = id;\n  this._clearFn = clearFn;\n}\nTimeout.prototype.unref = Timeout.prototype.ref = function() {};\nTimeout.prototype.close = function() {\n  this._clearFn.call(scope, this._id);\n};\n\n// Does not start the time, just sets up the members needed.\nexports.enroll = function(item, msecs) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = msecs;\n};\n\nexports.unenroll = function(item) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = -1;\n};\n\nexports._unrefActive = exports.active = function(item) {\n  clearTimeout(item._idleTimeoutId);\n\n  var msecs = item._idleTimeout;\n  if (msecs >= 0) {\n    item._idleTimeoutId = setTimeout(function onTimeout() {\n      if (item._onTimeout)\n        item._onTimeout();\n    }, msecs);\n  }\n};\n\n// setimmediate attaches itself to the global object\nrequire(\"setimmediate\");\n// On some exotic environments, it's not clear which object `setimmediate` was\n// able to install onto.  Search each possibility in the same order as the\n// `setimmediate` library.\nexports.setImmediate = (typeof self !== \"undefined\" && self.setImmediate) ||\n                       (typeof global !== \"undefined\" && global.setImmediate) ||\n                       (this && this.setImmediate);\nexports.clearImmediate = (typeof self !== \"undefined\" && self.clearImmediate) ||\n                         (typeof global !== \"undefined\" && global.clearImmediate) ||\n                         (this && this.clearImmediate);\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\nvar isArray = require('isarray')\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined\n  ? global.TYPED_ARRAY_SUPPORT\n  : typedArraySupport()\n\n/*\n * Export kMaxLength after typed array support is determined.\n */\nexports.kMaxLength = kMaxLength()\n\nfunction typedArraySupport () {\n  try {\n    var arr = new Uint8Array(1)\n    arr.__proto__ = {__proto__: Uint8Array.prototype, foo: function () { return 42 }}\n    return arr.foo() === 42 && // typed array instances can be augmented\n        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  } catch (e) {\n    return false\n  }\n}\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\nfunction createBuffer (that, length) {\n  if (kMaxLength() < length) {\n    throw new RangeError('Invalid typed array length')\n  }\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length)\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    if (that === null) {\n      that = new Buffer(length)\n    }\n    that.length = length\n  }\n\n  return that\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n    return new Buffer(arg, encodingOrOffset, length)\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new Error(\n        'If encoding is specified then the first argument must be a string'\n      )\n    }\n    return allocUnsafe(this, arg)\n  }\n  return from(this, arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\n// TODO: Legacy, not needed anymore. Remove in next major version.\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype\n  return arr\n}\n\nfunction from (that, value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'string') {\n    return fromString(that, value, encodingOrOffset)\n  }\n\n  return fromObject(that, value)\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(null, value, encodingOrOffset, length)\n}\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype\n  Buffer.__proto__ = Uint8Array\n  if (typeof Symbol !== 'undefined' && Symbol.species &&\n      Buffer[Symbol.species] === Buffer) {\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    Object.defineProperty(Buffer, Symbol.species, {\n      value: null,\n      configurable: true\n    })\n  }\n}\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number')\n  } else if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative')\n  }\n}\n\nfunction alloc (that, size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(that, size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(that, size).fill(fill, encoding)\n      : createBuffer(that, size).fill(fill)\n  }\n  return createBuffer(that, size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(null, size, fill, encoding)\n}\n\nfunction allocUnsafe (that, size) {\n  assertSize(size)\n  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(null, size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(null, size)\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding')\n  }\n\n  var length = byteLength(string, encoding) | 0\n  that = createBuffer(that, length)\n\n  var actual = that.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    that = that.slice(0, actual)\n  }\n\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  that = createBuffer(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array, byteOffset, length) {\n  array.byteLength // this throws if `array` is not a valid ArrayBuffer\n\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds')\n  }\n\n  if (byteOffset === undefined && length === undefined) {\n    array = new Uint8Array(array)\n  } else if (length === undefined) {\n    array = new Uint8Array(array, byteOffset)\n  } else {\n    array = new Uint8Array(array, byteOffset, length)\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = array\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromArrayLike(that, array)\n  }\n  return that\n}\n\nfunction fromObject (that, obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    that = createBuffer(that, len)\n\n    if (that.length === 0) {\n      return that\n    }\n\n    obj.copy(that, 0, 0, len)\n    return that\n  }\n\n  if (obj) {\n    if ((typeof ArrayBuffer !== 'undefined' &&\n        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {\n      if (typeof obj.length !== 'number' || isnan(obj.length)) {\n        return createBuffer(that, 0)\n      }\n      return fromArrayLike(that, obj)\n    }\n\n    if (obj.type === 'Buffer' && isArray(obj.data)) {\n      return fromArrayLike(that, obj.data)\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength()` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    }\n    buf.copy(buffer, pos)\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&\n      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    string = '' + string\n  }\n\n  var len = string.length\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n      case undefined:\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError('Argument must be a Buffer')\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset  // Coerce to Number.\n  if (isNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (Buffer.TYPED_ARRAY_SUPPORT &&\n        typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction latin1Write (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end)\n    newBuf.__proto__ = Buffer.prototype\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n  var i\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, start + len),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if (code < 256) {\n        val = code\n      }\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : utf8ToBytes(new Buffer(val, encoding).toString())\n    var len = bytes.length\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction isnan (val) {\n  return val !== val // eslint-disable-line no-self-compare\n}\n","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n","/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\nexports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n","(function (global, undefined) {\n    \"use strict\";\n\n    if (global.setImmediate) {\n        return;\n    }\n\n    var nextHandle = 1; // Spec says greater than zero\n    var tasksByHandle = {};\n    var currentlyRunningATask = false;\n    var doc = global.document;\n    var registerImmediate;\n\n    function setImmediate(callback) {\n      // Callback can either be a function or a string\n      if (typeof callback !== \"function\") {\n        callback = new Function(\"\" + callback);\n      }\n      // Copy function arguments\n      var args = new Array(arguments.length - 1);\n      for (var i = 0; i < args.length; i++) {\n          args[i] = arguments[i + 1];\n      }\n      // Store and register the task\n      var task = { callback: callback, args: args };\n      tasksByHandle[nextHandle] = task;\n      registerImmediate(nextHandle);\n      return nextHandle++;\n    }\n\n    function clearImmediate(handle) {\n        delete tasksByHandle[handle];\n    }\n\n    function run(task) {\n        var callback = task.callback;\n        var args = task.args;\n        switch (args.length) {\n        case 0:\n            callback();\n            break;\n        case 1:\n            callback(args[0]);\n            break;\n        case 2:\n            callback(args[0], args[1]);\n            break;\n        case 3:\n            callback(args[0], args[1], args[2]);\n            break;\n        default:\n            callback.apply(undefined, args);\n            break;\n        }\n    }\n\n    function runIfPresent(handle) {\n        // From the spec: \"Wait until any invocations of this algorithm started before this one have completed.\"\n        // So if we're currently running a task, we'll need to delay this invocation.\n        if (currentlyRunningATask) {\n            // Delay by doing a setTimeout. setImmediate was tried instead, but in Firefox 7 it generated a\n            // \"too much recursion\" error.\n            setTimeout(runIfPresent, 0, handle);\n        } else {\n            var task = tasksByHandle[handle];\n            if (task) {\n                currentlyRunningATask = true;\n                try {\n                    run(task);\n                } finally {\n                    clearImmediate(handle);\n                    currentlyRunningATask = false;\n                }\n            }\n        }\n    }\n\n    function installNextTickImplementation() {\n        registerImmediate = function(handle) {\n            process.nextTick(function () { runIfPresent(handle); });\n        };\n    }\n\n    function canUsePostMessage() {\n        // The test against `importScripts` prevents this implementation from being installed inside a web worker,\n        // where `global.postMessage` means something completely different and can't be used for this purpose.\n        if (global.postMessage && !global.importScripts) {\n            var postMessageIsAsynchronous = true;\n            var oldOnMessage = global.onmessage;\n            global.onmessage = function() {\n                postMessageIsAsynchronous = false;\n            };\n            global.postMessage(\"\", \"*\");\n            global.onmessage = oldOnMessage;\n            return postMessageIsAsynchronous;\n        }\n    }\n\n    function installPostMessageImplementation() {\n        // Installs an event handler on `global` for the `message` event: see\n        // * https://developer.mozilla.org/en/DOM/window.postMessage\n        // * http://www.whatwg.org/specs/web-apps/current-work/multipage/comms.html#crossDocumentMessages\n\n        var messagePrefix = \"setImmediate$\" + Math.random() + \"$\";\n        var onGlobalMessage = function(event) {\n            if (event.source === global &&\n                typeof event.data === \"string\" &&\n                event.data.indexOf(messagePrefix) === 0) {\n                runIfPresent(+event.data.slice(messagePrefix.length));\n            }\n        };\n\n        if (global.addEventListener) {\n            global.addEventListener(\"message\", onGlobalMessage, false);\n        } else {\n            global.attachEvent(\"onmessage\", onGlobalMessage);\n        }\n\n        registerImmediate = function(handle) {\n            global.postMessage(messagePrefix + handle, \"*\");\n        };\n    }\n\n    function installMessageChannelImplementation() {\n        var channel = new MessageChannel();\n        channel.port1.onmessage = function(event) {\n            var handle = event.data;\n            runIfPresent(handle);\n        };\n\n        registerImmediate = function(handle) {\n            channel.port2.postMessage(handle);\n        };\n    }\n\n    function installReadyStateChangeImplementation() {\n        var html = doc.documentElement;\n        registerImmediate = function(handle) {\n            // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted\n            // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.\n            var script = doc.createElement(\"script\");\n            script.onreadystatechange = function () {\n                runIfPresent(handle);\n                script.onreadystatechange = null;\n                html.removeChild(script);\n                script = null;\n            };\n            html.appendChild(script);\n        };\n    }\n\n    function installSetTimeoutImplementation() {\n        registerImmediate = function(handle) {\n            setTimeout(runIfPresent, 0, handle);\n        };\n    }\n\n    // If supported, we should attach to the prototype of global, since that is where setTimeout et al. live.\n    var attachTo = Object.getPrototypeOf && Object.getPrototypeOf(global);\n    attachTo = attachTo && attachTo.setTimeout ? attachTo : global;\n\n    // Don't get fooled by e.g. browserify environments.\n    if ({}.toString.call(global.process) === \"[object process]\") {\n        // For Node.js before 0.9\n        installNextTickImplementation();\n\n    } else if (canUsePostMessage()) {\n        // For non-IE10 modern browsers\n        installPostMessageImplementation();\n\n    } else if (global.MessageChannel) {\n        // For web workers, where supported\n        installMessageChannelImplementation();\n\n    } else if (doc && \"onreadystatechange\" in doc.createElement(\"script\")) {\n        // For IE 68\n        installReadyStateChangeImplementation();\n\n    } else {\n        // For older browsers\n        installSetTimeoutImplementation();\n    }\n\n    attachTo.setImmediate = setImmediate;\n    attachTo.clearImmediate = clearImmediate;\n}(typeof self === \"undefined\" ? typeof global === \"undefined\" ? this : global : self));\n","module.exports = XMLHttpRequest;\n","module.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","\nvar content = require(\"!!../node_modules/css-loader/dist/cjs.js!./rcsb-molstar.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"insertAt\":\"top\",\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../node_modules/css-loader/dist/cjs.js!./rcsb-molstar.css\", function() {\n\t\tvar newContent = require(\"!!../node_modules/css-loader/dist/cjs.js!./rcsb-molstar.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".msp-semi-transparent-background{opacity:.8 !important}.msp-plugin{font-family:\\\"Helvetica Neue\\\",\\\"Segoe UI\\\",Helvetica,\\\"Source Sans Pro\\\",Arial,sans-serif;font-size:14px;line-height:1.42857143;position:absolute;left:0;top:0;right:0;bottom:0;/*! normalize.css v3.0.3 | MIT License | github.com/necolas/normalize.css */background:#ecf2f8}.msp-plugin *{box-sizing:border-box}.msp-plugin [hidden],.msp-plugin template{display:none}.msp-plugin a{background-color:rgba(0,0,0,0)}.msp-plugin a:active,.msp-plugin a:hover{outline:0}.msp-plugin abbr[title]{border-bottom:1px dotted}.msp-plugin b,.msp-plugin strong{font-weight:bold}.msp-plugin small{font-size:80%}.msp-plugin img{border:0}.msp-plugin svg:not(:root){overflow:hidden}.msp-plugin button,.msp-plugin input,.msp-plugin optgroup,.msp-plugin select,.msp-plugin textarea{color:inherit;font:inherit;margin:0}.msp-plugin button{overflow:visible}.msp-plugin button,.msp-plugin select{text-transform:none}.msp-plugin button,.msp-plugin html input[type=button],.msp-plugin input[type=reset],.msp-plugin input[type=submit]{-webkit-appearance:button;cursor:pointer}.msp-plugin button[disabled],.msp-plugin html input[disabled]{cursor:default}.msp-plugin button::-moz-focus-inner,.msp-plugin input::-moz-focus-inner{border:0;padding:0}.msp-plugin input{line-height:normal}.msp-plugin input[type=checkbox],.msp-plugin input[type=radio]{box-sizing:border-box;padding:0}.msp-plugin input[type=number]::-webkit-inner-spin-button,.msp-plugin input[type=number]::-webkit-outer-spin-button{height:auto}.msp-plugin textarea{overflow:auto}.msp-plugin .msp-layout-expanded,.msp-plugin .msp-layout-standard{left:0;right:0;top:0;bottom:0}.msp-plugin .msp-layout-standard{border:1px solid #b5cbe2}.msp-plugin .msp-layout-region{overflow:hidden}.msp-plugin .msp-layout-static,.msp-plugin .msp-layout-scrollable{position:absolute}.msp-plugin .msp-scrollable{overflow-y:auto}.msp-plugin .msp-scrollable-container{position:absolute;left:0;right:0;top:0;bottom:0;overflow-y:auto}.msp-plugin .msp-layout-static{overflow:hidden}.msp-plugin .msp-layout-top .msp-layout-static,.msp-plugin .msp-layout-main .msp-layout-static,.msp-plugin .msp-layout-bottom .msp-layout-static{left:0;right:0;top:0;bottom:0}.msp-plugin .msp-layout-right .msp-layout-static{left:0;right:0;top:0;bottom:0}.msp-plugin .msp-layout-right .msp-layout-scrollable{left:0;right:0;top:43px;bottom:0}.msp-plugin .msp-layout-left .msp-layout-static{left:0;right:0;bottom:0;top:0}.msp-plugin .msp-layout-standard-outside{position:absolute}.msp-plugin .msp-layout-standard-outside .msp-layout-main{position:absolute;left:0;right:0;bottom:0;top:0}.msp-plugin .msp-layout-standard-outside .msp-layout-top{position:absolute;right:0;height:97px;top:-97px;width:50%;border-left:1px solid #b5cbe2;border-bottom:1px solid #b5cbe2}.msp-plugin .msp-layout-standard-outside .msp-layout-bottom{position:absolute;left:0;right:0;height:97px;top:-97px;width:50%;border-bottom:1px solid #b5cbe2}.msp-plugin .msp-layout-standard-outside .msp-layout-right{position:absolute;width:50%;right:0;bottom:-295px;height:295px;border-left:1px solid #b5cbe2;border-top:1px solid #b5cbe2}.msp-plugin .msp-layout-standard-outside .msp-layout-left{position:absolute;width:50%;left:0;bottom:0;bottom:-295px;height:295px;border-top:1px solid #b5cbe2}.msp-plugin .msp-layout-standard-outside .msp-layout-hide-right .msp-layout-right{display:none}.msp-plugin .msp-layout-standard-outside .msp-layout-hide-right .msp-layout-left{width:100%}.msp-plugin .msp-layout-standard-outside .msp-layout-hide-left .msp-layout-left{display:none}.msp-plugin .msp-layout-standard-outside .msp-layout-hide-left .msp-layout-right{width:100%;border-left:none}.msp-plugin .msp-layout-standard-outside .msp-layout-collapse-left .msp-layout-left{width:32px}.msp-plugin .msp-layout-standard-outside .msp-layout-collapse-left .msp-layout-right{left:32px;width:auto}.msp-plugin .msp-layout-standard-outside .msp-layout-hide-top .msp-layout-top{display:none}.msp-plugin .msp-layout-standard-outside .msp-layout-hide-top .msp-layout-bottom{width:100%;border-left:none}.msp-plugin .msp-layout-standard-outside .msp-layout-hide-bottom .msp-layout-bottom{display:none}.msp-plugin .msp-layout-standard-outside .msp-layout-hide-bottom .msp-layout-top{width:100%;border-left:none}.msp-plugin .msp-layout-standard-landscape{position:absolute}.msp-plugin .msp-layout-standard-landscape .msp-layout-main{position:absolute;left:330px;right:300px;bottom:70px;top:100px}.msp-plugin .msp-layout-standard-landscape .msp-layout-top{position:absolute;left:330px;right:300px;height:100px;top:0;border-bottom:1px solid #b5cbe2}.msp-plugin .msp-layout-standard-landscape .msp-layout-bottom{position:absolute;left:330px;right:300px;height:70px;bottom:0;border-top:1px solid #b5cbe2}.msp-plugin .msp-layout-standard-landscape .msp-layout-right{position:absolute;width:300px;right:0;bottom:0;top:0;border-left:1px solid #b5cbe2}.msp-plugin .msp-layout-standard-landscape .msp-layout-left{position:absolute;width:330px;left:0;bottom:0;top:0;border-right:1px solid #b5cbe2}.msp-plugin .msp-layout-standard-landscape .msp-layout-hide-right .msp-layout-right{display:none}.msp-plugin .msp-layout-standard-landscape .msp-layout-hide-right .msp-layout-main,.msp-plugin .msp-layout-standard-landscape .msp-layout-hide-right .msp-layout-top,.msp-plugin .msp-layout-standard-landscape .msp-layout-hide-right .msp-layout-bottom{right:0}.msp-plugin .msp-layout-standard-landscape .msp-layout-hide-left .msp-layout-left{display:none}.msp-plugin .msp-layout-standard-landscape .msp-layout-hide-left .msp-layout-main,.msp-plugin .msp-layout-standard-landscape .msp-layout-hide-left .msp-layout-top,.msp-plugin .msp-layout-standard-landscape .msp-layout-hide-left .msp-layout-bottom{left:0}.msp-plugin .msp-layout-standard-landscape .msp-layout-collapse-left .msp-layout-left{width:32px}.msp-plugin .msp-layout-standard-landscape .msp-layout-collapse-left .msp-layout-main,.msp-plugin .msp-layout-standard-landscape .msp-layout-collapse-left .msp-layout-top,.msp-plugin .msp-layout-standard-landscape .msp-layout-collapse-left .msp-layout-bottom{left:32px}.msp-plugin .msp-layout-standard-landscape .msp-layout-hide-bottom .msp-layout-bottom{display:none}.msp-plugin .msp-layout-standard-landscape .msp-layout-hide-bottom .msp-layout-main{bottom:0}.msp-plugin .msp-layout-standard-landscape .msp-layout-hide-top .msp-layout-top{display:none}.msp-plugin .msp-layout-standard-landscape .msp-layout-hide-top .msp-layout-main{top:0}.msp-plugin .msp-layout-standard-portrait{position:absolute}.msp-plugin .msp-layout-standard-portrait .msp-layout-main{position:absolute;left:0;right:0;bottom:361px;top:97px}.msp-plugin .msp-layout-standard-portrait .msp-layout-top{position:absolute;right:0;height:97px;top:0;width:50%;border-left:1px solid #b5cbe2;border-bottom:1px solid #b5cbe2}.msp-plugin .msp-layout-standard-portrait .msp-layout-bottom{position:absolute;left:0;right:0;height:97px;width:50%;border-bottom:1px solid #b5cbe2}.msp-plugin .msp-layout-standard-portrait .msp-layout-right{position:absolute;width:50%;right:0;bottom:0;height:361px;border-left:1px solid #b5cbe2;border-top:1px solid #b5cbe2}.msp-plugin .msp-layout-standard-portrait .msp-layout-left{position:absolute;width:50%;left:0;bottom:0;height:361px;border-top:1px solid #b5cbe2}.msp-plugin .msp-layout-standard-portrait .msp-layout-hide-right .msp-layout-right{display:none}.msp-plugin .msp-layout-standard-portrait .msp-layout-hide-right .msp-layout-left{width:100%}.msp-plugin .msp-layout-standard-portrait .msp-layout-hide-left .msp-layout-left{display:none}.msp-plugin .msp-layout-standard-portrait .msp-layout-hide-left .msp-layout-right{width:100%;border-left:none}.msp-plugin .msp-layout-standard-portrait .msp-layout-hide-right.msp-layout-hide-left .msp-layout-main{bottom:0}.msp-plugin .msp-layout-standard-portrait .msp-layout-collapse-left .msp-layout-left{width:32px}.msp-plugin .msp-layout-standard-portrait .msp-layout-collapse-left .msp-layout-right{left:32px;width:auto}.msp-plugin .msp-layout-standard-portrait .msp-layout-hide-top .msp-layout-top{display:none}.msp-plugin .msp-layout-standard-portrait .msp-layout-hide-top .msp-layout-bottom{width:100%;border-left:none}.msp-plugin .msp-layout-standard-portrait .msp-layout-hide-bottom .msp-layout-bottom{display:none}.msp-plugin .msp-layout-standard-portrait .msp-layout-hide-bottom .msp-layout-top{width:100%;border-left:none}.msp-plugin .msp-layout-standard-portrait .msp-layout-hide-top.msp-layout-hide-bottom .msp-layout-main{top:0}.msp-plugin .msp-layout-standard-reactive{position:absolute}@media(orientation: landscape),(min-width: 1000px){.msp-plugin .msp-layout-standard-reactive .msp-layout-main{position:absolute;left:330px;right:300px;bottom:70px;top:100px}.msp-plugin .msp-layout-standard-reactive .msp-layout-top{position:absolute;left:330px;right:300px;height:100px;top:0;border-bottom:1px solid #b5cbe2}.msp-plugin .msp-layout-standard-reactive .msp-layout-bottom{position:absolute;left:330px;right:300px;height:70px;bottom:0;border-top:1px solid #b5cbe2}.msp-plugin .msp-layout-standard-reactive .msp-layout-right{position:absolute;width:300px;right:0;bottom:0;top:0;border-left:1px solid #b5cbe2}.msp-plugin .msp-layout-standard-reactive .msp-layout-left{position:absolute;width:330px;left:0;bottom:0;top:0;border-right:1px solid #b5cbe2}.msp-plugin .msp-layout-standard-reactive .msp-layout-hide-right .msp-layout-right{display:none}.msp-plugin .msp-layout-standard-reactive .msp-layout-hide-right .msp-layout-main,.msp-plugin .msp-layout-standard-reactive .msp-layout-hide-right .msp-layout-top,.msp-plugin .msp-layout-standard-reactive .msp-layout-hide-right .msp-layout-bottom{right:0}.msp-plugin .msp-layout-standard-reactive .msp-layout-hide-left .msp-layout-left{display:none}.msp-plugin .msp-layout-standard-reactive .msp-layout-hide-left .msp-layout-main,.msp-plugin .msp-layout-standard-reactive .msp-layout-hide-left .msp-layout-top,.msp-plugin .msp-layout-standard-reactive .msp-layout-hide-left .msp-layout-bottom{left:0}.msp-plugin .msp-layout-standard-reactive .msp-layout-collapse-left .msp-layout-left{width:32px}.msp-plugin .msp-layout-standard-reactive .msp-layout-collapse-left .msp-layout-main,.msp-plugin .msp-layout-standard-reactive .msp-layout-collapse-left .msp-layout-top,.msp-plugin .msp-layout-standard-reactive .msp-layout-collapse-left .msp-layout-bottom{left:32px}.msp-plugin .msp-layout-standard-reactive .msp-layout-hide-bottom .msp-layout-bottom{display:none}.msp-plugin .msp-layout-standard-reactive .msp-layout-hide-bottom .msp-layout-main{bottom:0}.msp-plugin .msp-layout-standard-reactive .msp-layout-hide-top .msp-layout-top{display:none}.msp-plugin .msp-layout-standard-reactive .msp-layout-hide-top .msp-layout-main{top:0}}@media(orientation: portrait)and (max-width: 1000px){.msp-plugin .msp-layout-standard-reactive .msp-layout-main{position:absolute;left:0;right:0;bottom:361px;top:97px}.msp-plugin .msp-layout-standard-reactive .msp-layout-top{position:absolute;right:0;height:97px;top:0;width:50%;border-left:1px solid #b5cbe2;border-bottom:1px solid #b5cbe2}.msp-plugin .msp-layout-standard-reactive .msp-layout-bottom{position:absolute;left:0;right:0;height:97px;width:50%;border-bottom:1px solid #b5cbe2}.msp-plugin .msp-layout-standard-reactive .msp-layout-right{position:absolute;width:50%;right:0;bottom:0;height:361px;border-left:1px solid #b5cbe2;border-top:1px solid #b5cbe2}.msp-plugin .msp-layout-standard-reactive .msp-layout-left{position:absolute;width:50%;left:0;bottom:0;height:361px;border-top:1px solid #b5cbe2}.msp-plugin .msp-layout-standard-reactive .msp-layout-hide-right .msp-layout-right{display:none}.msp-plugin .msp-layout-standard-reactive .msp-layout-hide-right .msp-layout-left{width:100%}.msp-plugin .msp-layout-standard-reactive .msp-layout-hide-left .msp-layout-left{display:none}.msp-plugin .msp-layout-standard-reactive .msp-layout-hide-left .msp-layout-right{width:100%;border-left:none}.msp-plugin .msp-layout-standard-reactive .msp-layout-hide-right.msp-layout-hide-left .msp-layout-main{bottom:0}.msp-plugin .msp-layout-standard-reactive .msp-layout-collapse-left .msp-layout-left{width:32px}.msp-plugin .msp-layout-standard-reactive .msp-layout-collapse-left .msp-layout-right{left:32px;width:auto}.msp-plugin .msp-layout-standard-reactive .msp-layout-hide-top .msp-layout-top{display:none}.msp-plugin .msp-layout-standard-reactive .msp-layout-hide-top .msp-layout-bottom{width:100%;border-left:none}.msp-plugin .msp-layout-standard-reactive .msp-layout-hide-bottom .msp-layout-bottom{display:none}.msp-plugin .msp-layout-standard-reactive .msp-layout-hide-bottom .msp-layout-top{width:100%;border-left:none}.msp-plugin .msp-layout-standard-reactive .msp-layout-hide-top.msp-layout-hide-bottom .msp-layout-main{top:0}}.msp-plugin .msp-layout-expanded{position:fixed}@media(orientation: landscape){.msp-plugin .msp-layout-expanded .msp-layout-main{position:absolute;left:330px;right:300px;bottom:70px;top:100px}.msp-plugin .msp-layout-expanded .msp-layout-top{position:absolute;left:330px;right:300px;height:100px;top:0;border-bottom:1px solid #b5cbe2}.msp-plugin .msp-layout-expanded .msp-layout-bottom{position:absolute;left:330px;right:300px;height:70px;bottom:0;border-top:1px solid #b5cbe2}.msp-plugin .msp-layout-expanded .msp-layout-right{position:absolute;width:300px;right:0;bottom:0;top:0;border-left:1px solid #b5cbe2}.msp-plugin .msp-layout-expanded .msp-layout-left{position:absolute;width:330px;left:0;bottom:0;top:0;border-right:1px solid #b5cbe2}.msp-plugin .msp-layout-expanded .msp-layout-hide-right .msp-layout-right{display:none}.msp-plugin .msp-layout-expanded .msp-layout-hide-right .msp-layout-main,.msp-plugin .msp-layout-expanded .msp-layout-hide-right .msp-layout-top,.msp-plugin .msp-layout-expanded .msp-layout-hide-right .msp-layout-bottom{right:0}.msp-plugin .msp-layout-expanded .msp-layout-hide-left .msp-layout-left{display:none}.msp-plugin .msp-layout-expanded .msp-layout-hide-left .msp-layout-main,.msp-plugin .msp-layout-expanded .msp-layout-hide-left .msp-layout-top,.msp-plugin .msp-layout-expanded .msp-layout-hide-left .msp-layout-bottom{left:0}.msp-plugin .msp-layout-expanded .msp-layout-collapse-left .msp-layout-left{width:32px}.msp-plugin .msp-layout-expanded .msp-layout-collapse-left .msp-layout-main,.msp-plugin .msp-layout-expanded .msp-layout-collapse-left .msp-layout-top,.msp-plugin .msp-layout-expanded .msp-layout-collapse-left .msp-layout-bottom{left:32px}.msp-plugin .msp-layout-expanded .msp-layout-hide-bottom .msp-layout-bottom{display:none}.msp-plugin .msp-layout-expanded .msp-layout-hide-bottom .msp-layout-main{bottom:0}.msp-plugin .msp-layout-expanded .msp-layout-hide-top .msp-layout-top{display:none}.msp-plugin .msp-layout-expanded .msp-layout-hide-top .msp-layout-main{top:0}}@media(orientation: portrait){.msp-plugin .msp-layout-expanded .msp-layout-main{position:absolute;left:0;right:0;bottom:361px;top:97px}.msp-plugin .msp-layout-expanded .msp-layout-top{position:absolute;right:0;height:97px;top:0;width:50%;border-left:1px solid #b5cbe2;border-bottom:1px solid #b5cbe2}.msp-plugin .msp-layout-expanded .msp-layout-bottom{position:absolute;left:0;right:0;height:97px;width:50%;border-bottom:1px solid #b5cbe2}.msp-plugin .msp-layout-expanded .msp-layout-right{position:absolute;width:50%;right:0;bottom:0;height:361px;border-left:1px solid #b5cbe2;border-top:1px solid #b5cbe2}.msp-plugin .msp-layout-expanded .msp-layout-left{position:absolute;width:50%;left:0;bottom:0;height:361px;border-top:1px solid #b5cbe2}.msp-plugin .msp-layout-expanded .msp-layout-hide-right .msp-layout-right{display:none}.msp-plugin .msp-layout-expanded .msp-layout-hide-right .msp-layout-left{width:100%}.msp-plugin .msp-layout-expanded .msp-layout-hide-left .msp-layout-left{display:none}.msp-plugin .msp-layout-expanded .msp-layout-hide-left .msp-layout-right{width:100%;border-left:none}.msp-plugin .msp-layout-expanded .msp-layout-hide-right.msp-layout-hide-left .msp-layout-main{bottom:0}.msp-plugin .msp-layout-expanded .msp-layout-collapse-left .msp-layout-left{width:32px}.msp-plugin .msp-layout-expanded .msp-layout-collapse-left .msp-layout-right{left:32px;width:auto}.msp-plugin .msp-layout-expanded .msp-layout-hide-top .msp-layout-top{display:none}.msp-plugin .msp-layout-expanded .msp-layout-hide-top .msp-layout-bottom{width:100%;border-left:none}.msp-plugin .msp-layout-expanded .msp-layout-hide-bottom .msp-layout-bottom{display:none}.msp-plugin .msp-layout-expanded .msp-layout-hide-bottom .msp-layout-top{width:100%;border-left:none}.msp-plugin .msp-layout-expanded .msp-layout-hide-top.msp-layout-hide-bottom .msp-layout-main{top:0}}.msp-plugin ::-webkit-scrollbar{width:10px;height:10px}.msp-plugin ::-webkit-scrollbar-track{border-radius:0;background-color:#e3ebf4}.msp-plugin ::-webkit-scrollbar-thumb{border-radius:0;background-color:#f2f6fa}.msp-plugin .msp-form-control,.msp-plugin .msp-control-row select,.msp-plugin .msp-control-row button,.msp-plugin .msp-control-row input[type=text],.msp-plugin .msp-btn{display:block;width:100%;background:#f5f8fb;border:none;padding:0 10px;line-height:30px;height:32px;-webkit-appearance:none;-moz-appearance:none;appearance:none;-webkit-box-shadow:none;box-shadow:none;background-image:none}.msp-plugin .msp-form-control::-moz-placeholder,.msp-plugin .msp-control-row select::-moz-placeholder,.msp-plugin .msp-control-row button::-moz-placeholder,.msp-plugin .msp-control-row input[type=text]::-moz-placeholder,.msp-plugin .msp-btn::-moz-placeholder{color:#878787;opacity:1}.msp-plugin .msp-form-control:-ms-input-placeholder,.msp-plugin .msp-control-row select:-ms-input-placeholder,.msp-plugin .msp-control-row button:-ms-input-placeholder,.msp-plugin .msp-control-row input[type=text]:-ms-input-placeholder,.msp-plugin .msp-btn:-ms-input-placeholder{color:#878787}.msp-plugin .msp-form-control::-webkit-input-placeholder,.msp-plugin .msp-control-row select::-webkit-input-placeholder,.msp-plugin .msp-control-row button::-webkit-input-placeholder,.msp-plugin .msp-control-row input[type=text]::-webkit-input-placeholder,.msp-plugin .msp-btn::-webkit-input-placeholder{color:#878787}.msp-plugin .msp-form-control:hover,.msp-plugin .msp-control-row select:hover,.msp-plugin .msp-control-row button:hover,.msp-plugin .msp-control-row input[type=text]:hover,.msp-plugin .msp-btn:hover{color:#325880;background-color:#e3ebf4;border:none;outline-offset:-1px !important;outline:1px solid #acc5df !important}.msp-plugin .msp-form-control:active,.msp-plugin .msp-control-row select:active,.msp-plugin .msp-control-row button:active,.msp-plugin .msp-control-row input[type=text]:active,.msp-plugin .msp-btn:active,.msp-plugin .msp-form-control:focus,.msp-plugin .msp-control-row select:focus,.msp-plugin .msp-control-row button:focus,.msp-plugin .msp-control-row input[type=text]:focus,.msp-plugin .msp-btn:focus{color:#333;background-color:#f5f8fb;border:none;outline-offset:0;outline:none}.msp-plugin .msp-form-control[disabled],.msp-plugin .msp-control-row select[disabled],.msp-plugin .msp-control-row button[disabled],.msp-plugin .msp-control-row input[disabled][type=text],.msp-plugin [disabled].msp-btn,.msp-plugin .msp-form-control[readonly],.msp-plugin .msp-control-row select[readonly],.msp-plugin .msp-control-row button[readonly],.msp-plugin .msp-control-row input[readonly][type=text],.msp-plugin [readonly].msp-btn,fieldset[disabled] .msp-plugin .msp-form-control,fieldset[disabled] .msp-plugin .msp-control-row select,fieldset[disabled] .msp-plugin .msp-control-row button,fieldset[disabled] .msp-plugin .msp-control-row input[type=text],fieldset[disabled] .msp-plugin .msp-btn{background:#ecf2f8;opacity:.35}.msp-plugin .msp-btn,.msp-plugin .msp-control-row button{display:inline-block;margin-bottom:0;text-align:center;touch-action:manipulation;cursor:pointer;background-image:none;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;padding:0 10px;line-height:32px;border:none;-moz-box-sizing:border-box;box-sizing:border-box}.msp-plugin .msp-btn[disabled],.msp-plugin .msp-control-row button[disabled]{background:#ecf2f8;opacity:.35}.msp-plugin .msp-btn-block,.msp-plugin .msp-control-row button{display:block;width:100%}.msp-plugin .msp-btn,.msp-plugin .msp-control-row button,.msp-plugin .msp-btn:active,.msp-plugin .msp-btn-link:focus,.msp-plugin .msp-btn:hover{outline:none}.msp-plugin .msp-material-icon svg{display:inline-flex;vertical-align:middle;font-size:1.2em;margin-bottom:3px;fill:currentColor;width:1em;height:1em;flex-shrink:0;user-select:none}.msp-plugin .msp-btn-block>.msp-material-icon,.msp-plugin .msp-control-row button>.msp-material-icon{margin-left:0;margin-right:.4em}.msp-plugin .msp-btn-childless>.msp-material-icon{margin-left:0;margin-right:0}.msp-plugin .msp-btn-icon{border:none;height:32px;width:32px;line-height:32px;padding:0;text-align:center}.msp-plugin .msp-btn-icon:hover{color:#325880;background-color:#e3ebf4;border:none;outline-offset:-1px !important;outline:1px solid #acc5df !important}.msp-plugin .msp-btn-icon[disabled],.msp-plugin .msp-btn-icon[disabled]:hover,.msp-plugin .msp-btn-icon[disabled]:active{color:#878787}.msp-plugin .msp-btn-icon-small{border:none;height:32px;width:20px;line-height:32px;padding:0;text-align:center}.msp-plugin .msp-btn-icon-small:hover{color:#325880;background-color:#e3ebf4;border:none;outline-offset:-1px !important;outline:1px solid #acc5df !important}.msp-plugin .msp-btn-icon-small[disabled],.msp-plugin .msp-btn-icon-small[disabled]:hover,.msp-plugin .msp-btn-icon-small[disabled]:active{color:#878787}.msp-plugin .msp-btn-link{font-weight:normal;border-radius:0}.msp-plugin .msp-btn-link,.msp-plugin .msp-btn-link:active,.msp-plugin .msp-btn-link.active,.msp-plugin .msp-btn-link[disabled],fieldset[disabled] .msp-plugin .msp-btn-link{background-color:rgba(0,0,0,0);-webkit-box-shadow:none;box-shadow:none}.msp-plugin .msp-btn-link,.msp-plugin .msp-btn-link:hover,.msp-plugin .msp-btn-link:focus,.msp-plugin .msp-btn-link:active{border-color:rgba(0,0,0,0)}.msp-plugin .msp-btn-link:hover,.msp-plugin .msp-btn-link:focus{text-decoration:none;background-color:rgba(0,0,0,0)}.msp-plugin .msp-btn-link[disabled]:hover,.msp-plugin .msp-btn-link[disabled]:focus,fieldset[disabled] .msp-plugin .msp-btn-link:hover,fieldset[disabled] .msp-plugin .msp-btn-link:focus{text-decoration:none}.msp-plugin .msp-btn-link .msp-icon{font-size:100%}.msp-plugin .msp-btn-link,.msp-plugin .msp-btn-link:active,.msp-plugin .msp-btn-link:focus{color:#333;text-decoration:none}.msp-plugin .msp-btn-link:hover{color:#325880;text-decoration:none}.msp-plugin .msp-btn-link-toggle-on{color:#333}.msp-plugin .msp-btn-link-toggle-off,.msp-plugin .msp-btn-link-toggle-off:active,.msp-plugin .msp-btn-link-toggle-off:focus{color:#878787 !important}.msp-plugin .msp-btn-link-toggle-off:hover,.msp-plugin .msp-btn-link-toggle-on:hover{color:#325880 !important}.msp-plugin .msp-btn-action,.msp-plugin .msp-btn-action:active,.msp-plugin .msp-btn-action:focus{color:#333;background:#f5f8fb}.msp-plugin .msp-btn-action:hover{color:#325880;background:#fff}.msp-plugin .msp-btn-action[disabled],.msp-plugin .msp-btn-action[disabled]:hover,.msp-plugin .msp-btn-action[disabled]:active,.msp-plugin .msp-btn-action[disabled]:focus{color:#363636}.msp-plugin .msp-btn-commit-on,.msp-plugin .msp-btn-commit-on:active,.msp-plugin .msp-btn-commit-on:focus{color:#325880;background:#f4f7fb}.msp-plugin .msp-btn-commit-on:hover{color:#325880;background:#fdfdfe}.msp-plugin .msp-btn-commit-on[disabled],.msp-plugin .msp-btn-commit-on[disabled]:hover,.msp-plugin .msp-btn-commit-on[disabled]:active,.msp-plugin .msp-btn-commit-on[disabled]:focus{color:#335b84}.msp-plugin .msp-btn-commit-off,.msp-plugin .msp-btn-commit-off:active,.msp-plugin .msp-btn-commit-off:focus{color:#333;background:#fbfcfd}.msp-plugin .msp-btn-commit-off:hover{color:#325880;background:#fff}.msp-plugin .msp-btn-commit-off[disabled],.msp-plugin .msp-btn-commit-off[disabled]:hover,.msp-plugin .msp-btn-commit-off[disabled]:active,.msp-plugin .msp-btn-commit-off[disabled]:focus{color:#363636}.msp-plugin .msp-btn-remove:hover{color:#bf3a31}.msp-plugin .msp-btn-commit-on:hover{color:#5a8bbe}.msp-plugin .msp-btn-action{height:32px;line-height:32px}.msp-plugin input[type=file]{display:block}.msp-plugin input[type=range]{display:block;width:100%}.msp-plugin select[multiple],.msp-plugin select[size]{height:auto}.msp-plugin textarea.msp-form-control,.msp-plugin textarea.msp-btn{height:auto}.msp-plugin .msp-control-top-offset{margin-top:1px}.msp-plugin .msp-btn-commit{text-align:right;padding-top:0;padding-bottom:0;padding-right:10px;padding-left:0;line-height:32px;border:none;overflow:hidden;font-weight:bold}.msp-plugin .msp-btn-commit .msp-icon{display:block-inline;line-height:32px;width:32px;text-align:center}.msp-plugin select.msp-form-control,.msp-plugin .msp-control-row select,.msp-plugin select.msp-btn{background:none;background-color:#f5f8fb;background-size:8px 12px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAUCAMAAACzvE1FAAAADFBMVEUzMzMzMzMzMzMzMzMKAG/3AAAAA3RSTlMAf4C/aSLHAAAAPElEQVR42q3NMQ4AIAgEQTn//2cLdRKppSGzBYwzVXvznNWs8C58CiussPJj8h6NwgorrKRdTvuV9v16Afn0AYFOB7aYAAAAAElFTkSuQmCC);background-repeat:no-repeat;background-position:right 10px center;padding-right:24px}.msp-plugin select.msp-form-control:-moz-focusring,.msp-plugin .msp-control-row select:-moz-focusring,.msp-plugin select.msp-btn:-moz-focusring{color:rgba(0,0,0,0);text-shadow:0 0 0 #333}.msp-plugin .msp-default-bg{background:#ecf2f8}.msp-plugin .msp-transparent-bg{background:rgba(0,0,0,0)}.msp-plugin .msp-no-hover-outline:hover{color:#325880;background-color:inherit;border:none;outline-offset:0 !important;outline:none !important}.msp-plugin .msp-icon-inline{margin-right:8px}.msp-plugin .msp-control-row{position:relative;height:32px;background:#ecf2f8;margin-top:1px}.msp-plugin .msp-control-row>span.msp-control-row-label,.msp-plugin .msp-control-row>button.msp-control-button-label{line-height:32px;display:block;width:120px;text-align:right;padding:0 10px;color:#595959;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;cursor:default}.msp-plugin .msp-control-row>button.msp-control-button-label{background:#ecf2f8;cursor:pointer}.msp-plugin .msp-control-row .msp-control-current{background:#ecf2f8}.msp-plugin .msp-control-row>div.msp-control-row-ctrl{position:absolute;left:120px;top:0;right:0;bottom:0}.msp-plugin .msp-control-row>div{background:#f5f8fb}.msp-plugin .msp-control-row>.msp-flex-row{background:#ecf2f8}.msp-plugin .msp-control-label-short>span{width:80px !important}.msp-plugin .msp-control-label-short>div:nth-child(2){left:80px !important}.msp-plugin .msp-control-col-2{float:left;width:50%}.msp-plugin .msp-control-group{position:relative}.msp-plugin .msp-toggle-button .msp-icon{display:inline-block;margin-right:6px}.msp-plugin .msp-toggle-button>div>button:hover{border-color:#e3ebf4 !important;border:none;outline-offset:-1px !important;outline:1px solid #acc5df !important}.msp-plugin .msp-slider>div:first-child{position:absolute;top:0;left:18px;bottom:0;right:62px;display:flex}.msp-plugin .msp-slider>div:last-child{position:absolute;height:32px;line-height:32px;text-align:center;right:0;width:50px;top:0;bottom:0}.msp-plugin .msp-slider input[type=text]{padding-right:6px;padding-left:4px;font-size:80%;text-align:right}.msp-plugin .msp-slider2>div:first-child{position:absolute;height:32px;line-height:32px;text-align:center;left:0;width:25px;top:0;bottom:0;font-size:80%}.msp-plugin .msp-slider2>div:nth-child(2){position:absolute;top:0;left:35px;bottom:0;right:37px;display:flex}.msp-plugin .msp-slider2>div:last-child{position:absolute;height:32px;line-height:32px;text-align:center;right:0;width:25px;top:0;bottom:0;font-size:80%}.msp-plugin .msp-slider2 input[type=text]{padding-right:4px;padding-left:4px;font-size:80%;text-align:center}.msp-plugin .msp-toggle-color-picker button{border:10px solid #f5f8fb !important;margin:0;text-align:center;padding-right:10px;padding-left:10px}.msp-plugin .msp-toggle-color-picker button:hover{border-color:#e3ebf4 !important;border:none;outline-offset:-1px !important;outline:1px solid #acc5df !important}.msp-plugin .msp-toggle-color-picker .msp-color-picker{position:absolute;z-index:100000;background:#ecf2f8;border-top:1px solid #ecf2f8;padding-bottom:5px;width:100%}.msp-plugin .msp-toggle-color-picker-above .msp-color-picker{top:-85px;height:85px}.msp-plugin .msp-toggle-color-picker-below .msp-color-picker{top:32px;height:80px}.msp-plugin .msp-control-offset{padding-left:10px}.msp-plugin .msp-accent-offset{padding-left:1px;margin-left:8px;border-left:2px solid #e98b39}.msp-plugin .msp-control-group-wrapper{margin-bottom:0px;margin-top:1px}.msp-plugin .msp-control-group-header{background:#ecf2f8}.msp-plugin .msp-control-group-header>button,.msp-plugin .msp-control-group-header div{padding-left:4px;text-align:left;height:24px !important;line-height:24px !important;font-size:85% !important;background:#ecf2f8 !important;color:#595959}.msp-plugin .msp-control-group-header .msp-icon{height:24px !important;line-height:24px !important}.msp-plugin .msp-control-group-header>span{padding-left:5px;line-height:21.3333333333px;font-size:70%;background:#ecf2f8;color:#595959}.msp-plugin .msp-control-current{background:#ecf2f8}.msp-plugin .msp-control-group-footer{background:#dae5f1;height:5px;font-size:1px;margin-top:1px}.msp-plugin .msp-control-group-expander{display:block;position:absolute;line-height:32px;padding:0;left:0;top:0;width:120px;text-align:left;background:rgba(0,0,0,0)}.msp-plugin .msp-control-group-expander .msp-icon{line-height:29px;width:31px;text-align:center;font-size:100%}.msp-plugin .msp-plugin-layout_controls{position:absolute;left:10px;top:10px}.msp-plugin .msp-plugin-layout_controls>button:first-child{margin-right:6px}.msp-plugin .msp-empty-control{display:none}.msp-plugin .msp-control .msp-btn-block,.msp-plugin .msp-control .msp-control-row button,.msp-plugin .msp-control-row .msp-control button{margin-bottom:0px;margin-top:0px}.msp-plugin .msp-row-text{height:32px;position:relative;background:#ecf2f8;margin-top:1px}.msp-plugin .msp-row-text>div{line-height:32px;text-align:center;color:#595959}.msp-plugin .msp-help span{display:none}.msp-plugin .msp-help:hover span{display:inline-block;background:linear-gradient(#ecf2f8, rgba(236, 242, 248, 0.8))}.msp-plugin .msp-help-text{position:relative;background:#ecf2f8;margin-top:1px}.msp-plugin .msp-help-text>div{padding:5px 10px;text-align:left;color:#595959}.msp-plugin .msp-help-description{font-style:italic}.msp-plugin .msp-help-legend{padding-top:10px}.msp-plugin .msp-scale-legend>div{width:100%;height:30px}.msp-plugin .msp-scale-legend>div>span{padding:5px;color:#fff;font-weight:bold;background-color:rgba(0,0,0,.2)}.msp-plugin .msp-table-legend>div{margin-right:5px;display:inline-flex}.msp-plugin .msp-table-legend>div .msp-table-legend-color{width:30px;height:20px}.msp-plugin .msp-table-legend>div .msp-table-legend-text{margin:0 5px}.msp-plugin .msp-image-preview{position:relative;background:#ecf2f8;margin-top:1px;padding:10px}.msp-plugin .msp-image-preview canvas{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.msp-plugin .msp-image-preview>span{margin-top:6px;display:block;text-align:center;font-size:80%;line-height:15px}.msp-plugin .msp-copy-image-wrapper{position:relative}.msp-plugin .msp-copy-image-wrapper div{font-weight:bold;padding:3px;margin:1px 0;width:100%;background:#f5f8fb;text-align:center}.msp-plugin .msp-copy-image-wrapper img{margin-top:1px}.msp-plugin .msp-slider-base{position:relative;height:14px;padding:5px 0;width:100%;border-radius:6px;align-self:center;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.msp-plugin .msp-slider-base *{box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.msp-plugin .msp-slider-base-rail{position:absolute;width:100%;background-color:#d4e1ee;height:4px;border-radius:2px}.msp-plugin .msp-slider-base-track{position:absolute;left:0;height:4px;border-radius:6px;background-color:tint(#333333, 60%)}.msp-plugin .msp-slider-base-handle{position:absolute;margin-left:-11px;margin-top:-9px;width:22px;height:22px;cursor:pointer;border-radius:50%;background-color:#333;border:4px solid #d4e1ee}.msp-plugin .msp-slider-base-handle:hover{background-color:#325880}.msp-plugin .msp-slider-base-mark{position:absolute;top:18px;left:0;width:100%;font-size:12px}.msp-plugin .msp-slider-base-mark-text{position:absolute;display:inline-block;vertical-align:middle;text-align:center;cursor:pointer;color:#999}.msp-plugin .msp-slider-base-mark-text-active{color:#666}.msp-plugin .msp-slider-base-step{position:absolute;width:100%;height:4px;background:rgba(0,0,0,0)}.msp-plugin .msp-slider-base-dot{position:absolute;bottom:-2px;margin-left:-4px;width:8px;height:8px;border:2px solid #e9e9e9;background-color:#fff;cursor:pointer;border-radius:50%;vertical-align:middle}.msp-plugin .msp-slider-base-dot:first-child{margin-left:-4px}.msp-plugin .msp-slider-base-dot:last-child{margin-left:-4px}.msp-plugin .msp-slider-base-dot-active{border-color:tint(#333333, 50%)}.msp-plugin .msp-slider-base-disabled{background:#ecf2f8;opacity:.35}.msp-plugin .msp-slider-base-disabled .msp-slider-base-handle,.msp-plugin .msp-slider-base-disabled .msp-slider-base-dot{cursor:not-allowed}.msp-plugin .msp-slider-base-disabled .msp-slider-base-mark-text,.msp-plugin .msp-slider-base-disabled .msp-slider-base-dot{cursor:not-allowed !important}.msp-plugin .msp-description{padding:10px;font-size:85%;background:#ecf2f8;text-align:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;font-weight:light;cursor:default}.msp-plugin .msp-description:not(:first-child){border-top:1px solid #d4e1ee}.msp-plugin .msp-color-picker input{color:#000 !important}.msp-plugin .msp-no-webgl{position:absolute;width:100%;height:100%;left:0;top:0;display:table;text-align:center;background:#ecf2f8}.msp-plugin .msp-no-webgl>div{display:table-cell;vertical-align:middle;text-align:center;width:100%;height:100%}.msp-plugin .msp-no-webgl>div b{font-size:120%}.msp-plugin .msp-loader-msp-btn-file{position:relative;overflow:hidden}.msp-plugin .msp-loader-msp-btn-file input[type=file]{position:absolute;top:0;right:0;min-width:100%;min-height:100%;font-size:100px;text-align:right;filter:alpha(opacity=0);opacity:0;outline:none;background:#fff;cursor:inherit;display:block}.msp-plugin .msp-controls-section{margin-bottom:10px}.msp-plugin .msp-combined-color-button{border:4px solid #f5f8fb !important;margin:0;text-align:center;padding-right:10px;padding-left:10px}.msp-plugin .msp-combined-color-button:hover{border-color:#e3ebf4 !important;border:none;outline-offset:-1px !important;outline:1px solid #acc5df !important}.msp-plugin .msp-combined-color-swatch{width:100%;display:grid;grid-gap:1px;grid-template-columns:repeat(6, auto)}.msp-plugin .msp-combined-color-swatch .msp-btn:hover,.msp-plugin .msp-combined-color-swatch .msp-control-row button:hover,.msp-plugin .msp-control-row .msp-combined-color-swatch button:hover{outline-offset:-1px !important;outline:1px solid #acc5df !important}.msp-plugin .msp-action-select{position:relative}.msp-plugin .msp-action-select select{padding-left:42px}.msp-plugin .msp-action-select option:first-child{color:#595959}.msp-plugin .msp-action-select>.msp-icon{display:block;top:0;left:10px;position:absolute;line-height:32px}.msp-plugin .msp-simple-help-section{height:28px;line-height:28px;margin-top:5px;margin-bottom:5px;padding:0 10px;font-weight:500;background:#ecf2f8;color:#333}.msp-plugin .msp-left-panel-controls-buttons{position:absolute;width:32px;top:0;bottom:0;padding-top:10px;background:#ecf2f8}.msp-plugin .msp-left-panel-controls-buttons-bottom{position:absolute;bottom:0}.msp-plugin .msp-left-panel-controls-button-data-dirty{position:absolute;width:6px;height:6px;background:#e98b39;border-radius:3px;right:6px;bottom:6px}.msp-plugin .msp-left-panel-controls .msp-scrollable-container{left:33px}.msp-plugin .msp-mapped-parameter-group{position:relative}.msp-plugin .msp-mapped-parameter-group>.msp-control-row:first-child>div:nth-child(2){right:33px}.msp-plugin .msp-mapped-parameter-group>button:first-child{right:33px}.msp-plugin .msp-mapped-parameter-group>.msp-btn-icon{position:absolute;right:0;width:32px;top:0;padding:0}.msp-plugin .msp-shape-filled{fill:#333;stroke:#333}.msp-plugin .msp-shape-empty{fill:none;stroke:#333}.msp-plugin .msp-no-overflow{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.msp-plugin .msp-25-lower-contrast-text{color:#737373}.msp-plugin .msp-expandable-group-color-stripe{position:absolute;left:0;top:30px;width:120px;height:2px}.msp-plugin .msp-section-header{height:32px;line-height:32px;margin-top:10px;margin-bottom:10px;text-align:right;padding:0 10px;font-weight:bold;background:#ecf2f8;overflow:hidden;cursor:default}.msp-plugin .msp-section-header>.msp-icon{display:block;float:left}.msp-plugin .msp-section-header>small{font-weight:normal}.msp-plugin .msp-current-header{height:32px;line-height:32px;margin-bottom:10px;text-align:center;font-weight:bold;background:#ecf2f8}.msp-plugin .msp-flex-row{margin-top:1px;background:#ecf2f8;display:flex;flex-direction:row;width:inherit;height:32px}.msp-plugin .msp-flex-row>.msp-flex-item{margin:0;flex:1 1 auto;margin-right:1px;overflow:hidden}.msp-plugin .msp-flex-row>.msp-flex-item:last-child{margin-right:0}.msp-plugin .msp-flex-row>select,.msp-plugin .msp-flex-row>button{margin:0;flex:1 1 auto;margin-right:1px;height:32px;overflow:hidden}.msp-plugin .msp-flex-row .msp-btn-icon,.msp-plugin .msp-flex-row .msp-btn-icon-small{flex:0 0 32px;max-width:32px}.msp-plugin .msp-flex-row>select{background:none}.msp-plugin .msp-flex-row>select>option[value=_]{display:none}.msp-plugin .msp-flex-row>select:last-child,.msp-plugin .msp-flex-row>button:last-child{margin-right:0}.msp-plugin .msp-flex-row>button.msp-control-button-label{background:#ecf2f8}.msp-plugin .msp-state-list{list-style:none}.msp-plugin .msp-state-list>li{position:relative;overflow:hidden}.msp-plugin .msp-state-list>li>button:first-child{text-align:left;border-left:10px solid #c0d3e7 !important}.msp-plugin .msp-state-list>li>div{position:absolute;right:0;top:0}.msp-plugin .msp-tree-row{position:relative;margin-top:0;margin-bottom:1px;background:rgba(0,0,0,0)}.msp-plugin .msp-tree-row-current .msp-btn-tree-label{border-radius:0 !important}.msp-plugin .msp-tree-row-current .msp-btn-tree-label>span{font-weight:bold}.msp-plugin .msp-tree-row .msp-btn-tree-label{text-align:left;border-radius:0 0 0 8px;border-left-width:4px;border-left-style:solid}.msp-plugin .msp-tree-row .msp-btn-tree-label>small{color:#666}.msp-plugin .msp-tree-updates-wrapper .msp-control-group-header:last-child{margin-bottom:1px}.msp-plugin .msp-viewport-top-left-controls{position:absolute;left:10px;top:10px}.msp-plugin .msp-viewport-top-left-controls .msp-traj-controls{line-height:32px;float:left;margin-right:10px;background-color:#f5f8fb}.msp-plugin .msp-viewport-top-left-controls .msp-traj-controls>span{color:#333;margin-left:10px;margin-right:10px;font-size:85%;display:inline-block}.msp-plugin .msp-viewport-top-left-controls .msp-state-snapshot-viewport-controls{line-height:32px;float:left;margin-right:10px}.msp-plugin .msp-viewport-top-left-controls .msp-state-snapshot-viewport-controls>button{background-color:#f5f8fb}.msp-plugin .msp-viewport-top-left-controls .msp-state-snapshot-viewport-controls>select{display:inline-block;width:200px;margin-right:10px}.msp-plugin .msp-viewport-top-left-controls .msp-animation-viewport-controls{line-height:32px;float:left;margin-right:10px;position:relative}.msp-plugin .msp-viewport-top-left-controls .msp-animation-viewport-controls>div:first-child{position:relative;display:inline-block}.msp-plugin .msp-viewport-top-left-controls .msp-animation-viewport-controls>div:first-child>button{position:relative}.msp-plugin .msp-viewport-top-left-controls .msp-animation-viewport-controls .msp-animation-viewport-controls-select{width:290px;position:absolute;left:0;margin-top:10px;background:#d4e1ee}.msp-plugin .msp-viewport-top-left-controls .msp-animation-viewport-controls .msp-animation-viewport-controls-select .msp-control-row:first-child{margin-top:0}.msp-plugin .msp-selection-viewport-controls{position:relative;margin:10px auto 0 auto;width:430px}.msp-plugin .msp-selection-viewport-controls-actions{position:absolute;width:100%;top:32px;background:#d4e1ee}.msp-plugin .msp-selection-viewport-controls>.msp-flex-row .msp-btn,.msp-plugin .msp-selection-viewport-controls>.msp-flex-row .msp-control-row button,.msp-plugin .msp-control-row .msp-selection-viewport-controls>.msp-flex-row button{padding:0 5px}.msp-plugin .msp-selection-viewport-controls select.msp-form-control,.msp-plugin .msp-selection-viewport-controls select.msp-btn,.msp-plugin .msp-selection-viewport-controls .msp-control-row select,.msp-plugin .msp-control-row .msp-selection-viewport-controls select{padding:0 5px;text-align:center;background:#f5f8fb;flex:0 0 80px;text-overflow:ellipsis}.msp-plugin .msp-param-object-list-item{margin-top:1px;position:relative}.msp-plugin .msp-param-object-list-item>button{text-align:left}.msp-plugin .msp-param-object-list-item>button>span{font-weight:bold}.msp-plugin .msp-param-object-list-item>div{position:absolute;right:0;top:0}.msp-plugin .msp-state-actions .msp-transform-wrapper:last-child{margin-bottom:10px}.msp-plugin .msp-button-row{display:flex;flex-direction:row;height:32px;width:inherit}.msp-plugin .msp-button-row>button{margin:0;flex:1 1 auto;margin-right:1px;height:32px;text-align-last:center;background:none;padding:0 10px;overflow:hidden}.msp-plugin .msp-action-menu-options-no-header,.msp-plugin .msp-action-menu-options .msp-control-group-children{max-height:300px;overflow:hidden;overflow-y:auto}.msp-plugin .msp-action-menu-options .msp-control-row,.msp-plugin .msp-action-menu-options button,.msp-plugin .msp-action-menu-options .msp-icon,.msp-plugin .msp-action-menu-options .msp-flex-row{height:24px;line-height:24px}.msp-plugin .msp-action-menu-options button{text-align:left}.msp-plugin .msp-action-menu-options .msp-action-menu-button{margin-top:1px;display:flex}.msp-plugin .msp-action-menu-options .msp-action-menu-button .msp-icon{margin-right:6px}.msp-plugin .msp-representation-entry{position:relative}.msp-plugin .msp-representation-entry>.msp-control-group-header>.msp-btn,.msp-plugin .msp-control-row .msp-representation-entry>.msp-control-group-header>button{font-weight:bold}.msp-plugin .msp-representation-entry>.msp-control-group-header>.msp-icon,.msp-plugin .msp-representation-entry>.msp-control-group-header>.msp-btn-link{line-height:24px;height:24px}.msp-plugin .msp-control-group-presets-wrapper{position:absolute;right:0;top:0}.msp-plugin .msp-control-group-presets-wrapper .msp-control-group-header{background:rgba(0,0,0,0)}.msp-plugin .msp-control-group-presets-wrapper button{background:rgba(0,0,0,0) !important}.msp-plugin .msp-parameter-matrix input{flex:1 1 auto;min-width:0}.msp-plugin .msp-btn-apply-simple{text-align:left}.msp-plugin .msp-btn-apply-simple .msp-icon{margin-right:10px}.msp-plugin .msp-type-class-Root{border-left-color:#ecf2f8}.msp-plugin .msp-type-class-Group{border-left-color:#e98b39}.msp-plugin .msp-type-class-Data{border-left-color:#bfc8c9}.msp-plugin .msp-type-class-Object{border-left-color:#54d98c}.msp-plugin .msp-type-class-Representation3D{border-left-color:#4aa3df}.msp-plugin .msp-type-class-Behavior{border-left-color:#b07cc6}.msp-plugin .msp-accent-color-cyan{color:#bfc8c9}.msp-plugin .msp-accent-bg-cyan{background:#bfc8c9}.msp-plugin .msp-transform-header-brand-cyan{border-bottom:1px solid #bfc8c9}.msp-plugin .msp-transform-header-brand-cyan:active,.msp-plugin .msp-transform-header-brand-cyan:focus{border-bottom:1px solid #bfc8c9}.msp-plugin .msp-accent-color-red{color:#ef8b80}.msp-plugin .msp-accent-bg-red{background:#ef8b80}.msp-plugin .msp-transform-header-brand-red{border-bottom:1px solid #ef8b80}.msp-plugin .msp-transform-header-brand-red:active,.msp-plugin .msp-transform-header-brand-red:focus{border-bottom:1px solid #ef8b80}.msp-plugin .msp-accent-color-gray{color:#46637f}.msp-plugin .msp-accent-bg-gray{background:#46637f}.msp-plugin .msp-transform-header-brand-gray{border-bottom:1px solid #46637f}.msp-plugin .msp-transform-header-brand-gray:active,.msp-plugin .msp-transform-header-brand-gray:focus{border-bottom:1px solid #46637f}.msp-plugin .msp-accent-color-green{color:#54d98c}.msp-plugin .msp-accent-bg-green{background:#54d98c}.msp-plugin .msp-transform-header-brand-green{border-bottom:1px solid #54d98c}.msp-plugin .msp-transform-header-brand-green:active,.msp-plugin .msp-transform-header-brand-green:focus{border-bottom:1px solid #54d98c}.msp-plugin .msp-accent-color-purple{color:#b07cc6}.msp-plugin .msp-accent-bg-purple{background:#b07cc6}.msp-plugin .msp-transform-header-brand-purple{border-bottom:1px solid #b07cc6}.msp-plugin .msp-transform-header-brand-purple:active,.msp-plugin .msp-transform-header-brand-purple:focus{border-bottom:1px solid #b07cc6}.msp-plugin .msp-accent-color-blue{color:#4aa3df}.msp-plugin .msp-accent-bg-blue{background:#4aa3df}.msp-plugin .msp-transform-header-brand-blue{border-bottom:1px solid #4aa3df}.msp-plugin .msp-transform-header-brand-blue:active,.msp-plugin .msp-transform-header-brand-blue:focus{border-bottom:1px solid #4aa3df}.msp-plugin .msp-accent-color-orange{color:#e98b39}.msp-plugin .msp-accent-bg-orange{background:#e98b39}.msp-plugin .msp-transform-header-brand-orange{border-bottom:1px solid #e98b39}.msp-plugin .msp-transform-header-brand-orange:active,.msp-plugin .msp-transform-header-brand-orange:focus{border-bottom:1px solid #e98b39}.msp-plugin .msp-volume-channel-inline-controls>:first-child{position:absolute;left:0;top:0;height:32px;right:32px}.msp-plugin .msp-volume-channel-inline-controls .msp-slider>div:first-child{right:42px}.msp-plugin .msp-volume-channel-inline-controls .msp-slider>div:last-child{width:30px}.msp-plugin .msp-volume-channel-inline-controls>button{position:absolute;right:0;width:32px;top:0;padding:0}.msp-plugin .msp-volume-channel-inline-controls>button .msp-material-icon{margin-right:0}.msp-plugin .msp-list-unstyled{padding-left:0;list-style:none}.msp-plugin .msp-drag-drop-overlay{border:12px dashed #333;background:rgba(0,0,0,.36);display:flex;align-items:center;justify-content:center;position:absolute;left:0;right:0;top:0;bottom:0;font-size:48px;font-weight:bold}.msp-plugin .msp-task-state{line-height:32px}.msp-plugin .msp-task-state>span{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;cursor:default}.msp-plugin .msp-overlay-tasks{position:absolute;display:flex;top:0;left:0;bottom:0;right:0;height:100%;width:100%;z-index:1000;justify-content:center;align-items:center;background:rgba(0,0,0,.25)}.msp-plugin .msp-overlay-tasks .msp-task-state>div{height:32px;margin-top:1px;position:relative;width:100%;background:#ecf2f8}.msp-plugin .msp-overlay-tasks .msp-task-state>div>div{height:32px;line-height:32px;display:inline-block;padding:0 10px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;cursor:default;white-space:nowrap;background:#ecf2f8;position:absolute}.msp-plugin .msp-overlay-tasks .msp-task-state>div>button{display:inline-block;margin-top:-3px}.msp-plugin .msp-background-tasks{position:absolute;left:0;bottom:0;z-index:1000}.msp-plugin .msp-background-tasks .msp-task-state>div{height:32px;margin-top:1px;position:relative;width:100%;background:#ecf2f8}.msp-plugin .msp-background-tasks .msp-task-state>div>div{height:32px;line-height:32px;display:inline-block;padding:0 10px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;cursor:default;white-space:nowrap;background:#ecf2f8;position:absolute}.msp-plugin .msp-background-tasks .msp-task-state>div>button{display:inline-block;margin-top:-3px}.msp-plugin .msp-viewport{position:absolute;left:0;top:0;right:0;bottom:0;background:#ecf2f8}.msp-plugin .msp-viewport .msp-btn-link{background:rgba(0,0,0,.2)}.msp-plugin .msp-viewport-expanded{position:fixed;z-index:1000}.msp-plugin .msp-viewport-host3d{position:absolute;left:0;top:0;right:0;bottom:0;-webkit-user-select:none;user-select:none;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-touch-callout:none;touch-action:manipulation}.msp-plugin .msp-viewport-host3d>canvas{background-color:#ecf2f8;background-image:linear-gradient(45deg, lightgrey 25%, transparent 25%, transparent 75%, lightgrey 75%, lightgrey),linear-gradient(45deg, lightgrey 25%, transparent 25%, transparent 75%, lightgrey 75%, lightgrey);background-size:60px 60px;background-position:0 0,30px 30px}.msp-plugin .msp-viewport-controls{position:absolute;right:10px;top:10px;width:32px}.msp-plugin .msp-viewport-controls-buttons{text-align:right;position:relative}.msp-plugin .msp-viewport-controls-buttons>div{position:relative;margin-bottom:4px}.msp-plugin .msp-viewport-controls-buttons button{padding:0;text-align:center;width:32px;position:relative}.msp-plugin .msp-viewport-controls-buttons .msp-btn-link-toggle-off{color:#878787}.msp-plugin .msp-viewport-controls-buttons .msp-btn-link:hover{color:#325880}.msp-plugin .msp-semi-transparent-background{background:#ecf2f8;opacity:.5;position:absolute;top:0;left:0;width:100%;height:100%}.msp-plugin .msp-viewport-controls-panel{width:290px;top:0;right:36px;position:absolute;background:#d4e1ee}.msp-plugin .msp-viewport-controls-panel .msp-control-group-wrapper:first-child{padding-top:0}.msp-plugin .msp-viewport-controls-panel .msp-viewport-controls-panel-controls{overflow-y:auto;max-height:400px}.msp-plugin .msp-highlight-toast-wrapper{position:absolute;right:10px;bottom:10px;max-width:95%;z-index:10000}.msp-plugin .msp-highlight-info{color:#325880;padding:3px 10px;background:#ecf2f8;opacity:90%;text-align:right;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;cursor:default}.msp-plugin .msp-highlight-info-hr{margin-inline:0px;margin-block:3px;border:none;height:1px;background-color:#325880}.msp-plugin .msp-highlight-info-additional{font-size:85%;display:inline-block;color:#5a8bbe}.msp-plugin .msp-log-wrap{position:absolute;right:0;top:0;left:0;bottom:0;overflow:hidden}.msp-plugin .msp-log{position:absolute;right:-20px;top:0;left:0;bottom:0;overflow-y:scroll;overflow-x:hidden;font-size:90%;background:#d4e1ee}.msp-plugin .msp-log{font-size:90%;color:#404040}.msp-plugin .msp-log ul{padding:0;margin:0}.msp-plugin .msp-log li{clear:both;margin:0;background:#ecf2f8;position:relative}.msp-plugin .msp-log li:not(:last-child){border-bottom:1px solid #b5cbe2}.msp-plugin .msp-log .msp-log-entry{margin-left:110px;background:#e7eef6;padding:3px 25px 3px 10px}.msp-plugin .msp-log .msp-log-timestamp{padding:3px 10px 3px 10px;float:left;text-align:right;width:110px;color:#666;font-size:100%}.msp-plugin .msp-log .msp-log-timestamp small{font-size:100%}.msp-plugin .msp-log .label{margin-top:-3px;font-size:7pt}.msp-plugin .msp-log-entry-badge{position:absolute;left:0;top:0;bottom:0;width:6px}.msp-plugin .msp-log-entry-message{background:#0cca5d}.msp-plugin .msp-log-entry-info{background:#5e3673}.msp-plugin .msp-log-entry-error{background:#fd354b}.msp-plugin .msp-log-entry-warning{background:#fcc937}.msp-plugin .msp-sequence{position:absolute;right:0;top:0;left:0;bottom:0;background:#ecf2f8}.msp-plugin .msp-sequence-select{position:relative;height:24px;width:100%;margin-bottom:1px;background:#d4e1ee;text-align:left}.msp-plugin .msp-sequence-select>span{display:inline-block;line-height:24px;padding:0 10px;font-size:85%;font-weight:bold;cursor:default}.msp-plugin .msp-sequence-select>select{display:inline-block;max-width:120px;width:auto;text-overflow:ellipsis;font-size:85%;height:24px;line-height:24px;background-size:6px 8px;background-color:#d4e1ee}.msp-plugin .msp-sequence-wrapper{word-break:break-word;padding:10px 10px 3px 10px;user-select:none}.msp-plugin .msp-sequence-wrapper-non-empty{font-size:85%;line-height:180%;font-family:\\\"Courier New\\\",monospace;background:#f5f8fb;width:100%;overflow-y:auto;overflow-x:hidden;position:absolute;top:25px;left:0;bottom:0;right:0}.msp-plugin .msp-sequence-chain-label{margin-left:10px;margin-top:10px;user-select:none;color:#325880;font-size:90%;line-height:90%;padding-left:.2em}.msp-plugin .msp-sequence-wrapper span{cursor:pointer}.msp-plugin .msp-sequence-wrapper .msp-sequence-residue-long{margin:0em .2em 0em .2em}.msp-plugin .msp-sequence-wrapper .msp-sequence-residue-long-begin{margin:0em .2em 0em 0em}.msp-plugin .msp-sequence-wrapper .msp-sequence-label{color:#325880;font-size:90%;line-height:90%;padding-bottom:1em;padding-left:.2em}.msp-plugin .msp-sequence-wrapper .msp-sequence-number{color:#325880;word-break:keep-all;cursor:default;position:relative;top:-1.1em;left:3.1em;padding:0px;margin-left:-3em;font-size:80%}.msp-plugin .msp-sequence-wrapper .msp-sequence-number-long{left:3.3em}.msp-plugin .msp-sequence-wrapper .msp-sequence-number-long-negative{left:2.7em}.msp-plugin .msp-sequence-wrapper .msp-sequence-number-negative{left:2.5em}.msp-plugin .msp-sequence-wrapper .msp-sequence-present{color:#333}.msp-plugin .msp-sequence-wrapper .msp-sequence-missing{color:#878787}.msp-plugin .msp-transformer .msp-entity-badge{position:absolute;top:0;right:0;height:32px;line-height:32px;width:32px}.msp-plugin .msp-layout-right,.msp-plugin .msp-layout-left{background:#d4e1ee}.msp-plugin .msp-transformer-wrapper{position:relative}.msp-plugin .msp-transformer-wrapper .msp-entity-badge{left:0;top:0}.msp-plugin .msp-transformer-wrapper:first-child .msp-panel-description-content{top:33px}.msp-plugin .msp-transformer-wrapper:not(:first-child) .msp-panel-description-content{bottom:33px}.msp-plugin .msp-transform-wrapper{margin-bottom:10px}.msp-plugin .msp-transform-wrapper-collapsed{margin-bottom:1px}.msp-plugin .msp-transform-update-wrapper{margin-bottom:1px}.msp-plugin .msp-transform-update-wrapper-collapsed{margin-bottom:1px}.msp-plugin .msp-transform-update-wrapper>.msp-transform-header>button,.msp-plugin .msp-transform-update-wrapper-collapsed>.msp-transform-header>button{text-align:left;padding-left:32px;line-height:24px;background:#e3ebf4}.msp-plugin .msp-transform-wrapper>.msp-transform-header>button{text-align:left;background:#ecf2f8;font-weight:bold;padding-right:5px}.msp-plugin .msp-transform-header{position:relative}.msp-plugin .msp-transform-header>button>small{font-weight:normal;float:right}.msp-plugin .msp-transform-header>button>span:first-child{margin-right:10px}.msp-plugin .msp-transform-header>button:hover{color:#595959}.msp-plugin .msp-transform-header-brand{margin-bottom:-1px}.msp-plugin .msp-transform-header-brand svg{fill:#333;stroke:#333}.msp-plugin .msp-transform-default-params{background:#ecf2f8;position:absolute;left:0;top:0;width:32px;padding:0}.msp-plugin .msp-transform-default-params:hover{background:#fff}.msp-plugin .msp-transform-apply-wrap{position:relative;margin-top:1px;width:100%;height:32px}.msp-plugin .msp-transform-refresh{width:87px;margin-left:33px;background:#ecf2f8;text-align:right}.msp-plugin .msp-transform-apply{display:block;position:absolute;left:120px;right:0;top:0}.msp-plugin .msp-transform-apply-wider{margin-left:33px}.msp-plugin .msp-data-beh{margin:10px 0 !important}.msp-plugin .msp-toast-container{position:relative;z-index:1001}.msp-plugin .msp-toast-container .msp-toast-entry{color:#333;background:#d4e1ee;position:relative;float:right;min-height:32px;margin-top:10px;border:1px solid #b5cbe2;display:table}.msp-plugin .msp-toast-container .msp-toast-entry .msp-toast-title{height:100%;line-height:32px;padding:0 10px;background:#ecf2f8;font-weight:bold;display:table-cell;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;font-weight:light;cursor:pointer}.msp-plugin .msp-toast-container .msp-toast-entry .msp-toast-message{padding:3px 42px 3px 10px;display:table-cell}.msp-plugin .msp-toast-container .msp-toast-entry .msp-toast-message a{text-decoration:none;color:#325880;font-weight:bold}.msp-plugin .msp-toast-container .msp-toast-entry .msp-toast-message a:hover{text-decoration:underline;color:#5a8bbe}.msp-plugin .msp-toast-container .msp-toast-entry .msp-toast-message a:active,.msp-plugin .msp-toast-container .msp-toast-entry .msp-toast-message a:focus{color:#325880;outline-offset:0;outline:none}.msp-plugin .msp-toast-container .msp-toast-entry .msp-toast-hide{position:absolute;width:42px;right:0;top:0;bottom:0}.msp-plugin .msp-toast-container .msp-toast-entry .msp-toast-hide .msp-btn-icon{background:rgba(0,0,0,0);position:absolute;top:1px;right:0;left:0;bottom:0;width:100%;text-align:right;padding-right:5px}.msp-plugin .msp-help-row{position:relative;height:32px;background:#ecf2f8;margin-top:1px;display:table;width:100%}.msp-plugin .msp-help-row>span{width:120px;text-align:right;padding:3px 10px;color:#595959;display:table-cell;font-weight:bold;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;cursor:default}.msp-plugin .msp-help-row>div{background:#f5f8fb;position:relative;padding:3px 10px;display:table-cell}.msp-plugin .msp-canvas{width:100%;height:100%;background-color:#f3f2ee}.msp-plugin .msp-canvas text{-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.msp-plugin .msp-canvas circle{stroke:#000;stroke-width:10;stroke-opacity:.3}.msp-plugin .msp-canvas circle:hover{fill:#ae5d04;stroke:#000;stroke-width:10px}.msp-plugin .msp-canvas .info{fill:#fff;stroke:#000;stroke-width:3}.msp-plugin .msp-canvas .show{visibility:visible}.msp-plugin .msp-canvas .hide{visibility:hidden}.msp-plugin .msp-canvas .delete-button rect{fill:#ed4337;stroke:#000}.msp-plugin .msp-canvas .delete-button text{stroke:#fff;fill:#fff}.msp-plugin .msp-canvas .delete-button:hover{stroke:#000;stroke-width:3;fill:#ff6961}.msp-plugin .msp-canvas .infoCircle:hover{fill:#4c66b2}.msp-plugin .msp-canvas:focus{outline:none}.msp-plugin .msp-logo{display:block;position:absolute;bottom:10px;right:10px;height:32px;width:100px;background-repeat:no-repeat;background-position:bottom right;background-size:auto;background-image:url(data:image/png;base64,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)}.msp-plugin .msp-plugin-content{color:#333}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\n// eslint-disable-next-line func-names\nmodule.exports = function (useSourceMap) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item, useSourceMap);\n\n      if (item[2]) {\n        return \"@media \".concat(item[2], \" {\").concat(content, \"}\");\n      }\n\n      return content;\n    }).join('');\n  }; // import a list of modules into the list\n  // eslint-disable-next-line func-names\n\n\n  list.i = function (modules, mediaQuery, dedupe) {\n    if (typeof modules === 'string') {\n      // eslint-disable-next-line no-param-reassign\n      modules = [[null, modules, '']];\n    }\n\n    var alreadyImportedModules = {};\n\n    if (dedupe) {\n      for (var i = 0; i < this.length; i++) {\n        // eslint-disable-next-line prefer-destructuring\n        var id = this[i][0];\n\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n\n    for (var _i = 0; _i < modules.length; _i++) {\n      var item = [].concat(modules[_i]);\n\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        // eslint-disable-next-line no-continue\n        continue;\n      }\n\n      if (mediaQuery) {\n        if (!item[2]) {\n          item[2] = mediaQuery;\n        } else {\n          item[2] = \"\".concat(mediaQuery, \" and \").concat(item[2]);\n        }\n      }\n\n      list.push(item);\n    }\n  };\n\n  return list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n  var content = item[1] || ''; // eslint-disable-next-line prefer-destructuring\n\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (useSourceMap && typeof btoa === 'function') {\n    var sourceMapping = toComment(cssMapping);\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return \"/*# sourceURL=\".concat(cssMapping.sourceRoot || '').concat(source, \" */\");\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n  }\n\n  return [content].join('\\n');\n} // Adapted from convert-source-map (MIT)\n\n\nfunction toComment(sourceMap) {\n  // eslint-disable-next-line no-undef\n  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n  var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n  return \"/*# \".concat(data, \" */\");\n}","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\nvar stylesInDom = {};\n\nvar\tmemoize = function (fn) {\n\tvar memo;\n\n\treturn function () {\n\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\n\t\treturn memo;\n\t};\n};\n\nvar isOldIE = memoize(function () {\n\t// Test for IE <= 9 as proposed by Browserhacks\n\t// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n\t// Tests for existence of standard globals is to allow style-loader\n\t// to operate correctly into non-standard environments\n\t// @see https://github.com/webpack-contrib/style-loader/issues/177\n\treturn window && document && document.all && !window.atob;\n});\n\nvar getTarget = function (target, parent) {\n  if (parent){\n    return parent.querySelector(target);\n  }\n  return document.querySelector(target);\n};\n\nvar getElement = (function (fn) {\n\tvar memo = {};\n\n\treturn function(target, parent) {\n                // If passing function in options, then use it for resolve \"head\" element.\n                // Useful for Shadow Root style i.e\n                // {\n                //   insertInto: function () { return document.querySelector(\"#foo\").shadowRoot }\n                // }\n                if (typeof target === 'function') {\n                        return target();\n                }\n                if (typeof memo[target] === \"undefined\") {\n\t\t\tvar styleTarget = getTarget.call(this, target, parent);\n\t\t\t// Special case to return head of iframe instead of iframe itself\n\t\t\tif (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n\t\t\t\ttry {\n\t\t\t\t\t// This will throw an exception if access to iframe is blocked\n\t\t\t\t\t// due to cross-origin restrictions\n\t\t\t\t\tstyleTarget = styleTarget.contentDocument.head;\n\t\t\t\t} catch(e) {\n\t\t\t\t\tstyleTarget = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tmemo[target] = styleTarget;\n\t\t}\n\t\treturn memo[target]\n\t};\n})();\n\nvar singleton = null;\nvar\tsingletonCounter = 0;\nvar\tstylesInsertedAtTop = [];\n\nvar\tfixUrls = require(\"./urls\");\n\nmodule.exports = function(list, options) {\n\tif (typeof DEBUG !== \"undefined\" && DEBUG) {\n\t\tif (typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\n\t}\n\n\toptions = options || {};\n\n\toptions.attrs = typeof options.attrs === \"object\" ? options.attrs : {};\n\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n\t// tags it will allow on a page\n\tif (!options.singleton && typeof options.singleton !== \"boolean\") options.singleton = isOldIE();\n\n\t// By default, add <style> tags to the <head> element\n        if (!options.insertInto) options.insertInto = \"head\";\n\n\t// By default, add <style> tags to the bottom of the target\n\tif (!options.insertAt) options.insertAt = \"bottom\";\n\n\tvar styles = listToStyles(list, options);\n\n\taddStylesToDom(styles, options);\n\n\treturn function update (newList) {\n\t\tvar mayRemove = [];\n\n\t\tfor (var i = 0; i < styles.length; i++) {\n\t\t\tvar item = styles[i];\n\t\t\tvar domStyle = stylesInDom[item.id];\n\n\t\t\tdomStyle.refs--;\n\t\t\tmayRemove.push(domStyle);\n\t\t}\n\n\t\tif(newList) {\n\t\t\tvar newStyles = listToStyles(newList, options);\n\t\t\taddStylesToDom(newStyles, options);\n\t\t}\n\n\t\tfor (var i = 0; i < mayRemove.length; i++) {\n\t\t\tvar domStyle = mayRemove[i];\n\n\t\t\tif(domStyle.refs === 0) {\n\t\t\t\tfor (var j = 0; j < domStyle.parts.length; j++) domStyle.parts[j]();\n\n\t\t\t\tdelete stylesInDom[domStyle.id];\n\t\t\t}\n\t\t}\n\t};\n};\n\nfunction addStylesToDom (styles, options) {\n\tfor (var i = 0; i < styles.length; i++) {\n\t\tvar item = styles[i];\n\t\tvar domStyle = stylesInDom[item.id];\n\n\t\tif(domStyle) {\n\t\t\tdomStyle.refs++;\n\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\n\t\t\t}\n\n\t\t\tfor(; j < item.parts.length; j++) {\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t} else {\n\t\t\tvar parts = [];\n\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\n\t\t}\n\t}\n}\n\nfunction listToStyles (list, options) {\n\tvar styles = [];\n\tvar newStyles = {};\n\n\tfor (var i = 0; i < list.length; i++) {\n\t\tvar item = list[i];\n\t\tvar id = options.base ? item[0] + options.base : item[0];\n\t\tvar css = item[1];\n\t\tvar media = item[2];\n\t\tvar sourceMap = item[3];\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\n\n\t\tif(!newStyles[id]) styles.push(newStyles[id] = {id: id, parts: [part]});\n\t\telse newStyles[id].parts.push(part);\n\t}\n\n\treturn styles;\n}\n\nfunction insertStyleElement (options, style) {\n\tvar target = getElement(options.insertInto)\n\n\tif (!target) {\n\t\tthrow new Error(\"Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.\");\n\t}\n\n\tvar lastStyleElementInsertedAtTop = stylesInsertedAtTop[stylesInsertedAtTop.length - 1];\n\n\tif (options.insertAt === \"top\") {\n\t\tif (!lastStyleElementInsertedAtTop) {\n\t\t\ttarget.insertBefore(style, target.firstChild);\n\t\t} else if (lastStyleElementInsertedAtTop.nextSibling) {\n\t\t\ttarget.insertBefore(style, lastStyleElementInsertedAtTop.nextSibling);\n\t\t} else {\n\t\t\ttarget.appendChild(style);\n\t\t}\n\t\tstylesInsertedAtTop.push(style);\n\t} else if (options.insertAt === \"bottom\") {\n\t\ttarget.appendChild(style);\n\t} else if (typeof options.insertAt === \"object\" && options.insertAt.before) {\n\t\tvar nextSibling = getElement(options.insertAt.before, target);\n\t\ttarget.insertBefore(style, nextSibling);\n\t} else {\n\t\tthrow new Error(\"[Style Loader]\\n\\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\\n Must be 'top', 'bottom', or Object.\\n (https://github.com/webpack-contrib/style-loader#insertat)\\n\");\n\t}\n}\n\nfunction removeStyleElement (style) {\n\tif (style.parentNode === null) return false;\n\tstyle.parentNode.removeChild(style);\n\n\tvar idx = stylesInsertedAtTop.indexOf(style);\n\tif(idx >= 0) {\n\t\tstylesInsertedAtTop.splice(idx, 1);\n\t}\n}\n\nfunction createStyleElement (options) {\n\tvar style = document.createElement(\"style\");\n\n\tif(options.attrs.type === undefined) {\n\t\toptions.attrs.type = \"text/css\";\n\t}\n\n\tif(options.attrs.nonce === undefined) {\n\t\tvar nonce = getNonce();\n\t\tif (nonce) {\n\t\t\toptions.attrs.nonce = nonce;\n\t\t}\n\t}\n\n\taddAttrs(style, options.attrs);\n\tinsertStyleElement(options, style);\n\n\treturn style;\n}\n\nfunction createLinkElement (options) {\n\tvar link = document.createElement(\"link\");\n\n\tif(options.attrs.type === undefined) {\n\t\toptions.attrs.type = \"text/css\";\n\t}\n\toptions.attrs.rel = \"stylesheet\";\n\n\taddAttrs(link, options.attrs);\n\tinsertStyleElement(options, link);\n\n\treturn link;\n}\n\nfunction addAttrs (el, attrs) {\n\tObject.keys(attrs).forEach(function (key) {\n\t\tel.setAttribute(key, attrs[key]);\n\t});\n}\n\nfunction getNonce() {\n\tif (typeof __webpack_nonce__ === 'undefined') {\n\t\treturn null;\n\t}\n\n\treturn __webpack_nonce__;\n}\n\nfunction addStyle (obj, options) {\n\tvar style, update, remove, result;\n\n\t// If a transform function was defined, run it on the css\n\tif (options.transform && obj.css) {\n\t    result = typeof options.transform === 'function'\n\t\t ? options.transform(obj.css) \n\t\t : options.transform.default(obj.css);\n\n\t    if (result) {\n\t    \t// If transform returns a value, use that instead of the original css.\n\t    \t// This allows running runtime transformations on the css.\n\t    \tobj.css = result;\n\t    } else {\n\t    \t// If the transform function returns a falsy value, don't add this css.\n\t    \t// This allows conditional loading of css\n\t    \treturn function() {\n\t    \t\t// noop\n\t    \t};\n\t    }\n\t}\n\n\tif (options.singleton) {\n\t\tvar styleIndex = singletonCounter++;\n\n\t\tstyle = singleton || (singleton = createStyleElement(options));\n\n\t\tupdate = applyToSingletonTag.bind(null, style, styleIndex, false);\n\t\tremove = applyToSingletonTag.bind(null, style, styleIndex, true);\n\n\t} else if (\n\t\tobj.sourceMap &&\n\t\ttypeof URL === \"function\" &&\n\t\ttypeof URL.createObjectURL === \"function\" &&\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\n\t\ttypeof Blob === \"function\" &&\n\t\ttypeof btoa === \"function\"\n\t) {\n\t\tstyle = createLinkElement(options);\n\t\tupdate = updateLink.bind(null, style, options);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\n\t\t\tif(style.href) URL.revokeObjectURL(style.href);\n\t\t};\n\t} else {\n\t\tstyle = createStyleElement(options);\n\t\tupdate = applyToTag.bind(null, style);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\t\t};\n\t}\n\n\tupdate(obj);\n\n\treturn function updateStyle (newObj) {\n\t\tif (newObj) {\n\t\t\tif (\n\t\t\t\tnewObj.css === obj.css &&\n\t\t\t\tnewObj.media === obj.media &&\n\t\t\t\tnewObj.sourceMap === obj.sourceMap\n\t\t\t) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tupdate(obj = newObj);\n\t\t} else {\n\t\t\tremove();\n\t\t}\n\t};\n}\n\nvar replaceText = (function () {\n\tvar textStore = [];\n\n\treturn function (index, replacement) {\n\t\ttextStore[index] = replacement;\n\n\t\treturn textStore.filter(Boolean).join('\\n');\n\t};\n})();\n\nfunction applyToSingletonTag (style, index, remove, obj) {\n\tvar css = remove ? \"\" : obj.css;\n\n\tif (style.styleSheet) {\n\t\tstyle.styleSheet.cssText = replaceText(index, css);\n\t} else {\n\t\tvar cssNode = document.createTextNode(css);\n\t\tvar childNodes = style.childNodes;\n\n\t\tif (childNodes[index]) style.removeChild(childNodes[index]);\n\n\t\tif (childNodes.length) {\n\t\t\tstyle.insertBefore(cssNode, childNodes[index]);\n\t\t} else {\n\t\t\tstyle.appendChild(cssNode);\n\t\t}\n\t}\n}\n\nfunction applyToTag (style, obj) {\n\tvar css = obj.css;\n\tvar media = obj.media;\n\n\tif(media) {\n\t\tstyle.setAttribute(\"media\", media)\n\t}\n\n\tif(style.styleSheet) {\n\t\tstyle.styleSheet.cssText = css;\n\t} else {\n\t\twhile(style.firstChild) {\n\t\t\tstyle.removeChild(style.firstChild);\n\t\t}\n\n\t\tstyle.appendChild(document.createTextNode(css));\n\t}\n}\n\nfunction updateLink (link, options, obj) {\n\tvar css = obj.css;\n\tvar sourceMap = obj.sourceMap;\n\n\t/*\n\t\tIf convertToAbsoluteUrls isn't defined, but sourcemaps are enabled\n\t\tand there is no publicPath defined then lets turn convertToAbsoluteUrls\n\t\ton by default.  Otherwise default to the convertToAbsoluteUrls option\n\t\tdirectly\n\t*/\n\tvar autoFixUrls = options.convertToAbsoluteUrls === undefined && sourceMap;\n\n\tif (options.convertToAbsoluteUrls || autoFixUrls) {\n\t\tcss = fixUrls(css);\n\t}\n\n\tif (sourceMap) {\n\t\t// http://stackoverflow.com/a/26603875\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\n\t}\n\n\tvar blob = new Blob([css], { type: \"text/css\" });\n\n\tvar oldSrc = link.href;\n\n\tlink.href = URL.createObjectURL(blob);\n\n\tif(oldSrc) URL.revokeObjectURL(oldSrc);\n}\n","\n/**\n * When source maps are enabled, `style-loader` uses a link element with a data-uri to\n * embed the css on the page. This breaks all relative urls because now they are relative to a\n * bundle instead of the current page.\n *\n * One solution is to only use full urls, but that may be impossible.\n *\n * Instead, this function \"fixes\" the relative urls to be absolute according to the current page location.\n *\n * A rudimentary test suite is located at `test/fixUrls.js` and can be run via the `npm test` command.\n *\n */\n\nmodule.exports = function (css) {\n  // get current location\n  var location = typeof window !== \"undefined\" && window.location;\n\n  if (!location) {\n    throw new Error(\"fixUrls requires window.location\");\n  }\n\n\t// blank or null?\n\tif (!css || typeof css !== \"string\") {\n\t  return css;\n  }\n\n  var baseUrl = location.protocol + \"//\" + location.host;\n  var currentDir = baseUrl + location.pathname.replace(/\\/[^\\/]*$/, \"/\");\n\n\t// convert each url(...)\n\t/*\n\tThis regular expression is just a way to recursively match brackets within\n\ta string.\n\n\t /url\\s*\\(  = Match on the word \"url\" with any whitespace after it and then a parens\n\t   (  = Start a capturing group\n\t     (?:  = Start a non-capturing group\n\t         [^)(]  = Match anything that isn't a parentheses\n\t         |  = OR\n\t         \\(  = Match a start parentheses\n\t             (?:  = Start another non-capturing groups\n\t                 [^)(]+  = Match anything that isn't a parentheses\n\t                 |  = OR\n\t                 \\(  = Match a start parentheses\n\t                     [^)(]*  = Match anything that isn't a parentheses\n\t                 \\)  = Match a end parentheses\n\t             )  = End Group\n              *\\) = Match anything and then a close parens\n          )  = Close non-capturing group\n          *  = Match anything\n       )  = Close capturing group\n\t \\)  = Match a close parens\n\n\t /gi  = Get all matches, not the first.  Be case insensitive.\n\t */\n\tvar fixedCss = css.replace(/url\\s*\\(((?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)\\)/gi, function(fullMatch, origUrl) {\n\t\t// strip quotes (if they exist)\n\t\tvar unquotedOrigUrl = origUrl\n\t\t\t.trim()\n\t\t\t.replace(/^\"(.*)\"$/, function(o, $1){ return $1; })\n\t\t\t.replace(/^'(.*)'$/, function(o, $1){ return $1; });\n\n\t\t// already a full url? no change\n\t\tif (/^(#|data:|http:\\/\\/|https:\\/\\/|file:\\/\\/\\/|\\s*$)/i.test(unquotedOrigUrl)) {\n\t\t  return fullMatch;\n\t\t}\n\n\t\t// convert the url to a full url\n\t\tvar newUrl;\n\n\t\tif (unquotedOrigUrl.indexOf(\"//\") === 0) {\n\t\t  \t//TODO: should we add protocol?\n\t\t\tnewUrl = unquotedOrigUrl;\n\t\t} else if (unquotedOrigUrl.indexOf(\"/\") === 0) {\n\t\t\t// path should be relative to the base url\n\t\t\tnewUrl = baseUrl + unquotedOrigUrl; // already starts with '/'\n\t\t} else {\n\t\t\t// path should be relative to current directory\n\t\t\tnewUrl = currentDir + unquotedOrigUrl.replace(/^\\.\\//, \"\"); // Strip leading './'\n\t\t}\n\n\t\t// send back the fixed url(...)\n\t\treturn \"url(\" + JSON.stringify(newUrl) + \")\";\n\t});\n\n\t// send back the fixed css\n\treturn fixedCss;\n};\n","/**\n * Copyright (c) 2017-2019 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\n/*\n * This code has been modified from https://github.com/toji/gl-matrix/,\n * copyright (c) 2015, Brandon Jones, Colin MacKenzie IV.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n */\nexport var EPSILON = 0.000001;\nexport function equalEps(a, b, eps) {\n    return Math.abs(a - b) <= eps;\n}\n","/**\n * Copyright (c) 2018 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\nexport function normalize(value, min, max) {\n    return (value - min) / (max - min);\n}\nexport function clamp(value, min, max) {\n    return Math.max(min, Math.min(max, value));\n}\nexport function pclamp(value) {\n    return clamp(value, 0, 100);\n}\nexport function saturate(value) {\n    return clamp(value, 0, 1);\n}\nexport function damp(value, dampingFactor) {\n    var dampedValue = value * dampingFactor;\n    return Math.abs(dampedValue) < 0.1 ? 0 : dampedValue;\n}\nexport function lerp(start, stop, alpha) {\n    return start + (stop - start) * alpha;\n}\n/** Catmul-Rom spline */\nexport function spline(p0, p1, p2, p3, t, tension) {\n    var v0 = (p2 - p0) * tension;\n    var v1 = (p3 - p1) * tension;\n    var t2 = t * t;\n    var t3 = t * t2;\n    return (2 * p1 - 2 * p2 + v0 + v1) * t3 + (-3 * p1 + 3 * p2 - 2 * v0 - v1) * t2 + v0 * t + p1;\n}\nexport function quadraticBezier(p0, p1, p2, t) {\n    var k = 1 - t;\n    return (k * k * p0) + (2 * k * t * p1) + (t * t * p2);\n}\nexport function smoothstep(min, max, x) {\n    x = saturate(normalize(x, min, max));\n    return x * x * (3 - 2 * x);\n}\nexport function smootherstep(min, max, x) {\n    x = saturate(normalize(x, min, max));\n    return x * x * x * (x * (x * 6 - 15) + 10);\n}\nexport function smootheststep(min, max, x) {\n    x = saturate(normalize(x, min, max));\n    return -20 * Math.pow(x, 7) + 70 * Math.pow(x, 6) - 84 * Math.pow(x, 5) + 35 * Math.pow(x, 4);\n}\nexport function almostIdentity(value, start, stop) {\n    if (value > start)\n        return value;\n    var a = 2 * stop - start;\n    var b = 2 * start - 3 * stop;\n    var t = value / start;\n    return (a * t + b) * t * t + stop;\n}\n","/**\n * Copyright (c) 2017-2023 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\n/*\n * This code has been modified from https://github.com/toji/gl-matrix/,\n * copyright (c) 2015, Brandon Jones, Colin MacKenzie IV.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n */\nimport { Mat4 } from './mat4';\nimport { spline as _spline, quadraticBezier as _quadraticBezier, clamp as _clamp } from '../../interpolate';\nimport { EPSILON } from './common';\nvar _isFinite = isFinite;\nfunction Vec3() {\n    return Vec3.zero();\n}\n(function (Vec3) {\n    function zero() {\n        var out = [0.1, 0.0, 0.0]; // ensure backing array of type double\n        out[0] = 0;\n        return out;\n    }\n    Vec3.zero = zero;\n    function clone(a) {\n        var out = zero();\n        out[0] = a[0];\n        out[1] = a[1];\n        out[2] = a[2];\n        return out;\n    }\n    Vec3.clone = clone;\n    function isFinite(a) {\n        return _isFinite(a[0]) && _isFinite(a[1]) && _isFinite(a[2]);\n    }\n    Vec3.isFinite = isFinite;\n    function hasNaN(a) {\n        return isNaN(a[0]) || isNaN(a[1]) || isNaN(a[2]);\n    }\n    Vec3.hasNaN = hasNaN;\n    function setNaN(out) {\n        out[0] = NaN;\n        out[1] = NaN;\n        out[2] = NaN;\n        return out;\n    }\n    Vec3.setNaN = setNaN;\n    function fromObj(v) {\n        return create(v.x, v.y, v.z);\n    }\n    Vec3.fromObj = fromObj;\n    function toObj(v) {\n        return { x: v[0], y: v[1], z: v[2] };\n    }\n    Vec3.toObj = toObj;\n    function fromArray(v, array, offset) {\n        v[0] = array[offset + 0];\n        v[1] = array[offset + 1];\n        v[2] = array[offset + 2];\n        return v;\n    }\n    Vec3.fromArray = fromArray;\n    function toArray(v, out, offset) {\n        out[offset + 0] = v[0];\n        out[offset + 1] = v[1];\n        out[offset + 2] = v[2];\n        return out;\n    }\n    Vec3.toArray = toArray;\n    function create(x, y, z) {\n        var out = zero();\n        out[0] = x;\n        out[1] = y;\n        out[2] = z;\n        return out;\n    }\n    Vec3.create = create;\n    function ofArray(array) {\n        var out = zero();\n        out[0] = array[0];\n        out[1] = array[1];\n        out[2] = array[2];\n        return out;\n    }\n    Vec3.ofArray = ofArray;\n    function set(out, x, y, z) {\n        out[0] = x;\n        out[1] = y;\n        out[2] = z;\n        return out;\n    }\n    Vec3.set = set;\n    function copy(out, a) {\n        out[0] = a[0];\n        out[1] = a[1];\n        out[2] = a[2];\n        return out;\n    }\n    Vec3.copy = copy;\n    function add(out, a, b) {\n        out[0] = a[0] + b[0];\n        out[1] = a[1] + b[1];\n        out[2] = a[2] + b[2];\n        return out;\n    }\n    Vec3.add = add;\n    function sub(out, a, b) {\n        out[0] = a[0] - b[0];\n        out[1] = a[1] - b[1];\n        out[2] = a[2] - b[2];\n        return out;\n    }\n    Vec3.sub = sub;\n    function mul(out, a, b) {\n        out[0] = a[0] * b[0];\n        out[1] = a[1] * b[1];\n        out[2] = a[2] * b[2];\n        return out;\n    }\n    Vec3.mul = mul;\n    function div(out, a, b) {\n        out[0] = a[0] / b[0];\n        out[1] = a[1] / b[1];\n        out[2] = a[2] / b[2];\n        return out;\n    }\n    Vec3.div = div;\n    function scale(out, a, b) {\n        out[0] = a[0] * b;\n        out[1] = a[1] * b;\n        out[2] = a[2] * b;\n        return out;\n    }\n    Vec3.scale = scale;\n    /** Scales b, then adds a and b together */\n    function scaleAndAdd(out, a, b, scale) {\n        out[0] = a[0] + (b[0] * scale);\n        out[1] = a[1] + (b[1] * scale);\n        out[2] = a[2] + (b[2] * scale);\n        return out;\n    }\n    Vec3.scaleAndAdd = scaleAndAdd;\n    /** Scales b, then subtracts b from a */\n    function scaleAndSub(out, a, b, scale) {\n        out[0] = a[0] - (b[0] * scale);\n        out[1] = a[1] - (b[1] * scale);\n        out[2] = a[2] - (b[2] * scale);\n        return out;\n    }\n    Vec3.scaleAndSub = scaleAndSub;\n    function addScalar(out, a, b) {\n        out[0] = a[0] + b;\n        out[1] = a[1] + b;\n        out[2] = a[2] + b;\n        return out;\n    }\n    Vec3.addScalar = addScalar;\n    function subScalar(out, a, b) {\n        out[0] = a[0] - b;\n        out[1] = a[1] - b;\n        out[2] = a[2] - b;\n        return out;\n    }\n    Vec3.subScalar = subScalar;\n    /**\n     * Math.round the components of a Vec3\n     */\n    function round(out, a) {\n        out[0] = Math.round(a[0]);\n        out[1] = Math.round(a[1]);\n        out[2] = Math.round(a[2]);\n        return out;\n    }\n    Vec3.round = round;\n    /**\n     * Math.ceil the components of a Vec3\n     */\n    function ceil(out, a) {\n        out[0] = Math.ceil(a[0]);\n        out[1] = Math.ceil(a[1]);\n        out[2] = Math.ceil(a[2]);\n        return out;\n    }\n    Vec3.ceil = ceil;\n    /**\n     * Math.floor the components of a Vec3\n     */\n    function floor(out, a) {\n        out[0] = Math.floor(a[0]);\n        out[1] = Math.floor(a[1]);\n        out[2] = Math.floor(a[2]);\n        return out;\n    }\n    Vec3.floor = floor;\n    /**\n     * Math.trunc the components of a Vec3\n     */\n    function trunc(out, a) {\n        out[0] = Math.trunc(a[0]);\n        out[1] = Math.trunc(a[1]);\n        out[2] = Math.trunc(a[2]);\n        return out;\n    }\n    Vec3.trunc = trunc;\n    /**\n     * Math.abs the components of a Vec3\n     */\n    function abs(out, a) {\n        out[0] = Math.abs(a[0]);\n        out[1] = Math.abs(a[1]);\n        out[2] = Math.abs(a[2]);\n        return out;\n    }\n    Vec3.abs = abs;\n    /**\n     * Returns the minimum of two Vec3's\n     */\n    function min(out, a, b) {\n        out[0] = Math.min(a[0], b[0]);\n        out[1] = Math.min(a[1], b[1]);\n        out[2] = Math.min(a[2], b[2]);\n        return out;\n    }\n    Vec3.min = min;\n    /**\n     * Returns the maximum of two Vec3's\n     */\n    function max(out, a, b) {\n        out[0] = Math.max(a[0], b[0]);\n        out[1] = Math.max(a[1], b[1]);\n        out[2] = Math.max(a[2], b[2]);\n        return out;\n    }\n    Vec3.max = max;\n    /**\n     * Assumes min < max, componentwise\n     */\n    function clamp(out, a, min, max) {\n        out[0] = Math.max(min[0], Math.min(max[0], a[0]));\n        out[1] = Math.max(min[1], Math.min(max[1], a[1]));\n        out[2] = Math.max(min[2], Math.min(max[2], a[2]));\n        return out;\n    }\n    Vec3.clamp = clamp;\n    function distance(a, b) {\n        var x = b[0] - a[0], y = b[1] - a[1], z = b[2] - a[2];\n        return Math.sqrt(x * x + y * y + z * z);\n    }\n    Vec3.distance = distance;\n    function squaredDistance(a, b) {\n        var x = b[0] - a[0], y = b[1] - a[1], z = b[2] - a[2];\n        return x * x + y * y + z * z;\n    }\n    Vec3.squaredDistance = squaredDistance;\n    function magnitude(a) {\n        var x = a[0], y = a[1], z = a[2];\n        return Math.sqrt(x * x + y * y + z * z);\n    }\n    Vec3.magnitude = magnitude;\n    function squaredMagnitude(a) {\n        var x = a[0], y = a[1], z = a[2];\n        return x * x + y * y + z * z;\n    }\n    Vec3.squaredMagnitude = squaredMagnitude;\n    function setMagnitude(out, a, l) {\n        return scale(out, normalize(out, a), l);\n    }\n    Vec3.setMagnitude = setMagnitude;\n    /**\n     * Negates the components of a vec3\n     */\n    function negate(out, a) {\n        out[0] = -a[0];\n        out[1] = -a[1];\n        out[2] = -a[2];\n        return out;\n    }\n    Vec3.negate = negate;\n    /**\n     * Returns the inverse of the components of a Vec3\n     */\n    function inverse(out, a) {\n        out[0] = 1.0 / a[0];\n        out[1] = 1.0 / a[1];\n        out[2] = 1.0 / a[2];\n        return out;\n    }\n    Vec3.inverse = inverse;\n    function normalize(out, a) {\n        var x = a[0], y = a[1], z = a[2];\n        var len = x * x + y * y + z * z;\n        if (len > 0) {\n            len = 1 / Math.sqrt(len);\n            out[0] = a[0] * len;\n            out[1] = a[1] * len;\n            out[2] = a[2] * len;\n        }\n        return out;\n    }\n    Vec3.normalize = normalize;\n    function dot(a, b) {\n        return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n    }\n    Vec3.dot = dot;\n    function cross(out, a, b) {\n        var ax = a[0], ay = a[1], az = a[2], bx = b[0], by = b[1], bz = b[2];\n        out[0] = ay * bz - az * by;\n        out[1] = az * bx - ax * bz;\n        out[2] = ax * by - ay * bx;\n        return out;\n    }\n    Vec3.cross = cross;\n    /**\n     * Performs a linear interpolation between two Vec3's\n     */\n    function lerp(out, a, b, t) {\n        var ax = a[0], ay = a[1], az = a[2];\n        out[0] = ax + t * (b[0] - ax);\n        out[1] = ay + t * (b[1] - ay);\n        out[2] = az + t * (b[2] - az);\n        return out;\n    }\n    Vec3.lerp = lerp;\n    var slerpRelVec = zero();\n    function slerp(out, a, b, t) {\n        var d = _clamp(dot(a, b), -1, 1);\n        var theta = Math.acos(d) * t;\n        scaleAndAdd(slerpRelVec, b, a, -d);\n        normalize(slerpRelVec, slerpRelVec);\n        return add(out, scale(out, a, Math.cos(theta)), scale(slerpRelVec, slerpRelVec, Math.sin(theta)));\n    }\n    Vec3.slerp = slerp;\n    /**\n     * Performs a hermite interpolation with two control points\n     */\n    function hermite(out, a, b, c, d, t) {\n        var factorTimes2 = t * t;\n        var factor1 = factorTimes2 * (2 * t - 3) + 1;\n        var factor2 = factorTimes2 * (t - 2) + t;\n        var factor3 = factorTimes2 * (t - 1);\n        var factor4 = factorTimes2 * (3 - 2 * t);\n        out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n        out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n        out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n        return out;\n    }\n    Vec3.hermite = hermite;\n    /**\n     * Performs a bezier interpolation with two control points\n     */\n    function bezier(out, a, b, c, d, t) {\n        var inverseFactor = 1 - t;\n        var inverseFactorTimesTwo = inverseFactor * inverseFactor;\n        var factorTimes2 = t * t;\n        var factor1 = inverseFactorTimesTwo * inverseFactor;\n        var factor2 = 3 * t * inverseFactorTimesTwo;\n        var factor3 = 3 * factorTimes2 * inverseFactor;\n        var factor4 = factorTimes2 * t;\n        out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n        out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n        out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n        return out;\n    }\n    Vec3.bezier = bezier;\n    function quadraticBezier(out, a, b, c, t) {\n        out[0] = _quadraticBezier(a[0], b[0], c[0], t);\n        out[1] = _quadraticBezier(a[1], b[1], c[1], t);\n        out[2] = _quadraticBezier(a[2], b[2], c[2], t);\n        return out;\n    }\n    Vec3.quadraticBezier = quadraticBezier;\n    /**\n     * Performs a spline interpolation with two control points and a tension parameter\n     */\n    function spline(out, a, b, c, d, t, tension) {\n        out[0] = _spline(a[0], b[0], c[0], d[0], t, tension);\n        out[1] = _spline(a[1], b[1], c[1], d[1], t, tension);\n        out[2] = _spline(a[2], b[2], c[2], d[2], t, tension);\n        return out;\n    }\n    Vec3.spline = spline;\n    /**\n     * Generates a random vector with the given scale\n     */\n    function random(out, scale) {\n        var r = Math.random() * 2.0 * Math.PI;\n        var z = (Math.random() * 2.0) - 1.0;\n        var zScale = Math.sqrt(1.0 - z * z) * scale;\n        out[0] = Math.cos(r) * zScale;\n        out[1] = Math.sin(r) * zScale;\n        out[2] = z * scale;\n        return out;\n    }\n    Vec3.random = random;\n    /**\n     * Transforms the Vec3 with a Mat4. 4th vector component is implicitly '1'\n     */\n    function transformMat4(out, a, m) {\n        var x = a[0], y = a[1], z = a[2], w = 1 / ((m[3] * x + m[7] * y + m[11] * z + m[15]) || 1.0);\n        out[0] = (m[0] * x + m[4] * y + m[8] * z + m[12]) * w;\n        out[1] = (m[1] * x + m[5] * y + m[9] * z + m[13]) * w;\n        out[2] = (m[2] * x + m[6] * y + m[10] * z + m[14]) * w;\n        return out;\n    }\n    Vec3.transformMat4 = transformMat4;\n    function transformDirection(out, a, m) {\n        var x = a[0], y = a[1], z = a[2];\n        out[0] = m[0] * x + m[4] * y + m[8] * z;\n        out[1] = m[1] * x + m[5] * y + m[9] * z;\n        out[2] = m[2] * x + m[6] * y + m[10] * z;\n        return normalize(out, out);\n    }\n    Vec3.transformDirection = transformDirection;\n    /**\n     * Like `transformMat4` but with offsets into arrays\n     */\n    function transformMat4Offset(out, a, m, outO, aO, oM) {\n        var x = a[0 + aO], y = a[1 + aO], z = a[2 + aO], w = 1 / ((m[3 + oM] * x + m[7 + oM] * y + m[11 + oM] * z + m[15 + oM]) || 1.0);\n        out[0 + outO] = (m[0 + oM] * x + m[4 + oM] * y + m[8 + oM] * z + m[12 + oM]) * w;\n        out[1 + outO] = (m[1 + oM] * x + m[5 + oM] * y + m[9 + oM] * z + m[13 + oM]) * w;\n        out[2 + outO] = (m[2 + oM] * x + m[6 + oM] * y + m[10 + oM] * z + m[14 + oM]) * w;\n        return out;\n    }\n    Vec3.transformMat4Offset = transformMat4Offset;\n    /**\n     * Transforms the Vec3 with a Mat3.\n     */\n    function transformMat3(out, a, m) {\n        var x = a[0], y = a[1], z = a[2];\n        out[0] = x * m[0] + y * m[3] + z * m[6];\n        out[1] = x * m[1] + y * m[4] + z * m[7];\n        out[2] = x * m[2] + y * m[5] + z * m[8];\n        return out;\n    }\n    Vec3.transformMat3 = transformMat3;\n    /** Transforms the Vec3 with a quat */\n    function transformQuat(out, a, q) {\n        // benchmarks: http://jsperf.com/quaternion-transform-vec3-implementations\n        var x = a[0], y = a[1], z = a[2];\n        var qx = q[0], qy = q[1], qz = q[2], qw = q[3];\n        // calculate quat * vec\n        var ix = qw * x + qy * z - qz * y;\n        var iy = qw * y + qz * x - qx * z;\n        var iz = qw * z + qx * y - qy * x;\n        var iw = -qx * x - qy * y - qz * z;\n        // calculate result * inverse quat\n        out[0] = ix * qw + iw * -qx + iy * -qz - iz * -qy;\n        out[1] = iy * qw + iw * -qy + iz * -qx - ix * -qz;\n        out[2] = iz * qw + iw * -qz + ix * -qy - iy * -qx;\n        return out;\n    }\n    Vec3.transformQuat = transformQuat;\n    /** Computes the angle between 2 vectors, reports in radians. */\n    function angle(a, b) {\n        var denominator = Math.sqrt(squaredMagnitude(a) * squaredMagnitude(b));\n        if (denominator === 0)\n            return Math.PI / 2;\n        var theta = dot(a, b) / denominator;\n        return Math.acos(_clamp(theta, -1, 1)); // clamp to avoid numerical problems\n    }\n    Vec3.angle = angle;\n    var tmp_dh_ab = zero();\n    var tmp_dh_cb = zero();\n    var tmp_dh_bc = zero();\n    var tmp_dh_dc = zero();\n    var tmp_dh_abc = zero();\n    var tmp_dh_bcd = zero();\n    var tmp_dh_cross = zero();\n    /**\n     * Computes the dihedral angles of 4 points, reports in radians.\n     */\n    function dihedralAngle(a, b, c, d) {\n        sub(tmp_dh_ab, a, b);\n        sub(tmp_dh_cb, c, b);\n        sub(tmp_dh_bc, b, c);\n        sub(tmp_dh_dc, d, c);\n        cross(tmp_dh_abc, tmp_dh_ab, tmp_dh_cb);\n        cross(tmp_dh_bcd, tmp_dh_bc, tmp_dh_dc);\n        var _angle = angle(tmp_dh_abc, tmp_dh_bcd);\n        cross(tmp_dh_cross, tmp_dh_abc, tmp_dh_bcd);\n        return dot(tmp_dh_cb, tmp_dh_cross) > 0 ? _angle : -_angle;\n    }\n    Vec3.dihedralAngle = dihedralAngle;\n    /**\n     * @param inclination in radians [0, PI]\n     * @param azimuth in radians [0, 2 * PI]\n     * @param radius [0, +Inf]\n     */\n    function directionFromSpherical(out, inclination, azimuth, radius) {\n        return Vec3.set(out, radius * Math.cos(azimuth) * Math.sin(inclination), radius * Math.sin(azimuth) * Math.sin(inclination), radius * Math.cos(inclination));\n    }\n    Vec3.directionFromSpherical = directionFromSpherical;\n    /**\n     * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\n     */\n    function exactEquals(a, b) {\n        return a[0] === b[0] && a[1] === b[1] && a[2] === b[2];\n    }\n    Vec3.exactEquals = exactEquals;\n    /**\n     * Returns whether or not the vectors have approximately the same elements in the same position.\n     */\n    function equals(a, b) {\n        var a0 = a[0], a1 = a[1], a2 = a[2];\n        var b0 = b[0], b1 = b[1], b2 = b[2];\n        return (Math.abs(a0 - b0) <= EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) &&\n            Math.abs(a1 - b1) <= EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) &&\n            Math.abs(a2 - b2) <= EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)));\n    }\n    Vec3.equals = equals;\n    var rotTemp = zero();\n    function makeRotation(mat, a, b) {\n        var by = angle(a, b);\n        if (Math.abs(by) < 0.0001)\n            return Mat4.setIdentity(mat);\n        if (Math.abs(by - Math.PI) < EPSILON) {\n            // here, axis can be [0,0,0] but the rotation is a simple flip\n            return Mat4.fromScaling(mat, Vec3.negUnit);\n        }\n        var axis = cross(rotTemp, a, b);\n        return Mat4.fromRotation(mat, by, axis);\n    }\n    Vec3.makeRotation = makeRotation;\n    function isZero(v) {\n        return v[0] === 0 && v[1] === 0 && v[2] === 0;\n    }\n    Vec3.isZero = isZero;\n    /** Project `point` onto `vector` starting from `origin` */\n    function projectPointOnVector(out, point, vector, origin) {\n        sub(out, point, origin);\n        var scalar = dot(vector, out) / squaredMagnitude(vector);\n        return add(out, scale(out, vector, scalar), origin);\n    }\n    Vec3.projectPointOnVector = projectPointOnVector;\n    var tmpProjectPlane = zero();\n    /** Project `point` onto `plane` defined by `normal` starting from `origin` */\n    function projectPointOnPlane(out, point, normal, origin) {\n        normalize(tmpProjectPlane, normal);\n        sub(out, point, origin);\n        return sub(out, point, scale(tmpProjectPlane, tmpProjectPlane, dot(out, tmpProjectPlane)));\n    }\n    Vec3.projectPointOnPlane = projectPointOnPlane;\n    function projectOnVector(out, p, vector) {\n        var scalar = dot(vector, p) / squaredMagnitude(vector);\n        return scale(out, vector, scalar);\n    }\n    Vec3.projectOnVector = projectOnVector;\n    var tmpProject = zero();\n    function projectOnPlane(out, p, normal) {\n        projectOnVector(tmpProject, p, normal);\n        return sub(out, p, tmpProject);\n    }\n    Vec3.projectOnPlane = projectOnPlane;\n    /** Get a vector that is similar to `b` but orthogonal to `a` */\n    function orthogonalize(out, a, b) {\n        return normalize(out, cross(out, cross(out, a, b), a));\n    }\n    Vec3.orthogonalize = orthogonalize;\n    /**\n     * Get a vector like `a` that point into the same general direction as `b`,\n     * i.e. where the dot product is > 0\n     */\n    function matchDirection(out, a, b) {\n        if (dot(a, b) > 0)\n            copy(out, a);\n        else\n            negate(out, copy(out, a));\n        return out;\n    }\n    Vec3.matchDirection = matchDirection;\n    var triangleNormalTmpAB = zero();\n    var triangleNormalTmpAC = zero();\n    /** Calculate normal for the triangle defined by `a`, `b` and `c` */\n    function triangleNormal(out, a, b, c) {\n        sub(triangleNormalTmpAB, b, a);\n        sub(triangleNormalTmpAC, c, a);\n        return normalize(out, cross(out, triangleNormalTmpAB, triangleNormalTmpAC));\n    }\n    Vec3.triangleNormal = triangleNormal;\n    function toString(a, precision) {\n        return \"[\".concat(a[0].toPrecision(precision), \" \").concat(a[1].toPrecision(precision), \" \").concat(a[2].toPrecision(precision), \"]\");\n    }\n    Vec3.toString = toString;\n    Vec3.origin = create(0, 0, 0);\n    Vec3.unit = create(1, 1, 1);\n    Vec3.negUnit = create(-1, -1, -1);\n    Vec3.unitX = create(1, 0, 0);\n    Vec3.unitY = create(0, 1, 0);\n    Vec3.unitZ = create(0, 0, 1);\n    Vec3.negUnitX = create(-1, 0, 0);\n    Vec3.negUnitY = create(0, -1, 0);\n    Vec3.negUnitZ = create(0, 0, -1);\n})(Vec3 || (Vec3 = {}));\nexport { Vec3 };\n","/**\n * Copyright (c) 2018-2021 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\nexport var halfPI = Math.PI / 2;\nexport var PiDiv180 = Math.PI / 180;\nexport function degToRad(deg) {\n    return deg * PiDiv180; // deg * Math.PI / 180\n}\nexport function radToDeg(rad) {\n    return rad / PiDiv180; // rad * 180 / Math.PI\n}\nexport function isPowerOfTwo(x) {\n    return (x !== 0) && (x & (x - 1)) === 0;\n}\n/** return the value that has the largest absolute value */\nexport function absMax() {\n    var values = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        values[_i] = arguments[_i];\n    }\n    var max = 0;\n    var absMax = 0;\n    for (var i = 0, il = values.length; i < il; ++i) {\n        var value = values[i];\n        var abs = Math.abs(value);\n        if (abs > absMax) {\n            max = value;\n            absMax = abs;\n        }\n    }\n    return max;\n}\n/** Length of an arc with angle in radians */\nexport function arcLength(angle, radius) {\n    return angle * radius;\n}\n/** Create an outward spiral of given `radius` on a 2d grid */\nexport function spiral2d(radius) {\n    var _a;\n    var x = 0;\n    var y = 0;\n    var delta = [0, -1];\n    var size = radius * 2 + 1;\n    var halfSize = size / 2;\n    var out = [];\n    for (var i = Math.pow(size, 2); i > 0; --i) {\n        if ((-halfSize < x && x <= halfSize) && (-halfSize < y && y <= halfSize)) {\n            out.push([x, y]);\n        }\n        if (x === y || (x < 0 && x === -y) || (x > 0 && x === 1 - y)) {\n            _a = [-delta[1], delta[0]], delta[0] = _a[0], delta[1] = _a[1]; // change direction\n        }\n        x += delta[0];\n        y += delta[1];\n    }\n    return out;\n}\n","import { Mat3 } from './3d/mat3';\n/**\n * Copyright (c) 2017-2020 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\nimport { Mat4 } from './3d/mat4';\nexport var Tensor;\n(function (Tensor) {\n    function Layout(dimensions, axisOrderSlowToFast, ctor) {\n        // need to reverse the axis order for better access.\n        var axisOrderFastToSlow = [];\n        for (var i = 0; i < axisOrderSlowToFast.length; i++)\n            axisOrderFastToSlow[i] = axisOrderSlowToFast[axisOrderSlowToFast.length - i - 1];\n        var accessDimensions = [1];\n        for (var i = 1; i < dimensions.length; i++)\n            accessDimensions[i] = dimensions[axisOrderFastToSlow[i - 1]];\n        return { dimensions: dimensions, axisOrderFastToSlow: axisOrderFastToSlow, axisOrderSlowToFast: axisOrderSlowToFast, accessDimensions: accessDimensions, defaultCtor: ctor || Float64Array };\n    }\n    function create(space, data) { return { space: space, data: data }; }\n    Tensor.create = create;\n    function Space(dimensions, axisOrderSlowToFast, ctor) {\n        var layout = Layout(dimensions, axisOrderSlowToFast, ctor);\n        var _a = accessors(layout), get = _a.get, set = _a.set, add = _a.add, dataOffset = _a.dataOffset, getCoords = _a.getCoords;\n        return { rank: dimensions.length, dimensions: dimensions, axisOrderSlowToFast: axisOrderSlowToFast, create: creator(layout), get: get, set: set, add: add, dataOffset: dataOffset, getCoords: getCoords };\n    }\n    Tensor.Space = Space;\n    function Data1(values) { return values; }\n    Tensor.Data1 = Data1;\n    function Vector(d, ctor) { return Space([d], [0], ctor); }\n    Tensor.Vector = Vector;\n    function ColumnMajorMatrix(rows, cols, ctor) { return Space([rows, cols], [1, 0], ctor); }\n    Tensor.ColumnMajorMatrix = ColumnMajorMatrix;\n    function RowMajorMatrix(rows, cols, ctor) { return Space([rows, cols], [0, 1], ctor); }\n    Tensor.RowMajorMatrix = RowMajorMatrix;\n    function toMat4(out, space, data) {\n        if (space.rank !== 2)\n            throw new Error('Invalid tensor rank');\n        var d0 = Math.min(4, space.dimensions[0]), d1 = Math.min(4, space.dimensions[1]);\n        for (var i = 0; i < d0; i++) {\n            for (var j = 0; j < d1; j++)\n                Mat4.setValue(out, i, j, space.get(data, i, j));\n        }\n        return out;\n    }\n    Tensor.toMat4 = toMat4;\n    function toMat3(out, space, data) {\n        if (space.rank !== 2)\n            throw new Error('Invalid tensor rank');\n        var d0 = Math.min(3, space.dimensions[0]), d1 = Math.min(3, space.dimensions[1]);\n        for (var i = 0; i < d0; i++) {\n            for (var j = 0; j < d1; j++)\n                Mat3.setValue(out, i, j, space.get(data, i, j));\n        }\n        return out;\n    }\n    Tensor.toMat3 = toMat3;\n    function toVec3(out, space, data) {\n        if (space.rank !== 1)\n            throw new Error('Invalid tensor rank');\n        var d0 = Math.min(3, space.dimensions[0]);\n        for (var i = 0; i < d0; i++)\n            out[i] = data[i];\n        return out;\n    }\n    Tensor.toVec3 = toVec3;\n    function toVec4(out, space, data) {\n        if (space.rank !== 1)\n            throw new Error('Invalid tensor rank');\n        var d0 = Math.min(4, space.dimensions[0]);\n        for (var i = 0; i < d0; i++)\n            out[i] = data[i];\n        return out;\n    }\n    Tensor.toVec4 = toVec4;\n    function areEqualExact(a, b) {\n        var len = a.length;\n        if (len !== b.length)\n            return false;\n        for (var i = 0; i < len; i++)\n            if (a[i] !== b[i])\n                return false;\n        return true;\n    }\n    Tensor.areEqualExact = areEqualExact;\n    function accessors(layout) {\n        var dimensions = layout.dimensions, ao = layout.axisOrderFastToSlow;\n        switch (dimensions.length) {\n            case 1: return {\n                get: function (t, d) { return t[d]; },\n                set: function (t, d, x) { return t[d] = x; },\n                add: function (t, d, x) { return t[d] += x; },\n                dataOffset: function (d) { return d; },\n                getCoords: function (o, c) {\n                    c[0] = o;\n                    return c;\n                }\n            };\n            case 2: {\n                // column major\n                if (ao[0] === 0 && ao[1] === 1) {\n                    var rows_1 = dimensions[0];\n                    return {\n                        get: function (t, i, j) { return t[j * rows_1 + i]; },\n                        set: function (t, i, j, x) { return t[j * rows_1 + i] = x; },\n                        add: function (t, i, j, x) { return t[j * rows_1 + i] += x; },\n                        dataOffset: function (i, j) { return j * rows_1 + i; },\n                        getCoords: function (o, c) {\n                            c[0] = o % rows_1;\n                            c[1] = Math.floor(o / rows_1);\n                            return c;\n                        }\n                    };\n                }\n                if (ao[0] === 1 && ao[1] === 0) {\n                    var cols_1 = dimensions[1];\n                    return {\n                        get: function (t, i, j) { return t[i * cols_1 + j]; },\n                        set: function (t, i, j, x) { return t[i * cols_1 + j] = x; },\n                        add: function (t, i, j, x) { return t[i * cols_1 + j] += x; },\n                        dataOffset: function (i, j) { return i * cols_1 + j; },\n                        getCoords: function (o, c) {\n                            c[0] = Math.floor(o / cols_1);\n                            c[1] = o % cols_1;\n                            return c;\n                        }\n                    };\n                }\n                throw new Error('bad axis order');\n            }\n            case 3: {\n                if (ao[0] === 0 && ao[1] === 1 && ao[2] === 2) { // 012 ijk\n                    var u_1 = dimensions[0], v_1 = dimensions[1], uv_1 = u_1 * v_1;\n                    return {\n                        get: function (t, i, j, k) { return t[i + j * u_1 + k * uv_1]; },\n                        set: function (t, i, j, k, x) { return t[i + j * u_1 + k * uv_1] = x; },\n                        add: function (t, i, j, k, x) { return t[i + j * u_1 + k * uv_1] += x; },\n                        dataOffset: function (i, j, k) { return i + j * u_1 + k * uv_1; },\n                        getCoords: function (o, c) {\n                            var p = Math.floor(o / u_1);\n                            c[0] = o % u_1;\n                            c[1] = p % v_1;\n                            c[2] = Math.floor(p / v_1);\n                            return c;\n                        }\n                    };\n                }\n                if (ao[0] === 0 && ao[1] === 2 && ao[2] === 1) { // 021 ikj\n                    var u_2 = dimensions[0], v_2 = dimensions[2], uv_2 = u_2 * v_2;\n                    return {\n                        get: function (t, i, j, k) { return t[i + k * u_2 + j * uv_2]; },\n                        set: function (t, i, j, k, x) { return t[i + k * u_2 + j * uv_2] = x; },\n                        add: function (t, i, j, k, x) { return t[i + k * u_2 + j * uv_2] += x; },\n                        dataOffset: function (i, j, k) { return i + k * u_2 + j * uv_2; },\n                        getCoords: function (o, c) {\n                            var p = Math.floor(o / u_2);\n                            c[0] = o % u_2;\n                            c[1] = Math.floor(p / v_2);\n                            c[2] = p % v_2;\n                            return c;\n                        }\n                    };\n                }\n                if (ao[0] === 1 && ao[1] === 0 && ao[2] === 2) { // 102 jik\n                    var u_3 = dimensions[1], v_3 = dimensions[0], uv_3 = u_3 * v_3;\n                    return {\n                        get: function (t, i, j, k) { return t[j + i * u_3 + k * uv_3]; },\n                        set: function (t, i, j, k, x) { return t[j + i * u_3 + k * uv_3] = x; },\n                        add: function (t, i, j, k, x) { return t[j + i * u_3 + k * uv_3] += x; },\n                        dataOffset: function (i, j, k) { return j + i * u_3 + k * uv_3; },\n                        getCoords: function (o, c) {\n                            var p = Math.floor(o / u_3);\n                            c[0] = p % v_3;\n                            c[1] = o % u_3;\n                            c[2] = Math.floor(p / v_3);\n                            return c;\n                        }\n                    };\n                }\n                if (ao[0] === 1 && ao[1] === 2 && ao[2] === 0) { // 120 jki\n                    var u_4 = dimensions[1], v_4 = dimensions[2], uv_4 = u_4 * v_4;\n                    return {\n                        get: function (t, i, j, k) { return t[j + k * u_4 + i * uv_4]; },\n                        set: function (t, i, j, k, x) { return t[j + k * u_4 + i * uv_4] = x; },\n                        add: function (t, i, j, k, x) { return t[j + k * u_4 + i * uv_4] += x; },\n                        dataOffset: function (i, j, k) { return j + k * u_4 + i * uv_4; },\n                        getCoords: function (o, c) {\n                            var p = Math.floor(o / u_4);\n                            c[0] = Math.floor(p / v_4);\n                            c[1] = o % u_4;\n                            c[2] = p % v_4;\n                            return c;\n                        }\n                    };\n                }\n                if (ao[0] === 2 && ao[1] === 0 && ao[2] === 1) { // 201 kij\n                    var u_5 = dimensions[2], v_5 = dimensions[0], uv_5 = u_5 * v_5;\n                    return {\n                        get: function (t, i, j, k) { return t[k + i * u_5 + j * uv_5]; },\n                        set: function (t, i, j, k, x) { return t[k + i * u_5 + j * uv_5] = x; },\n                        add: function (t, i, j, k, x) { return t[k + i * u_5 + j * uv_5] += x; },\n                        dataOffset: function (i, j, k) { return k + i * u_5 + j * uv_5; },\n                        getCoords: function (o, c) {\n                            var p = Math.floor(o / u_5);\n                            c[0] = p % v_5;\n                            c[1] = Math.floor(p / v_5);\n                            c[2] = o % u_5;\n                            return c;\n                        }\n                    };\n                }\n                if (ao[0] === 2 && ao[1] === 1 && ao[2] === 0) { // 210 kji\n                    var u_6 = dimensions[2], v_6 = dimensions[1], uv_6 = u_6 * v_6;\n                    return {\n                        get: function (t, i, j, k) { return t[k + j * u_6 + i * uv_6]; },\n                        set: function (t, i, j, k, x) { return t[k + j * u_6 + i * uv_6] = x; },\n                        add: function (t, i, j, k, x) { return t[k + j * u_6 + i * uv_6] += x; },\n                        dataOffset: function (i, j, k) { return k + j * u_6 + i * uv_6; },\n                        getCoords: function (o, c) {\n                            var p = Math.floor(o / u_6);\n                            c[0] = Math.floor(p / v_6);\n                            c[1] = p % v_6;\n                            c[2] = o % u_6;\n                            return c;\n                        }\n                    };\n                }\n                throw new Error('bad axis order');\n            }\n            default: return {\n                get: function (t) {\n                    var c = [];\n                    for (var _a = 1; _a < arguments.length; _a++) {\n                        c[_a - 1] = arguments[_a];\n                    }\n                    return t[dataOffset(layout, c)];\n                },\n                set: function (t) {\n                    var c = [];\n                    for (var _a = 1; _a < arguments.length; _a++) {\n                        c[_a - 1] = arguments[_a];\n                    }\n                    return t[dataOffset(layout, c)] = c[c.length - 1];\n                },\n                add: function (t) {\n                    var c = [];\n                    for (var _a = 1; _a < arguments.length; _a++) {\n                        c[_a - 1] = arguments[_a];\n                    }\n                    return t[dataOffset(layout, c)] += c[c.length - 1];\n                },\n                dataOffset: function () {\n                    var c = [];\n                    for (var _a = 0; _a < arguments.length; _a++) {\n                        c[_a] = arguments[_a];\n                    }\n                    return dataOffset(layout, c);\n                },\n                getCoords: function (o, c) { return getCoords(layout, o, c); },\n            };\n        }\n    }\n    function creator(layout) {\n        var ds = layout.dimensions;\n        var size = 1;\n        for (var i = 0, _i = ds.length; i < _i; i++)\n            size *= ds[i];\n        return function (ctor) { return new (ctor || layout.defaultCtor)(size); };\n    }\n    function dataOffset(layout, coord) {\n        var acc = layout.accessDimensions, ao = layout.axisOrderFastToSlow;\n        var d = acc.length - 1;\n        var o = acc[d] * coord[ao[d]];\n        for (var i = d - 1; i >= 0; i--) {\n            o = (o + coord[ao[i]]) * acc[i];\n        }\n        return o;\n    }\n    function getCoords(layout, o, coords) {\n        var dim = layout.dimensions, ao = layout.axisOrderFastToSlow;\n        var d = dim.length;\n        var c = o;\n        for (var i = 0; i < d; i++) {\n            var d_1 = dim[ao[i]];\n            coords[ao[i]] = c % d_1;\n            c = Math.floor(c / d_1);\n        }\n        coords[ao[d + 1]] = c;\n        return coords;\n    }\n    // Convers \"slow to fast\" axis order to \"fast to slow\" and vice versa.\n    function invertAxisOrder(v) {\n        var ret = [];\n        for (var i = 0; i < v.length; i++) {\n            ret[i] = v[v.length - i - 1];\n        }\n        return ret;\n    }\n    Tensor.invertAxisOrder = invertAxisOrder;\n    function reorder(xs, indices) {\n        var ret = [];\n        for (var i = 0; i < xs.length; i++)\n            ret[i] = xs[indices[i]];\n        return ret;\n    }\n    function convertToCanonicalAxisIndicesFastToSlow(order) {\n        var indices = new Int32Array(order.length);\n        for (var i = 0; i < order.length; i++)\n            indices[order[i]] = i;\n        return function (xs) { return reorder(xs, indices); };\n    }\n    Tensor.convertToCanonicalAxisIndicesFastToSlow = convertToCanonicalAxisIndicesFastToSlow;\n    function convertToCanonicalAxisIndicesSlowToFast(order) {\n        var indices = new Int32Array(order.length);\n        for (var i = 0; i < order.length; i++)\n            indices[order[order.length - i - 1]] = i;\n        return function (xs) { return reorder(xs, indices); };\n    }\n    Tensor.convertToCanonicalAxisIndicesSlowToFast = convertToCanonicalAxisIndicesSlowToFast;\n})(Tensor || (Tensor = {}));\n","/**\n * Copyright (c) 2017-2020 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\n/*\n * This code has been modified from https://github.com/toji/gl-matrix/,\n * copyright (c) 2015, Brandon Jones, Colin MacKenzie IV.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n */\nimport { EPSILON, equalEps } from './common';\nimport { Vec3 } from './vec3';\nimport { degToRad } from '../../misc';\nfunction Mat4() {\n    return Mat4.zero();\n}\n/**\n * Stores a 4x4 matrix in a column major (j * 4 + i indexing) format.\n */\n(function (Mat4) {\n    function zero() {\n        // force double backing array by 0.1.\n        var ret = [0.1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n        ret[0] = 0.0;\n        return ret;\n    }\n    Mat4.zero = zero;\n    function identity() {\n        var out = zero();\n        out[0] = 1;\n        out[1] = 0;\n        out[2] = 0;\n        out[3] = 0;\n        out[4] = 0;\n        out[5] = 1;\n        out[6] = 0;\n        out[7] = 0;\n        out[8] = 0;\n        out[9] = 0;\n        out[10] = 1;\n        out[11] = 0;\n        out[12] = 0;\n        out[13] = 0;\n        out[14] = 0;\n        out[15] = 1;\n        return out;\n    }\n    Mat4.identity = identity;\n    function setIdentity(mat) {\n        mat[0] = 1;\n        mat[1] = 0;\n        mat[2] = 0;\n        mat[3] = 0;\n        mat[4] = 0;\n        mat[5] = 1;\n        mat[6] = 0;\n        mat[7] = 0;\n        mat[8] = 0;\n        mat[9] = 0;\n        mat[10] = 1;\n        mat[11] = 0;\n        mat[12] = 0;\n        mat[13] = 0;\n        mat[14] = 0;\n        mat[15] = 1;\n        return mat;\n    }\n    Mat4.setIdentity = setIdentity;\n    function setZero(mat) {\n        for (var i = 0; i < 16; i++)\n            mat[i] = 0;\n        return mat;\n    }\n    Mat4.setZero = setZero;\n    function ofRows(rows) {\n        var out = zero();\n        for (var i = 0; i < 4; i++) {\n            var r = rows[i];\n            for (var j = 0; j < 4; j++) {\n                out[4 * j + i] = r[j];\n            }\n        }\n        return out;\n    }\n    Mat4.ofRows = ofRows;\n    var _id = identity();\n    function isIdentity(m, eps) {\n        return areEqual(m, _id, typeof eps === 'undefined' ? EPSILON : eps);\n    }\n    Mat4.isIdentity = isIdentity;\n    function hasNaN(m) {\n        for (var i = 0; i < 16; i++)\n            if (isNaN(m[i]))\n                return true;\n        return false;\n    }\n    Mat4.hasNaN = hasNaN;\n    function areEqual(a, b, eps) {\n        for (var i = 0; i < 16; i++) {\n            if (Math.abs(a[i] - b[i]) > eps)\n                return false;\n        }\n        return true;\n    }\n    Mat4.areEqual = areEqual;\n    function setValue(a, i, j, value) {\n        a[4 * j + i] = value;\n    }\n    Mat4.setValue = setValue;\n    function getValue(a, i, j) {\n        return a[4 * j + i];\n    }\n    Mat4.getValue = getValue;\n    function toArray(a, out, offset) {\n        out[offset + 0] = a[0];\n        out[offset + 1] = a[1];\n        out[offset + 2] = a[2];\n        out[offset + 3] = a[3];\n        out[offset + 4] = a[4];\n        out[offset + 5] = a[5];\n        out[offset + 6] = a[6];\n        out[offset + 7] = a[7];\n        out[offset + 8] = a[8];\n        out[offset + 9] = a[9];\n        out[offset + 10] = a[10];\n        out[offset + 11] = a[11];\n        out[offset + 12] = a[12];\n        out[offset + 13] = a[13];\n        out[offset + 14] = a[14];\n        out[offset + 15] = a[15];\n        return out;\n    }\n    Mat4.toArray = toArray;\n    function fromArray(a, array, offset) {\n        a[0] = array[offset + 0];\n        a[1] = array[offset + 1];\n        a[2] = array[offset + 2];\n        a[3] = array[offset + 3];\n        a[4] = array[offset + 4];\n        a[5] = array[offset + 5];\n        a[6] = array[offset + 6];\n        a[7] = array[offset + 7];\n        a[8] = array[offset + 8];\n        a[9] = array[offset + 9];\n        a[10] = array[offset + 10];\n        a[11] = array[offset + 11];\n        a[12] = array[offset + 12];\n        a[13] = array[offset + 13];\n        a[14] = array[offset + 14];\n        a[15] = array[offset + 15];\n        return a;\n    }\n    Mat4.fromArray = fromArray;\n    function fromBasis(a, x, y, z) {\n        setZero(a);\n        setValue(a, 0, 0, x[0]);\n        setValue(a, 1, 0, x[1]);\n        setValue(a, 2, 0, x[2]);\n        setValue(a, 0, 1, y[0]);\n        setValue(a, 1, 1, y[1]);\n        setValue(a, 2, 1, y[2]);\n        setValue(a, 0, 2, z[0]);\n        setValue(a, 1, 2, z[1]);\n        setValue(a, 2, 2, z[2]);\n        setValue(a, 3, 3, 1);\n        return a;\n    }\n    Mat4.fromBasis = fromBasis;\n    function copy(out, a) {\n        out[0] = a[0];\n        out[1] = a[1];\n        out[2] = a[2];\n        out[3] = a[3];\n        out[4] = a[4];\n        out[5] = a[5];\n        out[6] = a[6];\n        out[7] = a[7];\n        out[8] = a[8];\n        out[9] = a[9];\n        out[10] = a[10];\n        out[11] = a[11];\n        out[12] = a[12];\n        out[13] = a[13];\n        out[14] = a[14];\n        out[15] = a[15];\n        return out;\n    }\n    Mat4.copy = copy;\n    function clone(a) {\n        return copy(zero(), a);\n    }\n    Mat4.clone = clone;\n    /**\n     * Returns the translation vector component of a transformation matrix.\n     */\n    function getTranslation(out, mat) {\n        out[0] = mat[12];\n        out[1] = mat[13];\n        out[2] = mat[14];\n        return out;\n    }\n    Mat4.getTranslation = getTranslation;\n    /**\n     * Returns the scaling factor component of a transformation matrix.\n     */\n    function getScaling(out, mat) {\n        var m11 = mat[0];\n        var m12 = mat[1];\n        var m13 = mat[2];\n        var m21 = mat[4];\n        var m22 = mat[5];\n        var m23 = mat[6];\n        var m31 = mat[8];\n        var m32 = mat[9];\n        var m33 = mat[10];\n        out[0] = Math.sqrt(m11 * m11 + m12 * m12 + m13 * m13);\n        out[1] = Math.sqrt(m21 * m21 + m22 * m22 + m23 * m23);\n        out[2] = Math.sqrt(m31 * m31 + m32 * m32 + m33 * m33);\n        return out;\n    }\n    Mat4.getScaling = getScaling;\n    /**\n     * Returns a quaternion representing the rotational component of a transformation matrix.\n     */\n    function getRotation(out, mat) {\n        // Algorithm taken from http://www.euclideanspace.com/maths/geometry/rotations/conversions/matrixToQuaternion/index.htm\n        var trace = mat[0] + mat[5] + mat[10];\n        var S = 0;\n        if (trace > 0) {\n            S = Math.sqrt(trace + 1.0) * 2;\n            out[3] = 0.25 * S;\n            out[0] = (mat[6] - mat[9]) / S;\n            out[1] = (mat[8] - mat[2]) / S;\n            out[2] = (mat[1] - mat[4]) / S;\n        }\n        else if ((mat[0] > mat[5]) && (mat[0] > mat[10])) {\n            S = Math.sqrt(1.0 + mat[0] - mat[5] - mat[10]) * 2;\n            out[3] = (mat[6] - mat[9]) / S;\n            out[0] = 0.25 * S;\n            out[1] = (mat[1] + mat[4]) / S;\n            out[2] = (mat[8] + mat[2]) / S;\n        }\n        else if (mat[5] > mat[10]) {\n            S = Math.sqrt(1.0 + mat[5] - mat[0] - mat[10]) * 2;\n            out[3] = (mat[8] - mat[2]) / S;\n            out[0] = (mat[1] + mat[4]) / S;\n            out[1] = 0.25 * S;\n            out[2] = (mat[6] + mat[9]) / S;\n        }\n        else {\n            S = Math.sqrt(1.0 + mat[10] - mat[0] - mat[5]) * 2;\n            out[3] = (mat[1] - mat[4]) / S;\n            out[0] = (mat[8] + mat[2]) / S;\n            out[1] = (mat[6] + mat[9]) / S;\n            out[2] = 0.25 * S;\n        }\n        return out;\n    }\n    Mat4.getRotation = getRotation;\n    function extractRotation(out, mat) {\n        var scaleX = 1 / Math.sqrt(mat[0] * mat[0] + mat[1] * mat[1] + mat[2] * mat[2]);\n        var scaleY = 1 / Math.sqrt(mat[4] * mat[4] + mat[5] * mat[5] + mat[6] * mat[6]);\n        var scaleZ = 1 / Math.sqrt(mat[8] * mat[8] + mat[9] * mat[9] + mat[10] * mat[10]);\n        out[0] = mat[0] * scaleX;\n        out[1] = mat[1] * scaleX;\n        out[2] = mat[2] * scaleX;\n        out[3] = 0;\n        out[4] = mat[4] * scaleY;\n        out[5] = mat[5] * scaleY;\n        out[6] = mat[6] * scaleY;\n        out[7] = 0;\n        out[8] = mat[8] * scaleZ;\n        out[9] = mat[9] * scaleZ;\n        out[10] = mat[10] * scaleZ;\n        out[11] = 0;\n        out[12] = 0;\n        out[13] = 0;\n        out[14] = 0;\n        out[15] = 1;\n        return out;\n    }\n    Mat4.extractRotation = extractRotation;\n    function transpose(out, a) {\n        // If we are transposing ourselves we can skip a few steps but have to cache some values\n        if (out === a) {\n            var a01 = a[1], a02 = a[2], a03 = a[3];\n            var a12 = a[6], a13 = a[7];\n            var a23 = a[11];\n            out[1] = a[4];\n            out[2] = a[8];\n            out[3] = a[12];\n            out[4] = a01;\n            out[6] = a[9];\n            out[7] = a[13];\n            out[8] = a02;\n            out[9] = a12;\n            out[11] = a[14];\n            out[12] = a03;\n            out[13] = a13;\n            out[14] = a23;\n        }\n        else {\n            out[0] = a[0];\n            out[1] = a[4];\n            out[2] = a[8];\n            out[3] = a[12];\n            out[4] = a[1];\n            out[5] = a[5];\n            out[6] = a[9];\n            out[7] = a[13];\n            out[8] = a[2];\n            out[9] = a[6];\n            out[10] = a[10];\n            out[11] = a[14];\n            out[12] = a[3];\n            out[13] = a[7];\n            out[14] = a[11];\n            out[15] = a[15];\n        }\n        return out;\n    }\n    Mat4.transpose = transpose;\n    function tryInvert(out, a) {\n        var a00 = a[0], a01 = a[1], a02 = a[2], a03 = a[3], a10 = a[4], a11 = a[5], a12 = a[6], a13 = a[7], a20 = a[8], a21 = a[9], a22 = a[10], a23 = a[11], a30 = a[12], a31 = a[13], a32 = a[14], a33 = a[15], b00 = a00 * a11 - a01 * a10, b01 = a00 * a12 - a02 * a10, b02 = a00 * a13 - a03 * a10, b03 = a01 * a12 - a02 * a11, b04 = a01 * a13 - a03 * a11, b05 = a02 * a13 - a03 * a12, b06 = a20 * a31 - a21 * a30, b07 = a20 * a32 - a22 * a30, b08 = a20 * a33 - a23 * a30, b09 = a21 * a32 - a22 * a31, b10 = a21 * a33 - a23 * a31, b11 = a22 * a33 - a23 * a32;\n        // Calculate the determinant\n        var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n        if (!det) {\n            return false;\n        }\n        det = 1.0 / det;\n        out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n        out[1] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n        out[2] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n        out[3] = (a22 * b04 - a21 * b05 - a23 * b03) * det;\n        out[4] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n        out[5] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n        out[6] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n        out[7] = (a20 * b05 - a22 * b02 + a23 * b01) * det;\n        out[8] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n        out[9] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n        out[10] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n        out[11] = (a21 * b02 - a20 * b04 - a23 * b00) * det;\n        out[12] = (a11 * b07 - a10 * b09 - a12 * b06) * det;\n        out[13] = (a00 * b09 - a01 * b07 + a02 * b06) * det;\n        out[14] = (a31 * b01 - a30 * b03 - a32 * b00) * det;\n        out[15] = (a20 * b03 - a21 * b01 + a22 * b00) * det;\n        return true;\n    }\n    Mat4.tryInvert = tryInvert;\n    function invert(out, a) {\n        if (!tryInvert(out, a)) {\n            console.warn('non-invertible matrix.', a);\n        }\n        return out;\n    }\n    Mat4.invert = invert;\n    function mul(out, a, b) {\n        var a00 = a[0], a01 = a[1], a02 = a[2], a03 = a[3], a10 = a[4], a11 = a[5], a12 = a[6], a13 = a[7], a20 = a[8], a21 = a[9], a22 = a[10], a23 = a[11], a30 = a[12], a31 = a[13], a32 = a[14], a33 = a[15];\n        // Cache only the current line of the second matrix\n        var b0 = b[0], b1 = b[1], b2 = b[2], b3 = b[3];\n        out[0] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n        out[1] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n        out[2] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n        out[3] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n        b0 = b[4];\n        b1 = b[5];\n        b2 = b[6];\n        b3 = b[7];\n        out[4] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n        out[5] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n        out[6] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n        out[7] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n        b0 = b[8];\n        b1 = b[9];\n        b2 = b[10];\n        b3 = b[11];\n        out[8] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n        out[9] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n        out[10] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n        out[11] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n        b0 = b[12];\n        b1 = b[13];\n        b2 = b[14];\n        b3 = b[15];\n        out[12] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n        out[13] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n        out[14] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n        out[15] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n        return out;\n    }\n    Mat4.mul = mul;\n    /**\n     * Like `mul` but with offsets into arrays\n     */\n    function mulOffset(out, a, b, oOut, oA, oB) {\n        var a00 = a[0 + oA], a01 = a[1 + oA], a02 = a[2 + oA], a03 = a[3 + oA], a10 = a[4 + oA], a11 = a[5 + oA], a12 = a[6 + oA], a13 = a[7 + oA], a20 = a[8 + oA], a21 = a[9 + oA], a22 = a[10 + oA], a23 = a[11 + oA], a30 = a[12 + oA], a31 = a[13 + oA], a32 = a[14 + oA], a33 = a[15 + oA];\n        // Cache only the current line of the second matrix\n        var b0 = b[0 + oB], b1 = b[1 + oB], b2 = b[2 + oB], b3 = b[3 + oB];\n        out[0 + oOut] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n        out[1 + oOut] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n        out[2 + oOut] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n        out[3 + oOut] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n        b0 = b[4 + oB];\n        b1 = b[5 + oB];\n        b2 = b[6 + oB];\n        b3 = b[7 + oB];\n        out[4 + oOut] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n        out[5 + oOut] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n        out[6 + oOut] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n        out[7 + oOut] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n        b0 = b[8 + oB];\n        b1 = b[9 + oB];\n        b2 = b[10 + oB];\n        b3 = b[11 + oB];\n        out[8 + oOut] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n        out[9 + oOut] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n        out[10 + oOut] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n        out[11 + oOut] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n        b0 = b[12 + oB];\n        b1 = b[13 + oB];\n        b2 = b[14 + oB];\n        b3 = b[15 + oB];\n        out[12 + oOut] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n        out[13 + oOut] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n        out[14 + oOut] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n        out[15 + oOut] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n        return out;\n    }\n    Mat4.mulOffset = mulOffset;\n    function mul3(out, a, b, c) {\n        return mul(out, mul(out, a, b), c);\n    }\n    Mat4.mul3 = mul3;\n    /** Translate a Mat4 by the given Vec3 */\n    function translate(out, a, v) {\n        var x = v[0], y = v[1], z = v[2];\n        var a00, a01, a02, a03, a10, a11, a12, a13, a20, a21, a22, a23;\n        if (a === out) {\n            out[12] = a[0] * x + a[4] * y + a[8] * z + a[12];\n            out[13] = a[1] * x + a[5] * y + a[9] * z + a[13];\n            out[14] = a[2] * x + a[6] * y + a[10] * z + a[14];\n            out[15] = a[3] * x + a[7] * y + a[11] * z + a[15];\n        }\n        else {\n            a00 = a[0];\n            a01 = a[1];\n            a02 = a[2];\n            a03 = a[3];\n            a10 = a[4];\n            a11 = a[5];\n            a12 = a[6];\n            a13 = a[7];\n            a20 = a[8];\n            a21 = a[9];\n            a22 = a[10];\n            a23 = a[11];\n            out[0] = a00;\n            out[1] = a01;\n            out[2] = a02;\n            out[3] = a03;\n            out[4] = a10;\n            out[5] = a11;\n            out[6] = a12;\n            out[7] = a13;\n            out[8] = a20;\n            out[9] = a21;\n            out[10] = a22;\n            out[11] = a23;\n            out[12] = a00 * x + a10 * y + a20 * z + a[12];\n            out[13] = a01 * x + a11 * y + a21 * z + a[13];\n            out[14] = a02 * x + a12 * y + a22 * z + a[14];\n            out[15] = a03 * x + a13 * y + a23 * z + a[15];\n        }\n        return out;\n    }\n    Mat4.translate = translate;\n    function fromTranslation(out, v) {\n        out[0] = 1;\n        out[1] = 0;\n        out[2] = 0;\n        out[3] = 0;\n        out[4] = 0;\n        out[5] = 1;\n        out[6] = 0;\n        out[7] = 0;\n        out[8] = 0;\n        out[9] = 0;\n        out[10] = 1;\n        out[11] = 0;\n        out[12] = v[0];\n        out[13] = v[1];\n        out[14] = v[2];\n        out[15] = 1;\n        return out;\n    }\n    Mat4.fromTranslation = fromTranslation;\n    function setTranslation(out, v) {\n        out[12] = v[0];\n        out[13] = v[1];\n        out[14] = v[2];\n        return out;\n    }\n    Mat4.setTranslation = setTranslation;\n    /**\n     * Sets the specified quaternion with values corresponding to the given\n     * axes. Each axis is a vec3 and is expected to be unit length and\n     * perpendicular to all other specified axes.\n     */\n    function setAxes(out, view, right, up) {\n        out[0] = right[0];\n        out[4] = right[1];\n        out[8] = right[2];\n        out[1] = up[0];\n        out[5] = up[1];\n        out[9] = up[2];\n        out[2] = view[0];\n        out[6] = view[1];\n        out[10] = view[2];\n        return out;\n    }\n    Mat4.setAxes = setAxes;\n    function rotate(out, a, rad, axis) {\n        var x = axis[0], y = axis[1], z = axis[2];\n        var len = Math.sqrt(x * x + y * y + z * z);\n        if (Math.abs(len) < EPSILON) {\n            return identity();\n        }\n        len = 1 / len;\n        x *= len;\n        y *= len;\n        z *= len;\n        var s = Math.sin(rad);\n        var c = Math.cos(rad);\n        var t = 1 - c;\n        var a00 = a[0], a01 = a[1], a02 = a[2], a03 = a[3];\n        var a10 = a[4], a11 = a[5], a12 = a[6], a13 = a[7];\n        var a20 = a[8], a21 = a[9], a22 = a[10], a23 = a[11];\n        // Construct the elements of the rotation matrix\n        var b00 = x * x * t + c, b01 = y * x * t + z * s, b02 = z * x * t - y * s;\n        var b10 = x * y * t - z * s, b11 = y * y * t + c, b12 = z * y * t + x * s;\n        var b20 = x * z * t + y * s, b21 = y * z * t - x * s, b22 = z * z * t + c;\n        // Perform rotation-specific matrix multiplication\n        out[0] = a00 * b00 + a10 * b01 + a20 * b02;\n        out[1] = a01 * b00 + a11 * b01 + a21 * b02;\n        out[2] = a02 * b00 + a12 * b01 + a22 * b02;\n        out[3] = a03 * b00 + a13 * b01 + a23 * b02;\n        out[4] = a00 * b10 + a10 * b11 + a20 * b12;\n        out[5] = a01 * b10 + a11 * b11 + a21 * b12;\n        out[6] = a02 * b10 + a12 * b11 + a22 * b12;\n        out[7] = a03 * b10 + a13 * b11 + a23 * b12;\n        out[8] = a00 * b20 + a10 * b21 + a20 * b22;\n        out[9] = a01 * b20 + a11 * b21 + a21 * b22;\n        out[10] = a02 * b20 + a12 * b21 + a22 * b22;\n        out[11] = a03 * b20 + a13 * b21 + a23 * b22;\n        if (a !== out) { // If the source and destination differ, copy the unchanged last row\n            out[12] = a[12];\n            out[13] = a[13];\n            out[14] = a[14];\n            out[15] = a[15];\n        }\n        return out;\n    }\n    Mat4.rotate = rotate;\n    function fromRotation(out, rad, axis) {\n        var x = axis[0], y = axis[1], z = axis[2];\n        var len = Math.sqrt(x * x + y * y + z * z);\n        if (Math.abs(len) < EPSILON) {\n            return setIdentity(out);\n        }\n        len = 1 / len;\n        x *= len;\n        y *= len;\n        z *= len;\n        var s = Math.sin(rad);\n        var c = Math.cos(rad);\n        var t = 1 - c;\n        // Perform rotation-specific matrix multiplication\n        out[0] = x * x * t + c;\n        out[1] = y * x * t + z * s;\n        out[2] = z * x * t - y * s;\n        out[3] = 0;\n        out[4] = x * y * t - z * s;\n        out[5] = y * y * t + c;\n        out[6] = z * y * t + x * s;\n        out[7] = 0;\n        out[8] = x * z * t + y * s;\n        out[9] = y * z * t - x * s;\n        out[10] = z * z * t + c;\n        out[11] = 0;\n        out[12] = 0;\n        out[13] = 0;\n        out[14] = 0;\n        out[15] = 1;\n        return out;\n    }\n    Mat4.fromRotation = fromRotation;\n    function scale(out, a, v) {\n        var x = v[0], y = v[1], z = v[2];\n        out[0] = a[0] * x;\n        out[1] = a[1] * x;\n        out[2] = a[2] * x;\n        out[3] = a[3] * x;\n        out[4] = a[4] * y;\n        out[5] = a[5] * y;\n        out[6] = a[6] * y;\n        out[7] = a[7] * y;\n        out[8] = a[8] * z;\n        out[9] = a[9] * z;\n        out[10] = a[10] * z;\n        out[11] = a[11] * z;\n        out[12] = a[12];\n        out[13] = a[13];\n        out[14] = a[14];\n        out[15] = a[15];\n        return out;\n    }\n    Mat4.scale = scale;\n    function scaleUniformly(out, a, scale) {\n        out[0] = a[0] * scale;\n        out[1] = a[1] * scale;\n        out[2] = a[2] * scale;\n        out[3] = a[3] * scale;\n        out[4] = a[4] * scale;\n        out[5] = a[5] * scale;\n        out[6] = a[6] * scale;\n        out[7] = a[7] * scale;\n        out[8] = a[8] * scale;\n        out[9] = a[9] * scale;\n        out[10] = a[10] * scale;\n        out[11] = a[11] * scale;\n        out[12] = a[12];\n        out[13] = a[13];\n        out[14] = a[14];\n        out[15] = a[15];\n        return out;\n    }\n    Mat4.scaleUniformly = scaleUniformly;\n    function fromScaling(out, v) {\n        out[0] = v[0];\n        out[1] = 0;\n        out[2] = 0;\n        out[3] = 0;\n        out[4] = 0;\n        out[5] = v[1];\n        out[6] = 0;\n        out[7] = 0;\n        out[8] = 0;\n        out[9] = 0;\n        out[10] = v[2];\n        out[11] = 0;\n        out[12] = 0;\n        out[13] = 0;\n        out[14] = 0;\n        out[15] = 1;\n        return out;\n    }\n    Mat4.fromScaling = fromScaling;\n    function fromUniformScaling(out, scale) {\n        out[0] = scale;\n        out[1] = 0;\n        out[2] = 0;\n        out[3] = 0;\n        out[4] = 0;\n        out[5] = scale;\n        out[6] = 0;\n        out[7] = 0;\n        out[8] = 0;\n        out[9] = 0;\n        out[10] = scale;\n        out[11] = 0;\n        out[12] = 0;\n        out[13] = 0;\n        out[14] = 0;\n        out[15] = 1;\n        return out;\n    }\n    Mat4.fromUniformScaling = fromUniformScaling;\n    /**\n     * Copies the mat3 into upper-left 3x3 values.\n     */\n    function fromMat3(out, a) {\n        out[0] = a[0];\n        out[1] = a[1];\n        out[2] = a[2];\n        out[4] = a[3];\n        out[5] = a[4];\n        out[6] = a[5];\n        out[8] = a[6];\n        out[9] = a[7];\n        out[10] = a[8];\n        return out;\n    }\n    Mat4.fromMat3 = fromMat3;\n    function compose(out, position, quaternion, scale) {\n        var x = quaternion[0], y = quaternion[1], z = quaternion[2], w = quaternion[3];\n        var x2 = x + x, y2 = y + y, z2 = z + z;\n        var xx = x * x2, xy = x * y2, xz = x * z2;\n        var yy = y * y2, yz = y * z2, zz = z * z2;\n        var wx = w * x2, wy = w * y2, wz = w * z2;\n        var sx = scale[0], sy = scale[1], sz = scale[2];\n        out[0] = (1 - (yy + zz)) * sx;\n        out[1] = (xy + wz) * sx;\n        out[2] = (xz - wy) * sx;\n        out[3] = 0;\n        out[4] = (xy - wz) * sy;\n        out[5] = (1 - (xx + zz)) * sy;\n        out[6] = (yz + wx) * sy;\n        out[7] = 0;\n        out[8] = (xz + wy) * sz;\n        out[9] = (yz - wx) * sz;\n        out[10] = (1 - (xx + yy)) * sz;\n        out[11] = 0;\n        out[12] = position[0];\n        out[13] = position[1];\n        out[14] = position[2];\n        out[15] = 1;\n        return out;\n    }\n    Mat4.compose = compose;\n    var _v3 = [0, 0, 0];\n    var _m4 = zero();\n    function decompose(m, position, quaternion, scale) {\n        var sx = Vec3.magnitude(Vec3.set(_v3, m[0], m[1], m[2]));\n        var sy = Vec3.magnitude(Vec3.set(_v3, m[4], m[5], m[6]));\n        var sz = Vec3.magnitude(Vec3.set(_v3, m[8], m[9], m[10]));\n        // if determine is negative, we need to invert one scale\n        var det = determinant(m);\n        if (det < 0)\n            sx = -sx;\n        position[0] = m[12];\n        position[1] = m[13];\n        position[2] = m[14];\n        // scale the rotation part\n        copy(_m4, m);\n        var invSX = 1 / sx;\n        var invSY = 1 / sy;\n        var invSZ = 1 / sz;\n        _m4[0] *= invSX;\n        _m4[1] *= invSX;\n        _m4[2] *= invSX;\n        _m4[4] *= invSY;\n        _m4[5] *= invSY;\n        _m4[6] *= invSY;\n        _m4[8] *= invSZ;\n        _m4[9] *= invSZ;\n        _m4[10] *= invSZ;\n        getRotation(quaternion, _m4);\n        scale[0] = sx;\n        scale[1] = sy;\n        scale[2] = sz;\n        return m;\n    }\n    Mat4.decompose = decompose;\n    function makeTable(m) {\n        var ret = '';\n        for (var i = 0; i < 4; i++) {\n            for (var j = 0; j < 4; j++) {\n                ret += m[4 * j + i].toString();\n                if (j < 3)\n                    ret += ' ';\n            }\n            if (i < 3)\n                ret += '\\n';\n        }\n        return ret;\n    }\n    Mat4.makeTable = makeTable;\n    function determinant(a) {\n        var a00 = a[0], a01 = a[1], a02 = a[2], a03 = a[3], a10 = a[4], a11 = a[5], a12 = a[6], a13 = a[7], a20 = a[8], a21 = a[9], a22 = a[10], a23 = a[11], a30 = a[12], a31 = a[13], a32 = a[14], a33 = a[15], b00 = a00 * a11 - a01 * a10, b01 = a00 * a12 - a02 * a10, b02 = a00 * a13 - a03 * a10, b03 = a01 * a12 - a02 * a11, b04 = a01 * a13 - a03 * a11, b05 = a02 * a13 - a03 * a12, b06 = a20 * a31 - a21 * a30, b07 = a20 * a32 - a22 * a30, b08 = a20 * a33 - a23 * a30, b09 = a21 * a32 - a22 * a31, b10 = a21 * a33 - a23 * a31, b11 = a22 * a33 - a23 * a32;\n        // Calculate the determinant\n        return b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n    }\n    Mat4.determinant = determinant;\n    /**\n     * Check if the matrix has the form\n     * [ Rotation    Translation ]\n     * [ 0           1           ]\n     *\n     * Allows for improper rotations\n     */\n    function isRotationAndTranslation(a, eps) {\n        return _isRotationAndTranslation(a, typeof eps !== 'undefined' ? eps : EPSILON);\n    }\n    Mat4.isRotationAndTranslation = isRotationAndTranslation;\n    function _isRotationAndTranslation(a, eps) {\n        var a00 = a[0], a01 = a[1], a02 = a[2], a03 = a[3], a10 = a[4], a11 = a[5], a12 = a[6], a13 = a[7], a20 = a[8], a21 = a[9], a22 = a[10], a23 = a[11], a33 = a[15];\n        if (!equalEps(a33, 1, eps) || !equalEps(a03, 0, eps) || !equalEps(a13, 0, eps) || !equalEps(a23, 0, eps)) {\n            return false;\n        }\n        // use `abs` to allow for improper rotations\n        var det3x3 = Math.abs(a00 * (a11 * a22 - a12 * a21) - a01 * (a10 * a22 - a12 * a20) + a02 * (a10 * a21 - a11 * a20));\n        if (!equalEps(det3x3, 1, eps)) {\n            return false;\n        }\n        return true;\n    }\n    /**\n     * Check if the matrix has only translation and uniform scaling\n     * [ S  0  0  X ]\n     * [ 0  S  0  Y ]\n     * [ 0  0  S  Z ]\n     * [ 0  0  0  1 ]\n     */\n    function isTranslationAndUniformScaling(a, eps) {\n        return _isTranslationAndUniformScaling(a, typeof eps !== 'undefined' ? eps : EPSILON);\n    }\n    Mat4.isTranslationAndUniformScaling = isTranslationAndUniformScaling;\n    function _isTranslationAndUniformScaling(a, eps) {\n        var a00 = a[0];\n        return (\n        // 0 base scaling\n        equalEps(a[1], 0, eps) &&\n            equalEps(a[2], 0, eps) &&\n            equalEps(a[3], 0, eps) &&\n            equalEps(a[4], 0, eps) &&\n            equalEps(a[5], a00, eps) &&\n            equalEps(a[6], 0, eps) &&\n            equalEps(a[7], 0, eps) &&\n            equalEps(a[8], 0, eps) &&\n            equalEps(a[9], 0, eps) &&\n            equalEps(a[10], a00, eps) &&\n            equalEps(a[11], 0, eps) &&\n            // 12, 13, 14 translation can be anything\n            equalEps(a[15], 1, eps));\n    }\n    function fromQuat(out, q) {\n        var x = q[0], y = q[1], z = q[2], w = q[3];\n        var x2 = x + x;\n        var y2 = y + y;\n        var z2 = z + z;\n        var xx = x * x2;\n        var yx = y * x2;\n        var yy = y * y2;\n        var zx = z * x2;\n        var zy = z * y2;\n        var zz = z * z2;\n        var wx = w * x2;\n        var wy = w * y2;\n        var wz = w * z2;\n        out[0] = 1 - yy - zz;\n        out[1] = yx + wz;\n        out[2] = zx - wy;\n        out[3] = 0;\n        out[4] = yx - wz;\n        out[5] = 1 - xx - zz;\n        out[6] = zy + wx;\n        out[7] = 0;\n        out[8] = zx + wy;\n        out[9] = zy - wx;\n        out[10] = 1 - xx - yy;\n        out[11] = 0;\n        out[12] = 0;\n        out[13] = 0;\n        out[14] = 0;\n        out[15] = 1;\n        return out;\n    }\n    Mat4.fromQuat = fromQuat;\n    function fromEuler(out, euler, order) {\n        var x = euler[0], y = euler[1], z = euler[2];\n        var a = Math.cos(x), b = Math.sin(x);\n        var c = Math.cos(y), d = Math.sin(y);\n        var e = Math.cos(z), f = Math.sin(z);\n        if (order === 'XYZ') {\n            var ae = a * e, af = a * f, be = b * e, bf = b * f;\n            out[0] = c * e;\n            out[4] = -c * f;\n            out[8] = d;\n            out[1] = af + be * d;\n            out[5] = ae - bf * d;\n            out[9] = -b * c;\n            out[2] = bf - ae * d;\n            out[6] = be + af * d;\n            out[10] = a * c;\n        }\n        else if (order === 'YXZ') {\n            var ce = c * e, cf = c * f, de = d * e, df = d * f;\n            out[0] = ce + df * b;\n            out[4] = de * b - cf;\n            out[8] = a * d;\n            out[1] = a * f;\n            out[5] = a * e;\n            out[9] = -b;\n            out[2] = cf * b - de;\n            out[6] = df + ce * b;\n            out[10] = a * c;\n        }\n        else if (order === 'ZXY') {\n            var ce = c * e, cf = c * f, de = d * e, df = d * f;\n            out[0] = ce - df * b;\n            out[4] = -a * f;\n            out[8] = de + cf * b;\n            out[1] = cf + de * b;\n            out[5] = a * e;\n            out[9] = df - ce * b;\n            out[2] = -a * d;\n            out[6] = b;\n            out[10] = a * c;\n        }\n        else if (order === 'ZYX') {\n            var ae = a * e, af = a * f, be = b * e, bf = b * f;\n            out[0] = c * e;\n            out[4] = be * d - af;\n            out[8] = ae * d + bf;\n            out[1] = c * f;\n            out[5] = bf * d + ae;\n            out[9] = af * d - be;\n            out[2] = -d;\n            out[6] = b * c;\n            out[10] = a * c;\n        }\n        else if (order === 'YZX') {\n            var ac = a * c, ad = a * d, bc = b * c, bd = b * d;\n            out[0] = c * e;\n            out[4] = bd - ac * f;\n            out[8] = bc * f + ad;\n            out[1] = f;\n            out[5] = a * e;\n            out[9] = -b * e;\n            out[2] = -d * e;\n            out[6] = ad * f + bc;\n            out[10] = ac - bd * f;\n        }\n        else if (order === 'XZY') {\n            var ac = a * c, ad = a * d, bc = b * c, bd = b * d;\n            out[0] = c * e;\n            out[4] = -f;\n            out[8] = d * e;\n            out[1] = ac * f + bd;\n            out[5] = a * e;\n            out[9] = ad * f - bc;\n            out[2] = bc * f - ad;\n            out[6] = b * e;\n            out[10] = bd * f + ac;\n        }\n        // bottom row\n        out[3] = 0;\n        out[7] = 0;\n        out[11] = 0;\n        // last column\n        out[12] = 0;\n        out[13] = 0;\n        out[14] = 0;\n        out[15] = 1;\n        return out;\n    }\n    Mat4.fromEuler = fromEuler;\n    /**\n     * Generates a perspective projection (frustum) matrix with the given bounds\n     */\n    function perspective(out, left, right, top, bottom, near, far) {\n        var x = 2 * near / (right - left);\n        var y = 2 * near / (top - bottom);\n        var a = (right + left) / (right - left);\n        var b = (top + bottom) / (top - bottom);\n        var c = -(far + near) / (far - near);\n        var d = -2 * far * near / (far - near);\n        out[0] = x;\n        out[1] = 0;\n        out[2] = 0;\n        out[3] = 0;\n        out[4] = 0;\n        out[5] = y;\n        out[6] = 0;\n        out[7] = 0;\n        out[8] = a;\n        out[9] = b;\n        out[10] = c;\n        out[11] = -1;\n        out[12] = 0;\n        out[13] = 0;\n        out[14] = d;\n        out[15] = 0;\n        return out;\n    }\n    Mat4.perspective = perspective;\n    /**\n     * Generates a orthogonal projection matrix with the given bounds\n     */\n    function ortho(out, left, right, top, bottom, near, far) {\n        var w = 1.0 / (right - left);\n        var h = 1.0 / (top - bottom);\n        var p = 1.0 / (far - near);\n        var x = (right + left) * w;\n        var y = (top + bottom) * h;\n        var z = (far + near) * p;\n        out[0] = 2 * w;\n        out[1] = 0;\n        out[2] = 0;\n        out[3] = 0;\n        out[4] = 0;\n        out[5] = 2 * h;\n        out[6] = 0;\n        out[7] = 0;\n        out[8] = 0;\n        out[9] = 0;\n        out[10] = -2 * p;\n        out[11] = 0;\n        out[12] = -x;\n        out[13] = -y;\n        out[14] = -z;\n        out[15] = 1;\n        return out;\n    }\n    Mat4.ortho = ortho;\n    /**\n     * Generates a look-at matrix with the given eye position, focal point, and up axis\n     */\n    function lookAt(out, eye, center, up) {\n        var x0, x1, x2, y0, y1, y2, z0, z1, z2, len;\n        var eyex = eye[0];\n        var eyey = eye[1];\n        var eyez = eye[2];\n        var upx = up[0];\n        var upy = up[1];\n        var upz = up[2];\n        var centerx = center[0];\n        var centery = center[1];\n        var centerz = center[2];\n        if (Math.abs(eyex - centerx) < EPSILON &&\n            Math.abs(eyey - centery) < EPSILON &&\n            Math.abs(eyez - centerz) < EPSILON) {\n            return setIdentity(out);\n        }\n        z0 = eyex - centerx;\n        z1 = eyey - centery;\n        z2 = eyez - centerz;\n        len = 1 / Math.sqrt(z0 * z0 + z1 * z1 + z2 * z2);\n        z0 *= len;\n        z1 *= len;\n        z2 *= len;\n        x0 = upy * z2 - upz * z1;\n        x1 = upz * z0 - upx * z2;\n        x2 = upx * z1 - upy * z0;\n        len = Math.sqrt(x0 * x0 + x1 * x1 + x2 * x2);\n        if (!len) {\n            x0 = 0;\n            x1 = 0;\n            x2 = 0;\n        }\n        else {\n            len = 1 / len;\n            x0 *= len;\n            x1 *= len;\n            x2 *= len;\n        }\n        y0 = z1 * x2 - z2 * x1;\n        y1 = z2 * x0 - z0 * x2;\n        y2 = z0 * x1 - z1 * x0;\n        len = Math.sqrt(y0 * y0 + y1 * y1 + y2 * y2);\n        if (!len) {\n            y0 = 0;\n            y1 = 0;\n            y2 = 0;\n        }\n        else {\n            len = 1 / len;\n            y0 *= len;\n            y1 *= len;\n            y2 *= len;\n        }\n        out[0] = x0;\n        out[1] = y0;\n        out[2] = z0;\n        out[3] = 0;\n        out[4] = x1;\n        out[5] = y1;\n        out[6] = z1;\n        out[7] = 0;\n        out[8] = x2;\n        out[9] = y2;\n        out[10] = z2;\n        out[11] = 0;\n        out[12] = -(x0 * eyex + x1 * eyey + x2 * eyez);\n        out[13] = -(y0 * eyex + y1 * eyey + y2 * eyez);\n        out[14] = -(z0 * eyex + z1 * eyey + z2 * eyez);\n        out[15] = 1;\n        return out;\n    }\n    Mat4.lookAt = lookAt;\n    /**\n     * Generates a matrix that makes something look at something else.\n     */\n    function targetTo(out, eye, target, up) {\n        var eyex = eye[0], eyey = eye[1], eyez = eye[2], upx = up[0], upy = up[1], upz = up[2];\n        var z0 = eyex - target[0], z1 = eyey - target[1], z2 = eyez - target[2];\n        var len = z0 * z0 + z1 * z1 + z2 * z2;\n        if (len > 0) {\n            len = 1 / Math.sqrt(len);\n            z0 *= len;\n            z1 *= len;\n            z2 *= len;\n        }\n        var x0 = upy * z2 - upz * z1, x1 = upz * z0 - upx * z2, x2 = upx * z1 - upy * z0;\n        len = x0 * x0 + x1 * x1 + x2 * x2;\n        if (len > 0) {\n            len = 1 / Math.sqrt(len);\n            x0 *= len;\n            x1 *= len;\n            x2 *= len;\n        }\n        out[0] = x0;\n        out[1] = x1;\n        out[2] = x2;\n        out[3] = 0;\n        out[4] = z1 * x2 - z2 * x1;\n        out[5] = z2 * x0 - z0 * x2;\n        out[6] = z0 * x1 - z1 * x0;\n        out[7] = 0;\n        out[8] = z0;\n        out[9] = z1;\n        out[10] = z2;\n        out[11] = 0;\n        out[12] = eyex;\n        out[13] = eyey;\n        out[14] = eyez;\n        out[15] = 1;\n        return out;\n    }\n    Mat4.targetTo = targetTo;\n    /**\n     * Perm is 0-indexed permutation\n     */\n    function fromPermutation(out, perm) {\n        setZero(out);\n        for (var i = 0; i < 4; i++) {\n            var p = perm[i];\n            setValue(out, i, p, 1);\n        }\n        return out;\n    }\n    Mat4.fromPermutation = fromPermutation;\n    function getMaxScaleOnAxis(m) {\n        var scaleXSq = m[0] * m[0] + m[1] * m[1] + m[2] * m[2];\n        var scaleYSq = m[4] * m[4] + m[5] * m[5] + m[6] * m[6];\n        var scaleZSq = m[8] * m[8] + m[9] * m[9] + m[10] * m[10];\n        return Math.sqrt(Math.max(scaleXSq, scaleYSq, scaleZSq));\n    }\n    Mat4.getMaxScaleOnAxis = getMaxScaleOnAxis;\n    var xAxis = [1, 0, 0];\n    var yAxis = [0, 1, 0];\n    var zAxis = [0, 0, 1];\n    /** Rotation matrix for 90deg around x-axis */\n    Mat4.rotX90 = fromRotation(zero(), degToRad(90), xAxis);\n    /** Rotation matrix for 180deg around x-axis */\n    Mat4.rotX180 = fromRotation(zero(), degToRad(180), xAxis);\n    /** Rotation matrix for 90deg around y-axis */\n    Mat4.rotY90 = fromRotation(zero(), degToRad(90), yAxis);\n    /** Rotation matrix for 180deg around y-axis */\n    Mat4.rotY180 = fromRotation(zero(), degToRad(180), yAxis);\n    /** Rotation matrix for 270deg around y-axis */\n    Mat4.rotY270 = fromRotation(zero(), degToRad(270), yAxis);\n    /** Rotation matrix for 90deg around z-axis */\n    Mat4.rotZ90 = fromRotation(zero(), degToRad(90), zAxis);\n    /** Rotation matrix for 180deg around z-axis */\n    Mat4.rotZ180 = fromRotation(zero(), degToRad(180), zAxis);\n    /** Rotation matrix for 90deg around first x-axis and then y-axis */\n    Mat4.rotXY90 = mul(zero(), Mat4.rotX90, Mat4.rotY90);\n    /** Rotation matrix for 90deg around first z-axis and then y-axis */\n    Mat4.rotZY90 = mul(zero(), Mat4.rotZ90, Mat4.rotY90);\n    /** Rotation matrix for 90deg around first z-axis and then y-axis and then z-axis */\n    Mat4.rotZYZ90 = mul(zero(), Mat4.rotZY90, Mat4.rotZ90);\n    /** Rotation matrix for 90deg around first z-axis and then 180deg around x-axis */\n    Mat4.rotZ90X180 = mul(zero(), Mat4.rotZ90, Mat4.rotX180);\n    /** Rotation matrix for 90deg around first y-axis and then 180deg around z-axis */\n    Mat4.rotY90Z180 = mul(zero(), Mat4.rotY90, Mat4.rotZ180);\n    /** Identity matrix */\n    Mat4.id = identity();\n})(Mat4 || (Mat4 = {}));\nexport { Mat4 };\n","/**\n * Copyright (c) 2017-2019 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\nimport { EPSILON } from './common';\nimport { Vec3 } from './vec3';\nfunction Mat3() {\n    return Mat3.zero();\n}\n(function (Mat3) {\n    function zero() {\n        // force double backing array by 0.1.\n        var ret = [0.1, 0, 0, 0, 0, 0, 0, 0, 0];\n        ret[0] = 0.0;\n        return ret;\n    }\n    Mat3.zero = zero;\n    function identity() {\n        var out = zero();\n        out[0] = 1;\n        out[1] = 0;\n        out[2] = 0;\n        out[3] = 0;\n        out[4] = 1;\n        out[5] = 0;\n        out[6] = 0;\n        out[7] = 0;\n        out[8] = 1;\n        return out;\n    }\n    Mat3.identity = identity;\n    function setIdentity(mat) {\n        mat[0] = 1;\n        mat[1] = 0;\n        mat[2] = 0;\n        mat[3] = 0;\n        mat[4] = 1;\n        mat[5] = 0;\n        mat[6] = 0;\n        mat[7] = 0;\n        mat[8] = 1;\n        return mat;\n    }\n    Mat3.setIdentity = setIdentity;\n    function toArray(a, out, offset) {\n        out[offset + 0] = a[0];\n        out[offset + 1] = a[1];\n        out[offset + 2] = a[2];\n        out[offset + 3] = a[3];\n        out[offset + 4] = a[4];\n        out[offset + 5] = a[5];\n        out[offset + 6] = a[6];\n        out[offset + 7] = a[7];\n        out[offset + 8] = a[8];\n        return out;\n    }\n    Mat3.toArray = toArray;\n    function fromArray(a, array, offset) {\n        a[0] = array[offset + 0];\n        a[1] = array[offset + 1];\n        a[2] = array[offset + 2];\n        a[3] = array[offset + 3];\n        a[4] = array[offset + 4];\n        a[5] = array[offset + 5];\n        a[6] = array[offset + 6];\n        a[7] = array[offset + 7];\n        a[8] = array[offset + 8];\n        return a;\n    }\n    Mat3.fromArray = fromArray;\n    /**\n     * Copies the upper-left 3x3 values into the given mat3.\n     */\n    function fromMat4(out, a) {\n        out[0] = a[0];\n        out[1] = a[1];\n        out[2] = a[2];\n        out[3] = a[4];\n        out[4] = a[5];\n        out[5] = a[6];\n        out[6] = a[8];\n        out[7] = a[9];\n        out[8] = a[10];\n        return out;\n    }\n    Mat3.fromMat4 = fromMat4;\n    function create(a00, a01, a02, a10, a11, a12, a20, a21, a22) {\n        var out = zero();\n        out[0] = a00;\n        out[1] = a01;\n        out[2] = a02;\n        out[3] = a10;\n        out[4] = a11;\n        out[5] = a12;\n        out[6] = a20;\n        out[7] = a21;\n        out[8] = a22;\n        return out;\n    }\n    Mat3.create = create;\n    var _id = identity();\n    function isIdentity(m, eps) {\n        return areEqual(m, _id, typeof eps === 'undefined' ? EPSILON : eps);\n    }\n    Mat3.isIdentity = isIdentity;\n    function hasNaN(m) {\n        for (var i = 0; i < 9; i++)\n            if (isNaN(m[i]))\n                return true;\n        return false;\n    }\n    Mat3.hasNaN = hasNaN;\n    /**\n     * Creates a new Mat3 initialized with values from an existing matrix\n     */\n    function clone(a) {\n        return copy(zero(), a);\n    }\n    Mat3.clone = clone;\n    function areEqual(a, b, eps) {\n        for (var i = 0; i < 9; i++) {\n            if (Math.abs(a[i] - b[i]) > eps)\n                return false;\n        }\n        return true;\n    }\n    Mat3.areEqual = areEqual;\n    function setValue(a, i, j, value) {\n        a[3 * j + i] = value;\n    }\n    Mat3.setValue = setValue;\n    function getValue(a, i, j) {\n        return a[3 * j + i];\n    }\n    Mat3.getValue = getValue;\n    /**\n     * Copy the values from one Mat3 to another\n     */\n    function copy(out, a) {\n        out[0] = a[0];\n        out[1] = a[1];\n        out[2] = a[2];\n        out[3] = a[3];\n        out[4] = a[4];\n        out[5] = a[5];\n        out[6] = a[6];\n        out[7] = a[7];\n        out[8] = a[8];\n        return out;\n    }\n    Mat3.copy = copy;\n    /**\n     * Transpose the values of a Mat3\n     */\n    function transpose(out, a) {\n        // If we are transposing ourselves we can skip a few steps but have to cache some values\n        if (out === a) {\n            var a01 = a[1], a02 = a[2], a12 = a[5];\n            out[1] = a[3];\n            out[2] = a[6];\n            out[3] = a01;\n            out[5] = a[7];\n            out[6] = a02;\n            out[7] = a12;\n        }\n        else {\n            out[0] = a[0];\n            out[1] = a[3];\n            out[2] = a[6];\n            out[3] = a[1];\n            out[4] = a[4];\n            out[5] = a[7];\n            out[6] = a[2];\n            out[7] = a[5];\n            out[8] = a[8];\n        }\n        return out;\n    }\n    Mat3.transpose = transpose;\n    /**\n     * Inverts a Mat3\n     */\n    function invert(out, a) {\n        var a00 = a[0], a01 = a[1], a02 = a[2];\n        var a10 = a[3], a11 = a[4], a12 = a[5];\n        var a20 = a[6], a21 = a[7], a22 = a[8];\n        var b01 = a22 * a11 - a12 * a21;\n        var b11 = -a22 * a10 + a12 * a20;\n        var b21 = a21 * a10 - a11 * a20;\n        // Calculate the determinant\n        var det = a00 * b01 + a01 * b11 + a02 * b21;\n        if (!det) {\n            console.warn('non-invertible matrix.', a);\n            return out;\n        }\n        det = 1.0 / det;\n        out[0] = b01 * det;\n        out[1] = (-a22 * a01 + a02 * a21) * det;\n        out[2] = (a12 * a01 - a02 * a11) * det;\n        out[3] = b11 * det;\n        out[4] = (a22 * a00 - a02 * a20) * det;\n        out[5] = (-a12 * a00 + a02 * a10) * det;\n        out[6] = b21 * det;\n        out[7] = (-a21 * a00 + a01 * a20) * det;\n        out[8] = (a11 * a00 - a01 * a10) * det;\n        return out;\n    }\n    Mat3.invert = invert;\n    function symmtricFromUpper(out, a) {\n        if (out === a) {\n            out[3] = a[1];\n            out[6] = a[2];\n            out[7] = a[5];\n        }\n        else {\n            out[0] = a[0];\n            out[1] = a[1];\n            out[2] = a[2];\n            out[3] = a[1];\n            out[4] = a[4];\n            out[5] = a[5];\n            out[6] = a[2];\n            out[7] = a[5];\n            out[8] = a[8];\n        }\n        return out;\n    }\n    Mat3.symmtricFromUpper = symmtricFromUpper;\n    function symmtricFromLower(out, a) {\n        if (out === a) {\n            out[1] = a[3];\n            out[2] = a[6];\n            out[5] = a[7];\n        }\n        else {\n            out[0] = a[0];\n            out[1] = a[3];\n            out[2] = a[6];\n            out[3] = a[3];\n            out[4] = a[4];\n            out[5] = a[7];\n            out[6] = a[6];\n            out[7] = a[7];\n            out[8] = a[8];\n        }\n        return out;\n    }\n    Mat3.symmtricFromLower = symmtricFromLower;\n    function determinant(a) {\n        var a00 = a[0], a01 = a[1], a02 = a[2];\n        var a10 = a[3], a11 = a[4], a12 = a[5];\n        var a20 = a[6], a21 = a[7], a22 = a[8];\n        var b01 = a22 * a11 - a12 * a21;\n        var b11 = -a22 * a10 + a12 * a20;\n        var b21 = a21 * a10 - a11 * a20;\n        // Calculate the determinant\n        return a00 * b01 + a01 * b11 + a02 * b21;\n    }\n    Mat3.determinant = determinant;\n    function trace(a) {\n        return a[0] + a[4] + a[8];\n    }\n    Mat3.trace = trace;\n    function sub(out, a, b) {\n        out[0] = a[0] - b[0];\n        out[1] = a[1] - b[1];\n        out[2] = a[2] - b[2];\n        out[3] = a[3] - b[3];\n        out[4] = a[4] - b[4];\n        out[5] = a[5] - b[5];\n        out[6] = a[6] - b[6];\n        out[7] = a[7] - b[7];\n        out[8] = a[8] - b[8];\n        return out;\n    }\n    Mat3.sub = sub;\n    function add(out, a, b) {\n        out[0] = a[0] + b[0];\n        out[1] = a[1] + b[1];\n        out[2] = a[2] + b[2];\n        out[3] = a[3] + b[3];\n        out[4] = a[4] + b[4];\n        out[5] = a[5] + b[5];\n        out[6] = a[6] + b[6];\n        out[7] = a[7] + b[7];\n        out[8] = a[8] + b[8];\n        return out;\n    }\n    Mat3.add = add;\n    function mul(out, a, b) {\n        var a00 = a[0], a01 = a[1], a02 = a[2], a10 = a[3], a11 = a[4], a12 = a[5], a20 = a[6], a21 = a[7], a22 = a[8];\n        var b00 = b[0], b01 = b[1], b02 = b[2], b10 = b[3], b11 = b[4], b12 = b[5], b20 = b[6], b21 = b[7], b22 = b[8];\n        out[0] = b00 * a00 + b01 * a10 + b02 * a20;\n        out[1] = b00 * a01 + b01 * a11 + b02 * a21;\n        out[2] = b00 * a02 + b01 * a12 + b02 * a22;\n        out[3] = b10 * a00 + b11 * a10 + b12 * a20;\n        out[4] = b10 * a01 + b11 * a11 + b12 * a21;\n        out[5] = b10 * a02 + b11 * a12 + b12 * a22;\n        out[6] = b20 * a00 + b21 * a10 + b22 * a20;\n        out[7] = b20 * a01 + b21 * a11 + b22 * a21;\n        out[8] = b20 * a02 + b21 * a12 + b22 * a22;\n        return out;\n    }\n    Mat3.mul = mul;\n    function subScalar(out, a, s) {\n        out[0] = a[0] - s;\n        out[1] = a[1] - s;\n        out[2] = a[2] - s;\n        out[3] = a[3] - s;\n        out[4] = a[4] - s;\n        out[5] = a[5] - s;\n        out[6] = a[6] - s;\n        out[7] = a[7] - s;\n        out[8] = a[8] - s;\n        return out;\n    }\n    Mat3.subScalar = subScalar;\n    function addScalar(out, a, s) {\n        out[0] = a[0] + s;\n        out[1] = a[1] + s;\n        out[2] = a[2] + s;\n        out[3] = a[3] + s;\n        out[4] = a[4] + s;\n        out[5] = a[5] + s;\n        out[6] = a[6] + s;\n        out[7] = a[7] + s;\n        out[8] = a[8] + s;\n        return out;\n    }\n    Mat3.addScalar = addScalar;\n    function mulScalar(out, a, s) {\n        out[0] = a[0] * s;\n        out[1] = a[1] * s;\n        out[2] = a[2] * s;\n        out[3] = a[3] * s;\n        out[4] = a[4] * s;\n        out[5] = a[5] * s;\n        out[6] = a[6] * s;\n        out[7] = a[7] * s;\n        out[8] = a[8] * s;\n        return out;\n    }\n    Mat3.mulScalar = mulScalar;\n    var piThird = Math.PI / 3;\n    var tmpB = zero();\n    /**\n     * Given a real symmetric 3x3 matrix A, compute the eigenvalues\n     *\n     * From https://en.wikipedia.org/wiki/Eigenvalue_algorithm#3.C3.973_matrices\n     */\n    function symmetricEigenvalues(out, a) {\n        var p1 = a[1] * a[1] + a[2] * a[2] + a[5] * a[5];\n        if (p1 === 0) {\n            out[0] = a[0];\n            out[1] = a[4];\n            out[2] = a[8];\n        }\n        else {\n            var q = trace(a) / 3;\n            var a1 = a[0] - q;\n            var a2 = a[4] - q;\n            var a3 = a[8] - q;\n            var p2 = a1 * a1 + a2 * a2 + a3 * a3 + 2 * p1;\n            var p = Math.sqrt(p2 / 6);\n            mulScalar(tmpB, Mat3.Identity, q);\n            sub(tmpB, a, tmpB);\n            mulScalar(tmpB, tmpB, (1 / p));\n            var r = determinant(tmpB) / 2;\n            // In exact arithmetic for a symmetric matrix  -1 <= r <= 1\n            // but computation error can leave it slightly outside this range.\n            var phi = r <= -1 ? piThird : r >= 1 ?\n                0 : Math.acos(r) / 3;\n            // the eigenvalues satisfy eig3 <= eig2 <= eig1\n            out[0] = q + 2 * p * Math.cos(phi);\n            out[2] = q + 2 * p * Math.cos(phi + (2 * piThird));\n            out[1] = 3 * q - out[0] - out[2]; // since trace(A) = eig1 + eig2 + eig3\n        }\n        return out;\n    }\n    Mat3.symmetricEigenvalues = symmetricEigenvalues;\n    var tmpR0 = [0.1, 0.0, 0.0];\n    var tmpR1 = [0.1, 0.0, 0.0];\n    var tmpR2 = [0.1, 0.0, 0.0];\n    var tmpR0xR1 = [0.1, 0.0, 0.0];\n    var tmpR0xR2 = [0.1, 0.0, 0.0];\n    var tmpR1xR2 = [0.1, 0.0, 0.0];\n    /**\n     * Calculates the eigenvector for the given eigenvalue `e` of matrix `a`\n     */\n    function eigenvector(out, a, e) {\n        Vec3.set(tmpR0, a[0] - e, a[1], a[2]);\n        Vec3.set(tmpR1, a[1], a[4] - e, a[5]);\n        Vec3.set(tmpR2, a[2], a[5], a[8] - e);\n        Vec3.cross(tmpR0xR1, tmpR0, tmpR1);\n        Vec3.cross(tmpR0xR2, tmpR0, tmpR2);\n        Vec3.cross(tmpR1xR2, tmpR1, tmpR2);\n        var d0 = Vec3.dot(tmpR0xR1, tmpR0xR1);\n        var d1 = Vec3.dot(tmpR0xR2, tmpR0xR2);\n        var d2 = Vec3.dot(tmpR1xR2, tmpR1xR2);\n        var dmax = d0;\n        var imax = 0;\n        if (d1 > dmax) {\n            dmax = d1;\n            imax = 1;\n        }\n        if (d2 > dmax)\n            imax = 2;\n        if (imax === 0) {\n            Vec3.scale(out, tmpR0xR1, 1 / Math.sqrt(d0));\n        }\n        else if (imax === 1) {\n            Vec3.scale(out, tmpR0xR2, 1 / Math.sqrt(d1));\n        }\n        else {\n            Vec3.scale(out, tmpR1xR2, 1 / Math.sqrt(d2));\n        }\n        return out;\n    }\n    Mat3.eigenvector = eigenvector;\n    /**\n     * Get matrix to transform directions, e.g. normals\n     */\n    function directionTransform(out, t) {\n        fromMat4(out, t);\n        invert(out, out);\n        transpose(out, out);\n        return out;\n    }\n    Mat3.directionTransform = directionTransform;\n    Mat3.Identity = identity();\n    /** Return the Frobenius inner product of two matrices (= dot product of the flattened matrices).\n     * Can be used as a measure of similarity between two rotation matrices. */\n    function innerProduct(a, b) {\n        return a[0] * b[0] + a[1] * b[1] + a[2] * b[2]\n            + a[3] * b[3] + a[4] * b[4] + a[5] * b[5]\n            + a[6] * b[6] + a[7] * b[7] + a[8] * b[8];\n    }\n    Mat3.innerProduct = innerProduct;\n})(Mat3 || (Mat3 = {}));\nexport { Mat3 };\n","/**\n * Copyright (c) 2018 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\nfunction Vec2() {\n    return Vec2.zero();\n}\n(function (Vec2) {\n    function zero() {\n        // force double backing array by 0.1.\n        var ret = [0.1, 0];\n        ret[0] = 0.0;\n        return ret;\n    }\n    Vec2.zero = zero;\n    function clone(a) {\n        var out = zero();\n        out[0] = a[0];\n        out[1] = a[1];\n        return out;\n    }\n    Vec2.clone = clone;\n    function create(x, y) {\n        var out = zero();\n        out[0] = x;\n        out[1] = y;\n        return out;\n    }\n    Vec2.create = create;\n    function hasNaN(a) {\n        return isNaN(a[0]) || isNaN(a[1]);\n    }\n    Vec2.hasNaN = hasNaN;\n    function toArray(a, out, offset) {\n        out[offset + 0] = a[0];\n        out[offset + 1] = a[1];\n        return out;\n    }\n    Vec2.toArray = toArray;\n    function fromArray(a, array, offset) {\n        a[0] = array[offset + 0];\n        a[1] = array[offset + 1];\n        return a;\n    }\n    Vec2.fromArray = fromArray;\n    function copy(out, a) {\n        out[0] = a[0];\n        out[1] = a[1];\n        return out;\n    }\n    Vec2.copy = copy;\n    function set(out, x, y) {\n        out[0] = x;\n        out[1] = y;\n        return out;\n    }\n    Vec2.set = set;\n    function add(out, a, b) {\n        out[0] = a[0] + b[0];\n        out[1] = a[1] + b[1];\n        return out;\n    }\n    Vec2.add = add;\n    function sub(out, a, b) {\n        out[0] = a[0] - b[0];\n        out[1] = a[1] - b[1];\n        return out;\n    }\n    Vec2.sub = sub;\n    function mul(out, a, b) {\n        out[0] = a[0] * b[0];\n        out[1] = a[1] * b[1];\n        return out;\n    }\n    Vec2.mul = mul;\n    function div(out, a, b) {\n        out[0] = a[0] / b[0];\n        out[1] = a[1] / b[1];\n        return out;\n    }\n    Vec2.div = div;\n    function scale(out, a, b) {\n        out[0] = a[0] * b;\n        out[1] = a[1] * b;\n        return out;\n    }\n    Vec2.scale = scale;\n    /**\n     * Math.round the components of a Vec2\n     */\n    function round(out, a) {\n        out[0] = Math.round(a[0]);\n        out[1] = Math.round(a[1]);\n        return out;\n    }\n    Vec2.round = round;\n    /**\n     * Math.ceil the components of a Vec2\n     */\n    function ceil(out, a) {\n        out[0] = Math.ceil(a[0]);\n        out[1] = Math.ceil(a[1]);\n        return out;\n    }\n    Vec2.ceil = ceil;\n    /**\n     * Math.floor the components of a Vec2\n     */\n    function floor(out, a) {\n        out[0] = Math.floor(a[0]);\n        out[1] = Math.floor(a[1]);\n        return out;\n    }\n    Vec2.floor = floor;\n    function distance(a, b) {\n        var x = b[0] - a[0], y = b[1] - a[1];\n        return Math.sqrt(x * x + y * y);\n    }\n    Vec2.distance = distance;\n    function squaredDistance(a, b) {\n        var x = b[0] - a[0], y = b[1] - a[1];\n        return x * x + y * y;\n    }\n    Vec2.squaredDistance = squaredDistance;\n    function magnitude(a) {\n        var x = a[0], y = a[1];\n        return Math.sqrt(x * x + y * y);\n    }\n    Vec2.magnitude = magnitude;\n    function squaredMagnitude(a) {\n        var x = a[0], y = a[1];\n        return x * x + y * y;\n    }\n    Vec2.squaredMagnitude = squaredMagnitude;\n    /**\n     * Returns the inverse of the components of a Vec2\n     */\n    function inverse(out, a) {\n        out[0] = 1.0 / a[0];\n        out[1] = 1.0 / a[1];\n        return out;\n    }\n    Vec2.inverse = inverse;\n    function areEqual(a, b) {\n        return a[0] === b[0] && a[1] === b[1];\n    }\n    Vec2.areEqual = areEqual;\n    function toString(a, precision) {\n        return \"[\".concat(a[0].toPrecision(precision), \" \").concat(a[1].toPrecision(precision), \"}]\");\n    }\n    Vec2.toString = toString;\n})(Vec2 || (Vec2 = {}));\nexport { Vec2 };\n","/**\n * Copyright (c) 2017-2018 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\nimport { EPSILON } from './common';\nfunction Vec4() {\n    return Vec4.zero();\n}\n(function (Vec4) {\n    function zero() {\n        // force double backing array by 0.1.\n        var ret = [0.1, 0, 0, 0];\n        ret[0] = 0.0;\n        return ret;\n    }\n    Vec4.zero = zero;\n    function clone(a) {\n        var out = zero();\n        out[0] = a[0];\n        out[1] = a[1];\n        out[2] = a[2];\n        out[3] = a[3];\n        return out;\n    }\n    Vec4.clone = clone;\n    function create(x, y, z, w) {\n        var out = zero();\n        out[0] = x;\n        out[1] = y;\n        out[2] = z;\n        out[3] = w;\n        return out;\n    }\n    Vec4.create = create;\n    function fromSphere(out, sphere) {\n        out[0] = sphere.center[0];\n        out[1] = sphere.center[1];\n        out[2] = sphere.center[2];\n        out[3] = sphere.radius;\n        return out;\n    }\n    Vec4.fromSphere = fromSphere;\n    function ofSphere(sphere) {\n        return fromSphere(zero(), sphere);\n    }\n    Vec4.ofSphere = ofSphere;\n    function hasNaN(a) {\n        return isNaN(a[0]) || isNaN(a[1]) || isNaN(a[2]) || isNaN(a[3]);\n    }\n    Vec4.hasNaN = hasNaN;\n    function toArray(a, out, offset) {\n        out[offset + 0] = a[0];\n        out[offset + 1] = a[1];\n        out[offset + 2] = a[2];\n        out[offset + 3] = a[3];\n        return out;\n    }\n    Vec4.toArray = toArray;\n    function fromArray(a, array, offset) {\n        a[0] = array[offset + 0];\n        a[1] = array[offset + 1];\n        a[2] = array[offset + 2];\n        a[3] = array[offset + 3];\n        return a;\n    }\n    Vec4.fromArray = fromArray;\n    function toVec3Array(a, out, offset) {\n        out[offset + 0] = a[0];\n        out[offset + 1] = a[1];\n        out[offset + 2] = a[2];\n    }\n    Vec4.toVec3Array = toVec3Array;\n    function fromVec3Array(a, array, offset) {\n        a[0] = array[offset + 0];\n        a[1] = array[offset + 1];\n        a[2] = array[offset + 2];\n        a[3] = 0;\n        return a;\n    }\n    Vec4.fromVec3Array = fromVec3Array;\n    function copy(out, a) {\n        out[0] = a[0];\n        out[1] = a[1];\n        out[2] = a[2];\n        out[3] = a[3];\n        return out;\n    }\n    Vec4.copy = copy;\n    function set(out, x, y, z, w) {\n        out[0] = x;\n        out[1] = y;\n        out[2] = z;\n        out[3] = w;\n        return out;\n    }\n    Vec4.set = set;\n    function add(out, a, b) {\n        out[0] = a[0] + b[0];\n        out[1] = a[1] + b[1];\n        out[2] = a[2] + b[2];\n        out[3] = a[3] + b[3];\n        return out;\n    }\n    Vec4.add = add;\n    function distance(a, b) {\n        var x = b[0] - a[0], y = b[1] - a[1], z = b[2] - a[2], w = b[3] - a[3];\n        return Math.sqrt(x * x + y * y + z * z + w * w);\n    }\n    Vec4.distance = distance;\n    function scale(out, a, b) {\n        out[0] = a[0] * b;\n        out[1] = a[1] * b;\n        out[2] = a[2] * b;\n        out[4] = a[4] * b;\n        return out;\n    }\n    Vec4.scale = scale;\n    /**\n     * Math.round the components of a Vec4\n     */\n    function round(out, a) {\n        out[0] = Math.round(a[0]);\n        out[1] = Math.round(a[1]);\n        out[2] = Math.round(a[2]);\n        out[3] = Math.round(a[3]);\n        return out;\n    }\n    Vec4.round = round;\n    /**\n     * Math.ceil the components of a Vec4\n     */\n    function ceil(out, a) {\n        out[0] = Math.ceil(a[0]);\n        out[1] = Math.ceil(a[1]);\n        out[2] = Math.ceil(a[2]);\n        out[3] = Math.ceil(a[3]);\n        return out;\n    }\n    Vec4.ceil = ceil;\n    /**\n     * Math.floor the components of a Vec3\n     */\n    function floor(out, a) {\n        out[0] = Math.floor(a[0]);\n        out[1] = Math.floor(a[1]);\n        out[2] = Math.floor(a[2]);\n        out[3] = Math.floor(a[3]);\n        return out;\n    }\n    Vec4.floor = floor;\n    function squaredDistance(a, b) {\n        var x = b[0] - a[0], y = b[1] - a[1], z = b[2] - a[2], w = b[3] - a[3];\n        return x * x + y * y + z * z + w * w;\n    }\n    Vec4.squaredDistance = squaredDistance;\n    function norm(a) {\n        var x = a[0], y = a[1], z = a[2], w = a[3];\n        return Math.sqrt(x * x + y * y + z * z + w * w);\n    }\n    Vec4.norm = norm;\n    function squaredNorm(a) {\n        var x = a[0], y = a[1], z = a[2], w = a[3];\n        return x * x + y * y + z * z + w * w;\n    }\n    Vec4.squaredNorm = squaredNorm;\n    function transformMat4(out, a, m) {\n        var x = a[0], y = a[1], z = a[2], w = a[3];\n        out[0] = m[0] * x + m[4] * y + m[8] * z + m[12] * w;\n        out[1] = m[1] * x + m[5] * y + m[9] * z + m[13] * w;\n        out[2] = m[2] * x + m[6] * y + m[10] * z + m[14] * w;\n        out[3] = m[3] * x + m[7] * y + m[11] * z + m[15] * w;\n        return out;\n    }\n    Vec4.transformMat4 = transformMat4;\n    function dot(a, b) {\n        return a[0] * b[0] + a[1] * b[1] + a[2] * b[2] + a[3] * b[3];\n    }\n    Vec4.dot = dot;\n    /**\n     * Returns the inverse of the components of a Vec4\n     */\n    function inverse(out, a) {\n        out[0] = 1.0 / a[0];\n        out[1] = 1.0 / a[1];\n        out[2] = 1.0 / a[2];\n        out[3] = 1.0 / a[3];\n        return out;\n    }\n    Vec4.inverse = inverse;\n    /**\n     * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\n     */\n    function exactEquals(a, b) {\n        return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3];\n    }\n    Vec4.exactEquals = exactEquals;\n    /**\n     * Returns whether or not the vectors have approximately the same elements in the same position.\n     */\n    function equals(a, b) {\n        var a0 = a[0], a1 = a[1], a2 = a[2], a3 = a[3];\n        var b0 = b[0], b1 = b[1], b2 = b[2], b3 = b[3];\n        return (Math.abs(a0 - b0) <= EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) &&\n            Math.abs(a1 - b1) <= EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) &&\n            Math.abs(a2 - b2) <= EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) &&\n            Math.abs(a3 - b3) <= EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)));\n    }\n    Vec4.equals = equals;\n    function toString(a, precision) {\n        return \"[\".concat(a[0].toPrecision(precision), \" \").concat(a[1].toPrecision(precision), \" \").concat(a[2].toPrecision(precision), \"  \").concat(a[3].toPrecision(precision), \"]\");\n    }\n    Vec4.toString = toString;\n})(Vec4 || (Vec4 = {}));\nexport { Vec4 };\n","/**\n * Copyright (c) 2018-2021 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @author David Sehnal <david.sehnal@gmail.com>\n */\nexport function ObjectKeys(o) {\n    return Object.keys(o);\n}\n;\nexport function assertUnreachable(x) {\n    throw new Error('unreachable');\n}\nexport function isPromiseLike(x) {\n    return typeof (x === null || x === void 0 ? void 0 : x.then) === 'function';\n}\n","/**\n * Copyright (c) 2017-2023 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\nimport { Vec3 } from './vec3';\nimport { EPSILON } from './common';\nimport { assertUnreachable } from '../../../mol-util/type-helpers';\nfunction Quat() {\n    return Quat.zero();\n}\n(function (Quat) {\n    function zero() {\n        // force double backing array by 0.1.\n        var ret = [0.1, 0, 0, 0];\n        ret[0] = 0.0;\n        return ret;\n    }\n    Quat.zero = zero;\n    function identity() {\n        var out = zero();\n        out[3] = 1;\n        return out;\n    }\n    Quat.identity = identity;\n    function setIdentity(out) {\n        out[0] = 0;\n        out[1] = 0;\n        out[2] = 0;\n        out[3] = 1;\n    }\n    Quat.setIdentity = setIdentity;\n    function hasNaN(q) {\n        return isNaN(q[0]) || isNaN(q[1]) || isNaN(q[2]) || isNaN(q[3]);\n    }\n    Quat.hasNaN = hasNaN;\n    function create(x, y, z, w) {\n        var out = identity();\n        out[0] = x;\n        out[1] = y;\n        out[2] = z;\n        out[3] = w;\n        return out;\n    }\n    Quat.create = create;\n    function setAxisAngle(out, axis, rad) {\n        rad = rad * 0.5;\n        var s = Math.sin(rad);\n        out[0] = s * axis[0];\n        out[1] = s * axis[1];\n        out[2] = s * axis[2];\n        out[3] = Math.cos(rad);\n        return out;\n    }\n    Quat.setAxisAngle = setAxisAngle;\n    /**\n     * Gets the rotation axis and angle for a given\n     *  quaternion. If a quaternion is created with\n     *  setAxisAngle, this method will return the same\n     *  values as providied in the original parameter list\n     *  OR functionally equivalent values.\n     * Example: The quaternion formed by axis [0, 0, 1] and\n     *  angle -90 is the same as the quaternion formed by\n     *  [0, 0, 1] and 270. This method favors the latter.\n     */\n    function getAxisAngle(out_axis, q) {\n        var rad = Math.acos(q[3]) * 2.0;\n        var s = Math.sin(rad / 2.0);\n        if (s !== 0.0) {\n            out_axis[0] = q[0] / s;\n            out_axis[1] = q[1] / s;\n            out_axis[2] = q[2] / s;\n        }\n        else {\n            // If s is zero, return any axis (no rotation - axis does not matter)\n            out_axis[0] = 1;\n            out_axis[1] = 0;\n            out_axis[2] = 0;\n        }\n        return rad;\n    }\n    Quat.getAxisAngle = getAxisAngle;\n    function multiply(out, a, b) {\n        var ax = a[0], ay = a[1], az = a[2], aw = a[3];\n        var bx = b[0], by = b[1], bz = b[2], bw = b[3];\n        out[0] = ax * bw + aw * bx + ay * bz - az * by;\n        out[1] = ay * bw + aw * by + az * bx - ax * bz;\n        out[2] = az * bw + aw * bz + ax * by - ay * bx;\n        out[3] = aw * bw - ax * bx - ay * by - az * bz;\n        return out;\n    }\n    Quat.multiply = multiply;\n    function rotateX(out, a, rad) {\n        rad *= 0.5;\n        var ax = a[0], ay = a[1], az = a[2], aw = a[3];\n        var bx = Math.sin(rad), bw = Math.cos(rad);\n        out[0] = ax * bw + aw * bx;\n        out[1] = ay * bw + az * bx;\n        out[2] = az * bw - ay * bx;\n        out[3] = aw * bw - ax * bx;\n        return out;\n    }\n    Quat.rotateX = rotateX;\n    function rotateY(out, a, rad) {\n        rad *= 0.5;\n        var ax = a[0], ay = a[1], az = a[2], aw = a[3];\n        var by = Math.sin(rad), bw = Math.cos(rad);\n        out[0] = ax * bw - az * by;\n        out[1] = ay * bw + aw * by;\n        out[2] = az * bw + ax * by;\n        out[3] = aw * bw - ay * by;\n        return out;\n    }\n    Quat.rotateY = rotateY;\n    function rotateZ(out, a, rad) {\n        rad *= 0.5;\n        var ax = a[0], ay = a[1], az = a[2], aw = a[3];\n        var bz = Math.sin(rad), bw = Math.cos(rad);\n        out[0] = ax * bw + ay * bz;\n        out[1] = ay * bw - ax * bz;\n        out[2] = az * bw + aw * bz;\n        out[3] = aw * bw - az * bz;\n        return out;\n    }\n    Quat.rotateZ = rotateZ;\n    /**\n     * Calculates the W component of a quat from the X, Y, and Z components.\n     * Assumes that quaternion is 1 unit in length.\n     * Any existing W component will be ignored.\n     */\n    function calculateW(out, a) {\n        var x = a[0], y = a[1], z = a[2];\n        out[0] = x;\n        out[1] = y;\n        out[2] = z;\n        out[3] = Math.sqrt(Math.abs(1.0 - x * x - y * y - z * z));\n        return out;\n    }\n    Quat.calculateW = calculateW;\n    /**\n     * Performs a spherical linear interpolation between two quat\n     */\n    function slerp(out, a, b, t) {\n        // benchmarks:\n        //    http://jsperf.com/quaternion-slerp-implementations\n        var ax = a[0], ay = a[1], az = a[2], aw = a[3];\n        var bx = b[0], by = b[1], bz = b[2], bw = b[3];\n        var omega, cosom, sinom, scale0, scale1;\n        // calc cosine\n        cosom = ax * bx + ay * by + az * bz + aw * bw;\n        // adjust signs (if necessary)\n        if (cosom < 0.0) {\n            cosom = -cosom;\n            bx = -bx;\n            by = -by;\n            bz = -bz;\n            bw = -bw;\n        }\n        // calculate coefficients\n        if ((1.0 - cosom) > 0.000001) {\n            // standard case (slerp)\n            omega = Math.acos(cosom);\n            sinom = Math.sin(omega);\n            scale0 = Math.sin((1.0 - t) * omega) / sinom;\n            scale1 = Math.sin(t * omega) / sinom;\n        }\n        else {\n            // \"from\" and \"to\" quaternions are very close\n            //  ... so we can do a linear interpolation\n            scale0 = 1.0 - t;\n            scale1 = t;\n        }\n        // calculate final values\n        out[0] = scale0 * ax + scale1 * bx;\n        out[1] = scale0 * ay + scale1 * by;\n        out[2] = scale0 * az + scale1 * bz;\n        out[3] = scale0 * aw + scale1 * bw;\n        return out;\n    }\n    Quat.slerp = slerp;\n    function invert(out, a) {\n        var a0 = a[0], a1 = a[1], a2 = a[2], a3 = a[3];\n        var dot = a0 * a0 + a1 * a1 + a2 * a2 + a3 * a3;\n        var invDot = dot ? 1.0 / dot : 0;\n        // TODO: Would be faster to return [0,0,0,0] immediately if dot == 0\n        out[0] = -a0 * invDot;\n        out[1] = -a1 * invDot;\n        out[2] = -a2 * invDot;\n        out[3] = a3 * invDot;\n        return out;\n    }\n    Quat.invert = invert;\n    /**\n     * Calculates the conjugate of a quat\n     * If the quaternion is normalized, this function is faster than quat.inverse and produces the same result.\n     */\n    function conjugate(out, a) {\n        out[0] = -a[0];\n        out[1] = -a[1];\n        out[2] = -a[2];\n        out[3] = a[3];\n        return out;\n    }\n    Quat.conjugate = conjugate;\n    function dot(a, b) {\n        return a[0] * b[0] + a[1] * b[1] + a[2] * b[2] + a[3] * b[3];\n    }\n    Quat.dot = dot;\n    /**\n     * Creates a quaternion from the given 3x3 rotation matrix.\n     *\n     * NOTE: The resultant quaternion is not normalized, so you should be sure\n     * to renormalize the quaternion yourself where necessary.\n     */\n    function fromMat3(out, m) {\n        // Algorithm in Ken Shoemake's article in 1987 SIGGRAPH course notes\n        // article \"Quaternion Calculus and Fast Animation\".\n        var fTrace = m[0] + m[4] + m[8];\n        var fRoot;\n        if (fTrace > 0.0) {\n            // |w| > 1/2, may as well choose w > 1/2\n            fRoot = Math.sqrt(fTrace + 1.0); // 2w\n            out[3] = 0.5 * fRoot;\n            fRoot = 0.5 / fRoot; // 1/(4w)\n            out[0] = (m[5] - m[7]) * fRoot;\n            out[1] = (m[6] - m[2]) * fRoot;\n            out[2] = (m[1] - m[3]) * fRoot;\n        }\n        else {\n            // |w| <= 1/2\n            var i = 0;\n            if (m[4] > m[0])\n                i = 1;\n            if (m[8] > m[i * 3 + i])\n                i = 2;\n            var j = (i + 1) % 3;\n            var k = (i + 2) % 3;\n            fRoot = Math.sqrt(m[i * 3 + i] - m[j * 3 + j] - m[k * 3 + k] + 1.0);\n            out[i] = 0.5 * fRoot;\n            fRoot = 0.5 / fRoot;\n            out[3] = (m[j * 3 + k] - m[k * 3 + j]) * fRoot;\n            out[j] = (m[j * 3 + i] + m[i * 3 + j]) * fRoot;\n            out[k] = (m[k * 3 + i] + m[i * 3 + k]) * fRoot;\n        }\n        return out;\n    }\n    Quat.fromMat3 = fromMat3;\n    function fromEuler(out, euler, order) {\n        var x = euler[0], y = euler[1], z = euler[2];\n        // http://www.mathworks.com/matlabcentral/fileexchange/20696-function-to-convert-between-dcm-euler-angles-quaternions-and-euler-vectors/content/SpinCalc.m\n        var c1 = Math.cos(x / 2);\n        var c2 = Math.cos(y / 2);\n        var c3 = Math.cos(z / 2);\n        var s1 = Math.sin(x / 2);\n        var s2 = Math.sin(y / 2);\n        var s3 = Math.sin(z / 2);\n        switch (order) {\n            case 'XYZ':\n                out[0] = s1 * c2 * c3 + c1 * s2 * s3;\n                out[1] = c1 * s2 * c3 - s1 * c2 * s3;\n                out[2] = c1 * c2 * s3 + s1 * s2 * c3;\n                out[3] = c1 * c2 * c3 - s1 * s2 * s3;\n                break;\n            case 'YXZ':\n                out[0] = s1 * c2 * c3 + c1 * s2 * s3;\n                out[1] = c1 * s2 * c3 - s1 * c2 * s3;\n                out[2] = c1 * c2 * s3 - s1 * s2 * c3;\n                out[3] = c1 * c2 * c3 + s1 * s2 * s3;\n                break;\n            case 'ZXY':\n                out[0] = s1 * c2 * c3 - c1 * s2 * s3;\n                out[1] = c1 * s2 * c3 + s1 * c2 * s3;\n                out[2] = c1 * c2 * s3 + s1 * s2 * c3;\n                out[3] = c1 * c2 * c3 - s1 * s2 * s3;\n                break;\n            case 'ZYX':\n                out[0] = s1 * c2 * c3 - c1 * s2 * s3;\n                out[1] = c1 * s2 * c3 + s1 * c2 * s3;\n                out[2] = c1 * c2 * s3 - s1 * s2 * c3;\n                out[3] = c1 * c2 * c3 + s1 * s2 * s3;\n                break;\n            case 'YZX':\n                out[0] = s1 * c2 * c3 + c1 * s2 * s3;\n                out[1] = c1 * s2 * c3 + s1 * c2 * s3;\n                out[2] = c1 * c2 * s3 - s1 * s2 * c3;\n                out[3] = c1 * c2 * c3 - s1 * s2 * s3;\n                break;\n            case 'XZY':\n                out[0] = s1 * c2 * c3 - c1 * s2 * s3;\n                out[1] = c1 * s2 * c3 - s1 * c2 * s3;\n                out[2] = c1 * c2 * s3 + s1 * s2 * c3;\n                out[3] = c1 * c2 * c3 + s1 * s2 * s3;\n                break;\n            default:\n                assertUnreachable(order);\n        }\n        return out;\n    }\n    Quat.fromEuler = fromEuler;\n    var fromUnitVec3Temp = [0, 0, 0];\n    /** Quaternion from two normalized unit vectors. */\n    function fromUnitVec3(out, a, b) {\n        // assumes a and b are normalized\n        var r = Vec3.dot(a, b) + 1;\n        if (r < EPSILON) {\n            // If u and v are exactly opposite, rotate 180 degrees\n            // around an arbitrary orthogonal axis. Axis normalisation\n            // can happen later, when we normalise the quaternion.\n            r = 0;\n            if (Math.abs(a[0]) > Math.abs(a[2])) {\n                Vec3.set(fromUnitVec3Temp, -a[1], a[0], 0);\n            }\n            else {\n                Vec3.set(fromUnitVec3Temp, 0, -a[2], a[1]);\n            }\n        }\n        else {\n            // Otherwise, build quaternion the standard way.\n            Vec3.cross(fromUnitVec3Temp, a, b);\n        }\n        out[0] = fromUnitVec3Temp[0];\n        out[1] = fromUnitVec3Temp[1];\n        out[2] = fromUnitVec3Temp[2];\n        out[3] = r;\n        normalize(out, out);\n        return out;\n    }\n    Quat.fromUnitVec3 = fromUnitVec3;\n    function clone(a) {\n        var out = zero();\n        out[0] = a[0];\n        out[1] = a[1];\n        out[2] = a[2];\n        out[3] = a[3];\n        return out;\n    }\n    Quat.clone = clone;\n    function toArray(a, out, offset) {\n        out[offset + 0] = a[0];\n        out[offset + 1] = a[1];\n        out[offset + 2] = a[2];\n        out[offset + 3] = a[3];\n        return out;\n    }\n    Quat.toArray = toArray;\n    function fromArray(a, array, offset) {\n        a[0] = array[offset + 0];\n        a[1] = array[offset + 1];\n        a[2] = array[offset + 2];\n        a[3] = array[offset + 3];\n        return a;\n    }\n    Quat.fromArray = fromArray;\n    function copy(out, a) {\n        out[0] = a[0];\n        out[1] = a[1];\n        out[2] = a[2];\n        out[3] = a[3];\n        return out;\n    }\n    Quat.copy = copy;\n    function set(out, x, y, z, w) {\n        out[0] = x;\n        out[1] = y;\n        out[2] = z;\n        out[3] = w;\n        return out;\n    }\n    Quat.set = set;\n    /**\n     * Returns whether or not the quaternions have exactly the same elements in the same position (when compared with ===)\n     */\n    function exactEquals(a, b) {\n        return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3];\n    }\n    Quat.exactEquals = exactEquals;\n    /**\n     * Returns whether or not the quaternions have approximately the same elements in the same position.\n     */\n    function equals(a, b) {\n        var a0 = a[0], a1 = a[1], a2 = a[2], a3 = a[3];\n        var b0 = b[0], b1 = b[1], b2 = b[2], b3 = b[3];\n        return (Math.abs(a0 - b0) <= EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) &&\n            Math.abs(a1 - b1) <= EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) &&\n            Math.abs(a2 - b2) <= EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) &&\n            Math.abs(a3 - b3) <= EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)));\n    }\n    Quat.equals = equals;\n    function add(out, a, b) {\n        out[0] = a[0] + b[0];\n        out[1] = a[1] + b[1];\n        out[2] = a[2] + b[2];\n        out[3] = a[3] + b[3];\n        return out;\n    }\n    Quat.add = add;\n    function normalize(out, a) {\n        var x = a[0];\n        var y = a[1];\n        var z = a[2];\n        var w = a[3];\n        var len = x * x + y * y + z * z + w * w;\n        if (len > 0) {\n            len = 1 / Math.sqrt(len);\n            out[0] = x * len;\n            out[1] = y * len;\n            out[2] = z * len;\n            out[3] = w * len;\n        }\n        return out;\n    }\n    Quat.normalize = normalize;\n    /**\n     * Sets a quaternion to represent the shortest rotation from one\n     * vector to another.\n     *\n     * Both vectors are assumed to be unit length.\n     */\n    var rotTmpVec3 = [0, 0, 0];\n    var rotTmpVec3UnitX = [1, 0, 0];\n    var rotTmpVec3UnitY = [0, 1, 0];\n    function rotationTo(out, a, b) {\n        var dot = Vec3.dot(a, b);\n        if (dot < -0.999999) {\n            Vec3.cross(rotTmpVec3, rotTmpVec3UnitX, a);\n            if (Vec3.magnitude(rotTmpVec3) < 0.000001)\n                Vec3.cross(rotTmpVec3, rotTmpVec3UnitY, a);\n            Vec3.normalize(rotTmpVec3, rotTmpVec3);\n            setAxisAngle(out, rotTmpVec3, Math.PI);\n            return out;\n        }\n        else if (dot > 0.999999) {\n            out[0] = 0;\n            out[1] = 0;\n            out[2] = 0;\n            out[3] = 1;\n            return out;\n        }\n        else {\n            Vec3.cross(rotTmpVec3, a, b);\n            out[0] = rotTmpVec3[0];\n            out[1] = rotTmpVec3[1];\n            out[2] = rotTmpVec3[2];\n            out[3] = 1 + dot;\n            return normalize(out, out);\n        }\n    }\n    Quat.rotationTo = rotationTo;\n    /**\n     * Performs a spherical linear interpolation with two control points\n     */\n    var sqlerpTemp1 = zero();\n    var sqlerpTemp2 = zero();\n    function sqlerp(out, a, b, c, d, t) {\n        slerp(sqlerpTemp1, a, d, t);\n        slerp(sqlerpTemp2, b, c, t);\n        slerp(out, sqlerpTemp1, sqlerpTemp2, 2 * t * (1 - t));\n        return out;\n    }\n    Quat.sqlerp = sqlerp;\n    /**\n     * Sets the specified quaternion with values corresponding to the given\n     * axes. Each axis is a vec3 and is expected to be unit length and\n     * perpendicular to all other specified axes.\n     */\n    var axesTmpMat = [0, 0, 0, 0, 0, 0, 0, 0, 0];\n    function setAxes(out, view, right, up) {\n        axesTmpMat[0] = right[0];\n        axesTmpMat[3] = right[1];\n        axesTmpMat[6] = right[2];\n        axesTmpMat[1] = up[0];\n        axesTmpMat[4] = up[1];\n        axesTmpMat[7] = up[2];\n        axesTmpMat[2] = -view[0];\n        axesTmpMat[5] = -view[1];\n        axesTmpMat[8] = -view[2];\n        return normalize(out, fromMat3(out, axesTmpMat));\n    }\n    Quat.setAxes = setAxes;\n    function toString(a, precision) {\n        return \"[\".concat(a[0].toPrecision(precision), \" \").concat(a[1].toPrecision(precision), \" \").concat(a[2].toPrecision(precision), \"  \").concat(a[3].toPrecision(precision), \"]\");\n    }\n    Quat.toString = toString;\n    Quat.Identity = identity();\n})(Quat || (Quat = {}));\nexport { Quat };\n","/**\n * Copyright (c) 2018-2019 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\nvar Matrix;\n(function (Matrix) {\n    function create(cols, rows, ctor) {\n        if (ctor === void 0) { ctor = Float32Array; }\n        var size = cols * rows;\n        return { data: new ctor(size), size: size, cols: cols, rows: rows };\n    }\n    Matrix.create = create;\n    /** Get element assuming data are stored in column-major order */\n    function get(m, i, j) {\n        return m.data[m.rows * j + i];\n    }\n    Matrix.get = get;\n    /** Set element assuming data are stored in column-major order */\n    function set(m, i, j, value) {\n        m.data[m.rows * j + i] = value;\n        return m;\n    }\n    Matrix.set = set;\n    /** Add to element assuming data are stored in column-major order */\n    function add(m, i, j, value) {\n        m.data[m.rows * j + i] += value;\n        return m;\n    }\n    Matrix.add = add;\n    /** Zero out the matrix */\n    function makeZero(m) {\n        m.data.fill(0.0);\n        return m;\n    }\n    Matrix.makeZero = makeZero;\n    function clone(m) {\n        return { data: m.data.slice(), size: m.size, cols: m.cols, rows: m.rows };\n    }\n    Matrix.clone = clone;\n    function fromArray(data, cols, rows) {\n        return { data: data, size: cols * rows, cols: cols, rows: rows };\n    }\n    Matrix.fromArray = fromArray;\n    function transpose(out, mat) {\n        if (out.cols !== mat.rows || out.rows !== mat.cols) {\n            throw new Error('transpose: matrix dimensions incompatible');\n        }\n        if (out.data === mat.data) {\n            throw new Error('transpose: matrices share memory');\n        }\n        var nrows = mat.rows, ncols = mat.cols;\n        var md = mat.data, mtd = out.data;\n        for (var i = 0, mi = 0, mti = 0; i < nrows; mti += 1, mi += ncols, ++i) {\n            var ri = mti;\n            for (var j = 0; j < ncols; ri += nrows, j++)\n                mtd[ri] = md[mi + j];\n        }\n        return out;\n    }\n    Matrix.transpose = transpose;\n    /** out = matA * matB' */\n    function multiplyABt(out, matA, matB) {\n        var ncols = matA.cols, nrows = matA.rows, mrows = matB.rows;\n        var ad = matA.data, bd = matB.data, cd = out.data;\n        for (var i = 0, matAp = 0, outP = 0; i < nrows; matAp += ncols, i++) {\n            for (var pB = 0, j = 0; j < mrows; outP++, j++) {\n                var sum = 0.0;\n                var pMatA = matAp;\n                for (var k = 0; k < ncols; pMatA++, pB++, k++) {\n                    sum += ad[pMatA] * bd[pB];\n                }\n                cd[outP] = sum;\n            }\n        }\n        return out;\n    }\n    Matrix.multiplyABt = multiplyABt;\n    /** Get the mean of rows in `mat` */\n    function meanRows(mat) {\n        var nrows = mat.rows, ncols = mat.cols;\n        var md = mat.data;\n        var mean = new Array(ncols);\n        for (var j = 0; j < ncols; ++j)\n            mean[j] = 0.0;\n        for (var i = 0, p = 0; i < nrows; ++i) {\n            for (var j = 0; j < ncols; ++j, ++p)\n                mean[j] += md[p];\n        }\n        for (var j = 0; j < ncols; ++j)\n            mean[j] /= nrows;\n        return mean;\n    }\n    Matrix.meanRows = meanRows;\n    /** Subtract `row` from all rows in `mat` */\n    function subRows(mat, row) {\n        var nrows = mat.rows, ncols = mat.cols;\n        var md = mat.data;\n        for (var i = 0, p = 0; i < nrows; ++i) {\n            for (var j = 0; j < ncols; ++j, ++p)\n                md[p] -= row[j];\n        }\n        return mat;\n    }\n    Matrix.subRows = subRows;\n})(Matrix || (Matrix = {}));\nexport { Matrix };\n","/**\n * Copyright (c) 2018 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\nimport { Matrix } from './matrix';\n// svd method adapted from http://inspirit.github.io/jsfeat/ MIT Eugene Zatepyakin\nexport function swap(A, i0, i1, t) {\n    t = A[i0];\n    A[i0] = A[i1];\n    A[i1] = t;\n}\nexport function hypot(a, b) {\n    a = Math.abs(a);\n    b = Math.abs(b);\n    if (a > b) {\n        b /= a;\n        return a * Math.sqrt(1.0 + b * b);\n    }\n    if (b > 0) {\n        a /= b;\n        return b * Math.sqrt(1.0 + a * a);\n    }\n    return 0.0;\n}\nvar EPSILON = 0.0000001192092896;\nvar FLT_MIN = 1E-37;\nexport function JacobiSVDImpl(At, astep, _W, Vt, vstep, m, n, n1) {\n    var eps = EPSILON * 2.0;\n    var minval = FLT_MIN;\n    var i = 0;\n    var j = 0;\n    var k = 0;\n    var iter = 0;\n    var maxIter = Math.max(m, 30);\n    var Ai = 0;\n    var Aj = 0;\n    var Vi = 0;\n    var Vj = 0;\n    var changed = 0;\n    var c = 0.0;\n    var s = 0.0;\n    var t = 0.0;\n    var t0 = 0.0;\n    var t1 = 0.0;\n    var sd = 0.0;\n    var beta = 0.0;\n    var gamma = 0.0;\n    var delta = 0.0;\n    var a = 0.0;\n    var p = 0.0;\n    var b = 0.0;\n    var seed = 0x1234;\n    var val = 0.0;\n    var val0 = 0.0;\n    var asum = 0.0;\n    var W = new Float64Array(n << 3);\n    for (; i < n; i++) {\n        for (k = 0, sd = 0; k < m; k++) {\n            t = At[i * astep + k];\n            sd += t * t;\n        }\n        W[i] = sd;\n        if (Vt) {\n            for (k = 0; k < n; k++) {\n                Vt[i * vstep + k] = 0;\n            }\n            Vt[i * vstep + i] = 1;\n        }\n    }\n    for (; iter < maxIter; iter++) {\n        changed = 0;\n        for (i = 0; i < n - 1; i++) {\n            for (j = i + 1; j < n; j++) {\n                Ai = (i * astep) | 0;\n                Aj = (j * astep) | 0;\n                a = W[i];\n                p = 0;\n                b = W[j];\n                k = 2;\n                p += At[Ai] * At[Aj];\n                p += At[Ai + 1] * At[Aj + 1];\n                for (; k < m; k++) {\n                    p += At[Ai + k] * At[Aj + k];\n                }\n                if (Math.abs(p) <= eps * Math.sqrt(a * b))\n                    continue;\n                p *= 2.0;\n                beta = a - b;\n                gamma = hypot(p, beta);\n                if (beta < 0) {\n                    delta = (gamma - beta) * 0.5;\n                    s = Math.sqrt(delta / gamma);\n                    c = (p / (gamma * s * 2.0));\n                }\n                else {\n                    c = Math.sqrt((gamma + beta) / (gamma * 2.0));\n                    s = (p / (gamma * c * 2.0));\n                }\n                a = 0.0;\n                b = 0.0;\n                k = 2; // unroll\n                t0 = c * At[Ai] + s * At[Aj];\n                t1 = -s * At[Ai] + c * At[Aj];\n                At[Ai] = t0;\n                At[Aj] = t1;\n                a += t0 * t0;\n                b += t1 * t1;\n                t0 = c * At[Ai + 1] + s * At[Aj + 1];\n                t1 = -s * At[Ai + 1] + c * At[Aj + 1];\n                At[Ai + 1] = t0;\n                At[Aj + 1] = t1;\n                a += t0 * t0;\n                b += t1 * t1;\n                for (; k < m; k++) {\n                    t0 = c * At[Ai + k] + s * At[Aj + k];\n                    t1 = -s * At[Ai + k] + c * At[Aj + k];\n                    At[Ai + k] = t0;\n                    At[Aj + k] = t1;\n                    a += t0 * t0;\n                    b += t1 * t1;\n                }\n                W[i] = a;\n                W[j] = b;\n                changed = 1;\n                if (Vt) {\n                    Vi = (i * vstep) | 0;\n                    Vj = (j * vstep) | 0;\n                    k = 2;\n                    t0 = c * Vt[Vi] + s * Vt[Vj];\n                    t1 = -s * Vt[Vi] + c * Vt[Vj];\n                    Vt[Vi] = t0;\n                    Vt[Vj] = t1;\n                    t0 = c * Vt[Vi + 1] + s * Vt[Vj + 1];\n                    t1 = -s * Vt[Vi + 1] + c * Vt[Vj + 1];\n                    Vt[Vi + 1] = t0;\n                    Vt[Vj + 1] = t1;\n                    for (; k < n; k++) {\n                        t0 = c * Vt[Vi + k] + s * Vt[Vj + k];\n                        t1 = -s * Vt[Vi + k] + c * Vt[Vj + k];\n                        Vt[Vi + k] = t0;\n                        Vt[Vj + k] = t1;\n                    }\n                }\n            }\n        }\n        if (changed === 0)\n            break;\n    }\n    for (i = 0; i < n; i++) {\n        for (k = 0, sd = 0; k < m; k++) {\n            t = At[i * astep + k];\n            sd += t * t;\n        }\n        W[i] = Math.sqrt(sd);\n    }\n    for (i = 0; i < n - 1; i++) {\n        j = i;\n        for (k = i + 1; k < n; k++) {\n            if (W[j] < W[k]) {\n                j = k;\n            }\n        }\n        if (i !== j) {\n            swap(W, i, j, sd);\n            if (Vt) {\n                for (k = 0; k < m; k++) {\n                    swap(At, i * astep + k, j * astep + k, t);\n                }\n                for (k = 0; k < n; k++) {\n                    swap(Vt, i * vstep + k, j * vstep + k, t);\n                }\n            }\n        }\n    }\n    for (i = 0; i < n; i++) {\n        _W[i] = W[i];\n    }\n    if (!Vt) {\n        return;\n    }\n    for (i = 0; i < n1; i++) {\n        sd = i < n ? W[i] : 0;\n        while (sd <= minval) {\n            // if we got a zero singular value, then in order to get the corresponding left singular vector\n            // we generate a random vector, project it to the previously computed left singular vectors,\n            // subtract the projection and normalize the difference.\n            val0 = (1.0 / m);\n            for (k = 0; k < m; k++) {\n                seed = (seed * 214013 + 2531011);\n                val = (((seed >> 16) & 0x7fff) & 256) !== 0 ? val0 : -val0;\n                At[i * astep + k] = val;\n            }\n            for (iter = 0; iter < 2; iter++) {\n                for (j = 0; j < i; j++) {\n                    sd = 0;\n                    for (k = 0; k < m; k++) {\n                        sd += At[i * astep + k] * At[j * astep + k];\n                    }\n                    asum = 0.0;\n                    for (k = 0; k < m; k++) {\n                        t = (At[i * astep + k] - sd * At[j * astep + k]);\n                        At[i * astep + k] = t;\n                        asum += Math.abs(t);\n                    }\n                    asum = asum ? 1.0 / asum : 0;\n                    for (k = 0; k < m; k++) {\n                        At[i * astep + k] *= asum;\n                    }\n                }\n            }\n            sd = 0;\n            for (k = 0; k < m; k++) {\n                t = At[i * astep + k];\n                sd += t * t;\n            }\n            sd = Math.sqrt(sd);\n        }\n        s = (1.0 / sd);\n        for (k = 0; k < m; k++) {\n            At[i * astep + k] *= s;\n        }\n    }\n}\nexport function svd(A, W, U, V) {\n    var at = 0;\n    var i = 0;\n    var _m = A.rows;\n    var _n = A.cols;\n    var m = _m;\n    var n = _n;\n    if (m < n) {\n        at = 1;\n        i = m;\n        m = n;\n        n = i;\n    }\n    var amt = Matrix.create(m, m);\n    var wmt = Matrix.create(1, n);\n    var vmt = Matrix.create(n, n);\n    if (at === 0) {\n        Matrix.transpose(amt, A);\n    }\n    else {\n        for (i = 0; i < _n * _m; i++) {\n            amt.data[i] = A.data[i];\n        }\n        for (; i < n * m; i++) {\n            amt.data[i] = 0;\n        }\n    }\n    JacobiSVDImpl(amt.data, m, wmt.data, vmt.data, n, m, n, m);\n    if (W) {\n        for (i = 0; i < n; i++) {\n            W.data[i] = wmt.data[i];\n        }\n        for (; i < _n; i++) {\n            W.data[i] = 0;\n        }\n    }\n    if (at === 0) {\n        if (U)\n            Matrix.transpose(U, amt);\n        if (V)\n            Matrix.transpose(V, vmt);\n    }\n    else {\n        if (U)\n            Matrix.transpose(U, vmt);\n        if (V)\n            Matrix.transpose(V, amt);\n    }\n}\n","/**\n * Copyright (c) 2017-2023 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\nimport { lerp as scalar_lerp } from '../../mol-math/interpolate';\nimport { Mat3 } from '../linear-algebra/3d/mat3';\nimport { Mat4 } from '../linear-algebra/3d/mat4';\nimport { Quat } from '../linear-algebra/3d/quat';\nimport { Vec3 } from '../linear-algebra/3d/vec3';\nvar SymmetryOperator;\n(function (SymmetryOperator) {\n    SymmetryOperator.DefaultName = '1_555';\n    SymmetryOperator.Default = create(SymmetryOperator.DefaultName, Mat4.identity());\n    SymmetryOperator.RotationTranslationEpsilon = 0.005;\n    function create(name, matrix, info) {\n        var _a = info || {}, assembly = _a.assembly, ncsId = _a.ncsId, hkl = _a.hkl, spgrOp = _a.spgrOp, key = _a.key;\n        var _hkl = hkl ? Vec3.clone(hkl) : Vec3();\n        spgrOp = spgrOp !== null && spgrOp !== void 0 ? spgrOp : -1;\n        key = key !== null && key !== void 0 ? key : -1;\n        ncsId = ncsId || -1;\n        var isIdentity = Mat4.isIdentity(matrix);\n        var suffix = getSuffix(info, isIdentity);\n        if (isIdentity)\n            return { name: name, assembly: assembly, matrix: matrix, inverse: Mat4.identity(), isIdentity: true, hkl: _hkl, spgrOp: spgrOp, ncsId: ncsId, suffix: suffix, key: key };\n        if (!Mat4.isRotationAndTranslation(matrix, SymmetryOperator.RotationTranslationEpsilon)) {\n            console.warn(\"Symmetry operator (\".concat(name, \") should be a composition of rotation and translation.\"));\n        }\n        return { name: name, assembly: assembly, matrix: matrix, inverse: Mat4.invert(Mat4(), matrix), isIdentity: false, hkl: _hkl, spgrOp: spgrOp, key: key, ncsId: ncsId, suffix: suffix };\n    }\n    SymmetryOperator.create = create;\n    function isSymmetryOperator(x) {\n        return !!x && !!x.matrix && !!x.inverse && typeof x.name === 'string';\n    }\n    function getSuffix(info, isIdentity) {\n        if (!info)\n            return '';\n        if (info.assembly) {\n            if (isSymmetryOperator(info))\n                return info.suffix;\n            return isIdentity ? '' : \"_\".concat(info.assembly.operId);\n        }\n        if (typeof info.spgrOp !== 'undefined' && typeof info.hkl !== 'undefined' && info.spgrOp !== -1) {\n            var _a = info.hkl, i = _a[0], j = _a[1], k = _a[2];\n            return \"-\".concat(info.spgrOp + 1, \"_\").concat(5 + i).concat(5 + j).concat(5 + k);\n        }\n        if (info.ncsId !== -1) {\n            return \"_\".concat(info.ncsId);\n        }\n        return '';\n    }\n    function checkIfRotationAndTranslation(rot, offset) {\n        var matrix = Mat4.identity();\n        for (var i = 0; i < 3; i++) {\n            for (var j = 0; j < 3; j++) {\n                Mat4.setValue(matrix, i, j, Mat3.getValue(rot, i, j));\n            }\n        }\n        Mat4.setTranslation(matrix, offset);\n        return Mat4.isRotationAndTranslation(matrix, SymmetryOperator.RotationTranslationEpsilon);\n    }\n    SymmetryOperator.checkIfRotationAndTranslation = checkIfRotationAndTranslation;\n    function ofRotationAndOffset(name, rot, offset, ncsId) {\n        var t = Mat4.identity();\n        for (var i = 0; i < 3; i++) {\n            for (var j = 0; j < 3; j++) {\n                Mat4.setValue(t, i, j, Mat3.getValue(rot, i, j));\n            }\n        }\n        Mat4.setTranslation(t, offset);\n        return create(name, t, { ncsId: ncsId });\n    }\n    SymmetryOperator.ofRotationAndOffset = ofRotationAndOffset;\n    var _q1 = Quat.identity(), _q2 = Quat(), _q3 = Quat(), _axis = Vec3();\n    function lerpFromIdentity(out, op, t) {\n        var m = op.inverse;\n        if (op.isIdentity)\n            return Mat4.copy(out, m);\n        var _t = 1 - t;\n        // interpolate rotation\n        Mat4.getRotation(_q2, m);\n        Quat.slerp(_q2, _q1, _q2, _t);\n        var angle = Quat.getAxisAngle(_axis, _q2);\n        Mat4.fromRotation(out, angle, _axis);\n        // interpolate translation\n        Mat4.setValue(out, 0, 3, _t * Mat4.getValue(m, 0, 3));\n        Mat4.setValue(out, 1, 3, _t * Mat4.getValue(m, 1, 3));\n        Mat4.setValue(out, 2, 3, _t * Mat4.getValue(m, 2, 3));\n        return out;\n    }\n    SymmetryOperator.lerpFromIdentity = lerpFromIdentity;\n    function slerp(out, src, tar, t) {\n        if (Math.abs(t) <= 0.00001)\n            return Mat4.copy(out, src);\n        if (Math.abs(t - 1) <= 0.00001)\n            return Mat4.copy(out, tar);\n        // interpolate rotation\n        Mat4.getRotation(_q2, src);\n        Mat4.getRotation(_q3, tar);\n        Quat.slerp(_q3, _q2, _q3, t);\n        var angle = Quat.getAxisAngle(_axis, _q3);\n        Mat4.fromRotation(out, angle, _axis);\n        // interpolate translation\n        Mat4.setValue(out, 0, 3, scalar_lerp(Mat4.getValue(src, 0, 3), Mat4.getValue(tar, 0, 3), t));\n        Mat4.setValue(out, 1, 3, scalar_lerp(Mat4.getValue(src, 1, 3), Mat4.getValue(tar, 1, 3), t));\n        Mat4.setValue(out, 2, 3, scalar_lerp(Mat4.getValue(src, 2, 3), Mat4.getValue(tar, 2, 3), t));\n        return out;\n    }\n    SymmetryOperator.slerp = slerp;\n    /**\n     * Apply the 1st and then 2nd operator. ( = second.matrix * first.matrix).\n     * Keep `name`, `assembly`, `ncsId`, `hkl` and `spgrOpId` properties from second.\n     */\n    function compose(first, second) {\n        var matrix = Mat4.mul(Mat4(), second.matrix, first.matrix);\n        return create(second.name, matrix, second);\n    }\n    SymmetryOperator.compose = compose;\n    function _createMapping(operator, coords, radius) {\n        var invariantPosition = createCoordinateMapper(SymmetryOperator.Default, coords);\n        var position = operator.isIdentity ? invariantPosition : createCoordinateMapper(operator, coords);\n        var _a = createProjections(operator, coords), x = _a.x, y = _a.y, z = _a.z;\n        return { operator: operator, coordinates: coords, invariantPosition: invariantPosition, position: position, x: x, y: y, z: z, r: radius };\n    }\n    function createMapping(operator, coords, radius) {\n        if (radius === void 0) { radius = _zeroRadius; }\n        return _createMapping(operator, coords, radius);\n    }\n    SymmetryOperator.createMapping = createMapping;\n    function createCoordinateMapper(t, coords) {\n        if (t.isIdentity)\n            return identityPosition(coords);\n        return generalPosition(t, coords);\n    }\n    SymmetryOperator.createCoordinateMapper = createCoordinateMapper;\n})(SymmetryOperator || (SymmetryOperator = {}));\nexport { SymmetryOperator };\nfunction _zeroRadius(i) { return 0; }\nfunction createProjections(t, coords) {\n    if (t.isIdentity)\n        return { x: projectCoord(coords.x), y: projectCoord(coords.y), z: projectCoord(coords.z) };\n    return { x: projectX(t, coords), y: projectY(t, coords), z: projectZ(t, coords) };\n}\nfunction projectCoord(xs) {\n    return function projectCoord(i) {\n        return xs[i];\n    };\n}\nfunction isW1(m) {\n    return m[3] === 0 && m[7] === 0 && m[11] === 0 && m[15] === 1;\n}\nfunction projectX(_a, _b) {\n    var m = _a.matrix;\n    var xs = _b.x, ys = _b.y, zs = _b.z;\n    var xx = m[0], yy = m[4], zz = m[8], tx = m[12];\n    if (isW1(m)) {\n        // this should always be the case.\n        return function projectX_W1(i) {\n            return xx * xs[i] + yy * ys[i] + zz * zs[i] + tx;\n        };\n    }\n    return function projectX(i) {\n        var x = xs[i], y = ys[i], z = zs[i], w = (m[3] * x + m[7] * y + m[11] * z + m[15]) || 1.0;\n        return (xx * x + yy * y + zz * z + tx) / w;\n    };\n}\nfunction projectY(_a, _b) {\n    var m = _a.matrix;\n    var xs = _b.x, ys = _b.y, zs = _b.z;\n    var xx = m[1], yy = m[5], zz = m[9], ty = m[13];\n    if (isW1(m)) {\n        // this should always be the case.\n        return function projectY_W1(i) {\n            return xx * xs[i] + yy * ys[i] + zz * zs[i] + ty;\n        };\n    }\n    return function projectY(i) {\n        var x = xs[i], y = ys[i], z = zs[i], w = (m[3] * x + m[7] * y + m[11] * z + m[15]) || 1.0;\n        return (xx * x + yy * y + zz * z + ty) / w;\n    };\n}\nfunction projectZ(_a, _b) {\n    var m = _a.matrix;\n    var xs = _b.x, ys = _b.y, zs = _b.z;\n    var xx = m[2], yy = m[6], zz = m[10], tz = m[14];\n    if (isW1(m)) {\n        // this should always be the case.\n        return function projectZ_W1(i) {\n            return xx * xs[i] + yy * ys[i] + zz * zs[i] + tz;\n        };\n    }\n    return function projectZ(i) {\n        var x = xs[i], y = ys[i], z = zs[i], w = (m[3] * x + m[7] * y + m[11] * z + m[15]) || 1.0;\n        return (xx * x + yy * y + zz * z + tz) / w;\n    };\n}\nfunction identityPosition(_a) {\n    var x = _a.x, y = _a.y, z = _a.z;\n    return function identityPosition(i, s) {\n        s[0] = x[i];\n        s[1] = y[i];\n        s[2] = z[i];\n        return s;\n    };\n}\nfunction generalPosition(_a, _b) {\n    var m = _a.matrix;\n    var xs = _b.x, ys = _b.y, zs = _b.z;\n    if (isW1(m)) {\n        // this should always be the case.\n        return function generalPosition_W1(i, r) {\n            var x = xs[i], y = ys[i], z = zs[i];\n            r[0] = m[0] * x + m[4] * y + m[8] * z + m[12];\n            r[1] = m[1] * x + m[5] * y + m[9] * z + m[13];\n            r[2] = m[2] * x + m[6] * y + m[10] * z + m[14];\n            return r;\n        };\n    }\n    return function generalPosition(i, r) {\n        r[0] = xs[i];\n        r[1] = ys[i];\n        r[2] = zs[i];\n        Vec3.transformMat4(r, r, m);\n        return r;\n    };\n}\n","/**\n * Copyright (c) 2018-2019 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\nexport var TransformData = [\n    [1.0, 0.0, 0.0, 0.0],\n    [0.0, 1.0, 0.0, 0.0],\n    [0.0, 0.0, 1.0, 0.0],\n    [-1.0, 0.0, 0.0, 0.0],\n    [0.0, -1.0, 0.0, 0.0],\n    [0.0, 0.0, -1.0, 0.0],\n    [0.0, 1.0, 0.0, 0.5],\n    [1.0, 0.0, 0.0, 0.5],\n    [-1.0, 0.0, 0.0, 0.5],\n    [0.0, 0.0, 1.0, 0.5],\n    [0.0, -1.0, 0.0, 0.5],\n    [0.0, 0.0, -1.0, 0.5],\n    [1.0, 0.0, 0.0, 0.25],\n    [0.0, -1.0, 0.0, 0.25],\n    [0.0, 0.0, 1.0, 0.25],\n    [-1.0, 0.0, 0.0, 0.25],\n    [0.0, 1.0, 0.0, 0.25],\n    [0.0, -1.0, 0.0, 0.75],\n    [0.0, 0.0, 1.0, 0.75],\n    [0.0, 1.0, 0.0, 0.75],\n    [1.0, 0.0, 0.0, 0.75],\n    [-1.0, 0.0, 0.0, 0.75],\n    [0.0, 0.0, -1.0, 0.25],\n    [0.0, 0.0, -1.0, 0.75],\n    [1.0, -1.0, 0.0, 0.0],\n    [-1.0, 1.0, 0.0, 0.0],\n    [0.0, 0.0, 1.0, 1 / 3],\n    [0.0, 0.0, 1.0, 2 / 3],\n    [1.0, 0.0, 0.0, 2 / 3],\n    [0.0, 1.0, 0.0, 1 / 3],\n    [0.0, -1.0, 0.0, 2 / 3],\n    [1.0, -1.0, 0.0, 1 / 3],\n    [-1.0, 1.0, 0.0, 2 / 3],\n    [-1.0, 0.0, 0.0, 1 / 3],\n    [1.0, 0.0, 0.0, 1 / 3],\n    [0.0, 1.0, 0.0, 2 / 3],\n    [0.0, -1.0, 0.0, 1 / 3],\n    [1.0, -1.0, 0.0, 2 / 3],\n    [-1.0, 1.0, 0.0, 1 / 3],\n    [-1.0, 0.0, 0.0, 2 / 3],\n    [0.0, 0.0, -1.0, 1 / 3],\n    [0.0, 0.0, -1.0, 2 / 3],\n    [0.0, 0.0, 1.0, 5 / 6],\n    [0.0, 0.0, 1.0, 1 / 6],\n    [0.0, 0.0, -1.0, 5 / 6],\n    [0.0, 0.0, -1.0, 1 / 6],\n];\nexport var OperatorData = [\n    [0, 1, 2],\n    [3, 4, 5],\n    [3, 1, 5],\n    [3, 6, 5],\n    [7, 6, 2],\n    [8, 6, 5],\n    [0, 4, 2],\n    [0, 4, 9],\n    [7, 10, 2],\n    [7, 10, 9],\n    [0, 10, 2],\n    [8, 10, 5],\n    [3, 1, 11],\n    [3, 6, 11],\n    [0, 10, 9],\n    [8, 6, 11],\n    [3, 4, 2],\n    [0, 4, 5],\n    [3, 4, 9],\n    [7, 10, 5],\n    [8, 4, 9],\n    [8, 10, 9],\n    [8, 10, 2],\n    [0, 6, 9],\n    [3, 10, 9],\n    [0, 10, 11],\n    [7, 1, 9],\n    [8, 1, 11],\n    [7, 4, 11],\n    [7, 6, 9],\n    [7, 10, 11],\n    [3, 10, 2],\n    [8, 1, 5],\n    [0, 4, 11],\n    [3, 1, 2],\n    [3, 1, 9],\n    [7, 4, 2],\n    [8, 1, 2],\n    [8, 1, 9],\n    [3, 6, 9],\n    [7, 4, 9],\n    [8, 6, 2],\n    [8, 6, 9],\n    [3, 6, 2],\n    [12, 13, 14],\n    [15, 16, 14],\n    [12, 17, 18],\n    [15, 19, 18],\n    [20, 13, 18],\n    [21, 16, 18],\n    [20, 17, 14],\n    [21, 19, 14],\n    [0, 1, 5],\n    [8, 10, 11],\n    [7, 6, 11],\n    [7, 6, 5],\n    [8, 4, 2],\n    [7, 4, 5],\n    [7, 1, 5],\n    [7, 1, 11],\n    [0, 10, 5],\n    [0, 1, 11],\n    [0, 6, 11],\n    [0, 6, 5],\n    [3, 10, 11],\n    [8, 4, 11],\n    [15, 13, 22],\n    [12, 16, 22],\n    [15, 17, 23],\n    [12, 19, 23],\n    [21, 13, 23],\n    [20, 16, 23],\n    [21, 17, 22],\n    [20, 19, 22],\n    [4, 0, 2],\n    [1, 3, 2],\n    [4, 0, 14],\n    [1, 3, 18],\n    [4, 0, 9],\n    [1, 3, 9],\n    [4, 0, 18],\n    [1, 3, 14],\n    [10, 7, 9],\n    [6, 8, 9],\n    [4, 7, 14],\n    [6, 3, 18],\n    [10, 0, 18],\n    [1, 8, 14],\n    [1, 3, 5],\n    [4, 0, 5],\n    [6, 8, 11],\n    [10, 7, 11],\n    [1, 3, 11],\n    [4, 0, 11],\n    [10, 7, 2],\n    [6, 8, 2],\n    [3, 10, 22],\n    [7, 1, 23],\n    [8, 4, 23],\n    [0, 6, 22],\n    [1, 0, 5],\n    [4, 3, 5],\n    [1, 0, 23],\n    [4, 3, 22],\n    [10, 7, 14],\n    [6, 8, 18],\n    [8, 6, 22],\n    [7, 10, 23],\n    [4, 3, 11],\n    [1, 0, 11],\n    [1, 0, 22],\n    [4, 3, 23],\n    [10, 7, 18],\n    [6, 8, 14],\n    [8, 6, 23],\n    [7, 10, 22],\n    [6, 7, 11],\n    [10, 8, 11],\n    [8, 1, 23],\n    [0, 10, 22],\n    [3, 6, 22],\n    [7, 4, 23],\n    [4, 3, 2],\n    [1, 0, 2],\n    [10, 8, 2],\n    [6, 7, 2],\n    [4, 3, 9],\n    [1, 0, 9],\n    [10, 8, 9],\n    [6, 7, 9],\n    [4, 8, 14],\n    [6, 0, 18],\n    [10, 3, 18],\n    [1, 7, 14],\n    [4, 8, 18],\n    [6, 0, 14],\n    [10, 3, 14],\n    [1, 7, 18],\n    [6, 7, 5],\n    [10, 8, 5],\n    [6, 8, 5],\n    [10, 7, 5],\n    [8, 1, 22],\n    [0, 10, 23],\n    [3, 6, 23],\n    [7, 4, 22],\n    [4, 24, 2],\n    [25, 3, 2],\n    [4, 24, 26],\n    [25, 3, 27],\n    [4, 24, 27],\n    [25, 3, 26],\n    [28, 29, 26],\n    [30, 31, 26],\n    [32, 33, 26],\n    [34, 35, 27],\n    [36, 37, 27],\n    [38, 39, 27],\n    [2, 0, 1],\n    [1, 2, 0],\n    [1, 25, 5],\n    [24, 0, 5],\n    [39, 36, 40],\n    [35, 38, 40],\n    [37, 34, 40],\n    [33, 30, 41],\n    [29, 32, 41],\n    [31, 28, 41],\n    [5, 3, 4],\n    [4, 5, 3],\n    [25, 1, 5],\n    [0, 24, 5],\n    [24, 4, 5],\n    [3, 25, 5],\n    [4, 3, 41],\n    [25, 1, 40],\n    [24, 4, 41],\n    [3, 25, 40],\n    [4, 3, 40],\n    [25, 1, 41],\n    [24, 4, 40],\n    [3, 25, 41],\n    [35, 34, 40],\n    [37, 36, 40],\n    [39, 38, 40],\n    [29, 28, 41],\n    [31, 30, 41],\n    [33, 32, 41],\n    [3, 5, 4],\n    [5, 4, 3],\n    [25, 1, 2],\n    [0, 24, 2],\n    [24, 4, 2],\n    [3, 25, 2],\n    [25, 1, 9],\n    [0, 24, 9],\n    [24, 4, 9],\n    [3, 25, 9],\n    [30, 33, 26],\n    [32, 29, 26],\n    [28, 31, 26],\n    [36, 39, 27],\n    [38, 35, 27],\n    [34, 37, 27],\n    [0, 2, 1],\n    [2, 1, 0],\n    [30, 33, 42],\n    [32, 29, 42],\n    [28, 31, 42],\n    [36, 39, 43],\n    [38, 35, 43],\n    [34, 37, 43],\n    [7, 9, 6],\n    [9, 6, 7],\n    [25, 1, 11],\n    [0, 24, 11],\n    [24, 4, 11],\n    [3, 25, 11],\n    [35, 34, 44],\n    [37, 36, 44],\n    [39, 38, 44],\n    [29, 28, 45],\n    [31, 30, 45],\n    [33, 32, 45],\n    [8, 11, 10],\n    [11, 10, 8],\n    [1, 25, 2],\n    [24, 0, 2],\n    [1, 25, 42],\n    [24, 0, 43],\n    [1, 25, 43],\n    [24, 0, 42],\n    [1, 25, 27],\n    [24, 0, 26],\n    [1, 25, 26],\n    [24, 0, 27],\n    [1, 25, 9],\n    [24, 0, 9],\n    [4, 24, 5],\n    [25, 3, 5],\n    [4, 24, 11],\n    [25, 3, 11],\n    [1, 0, 40],\n    [4, 3, 44],\n    [0, 24, 45],\n    [1, 0, 41],\n    [4, 3, 45],\n    [0, 24, 44],\n    [0, 24, 40],\n    [0, 24, 41],\n    [2, 3, 4],\n    [5, 3, 1],\n    [5, 0, 4],\n    [4, 2, 3],\n    [1, 5, 3],\n    [4, 5, 0],\n    [2, 7, 6],\n    [2, 8, 10],\n    [5, 8, 6],\n    [5, 7, 10],\n    [1, 9, 7],\n    [4, 9, 8],\n    [1, 11, 8],\n    [4, 11, 7],\n    [9, 0, 6],\n    [9, 3, 10],\n    [11, 3, 6],\n    [11, 0, 10],\n    [6, 2, 7],\n    [10, 2, 8],\n    [6, 5, 8],\n    [10, 5, 7],\n    [9, 7, 1],\n    [9, 8, 4],\n    [11, 8, 1],\n    [11, 7, 4],\n    [6, 9, 0],\n    [10, 9, 3],\n    [6, 11, 3],\n    [10, 11, 0],\n    [9, 7, 6],\n    [9, 8, 10],\n    [11, 8, 6],\n    [11, 7, 10],\n    [6, 9, 7],\n    [10, 9, 8],\n    [6, 11, 8],\n    [10, 11, 7],\n    [2, 3, 10],\n    [5, 8, 1],\n    [11, 0, 4],\n    [10, 2, 3],\n    [1, 5, 8],\n    [4, 11, 0],\n    [5, 0, 1],\n    [2, 0, 4],\n    [2, 3, 1],\n    [1, 5, 0],\n    [4, 2, 0],\n    [1, 2, 3],\n    [11, 8, 10],\n    [11, 7, 6],\n    [9, 7, 10],\n    [9, 8, 6],\n    [10, 11, 8],\n    [6, 11, 7],\n    [10, 9, 7],\n    [6, 9, 8],\n    [5, 8, 10],\n    [5, 7, 6],\n    [2, 7, 10],\n    [2, 8, 6],\n    [4, 11, 8],\n    [1, 11, 7],\n    [4, 9, 7],\n    [1, 9, 8],\n    [11, 3, 10],\n    [11, 0, 6],\n    [9, 0, 10],\n    [9, 3, 6],\n    [10, 5, 8],\n    [6, 5, 7],\n    [10, 2, 7],\n    [6, 2, 8],\n    [11, 8, 4],\n    [11, 7, 1],\n    [9, 7, 4],\n    [9, 8, 1],\n    [10, 11, 3],\n    [6, 11, 0],\n    [10, 9, 0],\n    [6, 9, 3],\n    [22, 15, 13],\n    [22, 12, 16],\n    [14, 12, 13],\n    [14, 15, 16],\n    [13, 22, 15],\n    [16, 22, 12],\n    [13, 14, 12],\n    [16, 14, 15],\n    [22, 21, 17],\n    [22, 20, 19],\n    [14, 20, 17],\n    [14, 21, 19],\n    [13, 23, 21],\n    [16, 23, 20],\n    [13, 18, 20],\n    [16, 18, 21],\n    [23, 15, 17],\n    [23, 12, 19],\n    [18, 12, 17],\n    [18, 15, 19],\n    [17, 22, 21],\n    [19, 22, 20],\n    [17, 14, 20],\n    [19, 14, 21],\n    [23, 21, 13],\n    [23, 20, 16],\n    [18, 20, 13],\n    [18, 21, 16],\n    [17, 23, 15],\n    [19, 23, 12],\n    [17, 18, 12],\n    [19, 18, 15],\n    [5, 0, 6],\n    [2, 7, 4],\n    [9, 3, 1],\n    [6, 5, 0],\n    [4, 2, 7],\n    [1, 9, 3],\n    [0, 2, 4],\n    [3, 2, 1],\n    [0, 5, 1],\n    [2, 1, 3],\n    [2, 4, 0],\n    [5, 1, 0],\n    [7, 9, 10],\n    [8, 9, 6],\n    [7, 11, 6],\n    [9, 6, 8],\n    [9, 10, 7],\n    [11, 6, 7],\n    [1, 7, 11],\n    [4, 8, 11],\n    [1, 8, 9],\n    [4, 7, 9],\n    [0, 9, 10],\n    [3, 9, 6],\n    [3, 11, 10],\n    [0, 11, 6],\n    [2, 6, 8],\n    [2, 10, 7],\n    [5, 6, 7],\n    [5, 10, 8],\n    [6, 0, 11],\n    [10, 3, 11],\n    [6, 3, 9],\n    [10, 0, 9],\n    [7, 2, 10],\n    [8, 2, 6],\n    [8, 5, 10],\n    [7, 5, 6],\n    [9, 1, 8],\n    [9, 4, 7],\n    [11, 1, 7],\n    [11, 4, 8],\n    [7, 9, 4],\n    [8, 9, 1],\n    [8, 11, 4],\n    [7, 11, 1],\n    [9, 6, 3],\n    [9, 10, 0],\n    [11, 6, 0],\n    [11, 10, 3],\n    [19, 12, 23],\n    [13, 15, 22],\n    [16, 21, 18],\n    [17, 20, 14],\n    [20, 14, 17],\n    [21, 18, 16],\n    [15, 22, 13],\n    [12, 23, 19],\n    [18, 16, 21],\n    [14, 17, 20],\n    [23, 19, 12],\n    [22, 13, 15],\n    [19, 20, 22],\n    [13, 21, 23],\n    [16, 15, 14],\n    [17, 12, 18],\n    [20, 18, 13],\n    [21, 14, 19],\n    [15, 23, 17],\n    [12, 22, 16],\n    [18, 19, 15],\n    [14, 13, 12],\n    [23, 16, 20],\n    [22, 17, 21],\n    [16, 12, 22],\n    [17, 15, 23],\n    [19, 21, 14],\n    [13, 20, 18],\n    [12, 14, 13],\n    [15, 18, 19],\n    [21, 22, 17],\n    [20, 23, 16],\n    [14, 16, 15],\n    [18, 17, 12],\n    [22, 19, 20],\n    [23, 13, 21],\n    [16, 20, 23],\n    [17, 21, 22],\n    [19, 15, 18],\n    [13, 12, 14],\n    [12, 18, 17],\n    [15, 14, 16],\n    [21, 23, 13],\n    [20, 22, 19],\n    [14, 19, 21],\n    [18, 13, 20],\n    [22, 16, 12],\n    [23, 17, 15],\n    [19, 12, 22],\n    [17, 21, 23],\n    [16, 15, 18],\n    [13, 20, 14],\n    [20, 14, 13],\n    [15, 18, 16],\n    [21, 23, 17],\n    [12, 22, 19],\n    [18, 16, 15],\n    [14, 13, 20],\n    [22, 19, 12],\n    [23, 17, 21],\n    [3, 2, 4],\n    [3, 5, 1],\n    [0, 5, 4],\n    [2, 4, 3],\n    [5, 1, 3],\n    [5, 4, 0],\n    [1, 7, 9],\n    [4, 8, 9],\n    [1, 8, 11],\n    [4, 7, 11],\n    [0, 9, 6],\n    [3, 9, 10],\n    [3, 11, 6],\n    [0, 11, 10],\n    [2, 6, 7],\n    [2, 10, 8],\n    [5, 6, 8],\n    [5, 10, 7],\n    [6, 0, 9],\n    [10, 3, 9],\n    [6, 3, 11],\n    [10, 0, 11],\n    [7, 2, 6],\n    [8, 2, 10],\n    [8, 5, 6],\n    [7, 5, 10],\n    [9, 1, 7],\n    [9, 4, 8],\n    [11, 1, 8],\n    [11, 4, 7],\n    [7, 9, 1],\n    [8, 9, 4],\n    [8, 11, 1],\n    [7, 11, 4],\n    [9, 6, 0],\n    [9, 10, 3],\n    [11, 6, 3],\n    [11, 10, 0],\n    [8, 9, 10],\n    [8, 11, 6],\n    [7, 11, 10],\n    [9, 10, 8],\n    [11, 6, 8],\n    [11, 10, 7],\n    [6, 0, 2],\n    [10, 3, 2],\n    [6, 3, 5],\n    [10, 0, 5],\n    [7, 2, 1],\n    [8, 2, 4],\n    [8, 5, 1],\n    [7, 5, 4],\n    [9, 1, 0],\n    [9, 4, 3],\n    [11, 1, 3],\n    [11, 4, 0],\n    [1, 7, 2],\n    [4, 8, 2],\n    [1, 8, 5],\n    [4, 7, 5],\n    [0, 9, 1],\n    [3, 9, 4],\n    [3, 11, 1],\n    [0, 11, 4],\n    [2, 6, 0],\n    [2, 10, 3],\n    [5, 6, 3],\n    [5, 10, 0],\n    [0, 2, 6],\n    [3, 2, 10],\n    [3, 5, 6],\n    [0, 5, 10],\n    [2, 1, 7],\n    [2, 4, 8],\n    [5, 1, 8],\n    [5, 4, 7],\n    [16, 12, 14],\n    [13, 21, 18],\n    [19, 15, 23],\n    [17, 20, 22],\n    [12, 14, 16],\n    [21, 18, 13],\n    [15, 23, 19],\n    [20, 22, 17],\n    [14, 16, 12],\n    [18, 13, 21],\n    [23, 19, 15],\n    [22, 17, 20],\n    [19, 20, 18],\n    [17, 15, 14],\n    [16, 21, 22],\n    [13, 12, 23],\n    [20, 18, 19],\n    [15, 14, 17],\n    [21, 22, 16],\n    [12, 23, 13],\n    [18, 19, 20],\n    [14, 17, 15],\n    [22, 16, 21],\n    [23, 13, 12],\n    [6, 0, 5],\n    [10, 3, 5],\n    [6, 3, 2],\n    [10, 0, 2],\n    [7, 2, 4],\n    [8, 2, 1],\n    [8, 5, 4],\n    [7, 5, 1],\n    [9, 1, 3],\n    [9, 4, 0],\n    [11, 1, 0],\n    [11, 4, 3],\n    [1, 7, 5],\n    [4, 8, 5],\n    [1, 8, 2],\n    [4, 7, 2],\n    [0, 9, 4],\n    [3, 9, 1],\n    [3, 11, 4],\n    [0, 11, 1],\n    [2, 6, 3],\n    [2, 10, 0],\n    [5, 6, 0],\n    [5, 10, 3],\n    [0, 2, 10],\n    [3, 2, 6],\n    [3, 5, 10],\n    [0, 5, 6],\n    [2, 1, 8],\n    [2, 4, 7],\n    [5, 1, 7],\n    [5, 4, 8],\n    [21, 17, 23],\n    [20, 16, 22],\n    [12, 13, 18],\n    [15, 19, 14],\n    [23, 21, 17],\n    [22, 20, 16],\n    [18, 12, 13],\n    [14, 15, 19],\n    [17, 23, 21],\n    [16, 22, 20],\n    [13, 18, 12],\n    [19, 14, 15],\n    [21, 13, 22],\n    [20, 19, 23],\n    [12, 17, 14],\n    [15, 16, 18],\n    [23, 15, 13],\n    [22, 12, 19],\n    [18, 20, 17],\n    [14, 21, 16],\n    [17, 22, 15],\n    [16, 23, 12],\n    [13, 14, 20],\n    [19, 18, 21],\n    [15, 17, 22],\n    [12, 16, 23],\n    [20, 13, 14],\n    [21, 19, 18],\n    [22, 21, 13],\n    [23, 20, 19],\n    [14, 12, 17],\n    [18, 15, 16],\n    [13, 23, 15],\n    [19, 22, 12],\n    [17, 18, 20],\n    [16, 14, 21],\n    [15, 13, 23],\n    [12, 19, 22],\n    [20, 17, 18],\n    [21, 16, 14],\n    [22, 15, 17],\n    [23, 12, 16],\n    [14, 20, 13],\n    [18, 21, 19],\n    [13, 22, 21],\n    [19, 23, 20],\n    [17, 14, 12],\n    [16, 18, 15],\n    [6, 5, 3],\n    [4, 9, 3],\n    [9, 3, 4],\n    [5, 7, 4],\n    [4, 5, 7],\n    [5, 3, 6],\n];\nexport var GroupData = [\n    [0],\n    [0, 1],\n    [0, 2],\n    [0, 3],\n    [0, 2, 4, 5],\n    [0, 6],\n    [0, 7],\n    [0, 6, 4, 8],\n    [0, 7, 4, 9],\n    [0, 6, 2, 1],\n    [0, 3, 1, 10],\n    [0, 6, 2, 1, 4, 8, 5, 11],\n    [0, 12, 1, 7],\n    [0, 1, 13, 14],\n    [0, 12, 1, 7, 4, 15, 11, 9],\n    [0, 16, 2, 17],\n    [0, 18, 12, 17],\n    [0, 16, 5, 19],\n    [0, 20, 13, 19],\n    [0, 18, 12, 17, 4, 21, 15, 19],\n    [0, 16, 2, 17, 4, 22, 5, 19],\n    [0, 16, 2, 17, 23, 24, 13, 25, 26, 20, 27, 28, 4, 22, 5, 19],\n    [0, 16, 17, 2, 29, 21, 30, 15],\n    [0, 20, 13, 19, 29, 31, 32, 33],\n    [0, 16, 6, 34],\n    [0, 18, 7, 34],\n    [0, 16, 7, 35],\n    [0, 16, 36, 37],\n    [0, 18, 36, 38],\n    [0, 16, 14, 39],\n    [0, 20, 40, 34],\n    [0, 16, 8, 41],\n    [0, 18, 8, 42],\n    [0, 16, 9, 42],\n    [0, 16, 6, 34, 4, 22, 8, 41],\n    [0, 18, 7, 34, 4, 21, 9, 41],\n    [0, 16, 7, 35, 4, 22, 9, 42],\n    [0, 16, 6, 34, 23, 24, 14, 39],\n    [0, 16, 10, 43, 23, 24, 7, 35],\n    [0, 16, 36, 37, 23, 24, 9, 42],\n    [0, 16, 8, 41, 23, 24, 40, 38],\n    [0, 16, 6, 34, 23, 24, 14, 39, 26, 20, 40, 38, 4, 22, 8, 41],\n    [0, 16, 44, 45, 23, 24, 46, 47, 26, 20, 48, 49, 4, 22, 50, 51],\n    [0, 16, 6, 34, 29, 21, 9, 42],\n    [0, 16, 8, 41, 29, 21, 7, 35],\n    [0, 16, 36, 37, 29, 21, 14, 39],\n    [0, 16, 2, 17, 1, 52, 6, 34],\n    [0, 16, 2, 17, 53, 54, 9, 42],\n    [0, 16, 12, 33, 1, 52, 7, 35],\n    [0, 16, 2, 17, 11, 55, 8, 41],\n    [0, 56, 2, 57, 1, 58, 6, 37],\n    [0, 56, 15, 25, 1, 58, 9, 39],\n    [0, 20, 27, 17, 1, 59, 40, 34],\n    [0, 56, 12, 28, 1, 58, 7, 38],\n    [0, 16, 5, 19, 1, 52, 8, 41],\n    [0, 22, 13, 28, 1, 55, 14, 38],\n    [0, 18, 13, 60, 1, 61, 14, 43],\n    [0, 16, 15, 30, 1, 52, 9, 42],\n    [0, 16, 5, 19, 11, 55, 6, 34],\n    [0, 21, 12, 19, 1, 54, 7, 41],\n    [0, 20, 13, 19, 1, 59, 14, 41],\n    [0, 20, 3, 30, 1, 59, 10, 42],\n    [0, 18, 12, 17, 1, 61, 7, 34, 4, 21, 15, 19, 11, 54, 9, 41],\n    [0, 24, 13, 17, 1, 62, 14, 34, 4, 20, 27, 19, 11, 59, 40, 41],\n    [0, 16, 2, 17, 1, 52, 6, 34, 4, 22, 5, 19, 11, 55, 8, 41],\n    [0, 16, 12, 33, 1, 52, 7, 35, 4, 22, 15, 30, 11, 55, 9, 42],\n    [0, 31, 3, 17, 1, 63, 10, 34, 4, 56, 32, 19, 11, 58, 36, 41],\n    [0, 22, 2, 19, 64, 59, 14, 38, 4, 16, 5, 17, 65, 62, 40, 39],\n    [0, 16, 2, 17, 1, 52, 6, 34, 23, 24, 13, 25, 64, 62, 14, 39, 26, 20, 27, 28, 65, 59, 40, 38, 4, 22, 5, 19, 11, 55, 8, 41],\n    [0, 16, 2, 17, 66, 67, 44, 45, 23, 24, 13, 25, 68, 69, 46, 47, 26, 20, 27, 28, 70, 71, 48, 49, 4, 22, 5, 19, 72, 73, 50, 51],\n    [0, 16, 2, 17, 1, 52, 6, 34, 29, 21, 15, 30, 53, 54, 9, 42],\n    [0, 16, 5, 19, 1, 52, 8, 41, 29, 21, 12, 33, 53, 54, 7, 35],\n    [0, 20, 13, 19, 1, 59, 14, 41, 29, 31, 32, 33, 53, 63, 36, 35],\n    [0, 31, 3, 17, 1, 63, 10, 34, 29, 20, 27, 30, 53, 59, 40, 42],\n    [0, 16, 74, 75],\n    [0, 18, 76, 77],\n    [0, 16, 78, 79],\n    [0, 18, 80, 81],\n    [0, 16, 74, 75, 29, 21, 82, 83],\n    [0, 21, 84, 85, 29, 16, 86, 87],\n    [0, 16, 88, 89],\n    [0, 16, 88, 89, 29, 21, 90, 91],\n    [0, 16, 74, 75, 1, 52, 88, 89],\n    [0, 16, 78, 79, 1, 52, 92, 93],\n    [0, 16, 94, 95, 11, 55, 88, 89],\n    [0, 16, 82, 83, 53, 54, 88, 89],\n    [0, 16, 74, 75, 1, 52, 88, 89, 29, 21, 82, 83, 53, 54, 90, 91],\n    [0, 21, 84, 85, 96, 97, 88, 91, 29, 16, 86, 87, 98, 99, 90, 89],\n    [0, 16, 74, 75, 2, 17, 100, 101],\n    [0, 16, 94, 95, 5, 19, 100, 101],\n    [0, 18, 76, 77, 2, 33, 102, 103],\n    [0, 18, 104, 105, 106, 107, 100, 108],\n    [0, 16, 78, 79, 2, 17, 109, 108],\n    [0, 16, 82, 83, 15, 30, 100, 101],\n    [0, 18, 80, 81, 2, 33, 110, 111],\n    [0, 18, 112, 113, 114, 115, 100, 108],\n    [0, 16, 74, 75, 2, 17, 100, 101, 29, 21, 82, 83, 15, 30, 116, 117],\n    [0, 21, 84, 85, 118, 119, 116, 101, 29, 16, 86, 87, 120, 121, 100, 117],\n    [0, 16, 74, 75, 6, 34, 122, 123],\n    [0, 16, 74, 75, 8, 41, 124, 125],\n    [0, 16, 78, 79, 7, 35, 122, 123],\n    [0, 16, 82, 83, 9, 42, 122, 123],\n    [0, 16, 74, 75, 7, 35, 126, 127],\n    [0, 16, 74, 75, 9, 42, 128, 129],\n    [0, 16, 78, 79, 6, 34, 126, 127],\n    [0, 16, 78, 79, 8, 41, 128, 129],\n    [0, 16, 74, 75, 6, 34, 122, 123, 29, 21, 82, 83, 9, 42, 128, 129],\n    [0, 16, 74, 75, 7, 35, 126, 127, 29, 21, 82, 83, 8, 41, 124, 125],\n    [0, 21, 84, 85, 6, 42, 130, 131, 29, 16, 86, 87, 9, 34, 132, 133],\n    [0, 21, 84, 85, 7, 41, 134, 135, 29, 16, 86, 87, 8, 35, 136, 137],\n    [0, 16, 89, 88, 2, 17, 122, 123],\n    [0, 16, 89, 88, 12, 33, 126, 127],\n    [0, 16, 89, 88, 5, 19, 124, 125],\n    [0, 16, 89, 88, 15, 30, 128, 129],\n    [0, 16, 88, 89, 6, 34, 100, 101],\n    [0, 16, 89, 88, 7, 35, 109, 108],\n    [0, 16, 89, 88, 8, 41, 138, 139],\n    [0, 16, 89, 88, 9, 42, 116, 117],\n    [0, 16, 89, 88, 6, 34, 100, 101, 29, 21, 91, 90, 9, 42, 116, 117],\n    [0, 16, 89, 88, 7, 35, 109, 108, 29, 21, 91, 90, 8, 41, 138, 139],\n    [0, 16, 89, 88, 2, 17, 122, 123, 29, 21, 91, 90, 15, 30, 128, 129],\n    [0, 16, 89, 88, 118, 121, 132, 131, 29, 21, 91, 90, 120, 119, 130, 133],\n    [0, 16, 74, 75, 2, 17, 100, 101, 1, 52, 88, 89, 6, 34, 122, 123],\n    [0, 16, 74, 75, 12, 33, 109, 108, 1, 52, 88, 89, 7, 35, 126, 127],\n    [0, 16, 74, 75, 2, 17, 100, 101, 11, 55, 140, 141, 8, 41, 124, 125],\n    [0, 16, 74, 75, 2, 17, 100, 101, 53, 54, 90, 91, 9, 42, 128, 129],\n    [0, 16, 74, 75, 5, 19, 138, 139, 1, 52, 88, 89, 8, 41, 124, 125],\n    [0, 16, 74, 75, 15, 30, 116, 117, 1, 52, 88, 89, 9, 42, 128, 129],\n    [0, 16, 94, 95, 5, 19, 100, 101, 11, 55, 88, 89, 6, 34, 124, 125],\n    [0, 16, 94, 95, 15, 30, 109, 108, 11, 55, 88, 89, 7, 35, 128, 129],\n    [0, 16, 78, 79, 2, 17, 109, 108, 1, 52, 92, 93, 6, 34, 126, 127],\n    [0, 16, 78, 79, 12, 33, 100, 101, 1, 52, 92, 93, 7, 35, 122, 123],\n    [0, 16, 82, 83, 12, 33, 138, 139, 53, 54, 88, 89, 8, 41, 126, 127],\n    [0, 16, 82, 83, 2, 17, 116, 117, 53, 54, 88, 89, 9, 42, 122, 123],\n    [0, 16, 78, 79, 5, 19, 116, 117, 1, 52, 92, 93, 8, 41, 128, 129],\n    [0, 16, 82, 83, 15, 30, 100, 101, 1, 52, 90, 91, 9, 42, 122, 123],\n    [0, 16, 82, 83, 15, 30, 100, 101, 53, 54, 88, 89, 6, 34, 128, 129],\n    [0, 16, 82, 83, 5, 19, 109, 108, 53, 54, 88, 89, 7, 35, 124, 125],\n    [0, 16, 74, 75, 2, 17, 100, 101, 1, 52, 88, 89, 6, 34, 122, 123, 29, 21, 82, 83, 15, 30, 116, 117, 53, 54, 90, 91, 9, 42, 128, 129],\n    [0, 16, 74, 75, 12, 33, 109, 108, 1, 52, 88, 89, 7, 35, 126, 127, 29, 21, 82, 83, 5, 19, 138, 139, 53, 54, 90, 91, 8, 41, 124, 125],\n    [0, 21, 84, 85, 118, 119, 116, 101, 96, 97, 88, 91, 9, 34, 132, 133, 29, 16, 86, 87, 120, 121, 100, 117, 98, 99, 90, 89, 6, 42, 130, 131],\n    [0, 21, 84, 85, 142, 143, 138, 108, 96, 97, 88, 91, 8, 35, 136, 137, 29, 16, 86, 87, 144, 145, 109, 139, 98, 99, 90, 89, 7, 41, 134, 135],\n    [0, 146, 147],\n    [0, 148, 149],\n    [0, 150, 151],\n    [0, 146, 147, 152, 153, 154, 155, 156, 157],\n    [0, 158, 159],\n    [0, 146, 147, 1, 160, 161],\n    [0, 146, 147, 1, 160, 161, 152, 153, 154, 162, 163, 164, 155, 156, 157, 165, 166, 167],\n    [0, 158, 159, 1, 168, 169],\n    [0, 146, 147, 101, 170, 171],\n    [0, 146, 147, 100, 172, 173],\n    [0, 148, 149, 174, 175, 171],\n    [0, 148, 149, 100, 176, 177],\n    [0, 150, 151, 178, 179, 171],\n    [0, 150, 151, 100, 180, 181],\n    [0, 146, 147, 100, 172, 173, 152, 153, 154, 182, 183, 184, 155, 156, 157, 185, 186, 187],\n    [0, 158, 159, 101, 188, 189],\n    [0, 146, 147, 122, 190, 191],\n    [0, 146, 147, 123, 192, 193],\n    [0, 146, 147, 126, 194, 195],\n    [0, 146, 147, 127, 196, 197],\n    [0, 146, 147, 122, 190, 191, 152, 153, 154, 198, 199, 200, 155, 156, 157, 201, 202, 203],\n    [0, 158, 159, 123, 204, 205],\n    [0, 146, 147, 126, 194, 195, 152, 153, 154, 206, 207, 208, 155, 156, 157, 209, 210, 211],\n    [0, 158, 159, 129, 212, 213],\n    [0, 146, 147, 101, 170, 171, 1, 160, 161, 123, 192, 193],\n    [0, 146, 147, 108, 214, 215, 1, 160, 161, 127, 196, 197],\n    [0, 146, 147, 100, 172, 173, 1, 160, 161, 122, 190, 191],\n    [0, 146, 147, 109, 216, 217, 1, 160, 161, 126, 194, 195],\n    [0, 146, 147, 100, 172, 173, 1, 160, 161, 122, 190, 191, 152, 153, 154, 182, 183, 184, 162, 163, 164, 198, 199, 200, 155, 156, 157, 185, 186, 187, 165, 166, 167, 201, 202, 203],\n    [0, 158, 159, 101, 188, 189, 1, 168, 169, 123, 204, 205],\n    [0, 146, 147, 109, 216, 217, 1, 160, 161, 126, 194, 195, 152, 153, 154, 218, 219, 220, 162, 163, 164, 206, 207, 208, 155, 156, 157, 221, 222, 223, 165, 166, 167, 209, 210, 211],\n    [0, 158, 159, 117, 224, 225, 1, 168, 169, 129, 212, 213],\n    [0, 146, 147, 16, 226, 227],\n    [0, 148, 149, 18, 228, 229],\n    [0, 150, 151, 18, 230, 231],\n    [0, 150, 151, 16, 232, 233],\n    [0, 148, 149, 16, 234, 235],\n    [0, 146, 147, 18, 236, 237],\n    [0, 146, 147, 52, 238, 239],\n    [0, 146, 147, 16, 226, 227, 1, 160, 161, 52, 238, 239],\n    [0, 146, 147, 18, 236, 237, 1, 160, 161, 61, 240, 241],\n    [0, 146, 147, 16, 226, 227, 100, 172, 173, 101, 170, 171],\n    [0, 148, 149, 18, 228, 229, 242, 172, 181, 243, 214, 244],\n    [0, 150, 151, 18, 230, 231, 245, 172, 177, 246, 214, 247],\n    [0, 150, 151, 16, 232, 233, 245, 172, 177, 174, 170, 248],\n    [0, 148, 149, 16, 234, 235, 242, 172, 181, 178, 170, 249],\n    [0, 146, 147, 18, 236, 237, 100, 172, 173, 108, 214, 215],\n    [0, 146, 147, 16, 226, 227, 122, 190, 191, 123, 192, 193],\n    [0, 146, 147, 16, 226, 227, 126, 194, 195, 127, 196, 197],\n    [0, 146, 147, 18, 236, 237, 126, 194, 195, 123, 192, 193],\n    [0, 146, 147, 18, 236, 237, 122, 190, 191, 127, 196, 197],\n    [0, 146, 147, 52, 238, 239, 122, 190, 191, 101, 170, 171],\n    [0, 146, 147, 61, 240, 241, 126, 194, 195, 101, 170, 171],\n    [0, 146, 147, 52, 238, 239, 100, 172, 173, 123, 192, 193],\n    [0, 146, 147, 61, 240, 241, 100, 172, 173, 127, 196, 197],\n    [0, 146, 147, 16, 226, 227, 100, 172, 173, 101, 170, 171, 1, 160, 161, 52, 239, 238, 122, 190, 191, 123, 192, 193],\n    [0, 146, 147, 16, 226, 227, 109, 216, 217, 108, 214, 215, 1, 160, 161, 52, 239, 238, 126, 194, 195, 127, 196, 197],\n    [0, 146, 147, 18, 236, 237, 109, 216, 217, 101, 170, 171, 1, 160, 161, 61, 241, 240, 126, 194, 195, 123, 192, 193],\n    [0, 146, 147, 18, 236, 237, 100, 172, 173, 108, 214, 215, 1, 160, 161, 61, 241, 240, 122, 190, 191, 127, 196, 197],\n    [0, 16, 2, 17, 158, 250, 251, 252, 159, 253, 254, 255],\n    [0, 16, 2, 17, 158, 250, 251, 252, 159, 253, 254, 255, 23, 24, 13, 25, 256, 257, 258, 259, 260, 261, 262, 263, 26, 20, 27, 28, 264, 265, 266, 267, 268, 269, 270, 271, 4, 22, 5, 19, 272, 273, 274, 275, 276, 277, 278, 279],\n    [0, 16, 2, 17, 158, 250, 251, 252, 159, 253, 254, 255, 29, 21, 15, 30, 280, 281, 282, 283, 284, 285, 286, 287],\n    [0, 20, 13, 19, 158, 273, 266, 259, 159, 261, 278, 271],\n    [0, 20, 13, 19, 158, 273, 266, 259, 159, 261, 278, 271, 29, 31, 32, 33, 280, 288, 289, 290, 284, 291, 292, 293],\n    [0, 16, 2, 17, 158, 250, 251, 252, 159, 253, 254, 255, 1, 52, 6, 34, 168, 294, 295, 296, 169, 297, 298, 299],\n    [0, 16, 2, 17, 158, 250, 251, 252, 159, 253, 254, 255, 53, 54, 9, 42, 300, 301, 302, 303, 304, 305, 306, 307],\n    [0, 16, 2, 17, 158, 250, 251, 252, 159, 253, 254, 255, 1, 52, 6, 34, 168, 294, 295, 296, 169, 297, 298, 299, 23, 24, 13, 25, 256, 257, 258, 259, 260, 261, 262, 263, 64, 62, 14, 39, 308, 309, 310, 311, 312, 313, 314, 315, 26, 20, 27, 28, 264, 265, 266, 267, 268, 269, 270, 271, 65, 59, 40, 38, 316, 317, 318, 319, 320, 321, 322, 323, 4, 22, 5, 19, 272, 273, 274, 275, 276, 277, 278, 279, 11, 55, 8, 41, 324, 325, 326, 327, 328, 329, 330, 331],\n    [0, 16, 2, 17, 158, 250, 251, 252, 159, 253, 254, 255, 66, 67, 44, 45, 332, 333, 334, 335, 336, 337, 338, 339, 23, 24, 13, 25, 256, 257, 258, 259, 260, 261, 262, 263, 68, 69, 46, 47, 340, 341, 342, 343, 344, 345, 346, 347, 26, 20, 27, 28, 264, 265, 266, 267, 268, 269, 270, 271, 70, 71, 48, 49, 348, 349, 350, 351, 352, 353, 354, 355, 4, 22, 5, 19, 272, 273, 274, 275, 276, 277, 278, 279, 72, 73, 50, 51, 356, 357, 358, 359, 360, 361, 362, 363],\n    [0, 16, 2, 17, 158, 250, 251, 252, 159, 253, 254, 255, 1, 52, 6, 34, 168, 294, 295, 296, 169, 297, 298, 299, 29, 21, 15, 30, 280, 281, 282, 283, 284, 285, 286, 287, 53, 54, 9, 42, 300, 301, 302, 303, 304, 305, 306, 307],\n    [0, 20, 13, 19, 158, 273, 266, 259, 159, 261, 278, 271, 1, 59, 14, 41, 168, 325, 318, 311, 169, 313, 330, 323],\n    [0, 20, 13, 19, 158, 273, 266, 259, 159, 261, 278, 271, 1, 59, 14, 41, 168, 325, 318, 311, 169, 313, 330, 323, 29, 31, 32, 33, 280, 288, 289, 290, 284, 291, 292, 293, 53, 63, 36, 35, 300, 364, 365, 366, 304, 367, 368, 369],\n    [0, 16, 2, 17, 158, 250, 251, 252, 159, 253, 254, 255, 100, 101, 75, 74, 370, 371, 188, 372, 373, 374, 375, 189],\n    [0, 16, 2, 17, 158, 250, 251, 252, 159, 253, 254, 255, 116, 117, 83, 82, 376, 377, 224, 378, 379, 380, 381, 225],\n    [0, 16, 2, 17, 158, 250, 251, 252, 159, 253, 254, 255, 100, 101, 75, 74, 370, 371, 188, 372, 373, 374, 375, 189, 23, 24, 13, 25, 256, 257, 258, 259, 260, 261, 262, 263, 382, 383, 384, 385, 386, 387, 388, 389, 390, 391, 392, 393, 26, 20, 27, 28, 264, 265, 266, 267, 268, 269, 270, 271, 394, 395, 396, 397, 398, 399, 400, 401, 402, 403, 404, 405, 4, 22, 5, 19, 272, 273, 274, 275, 276, 277, 278, 279, 138, 139, 95, 94, 406, 407, 408, 409, 410, 411, 412, 413],\n    [0, 24, 5, 28, 158, 265, 258, 275, 159, 277, 270, 263, 414, 415, 416, 417, 418, 419, 420, 421, 422, 423, 424, 425, 23, 16, 27, 19, 256, 273, 251, 267, 260, 269, 278, 255, 426, 427, 428, 429, 430, 431, 432, 433, 434, 435, 436, 437, 26, 22, 13, 17, 264, 250, 274, 259, 268, 261, 254, 279, 438, 439, 440, 441, 442, 443, 444, 445, 446, 447, 448, 449, 4, 20, 2, 25, 272, 257, 266, 252, 276, 253, 262, 271, 450, 451, 452, 453, 454, 455, 456, 457, 458, 459, 460, 461],\n    [0, 16, 2, 17, 158, 250, 251, 252, 159, 253, 254, 255, 100, 101, 75, 74, 370, 371, 188, 372, 373, 374, 375, 189, 29, 21, 15, 30, 280, 281, 282, 283, 284, 285, 286, 287, 116, 117, 83, 82, 376, 377, 224, 378, 379, 380, 381, 225],\n    [0, 20, 13, 19, 158, 273, 266, 259, 159, 261, 278, 271, 450, 415, 440, 429, 454, 431, 420, 445, 458, 447, 436, 425],\n    [0, 20, 13, 19, 158, 273, 266, 259, 159, 261, 278, 271, 462, 463, 464, 465, 466, 467, 468, 469, 470, 471, 472, 473],\n    [0, 20, 13, 19, 158, 273, 266, 259, 159, 261, 278, 271, 462, 463, 464, 465, 466, 467, 468, 469, 470, 471, 472, 473, 29, 31, 32, 33, 280, 288, 289, 290, 284, 291, 292, 293, 450, 415, 440, 429, 454, 431, 420, 445, 458, 447, 436, 425],\n    [0, 16, 2, 17, 158, 250, 251, 252, 159, 253, 254, 255, 123, 122, 88, 89, 204, 474, 475, 476, 205, 477, 478, 479],\n    [0, 16, 2, 17, 158, 250, 251, 252, 159, 253, 254, 255, 123, 122, 88, 89, 204, 474, 475, 476, 205, 477, 478, 479, 23, 24, 13, 25, 256, 257, 258, 259, 260, 261, 262, 263, 480, 481, 482, 483, 484, 485, 486, 487, 488, 489, 490, 491, 26, 20, 27, 28, 264, 265, 266, 267, 268, 269, 270, 271, 492, 493, 494, 495, 496, 497, 498, 499, 500, 501, 502, 503, 4, 22, 5, 19, 272, 273, 274, 275, 276, 277, 278, 279, 125, 124, 140, 141, 504, 505, 506, 507, 508, 509, 510, 511],\n    [0, 16, 2, 17, 158, 250, 251, 252, 159, 253, 254, 255, 123, 122, 88, 89, 204, 474, 475, 476, 205, 477, 478, 479, 29, 21, 15, 30, 280, 281, 282, 283, 284, 285, 286, 287, 129, 128, 90, 91, 212, 512, 513, 514, 213, 515, 516, 517],\n    [0, 16, 2, 17, 158, 250, 251, 252, 159, 253, 254, 255, 129, 128, 90, 91, 212, 512, 513, 514, 213, 515, 516, 517],\n    [0, 16, 2, 17, 158, 250, 251, 252, 159, 253, 254, 255, 129, 128, 90, 91, 212, 512, 513, 514, 213, 515, 516, 517, 23, 24, 13, 25, 256, 257, 258, 259, 260, 261, 262, 263, 518, 519, 520, 521, 522, 523, 524, 525, 526, 527, 528, 529, 26, 20, 27, 28, 264, 265, 266, 267, 268, 269, 270, 271, 530, 531, 532, 533, 534, 535, 536, 537, 538, 539, 540, 541, 4, 22, 5, 19, 272, 273, 274, 275, 276, 277, 278, 279, 127, 126, 92, 93, 542, 543, 544, 545, 546, 547, 548, 549],\n    [0, 20, 13, 19, 158, 273, 266, 259, 159, 261, 278, 271, 550, 551, 552, 553, 554, 555, 556, 557, 558, 559, 560, 561, 29, 31, 32, 33, 280, 288, 289, 290, 284, 291, 292, 293, 562, 563, 564, 565, 566, 567, 568, 569, 570, 571, 572, 573],\n    [0, 16, 2, 17, 158, 250, 251, 252, 159, 253, 254, 255, 100, 101, 75, 74, 370, 371, 188, 372, 373, 374, 375, 189, 1, 52, 6, 34, 168, 294, 295, 296, 169, 297, 298, 299, 122, 123, 89, 88, 475, 476, 204, 474, 479, 478, 477, 205],\n    [0, 16, 2, 17, 158, 250, 251, 252, 159, 253, 254, 255, 100, 101, 75, 74, 370, 371, 188, 372, 373, 374, 375, 189, 53, 54, 9, 42, 300, 301, 302, 303, 304, 305, 306, 307, 128, 129, 91, 90, 513, 514, 212, 512, 517, 516, 515, 213],\n    [0, 16, 2, 17, 158, 250, 251, 252, 159, 253, 254, 255, 116, 117, 83, 82, 376, 377, 224, 378, 379, 380, 381, 225, 1, 52, 6, 34, 168, 294, 295, 296, 169, 297, 298, 299, 128, 129, 91, 90, 513, 514, 212, 512, 517, 516, 515, 213],\n    [0, 16, 2, 17, 158, 250, 251, 252, 159, 253, 254, 255, 116, 117, 83, 82, 376, 377, 224, 378, 379, 380, 381, 225, 53, 54, 9, 42, 300, 301, 302, 303, 304, 305, 306, 307, 122, 123, 89, 88, 475, 476, 204, 474, 479, 478, 477, 205],\n    [0, 16, 2, 17, 158, 250, 251, 252, 159, 253, 254, 255, 100, 101, 75, 74, 370, 371, 188, 372, 373, 374, 375, 189, 1, 52, 6, 34, 168, 294, 295, 296, 169, 297, 298, 299, 122, 123, 89, 88, 475, 476, 204, 474, 479, 478, 477, 205, 23, 24, 13, 25, 256, 257, 258, 259, 260, 261, 262, 263, 382, 383, 384, 385, 386, 387, 388, 389, 390, 391, 392, 393, 64, 62, 14, 39, 308, 309, 310, 311, 312, 313, 314, 315, 481, 480, 483, 482, 486, 487, 484, 485, 491, 490, 489, 488, 26, 20, 27, 28, 264, 265, 266, 267, 268, 269, 270, 271, 394, 395, 396, 397, 398, 399, 400, 401, 402, 403, 404, 405, 65, 59, 40, 38, 316, 317, 318, 319, 320, 321, 322, 323, 493, 492, 495, 494, 498, 499, 496, 497, 503, 502, 501, 500, 4, 22, 5, 19, 272, 273, 274, 275, 276, 277, 278, 279, 138, 139, 95, 94, 406, 407, 408, 409, 410, 411, 412, 413, 11, 55, 8, 41, 324, 325, 326, 327, 328, 329, 330, 331, 124, 125, 141, 140, 506, 507, 504, 505, 511, 510, 509, 508],\n    [0, 16, 2, 17, 158, 250, 251, 252, 159, 253, 254, 255, 116, 117, 83, 82, 376, 377, 224, 378, 379, 380, 381, 225, 1, 52, 6, 34, 168, 294, 295, 296, 169, 297, 298, 299, 128, 129, 91, 90, 513, 514, 212, 512, 517, 516, 515, 213, 23, 24, 13, 25, 256, 257, 258, 259, 260, 261, 262, 263, 574, 575, 576, 577, 578, 579, 580, 581, 582, 583, 584, 585, 64, 62, 14, 39, 308, 309, 310, 311, 312, 313, 314, 315, 519, 518, 521, 520, 524, 525, 522, 523, 529, 528, 527, 526, 26, 20, 27, 28, 264, 265, 266, 267, 268, 269, 270, 271, 586, 587, 588, 589, 590, 591, 592, 593, 594, 595, 596, 597, 65, 59, 40, 38, 316, 317, 318, 319, 320, 321, 322, 323, 531, 530, 533, 532, 536, 537, 534, 535, 541, 540, 539, 538, 4, 22, 5, 19, 272, 273, 274, 275, 276, 277, 278, 279, 109, 108, 79, 78, 598, 599, 600, 601, 602, 603, 604, 605, 11, 55, 8, 41, 324, 325, 326, 327, 328, 329, 330, 331, 126, 127, 93, 92, 544, 545, 542, 543, 549, 548, 547, 546],\n    [0, 24, 5, 28, 158, 265, 258, 275, 159, 277, 270, 263, 414, 415, 416, 417, 418, 419, 420, 421, 422, 423, 424, 425, 66, 69, 50, 49, 332, 349, 342, 359, 336, 361, 354, 347, 493, 123, 483, 140, 498, 507, 204, 485, 503, 490, 509, 205, 23, 16, 27, 19, 256, 273, 251, 267, 260, 269, 278, 255, 426, 427, 428, 429, 430, 431, 432, 433, 434, 435, 436, 437, 68, 67, 48, 51, 340, 357, 334, 351, 344, 353, 362, 339, 124, 480, 89, 494, 506, 499, 484, 474, 511, 478, 501, 488, 26, 22, 13, 17, 264, 250, 274, 259, 268, 261, 254, 279, 438, 439, 440, 441, 442, 443, 444, 445, 446, 447, 448, 449, 70, 73, 46, 45, 348, 333, 358, 343, 352, 345, 338, 363, 122, 492, 141, 482, 475, 487, 496, 505, 479, 510, 489, 500, 4, 20, 2, 25, 272, 257, 266, 252, 276, 253, 262, 271, 450, 451, 452, 453, 454, 455, 456, 457, 458, 459, 460, 461, 72, 71, 44, 47, 356, 341, 350, 335, 360, 337, 346, 355, 481, 125, 495, 88, 486, 476, 504, 497, 491, 502, 477, 508],\n    [0, 24, 5, 28, 158, 265, 258, 275, 159, 277, 270, 263, 414, 415, 416, 417, 418, 419, 420, 421, 422, 423, 424, 425, 606, 607, 608, 609, 610, 611, 612, 613, 614, 615, 616, 617, 531, 129, 521, 92, 536, 545, 212, 523, 541, 528, 547, 213, 23, 16, 27, 19, 256, 273, 251, 267, 260, 269, 278, 255, 426, 427, 428, 429, 430, 431, 432, 433, 434, 435, 436, 437, 618, 619, 620, 621, 622, 623, 624, 625, 626, 627, 628, 629, 126, 518, 91, 532, 544, 537, 522, 512, 549, 516, 539, 526, 26, 22, 13, 17, 264, 250, 274, 259, 268, 261, 254, 279, 438, 439, 440, 441, 442, 443, 444, 445, 446, 447, 448, 449, 630, 631, 632, 633, 634, 635, 636, 637, 638, 639, 640, 641, 128, 530, 93, 520, 513, 525, 534, 543, 517, 548, 527, 538, 4, 20, 2, 25, 272, 257, 266, 252, 276, 253, 262, 271, 450, 451, 452, 453, 454, 455, 456, 457, 458, 459, 460, 461, 642, 643, 644, 645, 646, 647, 648, 649, 650, 651, 652, 653, 519, 127, 533, 90, 524, 514, 542, 535, 529, 540, 515, 546],\n    [0, 16, 2, 17, 158, 250, 251, 252, 159, 253, 254, 255, 100, 101, 75, 74, 370, 371, 188, 372, 373, 374, 375, 189, 1, 52, 6, 34, 168, 294, 295, 296, 169, 297, 298, 299, 122, 123, 89, 88, 475, 476, 204, 474, 479, 478, 477, 205, 29, 21, 15, 30, 280, 281, 282, 283, 284, 285, 286, 287, 116, 117, 83, 82, 376, 377, 224, 378, 379, 380, 381, 225, 53, 54, 9, 42, 300, 301, 302, 303, 304, 305, 306, 307, 128, 129, 91, 90, 513, 514, 212, 512, 517, 516, 515, 213],\n    [0, 20, 13, 19, 158, 273, 266, 259, 159, 261, 278, 271, 462, 463, 464, 465, 466, 467, 468, 469, 470, 471, 472, 473, 1, 59, 14, 41, 168, 325, 318, 311, 169, 313, 330, 323, 551, 550, 553, 552, 556, 557, 554, 555, 561, 560, 559, 558, 29, 31, 32, 33, 280, 288, 289, 290, 284, 291, 292, 293, 450, 415, 440, 429, 454, 431, 420, 445, 458, 447, 436, 425, 53, 63, 36, 35, 300, 364, 365, 366, 304, 367, 368, 369, 563, 562, 565, 564, 568, 569, 566, 567, 573, 572, 571, 570],\n    [0, 16],\n    [0, 18],\n    [0, 16, 26, 20],\n    [0, 2, 23, 13],\n    [0, 3, 4, 32],\n    [0, 2, 29, 15],\n    [0, 3, 29, 27],\n    [0, 52],\n    [0, 63],\n    [0, 52, 26, 59],\n    [0, 63, 26, 54],\n    [0, 52, 16, 1],\n    [0, 18, 1, 61],\n    [0, 52, 16, 1, 26, 59, 20, 65],\n    [0, 31, 1, 63],\n    [0, 1, 24, 62],\n    [0, 15, 1, 9],\n    // X,Y,Z\n    // -X+1/2,Y+1/2,-Z+1/2\n    // -X,-Y,-Z\n    // X+1/2,-Y+1/2,Z+1/2\n    [0, 5, 1, 8],\n    // X,Y,Z\n    // -X+1/2,Y+1/2,-Z\n    // -X,-Y,-Z\n    // X+1/2,-Y+1/2,Z\n    [0, 31, 1, 63, 26, 21, 65, 54],\n    [0, 2, 57, 56],\n    [0, 60, 3, 16],\n    [0, 22, 57, 3],\n    [0, 2, 28, 20],\n    [0, 17, 13, 24],\n    [0, 20, 19, 13, 4, 24, 17, 27],\n    [0, 22, 57, 3, 4, 16, 60, 32],\n    [0, 22, 57, 3, 23, 20, 30, 12, 26, 24, 33, 15, 4, 16, 60, 32],\n    [0, 22, 57, 3, 29, 18, 27, 25],\n    [0, 22, 3, 57, 1, 55, 10, 37],\n    [0, 22, 385, 396, 3, 57, 109, 117],\n    [0, 22, 57, 3, 159, 279, 654, 655, 158, 274, 656, 657, 29, 18, 25, 27, 284, 658, 262, 269, 280, 659, 257, 267],\n];\nexport var SpacegroupNameToIndexMap = {\n    'P 1': 0,\n    'P -1': 1,\n    'P 1 2 1': 2,\n    'P 1 21 1': 3,\n    'C 1 2 1': 4,\n    'P 1 m 1': 5,\n    'P 1 c 1': 6,\n    'C 1 m 1': 7,\n    'C 1 c 1': 8,\n    'P 1 2/m 1': 9,\n    'P 1 21/m 1': 10,\n    'C 1 2/m 1': 11,\n    'P 1 2/c 1': 12,\n    'P 1 21/c 1': 13,\n    'C 1 2/c 1': 14,\n    'P 2 2 2': 15,\n    'P 2 2 21': 16,\n    'P 21 21 2': 17,\n    'P 21 21 21': 18,\n    'C 2 2 21': 19,\n    'C 2 2 2': 20,\n    'F 2 2 2': 21,\n    'I 2 2 2': 22,\n    'I 21 21 21': 23,\n    'P m m 2': 24,\n    'P m c 21': 25,\n    'P c c 2': 26,\n    'P m a 2': 27,\n    'P c a 21': 28,\n    'P n c 2': 29,\n    'P m n 21': 30,\n    'P b a 2': 31,\n    'P n a 21': 32,\n    'P n n 2': 33,\n    'C m m 2': 34,\n    'C m c 21': 35,\n    'C c c 2': 36,\n    'A m m 2': 37,\n    'A b m 2': 38,\n    'A m a 2': 39,\n    'A b a 2': 40,\n    'F m m 2': 41,\n    'F d d 2': 42,\n    'I m m 2': 43,\n    'I b a 2': 44,\n    'I m a 2': 45,\n    'P 2/m 2/m 2/m': 46,\n    'P m m m': 46,\n    'P 2/n 2/n 2/n': 47,\n    'P n n n': 47,\n    'P 2/c 2/c 2/m': 48,\n    'P c c m': 48,\n    'P 2/b 2/a 2/n': 49,\n    'P b a n': 49,\n    'P 21/m 2/m 2/a': 50,\n    'P m m a': 50,\n    'P 2/n 21/n 2/a': 51,\n    'P n n a': 51,\n    'P 2/m 2/n 21/a': 52,\n    'P m n a': 52,\n    'P 21/c 2/c 2/a': 53,\n    'P c c a': 53,\n    'P 21/b 21/a 2/m': 54,\n    'P b a m': 54,\n    'P 21/c 21/c 2/n': 55,\n    'P c c n': 55,\n    'P 2/b 21/c 21/m': 56,\n    'P b c m': 56,\n    'P 21/n 21/n 2/m': 57,\n    'P n n m': 57,\n    'P 21/m 21/m 2/n': 58,\n    'P m m n': 58,\n    'P 21/b 2/c 21/n': 59,\n    'P b c n': 59,\n    'P 21/b 21/c 21/a': 60,\n    'P b c a': 60,\n    'P 21/n 21/m 21/a': 61,\n    'P n m a': 61,\n    'C 2/m 2/c 21/m': 62,\n    'C m c m': 62,\n    'C 2/m 2/c 21/a': 63,\n    'C m c a': 63,\n    'C 2/m 2/m 2/m': 64,\n    'C m m m': 64,\n    'C 2/c 2/c 2/m': 65,\n    'C c c m': 65,\n    'C 2/m 2/m 2/a': 66,\n    'C m m a': 66,\n    'C 2/c 2/c 2/a': 67,\n    'C c c a': 67,\n    'F 2/m 2/m 2/m': 68,\n    'F m m m': 68,\n    'F 2/d 2/d 2/d': 69,\n    'F d d d': 69,\n    'I 2/m 2/m 2/m': 70,\n    'I m m m': 70,\n    'I 2/b 2/a 2/m': 71,\n    'I b a m': 71,\n    'I 21/b 21/c 21/a': 72,\n    'I b c a': 72,\n    'I 21/m 21/m 21/a': 73,\n    'I m m a': 73,\n    'P 4': 74,\n    'P 41': 75,\n    'P 42': 76,\n    'P 43': 77,\n    'I 4': 78,\n    'I 41': 79,\n    'P -4': 80,\n    'I -4': 81,\n    'P 4/m': 82,\n    'P 42/m': 83,\n    'P 4/n': 84,\n    'P 42/n': 85,\n    'I 4/m': 86,\n    'I 41/a': 87,\n    'P 4 2 2': 88,\n    'P 4 21 2': 89,\n    'P 41 2 2': 90,\n    'P 41 21 2': 91,\n    'P 42 2 2': 92,\n    'P 42 21 2': 93,\n    'P 43 2 2': 94,\n    'P 43 21 2': 95,\n    'I 4 2 2': 96,\n    'I 41 2 2': 97,\n    'P 4 m m': 98,\n    'P 4 b m': 99,\n    'P 42 c m': 100,\n    'P 42 n m': 101,\n    'P 4 c c': 102,\n    'P 4 n c': 103,\n    'P 42 m c': 104,\n    'P 42 b c': 105,\n    'I 4 m m': 106,\n    'I 4 c m': 107,\n    'I 41 m d': 108,\n    'I 41 c d': 109,\n    'P -4 2 m': 110,\n    'P -4 2 c': 111,\n    'P -4 21 m': 112,\n    'P -4 21 c': 113,\n    'P -4 m 2': 114,\n    'P -4 c 2': 115,\n    'P -4 b 2': 116,\n    'P -4 n 2': 117,\n    'I -4 m 2': 118,\n    'I -4 c 2': 119,\n    'I -4 2 m': 120,\n    'I -4 2 d': 121,\n    'P 4/m 2/m 2/m': 122,\n    'P4/m m m': 122,\n    'P 4/m 2/c 2/c': 123,\n    'P4/m c c': 123,\n    'P 4/n 2/b 2/m': 124,\n    'P4/n b m': 124,\n    'P 4/n 2/n 2/c': 125,\n    'P4/n n c': 125,\n    'P 4/m 21/b 2/m': 126,\n    'P4/m b m': 126,\n    'P 4/m 21/n 2/c': 127,\n    'P4/m n c': 127,\n    'P 4/n 21/m 2/m': 128,\n    'P4/n m m': 128,\n    'P 4/n 2/c 2/c': 129,\n    'P4/n c c': 129,\n    'P 42/m 2/m 2/c': 130,\n    'P42/m m c': 130,\n    'P 42/m 2/c 2/m': 131,\n    'P42/m c m': 131,\n    'P 42/n 2/b 2/c': 132,\n    'P42/n b c': 132,\n    'P 42/n 2/n 2/m': 133,\n    'P42/n n m': 133,\n    'P 42/m 21/b 2/c': 134,\n    'P42/m b c': 134,\n    'P 42/m 21/n 2/m': 135,\n    'P42/m n m': 135,\n    'P 42/n 21/m 2/c': 136,\n    'P42/n m c': 136,\n    'P 42/n 21/c 2/m': 137,\n    'P42/n c m': 137,\n    'I 4/m 2/m 2/m': 138,\n    'I4/m m m': 138,\n    'I 4/m 2/c 2/m': 139,\n    'I4/m c m': 139,\n    'I 41/a 2/m 2/d': 140,\n    'I41/a m d': 140,\n    'I 41/a 2/c 2/d': 141,\n    'I41/a c d': 141,\n    'P 3': 142,\n    'P 31': 143,\n    'P 32': 144,\n    'H 3': 145,\n    'R 3': 146,\n    'P -3': 147,\n    'H -3': 148,\n    'R -3': 149,\n    'P 3 1 2': 150,\n    'P 3 2 1': 151,\n    'P 31 1 2': 152,\n    'P 31 2 1': 153,\n    'P 32 1 2': 154,\n    'P 32 2 1': 155,\n    'H 3 2': 156,\n    'R 3 2': 157,\n    'P 3 m 1': 158,\n    'P 3 1 m': 159,\n    'P 3 c 1': 160,\n    'P 3 1 c': 161,\n    'H 3 m': 162,\n    'R 3 m': 163,\n    'H 3 c': 164,\n    'R 3 c': 165,\n    'P -3 1 2/m': 166,\n    'P -3 1 m': 166,\n    'P -3 1 2/c': 167,\n    'P -3 1 c': 167,\n    'P -3 2/m 1': 168,\n    'P -3 m 1': 168,\n    'P -3 2/c 1': 169,\n    'P -3 c 1': 169,\n    'H -3 2/m': 170,\n    'H -3 m': 170,\n    'R -3 2/m': 171,\n    'R -3 m': 171,\n    'H -3 2/c': 172,\n    'H -3 c': 172,\n    'R -3 2/c': 173,\n    'R -3 c': 173,\n    'P 6': 174,\n    'P 61': 175,\n    'P 65': 176,\n    'P 62': 177,\n    'P 64': 178,\n    'P 63': 179,\n    'P -6': 180,\n    'P 6/m': 181,\n    'P 63/m': 182,\n    'P 6 2 2': 183,\n    'P 61 2 2': 184,\n    'P 65 2 2': 185,\n    'P 62 2 2': 186,\n    'P 64 2 2': 187,\n    'P 63 2 2': 188,\n    'P 6 m m': 189,\n    'P 6 c c': 190,\n    'P 63 c m': 191,\n    'P 63 m c': 192,\n    'P -6 m 2': 193,\n    'P -6 c 2': 194,\n    'P -6 2 m': 195,\n    'P -6 2 c': 196,\n    'P 6/m 2/m 2/m': 197,\n    'P 6/m m m': 197,\n    'P 6/m 2/c 2/c': 198,\n    'P 6/m c c': 198,\n    'P 63/m 2/c 2/m': 199,\n    'P 63/m c m': 199,\n    'P 63/m 2/m 2/c': 200,\n    'P 63/m m c': 200,\n    'P 2 3': 201,\n    'F 2 3': 202,\n    'I 2 3': 203,\n    'P 21 3': 204,\n    'I 21 3': 205,\n    'P 2/m -3': 206,\n    'P m -3': 206,\n    'P 2/n -3': 207,\n    'P n -3': 207,\n    'F 2/m -3': 208,\n    'F m -3': 208,\n    'F 2/d -3': 209,\n    'F d -3': 209,\n    'I 2/m -3': 210,\n    'I m -3': 210,\n    'P 21/a -3': 211,\n    'P a -3': 211,\n    'I 21/a -3': 212,\n    'I a -3': 212,\n    'P 4 3 2': 213,\n    'P 42 3 2': 214,\n    'F 4 3 2': 215,\n    'F 41 3 2': 216,\n    'I 4 3 2': 217,\n    'P 43 3 2': 218,\n    'P 41 3 2': 219,\n    'I 41 3 2': 220,\n    'P -4 3 m': 221,\n    'F -4 3 m': 222,\n    'I -4 3 m': 223,\n    'P -4 3 n': 224,\n    'F -4 3 c': 225,\n    'I -4 3 d': 226,\n    'P 4/m -3 2/m': 227,\n    'P m -3 m': 227,\n    'P 4/n -3 2/n': 228,\n    'P n -3 n': 228,\n    'P 42/m -3 2/n': 229,\n    'P m -3 n': 229,\n    'P 42/n -3 2/m': 230,\n    'P n -3 m': 230,\n    'F 4/m -3 2/m': 231,\n    'F m -3 m': 231,\n    'F 4/m -3 2/c': 232,\n    'F m -3 c': 232,\n    'F 41/d -3 2/m': 233,\n    'F d -3 m': 233,\n    'F 41/d -3 2/c': 234,\n    'F d -3 c': 234,\n    'I 4/m -3 2/m': 235,\n    'I m -3 m': 235,\n    'I 41/a -3 2/d': 236,\n    'I a -3 d': 236,\n    'P 1 1 2': 237,\n    'P 1 1 21': 238,\n    'B 1 1 2': 239,\n    'B 2': 239,\n    'A 1 2 1': 240,\n    'C 1 21 1': 241,\n    'I 1 2 1': 242,\n    'I 2': 242,\n    'I 1 21 1': 243,\n    'P 1 1 m': 244,\n    'P 1 1 b': 245,\n    'B 1 1 m': 246,\n    'B 1 1 b': 247,\n    'P 1 1 2/m': 248,\n    'P 1 1 21/m': 249,\n    'B 1 1 2/m': 250,\n    'P 1 1 2/b': 251,\n    'P 1 1 21/b': 252,\n    'P 1 21/n 1': 253,\n    'P 1 21/a 1': 254,\n    'B 1 1 2/b': 255,\n    'P 21 2 2': 256,\n    'P 2 21 2': 257,\n    'P 21 21 2 (a)': 258,\n    'P 21 2 21': 259,\n    'P 2 21 21': 260,\n    'C 2 2 21a)': 261,\n    'C 2 2 2a': 262,\n    'F 2 2 2a': 263,\n    'I 2 2 2a': 264,\n    'P 21/m 21/m 2/n a': 265,\n    'P 42 21 2a': 266,\n    'I 2 3a': 267,\n};\nexport function getSpacegroupIndexFromNumber(num) {\n    // 38 spacegroup variants as given CCP4s symop.lib\n    switch (num) {\n        case 1146: return 146;\n        case 1148: return 149;\n        case 1155: return 157;\n        case 1160: return 163;\n        case 1161: return 165;\n        case 1166: return 171;\n        case 1167: return 173;\n        case 1003: return 237; // 'P 1 1 2'  !(dyad along z)\n        case 1004: return 238; // 'P 1 1 21'  !(unique axis c)\n        case 1005: return 239; // 'B 1 1 2' 'B 2'\n        case 2005: return 240; // 'A 1 2 1'\n        case 3005: return 241; // 'C 1 21 1' ! (Origin on screw at 1/4X)\n        case 4005: return 242; // 'I 1 2 1' 'I 2' !!! GJK @ 2003-06-02\n        case 5005: return 243; // 'I 1 21 1'\n        case 1006: return 244; // 'P 1 1 m'\n        case 1007: return 245; // 'P 1 1 b'\n        case 1008: return 246; // 'B 1 1 m'\n        case 1009: return 247; // 'B 1 1 b'\n        case 1010: return 248; // 'P 1 1 2/m'\n        case 1011: return 249; // 'P 1 1 21/m'\n        case 1012: return 250; // 'B 1 1 2/m'\n        case 1013: return 251; // 'P 1 1 2/b'\n        case 1014: return 252; // 'P 1 1 21/b'\n        case 2014: return 253; // 'P 1 21/n 1'\n        case 3014: return 254; // 'P 1 21/a 1'\n        case 1015: return 255; // 'B 1 1 2/b'\n        case 1017: return 256; // 'P 21 2 2' !(unique axis a)\n        case 2017: return 257; // 'P 2 21 2' !(unique axis b)\n        case 1018: return 258; // 'P 21 21 2 (a)' ! origin on 21 21, shift (1/4,1/4,0)\n        case 2018: return 259; // 'P 21 2 21'  !(unique axis b)\n        case 3018: return 260; // 'P 2 21 21'  !(unique axis a)\n        case 1020: return 261; // 'C 2 2 21a)' ! P212121 with C centring, shift(1/4,0,0)\n        case 1021: return 262; // 'C 2 2 2a'  ! C21212a origin on 21 21\n        case 1022: return 263; // 'F 2 2 2a' ! same as 1018 with face centring  shift (1/4,0,0)\n        case 1023: return 264; // 'I 2 2 2a'  ! as 1018 with origin shift (1/4,1/4,1/4)\n        case 1059: return 265; // 'P 21/m 21/m 2/n a'\n        case 1094: return 266; // 'P 42 21 2a' ! (as P21212a) origin on 21 21 ie Shift 1/4,1/4,1/4\n        case 1197: return 267; // 'I 2 3a' ! Expansion of 1023 which is an expansion of 1018\n    }\n    var offset = 0;\n    if (num > 146)\n        ++offset;\n    if (num > 148)\n        ++offset;\n    if (num > 155)\n        ++offset;\n    if (num > 160)\n        ++offset;\n    if (num > 161)\n        ++offset;\n    if (num > 166)\n        ++offset;\n    if (num > 167)\n        ++offset;\n    return num - 1 + offset;\n}\nexport function getSpacegroupNumberFromIndex(idx) {\n    if (idx < 146)\n        return idx + 1;\n    if (idx === 146)\n        return 1146;\n    if (idx < 149)\n        return idx + 1 - 1;\n    if (idx === 149)\n        return 1148;\n    if (idx < 157)\n        return idx + 1 - 2;\n    if (idx === 157)\n        return 1155;\n    if (idx < 163)\n        return idx + 1 - 3;\n    if (idx === 163)\n        return 1160;\n    if (idx < 165)\n        return idx + 1 - 4;\n    if (idx === 165)\n        return 1161;\n    if (idx < 171)\n        return idx + 1 - 5;\n    if (idx === 171)\n        return 1166;\n    if (idx < 173)\n        return idx + 1 - 6;\n    if (idx === 173)\n        return 1167;\n    if (idx < 237)\n        return idx + 1 - 7;\n    if (idx === 237)\n        return 1003;\n    if (idx === 238)\n        return 1004;\n    if (idx === 239)\n        return 1005;\n    if (idx === 240)\n        return 2005;\n    if (idx === 241)\n        return 3005;\n    if (idx === 242)\n        return 4005;\n    if (idx === 243)\n        return 5005;\n    if (idx === 244)\n        return 1006;\n    if (idx === 245)\n        return 1007;\n    if (idx === 246)\n        return 1008;\n    if (idx === 247)\n        return 1009;\n    if (idx === 248)\n        return 1010;\n    if (idx === 249)\n        return 1011;\n    if (idx === 250)\n        return 1012;\n    if (idx === 251)\n        return 1013;\n    if (idx === 252)\n        return 1014;\n    if (idx === 253)\n        return 2014;\n    if (idx === 254)\n        return 3014;\n    if (idx === 255)\n        return 1015;\n    if (idx === 256)\n        return 1017;\n    if (idx === 257)\n        return 2017;\n    if (idx === 258)\n        return 1018;\n    if (idx === 259)\n        return 2018;\n    if (idx === 260)\n        return 3018;\n    if (idx === 261)\n        return 1020;\n    if (idx === 262)\n        return 1021;\n    if (idx === 263)\n        return 1022;\n    if (idx === 264)\n        return 1023;\n    if (idx === 265)\n        return 1059;\n    if (idx === 266)\n        return 1094;\n    if (idx === 267)\n        return 1197;\n    throw new Error(\"unknown spacegroup index '\".concat(idx, \"'\"));\n}\n/** Maps spacegroup index to Hermann-Mauguin spacegroup name */\nexport var SpacegroupName = (function () {\n    var names = Object.create(null);\n    for (var _i = 0, _a = Object.keys(SpacegroupNameToIndexMap); _i < _a.length; _i++) {\n        var n = _a[_i];\n        names[SpacegroupNameToIndexMap[n]] = n;\n    }\n    return names;\n}());\n/** Maps spacegroup index to spacegroup number from International Tables for Crystallography */\nexport var SpacegroupNumber = (function () {\n    var numbers = Object.create(null);\n    for (var _i = 0, _a = Object.keys(SpacegroupNameToIndexMap); _i < _a.length; _i++) {\n        var n = _a[_i];\n        var idx = SpacegroupNameToIndexMap[n];\n        numbers[idx] = getSpacegroupNumberFromIndex(idx);\n    }\n    return numbers;\n}());\n/** return -1 if the spacegroup does not exist */\nexport function getSpacegroupIndex(nameOrNumber) {\n    var index = typeof nameOrNumber === 'number'\n        ? getSpacegroupIndexFromNumber(nameOrNumber)\n        : SpacegroupNameToIndexMap[nameOrNumber];\n    if (typeof index === 'undefined' || typeof SpacegroupName[index] === 'undefined')\n        return -1;\n    return index;\n}\n","/**\n * Copyright (c) 2018-2020 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\nimport { Vec3, Mat4 } from '../../linear-algebra';\nimport { SpacegroupName, TransformData, GroupData, getSpacegroupIndex, OperatorData, SpacegroupNumber } from './tables';\nimport { SymmetryOperator } from '../../geometry';\nvar SpacegroupCell;\n(function (SpacegroupCell) {\n    /** Create a 'P 1' with cellsize [1, 1, 1] */\n    SpacegroupCell.Zero = create('P 1', Vec3.create(1, 1, 1), Vec3.create(Math.PI / 2, Math.PI / 2, Math.PI / 2));\n    /** True if 'P 1' with cellsize [1, 1, 1] */\n    function isZero(cell) {\n        if (!cell)\n            return true;\n        return cell.index === 0 && cell.size[0] === 1 && cell.size[1] === 1 && cell.size[1] === 1;\n    }\n    SpacegroupCell.isZero = isZero;\n    /** Returns Zero cell if the spacegroup does not exist */\n    function create(nameOrNumber, size, anglesInRadians) {\n        var index = getSpacegroupIndex(nameOrNumber);\n        if (index < 0) {\n            console.warn(\"Unknown spacegroup '\".concat(nameOrNumber, \"', returning a 'P 1' with cellsize [1, 1, 1]\"));\n            return SpacegroupCell.Zero;\n        }\n        var volume = size[0] * size[1] * size[2];\n        var alpha = anglesInRadians[0];\n        var beta = anglesInRadians[1];\n        var gamma = anglesInRadians[2];\n        var xScale = size[0], yScale = size[1], zScale = size[2];\n        var z1 = Math.cos(beta);\n        var z2 = (Math.cos(alpha) - Math.cos(beta) * Math.cos(gamma)) / Math.sin(gamma);\n        var z3 = Math.sqrt(1.0 - z1 * z1 - z2 * z2);\n        var x = [xScale, 0.0, 0.0];\n        var y = [Math.cos(gamma) * yScale, Math.sin(gamma) * yScale, 0.0];\n        var z = [z1 * zScale, z2 * zScale, z3 * zScale];\n        var fromFractional = Mat4.ofRows([\n            [x[0], y[0], z[0], 0],\n            [0, y[1], z[1], 0],\n            [0, 0, z[2], 0],\n            [0, 0, 0, 1.0]\n        ]);\n        var toFractional = Mat4.invert(Mat4.zero(), fromFractional);\n        return { index: index, size: size, volume: volume, anglesInRadians: anglesInRadians, toFractional: toFractional, fromFractional: fromFractional };\n    }\n    SpacegroupCell.create = create;\n})(SpacegroupCell || (SpacegroupCell = {}));\nvar Spacegroup;\n(function (Spacegroup) {\n    /** P1 with [1, 1, 1] cell */\n    Spacegroup.ZeroP1 = create(SpacegroupCell.Zero);\n    function create(cell) {\n        var operators = GroupData[cell.index].map(function (i) { return getOperatorMatrix(OperatorData[i]); });\n        var name = SpacegroupName[cell.index];\n        var num = SpacegroupNumber[cell.index];\n        return { name: name, num: num, cell: cell, operators: operators };\n    }\n    Spacegroup.create = create;\n    var _ijkVec = Vec3();\n    var _tempMat = Mat4();\n    function setOperatorMatrix(spacegroup, index, i, j, k, target) {\n        Vec3.set(_ijkVec, i, j, k);\n        Mat4.fromTranslation(_tempMat, _ijkVec);\n        return Mat4.mul(target, Mat4.mul(target, Mat4.mul(target, spacegroup.cell.fromFractional, _tempMat), spacegroup.operators[index]), spacegroup.cell.toFractional);\n    }\n    Spacegroup.setOperatorMatrix = setOperatorMatrix;\n    function getSymmetryOperator(spacegroup, spgrOp, i, j, k) {\n        var operator = setOperatorMatrix(spacegroup, spgrOp, i, j, k, Mat4.zero());\n        return SymmetryOperator.create(\"\".concat(spgrOp + 1, \"_\").concat(5 + i).concat(5 + j).concat(5 + k), operator, { hkl: Vec3.create(i, j, k), spgrOp: spgrOp });\n    }\n    Spacegroup.getSymmetryOperator = getSymmetryOperator;\n    var _translationRef = Vec3();\n    var _translationRefSymop = Vec3();\n    var _translationRefOffset = Vec3();\n    var _translationSymop = Vec3();\n    /**\n     * Get Symmetry operator for transformation around the given\n     * reference point `ref` in fractional coordinates\n     */\n    function getSymmetryOperatorRef(spacegroup, spgrOp, i, j, k, ref) {\n        var operator = Mat4.zero();\n        Vec3.set(_ijkVec, i, j, k);\n        Vec3.floor(_translationRef, ref);\n        Mat4.copy(operator, spacegroup.operators[spgrOp]);\n        Vec3.floor(_translationRefSymop, Vec3.transformMat4(_translationRefSymop, ref, operator));\n        Mat4.getTranslation(_translationSymop, operator);\n        Vec3.sub(_translationSymop, _translationSymop, _translationRefSymop);\n        Vec3.add(_translationSymop, _translationSymop, _translationRef);\n        Vec3.add(_translationSymop, _translationSymop, _ijkVec);\n        Mat4.setTranslation(operator, _translationSymop);\n        Mat4.mul(operator, spacegroup.cell.fromFractional, operator);\n        Mat4.mul(operator, operator, spacegroup.cell.toFractional);\n        Vec3.sub(_translationRefOffset, _translationRefSymop, _translationRef);\n        var _i = i - _translationRefOffset[0];\n        var _j = j - _translationRefOffset[1];\n        var _k = k - _translationRefOffset[2];\n        // const operator = setOperatorMatrixRef(spacegroup, spgrOp, i, j, k, ref, Mat4.zero());\n        return SymmetryOperator.create(\"\".concat(spgrOp + 1, \"_\").concat(5 + _i).concat(5 + _j).concat(5 + _k), operator, { hkl: Vec3.create(_i, _j, _k), spgrOp: spgrOp });\n    }\n    Spacegroup.getSymmetryOperatorRef = getSymmetryOperatorRef;\n    function getOperatorMatrix(ids) {\n        var r1 = TransformData[ids[0]];\n        var r2 = TransformData[ids[1]];\n        var r3 = TransformData[ids[2]];\n        return Mat4.ofRows([r1, r2, r3, [0, 0, 0, 1]]);\n    }\n    function getOperatorXyz(op) {\n        return [\n            formatElement(getRotation(op[0], op[4], op[8]), getShift(op[12])),\n            formatElement(getRotation(op[1], op[5], op[9]), getShift(op[13])),\n            formatElement(getRotation(op[2], op[6], op[10]), getShift(op[14]))\n        ].join(',');\n    }\n    Spacegroup.getOperatorXyz = getOperatorXyz;\n    function getRotation(x, y, z) {\n        var r = [];\n        if (x > 0)\n            r.push('+X');\n        else if (x < 0)\n            r.push('-X');\n        if (y > 0)\n            r.push('+Y');\n        else if (y < 0)\n            r.push('-Y');\n        if (z > 0)\n            r.push('+Z');\n        else if (z < 0)\n            r.push('-Z');\n        if (r.length === 1) {\n            return r[0].charAt(0) === '+' ? r[0].substr(1) : r[0];\n        }\n        if (r.length === 2) {\n            var s0 = r[0].charAt(0);\n            var s1 = r[1].charAt(0);\n            if (s0 === '+')\n                return \"\".concat(r[0].substr(1)).concat(r[1]);\n            if (s1 === '+')\n                return \"\".concat(r[1].substr(1)).concat(r[0]);\n        }\n        throw new Error(\"unknown rotation '\".concat(r, \"', \").concat(x, \" \").concat(y, \" \").concat(z));\n    }\n    function getShift(s) {\n        switch (s) {\n            case 1 / 2: return '1/2';\n            case 1 / 4: return '1/4';\n            case 3 / 4: return '3/4';\n            case 1 / 3: return '1/3';\n            case 2 / 3: return '2/3';\n            case 1 / 6: return '1/6';\n            case 5 / 6: return '5/6';\n        }\n        return '';\n    }\n    function formatElement(rotation, shift) {\n        if (shift === '')\n            return rotation;\n        if (rotation.length > 2)\n            return \"\".concat(rotation, \"+\").concat(shift);\n        return rotation.charAt(0) === '-' ? \"\".concat(shift).concat(rotation) : \"\".concat(shift, \"+\").concat(rotation);\n    }\n})(Spacegroup || (Spacegroup = {}));\nexport { Spacegroup, SpacegroupCell };\n","/**\n * Copyright (c) 2018-2019 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\nexport var Result;\n(function (Result) {\n    function add(result, index, distSq) {\n        result.squaredDistances[result.count] = distSq;\n        result.indices[result.count++] = index;\n    }\n    Result.add = add;\n    function reset(result) {\n        result.count = 0;\n    }\n    Result.reset = reset;\n    function create() {\n        return { count: 0, indices: [], squaredDistances: [] };\n    }\n    Result.create = create;\n    function copy(out, result) {\n        for (var i = 0; i < result.count; ++i) {\n            out.indices[i] = result.indices[i];\n            out.squaredDistances[i] = result.squaredDistances[i];\n        }\n        out.count = result.count;\n        return out;\n    }\n    Result.copy = copy;\n})(Result || (Result = {}));\n","/**\n * Copyright (c) 2017 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * from https://github.com/dsehnal/CIFTools.js\n * @author David Sehnal <david.sehnal@gmail.com>\n */\nvar ChunkedArray;\n(function (ChunkedArray) {\n    function is(x) {\n        return x.creator && x.chunkSize;\n    }\n    ChunkedArray.is = is;\n    function allocateNext(array) {\n        var nextSize = array.growBy * array.elementSize;\n        array.currentSize = nextSize;\n        array.currentIndex = 0;\n        array.currentChunk = new array.ctor(nextSize);\n        array.allocatedSize += nextSize;\n        array.chunks[array.chunks.length] = array.currentChunk;\n    }\n    function add4(array, x, y, z, w) {\n        if (array.currentIndex >= array.currentSize)\n            allocateNext(array);\n        var c = array.currentChunk;\n        var i = array.currentIndex;\n        c[i] = x;\n        c[i + 1] = y;\n        c[i + 2] = z;\n        c[i + 3] = w;\n        array.currentIndex += 4;\n        return array.elementCount++;\n    }\n    ChunkedArray.add4 = add4;\n    function add3(array, x, y, z) {\n        if (array.currentIndex >= array.currentSize)\n            allocateNext(array);\n        var c = array.currentChunk;\n        var i = array.currentIndex;\n        c[i] = x;\n        c[i + 1] = y;\n        c[i + 2] = z;\n        array.currentIndex += 3;\n        return array.elementCount++;\n    }\n    ChunkedArray.add3 = add3;\n    function add2(array, x, y) {\n        if (array.currentIndex >= array.currentSize)\n            allocateNext(array);\n        var c = array.currentChunk;\n        var i = array.currentIndex;\n        c[i] = x;\n        c[i + 1] = y;\n        array.currentIndex += 2;\n        return array.elementCount++;\n    }\n    ChunkedArray.add2 = add2;\n    function add(array, x) {\n        if (array.currentIndex >= array.currentSize)\n            allocateNext(array);\n        array.currentChunk[array.currentIndex] = x;\n        array.currentIndex += 1;\n        return array.elementCount++;\n    }\n    ChunkedArray.add = add;\n    function addRepeat(array, n, x) {\n        for (var i = 0; i < n; i++) {\n            if (array.currentIndex >= array.currentSize)\n                allocateNext(array);\n            array.currentChunk[array.currentIndex++] = x;\n            array.elementCount++;\n        }\n        return array.elementCount;\n    }\n    ChunkedArray.addRepeat = addRepeat;\n    function addMany(array, data) {\n        var elementSize = array.elementSize;\n        for (var i = 0, _i = data.length; i < _i; i += elementSize) {\n            if (array.currentIndex >= array.currentSize)\n                allocateNext(array);\n            var currentChunk = array.currentChunk;\n            for (var j = 0; j < elementSize; j++) {\n                currentChunk[array.currentIndex++] = data[i + j];\n            }\n            array.elementCount++;\n        }\n        return array.elementCount;\n    }\n    ChunkedArray.addMany = addMany;\n    /** If doNotResizeSingleton = true and the data fit into a single chunk, do not resize it. */\n    function compact(array, doNotResizeSingleton) {\n        if (doNotResizeSingleton === void 0) { doNotResizeSingleton = false; }\n        return _compact(array, doNotResizeSingleton);\n    }\n    ChunkedArray.compact = compact;\n    function _compact(array, doNotResizeSingleton) {\n        var ctor = array.ctor, chunks = array.chunks, currentIndex = array.currentIndex;\n        if (!chunks.length)\n            return new ctor(0);\n        if (chunks.length === 1) {\n            if (doNotResizeSingleton || currentIndex === array.allocatedSize) {\n                return chunks[0];\n            }\n        }\n        var size = 0;\n        for (var i = 0, _i = chunks.length - 1; i < _i; i++)\n            size += chunks[i].length;\n        size += array.currentIndex;\n        var ret = new ctor(size);\n        var offset = 0;\n        if (ret.buffer) {\n            for (var i = 0, _i = chunks.length - 1; i < _i; i++) {\n                ret.set(chunks[i], offset);\n                offset += chunks[i].length;\n            }\n        }\n        else {\n            for (var i = 0, _i = chunks.length - 1; i < _i; i++) {\n                var chunk = chunks[i];\n                for (var j = 0, _j = chunk.length; j < _j; j++)\n                    ret[offset + j] = chunk[j];\n                offset += chunk.length;\n            }\n        }\n        var lastChunk = chunks[chunks.length - 1];\n        if (ret.buffer && currentIndex >= array.currentSize) {\n            ret.set(lastChunk, offset);\n        }\n        else {\n            for (var j = 0, _j = lastChunk.length; j < _j; j++)\n                ret[offset + j] = lastChunk[j];\n        }\n        return ret;\n    }\n    ChunkedArray._compact = _compact;\n    /**\n     * The size of the initial chunk is elementSize * initialCount.\n     * Use the provided array as the initial chunk. The size of the array must be divisible by the elementSize.\n     */\n    function create(ctor, elementSize, chunkSize, initialChunkOrCount) {\n        var ret = {\n            ctor: ctor,\n            elementSize: elementSize,\n            growBy: Math.max(1, Math.ceil(chunkSize)),\n            allocatedSize: 0,\n            elementCount: 0,\n            currentSize: 0,\n            currentChunk: void 0,\n            currentIndex: 0,\n            chunks: []\n        };\n        if (typeof initialChunkOrCount === 'undefined')\n            return ret;\n        if (typeof initialChunkOrCount === 'number') {\n            ret.currentChunk = new ctor(initialChunkOrCount * elementSize);\n            ret.allocatedSize = initialChunkOrCount * elementSize;\n            ret.currentSize = ret.currentChunk.length;\n            ret.chunks[0] = ret.currentChunk;\n            return ret;\n        }\n        var initialChunk = initialChunkOrCount;\n        if (initialChunk.length % elementSize !== 0)\n            throw new Error('initialChunk length must be a multiple of the element size.');\n        ret.currentChunk = initialChunk;\n        ret.allocatedSize = initialChunk.length;\n        ret.currentSize = initialChunk.length;\n        ret.chunks[0] = initialChunk;\n        return ret;\n    }\n    ChunkedArray.create = create;\n})(ChunkedArray || (ChunkedArray = {}));\nexport { ChunkedArray };\n","/**\n * Copyright (c) 2017 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n */\nexport function arrayLess(arr, i, j) {\n    return arr[i] - arr[j];\n}\nexport function arraySwap(arr, i, j) {\n    var temp = arr[i];\n    arr[i] = arr[j];\n    arr[j] = temp;\n}\nfunction medianPivotIndex(data, cmp, l, r) {\n    var m = (l + r) >> 1;\n    if (cmp(data, l, r) > 0)\n        return cmp(data, l, m) > 0 ? cmp(data, m, r) > 0 ? m : r : l;\n    else\n        return cmp(data, r, m) > 0 ? cmp(data, m, l) > 0 ? m : l : r;\n}\nfunction partition(ctx, l, r) {\n    var cmp = ctx.cmp, swap = ctx.swap, data = ctx.data, parts = ctx.parts;\n    var equals = l + 1, tail = r;\n    // move the median to the 1st spot\n    swap(data, l, medianPivotIndex(data, cmp, l, r));\n    while (cmp(data, tail, l) > 0) {\n        --tail;\n    }\n    for (var i = l + 1; i <= tail; i++) {\n        var c = cmp(data, i, l);\n        if (c > 0) {\n            swap(data, i, tail);\n            --tail;\n            while (cmp(data, tail, l) > 0) {\n                --tail;\n            }\n            i--;\n        }\n        else if (c === 0) {\n            swap(data, i, equals);\n            equals++;\n        }\n    }\n    // move the medians to the correct spots\n    for (var i = l; i < equals; i++) {\n        swap(data, i, l + tail - i);\n    }\n    parts[0] = tail - equals + l + 1;\n    parts[1] = tail;\n}\nfunction insertionSort(_a, start, end) {\n    var data = _a.data, cmp = _a.cmp, swap = _a.swap;\n    for (var i = start + 1; i <= end; i++) {\n        var j = i - 1;\n        while (j >= start && cmp(data, j, j + 1) > 0) {\n            swap(data, j, j + 1);\n            j = j - 1;\n        }\n    }\n}\nfunction quickSort(ctx, low, high) {\n    var parts = ctx.parts;\n    while (low < high) {\n        if (high - low < 16) {\n            insertionSort(ctx, low, high);\n            return;\n        }\n        partition(ctx, low, high);\n        var li = parts[0], ri = parts[1];\n        if (li - low < high - ri) {\n            quickSort(ctx, low, li - 1);\n            low = ri + 1;\n        }\n        else {\n            quickSort(ctx, ri + 1, high);\n            high = li - 1;\n        }\n    }\n}\nfunction partitionArrayAsc(data, parts, l, r) {\n    var equals = l + 1, tail = r;\n    // move the median to the 1st spot\n    arraySwap(data, l, medianPivotIndex(data, arrayLess, l, r));\n    var pivot = data[l];\n    while (data[tail] > pivot) {\n        --tail;\n    }\n    for (var i = l + 1; i <= tail; i++) {\n        var v = data[i];\n        if (v > pivot) {\n            arraySwap(data, i, tail);\n            --tail;\n            while (data[tail] > pivot) {\n                --tail;\n            }\n            i--;\n        }\n        else if (v === pivot) {\n            arraySwap(data, i, equals);\n            ++equals;\n        }\n    }\n    // move all medians to the correct spots\n    for (var i = l; i < equals; i++) {\n        arraySwap(data, i, l + tail - i);\n    }\n    parts[0] = tail - equals + l + 1;\n    parts[1] = tail;\n}\nfunction insertionSortArrayAsc(data, start, end) {\n    for (var i = start + 1; i <= end; i++) {\n        var key = data[i];\n        var j = i - 1;\n        while (j >= start && data[j] > key) {\n            data[j + 1] = data[j];\n            j = j - 1;\n        }\n        data[j + 1] = key;\n    }\n}\nfunction quickSortArrayAsc(data, parts, low, high) {\n    while (low < high) {\n        if (high - low < 16) {\n            insertionSortArrayAsc(data, low, high);\n            return;\n        }\n        partitionArrayAsc(data, parts, low, high);\n        var li = parts[0], ri = parts[1];\n        if (li - low < high - ri) {\n            quickSortArrayAsc(data, parts, low, li - 1);\n            low = ri + 1;\n        }\n        else {\n            quickSortArrayAsc(data, parts, ri + 1, high);\n            high = li - 1;\n        }\n    }\n}\nexport function sortArray(data, cmp) {\n    if (cmp === void 0) { cmp = arrayLess; }\n    return sortArrayRange(data, 0, data.length, cmp);\n}\nexport function sortArrayRange(data, start, end, cmp) {\n    if (cmp === void 0) { cmp = arrayLess; }\n    if (cmp === arrayLess)\n        quickSortArrayAsc(data, [0, 0], start, end - 1);\n    else\n        quickSort({ data: data, cmp: cmp, swap: arraySwap, parts: [0, 0] }, start, end - 1);\n    return data;\n}\nexport function sort(data, start, end, cmp, swap) {\n    var ctx = { data: data, cmp: cmp, swap: swap, parts: [0, 0] };\n    quickSort(ctx, start, end - 1);\n    return data;\n}\n","/**\n * Copyright (c) 2018 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n */\nimport { sort, arraySwap } from './sort';\nfunction sortAsc(bs, i, j) { return bs[i].key < bs[j].key ? -1 : 1; }\nfunction _makeBuckets(indices, getKey, sortBuckets, start, end) {\n    var buckets = new Map();\n    var bucketList = [];\n    var prevKey = getKey(indices[0]);\n    var isBucketed = true;\n    for (var i = start; i < end; i++) {\n        var key = getKey(indices[i]);\n        if (buckets.has(key)) {\n            buckets.get(key).count++;\n            if (prevKey !== key)\n                isBucketed = false;\n        }\n        else {\n            var bucket = { key: key, count: 1, offset: i };\n            buckets.set(key, bucket);\n            bucketList[bucketList.length] = bucket;\n        }\n        prevKey = key;\n    }\n    var bucketOffsets = new Int32Array(bucketList.length + 1);\n    bucketOffsets[bucketList.length] = end;\n    var sorted = true;\n    if (sortBuckets) {\n        for (var i = 1, _i = bucketList.length; i < _i; i++) {\n            if (bucketList[i - 1].key > bucketList[i].key) {\n                sorted = false;\n                break;\n            }\n        }\n    }\n    if (isBucketed && sorted) {\n        for (var i = 0; i < bucketList.length; i++)\n            bucketOffsets[i] = bucketList[i].offset;\n        return bucketOffsets;\n    }\n    if (sortBuckets && !sorted) {\n        sort(bucketList, 0, bucketList.length, sortAsc, arraySwap);\n    }\n    var offset = 0;\n    for (var i = 0; i < bucketList.length; i++) {\n        var b = bucketList[i];\n        b.offset = offset;\n        offset += b.count;\n    }\n    var reorderedIndices = new Int32Array(end - start);\n    for (var i = start; i < end; i++) {\n        var key = getKey(indices[i]);\n        var bucket = buckets.get(key);\n        reorderedIndices[bucket.offset++] = indices[i];\n    }\n    for (var i = 0, _i = reorderedIndices.length; i < _i; i++) {\n        indices[i + start] = reorderedIndices[i];\n    }\n    bucketOffsets[0] = start;\n    for (var i = 1; i < bucketList.length; i++)\n        bucketOffsets[i] = bucketList[i - 1].offset + start;\n    return bucketOffsets;\n}\n/**\n * Reorders indices so that the same keys are next to each other, [start, end)\n * Returns the offsets of buckets. So that [offsets[i], offsets[i + 1]) determines the range.\n */\nexport function makeBuckets(indices, getKey, options) {\n    var s = (options && options.start) || 0;\n    var e = (options && options.end) || indices.length;\n    if (e - s <= 0)\n        throw new Error('Can only bucket non-empty collections.');\n    return _makeBuckets(indices, getKey, !!(options && options.sort), s, e);\n}\n","/**\n * Copyright (c) 2017 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n */\nvar EquivalenceClassesImpl = /** @class */ (function () {\n    function EquivalenceClassesImpl(getHash, areEqual) {\n        this.getHash = getHash;\n        this.areEqual = areEqual;\n        this.id = 0;\n        this.byHash = new Map();\n        this.groups = [];\n    }\n    EquivalenceClassesImpl.prototype.createGroup = function (key, value) {\n        var id = this.id++;\n        var keys = [key];\n        this.groups[id] = keys;\n        return { id: id, keys: keys, value: value };\n    };\n    // Return the group representative.\n    EquivalenceClassesImpl.prototype.add = function (key, a) {\n        var hash = this.getHash(a);\n        if (this.byHash.has(hash)) {\n            var groups = this.byHash.get(hash);\n            for (var i = 0, _i = groups.length; i < _i; i++) {\n                var group_1 = groups[i];\n                if (this.areEqual(a, group_1.value)) {\n                    group_1.keys[group_1.keys.length] = key;\n                    return group_1.value;\n                }\n            }\n            var group = this.createGroup(key, a);\n            groups[groups.length] = group;\n            return group.value;\n        }\n        else {\n            var group = this.createGroup(key, a);\n            this.byHash.set(hash, [group]);\n            return group.value;\n        }\n    };\n    return EquivalenceClassesImpl;\n}());\nexport { EquivalenceClassesImpl };\nexport function EquivalenceClasses(getHash, areEqual) {\n    return new EquivalenceClassesImpl(getHash, areEqual);\n}\n","/**\n * Copyright (c) 2017-2021 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\n// from http://burtleburtle.net/bob/hash/integer.html\nexport function hash1(i) {\n    var a = i ^ (i >> 4);\n    a = (a ^ 0xdeadbeef) + (a << 5);\n    a = a ^ (a >> 11);\n    return a;\n}\nexport function hash2(i, j) {\n    var a = 23;\n    a = (31 * a + i) | 0;\n    a = (31 * a + j) | 0;\n    a = a ^ (a >> 4);\n    a = (a ^ 0xdeadbeef) + (a << 5);\n    a = a ^ (a >> 11);\n    return a;\n}\nexport function hash3(i, j, k) {\n    var a = 23;\n    a = (31 * a + i) | 0;\n    a = (31 * a + j) | 0;\n    a = (31 * a + k) | 0;\n    a = a ^ (a >> 4);\n    a = (a ^ 0xdeadbeef) + (a << 5);\n    a = a ^ (a >> 11);\n    return a;\n}\nexport function hash4(i, j, k, l) {\n    var a = 23;\n    a = (31 * a + i) | 0;\n    a = (31 * a + j) | 0;\n    a = (31 * a + k) | 0;\n    a = (31 * a + l) | 0;\n    a = a ^ (a >> 4);\n    a = (a ^ 0xdeadbeef) + (a << 5);\n    a = a ^ (a >> 11);\n    return a;\n}\nexport function hashString(s) {\n    var h = 0;\n    for (var i = 0, l = s.length; i < l; i++) {\n        h = (h << 5) - h + s.charCodeAt(i++) | 0;\n    }\n    return h;\n}\n/**\n * A unique number for each pair of integers\n * Biggest representable pair is (67108863, 67108863) (limit imposed by Number.MAX_SAFE_INTEGER)\n */\nexport function cantorPairing(a, b) {\n    return (a + b) * (a + b + 1) / 2 + b;\n}\n/**\n * A unique number for each sorted pair of integers\n * Biggest representable pair is (67108863, 67108863) (limit imposed by Number.MAX_SAFE_INTEGER)\n */\nexport function sortedCantorPairing(a, b) {\n    return a < b ? cantorPairing(a, b) : cantorPairing(b, a);\n}\nexport function invertCantorPairing(out, z) {\n    var w = Math.floor((Math.sqrt(8 * z + 1) - 1) / 2);\n    var t = (w * w + w) / 2;\n    var y = z - t;\n    out[0] = w - y;\n    out[1] = y;\n    return out;\n}\n/**\n * 32 bit FNV-1a hash, see http://isthe.com/chongo/tech/comp/fnv/\n */\nexport function hashFnv32a(array) {\n    var hval = 0x811c9dc5;\n    for (var i = 0, il = array.length; i < il; ++i) {\n        hval ^= array[i];\n        hval += (hval << 1) + (hval << 4) + (hval << 7) + (hval << 8) + (hval << 24);\n    }\n    return hval >>> 0;\n}\n","/**\n * Copyright (c) 2017 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n */\nexport function getArrayBounds(rowCount, params) {\n    var start = params && typeof params.start !== 'undefined' ? Math.max(Math.min(params.start, rowCount - 1), 0) : 0;\n    var end = params && typeof params.end !== 'undefined' ? Math.min(params.end, rowCount) : rowCount;\n    return { start: start, end: end };\n}\nexport function createArray(rowCount, params) {\n    var c = params && typeof params.array !== 'undefined' ? params.array : Array;\n    var _a = getArrayBounds(rowCount, params), start = _a.start, end = _a.end;\n    return { array: new c(end - start), start: start, end: end };\n}\nexport function fillArrayValues(value, target, start) {\n    for (var i = 0, _e = target.length; i < _e; i++)\n        target[i] = value(start + i);\n    return target;\n}\nexport function createAndFillArray(rowCount, value, params) {\n    var _a = createArray(rowCount, params), array = _a.array, start = _a.start;\n    return fillArrayValues(value, array, start);\n}\nexport function isTypedArray(data) {\n    return !!data.buffer && typeof data.byteLength === 'number' && typeof data.BYTES_PER_ELEMENT === 'number';\n}\nexport function typedArrayWindow(data, params) {\n    var constructor = data.constructor, buffer = data.buffer, length = data.length, byteOffset = data.byteOffset, BYTES_PER_ELEMENT = data.BYTES_PER_ELEMENT;\n    var _a = getArrayBounds(length, params), start = _a.start, end = _a.end;\n    if (start === 0 && end === length)\n        return data;\n    return new constructor(buffer, byteOffset + BYTES_PER_ELEMENT * start, Math.min(length, end - start));\n}\n","/**\n * Copyright (c) 2017-2020 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n *\n * based in part on https://github.com/dsehnal/CIFTools.js\n */\n/**\n * Efficient integer and float parsers.\n *\n * For the purposes of parsing numbers from the mmCIF data representations,\n * up to 4 times faster than JS parseInt/parseFloat.\n */\nexport function parseIntSkipLeadingWhitespace(str, start, end) {\n    while (start < end && str.charCodeAt(start) === 32)\n        start++;\n    return parseInt(str, start, end);\n}\nexport function parseInt(str, start, end) {\n    var _start = start, ret = 0, neg = 1;\n    if (str.charCodeAt(_start) === 45 /* - */) {\n        neg = -1;\n        ++_start;\n    }\n    else if (str.charCodeAt(_start) === 43 /* + */) {\n        ++_start;\n    }\n    for (; _start < end; _start++) {\n        var c = str.charCodeAt(_start) - 48;\n        if (c > 9 || c < 0)\n            return (neg * ret) | 0;\n        else\n            ret = (10 * ret + c) | 0;\n    }\n    return neg * ret;\n}\nfunction parseScientific(main, str, start, end) {\n    // handle + in '1e+1' separately.\n    if (str.charCodeAt(start) === 43 /* + */)\n        start++;\n    return main * Math.pow(10.0, parseInt(str, start, end));\n}\nexport function parseFloatSkipLeadingWhitespace(str, start, end) {\n    while (start < end && str.charCodeAt(start) === 32)\n        start++;\n    return parseFloat(str, start, end);\n}\nexport function parseFloat(str, start, end) {\n    var _start = start, neg = 1.0, ret = 0.0, point = 0.0, div = 1.0;\n    if (str.charCodeAt(_start) === 45 /* - */) {\n        neg = -1;\n        ++_start;\n    }\n    else if (str.charCodeAt(_start) === 43 /* + */) {\n        ++_start;\n    }\n    while (_start < end) {\n        var c = str.charCodeAt(_start) - 48;\n        if (c >= 0 && c < 10) {\n            ret = ret * 10 + c;\n            ++_start;\n        }\n        else if (c === -2) { // .\n            ++_start;\n            while (_start < end) {\n                c = str.charCodeAt(_start) - 48;\n                if (c >= 0 && c < 10) {\n                    point = 10.0 * point + c;\n                    div = 10.0 * div;\n                    ++_start;\n                }\n                else if (c === 53 || c === 21) { // 'e'/'E'\n                    return parseScientific(neg * (ret + point / div), str, _start + 1, end);\n                }\n                else {\n                    return neg * (ret + point / div);\n                }\n            }\n            return neg * (ret + point / div);\n        }\n        else if (c === 53 || c === 21) { // 'e'/'E'\n            return parseScientific(neg * ret, str, _start + 1, end);\n        }\n        else {\n            break;\n        }\n    }\n    return neg * ret;\n}\nexport var NumberType = {\n    Int: 0 /* NumberTypes.Int */,\n    Float: 1 /* NumberTypes.Float */,\n    Scientific: 2 /* NumberTypes.Scientific */,\n    NaN: 3 /* NumberTypes.NaN */\n};\nfunction isInt(str, start, end) {\n    if (str.charCodeAt(start) === 45 /* - */) {\n        start++;\n    }\n    for (; start < end; start++) {\n        var c = str.charCodeAt(start) - 48;\n        if (c > 9 || c < 0)\n            return false;\n    }\n    return true;\n}\n// TODO: check for \"scientific integers?\"\nfunction getNumberTypeScientific(str, start, end) {\n    // handle + in '1e+1' separately.\n    if (str.charCodeAt(start) === 43 /* + */)\n        start++;\n    return isInt(str, start, end) ? 2 /* NumberTypes.Scientific */ : 3 /* NumberTypes.NaN */;\n}\n/** The whole range must match, otherwise returns NaN */\nexport function getNumberType(str) {\n    var start = 0;\n    var end = str.length;\n    if (str.charCodeAt(start) === 45) { // -\n        ++start;\n    }\n    // string is . or -.\n    if (str.charCodeAt(start) === 46 && end - start === 1) {\n        return 3 /* NumberTypes.NaN */;\n    }\n    while (start < end) {\n        var c = str.charCodeAt(start) - 48;\n        if (c >= 0 && c < 10) {\n            ++start;\n        }\n        else if (c === -2) { // .\n            ++start;\n            var hasDigit = false;\n            while (start < end) {\n                c = str.charCodeAt(start) - 48;\n                if (c >= 0 && c < 10) {\n                    hasDigit = true;\n                    ++start;\n                }\n                else if (c === 53 || c === 21) { // 'e'/'E'\n                    return getNumberTypeScientific(str, start + 1, end);\n                }\n                else {\n                    return 3 /* NumberTypes.NaN */;\n                }\n            }\n            return hasDigit ? 1 /* NumberTypes.Float */ : 0 /* NumberTypes.Int */;\n        }\n        else if (c === 53 || c === 21) { // 'e'/'E'\n            if (start === 0 || start === 1 && str.charCodeAt(0) === 45) {\n                return 3 /* NumberTypes.NaN */; // string starts with e/E or -e/-E\n            }\n            return getNumberTypeScientific(str, start + 1, end);\n        }\n        else {\n            break;\n        }\n    }\n    return start === end ? 0 /* NumberTypes.Int */ : 3 /* NumberTypes.NaN */;\n}\n","/**\n * Copyright (c) 2017-2022 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\nimport * as ColumnHelpers from './column-helpers';\nimport { Tensor as Tensors } from '../../mol-math/linear-algebra';\nimport { parseInt as fastParseInt, parseFloat as fastParseFloat } from '../../mol-io/reader/common/text/number-parser';\nvar Column;\n(function (Column) {\n    var Schema;\n    (function (Schema) {\n        // T also serves as a default value for undefined columns\n        Schema.str = { '@type': 'str', T: '', valueType: 'str' };\n        Schema.ustr = { '@type': 'str', T: '', valueType: 'str', transform: 'uppercase' };\n        Schema.lstr = { '@type': 'str', T: '', valueType: 'str', transform: 'lowercase' };\n        Schema.int = { '@type': 'int', T: 0, valueType: 'int' };\n        Schema.coord = { '@type': 'coord', T: 0, valueType: 'float' };\n        Schema.float = { '@type': 'float', T: 0, valueType: 'float' };\n        function Str(options) { var _a; return { '@type': 'str', T: (_a = options === null || options === void 0 ? void 0 : options.defaultValue) !== null && _a !== void 0 ? _a : '', transform: options === null || options === void 0 ? void 0 : options.transform, valueType: 'str' }; }\n        Schema.Str = Str;\n        ;\n        function Int(defaultValue) {\n            if (defaultValue === void 0) { defaultValue = 0; }\n            return { '@type': 'int', T: defaultValue, valueType: 'int' };\n        }\n        Schema.Int = Int;\n        ;\n        function Float(defaultValue) {\n            if (defaultValue === void 0) { defaultValue = 0; }\n            return { '@type': 'float', T: defaultValue, valueType: 'float' };\n        }\n        Schema.Float = Float;\n        ;\n        function Tensor(space, baseType) {\n            if (baseType === void 0) { baseType = Schema.float; }\n            return { '@type': 'tensor', T: space.create(), space: space, valueType: 'tensor', baseType: baseType };\n        }\n        Schema.Tensor = Tensor;\n        function Vector(dim, baseType) {\n            if (baseType === void 0) { baseType = Schema.float; }\n            return Tensor(Tensors.Vector(dim, baseType['@type'] === 'int' ? Int32Array : Float64Array), baseType);\n        }\n        Schema.Vector = Vector;\n        function Matrix(rows, cols, baseType) {\n            if (baseType === void 0) { baseType = Schema.float; }\n            return Tensor(Tensors.ColumnMajorMatrix(rows, cols, baseType['@type'] === 'int' ? Int32Array : Float64Array), baseType);\n        }\n        Schema.Matrix = Matrix;\n        function Aliased(t) {\n            return t;\n        }\n        Schema.Aliased = Aliased;\n        function List(separator, itemParse, defaultValue) {\n            if (defaultValue === void 0) { defaultValue = []; }\n            return { '@type': 'list', T: defaultValue, separator: separator, itemParse: itemParse, valueType: 'list' };\n        }\n        Schema.List = List;\n    })(Schema = Column.Schema || (Column.Schema = {}));\n    function is(v) {\n        return !!v && !!v.schema && !!v.value;\n    }\n    Column.is = is;\n    Column.ValueKind = {\n        /** Defined value (= 0) */\n        Present: 0 /* ValueKinds.Present */,\n        /** Expressed in CIF as `.` (= 1) */\n        NotPresent: 1 /* ValueKinds.NotPresent */,\n        /** Expressed in CIF as `?` (= 2) */\n        Unknown: 2 /* ValueKinds.Unknown */\n    };\n    function Undefined(rowCount, schema) {\n        return constColumn(schema['T'], rowCount, schema, 1 /* ValueKinds.NotPresent */);\n    }\n    Column.Undefined = Undefined;\n    function ofConst(v, rowCount, type) {\n        return constColumn(v, rowCount, type, 0 /* ValueKinds.Present */);\n    }\n    Column.ofConst = ofConst;\n    function ofLambda(spec) {\n        return lambdaColumn(spec);\n    }\n    Column.ofLambda = ofLambda;\n    /** values [min, max] (i.e. include both values) */\n    function range(min, max) {\n        return ofLambda({\n            value: function (i) { return i + min; },\n            rowCount: Math.max(max - min + 1, 0),\n            schema: Schema.int\n        });\n    }\n    Column.range = range;\n    function ofArray(spec) {\n        return arrayColumn(spec);\n    }\n    Column.ofArray = ofArray;\n    function ofIntArray(array) {\n        return arrayColumn({ array: array, schema: Schema.int });\n    }\n    Column.ofIntArray = ofIntArray;\n    function ofFloatArray(array) {\n        return arrayColumn({ array: array, schema: Schema.float });\n    }\n    Column.ofFloatArray = ofFloatArray;\n    function ofStringArray(array) {\n        return arrayColumn({ array: array, schema: Schema.str });\n    }\n    Column.ofStringArray = ofStringArray;\n    function ofStringAliasArray(array) {\n        return arrayColumn({ array: array, schema: Schema.Aliased(Schema.str) });\n    }\n    Column.ofStringAliasArray = ofStringAliasArray;\n    function ofStringListArray(array, separator) {\n        if (separator === void 0) { separator = ','; }\n        return arrayColumn({ array: array, schema: Schema.List(separator, function (x) { return x; }) });\n    }\n    Column.ofStringListArray = ofStringListArray;\n    function ofIntTokens(tokens) {\n        var count = tokens.count, data = tokens.data, indices = tokens.indices;\n        return lambdaColumn({\n            value: function (row) { return fastParseInt(data, indices[2 * row], indices[2 * row + 1]) || 0; },\n            rowCount: count,\n            schema: Schema.int,\n        });\n    }\n    Column.ofIntTokens = ofIntTokens;\n    function ofFloatTokens(tokens) {\n        var count = tokens.count, data = tokens.data, indices = tokens.indices;\n        return lambdaColumn({\n            value: function (row) { return fastParseFloat(data, indices[2 * row], indices[2 * row + 1]) || 0; },\n            rowCount: count,\n            schema: Schema.float,\n        });\n    }\n    Column.ofFloatTokens = ofFloatTokens;\n    function ofStringTokens(tokens) {\n        var count = tokens.count, data = tokens.data, indices = tokens.indices;\n        return lambdaColumn({\n            value: function (row) {\n                var ret = data.substring(indices[2 * row], indices[2 * row + 1]);\n                if (ret === '.' || ret === '?')\n                    return '';\n                return ret;\n            },\n            rowCount: count,\n            schema: Schema.str,\n        });\n    }\n    Column.ofStringTokens = ofStringTokens;\n    function window(column, start, end) {\n        return windowColumn(column, start, end);\n    }\n    Column.window = window;\n    function view(column, indices, checkIndentity) {\n        if (checkIndentity === void 0) { checkIndentity = true; }\n        return columnView(column, indices, checkIndentity);\n    }\n    Column.view = view;\n    /** A map of the 1st occurence of each value. */\n    function createFirstIndexMap(column) {\n        return createFirstIndexMapOfColumn(column);\n    }\n    Column.createFirstIndexMap = createFirstIndexMap;\n    function createIndexer(column) {\n        return createIndexerOfColumn(column);\n    }\n    Column.createIndexer = createIndexer;\n    function mapToArray(column, f, ctor) {\n        return mapToArrayImpl(column, f, ctor || Array);\n    }\n    Column.mapToArray = mapToArray;\n    function areEqual(a, b) {\n        return areColumnsEqual(a, b);\n    }\n    Column.areEqual = areEqual;\n    function indicesOf(c, test) {\n        return columnIndicesOf(c, test);\n    }\n    Column.indicesOf = indicesOf;\n    /** Makes the column backed by an array. Useful for columns that are accessed often. */\n    function asArrayColumn(c, array) {\n        if (c.__array)\n            return c;\n        if (!c.isDefined)\n            return Undefined(c.rowCount, c.schema);\n        return arrayColumn({ array: c.toArray({ array: array }), schema: c.schema, valueKind: c.valueKind });\n    }\n    Column.asArrayColumn = asArrayColumn;\n    function copyToArray(c, array, offset) {\n        if (offset === void 0) { offset = 0; }\n        if (!c.isDefined)\n            return;\n        var cArray = c.__array;\n        if (cArray) {\n            for (var i = 0, _i = cArray.length; i < _i; i++)\n                array[offset + i] = cArray[i];\n        }\n        else {\n            for (var i = 0, _i = c.rowCount; i < _i; i++)\n                array[offset + i] = c.value(i);\n        }\n    }\n    Column.copyToArray = copyToArray;\n    function isIdentity(c) {\n        for (var i = 0, _i = c.rowCount; i < _i; i++) {\n            if (i !== c.value(i))\n                return false;\n        }\n        return true;\n    }\n    Column.isIdentity = isIdentity;\n})(Column || (Column = {}));\nexport { Column };\nfunction createFirstIndexMapOfColumn(c) {\n    var map = new Map();\n    for (var i = 0, _i = c.rowCount; i < _i; i++) {\n        var v = c.value(i);\n        if (!map.has(v))\n            map.set(c.value(i), i);\n    }\n    return map;\n}\nfunction createIndexerOfColumn(c) {\n    var map = new Map();\n    for (var i = 0, _i = c.rowCount; i < _i; i++) {\n        var v = c.value(i);\n        if (!map.has(v))\n            map.set(c.value(i), i);\n    }\n    return function (v) { return map.has(v) ? map.get(v) : -1; };\n}\nfunction constColumn(v, rowCount, schema, valueKind) {\n    var value = function (row) { return v; };\n    return {\n        schema: schema,\n        __array: void 0,\n        isDefined: valueKind === 0 /* Column.ValueKinds.Present */,\n        rowCount: rowCount,\n        value: value,\n        valueKind: function (row) { return valueKind; },\n        toArray: function (params) {\n            var array = ColumnHelpers.createArray(rowCount, params).array;\n            for (var i = 0, _i = array.length; i < _i; i++)\n                array[i] = v;\n            return array;\n        },\n        areValuesEqual: function (rowA, rowB) { return true; }\n    };\n}\nfunction lambdaColumn(_a) {\n    var value = _a.value, valueKind = _a.valueKind, areValuesEqual = _a.areValuesEqual, rowCount = _a.rowCount, schema = _a.schema;\n    return {\n        schema: schema,\n        __array: void 0,\n        isDefined: true,\n        rowCount: rowCount,\n        value: value,\n        valueKind: valueKind ? valueKind : function (row) { return 0 /* Column.ValueKinds.Present */; },\n        toArray: function (params) {\n            var _a = ColumnHelpers.createArray(rowCount, params), array = _a.array, start = _a.start;\n            for (var i = 0, _i = array.length; i < _i; i++)\n                array[i] = value(i + start);\n            return array;\n        },\n        areValuesEqual: areValuesEqual ? areValuesEqual : function (rowA, rowB) { return value(rowA) === value(rowB); }\n    };\n}\nfunction arrayColumn(_a) {\n    var array = _a.array, schema = _a.schema, valueKind = _a.valueKind;\n    var rowCount = array.length;\n    var defaultValue = schema.T;\n    var value = schema.valueType === 'str'\n        ? schema.transform === 'lowercase'\n            ? function (row) { var v = array[row]; return typeof v === 'string' ? v.toLowerCase() : \"\".concat(v !== null && v !== void 0 ? v : defaultValue).toLowerCase(); }\n            : schema.transform === 'uppercase'\n                ? function (row) { var v = array[row]; return typeof v === 'string' ? v.toUpperCase() : \"\".concat(v !== null && v !== void 0 ? v : defaultValue).toUpperCase(); }\n                : function (row) { var v = array[row]; return typeof v === 'string' ? v : \"\".concat(v !== null && v !== void 0 ? v : defaultValue); }\n        : function (row) { return array[row]; };\n    var isTyped = ColumnHelpers.isTypedArray(array);\n    return {\n        schema: schema,\n        __array: array,\n        isDefined: true,\n        rowCount: rowCount,\n        value: value,\n        valueKind: valueKind ? valueKind : function (row) { return 0 /* Column.ValueKinds.Present */; },\n        toArray: schema.valueType === 'str'\n            ? schema.transform === 'lowercase'\n                ? function (params) {\n                    var _a = ColumnHelpers.getArrayBounds(rowCount, params), start = _a.start, end = _a.end;\n                    var ret = new (params && typeof params.array !== 'undefined' ? params.array : array.constructor)(end - start);\n                    for (var i = 0, _i = end - start; i < _i; i++) {\n                        var v = array[start + i];\n                        ret[i] = typeof v === 'string' ? v.toLowerCase() : \"\".concat(v !== null && v !== void 0 ? v : defaultValue).toLowerCase();\n                    }\n                    return ret;\n                }\n                : schema.transform === 'uppercase'\n                    ? function (params) {\n                        var _a = ColumnHelpers.getArrayBounds(rowCount, params), start = _a.start, end = _a.end;\n                        var ret = new (params && typeof params.array !== 'undefined' ? params.array : array.constructor)(end - start);\n                        for (var i = 0, _i = end - start; i < _i; i++) {\n                            var v = array[start + i];\n                            ret[i] = typeof v === 'string' ? v.toUpperCase() : \"\".concat(v !== null && v !== void 0 ? v : defaultValue).toUpperCase();\n                        }\n                        return ret;\n                    }\n                    : function (params) {\n                        var _a = ColumnHelpers.getArrayBounds(rowCount, params), start = _a.start, end = _a.end;\n                        var ret = new (params && typeof params.array !== 'undefined' ? params.array : array.constructor)(end - start);\n                        for (var i = 0, _i = end - start; i < _i; i++) {\n                            var v = array[start + i];\n                            ret[i] = typeof v === 'string' ? v : \"\".concat(v !== null && v !== void 0 ? v : defaultValue);\n                        }\n                        return ret;\n                    }\n            : isTyped\n                ? function (params) { return ColumnHelpers.typedArrayWindow(array, params); }\n                : function (params) {\n                    var _a = ColumnHelpers.getArrayBounds(rowCount, params), start = _a.start, end = _a.end;\n                    if (start === 0 && end === array.length)\n                        return array;\n                    var ret = new (params && typeof params.array !== 'undefined' ? params.array : array.constructor)(end - start);\n                    for (var i = 0, _i = end - start; i < _i; i++)\n                        ret[i] = array[start + i];\n                    return ret;\n                },\n        areValuesEqual: function (rowA, rowB) { return array[rowA] === array[rowB]; }\n    };\n}\nfunction windowColumn(column, start, end) {\n    if (!column.isDefined)\n        return Column.Undefined(end - start, column.schema);\n    if (start === 0 && end === column.rowCount)\n        return column;\n    if (!!column.__array && ColumnHelpers.isTypedArray(column.__array))\n        return windowTyped(column, start, end);\n    return windowFull(column, start, end);\n}\nfunction windowTyped(c, start, end) {\n    var array = ColumnHelpers.typedArrayWindow(c.__array, { start: start, end: end });\n    var vk = c.valueKind;\n    return arrayColumn({ array: array, schema: c.schema, valueKind: function (row) { return vk(start + row); } });\n}\nfunction windowFull(c, start, end) {\n    var v = c.value, vk = c.valueKind, ave = c.areValuesEqual;\n    var value = start === 0 ? v : function (row) { return v(row + start); };\n    var rowCount = end - start;\n    return {\n        schema: c.schema,\n        __array: void 0,\n        isDefined: c.isDefined,\n        rowCount: rowCount,\n        value: value,\n        valueKind: start === 0 ? vk : function (row) { return vk(row + start); },\n        toArray: function (params) {\n            var array = ColumnHelpers.createArray(rowCount, params).array;\n            for (var i = 0, _i = array.length; i < _i; i++)\n                array[i] = v(i + start);\n            return array;\n        },\n        areValuesEqual: start === 0 ? ave : function (rowA, rowB) { return ave(rowA + start, rowB + start); }\n    };\n}\nfunction isIdentity(map, rowCount) {\n    if (map.length !== rowCount)\n        return false;\n    for (var i = 0, _i = map.length; i < _i; i++) {\n        if (map[i] !== i)\n            return false;\n    }\n    return true;\n}\nfunction columnView(c, map, checkIdentity) {\n    if (c.rowCount === 0)\n        return c;\n    if (checkIdentity && isIdentity(map, c.rowCount))\n        return c;\n    if (!!c.__array && typeof c.value(0) === typeof c.__array[0])\n        return arrayView(c, map);\n    return viewFull(c, map);\n}\nfunction arrayView(c, map) {\n    var array = c.__array;\n    var ret = new array.constructor(map.length);\n    for (var i = 0, _i = map.length; i < _i; i++)\n        ret[i] = array[map[i]];\n    var vk = c.valueKind;\n    return arrayColumn({ array: ret, schema: c.schema, valueKind: function (row) { return vk(map[row]); } });\n}\nfunction viewFull(c, map) {\n    var v = c.value, vk = c.valueKind, ave = c.areValuesEqual;\n    var value = function (row) { return v(map[row]); };\n    var rowCount = map.length;\n    return {\n        schema: c.schema,\n        __array: void 0,\n        isDefined: c.isDefined,\n        rowCount: rowCount,\n        value: value,\n        valueKind: function (row) { return vk(map[row]); },\n        toArray: function (params) {\n            var array = ColumnHelpers.createArray(rowCount, params).array;\n            for (var i = 0, _i = array.length; i < _i; i++)\n                array[i] = v(map[i]);\n            return array;\n        },\n        areValuesEqual: function (rowA, rowB) { return ave(map[rowA], map[rowB]); }\n    };\n}\nfunction mapToArrayImpl(c, f, ctor) {\n    var ret = new ctor(c.rowCount);\n    for (var i = 0, _i = c.rowCount; i < _i; i++)\n        ret[i] = f(c.value(i));\n    return ret;\n}\nfunction areColumnsEqual(a, b) {\n    if (a === b)\n        return true;\n    if (a.rowCount !== b.rowCount || a.isDefined !== b.isDefined || a.schema.valueType !== b.schema.valueType)\n        return false;\n    if (!!a.__array && !!b.__array)\n        return areArraysEqual(a, b);\n    return areValuesEqual(a, b);\n}\nfunction areArraysEqual(a, b) {\n    var xs = a.__array, ys = b.__array;\n    for (var i = 0, _i = a.rowCount; i < _i; i++) {\n        if (xs[i] !== ys[i])\n            return false;\n    }\n    return true;\n}\nfunction areValuesEqual(a, b) {\n    var va = a.value, vb = b.value;\n    for (var i = 0, _i = a.rowCount; i < _i; i++) {\n        if (va(i) !== vb(i))\n            return false;\n    }\n    return true;\n}\nfunction columnIndicesOf(c, test) {\n    var ret = [], v = c.value;\n    for (var i = 0, _i = c.rowCount; i < _i; i++) {\n        if (test(v(i)))\n            ret[ret.length] = i;\n    }\n    return ret;\n}\n","/**\n * Copyright (c) 2017 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n */\nvar BitFlags;\n(function (BitFlags) {\n    function create(flags) { return flags; }\n    BitFlags.create = create;\n    function has(flags, flag) { return (flags & flag) !== 0; }\n    BitFlags.has = has;\n    /** toCheck must be non-zero */\n    function hasAll(flags, toCheck) { return !!toCheck && (flags & toCheck) === toCheck; }\n    BitFlags.hasAll = hasAll;\n})(BitFlags || (BitFlags = {}));\nexport { BitFlags };\n","/**\n * Copyright (c) 2017 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * Adapted from CIFTools.js (https://github.com/dsehnal/CIFTools.js)\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n */\nvar StringBuilder;\n(function (StringBuilder) {\n    function create(chunkCapacity) {\n        if (chunkCapacity === void 0) { chunkCapacity = 512; }\n        return {\n            current: [],\n            offset: 0,\n            capacity: chunkCapacity,\n            chunks: []\n        };\n    }\n    StringBuilder.create = create;\n    function getString(builder) {\n        if (!builder.chunks.length) {\n            if (builder.current.length === builder.offset)\n                return builder.current.join('');\n            return builder.current.splice(0, builder.offset).join('');\n        }\n        if (builder.offset > 0) {\n            builder.chunks[builder.chunks.length] = builder.current.length === builder.offset\n                ? builder.current.join('')\n                : builder.current.slice(0, builder.offset).join('');\n        }\n        return builder.chunks.join('');\n    }\n    StringBuilder.getString = getString;\n    function getSize(builder) {\n        var size = 0;\n        for (var _i = 0, _a = builder.chunks; _i < _a.length; _i++) {\n            var c = _a[_i];\n            size += c.length;\n        }\n        for (var i = 0; i < builder.offset; i++)\n            size += builder.current[i].length;\n        return size;\n    }\n    StringBuilder.getSize = getSize;\n    function getChunks(builder) {\n        if (builder.offset > 0) {\n            if (builder.current.length === builder.offset)\n                builder.chunks[builder.chunks.length] = builder.current.join('');\n            else\n                builder.chunks[builder.chunks.length] = builder.current.slice(0, builder.offset).join('');\n            builder.offset = 0;\n        }\n        return builder.chunks;\n    }\n    StringBuilder.getChunks = getChunks;\n    var __paddingSpaces = [];\n    (function () {\n        var s = '';\n        for (var i = 0; i < 512 /* PaddingSpaces.Count */; i++) {\n            __paddingSpaces[i] = s;\n            s = s + ' ';\n        }\n    })();\n    function newline(builder) {\n        writeSafe(builder, '\\n');\n    }\n    StringBuilder.newline = newline;\n    function whitespace(builder, len) {\n        if (len > 0)\n            writeSafe(builder, __paddingSpaces[len]);\n    }\n    StringBuilder.whitespace = whitespace;\n    function whitespace1(builder) {\n        writeSafe(builder, ' ');\n    }\n    StringBuilder.whitespace1 = whitespace1;\n    function write(builder, val) {\n        if (!val)\n            return;\n        if (builder.offset === builder.capacity) {\n            builder.chunks[builder.chunks.length] = builder.current.join('');\n            builder.offset = 0;\n        }\n        builder.current[builder.offset++] = val;\n    }\n    StringBuilder.write = write;\n    /** Write without check. */\n    function writeSafe(builder, val) {\n        if (builder.offset === builder.capacity) {\n            builder.chunks[builder.chunks.length] = builder.current.join('');\n            builder.offset = 0;\n        }\n        builder.current[builder.offset++] = val;\n    }\n    StringBuilder.writeSafe = writeSafe;\n    function writePadLeft(builder, val, totalWidth) {\n        if (!val) {\n            whitespace(builder, totalWidth);\n            return;\n        }\n        var padding = totalWidth - val.length;\n        whitespace(builder, padding);\n        writeSafe(builder, val);\n    }\n    StringBuilder.writePadLeft = writePadLeft;\n    function writePadRight(builder, val, totalWidth) {\n        if (!val) {\n            whitespace(builder, totalWidth);\n            return;\n        }\n        var padding = totalWidth - val.length;\n        writeSafe(builder, val);\n        whitespace(builder, padding);\n    }\n    StringBuilder.writePadRight = writePadRight;\n    function writeInteger(builder, val) {\n        writeSafe(builder, '' + val);\n    }\n    StringBuilder.writeInteger = writeInteger;\n    function writeIntegerAndSpace(builder, val) {\n        writeSafe(builder, '' + val + ' ');\n    }\n    StringBuilder.writeIntegerAndSpace = writeIntegerAndSpace;\n    function writeIntegerPadLeft(builder, val, totalWidth) {\n        var s = '' + val;\n        var padding = totalWidth - s.length;\n        whitespace(builder, padding);\n        writeSafe(builder, s);\n    }\n    StringBuilder.writeIntegerPadLeft = writeIntegerPadLeft;\n    function writeIntegerPadRight(builder, val, totalWidth) {\n        var s = '' + val;\n        var padding = totalWidth - s.length;\n        writeSafe(builder, s);\n        whitespace(builder, padding);\n    }\n    StringBuilder.writeIntegerPadRight = writeIntegerPadRight;\n    /**\n     * @example writeFloat(123.2123, 100) -- 2 decim\n     */\n    function writeFloat(builder, val, precisionMultiplier) {\n        writeSafe(builder, '' + Math.round(precisionMultiplier * val) / precisionMultiplier);\n    }\n    StringBuilder.writeFloat = writeFloat;\n    function writeFloatPadLeft(builder, val, precisionMultiplier, totalWidth) {\n        var s = '' + Math.round(precisionMultiplier * val) / precisionMultiplier;\n        var padding = totalWidth - s.length;\n        whitespace(builder, padding);\n        writeSafe(builder, s);\n    }\n    StringBuilder.writeFloatPadLeft = writeFloatPadLeft;\n    function writeFloatPadRight(builder, val, precisionMultiplier, totalWidth) {\n        var s = '' + Math.round(precisionMultiplier * val) / precisionMultiplier;\n        var padding = totalWidth - s.length;\n        writeSafe(builder, s);\n        whitespace(builder, padding);\n    }\n    StringBuilder.writeFloatPadRight = writeFloatPadRight;\n})(StringBuilder || (StringBuilder = {}));\nexport { StringBuilder };\n","/**\n * Copyright (c) 2017 Mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n */\n// TODO check if the removal of FastSet and the removal of the context object for forEach\n// have any performance implications\nfunction _ascSort(a, b) {\n    return a - b;\n}\nexport function sortAsc(array) {\n    Array.prototype.sort.call(array, _ascSort);\n    return array;\n}\nvar Mask;\n(function (Mask) {\n    var EmptyMask = /** @class */ (function () {\n        function EmptyMask() {\n            this.size = 0;\n        }\n        EmptyMask.prototype.has = function (i) { return false; };\n        EmptyMask.prototype.forEach = function (f, ctx) { return ctx; };\n        return EmptyMask;\n    }());\n    var SingletonMask = /** @class */ (function () {\n        function SingletonMask(idx) {\n            this.idx = idx;\n            this.size = 1;\n        }\n        SingletonMask.prototype.has = function (i) { return i === this.idx; };\n        SingletonMask.prototype.forEach = function (f, ctx) { f(this.idx, ctx); return ctx; };\n        return SingletonMask;\n    }());\n    var BitMask = /** @class */ (function () {\n        function BitMask(mask, size) {\n            this.mask = mask;\n            this.size = size;\n            this.length = mask.length;\n        }\n        BitMask.prototype.has = function (i) { return i < this.length && !!this.mask[i]; };\n        BitMask.prototype._forEach = function (f, ctx) {\n            for (var i = 0; i < this.length; i++) {\n                if (this.mask[i])\n                    f(i, ctx);\n            }\n        };\n        BitMask.prototype.forEach = function (f, ctx) {\n            this._forEach(f, ctx);\n            return ctx;\n        };\n        return BitMask;\n    }());\n    var AllMask = /** @class */ (function () {\n        function AllMask(size) {\n            this.size = size;\n        }\n        AllMask.prototype.has = function (i) { return true; };\n        AllMask.prototype._forEach = function (f, ctx) {\n            for (var i = 0; i < this.size; i++) {\n                f(i, ctx);\n            }\n        };\n        AllMask.prototype.forEach = function (f, ctx) {\n            this._forEach(f, ctx);\n            return ctx;\n        };\n        return AllMask;\n    }());\n    var SetMask = /** @class */ (function () {\n        function SetMask(set) {\n            this.set = set;\n            this._flat = void 0;\n            this.size = set.size;\n        }\n        SetMask.prototype.has = function (i) { return this.set.has(i); };\n        SetMask.prototype._forEach = function (f, ctx) {\n            for (var _i = 0, _a = this.flatten(); _i < _a.length; _i++) {\n                var idx = _a[_i];\n                f(idx, ctx);\n            }\n        };\n        SetMask.prototype.flatten = function () {\n            if (this._flat)\n                return this._flat;\n            var indices = new Int32Array(this.size);\n            var offset = 0;\n            this.set.forEach(function (i) { return indices[offset++] = i; });\n            sortAsc(indices);\n            this._flat = indices;\n            return this._flat;\n        };\n        SetMask.prototype.forEach = function (f, ctx) {\n            this._forEach(f, ctx);\n            return ctx;\n        };\n        return SetMask;\n    }());\n    function always(size) { return new AllMask(size); }\n    Mask.always = always;\n    Mask.never = new EmptyMask();\n    function ofSet(set) {\n        return new SetMask(set);\n    }\n    Mask.ofSet = ofSet;\n    function singleton(i) {\n        return new SingletonMask(i);\n    }\n    Mask.singleton = singleton;\n    function ofUniqueIndices(indices) {\n        var len = indices.length;\n        if (len === 0)\n            return new EmptyMask();\n        if (len === 1)\n            return new SingletonMask(indices[0]);\n        var max = 0;\n        for (var _i = 0, _a = indices; _i < _a.length; _i++) {\n            var i = _a[_i];\n            if (i > max)\n                max = i;\n        }\n        if (len === max)\n            return new AllMask(len);\n        var f = len / max;\n        if (f < 1 / 12) {\n            var set = new Set();\n            for (var _b = 0, _c = indices; _b < _c.length; _b++) {\n                var i = _c[_b];\n                set.add(i);\n            }\n            return new SetMask(set);\n        }\n        var mask = new Int8Array(max + 1);\n        for (var _d = 0, _e = indices; _d < _e.length; _d++) {\n            var i = _e[_d];\n            mask[i] = 1;\n        }\n        return new BitMask(mask, indices.length);\n    }\n    Mask.ofUniqueIndices = ofUniqueIndices;\n    function ofMask(mask, size) {\n        return new BitMask(mask, size);\n    }\n    Mask.ofMask = ofMask;\n    function hasAny(mask, xs) {\n        for (var _i = 0, xs_1 = xs; _i < xs_1.length; _i++) {\n            var x = xs_1[_i];\n            if (mask.has(x))\n                return true;\n        }\n        return false;\n    }\n    Mask.hasAny = hasAny;\n    function complement(mask, against) {\n        var count = 0;\n        var max = 0;\n        against.forEach(function (i) {\n            if (!mask.has(i)) {\n                count++;\n                if (i > max)\n                    max = i;\n            }\n        });\n        if (count / max < 1 / 12) {\n            // set based\n            var set_1 = new Set();\n            against.forEach(function (i) {\n                if (!mask.has(i)) {\n                    set_1.add(i);\n                }\n            });\n            return ofSet(set_1);\n        }\n        else {\n            // mask based\n            var target_1 = new Uint8Array(max + 1);\n            against.forEach(function (i) {\n                if (!mask.has(i)) {\n                    target_1[i] = 1;\n                }\n            });\n            return ofMask(target_1, count);\n        }\n    }\n    Mask.complement = complement;\n})(Mask || (Mask = {}));\nexport { Mask };\n","/**\n * Copyright (c) 2018 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\nimport { idFactory } from './id-factory';\nvar ValueRef;\n(function (ValueRef) {\n    function create(ref) { return { ref: ref }; }\n    ValueRef.create = create;\n    function set(ref, value) { ref.ref = value; return ref; }\n    ValueRef.set = set;\n})(ValueRef || (ValueRef = {}));\nvar getNextId = idFactory(0, 0x7FFFFFFF);\nvar ValueBox;\n(function (ValueBox) {\n    function create(value, metadata) {\n        return { id: getNextId(), version: 0, value: value, metadata: metadata };\n    }\n    ValueBox.create = create;\n    /** The box.metadata is carried over from the old box */\n    function withValue(box, value) {\n        return { id: box.id, version: box.version + 1, value: value, metadata: box.metadata };\n    }\n    ValueBox.withValue = withValue;\n})(ValueBox || (ValueBox = {}));\nvar ValueCell;\n(function (ValueCell) {\n    function create(value, metadata) {\n        return ValueRef.create(ValueBox.create(value, metadata));\n    }\n    ValueCell.create = create;\n    /** The box.metadata is carried over from the old box */\n    function update(cell, value) {\n        return ValueRef.set(cell, ValueBox.withValue(cell.ref, value));\n    }\n    ValueCell.update = update;\n    function set(cell, box) {\n        return ValueRef.set(cell, box);\n    }\n    ValueCell.set = set;\n    /** Updates the cell if the value is has changed, comparing by reference */\n    function updateIfChanged(cell, value) {\n        return cell.ref.value !== value ? update(cell, value) : cell;\n    }\n    ValueCell.updateIfChanged = updateIfChanged;\n})(ValueCell || (ValueCell = {}));\nexport { ValueRef, ValueBox, ValueCell };\n","/**\n * Copyright (c) 2018 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\n/** Builds id function returning ids within [firstId, maxId) */\nexport function idFactory(firstId, maxId) {\n    if (firstId === void 0) { firstId = 0; }\n    if (maxId === void 0) { maxId = Number.MAX_SAFE_INTEGER; }\n    var _nextId = firstId;\n    return function () {\n        var ret = _nextId;\n        _nextId = (_nextId + 1) % maxId;\n        return ret;\n    };\n}\n","/**\n * Copyright (c) 2017-2020 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\nimport { BitFlags } from './bit-flags';\nimport { StringBuilder } from './string-builder';\nimport { UUID } from './uuid';\nimport { Mask } from './mask';\nexport * from './value-cell';\nexport { BitFlags, StringBuilder, UUID, Mask };\nexport var noop = function () { };\nexport function round(n, d) {\n    var f = Math.pow(10, d);\n    return Math.round(f * n) / f;\n}\nexport function arrayEqual(arr1, arr2) {\n    var length = arr1.length;\n    if (length !== arr2.length)\n        return false;\n    for (var i = 0; i < length; i++) {\n        if (arr1[i] !== arr2[i]) {\n            return false;\n        }\n    }\n    return true;\n}\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nexport function deepEqual(a, b) {\n    // from https://github.com/epoberezkin/fast-deep-equal MIT\n    if (a === b)\n        return true;\n    var arrA = Array.isArray(a);\n    var arrB = Array.isArray(b);\n    if (arrA && arrB) {\n        if (a.length !== b.length)\n            return false;\n        for (var i = 0; i < a.length; i++) {\n            if (!deepEqual(a[i], b[i]))\n                return false;\n        }\n        return true;\n    }\n    if (arrA !== arrB)\n        return false;\n    if (a && b && typeof a === 'object' && typeof b === 'object') {\n        var keys = Object.keys(a);\n        if (keys.length !== Object.keys(b).length)\n            return false;\n        var dateA = a instanceof Date;\n        var dateB = b instanceof Date;\n        if (dateA && dateB)\n            return a.getTime() === b.getTime();\n        if (dateA !== dateB)\n            return false;\n        var regexpA = a instanceof RegExp;\n        var regexpB = b instanceof RegExp;\n        if (regexpA && regexpB)\n            return a.toString() === b.toString();\n        if (regexpA !== regexpB)\n            return false;\n        for (var i = 0; i < keys.length; i++) {\n            if (!hasOwnProperty.call(b, keys[i]))\n                return false;\n        }\n        for (var i = 0; i < keys.length; i++) {\n            if (!deepEqual(a[keys[i]], b[keys[i]]))\n                return false;\n        }\n        return true;\n    }\n    return false;\n}\nexport function shallowEqual(a, b) {\n    if (a === b)\n        return true;\n    var arrA = Array.isArray(a);\n    var arrB = Array.isArray(b);\n    if (arrA && arrB)\n        return shallowEqualArrays(a, b);\n    if (arrA !== arrB)\n        return false;\n    if (a && b && typeof a === 'object' && typeof b === 'object') {\n        return shallowEqualObjects(a, b);\n    }\n    return false;\n}\nexport function shallowEqualObjects(a, b) {\n    if (a === b)\n        return true;\n    if (!a || !b)\n        return false;\n    var keys = Object.keys(a);\n    if (Object.keys(b).length !== keys.length)\n        return false;\n    for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n        var k = keys_1[_i];\n        if (!hasOwnProperty.call(a, k) || a[k] !== b[k])\n            return false;\n    }\n    return true;\n}\nexport function shallowEqualArrays(a, b) {\n    if (a === b)\n        return true;\n    if (!a || !b)\n        return false;\n    if (a.length !== b.length)\n        return false;\n    for (var i = 0, il = a.length; i < il; ++i) {\n        if (a[i] !== b[i])\n            return false;\n    }\n    return true;\n}\n/** Returns `value` if not `undefined`, otherwise returns `defaultValue` */\nexport function defaults(value, defaultValue) {\n    return value !== undefined ? value : defaultValue;\n}\nexport function extend(object, source, guard) {\n    var v;\n    var s = source;\n    var o = object;\n    var g = guard;\n    for (var _i = 0, _a = Object.keys(source); _i < _a.length; _i++) {\n        var k = _a[_i];\n        v = s[k];\n        if (v !== void 0)\n            o[k] = v;\n        else if (guard)\n            o[k] = g[k];\n    }\n    if (guard) {\n        for (var _b = 0, _c = Object.keys(guard); _b < _c.length; _b++) {\n            var k = _c[_b];\n            v = o[k];\n            if (v === void 0)\n                o[k] = g[k];\n        }\n    }\n    return object;\n}\nexport function shallowClone(o) {\n    return extend({}, o);\n}\nfunction _assign(target) {\n    for (var s = 1; s < arguments.length; s++) {\n        var from = arguments[s];\n        for (var _i = 0, _a = Object.keys(from); _i < _a.length; _i++) {\n            var key = _a[_i];\n            if (hasOwnProperty.call(from, key)) {\n                target[key] = from[key];\n            }\n        }\n    }\n    return target;\n}\nexport var assign = Object.assign || _assign;\nfunction _shallowMerge1(source, update) {\n    var changed = false;\n    for (var _i = 0, _a = Object.keys(update); _i < _a.length; _i++) {\n        var k = _a[_i];\n        if (!hasOwnProperty.call(update, k))\n            continue;\n        if (update[k] !== source[k]) {\n            changed = true;\n            break;\n        }\n    }\n    if (!changed)\n        return source;\n    return assign(shallowClone(source), update);\n}\nfunction _shallowMerge(source) {\n    var ret = source;\n    for (var s = 1; s < arguments.length; s++) {\n        if (!arguments[s])\n            continue;\n        ret = _shallowMerge1(source, arguments[s]);\n        if (ret !== source) {\n            for (var i = s + 1; i < arguments.length; i++) {\n                ret = assign(ret, arguments[i]);\n            }\n            break;\n        }\n    }\n    return ret;\n}\nexport var merge = _shallowMerge;\nfunction padTime(n) { return (n < 10 ? '0' : '') + n; }\nexport function formatTime(d) {\n    var h = d.getHours(), m = d.getMinutes(), s = d.getSeconds();\n    return \"\".concat(h, \":\").concat(padTime(m), \":\").concat(padTime(s));\n}\nexport function formatProgress(p) {\n    var tp = p.root.progress;\n    if (tp.isIndeterminate)\n        return tp.message;\n    var x = (100 * tp.current / tp.max).toFixed(2);\n    return \"\".concat(tp.message, \" \").concat(x, \"%\");\n}\nexport function formatBytes(count) {\n    var units = ['B', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'];\n    var i = Math.floor(Math.log(count) / Math.log(1024));\n    return \"\".concat((count / Math.pow(1024, i)).toFixed(2), \" \").concat(units[i]);\n}\n","/**\n * Copyright (c) 2017 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n */\nimport { __assign } from \"tslib\";\nimport { Column } from './column';\nimport { sortArray } from '../util/sort';\nimport { StringBuilder } from '../../mol-util';\n/** An immutable table */\nvar Table;\n(function (Table) {\n    function is(t) {\n        return t && typeof t._rowCount === 'number' && !!t._columns && !!t._schema;\n    }\n    Table.is = is;\n    function pickColumns(schema, table, guard) {\n        if (guard === void 0) { guard = {}; }\n        var ret = Object.create(null);\n        var keys = Object.keys(schema);\n        ret._rowCount = table._rowCount;\n        ret._columns = keys;\n        ret._schema = schema;\n        for (var _a = 0, keys_1 = keys; _a < keys_1.length; _a++) {\n            var k = keys_1[_a];\n            if (!!table[k])\n                ret[k] = table[k];\n            else if (!!guard[k])\n                ret[k] = guard[k];\n            else\n                throw Error(\"Cannot find column '\".concat(k, \"'.\"));\n        }\n        return ret;\n    }\n    Table.pickColumns = pickColumns;\n    function ofColumns(schema, columns) {\n        var _columns = Object.keys(columns);\n        var _rowCount = columns[_columns[0]].rowCount;\n        return __assign({ _rowCount: _rowCount, _columns: _columns, _schema: schema }, columns);\n    }\n    Table.ofColumns = ofColumns;\n    function ofPartialColumns(schema, partialColumns, rowCount) {\n        var ret = Object.create(null);\n        var columns = Object.keys(schema);\n        ret._rowCount = rowCount;\n        ret._columns = columns;\n        ret._schema = schema;\n        for (var _a = 0, columns_1 = columns; _a < columns_1.length; _a++) {\n            var k = columns_1[_a];\n            if (k in partialColumns)\n                ret[k] = partialColumns[k];\n            else\n                ret[k] = Column.Undefined(rowCount, schema[k]);\n        }\n        return ret;\n    }\n    Table.ofPartialColumns = ofPartialColumns;\n    function ofUndefinedColumns(schema, rowCount) {\n        var ret = Object.create(null);\n        var columns = Object.keys(schema);\n        ret._rowCount = rowCount;\n        ret._columns = columns;\n        ret._schema = schema;\n        for (var _a = 0, columns_2 = columns; _a < columns_2.length; _a++) {\n            var k = columns_2[_a];\n            ret[k] = Column.Undefined(rowCount, schema[k]);\n        }\n        return ret;\n    }\n    Table.ofUndefinedColumns = ofUndefinedColumns;\n    function ofRows(schema, rows) {\n        var ret = Object.create(null);\n        var rowCount = rows.length;\n        var columns = Object.keys(schema);\n        ret._rowCount = rowCount;\n        ret._columns = columns;\n        ret._schema = schema;\n        var _loop_1 = function (k) {\n            ret[k] = Column.ofLambda({\n                rowCount: rowCount,\n                schema: schema[k],\n                value: function (r) { return rows[r][k]; },\n                valueKind: function (r) { return typeof rows[r][k] === 'undefined' ? 1 /* Column.ValueKinds.NotPresent */ : 0 /* Column.ValueKinds.Present */; }\n            });\n        };\n        for (var _a = 0, columns_3 = columns; _a < columns_3.length; _a++) {\n            var k = columns_3[_a];\n            _loop_1(k);\n        }\n        return ret;\n    }\n    Table.ofRows = ofRows;\n    function ofArrays(schema, arrays) {\n        var _a;\n        var ret = Object.create(null);\n        var columns = Object.keys(schema);\n        ret._rowCount = 0;\n        ret._columns = columns;\n        ret._schema = schema;\n        for (var _b = 0, columns_4 = columns; _b < columns_4.length; _b++) {\n            var k = columns_4[_b];\n            if (typeof arrays[k] !== 'undefined') {\n                ret[k] = Column.ofArray({ array: arrays[k], schema: schema[k] });\n                ret._rowCount = (_a = arrays[k]) === null || _a === void 0 ? void 0 : _a.length;\n            }\n            else {\n                ret[k] = Column.Undefined(ret._rowCount, schema[k]);\n            }\n        }\n        return ret;\n    }\n    Table.ofArrays = ofArrays;\n    function view(table, schema, view) {\n        var ret = Object.create(null);\n        var columns = Object.keys(schema);\n        ret._rowCount = view.length;\n        ret._columns = columns;\n        ret._schema = schema;\n        for (var _a = 0, columns_5 = columns; _a < columns_5.length; _a++) {\n            var k = columns_5[_a];\n            ret[k] = Column.view(table[k], view);\n        }\n        return ret;\n    }\n    Table.view = view;\n    function pick(table, schema, test) {\n        var _view = [];\n        for (var i = 0, il = table._rowCount; i < il; ++i) {\n            if (test(i))\n                _view.push(i);\n        }\n        return view(table, schema, _view);\n    }\n    Table.pick = pick;\n    function window(table, schema, start, end) {\n        if (start === 0 && end === table._rowCount)\n            return table;\n        var ret = Object.create(null);\n        var columns = Object.keys(schema);\n        ret._rowCount = end - start;\n        ret._columns = columns;\n        ret._schema = schema;\n        for (var _a = 0, columns_6 = columns; _a < columns_6.length; _a++) {\n            var k = columns_6[_a];\n            ret[k] = Column.window(table[k], start, end);\n        }\n        return ret;\n    }\n    Table.window = window;\n    function concat(tables, schema) {\n        var ret = Object.create(null);\n        var columns = Object.keys(schema);\n        ret._rowCount = 0;\n        for (var _a = 0, tables_1 = tables; _a < tables_1.length; _a++) {\n            var table = tables_1[_a];\n            ret._rowCount += table._rowCount;\n        }\n        var arrays = {};\n        for (var _b = 0, columns_7 = columns; _b < columns_7.length; _b++) {\n            var column = columns_7[_b];\n            arrays[column] = new Array(ret._rowCount);\n        }\n        ret._columns = columns;\n        ret._schema = schema;\n        var offset = 0;\n        for (var _c = 0, tables_2 = tables; _c < tables_2.length; _c++) {\n            var table = tables_2[_c];\n            for (var _d = 0, columns_8 = columns; _d < columns_8.length; _d++) {\n                var k = columns_8[_d];\n                Column.copyToArray(table[k], arrays[k], offset);\n            }\n            offset += table._rowCount;\n        }\n        for (var _e = 0, columns_9 = columns; _e < columns_9.length; _e++) {\n            var k = columns_9[_e];\n            ret[k] = Column.ofArray({ array: arrays[k], schema: schema[k] });\n        }\n        return ret;\n    }\n    Table.concat = concat;\n    function columnToArray(table, name, array) {\n        table[name] = Column.asArrayColumn(table[name], array);\n    }\n    Table.columnToArray = columnToArray;\n    /** Sort and return a new table */\n    function sort(table, cmp) {\n        var indices = new Int32Array(table._rowCount);\n        for (var i = 0, _i = indices.length; i < _i; i++)\n            indices[i] = i;\n        sortArray(indices, function (_, i, j) { return cmp(i, j); });\n        var isIdentity = true;\n        for (var i = 0, _i = indices.length; i < _i; i++) {\n            if (indices[i] !== i) {\n                isIdentity = false;\n                break;\n            }\n        }\n        if (isIdentity)\n            return table;\n        var ret = Object.create(null);\n        ret._rowCount = table._rowCount;\n        ret._columns = table._columns;\n        ret._schema = table._schema;\n        for (var _a = 0, _b = table._columns; _a < _b.length; _a++) {\n            var c = _b[_a];\n            ret[c] = Column.view(table[c], indices, false);\n        }\n        return ret;\n    }\n    Table.sort = sort;\n    function areEqual(a, b) {\n        if (a._rowCount !== b._rowCount)\n            return false;\n        if (a._columns.length !== b._columns.length)\n            return false;\n        for (var _a = 0, _b = a._columns; _a < _b.length; _a++) {\n            var c = _b[_a];\n            if (!b[c])\n                return false;\n        }\n        for (var _c = 0, _d = a._columns; _c < _d.length; _c++) {\n            var c = _d[_c];\n            if (!Column.areEqual(a[c], b[c]))\n                return false;\n        }\n        return true;\n    }\n    Table.areEqual = areEqual;\n    /** Allocate a new object with the given row values. */\n    function getRow(table, index) {\n        var row = Object.create(null);\n        var cols = table._columns;\n        for (var i = 0; i < cols.length; i++) {\n            var c = cols[i];\n            row[c] = table[c].value(index);\n        }\n        return row;\n    }\n    Table.getRow = getRow;\n    /** Pick the first row for which `test` evaluates to true */\n    function pickRow(table, test) {\n        for (var i = 0, il = table._rowCount; i < il; ++i) {\n            if (test(i))\n                return getRow(table, i);\n        }\n    }\n    Table.pickRow = pickRow;\n    function getRows(table) {\n        var ret = [];\n        var c = table._rowCount;\n        for (var i = 0; i < c; i++) {\n            ret[i] = getRow(table, i);\n        }\n        return ret;\n    }\n    Table.getRows = getRows;\n    function toArrays(table) {\n        var arrays = {};\n        var _columns = table._columns;\n        for (var i = 0; i < _columns.length; i++) {\n            var c = _columns[i];\n            arrays[c] = table[c].toArray();\n        }\n        return arrays;\n    }\n    Table.toArrays = toArrays;\n    function formatToString(table) {\n        var sb = StringBuilder.create();\n        var cols = table._columns, _rowCount = table._rowCount;\n        var headerLength = 1;\n        StringBuilder.write(sb, '|');\n        for (var i = 0; i < cols.length; i++) {\n            StringBuilder.write(sb, cols[i]);\n            StringBuilder.write(sb, '|');\n            headerLength += cols[i].length + 1;\n        }\n        StringBuilder.newline(sb);\n        StringBuilder.write(sb, new Array(headerLength + 1).join('-'));\n        StringBuilder.newline(sb);\n        for (var r = 0; r < _rowCount; r++) {\n            StringBuilder.write(sb, '|');\n            for (var i = 0; i < cols.length; i++) {\n                var c = table[cols[i]];\n                if (c.valueKind(r) === 0 /* Column.ValueKinds.Present */) {\n                    StringBuilder.write(sb, c.value(r));\n                    StringBuilder.write(sb, '|');\n                }\n                else {\n                    StringBuilder.write(sb, '.|');\n                }\n            }\n            StringBuilder.newline(sb);\n        }\n        return StringBuilder.getString(sb);\n    }\n    Table.formatToString = formatToString;\n})(Table || (Table = {}));\nexport { Table };\n","/**\n * Copyright (c) 2017 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n */\nimport { Table } from './table';\nvar Database;\n(function (Database) {\n    function ofTables(name, schema, tables) {\n        var keys = Object.keys(tables);\n        var ret = Object.create(null);\n        var tableNames = [];\n        ret._name = name;\n        ret._tableNames = tableNames;\n        ret._schema = schema;\n        for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n            var k = keys_1[_i];\n            if (!Table.is(tables[k]))\n                continue;\n            ret[k] = tables[k];\n            tableNames[tableNames.length] = k;\n        }\n        return ret;\n    }\n    Database.ofTables = ofTables;\n    function getTablesAsRows(database) {\n        var ret = {};\n        for (var _i = 0, _a = database._tableNames; _i < _a.length; _i++) {\n            var k = _a[_i];\n            ret[k] = Table.getRows(database[k]);\n        }\n        return ret;\n    }\n    Database.getTablesAsRows = getTablesAsRows;\n})(Database || (Database = {}));\nexport { Database };\n","/**\n * Copyright (c) 2017 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n */\nimport { Column } from '../db';\nvar GroupingImpl = /** @class */ (function () {\n    function GroupingImpl(getKey) {\n        this.getKey = getKey;\n        this.map = new Map();\n        this.keys = [];\n        this.groups = [];\n    }\n    GroupingImpl.prototype.add = function (a) {\n        var key = this.getKey(a);\n        if (!!this.map.has(key)) {\n            var group = this.map.get(key);\n            group[group.length] = a;\n        }\n        else {\n            var group = [a];\n            this.map.set(key, group);\n            this.keys[this.keys.length] = key;\n            this.groups[this.groups.length] = group;\n        }\n    };\n    GroupingImpl.prototype.getGrouping = function () {\n        return { keys: this.keys, groups: this.groups, map: this.map };\n    };\n    return GroupingImpl;\n}());\nexport function Grouper(getKey) {\n    return new GroupingImpl(getKey);\n}\nexport function groupBy(values, getKey) {\n    var gs = Grouper(getKey);\n    if (Column.is(values)) {\n        var v = values.value;\n        for (var i = 0, _i = values.rowCount; i < _i; i++)\n            gs.add(v(i));\n    }\n    else {\n        for (var i = 0, _i = values.length; i < _i; i++)\n            gs.add(values[i]);\n    }\n    return gs.getGrouping();\n}\n","/**\n * Copyright (c) 2017-2019 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n */\nimport { hash2 } from '../util';\nvar IntTuple;\n(function (IntTuple) {\n    IntTuple.Zero = 0;\n    var _a = (function () {\n        var data = new ArrayBuffer(8);\n        var data_1 = new ArrayBuffer(8);\n        return {\n            _int32: new Int32Array(data),\n            _float64: new Float64Array(data),\n            _int32_1: new Int32Array(data_1),\n            _float64_1: new Float64Array(data_1)\n        };\n    }()), _int32 = _a._int32, _float64 = _a._float64, _int32_1 = _a._int32_1, _float64_1 = _a._float64_1;\n    function is(x) {\n        return typeof x === 'number';\n    }\n    IntTuple.is = is;\n    function create(fst, snd) {\n        _int32[0] = fst;\n        _int32[1] = snd;\n        return _float64[0];\n    }\n    IntTuple.create = create;\n    /** snd - fst */\n    function diff(t) {\n        _float64[0] = t;\n        return _int32[1] - _int32[0];\n    }\n    IntTuple.diff = diff;\n    function fst(t) {\n        _float64[0] = t;\n        return _int32[0];\n    }\n    IntTuple.fst = fst;\n    function snd(t) {\n        _float64[0] = t;\n        return _int32[1];\n    }\n    IntTuple.snd = snd;\n    /** Normal equality does not work, because NaN === NaN ~> false */\n    function areEqual(a, b) {\n        _float64[0] = a;\n        _float64_1[0] = b;\n        return _int32[0] === _int32_1[0] && _int32[1] === _int32_1[1];\n    }\n    IntTuple.areEqual = areEqual;\n    function compare(a, b) {\n        _float64[0] = a;\n        _float64_1[0] = b;\n        var x = _int32[0] - _int32_1[0];\n        if (x !== 0)\n            return x;\n        return _int32[1] - _int32_1[1];\n    }\n    IntTuple.compare = compare;\n    function compareInArray(xs, i, j) {\n        _float64[0] = xs[i];\n        _float64_1[0] = xs[j];\n        var x = _int32[0] - _int32_1[0];\n        if (x !== 0)\n            return x;\n        return _int32[1] - _int32_1[1];\n    }\n    IntTuple.compareInArray = compareInArray;\n    function hashCode(t) {\n        _float64[0] = t;\n        return hash2(_int32[0], _int32[1]);\n    }\n    IntTuple.hashCode = hashCode;\n    function toString(t) {\n        _float64[0] = t;\n        return \"(\".concat(_int32[0], \", \").concat(_int32[1], \")\");\n    }\n    IntTuple.toString = toString;\n})(IntTuple || (IntTuple = {}));\nexport { IntTuple };\n","/**\n * Copyright (c) 2017 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * from https://github.com/dsehnal/CIFTools.js\n * @author David Sehnal <david.sehnal@gmail.com>\n */\nexport function arrayFind(array, f) {\n    for (var i = 0, _i = array.length; i < _i; i++) {\n        if (f(array[i]))\n            return array[i];\n    }\n    return void 0;\n}\nexport function iterableToArray(it) {\n    if (Array.from)\n        return Array.from(it);\n    var ret = [];\n    while (true) {\n        var _a = it.next(), done = _a.done, value = _a.value;\n        if (done)\n            break;\n        ret[ret.length] = value;\n    }\n    return ret;\n}\n/** Fills the array so that array[0] = start and array[array.length - 1] = end */\nexport function createRangeArray(start, end, ctor) {\n    var len = end - start + 1;\n    var array = ctor ? new ctor(len) : new Int32Array(len);\n    for (var i = 0; i < len; i++) {\n        array[i] = i + start;\n    }\n    return array;\n}\nexport function arrayPickIndices(array, indices) {\n    var ret = new (arrayGetCtor(array))(indices.length);\n    for (var i = 0, _i = indices.length; i < _i; i++) {\n        ret[i] = array[indices[i]];\n    }\n    return ret;\n}\nexport function arrayGetCtor(data) {\n    var ret = data.constructor;\n    if (!ret)\n        throw new Error('data does not define a constructor and it should');\n    return ret;\n}\n","/**\n * Copyright (c) 2017-2019 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n */\nimport { IntTuple as Tuple } from '../tuple';\nexport var Empty = Tuple.Zero;\nexport function ofRange(min, max) { return max < min ? Tuple.create(min, min) : Tuple.create(min, max + 1); }\nexport function ofBounds(start, end) { return end <= start ? Tuple.create(start, start) : Tuple.create(start, end); }\nexport function ofLength(length) { return length < 0 ? Tuple.create(0, 0) : Tuple.create(0, length); }\nexport var is = Tuple.is;\nexport var start = Tuple.fst;\nexport var end = Tuple.snd;\nexport var min = Tuple.fst;\nexport function max(i) { return Tuple.snd(i) - 1; }\nexport var size = Tuple.diff;\nexport var hashCode = Tuple.hashCode;\nexport var toString = Tuple.toString;\nexport function has(int, v) { return Tuple.fst(int) <= v && v < Tuple.snd(int); }\n/** Returns the index of `x` in `set` or -1 if not found. */\nexport function indexOf(int, x) { var m = start(int); return x >= m && x < end(int) ? x - m : -1; }\nexport function getAt(int, i) { return Tuple.fst(int) + i; }\nexport var areEqual = Tuple.areEqual;\nexport function areIntersecting(a, b) {\n    var sa = size(a), sb = size(b);\n    if (sa === 0 && sb === 0)\n        return true;\n    return sa > 0 && sb > 0 && max(a) >= min(b) && min(a) <= max(b);\n}\nexport function isSubInterval(a, b) {\n    if (!size(a))\n        return size(b) === 0;\n    if (!size(b))\n        return true;\n    return start(a) <= start(b) && end(a) >= end(b);\n}\nexport function findPredecessorIndex(int, v) {\n    var s = start(int);\n    if (v <= s)\n        return 0;\n    var e = end(int);\n    if (v >= e)\n        return e - s;\n    return v - s;\n}\nexport function findPredecessorIndexInInterval(int, v, bounds) {\n    var bS = start(bounds);\n    var s = start(int);\n    if (v <= bS + s)\n        return bS;\n    var bE = end(bounds);\n    if (v >= bE + s)\n        return bE;\n    return v - s;\n}\nexport function findRange(int, min, max) {\n    return ofBounds(findPredecessorIndex(int, min), findPredecessorIndex(int, max + 1));\n}\nexport function intersect(a, b) {\n    if (!areIntersecting(a, b))\n        return Empty;\n    return ofBounds(Math.max(start(a), start(b)), Math.min(end(a), end(b)));\n}\nexport function intersectionSize(a, b) {\n    return size(findRange(a, min(b), max(b)));\n}\n","/**\n * Copyright (c) 2017 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n */\nimport * as Impl from './impl/interval';\nvar Interval;\n(function (Interval) {\n    Interval.Empty = Impl.Empty;\n    Interval.ofSingleton = function (v) { return Impl.ofRange(v, v); };\n    /** Create interval from range [min, max] */\n    Interval.ofRange = Impl.ofRange;\n    /** Create interval from bounds [start, end), i.e. [start, end - 1] */\n    Interval.ofBounds = Impl.ofBounds;\n    /** Create interval from length [0, length), i.e. [0, length - 1] */\n    Interval.ofLength = Impl.ofLength;\n    Interval.is = Impl.is;\n    /** Test if a value is within the bounds of the interval */\n    Interval.has = Impl.has;\n    /** Returns the index of `x` in `set` or -1 if not found. */\n    Interval.indexOf = Impl.indexOf;\n    Interval.getAt = Impl.getAt;\n    /** Start value of the Interval<T>, same as min value */\n    Interval.start = Impl.start;\n    /** End value of the Interval<T>, same as max + 1 */\n    Interval.end = Impl.end;\n    /** Min value of the Interval<T>, same as start value */\n    Interval.min = Impl.min;\n    /** Max value of the Interval<T>, same as end - 1 */\n    Interval.max = Impl.max;\n    /** Number of values in the interval */\n    Interval.size = Impl.size;\n    /** Hash code describing the interval */\n    Interval.hashCode = Impl.hashCode;\n    /** String representation of the interval */\n    Interval.toString = Impl.toString;\n    /** Test if two intervals are identical */\n    Interval.areEqual = Impl.areEqual;\n    /** Test if two intervals are intersecting, i.e. their bounds overlap */\n    Interval.areIntersecting = Impl.areIntersecting;\n    /** Test if interval b is fully included in interval a */\n    Interval.isSubInterval = Impl.isSubInterval;\n    Interval.findPredecessorIndex = Impl.findPredecessorIndex;\n    Interval.findPredecessorIndexInInterval = Impl.findPredecessorIndexInInterval;\n    Interval.findRange = Impl.findRange;\n    /** Size of the intersection of the two intervals */\n    Interval.intersectionSize = Impl.intersectionSize;\n    /** Get a new interval that is the intersection of the two intervals */\n    Interval.intersect = Impl.intersect;\n})(Interval || (Interval = {}));\nexport { Interval };\n","/**\n * Copyright (c) 2017-2019 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n */\nimport { sortArray, hash3, hash4, createRangeArray } from '../../util';\nimport { Interval } from '../interval';\nexport var Empty = [];\nexport function ofSingleton(v) { return [v]; }\nexport function ofSortedArray(xs) { return xs; }\nexport function ofUnsortedArray(xs) { sortArray(xs); return xs; }\nexport function ofRange(min, max) {\n    if (max < min)\n        return [];\n    var ret = new Int32Array(max - min + 1);\n    for (var i = min; i <= max; i++)\n        ret[i - min] = i;\n    return ret;\n}\nexport function is(xs) { return xs && (Array.isArray(xs) || !!xs.buffer); }\nexport function isRange(xs) { return xs[xs.length - 1] - xs[0] + 1 === xs.length; }\nexport function start(xs) { return xs[0]; }\nexport function end(xs) { return xs[xs.length - 1] + 1; }\nexport function min(xs) { return xs[0]; }\nexport function max(xs) { return xs[xs.length - 1]; }\nexport function size(xs) { return xs.length; }\nexport function hashCode(xs) {\n    // hash of tuple (size, min, max, mid)\n    var s = xs.length;\n    if (!s)\n        return 0;\n    if (s > 2)\n        return hash4(s, xs[0], xs[s - 1], xs[s >> 1]);\n    return hash3(s, xs[0], xs[s - 1]);\n}\nexport function toString(xs) {\n    var s = xs.length;\n    if (s > 5)\n        return \"[\".concat(xs[0], \", \").concat(xs[1], \", ..., \").concat(xs[s - 1], \"], length \").concat(s);\n    return \"[\".concat(xs.join(', '), \"]\");\n}\n/** Returns the index of `x` in `set` or -1 if not found. */\nexport function indexOf(xs, v) {\n    var l = xs.length;\n    return l === 0 ? -1 : xs[0] <= v && v <= xs[l - 1] ? binarySearchRange(xs, v, 0, l) : -1;\n}\nexport function indexOfInInterval(xs, v, bounds) {\n    return indexOfInRange(xs, v, Interval.start(bounds), Interval.end(bounds));\n}\nexport function indexOfInRange(xs, v, s, e) {\n    var l = xs.length;\n    return l === 0 || e <= s ? -1 : xs[s] <= v && v <= xs[e - 1] ? binarySearchRange(xs, v, s, e) : -1;\n}\nexport function has(xs, v) { return indexOf(xs, v) >= 0; }\nexport function getAt(xs, i) { return xs[i]; }\nexport function areEqual(a, b) {\n    if (a === b)\n        return true;\n    var aSize = a.length;\n    if (aSize !== b.length || a[0] !== b[0] || a[aSize - 1] !== b[aSize - 1])\n        return false;\n    if (isRange(a))\n        return true;\n    aSize--;\n    for (var i = 1; i < aSize; i++) {\n        if (a[i] !== b[i])\n            return false;\n    }\n    return true;\n}\n/**\n * Returns 0 if `v` is smaller or equal the first element of `xs`\n * Returns length of `xs` if `v` is bigger than the last element of `xs`\n * Otherwise returns the first index where the value of `xs` is equal or bigger than `v`\n */\nexport function findPredecessorIndex(xs, v) {\n    var len = xs.length;\n    if (v <= xs[0])\n        return 0;\n    if (v > xs[len - 1])\n        return len;\n    return binarySearchPredIndexRange(xs, v, 0, len);\n}\nexport function findPredecessorIndexInInterval(xs, v, bounds) {\n    var s = Interval.start(bounds), e = Interval.end(bounds);\n    var sv = xs[s];\n    if (v <= sv)\n        return s;\n    if (e > s && v > xs[e - 1])\n        return e;\n    // do a linear search if there are only 10 or less items remaining\n    if (v - sv <= 11)\n        return linearSearchPredInRange(xs, v, s + 1, e);\n    return binarySearchPredIndexRange(xs, v, s, e);\n}\nexport function findRange(xs, min, max) {\n    return Interval.ofBounds(findPredecessorIndex(xs, min), findPredecessorIndex(xs, max + 1));\n}\nfunction binarySearchRange(xs, value, start, end) {\n    var min = start, max = end - 1;\n    while (min <= max) {\n        // do a linear search if there are only 10 or less items remaining\n        if (min + 11 > max) {\n            for (var i = min; i <= max; i++) {\n                if (value === xs[i])\n                    return i;\n            }\n            return -1;\n        }\n        var mid = (min + max) >> 1;\n        var v = xs[mid];\n        if (value < v)\n            max = mid - 1;\n        else if (value > v)\n            min = mid + 1;\n        else\n            return mid;\n    }\n    return -1;\n}\nfunction binarySearchPredIndexRange(xs, value, start, end) {\n    var min = start, max = end - 1;\n    while (min < max) {\n        // do a linear search if there are only 10 or less items remaining\n        if (min + 11 > max) {\n            for (var i = min; i <= max; i++) {\n                if (value <= xs[i])\n                    return i;\n            }\n            return max + 1;\n        }\n        var mid = (min + max) >> 1;\n        var v = xs[mid];\n        if (value < v)\n            max = mid - 1;\n        else if (value > v)\n            min = mid + 1;\n        else\n            return mid;\n    }\n    if (min > max)\n        return max + 1;\n    return xs[min] >= value ? min : min + 1;\n}\nfunction linearSearchPredInRange(xs, value, start, end) {\n    for (var i = start; i < end; i++) {\n        if (value <= xs[i])\n            return i;\n    }\n    return end;\n}\nexport function areIntersecting(a, b) {\n    if (a === b)\n        return true;\n    var _a = getSuitableIntersectionRange(a, b), i = _a.startI, j = _a.startJ, endI = _a.endI, endJ = _a.endJ;\n    while (i < endI && j < endJ) {\n        var x = a[i], y = b[j];\n        if (x < y)\n            i++;\n        else if (x > y)\n            j++;\n        else\n            return true;\n    }\n    return false;\n}\nexport function isSubset(a, b) {\n    if (a === b)\n        return true;\n    var lenB = b.length;\n    var _a = getSuitableIntersectionRange(a, b), i = _a.startI, j = _a.startJ, endI = _a.endI, endJ = _a.endJ;\n    // must be able to advance by lenB elements\n    if (endJ - j < lenB || endI - i < lenB)\n        return false;\n    var equal = 0;\n    while (i < endI && j < endJ) {\n        var x = a[i], y = b[j];\n        if (x < y) {\n            i++;\n        }\n        else if (x > y) {\n            j++;\n        }\n        else {\n            i++;\n            j++;\n            equal++;\n        }\n    }\n    return equal === lenB;\n}\nexport function union(a, b) {\n    if (a === b)\n        return a;\n    var lenA = a.length, lenB = b.length;\n    if (lenA === 0)\n        return b;\n    if (lenB === 0)\n        return a;\n    if (a[0] > b[0])\n        return union(b, a);\n    var _a = getSuitableIntersectionRange(a, b), startI = _a.startI, startJ = _a.startJ, endI = _a.endI, endJ = _a.endJ;\n    var commonCount = getCommonCount(a, b, startI, startJ, endI, endJ);\n    // A === B || B is subset of A ==> A\n    if ((commonCount === lenA && commonCount === lenB) || commonCount === lenB)\n        return a;\n    // A is subset of B ===> B\n    if (commonCount === lenA)\n        return b;\n    var indices = new Int32Array(lenA + lenB - commonCount);\n    var i = 0, j = 0, offset = 0;\n    // insert the \"prefixes\"\n    for (i = 0; i < startI; i++)\n        indices[offset++] = a[i];\n    while (j < endJ && a[startI] > b[j])\n        indices[offset++] = b[j++];\n    // insert the common part\n    while (i < endI && j < endJ) {\n        var x = a[i], y = b[j];\n        if (x < y) {\n            indices[offset++] = x;\n            i++;\n        }\n        else if (x > y) {\n            indices[offset++] = y;\n            j++;\n        }\n        else {\n            indices[offset++] = x;\n            i++;\n            j++;\n        }\n    }\n    // insert the remaining common part\n    for (; i < endI; i++)\n        indices[offset++] = a[i];\n    for (; j < endJ; j++)\n        indices[offset++] = b[j];\n    // insert the \"tail\"\n    for (; i < lenA; i++)\n        indices[offset++] = a[i];\n    for (; j < lenB; j++)\n        indices[offset++] = b[j];\n    return ofSortedArray(indices);\n}\nexport function intersectionSize(a, b) {\n    if (a === b)\n        return size(a);\n    var _a = getSuitableIntersectionRange(a, b), startI = _a.startI, startJ = _a.startJ, endI = _a.endI, endJ = _a.endJ;\n    return getCommonCount(a, b, startI, startJ, endI, endJ);\n}\nfunction getCommonCount(a, b, startI, startJ, endI, endJ) {\n    var i = startI, j = startJ;\n    var commonCount = 0;\n    while (i < endI && j < endJ) {\n        var x = a[i], y = b[j];\n        if (x < y) {\n            i++;\n        }\n        else if (x > y) {\n            j++;\n        }\n        else {\n            i++;\n            j++;\n            commonCount++;\n        }\n    }\n    return commonCount;\n}\nexport function intersect(a, b) {\n    if (a === b)\n        return a;\n    var _a = getSuitableIntersectionRange(a, b), startI = _a.startI, startJ = _a.startJ, endI = _a.endI, endJ = _a.endJ;\n    var commonCount = getCommonCount(a, b, startI, startJ, endI, endJ);\n    var lenA = a.length, lenB = b.length;\n    // no common elements\n    if (!commonCount)\n        return Empty;\n    // A === B || B is subset of A ==> B\n    if ((commonCount === lenA && commonCount === lenB) || commonCount === lenB)\n        return b;\n    // A is subset of B ==> A\n    if (commonCount === lenA)\n        return a;\n    var indices = new Int32Array(commonCount);\n    var offset = 0;\n    var i = startI;\n    var j = startJ;\n    while (i < endI && j < endJ) {\n        var x = a[i], y = b[j];\n        if (x < y) {\n            i++;\n        }\n        else if (x > y) {\n            j++;\n        }\n        else {\n            indices[offset++] = x;\n            i++;\n            j++;\n        }\n    }\n    return ofSortedArray(indices);\n}\nexport function subtract(a, b) {\n    if (a === b)\n        return Empty;\n    var lenA = a.length;\n    var _a = getSuitableIntersectionRange(a, b), sI = _a.startI, sJ = _a.startJ, endI = _a.endI, endJ = _a.endJ;\n    var i = sI, j = sJ;\n    var commonCount = 0;\n    while (i < endI && j < endJ) {\n        var x = a[i], y = b[j];\n        if (x < y) {\n            i++;\n        }\n        else if (x > y) {\n            j++;\n        }\n        else {\n            i++;\n            j++;\n            commonCount++;\n        }\n    }\n    // A isnt intersecting B ===> A\n    if (!commonCount)\n        return a;\n    // A === B || A is subset of B ===> Empty\n    if (commonCount >= lenA)\n        return Empty;\n    var indices = new Int32Array(lenA - commonCount);\n    var offset = 0;\n    // insert the \"prefix\"\n    for (var k = 0; k < sI; k++)\n        indices[offset++] = a[k];\n    i = sI;\n    j = sJ;\n    while (i < endI && j < endJ) {\n        var x = a[i], y = b[j];\n        if (x < y) {\n            indices[offset++] = x;\n            i++;\n        }\n        else if (x > y) {\n            j++;\n        }\n        else {\n            i++;\n            j++;\n        }\n    }\n    // insert the \"tail\"\n    for (; i < lenA; i++)\n        indices[offset++] = a[i];\n    return ofSortedArray(indices);\n}\nexport function deduplicate(xs) {\n    if (xs.length < 2)\n        return xs;\n    var count = 1;\n    for (var i = 0, _i = xs.length - 1; i < _i; i++) {\n        if (xs[i] !== xs[i + 1])\n            count++;\n    }\n    if (count === xs.length)\n        return xs;\n    var ret = new Int32Array(count);\n    var o = 0;\n    for (var i = 0, _i = xs.length - 1; i < _i; i++) {\n        if (xs[i] !== xs[i + 1])\n            ret[o++] = xs[i];\n    }\n    ret[o] = xs[xs.length - 1];\n    return ret;\n}\nexport function indicesOf(a, b) {\n    if (areEqual(a, b))\n        return ofSortedArray(createRangeArray(0, a.length - 1));\n    var _a = getSuitableIntersectionRange(a, b), sI = _a.startI, sJ = _a.startJ, endI = _a.endI, endJ = _a.endJ;\n    var i = sI, j = sJ;\n    var commonCount = 0;\n    while (i < endI && j < endJ) {\n        var x = a[i], y = b[j];\n        if (x < y) {\n            i++;\n        }\n        else if (x > y) {\n            j++;\n        }\n        else {\n            i++;\n            j++;\n            commonCount++;\n        }\n    }\n    var lenA = a.length;\n    // no common elements\n    if (!commonCount)\n        return Empty;\n    // A is subset of B ==> A\n    if (commonCount === lenA)\n        return ofSortedArray(createRangeArray(0, a.length - 1));\n    var indices = new Int32Array(commonCount);\n    var offset = 0;\n    i = sI;\n    j = sJ;\n    while (i < endI && j < endJ) {\n        var x = a[i], y = b[j];\n        if (x < y) {\n            i++;\n        }\n        else if (x > y) {\n            j++;\n        }\n        else {\n            indices[offset++] = i;\n            i++;\n            j++;\n        }\n    }\n    return ofSortedArray(indices);\n}\nvar _maxIntRangeRet = { startI: 0, startJ: 0, endI: 0, endJ: 0 };\n// for small sets, just gets the whole range, for large sets does a bunch of binary searches\nfunction getSuitableIntersectionRange(a, b) {\n    var la = a.length, lb = b.length;\n    var ratio = la / lb;\n    if (la >= 128 || lb >= 128 || ratio <= 0.34 || ratio >= 2.99) {\n        _maxIntRangeRet.startI = findPredecessorIndex(a, start(b));\n        _maxIntRangeRet.startJ = findPredecessorIndex(b, start(a));\n        _maxIntRangeRet.endI = findPredecessorIndex(a, end(b));\n        _maxIntRangeRet.endJ = findPredecessorIndex(b, end(a));\n    }\n    else {\n        _maxIntRangeRet.startI = 0;\n        _maxIntRangeRet.startJ = 0;\n        _maxIntRangeRet.endI = la;\n        _maxIntRangeRet.endJ = lb;\n    }\n    return _maxIntRangeRet;\n}\n","/**\n * Copyright (c) 2017-2019 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n */\nimport * as Impl from './impl/sorted-array';\nvar SortedArray;\n(function (SortedArray) {\n    SortedArray.Empty = Impl.Empty;\n    SortedArray.ofUnsortedArray = Impl.ofUnsortedArray;\n    SortedArray.ofSingleton = Impl.ofSingleton;\n    SortedArray.ofSortedArray = Impl.ofSortedArray;\n    /** create sorted array [min, max] (it DOES contain the max value) */\n    SortedArray.ofRange = Impl.ofRange;\n    /** create sorted array [min, max) (it does NOT contain the max value) */\n    SortedArray.ofBounds = function (min, max) { return Impl.ofRange(min, max - 1); };\n    SortedArray.is = Impl.is;\n    SortedArray.isRange = Impl.isRange;\n    SortedArray.has = Impl.has;\n    /** Returns the index of `x` in `set` or -1 if not found. */\n    SortedArray.indexOf = Impl.indexOf;\n    SortedArray.indexOfInInterval = Impl.indexOfInInterval;\n    SortedArray.indexOfInRange = Impl.indexOfInRange;\n    /** Returns `array[0]` */\n    SortedArray.start = Impl.start;\n    /** Returns `array[array.length - 1] + 1` */\n    SortedArray.end = Impl.end;\n    SortedArray.min = Impl.min;\n    SortedArray.max = Impl.max;\n    SortedArray.size = Impl.size;\n    SortedArray.hashCode = Impl.hashCode;\n    SortedArray.toString = Impl.toString;\n    SortedArray.areEqual = Impl.areEqual;\n    SortedArray.areIntersecting = Impl.areIntersecting;\n    SortedArray.isSubset = Impl.isSubset;\n    SortedArray.union = Impl.union;\n    SortedArray.intersect = Impl.intersect;\n    SortedArray.subtract = Impl.subtract;\n    SortedArray.findPredecessorIndex = Impl.findPredecessorIndex;\n    SortedArray.findPredecessorIndexInInterval = Impl.findPredecessorIndexInInterval;\n    SortedArray.findRange = Impl.findRange;\n    SortedArray.intersectionSize = Impl.intersectionSize;\n    SortedArray.deduplicate = Impl.deduplicate;\n    /** Returns indices of xs in the array. E.g. indicesOf([10, 11, 12], [10, 12]) ==> [0, 2] */\n    SortedArray.indicesOf = Impl.indicesOf;\n})(SortedArray || (SortedArray = {}));\nexport { SortedArray };\n","/**\n * Copyright (c) 2017-2019 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n */\nimport { SortedArray as S } from '../sorted-array';\nimport { Interval as I } from '../interval';\nexport var Empty = I.Empty;\nexport var ofSingleton = I.ofSingleton;\nexport var ofRange = I.ofRange;\nexport var ofBounds = I.ofBounds;\nexport function ofSortedArray(xs) {\n    if (!xs.length)\n        return Empty;\n    // check if the array is just a range\n    if (S.isRange(xs))\n        return I.ofRange(xs[0], xs[xs.length - 1]);\n    return xs;\n}\nexport function size(set) { return I.is(set) ? I.size(set) : S.size(set); }\nexport function has(set, x) { return I.is(set) ? I.has(set, x) : S.has(set, x); }\n/** Returns the index of `x` in `set` or -1 if not found. */\nexport function indexOf(set, x) { return I.is(set) ? I.indexOf(set, x) : S.indexOf(set, x); }\nexport function getAt(set, i) { return I.is(set) ? I.getAt(set, i) : set[i]; }\nexport function min(set) { return I.is(set) ? I.min(set) : S.min(set); }\nexport function max(set) { return I.is(set) ? I.max(set) : S.max(set); }\nexport function start(set) { return I.is(set) ? I.start(set) : S.start(set); }\nexport function end(set) { return I.is(set) ? I.end(set) : S.end(set); }\nexport function hashCode(set) { return I.is(set) ? I.hashCode(set) : S.hashCode(set); }\n// TODO: possibly add more hash functions to allow for multilevel hashing.\nexport function toString(set) { return I.is(set) ? I.toString(set) : S.toString(set); }\nexport function areEqual(a, b) {\n    if (I.is(a)) {\n        if (I.is(b))\n            return I.areEqual(a, b);\n        return areEqualIS(a, b);\n    }\n    else if (I.is(b))\n        return areEqualIS(b, a);\n    return S.areEqual(a, b);\n}\nexport function areIntersecting(a, b) {\n    if (I.is(a)) {\n        if (I.is(b))\n            return I.areIntersecting(a, b);\n        return areIntersectingSI(b, a);\n    }\n    else if (I.is(b))\n        return areIntersectingSI(a, b);\n    return S.areIntersecting(a, b);\n}\n/** Check if the 2nd argument is a subset of the 1st */\nexport function isSubset(a, b) {\n    if (I.is(a)) {\n        if (I.is(b))\n            return I.isSubInterval(a, b);\n        return isSubsetIS(a, b);\n    }\n    else if (I.is(b))\n        return isSubsetSI(a, b);\n    return S.isSubset(a, b);\n}\nexport function findPredecessorIndex(set, x) {\n    return I.is(set) ? I.findPredecessorIndex(set, x) : S.findPredecessorIndex(set, x);\n}\nexport function findPredecessorIndexInInterval(set, x, bounds) {\n    return I.is(set) ? I.findPredecessorIndexInInterval(set, x, bounds) : S.findPredecessorIndexInInterval(set, x, bounds);\n}\nexport function findRange(set, min, max) {\n    return I.is(set) ? I.findRange(set, min, max) : S.findRange(set, min, max);\n}\nexport function intersectionSize(a, b) {\n    if (I.is(a)) {\n        if (I.is(b))\n            return I.intersectionSize(a, b);\n        return intersectionSizeSI(b, a);\n    }\n    else if (I.is(b))\n        return intersectionSizeSI(a, b);\n    return S.intersectionSize(a, b);\n}\nexport function union(a, b) {\n    if (I.is(a)) {\n        if (I.is(b))\n            return unionII(a, b);\n        return unionSI(b, a);\n    }\n    else if (I.is(b))\n        return unionSI(a, b);\n    return ofSortedArray(S.union(a, b));\n}\nexport function intersect(a, b) {\n    if (I.is(a)) {\n        if (I.is(b))\n            return I.intersect(a, b);\n        return intersectSI(b, a);\n    }\n    else if (I.is(b))\n        return intersectSI(a, b);\n    return ofSortedArray(S.intersect(a, b));\n}\nexport function subtract(a, b) {\n    if (I.is(a)) {\n        if (I.is(b))\n            return subtractII(a, b);\n        return subtractIS(a, b);\n    }\n    else if (I.is(b))\n        return subtractSI(a, b);\n    return ofSortedArray(S.subtract(a, b));\n}\nfunction areEqualIS(a, b) { return I.size(a) === S.size(b) && I.start(a) === S.start(b) && I.end(a) === S.end(b); }\nfunction areIntersectingSI(a, b) {\n    return a.length !== 0 && I.size(S.findRange(a, I.min(b), I.max(b))) !== 0;\n}\nfunction isSubsetSI(a, b) {\n    var minB = I.min(b), maxB = I.max(b);\n    if (maxB - minB + 1 === 0)\n        return true;\n    var minA = S.min(a), maxA = S.max(a);\n    if (minB < minA || maxB > maxA)\n        return false;\n    var r = S.findRange(a, minB, maxB);\n    return I.size(r) === I.size(b);\n}\nfunction isSubsetIS(a, b) {\n    var minA = I.min(a), maxA = I.max(a);\n    if (maxA - minA + 1 === 0)\n        return false;\n    var minB = S.min(b), maxB = S.max(b);\n    return minB >= minA && maxB <= maxA;\n}\nfunction areRangesIntersecting(a, b) {\n    var sa = size(a), sb = size(b);\n    if (sa === 0 && sb === 0)\n        return true;\n    return sa > 0 && sb > 0 && max(a) >= min(b) && min(a) <= max(b);\n}\nfunction isRangeSubset(a, b) {\n    if (!size(a))\n        return size(b) === 0;\n    if (!size(b))\n        return true;\n    return min(a) <= min(b) && max(a) >= max(b);\n}\nfunction unionII(a, b) {\n    if (I.areEqual(a, b))\n        return a;\n    var sizeA = I.size(a), sizeB = I.size(b);\n    if (!sizeB)\n        return a;\n    if (!sizeA)\n        return b;\n    var minA = I.min(a), minB = I.min(b);\n    if (areRangesIntersecting(a, b))\n        return I.ofRange(Math.min(minA, minB), Math.max(I.max(a), I.max(b)));\n    var lSize, lMin, rSize, rMin;\n    if (minA < minB) {\n        lSize = sizeA;\n        lMin = minA;\n        rSize = sizeB;\n        rMin = minB;\n    }\n    else {\n        lSize = sizeB;\n        lMin = minB;\n        rSize = sizeA;\n        rMin = minA;\n    }\n    var arr = new Int32Array(sizeA + sizeB);\n    for (var i = 0; i < lSize; i++)\n        arr[i] = i + lMin;\n    for (var i = 0; i < rSize; i++)\n        arr[i + lSize] = i + rMin;\n    return ofSortedArray(arr);\n}\nfunction unionSI(a, b) {\n    var bSize = I.size(b);\n    if (!bSize)\n        return a;\n    // is the array fully contained in the range?\n    if (isRangeSubset(b, a))\n        return b;\n    var min = I.min(b), max = I.max(b);\n    var r = S.findRange(a, min, max);\n    var start = I.start(r), end = I.end(r);\n    var indices = new Int32Array(start + (a.length - end) + bSize);\n    var offset = 0;\n    for (var i = 0; i < start; i++)\n        indices[offset++] = a[i];\n    for (var i = min; i <= max; i++)\n        indices[offset++] = i;\n    for (var i = end, _i = a.length; i < _i; i++)\n        indices[offset++] = a[i];\n    return ofSortedArray(indices);\n}\nfunction intersectionSizeSI(a, b) {\n    if (!I.size(b))\n        return 0;\n    var r = S.findRange(a, I.min(b), I.max(b));\n    return I.end(r) - I.start(r);\n}\nfunction intersectSI(a, b) {\n    if (!I.size(b))\n        return Empty;\n    var r = S.findRange(a, I.min(b), I.max(b));\n    var start = I.start(r), end = I.end(r);\n    var resultSize = end - start;\n    if (!resultSize)\n        return Empty;\n    if (resultSize === a.length)\n        return a;\n    var indices = new Int32Array(resultSize);\n    var offset = 0;\n    for (var i = start; i < end; i++) {\n        indices[offset++] = a[i];\n    }\n    return ofSortedArray(indices);\n}\nfunction subtractII(a, b) {\n    if (I.areEqual(a, b))\n        return Empty;\n    if (!I.areIntersecting(a, b))\n        return a;\n    var minA = I.min(a), maxA = I.max(a);\n    var minB = I.min(b), maxB = I.max(b);\n    if (maxA < minA || maxB < minB)\n        return a;\n    // is A subset of B? ==> Empty\n    if (I.isSubInterval(b, a))\n        return Empty;\n    if (I.isSubInterval(a, b)) {\n        // this splits the interval into two, gotta represent it as a set.\n        var l = minB - minA, r = maxA - maxB;\n        if (l <= 0)\n            return I.ofRange(maxB + 1, maxB + r);\n        if (r <= 0)\n            return I.ofRange(minA, minA + l - 1);\n        var ret = new Int32Array(l + r);\n        var offset = 0;\n        for (var i = 0; i < l; i++)\n            ret[offset++] = minA + i;\n        for (var i = 1; i <= r; i++)\n            ret[offset++] = maxB + i;\n        return ofSortedArray(ret);\n    }\n    if (minA < minB)\n        return I.ofRange(minA, minB - 1);\n    return I.ofRange(maxB + 1, maxA);\n}\nfunction subtractSI(a, b) {\n    var min = I.min(b), max = I.max(b);\n    // is empty?\n    if (max < min)\n        return a;\n    var r = S.findRange(a, min, max);\n    var start = I.start(r), end = I.end(r);\n    var resultSize = a.length - (end - start);\n    // A is subset of B\n    if (resultSize <= 0)\n        return Empty;\n    // No common elements\n    if (resultSize === a.length)\n        return a;\n    var ret = new Int32Array(resultSize);\n    var offset = 0;\n    for (var i = 0; i < start; i++)\n        ret[offset++] = a[i];\n    for (var i = end, _i = a.length; i < _i; i++)\n        ret[offset++] = a[i];\n    return ofSortedArray(ret);\n}\nfunction subtractIS(a, b) {\n    var min = I.min(a), max = I.max(a);\n    // is empty?\n    if (max < min)\n        return a;\n    var rSize = max - min + 1;\n    var interval = S.findRange(b, min, max);\n    var start = I.start(interval), end = I.end(interval);\n    var commonCount = end - start;\n    // No common elements.\n    if (commonCount === 0)\n        return a;\n    var resultSize = rSize - commonCount;\n    // A is subset of B\n    if (resultSize <= 0)\n        return Empty;\n    var ret = new Int32Array(resultSize);\n    var li = b.length - 1;\n    var fst = b[Math.min(start, li)], last = b[Math.min(end, li)];\n    var offset = 0;\n    for (var i = min; i < fst; i++)\n        ret[offset++] = i;\n    for (var i = fst; i <= last; i++) {\n        if (S.indexOfInInterval(b, i, interval) < 0)\n            ret[offset++] = i;\n    }\n    for (var i = last + 1; i <= max; i++)\n        ret[offset++] = i;\n    return ofSortedArray(ret);\n}\nexport function forEach(set, f, ctx) {\n    if (I.is(set)) {\n        var start_1 = I.min(set);\n        for (var i = start_1, _i = I.max(set); i <= _i; i++) {\n            f(i, i - start_1, ctx);\n        }\n    }\n    else {\n        for (var i = 0, _i = set.length; i < _i; i++) {\n            f(set[i], i, ctx);\n        }\n    }\n    return ctx;\n}\nexport function forEachSegment(set, segment, f, ctx) {\n    if (I.is(set)) {\n        var sI = 0;\n        for (var i = I.min(set), _i = I.max(set); i <= _i; i++) {\n            var s = segment(i);\n            var endI = i + 1;\n            while (endI < _i && segment(endI) === s)\n                endI++;\n            i = endI - 1;\n            f(s, sI, ctx);\n            sI++;\n        }\n    }\n    else {\n        var sI = 0;\n        for (var i = 0, _i = set.length; i < _i; i++) {\n            var s = segment(set[i]);\n            var endI = i + 1;\n            while (endI < _i && segment(set[endI]) === s)\n                endI++;\n            i = endI - 1;\n            f(s, sI, ctx);\n            sI++;\n        }\n    }\n    return ctx;\n}\nexport function indexedIntersect(idxA, a, b) {\n    if (a === b)\n        return idxA;\n    var lenI = size(idxA), lenA = a.length, lenB = b.length;\n    if (lenI === 0 || lenA === 0 || lenB === 0)\n        return Empty;\n    var startJ = S.findPredecessorIndex(b, a[min(idxA)]);\n    var endJ = S.findPredecessorIndex(b, a[max(idxA)] + 1);\n    var commonCount = 0;\n    var offset = 0;\n    var O = 0;\n    var j = startJ;\n    while (O < lenI && j < endJ) {\n        var x = a[getAt(idxA, O)], y = b[j];\n        if (x < y) {\n            O++;\n        }\n        else if (x > y) {\n            j++;\n        }\n        else {\n            commonCount++;\n            O++;\n            j++;\n        }\n    }\n    // no common elements\n    if (commonCount === 0)\n        return Empty;\n    // A === B\n    if (commonCount === lenA && commonCount === lenB)\n        return idxA;\n    var indices = new Int32Array(commonCount);\n    offset = 0;\n    O = 0;\n    j = startJ;\n    while (O < lenI && j < endJ) {\n        var x = a[getAt(idxA, O)], y = b[j];\n        if (x < y) {\n            O++;\n        }\n        else if (x > y) {\n            j++;\n        }\n        else {\n            indices[offset++] = j;\n            O++;\n            j++;\n        }\n    }\n    return ofSortedArray(indices);\n}\n","/**\n * Copyright (c) 2017-2019 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n */\nimport * as Base from './impl/ordered-set';\nimport { Interval } from './interval';\nvar OrderedSet;\n(function (OrderedSet) {\n    OrderedSet.Empty = Base.Empty;\n    OrderedSet.ofSingleton = Base.ofSingleton;\n    /** Create interval from range [min, max] */\n    OrderedSet.ofRange = Base.ofRange;\n    /** Create interval from bounds [start, end), i.e. [start, end - 1] */\n    OrderedSet.ofBounds = Base.ofBounds;\n    /** It is the responsibility of the caller to ensure the array is sorted and contains unique values. */\n    OrderedSet.ofSortedArray = Base.ofSortedArray;\n    OrderedSet.has = Base.has;\n    /** Returns the index of `x` in `set` or -1 if not found. */\n    OrderedSet.indexOf = Base.indexOf;\n    /** Returns the value in `set` at index `i`. */\n    OrderedSet.getAt = Base.getAt;\n    OrderedSet.min = Base.min;\n    OrderedSet.max = Base.max;\n    OrderedSet.start = Base.start;\n    OrderedSet.end = Base.end;\n    /** Number of elements in the OrderedSet */\n    OrderedSet.size = Base.size;\n    OrderedSet.hashCode = Base.hashCode;\n    OrderedSet.areEqual = Base.areEqual;\n    OrderedSet.areIntersecting = Base.areIntersecting;\n    /** Check if the 2nd argument is a subset of the 1st */\n    OrderedSet.isSubset = Base.isSubset;\n    OrderedSet.union = Base.union;\n    OrderedSet.intersect = Base.intersect;\n    OrderedSet.indexedIntersect = Base.indexedIntersect;\n    /** Returns elements of `a` that are not in `b`, i.e `a` - `b` */\n    OrderedSet.subtract = Base.subtract;\n    /**\n     * Returns 0 if `x` is smaller or equal the first element of `set`\n     * Returns length of `set` if `x` is bigger than the last element of `set`\n     * Otherwise returns the first index where the value of `set` is equal or bigger than `x`\n     */\n    OrderedSet.findPredecessorIndex = Base.findPredecessorIndex;\n    OrderedSet.findPredecessorIndexInInterval = Base.findPredecessorIndexInInterval;\n    OrderedSet.findRange = Base.findRange;\n    OrderedSet.intersectionSize = Base.intersectionSize;\n    function forEach(set, f, ctx) {\n        return Base.forEach(set, f, ctx);\n    }\n    OrderedSet.forEach = forEach;\n    function forEachSegment(set, segment, f, ctx) {\n        return Base.forEachSegment(set, segment, f, ctx);\n    }\n    OrderedSet.forEachSegment = forEachSegment;\n    function isInterval(set) {\n        return Interval.is(set);\n    }\n    OrderedSet.isInterval = isInterval;\n    function isSortedArray(set) {\n        return !Interval.is(set);\n    }\n    OrderedSet.isSortedArray = isSortedArray;\n    function toArray(set) {\n        var array = [];\n        OrderedSet.forEach(set, function (v) { return array.push(v); });\n        return array;\n    }\n    OrderedSet.toArray = toArray;\n    function toString(set) {\n        return Base.toString(set);\n    }\n    OrderedSet.toString = toString;\n})(OrderedSet || (OrderedSet = {}));\nexport { OrderedSet };\n","/**\n * Copyright (c) 2017 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n */\nimport { OrderedSet } from '../ordered-set';\nimport { Interval } from '../interval';\nimport { SortedArray } from '../sorted-array';\nexport function create(values) {\n    var offsets = SortedArray.ofSortedArray(values);\n    var max = SortedArray.max(offsets);\n    var index = new Int32Array(max);\n    for (var i = 0, _i = values.length - 1; i < _i; i++) {\n        for (var j = values[i], _j = values[i + 1]; j < _j; j++) {\n            index[j] = i;\n        }\n    }\n    return { offsets: offsets, index: index, count: values.length - 1 };\n}\nexport function ofOffsets(offsets, bounds) {\n    var s = Interval.start(bounds);\n    var segments = new Int32Array(offsets.length + 1);\n    for (var i = 0, _i = offsets.length; i < _i; i++) {\n        segments[i] = offsets[i] - s;\n    }\n    segments[offsets.length] = Interval.end(bounds) - s;\n    return create(segments);\n}\n/** Get number of segments in a segmentation */\nexport function count(_a) {\n    var count = _a.count;\n    return count;\n}\nexport function getSegment(_a, value) {\n    var index = _a.index;\n    return index[value];\n}\nexport function projectValue(_a, set, value) {\n    var offsets = _a.offsets;\n    var last = OrderedSet.max(offsets);\n    var idx = value >= last ? -1 : OrderedSet.findPredecessorIndex(offsets, value - 1);\n    return OrderedSet.findRange(set, OrderedSet.getAt(offsets, idx), OrderedSet.getAt(offsets, idx + 1) - 1);\n}\nvar SegmentIterator = /** @class */ (function () {\n    function SegmentIterator(segments, segmentMap, set, inputRange) {\n        this.segments = segments;\n        this.segmentMap = segmentMap;\n        this.set = set;\n        this.segmentMin = 0;\n        this.segmentMax = 0;\n        this.setRange = Interval.Empty;\n        this.value = { index: 0, start: 0, end: 0 };\n        this.hasNext = false;\n        this.setRange = inputRange;\n        this.updateSegmentRange();\n    }\n    SegmentIterator.prototype.move = function () {\n        while (this.hasNext) {\n            if (this.updateValue()) {\n                this.value.index = this.segmentMin++;\n                this.hasNext = this.segmentMax >= this.segmentMin && Interval.size(this.setRange) > 0;\n                break;\n            }\n            else {\n                this.updateSegmentRange();\n            }\n        }\n        return this.value;\n    };\n    SegmentIterator.prototype.updateValue = function () {\n        var segmentEnd = this.segments[this.segmentMin + 1];\n        // TODO: add optimized version for interval and array?\n        var setEnd = OrderedSet.findPredecessorIndexInInterval(this.set, segmentEnd, this.setRange);\n        this.value.start = Interval.start(this.setRange);\n        this.value.end = setEnd;\n        this.setRange = Interval.ofBounds(setEnd, Interval.end(this.setRange));\n        return setEnd > this.value.start;\n    };\n    SegmentIterator.prototype.updateSegmentRange = function () {\n        var sMin = Interval.min(this.setRange), sMax = Interval.max(this.setRange);\n        if (sMax < sMin) {\n            this.hasNext = false;\n            return;\n        }\n        this.segmentMin = this.segmentMap[OrderedSet.getAt(this.set, sMin)];\n        this.segmentMax = this.segmentMap[OrderedSet.getAt(this.set, sMax)];\n        this.hasNext = this.segmentMax >= this.segmentMin;\n    };\n    SegmentIterator.prototype.setSegment = function (segment) {\n        this.setRange = Interval.ofBounds(segment.start, segment.end);\n        this.updateSegmentRange();\n    };\n    return SegmentIterator;\n}());\nexport { SegmentIterator };\nexport function segments(segs, set, segment) {\n    var int = typeof segment !== 'undefined' ? Interval.ofBounds(segment.start, segment.end) : Interval.ofBounds(0, OrderedSet.size(set));\n    return new SegmentIterator(segs.offsets, segs.index, set, int);\n}\n","/**\n * Copyright (c) 2017 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n */\nimport * as Impl from './impl/segmentation';\nvar Segmentation;\n(function (Segmentation) {\n    Segmentation.create = Impl.create;\n    Segmentation.ofOffsets = Impl.ofOffsets;\n    Segmentation.count = Impl.count;\n    Segmentation.getSegment = Impl.getSegment;\n    Segmentation.projectValue = Impl.projectValue;\n    /** Segment iterator that mutates a single segment object to mark all the segments. */\n    Segmentation.transientSegments = Impl.segments;\n})(Segmentation || (Segmentation = {}));\nexport { Segmentation };\n","/**\n * Copyright (c) 2017 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n */\nfunction LinkedIndex(size) {\n    return new LinkedIndexImpl(size);\n}\nvar LinkedIndexImpl = /** @class */ (function () {\n    function LinkedIndexImpl(size) {\n        this.head = size > 0 ? 0 : -1;\n        this.prev = new Int32Array(size);\n        this.next = new Int32Array(size);\n        for (var i = 0; i < size; i++) {\n            this.next[i] = i + 1;\n            this.prev[i] = i - 1;\n        }\n        this.prev[0] = -1;\n        this.next[size - 1] = -1;\n    }\n    LinkedIndexImpl.prototype.remove = function (i) {\n        var _a = this, prev = _a.prev, next = _a.next;\n        var p = prev[i], n = next[i];\n        if (p >= 0) {\n            next[p] = n;\n            prev[i] = -1;\n        }\n        if (n >= 0) {\n            prev[n] = p;\n            next[i] = -1;\n        }\n        if (i === this.head) {\n            if (p < 0)\n                this.head = n;\n            else\n                this.head = p;\n        }\n    };\n    LinkedIndexImpl.prototype.has = function (i) {\n        return this.prev[i] >= 0 || this.next[i] >= 0 || this.head === i;\n    };\n    return LinkedIndexImpl;\n}());\nexport { LinkedIndex };\n","/**\n * Copyright (c) 2017 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n */\nimport { iterableToArray } from '../util';\nvar IntMap;\n(function (IntMap) {\n    IntMap.Empty = new Map();\n    function keyArray(map) {\n        return iterableToArray(map.keys());\n    }\n    IntMap.keyArray = keyArray;\n    function Mutable() {\n        return new Map();\n    }\n    IntMap.Mutable = Mutable;\n    function asImmutable(map) {\n        return map;\n    }\n    IntMap.asImmutable = asImmutable;\n    function copy(map) {\n        var ret = Mutable();\n        var it = map.keys();\n        while (true) {\n            var _a = it.next(), done = _a.done, value = _a.value;\n            if (done)\n                break;\n            ret.set(value, map.get(value));\n        }\n        return ret;\n    }\n    IntMap.copy = copy;\n    function addFrom(map, src) {\n        var it = src.keys();\n        while (true) {\n            var _a = it.next(), done = _a.done, value = _a.value;\n            if (done)\n                break;\n            map.set(value, src.get(value));\n        }\n        return map;\n    }\n    IntMap.addFrom = addFrom;\n})(IntMap || (IntMap = {}));\nexport { IntMap };\n","/**\n * Copyright (c) 2017 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n */\nvar ArrayIteratorImpl = /** @class */ (function () {\n    function ArrayIteratorImpl(xs) {\n        this.xs = [];\n        this.index = -1;\n        this.length = 0;\n        this.hasNext = false;\n        this.length = xs.length;\n        this.hasNext = xs.length > 0;\n        this.xs = xs;\n        this.index = -1;\n        // try to avoid deoptimization with undefined values\n        this.lastValue = xs.length > 0 ? xs[0] : void 0;\n    }\n    ArrayIteratorImpl.prototype.move = function () {\n        ++this.index;\n        this.lastValue = this.xs[this.index];\n        this.hasNext = this.index < this.length - 1;\n        return this.lastValue;\n    };\n    return ArrayIteratorImpl;\n}());\nvar RangeIteratorImpl = /** @class */ (function () {\n    function RangeIteratorImpl(min, max) {\n        this.max = max;\n        this.value = 0;\n        this.hasNext = false;\n        this.value = min - 1;\n        this.hasNext = max >= min;\n    }\n    RangeIteratorImpl.prototype.move = function () {\n        ++this.value;\n        this.hasNext = this.value < this.max;\n        return this.value;\n    };\n    return RangeIteratorImpl;\n}());\nvar ValueIterator = /** @class */ (function () {\n    function ValueIterator(value) {\n        this.value = value;\n        this.hasNext = true;\n    }\n    ValueIterator.prototype.move = function () { this.hasNext = false; return this.value; };\n    return ValueIterator;\n}());\nvar MapIteratorImpl = /** @class */ (function () {\n    function MapIteratorImpl(base, f) {\n        this.base = base;\n        this.f = f;\n        this.hasNext = false;\n        this.hasNext = base.hasNext;\n    }\n    MapIteratorImpl.prototype.move = function () {\n        var v = this.f(this.base.move());\n        this.hasNext = this.base.hasNext;\n        return v;\n    };\n    return MapIteratorImpl;\n}());\nvar FilterIteratorImpl = /** @class */ (function () {\n    function FilterIteratorImpl(base, p) {\n        this.base = base;\n        this.p = p;\n        this.hasNext = this.findNext();\n    }\n    FilterIteratorImpl.prototype.move = function () {\n        var ret = this.next;\n        this.hasNext = this.findNext();\n        return ret;\n    };\n    FilterIteratorImpl.prototype.findNext = function () {\n        while (this.base.hasNext) {\n            this.next = this.base.move();\n            if (this.p(this.next))\n                return true;\n        }\n        return false;\n    };\n    return FilterIteratorImpl;\n}());\nvar Iterator;\n(function (Iterator) {\n    Iterator.Empty = new RangeIteratorImpl(0, -1);\n    function Array(xs) { return new ArrayIteratorImpl(xs); }\n    Iterator.Array = Array;\n    function Value(value) { return new ValueIterator(value); }\n    Iterator.Value = Value;\n    function Range(min, max) { return new RangeIteratorImpl(min, max); }\n    Iterator.Range = Range;\n    function map(base, f) { return new MapIteratorImpl(base, f); }\n    Iterator.map = map;\n    function filter(base, p) { return new FilterIteratorImpl(base, p); }\n    Iterator.filter = filter;\n    // Iterate until first truthy value is returned.\n    function forEach(it, f, ctx) {\n        while (it.hasNext) {\n            var c = f(it.move(), ctx);\n            if (c)\n                return ctx;\n        }\n        return ctx;\n    }\n    Iterator.forEach = forEach;\n})(Iterator || (Iterator = {}));\nexport { Iterator };\n","/**\n * Copyright (c) 2019-2021 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\nimport { Vec3, Mat3 } from '../../linear-algebra';\nfunction Axes3D() {\n    return Axes3D.empty();\n}\n(function (Axes3D) {\n    function create(origin, dirA, dirB, dirC) { return { origin: origin, dirA: dirA, dirB: dirB, dirC: dirC }; }\n    Axes3D.create = create;\n    function empty() { return { origin: Vec3(), dirA: Vec3(), dirB: Vec3(), dirC: Vec3() }; }\n    Axes3D.empty = empty;\n    function copy(out, a) {\n        Vec3.copy(out.origin, a.origin);\n        Vec3.copy(out.dirA, a.dirA);\n        Vec3.copy(out.dirB, a.dirB);\n        Vec3.copy(out.dirC, a.dirC);\n        return out;\n    }\n    Axes3D.copy = copy;\n    function clone(a) {\n        return copy(empty(), a);\n    }\n    Axes3D.clone = clone;\n    /** Get size of each direction */\n    function size(size, axes) {\n        return Vec3.set(size, Vec3.magnitude(axes.dirA) * 2, Vec3.magnitude(axes.dirB) * 2, Vec3.magnitude(axes.dirC) * 2);\n    }\n    Axes3D.size = size;\n    var tmpSizeV = Vec3();\n    /** Get volume of the oriented box wrapping the axes */\n    function volume(axes) {\n        size(tmpSizeV, axes);\n        return tmpSizeV[0] * tmpSizeV[1] * tmpSizeV[2];\n    }\n    Axes3D.volume = volume;\n    function normalize(out, a) {\n        Vec3.copy(out.origin, a.origin);\n        Vec3.normalize(out.dirA, a.dirA);\n        Vec3.normalize(out.dirB, a.dirB);\n        Vec3.normalize(out.dirC, a.dirC);\n        return out;\n    }\n    Axes3D.normalize = normalize;\n    var tmpTransformMat3 = Mat3();\n    /** Transform axes with a Mat4 */\n    function transform(out, a, m) {\n        Vec3.transformMat4(out.origin, a.origin, m);\n        var n = Mat3.directionTransform(tmpTransformMat3, m);\n        Vec3.transformMat3(out.dirA, a.dirA, n);\n        Vec3.transformMat3(out.dirB, a.dirB, n);\n        Vec3.transformMat3(out.dirC, a.dirC, n);\n        return out;\n    }\n    Axes3D.transform = transform;\n    function scale(out, a, scale) {\n        Vec3.scale(out.dirA, a.dirA, scale);\n        Vec3.scale(out.dirB, a.dirB, scale);\n        Vec3.scale(out.dirC, a.dirC, scale);\n        return out;\n    }\n    Axes3D.scale = scale;\n})(Axes3D || (Axes3D = {}));\nexport { Axes3D };\n","/**\n * Copyright (c) 2018-2022 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\nimport { __spreadArray } from \"tslib\";\nimport { Vec3, Mat4, EPSILON } from '../../linear-algebra';\nimport { OrderedSet } from '../../../mol-data/int';\nimport { Axes3D } from './axes3d';\nimport { PrincipalAxes } from '../../linear-algebra/matrix/principal-axes';\nfunction Sphere3D() {\n    return Sphere3D.zero();\n}\n(function (Sphere3D) {\n    function hasExtrema(sphere) {\n        return sphere.extrema !== undefined;\n    }\n    Sphere3D.hasExtrema = hasExtrema;\n    function create(center, radius) { return { center: center, radius: radius }; }\n    Sphere3D.create = create;\n    function zero() { return { center: Vec3(), radius: 0 }; }\n    Sphere3D.zero = zero;\n    function clone(a) {\n        var out = create(Vec3.clone(a.center), a.radius);\n        if (hasExtrema(a))\n            out.extrema = a.extrema.map(function (e) { return Vec3.clone(e); });\n        return out;\n    }\n    Sphere3D.clone = clone;\n    function set(out, center, radius) {\n        Vec3.copy(out.center, center);\n        out.radius = radius;\n        return out;\n    }\n    Sphere3D.set = set;\n    function copy(out, a) {\n        Vec3.copy(out.center, a.center);\n        out.radius = a.radius;\n        if (hasExtrema(a))\n            setExtrema(out, a.extrema.map(function (e) { return Vec3.clone(e); }));\n        return out;\n    }\n    Sphere3D.copy = copy;\n    /** Note that `extrema` must not be reused elsewhere */\n    function setExtrema(out, extrema) {\n        var _a;\n        if (out.extrema !== undefined) {\n            out.extrema.length = 0;\n            (_a = out.extrema).push.apply(_a, extrema);\n        }\n        else {\n            out.extrema = extrema;\n        }\n        return out;\n    }\n    Sphere3D.setExtrema = setExtrema;\n    function computeBounding(data) {\n        var x = data.x, y = data.y, z = data.z, indices = data.indices;\n        var cx = 0, cy = 0, cz = 0;\n        var radiusSq = 0;\n        var size = OrderedSet.size(indices);\n        for (var t = 0; t < size; t++) {\n            var i = OrderedSet.getAt(indices, t);\n            cx += x[i];\n            cy += y[i];\n            cz += z[i];\n        }\n        if (size > 0) {\n            cx /= size;\n            cy /= size;\n            cz /= size;\n        }\n        for (var t = 0; t < size; t++) {\n            var i = OrderedSet.getAt(indices, t);\n            var dx = x[i] - cx, dy = y[i] - cy, dz = z[i] - cz;\n            var d = dx * dx + dy * dy + dz * dz;\n            if (d > radiusSq)\n                radiusSq = d;\n        }\n        return { center: Vec3.create(cx, cy, cz), radius: Math.sqrt(radiusSq) };\n    }\n    Sphere3D.computeBounding = computeBounding;\n    /** Transform sphere with a Mat4 */\n    function transform(out, sphere, m) {\n        Vec3.transformMat4(out.center, sphere.center, m);\n        out.radius = sphere.radius * Mat4.getMaxScaleOnAxis(m);\n        if (hasExtrema(sphere)) {\n            setExtrema(out, sphere.extrema.map(function (e) { return Vec3.transformMat4(Vec3(), e, m); }));\n        }\n        return out;\n    }\n    Sphere3D.transform = transform;\n    /** Translate sphere by Vec3 */\n    function translate(out, sphere, v) {\n        Vec3.add(out.center, sphere.center, v);\n        if (hasExtrema(sphere)) {\n            setExtrema(out, sphere.extrema.map(function (e) { return Vec3.add(Vec3(), e, v); }));\n        }\n        return out;\n    }\n    Sphere3D.translate = translate;\n    function toArray(s, out, offset) {\n        Vec3.toArray(s.center, out, offset);\n        out[offset + 3] = s.radius;\n        return out;\n    }\n    Sphere3D.toArray = toArray;\n    function fromArray(out, array, offset) {\n        Vec3.fromArray(out.center, array, offset);\n        out.radius = array[offset + 3];\n        return out;\n    }\n    Sphere3D.fromArray = fromArray;\n    function fromBox3D(out, box) {\n        Vec3.scale(out.center, Vec3.add(out.center, box.max, box.min), 0.5);\n        out.radius = Vec3.distance(out.center, box.max);\n        Sphere3D.setExtrema(out, [\n            Vec3.create(box.min[0], box.min[1], box.min[2]),\n            Vec3.create(box.max[0], box.max[1], box.max[2]),\n            Vec3.create(box.max[0], box.min[1], box.min[2]),\n            Vec3.create(box.min[0], box.max[1], box.max[2]),\n            Vec3.create(box.min[0], box.min[1], box.max[2]),\n            Vec3.create(box.max[0], box.min[1], box.max[2]),\n            Vec3.create(box.max[0], box.max[1], box.min[2]),\n            Vec3.create(box.min[0], box.max[1], box.min[2]),\n        ]);\n        return out;\n    }\n    Sphere3D.fromBox3D = fromBox3D;\n    function fromAxes3D(out, axes) {\n        Vec3.copy(out.center, axes.origin);\n        out.radius = Math.max(Vec3.magnitude(axes.dirA), Vec3.magnitude(axes.dirB), Vec3.magnitude(axes.dirC));\n        return out;\n    }\n    Sphere3D.fromAxes3D = fromAxes3D;\n    var tmpCenter = Vec3();\n    /** Get a tight sphere around a transformed box */\n    function fromDimensionsAndTransform(out, dimensions, transform) {\n        var x = dimensions[0], y = dimensions[1], z = dimensions[2];\n        var cpA = Vec3.create(0, 0, 0);\n        Vec3.transformMat4(cpA, cpA, transform);\n        var cpB = Vec3.create(x, y, z);\n        Vec3.transformMat4(cpB, cpB, transform);\n        var cpC = Vec3.create(x, 0, 0);\n        Vec3.transformMat4(cpC, cpC, transform);\n        var cpD = Vec3.create(0, y, z);\n        Vec3.transformMat4(cpD, cpD, transform);\n        var cpE = Vec3.create(0, 0, z);\n        Vec3.transformMat4(cpE, cpE, transform);\n        var cpF = Vec3.create(x, 0, z);\n        Vec3.transformMat4(cpF, cpF, transform);\n        var cpG = Vec3.create(x, y, 0);\n        Vec3.transformMat4(cpG, cpG, transform);\n        var cpH = Vec3.create(0, y, 0);\n        Vec3.transformMat4(cpH, cpH, transform);\n        Vec3.add(tmpCenter, cpA, cpB);\n        Vec3.scale(tmpCenter, tmpCenter, 0.5);\n        var d = Math.max(Vec3.distance(cpA, cpB), Vec3.distance(cpC, cpD));\n        Sphere3D.set(out, tmpCenter, d / 2);\n        Sphere3D.setExtrema(out, [cpA, cpB, cpC, cpD, cpE, cpF, cpG, cpH]);\n        return out;\n    }\n    Sphere3D.fromDimensionsAndTransform = fromDimensionsAndTransform;\n    var tmpAddVec3 = Vec3();\n    function addVec3(out, s, v) {\n        var d = Vec3.distance(s.center, v);\n        if (d < s.radius)\n            return Sphere3D.copy(out, s);\n        Vec3.sub(tmpAddVec3, s.center, v);\n        Vec3.sub(tmpAddVec3, s.center, tmpAddVec3);\n        Vec3.setMagnitude(tmpAddVec3, tmpAddVec3, s.radius);\n        Vec3.scale(out.center, Vec3.add(tmpAddVec3, tmpAddVec3, v), 0.5);\n        out.radius = Vec3.distance(out.center, v);\n        return out;\n    }\n    Sphere3D.addVec3 = addVec3;\n    /** Expand sphere radius by another sphere */\n    function expandBySphere(out, sphere, by) {\n        Vec3.copy(out.center, sphere.center);\n        out.radius = Math.max(sphere.radius, Vec3.distance(sphere.center, by.center) + by.radius);\n        if (hasExtrema(sphere) && hasExtrema(by)) {\n            setExtrema(out, __spreadArray(__spreadArray([], sphere.extrema.map(function (e) { return Vec3.clone(e); }), true), by.extrema.map(function (e) { return Vec3.clone(e); }), true));\n        }\n        return out;\n    }\n    Sphere3D.expandBySphere = expandBySphere;\n    var tmpDir = Vec3();\n    /** Expand sphere radius by delta */\n    function expand(out, sphere, delta) {\n        var _a, _b;\n        Vec3.copy(out.center, sphere.center);\n        out.radius = sphere.radius + delta;\n        if (sphere.radius < 1e-12 || ((_b = (_a = sphere.extrema) === null || _a === void 0 ? void 0 : _a.length) !== null && _b !== void 0 ? _b : 0) <= 1) {\n            out.extrema = void 0;\n            return out;\n        }\n        if (hasExtrema(sphere)) {\n            var positions = new Float32Array(sphere.extrema.length * 3);\n            for (var i = 0; i < sphere.extrema.length; i++) {\n                Vec3.toArray(sphere.extrema[i], positions, i * 3);\n            }\n            var axes_1 = PrincipalAxes.calculateMomentsAxes(positions);\n            Axes3D.scale(axes_1, Axes3D.normalize(axes_1, axes_1), delta);\n            setExtrema(out, sphere.extrema.map(function (e) {\n                Vec3.normalize(tmpDir, Vec3.sub(tmpDir, e, sphere.center));\n                var o = Vec3.clone(e);\n                var sA = Vec3.dot(tmpDir, axes_1.dirA) < 0 ? -1 : 1;\n                Vec3.scaleAndAdd(o, o, axes_1.dirA, sA);\n                var sB = Vec3.dot(tmpDir, axes_1.dirB) < 0 ? -1 : 1;\n                Vec3.scaleAndAdd(o, o, axes_1.dirB, sB);\n                var sC = Vec3.dot(tmpDir, axes_1.dirC) < 0 ? -1 : 1;\n                Vec3.scaleAndAdd(o, o, axes_1.dirC, sC);\n                if (Vec3.distance(out.center, o) > out.radius) {\n                    if (sphere.extrema.length >= 14) { // 14 extrema with coarse boundary helper\n                        Vec3.normalize(tmpDir, Vec3.sub(tmpDir, o, sphere.center));\n                    }\n                    Vec3.scaleAndAdd(o, out.center, tmpDir, out.radius);\n                }\n                return o;\n            }));\n        }\n        return out;\n    }\n    Sphere3D.expand = expand;\n    /**\n     * Returns whether or not the spheres have exactly the same center and radius (when compared with ===)\n     */\n    function exactEquals(a, b) {\n        return a.radius === b.radius && Vec3.exactEquals(a.center, b.center);\n    }\n    Sphere3D.exactEquals = exactEquals;\n    /**\n     * Returns whether or not the spheres have approximately the same center and radius.\n     */\n    function equals(a, b) {\n        var ar = a.radius;\n        var br = b.radius;\n        return (Math.abs(ar - br) <= EPSILON * Math.max(1.0, Math.abs(ar), Math.abs(br)) &&\n            Vec3.equals(a.center, b.center));\n    }\n    Sphere3D.equals = equals;\n    /**\n     * Check if `a` includes `b`, use `extrema` of `b` when available\n     */\n    function includes(a, b) {\n        if (hasExtrema(b)) {\n            for (var _i = 0, _a = b.extrema; _i < _a.length; _i++) {\n                var e = _a[_i];\n                if (Vec3.distance(a.center, e) > a.radius)\n                    return false;\n            }\n            return true;\n        }\n        else {\n            return Vec3.distance(a.center, b.center) + b.radius <= a.radius;\n        }\n    }\n    Sphere3D.includes = includes;\n    /** Check if `a` and `b` are overlapping */\n    function overlaps(a, b) {\n        return Vec3.distance(a.center, b.center) <= a.radius + b.radius;\n    }\n    Sphere3D.overlaps = overlaps;\n    /** Get the signed distance of `a` and `b` */\n    function distance(a, b) {\n        return Vec3.distance(a.center, b.center) - a.radius + b.radius;\n    }\n    Sphere3D.distance = distance;\n    /** Get the distance of v from sphere. If negative, v is inside sphere */\n    function distanceToVec(sphere, v) {\n        var center = sphere.center, radius = sphere.radius;\n        return Vec3.distance(v, center) - radius;\n    }\n    Sphere3D.distanceToVec = distanceToVec;\n})(Sphere3D || (Sphere3D = {}));\nexport { Sphere3D };\n","/**\n * Copyright (c) 2018-2022 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\nimport { OrderedSet } from '../../../mol-data/int';\nimport { Sphere3D } from './sphere3d';\nimport { Vec3 } from '../../linear-algebra/3d/vec3';\nfunction Box3D() {\n    return Box3D.zero();\n}\n(function (Box3D) {\n    function create(min, max) { return { min: min, max: max }; }\n    Box3D.create = create;\n    function zero() { return { min: Vec3(), max: Vec3() }; }\n    Box3D.zero = zero;\n    function copy(out, a) {\n        Vec3.copy(out.min, a.min);\n        Vec3.copy(out.max, a.max);\n        return out;\n    }\n    Box3D.copy = copy;\n    function clone(a) {\n        return copy(zero(), a);\n    }\n    Box3D.clone = clone;\n    var tmpV = Vec3();\n    /** Get box from sphere, uses extrema if available */\n    function fromSphere3D(out, sphere) {\n        if (Sphere3D.hasExtrema(sphere) && sphere.extrema.length >= 14) { // 14 extrema with coarse boundary helper\n            return fromVec3Array(out, sphere.extrema);\n        }\n        Vec3.set(tmpV, sphere.radius, sphere.radius, sphere.radius);\n        Vec3.sub(out.min, sphere.center, tmpV);\n        Vec3.add(out.max, sphere.center, tmpV);\n        return out;\n    }\n    Box3D.fromSphere3D = fromSphere3D;\n    function addVec3Array(out, array) {\n        for (var i = 0, il = array.length; i < il; i++) {\n            add(out, array[i]);\n        }\n        return out;\n    }\n    Box3D.addVec3Array = addVec3Array;\n    function fromVec3Array(out, array) {\n        setEmpty(out);\n        addVec3Array(out, array);\n        return out;\n    }\n    Box3D.fromVec3Array = fromVec3Array;\n    function addSphere3D(out, sphere) {\n        if (Sphere3D.hasExtrema(sphere) && sphere.extrema.length >= 14) { // 14 extrema with coarse boundary helper\n            return addVec3Array(out, sphere.extrema);\n        }\n        add(out, Vec3.subScalar(tmpV, sphere.center, sphere.radius));\n        add(out, Vec3.addScalar(tmpV, sphere.center, sphere.radius));\n        return out;\n    }\n    Box3D.addSphere3D = addSphere3D;\n    function intersectsSphere3D(box, sphere) {\n        // Find the point on the AABB closest to the sphere center.\n        Vec3.clamp(tmpV, sphere.center, box.min, box.max);\n        // If that point is inside the sphere, the AABB and sphere intersect.\n        return Vec3.squaredDistance(tmpV, sphere.center) <= (sphere.radius * sphere.radius);\n    }\n    Box3D.intersectsSphere3D = intersectsSphere3D;\n    function computeBounding(data) {\n        var min = Vec3.create(Number.MAX_VALUE, Number.MAX_VALUE, Number.MAX_VALUE);\n        var max = Vec3.create(-Number.MAX_VALUE, -Number.MAX_VALUE, -Number.MAX_VALUE);\n        var x = data.x, y = data.y, z = data.z, indices = data.indices;\n        for (var t = 0, _t = OrderedSet.size(indices); t < _t; t++) {\n            var i = OrderedSet.getAt(indices, t);\n            min[0] = Math.min(x[i], min[0]);\n            min[1] = Math.min(y[i], min[1]);\n            min[2] = Math.min(z[i], min[2]);\n            max[0] = Math.max(x[i], max[0]);\n            max[1] = Math.max(y[i], max[1]);\n            max[2] = Math.max(z[i], max[2]);\n        }\n        return { min: min, max: max };\n    }\n    Box3D.computeBounding = computeBounding;\n    /** Get size/extent of the box */\n    function size(size, box) {\n        return Vec3.sub(size, box.max, box.min);\n    }\n    Box3D.size = size;\n    var tmpSizeV = Vec3();\n    /** Get volume of the box */\n    function volume(box) {\n        size(tmpSizeV, box);\n        return tmpSizeV[0] * tmpSizeV[1] * tmpSizeV[2];\n    }\n    Box3D.volume = volume;\n    /** Sets min to Number.MAX_VALUE and max to -Number.MAX_VALUE */\n    function setEmpty(box) {\n        Vec3.set(box.min, Number.MAX_VALUE, Number.MAX_VALUE, Number.MAX_VALUE);\n        Vec3.set(box.max, -Number.MAX_VALUE, -Number.MAX_VALUE, -Number.MAX_VALUE);\n        return box;\n    }\n    Box3D.setEmpty = setEmpty;\n    /** Add point to box */\n    function add(box, point) {\n        Vec3.min(box.min, box.min, point);\n        Vec3.max(box.max, box.max, point);\n        return box;\n    }\n    Box3D.add = add;\n    /** Expand box by delta */\n    function expand(out, box, delta) {\n        Vec3.sub(out.min, box.min, delta);\n        Vec3.add(out.max, box.max, delta);\n        return out;\n    }\n    Box3D.expand = expand;\n    function scale(out, box, scale) {\n        Vec3.scale(out.min, box.min, scale);\n        Vec3.scale(out.max, box.max, scale);\n        return out;\n    }\n    Box3D.scale = scale;\n    var tmpTransformV = Vec3();\n    /** Transform box with a Mat4 */\n    function transform(out, box, m) {\n        var _a = box.min, minX = _a[0], minY = _a[1], minZ = _a[2];\n        var _b = box.max, maxX = _b[0], maxY = _b[1], maxZ = _b[2];\n        setEmpty(out);\n        add(out, Vec3.transformMat4(tmpTransformV, Vec3.set(tmpTransformV, minX, minY, minZ), m));\n        add(out, Vec3.transformMat4(tmpTransformV, Vec3.set(tmpTransformV, minX, minY, maxZ), m));\n        add(out, Vec3.transformMat4(tmpTransformV, Vec3.set(tmpTransformV, minX, maxY, minZ), m));\n        add(out, Vec3.transformMat4(tmpTransformV, Vec3.set(tmpTransformV, minX, maxY, maxZ), m));\n        add(out, Vec3.transformMat4(tmpTransformV, Vec3.set(tmpTransformV, maxX, minY, minZ), m));\n        add(out, Vec3.transformMat4(tmpTransformV, Vec3.set(tmpTransformV, maxX, minY, maxZ), m));\n        add(out, Vec3.transformMat4(tmpTransformV, Vec3.set(tmpTransformV, maxX, maxY, minZ), m));\n        add(out, Vec3.transformMat4(tmpTransformV, Vec3.set(tmpTransformV, maxX, maxY, maxZ), m));\n        return out;\n    }\n    Box3D.transform = transform;\n    function containsVec3(box, v) {\n        return !(v[0] < box.min[0] || v[0] > box.max[0] ||\n            v[1] < box.min[1] || v[1] > box.max[1] ||\n            v[2] < box.min[2] || v[2] > box.max[2]);\n    }\n    Box3D.containsVec3 = containsVec3;\n    function overlaps(a, b) {\n        return !(a.max[0] < b.min[0] || a.min[0] > b.max[0] ||\n            a.max[1] < b.min[1] || a.min[1] > b.max[1] ||\n            a.max[2] < b.min[2] || a.min[2] > b.max[2]);\n    }\n    Box3D.overlaps = overlaps;\n    function containsSphere3D(box, s) {\n        var c = s.center;\n        var r = s.radius;\n        return (c[0] - r < box.min[0] || c[0] + r > box.max[0] ||\n            c[1] - r < box.min[1] || c[1] + r > box.max[1] ||\n            c[2] - r < box.min[2] || c[2] + r > box.max[2]) ? false : true;\n    }\n    Box3D.containsSphere3D = containsSphere3D;\n    function nearestIntersectionWithRay(out, box, origin, dir) {\n        var _a = box.min, minX = _a[0], minY = _a[1], minZ = _a[2];\n        var _b = box.max, maxX = _b[0], maxY = _b[1], maxZ = _b[2];\n        var x = origin[0], y = origin[1], z = origin[2];\n        var invDirX = 1.0 / dir[0];\n        var invDirY = 1.0 / dir[1];\n        var invDirZ = 1.0 / dir[2];\n        var tmin, tmax, tymin, tymax, tzmin, tzmax;\n        if (invDirX >= 0) {\n            tmin = (minX - x) * invDirX;\n            tmax = (maxX - x) * invDirX;\n        }\n        else {\n            tmin = (maxX - x) * invDirX;\n            tmax = (minX - x) * invDirX;\n        }\n        if (invDirY >= 0) {\n            tymin = (minY - y) * invDirY;\n            tymax = (maxY - y) * invDirY;\n        }\n        else {\n            tymin = (maxY - y) * invDirY;\n            tymax = (minY - y) * invDirY;\n        }\n        if (invDirZ >= 0) {\n            tzmin = (minZ - z) * invDirZ;\n            tzmax = (maxZ - z) * invDirZ;\n        }\n        else {\n            tzmin = (maxZ - z) * invDirZ;\n            tzmax = (minZ - z) * invDirZ;\n        }\n        if (tymin > tmin)\n            tmin = tymin;\n        if (tymax < tmax)\n            tmax = tymax;\n        if (tzmin > tmin)\n            tmin = tzmin;\n        if (tzmax < tmax)\n            tmax = tzmax;\n        Vec3.scale(out, dir, tmin);\n        return Vec3.set(out, out[0] + x, out[1] + y, out[2] + z);\n    }\n    Box3D.nearestIntersectionWithRay = nearestIntersectionWithRay;\n})(Box3D || (Box3D = {}));\nexport { Box3D };\n","/**\n * Copyright (c) 2022 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author Gianluca Tomasello <giagitom@gmail.com>\n *\n * Adapted from https://github.com/gwtw/ts-fibonacci-heap, Copyright (c) 2014 Daniel Imms, MIT\n */\nvar Node = /** @class */ (function () {\n    function Node(key, value) {\n        this.parent = null;\n        this.child = null;\n        this.degree = 0;\n        this.isMarked = false;\n        this.key = key;\n        this.value = value;\n        this.prev = this;\n        this.next = this;\n    }\n    return Node;\n}());\nvar NodeListIterator = /** @class */ (function () {\n    /**\n   * Creates an Iterator used to simplify the consolidate() method. It works by\n   * making a shallow copy of the nodes in the root list and iterating over the\n   * shallow copy instead of the source as the source will be modified.\n   * @param start A node from the root list.\n   */\n    function NodeListIterator(start) {\n        this._index = -1;\n        this._items = [];\n        this._len = 0;\n        if (start) {\n            var current = start, l = 0;\n            do {\n                this._items[l++] = current;\n                current = current.next;\n            } while (start !== current);\n            this._len = l;\n        }\n    }\n    /**\n   * @return Whether there is a next node in the iterator.\n   */\n    NodeListIterator.prototype.hasNext = function () {\n        return this._index < this._len - 1;\n    };\n    /**\n   * @return The next node.\n   */\n    NodeListIterator.prototype.next = function () {\n        return this._items[++this._index];\n    };\n    /**\n   * @return Resets iterator to reuse it.\n   */\n    NodeListIterator.prototype.reset = function (start) {\n        this._index = -1;\n        this._len = 0;\n        var current = start, l = 0;\n        do {\n            this._items[l++] = current;\n            current = current.next;\n        } while (start !== current);\n        this._len = l;\n    };\n    return NodeListIterator;\n}());\nvar tmpIt = new NodeListIterator();\n/**\n * A Fibonacci heap data structure with a key and optional value.\n*/\nvar FibonacciHeap = /** @class */ (function () {\n    function FibonacciHeap(compare) {\n        this._minNode = null;\n        this._nodeCount = 0;\n        this._compare = compare ? compare : this._defaultCompare;\n    }\n    /**\n   * Clears the heap's data, making it an empty heap.\n   */\n    FibonacciHeap.prototype.clear = function () {\n        this._minNode = null;\n        this._nodeCount = 0;\n    };\n    /**\n   * Decreases a key of a node.\n   * @param node The node to decrease the key of.\n   * @param newKey The new key to assign to the node.\n   */\n    FibonacciHeap.prototype.decreaseKey = function (node, newKey) {\n        if (!node) {\n            throw new Error('Cannot decrease key of non-existent node');\n        }\n        if (this._compare({ key: newKey }, { key: node.key }) > 0) {\n            throw new Error('New key is larger than old key');\n        }\n        node.key = newKey;\n        var parent = node.parent;\n        if (parent && this._compare(node, parent) < 0) {\n            this._cut(node, parent, this._minNode);\n            this._cascadingCut(parent, this._minNode);\n        }\n        if (this._compare(node, this._minNode) < 0) {\n            this._minNode = node;\n        }\n    };\n    /**\n   * Deletes a node.\n   * @param node The node to delete.\n   */\n    FibonacciHeap.prototype.delete = function (node) {\n        // This is a special implementation of decreaseKey that sets the argument to\n        // the minimum value. This is necessary to make generic keys work, since there\n        // is no MIN_VALUE constant for generic types.\n        var parent = node.parent;\n        if (parent) {\n            this._cut(node, parent, this._minNode);\n            this._cascadingCut(parent, this._minNode);\n        }\n        this._minNode = node;\n        this.extractMinimum();\n    };\n    /**\n   * Extracts and returns the minimum node from the heap.\n   * @return The heap's minimum node or null if the heap is empty.\n   */\n    FibonacciHeap.prototype.extractMinimum = function () {\n        var extractedMin = this._minNode;\n        if (extractedMin) {\n            // Set parent to null for the minimum's children\n            if (extractedMin.child) {\n                var child = extractedMin.child;\n                do {\n                    child.parent = null;\n                    child = child.next;\n                } while (child !== extractedMin.child);\n            }\n            var nextInRootList = null;\n            if (extractedMin.next !== extractedMin) {\n                nextInRootList = extractedMin.next;\n            }\n            // Remove min from root list\n            this._removeNodeFromList(extractedMin);\n            this._nodeCount--;\n            // Merge the children of the minimum node with the root list\n            this._minNode = this._mergeLists(nextInRootList, extractedMin.child);\n            if (this._minNode) {\n                this._minNode = this._consolidate(this._minNode);\n            }\n        }\n        return extractedMin;\n    };\n    /**\n   * Returns the minimum node from the heap.\n   * @return The heap's minimum node or null if the heap is empty.\n   */\n    FibonacciHeap.prototype.findMinimum = function () {\n        return this._minNode;\n    };\n    /**\n   * Inserts a new key-value pair into the heap.\n   * @param key The key to insert.\n   * @param value The value to insert.\n   * @return node The inserted node.\n   */\n    FibonacciHeap.prototype.insert = function (key, value) {\n        var node = new Node(key, value);\n        this._minNode = this._mergeLists(this._minNode, node);\n        this._nodeCount++;\n        return node;\n    };\n    /**\n   * @return Whether the heap is empty.\n   */\n    FibonacciHeap.prototype.isEmpty = function () {\n        return this._minNode === null;\n    };\n    /**\n   * @return The size of the heap.\n   */\n    FibonacciHeap.prototype.size = function () {\n        if (this._minNode === null) {\n            return 0;\n        }\n        return this._getNodeListSize(this._minNode);\n    };\n    /**\n   * Joins another heap to this heap.\n   * @param other The other heap.\n   */\n    FibonacciHeap.prototype.union = function (other) {\n        this._minNode = this._mergeLists(this._minNode, other._minNode);\n        this._nodeCount += other._nodeCount;\n    };\n    /**\n   * Compares two nodes with each other.\n   * @param a The first key to compare.\n   * @param b The second key to compare.\n   * @return -1, 0 or 1 if a < b, a == b or a > b respectively.\n   */\n    FibonacciHeap.prototype._defaultCompare = function (a, b) {\n        if (a.key > b.key) {\n            return 1;\n        }\n        if (a.key < b.key) {\n            return -1;\n        }\n        return 0;\n    };\n    /**\n   * Cut the link between a node and its parent, moving the node to the root list.\n   * @param node The node being cut.\n   * @param parent The parent of the node being cut.\n   * @param minNode The minimum node in the root list.\n   * @return The heap's new minimum node.\n   */\n    FibonacciHeap.prototype._cut = function (node, parent, minNode) {\n        node.parent = null;\n        parent.degree--;\n        if (node.next === node) {\n            parent.child = null;\n        }\n        else {\n            parent.child = node.next;\n        }\n        this._removeNodeFromList(node);\n        var newMinNode = this._mergeLists(minNode, node);\n        node.isMarked = false;\n        return newMinNode;\n    };\n    /**\n   * Perform a cascading cut on a node; mark the node if it is not marked,\n   * otherwise cut the node and perform a cascading cut on its parent.\n   * @param node The node being considered to be cut.\n   * @param minNode The minimum node in the root list.\n   * @return The heap's new minimum node.\n   */\n    FibonacciHeap.prototype._cascadingCut = function (node, minNode) {\n        var parent = node.parent;\n        if (parent) {\n            if (node.isMarked) {\n                minNode = this._cut(node, parent, minNode);\n                minNode = this._cascadingCut(parent, minNode);\n            }\n            else {\n                node.isMarked = true;\n            }\n        }\n        return minNode;\n    };\n    /**\n   * Merge all trees of the same order together until there are no two trees of\n   * the same order.\n   * @param minNode The current minimum node.\n   * @return The new minimum node.\n   */\n    FibonacciHeap.prototype._consolidate = function (minNode) {\n        var aux = [];\n        tmpIt.reset(minNode);\n        while (tmpIt.hasNext()) {\n            var current = tmpIt.next();\n            // If there exists another node with the same degree, merge them\n            var auxCurrent = aux[current.degree];\n            while (auxCurrent) {\n                if (this._compare(current, auxCurrent) > 0) {\n                    var temp = current;\n                    current = auxCurrent;\n                    auxCurrent = temp;\n                }\n                this._linkHeaps(auxCurrent, current);\n                aux[current.degree] = null;\n                current.degree++;\n                auxCurrent = aux[current.degree];\n            }\n            aux[current.degree] = current;\n        }\n        var newMinNode = null;\n        for (var i = 0; i < aux.length; i++) {\n            var node = aux[i];\n            if (node) {\n                // Remove siblings before merging\n                node.next = node;\n                node.prev = node;\n                newMinNode = this._mergeLists(newMinNode, node);\n            }\n        }\n        return newMinNode;\n    };\n    /**\n   * Removes a node from a node list.\n   * @param node The node to remove.\n   */\n    FibonacciHeap.prototype._removeNodeFromList = function (node) {\n        var prev = node.prev;\n        var next = node.next;\n        prev.next = next;\n        next.prev = prev;\n        node.next = node;\n        node.prev = node;\n    };\n    /**\n   * Links two heaps of the same order together.\n   *\n   * @private\n   * @param max The heap with the larger root.\n   * @param min The heap with the smaller root.\n   */\n    FibonacciHeap.prototype._linkHeaps = function (max, min) {\n        this._removeNodeFromList(max);\n        min.child = this._mergeLists(max, min.child);\n        max.parent = min;\n        max.isMarked = false;\n    };\n    /**\n   * Merge two lists of nodes together.\n   *\n   * @private\n   * @param a The first list to merge.\n   * @param b The second list to merge.\n   * @return The new minimum node from the two lists.\n   */\n    FibonacciHeap.prototype._mergeLists = function (a, b) {\n        if (!a) {\n            if (!b) {\n                return null;\n            }\n            return b;\n        }\n        if (!b) {\n            return a;\n        }\n        var temp = a.next;\n        a.next = b.next;\n        a.next.prev = a;\n        b.next = temp;\n        b.next.prev = b;\n        return this._compare(a, b) < 0 ? a : b;\n    };\n    /**\n   * Gets the size of a node list.\n   * @param node A node within the node list.\n   * @return The size of the node list.\n   */\n    FibonacciHeap.prototype._getNodeListSize = function (node) {\n        var count = 0;\n        var current = node;\n        do {\n            count++;\n            if (current.child) {\n                count += this._getNodeListSize(current.child);\n            }\n            current = current.next;\n        } while (current !== node);\n        return count;\n    };\n    return FibonacciHeap;\n}());\nexport { FibonacciHeap };\n","/**\n * Copyright (c) 2018-2022 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @author Gianluca Tomasello <giagitom@gmail.com>\n */\nimport { Result } from './common';\nimport { Box3D } from '../primitives/box3d';\nimport { Vec3 } from '../../linear-algebra';\nimport { OrderedSet } from '../../../mol-data/int';\nimport { FibonacciHeap } from '../../../mol-util/fibonacci-heap';\nfunction GridLookup3D(data, boundary, cellSizeOrCount) {\n    return new GridLookup3DImpl(data, boundary, cellSizeOrCount);\n}\nexport { GridLookup3D };\nvar GridLookup3DImpl = /** @class */ (function () {\n    function GridLookup3DImpl(data, boundary, cellSizeOrCount) {\n        var structure = build(data, boundary, cellSizeOrCount);\n        this.ctx = createContext(structure);\n        this.boundary = { box: structure.boundingBox, sphere: structure.boundingSphere };\n        this.buckets = { offset: structure.bucketOffset, count: structure.bucketCounts, array: structure.bucketArray };\n        this.result = Result.create();\n    }\n    GridLookup3DImpl.prototype.find = function (x, y, z, radius, result) {\n        this.ctx.x = x;\n        this.ctx.y = y;\n        this.ctx.z = z;\n        this.ctx.radius = radius;\n        this.ctx.isCheck = false;\n        var ret = result !== null && result !== void 0 ? result : this.result;\n        query(this.ctx, ret);\n        return ret;\n    };\n    GridLookup3DImpl.prototype.nearest = function (x, y, z, k, stopIf, result) {\n        if (k === void 0) { k = 1; }\n        this.ctx.x = x;\n        this.ctx.y = y;\n        this.ctx.z = z;\n        this.ctx.k = k;\n        this.ctx.stopIf = stopIf;\n        var ret = result !== null && result !== void 0 ? result : this.result;\n        queryNearest(this.ctx, ret);\n        return ret;\n    };\n    GridLookup3DImpl.prototype.check = function (x, y, z, radius) {\n        this.ctx.x = x;\n        this.ctx.y = y;\n        this.ctx.z = z;\n        this.ctx.radius = radius;\n        this.ctx.isCheck = true;\n        return query(this.ctx, this.result);\n    };\n    return GridLookup3DImpl;\n}());\nfunction _build(state) {\n    var expandedBox = state.expandedBox, _a = state.size, sX = _a[0], sY = _a[1], sZ = _a[2], _b = state.data, px = _b.x, py = _b.y, pz = _b.z, radius = _b.radius, indices = _b.indices, elementCount = state.elementCount, delta = state.delta;\n    var n = sX * sY * sZ;\n    var _c = expandedBox.min, minX = _c[0], minY = _c[1], minZ = _c[2];\n    var maxRadius = 0;\n    var bucketCount = 0;\n    var grid = new Uint32Array(n);\n    var bucketIndex = new Int32Array(elementCount);\n    for (var t = 0; t < elementCount; t++) {\n        var i = OrderedSet.getAt(indices, t);\n        var x = Math.floor((px[i] - minX) / delta[0]);\n        var y = Math.floor((py[i] - minY) / delta[1]);\n        var z = Math.floor((pz[i] - minZ) / delta[2]);\n        var idx = (((x * sY) + y) * sZ) + z;\n        if ((grid[idx] += 1) === 1) {\n            bucketCount += 1;\n        }\n        bucketIndex[t] = idx;\n    }\n    if (radius) {\n        for (var t = 0; t < elementCount; t++) {\n            var i = OrderedSet.getAt(indices, t);\n            if (radius[i] > maxRadius)\n                maxRadius = radius[i];\n        }\n    }\n    var bucketCounts = new Int32Array(bucketCount);\n    for (var i = 0, j = 0; i < n; i++) {\n        var c = grid[i];\n        if (c > 0) {\n            grid[i] = j + 1;\n            bucketCounts[j] = c;\n            j += 1;\n        }\n    }\n    var bucketOffset = new Uint32Array(bucketCount);\n    for (var i = 1; i < bucketCount; ++i) {\n        bucketOffset[i] += bucketOffset[i - 1] + bucketCounts[i - 1];\n    }\n    var bucketFill = new Int32Array(bucketCount);\n    var bucketArray = new Int32Array(elementCount);\n    for (var i = 0; i < elementCount; i++) {\n        var bucketIdx = grid[bucketIndex[i]];\n        if (bucketIdx > 0) {\n            var k = bucketIdx - 1;\n            bucketArray[bucketOffset[k] + bucketFill[k]] = i;\n            bucketFill[k] += 1;\n        }\n    }\n    return {\n        size: state.size,\n        bucketArray: bucketArray,\n        bucketCounts: bucketCounts,\n        bucketOffset: bucketOffset,\n        grid: grid,\n        delta: delta,\n        min: state.expandedBox.min,\n        data: state.data,\n        maxRadius: maxRadius,\n        expandedBox: state.expandedBox,\n        boundingBox: state.boundingBox,\n        boundingSphere: state.boundingSphere\n    };\n}\nfunction build(data, boundary, cellSizeOrCount) {\n    // need to expand the grid bounds to avoid rounding errors\n    var expandedBox = Box3D.expand(Box3D(), boundary.box, Vec3.create(0.5, 0.5, 0.5));\n    var indices = data.indices;\n    var S = Box3D.size(Vec3(), expandedBox);\n    var delta, size;\n    var elementCount = OrderedSet.size(indices);\n    var cellCount = typeof cellSizeOrCount === 'number' ? cellSizeOrCount : 32;\n    var cellSize = Array.isArray(cellSizeOrCount) && cellSizeOrCount;\n    if (cellSize && !Vec3.isZero(cellSize)) {\n        size = [Math.ceil(S[0] / cellSize[0]), Math.ceil(S[1] / cellSize[1]), Math.ceil(S[2] / cellSize[2])];\n        delta = cellSize;\n    }\n    else if (elementCount > 0) {\n        // size of the box\n        // required \"grid volume\" so that each cell contains on average 'cellCount' elements.\n        var V = Math.ceil(elementCount / cellCount);\n        var f = Math.pow(V / (S[0] * S[1] * S[2]), 1 / 3);\n        size = [Math.ceil(S[0] * f), Math.ceil(S[1] * f), Math.ceil(S[2] * f)];\n        delta = [S[0] / size[0], S[1] / size[1], S[2] / size[2]];\n    }\n    else {\n        delta = S;\n        size = [1, 1, 1];\n    }\n    var inputData = {\n        x: data.x,\n        y: data.y,\n        z: data.z,\n        indices: indices,\n        radius: data.radius\n    };\n    var state = {\n        size: size,\n        data: inputData,\n        expandedBox: expandedBox,\n        boundingBox: boundary.box,\n        boundingSphere: boundary.sphere,\n        elementCount: elementCount,\n        delta: delta\n    };\n    return _build(state);\n}\nfunction createContext(grid) {\n    return { grid: grid, x: 0.1, y: 0.1, z: 0.1, k: 1, stopIf: undefined, radius: 0.1, isCheck: false };\n}\nfunction query(ctx, result) {\n    var _a = ctx.grid, min = _a.min, _b = _a.size, sX = _b[0], sY = _b[1], sZ = _b[2], bucketOffset = _a.bucketOffset, bucketCounts = _a.bucketCounts, bucketArray = _a.bucketArray, grid = _a.grid, _c = _a.data, px = _c.x, py = _c.y, pz = _c.z, indices = _c.indices, radius = _c.radius, delta = _a.delta, maxRadius = _a.maxRadius;\n    var inputRadius = ctx.radius, isCheck = ctx.isCheck, x = ctx.x, y = ctx.y, z = ctx.z;\n    var r = inputRadius + maxRadius;\n    var rSq = r * r;\n    Result.reset(result);\n    var loX = Math.max(0, Math.floor((x - r - min[0]) / delta[0]));\n    var loY = Math.max(0, Math.floor((y - r - min[1]) / delta[1]));\n    var loZ = Math.max(0, Math.floor((z - r - min[2]) / delta[2]));\n    var hiX = Math.min(sX - 1, Math.floor((x + r - min[0]) / delta[0]));\n    var hiY = Math.min(sY - 1, Math.floor((y + r - min[1]) / delta[1]));\n    var hiZ = Math.min(sZ - 1, Math.floor((z + r - min[2]) / delta[2]));\n    if (loX > hiX || loY > hiY || loZ > hiZ)\n        return false;\n    for (var ix = loX; ix <= hiX; ix++) {\n        for (var iy = loY; iy <= hiY; iy++) {\n            for (var iz = loZ; iz <= hiZ; iz++) {\n                var bucketIdx = grid[(((ix * sY) + iy) * sZ) + iz];\n                if (bucketIdx === 0)\n                    continue;\n                var k = bucketIdx - 1;\n                var offset = bucketOffset[k];\n                var count = bucketCounts[k];\n                var end = offset + count;\n                for (var i = offset; i < end; i++) {\n                    var idx = OrderedSet.getAt(indices, bucketArray[i]);\n                    var dx = px[idx] - x;\n                    var dy = py[idx] - y;\n                    var dz = pz[idx] - z;\n                    var distSq = dx * dx + dy * dy + dz * dz;\n                    if (distSq <= rSq) {\n                        if (maxRadius > 0 && Math.sqrt(distSq) - radius[idx] > inputRadius)\n                            continue;\n                        if (isCheck)\n                            return true;\n                        Result.add(result, bucketArray[i], distSq);\n                    }\n                }\n            }\n        }\n    }\n    return result.count > 0;\n}\nvar tmpDirVec = Vec3();\nvar tmpVec = Vec3();\nvar tmpSetG = new Set();\nvar tmpSetG2 = new Set();\nvar tmpArrG1 = [0.1];\nvar tmpArrG2 = [0.1];\nvar tmpArrG3 = [0.1];\nvar tmpHeapG = new FibonacciHeap();\nfunction queryNearest(ctx, result) {\n    var _a = ctx.grid, min = _a.min, box = _a.expandedBox, center = _a.boundingSphere.center, _b = _a.size, sX = _b[0], sY = _b[1], sZ = _b[2], bucketOffset = _a.bucketOffset, bucketCounts = _a.bucketCounts, bucketArray = _a.bucketArray, grid = _a.grid, _c = _a.data, px = _c.x, py = _c.y, pz = _c.z, indices = _c.indices, radius = _c.radius, delta = _a.delta, maxRadius = _a.maxRadius;\n    var x = ctx.x, y = ctx.y, z = ctx.z, k = ctx.k, stopIf = ctx.stopIf;\n    var indicesCount = OrderedSet.size(indices);\n    Result.reset(result);\n    if (indicesCount === 0 || k <= 0)\n        return false;\n    var gX, gY, gZ, stop = false, gCount = 1, expandGrid = true, nextGCount = 0, arrG = tmpArrG1, nextArrG = tmpArrG2, maxRange = 0, expandRange = true, gridId, gridPointsFinished = false;\n    var expandedArrG = tmpArrG3, sqMaxRadius = maxRadius * maxRadius;\n    arrG.length = 0;\n    expandedArrG.length = 0;\n    tmpSetG.clear();\n    tmpHeapG.clear();\n    Vec3.set(tmpVec, x, y, z);\n    if (!Box3D.containsVec3(box, tmpVec)) {\n        // intersect ray pointing to box center\n        Box3D.nearestIntersectionWithRay(tmpVec, box, tmpVec, Vec3.normalize(tmpDirVec, Vec3.sub(tmpDirVec, center, tmpVec)));\n        gX = Math.max(0, Math.min(sX - 1, Math.floor((tmpVec[0] - min[0]) / delta[0])));\n        gY = Math.max(0, Math.min(sY - 1, Math.floor((tmpVec[1] - min[1]) / delta[1])));\n        gZ = Math.max(0, Math.min(sZ - 1, Math.floor((tmpVec[2] - min[2]) / delta[2])));\n    }\n    else {\n        gX = Math.floor((x - min[0]) / delta[0]);\n        gY = Math.floor((y - min[1]) / delta[1]);\n        gZ = Math.floor((z - min[2]) / delta[2]);\n    }\n    var dX = maxRadius !== 0 ? Math.max(1, Math.min(sX - 1, Math.ceil(maxRadius / delta[0]))) : 1;\n    var dY = maxRadius !== 0 ? Math.max(1, Math.min(sY - 1, Math.ceil(maxRadius / delta[1]))) : 1;\n    var dZ = maxRadius !== 0 ? Math.max(1, Math.min(sZ - 1, Math.ceil(maxRadius / delta[2]))) : 1;\n    arrG.push(gX, gY, gZ, (((gX * sY) + gY) * sZ) + gZ);\n    while (result.count < indicesCount) {\n        var arrGLen = gCount * 4;\n        for (var ig = 0; ig < arrGLen; ig += 4) {\n            gridId = arrG[ig + 3];\n            if (!tmpSetG.has(gridId)) {\n                tmpSetG.add(gridId);\n                gridPointsFinished = tmpSetG.size >= grid.length;\n                var bucketIdx = grid[gridId];\n                if (bucketIdx !== 0) {\n                    var _maxRange = maxRange;\n                    var ki = bucketIdx - 1;\n                    var offset = bucketOffset[ki];\n                    var count = bucketCounts[ki];\n                    var end = offset + count;\n                    for (var i = offset; i < end; i++) {\n                        var bIdx = bucketArray[i];\n                        var idx = OrderedSet.getAt(indices, bIdx);\n                        var dx = px[idx] - x;\n                        var dy = py[idx] - y;\n                        var dz = pz[idx] - z;\n                        var distSq = dx * dx + dy * dy + dz * dz;\n                        if (maxRadius !== 0) {\n                            var r = radius[idx];\n                            distSq -= r * r;\n                        }\n                        if (expandRange && distSq > maxRange) {\n                            maxRange = distSq;\n                        }\n                        tmpHeapG.insert(distSq, bIdx);\n                    }\n                    if (_maxRange < maxRange)\n                        expandRange = false;\n                }\n            }\n        }\n        // find next grid points\n        nextArrG.length = 0;\n        nextGCount = 0;\n        tmpSetG2.clear();\n        for (var ig = 0; ig < arrGLen; ig += 4) {\n            gX = arrG[ig];\n            gY = arrG[ig + 1];\n            gZ = arrG[ig + 2];\n            // fill grid points array with valid adiacent positions\n            for (var ix = -dX; ix <= dX; ix++) {\n                var xPos = gX + ix;\n                if (xPos < 0 || xPos >= sX)\n                    continue;\n                for (var iy = -dY; iy <= dY; iy++) {\n                    var yPos = gY + iy;\n                    if (yPos < 0 || yPos >= sY)\n                        continue;\n                    for (var iz = -dZ; iz <= dZ; iz++) {\n                        var zPos = gZ + iz;\n                        if (zPos < 0 || zPos >= sZ)\n                            continue;\n                        gridId = (((xPos * sY) + yPos) * sZ) + zPos;\n                        if (tmpSetG2.has(gridId))\n                            continue; // already scanned\n                        tmpSetG2.add(gridId);\n                        if (tmpSetG.has(gridId))\n                            continue; // already visited\n                        if (!expandGrid) {\n                            var xP = min[0] + xPos * delta[0] - x;\n                            var yP = min[1] + yPos * delta[1] - y;\n                            var zP = min[2] + zPos * delta[2] - z;\n                            var distSqG = (xP * xP) + (yP * yP) + (zP * zP) - sqMaxRadius; // is sqMaxRadius necessary?\n                            if (distSqG > maxRange) {\n                                expandedArrG.push(xPos, yPos, zPos, gridId);\n                                continue;\n                            }\n                        }\n                        nextArrG.push(xPos, yPos, zPos, gridId);\n                        nextGCount++;\n                    }\n                }\n            }\n        }\n        expandGrid = false;\n        if (nextGCount === 0) {\n            if (k === 1) {\n                var node = tmpHeapG.findMinimum();\n                if (node) {\n                    var _d = node, squaredDistance = _d.key, index = _d.value;\n                    // const squaredDistance = node!.key, index = node!.value;\n                    Result.add(result, index, squaredDistance);\n                    return true;\n                }\n            }\n            else {\n                while (!tmpHeapG.isEmpty() && (gridPointsFinished || tmpHeapG.findMinimum().key <= maxRange) && result.count < k) {\n                    var node = tmpHeapG.extractMinimum();\n                    var squaredDistance = node.key, index = node.value;\n                    Result.add(result, index, squaredDistance);\n                    if (stopIf && !stop) {\n                        stop = stopIf(index, squaredDistance);\n                    }\n                }\n            }\n            if (result.count >= k || stop || result.count >= indicesCount)\n                return result.count > 0;\n            expandGrid = true;\n            expandRange = true;\n            if (expandedArrG.length > 0) {\n                for (var i = 0, l = expandedArrG.length; i < l; i++) {\n                    arrG.push(expandedArrG[i]);\n                }\n                expandedArrG.length = 0;\n                gCount = arrG.length;\n            }\n        }\n        else {\n            var tmp = arrG;\n            arrG = nextArrG;\n            nextArrG = tmp;\n            gCount = nextGCount;\n        }\n    }\n    return result.count > 0;\n}\n","/**\n * Copyright (c) 2018-2023 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @author Gianluca Tomasello <giagitom@gmail.com>\n */\nimport { Matrix } from './matrix';\nimport { Vec3 } from '../3d/vec3';\nimport { svd } from './svd';\nimport { Axes3D } from '../../geometry';\nimport { EPSILON } from '../3d/common';\nexport { PrincipalAxes };\nvar PrincipalAxes;\n(function (PrincipalAxes) {\n    function ofPositions(positions) {\n        var momentsAxes = calculateMomentsAxes(positions);\n        var boxAxes = calculateBoxAxes(positions, momentsAxes);\n        return { momentsAxes: momentsAxes, boxAxes: boxAxes };\n    }\n    PrincipalAxes.ofPositions = ofPositions;\n    function calculateMomentsAxes(positions) {\n        if (positions.length === 3) {\n            return Axes3D.create(Vec3.fromArray(Vec3(), positions, 0), Vec3.create(1, 0, 0), Vec3.create(0, 1, 0), Vec3.create(0, 0, 1));\n        }\n        var points = Matrix.fromArray(positions, 3, positions.length / 3);\n        var n = points.rows;\n        var n3 = n / 3;\n        var A = Matrix.create(3, 3);\n        var W = Matrix.create(1, 3);\n        var U = Matrix.create(3, 3);\n        var V = Matrix.create(3, 3);\n        // calculate\n        var mean = Matrix.meanRows(points);\n        var pointsM = Matrix.subRows(Matrix.clone(points), mean);\n        var pointsT = Matrix.transpose(Matrix.create(n, 3), pointsM);\n        Matrix.multiplyABt(A, pointsT, pointsT);\n        svd(A, W, U, V);\n        // origin\n        var origin = Vec3.create(mean[0], mean[1], mean[2]);\n        // directions\n        var dirA = Vec3.create(U.data[0], U.data[3], U.data[6]);\n        var dirB = Vec3.create(U.data[1], U.data[4], U.data[7]);\n        var dirC = Vec3.create(U.data[2], U.data[5], U.data[8]);\n        Vec3.scale(dirA, dirA, Math.sqrt(W.data[0] / n3));\n        Vec3.scale(dirB, dirB, Math.sqrt(W.data[1] / n3));\n        Vec3.scale(dirC, dirC, Math.sqrt(W.data[2] / n3));\n        return Axes3D.create(origin, dirA, dirB, dirC);\n    }\n    PrincipalAxes.calculateMomentsAxes = calculateMomentsAxes;\n    function calculateNormalizedAxes(momentsAxes) {\n        var a = Axes3D.clone(momentsAxes);\n        if (Vec3.magnitude(a.dirC) < EPSILON) {\n            Vec3.cross(a.dirC, a.dirA, a.dirB);\n        }\n        return Axes3D.normalize(a, a);\n    }\n    PrincipalAxes.calculateNormalizedAxes = calculateNormalizedAxes;\n    var tmpBoxVec = Vec3();\n    /**\n     * Get the scale/length for each dimension for a box around the axes\n     * to enclose the given positions\n     */\n    function calculateBoxAxes(positions, momentsAxes) {\n        if (positions.length === 3) {\n            return Axes3D.clone(momentsAxes);\n        }\n        var d1a = -Infinity;\n        var d1b = -Infinity;\n        var d2a = -Infinity;\n        var d2b = -Infinity;\n        var d3a = -Infinity;\n        var d3b = -Infinity;\n        var p = Vec3();\n        var t = Vec3();\n        var center = momentsAxes.origin;\n        var a = calculateNormalizedAxes(momentsAxes);\n        for (var i = 0, il = positions.length; i < il; i += 3) {\n            Vec3.projectPointOnVector(p, Vec3.fromArray(p, positions, i), a.dirA, center);\n            var dp1 = Vec3.dot(a.dirA, Vec3.normalize(t, Vec3.sub(t, p, center)));\n            var dt1 = Vec3.distance(p, center);\n            if (dp1 > 0) {\n                if (dt1 > d1a)\n                    d1a = dt1;\n            }\n            else {\n                if (dt1 > d1b)\n                    d1b = dt1;\n            }\n            Vec3.projectPointOnVector(p, Vec3.fromArray(p, positions, i), a.dirB, center);\n            var dp2 = Vec3.dot(a.dirB, Vec3.normalize(t, Vec3.sub(t, p, center)));\n            var dt2 = Vec3.distance(p, center);\n            if (dp2 > 0) {\n                if (dt2 > d2a)\n                    d2a = dt2;\n            }\n            else {\n                if (dt2 > d2b)\n                    d2b = dt2;\n            }\n            Vec3.projectPointOnVector(p, Vec3.fromArray(p, positions, i), a.dirC, center);\n            var dp3 = Vec3.dot(a.dirC, Vec3.normalize(t, Vec3.sub(t, p, center)));\n            var dt3 = Vec3.distance(p, center);\n            if (dp3 > 0) {\n                if (dt3 > d3a)\n                    d3a = dt3;\n            }\n            else {\n                if (dt3 > d3b)\n                    d3b = dt3;\n            }\n        }\n        var dirA = Vec3.setMagnitude(Vec3(), a.dirA, (d1a + d1b) / 2);\n        var dirB = Vec3.setMagnitude(Vec3(), a.dirB, (d2a + d2b) / 2);\n        var dirC = Vec3.setMagnitude(Vec3(), a.dirC, (d3a + d3b) / 2);\n        var okDirA = Vec3.isFinite(dirA);\n        var okDirB = Vec3.isFinite(dirB);\n        var okDirC = Vec3.isFinite(dirC);\n        var origin = Vec3();\n        var addCornerHelper = function (d1, d2, d3) {\n            Vec3.copy(tmpBoxVec, center);\n            if (okDirA)\n                Vec3.scaleAndAdd(tmpBoxVec, tmpBoxVec, a.dirA, d1);\n            if (okDirB)\n                Vec3.scaleAndAdd(tmpBoxVec, tmpBoxVec, a.dirB, d2);\n            if (okDirC)\n                Vec3.scaleAndAdd(tmpBoxVec, tmpBoxVec, a.dirC, d3);\n            Vec3.add(origin, origin, tmpBoxVec);\n        };\n        addCornerHelper(d1a, d2a, d3a);\n        addCornerHelper(d1a, d2a, -d3b);\n        addCornerHelper(d1a, -d2b, -d3b);\n        addCornerHelper(d1a, -d2b, d3a);\n        addCornerHelper(-d1b, -d2b, -d3b);\n        addCornerHelper(-d1b, -d2b, d3a);\n        addCornerHelper(-d1b, d2a, d3a);\n        addCornerHelper(-d1b, d2a, -d3b);\n        Vec3.scale(origin, origin, 1 / 8);\n        return Axes3D.create(origin, dirA, dirB, dirC);\n    }\n    PrincipalAxes.calculateBoxAxes = calculateBoxAxes;\n})(PrincipalAxes || (PrincipalAxes = {}));\n","/**\n * Copyright (c) 2019-2023 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @author David Sehnal <david.sehnal@gmail.com>\n */\nimport { arrayEqual, UUID } from '../../../mol-util';\nimport { Column } from '../../../mol-data/db';\n//\nexport { Time };\nfunction Time(value, unit) {\n    return { value: value, unit: unit };\n}\n//\nexport { Coordinates };\nvar Coordinates;\n(function (Coordinates) {\n    function create(frames, deltaTime, timeOffset) {\n        var hasCell = !!frames[0].cell;\n        var hasVelocities = !!frames[0].velocities;\n        var hasForces = !!frames[0].forces;\n        return {\n            id: UUID.create22(),\n            frames: frames,\n            hasCell: hasCell,\n            hasVelocities: hasVelocities,\n            hasForces: hasForces,\n            deltaTime: deltaTime,\n            timeOffset: timeOffset,\n        };\n    }\n    Coordinates.create = create;\n    /**\n     * Only use ordering if it's not identity.\n     */\n    function getAtomicConformation(frame, fields, ordering) {\n        var _a, _b;\n        var x = frame.x, y = frame.y, z = frame.z;\n        if (frame.xyzOrdering.frozen) {\n            if (ordering) {\n                if (frame.xyzOrdering.isIdentity) {\n                    // simple list reordering\n                    x = getOrderedCoords(x, ordering);\n                    y = getOrderedCoords(y, ordering);\n                    z = getOrderedCoords(z, ordering);\n                }\n                else if (!arrayEqual(frame.xyzOrdering.index, ordering)) {\n                    x = getSourceOrderedCoords(x, frame.xyzOrdering.index, ordering);\n                    y = getSourceOrderedCoords(y, frame.xyzOrdering.index, ordering);\n                    z = getSourceOrderedCoords(z, frame.xyzOrdering.index, ordering);\n                }\n            }\n            else if (!frame.xyzOrdering.isIdentity) {\n                x = getInvertedCoords(x, frame.xyzOrdering.index);\n                y = getInvertedCoords(y, frame.xyzOrdering.index);\n                z = getInvertedCoords(z, frame.xyzOrdering.index);\n            }\n        }\n        else if (ordering) {\n            if (frame.xyzOrdering.isIdentity) {\n                frame.xyzOrdering.isIdentity = false;\n                frame.xyzOrdering.index = ordering;\n                reorderCoordsInPlace(x, ordering);\n                reorderCoordsInPlace(y, ordering);\n                reorderCoordsInPlace(z, ordering);\n            }\n            else {\n                // is current ordering is not the same as requested?\n                //   => copy the conformations into a new array\n                if (!arrayEqual(frame.xyzOrdering.index, ordering)) {\n                    x = getSourceOrderedCoords(x, frame.xyzOrdering.index, ordering);\n                    y = getSourceOrderedCoords(y, frame.xyzOrdering.index, ordering);\n                    z = getSourceOrderedCoords(z, frame.xyzOrdering.index, ordering);\n                }\n            }\n        }\n        // once the conformation has been accessed at least once, freeze it.\n        //   => any other request to the frame with different ordering will result in a copy.\n        frame.xyzOrdering.frozen = true;\n        return {\n            id: UUID.create22(),\n            atomId: fields.atomId,\n            occupancy: (_a = fields.occupancy) !== null && _a !== void 0 ? _a : Column.ofConst(1, frame.elementCount, Column.Schema.int),\n            B_iso_or_equiv: (_b = fields.B_iso_or_equiv) !== null && _b !== void 0 ? _b : Column.ofConst(0, frame.elementCount, Column.Schema.float),\n            xyzDefined: true,\n            x: x,\n            y: y,\n            z: z,\n        };\n    }\n    Coordinates.getAtomicConformation = getAtomicConformation;\n    var _reorderBuffer = [0.123];\n    function reorderCoordsInPlace(xs, index) {\n        var buffer = _reorderBuffer;\n        for (var i = 0, _i = xs.length; i < _i; i++) {\n            buffer[i] = xs[index[i]];\n        }\n        for (var i = 0, _i = xs.length; i < _i; i++) {\n            xs[i] = buffer[i];\n        }\n    }\n    function getSourceOrderedCoords(xs, srcIndex, index) {\n        var ret = new Float32Array(xs.length);\n        for (var i = 0, _i = xs.length; i < _i; i++) {\n            ret[i] = xs[srcIndex[index[i]]];\n        }\n        return ret;\n    }\n    function getOrderedCoords(xs, index) {\n        var ret = new Float32Array(xs.length);\n        for (var i = 0, _i = xs.length; i < _i; i++) {\n            ret[i] = xs[index[i]];\n        }\n        return ret;\n    }\n    function getInvertedCoords(xs, index) {\n        var ret = new Float32Array(xs.length);\n        for (var i = 0, _i = xs.length; i < _i; i++) {\n            ret[index[i]] = xs[i];\n        }\n        return ret;\n    }\n})(Coordinates || (Coordinates = {}));\n","/**\n * Copyright (c) 2019-2020 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\nimport { UUID } from '../../../mol-util';\nexport { Topology };\nvar Topology;\n(function (Topology) {\n    function create(label, basic, bonds, format) {\n        return {\n            id: UUID.create22(),\n            label: label,\n            basic: basic,\n            sourceData: format,\n            bonds: bonds\n        };\n    }\n    Topology.create = create;\n})(Topology || (Topology = {}));\n","/**\n * Copyright (c) 2018-2021 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\nimport { UUID } from '../mol-util';\nexport { CustomPropertyDescriptor, CustomProperties };\nfunction CustomPropertyDescriptor(desc) {\n    return desc;\n}\n(function (CustomPropertyDescriptor) {\n    function getUUID(prop) {\n        if (!prop.__key) {\n            prop.__key = UUID.create22();\n        }\n        return prop.__key;\n    }\n    CustomPropertyDescriptor.getUUID = getUUID;\n})(CustomPropertyDescriptor || (CustomPropertyDescriptor = {}));\nvar CustomProperties = /** @class */ (function () {\n    function CustomProperties() {\n        this._list = [];\n        this._set = new Set();\n        this._refs = new Map();\n        this._assets = new Map();\n    }\n    Object.defineProperty(CustomProperties.prototype, \"all\", {\n        get: function () {\n            return this._list;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    CustomProperties.prototype.add = function (desc) {\n        if (this._set.has(desc))\n            return;\n        this._list.push(desc);\n        this._set.add(desc);\n    };\n    CustomProperties.prototype.reference = function (desc, add) {\n        var refs = this._refs.get(desc) || 0;\n        refs += add ? 1 : -1;\n        this._refs.set(desc, Math.max(refs, 0));\n    };\n    CustomProperties.prototype.hasReference = function (desc) {\n        return (this._refs.get(desc) || 0) > 0;\n    };\n    CustomProperties.prototype.has = function (desc) {\n        return this._set.has(desc);\n    };\n    /** Sets assets for a prop, disposes of existing assets for that prop */\n    CustomProperties.prototype.assets = function (desc, assets) {\n        var prevAssets = this._assets.get(desc);\n        if (prevAssets) {\n            for (var _i = 0, prevAssets_1 = prevAssets; _i < prevAssets_1.length; _i++) {\n                var a = prevAssets_1[_i];\n                a.dispose();\n            }\n        }\n        if (assets)\n            this._assets.set(desc, assets);\n        else\n            this._assets.delete(desc);\n    };\n    /** Disposes of all assets of all props */\n    CustomProperties.prototype.dispose = function () {\n        this._assets.forEach(function (assets) {\n            for (var _i = 0, assets_1 = assets; _i < assets_1.length; _i++) {\n                var a = assets_1[_i];\n                a.dispose();\n            }\n        });\n    };\n    return CustomProperties;\n}());\n","/**\n * Copyright (c) 2018-2021 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\n// TODO move to mol-math as Vector???\n/** Get the maximum value in an array */\nexport function arrayMax(array) {\n    var max = -Infinity;\n    for (var i = 0, il = array.length; i < il; ++i) {\n        if (array[i] > max)\n            max = array[i];\n    }\n    return max;\n}\n/** Get the minimum value in an array */\nexport function arrayMin(array) {\n    var min = Infinity;\n    for (var i = 0, il = array.length; i < il; ++i) {\n        if (array[i] < min)\n            min = array[i];\n    }\n    return min;\n}\n/** Get the minimum & maximum value in an array */\nexport function arrayMinMax(array) {\n    var min = Infinity;\n    var max = -Infinity;\n    for (var i = 0, il = array.length; i < il; ++i) {\n        if (array[i] < min)\n            min = array[i];\n        if (array[i] > max)\n            max = array[i];\n    }\n    return [min, max];\n}\n/** Get the sum of values in an array */\nexport function arraySum(array, stride, offset) {\n    if (stride === void 0) { stride = 1; }\n    if (offset === void 0) { offset = 0; }\n    var n = array.length;\n    var sum = 0;\n    for (var i = offset; i < n; i += stride) {\n        sum += array[i];\n    }\n    return sum;\n}\n/** Get the mean of values in an array */\nexport function arrayMean(array, stride, offset) {\n    if (stride === void 0) { stride = 1; }\n    if (offset === void 0) { offset = 0; }\n    return arraySum(array, stride, offset) / (array.length / stride);\n}\n/** Get the root mean square of values in an array */\nexport function arrayRms(array) {\n    var n = array.length;\n    var sumSq = 0;\n    for (var i = 0; i < n; ++i) {\n        var di = array[i];\n        sumSq += di * di;\n    }\n    return Math.sqrt(sumSq / n);\n}\n/** Fill an array with serial numbers starting from 0 until n - 1 (defaults to array.length) */\nexport function fillSerial(array, n) {\n    for (var i = 0, il = n ? Math.min(n, array.length) : array.length; i < il; ++i)\n        array[i] = i;\n    return array;\n}\nexport function arrayRemoveInPlace(xs, x) {\n    var i = 0, found = false;\n    for (var il = xs.length; i < il; i++) {\n        if (xs[i] === x) {\n            found = true;\n            break;\n        }\n    }\n    if (!found)\n        return false;\n    arrayRemoveAtInPlace(xs, i);\n    return true;\n}\nexport function arrayRemoveAtInPlace(xs, idx) {\n    for (var i = idx, _i = xs.length - 1; i < _i; i++) {\n        xs[i] = xs[i + 1];\n    }\n    xs.pop();\n}\nexport function arraySetAdd(xs, x) {\n    if (xs.indexOf(x) >= 0)\n        return false;\n    xs.push(x);\n    return true;\n}\nexport function arraySetRemove(xs, x) {\n    var idx = xs.indexOf(x);\n    if (idx < 0)\n        return false;\n    for (var i = idx, _i = xs.length - 1; i < _i; i++) {\n        xs[i] = xs[i + 1];\n    }\n    xs.pop();\n    return true;\n}\n/**\n * Caution, O(n^2) complexity. Only use for small input sizes.\n * For larger inputs consider using `SortedArray`.\n */\nexport function arrayAreIntersecting(xs, ys) {\n    for (var i = 0, il = xs.length; i < il; ++i) {\n        if (ys.includes(xs[i]))\n            return true;\n    }\n    return false;\n}\n/**\n * Caution, O(n^2) complexity. Only use for small input sizes.\n * For larger inputs consider using `SortedArray`.\n */\nexport function arrayIntersectionSize(xs, ys) {\n    var count = 0;\n    for (var i = 0, il = xs.length; i < il; ++i) {\n        if (ys.includes(xs[i]))\n            count += 1;\n    }\n    return count;\n}\nexport function arrayEqual(xs, ys) {\n    if (!xs || xs.length === 0)\n        return !ys || ys.length === 0;\n    if (!ys)\n        return false;\n    var lenX = xs.length;\n    if (lenX !== ys.length)\n        return false;\n    for (var i = 0; i < lenX; i++) {\n        if (xs[i] !== ys[i])\n            return false;\n    }\n    return true;\n}\nexport function arrayIsIdentity(xs) {\n    for (var i = 0, _i = xs.length; i < _i; i++) {\n        if (xs[i] !== i)\n            return false;\n    }\n    return true;\n}\nexport function arrayMapUpsert(xs, key, value) {\n    for (var i = 0, il = xs.length; i < il; ++i) {\n        if (xs[i][0] === key) {\n            xs[i][1] = value;\n            return;\n        }\n    }\n    xs.push([key, value]);\n}\n","/**\n * Copyright (c) 2018-2019 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\nimport { isProductionMode } from '../../mol-util/debug';\nvar hasPerformance = (typeof performance !== 'undefined') && !!performance.mark && performance.measure;\nvar timingEnabled = hasPerformance && !isProductionMode;\nexport var UserTiming;\n(function (UserTiming) {\n    function startMarkName(task) { return \"startTask\".concat(task.id); }\n    function endMarkName(task) { return \"endTask\".concat(task.id); }\n    function markStart(task) {\n        if (timingEnabled)\n            performance.mark(startMarkName(task));\n    }\n    UserTiming.markStart = markStart;\n    function markEnd(task) {\n        if (timingEnabled)\n            performance.mark(endMarkName(task));\n    }\n    UserTiming.markEnd = markEnd;\n    function measure(task) {\n        if (timingEnabled)\n            performance.measure(\"\\u2733\\uFE0F \".concat(task.name), startMarkName(task), endMarkName(task));\n    }\n    UserTiming.measure = measure;\n})(UserTiming || (UserTiming = {}));\n","/**\n * Copyright (c) 2017-2018 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n */\nimport { __assign, __awaiter, __generator } from \"tslib\";\nimport { Task } from '../task';\nimport { now } from '../../mol-util/now';\nimport { Scheduler } from '../util/scheduler';\nimport { UserTiming } from '../util/user-timing';\nexport function ExecuteObservable(task, observer, updateRateMs) {\n    if (updateRateMs === void 0) { updateRateMs = 250; }\n    var info = ProgressInfo(task, observer, updateRateMs);\n    var ctx = new ObservableRuntimeContext(info, info.root);\n    return execute(task, ctx);\n}\nexport function CreateObservableCtx(task, observer, updateRateMs) {\n    if (updateRateMs === void 0) { updateRateMs = 250; }\n    var info = ProgressInfo(task, observer, updateRateMs);\n    return new ObservableRuntimeContext(info, info.root);\n}\nexport function ExecuteInContext(ctx, task) {\n    return execute(task, ctx);\n}\nexport function ExecuteObservableChild(ctx, task, progress) {\n    return ctx.runChild(task, progress);\n}\nfunction defaultProgress(task) {\n    return {\n        taskId: task.id,\n        taskName: task.name,\n        message: '',\n        startedTime: 0,\n        canAbort: true,\n        isIndeterminate: true,\n        current: 0,\n        max: 0\n    };\n}\nfunction ProgressInfo(task, observer, updateRateMs) {\n    var abortToken = { abortRequested: false, treeAborted: false, reason: '' };\n    return {\n        updateRateMs: updateRateMs,\n        lastNotified: now(),\n        observer: observer,\n        abortToken: abortToken,\n        taskId: task.id,\n        root: { progress: defaultProgress(task), children: [] },\n        tryAbort: createAbortFunction(abortToken)\n    };\n}\nfunction createAbortFunction(token) {\n    return function (reason) {\n        token.abortRequested = true;\n        token.reason = reason || token.reason;\n    };\n}\nfunction cloneTree(root) {\n    return { progress: __assign({}, root.progress), children: root.children.map(cloneTree) };\n}\nfunction canAbort(root) {\n    return root.progress.canAbort && root.children.every(canAbort);\n}\nfunction snapshotProgress(info) {\n    return { root: cloneTree(info.root), canAbort: canAbort(info.root), requestAbort: info.tryAbort };\n}\nfunction execute(task, ctx) {\n    return __awaiter(this, void 0, void 0, function () {\n        var ret, e_1;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    UserTiming.markStart(task);\n                    ctx.node.progress.startedTime = now();\n                    _a.label = 1;\n                case 1:\n                    _a.trys.push([1, 3, , 7]);\n                    return [4 /*yield*/, task.f(ctx)];\n                case 2:\n                    ret = _a.sent();\n                    UserTiming.markEnd(task);\n                    UserTiming.measure(task);\n                    if (ctx.info.abortToken.abortRequested) {\n                        abort(ctx.info);\n                    }\n                    return [2 /*return*/, ret];\n                case 3:\n                    e_1 = _a.sent();\n                    if (!Task.isAbort(e_1)) return [3 /*break*/, 6];\n                    ctx.isAborted = true;\n                    if (!(ctx.node.children.length > 0)) return [3 /*break*/, 5];\n                    return [4 /*yield*/, new Promise(function (res) { ctx.onChildrenFinished = res; })];\n                case 4:\n                    _a.sent();\n                    _a.label = 5;\n                case 5:\n                    if (task.onAbort) {\n                        task.onAbort();\n                    }\n                    _a.label = 6;\n                case 6: throw e_1;\n                case 7: return [2 /*return*/];\n            }\n        });\n    });\n}\nfunction abort(info) {\n    if (!info.abortToken.treeAborted) {\n        info.abortToken.treeAborted = true;\n        abortTree(info.root);\n        notifyObserver(info, now());\n    }\n    throw Task.Aborted(info.abortToken.reason);\n}\nfunction abortTree(root) {\n    var progress = root.progress;\n    progress.isIndeterminate = true;\n    progress.canAbort = false;\n    progress.message = 'Aborting...';\n    for (var _a = 0, _b = root.children; _a < _b.length; _a++) {\n        var c = _b[_a];\n        abortTree(c);\n    }\n}\n// function shouldNotify(info: ProgressInfo, time: number) {\n//     return time - info.lastNotified > info.updateRateMs;\n// }\nfunction notifyObserver(info, time) {\n    info.lastNotified = time;\n    var snapshot = snapshotProgress(info);\n    info.observer(snapshot);\n}\nvar ObservableRuntimeContext = /** @class */ (function () {\n    function ObservableRuntimeContext(info, node) {\n        this.isSynchronous = false;\n        this.isExecuting = true;\n        this.lastUpdatedTime = 0;\n        // used for waiting for cancelled computation trees\n        this.onChildrenFinished = void 0;\n        this.node = node;\n        this.info = info;\n    }\n    ObservableRuntimeContext.prototype.checkAborted = function () {\n        if (this.info.abortToken.abortRequested) {\n            this.isAborted = true;\n            abort(this.info);\n        }\n    };\n    Object.defineProperty(ObservableRuntimeContext.prototype, \"shouldUpdate\", {\n        get: function () {\n            this.checkAborted();\n            return now() - this.lastUpdatedTime > this.info.updateRateMs;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    ObservableRuntimeContext.prototype.updateProgress = function (update) {\n        this.checkAborted();\n        if (!update)\n            return;\n        var progress = this.node.progress;\n        if (typeof update === 'string') {\n            progress.message = update;\n            progress.isIndeterminate = true;\n        }\n        else {\n            if (typeof update.canAbort !== 'undefined')\n                progress.canAbort = update.canAbort;\n            if (typeof update.message !== 'undefined')\n                progress.message = update.message;\n            if (typeof update.current !== 'undefined')\n                progress.current = update.current;\n            if (typeof update.max !== 'undefined')\n                progress.max = update.max;\n            progress.isIndeterminate = typeof progress.current === 'undefined' || typeof progress.max === 'undefined';\n            if (typeof update.isIndeterminate !== 'undefined')\n                progress.isIndeterminate = update.isIndeterminate;\n        }\n    };\n    ObservableRuntimeContext.prototype.update = function (progress, dontNotify) {\n        // The progress tracking and observer notification are separated\n        // because the computation can have a tree structure.\n        // All nodes of the tree should be regualarly updated at the specified frequency,\n        // however, the notification should only be invoked once per the whole tree.\n        this.lastUpdatedTime = now();\n        this.updateProgress(progress);\n        // TODO: do the shouldNotify check here?\n        if (!!dontNotify /* || !shouldNotify(this.info, this.lastUpdatedTime)*/)\n            return;\n        notifyObserver(this.info, this.lastUpdatedTime);\n        // The computation could have been aborted during the notifycation phase.\n        this.checkAborted();\n        return Scheduler.immediatePromise();\n    };\n    ObservableRuntimeContext.prototype.runChild = function (task, progress) {\n        return __awaiter(this, void 0, void 0, function () {\n            var node, children, ctx, e_2, idx, i, _i;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        this.updateProgress(progress);\n                        node = { progress: defaultProgress(task), children: [] };\n                        children = this.node.children;\n                        children.push(node);\n                        ctx = new ObservableRuntimeContext(this.info, node);\n                        _a.label = 1;\n                    case 1:\n                        _a.trys.push([1, 3, 4, 5]);\n                        return [4 /*yield*/, execute(task, ctx)];\n                    case 2: return [2 /*return*/, _a.sent()];\n                    case 3:\n                        e_2 = _a.sent();\n                        if (Task.isAbort(e_2)) {\n                            // need to catch the error here because otherwise\n                            // promises for running child tasks in a tree-like computation\n                            // will get orphaned and cause \"uncaught error in Promise\".\n                            if (this.isAborted)\n                                return [2 /*return*/, void 0];\n                        }\n                        throw e_2;\n                    case 4:\n                        idx = children.indexOf(node);\n                        if (idx >= 0) {\n                            for (i = idx, _i = children.length - 1; i < _i; i++) {\n                                children[i] = children[i + 1];\n                            }\n                            children.pop();\n                        }\n                        if (children.length === 0 && this.onChildrenFinished)\n                            this.onChildrenFinished();\n                        return [7 /*endfinally*/];\n                    case 5: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    return ObservableRuntimeContext;\n}());\n","/**\n * Copyright (c) 2017-2018 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n */\nimport { __awaiter, __generator } from \"tslib\";\nimport { ExecuteObservable, ExecuteObservableChild, ExecuteInContext } from './execution/observable';\nimport { SyncRuntimeContext } from './execution/synchronous';\nimport { idFactory } from '../mol-util/id-factory';\nvar Task;\n(function (Task) {\n    var Impl = /** @class */ (function () {\n        function Impl(name, f, onAbort) {\n            this.name = name;\n            this.f = f;\n            this.onAbort = onAbort;\n            this.id = getNextId();\n        }\n        Impl.prototype.run = function (observer, updateRateMs) {\n            if (updateRateMs === void 0) { updateRateMs = 250; }\n            if (observer)\n                return ExecuteObservable(this, observer, updateRateMs);\n            return this.f(SyncRuntimeContext);\n        };\n        Impl.prototype.runAsChild = function (ctx, progress) {\n            if (ctx.isSynchronous)\n                return this.f(SyncRuntimeContext);\n            return ExecuteObservableChild(ctx, this, progress);\n        };\n        Impl.prototype.runInContext = function (ctx) {\n            if (ctx.isSynchronous)\n                return this.f(SyncRuntimeContext);\n            return ExecuteInContext(ctx, this);\n        };\n        return Impl;\n    }());\n    function is(t) {\n        var _t = t;\n        return !!t && typeof _t.id === 'number' && typeof _t.name === 'string' && !!_t.run;\n    }\n    Task.is = is;\n    function isAbort(e) { return !!e && !!e.isAborted; }\n    Task.isAbort = isAbort;\n    function Aborted(reason) { return { isAborted: true, reason: reason, toString: function () { return \"Aborted\".concat(reason ? ': ' + reason : ''); } }; }\n    Task.Aborted = Aborted;\n    function create(name, f, onAbort) {\n        return new Impl(name, f, onAbort);\n    }\n    Task.create = create;\n    function constant(name, value) {\n        var _this = this;\n        return create(name, function (ctx) { return __awaiter(_this, void 0, void 0, function () { return __generator(this, function (_a) {\n            return [2 /*return*/, value];\n        }); }); });\n    }\n    Task.constant = constant;\n    function empty() {\n        var _this = this;\n        return create('', function (ctx) { return __awaiter(_this, void 0, void 0, function () { return __generator(this, function (_a) {\n            return [2 /*return*/];\n        }); }); });\n    }\n    Task.empty = empty;\n    function fail(name, reason) {\n        var _this = this;\n        return create(name, function (ctx) { return __awaiter(_this, void 0, void 0, function () { return __generator(this, function (_a) {\n            throw new Error(reason);\n        }); }); });\n    }\n    Task.fail = fail;\n    function resolveInContext(object, ctx) {\n        if (is(object))\n            return ctx ? object.runInContext(ctx) : object.run();\n        return object;\n    }\n    Task.resolveInContext = resolveInContext;\n    var getNextId = idFactory(0, 0x3fffffff);\n})(Task || (Task = {}));\nexport { Task };\n","/**\n * Copyright (c) 2017 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n */\nimport { SyncRuntimeContext } from './synchronous';\nvar RuntimeContext;\n(function (RuntimeContext) {\n    RuntimeContext.Synchronous = SyncRuntimeContext;\n})(RuntimeContext || (RuntimeContext = {}));\nexport { RuntimeContext };\n","/**\n * Copyright (c) 2017 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n */\nvar Progress;\n(function (Progress) {\n    function _format(root, prefix) {\n        if (prefix === void 0) { prefix = ''; }\n        var p = root.progress;\n        if (!root.children.length) {\n            if (p.isIndeterminate)\n                return \"\".concat(prefix).concat(p.taskName, \": \").concat(p.message);\n            return \"\".concat(prefix).concat(p.taskName, \": [\").concat(p.current, \"/\").concat(p.max, \"] \").concat(p.message);\n        }\n        var newPrefix = prefix + '  |_ ';\n        var subTree = root.children.map(function (c) { return _format(c, newPrefix); });\n        if (p.isIndeterminate)\n            return \"\".concat(prefix).concat(p.taskName, \": \").concat(p.message, \"\\n\").concat(subTree.join('\\n'));\n        return \"\".concat(prefix).concat(p.taskName, \": [\").concat(p.current, \"/\").concat(p.max, \"] \").concat(p.message, \"\\n\").concat(subTree.join('\\n'));\n    }\n    function format(p) { return _format(p.root); }\n    Progress.format = format;\n})(Progress || (Progress = {}));\nexport { Progress };\n","/**\n * Copyright (c) 2018-2023 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\nimport { arrayPickIndices, cantorPairing } from '../../mol-data/util';\nimport { LinkedIndex, SortedArray } from '../../mol-data/int';\nexport var IntAdjacencyGraph;\n(function (IntAdjacencyGraph) {\n    function areEqual(a, b) {\n        if (a === b)\n            return true;\n        if (a.vertexCount !== b.vertexCount || a.edgeCount !== b.edgeCount)\n            return false;\n        var aa = a.a, ab = a.b, ao = a.offset;\n        var ba = b.a, bb = b.b, bo = b.offset;\n        for (var i = 0, _i = a.a.length; i < _i; i++) {\n            if (aa[i] !== ba[i])\n                return false;\n        }\n        for (var i = 0, _i = a.b.length; i < _i; i++) {\n            if (ab[i] !== bb[i])\n                return false;\n        }\n        for (var i = 0, _i = a.offset.length; i < _i; i++) {\n            if (ao[i] !== bo[i])\n                return false;\n        }\n        for (var _a = 0, _b = Object.keys(a.edgeProps); _a < _b.length; _a++) {\n            var k = _b[_a];\n            var pa = a.edgeProps[k], pb = b.edgeProps[k];\n            if (!pb)\n                return false;\n            for (var i = 0, _i = pa.length; i < _i; i++) {\n                if (pa[i] !== pb[i])\n                    return false;\n            }\n        }\n        return true;\n    }\n    IntAdjacencyGraph.areEqual = areEqual;\n    var IntGraphImpl = /** @class */ (function () {\n        function IntGraphImpl(offset, a, b, edgeCount, edgeProps, props) {\n            this.offset = offset;\n            this.a = a;\n            this.b = b;\n            this.edgeCount = edgeCount;\n            this.props = props;\n            this.vertexCount = offset.length - 1;\n            this.edgeProps = (edgeProps || {});\n        }\n        IntGraphImpl.prototype.getEdgeIndex = function (i, j) {\n            var a, b;\n            if (i < j) {\n                a = i;\n                b = j;\n            }\n            else {\n                a = j;\n                b = i;\n            }\n            for (var t = this.offset[a], _t = this.offset[a + 1]; t < _t; t++) {\n                if (this.b[t] === b)\n                    return t;\n            }\n            return -1;\n        };\n        IntGraphImpl.prototype.getDirectedEdgeIndex = function (i, j) {\n            for (var t = this.offset[i], _t = this.offset[i + 1]; t < _t; t++) {\n                if (this.b[t] === j)\n                    return t;\n            }\n            return -1;\n        };\n        IntGraphImpl.prototype.getVertexEdgeCount = function (i) {\n            return this.offset[i + 1] - this.offset[i];\n        };\n        return IntGraphImpl;\n    }());\n    function create(offset, a, b, edgeCount, edgeProps, props) {\n        return new IntGraphImpl(offset, a, b, edgeCount, edgeProps, props);\n    }\n    IntAdjacencyGraph.create = create;\n    var EdgeBuilder = /** @class */ (function () {\n        function EdgeBuilder(vertexCount, xs, ys) {\n            this.vertexCount = vertexCount;\n            this.xs = xs;\n            this.ys = ys;\n            this.current = 0;\n            this.curA = 0;\n            this.curB = 0;\n            this.edgeCount = xs.length;\n            this.offsets = new Int32Array(this.vertexCount + 1);\n            this.bucketFill = new Int32Array(this.vertexCount);\n            var bucketSizes = new Int32Array(this.vertexCount);\n            for (var i = 0, _i = this.xs.length; i < _i; i++)\n                bucketSizes[this.xs[i]]++;\n            for (var i = 0, _i = this.ys.length; i < _i; i++)\n                bucketSizes[this.ys[i]]++;\n            var offset = 0;\n            for (var i = 0; i < this.vertexCount; i++) {\n                this.offsets[i] = offset;\n                offset += bucketSizes[i];\n            }\n            this.offsets[this.vertexCount] = offset;\n            this.slotCount = offset;\n            this.a = new Int32Array(offset);\n            this.b = new Int32Array(offset);\n        }\n        EdgeBuilder.prototype.createGraph = function (edgeProps, props) {\n            return create(this.offsets, this.a, this.b, this.edgeCount, edgeProps, props);\n        };\n        /**\n         * @example\n         *   const property = new Int32Array(builder.slotCount);\n         *   for (let i = 0; i < builder.edgeCount; i++) {\n         *     builder.addNextEdge();\n         *     builder.assignProperty(property, srcProp[i]);\n         *   }\n         *   return builder.createGraph({ property });\n         */\n        EdgeBuilder.prototype.addNextEdge = function () {\n            var a = this.xs[this.current], b = this.ys[this.current];\n            var oa = this.offsets[a] + this.bucketFill[a];\n            this.a[oa] = a;\n            this.b[oa] = b;\n            this.bucketFill[a]++;\n            var ob = this.offsets[b] + this.bucketFill[b];\n            this.a[ob] = b;\n            this.b[ob] = a;\n            this.bucketFill[b]++;\n            this.current++;\n            this.curA = oa;\n            this.curB = ob;\n        };\n        /** Builds property-less graph */\n        EdgeBuilder.prototype.addAllEdges = function () {\n            for (var i = 0; i < this.edgeCount; i++) {\n                this.addNextEdge();\n            }\n        };\n        EdgeBuilder.prototype.assignProperty = function (prop, value) {\n            prop[this.curA] = value;\n            prop[this.curB] = value;\n        };\n        EdgeBuilder.prototype.assignDirectedProperty = function (propA, valueA, propB, valueB) {\n            propA[this.curA] = valueA;\n            propA[this.curB] = valueB;\n            propB[this.curB] = valueA;\n            propB[this.curA] = valueB;\n        };\n        return EdgeBuilder;\n    }());\n    IntAdjacencyGraph.EdgeBuilder = EdgeBuilder;\n    var DirectedEdgeBuilder = /** @class */ (function () {\n        function DirectedEdgeBuilder(vertexCount, xs, ys) {\n            this.vertexCount = vertexCount;\n            this.xs = xs;\n            this.ys = ys;\n            this.current = 0;\n            this.curA = 0;\n            this.edgeCount = xs.length;\n            this.offsets = new Int32Array(this.vertexCount + 1);\n            this.bucketFill = new Int32Array(this.vertexCount);\n            var bucketSizes = new Int32Array(this.vertexCount);\n            for (var i = 0, _i = this.xs.length; i < _i; i++)\n                bucketSizes[this.xs[i]]++;\n            var offset = 0;\n            for (var i = 0; i < this.vertexCount; i++) {\n                this.offsets[i] = offset;\n                offset += bucketSizes[i];\n            }\n            this.offsets[this.vertexCount] = offset;\n            this.slotCount = offset;\n            this.a = new Int32Array(offset);\n            this.b = new Int32Array(offset);\n        }\n        DirectedEdgeBuilder.prototype.createGraph = function (edgeProps, props) {\n            return create(this.offsets, this.a, this.b, this.edgeCount, edgeProps, props);\n        };\n        /**\n         * @example\n         *   const property = new Int32Array(builder.slotCount);\n         *   for (let i = 0; i < builder.edgeCount; i++) {\n         *     builder.addNextEdge();\n         *     builder.assignProperty(property, srcProp[i]);\n         *   }\n         *   return builder.createGraph({ property });\n         */\n        DirectedEdgeBuilder.prototype.addNextEdge = function () {\n            var a = this.xs[this.current], b = this.ys[this.current];\n            var oa = this.offsets[a] + this.bucketFill[a];\n            this.a[oa] = a;\n            this.b[oa] = b;\n            this.bucketFill[a]++;\n            this.current++;\n            this.curA = oa;\n        };\n        /** Builds property-less graph */\n        DirectedEdgeBuilder.prototype.addAllEdges = function () {\n            for (var i = 0; i < this.edgeCount; i++) {\n                this.addNextEdge();\n            }\n        };\n        DirectedEdgeBuilder.prototype.assignProperty = function (prop, value) {\n            prop[this.curA] = value;\n        };\n        return DirectedEdgeBuilder;\n    }());\n    IntAdjacencyGraph.DirectedEdgeBuilder = DirectedEdgeBuilder;\n    var UniqueEdgeBuilder = /** @class */ (function () {\n        function UniqueEdgeBuilder(vertexCount) {\n            this.vertexCount = vertexCount;\n            this.xs = [];\n            this.ys = [];\n            this.included = new Set();\n        }\n        UniqueEdgeBuilder.prototype.addEdge = function (i, j) {\n            var u = i, v = j;\n            if (i > j) {\n                u = j;\n                v = i;\n            }\n            var id = cantorPairing(u, v);\n            if (this.included.has(id))\n                return false;\n            this.included.add(id);\n            this.xs[this.xs.length] = u;\n            this.ys[this.ys.length] = v;\n            return true;\n        };\n        UniqueEdgeBuilder.prototype.getGraph = function () {\n            return fromVertexPairs(this.vertexCount, this.xs, this.ys);\n        };\n        // if we cant to add custom props as well\n        UniqueEdgeBuilder.prototype.getEdgeBuiler = function () {\n            return new EdgeBuilder(this.vertexCount, this.xs, this.ys);\n        };\n        return UniqueEdgeBuilder;\n    }());\n    IntAdjacencyGraph.UniqueEdgeBuilder = UniqueEdgeBuilder;\n    function fromVertexPairs(vertexCount, xs, ys) {\n        var graphBuilder = new IntAdjacencyGraph.EdgeBuilder(vertexCount, xs, ys);\n        graphBuilder.addAllEdges();\n        return graphBuilder.createGraph({});\n    }\n    IntAdjacencyGraph.fromVertexPairs = fromVertexPairs;\n    function induceByVertices(graph, vertexIndices, props) {\n        var b = graph.b, offset = graph.offset, vertexCount = graph.vertexCount, edgeProps = graph.edgeProps;\n        var vertexMap = new Int32Array(vertexCount);\n        for (var i = 0, _i = vertexIndices.length; i < _i; i++)\n            vertexMap[vertexIndices[i]] = i + 1;\n        var newEdgeCount = 0;\n        for (var i = 0; i < vertexCount; i++) {\n            if (vertexMap[i] === 0)\n                continue;\n            for (var j = offset[i], _j = offset[i + 1]; j < _j; j++) {\n                if (b[j] > i && vertexMap[b[j]] !== 0)\n                    newEdgeCount++;\n            }\n        }\n        var newOffsets = new Int32Array(vertexIndices.length + 1);\n        var edgeIndices = new Int32Array(2 * newEdgeCount);\n        var newA = new Int32Array(2 * newEdgeCount);\n        var newB = new Int32Array(2 * newEdgeCount);\n        var eo = 0, vo = 0;\n        for (var i = 0; i < vertexCount; i++) {\n            if (vertexMap[i] === 0)\n                continue;\n            var aa = vertexMap[i] - 1;\n            for (var j = offset[i], _j = offset[i + 1]; j < _j; j++) {\n                var bb = vertexMap[b[j]];\n                if (bb === 0)\n                    continue;\n                newA[eo] = aa;\n                newB[eo] = bb - 1;\n                edgeIndices[eo] = j;\n                eo++;\n            }\n            newOffsets[++vo] = eo;\n        }\n        var newEdgeProps = {};\n        for (var _a = 0, _b = Object.keys(edgeProps); _a < _b.length; _a++) {\n            var key = _b[_a];\n            newEdgeProps[key] = arrayPickIndices(edgeProps[key], edgeIndices);\n        }\n        return create(newOffsets, newA, newB, newEdgeCount, newEdgeProps, props);\n    }\n    IntAdjacencyGraph.induceByVertices = induceByVertices;\n    function connectedComponents(graph) {\n        var vCount = graph.vertexCount;\n        if (vCount === 0)\n            return { componentCount: 0, componentIndex: new Int32Array(0) };\n        if (graph.edgeCount === 0) {\n            var componentIndex_1 = new Int32Array(vCount);\n            for (var i = 0, _i = vCount; i < _i; i++) {\n                componentIndex_1[i] = i;\n            }\n            return { componentCount: vCount, componentIndex: componentIndex_1 };\n        }\n        var componentIndex = new Int32Array(vCount);\n        for (var i = 0, _i = vCount; i < _i; i++)\n            componentIndex[i] = -1;\n        var currentComponent = 0;\n        componentIndex[0] = currentComponent;\n        var offset = graph.offset, neighbor = graph.b;\n        var stack = [0];\n        var list = LinkedIndex(vCount);\n        list.remove(0);\n        while (stack.length > 0) {\n            var v = stack.pop();\n            var cIdx = componentIndex[v];\n            for (var eI = offset[v], _eI = offset[v + 1]; eI < _eI; eI++) {\n                var n = neighbor[eI];\n                if (!list.has(n))\n                    continue;\n                list.remove(n);\n                stack.push(n);\n                componentIndex[n] = cIdx;\n            }\n            // check if we visited all vertices.\n            // If not, create a new component and continue.\n            if (stack.length === 0 && list.head >= 0) {\n                stack.push(list.head);\n                componentIndex[list.head] = ++currentComponent;\n                list.remove(list.head);\n            }\n        }\n        return { componentCount: vCount, componentIndex: componentIndex };\n    }\n    IntAdjacencyGraph.connectedComponents = connectedComponents;\n    /**\n     * Check if any vertex in `verticesA` is connected to any vertex in `verticesB`\n     * via at most `maxDistance` edges.\n     *\n     * Returns true if verticesA and verticesB are intersecting.\n     */\n    function areVertexSetsConnected(graph, verticesA, verticesB, maxDistance) {\n        // check if A and B are intersecting, this handles maxDistance = 0\n        if (SortedArray.areIntersecting(verticesA, verticesB))\n            return true;\n        if (maxDistance < 1)\n            return false;\n        var visited = new Set();\n        for (var i = 0, il = verticesA.length; i < il; ++i) {\n            visited.add(verticesA[i]);\n        }\n        return areVertexSetsConnectedImpl(graph, verticesA, verticesB, maxDistance, visited);\n    }\n    IntAdjacencyGraph.areVertexSetsConnected = areVertexSetsConnected;\n})(IntAdjacencyGraph || (IntAdjacencyGraph = {}));\nfunction areVertexSetsConnectedImpl(graph, frontier, target, distance, visited) {\n    var neighbor = graph.b, offset = graph.offset;\n    var newFrontier = [];\n    for (var i = 0, il = frontier.length; i < il; ++i) {\n        var src = frontier[i];\n        for (var j = offset[src], jl = offset[src + 1]; j < jl; ++j) {\n            var other = neighbor[j];\n            if (visited.has(other))\n                continue;\n            if (SortedArray.has(target, other))\n                return true;\n            visited.add(other);\n            newFrontier[newFrontier.length] = other;\n        }\n    }\n    return distance > 1 ? areVertexSetsConnectedImpl(graph, newFrontier, target, distance - 1, visited) : false;\n}\n","/**\n * Copyright (c) 2017 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n */\nvar SynchronousRuntimeContext = /** @class */ (function () {\n    function SynchronousRuntimeContext() {\n        this.shouldUpdate = false;\n        this.isSynchronous = true;\n    }\n    SynchronousRuntimeContext.prototype.update = function (progress, dontNotify) { };\n    return SynchronousRuntimeContext;\n}());\nexport { SynchronousRuntimeContext };\nexport var SyncRuntimeContext = new SynchronousRuntimeContext();\n","/**\n * Copyright (c) 2018 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n */\nimport { __awaiter, __generator } from \"tslib\";\nimport { now } from '../../mol-util/now';\nfunction chunkedSubtask(ctx, initialChunk, state, f, update) {\n    return __awaiter(this, void 0, void 0, function () {\n        var chunkSize, globalProcessed, globalTime, start, lastSize, currentTime, delta;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    chunkSize = Math.max(initialChunk, 0);\n                    globalProcessed = 0, globalTime = 0;\n                    if (ctx.isSynchronous) {\n                        f(Number.MAX_SAFE_INTEGER, state);\n                        return [2 /*return*/, state];\n                    }\n                    start = now();\n                    lastSize = 0, currentTime = 0;\n                    _a.label = 1;\n                case 1:\n                    if (!((lastSize = f(chunkSize, state)) > 0)) return [3 /*break*/, 4];\n                    globalProcessed += lastSize;\n                    delta = now() - start;\n                    currentTime += delta;\n                    globalTime += delta;\n                    if (!ctx.shouldUpdate) return [3 /*break*/, 3];\n                    return [4 /*yield*/, update(ctx, state, globalProcessed)];\n                case 2:\n                    _a.sent();\n                    chunkSize = Math.round(currentTime * globalProcessed / globalTime) + 1;\n                    start = now();\n                    currentTime = 0;\n                    _a.label = 3;\n                case 3: return [3 /*break*/, 1];\n                case 4:\n                    if (!ctx.shouldUpdate) return [3 /*break*/, 6];\n                    return [4 /*yield*/, update(ctx, state, globalProcessed)];\n                case 5:\n                    _a.sent();\n                    _a.label = 6;\n                case 6: return [2 /*return*/, state];\n            }\n        });\n    });\n}\nexport { chunkedSubtask };\n","/**\n * Copyright (c) 2020-2022 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @author David Sehnal <david.sehnal@gmail.com>\n */\nvar FormatRegistry = /** @class */ (function () {\n    function FormatRegistry() {\n        this.map = new Map();\n        this.applicable = new Map();\n    }\n    FormatRegistry.prototype.add = function (kind, obtain, applicable) {\n        this.map.set(kind, obtain);\n        if (applicable)\n            this.applicable.set(kind, applicable);\n    };\n    FormatRegistry.prototype.remove = function (kind) {\n        this.map.delete(kind);\n        this.applicable.delete(kind);\n    };\n    FormatRegistry.prototype.get = function (kind) {\n        return this.map.get(kind);\n    };\n    FormatRegistry.prototype.isApplicable = function (model) {\n        if (!this.map.has(model.sourceData.kind))\n            return false;\n        var isApplicable = this.applicable.get(model.sourceData.kind);\n        return isApplicable ? isApplicable(model) : true;\n    };\n    return FormatRegistry;\n}());\nexport { FormatPropertyProvider };\nvar FormatPropertyProvider;\n(function (FormatPropertyProvider) {\n    function create(descriptor, options) {\n        var name = descriptor.name;\n        var formatRegistry = new FormatRegistry();\n        return {\n            descriptor: descriptor,\n            formatRegistry: formatRegistry,\n            isApplicable: function (model) {\n                return formatRegistry.isApplicable(model);\n            },\n            get: function (model) {\n                var store = (options === null || options === void 0 ? void 0 : options.asDynamic) ? model._dynamicPropertyData : model._staticPropertyData;\n                if (store[name])\n                    return store[name];\n                if (model.customProperties.has(descriptor))\n                    return;\n                var obtain = formatRegistry.get(model.sourceData.kind);\n                if (!obtain)\n                    return;\n                store[name] = obtain(model);\n                model.customProperties.add(descriptor);\n                return store[name];\n            },\n            set: function (model, value) {\n                if (options === null || options === void 0 ? void 0 : options.asDynamic) {\n                    model._dynamicPropertyData[name] = value;\n                }\n                else {\n                    model._staticPropertyData[name] = value;\n                }\n            },\n            delete: function (model) {\n                if (options === null || options === void 0 ? void 0 : options.asDynamic) {\n                    delete model._dynamicPropertyData[name];\n                }\n                else {\n                    delete model._staticPropertyData[name];\n                }\n            }\n        };\n    }\n    FormatPropertyProvider.create = create;\n})(FormatPropertyProvider || (FormatPropertyProvider = {}));\n","/**\n * Copyright (c) 2019-2023 Mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @author David Sehnal <david.sehnal@gmail.com>\n */\nimport { __assign } from \"tslib\";\nimport { IntAdjacencyGraph } from '../../../../mol-math/graph';\nimport { FormatPropertyProvider } from '../../common/property';\nfunction getGraph(indexA, indexB, props, count) {\n    var builder = new IntAdjacencyGraph.EdgeBuilder(count, indexA, indexB);\n    var key = new Int32Array(builder.slotCount);\n    var operatorA = new Array(builder.slotCount);\n    var operatorB = new Array(builder.slotCount);\n    var order = new Int8Array(builder.slotCount);\n    var distance = new Array(builder.slotCount);\n    var flag = new Array(builder.slotCount);\n    for (var i = 0, _i = builder.edgeCount; i < _i; i++) {\n        builder.addNextEdge();\n        builder.assignProperty(key, props.key ? props.key[i] : -1);\n        builder.assignDirectedProperty(operatorA, props.operatorA ? props.operatorA[i] : -1, operatorB, props.operatorB ? props.operatorB[i] : -1);\n        builder.assignProperty(order, props.order ? props.order[i] : 1);\n        builder.assignProperty(distance, props.distance ? props.distance[i] : -1);\n        builder.assignProperty(flag, props.flag ? props.flag[i] : 1 /* BondType.Flag.Covalent */);\n    }\n    return builder.createGraph({ key: key, operatorA: operatorA, operatorB: operatorB, order: order, distance: distance, flag: flag });\n}\nexport var IndexPairBonds;\n(function (IndexPairBonds) {\n    IndexPairBonds.Descriptor = {\n        name: 'index_pair_bonds',\n    };\n    IndexPairBonds.Provider = FormatPropertyProvider.create(IndexPairBonds.Descriptor, { asDynamic: true });\n    IndexPairBonds.DefaultProps = {\n        /**\n         * If negative, test using element-based threshold, otherwise distance in Angstrom.\n         *\n         * This option exists to handle bonds in periodic cells. For systems that are\n         * made from beads (as opposed to atomic elements), set to a specific distance.\n         *\n         * Note that `Data` has a `distance` field which allows specifying a distance\n         * for each bond individually which takes precedence over this option.\n         */\n        maxDistance: -1\n    };\n    function fromData(data, props) {\n        if (props === void 0) { props = {}; }\n        var p = __assign(__assign({}, IndexPairBonds.DefaultProps), props);\n        var pairs = data.pairs, count = data.count;\n        var indexA = pairs.indexA.toArray();\n        var indexB = pairs.indexB.toArray();\n        var key = pairs.key && pairs.key.toArray();\n        var operatorA = pairs.operatorA && pairs.operatorA.toArray();\n        var operatorB = pairs.operatorB && pairs.operatorB.toArray();\n        var order = pairs.order && pairs.order.toArray();\n        var distance = pairs.distance && pairs.distance.toArray();\n        var flag = pairs.flag && pairs.flag.toArray();\n        return {\n            bonds: getGraph(indexA, indexB, { key: key, operatorA: operatorA, operatorB: operatorB, order: order, distance: distance, flag: flag }, count),\n            maxDistance: p.maxDistance\n        };\n    }\n    IndexPairBonds.fromData = fromData;\n    /** Like `getEdgeIndex` but taking `edgeProps.operatorA` and `edgeProps.operatorB` into account */\n    function getEdgeIndexForOperators(bonds, i, j, opI, opJ) {\n        var a, b, opA, opB;\n        if (i < j) {\n            a = i;\n            b = j;\n            opA = opI;\n            opB = opJ;\n        }\n        else {\n            a = j;\n            b = i;\n            opA = opJ;\n            opB = opI;\n        }\n        for (var t = bonds.offset[a], _t = bonds.offset[a + 1]; t < _t; t++) {\n            if (bonds.b[t] === b && bonds.edgeProps.operatorA[t] === opA && bonds.edgeProps.operatorB[t] === opB)\n                return t;\n        }\n        return -1;\n    }\n    IndexPairBonds.getEdgeIndexForOperators = getEdgeIndexForOperators;\n})(IndexPairBonds || (IndexPairBonds = {}));\n","/**\n * Copyright (c) 2017-2019 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\nimport { __spreadArray } from \"tslib\";\nimport { Column, ColumnHelpers } from '../../../mol-data/db';\nimport { getNumberType, parseInt as fastParseInt, parseFloat as fastParseFloat } from '../common/text/number-parser';\nimport { areValuesEqualProvider } from '../common/text/column/token';\nexport function CifFile(blocks, name) {\n    return { name: name, blocks: blocks };\n}\nexport function CifBlock(categoryNames, categories, header, saveFrames) {\n    if (saveFrames === void 0) { saveFrames = []; }\n    return {\n        categoryNames: categoryNames,\n        header: header,\n        categories: categories,\n        saveFrames: saveFrames,\n        getField: function (name) {\n            var _a = name.split('.'), category = _a[0], field = _a[1];\n            return categories[category].getField(field || '');\n        }\n    };\n}\nexport function CifSaveFrame(categoryNames, categories, header) {\n    return { categoryNames: categoryNames, header: header, categories: categories };\n}\nexport function CifCategory(name, rowCount, fieldNames, fields) {\n    return { rowCount: rowCount, name: name, fieldNames: __spreadArray([], fieldNames, true), getField: function (name) { return fields[name]; } };\n}\n(function (CifCategory) {\n    function empty(name) {\n        return { rowCount: 0, name: name, fieldNames: [], getField: function (name) { return void 0; } };\n    }\n    CifCategory.empty = empty;\n    ;\n    function ofFields(name, fields) {\n        var fieldNames = Object.keys(fields);\n        return {\n            rowCount: fieldNames.length > 0 ? fields[fieldNames[0]].rowCount : 0,\n            name: name,\n            fieldNames: fieldNames,\n            getField: function (name) { return fields[name]; }\n        };\n    }\n    CifCategory.ofFields = ofFields;\n    function ofTable(name, table) {\n        var fields = {};\n        for (var _a = 0, _b = table._columns; _a < _b.length; _a++) {\n            var name_1 = _b[_a];\n            fields[name_1] = CifField.ofColumn(table[name_1]);\n        }\n        return ofFields(name, fields);\n    }\n    CifCategory.ofTable = ofTable;\n})(CifCategory || (CifCategory = {}));\nexport var CifField;\n(function (CifField) {\n    function ofString(value) {\n        return ofStrings([value]);\n    }\n    CifField.ofString = ofString;\n    function ofStrings(values) {\n        var rowCount = values.length;\n        var str = function (row) { var ret = values[row]; if (!ret || ret === '.' || ret === '?')\n            return ''; return ret; };\n        var int = function (row) { var v = values[row]; return fastParseInt(v, 0, v.length) || 0; };\n        var float = function (row) { var v = values[row]; return fastParseFloat(v, 0, v.length) || 0; };\n        var valueKind = function (row) {\n            var v = values[row], l = v.length;\n            if (l > 1)\n                return 0 /* Column.ValueKinds.Present */;\n            if (l === 0)\n                return 1 /* Column.ValueKinds.NotPresent */;\n            var c = v.charCodeAt(0);\n            if (c === 46 /* . */)\n                return 1 /* Column.ValueKinds.NotPresent */;\n            if (c === 63 /* ? */)\n                return 2 /* Column.ValueKinds.Unknown */;\n            return 0 /* Column.ValueKinds.Present */;\n        };\n        return {\n            __array: void 0,\n            binaryEncoding: void 0,\n            isDefined: true,\n            rowCount: rowCount,\n            str: str,\n            int: int,\n            float: float,\n            valueKind: valueKind,\n            areValuesEqual: function (rowA, rowB) { return values[rowA] === values[rowB]; },\n            toStringArray: function (params) { return params ? ColumnHelpers.createAndFillArray(rowCount, str, params) : values; },\n            toIntArray: function (params) { return ColumnHelpers.createAndFillArray(rowCount, int, params); },\n            toFloatArray: function (params) { return ColumnHelpers.createAndFillArray(rowCount, float, params); }\n        };\n    }\n    CifField.ofStrings = ofStrings;\n    function ofNumbers(values) {\n        var rowCount = values.length;\n        var str = function (row) { return '' + values[row]; };\n        var float = function (row) { return values[row]; };\n        var valueKind = function (row) { return 0 /* Column.ValueKinds.Present */; };\n        var toFloatArray = function (params) {\n            if (!params || params.array && values instanceof params.array) {\n                return values;\n            }\n            else {\n                return ColumnHelpers.createAndFillArray(rowCount, float, params);\n            }\n        };\n        return {\n            __array: void 0,\n            binaryEncoding: void 0,\n            isDefined: true,\n            rowCount: rowCount,\n            str: str,\n            int: float,\n            float: float,\n            valueKind: valueKind,\n            areValuesEqual: function (rowA, rowB) { return values[rowA] === values[rowB]; },\n            toStringArray: function (params) { return ColumnHelpers.createAndFillArray(rowCount, str, params); },\n            toIntArray: toFloatArray,\n            toFloatArray: toFloatArray\n        };\n    }\n    CifField.ofNumbers = ofNumbers;\n    function ofTokens(tokens) {\n        var data = tokens.data, indices = tokens.indices, rowCount = tokens.count;\n        var str = function (row) {\n            var ret = data.substring(indices[2 * row], indices[2 * row + 1]);\n            if (ret === '.' || ret === '?')\n                return '';\n            return ret;\n        };\n        var int = function (row) {\n            return fastParseInt(data, indices[2 * row], indices[2 * row + 1]) || 0;\n        };\n        var float = function (row) {\n            return fastParseFloat(data, indices[2 * row], indices[2 * row + 1]) || 0;\n        };\n        var valueKind = function (row) {\n            var s = indices[2 * row], l = indices[2 * row + 1] - s;\n            if (l > 1)\n                return 0 /* Column.ValueKinds.Present */;\n            if (l === 0)\n                return 1 /* Column.ValueKinds.NotPresent */;\n            var v = data.charCodeAt(s);\n            if (v === 46 /* . */)\n                return 1 /* Column.ValueKinds.NotPresent */;\n            if (v === 63 /* ? */)\n                return 2 /* Column.ValueKinds.Unknown */;\n            return 0 /* Column.ValueKinds.Present */;\n        };\n        return {\n            __array: void 0,\n            binaryEncoding: void 0,\n            isDefined: true,\n            rowCount: rowCount,\n            str: str,\n            int: int,\n            float: float,\n            valueKind: valueKind,\n            areValuesEqual: areValuesEqualProvider(tokens),\n            toStringArray: function (params) { return ColumnHelpers.createAndFillArray(rowCount, str, params); },\n            toIntArray: function (params) { return ColumnHelpers.createAndFillArray(rowCount, int, params); },\n            toFloatArray: function (params) { return ColumnHelpers.createAndFillArray(rowCount, float, params); }\n        };\n    }\n    CifField.ofTokens = ofTokens;\n    function ofColumn(column) {\n        var rowCount = column.rowCount, valueKind = column.valueKind, areValuesEqual = column.areValuesEqual, isDefined = column.isDefined;\n        var str;\n        var int;\n        var float;\n        switch (column.schema.valueType) {\n            case 'float':\n            case 'int':\n                str = function (row) { return '' + column.value(row); };\n                int = column.value;\n                float = column.value;\n                break;\n            case 'str':\n                str = column.value;\n                int = function (row) { var v = column.value(row); return fastParseInt(v, 0, v.length) || 0; };\n                float = function (row) { var v = column.value(row); return fastParseFloat(v, 0, v.length) || 0; };\n                break;\n            case 'list':\n                var separator_1 = column.schema.separator;\n                str = function (row) { return column.value(row).join(separator_1); };\n                int = function (row) { return NaN; };\n                float = function (row) { return NaN; };\n                break;\n            default:\n                throw new Error(\"unsupported valueType '\".concat(column.schema.valueType, \"'\"));\n        }\n        return {\n            __array: void 0,\n            binaryEncoding: void 0,\n            isDefined: isDefined,\n            rowCount: rowCount,\n            str: str,\n            int: int,\n            float: float,\n            valueKind: valueKind,\n            areValuesEqual: areValuesEqual,\n            toStringArray: function (params) { return ColumnHelpers.createAndFillArray(rowCount, str, params); },\n            toIntArray: function (params) { return ColumnHelpers.createAndFillArray(rowCount, int, params); },\n            toFloatArray: function (params) { return ColumnHelpers.createAndFillArray(rowCount, float, params); }\n        };\n    }\n    CifField.ofColumn = ofColumn;\n    function ofUndefined(rowCount, schema) {\n        return ofColumn(Column.Undefined(rowCount, schema));\n    }\n    CifField.ofUndefined = ofUndefined;\n})(CifField || (CifField = {}));\nexport function tensorFieldNameGetter(field, rank, zeroIndexed, namingVariant) {\n    var offset = zeroIndexed ? 0 : 1;\n    switch (rank) {\n        case 1:\n            return namingVariant === 'brackets'\n                ? function (i) { return \"\".concat(field, \"[\").concat(i + offset, \"]\"); }\n                : function (i) { return \"\".concat(field, \"_\").concat(i + offset); };\n        case 2:\n            return namingVariant === 'brackets'\n                ? function (i, j) { return \"\".concat(field, \"[\").concat(i + offset, \"][\").concat(j + offset, \"]\"); }\n                : function (i, j) { return \"\".concat(field, \"_\").concat(i + offset).concat(j + offset); };\n        case 3:\n            return namingVariant === 'brackets'\n                ? function (i, j, k) { return \"\".concat(field, \"[\").concat(i + offset, \"][\").concat(j + offset, \"][\").concat(k + offset, \"]\"); }\n                : function (i, j, k) { return \"\".concat(field, \"_\").concat(i + offset).concat(j + offset).concat(k + offset); };\n        default:\n            throw new Error('Tensors with rank > 3 or rank 0 are currently not supported.');\n    }\n}\nexport function getTensor(category, space, row, getName) {\n    var ret = space.create();\n    if (space.rank === 1) {\n        var rows = space.dimensions[0];\n        for (var i = 0; i < rows; i++) {\n            var f = category.getField(getName(i));\n            space.set(ret, i, !!f ? f.float(row) : 0.0);\n        }\n    }\n    else if (space.rank === 2) {\n        var rows = space.dimensions[0], cols = space.dimensions[1];\n        for (var i = 0; i < rows; i++) {\n            for (var j = 0; j < cols; j++) {\n                var f = category.getField(getName(i, j));\n                space.set(ret, i, j, !!f ? f.float(row) : 0.0);\n            }\n        }\n    }\n    else if (space.rank === 3) {\n        var d0 = space.dimensions[0], d1 = space.dimensions[1], d2 = space.dimensions[2];\n        for (var i = 0; i < d0; i++) {\n            for (var j = 0; j < d1; j++) {\n                for (var k = 0; k < d2; k++) {\n                    var f = category.getField(getName(i, j, k));\n                    space.set(ret, i, j, k, !!f ? f.float(row) : 0.0);\n                }\n            }\n        }\n    }\n    else {\n        throw new Error('Tensors with rank > 3 or rank 0 are currently not supported.');\n    }\n    return ret;\n}\nexport function getCifFieldType(field) {\n    var floatCount = 0, hasStringOrScientific = false, undefinedCount = 0;\n    for (var i = 0, _i = field.rowCount; i < _i; i++) {\n        var k = field.valueKind(i);\n        if (k !== 0 /* Column.ValueKinds.Present */) {\n            undefinedCount++;\n            continue;\n        }\n        var type = getNumberType(field.str(i));\n        if (type === 0 /* NumberTypes.Int */)\n            continue;\n        else if (type === 1 /* NumberTypes.Float */)\n            floatCount++;\n        else {\n            hasStringOrScientific = true;\n            break;\n        }\n    }\n    // numbers in scientific notation and plain text are not distinguishable\n    if (hasStringOrScientific || undefinedCount === field.rowCount)\n        return Column.Schema.str;\n    if (floatCount > 0)\n        return Column.Schema.float;\n    return Column.Schema.int;\n}\n","/**\n * Copyright (c) 2017-2022 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\nimport { __spreadArray } from \"tslib\";\nimport { Database, Column, ColumnHelpers } from '../../../mol-data/db';\nimport { Tensor } from '../../../mol-math/linear-algebra';\nimport { arrayEqual } from '../../../mol-util';\nimport * as Data from './data-model';\nexport var FieldPath;\n(function (FieldPath) {\n    function canonical(path) {\n        return path.replace('.', '_').replace(/\\[/, '_').replace(/(\\[|\\])/g, '');\n    }\n    FieldPath.canonical = canonical;\n    function equal(pathA, pathB) {\n        return canonical(pathA) === canonical(pathB);\n    }\n    FieldPath.equal = equal;\n    function create(category, field, asCanonical) {\n        if (asCanonical === void 0) { asCanonical = false; }\n        var p = \"\".concat(category).concat(field ? \".\".concat(field) : '');\n        return asCanonical ? canonical(p) : p;\n    }\n    FieldPath.create = create;\n})(FieldPath || (FieldPath = {}));\nexport function toDatabaseCollection(schema, file, aliases) {\n    var dbc = {};\n    for (var _i = 0, _a = file.blocks; _i < _a.length; _i++) {\n        var data = _a[_i];\n        dbc[data.header] = toDatabase(schema, data, aliases);\n    }\n    return dbc;\n}\nexport function toDatabase(schema, frame, aliases) {\n    return createDatabase(schema, frame, aliases);\n}\nexport function toTable(schema, category) {\n    return new CategoryTable(category, schema, true);\n}\nfunction getColumnCtor(t) {\n    switch (t.valueType) {\n        case 'str': return function (f, c, k) { return createStringColumn(t, f, f.str, f.toStringArray); };\n        case 'int': return function (f, c, k) { return createColumn(t, f, f.int, f.toIntArray); };\n        case 'float': return function (f, c, k) { return createColumn(t, f, f.float, f.toFloatArray); };\n        case 'list': throw new Error('Use createListColumn instead.');\n        case 'tensor': throw new Error('Use createTensorColumn instead.');\n    }\n}\nfunction createStringColumn(schema, field, value, toArray) {\n    return {\n        schema: schema,\n        __array: field.__array,\n        isDefined: field.isDefined,\n        rowCount: field.rowCount,\n        value: schema.transform === 'lowercase'\n            ? function (row) { return value(row).toLowerCase(); }\n            : schema.transform === 'uppercase'\n                ? function (row) { return value(row).toUpperCase(); }\n                : value,\n        valueKind: field.valueKind,\n        areValuesEqual: field.areValuesEqual,\n        toArray: schema.transform === 'lowercase'\n            ? function (p) { return Array.from(toArray(p)).map(function (x) { return x.toLowerCase(); }); }\n            : schema.transform === 'uppercase'\n                ? function (p) { return Array.from(toArray(p)).map(function (x) { return x.toUpperCase(); }); }\n                : toArray,\n    };\n}\nfunction createColumn(schema, field, value, toArray) {\n    return {\n        schema: schema,\n        __array: field.__array,\n        isDefined: field.isDefined,\n        rowCount: field.rowCount,\n        value: value,\n        valueKind: field.valueKind,\n        areValuesEqual: field.areValuesEqual,\n        toArray: toArray\n    };\n}\nfunction createListColumn(schema, category, key) {\n    var separator = schema.separator;\n    var itemParse = schema.itemParse;\n    var f = category.getField(key);\n    var value = f ? function (row) { return f.str(row).split(separator).map(function (x) { return itemParse(x.trim()); }).filter(function (x) { return !!x; }); } : function (row) { return []; };\n    var toArray = function (params) { return ColumnHelpers.createAndFillArray(category.rowCount, value, params); };\n    return {\n        schema: schema,\n        __array: void 0,\n        isDefined: !!f,\n        rowCount: category.rowCount,\n        value: value,\n        valueKind: f ? f.valueKind : function () { return 1 /* Column.ValueKinds.NotPresent */; },\n        areValuesEqual: function (rowA, rowB) { return arrayEqual(value(rowA), value(rowB)); },\n        toArray: toArray\n    };\n}\nfunction createTensorColumn(schema, category, key) {\n    var space = schema.space;\n    var zeroOffset = (category.fieldNames.includes(\"\".concat(key, \"[0]\")) ||\n        category.fieldNames.includes(\"\".concat(key, \"[0][0]\")) ||\n        category.fieldNames.includes(\"\".concat(key, \"[0][0][0]\")));\n    var fst = zeroOffset ? 0 : 1;\n    var namingVariant = (category.fieldNames.includes(\"\".concat(key, \"_1\")) ||\n        category.fieldNames.includes(\"\".concat(key, \"_11\")) ||\n        category.fieldNames.includes(\"\".concat(key, \"_111\"))) ? 'underscore' : 'brackets';\n    var getName = Data.tensorFieldNameGetter(key, space.rank, zeroOffset, namingVariant);\n    var first = category.getField(getName(fst, fst, fst)) || Column.Undefined(category.rowCount, schema);\n    var value = function (row) { return Data.getTensor(category, space, row, getName); };\n    var toArray = function (params) { return ColumnHelpers.createAndFillArray(category.rowCount, value, params); };\n    return {\n        schema: schema,\n        __array: void 0,\n        isDefined: first.isDefined,\n        rowCount: category.rowCount,\n        value: value,\n        valueKind: first.valueKind,\n        areValuesEqual: function (rowA, rowB) { return Tensor.areEqualExact(value(rowA), value(rowB)); },\n        toArray: toArray\n    };\n}\nvar CategoryTable = /** @class */ (function () {\n    function CategoryTable(category, schema, _isDefined) {\n        this._isDefined = _isDefined;\n        var fieldKeys = Object.keys(schema);\n        this._rowCount = category.rowCount;\n        this._columns = fieldKeys;\n        this._schema = schema;\n        var cache = Object.create(null);\n        var _loop_1 = function (k) {\n            Object.defineProperty(this_1, k, {\n                get: function () {\n                    if (cache[k])\n                        return cache[k];\n                    var fType = schema[k];\n                    if (fType.valueType === 'list') {\n                        cache[k] = createListColumn(fType, category, k);\n                    }\n                    else if (fType.valueType === 'tensor') {\n                        cache[k] = createTensorColumn(fType, category, k);\n                    }\n                    else {\n                        var ctor = getColumnCtor(fType);\n                        var field = category.getField(k);\n                        cache[k] = !!field ? ctor(field, category, k) : Column.Undefined(category.rowCount, fType);\n                    }\n                    return cache[k];\n                },\n                enumerable: true,\n                configurable: false\n            });\n        };\n        var this_1 = this;\n        for (var _i = 0, fieldKeys_1 = fieldKeys; _i < fieldKeys_1.length; _i++) {\n            var k = fieldKeys_1[_i];\n            _loop_1(k);\n        }\n    }\n    return CategoryTable;\n}());\nfunction createDatabase(schema, frame, aliases) {\n    var tables = Object.create(null);\n    for (var _i = 0, _a = Object.keys(schema); _i < _a.length; _i++) {\n        var k = _a[_i];\n        tables[k] = createTable(k, schema[k], frame, aliases);\n    }\n    return Database.ofTables(frame.header, schema, tables);\n}\nfunction flattenFrame(frame) {\n    var flatFrame = Object.create(null);\n    for (var _i = 0, _a = Object.keys(frame.categories); _i < _a.length; _i++) {\n        var c = _a[_i];\n        for (var _b = 0, _c = frame.categories[c].fieldNames; _b < _c.length; _b++) {\n            var f = _c[_b];\n            var p = FieldPath.create(c, f, true);\n            flatFrame[p] = frame.categories[c].getField(f);\n        }\n    }\n    return flatFrame;\n}\nfunction getField(field, category, flatFrame, aliases) {\n    var path = FieldPath.create(category, field);\n    var canonicalPath = FieldPath.canonical(path);\n    if (canonicalPath in flatFrame)\n        return flatFrame[canonicalPath];\n    if (aliases && path in aliases) {\n        for (var _i = 0, _a = aliases[path]; _i < _a.length; _i++) {\n            var aliased = _a[_i];\n            var canonicalAliased = FieldPath.canonical(aliased);\n            if (canonicalAliased in flatFrame)\n                return flatFrame[canonicalAliased];\n        }\n    }\n}\nfunction createTable(key, schema, frame, aliases) {\n    var cat = frame.categories[key];\n    if (aliases) {\n        var flatFrame = flattenFrame(frame);\n        var fields_1 = Object.create(null);\n        var fieldNames = [];\n        var rowCount = 0;\n        for (var _i = 0, _a = Object.keys(schema); _i < _a.length; _i++) {\n            var k = _a[_i];\n            var field = getField(k, key, flatFrame, aliases);\n            if (field) {\n                fields_1[k] = field;\n                fieldNames.push(k);\n                rowCount = field.rowCount;\n            }\n        }\n        cat = {\n            rowCount: rowCount,\n            name: key,\n            fieldNames: __spreadArray([], fieldNames, true),\n            getField: function (name) {\n                return fields_1[name];\n            }\n        };\n    }\n    return new CategoryTable(cat || Data.CifCategory.empty(key), schema, !!cat);\n}\n","/**\n * Copyright (c) 2017-2021 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\nimport { ColumnHelpers } from '../../../../../mol-data/db';\nimport { parseInt as fastParseInt, parseFloat as fastParseFloat } from '../number-parser';\nexport function TokenColumnProvider(tokens) {\n    return function (type) {\n        return TokenColumn(tokens, type);\n    };\n}\nexport function TokenColumn(tokens, schema) {\n    var data = tokens.data, indices = tokens.indices, rowCount = tokens.count;\n    var type = schema.valueType;\n    var value = type === 'str'\n        ? function (row) { return data.substring(indices[2 * row], indices[2 * row + 1]); }\n        : type === 'int'\n            ? function (row) { return fastParseInt(data, indices[2 * row], indices[2 * row + 1]) || 0; }\n            : function (row) { return fastParseFloat(data, indices[2 * row], indices[2 * row + 1]) || 0; };\n    return {\n        schema: schema,\n        __array: void 0,\n        isDefined: true,\n        rowCount: rowCount,\n        value: value,\n        valueKind: function (row) { return 0 /* Column.ValueKinds.Present */; },\n        toArray: function (params) { return ColumnHelpers.createAndFillArray(rowCount, value, params); },\n        areValuesEqual: areValuesEqualProvider(tokens)\n    };\n}\nexport function areValuesEqualProvider(tokens) {\n    var data = tokens.data, indices = tokens.indices;\n    return function (rowA, rowB) {\n        var aS = indices[2 * rowA], bS = indices[2 * rowB];\n        var len = indices[2 * rowA + 1] - aS;\n        if (len !== indices[2 * rowB + 1] - bS)\n            return false;\n        for (var i = 0; i < len; i++) {\n            if (data.charCodeAt(i + aS) !== data.charCodeAt(i + bS)) {\n                return false;\n            }\n        }\n        return true;\n    };\n}\nexport function areTokensEmpty(tokens) {\n    var count = tokens.count, indices = tokens.indices;\n    for (var i = 0; i < count; ++i) {\n        if (indices[2 * i] !== indices[2 * i + 1])\n            return false;\n    }\n    return true;\n}\n","/**\n * Copyright (c) 2017-2020 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\nimport { Vec3 } from '../../../../mol-math/linear-algebra';\nexport { Location };\nvar Location;\n(function (Location) {\n    function create(structure, unit, element) {\n        return {\n            kind: 'element-location',\n            structure: structure,\n            unit: unit,\n            element: element || 0\n        };\n    }\n    Location.create = create;\n    function clone(l) {\n        return create(l.structure, l.unit, l.element);\n    }\n    Location.clone = clone;\n    function set(a, structure, unit, element) {\n        if (structure)\n            a.structure = structure;\n        if (unit)\n            a.unit = unit;\n        if (element !== undefined)\n            a.element = element;\n        return a;\n    }\n    Location.set = set;\n    function copy(out, a) {\n        out.unit = a.unit;\n        out.element = a.element;\n        return out;\n    }\n    Location.copy = copy;\n    function is(x) {\n        return !!x && x.kind === 'element-location';\n    }\n    Location.is = is;\n    function areEqual(a, b) {\n        return a.unit === b.unit && a.element === b.element;\n    }\n    Location.areEqual = areEqual;\n    var pA = Vec3(), pB = Vec3();\n    function distance(a, b) {\n        a.unit.conformation.position(a.element, pA);\n        b.unit.conformation.position(b.element, pB);\n        return Vec3.distance(pA, pB);\n    }\n    Location.distance = distance;\n    function position(out, l) {\n        return l.unit.conformation.position(l.element, out);\n    }\n    Location.position = position;\n    function residueIndex(l) {\n        return l.unit.model.atomicHierarchy.residueAtomSegments.index[l.element];\n    }\n    Location.residueIndex = residueIndex;\n    function chainIndex(l) {\n        return l.unit.model.atomicHierarchy.chainAtomSegments.index[l.element];\n    }\n    Location.chainIndex = chainIndex;\n})(Location || (Location = {}));\n","/**\n * Copyright (c) 2017 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n */\nvar HashSetImpl = /** @class */ (function () {\n    function HashSetImpl(getHash, areEqual) {\n        this.getHash = getHash;\n        this.areEqual = areEqual;\n        this.size = 0;\n        this.byHash = new Map();\n    }\n    HashSetImpl.prototype.add = function (a) {\n        var hash = this.getHash(a);\n        if (this.byHash.has(hash)) {\n            var xs = this.byHash.get(hash);\n            for (var i = 0, _i = xs.length; i < _i; i++) {\n                if (this.areEqual(a, xs[i]))\n                    return false;\n            }\n            xs[xs.length] = a;\n            this.size++;\n            return true;\n        }\n        else {\n            this.byHash.set(hash, [a]);\n            this.size++;\n            return true;\n        }\n    };\n    HashSetImpl.prototype.has = function (v) {\n        var hash = this.getHash(v);\n        if (!this.byHash.has(hash))\n            return false;\n        var xs = this.byHash.get(hash);\n        for (var i = 0, _i = xs.length; i < _i; i++) {\n            if (this.areEqual(v, xs[i]))\n                return true;\n        }\n        return false;\n    };\n    return HashSetImpl;\n}());\n// TODO: add implementations with multilevel hashing support?\nexport function HashSet(getHash, areEqual) {\n    return new HashSetImpl(getHash, areEqual);\n}\n","/**\n * Copyright (c) 2017 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n */\nfunction LinkedList() {\n    return new LinkedListImpl();\n}\nfunction createListNode(value) {\n    return { previous: null, next: null, inList: true, value: value };\n}\nvar LinkedListImpl = /** @class */ (function () {\n    function LinkedListImpl() {\n        this.count = 0;\n        this.first = null;\n        this.last = null;\n    }\n    LinkedListImpl.prototype.addFirst = function (value) {\n        var node = createListNode(value);\n        node.inList = true;\n        if (this.first)\n            this.first.previous = node;\n        node.next = this.first;\n        this.first = node;\n        this.count++;\n        if (!this.last)\n            this.last = node;\n        return node;\n    };\n    LinkedListImpl.prototype.addLast = function (value) {\n        var node = createListNode(value);\n        if (this.last !== null) {\n            this.last.next = node;\n        }\n        node.previous = this.last;\n        this.last = node;\n        if (this.first === null) {\n            this.first = node;\n        }\n        node.inList = true;\n        this.count++;\n        return node;\n    };\n    LinkedListImpl.prototype.removeFirst = function () {\n        var fst = this.first;\n        if (fst) {\n            this.remove(fst);\n            return fst.value;\n        }\n        return void 0;\n    };\n    LinkedListImpl.prototype.removeLast = function () {\n        var last = this.last;\n        if (last) {\n            this.remove(last);\n            return last.value;\n        }\n        return void 0;\n    };\n    LinkedListImpl.prototype.remove = function (node) {\n        if (!node.inList)\n            return;\n        node.inList = false;\n        if (node.previous !== null) {\n            node.previous.next = node.next;\n        }\n        else if ( /* first == item*/node.previous === null) {\n            this.first = node.next;\n        }\n        if (node.next !== null) {\n            node.next.previous = node.previous;\n        }\n        else if ( /* last == item*/node.next === null) {\n            this.last = node.previous;\n        }\n        node.next = null;\n        node.previous = null;\n        this.count--;\n    };\n    LinkedListImpl.prototype.find = function (value) {\n        var current = this.first;\n        while (current !== null) {\n            if (current.value === value)\n                return current;\n            current = current.next;\n        }\n        return void 0;\n    };\n    return LinkedListImpl;\n}());\nexport { LinkedList };\n","/**\n * Copyright (c) 2017 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n */\nvar UniqueArray;\n(function (UniqueArray) {\n    function create() {\n        return { keys: new Set(), array: [] };\n    }\n    UniqueArray.create = create;\n    function add(_a, key, value) {\n        var keys = _a.keys, array = _a.array;\n        if (keys.has(key))\n            return false;\n        keys.add(key);\n        array[array.length] = value;\n        return true;\n    }\n    UniqueArray.add = add;\n    function has(_a, key) {\n        var keys = _a.keys;\n        return keys.has(key);\n    }\n    UniqueArray.has = has;\n})(UniqueArray || (UniqueArray = {}));\nexport { UniqueArray };\n","/*\n * Copyright (c) 2018 Mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n */\nvar Type;\n(function (Type) {\n    function Variable(name, type, isConstraint) { return { kind: 'variable', name: name, type: type, isConstraint: isConstraint }; }\n    Type.Variable = Variable;\n    function Value(namespace, name, parent) { return { kind: 'value', namespace: namespace, name: name, parent: parent }; }\n    Type.Value = Value;\n    function Container(namespace, name, child, alias) { return { kind: 'container', namespace: namespace, name: name, child: child, alias: alias }; }\n    Type.Container = Container;\n    function Union(types) { return { kind: 'union', types: types }; }\n    Type.Union = Union;\n    function OneOf(namespace, name, type, values) {\n        var vals = Object.create(null);\n        for (var _i = 0, values_1 = values; _i < values_1.length; _i++) {\n            var v = values_1[_i];\n            vals[v] = true;\n        }\n        return { kind: 'oneof', namespace: namespace, name: name, type: type, values: vals };\n    }\n    Type.OneOf = OneOf;\n    Type.Any = { kind: 'any' };\n    Type.AnyValue = { kind: 'any-value' };\n    Type.Num = Value('', 'Number');\n    Type.Str = Value('', 'String');\n    Type.Bool = OneOf('', 'Bool', Type.Str, ['true', 'false']);\n    function oneOfValues(_a) {\n        var values = _a.values;\n        return Object.keys(values).sort();\n    }\n    Type.oneOfValues = oneOfValues;\n})(Type || (Type = {}));\nexport { Type };\n","/*\n * Copyright (c) 2018 Mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n */\nvar Expression;\n(function (Expression) {\n    function Symbol(name) { return { name: name }; }\n    Expression.Symbol = Symbol;\n    function Apply(head, args) { return args ? { head: head, args: args } : { head: head }; }\n    Expression.Apply = Apply;\n    function isArgumentsArray(e) { return !!e && Array.isArray(e); }\n    Expression.isArgumentsArray = isArgumentsArray;\n    function isArgumentsMap(e) { return !!e && !Array.isArray(e); }\n    Expression.isArgumentsMap = isArgumentsMap;\n    function isLiteral(e) { return !isApply(e) && !isSymbol(e); }\n    Expression.isLiteral = isLiteral;\n    function isApply(e) { return !!e && !!e.head && typeof e === 'object'; }\n    Expression.isApply = isApply;\n    function isSymbol(e) { return !!e && typeof e.name === 'string'; }\n    Expression.isSymbol = isSymbol;\n})(Expression || (Expression = {}));\nexport { Expression };\n","/*\n * Copyright (c) 2018 Mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n */\nimport { Expression } from './expression';\nexport function Argument(type, params) {\n    var _a = params || {}, _b = _a.description, description = _b === void 0 ? void 0 : _b, _c = _a.isOptional, isOptional = _c === void 0 ? false : _c, _d = _a.isRest, isRest = _d === void 0 ? false : _d, _e = _a.defaultValue, defaultValue = _e === void 0 ? void 0 : _e;\n    return { type: type, isOptional: isOptional, isRest: isRest, defaultValue: defaultValue, description: description };\n}\nexport var Arguments;\n(function (Arguments) {\n    Arguments.None = Dictionary({});\n    function Dictionary(map) {\n        return { kind: 'dictionary', map: map, '@type': 0 };\n    }\n    Arguments.Dictionary = Dictionary;\n    function List(type, params) {\n        var _a = (params || {}).nonEmpty, nonEmpty = _a === void 0 ? false : _a;\n        return { kind: 'list', type: type, nonEmpty: nonEmpty, '@type': 0 };\n    }\n    Arguments.List = List;\n})(Arguments || (Arguments = {}));\nexport function MSymbol(name, args, type, description) {\n    var symbol = function (args) {\n        return Expression.Apply(Expression.Symbol(symbol.id), args);\n    };\n    symbol.info = { namespace: '', name: name, description: description };\n    symbol.id = '';\n    symbol.args = args;\n    symbol.type = type;\n    return symbol;\n}\nexport function CustomPropSymbol(namespace, name, type, description) {\n    var symbol = function (args) {\n        return Expression.Apply(Expression.Symbol(symbol.id), args);\n    };\n    symbol.info = { namespace: namespace, name: name, description: description };\n    symbol.id = \"\".concat(namespace, \".\").concat(name);\n    symbol.args = Arguments.None;\n    symbol.type = type;\n    return symbol;\n}\nexport function isSymbol(x) {\n    var s = x;\n    return typeof s === 'function' && !!s.info && !!s.args && typeof s.info.namespace === 'string' && !!s.type;\n}\n","/**\n * Copyright (c) 2018 Mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n */\nimport { Type } from '../type';\nimport { Arguments, Argument } from '../symbol';\nimport { symbol, normalizeTable, symbolList } from '../helpers';\nexport var Types;\n(function (Types) {\n    Types.AnyVar = Type.Variable('a', Type.Any);\n    Types.AnyValueVar = Type.Variable('a', Type.Any);\n    Types.ConstrainedVar = Type.Variable('a', Type.Any, true);\n    Types.Regex = Type.Value('Core', 'Regex');\n    Types.Set = function (t) { return Type.Container('Core', 'Set', t || Types.AnyValueVar); };\n    Types.List = function (t) { return Type.Container('Core', 'List', t || Types.AnyVar); };\n    Types.Fn = function (t, alias) { return Type.Container('Core', 'Fn', t || Types.AnyVar, alias); };\n    Types.Flags = function (t, alias) { return Type.Container('Core', 'Flags', t, alias); };\n    Types.BitFlags = Types.Flags(Type.Num, 'BitFlags');\n})(Types || (Types = {}));\nfunction unaryOp(type, description) {\n    return symbol(Arguments.Dictionary({ 0: Argument(type) }), type, description);\n}\nfunction binOp(type, description) {\n    return symbol(Arguments.List(type, { nonEmpty: true }), type, description);\n}\nfunction binRel(src, target, description) {\n    return symbol(Arguments.Dictionary({\n        0: Argument(src),\n        1: Argument(src)\n    }), target, description);\n}\nexport var TTargs = Arguments.Dictionary({\n    0: Argument(Type.Num),\n    1: Argument(Type.Num)\n});\nvar type = {\n    '@header': 'Types',\n    bool: symbol(Arguments.Dictionary({ 0: Argument(Type.AnyValue) }), Type.Bool, 'Convert a value to boolean.'),\n    num: symbol(Arguments.Dictionary({ 0: Argument(Type.AnyValue) }), Type.Num, 'Convert a value to number.'),\n    str: symbol(Arguments.Dictionary({ 0: Argument(Type.AnyValue) }), Type.Str, 'Convert a value to string.'),\n    regex: symbol(Arguments.Dictionary({\n        0: Argument(Type.Str, { description: 'Expression' }),\n        1: Argument(Type.Str, { isOptional: true, description: \"Flags, e.g. 'i' for ignore case\" })\n    }), Types.Regex, 'Creates a regular expression from a string using the ECMAscript syntax.'),\n    list: symbol(Arguments.List(Types.AnyVar), Types.List()),\n    set: symbol(Arguments.List(Types.AnyValueVar), Types.Set()),\n    bitflags: symbol(Arguments.Dictionary({ 0: Argument(Type.Num) }), Types.BitFlags, 'Interpret a number as bitflags.'),\n    compositeKey: symbol(Arguments.List(Type.AnyValue), Type.AnyValue),\n};\nvar logic = {\n    '@header': 'Logic',\n    not: unaryOp(Type.Bool),\n    and: binOp(Type.Bool),\n    or: binOp(Type.Bool),\n};\nvar ctrl = {\n    '@header': 'Control',\n    eval: symbol(Arguments.Dictionary({ 0: Argument(Types.Fn(Types.AnyVar)) }), Types.AnyVar, 'Evaluate a function.'),\n    fn: symbol(Arguments.Dictionary({ 0: Argument(Types.AnyVar) }), Types.Fn(Types.AnyVar), 'Wrap an expression to a \"lazy\" function.'),\n    if: symbol(Arguments.Dictionary({\n        0: Argument(Type.Bool, { description: 'Condition' }),\n        1: Argument(Type.Variable('a', Type.Any), { description: 'If true' }),\n        2: Argument(Type.Variable('b', Type.Any), { description: 'If false' })\n    }), Type.Union([Type.Variable('a', Type.Any), Type.Variable('b', Type.Any)])),\n    assoc: symbol(Arguments.Dictionary({\n        0: Argument(Type.Str, { description: 'Name' }),\n        1: Argument(Type.Variable('a', Type.Any), { description: 'Value to assign' })\n    }), Type.Variable('a', Type.Any))\n};\nvar rel = {\n    '@header': 'Relational',\n    eq: binRel(Type.Variable('a', Type.AnyValue, true), Type.Bool),\n    neq: binRel(Type.Variable('a', Type.AnyValue, true), Type.Bool),\n    lt: binRel(Type.Num, Type.Bool),\n    lte: binRel(Type.Num, Type.Bool),\n    gr: binRel(Type.Num, Type.Bool),\n    gre: binRel(Type.Num, Type.Bool),\n    inRange: symbol(Arguments.Dictionary({\n        0: Argument(Type.Num, { description: 'Value to test' }),\n        1: Argument(Type.Num, { description: 'Minimum value' }),\n        2: Argument(Type.Num, { description: 'Maximum value' })\n    }), Type.Bool, 'Check if the value of the 1st argument is >= 2nd and <= 3rd.'),\n};\nvar math = {\n    '@header': 'Math',\n    add: binOp(Type.Num),\n    sub: binOp(Type.Num),\n    mult: binOp(Type.Num),\n    div: binRel(Type.Num, Type.Num),\n    pow: binRel(Type.Num, Type.Num),\n    mod: binRel(Type.Num, Type.Num),\n    min: binOp(Type.Num),\n    max: binOp(Type.Num),\n    cantorPairing: binRel(Type.Num, Type.Num),\n    sortedCantorPairing: binRel(Type.Num, Type.Num),\n    invertCantorPairing: symbol(Arguments.Dictionary({ 0: Argument(Type.Num) }), Types.List(Type.Num)),\n    floor: unaryOp(Type.Num),\n    ceil: unaryOp(Type.Num),\n    roundInt: unaryOp(Type.Num),\n    trunc: unaryOp(Type.Num),\n    abs: unaryOp(Type.Num),\n    sign: unaryOp(Type.Num),\n    sqrt: unaryOp(Type.Num),\n    cbrt: unaryOp(Type.Num),\n    sin: unaryOp(Type.Num),\n    cos: unaryOp(Type.Num),\n    tan: unaryOp(Type.Num),\n    asin: unaryOp(Type.Num),\n    acos: unaryOp(Type.Num),\n    atan: unaryOp(Type.Num),\n    sinh: unaryOp(Type.Num),\n    cosh: unaryOp(Type.Num),\n    tanh: unaryOp(Type.Num),\n    exp: unaryOp(Type.Num),\n    log: unaryOp(Type.Num),\n    log10: unaryOp(Type.Num),\n    atan2: binRel(Type.Num, Type.Num)\n};\nvar str = {\n    '@header': 'Strings',\n    concat: binOp(Type.Str),\n    match: symbol(Arguments.Dictionary({ 0: Argument(Types.Regex), 1: Argument(Type.Str) }), Type.Bool)\n};\nvar list = {\n    '@header': 'Lists',\n    getAt: symbol(Arguments.Dictionary({ 0: Argument(Types.List()), 1: Argument(Type.Num) }), Types.AnyVar),\n    equal: symbol(Arguments.Dictionary({ 0: Argument(Types.List()), 1: Argument(Types.List()) }), Type.Bool)\n};\nvar set = {\n    '@header': 'Sets',\n    has: symbol(Arguments.Dictionary({ 0: Argument(Types.Set(Types.ConstrainedVar)), 1: Argument(Types.ConstrainedVar) }), Type.Bool, 'Check if the the 1st argument includes the value of the 2nd.'),\n    isSubset: symbol(Arguments.Dictionary({ 0: Argument(Types.Set(Types.ConstrainedVar)), 1: Argument(Types.Set(Types.ConstrainedVar)) }), Type.Bool, 'Check if the the 1st argument is a subset of the 2nd.')\n};\nvar flags = {\n    '@header': 'Flags',\n    hasAny: symbol(Arguments.Dictionary({\n        0: Argument(Types.Flags(Types.ConstrainedVar)),\n        1: Argument(Types.Flags(Types.ConstrainedVar))\n    }), Type.Bool, 'Check if the the 1st argument has at least one of the 2nd one\\'s flags.'),\n    hasAll: symbol(Arguments.Dictionary({\n        0: Argument(Types.Flags(Types.ConstrainedVar)),\n        1: Argument(Types.Flags(Types.ConstrainedVar))\n    }), Type.Bool, 'Check if the the 1st argument has all 2nd one\\'s flags.'),\n};\nexport var core = {\n    '@header': 'Language Primitives',\n    type: type,\n    logic: logic,\n    ctrl: ctrl,\n    rel: rel,\n    math: math,\n    str: str,\n    list: list,\n    set: set,\n    flags: flags\n};\nnormalizeTable(core);\nexport var SymbolList = symbolList(core);\nexport var SymbolMap = (function () {\n    var map = Object.create(null);\n    for (var _i = 0, SymbolList_1 = SymbolList; _i < SymbolList_1.length; _i++) {\n        var s = SymbolList_1[_i];\n        map[s.id] = s;\n    }\n    return map;\n})();\n","/*\n * Copyright (c) 2018 Mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n */\nimport { MSymbol, isSymbol } from './symbol';\nexport function symbol(args, type, description) {\n    return MSymbol('', args, type, description);\n}\nexport function normalizeTable(table) {\n    _normalizeTable('', '', table);\n}\nexport function symbolList(table) {\n    var list = [];\n    _symbolList(table, list);\n    return list;\n}\nfunction formatKey(key) {\n    var regex = /([a-z])([A-Z])([a-z]|$)/g;\n    // do this twice because 'xXxX'\n    return key.replace(regex, function (s, a, b, c) { return \"\".concat(a, \"-\").concat(b.toLocaleLowerCase()).concat(c); }).replace(regex, function (s, a, b, c) { return \"\".concat(a, \"-\").concat(b.toLocaleLowerCase()).concat(c); });\n}\nfunction _normalizeTable(namespace, key, obj) {\n    if (isSymbol(obj)) {\n        obj.info.namespace = namespace;\n        obj.info.name = obj.info.name || formatKey(key);\n        obj.id = \"\".concat(obj.info.namespace, \".\").concat(obj.info.name);\n        return;\n    }\n    var currentNs = \"\".concat(obj['@namespace'] || formatKey(key));\n    var newNs = namespace ? \"\".concat(namespace, \".\").concat(currentNs) : currentNs;\n    for (var _i = 0, _a = Object.keys(obj); _i < _a.length; _i++) {\n        var childKey = _a[_i];\n        if (typeof obj[childKey] !== 'object' && !isSymbol(obj[childKey]))\n            continue;\n        _normalizeTable(newNs, childKey, obj[childKey]);\n    }\n}\nfunction _symbolList(obj, list) {\n    if (isSymbol(obj)) {\n        list.push(obj);\n        return;\n    }\n    for (var _i = 0, _a = Object.keys(obj); _i < _a.length; _i++) {\n        var childKey = _a[_i];\n        if (typeof obj[childKey] !== 'object' && !isSymbol(obj[childKey]))\n            continue;\n        _symbolList(obj[childKey], list);\n    }\n}\n","/**\n * Copyright (c) 2018-2022 Mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\nimport { Type } from '../type';\nimport * as Core from './core';\nimport { Arguments, Argument } from '../symbol';\nimport { symbol } from '../helpers';\nexport var Types;\n(function (Types) {\n    Types.ElementSymbol = Type.Value('Structure', 'ElementSymbol');\n    Types.AtomName = Type.Value('Structure', 'AtomName');\n    Types.BondFlag = Type.OneOf('Structure', 'BondFlag', Type.Str, ['covalent', 'metallic', 'ion', 'hydrogen', 'sulfide', 'computed', 'aromatic']);\n    Types.BondFlags = Core.Types.Flags(Types.BondFlag, 'BondFlags');\n    Types.SecondaryStructureFlag = Type.OneOf('Structure', 'SecondaryStructureFlag', Type.Str, ['alpha', 'beta', '3-10', 'pi', 'sheet', 'strand', 'helix', 'turn', 'none']);\n    Types.SecondaryStructureFlags = Core.Types.Flags(Types.SecondaryStructureFlag, 'SecondaryStructureFlag');\n    Types.RingFingerprint = Type.Value('Structure', 'RingFingerprint');\n    Types.EntityType = Type.OneOf('Structure', 'EntityType', Type.Str, ['polymer', 'non-polymer', 'water', 'branched']);\n    Types.EntitySubtype = Type.OneOf('Structure', 'EntitySubtype', Type.Str, ['other', 'polypeptide(D)', 'polypeptide(L)', 'polydeoxyribonucleotide', 'polyribonucleotide', 'polydeoxyribonucleotide/polyribonucleotide hybrid', 'cyclic-pseudo-peptide', 'peptide nucleic acid', 'oligosaccharide']);\n    Types.ObjectPrimitive = Type.OneOf('Structure', 'ObjectPrimitive', Type.Str, ['atomistic', 'sphere', 'gaussian', 'other']);\n    Types.ResidueId = Type.Value('Structure', 'ResidueId');\n    Types.ElementSet = Type.Value('Structure', 'ElementSet');\n    Types.ElementSelection = Type.Value('Structure', 'ElementSelection');\n    Types.ElementReference = Type.Value('Structure', 'ElementReference');\n    Types.ElementSelectionQuery = Core.Types.Fn(Types.ElementSelection, 'ElementSelectionQuery');\n})(Types || (Types = {}));\nvar type = {\n    '@header': 'Types',\n    elementSymbol: symbol(Arguments.Dictionary({ 0: Argument(Type.Str) }), Types.ElementSymbol, 'Create element symbol representation from a string value.'),\n    atomName: symbol(Arguments.Dictionary({ 0: Argument(Type.AnyValue) }), Types.AtomName, 'Convert a value to an atom name.'),\n    entityType: symbol(Arguments.Dictionary({ 0: Argument(Types.EntityType) }), Types.EntityType, \"Create normalized representation of entity type: \".concat(Type.oneOfValues(Types.EntityType).join(', '), \".\")),\n    bondFlags: symbol(Arguments.List(Types.BondFlag), Types.BondFlags, \"Create bond flags representation from a list of strings. Allowed flags: \".concat(Type.oneOfValues(Types.BondFlag).join(', '), \".\")),\n    ringFingerprint: symbol(Arguments.List(Types.ElementSymbol, { nonEmpty: true }), Types.RingFingerprint, 'Create ring fingerprint from the supplied atom element list.'),\n    secondaryStructureFlags: symbol(Arguments.List(Types.SecondaryStructureFlag), Types.SecondaryStructureFlags, \"Create secondary structure flags representation from a list of strings. Allowed flags: \".concat(Type.oneOfValues(Types.SecondaryStructureFlag).join(', '), \".\")),\n    authResidueId: symbol(Arguments.Dictionary({\n        0: Argument(Type.Str, { description: 'auth_asym_id' }),\n        1: Argument(Type.Num, { description: 'auth_seq_id' }),\n        2: Argument(Type.Str, { description: 'pdbx_PDB_ins_code', isOptional: true })\n    }), Types.ResidueId, \"Residue identifier based on \\\"auth_\\\" annotation.\"),\n    labelResidueId: symbol(Arguments.Dictionary({\n        0: Argument(Type.Str, { description: 'label_entity_id' }),\n        1: Argument(Type.Str, { description: 'label_asym_id' }),\n        2: Argument(Type.Num, { description: 'label_seq_id' }),\n        3: Argument(Type.Str, { description: 'pdbx_PDB_ins_code', isOptional: true })\n    }), Types.ResidueId, \"Residue identifier based on mmCIF's \\\"label_\\\" annotation.\")\n};\nvar slot = {\n    '@header': 'Iteration Slots',\n    element: symbol(Arguments.None, Types.ElementReference, 'A reference to the current element.'),\n    elementSetReduce: symbol(Arguments.None, Type.Variable('a', Type.AnyValue, true), 'Current value of the element set reducer.')\n};\nvar generator = {\n    '@header': 'Generators',\n    all: symbol(Arguments.None, Types.ElementSelectionQuery, 'The entire structure.'),\n    atomGroups: symbol(Arguments.Dictionary({\n        'entity-test': Argument(Type.Bool, { isOptional: true, defaultValue: true, description: 'Test for the 1st atom of every entity' }),\n        'chain-test': Argument(Type.Bool, { isOptional: true, defaultValue: true, description: 'Test for the 1st atom of every chain' }),\n        'residue-test': Argument(Type.Bool, { isOptional: true, defaultValue: true, description: 'Test for the 1st atom every residue' }),\n        'atom-test': Argument(Type.Bool, { isOptional: true, defaultValue: true }),\n        'group-by': Argument(Type.Any, { isOptional: true, defaultValue: \"atom-key\", description: 'Group atoms to sets based on this property. Default: each atom has its own set' }),\n    }), Types.ElementSelectionQuery, 'Return all atoms for which the tests are satisfied, grouped into sets.'),\n    bondedAtomicPairs: symbol(Arguments.Dictionary({\n        0: Argument(Type.Bool, { isOptional: true, defaultValue: 'true for covalent bonds', description: 'Test each bond with this predicate. Each bond is visited twice with swapped atom order.' }),\n        // TODO: shoud we support this or just use queryEach to get similar behavior\n        // 'group-by': Argument(Type.Any, { isOptional: true, defaultValue: ``, description: 'Group the bonds using the privided value' }),\n    }), Types.ElementSelectionQuery, 'Return all pairs of atoms for which the test is satisfied.'),\n    rings: symbol(Arguments.Dictionary({\n        'fingerprint': Argument(Types.RingFingerprint, { isOptional: true }),\n        'only-aromatic': Argument(Type.Bool, { isOptional: true, defaultValue: false }),\n    }), Types.ElementSelectionQuery, 'Return all rings or those with the specified fingerprint and/or only aromatic rings.'),\n    queryInSelection: symbol(Arguments.Dictionary({\n        0: Argument(Types.ElementSelectionQuery),\n        query: Argument(Types.ElementSelectionQuery),\n        'in-complement': Argument(Type.Bool, { isOptional: true, defaultValue: false })\n    }), Types.ElementSelectionQuery, 'Executes query only on atoms that are in the source selection.'),\n    empty: symbol(Arguments.None, Types.ElementSelectionQuery, 'Nada.'),\n};\nvar modifier = {\n    '@header': 'Selection Modifications',\n    queryEach: symbol(Arguments.Dictionary({\n        0: Argument(Types.ElementSelectionQuery),\n        query: Argument(Types.ElementSelectionQuery)\n    }), Types.ElementSelectionQuery, 'Query every atom set in the input selection separately.'),\n    intersectBy: symbol(Arguments.Dictionary({\n        0: Argument(Types.ElementSelectionQuery),\n        by: Argument(Types.ElementSelectionQuery)\n    }), Types.ElementSelectionQuery, 'Intersect each atom set from the first sequence from atoms in the second one.'),\n    exceptBy: symbol(Arguments.Dictionary({\n        0: Argument(Types.ElementSelectionQuery),\n        by: Argument(Types.ElementSelectionQuery)\n    }), Types.ElementSelectionQuery, \"Remove all atoms from 'selection' that occur in 'by'.\"),\n    unionBy: symbol(Arguments.Dictionary({\n        0: Argument(Types.ElementSelectionQuery),\n        by: Argument(Types.ElementSelectionQuery)\n    }), Types.ElementSelectionQuery, 'For each atom set A in the orginal sequence, combine all atoms sets in the target selection that intersect with A.'),\n    union: symbol(Arguments.Dictionary({\n        0: Argument(Types.ElementSelectionQuery)\n    }), Types.ElementSelectionQuery, 'Collects all atom sets in the sequence into a single atom set.'),\n    cluster: symbol(Arguments.Dictionary({\n        0: Argument(Types.ElementSelectionQuery),\n        'min-distance': Argument(Type.Num, { isOptional: true, defaultValue: 0 }),\n        'max-distance': Argument(Type.Num),\n        'min-size': Argument(Type.Num, { description: 'Minimal number of sets to merge, must be at least 2', isOptional: true, defaultValue: 2 }),\n        'max-size': Argument(Type.Num, { description: 'Maximal number of sets to merge, if not set, no limit', isOptional: true }),\n    }), Types.ElementSelectionQuery, 'Combines atom sets that have mutual distance in the interval [min-radius, max-radius]. Minimum/maximum size determines how many atom sets can be combined.'),\n    includeSurroundings: symbol(Arguments.Dictionary({\n        0: Argument(Types.ElementSelectionQuery),\n        radius: Argument(Type.Num),\n        'atom-radius': Argument(Type.Num, { isOptional: true, defaultValue: 0, description: 'Value added to each atom before the distance check, for example VDW radius. Using this argument is computationally demanding.' }),\n        'as-whole-residues': Argument(Type.Bool, { isOptional: true })\n    }), Types.ElementSelectionQuery, 'For each atom set in the selection, include all surrouding atoms/residues that are within the specified radius.'),\n    surroundingLigands: symbol(Arguments.Dictionary({\n        0: Argument(Types.ElementSelectionQuery),\n        radius: Argument(Type.Num),\n        'include-water': Argument(Type.Bool, { isOptional: true, defaultValue: true })\n    }), Types.ElementSelectionQuery, 'Find all ligands components around the source query.'),\n    includeConnected: symbol(Arguments.Dictionary({\n        0: Argument(Types.ElementSelectionQuery),\n        'bond-test': Argument(Type.Bool, { isOptional: true, defaultValue: 'true for covalent bonds' }),\n        'layer-count': Argument(Type.Num, { isOptional: true, defaultValue: 1, description: 'Number of bonded layers to include.' }),\n        'fixed-point': Argument(Type.Bool, { isOptional: true, defaultValue: false, description: 'Continue adding layers as long as new connections exist.' }),\n        'as-whole-residues': Argument(Type.Bool, { isOptional: true })\n    }), Types.ElementSelectionQuery, 'Pick all atom sets that are connected to the target.'),\n    wholeResidues: symbol(Arguments.Dictionary({\n        0: Argument(Types.ElementSelectionQuery),\n    }), Types.ElementSelectionQuery, 'Expand the selection to whole residues.'),\n    expandProperty: symbol(Arguments.Dictionary({\n        0: Argument(Types.ElementSelectionQuery),\n        property: Argument(Type.AnyValue)\n    }), Types.ElementSelectionQuery, 'To each atom set in the selection, add all atoms that have the same property value that was already present in the set.')\n};\nvar filter = {\n    '@header': 'Selection Filters',\n    pick: symbol(Arguments.Dictionary({\n        0: Argument(Types.ElementSelectionQuery),\n        test: Argument(Type.Bool)\n    }), Types.ElementSelectionQuery, 'Pick all atom sets that satisfy the test.'),\n    first: symbol(Arguments.Dictionary({\n        0: Argument(Types.ElementSelectionQuery)\n    }), Types.ElementSelectionQuery, 'Take the 1st atom set in the sequence.'),\n    withSameAtomProperties: symbol(Arguments.Dictionary({\n        0: Argument(Types.ElementSelectionQuery),\n        source: Argument(Types.ElementSelectionQuery),\n        property: Argument(Type.Any)\n    }), Types.ElementSelectionQuery, 'Pick all atom sets for which the set of given atom properties is a subset of the source properties.'),\n    intersectedBy: symbol(Arguments.Dictionary({\n        0: Argument(Types.ElementSelectionQuery),\n        by: Argument(Types.ElementSelectionQuery)\n    }), Types.ElementSelectionQuery, 'Pick all atom sets that have non-zero intersection with the target.'),\n    within: symbol(Arguments.Dictionary({\n        0: Argument(Types.ElementSelectionQuery),\n        target: Argument(Types.ElementSelectionQuery),\n        'min-radius': Argument(Type.Num, { isOptional: true, defaultValue: 0 }),\n        'max-radius': Argument(Type.Num),\n        'atom-radius': Argument(Type.Num, { isOptional: true, defaultValue: 0, description: 'Value added to each atom before the distance check, for example VDW radius. Using this argument is computationally demanding.' }),\n        invert: Argument(Type.Bool, { isOptional: true, defaultValue: false, description: 'If true, pick only atom sets that are further than the specified radius.' }),\n    }), Types.ElementSelectionQuery, 'Pick all atom sets from selection that have any atom within the radius of any atom from target.'),\n    isConnectedTo: symbol(Arguments.Dictionary({\n        0: Argument(Types.ElementSelectionQuery),\n        target: Argument(Types.ElementSelectionQuery),\n        'bond-test': Argument(Type.Bool, { isOptional: true, defaultValue: 'true for covalent bonds' }),\n        disjunct: Argument(Type.Bool, { isOptional: true, defaultValue: true, description: 'If true, there must exist a bond to an atom that lies outside the given atom set to pass test.' }),\n        invert: Argument(Type.Bool, { isOptional: true, defaultValue: false, description: 'If true, return atom sets that are not connected.' })\n    }), Types.ElementSelectionQuery, 'Pick all atom sets that are connected to the target.'),\n};\nvar combinator = {\n    '@header': 'Selection Combinators',\n    intersect: symbol(Arguments.List(Types.ElementSelectionQuery), Types.ElementSelectionQuery, 'Return all unique atom sets that appear in all of the source selections.'),\n    merge: symbol(Arguments.List(Types.ElementSelectionQuery), Types.ElementSelectionQuery, 'Merges multiple selections into a single one. Only unique atom sets are kept.'),\n    distanceCluster: symbol(Arguments.Dictionary({\n        matrix: Argument(Core.Types.List(Core.Types.List(Type.Num)), { description: 'Distance matrix, represented as list of rows (num[][])). Lower triangle is min distance, upper triangle is max distance.' }),\n        selections: Argument(Core.Types.List(Types.ElementSelectionQuery), { description: 'A list of held selections.' })\n    }), Types.ElementSelectionQuery, 'Pick combinations of atom sets from the source sequences that are mutually within distances specified by a matrix.')\n};\nvar atomSet = {\n    '@header': 'Atom Sets',\n    atomCount: symbol(Arguments.None, Type.Num),\n    countQuery: symbol(Arguments.Dictionary({\n        0: Argument(Types.ElementSelectionQuery)\n    }), Type.Num, 'Counts the number of occurences of a specific query inside the current atom set.'),\n    reduce: symbol(Arguments.Dictionary({\n        initial: Argument(Type.Variable('a', Type.AnyValue, true), { description: 'Initial value assigned to slot.atom-set-reduce. Current atom is set to the 1st atom of the current set for this.' }),\n        value: Argument(Type.Variable('a', Type.AnyValue, true), { description: 'Expression executed for each atom in the set' })\n    }), Type.Variable('a', Type.AnyValue, true), 'Execute the value expression for each atom in the current atom set and return the result. Works the same way as Array.reduce in JavaScript (``result = value(value(...value(initial)))``)'),\n    propertySet: symbol(Arguments.Dictionary({\n        0: Argument(Core.Types.ConstrainedVar),\n    }), Core.Types.Set(Core.Types.ConstrainedVar), 'Returns a set with all values of the given property in the current atom set.'),\n};\nvar atomProperty = {\n    '@header': 'Atom Properties',\n    core: {\n        '@header': 'Core Properties',\n        elementSymbol: atomProp(Types.ElementSymbol),\n        vdw: atomProp(Type.Num, 'Van der Waals radius'),\n        mass: atomProp(Type.Num, 'Atomic weight'),\n        atomicNumber: atomProp(Type.Num, 'Atomic number'),\n        x: atomProp(Type.Num, 'Cartesian X coordinate'),\n        y: atomProp(Type.Num, 'Cartesian Y coordinate'),\n        z: atomProp(Type.Num, 'Cartesian Z coordinate'),\n        atomKey: atomProp(Type.AnyValue, 'Unique value for each atom. Main use case is grouping of atoms.'),\n        bondCount: symbol(Arguments.Dictionary({\n            0: Argument(Types.ElementReference, { isOptional: true, defaultValue: 'slot.current-atom' }),\n            flags: Argument(Types.BondFlags, { isOptional: true, defaultValue: 'covalent' }),\n        }), Type.Num, 'Number of bonds (by default only covalent bonds are counted).'),\n        sourceIndex: atomProp(Type.Num, 'Index of the atom/element in the input file.'),\n        operatorName: atomProp(Type.Str, 'Name of the symmetry operator applied to this element.'),\n        operatorKey: atomProp(Type.Num, 'Key of the symmetry operator applied to this element.'),\n        modelIndex: atomProp(Type.Num, 'Index of the model in the input file.'),\n        modelLabel: atomProp(Type.Str, 'Label/header of the model in the input file.')\n    },\n    topology: {\n        connectedComponentKey: atomProp(Type.AnyValue, 'Unique value for each connected component.')\n    },\n    macromolecular: {\n        '@header': 'Macromolecular Properties (derived from the mmCIF format)',\n        authResidueId: atomProp(Types.ResidueId, \"type.auth-residue-id symbol executed on current atom's residue\"),\n        labelResidueId: atomProp(Types.ResidueId, \"type.label-residue-id symbol executed on current atom's residue\"),\n        residueKey: atomProp(Type.AnyValue, 'Unique value for each tuple ``(label_entity_id,auth_asym_id, auth_seq_id, pdbx_PDB_ins_code)``, main use case is grouping of atoms'),\n        chainKey: atomProp(Type.AnyValue, 'Unique value for each tuple ``(label_entity_id, auth_asym_id)``, main use case is grouping of atoms'),\n        entityKey: atomProp(Type.AnyValue, 'Unique value for each tuple ``label_entity_id``, main use case is grouping of atoms'),\n        isHet: atomProp(Type.Bool, 'Equivalent to atom_site.group_PDB !== ATOM'),\n        id: atomProp(Type.Num, '_atom_site.id'),\n        label_atom_id: atomProp(Types.AtomName),\n        label_alt_id: atomProp(Type.Str),\n        label_comp_id: atomProp(Type.Str),\n        label_asym_id: atomProp(Type.Str),\n        label_entity_id: atomProp(Type.Str),\n        label_seq_id: atomProp(Type.Num),\n        auth_atom_id: atomProp(Types.AtomName),\n        auth_comp_id: atomProp(Type.Str),\n        auth_asym_id: atomProp(Type.Str),\n        auth_seq_id: atomProp(Type.Num),\n        pdbx_PDB_ins_code: atomProp(Type.Str),\n        pdbx_formal_charge: atomProp(Type.Num),\n        occupancy: atomProp(Type.Num),\n        B_iso_or_equiv: atomProp(Type.Num),\n        entityType: atomProp(Types.EntityType, 'Type of the entity as defined in mmCIF (polymer, non-polymer, branched, water)'),\n        entitySubtype: atomProp(Types.EntitySubtype, 'Subtype of the entity as defined in mmCIF _entity_poly.type and _pdbx_entity_branch.type (other, polypeptide(D), polypeptide(L), polydeoxyribonucleotide, polyribonucleotide, polydeoxyribonucleotide/polyribonucleotide hybrid, cyclic-pseudo-peptide, peptide nucleic acid, oligosaccharide)'),\n        entityPrdId: atomProp(Type.Str, \"The PRD ID of the entity.\"),\n        entityDescription: atomProp(Core.Types.List(Type.Str)),\n        objectPrimitive: atomProp(Types.ObjectPrimitive, 'Type of the primitive object used to model this segment as defined in mmCIF/IHM (atomistic, sphere, gaussian, other)'),\n        secondaryStructureKey: atomProp(Type.AnyValue, 'Unique value for each secondary structure element.'),\n        secondaryStructureFlags: atomProp(Types.SecondaryStructureFlags),\n        isModified: atomProp(Type.Bool, 'True if the atom belongs to modification of a standard residue.'),\n        modifiedParentName: atomProp(Type.Str, \"'3-letter' code of the modifed parent residue.\"),\n        isNonStandard: atomProp(Type.Bool, 'True if this is a non-standard residue.'),\n        chemCompType: atomProp(Type.Str, \"Type of the chemical component as defined in mmCIF.\"),\n    }\n};\nvar bondProperty = {\n    '@header': 'Bond Properties',\n    flags: bondProp(Types.BondFlags),\n    order: bondProp(Type.Num),\n    key: bondProp(Type.Num),\n    length: bondProp(Type.Num),\n    atomA: bondProp(Types.ElementReference),\n    atomB: bondProp(Types.ElementReference)\n};\nfunction atomProp(type, description) {\n    return symbol(Arguments.Dictionary({ 0: Argument(Types.ElementReference, { isOptional: true, defaultValue: 'slot.current-atom' }) }), type, description);\n}\nfunction bondProp(type, description) {\n    return symbol(Arguments.None, type, description);\n}\nexport var structureQuery = {\n    '@header': 'Structure Queries',\n    type: type,\n    slot: slot,\n    generator: generator,\n    modifier: modifier,\n    filter: filter,\n    combinator: combinator,\n    atomSet: atomSet,\n    atomProperty: atomProperty,\n    bondProperty: bondProperty\n};\n","/**\n * Copyright (c) 2017 Mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n */\nimport { core } from './symbol-table/core';\nimport { structureQuery } from './symbol-table/structure-query';\nimport { internal } from './symbol-table/internal';\nimport { normalizeTable, symbolList } from './helpers';\nvar MolScriptSymbolTable = { core: core, structureQuery: structureQuery, internal: internal };\nnormalizeTable(MolScriptSymbolTable);\nexport var SymbolList = symbolList(MolScriptSymbolTable);\nexport var SymbolMap = (function () {\n    var map = Object.create(null);\n    for (var _i = 0, SymbolList_1 = SymbolList; _i < SymbolList_1.length; _i++) {\n        var s = SymbolList_1[_i];\n        map[s.id] = s;\n    }\n    return map;\n})();\nexport { MolScriptSymbolTable };\n","/**\n * Copyright (c) 2019 Mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n */\nimport { Type } from '../type';\nimport * as Struct from './structure-query';\nimport { Arguments, Argument } from '../symbol';\nimport { symbol } from '../helpers';\nvar generator = {\n    '@header': 'Generators',\n    bundleElement: symbol(Arguments.Dictionary({\n        // TODO: should we use more universal unit keys? (i.e. based on chain and \"operator name\")\n        groupedUnits: Argument(Type.Any),\n        set: Argument(Type.Any),\n        ranges: Argument(Type.Any) // SortedArray<UnitIndex>\n    }), Type.Any),\n    bundle: symbol(Arguments.Dictionary({\n        elements: Argument(Type.Any) // BundleElement[]\n    }), Struct.Types.ElementSelectionQuery, 'A selection with single structure containing represented by the bundle.'),\n    // Use with caution as this is not \"state saveable\"\n    // This query should never be used in any State Transform!\n    current: symbol(Arguments.None, Struct.Types.ElementSelectionQuery, 'Current selection provided by the query context. Avoid using this in State Transforms.')\n};\nexport var internal = {\n    '@header': 'Internal Queries',\n    generator: generator\n};\n","/**\n * Copyright (c) 2018 Mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n */\nimport { MolScriptSymbolTable as SymbolTable } from './symbol-table';\nexport var MolScriptBuilder;\n(function (MolScriptBuilder) {\n    MolScriptBuilder.core = SymbolTable.core;\n    MolScriptBuilder.struct = SymbolTable.structureQuery;\n    MolScriptBuilder.internal = SymbolTable.internal;\n    /** Atom-name constructor */\n    function atomName(s) { return MolScriptBuilder.struct.type.atomName([s]); }\n    MolScriptBuilder.atomName = atomName;\n    /** Element-symbol constructor */\n    function es(s) { return MolScriptBuilder.struct.type.elementSymbol([s]); }\n    MolScriptBuilder.es = es;\n    /** List constructor */\n    function list() {\n        var xs = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            xs[_i] = arguments[_i];\n        }\n        return MolScriptBuilder.core.type.list(xs);\n    }\n    MolScriptBuilder.list = list;\n    /** Set constructor */\n    function set() {\n        var xs = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            xs[_i] = arguments[_i];\n        }\n        return MolScriptBuilder.core.type.set(xs);\n    }\n    MolScriptBuilder.set = set;\n    /** RegEx constructor */\n    function re(pattern, flags) { return MolScriptBuilder.core.type.regex([pattern, flags]); }\n    MolScriptBuilder.re = re;\n    /** Function constructor */\n    function fn(x) { return MolScriptBuilder.core.ctrl.fn([x]); }\n    MolScriptBuilder.fn = fn;\n    function evaluate(x) { return MolScriptBuilder.core.ctrl.eval([x]); }\n    MolScriptBuilder.evaluate = evaluate;\n    var _acp = MolScriptBuilder.struct.atomProperty.core, _ammp = MolScriptBuilder.struct.atomProperty.macromolecular, _atp = MolScriptBuilder.struct.atomProperty.topology;\n    /** atom core property */\n    function acp(p) { return _acp[p](); }\n    MolScriptBuilder.acp = acp;\n    ;\n    /** atom topology property */\n    function atp(p) { return _atp[p](); }\n    MolScriptBuilder.atp = atp;\n    ;\n    /** atom macromolecular property */\n    function ammp(p) { return _ammp[p](); }\n    MolScriptBuilder.ammp = ammp;\n    ;\n    var _aps = MolScriptBuilder.struct.atomSet.propertySet;\n    /** atom core property set */\n    function acpSet(p) { return _aps([acp(p)]); }\n    MolScriptBuilder.acpSet = acpSet;\n    ;\n    /** atom topology property set */\n    function atpSet(p) { return _aps([atp(p)]); }\n    MolScriptBuilder.atpSet = atpSet;\n    ;\n    /** atom macromolecular property set */\n    function ammpSet(p) { return _aps([ammp(p)]); }\n    MolScriptBuilder.ammpSet = ammpSet;\n    ;\n})(MolScriptBuilder || (MolScriptBuilder = {}));\n","/**\n * Copyright (c) 2019 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n *\n * Color conversion code adapted from chroma.js (https://github.com/gka/chroma.js)\n * Copyright (c) 2011-2018, Gregor Aisch, BSD license\n */\nimport { Color } from '../color';\nimport { Hcl } from './hcl';\nimport { radToDeg } from '../../../mol-math/misc';\nimport { clamp } from '../../../mol-math/interpolate';\nexport { Lab };\n/**\n * CIE LAB color\n *\n * - L* [0..100] - lightness from black to white\n * - a [-100..100] - green (-) to red (+)\n * - b [-100..100] - blue (-) to yellow (+)\n *\n * see https://en.wikipedia.org/wiki/CIELAB_color_space\n */\nfunction Lab() {\n    return Lab.zero();\n}\n(function (Lab) {\n    function zero() {\n        var out = [0.1, 0.0, 0.0];\n        out[0] = 0;\n        return out;\n    }\n    Lab.zero = zero;\n    function create(l, a, b) {\n        var out = zero();\n        out[0] = l;\n        out[1] = a;\n        out[2] = b;\n        return out;\n    }\n    Lab.create = create;\n    function fromColor(out, color) {\n        var _a = Color.toRgb(color), r = _a[0], g = _a[1], b = _a[2];\n        var _b = rgbToXyz(r, g, b), x = _b[0], y = _b[1], z = _b[2];\n        var l = 116 * y - 16;\n        out[0] = l < 0 ? 0 : l;\n        out[1] = 500 * (x - y);\n        out[2] = 200 * (y - z);\n        return out;\n    }\n    Lab.fromColor = fromColor;\n    function fromHcl(out, hcl) {\n        return Hcl.toLab(out, hcl);\n    }\n    Lab.fromHcl = fromHcl;\n    function toColor(lab) {\n        var y = (lab[0] + 16) / 116;\n        var x = isNaN(lab[1]) ? y : y + lab[1] / 500;\n        var z = isNaN(lab[2]) ? y : y - lab[2] / 200;\n        y = Yn * lab_xyz(y);\n        x = Xn * lab_xyz(x);\n        z = Zn * lab_xyz(z);\n        var r = xyz_rgb(3.2404542 * x - 1.5371385 * y - 0.4985314 * z); // D65 -> sRGB\n        var g = xyz_rgb(-0.9692660 * x + 1.8760108 * y + 0.0415560 * z);\n        var b = xyz_rgb(0.0556434 * x - 0.2040259 * y + 1.0572252 * z);\n        return Color.fromRgb(Math.round(clamp(r, 0, 255)), Math.round(clamp(g, 0, 255)), Math.round(clamp(b, 0, 255)));\n    }\n    Lab.toColor = toColor;\n    function toHcl(out, lab) {\n        var l = lab[0], a = lab[1], b = lab[2];\n        var c = Math.sqrt(a * a + b * b);\n        var h = (radToDeg(Math.atan2(b, a)) + 360) % 360;\n        if (Math.round(c * 10000) === 0)\n            h = Number.NaN;\n        out[0] = h;\n        out[1] = c;\n        out[2] = l;\n        return out;\n    }\n    Lab.toHcl = toHcl;\n    function copy(out, c) {\n        out[0] = c[0];\n        out[1] = c[1];\n        out[2] = c[2];\n        return out;\n    }\n    Lab.copy = copy;\n    function darken(out, c, amount) {\n        out[0] = c[0] - Kn * amount;\n        out[1] = c[1];\n        out[2] = c[2];\n        return out;\n    }\n    Lab.darken = darken;\n    function lighten(out, c, amount) {\n        return darken(out, c, -amount);\n    }\n    Lab.lighten = lighten;\n    var tmpSaturateHcl = [0, 0, 0];\n    function saturate(out, c, amount) {\n        toHcl(tmpSaturateHcl, c);\n        return Hcl.toLab(out, Hcl.saturate(tmpSaturateHcl, tmpSaturateHcl, amount));\n    }\n    Lab.saturate = saturate;\n    function desaturate(out, c, amount) {\n        return saturate(out, c, -amount);\n    }\n    Lab.desaturate = desaturate;\n    // Corresponds roughly to RGB brighter/darker\n    var Kn = 18;\n    /** D65 standard referent */\n    var Xn = 0.950470;\n    var Yn = 1;\n    var Zn = 1.088830;\n    var T0 = 0.137931034; // 4 / 29\n    var T1 = 0.206896552; // 6 / 29\n    var T2 = 0.12841855; // 3 * t1 * t1\n    var T3 = 0.008856452; // t1 * t1 * t1\n    /** convert component from xyz to rgb */\n    function xyz_rgb(c) {\n        return 255 * (c <= 0.00304 ? 12.92 * c : 1.055 * Math.pow(c, 1 / 2.4) - 0.055);\n    }\n    /** convert component from lab to xyz */\n    function lab_xyz(t) {\n        return t > T1 ? t * t * t : T2 * (t - T0);\n    }\n    /** convert component from rgb to xyz */\n    function rgb_xyz(c) {\n        if ((c /= 255) <= 0.04045)\n            return c / 12.92;\n        return Math.pow((c + 0.055) / 1.055, 2.4);\n    }\n    /** convert component from xyz to lab */\n    function xyz_lab(t) {\n        if (t > T3)\n            return Math.pow(t, 1 / 3);\n        return t / T2 + T0;\n    }\n    function rgbToXyz(r, g, b) {\n        r = rgb_xyz(r);\n        g = rgb_xyz(g);\n        b = rgb_xyz(b);\n        var x = xyz_lab((0.4124564 * r + 0.3575761 * g + 0.1804375 * b) / Xn);\n        var y = xyz_lab((0.2126729 * r + 0.7151522 * g + 0.0721750 * b) / Yn);\n        var z = xyz_lab((0.0193339 * r + 0.1191920 * g + 0.9503041 * b) / Zn);\n        return [x, y, z];\n    }\n})(Lab || (Lab = {}));\n","/**\n * Copyright (c) 2019 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n *\n * Color conversion code adapted from chroma.js (https://github.com/gka/chroma.js)\n * Copyright (c) 2011-2018, Gregor Aisch, BSD license\n */\nimport { degToRad } from '../../../mol-math/misc';\nimport { Lab } from './lab';\nexport { Hcl };\n/**\n * CIE HCL (Hue-Chroma-Luminance) color\n *\n * - H [0..360]\n * - C [0..100]\n * - L [0..100]\n *\n * Cylindrical representation of CIELUV (see https://en.wikipedia.org/wiki/CIELUV)\n */\nfunction Hcl() {\n    return Hcl.zero();\n}\n(function (Hcl) {\n    function zero() {\n        var out = [0.1, 0.0, 0.0];\n        out[0] = 0;\n        return out;\n    }\n    Hcl.zero = zero;\n    function create(h, c, l) {\n        var out = zero();\n        out[0] = h;\n        out[1] = c;\n        out[2] = l;\n        return out;\n    }\n    Hcl.create = create;\n    var tmpFromColorLab = [0, 0, 0];\n    function fromColor(out, color) {\n        return Lab.toHcl(out, Lab.fromColor(tmpFromColorLab, color));\n    }\n    Hcl.fromColor = fromColor;\n    function fromLab(hcl, lab) {\n        return Lab.toHcl(hcl, lab);\n    }\n    Hcl.fromLab = fromLab;\n    var tmpToColorLab = [0, 0, 0];\n    function toColor(hcl) {\n        return Lab.toColor(toLab(tmpToColorLab, hcl));\n    }\n    Hcl.toColor = toColor;\n    /**\n     * Convert from a qualitative parameter h and a quantitative parameter l to a 24-bit pixel.\n     *\n     * These formulas were invented by David Dalrymple to obtain maximum contrast without going\n     * out of gamut if the parameters are in the range 0-1.\n     * A saturation multiplier was added by Gregor Aisch\n     */\n    function toLab(out, hcl) {\n        var h = hcl[0], c = hcl[1], l = hcl[2];\n        if (isNaN(h))\n            h = 0;\n        h = degToRad(h);\n        out[0] = l;\n        out[1] = Math.cos(h) * c;\n        out[2] = Math.sin(h) * c;\n        return out;\n    }\n    Hcl.toLab = toLab;\n    function copy(out, c) {\n        out[0] = c[0];\n        out[1] = c[1];\n        out[2] = c[2];\n        return out;\n    }\n    Hcl.copy = copy;\n    function saturate(out, c, amount) {\n        out[0] = c[0];\n        out[1] = Math.max(0, c[1] + Kn * amount);\n        out[2] = c[2];\n        return out;\n    }\n    Hcl.saturate = saturate;\n    function desaturate(out, c, amount) {\n        return saturate(out, c, -amount);\n    }\n    Hcl.desaturate = desaturate;\n    var tmpDarkenLab = [0, 0, 0];\n    function darken(out, c, amount) {\n        toLab(tmpDarkenLab, c);\n        return Lab.toHcl(out, Lab.darken(tmpDarkenLab, tmpDarkenLab, amount));\n    }\n    Hcl.darken = darken;\n    function lighten(out, c, amount) {\n        return darken(out, c, -amount);\n    }\n    Hcl.lighten = lighten;\n    // Corresponds roughly to RGB brighter/darker\n    var Kn = 18;\n})(Hcl || (Hcl = {}));\n","/**\n * Copyright (c) 2018-2023 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\nimport { Hcl } from './spaces/hcl';\nimport { Lab } from './spaces/lab';\nexport function Color(hex) { return hex; }\n(function (Color) {\n    function toStyle(hexColor) {\n        return \"rgb(\".concat(hexColor >> 16 & 255, \", \").concat(hexColor >> 8 & 255, \", \").concat(hexColor & 255, \")\");\n    }\n    Color.toStyle = toStyle;\n    function toHexStyle(hexColor) {\n        return '#' + ('000000' + hexColor.toString(16)).slice(-6);\n    }\n    Color.toHexStyle = toHexStyle;\n    function toHexString(hexColor) {\n        return '0x' + ('000000' + hexColor.toString(16)).slice(-6);\n    }\n    Color.toHexString = toHexString;\n    function toRgbString(hexColor) {\n        return \"RGB: \".concat(Color.toRgb(hexColor).join(', '));\n    }\n    Color.toRgbString = toRgbString;\n    function toRgb(hexColor) {\n        return [hexColor >> 16 & 255, hexColor >> 8 & 255, hexColor & 255];\n    }\n    Color.toRgb = toRgb;\n    function toRgbNormalized(hexColor) {\n        return [(hexColor >> 16 & 255) / 255, (hexColor >> 8 & 255) / 255, (hexColor & 255) / 255];\n    }\n    Color.toRgbNormalized = toRgbNormalized;\n    function fromHexStyle(s) {\n        return parseInt(s.replace('#', '0x'));\n    }\n    Color.fromHexStyle = fromHexStyle;\n    function fromHexString(s) {\n        return parseInt(s);\n    }\n    Color.fromHexString = fromHexString;\n    function fromRgb(r, g, b) {\n        return ((r << 16) | (g << 8) | b);\n    }\n    Color.fromRgb = fromRgb;\n    function fromNormalizedRgb(r, g, b) {\n        return (((r * 255) << 16) | ((g * 255) << 8) | (b * 255));\n    }\n    Color.fromNormalizedRgb = fromNormalizedRgb;\n    function fromArray(array, offset) {\n        return fromRgb(array[offset], array[offset + 1], array[offset + 2]);\n    }\n    Color.fromArray = fromArray;\n    function fromNormalizedArray(array, offset) {\n        return fromNormalizedRgb(array[offset], array[offset + 1], array[offset + 2]);\n    }\n    Color.fromNormalizedArray = fromNormalizedArray;\n    /** Copies hex color to rgb array */\n    function toArray(hexColor, array, offset) {\n        array[offset] = (hexColor >> 16 & 255);\n        array[offset + 1] = (hexColor >> 8 & 255);\n        array[offset + 2] = (hexColor & 255);\n        return array;\n    }\n    Color.toArray = toArray;\n    /** Copies normalized (0 to 1) hex color to rgb array */\n    function toArrayNormalized(hexColor, array, offset) {\n        array[offset] = (hexColor >> 16 & 255) / 255;\n        array[offset + 1] = (hexColor >> 8 & 255) / 255;\n        array[offset + 2] = (hexColor & 255) / 255;\n        return array;\n    }\n    Color.toArrayNormalized = toArrayNormalized;\n    /** Copies hex color to rgb vec3 */\n    function toVec3(out, hexColor) {\n        out[0] = (hexColor >> 16 & 255);\n        out[1] = (hexColor >> 8 & 255);\n        out[2] = (hexColor & 255);\n        return out;\n    }\n    Color.toVec3 = toVec3;\n    /** Copies normalized (0 to 1) hex color to rgb vec3 */\n    function toVec3Normalized(out, hexColor) {\n        out[0] = (hexColor >> 16 & 255) / 255;\n        out[1] = (hexColor >> 8 & 255) / 255;\n        out[2] = (hexColor & 255) / 255;\n        return out;\n    }\n    Color.toVec3Normalized = toVec3Normalized;\n    /** Linear interpolation between two colors in rgb space */\n    function interpolate(c1, c2, t) {\n        var r1 = c1 >> 16 & 255;\n        var g1 = c1 >> 8 & 255;\n        var b1 = c1 & 255;\n        var r2 = c2 >> 16 & 255;\n        var g2 = c2 >> 8 & 255;\n        var b2 = c2 & 255;\n        var r = r1 + (r2 - r1) * t;\n        var g = g1 + (g2 - g1) * t;\n        var b = b1 + (b2 - b1) * t;\n        return ((r << 16) | (g << 8) | b);\n    }\n    Color.interpolate = interpolate;\n    var tmpSaturateHcl = [0, 0, 0];\n    function saturate(c, amount) {\n        Hcl.fromColor(tmpSaturateHcl, c);\n        return Hcl.toColor(Hcl.saturate(tmpSaturateHcl, tmpSaturateHcl, amount));\n    }\n    Color.saturate = saturate;\n    function desaturate(c, amount) {\n        return saturate(c, -amount);\n    }\n    Color.desaturate = desaturate;\n    var tmpDarkenLab = [0, 0, 0];\n    function darken(c, amount) {\n        Lab.fromColor(tmpDarkenLab, c);\n        return Lab.toColor(Lab.darken(tmpDarkenLab, tmpDarkenLab, amount));\n    }\n    Color.darken = darken;\n    function lighten(c, amount) {\n        return darken(c, -amount);\n    }\n    Color.lighten = lighten;\n    function _luminance(x) {\n        return x <= 0.03928 ? x / 12.92 : Math.pow((x + 0.055) / 1.055, 2.4);\n    }\n    /**\n     * Relative luminance\n     * http://www.w3.org/TR/2008/REC-WCAG20-20081211/#relativeluminancedef\n     */\n    function luminance(c) {\n        var r = _luminance((c >> 16 & 255) / 255);\n        var g = _luminance((c >> 8 & 255) / 255);\n        var b = _luminance((c & 255) / 255);\n        return 0.2126 * r + 0.7152 * g + 0.0722 * b;\n    }\n    Color.luminance = luminance;\n    /**\n     * WCAG contrast ratio\n     * http://www.w3.org/TR/2008/REC-WCAG20-20081211/#contrast-ratiodef\n     */\n    function contrast(a, b) {\n        var l1 = luminance(a);\n        var l2 = luminance(b);\n        return l1 > l2 ? (l1 + 0.05) / (l2 + 0.05) : (l2 + 0.05) / (l1 + 0.05);\n    }\n    Color.contrast = contrast;\n    ;\n    //\n    function _sRGBToLinear(c) {\n        return (c < 0.04045) ? c * 0.0773993808 : Math.pow(c * 0.9478672986 + 0.0521327014, 2.4);\n    }\n    function sRGBToLinear(c) {\n        return fromNormalizedRgb(_sRGBToLinear((c >> 16 & 255) / 255), _sRGBToLinear((c >> 8 & 255) / 255), _sRGBToLinear((c & 255) / 255));\n    }\n    Color.sRGBToLinear = sRGBToLinear;\n    function _linearToSRGB(c) {\n        return (c < 0.0031308) ? c * 12.92 : 1.055 * (Math.pow(c, 0.41666)) - 0.055;\n    }\n    function linearToSRGB(c) {\n        return fromNormalizedRgb(_linearToSRGB((c >> 16 & 255) / 255), _linearToSRGB((c >> 8 & 255) / 255), _linearToSRGB((c & 255) / 255));\n    }\n    Color.linearToSRGB = linearToSRGB;\n})(Color || (Color = {}));\nexport function ColorList(label, type, description, list) {\n    return { label: label, description: description, list: list, type: type };\n}\nexport function ColorTable(o) { return o; }\nexport function ColorMap(o) { return o; }\nexport function getAdjustedColorMap(map, saturation, lightness) {\n    var adjustedMap = {};\n    for (var e in map) {\n        var c = map[e];\n        c = Color.saturate(c, saturation);\n        c = Color.darken(c, -lightness);\n        adjustedMap[e] = c;\n    }\n    return adjustedMap;\n}\nexport function ColorSwatch(l) { return l; }\n","/**\n * Copyright (c) 2018-2019 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @author David Sehnal <david.sehnal@gmail.com>\n */\nimport { __spreadArray } from \"tslib\";\nvar reLine = /^/mg;\nexport function indentString(str, count, indent) {\n    return count === 0 ? str : str.replace(reLine, indent.repeat(count));\n}\n/** Add space between camelCase text. */\nexport function splitCamelCase(str, separator) {\n    if (separator === void 0) { separator = ' '; }\n    return str.replace(/([a-z\\xE0-\\xFF])([A-Z\\xC0\\xDF])/g, \"$1\".concat(separator, \"$2\"));\n}\n/** Split camelCase text and capitalize. */\nexport function camelCaseToWords(str) {\n    return capitalize(splitCamelCase(str));\n}\nexport var lowerCase = function (str) { return str.toLowerCase(); };\nexport var upperCase = function (str) { return str.toUpperCase(); };\n/** Return upper case if string, otherwise return empty string */\nexport function upperCaseAny(value) {\n    if (!value)\n        return '';\n    return typeof value === 'string' ? value.toUpperCase() : \"\".concat(value).toUpperCase();\n}\n/** Uppercase the first character of each word. */\nexport function capitalize(str) {\n    return str.toLowerCase().replace(/^\\w|\\s\\w/g, upperCase);\n}\nexport function splitSnakeCase(str) {\n    return str.replace(/_/g, ' ');\n}\nexport function snakeCaseToWords(str) {\n    return capitalize(splitSnakeCase(str));\n}\nexport function splitKebabCase(str) {\n    return str.replace(/-/g, ' ');\n}\nexport function kebabCaseToWords(str) {\n    return capitalize(splitKebabCase(str));\n}\nexport function stringToWords(str) {\n    return capitalize(splitCamelCase(splitSnakeCase(splitKebabCase(str))));\n}\nexport function substringStartsWith(str, start, end, target) {\n    var len = target.length;\n    if (len > end - start)\n        return false;\n    for (var i = 0; i < len; i++) {\n        if (str.charCodeAt(start + i) !== target.charCodeAt(i))\n            return false;\n    }\n    return true;\n}\nexport function interpolate(str, params) {\n    var names = Object.keys(params);\n    var values = Object.values(params);\n    return new (Function.bind.apply(Function, __spreadArray(__spreadArray([void 0], names, false), [\"return `\".concat(str, \"`;\")], false)))().apply(void 0, values);\n}\nexport function trimChar(str, char) {\n    var start = 0;\n    var end = str.length;\n    while (start < end && str[start] === char)\n        ++start;\n    while (end > start && str[end - 1] === char)\n        --end;\n    return (start > 0 || end < str.length) ? str.substring(start, end) : str;\n}\nexport function trimCharStart(str, char) {\n    var start = 0;\n    var end = str.length;\n    while (start < end && str[start] === char)\n        ++start;\n    return (start > 0) ? str.substring(start, end) : str;\n}\nexport function trimCharEnd(str, char) {\n    var end = str.length;\n    while (end > 0 && str[end - 1] === char)\n        --end;\n    return (end < str.length) ? str.substring(0, end) : str;\n}\n/** Simple function to strip tags from a string */\nexport function stripTags(str) {\n    return str.replace(/<\\/?[^>]+>/g, '');\n}\n/**\n * Escape string for use in Javascript regex\n *\n * From https://stackoverflow.com/questions/3446170/escape-string-for-use-in-javascript-regex/6969486#6969486\n */\nexport function escapeRegExp(str) {\n    return str.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&'); // $& means the whole matched string\n}\n","/**\n * Copyright (c) 2018-2019 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\nimport { ColorList } from './color';\nimport { capitalize } from '../string';\nexport var ColorLists = {\n    /**\n     * Brewer Color Lists\n     *\n     * Copyright (c) 2002 Cynthia Brewer, Mark Harrower, and The Pennsylvania State University.\n     * Licensed under the Apache License, Version 2.0 (the \"License\");\n     */\n    'orange-red': ColorList('Orange-Red', 'sequential', 'Orange-Red, sequential color scheme from ColorBrewer 2.0', [0xfff7ec, 0xfee8c8, 0xfdd49e, 0xfdbb84, 0xfc8d59, 0xef6548, 0xd7301f, 0xb30000, 0x7f0000]),\n    'purple-blue': ColorList('Purple-Blue', 'sequential', 'Purple-Blue, sequential color scheme from ColorBrewer 2.0', [0xfff7fb, 0xece7f2, 0xd0d1e6, 0xa6bddb, 0x74a9cf, 0x3690c0, 0x0570b0, 0x045a8d, 0x023858]),\n    'blue-purple': ColorList('Blue-Purple', 'sequential', 'Blue-Purple, sequential color scheme from ColorBrewer 2.0', [0xf7fcfd, 0xe0ecf4, 0xbfd3e6, 0x9ebcda, 0x8c96c6, 0x8c6bb1, 0x88419d, 0x810f7c, 0x4d004b]),\n    'oranges': ColorList('Oranges', 'sequential', '', [0xfff5eb, 0xfee6ce, 0xfdd0a2, 0xfdae6b, 0xfd8d3c, 0xf16913, 0xd94801, 0xa63603, 0x7f2704]),\n    'blue-green': ColorList('Blue-Green', 'sequential', '', [0xf7fcfd, 0xe5f5f9, 0xccece6, 0x99d8c9, 0x66c2a4, 0x41ae76, 0x238b45, 0x006d2c, 0x00441b]),\n    'yellow-orange-brown': ColorList('Yellow-Orange-Brown', 'sequential', '', [0xffffe5, 0xfff7bc, 0xfee391, 0xfec44f, 0xfe9929, 0xec7014, 0xcc4c02, 0x993404, 0x662506]),\n    'yellow-green': ColorList('Yellow-Green', 'sequential', '', [0xffffe5, 0xf7fcb9, 0xd9f0a3, 0xaddd8e, 0x78c679, 0x41ab5d, 0x238443, 0x006837, 0x004529]),\n    'reds': ColorList('Reds', 'sequential', '', [0xfff5f0, 0xfee0d2, 0xfcbba1, 0xfc9272, 0xfb6a4a, 0xef3b2c, 0xcb181d, 0xa50f15, 0x67000d]),\n    'red-purple': ColorList('Red-Purple', 'sequential', '', [0xfff7f3, 0xfde0dd, 0xfcc5c0, 0xfa9fb5, 0xf768a1, 0xdd3497, 0xae017e, 0x7a0177, 0x49006a]),\n    'greens': ColorList('Greens', 'sequential', '', [0xf7fcf5, 0xe5f5e0, 0xc7e9c0, 0xa1d99b, 0x74c476, 0x41ab5d, 0x238b45, 0x006d2c, 0x00441b]),\n    'yellow-green-blue': ColorList('Yellow-Green-Blue', 'sequential', '', [0xffffd9, 0xedf8b1, 0xc7e9b4, 0x7fcdbb, 0x41b6c4, 0x1d91c0, 0x225ea8, 0x253494, 0x081d58]),\n    'purples': ColorList('Purples', 'sequential', '', [0xfcfbfd, 0xefedf5, 0xdadaeb, 0xbcbddc, 0x9e9ac8, 0x807dba, 0x6a51a3, 0x54278f, 0x3f007d]),\n    'green-blue': ColorList('Green-Blue', 'sequential', '', [0xf7fcf0, 0xe0f3db, 0xccebc5, 0xa8ddb5, 0x7bccc4, 0x4eb3d3, 0x2b8cbe, 0x0868ac, 0x084081]),\n    'greys': ColorList('Greys', 'sequential', '', [0xffffff, 0xf0f0f0, 0xd9d9d9, 0xbdbdbd, 0x969696, 0x737373, 0x525252, 0x252525, 0x000000]),\n    'yellow-orange-red': ColorList('Yellow-Orange-Red', 'sequential', '', [0xffffcc, 0xffeda0, 0xfed976, 0xfeb24c, 0xfd8d3c, 0xfc4e2a, 0xe31a1c, 0xbd0026, 0x800026]),\n    'purple-red': ColorList('Purple-Red', 'sequential', '', [0xf7f4f9, 0xe7e1ef, 0xd4b9da, 0xc994c7, 0xdf65b0, 0xe7298a, 0xce1256, 0x980043, 0x67001f]),\n    'blues': ColorList('Blues', 'sequential', '', [0xf7fbff, 0xdeebf7, 0xc6dbef, 0x9ecae1, 0x6baed6, 0x4292c6, 0x2171b5, 0x08519c, 0x08306b]),\n    'purple-blue-green': ColorList('Purple-Blue-Green', 'sequential', '', [0xfff7fb, 0xece2f0, 0xd0d1e6, 0xa6bddb, 0x67a9cf, 0x3690c0, 0x02818a, 0x016c59, 0x014636]),\n    'spectral': ColorList('Spectral', 'diverging', '', [0x9e0142, 0xd53e4f, 0xf46d43, 0xfdae61, 0xfee08b, 0xffffbf, 0xe6f598, 0xabdda4, 0x66c2a5, 0x3288bd, 0x5e4fa2]),\n    'red-yellow-green': ColorList('Red-Yellow-Green', 'diverging', '', [0xa50026, 0xd73027, 0xf46d43, 0xfdae61, 0xfee08b, 0xffffbf, 0xd9ef8b, 0xa6d96a, 0x66bd63, 0x1a9850, 0x006837]),\n    'red-blue': ColorList('Red-Blue', 'diverging', '', [0x67001f, 0xb2182b, 0xd6604d, 0xf4a582, 0xfddbc7, 0xf7f7f7, 0xd1e5f0, 0x92c5de, 0x4393c3, 0x2166ac, 0x053061]),\n    'pink-yellow-green': ColorList('Pink-Yellow-Green', 'diverging', '', [0x8e0152, 0xc51b7d, 0xde77ae, 0xf1b6da, 0xfde0ef, 0xf7f7f7, 0xe6f5d0, 0xb8e186, 0x7fbc41, 0x4d9221, 0x276419]),\n    'purple-green': ColorList('Purple-Green', 'diverging', '', [0x40004b, 0x762a83, 0x9970ab, 0xc2a5cf, 0xe7d4e8, 0xf7f7f7, 0xd9f0d3, 0xa6dba0, 0x5aae61, 0x1b7837, 0x00441b]),\n    'red-yellow-blue': ColorList('Red-Yellow-Blue', 'diverging', 'Red-Yellow-Blue, diverging color scheme from ColorBrewer 2.0', [0xa50026, 0xd73027, 0xf46d43, 0xfdae61, 0xfee090, 0xffffbf, 0xe0f3f8, 0xabd9e9, 0x74add1, 0x4575b4, 0x313695]),\n    'brown-white-green': ColorList('Brown-White-Green', 'diverging', '', [0x543005, 0x8c510a, 0xbf812d, 0xdfc27d, 0xf6e8c3, 0xf5f5f5, 0xc7eae5, 0x80cdc1, 0x35978f, 0x01665e, 0x003c30]),\n    'red-grey': ColorList('Red-Grey', 'diverging', '', [0x67001f, 0xb2182b, 0xd6604d, 0xf4a582, 0xfddbc7, 0xffffff, 0xe0e0e0, 0xbababa, 0x878787, 0x4d4d4d, 0x1a1a1a]),\n    'orange-purple': ColorList('Orange-Purple', 'diverging', '', [0x7f3b08, 0xb35806, 0xe08214, 0xfdb863, 0xfee0b6, 0xf7f7f7, 0xd8daeb, 0xb2abd2, 0x8073ac, 0x542788, 0x2d004b]),\n    'set-2': ColorList('Set-2', 'qualitative', '', [0x66c2a5, 0xfc8d62, 0x8da0cb, 0xe78ac3, 0xa6d854, 0xffd92f, 0xe5c494, 0xb3b3b3]),\n    'accent': ColorList('Accent', 'qualitative', '', [0x7fc97f, 0xbeaed4, 0xfdc086, 0xffff99, 0x386cb0, 0xf0027f, 0xbf5b17, 0x666666]),\n    'set-1': ColorList('Set-1', 'qualitative', '', [0xe41a1c, 0x377eb8, 0x4daf4a, 0x984ea3, 0xff7f00, 0xffff33, 0xa65628, 0xf781bf, 0x999999]),\n    'set-3': ColorList('Set-3', 'qualitative', '', [0x8dd3c7, 0xffffb3, 0xbebada, 0xfb8072, 0x80b1d3, 0xfdb462, 0xb3de69, 0xfccde5, 0xd9d9d9, 0xbc80bd, 0xccebc5, 0xffed6f]),\n    'dark-2': ColorList('Dark-2', 'qualitative', '', [0x1b9e77, 0xd95f02, 0x7570b3, 0xe7298a, 0x66a61e, 0xe6ab02, 0xa6761d, 0x666666]),\n    'paired': ColorList('Paired', 'qualitative', '', [0xa6cee3, 0x1f78b4, 0xb2df8a, 0x33a02c, 0xfb9a99, 0xe31a1c, 0xfdbf6f, 0xff7f00, 0xcab2d6, 0x6a3d9a, 0xffff99, 0xb15928]),\n    'pastel-2': ColorList('Pastel-2', 'qualitative', '', [0xb3e2cd, 0xfdcdac, 0xcbd5e8, 0xf4cae4, 0xe6f5c9, 0xfff2ae, 0xf1e2cc, 0xcccccc]),\n    'pastel-1': ColorList('Pastel-1', 'qualitative', '', [0xfbb4ae, 0xb3cde3, 0xccebc5, 0xdecbe4, 0xfed9a6, 0xffffcc, 0xe5d8bd, 0xfddaec, 0xf2f2f2]),\n    'many-distinct': ColorList('Many-Distinct', 'qualitative', '', [\n        // dark-2\n        0x1b9e77, 0xd95f02, 0x7570b3, 0xe7298a, 0x66a61e, 0xe6ab02, 0xa6761d, 0x666666,\n        // set-1\n        0xe41a1c, 0x377eb8, 0x4daf4a, 0x984ea3, 0xff7f00, 0xffff33, 0xa65628, 0xf781bf, 0x999999,\n        // set-2\n        0x66c2a5, 0xfc8d62, 0x8da0cb, 0xe78ac3, 0xa6d854, 0xffd92f, 0xe5c494, 0xb3b3b3\n    ]),\n    /**\n     * Matplotlib colormaps, including various perceptually uniform shades, see https://bids.github.io/colormap/\n     */\n    'magma': ColorList('Magma', 'sequential', 'Perceptually uniform shades of black-red-white', [0x420f74, 0x4a1079, 0x52127c, 0x5a157e, 0x61187f, 0x691c80, 0x711f81, 0x792281, 0x812581, 0x892881, 0x912a80, 0x992d7f, 0xa12f7e, 0xa9327c, 0xb1357a, 0xb93778, 0xc23a75, 0xca3e72, 0xd1426e, 0xd9466a, 0xe04b66, 0xe65162, 0xec585f, 0xf0605d, 0xf4685b, 0xf7715b, 0xf97b5d, 0xfb8460, 0xfc8e63, 0xfd9768, 0xfda16e, 0xfeaa74, 0xfeb37b, 0xfebc82, 0xfec689, 0xfdcf92, 0xfdd89a, 0xfde1a3, 0xfceaac, 0xfcf3b5, 0xfbfcbf]),\n    'inferno': ColorList('Inferno', 'sequential', 'Perceptually uniform shades of black-red-yellow', [0x480b6a, 0x500d6c, 0x58106d, 0x60136e, 0x68166e, 0x70196e, 0x781c6d, 0x801f6b, 0x88216a, 0x902468, 0x982765, 0xa02a62, 0xa72d5f, 0xaf315b, 0xb73456, 0xbe3852, 0xc53d4d, 0xcc4148, 0xd24742, 0xd94d3d, 0xde5337, 0xe45a31, 0xe8612b, 0xed6825, 0xf0701e, 0xf37918, 0xf68111, 0xf88a0b, 0xfa9306, 0xfb9d06, 0xfba60b, 0xfbb014, 0xfbb91e, 0xf9c32a, 0xf8cd37, 0xf5d745, 0xf3e056, 0xf1e968, 0xf1f27d, 0xf5f891, 0xfcfea4]),\n    'plasma': ColorList('Plasma', 'sequential', 'Perceptually uniform shades of blue-red-yellow', [0x1b068c, 0x250591, 0x2f0495, 0x380499, 0x40039c, 0x49029f, 0x5101a2, 0x5901a4, 0x6100a6, 0x6800a7, 0x7000a8, 0x7801a8, 0x7f03a7, 0x8607a6, 0x8e0ca4, 0x9511a1, 0x9b179e, 0xa21c9a, 0xa82296, 0xae2791, 0xb42d8d, 0xb93388, 0xbe3883, 0xc33e7f, 0xc8447a, 0xcd4975, 0xd14f71, 0xd6556d, 0xda5a68, 0xde6064, 0xe26660, 0xe56c5b, 0xe97257, 0xec7853, 0xef7e4e, 0xf2854a, 0xf58b46, 0xf79241, 0xf9993d, 0xfaa039, 0xfca735, 0xfdaf31, 0xfdb62d, 0xfdbe29, 0xfdc626, 0xfcce25, 0xfad624, 0xf8df24, 0xf5e726, 0xf2f026, 0xeff821]),\n    'viridis': ColorList('Viridis', 'sequential', 'Perceptually uniform shades of blue-green-yellow', [0x45085b, 0x470f62, 0x471669, 0x481d6f, 0x482374, 0x472a79, 0x46307d, 0x453681, 0x433c84, 0x414286, 0x3e4888, 0x3c4d8a, 0x3a538b, 0x37588c, 0x355d8c, 0x32628d, 0x30678d, 0x2e6c8e, 0x2c718e, 0x2a768e, 0x287a8e, 0x267f8e, 0x24848d, 0x23898d, 0x218d8c, 0x1f928c, 0x1e978a, 0x1e9b89, 0x1ea087, 0x20a585, 0x23a982, 0x28ae7f, 0x2eb27c, 0x35b778, 0x3dbb74, 0x45bf6f, 0x4fc369, 0x59c764, 0x64cb5d, 0x70ce56, 0x7cd24f, 0x88d547, 0x95d73f, 0xa2da37, 0xafdc2e, 0xbdde26, 0xcae01e, 0xd7e219, 0xe4e318, 0xf1e51c, 0xfde724]),\n    'cividis': ColorList('Cividis', 'sequential', 'Perceptually uniform shades of blue-green-yellow, should look effectively identical to colorblind and non-colorblind users', [0x002c67, 0x003070, 0x083370, 0x16366f, 0x1f3a6e, 0x273d6d, 0x2e416c, 0x34446c, 0x39486c, 0x3f4b6b, 0x444f6b, 0x49526b, 0x4e566c, 0x52596c, 0x575d6d, 0x5b606e, 0x60646e, 0x64676f, 0x686b71, 0x6d6e72, 0x717273, 0x757575, 0x797977, 0x7e7d78, 0x838078, 0x878478, 0x8c8878, 0x918c77, 0x968f77, 0x9b9376, 0xa09775, 0xa59b73, 0xaa9f72, 0xafa370, 0xb4a76f, 0xb9ab6d, 0xbeb06a, 0xc4b468, 0xc9b865, 0xcebc62, 0xd4c15e, 0xd9c55a, 0xdfca56, 0xe4ce51, 0xead34c, 0xefd846, 0xf5dc3f, 0xfbe136, 0xfde737]),\n    'twilight': ColorList('Twilight', 'sequential', 'Perceptually uniform shades of white-blue-black-red-white, cyclic', [0xdfd9e1, 0xd8d7dd, 0xced3d8, 0xc2cdd3, 0xb4c7ce, 0xa7c0ca, 0x9ab8c7, 0x8eb0c5, 0x83a8c3, 0x7a9fc2, 0x7297c0, 0x6b8ebf, 0x6684bd, 0x637bbb, 0x6171b9, 0x5f67b6, 0x5e5cb2, 0x5e51ad, 0x5d46a7, 0x5c3c9f, 0x5b3196, 0x58278b, 0x531e7d, 0x4d176e, 0x46135f, 0x3e1151, 0x381045, 0x32113b, 0x301336, 0x361138, 0x3e113c, 0x471240, 0x521445, 0x5e1749, 0x6a1a4d, 0x761e4f, 0x812350, 0x8b2a50, 0x95324f, 0x9d3a4f, 0xa5434f, 0xac4d50, 0xb25752, 0xb86155, 0xbc6c59, 0xc0775f, 0xc48267, 0xc78d70, 0xc9987b, 0xcca389, 0xceae97, 0xd2b8a6, 0xd6c1b5, 0xdacac4, 0xddd1d1, 0xe0d6db, 0xe1d8e1]),\n    /**\n     * https://ai.googleblog.com/2019/08/turbo-improved-rainbow-colormap-for.html\n     */\n    'turbo': ColorList('Turbo', 'sequential', 'Improved (smooth) rainbow colormap for visualization', [0x4a41b5, 0x4a58dd, 0x426ff2, 0x3987f9, 0x2f9df5, 0x28b2e9, 0x25c6d8, 0x27d7c4, 0x2ee5ae, 0x3bf098, 0x4df884, 0x62fd70, 0x7bfe5f, 0x95fb51, 0xaff444, 0xc8ea3a, 0xdedd32, 0xf0cc2c, 0xfeb927, 0xffa423, 0xff8e1f, 0xff761c, 0xf65f18, 0xe54813, 0xd0330e, 0xba2208, 0xa51403, 0x960d00]),\n    /**\n     * Other\n     */\n    'rainbow': ColorList('Rainbow', 'sequential', '', [0x3361E1, 0x35A845, 0xF9FF00, 0xEC8711, 0xBF2222]),\n    'red-white-blue': ColorList('Red-White-Blue', 'diverging', '', [0xBF2222, 0xFFFFFF, 0x3361E1]),\n};\nexport var ColorListNames = Object.keys(ColorLists);\nexport var ColorListOptions = ColorListNames.map(function (n) { return [n, ColorLists[n].label, capitalize(ColorLists[n].type)]; });\nexport var ColorListOptionsScale = ColorListOptions.filter(function (v) { return ColorLists[v[0]].type === 'diverging' || ColorLists[v[0]].type === 'sequential'; });\nexport var ColorListOptionsSet = ColorListOptions.filter(function (v) { return ColorLists[v[0]].type === 'qualitative'; });\nexport function getColorListFromName(name) {\n    if (name in ColorLists)\n        return ColorLists[name];\n    console.warn(\"unknown color list named '\".concat(name, \"'\"));\n    return ColorLists['red-yellow-blue'];\n}\n","/**\n * Copyright (c) 2018-2019 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\nimport { __assign, __spreadArray } from \"tslib\";\nimport { Color } from './color';\nimport { getColorListFromName } from './lists';\nimport { defaults } from '../../mol-util';\nimport { ScaleLegend } from '../legend';\nimport { SortedArray } from '../../mol-data/int';\nimport { clamp } from '../../mol-math/interpolate';\nexport var DefaultColorScaleProps = {\n    domain: [0, 1],\n    reverse: false,\n    listOrName: 'red-yellow-blue',\n    minLabel: '',\n    maxLabel: '',\n};\nexport var ColorScale;\n(function (ColorScale) {\n    function create(props) {\n        var _a = __assign(__assign({}, DefaultColorScaleProps), props), domain = _a.domain, reverse = _a.reverse, listOrName = _a.listOrName;\n        var list = typeof listOrName === 'string' ? getColorListFromName(listOrName).list : listOrName;\n        var colors = reverse ? list.slice().reverse() : list;\n        var count1 = colors.length - 1;\n        var diff = 0, min = 0, max = 0;\n        function setDomain(_min, _max) {\n            min = _min;\n            max = _max;\n            diff = (max - min) || 1;\n        }\n        setDomain(domain[0], domain[1]);\n        var minLabel = defaults(props.minLabel, min.toString());\n        var maxLabel = defaults(props.maxLabel, max.toString());\n        var color;\n        var hasOffsets = colors.every(function (c) { return Array.isArray(c); });\n        if (hasOffsets) {\n            var sorted = __spreadArray([], colors, true);\n            sorted.sort(function (a, b) { return a[1] - b[1]; });\n            var src_1 = sorted.map(function (c) { return c[0]; });\n            var off_1 = SortedArray.ofSortedArray(sorted.map(function (c) { return c[1]; }));\n            var max_1 = src_1.length - 1;\n            color = function (v) {\n                var t = clamp((v - min) / diff, 0, 1);\n                var i = SortedArray.findPredecessorIndex(off_1, t);\n                if (i === 0) {\n                    return src_1[min];\n                }\n                else if (i > max_1) {\n                    return src_1[max_1];\n                }\n                var o1 = off_1[i - 1], o2 = off_1[i];\n                var t1 = clamp((t - o1) / (o2 - o1), 0, 1); // TODO: cache the deltas?\n                return Color.interpolate(src_1[i - 1], src_1[i], t1);\n            };\n        }\n        else {\n            color = function (value) {\n                var t = Math.min(colors.length - 1, Math.max(0, ((value - min) / diff) * count1));\n                var tf = Math.floor(t);\n                var c1 = colors[tf];\n                var c2 = colors[Math.ceil(t)];\n                return Color.interpolate(c1, c2, t - tf);\n            };\n        }\n        return {\n            color: color,\n            colorToArray: function (value, array, offset) {\n                Color.toArray(color(value), array, offset);\n            },\n            normalizedColorToArray: function (value, array, offset) {\n                Color.toArrayNormalized(color(value), array, offset);\n            },\n            setDomain: setDomain,\n            get legend() { return ScaleLegend(minLabel, maxLabel, colors); }\n        };\n    }\n    ColorScale.create = create;\n})(ColorScale || (ColorScale = {}));\n","/**\n * Copyright (c) 2018-2019 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\nexport function TableLegend(table) {\n    return { kind: 'table-legend', table: table };\n}\nexport function ScaleLegend(minLabel, maxLabel, colors) {\n    return { kind: 'scale-legend', minLabel: minLabel, maxLabel: maxLabel, colors: colors };\n}\n","/**\n * Copyright (c) 2022 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * Code-generated ion names params file. Names extracted from CCD components.\n *\n * @author molstar/cli/chem-comp-dict/create-saccharides\n */\nexport var SaccharideNames = new Set(['145', '147', '149', '289', '291', '293', '445', '475', '491', '510', '604', '045', '05L', '07E', '07Y', '08U', '09X', '0AT', '0BD', '0H0', '0HX', '0LP', '0MK', '0NZ', '0TS', '0UB', '0V4', '0WK', '0XY', '0YT', '10M', '12E', '14T', '15L', '16F', '16G', '16O', '17T', '18D', '18O', '18T', '1AR', '1BW', '1CF', '1FT', '1GL', '1GN', '1JB', '1LL', '1NA', '1S3', '1S4', '1SD', '1X4', '20S', '20X', '22O', '22S', '23V', '24S', '25E', '26M', '26O', '26Q', '26R', '26V', '26W', '26Y', '27C', '2DG', '2DR', '2F8', '2FG', '2FL', '2FP', '2GL', '2GS', '2H5', '2HA', '2M4', '2M5', '2M8', '2OS', '2WP', '2WS', '32O', '34V', '38J', '3BU', '3CM', '3DO', '3DY', '3FM', '3GR', '3HD', '3J3', '3J4', '3LJ', '3LR', '3MF', '3MG', '3MK', '3R3', '3S6', '3SA', '3YW', '40J', '42D', '44S', '46D', '46M', '46Z', '48Z', '49A', '49S', '49T', '49V', '4AM', '4CQ', '4GC', '4GL', '4GP', '4JA', '4N2', '4NN', '4QY', '4R1', '4RS', '4SG', '4U0', '4U1', '4U2', '4UZ', '4V5', '50A', '51N', '56N', '57S', '5DI', '5GF', '5GO', '5II', '5KQ', '5KS', '5KT', '5KV', '5L2', '5L3', '5LS', '5LT', '5MM', '5N6', '5QP', '5RP', '5SA', '5SP', '5TH', '5TJ', '5TK', '5TM', '61J', '62I', '64K', '66O', '6BG', '6C2', '6DM', '6GB', '6GP', '6GR', '6K3', '6KH', '6KL', '6KS', '6KU', '6KW', '6LA', '6LS', '6LW', '6MJ', '6MN', '6PG', '6PY', '6PZ', '6S2', '6SA', '6UD', '6Y6', '6YR', '6ZC', '73E', '79J', '7CV', '7D1', '7GP', '7JZ', '7K2', '7K3', '7NU', '7SA', '83Y', '89Y', '8B7', '8B9', '8EX', '8GA', '8GG', '8GP', '8I4', '8LM', '8LR', '8OQ', '8PK', '8S0', '8YV', '95Z', '96O', '98U', '9AM', '9C1', '9CD', '9GP', '9KJ', '9MR', '9OK', '9PG', '9QG', '9QZ', '9S7', '9SG', '9SJ', '9SM', '9SP', '9T1', '9T7', '9VP', '9WJ', '9WN', '9WZ', '9YW', 'A0K', 'A1Q', 'A2G', 'A5C', 'A6P', 'AAL', 'AAO', 'ABC', 'ABD', 'ABE', 'ABF', 'ABL', 'AC1', 'ACG', 'ACR', 'ACX', 'ADA', 'ADG', 'ADR', 'AF1', 'AFD', 'AFL', 'AFO', 'AFP', 'AFR', 'AGC', 'AGH', 'AGL', 'AGR', 'AH2', 'AH8', 'AHG', 'AHM', 'AHR', 'AIG', 'ALL', 'ALX', 'AMG', 'AMN', 'AMU', 'AMV', 'ANA', 'AOG', 'AOS', 'AQA', 'ARA', 'ARB', 'ARE', 'ARI', 'ARW', 'ASC', 'ASG', 'ASO', 'AXP', 'AXR', 'AY9', 'AZC', 'B0D', 'B16', 'B1H', 'B1N', 'B2G', 'B4G', 'B6D', 'B7G', 'B8D', 'B9D', 'BBK', 'BBV', 'BCD', 'BCW', 'BDF', 'BDG', 'BDP', 'BDR', 'BDZ', 'BEM', 'BFN', 'BFP', 'BG6', 'BG8', 'BGC', 'BGL', 'BGN', 'BGP', 'BGS', 'BHG', 'BM3', 'BM7', 'BMA', 'BMX', 'BND', 'BNG', 'BNX', 'BO1', 'BOG', 'BQY', 'BRI', 'BS7', 'BTG', 'BTU', 'BW3', 'BWG', 'BXF', 'BXP', 'BXX', 'BXY', 'BZD', 'C3B', 'C3G', 'C3X', 'C4B', 'C4W', 'C4X', 'C5X', 'CAP', 'CBF', 'CBI', 'CBK', 'CDR', 'CE5', 'CE6', 'CE8', 'CEG', 'CEX', 'CEY', 'CEZ', 'CGF', 'CJB', 'CKB', 'CKP', 'CNP', 'CR1', 'CR6', 'CRA', 'CT3', 'CTO', 'CTR', 'CTT', 'D0N', 'D1M', 'D5E', 'D6G', 'DAF', 'DAG', 'DAN', 'DDA', 'DDB', 'DDL', 'DEG', 'DEL', 'DFR', 'DFX', 'DG0', 'DGC', 'DGD', 'DGM', 'DGO', 'DGS', 'DGU', 'DIG', 'DJB', 'DJE', 'DK4', 'DKX', 'DKZ', 'DL6', 'DLD', 'DLF', 'DLG', 'DMU', 'DNO', 'DO8', 'DOM', 'DP5', 'DPC', 'DQQ', 'DQR', 'DR2', 'DR3', 'DR4', 'DR5', 'DRI', 'DSR', 'DT6', 'DVC', 'DYM', 'E3M', 'E4P', 'E5G', 'EAG', 'EBG', 'EBQ', 'EEN', 'EEQ', 'EGA', 'EJT', 'EMP', 'EMZ', 'EPG', 'EQP', 'EQV', 'ERE', 'ERI', 'ETT', 'EUS', 'F1P', 'F1X', 'F55', 'F58', 'F6P', 'F8X', 'FBP', 'FCA', 'FCB', 'FCT', 'FDP', 'FDQ', 'FFC', 'FFX', 'FIF', 'FIX', 'FK9', 'FKD', 'FMF', 'FMO', 'FNG', 'FNY', 'FRU', 'FSA', 'FSI', 'FSM', 'FSR', 'FSW', 'FU4', 'FUB', 'FUC', 'FUD', 'FUF', 'FUL', 'FUY', 'FVQ', 'FX1', 'FYJ', 'G0S', 'G16', 'G1P', 'G20', 'G28', 'G2F', 'G3F', 'G3I', 'G4D', 'G4S', 'G6D', 'G6P', 'G6S', 'G7P', 'G8Z', 'GAA', 'GAC', 'GAD', 'GAF', 'GAL', 'GAT', 'GBH', 'GC1', 'GC4', 'GC9', 'GCB', 'GCD', 'GCN', 'GCO', 'GCS', 'GCT', 'GCU', 'GCV', 'GCW', 'GDA', 'GDL', 'GE1', 'GE3', 'GFP', 'GIV', 'GL0', 'GL1', 'GL2', 'GL4', 'GL5', 'GL6', 'GL7', 'GL9', 'GLA', 'GLB', 'GLC', 'GLD', 'GLF', 'GLG', 'GLO', 'GLP', 'GLS', 'GLT', 'GLW', 'GM0', 'GMB', 'GMH', 'GMT', 'GMZ', 'GN1', 'GN4', 'GNS', 'GNX', 'GP0', 'GP1', 'GP4', 'GPH', 'GPK', 'GPM', 'GPO', 'GPQ', 'GPU', 'GPV', 'GPW', 'GQ1', 'GRF', 'GRX', 'GS1', 'GS4', 'GS9', 'GSA', 'GSD', 'GTE', 'GTH', 'GTK', 'GTM', 'GTR', 'GU0', 'GU1', 'GU2', 'GU3', 'GU4', 'GU5', 'GU6', 'GU8', 'GU9', 'GUF', 'GUL', 'GUP', 'GUZ', 'GXL', 'GXV', 'GYE', 'GYG', 'GYP', 'GYU', 'GYV', 'GZL', 'H1M', 'H1S', 'H2P', 'H3S', 'H53', 'H6Q', 'H6Z', 'HBZ', 'HD4', 'HDL', 'HMS', 'HNV', 'HNW', 'HSG', 'HSH', 'HSJ', 'HSQ', 'HSR', 'HSU', 'HSX', 'HSY', 'HSZ', 'HTG', 'HTM', 'HVC', 'I57', 'IAB', 'IDC', 'IDF', 'IDG', 'IDR', 'IDS', 'IDT', 'IDU', 'IDX', 'IDY', 'IEM', 'IN1', 'IPT', 'ISD', 'ISL', 'ISX', 'IVG', 'IXD', 'J5B', 'JFZ', 'JHM', 'JLT', 'JRV', 'JS2', 'JSV', 'JV4', 'JVA', 'JVS', 'JZR', 'K5B', 'K99', 'KBA', 'KBG', 'KD5', 'KDA', 'KDB', 'KDD', 'KDE', 'KDF', 'KDM', 'KDN', 'KDO', 'KDR', 'KFN', 'KG1', 'KGM', 'KHP', 'KME', 'KO1', 'KO2', 'KOT', 'KQC', 'KTU', 'L1L', 'L6N', 'L6S', 'L6T', 'LAG', 'LAH', 'LAI', 'LAK', 'LAO', 'LAT', 'LB2', 'LBS', 'LBT', 'LCN', 'LDY', 'LEC', 'LER', 'LFC', 'LFR', 'LGC', 'LGU', 'LKA', 'LKS', 'LM2', 'LMO', 'LMT', 'LMU', 'LNV', 'LOG', 'LOX', 'LPK', 'LRH', 'LSM', 'LTG', 'LTM', 'LVO', 'LVZ', 'LXB', 'LXC', 'LXZ', 'LZ0', 'M1F', 'M1P', 'M2F', 'M3M', 'M3N', 'M55', 'M6D', 'M6P', 'M7B', 'M7P', 'M8C', 'MA1', 'MA2', 'MA3', 'MA8', 'MAB', 'MAF', 'MAG', 'MAL', 'MAN', 'MAT', 'MAV', 'MAW', 'MBE', 'MBF', 'MBG', 'MCU', 'MDA', 'MDP', 'MFA', 'MFB', 'MFU', 'MG5', 'MGA', 'MGC', 'MGL', 'MGS', 'MJJ', 'MLB', 'MLR', 'MMA', 'MMN', 'MN0', 'MNA', 'MQG', 'MQT', 'MRH', 'MRP', 'MSX', 'MTT', 'MUB', 'MUG', 'MUR', 'MVP', 'MXY', 'MXZ', 'MYG', 'N1L', 'N3U', 'N9S', 'NA1', 'NAA', 'NAG', 'NBG', 'NBX', 'NBY', 'NDG', 'NED', 'NFG', 'NG1', 'NG6', 'NGA', 'NGB', 'NGC', 'NGE', 'NGF', 'NGK', 'NGL', 'NGR', 'NGS', 'NGY', 'NGZ', 'NHF', 'NLC', 'NM6', 'NM9', 'NNG', 'NPF', 'NSQ', 'NT1', 'NTF', 'NTO', 'NTP', 'NXD', 'NYT', 'O1G', 'OAK', 'OEL', 'OI7', 'OPM', 'ORP', 'OSU', 'OTG', 'OTN', 'OTU', 'OX2', 'P53', 'P6P', 'P8E', 'PA1', 'PA5', 'PAV', 'PDX', 'PH5', 'PKM', 'PNA', 'PNG', 'PNJ', 'PNW', 'PPC', 'PRP', 'PSG', 'PSJ', 'PSV', 'PTQ', 'PUF', 'PZU', 'QDK', 'QIF', 'QKH', 'QPS', 'QV4', 'R1P', 'R1X', 'R2B', 'R2G', 'R5P', 'RAA', 'RAE', 'RAF', 'RAM', 'RAO', 'RAT', 'RB5', 'RBL', 'RCD', 'RDP', 'REL', 'RER', 'RF5', 'RG1', 'RGG', 'RHA', 'RHC', 'RI2', 'RIB', 'RIP', 'RM4', 'RNS', 'RNT', 'ROB', 'ROR', 'RP3', 'RP5', 'RP6', 'RPA', 'RR7', 'RRJ', 'RRY', 'RST', 'RTG', 'RTV', 'RUB', 'RUG', 'RUU', 'RV7', 'RVG', 'RVM', 'RWI', 'RY7', 'RZM', 'S6P', 'S7P', 'S81', 'SA0', 'SCG', 'SCR', 'SDD', 'SDY', 'SEJ', 'SF6', 'SF9', 'SFJ', 'SFU', 'SG4', 'SG5', 'SG6', 'SG7', 'SGA', 'SGC', 'SGD', 'SGN', 'SGS', 'SHB', 'SHD', 'SHG', 'SI3', 'SIA', 'SID', 'SIO', 'SIZ', 'SLB', 'SLM', 'SLT', 'SMD', 'SN5', 'SNG', 'SOE', 'SOG', 'SOL', 'SOR', 'SR1', 'SSG', 'SSH', 'STW', 'STZ', 'SUC', 'SUP', 'SUS', 'SWE', 'SZZ', 'T68', 'T6D', 'T6P', 'T6T', 'TA6', 'TAG', 'TCB', 'TCG', 'TDG', 'TEU', 'TF0', 'TFU', 'TGA', 'TGK', 'TGR', 'TGY', 'TH1', 'TM5', 'TM6', 'TM9', 'TMR', 'TMX', 'TNX', 'TOA', 'TOC', 'TQY', 'TRE', 'TRV', 'TS8', 'TT7', 'TTV', 'TTZ', 'TU4', 'TUG', 'TUJ', 'TUP', 'TUR', 'TVD', 'TVG', 'TVM', 'TVS', 'TVV', 'TVY', 'TW7', 'TWA', 'TWD', 'TWG', 'TWJ', 'TWY', 'TXB', 'TYV', 'U1Y', 'U2A', 'U2D', 'U63', 'U8V', 'U97', 'U9A', 'U9D', 'U9G', 'U9J', 'U9M', 'UAP', 'UBH', 'UBO', 'UCD', 'UDC', 'UEA', 'V3M', 'V3P', 'V71', 'VG1', 'VJ1', 'VJ4', 'VKN', 'VTB', 'W9T', 'WIA', 'WOO', 'WUN', 'WZ1', 'WZ2', 'WZ4', 'X0X', 'X1P', 'X1X', 'X2F', 'X2Y', 'X34', 'X4S', 'X5S', 'X6X', 'X6Y', 'XBP', 'XDP', 'XDX', 'XGP', 'XIL', 'XKJ', 'XLF', 'XLS', 'XMM', 'XS2', 'XUL', 'XXM', 'XXR', 'XXX', 'XY6', 'XY9', 'XYB', 'XYF', 'XYL', 'XYP', 'XYS', 'XYT', 'XYZ', 'YDR', 'YIO', 'YJM', 'YKR', 'YO5', 'YX0', 'YX1', 'YYB', 'YYH', 'YYJ', 'YYK', 'YYM', 'YYQ', 'YYR', 'YZ0', 'YZT', 'Z0F', 'Z15', 'Z16', 'Z2D', 'Z2T', 'Z3K', 'Z3L', 'Z3Q', 'Z3U', 'Z4K', 'Z4R', 'Z4S', 'Z4U', 'Z4V', 'Z4W', 'Z4Y', 'Z57', 'Z5J', 'Z5L', 'Z61', 'Z6G', 'Z6H', 'Z6J', 'Z6W', 'Z8H', 'Z8T', 'Z9D', 'Z9E', 'Z9H', 'Z9K', 'Z9L', 'Z9M', 'Z9N', 'Z9W', 'ZB0', 'ZB1', 'ZB2', 'ZB3', 'ZCD', 'ZCZ', 'ZD0', 'ZDC', 'ZDM', 'ZDO', 'ZEE', 'ZEL', 'ZGE', 'ZMR', 'UMQ', 'SQD']);\n","/**\n * Copyright (c) 2018-2022 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @author David Sehnal <david.sehnal@gmail.com>\n */\nvar _a, _b;\nimport { ColorMap } from '../../../../mol-util/color';\nimport { SaccharideNames } from '../../model/types/saccharides';\n// follows community standard from https://www.ncbi.nlm.nih.gov/glycans/snfg.html\nexport var SaccharideShape;\n(function (SaccharideShape) {\n    // standard shapes\n    SaccharideShape[SaccharideShape[\"FilledSphere\"] = 0] = \"FilledSphere\";\n    SaccharideShape[SaccharideShape[\"FilledCube\"] = 1] = \"FilledCube\";\n    SaccharideShape[SaccharideShape[\"CrossedCube\"] = 2] = \"CrossedCube\";\n    SaccharideShape[SaccharideShape[\"DividedDiamond\"] = 3] = \"DividedDiamond\";\n    SaccharideShape[SaccharideShape[\"FilledCone\"] = 4] = \"FilledCone\";\n    SaccharideShape[SaccharideShape[\"DevidedCone\"] = 5] = \"DevidedCone\";\n    SaccharideShape[SaccharideShape[\"FlatBox\"] = 6] = \"FlatBox\";\n    SaccharideShape[SaccharideShape[\"FilledStar\"] = 7] = \"FilledStar\";\n    SaccharideShape[SaccharideShape[\"FilledDiamond\"] = 8] = \"FilledDiamond\";\n    SaccharideShape[SaccharideShape[\"FlatDiamond\"] = 9] = \"FlatDiamond\";\n    SaccharideShape[SaccharideShape[\"FlatHexagon\"] = 10] = \"FlatHexagon\";\n    SaccharideShape[SaccharideShape[\"Pentagon\"] = 11] = \"Pentagon\";\n    // generic shapes for rings with 4, 5, 6, or 7 members\n    SaccharideShape[SaccharideShape[\"DiamondPrism\"] = 12] = \"DiamondPrism\";\n    SaccharideShape[SaccharideShape[\"PentagonalPrism\"] = 13] = \"PentagonalPrism\";\n    SaccharideShape[SaccharideShape[\"HexagonalPrism\"] = 14] = \"HexagonalPrism\";\n    SaccharideShape[SaccharideShape[\"HeptagonalPrism\"] = 15] = \"HeptagonalPrism\";\n})(SaccharideShape || (SaccharideShape = {}));\nexport var SaccharideColors = ColorMap({\n    Blue: 0x0090bc,\n    Green: 0x00a651,\n    Yellow: 0xffd400,\n    Orange: 0xf47920,\n    Pink: 0xf69ea1,\n    Purple: 0xa54399,\n    LightBlue: 0x8fcce9,\n    Brown: 0xa17a4d,\n    Red: 0xed1c24,\n    Secondary: 0xf1ece1\n});\nexport var SaccharideType;\n(function (SaccharideType) {\n    SaccharideType[SaccharideType[\"Hexose\"] = 0] = \"Hexose\";\n    SaccharideType[SaccharideType[\"HexNAc\"] = 1] = \"HexNAc\";\n    SaccharideType[SaccharideType[\"Hexosamine\"] = 2] = \"Hexosamine\";\n    SaccharideType[SaccharideType[\"Hexuronate\"] = 3] = \"Hexuronate\";\n    SaccharideType[SaccharideType[\"Deoxyhexose\"] = 4] = \"Deoxyhexose\";\n    SaccharideType[SaccharideType[\"DeoxyhexNAc\"] = 5] = \"DeoxyhexNAc\";\n    SaccharideType[SaccharideType[\"DiDeoxyhexose\"] = 6] = \"DiDeoxyhexose\";\n    SaccharideType[SaccharideType[\"Pentose\"] = 7] = \"Pentose\";\n    SaccharideType[SaccharideType[\"Deoxynonulosonate\"] = 8] = \"Deoxynonulosonate\";\n    SaccharideType[SaccharideType[\"DiDeoxynonulosonate\"] = 9] = \"DiDeoxynonulosonate\";\n    SaccharideType[SaccharideType[\"Unknown\"] = 10] = \"Unknown\";\n    SaccharideType[SaccharideType[\"Assigned\"] = 11] = \"Assigned\";\n})(SaccharideType || (SaccharideType = {}));\nvar SaccharideTypeNameMap = (_a = {},\n    _a[SaccharideType.Hexose] = 'Hexose',\n    _a[SaccharideType.HexNAc] = 'HexNAc',\n    _a[SaccharideType.Hexosamine] = 'Hexosamine',\n    _a[SaccharideType.Hexuronate] = 'Hexuronate',\n    _a[SaccharideType.Deoxyhexose] = 'Deoxyhexose',\n    _a[SaccharideType.DeoxyhexNAc] = 'DeoxyhexNAc',\n    _a[SaccharideType.DiDeoxyhexose] = 'Di-deoxyhexose',\n    _a[SaccharideType.Pentose] = 'Pentose',\n    _a[SaccharideType.Deoxynonulosonate] = 'Deoxynonulosonate',\n    _a[SaccharideType.DiDeoxynonulosonate] = 'Di-deoxynonulosonate',\n    _a[SaccharideType.Unknown] = 'Unknown',\n    _a[SaccharideType.Assigned] = 'Assigned',\n    _a);\nexport function getSaccharideName(type) {\n    return SaccharideTypeNameMap[type];\n}\nvar SaccharideTypeShapeMap = (_b = {},\n    _b[SaccharideType.Hexose] = SaccharideShape.FilledSphere,\n    _b[SaccharideType.HexNAc] = SaccharideShape.FilledCube,\n    _b[SaccharideType.Hexosamine] = SaccharideShape.CrossedCube,\n    _b[SaccharideType.Hexuronate] = SaccharideShape.DividedDiamond,\n    _b[SaccharideType.Deoxyhexose] = SaccharideShape.FilledCone,\n    _b[SaccharideType.DeoxyhexNAc] = SaccharideShape.DevidedCone,\n    _b[SaccharideType.DiDeoxyhexose] = SaccharideShape.FlatBox,\n    _b[SaccharideType.Pentose] = SaccharideShape.FilledStar,\n    _b[SaccharideType.Deoxynonulosonate] = SaccharideShape.FilledDiamond,\n    _b[SaccharideType.DiDeoxynonulosonate] = SaccharideShape.FlatDiamond,\n    _b[SaccharideType.Unknown] = SaccharideShape.FlatHexagon,\n    _b[SaccharideType.Assigned] = SaccharideShape.Pentagon,\n    _b);\nexport function getSaccharideShape(type, ringMemberCount) {\n    if (type === SaccharideType.Unknown) {\n        if (ringMemberCount === 4)\n            return SaccharideShape.DiamondPrism;\n        else if (ringMemberCount === 5)\n            return SaccharideShape.PentagonalPrism;\n        else if (ringMemberCount === 6)\n            return SaccharideShape.HexagonalPrism;\n        else if (ringMemberCount === 7)\n            return SaccharideShape.HeptagonalPrism;\n        else\n            return SaccharideShape.FlatHexagon;\n    }\n    else {\n        return SaccharideTypeShapeMap[type];\n    }\n}\nexport var UnknownSaccharideComponent = {\n    abbr: 'Unk',\n    name: 'Unknown',\n    color: SaccharideColors.Secondary,\n    type: SaccharideType.Unknown\n};\nvar Monosaccharides = [\n    { abbr: 'Glc', name: 'Glucose', color: SaccharideColors.Blue, type: SaccharideType.Hexose },\n    { abbr: 'Man', name: 'Mannose', color: SaccharideColors.Green, type: SaccharideType.Hexose },\n    { abbr: 'Gal', name: 'Galactose', color: SaccharideColors.Yellow, type: SaccharideType.Hexose },\n    { abbr: 'Gul', name: 'Gulose', color: SaccharideColors.Orange, type: SaccharideType.Hexose },\n    { abbr: 'Alt', name: 'Altrose', color: SaccharideColors.Pink, type: SaccharideType.Hexose },\n    { abbr: 'All', name: 'Allose', color: SaccharideColors.Purple, type: SaccharideType.Hexose },\n    { abbr: 'Tal', name: 'Talose', color: SaccharideColors.LightBlue, type: SaccharideType.Hexose },\n    { abbr: 'Ido', name: 'Idose', color: SaccharideColors.Brown, type: SaccharideType.Hexose },\n    { abbr: 'GlcNAc', name: 'N-Acetyl Glucosamine', color: SaccharideColors.Blue, type: SaccharideType.HexNAc },\n    { abbr: 'ManNAc', name: 'N-Acetyl Mannosamine', color: SaccharideColors.Green, type: SaccharideType.HexNAc },\n    { abbr: 'GalNAc', name: 'N-Acetyl Galactosamine', color: SaccharideColors.Yellow, type: SaccharideType.HexNAc },\n    { abbr: 'GulNAc', name: 'N-Acetyl Gulosamine', color: SaccharideColors.Orange, type: SaccharideType.HexNAc },\n    { abbr: 'AltNAc', name: 'N-Acetyl Altrosamine', color: SaccharideColors.Pink, type: SaccharideType.HexNAc },\n    { abbr: 'AllNAc', name: 'N-Acetyl Allosamine', color: SaccharideColors.Purple, type: SaccharideType.HexNAc },\n    { abbr: 'TalNAc', name: 'N-Acetyl Talosamine', color: SaccharideColors.LightBlue, type: SaccharideType.HexNAc },\n    { abbr: 'IdoNAc', name: 'N-Acetyl Idosamine', color: SaccharideColors.Brown, type: SaccharideType.HexNAc },\n    { abbr: 'GlcN', name: 'Glucosamine', color: SaccharideColors.Blue, type: SaccharideType.Hexosamine },\n    { abbr: 'ManN', name: 'Mannosamine', color: SaccharideColors.Green, type: SaccharideType.Hexosamine },\n    { abbr: 'GalN', name: 'Galactosamine', color: SaccharideColors.Yellow, type: SaccharideType.Hexosamine },\n    { abbr: 'GulN', name: 'Gulosamine', color: SaccharideColors.Orange, type: SaccharideType.Hexosamine },\n    { abbr: 'AltN', name: 'Altrosamine', color: SaccharideColors.Pink, type: SaccharideType.Hexosamine },\n    { abbr: 'AllN', name: 'Allosamine', color: SaccharideColors.Purple, type: SaccharideType.Hexosamine },\n    { abbr: 'TalN', name: 'Talosamine', color: SaccharideColors.LightBlue, type: SaccharideType.Hexosamine },\n    { abbr: 'IdoN', name: 'Idosamine', color: SaccharideColors.Brown, type: SaccharideType.Hexosamine },\n    { abbr: 'GlcA', name: 'Glucuronic Acid', color: SaccharideColors.Blue, type: SaccharideType.Hexuronate },\n    { abbr: 'ManA', name: 'Mannuronic Acid', color: SaccharideColors.Green, type: SaccharideType.Hexuronate },\n    { abbr: 'GalA', name: 'Galacturonic Acid', color: SaccharideColors.Yellow, type: SaccharideType.Hexuronate },\n    { abbr: 'GulA', name: 'Guluronic Acid', color: SaccharideColors.Orange, type: SaccharideType.Hexuronate },\n    { abbr: 'AltA', name: 'Altruronic Acid', color: SaccharideColors.Pink, type: SaccharideType.Hexuronate },\n    { abbr: 'AllA', name: 'Alluronic Acid', color: SaccharideColors.Purple, type: SaccharideType.Hexuronate },\n    { abbr: 'TalA', name: 'Taluronic Acid', color: SaccharideColors.LightBlue, type: SaccharideType.Hexuronate },\n    { abbr: 'IdoA', name: 'Iduronic Acid', color: SaccharideColors.Brown, type: SaccharideType.Hexuronate },\n    { abbr: 'Qui', name: 'Quinovose', color: SaccharideColors.Blue, type: SaccharideType.Deoxyhexose },\n    { abbr: 'Rha', name: 'Rhamnose', color: SaccharideColors.Green, type: SaccharideType.Deoxyhexose },\n    { abbr: '6dGul', name: '6-Deoxy Gulose', color: SaccharideColors.Orange, type: SaccharideType.Deoxyhexose },\n    { abbr: '6dAlt', name: '6-Deoxy Altrose', color: SaccharideColors.Pink, type: SaccharideType.Deoxyhexose },\n    { abbr: '6dTal', name: '6-Deoxy Talose', color: SaccharideColors.LightBlue, type: SaccharideType.Deoxyhexose },\n    { abbr: 'Fuc', name: 'Fucose', color: SaccharideColors.Red, type: SaccharideType.Deoxyhexose },\n    { abbr: 'QuiNAc', name: 'N-Acetyl Quinovosamine', color: SaccharideColors.Blue, type: SaccharideType.DeoxyhexNAc },\n    { abbr: 'RhaNAc', name: 'N-Acetyl Rhamnosamine', color: SaccharideColors.Green, type: SaccharideType.DeoxyhexNAc },\n    { abbr: '6dAltNAc', name: 'N-Acetyl 6-Deoxy Altrosamine', color: SaccharideColors.Pink, type: SaccharideType.DeoxyhexNAc },\n    { abbr: '6dTalNAc', name: 'N-Acetyl 6-Deoxy Talosamine', color: SaccharideColors.LightBlue, type: SaccharideType.DeoxyhexNAc },\n    { abbr: 'FucNAc', name: 'N-Acetyl Fucosamine', color: SaccharideColors.Red, type: SaccharideType.DeoxyhexNAc },\n    { abbr: 'Oli', name: 'Olivose', color: SaccharideColors.Blue, type: SaccharideType.DiDeoxyhexose },\n    { abbr: 'Tyv', name: 'Tyvelose', color: SaccharideColors.Green, type: SaccharideType.DiDeoxyhexose },\n    { abbr: 'Abe', name: 'Abequose', color: SaccharideColors.Orange, type: SaccharideType.DiDeoxyhexose },\n    { abbr: 'Par', name: 'Paratose', color: SaccharideColors.Pink, type: SaccharideType.DiDeoxyhexose },\n    { abbr: 'Dig', name: 'Digitoxose', color: SaccharideColors.Purple, type: SaccharideType.DiDeoxyhexose },\n    { abbr: 'Col', name: 'Colitose', color: SaccharideColors.LightBlue, type: SaccharideType.DiDeoxyhexose },\n    { abbr: 'Ara', name: 'Arabinose', color: SaccharideColors.Green, type: SaccharideType.Pentose },\n    { abbr: 'Lyx', name: 'Lyxose', color: SaccharideColors.Yellow, type: SaccharideType.Pentose },\n    { abbr: 'Xyl', name: 'Xylose', color: SaccharideColors.Orange, type: SaccharideType.Pentose },\n    { abbr: 'Rib', name: 'Ribose', color: SaccharideColors.Pink, type: SaccharideType.Pentose },\n    { abbr: 'Kdn', name: 'Keto-Deoxy Nonulonic Acid', color: SaccharideColors.Green, type: SaccharideType.Deoxynonulosonate },\n    { abbr: 'Neu5Ac', name: 'N-Acetyl Neuraminic Acid', color: SaccharideColors.Purple, type: SaccharideType.Deoxynonulosonate },\n    { abbr: 'Neu5Gc', name: 'N-Glycolyl Neuraminic Acid', color: SaccharideColors.LightBlue, type: SaccharideType.Deoxynonulosonate },\n    { abbr: 'Neu', name: 'Neuraminic Acid', color: SaccharideColors.Brown, type: SaccharideType.Deoxynonulosonate },\n    { abbr: 'Sia', name: 'Sialic acid', color: SaccharideColors.Red, type: SaccharideType.Deoxynonulosonate },\n    { abbr: 'Pse', name: 'Pseudaminic Acid', color: SaccharideColors.Green, type: SaccharideType.DiDeoxynonulosonate },\n    { abbr: 'Leg', name: 'Legionaminic Acid', color: SaccharideColors.Yellow, type: SaccharideType.DiDeoxynonulosonate },\n    { abbr: 'Aci', name: 'Acinetaminic Acid', color: SaccharideColors.Pink, type: SaccharideType.DiDeoxynonulosonate },\n    { abbr: '4eLeg', name: '4-Epilegionaminic Acid', color: SaccharideColors.LightBlue, type: SaccharideType.DiDeoxynonulosonate },\n    { abbr: 'Bac', name: 'Bacillosamine', color: SaccharideColors.Blue, type: SaccharideType.Unknown },\n    { abbr: 'LDmanHep', name: 'L-Glycero-D-Manno Heptose', color: SaccharideColors.Green, type: SaccharideType.Unknown },\n    { abbr: 'Kdo', name: 'Keto-Deoxy Octulonic Acid', color: SaccharideColors.Yellow, type: SaccharideType.Unknown },\n    { abbr: 'Dha', name: '3-Deoxy Lyxo-Heptulosaric Acid', color: SaccharideColors.Orange, type: SaccharideType.Unknown },\n    { abbr: 'DDmanHep', name: 'D-Glycero-D-Manno-Heptose', color: SaccharideColors.Pink, type: SaccharideType.Unknown },\n    { abbr: 'MurNAc', name: 'N-Acetyl Muramic Acid', color: SaccharideColors.Purple, type: SaccharideType.Unknown },\n    { abbr: 'MurNGc', name: 'N-Glycolyl Muramic Acid', color: SaccharideColors.LightBlue, type: SaccharideType.Unknown },\n    { abbr: 'Mur', name: 'Muramic Acid', color: SaccharideColors.Brown, type: SaccharideType.Unknown },\n    { abbr: 'Api', name: 'Apicose', color: SaccharideColors.Green, type: SaccharideType.Assigned },\n    { abbr: 'Fru', name: 'Fructose', color: SaccharideColors.Green, type: SaccharideType.Assigned },\n    { abbr: 'Tag', name: 'Tagatose', color: SaccharideColors.Yellow, type: SaccharideType.Assigned },\n    { abbr: 'Sor', name: 'Sorbose', color: SaccharideColors.Orange, type: SaccharideType.Assigned },\n    { abbr: 'Psi', name: 'Psicose', color: SaccharideColors.Pink, type: SaccharideType.Assigned },\n];\nexport var SaccharidesSnfgMap = (function () {\n    var map = new Map();\n    for (var i = 0, il = Monosaccharides.length; i < il; ++i) {\n        var saccharide = Monosaccharides[i];\n        map.set(saccharide.abbr, saccharide);\n    }\n    return map;\n})();\nexport var MonosaccharidesColorTable = [\n    ['Glc-family', SaccharideColors.Blue],\n    ['Man-family', SaccharideColors.Green],\n    ['Gal-family', SaccharideColors.Yellow],\n    ['Gul-family', SaccharideColors.Orange],\n    ['Alt-family', SaccharideColors.Pink],\n    ['All-family', SaccharideColors.Purple],\n    ['Tal-family', SaccharideColors.LightBlue],\n    ['Ido-family', SaccharideColors.Brown],\n    ['Fuc-family', SaccharideColors.Red],\n    ['Generic/Unknown/Secondary', SaccharideColors.Secondary],\n];\nvar CommonSaccharideNames = {\n    // Hexose\n    Glc: [\n        'GLC', 'BGC', 'Z8T',\n        'TRE',\n        'MLR', // tri-saccharide but homomer\n    ],\n    Man: ['MAN', 'BMA'],\n    Gal: ['GLA', 'GAL', 'GZL', 'GXL', 'GIV'],\n    Gul: ['4GL', 'GL0', 'GUP', 'Z8H'],\n    Alt: ['Z6H', '3MK', 'SHD'],\n    All: ['AFD', 'ALL', 'WOO', 'Z2D'],\n    Tal: ['ZEE', 'A5C', 'SDY'],\n    Ido: ['ZCD', 'Z0F', '4N2'],\n    // HexNAc\n    GlcNAc: ['NDG', 'NAG', 'NGZ'],\n    ManNAc: ['BM3', 'BM7'],\n    GalNAc: ['A2G', 'NGA', 'YYQ'],\n    GulNAc: ['LXB'],\n    AltNAc: [],\n    AllNAc: ['NAA'],\n    TalNAc: [],\n    IdoNAc: ['LXZ', 'HSQ'],\n    // Hexosamine\n    GlcN: ['PA1', 'GCS'],\n    ManN: ['95Z'],\n    GalN: ['X6X', '1GN'],\n    GulN: [],\n    AltN: [],\n    AllN: [],\n    TalN: [],\n    IdoN: [],\n    // Hexuronate\n    GlcA: ['GCU', 'BDP'],\n    ManA: ['MAV', 'BEM'],\n    GalA: ['ADA', 'GTR', 'GTK'],\n    GulA: ['LGU'],\n    AltA: [],\n    AllA: [],\n    TalA: ['X1X', 'X0X'],\n    IdoA: ['IDR'],\n    // Deoxyhexose\n    Qui: ['G6D', 'YYK'],\n    Rha: ['RAM', 'RM4', 'XXR'],\n    '6dGul': ['66O'],\n    '6dAlt': [],\n    '6dTal': [],\n    Fuc: ['FUC', 'FUL', 'FCA', 'FCB', 'GYE'],\n    // DeoxyhexNAc\n    QuiNAc: ['Z9W'],\n    RhaNAc: [],\n    '6dAltNAc': [],\n    '6dTalNAc': [],\n    FucNAc: ['49T'],\n    // Di-deoxyhexose\n    Oli: ['DDA', 'RAE', 'Z5J'],\n    Tyv: ['TYV'],\n    Abe: ['ABE'],\n    Par: ['PZU'],\n    Dig: ['Z3U'],\n    Col: [],\n    // Pentose\n    Ara: ['64K', 'ARA', 'ARB', 'AHR', 'FUB', 'BXY', 'BXX', 'SEJ'],\n    Lyx: ['LDY', 'Z4W'],\n    Xyl: ['XYS', 'XYP', 'XYZ', 'HSY', 'LXC'],\n    Rib: ['YYM', 'RIP', 'RIB', 'BDR', '0MK', 'Z6J', '32O'],\n    // Deoxynonulosonate\n    Kdn: ['KDM', 'KDN'],\n    Neu5Ac: ['SIA', 'SLB'],\n    Neu5Gc: ['NGC', 'NGE'],\n    Neu: [],\n    Sia: [],\n    // Di-deoxynonulosonate\n    Pse: [],\n    Leg: [],\n    Aci: [],\n    '4eLeg': [],\n    // Unknown\n    Bac: [],\n    LDmanHep: ['GMH'],\n    Kdo: ['KDO'],\n    Dha: [],\n    DDmanHep: ['289'],\n    MurNAc: ['MUB', 'AMU'],\n    MurNGc: [],\n    Mur: ['1S4', 'MUR'],\n    // Assigned\n    Api: ['XXM'],\n    Fru: ['BDF', 'Z9N', 'FRU', 'LFR'],\n    Tag: ['T6T'],\n    Sor: ['SOE', 'UEA'],\n    Psi: ['PSV', 'SF6', 'SF9', 'TTV'],\n};\n/**\n * From http://glycam.org/docs/othertoolsservice/2016/06/09/3d-snfg-list-of-residue-names/#CHARMM\n */\nvar CharmmSaccharideNames = {\n    Glc: ['AGLC', 'BGLC'],\n    GlcNAc: ['AGLCNA', 'BGLCNA', 'BGLCN0'],\n    GlcA: ['AGLCA', 'BGLCA', 'BGLCA0'],\n    Man: ['AMAN', 'BMAN'],\n    Rha: ['ARHM', 'BRHM'],\n    Ara: ['AARB', 'BARB'],\n    Gal: ['AGAL', 'BGAL'],\n    GalNAc: ['AGALNA', 'BGALNA'],\n    Gul: ['AGUL', 'BGUL'],\n    Alt: ['AALT', 'BALT'],\n    All: ['AALL', 'BALL'],\n    Tal: ['ATAL', 'BTAL'],\n    Ido: ['AIDO', 'BIDO'],\n    IdoA: ['AIDOA', 'BIDOA'],\n    Fuc: ['AFUC', 'BFUC'],\n    Lyx: ['ALYF', 'BLYF'],\n    Xyl: ['AXYL', 'BXYL', 'AXYF', 'BXYF'],\n    Rib: ['ARIB', 'BRIB'],\n    Fru: ['AFRU', 'BFRU'],\n    Neu5Ac: ['ANE5AC', 'BNE5AC'],\n};\n/**\n * From http://glycam.org/docs/othertoolsservice/2016/06/09/3d-snfg-list-of-residue-names/#GLYCAM\n */\nvar GlycamSaccharideNames = {\n    Glc: ['0GA', '0GB', '1GA', '1GB', '2GA', '2GB', '3GA', '3GB', '4GA', '4GB', '6GA', '6GB', 'ZGA', 'ZGB', 'YGA', 'YGB', 'XGA', 'XGB', 'WGA', 'WGB', 'VGA', 'VGB', 'UGA', 'UGB', 'TGA', 'TGB', 'SGA', 'SGB', 'RGA', 'RGB', 'QGA', 'QGB', 'PGA', 'PGB', '0gA', '0gB', '1gA', '1gB', '2gA', '2gB', '3gA', '3gB', '4gA', '4gB', '6gA', '6gB', 'ZgA', 'ZgB', 'YgA', 'YgB', 'XgA', 'XgB', 'WgA', 'WgB', 'VgA', 'VgB', 'UgA', 'UgB', 'TgA', 'TgB', 'SgA', 'SgB', 'RgA', 'RgB', 'QgA', 'QgB', 'PgA', 'PgB'],\n    GlcNAc: ['0YA', '0YB', '1YA', '1YB', '3YA', '3YB', '4YA', '4YB', '6YA', '6YB', 'WYA', 'WYB', 'VYA', 'VYB', 'UYA', 'UYB', 'QYA', 'QYB', '0yA', '0yB', '1yA', '1yB', '3yA', '3yB', '4yA', '4yB', '6yA', '6yB', 'WyA', 'WyB', 'VyA', 'VyB', 'UyA', 'UyB', 'QyA', 'QyB', '0YS', '0Ys', '3YS', '3Ys', '4YS', '4Ys', '6YS', '6Ys', 'QYS', 'QYs', 'UYS', 'UYs', 'VYS', 'VYs', 'WYS', 'WYs', '0yS', '0ys', '3yS', '3ys', '4yS', '4ys'],\n    GlcA: ['0ZA', '0ZB', '1ZA', '1ZB', '2ZA', '2ZB', '3ZA', '3ZB', '4ZA', '4ZB', 'ZZA', 'ZZB', 'YZA', 'YZB', 'WZA', 'WZB', 'TZA', 'TZB', '0zA', '0zB', '1zA', '1zB', '2zA', '2zB', '3zA', '3zB', '4zA', '4zB', 'ZzA', 'ZzB', 'YzA', 'YzB', 'WzA', 'WzB', 'TzA', 'TzB', '0ZBP'],\n    GlcN: ['0YN', '3YN', '4YN', '6YN', 'WYN', 'VYN', 'UYN', 'QYN', '3Yn', '4Yn', 'WYn', '0Yn', '0YP', '3YP', '4YP', '6YP', 'WYP', 'VYP', 'UYP', 'QYP', '0Yp', '3Yp', '4Yp', 'WYp'],\n    Man: ['0MA', '0MB', '1MA', '1MB', '2MA', '2MB', '3MA', '3MB', '4MA', '4MB', '6MA', '6MB', 'ZMA', 'ZMB', 'YMA', 'YMB', 'XMA', 'XMB', 'WMA', 'WMB', 'VMA', 'VMB', 'UMA', 'UMB', 'TMA', 'TMB', 'SMA', 'SMB', 'RMA', 'RMB', 'QMA', 'QMB', 'PMA', 'PMB', '0mA', '0mB', '1mA', '1mB', '2mA', '2mB', '3mA', '3mB', '4mA', '4mB', '6mA', '6mB', 'ZmA', 'ZmB', 'YmA', 'YmB', 'XmA', 'XmB', 'WmA', 'WmB', 'VmA', 'VmB', 'UmA', 'UmB', 'TmA', 'TmB', 'SmA', 'SmB', 'RmA', 'RmB', 'QmA', 'QmB', 'PmA', 'PmB'],\n    ManNAc: ['0WA', '0WB', '1WA', '1WB', '3WA', '3WB', '4WA', '4WB', '6WA', '6WB', 'WWA', 'WWB', 'VWA', 'VWB', 'UWA', 'UWB', 'QWA', 'QWB', '0wA', '0wB', '1wA', '1wB', '3wA', '3wB', '4wA', '4wB', '6wA', '6wB', 'WwA', 'WwB', 'VwA', 'VwB', 'UwA', 'UwB', 'QwA', 'QwB'],\n    Ara: ['0AA', '0AB', '1AA', '1AB', '2AA', '2AB', '3AA', '3AB', '4AA', '4AB', 'ZAA', 'ZAB', 'YAA', 'YAB', 'WAA', 'WAB', 'TAA', 'TAB', '0AD', '0AU', '1AD', '1AU', '2AD', '2AU', '3AD', '3AU', '5AD', '5AU', 'ZAD', 'ZAU', '0aA', '0aB', '1aA', '1aB', '2aA', '2aB', '3aA', '3aB', '4aA', '4aB', 'ZaA', 'ZaB', 'YaA', 'YaB', 'WaA', 'WaB', 'TaA', 'TaB', '0aD', '0aU', '1aD', '1aU', '2aD', '2aU', '3aD', '3aU', '5aD', '5aU', 'ZaD', 'ZaU'],\n    Gal: ['0LA', '0LB', '1LA', '1LB', '2LA', '2LB', '3LA', '3LB', '4LA', '4LB', '6LA', '6LB', 'ZLA', 'ZLB', 'YLA', 'YLB', 'XLA', 'XLB', 'WLA', 'WLB', 'VLA', 'VLB', 'ULA', 'ULB', 'TLA', 'TLB', 'SLA', 'SLB', 'RLA', 'RLB', 'QLA', 'QLB', 'PLA', 'PLB', '0lA', '0lB', '1lA', '1lB', '2lA', '2lB', '3lA', '3lB', '4lA', '4lB', '6lA', '6lB', 'ZlA', 'ZlB', 'YlA', 'YlB', 'XlA', 'XlB', 'WlA', 'WlB', 'VlA', 'VlB', 'UlA', 'UlB', 'TlA', 'TlB', 'SlA', 'SlB', 'RlA', 'RlB', 'QlA', 'QlB', 'PlA', 'PlB'],\n    GalNAc: ['0VA', '0VB', '1VA', '1VB', '3VA', '3VB', '4VA', '4VB', '6VA', '6VB', 'WVA', 'WVB', 'VVA', 'VVB', 'UVA', 'UVB', 'QVA', 'QVB', '0vA', '0vB', '1vA', '1vB', '3vA', '3vB', '4vA', '4vB', '6vA', '6vB', 'WvA', 'WvB', 'VvA', 'VvB', 'UvA', 'UvB', 'QvA', 'QvB'],\n    GalA: ['0OA', '0OB', '1OA', '1OB', '2OA', '2OB', '3OA', '3OB', '4OA', '4OB', 'ZOA', 'ZOB', 'YOA', 'YOB', 'WOA', 'WOB', 'TOA', 'TOB', '0oA', '0oB', '1oA', '1oB', '2oA', '2oB', '3oA', '3oB', '4oA', '4oB', 'ZoA', 'ZoB', 'YoA', 'YoB', 'WoA', 'WoB', 'ToA', 'ToB'],\n    Gul: ['0KA', '0KB', '1KA', '1KB', '2KA', '2KB', '3KA', '3KB', '4KA', '4KB', '6KA', '6KB', 'ZKA', 'ZKB', 'YKA', 'YKB', 'XKA', 'XKB', 'WKA', 'WKB', 'VKA', 'VKB', 'UKA', 'UKB', 'TKA', 'TKB', 'SKA', 'SKB', 'RKA', 'RKB', 'QKA', 'QKB', 'PKA', 'PKB', '0kA', '0kB', '1kA', '1kB', '2kA', '2kB', '3kA', '3kB', '4kA', '4kB', '6kA', '6kB', 'ZkA', 'ZkB', 'YkA', 'YkB', 'XkA', 'XkB', 'WkA', 'WkB', 'VkA', 'VkB', 'UkA', 'UkB', 'TkA', 'TkB', 'SkA', 'SkB', 'RkA', 'RkB', 'QkA', 'QkB', 'PkA', 'PkB'],\n    Alt: ['0EA', '0EB', '1EA', '1EB', '2EA', '2EB', '3EA', '3EB', '4EA', '4EB', '6EA', '6EB', 'ZEA', 'ZEB', 'YEA', 'YEB', 'XEA', 'XEB', 'WEA', 'WEB', 'VEA', 'VEB', 'UEA', 'UEB', 'TEA', 'TEB', 'SEA', 'SEB', 'REA', 'REB', 'QEA', 'QEB', 'PEA', 'PEB', '0eA', '0eB', '1eA', '1eB', '2eA', '2eB', '3eA', '3eB', '4eA', '4eB', '6eA', '6eB', 'ZeA', 'ZeB', 'YeA', 'YeB', 'XeA', 'XeB', 'WeA', 'WeB', 'VeA', 'VeB', 'UeA', 'UeB', 'TeA', 'TeB', 'SeA', 'SeB', 'ReA', 'ReB', 'QeA', 'QeB', 'PeA', 'PeB'],\n    All: ['0NA', '0NB', '1NA', '1NB', '2NA', '2NB', '3NA', '3NB', '4NA', '4NB', '6NA', '6NB', 'ZNA', 'ZNB', 'YNA', 'YNB', 'XNA', 'XNB', 'WNA', 'WNB', 'VNA', 'VNB', 'UNA', 'UNB', 'TNA', 'TNB', 'SNA', 'SNB', 'RNA', 'RNB', 'QNA', 'QNB', 'PNA', 'PNB', '0nA', '0nB', '1nA', '1nB', '2nA', '2nB', '3nA', '3nB', '4nA', '4nB', '6nA', '6nB', 'ZnA', 'ZnB', 'YnA', 'YnB', 'XnA', 'XnB', 'WnA', 'WnB', 'VnA', 'VnB', 'UnA', 'UnB', 'TnA', 'TnB', 'SnA', 'SnB', 'RnA', 'RnB', 'QnA', 'QnB', 'PnA', 'PnB'],\n    Tal: ['0TA', '0TB', '1TA', '1TB', '2TA', '2TB', '3TA', '3TB', '4TA', '4TB', '6TA', '6TB', 'ZTA', 'ZTB', 'YTA', 'YTB', 'XTA', 'XTB', 'WTA', 'WTB', 'VTA', 'VTB', 'UTA', 'UTB', 'TTA', 'TTB', 'STA', 'STB', 'RTA', 'RTB', 'QTA', 'QTB', 'PTA', 'PTB', '0tA', '0tB', '1tA', '1tB', '2tA', '2tB', '3tA', '3tB', '4tA', '4tB', '6tA', '6tB', 'ZtA', 'ZtB', 'YtA', 'YtB', 'XtA', 'XtB', 'WtA', 'WtB', 'VtA', 'VtB', 'UtA', 'UtB', 'TtA', 'TtB', 'StA', 'StB', 'RtA', 'RtB', 'QtA', 'QtB', 'PtA', 'PtB'],\n    Ido: ['0IA', '0IB', '1IA', '1IB', '2IA', '2IB', '3IA', '3IB', '4IA', '4IB', '6IA', '6IB', 'ZIA', 'ZIB', 'YIA', 'YIB', 'XIA', 'XIB', 'WIA', 'WIB', 'VIA', 'VIB', 'UIA', 'UIB', 'TIA', 'TIB', 'SIA', 'SIB', 'RIA', 'RIB', 'QIA', 'QIB', 'PIA', 'PIB', '0iA', '0iB', '1iA', '1iB', '2iA', '2iB', '3iA', '3iB', '4iA', '4iB', '6iA', '6iB', 'ZiA', 'ZiB', 'YiA', 'YiB', 'XiA', 'XiB', 'WiA', 'WiB', 'ViA', 'ViB', 'UiA', 'UiB', 'TiA', 'TiB', 'SiA', 'SiB', 'RiA', 'RiB', 'QiA', 'QiB', 'PiA', 'PiB'],\n    IdoA: ['0UA', '0UB', '1UA', '1UB', '2UA', '2UB', '3UA', '3UB', '4UA', '4UB', 'ZUA', 'ZUB', 'YUA', 'YUB', 'WUA', 'WUB', 'TUA', 'TUB', '0uA', '0uB', '1uA', '1uB', '2uA', '2uB', '3uA', '3uB', '4uA', '4uB', 'ZuA', 'ZuB', 'YuA', 'YuB', 'WuA', 'WuB', 'TuA', 'TuB', 'YuAP'],\n    Fuc: ['0FA', '0FB', '1FA', '1FB', '2FA', '2FB', '3FA', '3FB', '4FA', '4FB', 'ZFA', 'ZFB', 'YFA', 'YFB', 'WFA', 'WFB', 'TFA', 'TFB', '0fA', '0fB', '1fA', '1fB', '2fA', '2fB', '3fA', '3fB', '4fA', '4fB', 'ZfA', 'ZfB', 'YfA', 'YfB', 'WfA', 'WfB', 'TfA', 'TfB'],\n    Rha: ['0HA', '0HB', '1HA', '1HB', '2HA', '2HB', '3HA', '3HB', '4HA', '4HB', 'ZHA', 'ZHB', 'YHA', 'YHB', 'WHA', 'WHB', 'THA', 'THB', '0hA', '0hB', '1hA', '1hB', '2hA', '2hB', '3hA', '3hB', '4hA', '4hB', 'ZhA', 'ZhB', 'YhA', 'YhB', 'WhA', 'WhB', 'ThA', 'ThB'],\n    Qui: ['0QA', '0QB', '1QA', '1QB', '2QA', '2QB', '3QA', '3QB', '4QA', '4QB', 'ZQA', 'ZQB', 'YQA', 'YQB', 'WQA', 'WQB', 'TQA', 'TQB', '0qA', '0qB', '1qA', '1qB', '2qA', '2qB', '3qA', '3qB', '4qA', '4qB', 'ZqA', 'ZqB', 'YqA', 'YqB', 'WqA', 'WqB', 'TqA', 'TqB'],\n    Lyx: ['0DA', '0DB', '1DA', '1DB', '2DA', '2DB', '3DA', '3DB', '4DA', '4DB', 'ZDA', 'ZDB', 'YDA', 'YDB', 'WDA', 'WDB', 'TDA', 'TDB', '0DD', '0DU', '1DD', '1DU', '2DD', '2DU', '3DD', '3DU', '5DD', '5DU', 'ZDD', 'ZDU', '0dA', '0dB', '1dA', '1dB', '2dA', '2dB', '3dA', '3dB', '4dA', '4dB', 'ZdA', 'ZdB', 'YdA', 'YdB', 'WdA', 'WdB', 'TdA', 'TdB', '0dD', '0dU', '1dD', '1dU', '2dD', '2dU', '3dD', '3dU', '5dD', '5dU', 'ZdD', 'ZdU'],\n    Xyl: ['0XA', '0XB', '1XA', '1XB', '2XA', '2XB', '3XA', '3XB', '4XA', '4XB', 'ZXA', 'ZXB', 'YXA', 'YXB', 'WXA', 'WXB', 'TXA', 'TXB', '0XD', '0XU', '1XD', '1XU', '2XD', '2XU', '3XD', '3XU', '5XD', '5XU', 'ZXD', 'ZXU', '0xA', '0xB', '1xA', '1xB', '2xA', '2xB', '3xA', '3xB', '4xA', '4xB', 'ZxA', 'ZxB', 'YxA', 'YxB', 'WxA', 'WxB', 'TxA', 'TxB', '0xD', '0xU', '1xD', '1xU', '2xD', '2xU', '3xD', '3xU', '5xD', '5xU', 'ZxD', 'ZxU'],\n    Rib: ['0RA', '0RB', '1RA', '1RB', '2RA', '2RB', '3RA', '3RB', '4RA', '4RB', 'ZRA', 'ZRB', 'YRA', 'YRB', 'WRA', 'WRB', 'TRA', 'TRB', '0RD', '0RU', '1RD', '1RU', '2RD', '2RU', '3RD', '3RU', '5RD', '5RU', 'ZRD', 'ZRU', '0rA', '0rB', '1rA', '1rB', '2rA', '2rB', '3rA', '3rB', '4rA', '4rB', 'ZrA', 'ZrB', 'YrA', 'YrB', 'WrA', 'WrB', 'TrA', 'TrB', '0rD', '0rU', '1rD', '1rU', '2rD', '2rU', '3rD', '3rU', '5rD', '5rU', 'ZrD', 'ZrU'],\n    Fru: ['0CA', '0CB', '1CA', '1CB', '2CA', '2CB', '3CA', '3CB', '4CA', '4CB', '5CA', '5CB', 'WCA', 'WCB', '0CD', '0CU', '1CD', '1CU', '2CD', '2CU', '3CD', '3CU', '4CD', '4CU', '6CD', '6CU', 'WCD', 'WCU', 'VCD', 'VCU', 'UCD', 'UCU', 'QCD', 'QCU', '0cA', '0cB', '1cA', '1cB', '2cA', '2cB', '3cA', '3cB', '4cA', '4cB', '5cA', '5cB', 'WcA', 'WcB', '0cD', '0cU', '1cD', '1cU', '2cD', '2cU', '3cD', '3cU', '4cD', '4cU', '6cD', '6cU', 'WcD', 'WcU', 'VcD', 'VcU', 'UcD', 'UcU', 'QcD', 'QcU'],\n    Tag: ['0JA', '0JB', '1JA', '1JB', '2JA', '2JB', '3JA', '3JB', '4JA', '4JB', '5JA', '5JB', 'WJA', 'WJB', '0JD', '0JU', '1JD', '1JU', '2JD', '2JU', '3JD', '3JU', '4JD', '4JU', '6JD', '6JU', 'WJD', 'WJU', 'VJD', 'VJU', 'UJD', 'UJU', 'QJD', 'QJU', '0jA', '0jB', '1jA', '1jB', '2jA', '2jB', '3jA', '3jB', '4jA', '4jB', '5jA', '5jB', 'WjA', 'WjB', '0jD', '0jU', '1jD', '1jU', '2jD', '2jU', '3jD', '3jU', '4jD', '4jU', '6jD', '6jU', 'WjD', 'WjU', 'VjD', 'VjU', 'UjD', 'UjU', 'QjD', 'QjU'],\n    Sor: ['0BA', '0BB', '1BA', '1BB', '2BA', '2BB', '3BA', '3BB', '4BA', '4BB', '5BA', '5BB', 'WBA', 'WBB', '0BD', '0BU', '1BD', '1BU', '2BD', '2BU', '3BD', '3BU', '4BD', '4BU', '6BD', '6BU', 'WBD', 'WBU', 'VBD', 'VBU', 'UBD', 'UBU', 'QBD', 'QBU', '0bA', '0bB', '1bA', '1bB', '2bA', '2bB', '3bA', '3bB', '4bA', '4bB', '5bA', '5bB', 'WbA', 'WbB', '0bD', '0bU', '1bD', '1bU', '2bD', '2bU', '3bD', '3bU', '4bD', '4bU', '6bD', '6bU', 'WbD', 'WbU', 'VbD', 'VbU', 'UbD', 'UbU', 'QbD', 'QbU'],\n    Psi: ['0PA', '0PB', '1PA', '1PB', '2PA', '2PB', '3PA', '3PB', '4PA', '4PB', '5PA', '5PB', 'WPA', 'WPB', '0PD', '0PU', '1PD', '1PU', '2PD', '2PU', '3PD', '3PU', '4PD', '4PU', '6PD', '6PU', 'WPD', 'WPU', 'VPD', 'VPU', 'UPD', 'UPU', 'QPD', 'QPU', '0pA', '0pB', '1pA', '1pB', '2pA', '2pB', '3pA', '3pB', '4pA', '4pB', '5pA', '5pB', 'WpA', 'WpB', '0pD', '0pU', '1pD', '1pU', '2pD', '2pU', '3pD', '3pU', '4pD', '4pU', '6pD', '6pU', 'WpD', 'WpU', 'VpD', 'VpU', 'UpD', 'UpU', 'QpD', 'QpU'],\n    Neu5Ac: ['0SA', '0SB', '4SA', '4SB', '7SA', '7SB', '8SA', '8SB', '9SA', '9SB', 'ASA', 'ASB', 'BSA', 'BSB', 'CSA', 'CSB', 'DSA', 'DSB', 'ESA', 'ESB', 'FSA', 'FSB', 'GSA', 'GSB', 'HSA', 'HSB', 'ISA', 'ISB', 'JSA', 'JSB', 'KSA', 'KSB', '0sA', '0sB', '4sA', '4sB', '7sA', '7sB', '8sA', '8sB', '9sA', '9sB', 'AsA', 'AsB', 'BsA', 'BsB', 'CsA', 'CsB', 'DsA', 'DsB', 'EsA', 'EsB', 'FsA', 'FsB', 'GsA', 'GsB', 'HsA', 'HsB', 'IsA', 'IsB', 'JsA', 'JsB', 'KsA', 'KsB'],\n    Neu5Gc: ['0GL', '4GL', '7GL', '8GL', '9GL', 'CGL', 'DGL', 'EGL', 'FGL', 'GGL', 'HGL', 'IGL', 'JGL', 'KGL', '0gL', '4gL', '7gL', '8gL', '9gL', 'AgL', 'BgL', 'CgL', 'DgL', 'EgL', 'FgL', 'GgL', 'HgL', 'IgL', 'JgL', 'KgL'],\n    Tyv: ['0TV', '0Tv', '1TV', '1Tv', '2TV', '2Tv', '4TV', '4Tv', 'YTV', 'YTv', '0tV', '0tv', '1tV', '1tv', '2tV', '2tv', '4tV', '4tv', 'YtV', 'Ytv'],\n    Abe: ['0AE', '2AE', '4AE', 'YGa', '0AF', '2AF', '4AF', 'YAF'],\n    Bac: ['0BC', '3BC', '0bC', '3bC'],\n    Kdn: ['0KN', '4KN', '5KN', '7KN', '8KN', '9KN', 'AKN', 'BKN', 'CKN', 'DKN', 'EKN', 'FKN', 'GKN', 'HKN', 'IKN', 'JKN', 'KKN', 'LKN', 'MKN', 'NKN', 'OKN', 'PKN', 'QKN', 'RKN', 'SKN', 'TKN', 'UKN', 'VKN', 'WKN', 'XKN', 'YKN', '0Kn', '4Kn', '5Kn', '7Kn', '8Kn', '9Kn', 'AKn', 'BKn', 'CKn', 'DKn', 'EKn', 'FKn', 'GKn', 'HKn', 'IKn', 'JKn', 'KKn', 'LKn', 'MKn', 'NKn', 'OKn', 'PKn', 'QKn', 'RKn', 'SKn', 'TKn', 'UKn', 'VKn', 'WKn', 'XKn', 'YKn'],\n    Kdo: ['0KO', '4KO', '5KO', '7KO', '8KO', 'AKO', 'BKO', 'CKO', 'DKO', 'EKO', 'FKO', 'GKO', 'HKO', 'IKO', 'JKO', 'KKO', '0Ko', '4Ko', '5Ko', '7Ko', '8Ko', 'AKo', 'BKo', 'CKo', 'DKo', 'EKo', 'FKo', 'GKo', 'HKo', 'IKo', 'JKo', 'KKo'],\n};\nvar DefaultSaccharideCompIdMap = (function () {\n    var map = new Map();\n    for (var i = 0, il = Monosaccharides.length; i < il; ++i) {\n        var saccharide = Monosaccharides[i];\n        var common = CommonSaccharideNames[saccharide.abbr];\n        if (common) {\n            for (var j = 0, jl = common.length; j < jl; ++j) {\n                map.set(common[j], saccharide);\n            }\n        }\n        var charmm = CharmmSaccharideNames[saccharide.abbr];\n        if (charmm) {\n            for (var j = 0, jl = charmm.length; j < jl; ++j) {\n                map.set(charmm[j], saccharide);\n            }\n        }\n    }\n    SaccharideNames.forEach(function (name) {\n        if (!map.has(name))\n            map.set(name, UnknownSaccharideComponent);\n    });\n    return map;\n})();\nvar GlycamSaccharideCompIdMap = (function () {\n    var map = new Map();\n    for (var i = 0, il = Monosaccharides.length; i < il; ++i) {\n        var saccharide = Monosaccharides[i];\n        var common = CommonSaccharideNames[saccharide.abbr];\n        if (common) {\n            for (var j = 0, jl = common.length; j < jl; ++j) {\n                map.set(common[j], saccharide);\n            }\n        }\n        var charmm = CharmmSaccharideNames[saccharide.abbr];\n        if (charmm) {\n            for (var j = 0, jl = charmm.length; j < jl; ++j) {\n                map.set(charmm[j], saccharide);\n            }\n        }\n        var glycam = GlycamSaccharideNames[saccharide.abbr];\n        if (glycam) {\n            for (var j = 0, jl = glycam.length; j < jl; ++j) {\n                // On collision, use PDB name as default.\n                if (!map.has(glycam[j])) {\n                    map.set(glycam[j], saccharide);\n                }\n            }\n        }\n    }\n    SaccharideNames.forEach(function (name) {\n        if (!map.has(name))\n            map.set(name, UnknownSaccharideComponent);\n    });\n    return map;\n})();\nexport function setSaccharideCompIdMapType(type) {\n    SaccharideCompIdMap = type === 'default' ? DefaultSaccharideCompIdMap : GlycamSaccharideCompIdMap;\n}\nexport var SaccharideCompIdMap = DefaultSaccharideCompIdMap;\n","/**\n * Copyright (c) 2018-2020 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\nimport { iterableToArray } from '../mol-data/util/array';\n// TODO use set@@iterator when targeting es6\nexport var SetUtils;\n(function (SetUtils) {\n    function toArray(set) {\n        return iterableToArray(set.values());\n    }\n    SetUtils.toArray = toArray;\n    /** Test if set a contains all elements of set b. */\n    function isSuperset(setA, setB) {\n        var flag = true;\n        setB.forEach(function (elem) {\n            if (!setA.has(elem))\n                flag = false;\n        });\n        return flag;\n    }\n    SetUtils.isSuperset = isSuperset;\n    /** Add all elements from `sets` to `out` */\n    function add(out) {\n        var sets = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            sets[_i - 1] = arguments[_i];\n        }\n        for (var i = 0; i < sets.length; i++) {\n            sets[i].forEach(function (elem) { return out.add(elem); });\n        }\n        return out;\n    }\n    SetUtils.add = add;\n    /** Create set containing elements of both set a and set b. */\n    function union(setA, setB) {\n        var union = new Set(setA);\n        setB.forEach(function (elem) { return union.add(elem); });\n        return union;\n    }\n    SetUtils.union = union;\n    function unionMany() {\n        var sets = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            sets[_i] = arguments[_i];\n        }\n        if (sets.length === 0)\n            return new Set();\n        if (sets.length === 1)\n            new Set(sets[0]);\n        var union = new Set(sets[0]);\n        for (var i = 1, il = sets.length; i < il; i++) {\n            sets[i].forEach(function (elem) { return union.add(elem); });\n        }\n        return union;\n    }\n    SetUtils.unionMany = unionMany;\n    function unionManyArrays(arrays) {\n        if (arrays.length === 0)\n            return new Set();\n        var union = new Set(arrays[0]);\n        for (var i = 1; i < arrays.length; i++) {\n            for (var _i = 0, _a = arrays[i]; _i < _a.length; _i++) {\n                var elem = _a[_i];\n                union.add(elem);\n            }\n        }\n        return union;\n    }\n    SetUtils.unionManyArrays = unionManyArrays;\n    /** Create set containing elements of set a that are also in set b. */\n    function intersection(setA, setB) {\n        var intersection = new Set();\n        setB.forEach(function (elem) {\n            if (setA.has(elem))\n                intersection.add(elem);\n        });\n        return intersection;\n    }\n    SetUtils.intersection = intersection;\n    function areIntersecting(setA, setB) {\n        var flag = false;\n        setB.forEach(function (elem) {\n            if (setA.has(elem))\n                flag = true;\n        });\n        return flag;\n    }\n    SetUtils.areIntersecting = areIntersecting;\n    function intersectionSize(setA, setB) {\n        var count = 0;\n        setB.forEach(function (elem) {\n            if (setA.has(elem))\n                count += 1;\n        });\n        return count;\n    }\n    SetUtils.intersectionSize = intersectionSize;\n    /** Create set containing elements of set a that are not in set b. */\n    function difference(setA, setB) {\n        var difference = new Set(setA);\n        setB.forEach(function (elem) { return difference.delete(elem); });\n        return difference;\n    }\n    SetUtils.difference = difference;\n    /** Number of elements that are in set a but not in set b. */\n    function differenceSize(setA, setB) {\n        var count = setA.size;\n        setA.forEach(function (elem) {\n            if (setB.has(elem))\n                count -= 1;\n        });\n        return count;\n    }\n    SetUtils.differenceSize = differenceSize;\n    /** Test if set a and b contain the same elements. */\n    function areEqual(setA, setB) {\n        if (setA.size !== setB.size)\n            return false;\n        var flag = true;\n        setB.forEach(function (elem) {\n            if (!setA.has(elem))\n                flag = false;\n        });\n        return flag;\n    }\n    SetUtils.areEqual = areEqual;\n})(SetUtils || (SetUtils = {}));\n","/**\n * Copyright (c) 2020 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * Code-generated lipid params file. Names extracted from Martini FF lipids itp.\n *\n * @author molstar/lipid-params cli\n */\nexport var LipidNames = new Set(['DAPC', 'DBPC', 'DFPC', 'DGPC', 'DIPC', 'DLPC', 'DNPC', 'DOPC', 'DPPC', 'DRPC', 'DTPC', 'DVPC', 'DXPC', 'DYPC', 'LPPC', 'PAPC', 'PEPC', 'PGPC', 'PIPC', 'POPC', 'PRPC', 'PUPC', 'DAPE', 'DBPE', 'DFPE', 'DGPE', 'DIPE', 'DLPE', 'DNPE', 'DOPE', 'DPPE', 'DRPE', 'DTPE', 'DUPE', 'DVPE', 'DXPE', 'DYPE', 'LPPE', 'PAPE', 'PGPE', 'PIPE', 'POPE', 'PQPE', 'PRPE', 'PUPE', 'DAPS', 'DBPS', 'DFPS', 'DGPS', 'DIPS', 'DLPS', 'DNPS', 'DOPS', 'DPPS', 'DRPS', 'DTPS', 'DUPS', 'DVPS', 'DXPS', 'DYPS', 'LPPS', 'PAPS', 'PGPS', 'PIPS', 'POPS', 'PQPS', 'PRPS', 'PUPS', 'DAPG', 'DBPG', 'DFPG', 'DGPG', 'DIPG', 'DLPG', 'DNPG', 'DOPG', 'DPPG', 'DRPG', 'DTPG', 'DVPG', 'DXPG', 'DYPG', 'LPPG', 'PAPG', 'PGPG', 'PIPG', 'POPG', 'PRPG', 'DAPA', 'DBPA', 'DFPA', 'DGPA', 'DIPA', 'DLPA', 'DNPA', 'DOPA', 'DPPA', 'DRPA', 'DTPA', 'DVPA', 'DXPA', 'DYPA', 'LPPA', 'PAPA', 'PGPA', 'PIPA', 'POPA', 'PRPA', 'PUPA', 'DPP', 'DPPI', 'PAPI', 'PIPI', 'POP', 'POPI', 'PUPI', 'PVP', 'PVPI', 'PADG', 'PIDG', 'PODG', 'PUDG', 'PVDG', 'APC', 'CPC', 'IPC', 'LPC', 'OPC', 'PPC', 'TPC', 'UPC', 'VPC', 'BNSM', 'DBSM', 'DPSM', 'DXSM', 'PGSM', 'PNSM', 'POSM', 'PVSM', 'XNSM', 'DPCE', 'DXCE', 'PNCE', 'XNCE', 'DMPC']);\n","/**\n * Copyright (c) 2017-2022 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @author David Sehnal <david.sehnal@gmail.com>\n */\nvar _a;\nimport { BitFlags } from '../../../mol-util/bit-flags';\nimport { SaccharideCompIdMap } from '../structure/carbohydrates/constants';\nimport { SetUtils } from '../../../mol-util/set';\nimport { LipidNames } from './types/lipids';\nimport { IonNames } from './types/ions';\nvar _esCache = (function () {\n    var cache = Object.create(null);\n    var letters = [];\n    for (var i = 'A'.charCodeAt(0); i <= 'Z'.charCodeAt(0); i++)\n        letters[letters.length] = String.fromCharCode(i);\n    for (var i = 'a'.charCodeAt(0); i <= 'z'.charCodeAt(0); i++)\n        letters[letters.length] = String.fromCharCode(i);\n    for (var i = '0'.charCodeAt(0); i <= '9'.charCodeAt(0); i++)\n        letters[letters.length] = String.fromCharCode(i);\n    for (var _i = 0, letters_1 = letters; _i < letters_1.length; _i++) {\n        var k = letters_1[_i];\n        cache[k] = k.toUpperCase();\n        for (var _a = 0, letters_2 = letters; _a < letters_2.length; _a++) {\n            var l = letters_2[_a];\n            cache[k + l] = (k + l).toUpperCase();\n            for (var _b = 0, letters_3 = letters; _b < letters_3.length; _b++) {\n                var m = letters_3[_b];\n                cache[k + l + m] = (k + l + m).toUpperCase();\n            }\n        }\n    }\n    return cache;\n}());\nexport function ElementSymbol(s) {\n    return _esCache[s] || s.toUpperCase();\n}\nvar _elementByAtomicNumber = new Map([[1, 'H'], [2, 'He'], [3, 'Li'], [4, 'Be'], [5, 'B'], [6, 'C'], [7, 'N'], [8, 'O'], [9, 'F'], [10, 'Ne'], [11, 'Na'], [12, 'Mg'], [13, 'Al'], [14, 'Si'], [15, 'P'], [16, 'S'], [17, 'Cl'], [18, 'Ar'], [19, 'K'], [20, 'Ca'], [21, 'Sc'], [22, 'Ti'], [23, 'V'], [24, 'Cr'], [25, 'Mn'], [26, 'Fe'], [27, 'Co'], [28, 'Ni'], [29, 'Cu'], [30, 'Zn'], [31, 'Ga'], [32, 'Ge'], [33, 'As'], [34, 'Se'], [35, 'Br'], [36, 'Kr'], [37, 'Rb'], [38, 'Sr'], [39, 'Y'], [40, 'Zr'], [41, 'Nb'], [42, 'Mo'], [43, 'Tc'], [44, 'Ru'], [45, 'Rh'], [46, 'Pd'], [47, 'Ag'], [48, 'Cd'], [49, 'In'], [50, 'Sn'], [51, 'Sb'], [52, 'Te'], [53, 'I'], [54, 'Xe'], [55, 'Cs'], [56, 'Ba'], [57, 'La'], [58, 'Ce'], [59, 'Pr'], [60, 'Nd'], [61, 'Pm'], [62, 'Sm'], [63, 'Eu'], [64, 'Gd'], [65, 'Tb'], [66, 'Dy'], [67, 'Ho'], [68, 'Er'], [69, 'Tm'], [70, 'Yb'], [71, 'Lu'], [72, 'Hf'], [73, 'Ta'], [74, 'W'], [75, 'Re'], [76, 'Os'], [77, 'Ir'], [78, 'Pt'], [79, 'Au'], [80, 'Hg'], [81, 'Tl'], [82, 'Pb'], [83, 'Bi'], [84, 'Po'], [85, 'At'], [86, 'Rn'], [87, 'Fr'], [88, 'Ra'], [89, 'Ac'], [90, 'Th'], [91, 'Pa'], [92, 'U'], [93, 'Np'], [94, 'Pu'], [95, 'Am'], [96, 'Cm'], [97, 'Bk'], [98, 'Cf'], [99, 'Es'], [100, 'Fm'], [101, 'Md'], [102, 'No'], [103, 'Lr'], [104, 'Rf'], [105, 'Db'], [106, 'Sg'], [107, 'Bh'], [108, 'Hs'], [109, 'Mt'], [110, 'Ds'], [111, 'Rg'], [112, 'Cn'], [113, 'Uut'], [114, 'Fl'], [115, 'Uup'], [116, 'Lv'], [117, 'Uus'], [118, 'Uuo']]\n    .map(function (e) { return [e[0], ElementSymbol(e[1])]; }));\nexport function getElementFromAtomicNumber(n) {\n    if (_elementByAtomicNumber.has(n))\n        return _elementByAtomicNumber.get(n);\n    return ElementSymbol('H');\n}\n/** Entity types as defined in the mmCIF dictionary */\nexport var EntityType;\n(function (EntityType) {\n    EntityType[EntityType[\"unknown\"] = 0] = \"unknown\";\n    EntityType[EntityType[\"polymer\"] = 1] = \"polymer\";\n    EntityType[EntityType[\"non-polymer\"] = 2] = \"non-polymer\";\n    EntityType[EntityType[\"macrolide\"] = 3] = \"macrolide\";\n    EntityType[EntityType[\"water\"] = 4] = \"water\";\n    EntityType[EntityType[\"branched\"] = 5] = \"branched\";\n})(EntityType || (EntityType = {}));\nexport var PolymerTypeAtomRoleId = (_a = {},\n    _a[0 /* PolymerType.NA */] = {\n        trace: new Set(),\n        directionFrom: new Set(),\n        directionTo: new Set(),\n        backboneStart: new Set(),\n        backboneEnd: new Set(),\n        coarseBackbone: new Set()\n    },\n    _a[1 /* PolymerType.Protein */] = {\n        trace: new Set(['CA']),\n        directionFrom: new Set(['C']),\n        directionTo: new Set(['O', 'OC1', 'O1', 'OX1', 'OXT', 'OT1']),\n        backboneStart: new Set(['N']),\n        backboneEnd: new Set(['C']),\n        // CA1 is used e.g. in GFP chromophores\n        // BB is often used for coarse grained models\n        coarseBackbone: new Set(['CA', 'BB', 'CA1'])\n    },\n    _a[2 /* PolymerType.GammaProtein */] = {\n        trace: new Set(['CA']),\n        directionFrom: new Set(['C']),\n        directionTo: new Set(['O']),\n        backboneStart: new Set(['N']),\n        backboneEnd: new Set(['CD']),\n        coarseBackbone: new Set(['CA'])\n    },\n    _a[3 /* PolymerType.BetaProtein */] = {\n        trace: new Set(['CA']),\n        directionFrom: new Set(['C']),\n        directionTo: new Set(['O']),\n        backboneStart: new Set(['N']),\n        backboneEnd: new Set(['CG']),\n        coarseBackbone: new Set(['CA'])\n    },\n    _a[4 /* PolymerType.RNA */] = {\n        trace: new Set(['O3\\'', 'O3*']),\n        directionFrom: new Set(['C4\\'', 'C4*']),\n        directionTo: new Set(['C3\\'', 'C3*']),\n        backboneStart: new Set(['P']),\n        backboneEnd: new Set(['O3\\'', 'O3*']),\n        coarseBackbone: new Set(['P'])\n    },\n    _a[5 /* PolymerType.DNA */] = {\n        trace: new Set(['O3\\'', 'O3*']),\n        directionFrom: new Set(['C3\\'', 'C3*']),\n        directionTo: new Set(['C1\\'', 'C1*']),\n        backboneStart: new Set(['P']),\n        backboneEnd: new Set(['O3\\'', 'O3*']),\n        coarseBackbone: new Set(['P'])\n    },\n    _a[6 /* PolymerType.PNA */] = {\n        trace: new Set(['N4\\'', 'N4*']),\n        directionFrom: new Set(['N4\\'', 'N4*']),\n        directionTo: new Set(['C7\\'', 'C7*']),\n        backboneStart: new Set(['N1\\'', 'N1*']),\n        backboneEnd: new Set(['C\\'', 'C*']),\n        coarseBackbone: new Set(['P'])\n    },\n    _a);\nexport var ProteinBackboneAtoms = new Set([\n    'CA', 'C', 'N', 'O',\n    'O1', 'O2', 'OC1', 'OC2', 'OT1', 'OT2', 'OX1', 'OXT',\n    'H', 'H1', 'H2', 'H3', 'HA', 'HN', 'HXT',\n    'BB'\n]);\nexport var NucleicBackboneAtoms = new Set([\n    'P', 'OP1', 'OP2', 'HOP2', 'HOP3',\n    'O2\\'', 'O3\\'', 'O4\\'', 'O5\\'', 'C1\\'', 'C2\\'', 'C3\\'', 'C4\\'', 'C5\\'',\n    'H1\\'', 'H2\\'', 'H2\\'\\'', 'HO2\\'', 'H3\\'', 'H4\\'', 'H5\\'', 'H5\\'\\'', 'HO3\\'', 'HO5\\'',\n    'O2*', 'O3*', 'O4*', 'O5*', 'C1*', 'C2*', 'C3*', 'C4*', 'C5*'\n]);\n/** Chemical component type names for D-linked protein */\nexport var DProteinComponentTypeNames = new Set([\n    'd-peptide linking', 'd-peptide nh3 amino terminus',\n    'd-peptide cooh carboxy terminus', 'd-gamma-peptide, c-delta linking',\n    'd-beta-peptide, c-gamma linking'\n]);\n/** Chemical component type names for L-linked protein */\nexport var LProteinComponentTypeNames = new Set([\n    'l-peptide linking', 'l-peptide nh3 amino terminus',\n    'l-peptide cooh carboxy terminus', 'l-gamma-peptide, c-delta linking',\n    'l-beta-peptide, c-gamma linking'\n]);\n/** Chemical component type names for gamma protein, overlaps with D/L-linked */\nexport var GammaProteinComponentTypeNames = new Set([\n    'd-gamma-peptide, c-delta linking', 'l-gamma-peptide, c-delta linking'\n]);\n/** Chemical component type names for beta protein, overlaps with D/L-linked */\nexport var BetaProteinComponentTypeNames = new Set([\n    'd-beta-peptide, c-gamma linking', 'l-beta-peptide, c-gamma linking'\n]);\n/** Chemical component type names for protein termini, overlaps with D/L-linked */\nexport var ProteinTerminusComponentTypeNames = new Set([\n    'd-peptide nh3 amino terminus', 'd-peptide cooh carboxy terminus',\n    'l-peptide nh3 amino terminus', 'l-peptide cooh carboxy terminus'\n]);\n/** Chemical component type names for peptide-like protein */\nexport var OtherProteinComponentTypeNames = new Set([\n    'peptide linking', 'peptide-like',\n]);\n/** Chemical component type names for protein */\nexport var ProteinComponentTypeNames = SetUtils.unionMany(DProteinComponentTypeNames, LProteinComponentTypeNames, OtherProteinComponentTypeNames);\n/** Chemical component type names for DNA */\nexport var DNAComponentTypeNames = new Set([\n    'dna linking', 'l-dna linking', 'dna oh 5 prime terminus', 'dna oh 3 prime terminus',\n]);\n/** Chemical component type names for RNA */\nexport var RNAComponentTypeNames = new Set([\n    'rna linking', 'l-rna linking', 'rna oh 5 prime terminus', 'rna oh 3 prime terminus',\n]);\n/** Chemical component type names for saccharide */\nexport var SaccharideComponentTypeNames = SetUtils.unionMany(new Set([\n    'd-saccharide, beta linking', 'l-saccharide, beta linking',\n    'd-saccharide, alpha linking', 'l-saccharide, alpha linking',\n    'l-saccharide', 'd-saccharide', 'saccharide',\n]), \n// deprecated in the mmCIF dictionary, kept for backward compatibility\nnew Set([\n    'd-saccharide 1,4 and 1,4 linking', 'l-saccharide 1,4 and 1,4 linking',\n    'd-saccharide 1,4 and 1,6 linking', 'l-saccharide 1,4 and 1,6 linking'\n]));\n/** Chemical component type names for other */\nexport var OtherComponentTypeNames = new Set([\n    'non-polymer', 'other'\n]);\n/** Chemical component type names for ion (extension to mmcif) */\nexport var IonComponentTypeNames = new Set([\n    'ion'\n]);\n/** Chemical component type names for lipid (extension to mmcif) */\nexport var LipidComponentTypeNames = new Set([\n    'lipid'\n]);\n/** Common names for water molecules */\nexport var WaterNames = new Set([\n    'SOL', 'WAT', 'HOH', 'H2O', 'W', 'DOD', 'D3O', 'TIP', 'TIP3', 'TIP4', 'SPC'\n]);\nexport var AminoAcidNamesL = new Set([\n    'HIS', 'ARG', 'LYS', 'ILE', 'PHE', 'LEU', 'TRP', 'ALA', 'MET', 'PRO', 'CYS',\n    'ASN', 'VAL', 'GLY', 'SER', 'GLN', 'TYR', 'ASP', 'GLU', 'THR', 'SEC', 'PYL',\n    'UNK',\n    'MSE', 'SEP', 'TPO', 'PTR', 'PCA', 'HYP',\n    // charmm ff\n    'HSD', 'HSE', 'HSP', 'LSN', 'ASPP', 'GLUP',\n    // amber ff\n    'HID', 'HIE', 'HIP', 'LYN', 'ASH', 'GLH',\n]);\nexport var AminoAcidNamesD = new Set([\n    'DAL',\n    'DAR',\n    'DSG',\n    'DAS',\n    'DCY',\n    'DGL',\n    'DGN',\n    'DHI',\n    'DIL',\n    'DLE',\n    'DLY',\n    'MED',\n    'DPN',\n    'DPR',\n    'DSN',\n    'DTH',\n    'DTR',\n    'DTY',\n    'DVA',\n    'DNE' // D-NORLEUCINE\n    // ???  // D-SELENOCYSTEINE\n]);\nexport var AminoAcidNames = SetUtils.unionMany(AminoAcidNamesL, AminoAcidNamesD);\nexport var CommonProteinCaps = new Set([\n    'NME', 'ACE', 'NH2', 'FOR', 'FMT'\n    // not including the following\n    // 'E1H' GFP backbone fragmentation in 2G16\n    // 'HOA' complexes zinc\n    // 'NEH' ubiquitine linker\n    // 'MOH' part of peptidomimetics\n]);\nexport var RnaBaseNames = new Set([\n    'A', 'C', 'T', 'G', 'I', 'U',\n    'N' // unknown RNA base from CCD\n]);\nexport var DnaBaseNames = new Set([\n    'DA', 'DC', 'DT', 'DG', 'DI', 'DU',\n    'DN' // unknown DNA base from CCD\n]);\nexport var PeptideBaseNames = new Set(['APN', 'CPN', 'TPN', 'GPN']);\nexport var PurineBaseNames = new Set(['A', 'G', 'I', 'DA', 'DG', 'DI', 'APN', 'GPN']);\nexport var PyrimidineBaseNames = new Set(['C', 'T', 'U', 'DC', 'DT', 'DU', 'CPN', 'TPN']);\nexport var BaseNames = SetUtils.unionMany(RnaBaseNames, DnaBaseNames, PeptideBaseNames);\nexport var isPurineBase = function (compId) { return PurineBaseNames.has(compId.toUpperCase()); };\nexport var isPyrimidineBase = function (compId) { return PyrimidineBaseNames.has(compId.toUpperCase()); };\nexport var PolymerNames = SetUtils.unionMany(AminoAcidNames, BaseNames);\n/** get the molecule type from component type and id */\nexport function getMoleculeType(compType, compId) {\n    compId = compId.toUpperCase();\n    if (PeptideBaseNames.has(compId)) {\n        return 8 /* MoleculeType.PNA */;\n    }\n    else if (ProteinComponentTypeNames.has(compType)) {\n        return 5 /* MoleculeType.Protein */;\n    }\n    else if (RNAComponentTypeNames.has(compType)) {\n        return 6 /* MoleculeType.RNA */;\n    }\n    else if (DNAComponentTypeNames.has(compType)) {\n        return 7 /* MoleculeType.DNA */;\n    }\n    else if (SaccharideComponentTypeNames.has(compType)) {\n        return 9 /* MoleculeType.Saccharide */;\n    }\n    else if (WaterNames.has(compId)) {\n        return 2 /* MoleculeType.Water */;\n    }\n    else if (IonNames.has(compId)) {\n        return 3 /* MoleculeType.Ion */;\n    }\n    else if (LipidNames.has(compId)) {\n        return 4 /* MoleculeType.Lipid */;\n    }\n    else if (OtherComponentTypeNames.has(compType)) {\n        if (SaccharideCompIdMap.has(compId)) {\n            // trust our saccharide table more than given 'NON-POLYMER' or 'OTHER' component type\n            return 9 /* MoleculeType.Saccharide */;\n        }\n        else if (AminoAcidNames.has(compId)) {\n            return 5 /* MoleculeType.Protein */;\n        }\n        else if (RnaBaseNames.has(compId)) {\n            return 6 /* MoleculeType.RNA */;\n        }\n        else if (DnaBaseNames.has(compId)) {\n            return 7 /* MoleculeType.DNA */;\n        }\n        else {\n            return 1 /* MoleculeType.Other */;\n        }\n    }\n    else {\n        return 0 /* MoleculeType.Unknown */;\n    }\n}\nexport function getPolymerType(compType, molType) {\n    if (molType === 5 /* MoleculeType.Protein */) {\n        if (GammaProteinComponentTypeNames.has(compType)) {\n            return 2 /* PolymerType.GammaProtein */;\n        }\n        else if (BetaProteinComponentTypeNames.has(compType)) {\n            return 3 /* PolymerType.BetaProtein */;\n        }\n        else if (ProteinTerminusComponentTypeNames.has(compType)) {\n            return 0 /* PolymerType.NA */;\n        }\n        else {\n            return 1 /* PolymerType.Protein */;\n        }\n    }\n    else if (molType === 6 /* MoleculeType.RNA */) {\n        return 4 /* PolymerType.RNA */;\n    }\n    else if (molType === 7 /* MoleculeType.DNA */) {\n        return 5 /* PolymerType.DNA */;\n    }\n    else if (molType === 8 /* MoleculeType.PNA */) {\n        return 6 /* PolymerType.PNA */;\n    }\n    else {\n        return 0 /* PolymerType.NA */;\n    }\n}\nexport function getComponentType(compId) {\n    compId = compId.toUpperCase();\n    if (AminoAcidNames.has(compId)) {\n        return 'peptide linking';\n    }\n    else if (RnaBaseNames.has(compId)) {\n        return 'rna linking';\n    }\n    else if (DnaBaseNames.has(compId)) {\n        return 'dna linking';\n    }\n    else if (SaccharideCompIdMap.has(compId)) {\n        return 'saccharide';\n    }\n    else {\n        return 'other';\n    }\n}\nexport function getDefaultChemicalComponent(compId) {\n    // TODO: this is to make the chem_comp_type property work if chem_comp category is not present.\n    // should we try to set the formula etc better?\n    return {\n        formula: '',\n        formula_weight: 0,\n        id: compId,\n        name: compId,\n        mon_nstd_flag: PolymerNames.has(compId) ? 'y' : 'n',\n        pdbx_synonyms: [],\n        type: getComponentType(compId)\n    };\n}\nexport function getEntityType(compId) {\n    compId = compId.toUpperCase();\n    if (WaterNames.has(compId)) {\n        return 'water';\n    }\n    else if (PolymerNames.has(compId)) {\n        return 'polymer';\n    }\n    else if (SaccharideCompIdMap.has(compId)) {\n        return 'branched';\n    }\n    else {\n        return 'non-polymer';\n    }\n}\nexport function getEntitySubtype(compId, compType) {\n    compId = compId.toUpperCase();\n    if (LProteinComponentTypeNames.has(compType)) {\n        return 'polypeptide(L)';\n    }\n    else if (DProteinComponentTypeNames.has(compType)) {\n        return 'polypeptide(D)';\n    }\n    else if (RNAComponentTypeNames.has(compType)) {\n        return 'polyribonucleotide';\n    }\n    else if (DNAComponentTypeNames.has(compType)) {\n        return 'polydeoxyribonucleotide';\n    }\n    else if (SaccharideComponentTypeNames.has(compType)) {\n        return 'oligosaccharide';\n    }\n    else if (SaccharideCompIdMap.has(compId)) {\n        return 'oligosaccharide';\n    }\n    else if (PeptideBaseNames.has(compId)) {\n        return 'peptide nucleic acid';\n    }\n    else if (AminoAcidNamesL.has(compId)) {\n        return 'polypeptide(L)';\n    }\n    else if (AminoAcidNamesD.has(compId)) {\n        return 'polypeptide(D)';\n    }\n    else if (RnaBaseNames.has(compId)) {\n        return 'polyribonucleotide';\n    }\n    else if (DnaBaseNames.has(compId)) {\n        return 'polydeoxyribonucleotide';\n    }\n    else if (IonComponentTypeNames.has(compType) || IonNames.has(compId)) {\n        return 'ion';\n    }\n    else if (LipidComponentTypeNames.has(compType) || LipidNames.has(compId)) {\n        return 'lipid';\n    }\n    else if (OtherProteinComponentTypeNames.has(compType)) {\n        return 'peptide-like';\n    }\n    else {\n        return 'other';\n    }\n}\nexport function isPolymer(moleculeType) {\n    return isNucleic(moleculeType) || isProtein(moleculeType);\n}\nexport function isNucleic(moleculeType) {\n    return moleculeType === 7 /* MoleculeType.DNA */ || moleculeType === 6 /* MoleculeType.RNA */ || moleculeType === 8 /* MoleculeType.PNA */;\n}\nexport function isProtein(moleculeType) {\n    return moleculeType === 5 /* MoleculeType.Protein */;\n}\nexport var SecondaryStructureType;\n(function (SecondaryStructureType) {\n    SecondaryStructureType.is = BitFlags.has;\n    SecondaryStructureType.create = BitFlags.create;\n    SecondaryStructureType.SecondaryStructureMmcif = {\n        helx_lh_27_p: 2 /* Flag.Helix */ | 32 /* Flag.LeftHanded */ | 1024 /* Flag.Helix27 */,\n        helx_lh_3t_p: 2 /* Flag.Helix */ | 32 /* Flag.LeftHanded */ | 2048 /* Flag.Helix3Ten */,\n        helx_lh_al_p: 2 /* Flag.Helix */ | 32 /* Flag.LeftHanded */ | 4096 /* Flag.HelixAlpha */,\n        helx_lh_a_n: 1 /* Flag.DoubleHelix */ | 32 /* Flag.LeftHanded */ | 524288 /* Flag.DoubleHelixA */,\n        helx_lh_b_n: 1 /* Flag.DoubleHelix */ | 32 /* Flag.LeftHanded */ | 1048576 /* Flag.DoubleHelixB */,\n        helx_lh_ga_p: 2 /* Flag.Helix */ | 32 /* Flag.LeftHanded */ | 8192 /* Flag.HelixGamma */,\n        helx_lh_n: 1 /* Flag.DoubleHelix */ | 32 /* Flag.LeftHanded */,\n        helx_lh_om_p: 2 /* Flag.Helix */ | 32 /* Flag.LeftHanded */ | 16384 /* Flag.HelixOmega */,\n        helx_lh_ot_n: 1 /* Flag.DoubleHelix */ | 32 /* Flag.LeftHanded */ | 131072 /* Flag.DoubleHelixOther */,\n        helx_lh_ot_p: 2 /* Flag.Helix */ | 32 /* Flag.LeftHanded */ | 512 /* Flag.HelixOther */,\n        helx_lh_p: 2 /* Flag.Helix */ | 32 /* Flag.LeftHanded */,\n        helx_lh_pi_p: 2 /* Flag.Helix */ | 32 /* Flag.LeftHanded */ | 32768 /* Flag.HelixPi */,\n        helx_lh_pp_p: 2 /* Flag.Helix */ | 32 /* Flag.LeftHanded */ | 65536 /* Flag.HelixPolyproline */,\n        helx_lh_z_n: 1 /* Flag.DoubleHelix */ | 32 /* Flag.LeftHanded */ | 262144 /* Flag.DoubleHelixZ */,\n        helx_n: 1 /* Flag.DoubleHelix */,\n        helx_ot_n: 1 /* Flag.DoubleHelix */,\n        helx_ot_p: 2 /* Flag.Helix */,\n        helx_p: 2 /* Flag.Helix */,\n        helx_rh_27_p: 2 /* Flag.Helix */ | 64 /* Flag.RightHanded */ | 1024 /* Flag.Helix27 */,\n        helx_rh_3t_p: 2 /* Flag.Helix */ | 64 /* Flag.RightHanded */ | 2048 /* Flag.Helix3Ten */,\n        helx_rh_al_p: 2 /* Flag.Helix */ | 64 /* Flag.RightHanded */ | 4096 /* Flag.HelixAlpha */,\n        helx_rh_a_n: 1 /* Flag.DoubleHelix */ | 64 /* Flag.RightHanded */ | 524288 /* Flag.DoubleHelixA */,\n        helx_rh_b_n: 1 /* Flag.DoubleHelix */ | 64 /* Flag.RightHanded */ | 1048576 /* Flag.DoubleHelixB */,\n        helx_rh_ga_p: 2 /* Flag.Helix */ | 64 /* Flag.RightHanded */ | 8192 /* Flag.HelixGamma */,\n        helx_rh_n: 1 /* Flag.DoubleHelix */ | 64 /* Flag.RightHanded */,\n        helx_rh_om_p: 2 /* Flag.Helix */ | 64 /* Flag.RightHanded */ | 16384 /* Flag.HelixOmega */,\n        helx_rh_ot_n: 1 /* Flag.DoubleHelix */ | 64 /* Flag.RightHanded */ | 131072 /* Flag.DoubleHelixOther */,\n        helx_rh_ot_p: 2 /* Flag.Helix */ | 64 /* Flag.RightHanded */ | 512 /* Flag.HelixOther */,\n        helx_rh_p: 2 /* Flag.Helix */ | 64 /* Flag.RightHanded */,\n        helx_rh_pi_p: 2 /* Flag.Helix */ | 64 /* Flag.RightHanded */ | 32768 /* Flag.HelixPi */,\n        helx_rh_pp_p: 2 /* Flag.Helix */ | 64 /* Flag.RightHanded */ | 65536 /* Flag.HelixPolyproline */,\n        helx_rh_z_n: 1 /* Flag.DoubleHelix */ | 64 /* Flag.RightHanded */ | 262144 /* Flag.DoubleHelixZ */,\n        strn: 4 /* Flag.Beta */ | 4194304 /* Flag.BetaStrand */,\n        turn_ot_p: 16 /* Flag.Turn */ | 33554432 /* Flag.TurnOther */,\n        turn_p: 16 /* Flag.Turn */,\n        turn_ty1p_p: 16 /* Flag.Turn */ | 256 /* Flag.InverseTurn */ | 67108864 /* Flag.Turn1 */,\n        turn_ty1_p: 16 /* Flag.Turn */ | 128 /* Flag.ClassicTurn */ | 67108864 /* Flag.Turn1 */,\n        turn_ty2p_p: 16 /* Flag.Turn */ | 256 /* Flag.InverseTurn */ | 134217728 /* Flag.Turn2 */,\n        turn_ty2_p: 16 /* Flag.Turn */ | 128 /* Flag.ClassicTurn */ | 134217728 /* Flag.Turn2 */,\n        turn_ty3p_p: 16 /* Flag.Turn */ | 256 /* Flag.InverseTurn */ | 268435456 /* Flag.Turn3 */,\n        turn_ty3_p: 16 /* Flag.Turn */ | 128 /* Flag.ClassicTurn */ | 268435456 /* Flag.Turn3 */,\n        bend: 8 /* Flag.Bend */,\n        other: 0 /* Flag.None */, // secondary structure type that does not conform to an accepted category, random coil (protein)\n    };\n    SecondaryStructureType.SecondaryStructurePdb = {\n        1: 2 /* Flag.Helix */ | 64 /* Flag.RightHanded */ | 4096 /* Flag.HelixAlpha */,\n        2: 2 /* Flag.Helix */ | 64 /* Flag.RightHanded */ | 16384 /* Flag.HelixOmega */,\n        3: 2 /* Flag.Helix */ | 64 /* Flag.RightHanded */ | 32768 /* Flag.HelixPi */,\n        4: 2 /* Flag.Helix */ | 64 /* Flag.RightHanded */ | 8192 /* Flag.HelixGamma */,\n        5: 2 /* Flag.Helix */ | 64 /* Flag.RightHanded */ | 2048 /* Flag.Helix3Ten */,\n        6: 2 /* Flag.Helix */ | 32 /* Flag.LeftHanded */ | 4096 /* Flag.HelixAlpha */,\n        7: 2 /* Flag.Helix */ | 32 /* Flag.LeftHanded */ | 16384 /* Flag.HelixOmega */,\n        8: 2 /* Flag.Helix */ | 32 /* Flag.LeftHanded */ | 8192 /* Flag.HelixGamma */,\n        9: 2 /* Flag.Helix */ | 1024 /* Flag.Helix27 */,\n        10: 2 /* Flag.Helix */ | 65536 /* Flag.HelixPolyproline */, // Polyproline\n    };\n    SecondaryStructureType.SecondaryStructureStride = {\n        H: 2 /* Flag.Helix */ | 4096 /* Flag.HelixAlpha */,\n        G: 2 /* Flag.Helix */ | 2048 /* Flag.Helix3Ten */,\n        I: 2 /* Flag.Helix */ | 32768 /* Flag.HelixPi */,\n        E: 4 /* Flag.Beta */ | 8388608 /* Flag.BetaSheet */,\n        B: 4 /* Flag.Beta */ | 4194304 /* Flag.BetaStrand */,\n        T: 16 /* Flag.Turn */,\n        C: 536870912 /* Flag.NA */, // Coil (none of the above)\n    };\n    SecondaryStructureType.SecondaryStructureDssp = {\n        H: 2 /* Flag.Helix */ | 4096 /* Flag.HelixAlpha */,\n        B: 4 /* Flag.Beta */ | 4194304 /* Flag.BetaStrand */,\n        E: 4 /* Flag.Beta */ | 8388608 /* Flag.BetaSheet */,\n        G: 2 /* Flag.Helix */ | 2048 /* Flag.Helix3Ten */,\n        I: 2 /* Flag.Helix */ | 32768 /* Flag.HelixPi */,\n        T: 16 /* Flag.Turn */,\n        S: 8 /* Flag.Bend */, // bend\n    };\n})(SecondaryStructureType || (SecondaryStructureType = {}));\n/** Maximum accessible surface area observed for amino acids. Taken from: http://dx.doi.org/10.1371/journal.pone.0080635 */\nexport var MaxAsa = {\n    'ALA': 121.0,\n    'ARG': 265.0,\n    'ASN': 187.0,\n    'ASP': 187.0,\n    'CYS': 148.0,\n    'GLU': 214.0,\n    'GLN': 214.0,\n    'GLY': 97.0,\n    'HIS': 216.0,\n    'ILE': 195.0,\n    'LEU': 191.0,\n    'LYS': 230.0,\n    'MET': 203.0,\n    'PHE': 228.0,\n    'PRO': 154.0,\n    'SER': 143.0,\n    'THR': 163.0,\n    'TRP': 264.0,\n    'TYR': 255.0,\n    'VAL': 165.0,\n    // charmm ff\n    'HSD': 216.0, 'HSE': 216.0, 'HSP': 216.0,\n    // amber ff\n    'HID': 216.0, 'HIE': 216.0, 'HIP': 216.0, 'ASH': 187.0, 'GLH': 214.0,\n};\nexport var DefaultMaxAsa = 121.0;\nexport var BondType;\n(function (BondType) {\n    BondType.is = BitFlags.has;\n    function create(flags) {\n        return BitFlags.create(flags);\n    }\n    BondType.create = create;\n    function isCovalent(flags) {\n        return (flags & 1 /* BondType.Flag.Covalent */) !== 0;\n    }\n    BondType.isCovalent = isCovalent;\n    function isAll(flags) {\n        return flags === Math.pow(2, 6) - 1;\n    }\n    BondType.isAll = isAll;\n    BondType.Names = {\n        'covalent': 1 /* Flag.Covalent */,\n        'metal-coordination': 2 /* Flag.MetallicCoordination */,\n        'hydrogen-bond': 4 /* Flag.HydrogenBond */,\n        'disulfide': 8 /* Flag.Disulfide */,\n        'aromatic': 16 /* Flag.Aromatic */,\n        'computed': 32 /* Flag.Computed */,\n    };\n    function isName(name) {\n        return name in BondType.Names;\n    }\n    BondType.isName = isName;\n    function fromName(name) {\n        switch (name) {\n            case 'covalent': return 1 /* Flag.Covalent */;\n            case 'metal-coordination': return 2 /* Flag.MetallicCoordination */;\n            case 'hydrogen-bond': return 4 /* Flag.HydrogenBond */;\n            case 'disulfide': return 8 /* Flag.Disulfide */;\n            case 'aromatic': return 16 /* Flag.Aromatic */;\n            case 'computed': return 32 /* Flag.Computed */;\n        }\n    }\n    BondType.fromName = fromName;\n    function fromNames(names) {\n        var f = 0 /* Flag.None */;\n        for (var i = 0, il = names.length; i < il; ++i) {\n            f |= fromName(names[i]);\n        }\n        return f;\n    }\n    BondType.fromNames = fromNames;\n})(BondType || (BondType = {}));\n/**\n * \"Experimentally determined hydrophobicity scale for proteins at membrane interfaces\"\n * by Wimely and White (doi:10.1038/nsb1096-842)\n * http://blanco.biomol.uci.edu/Whole_residue_HFscales.txt\n * https://www.nature.com/articles/nsb1096-842\n */\nexport var ResidueHydrophobicity = {\n    // AA  DGwif   DGwoct  Oct-IF\n    'ALA': [0.17, 0.50, 0.33],\n    'ARG': [0.81, 1.81, 1.00],\n    'ASN': [0.42, 0.85, 0.43],\n    'ASP': [1.23, 3.64, 2.41],\n    'ASH': [-0.07, 0.43, 0.50],\n    'CYS': [-0.24, -0.02, 0.22],\n    'GLN': [0.58, 0.77, 0.19],\n    'GLU': [2.02, 3.63, 1.61],\n    'GLH': [-0.01, 0.11, 0.12],\n    'GLY': [0.01, 1.15, 1.14],\n    // \"His+\": [  0.96,  2.33,  1.37 ],\n    'HIS': [0.17, 0.11, -0.06],\n    'ILE': [-0.31, -1.12, -0.81],\n    'LEU': [-0.56, -1.25, -0.69],\n    'LYS': [0.99, 2.80, 1.81],\n    'MET': [-0.23, -0.67, -0.44],\n    'PHE': [-1.13, -1.71, -0.58],\n    'PRO': [0.45, 0.14, -0.31],\n    'SER': [0.13, 0.46, 0.33],\n    'THR': [0.14, 0.25, 0.11],\n    'TRP': [-1.85, -2.09, -0.24],\n    'TYR': [-0.94, -0.71, 0.23],\n    'VAL': [0.07, -0.46, -0.53],\n    // charmm ff\n    'HSD': [0.17, 0.11, -0.06], 'HSE': [0.17, 0.11, -0.06], 'HSP': [0.96, 2.33, 1.37],\n    // amber ff\n    'HID': [0.17, 0.11, -0.06], 'HIE': [0.17, 0.11, -0.06], 'HIP': [0.96, 2.33, 1.37],\n};\nexport var DefaultResidueHydrophobicity = [0.00, 0.00, 0.00];\n","/**\n * Copyright (c) 2020-2022 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * Code-generated ion names params file. Names extracted from CCD components.\n *\n * @author molstar/chem-comp-dict/create-ions cli\n */\nexport var IonNames = new Set(['118', '119', '543', '1AL', '1CU', '2FK', '2HP', '2OF', '3CO', '3MT', '3NI', '3OF', '3P8', '4MO', '4PU', '4TI', '6MO', 'ACT', 'AG', 'AL', 'ALF', 'AM', 'ATH', 'AU', 'AU3', 'AUC', 'AZI', 'BA', 'BCT', 'BEF', 'BF4', 'BO4', 'BR', 'BS3', 'BSY', 'CA', 'CAC', 'CD', 'CD1', 'CD3', 'CD5', 'CE', 'CF', 'CHT', 'CL', 'CO', 'CO3', 'CO5', 'CON', 'CR', 'CS', 'CSB', 'CU', 'CU1', 'CU3', 'CUA', 'CUZ', 'CYN', 'DME', 'DMI', 'DSC', 'DTI', 'DY', 'E4N', 'EDR', 'EMC', 'ER3', 'EU', 'EU3', 'F', 'FE', 'FE2', 'FPO', 'GA', 'GD3', 'GEP', 'HAI', 'HG', 'HGC', 'IN', 'IOD', 'IR', 'IR3', 'IRI', 'IUM', 'K', 'KO4', 'LA', 'LCO', 'LCP', 'LI', 'LU', 'MAC', 'MG', 'MH2', 'MH3', 'MLI', 'MMC', 'MN', 'MN3', 'MN5', 'MN6', 'MO1', 'MO2', 'MO3', 'MO4', 'MO5', 'MO6', 'MOO', 'MOS', 'MOW', 'MW1', 'MW2', 'MW3', 'NA', 'NA2', 'NA5', 'NA6', 'NAO', 'NAW', 'ND', 'NET', 'NH4', 'NI', 'NI1', 'NI2', 'NI3', 'NO2', 'NO3', 'NRU', 'NT3', 'O4M', 'OAA', 'OC1', 'OC2', 'OC3', 'OC4', 'OC5', 'OC6', 'OC7', 'OC8', 'OCL', 'OCM', 'OCN', 'OCO', 'OF1', 'OF2', 'OF3', 'OH', 'OS', 'OS4', 'OXL', 'PB', 'PBM', 'PD', 'PDV', 'PER', 'PI', 'PO3', 'PO4', 'PR', 'PT', 'PT4', 'PTN', 'RB', 'RH3', 'RHD', 'RHF', 'RU', 'SB', 'SCN', 'SE4', 'SEK', 'SM', 'SMO', 'SO3', 'SO4', 'SR', 'T1A', 'TB', 'TBA', 'TCN', 'TEA', 'TH', 'THE', 'TL', 'TMA', 'TRA', 'UNX', 'V', 'VN3', 'VO4', 'W', 'WO5', 'Y1', 'YB', 'YB2', 'YH', 'YT3', 'ZCM', 'ZN', 'ZN2', 'ZN3', 'ZNO', 'ZO3', 'ZR', 'NCO', 'OHX']);\n","/**\n * Copyright (c) 2018-2023 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\nimport { Vec3 } from '../../mol-math/linear-algebra/3d/vec3';\nimport { Sphere3D } from './primitives/sphere3d';\n// avoiding namespace lookup improved performance in Chrome (Aug 2020)\nvar v3add = Vec3.add;\nvar v3squaredDistance = Vec3.squaredDistance;\nvar v3distance = Vec3.distance;\nexport { CentroidHelper };\nvar CentroidHelper = /** @class */ (function () {\n    function CentroidHelper() {\n        this.count = 0;\n        this.center = Vec3();\n        this.radiusSq = 0;\n    }\n    CentroidHelper.prototype.reset = function () {\n        Vec3.set(this.center, 0, 0, 0);\n        this.radiusSq = 0;\n        this.count = 0;\n    };\n    CentroidHelper.prototype.includeStep = function (p) {\n        v3add(this.center, this.center, p);\n        this.count++;\n    };\n    CentroidHelper.prototype.finishedIncludeStep = function () {\n        if (this.count === 0)\n            return;\n        Vec3.scale(this.center, this.center, 1 / this.count);\n    };\n    CentroidHelper.prototype.radiusStep = function (p) {\n        var d = v3squaredDistance(p, this.center);\n        if (d > this.radiusSq)\n            this.radiusSq = d;\n    };\n    CentroidHelper.prototype.radiusSphereStep = function (center, radius) {\n        var _d = v3distance(center, this.center) + radius;\n        var d = _d * _d;\n        if (d > this.radiusSq)\n            this.radiusSq = d;\n    };\n    CentroidHelper.prototype.getSphere = function (sphere) {\n        if (!sphere)\n            sphere = Sphere3D();\n        Vec3.copy(sphere.center, this.center);\n        sphere.radius = Math.sqrt(this.radiusSq);\n        return sphere;\n    };\n    CentroidHelper.prototype.getCount = function () {\n        return this.count;\n    };\n    return CentroidHelper;\n}());\n(function (CentroidHelper) {\n    var helper = new CentroidHelper();\n    var posA = Vec3();\n    var posB = Vec3();\n    function fromArrays(_a, to) {\n        var x = _a.x, y = _a.y, z = _a.z;\n        helper.reset();\n        var n = x.length;\n        for (var i = 0; i < n; i++) {\n            Vec3.set(posA, x[i], y[i], z[i]);\n            helper.includeStep(posA);\n        }\n        helper.finishedIncludeStep();\n        for (var i = 0; i < n; i++) {\n            Vec3.set(posA, x[i], y[i], z[i]);\n            helper.radiusStep(posA);\n        }\n        Vec3.copy(to.center, helper.center);\n        to.radius = Math.sqrt(helper.radiusSq);\n        return to;\n    }\n    CentroidHelper.fromArrays = fromArrays;\n    function fromProvider(count, getter, to) {\n        helper.reset();\n        for (var i = 0; i < count; i++) {\n            getter(i, posA);\n            helper.includeStep(posA);\n        }\n        helper.finishedIncludeStep();\n        for (var i = 0; i < count; i++) {\n            getter(i, posA);\n            helper.radiusStep(posA);\n        }\n        Vec3.copy(to.center, helper.center);\n        to.radius = Math.sqrt(helper.radiusSq);\n        return to;\n    }\n    CentroidHelper.fromProvider = fromProvider;\n    function fromPairProvider(count, getter, to) {\n        helper.reset();\n        for (var i = 0; i < count; i++) {\n            getter(i, posA, posB);\n            helper.includeStep(posA);\n            helper.includeStep(posB);\n        }\n        helper.finishedIncludeStep();\n        for (var i = 0; i < count; i++) {\n            getter(i, posA, posB);\n            helper.radiusStep(posA);\n            helper.radiusStep(posB);\n        }\n        Vec3.copy(to.center, helper.center);\n        to.radius = Math.sqrt(helper.radiusSq);\n        return to;\n    }\n    CentroidHelper.fromPairProvider = fromPairProvider;\n})(CentroidHelper || (CentroidHelper = {}));\n","/**\n * Copyright (c) 2017-2020 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\nimport { __assign } from \"tslib\";\nimport { UniqueArray } from '../../mol-data/generic';\nexport { InterUnitGraph };\nvar InterUnitGraph = /** @class */ (function () {\n    function InterUnitGraph(map) {\n        this.map = map;\n        var count = 0;\n        var edges = [];\n        var edgeKeyIndex = new Map();\n        var vertexKeyIndex = new Map();\n        this.map.forEach(function (pairEdgesArray) {\n            pairEdgesArray.forEach(function (pairEdges) {\n                count += pairEdges.edgeCount;\n                pairEdges.connectedIndices.forEach(function (indexA) {\n                    pairEdges.getEdges(indexA).forEach(function (edgeInfo) {\n                        var unitA = pairEdges.unitA, unitB = pairEdges.unitB;\n                        var edgeKey = InterUnitGraph.getEdgeKey(indexA, unitA, edgeInfo.indexB, unitB);\n                        edgeKeyIndex.set(edgeKey, edges.length);\n                        var vertexKey = InterUnitGraph.getVertexKey(indexA, unitA);\n                        var e = vertexKeyIndex.get(vertexKey);\n                        if (e === undefined)\n                            vertexKeyIndex.set(vertexKey, [edges.length]);\n                        else\n                            e.push(edges.length);\n                        edges.push(__assign(__assign({}, edgeInfo), { indexA: indexA, unitA: unitA, unitB: unitB }));\n                    });\n                });\n            });\n        });\n        this.edgeCount = count;\n        this.edges = edges;\n        this.edgeKeyIndex = edgeKeyIndex;\n        this.vertexKeyIndex = vertexKeyIndex;\n    }\n    /** Get an array of unit-pair-edges that are connected to the given unit */\n    InterUnitGraph.prototype.getConnectedUnits = function (unit) {\n        if (!this.map.has(unit))\n            return emptyArray;\n        return this.map.get(unit);\n    };\n    /** Index into this.edges */\n    InterUnitGraph.prototype.getEdgeIndex = function (indexA, unitA, indexB, unitB) {\n        var edgeKey = InterUnitGraph.getEdgeKey(indexA, unitA, indexB, unitB);\n        var index = this.edgeKeyIndex.get(edgeKey);\n        return index !== undefined ? index : -1;\n    };\n    /** Check if edge exists */\n    InterUnitGraph.prototype.hasEdge = function (indexA, unitA, indexB, unitB) {\n        return this.getEdgeIndex(indexA, unitA, indexB, unitB) !== -1;\n    };\n    /** Get inter-unit edge given a pair of indices and units */\n    InterUnitGraph.prototype.getEdge = function (indexA, unitA, indexB, unitB) {\n        var index = this.getEdgeIndex(indexA, unitA, indexB, unitB);\n        return index !== -1 ? this.edges[index] : undefined;\n    };\n    /** Indices into this.edges */\n    InterUnitGraph.prototype.getEdgeIndices = function (index, unit) {\n        return this.vertexKeyIndex.get(InterUnitGraph.getVertexKey(index, unit)) || [];\n    };\n    return InterUnitGraph;\n}());\n(function (InterUnitGraph) {\n    var UnitPairEdges = /** @class */ (function () {\n        function UnitPairEdges(unitA, unitB, edgeCount, connectedIndices, edgeMap) {\n            this.unitA = unitA;\n            this.unitB = unitB;\n            this.edgeCount = edgeCount;\n            this.connectedIndices = connectedIndices;\n            this.edgeMap = edgeMap;\n        }\n        UnitPairEdges.prototype.hasEdges = function (indexA) {\n            return this.edgeMap.has(indexA);\n        };\n        UnitPairEdges.prototype.getEdges = function (indexA) {\n            if (!this.edgeMap.has(indexA))\n                return emptyArray;\n            return this.edgeMap.get(indexA);\n        };\n        Object.defineProperty(UnitPairEdges.prototype, \"areUnitsOrdered\", {\n            get: function () {\n                return this.unitA < this.unitB;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        return UnitPairEdges;\n    }());\n    InterUnitGraph.UnitPairEdges = UnitPairEdges;\n    function getEdgeKey(indexA, unitA, indexB, unitB) {\n        return \"\".concat(indexA, \"|\").concat(unitA, \"|\").concat(indexB, \"|\").concat(unitB);\n    }\n    InterUnitGraph.getEdgeKey = getEdgeKey;\n    function getVertexKey(index, unit) {\n        return \"\".concat(index, \"|\").concat(unit);\n    }\n    InterUnitGraph.getVertexKey = getVertexKey;\n    //\n    function addMapEntry(map, a, b) {\n        if (map.has(a))\n            map.get(a).push(b);\n        else\n            map.set(a, [b]);\n    }\n    var Builder = /** @class */ (function () {\n        function Builder() {\n            this.map = new Map();\n        }\n        Builder.prototype.startUnitPair = function (unitA, unitB) {\n            this.uA = unitA;\n            this.uB = unitB;\n            this.mapAB = new Map();\n            this.mapBA = new Map();\n            this.linkedA = UniqueArray.create();\n            this.linkedB = UniqueArray.create();\n            this.linkCount = 0;\n        };\n        Builder.prototype.finishUnitPair = function () {\n            if (this.linkCount === 0)\n                return;\n            addMapEntry(this.map, this.uA, new UnitPairEdges(this.uA, this.uB, this.linkCount, this.linkedA.array, this.mapAB));\n            addMapEntry(this.map, this.uB, new UnitPairEdges(this.uB, this.uA, this.linkCount, this.linkedB.array, this.mapBA));\n        };\n        Builder.prototype.add = function (indexA, indexB, props) {\n            addMapEntry(this.mapAB, indexA, { indexB: indexB, props: props });\n            addMapEntry(this.mapBA, indexB, { indexB: indexA, props: props });\n            UniqueArray.add(this.linkedA, indexA, indexA);\n            UniqueArray.add(this.linkedB, indexB, indexB);\n            this.linkCount += 1;\n        };\n        Builder.prototype.getMap = function () {\n            return this.map;\n        };\n        return Builder;\n    }());\n    InterUnitGraph.Builder = Builder;\n})(InterUnitGraph || (InterUnitGraph = {}));\nvar emptyArray = [];\n","/**\n * Copyright (c) 2017-2022 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\nimport { __extends } from \"tslib\";\nimport { IntAdjacencyGraph } from '../../../../../mol-math/graph';\nimport { Unit } from '../../unit';\nimport { InterUnitGraph } from '../../../../../mol-math/graph/inter-unit-graph';\nvar IntraUnitBonds;\n(function (IntraUnitBonds) {\n    IntraUnitBonds.Empty = IntAdjacencyGraph.create([], [], [], 0, { flags: [], order: [], key: [] });\n})(IntraUnitBonds || (IntraUnitBonds = {}));\nvar InterUnitBonds = /** @class */ (function (_super) {\n    __extends(InterUnitBonds, _super);\n    function InterUnitBonds() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /** Get inter-unit bond given a bond-location */\n    InterUnitBonds.prototype.getBondFromLocation = function (l) {\n        return Unit.isAtomic(l.aUnit) && Unit.isAtomic(l.bUnit) ? this.getEdge(l.aIndex, l.aUnit.id, l.bIndex, l.bUnit.id) : undefined;\n    };\n    /** Get inter-unit bond index given a bond-location */\n    InterUnitBonds.prototype.getBondIndexFromLocation = function (l) {\n        return Unit.isAtomic(l.aUnit) && Unit.isAtomic(l.bUnit) ? this.getEdgeIndex(l.aIndex, l.aUnit.id, l.bIndex, l.bUnit.id) : -1;\n    };\n    return InterUnitBonds;\n}(InterUnitGraph));\n(function (InterUnitBonds) {\n    var UnitPairBonds = /** @class */ (function (_super) {\n        __extends(UnitPairBonds, _super);\n        function UnitPairBonds() {\n            return _super !== null && _super.apply(this, arguments) || this;\n        }\n        return UnitPairBonds;\n    }(InterUnitGraph.UnitPairEdges));\n    InterUnitBonds.UnitPairBonds = UnitPairBonds;\n})(InterUnitBonds || (InterUnitBonds = {}));\nexport { IntraUnitBonds, InterUnitBonds };\n","/**\n * Copyright (c) 2017-2022 Mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\n/** Default for atomic bonds */\nexport var DefaultBondMaxRadius = 4;\nexport var DefaultBondComputationProps = {\n    forceCompute: false,\n    noCompute: false,\n    maxRadius: DefaultBondMaxRadius,\n};\n// H,D,T are all mapped to H\nvar __ElementIndex = { 'H': 0, 'h': 0, 'D': 0, 'd': 0, 'T': 0, 't': 0, 'He': 2, 'HE': 2, 'he': 2, 'Li': 3, 'LI': 3, 'li': 3, 'Be': 4, 'BE': 4, 'be': 4, 'B': 5, 'b': 5, 'C': 6, 'c': 6, 'N': 7, 'n': 7, 'O': 8, 'o': 8, 'F': 9, 'f': 9, 'Ne': 10, 'NE': 10, 'ne': 10, 'Na': 11, 'NA': 11, 'na': 11, 'Mg': 12, 'MG': 12, 'mg': 12, 'Al': 13, 'AL': 13, 'al': 13, 'Si': 14, 'SI': 14, 'si': 14, 'P': 15, 'p': 15, 'S': 16, 's': 16, 'Cl': 17, 'CL': 17, 'cl': 17, 'Ar': 18, 'AR': 18, 'ar': 18, 'K': 19, 'k': 19, 'Ca': 20, 'CA': 20, 'ca': 20, 'Sc': 21, 'SC': 21, 'sc': 21, 'Ti': 22, 'TI': 22, 'ti': 22, 'V': 23, 'v': 23, 'Cr': 24, 'CR': 24, 'cr': 24, 'Mn': 25, 'MN': 25, 'mn': 25, 'Fe': 26, 'FE': 26, 'fe': 26, 'Co': 27, 'CO': 27, 'co': 27, 'Ni': 28, 'NI': 28, 'ni': 28, 'Cu': 29, 'CU': 29, 'cu': 29, 'Zn': 30, 'ZN': 30, 'zn': 30, 'Ga': 31, 'GA': 31, 'ga': 31, 'Ge': 32, 'GE': 32, 'ge': 32, 'As': 33, 'AS': 33, 'as': 33, 'Se': 34, 'SE': 34, 'se': 34, 'Br': 35, 'BR': 35, 'br': 35, 'Kr': 36, 'KR': 36, 'kr': 36, 'Rb': 37, 'RB': 37, 'rb': 37, 'Sr': 38, 'SR': 38, 'sr': 38, 'Y': 39, 'y': 39, 'Zr': 40, 'ZR': 40, 'zr': 40, 'Nb': 41, 'NB': 41, 'nb': 41, 'Mo': 42, 'MO': 42, 'mo': 42, 'Tc': 43, 'TC': 43, 'tc': 43, 'Ru': 44, 'RU': 44, 'ru': 44, 'Rh': 45, 'RH': 45, 'rh': 45, 'Pd': 46, 'PD': 46, 'pd': 46, 'Ag': 47, 'AG': 47, 'ag': 47, 'Cd': 48, 'CD': 48, 'cd': 48, 'In': 49, 'IN': 49, 'in': 49, 'Sn': 50, 'SN': 50, 'sn': 50, 'Sb': 51, 'SB': 51, 'sb': 51, 'Te': 52, 'TE': 52, 'te': 52, 'I': 53, 'i': 53, 'Xe': 54, 'XE': 54, 'xe': 54, 'Cs': 55, 'CS': 55, 'cs': 55, 'Ba': 56, 'BA': 56, 'ba': 56, 'La': 57, 'LA': 57, 'la': 57, 'Ce': 58, 'CE': 58, 'ce': 58, 'Pr': 59, 'PR': 59, 'pr': 59, 'Nd': 60, 'ND': 60, 'nd': 60, 'Pm': 61, 'PM': 61, 'pm': 61, 'Sm': 62, 'SM': 62, 'sm': 62, 'Eu': 63, 'EU': 63, 'eu': 63, 'Gd': 64, 'GD': 64, 'gd': 64, 'Tb': 65, 'TB': 65, 'tb': 65, 'Dy': 66, 'DY': 66, 'dy': 66, 'Ho': 67, 'HO': 67, 'ho': 67, 'Er': 68, 'ER': 68, 'er': 68, 'Tm': 69, 'TM': 69, 'tm': 69, 'Yb': 70, 'YB': 70, 'yb': 70, 'Lu': 71, 'LU': 71, 'lu': 71, 'Hf': 72, 'HF': 72, 'hf': 72, 'Ta': 73, 'TA': 73, 'ta': 73, 'W': 74, 'w': 74, 'Re': 75, 'RE': 75, 're': 75, 'Os': 76, 'OS': 76, 'os': 76, 'Ir': 77, 'IR': 77, 'ir': 77, 'Pt': 78, 'PT': 78, 'pt': 78, 'Au': 79, 'AU': 79, 'au': 79, 'Hg': 80, 'HG': 80, 'hg': 80, 'Tl': 81, 'TL': 81, 'tl': 81, 'Pb': 82, 'PB': 82, 'pb': 82, 'Bi': 83, 'BI': 83, 'bi': 83, 'Po': 84, 'PO': 84, 'po': 84, 'At': 85, 'AT': 85, 'at': 85, 'Rn': 86, 'RN': 86, 'rn': 86, 'Fr': 87, 'FR': 87, 'fr': 87, 'Ra': 88, 'RA': 88, 'ra': 88, 'Ac': 89, 'AC': 89, 'ac': 89, 'Th': 90, 'TH': 90, 'th': 90, 'Pa': 91, 'PA': 91, 'pa': 91, 'U': 92, 'u': 92, 'Np': 93, 'NP': 93, 'np': 93, 'Pu': 94, 'PU': 94, 'pu': 94, 'Am': 95, 'AM': 95, 'am': 95, 'Cm': 96, 'CM': 96, 'cm': 96, 'Bk': 97, 'BK': 97, 'bk': 97, 'Cf': 98, 'CF': 98, 'cf': 98, 'Es': 99, 'ES': 99, 'es': 99, 'Fm': 100, 'FM': 100, 'fm': 100, 'Md': 101, 'MD': 101, 'md': 101, 'No': 102, 'NO': 102, 'no': 102, 'Lr': 103, 'LR': 103, 'lr': 103, 'Rf': 104, 'RF': 104, 'rf': 104, 'Db': 105, 'DB': 105, 'db': 105, 'Sg': 106, 'SG': 106, 'sg': 106, 'Bh': 107, 'BH': 107, 'bh': 107, 'Hs': 108, 'HS': 108, 'hs': 108, 'Mt': 109, 'MT': 109, 'mt': 109 };\n// Increased P (15) threshold from 1.9 to 2.0 (e.g. for G16 in 1O08)\nvar __ElementBondThresholds = { 0: 1.42, 1: 1.42, 3: 2.7, 4: 2.7, 6: 1.75, 7: 1.6, 8: 1.52, 11: 2.7, 12: 2.7, 13: 2.7, 14: 1.9, 15: 2.0, 16: 1.9, 17: 1.8, 19: 2.7, 20: 2.7, 21: 2.7, 22: 2.7, 23: 2.7, 24: 2.7, 25: 2.7, 26: 2.7, 27: 2.7, 28: 2.7, 29: 2.7, 30: 2.7, 31: 2.7, 33: 2.68, 37: 2.7, 38: 2.7, 39: 2.7, 40: 2.7, 41: 2.7, 42: 2.7, 43: 2.7, 44: 2.7, 45: 2.7, 46: 2.7, 47: 2.7, 48: 2.7, 49: 2.7, 50: 2.7, 55: 2.7, 56: 2.7, 57: 2.7, 58: 2.7, 59: 2.7, 60: 2.7, 61: 2.7, 62: 2.7, 63: 2.7, 64: 2.7, 65: 2.7, 66: 2.7, 67: 2.7, 68: 2.7, 69: 2.7, 70: 2.7, 71: 2.7, 72: 2.7, 73: 2.7, 74: 2.7, 75: 2.7, 76: 2.7, 77: 2.7, 78: 2.7, 79: 2.7, 80: 2.7, 81: 2.7, 82: 2.7, 83: 2.7, 87: 2.7, 88: 2.7, 89: 2.7, 90: 2.7, 91: 2.7, 92: 2.7, 93: 2.7, 94: 2.7, 95: 2.7, 96: 2.7, 97: 2.7, 98: 2.7, 99: 2.7, 100: 2.7, 101: 2.7, 102: 2.7, 103: 2.7, 104: 2.7, 105: 2.7, 106: 2.7, 107: 2.7, 108: 2.7, 109: 2.88 };\n/**\n * Added O-S (316) as 1.8\n * N-O-S bridge (e.g. LYS-CSO in 7B0L, 6ZWJ, 6ZWH)\n * (https://www.nature.com/articles/s41586-021-03513-3?s=09)\n *\n * Increased N-N (112) threshold from 1.55 to 1.6 (e.g. for 0QH in 1BMA)\n *\n * More experimentally observed bond length here (https://cccbdb.nist.gov/expbondlengths1x.asp)\n *\n * H-H (https://cccbdb.nist.gov/expbondlengths2x.asp?descript=rHH)\n * - 0.741\n *\n * Changed C-H (27) to 1.2\n * C-H (https://cccbdb.nist.gov/expbondlengths2x.asp?descript=rCH)\n * - Average    1.091 (+/- 0.017)\n * - Min        0.931\n * - Max        1.140\n *\n * Changed N-H (35) to 1.15\n * N-H (https://cccbdb.nist.gov/expbondlengths2x.asp?descript=rNH)\n * - Average    1.009 (+/- 0.043)\n * - Min        0.836\n * - Max        1.090\n *\n * Changed O-H (44) to 1.1\n * O-H (https://cccbdb.nist.gov/expbondlengths2x.asp?descript=rOH)\n * - Average    0.967 (+/- 0.022)\n * - Min        0.912\n * - Max        1.033\n *\n * Added P-H (135) as 1.47\n * P-H (https://cccbdb.nist.gov/expbondlengths2x.asp?descript=rPH)\n * - Average    1.423 ((+/- 0.007)\n * - Min        1.414\n * - Max        1.435\n *\n * Added S-H (152) as 1.45\n * S-H (https://cccbdb.nist.gov/expbondlengths2x.asp?descript=rSH)\n * - Average    1.345 (+/- 0.020)\n * - Min        1.322\n * - Max        1.400\n *\n * Added Si-Si (420) as 2.37\n * (https://cccbdb.nist.gov/expbondlengths2x.asp?descript=rSiSi)\n */\nvar __ElementPairThresholds = { 0: 0.8, 20: 1.31, 27: 1.2, 35: 1.15, 44: 1.1, 54: 1, 60: 1.84, 72: 1.88, 84: 1.75, 85: 1.56, 86: 1.76, 98: 1.6, 99: 1.68, 100: 1.63, 112: 1.6, 113: 1.59, 114: 1.36, 129: 1.45, 135: 1.47, 144: 1.6, 152: 1.45, 170: 1.4, 180: 1.55, 202: 2.4, 222: 2.24, 224: 1.91, 225: 1.98, 243: 2.02, 269: 2, 293: 1.9, 316: 1.8, 420: 2.37, 480: 2.3, 512: 2.3, 544: 2.3, 612: 2.1, 629: 1.54, 665: 1, 813: 2.6, 854: 2.27, 894: 1.93, 896: 2.1, 937: 2.05, 938: 2.06, 981: 1.62, 1258: 2.68, 1309: 2.33, 1484: 1, 1763: 2.14, 1823: 2.48, 1882: 2.1, 1944: 1.72, 2380: 2.34, 3367: 2.44, 3733: 2.11, 3819: 2.6, 3821: 2.36, 4736: 2.75, 5724: 2.73, 5959: 2.63, 6519: 2.84, 6750: 2.87, 8991: 2.81 };\nvar __DefaultBondingRadius = 2.001;\nexport var MetalsSet = (function () {\n    var metals = ['LI', 'NA', 'K', 'RB', 'CS', 'FR', 'BE', 'MG', 'CA', 'SR', 'BA', 'RA', 'AL', 'GA', 'IN', 'SN', 'TL', 'PB', 'BI', 'SC', 'TI', 'V', 'CR', 'MN', 'FE', 'CO', 'NI', 'CU', 'ZN', 'Y', 'ZR', 'NB', 'MO', 'TC', 'RU', 'RH', 'PD', 'AG', 'CD', 'LA', 'HF', 'TA', 'W', 'RE', 'OS', 'IR', 'PT', 'AU', 'HG', 'AC', 'RF', 'DB', 'SG', 'BH', 'HS', 'MT', 'CE', 'PR', 'ND', 'PM', 'SM', 'EU', 'GD', 'TB', 'DY', 'HO', 'ER', 'TM', 'YB', 'LU', 'TH', 'PA', 'U', 'NP', 'PU', 'AM', 'CM', 'BK', 'CF', 'ES', 'FM', 'MD', 'NO', 'LR'];\n    var set = new Set();\n    for (var _i = 0, metals_1 = metals; _i < metals_1.length; _i++) {\n        var m = metals_1[_i];\n        set.add(__ElementIndex[m]);\n    }\n    return set;\n})();\nfunction pair(a, b) {\n    if (a < b)\n        return (a + b) * (a + b + 1) / 2 + b;\n    else\n        return (a + b) * (a + b + 1) / 2 + a;\n}\nexport function getElementIdx(e) {\n    var i = __ElementIndex[e];\n    if (i === void 0)\n        return -1;\n    return i;\n}\nexport function getElementPairThreshold(i, j) {\n    if (i < 0 || j < 0)\n        return -1;\n    var r = __ElementPairThresholds[pair(i, j)];\n    if (r === void 0)\n        return -1;\n    return r;\n}\nexport function getElementThreshold(i) {\n    if (i < 0)\n        return __DefaultBondingRadius;\n    var r = __ElementBondThresholds[i];\n    if (r === void 0)\n        return __DefaultBondingRadius;\n    return r;\n}\nexport function getPairingThreshold(elementIndexA, elementIndexB, thresholdA, thresholdB) {\n    var thresholdAB = getElementPairThreshold(elementIndexA, elementIndexB);\n    return thresholdAB > 0\n        ? thresholdAB\n        : elementIndexB < 0\n            ? thresholdA\n            : (thresholdA + thresholdB) / 1.95; // not sure if avg or min but max is too big\n}\nvar H_ID = __ElementIndex['H'];\nexport function isHydrogen(i) {\n    return i === H_ID;\n}\n","/**\n * Copyright (c) 2019 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\nimport { AminoAcidNames, BaseNames } from '../../types';\n/**\n * Map of intra component bond orders in aminoacids and nucleotides assuming standard IUPAC naming.\n * The key is constructed as `${compId}|${atomId1}|${atomId2}` with `atomId1 < atomId2`.\n */\nvar IntraBondOrderTable = new Map([\n    ['HIS|CD2|CG', 2],\n    ['HIS|CE1|ND1', 2],\n    ['ARG|CZ|NH2', 2],\n    ['PHE|CE1|CZ', 2],\n    ['PHE|CD2|CE2', 2],\n    ['PHE|CD1|CG', 2],\n    ['TRP|CD1|CG', 2],\n    ['TRP|CD2|CE2', 2],\n    ['TRP|CE3|CZ3', 2],\n    ['TRP|CH2|CZ2', 2],\n    ['ASN|CG|OD1', 2],\n    ['GLN|CD|OE1', 2],\n    ['TYR|CD1|CG', 2],\n    ['TYR|CD2|CE2', 2],\n    ['TYR|CE1|CZ', 2],\n    ['ASP|CG|OD1', 2],\n    ['GLU|CD|OE1', 2],\n    ['G|C8|N7', 2],\n    ['G|C4|C5', 2],\n    ['G|C2|N3', 2],\n    ['G|C6|O6', 2],\n    ['C|C4|N3', 2],\n    ['C|C5|C6', 2],\n    ['C|C2|O2', 2],\n    ['A|C2|N3', 2],\n    ['A|C6|N1', 2],\n    ['A|C4|C5', 2],\n    ['A|C8|N7', 2],\n    ['U|C5|C6', 2],\n    ['U|C2|O2', 2],\n    ['U|C4|O4', 2],\n    ['DG|C8|N7', 2],\n    ['DG|C4|C5', 2],\n    ['DG|C2|N3', 2],\n    ['DG|C6|O6', 2],\n    ['DC|C4|N3', 2],\n    ['DC|C5|C6', 2],\n    ['DC|C2|O2', 2],\n    ['DA|C2|N3', 2],\n    ['DA|C6|N1', 2],\n    ['DA|C4|C5', 2],\n    ['DA|C8|N7', 2],\n    ['DT|C5|C6', 2],\n    ['DT|C2|O2', 2],\n    ['DT|C4|O4', 2]\n]);\n/**\n * Get order for bonds in aminoacids and nucleotides assuming standard IUPAC naming\n */\nexport function getIntraBondOrderFromTable(compId, atomId1, atomId2) {\n    var _a;\n    _a = atomId1 < atomId2 ? [atomId1, atomId2] : [atomId2, atomId1], atomId1 = _a[0], atomId2 = _a[1];\n    if (AminoAcidNames.has(compId) && atomId1 === 'C' && atomId2 === 'O')\n        return 2;\n    if (BaseNames.has(compId) && atomId1 === 'OP1' && atomId2 === 'P')\n        return 2;\n    return IntraBondOrderTable.get(\"\".concat(compId, \"|\").concat(atomId1, \"|\").concat(atomId2)) || 1;\n}\n/**\n * Map of inter component bond orders assuming PDBx/mmCIF naming.\n * The key is constructed as `${compId1}|${compId2}|${atomId1}|${atomId2}` with `compId1 < compId2`.\n */\nvar InterBondOrderTable = new Map([\n    ['LYS|NZ|RET|C15', 2] // Schiff base in Rhodopsin and Bacteriorhodopsin\n]);\n/**\n * Get order for bonds between component assuming PDBx/mmCIF naming.\n */\nexport function getInterBondOrderFromTable(compId1, atomId1, compId2, atomId2) {\n    var _a, _b;\n    if (compId1 > compId2) {\n        _a = [compId2, compId1], compId1 = _a[0], compId2 = _a[1];\n        _b = [atomId2, atomId1], atomId1 = _b[0], atomId2 = _b[1];\n    }\n    return InterBondOrderTable.get(\"\".concat(compId1, \"|\").concat(atomId1, \"|\").concat(compId2, \"|\").concat(atomId2)) || 1;\n}\n","/**\n * Copyright (c) 2017-2022 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * Code-generated 'mmCIF' schema file. Dictionary versions: mmCIF 5.379, IHM 1.23, MA 1.4.5.\n *\n * @author molstar/ciftools package\n */\nimport { Column } from '../../../../mol-data/db';\nvar Schema = Column.Schema;\nvar str = Schema.str;\nvar int = Schema.int;\nvar float = Schema.float;\nvar coord = Schema.coord;\nvar Aliased = Schema.Aliased;\nvar Matrix = Schema.Matrix;\nvar Vector = Schema.Vector;\nvar lstr = Schema.lstr;\nvar List = Schema.List;\nexport var mmCIF_Schema = {\n    /**\n     * Data items in the ATOM_SITE category record details about\n     * the atom sites in a macromolecular crystal structure, such as\n     * the positional coordinates, atomic displacement parameters,\n     * magnetic moments and directions.\n     *\n     * The data items for describing anisotropic atomic\n     * displacement factors are only used if the corresponding items\n     * are not given in the ATOM_SITE_ANISOTROP category.\n     *\n     * wwPDB recommends wwPDB-assigned residue number, residue ID,\n     * and chain ID, _atom_site.auth_seq_id _atom_site.auth_comp_id, and\n     * _atom_site.auth_asym_id, respectively, to be used for publication\n     * materials.\n     */\n    atom_site: {\n        /**\n         * An alternative identifier for _atom_site.label_asym_id that\n         * may be provided by an author in order to match the identification\n         * used in the publication that describes the structure.\n         */\n        auth_asym_id: str,\n        /**\n         * An alternative identifier for _atom_site.label_atom_id that\n         * may be provided by an author in order to match the identification\n         * used in the publication that describes the structure.\n         */\n        auth_atom_id: str,\n        /**\n         * An alternative identifier for _atom_site.label_comp_id that\n         * may be provided by an author in order to match the identification\n         * used in the publication that describes the structure.\n         */\n        auth_comp_id: str,\n        /**\n         * An alternative identifier for _atom_site.label_seq_id that\n         * may be provided by an author in order to match the identification\n         * used in the publication that describes the structure.\n         *\n         * Note that this is not necessarily a number, that the values do\n         * not have to be positive, and that the value does not have to\n         * correspond to the value of _atom_site.label_seq_id. The value\n         * of _atom_site.label_seq_id is required to be a sequential list\n         * of positive integers.\n         *\n         * The author may assign values to _atom_site.auth_seq_id in any\n         * desired way. For instance, the values may be used to relate\n         * this structure to a numbering scheme in a homologous structure,\n         * including sequence gaps or insertion codes. Alternatively, a\n         * scheme may be used for a truncated polymer that maintains the\n         * numbering scheme of the full length polymer. In all cases, the\n         * scheme used here must match the scheme used in the publication\n         * that describes the structure.\n         */\n        auth_seq_id: int,\n        /**\n         * Isotropic atomic displacement parameter, or equivalent isotropic\n         * atomic displacement parameter, B~eq~, calculated from the\n         * anisotropic displacement parameters.\n         *\n         * B~eq~ = (1/3) sum~i~[sum~j~(B^ij^ A~i~ A~j~ a*~i~ a*~j~)]\n         *\n         * A     = the real space cell lengths\n         * a*    = the reciprocal space cell lengths\n         * B^ij^ = 8 pi^2^ U^ij^\n         *\n         * Ref: Fischer, R. X. & Tillmanns, E. (1988). Acta Cryst. C44,\n         * 775-776.\n         *\n         * The IUCr Commission on Nomenclature recommends against the use\n         * of B for reporting atomic displacement parameters. U, being\n         * directly proportional to B, is preferred.\n         *\n         * Note -\n         *\n         * The particular type of ADP stored in this item is qualified\n         * by item _refine.pdbx_adp_type.\n         */\n        B_iso_or_equiv: float,\n        /**\n         * The x atom-site coordinate in angstroms specified according to\n         * a set of orthogonal Cartesian axes related to the cell axes as\n         * specified by the description given in\n         * _atom_sites.Cartn_transform_axes.\n         */\n        Cartn_x: coord,\n        /**\n         * The y atom-site coordinate in angstroms specified according to\n         * a set of orthogonal Cartesian axes related to the cell axes as\n         * specified by the description given in\n         * _atom_sites.Cartn_transform_axes.\n         */\n        Cartn_y: coord,\n        /**\n         * The z atom-site coordinate in angstroms specified according to\n         * a set of orthogonal Cartesian axes related to the cell axes as\n         * specified by the description given in\n         * _atom_sites.Cartn_transform_axes.\n         */\n        Cartn_z: coord,\n        /**\n         * The group of atoms to which the atom site belongs. This data\n         * item is provided for compatibility with the original Protein\n         * Data Bank format, and only for that purpose.\n         */\n        group_PDB: Aliased(str),\n        /**\n         * The value of _atom_site.id must uniquely identify a record in the\n         * ATOM_SITE list.\n         *\n         * Note that this item need not be a number; it can be any unique\n         * identifier.\n         *\n         * This data item was introduced to provide compatibility between\n         * small-molecule and macromolecular CIFs. In a small-molecule\n         * CIF, _atom_site_label is the identifier for the atom. In a\n         * macromolecular CIF, the atom identifier is the aggregate of\n         * _atom_site.label_alt_id, _atom_site.label_asym_id,\n         * _atom_site.label_atom_id, _atom_site.label_comp_id and\n         * _atom_site.label_seq_id. For the two types of files to be\n         * compatible, a formal identifier for the category had to be\n         * introduced that was independent of the different modes of\n         * identifying the atoms. For compatibility with older CIFs,\n         * _atom_site_label is aliased to _atom_site.id.\n         *\n         * In general, this aggregate identifier does not uniquely\n         * identify an atom site as for non-polymers _atom_site.label_seq_id\n         * is '.'.\n         */\n        id: int,\n        /**\n         * A place holder to indicate alternate conformation. The alternate conformation\n         * can be an entire polymer chain, or several residues or\n         * partial residue (several atoms within one residue). If\n         * an atom is provided in more than one position, then a\n         * non-blank alternate location indicator must be used for\n         * each of the atomic positions.\n         */\n        label_alt_id: str,\n        /**\n         * A component of the identifier for this atom site.\n         * For further details, see the definition of the STRUCT_ASYM\n         * category.\n         *\n         * This data item is a pointer to _struct_asym.id in the\n         * STRUCT_ASYM category.\n         */\n        label_asym_id: str,\n        /**\n         * A component of the identifier for this atom site.\n         *\n         * This data item is a pointer to _chem_comp_atom.atom_id in the\n         * CHEM_COMP_ATOM category.\n         */\n        label_atom_id: str,\n        /**\n         * A component of the identifier for this atom site.\n         *\n         * This data item is a pointer to _chem_comp.id in the CHEM_COMP\n         * category.\n         */\n        label_comp_id: str,\n        /**\n         * This data item is a pointer to _entity.id in the ENTITY category.\n         */\n        label_entity_id: str,\n        /**\n         * This data item is a pointer to _entity_poly_seq.num in the\n         * ENTITY_POLY_SEQ category.\n         */\n        label_seq_id: int,\n        /**\n         * The fraction of the atom type present at this site.\n         * The sum of the occupancies of all the atom types at this site\n         * may not exceed 1.0 unless it is a dummy site.\n         */\n        occupancy: float,\n        /**\n         * This data item is a pointer to _atom_type.symbol in the\n         * ATOM_TYPE category.\n         */\n        type_symbol: str,\n        /**\n         * PDB insertion code.\n         */\n        pdbx_PDB_ins_code: str,\n        /**\n         * PDB model number.\n         */\n        pdbx_PDB_model_num: int,\n        /**\n         * The net integer charge assigned to this atom. This is the\n         * formal charge assignment normally found in chemical diagrams.\n         */\n        pdbx_formal_charge: int,\n        /**\n         * This data item is an ordinal which identifies distinct chemical components in the atom_site category, both\n         * polymeric and non-polymeric.\n         */\n        pdbx_label_index: int,\n        /**\n         * The name of additional external databases with residue level mapping.\n         */\n        pdbx_sifts_xref_db_name: str,\n        /**\n         * The accession code related to the additional external database entry.\n         */\n        pdbx_sifts_xref_db_acc: str,\n        /**\n         * The sequence position of the external database entry that corresponds\n         * to the residue mapping defined by the SIFTS process.\n         */\n        pdbx_sifts_xref_db_num: str,\n        /**\n         * Describes the residue type of the given UniProt match\n         */\n        pdbx_sifts_xref_db_res: str,\n        /**\n         * The model id corresponding to the atom site.\n         * This data item is a pointer to _ihm_model_list.model_id\n         * in the IHM_MODEL_LIST category.\n         */\n        ihm_model_id: int,\n    },\n    /**\n     * Data items in the ATOM_SITE_ANISOTROP category record details\n     * about anisotropic displacement parameters.\n     * If the ATOM_SITE_ANISOTROP category is used for storing these\n     * data, the corresponding ATOM_SITE data items are not used.\n     */\n    atom_site_anisotrop: {\n        /**\n         * This data item is a pointer to _atom_site.id in the ATOM_SITE\n         * category.\n         */\n        id: int,\n        /**\n         * This data item is a pointer to _atom_type.symbol in the\n         * ATOM_TYPE category.\n         */\n        type_symbol: str,\n        /**\n         * The elements of the standard anisotropic atomic\n         * displacement matrix U, which appears in the structure-factor\n         * term as:\n         *\n         * T = exp{-2 pi^2^ sum~i~[sum~j~(U^ij^ h~i~ h~j~ a*~i~ a*~j~)]}\n         *\n         * h  = the Miller indices\n         * a* = the reciprocal space cell lengths\n         *\n         * These matrix elements may appear with atomic coordinates\n         * in the ATOM_SITE category, or they may appear in the separate\n         * ATOM_SITE_ANISOTROP category, but they may not appear in both\n         * places. Similarly, anisotropic displacements may appear as\n         * either B's or U's, but not as both.\n         *\n         * The unique elements of the real symmetric matrix are\n         * entered by row.\n         */\n        U: Matrix(3, 3),\n        /**\n         * The standard uncertainty (estimated standard deviation)\n         * of _atom_site_anisotrop.U.\n         */\n        U_esd: Matrix(3, 3),\n        /**\n         * Pointer to _atom_site.auth_seq_id\n         */\n        pdbx_auth_seq_id: str,\n        /**\n         * Pointer to _atom_site.auth_asym_id\n         */\n        pdbx_auth_asym_id: str,\n        /**\n         * Pointer to _atom_site.auth_atom_id\n         */\n        pdbx_auth_atom_id: str,\n        /**\n         * Pointer to _atom_site.auth_comp_id\n         */\n        pdbx_auth_comp_id: str,\n        /**\n         * Pointer to _atom_site.label_seq_id\n         */\n        pdbx_label_seq_id: int,\n        /**\n         * Pointer to _atom_site.label_alt_id.\n         */\n        pdbx_label_alt_id: str,\n        /**\n         * Pointer to _atom_site.label_asym_id\n         */\n        pdbx_label_asym_id: str,\n        /**\n         * Pointer to _atom_site.label_atom_id\n         */\n        pdbx_label_atom_id: str,\n        /**\n         * Pointer to _atom_site.label_comp_id\n         */\n        pdbx_label_comp_id: str,\n        /**\n         * Pointer to _atom_site.pdbx_PDB_ins_code\n         */\n        pdbx_PDB_ins_code: str,\n    },\n    /**\n     * Data items in the ATOM_SITES category record details about\n     * the crystallographic cell and cell transformations, which are\n     * common to all atom sites.\n     */\n    atom_sites: {\n        /**\n         * This data item is a pointer to _entry.id in the ENTRY category.\n         */\n        entry_id: str,\n        /**\n         * The elements of the 3x3 matrix used to transform Cartesian\n         * coordinates in the ATOM_SITE category to fractional coordinates\n         * in the same category. The axial alignments of this\n         * transformation are described in _atom_sites.Cartn_transform_axes.\n         * The 3x1 translation is defined in\n         * _atom_sites.fract_transf_vector[].\n         *\n         * |x'|               |11 12 13| |x|              |1|\n         * |y'|~fractional~ = |21 22 23| |y|~Cartesian~ + |2|\n         * |z'|               |31 32 33| |z|              |3|\n         */\n        fract_transf_matrix: Matrix(3, 3),\n        /**\n         * The elements of the three-element vector used to transform\n         * Cartesian coordinates in the ATOM_SITE category to fractional\n         * coordinates in the same category. The axial alignments of this\n         * transformation are described in _atom_sites.Cartn_transform_axes.\n         * The 3x3 rotation is defined in\n         * _atom_sites.fract_transf_matrix[][].\n         *\n         * |x'|               |11 12 13| |x|              |1|\n         * |y'|~fractional~ = |21 22 23| |y|~Cartesian~ + |2|\n         * |z'|               |31 32 33| |z|              |3|\n         */\n        fract_transf_vector: Vector(3),\n    },\n    /**\n     * Data items in the AUDIT_AUTHOR category record details about\n     * the author(s) of the data block.\n     */\n    audit_author: {\n        /**\n         * The name of an author of this data block. If there are multiple\n         * authors, _audit_author.name is looped with _audit_author.address.\n         * The family name(s), followed by a comma and including any\n         * dynastic components, precedes the first name(s) or initial(s).\n         */\n        name: str,\n        /**\n         * This data item defines the order of the author's name in the\n         * list of audit authors.\n         */\n        pdbx_ordinal: int,\n        /**\n         * The Open Researcher and Contributor ID (ORCID).\n         */\n        identifier_ORCID: str,\n    },\n    /**\n     * Data items in the AUDIT_CONFORM category describe the\n     * dictionary versions against which the data names appearing in\n     * the current data block are conformant.\n     */\n    audit_conform: {\n        /**\n         * A file name or uniform resource locator (URL) for the\n         * dictionary to which the current data block conforms.\n         */\n        dict_location: str,\n        /**\n         * The string identifying the highest-level dictionary defining\n         * data names used in this file.\n         */\n        dict_name: str,\n        /**\n         * The version number of the dictionary to which the current\n         * data block conforms.\n         */\n        dict_version: str,\n    },\n    /**\n     * Data items in the CELL category record details about the\n     * crystallographic cell parameters.\n     */\n    cell: {\n        /**\n         * Unit-cell angle alpha of the reported structure in degrees.\n         */\n        angle_alpha: float,\n        /**\n         * Unit-cell angle beta of the reported structure in degrees.\n         */\n        angle_beta: float,\n        /**\n         * Unit-cell angle gamma of the reported structure in degrees.\n         */\n        angle_gamma: float,\n        /**\n         * This data item is a pointer to _entry.id in the ENTRY category.\n         */\n        entry_id: str,\n        /**\n         * Unit-cell length a corresponding to the structure reported in\n         * angstroms.\n         */\n        length_a: float,\n        /**\n         * Unit-cell length b corresponding to the structure reported in\n         * angstroms.\n         */\n        length_b: float,\n        /**\n         * Unit-cell length c corresponding to the structure reported in\n         * angstroms.\n         */\n        length_c: float,\n        /**\n         * The number of the polymeric chains in a unit cell. In the case\n         * of heteropolymers, Z is the number of occurrences of the most\n         * populous chain.\n         *\n         * This data item is provided for compatibility with the original\n         * Protein Data Bank format, and only for that purpose.\n         */\n        Z_PDB: int,\n        /**\n         * To further identify unique axis if necessary.  E.g., P 21 with\n         * an unique C axis will have 'C' in this field.\n         */\n        pdbx_unique_axis: str,\n    },\n    /**\n     * Data items in the CHEM_COMP category give details about each\n     * of the chemical components from which the relevant chemical\n     * structures can be constructed, such as name, mass or charge.\n     *\n     * The related categories CHEM_COMP_ATOM, CHEM_COMP_BOND,\n     * CHEM_COMP_ANGLE etc. describe the detailed geometry of these\n     * chemical components.\n     */\n    chem_comp: {\n        /**\n         * The formula for the chemical component. Formulae are written\n         * according to the following rules:\n         *\n         * (1) Only recognized element symbols may be used.\n         *\n         * (2) Each element symbol is followed by a 'count' number. A count\n         * of '1' may be omitted.\n         *\n         * (3) A space or parenthesis must separate each cluster of\n         * (element symbol + count), but in general parentheses are\n         * not used.\n         *\n         * (4) The order of elements depends on whether carbon is\n         * present or not. If carbon is present, the order should be:\n         * C, then H, then the other elements in alphabetical order\n         * of their symbol. If carbon is not present, the elements\n         * are listed purely in alphabetic order of their symbol. This\n         * is the 'Hill' system used by Chemical Abstracts.\n         */\n        formula: str,\n        /**\n         * Formula mass in daltons of the chemical component.\n         */\n        formula_weight: float,\n        /**\n         * The value of _chem_comp.id must uniquely identify each item in\n         * the CHEM_COMP list.\n         *\n         * For protein polymer entities, this is the three-letter code for\n         * the amino acid.\n         *\n         * For nucleic acid polymer entities, this is the one-letter code\n         * for the base.\n         */\n        id: str,\n        /**\n         * 'yes' indicates that this is a 'standard' monomer, 'no'\n         * indicates that it is 'nonstandard'. Nonstandard monomers\n         * should be described in more detail using the\n         * _chem_comp.mon_nstd_parent, _chem_comp.mon_nstd_class and\n         * _chem_comp.mon_nstd_details data items.\n         */\n        mon_nstd_flag: Aliased(lstr),\n        /**\n         * The full name of the component.\n         */\n        name: str,\n        /**\n         * For standard polymer components, the type of the monomer.\n         * Note that monomers that will form polymers are of three types:\n         * linking monomers, monomers with some type of N-terminal (or 5')\n         * cap and monomers with some type of C-terminal (or 3') cap.\n         */\n        type: Aliased(lstr),\n        /**\n         * Synonym list for the component.\n         */\n        pdbx_synonyms: List(';', function (x) { return x; }),\n    },\n    /**\n     * Data items in the CHEM_COMP_BOND category record details about\n     * the bonds between atoms in a chemical component. Target values\n     * may be specified as bond orders, as a distance between the two\n     * atoms, or both.\n     */\n    chem_comp_bond: {\n        /**\n         * The ID of the first of the two atoms that define the bond.\n         *\n         * This data item is a pointer to _chem_comp_atom.atom_id in the\n         * CHEM_COMP_ATOM category.\n         */\n        atom_id_1: str,\n        /**\n         * The ID of the second of the two atoms that define the bond.\n         *\n         * This data item is a pointer to _chem_comp_atom.atom_id in the\n         * CHEM_COMP_ATOM category.\n         */\n        atom_id_2: str,\n        /**\n         * This data item is a pointer to _chem_comp.id in the CHEM_COMP\n         * category.\n         */\n        comp_id: str,\n        /**\n         * The value that should be taken as the target for the chemical\n         * bond associated with the specified atoms, expressed as a bond\n         * order.\n         */\n        value_order: Aliased(lstr),\n        /**\n         * Ordinal index for the component bond list.\n         */\n        pdbx_ordinal: int,\n        /**\n         * Stereochemical configuration across a double bond.\n         */\n        pdbx_stereo_config: Aliased(lstr),\n        /**\n         * A flag indicating an aromatic bond.\n         */\n        pdbx_aromatic_flag: Aliased(lstr),\n    },\n    /**\n     * Data items in the CITATION category record details about the\n     * literature cited as being relevant to the contents of the data\n     * block.\n     */\n    citation: {\n        /**\n         * The name of the publisher of the citation; relevant\n         * for books or book chapters.\n         */\n        book_publisher: str,\n        /**\n         * The country/region of publication; relevant for books\n         * and book chapters.\n         */\n        country: str,\n        /**\n         * The value of _citation.id must uniquely identify a record in the\n         * CITATION list.\n         *\n         * The _citation.id 'primary' should be used to indicate the\n         * citation that the author(s) consider to be the most pertinent to\n         * the contents of the data block.\n         *\n         * Note that this item need not be a number; it can be any unique\n         * identifier.\n         */\n        id: str,\n        /**\n         * Abbreviated name of the cited journal as given in the\n         * Chemical Abstracts Service Source Index.\n         */\n        journal_abbrev: str,\n        /**\n         * The American Society for Testing and Materials (ASTM) code\n         * assigned to the journal cited (also referred to as the CODEN\n         * designator of the Chemical Abstracts Service); relevant for\n         * journal articles.\n         */\n        journal_id_ASTM: str,\n        /**\n         * The Cambridge Structural Database (CSD) code assigned to the\n         * journal cited; relevant for journal articles. This is also the\n         * system used at the Protein Data Bank (PDB).\n         */\n        journal_id_CSD: str,\n        /**\n         * The International Standard Serial Number (ISSN) code assigned to\n         * the journal cited; relevant for journal articles.\n         */\n        journal_id_ISSN: str,\n        /**\n         * Volume number of the journal cited; relevant for journal\n         * articles.\n         */\n        journal_volume: str,\n        /**\n         * The first page of the citation; relevant for journal\n         * articles, books and book chapters.\n         */\n        page_first: str,\n        /**\n         * The last page of the citation; relevant for journal\n         * articles, books and book chapters.\n         */\n        page_last: str,\n        /**\n         * The title of the citation; relevant for journal articles, books\n         * and book chapters.\n         */\n        title: str,\n        /**\n         * The year of the citation; relevant for journal articles, books\n         * and book chapters.\n         */\n        year: int,\n        /**\n         * Document Object Identifier used by doi.org to uniquely\n         * specify bibliographic entry.\n         */\n        pdbx_database_id_DOI: str,\n        /**\n         * Ascession number used by PubMed to categorize a specific\n         * bibliographic entry.\n         */\n        pdbx_database_id_PubMed: int,\n    },\n    /**\n     * Data items in the CITATION_AUTHOR category record details\n     * about the authors associated with the citations in the\n     * CITATION list.\n     */\n    citation_author: {\n        /**\n         * This data item is a pointer to _citation.id in the CITATION\n         * category.\n         */\n        citation_id: str,\n        /**\n         * Name of an author of the citation; relevant for journal\n         * articles, books and book chapters.\n         *\n         * The family name(s), followed by a comma and including any\n         * dynastic components, precedes the first name(s) or initial(s).\n         */\n        name: str,\n        /**\n         * This data item defines the order of the author's name in the\n         * list of authors of a citation.\n         */\n        ordinal: int,\n    },\n    /**\n     * Data items in the DATABASE_2 category record details about the\n     * database identifiers of the data block.\n     *\n     * These data items are assigned by database managers and should\n     * only appear in a data block if they originate from that source.\n     *\n     * The name of this category, DATABASE_2, arose because the\n     * category name DATABASE was already in use in the core CIF\n     * dictionary, but was used differently from the way it needed\n     * to be used in the mmCIF dictionary. Since CIF data names\n     * cannot be changed once they have been adopted, a new category\n     * had to be created.\n     */\n    database_2: {\n        /**\n         * An abbreviation that identifies the database.\n         */\n        database_id: Aliased(lstr),\n        /**\n         * The code assigned by the database identified in\n         * _database_2.database_id.\n         */\n        database_code: str,\n    },\n    /**\n     * Data items in the ENTITY category record details (such as\n     * chemical composition, name and source) about the molecular\n     * entities that are present in the crystallographic structure.\n     *\n     * Items in the various ENTITY subcategories provide a full\n     * chemical description of these molecular entities.\n     *\n     * Entities are of three types:  polymer, non-polymer and water.\n     * Note that the water category includes only water;  ordered\n     * solvent such as sulfate ion or acetone would be described as\n     * individual non-polymer entities.\n     *\n     * The ENTITY category is specific to macromolecular CIF\n     * applications and replaces the function of the CHEMICAL category\n     * in the CIF core.\n     *\n     * It is important to remember that the ENTITY data are not the\n     * result of the crystallographic experiment;  those results are\n     * represented by the ATOM_SITE data items. ENTITY data items\n     * describe the chemistry of the molecules under investigation\n     * and can most usefully be thought of as the ideal groups to which\n     * the structure is restrained or constrained during refinement.\n     *\n     * It is also important to remember that entities do not correspond\n     * directly to the enumeration of the contents of the asymmetric\n     * unit. Entities are described only once, even in those structures\n     * that contain multiple observations of an entity. The\n     * STRUCT_ASYM data items, which reference the entity list,\n     * describe and label the contents of the asymmetric unit.\n     */\n    entity: {\n        /**\n         * A description of special aspects of the entity.\n         */\n        details: str,\n        /**\n         * Formula mass in daltons of the entity.\n         */\n        formula_weight: float,\n        /**\n         * The value of _entity.id must uniquely identify a record in the\n         * ENTITY list.\n         *\n         * Note that this item need not be a number; it can be any unique\n         * identifier.\n         */\n        id: str,\n        /**\n         * The method by which the sample for the entity was produced.\n         * Entities isolated directly from natural sources (tissues, soil\n         * samples etc.) are expected to have further information in the\n         * ENTITY_SRC_NAT category. Entities isolated from genetically\n         * manipulated sources are expected to have further information in\n         * the ENTITY_SRC_GEN category.\n         */\n        src_method: Aliased(lstr),\n        /**\n         * Defines the type of the entity.\n         *\n         * Polymer entities are expected to have corresponding\n         * ENTITY_POLY and associated entries.\n         *\n         * Non-polymer entities are expected to have corresponding\n         * CHEM_COMP and associated entries.\n         *\n         * Water entities are not expected to have corresponding\n         * entries in the ENTITY category.\n         */\n        type: Aliased(lstr),\n        /**\n         * A description of the entity.\n         *\n         * Corresponds to the compound name in the PDB format.\n         */\n        pdbx_description: List(',', function (x) { return x; }),\n        /**\n         * A place holder for the number of molecules of the entity in\n         * the entry.\n         */\n        pdbx_number_of_molecules: int,\n        /**\n         * Details about any entity mutation(s).\n         */\n        pdbx_mutation: str,\n        /**\n         * Entity fragment description(s).\n         */\n        pdbx_fragment: str,\n        /**\n         * Enzyme Commission (EC) number(s)\n         */\n        pdbx_ec: List(',', function (x) { return x; }),\n    },\n    /**\n     * Data items in the ENTITY_POLY category record details about the\n     * polymer, such as the type of the polymer, the number of\n     * monomers and whether it has nonstandard features.\n     */\n    entity_poly: {\n        /**\n         * This data item is a pointer to _entity.id in the ENTITY category.\n         */\n        entity_id: str,\n        /**\n         * A flag to indicate whether the polymer contains at least\n         * one monomer-to-monomer link different from that implied by\n         * _entity_poly.type.\n         */\n        nstd_linkage: Aliased(lstr),\n        /**\n         * A flag to indicate whether the polymer contains at least\n         * one monomer that is not considered standard.\n         */\n        nstd_monomer: Aliased(lstr),\n        /**\n         * The type of the polymer.\n         */\n        type: Aliased(str),\n        /**\n         * The PDB strand/chain id(s) corresponding to this polymer entity.\n         */\n        pdbx_strand_id: List(',', function (x) { return x; }),\n        /**\n         * Sequence of protein or nucleic acid polymer in standard one-letter\n         * codes of amino acids or nucleotides. Non-standard amino\n         * acids/nucleotides are represented by their Chemical\n         * Component Dictionary (CCD) codes in\n         * parenthesis. Deoxynucleotides are represented by the\n         * specially-assigned 2-letter CCD codes in parenthesis,\n         * with 'D' prefix added to their ribonucleotide\n         * counterparts. For hybrid polymer, each residue is\n         * represented by the code of its individual type. A\n         * cyclic polymer is represented in linear sequence from\n         * the chosen start to end.\n         *\n         * A for Alanine or Adenosine-5'-monophosphate\n         * C for Cysteine or Cytidine-5'-monophosphate\n         * D for Aspartic acid\n         * E for Glutamic acid\n         * F for Phenylalanine\n         * G for Glycine or Guanosine-5'-monophosphate\n         * H for Histidine\n         * I for Isoleucine or Inosinic Acid\n         * L for Leucine\n         * K for Lysine\n         * M for Methionine\n         * N for Asparagine  or Unknown ribonucleotide\n         * O for Pyrrolysine\n         * P for Proline\n         * Q for Glutamine\n         * R for Arginine\n         * S for Serine\n         * T for Threonine\n         * U for Selenocysteine or Uridine-5'-monophosphate\n         * V for Valine\n         * W for Tryptophan\n         * Y for Tyrosine\n         * (DA) for 2'-deoxyadenosine-5'-monophosphate\n         * (DC) for 2'-deoxycytidine-5'-monophosphate\n         * (DG) for 2'-deoxyguanosine-5'-monophosphate\n         * (DT) for Thymidine-5'-monophosphate\n         * (MSE) for Selenomethionine\n         * (SEP) for Phosphoserine\n         * (PTO) for Phosphothreonine\n         * (PTR) for Phosphotyrosine\n         * (PCA) for Pyroglutamic acid\n         * (UNK) for Unknown amino acid\n         * (ACE) for Acetylation cap\n         * (NH2) for Amidation cap\n         */\n        pdbx_seq_one_letter_code: str,\n        /**\n         * Canonical sequence of protein or nucleic acid polymer in standard\n         * one-letter codes of amino acids or nucleotides,\n         * corresponding to the sequence in\n         * _entity_poly.pdbx_seq_one_letter_code. Non-standard\n         * amino acids/nucleotides are represented by the codes of\n         * their parents if parent is specified in\n         * _chem_comp.mon_nstd_parent_comp_id, or by letter 'X' if\n         * parent is not specified. Deoxynucleotides are\n         * represented by their canonical one-letter codes of A,\n         * C, G, or T.\n         *\n         * For modifications with several parent amino acids,\n         * all corresponding parent amino acid codes will be listed\n         * (ex. chromophores).\n         */\n        pdbx_seq_one_letter_code_can: str,\n        /**\n         * For Structural Genomics entries, the sequence's target identifier registered at the TargetTrack database.\n         */\n        pdbx_target_identifier: str,\n    },\n    /**\n     * Data items in the ENTITY_POLY_SEQ category specify the sequence\n     * of monomers in a polymer. Allowance is made for the possibility\n     * of microheterogeneity in a sample by allowing a given sequence\n     * number to be correlated with more than one monomer ID. The\n     * corresponding ATOM_SITE entries should reflect this\n     * heterogeneity.\n     */\n    entity_poly_seq: {\n        /**\n         * This data item is a pointer to _entity.id in the ENTITY category.\n         */\n        entity_id: str,\n        /**\n         * A flag to indicate whether this monomer in the polymer is\n         * heterogeneous in sequence.\n         */\n        hetero: Aliased(lstr),\n        /**\n         * This data item is a pointer to _chem_comp.id in the CHEM_COMP\n         * category.\n         */\n        mon_id: str,\n        /**\n         * The value of _entity_poly_seq.num must uniquely and sequentially\n         * identify a record in the ENTITY_POLY_SEQ list.\n         *\n         * Note that this item must be a number and that the sequence\n         * numbers must progress in increasing numerical order.\n         */\n        num: int,\n    },\n    /**\n     * There is only one item in the ENTRY category, _entry.id. This\n     * data item gives a name to this entry and is indirectly a key to\n     * the categories (such as CELL, GEOM, EXPTL) that describe\n     * information pertinent to the entire data block.\n     */\n    entry: {\n        /**\n         * The value of _entry.id identifies the data block.\n         *\n         * Note that this item need not be a number; it can be any unique\n         * identifier.\n         */\n        id: str,\n    },\n    /**\n     * Data items in the EXPTL category record details about the\n     * experimental work prior to the intensity measurements and\n     * details about the absorption-correction technique employed.\n     */\n    exptl: {\n        /**\n         * This data item is a pointer to _entry.id in the ENTRY category.\n         */\n        entry_id: str,\n        /**\n         * The method used in the experiment.\n         */\n        method: Aliased(str),\n    },\n    /**\n     * Data items in the SOFTWARE category record details about\n     * the software used in the structure analysis, which implies\n     * any software used in the generation of any data items\n     * associated with the structure determination and\n     * structure representation.\n     *\n     * These data items allow computer programs to be referenced\n     * in more detail than data items in the COMPUTING category do.\n     */\n    software: {\n        /**\n         * The classification of the program according to its\n         * major function.\n         */\n        classification: str,\n        /**\n         * The date the software was released.\n         */\n        date: str,\n        /**\n         * Description of the software.\n         */\n        description: str,\n        /**\n         * The name of the software.\n         */\n        name: str,\n        /**\n         * The classification of the software according to the most\n         * common types.\n         */\n        type: Aliased(lstr),\n        /**\n         * The version of the software.\n         */\n        version: str,\n        /**\n         * An ordinal index for this category\n         */\n        pdbx_ordinal: int,\n    },\n    /**\n     * Data items in the STRUCT category record details about the\n     * description of the crystallographic structure.\n     */\n    struct: {\n        /**\n         * This data item is a pointer to _entry.id in the ENTRY category.\n         */\n        entry_id: str,\n        /**\n         * A title for the data block. The author should attempt to convey\n         * the essence of the structure archived in the CIF in the title,\n         * and to distinguish this structural result from others.\n         */\n        title: str,\n        /**\n         * An automatically generated descriptor for an NDB structure or\n         * the unstructured content of the PDB COMPND record.\n         */\n        pdbx_descriptor: str,\n    },\n    /**\n     * Data items in the STRUCT_ASYM category record details about the\n     * structural elements in the asymmetric unit.\n     */\n    struct_asym: {\n        /**\n         * A description of special aspects of this portion of the contents\n         * of the asymmetric unit.\n         */\n        details: str,\n        /**\n         * This data item is a pointer to _entity.id in the ENTITY category.\n         */\n        entity_id: str,\n        /**\n         * The value of _struct_asym.id must uniquely identify a record in\n         * the STRUCT_ASYM list.\n         *\n         * Note that this item need not be a number; it can be any unique\n         * identifier.\n         */\n        id: str,\n        /**\n         * This data item indicates whether the structural elements are modified.\n         */\n        pdbx_modified: str,\n        /**\n         * A flag indicating that this entity was originally labeled\n         * with a blank PDB chain id.\n         */\n        pdbx_blank_PDB_chainid_flag: Aliased(str),\n    },\n    /**\n     * Data items in the STRUCT_CONF category record details about\n     * the backbone conformation of a segment of polymer.\n     *\n     * Data items in the STRUCT_CONF_TYPE category define the\n     * criteria used to identify the backbone conformations.\n     */\n    struct_conf: {\n        /**\n         * A component of the identifier for the residue at which the\n         * conformation segment begins.\n         *\n         * This data item is a pointer to _atom_site.label_asym_id in the\n         * ATOM_SITE category.\n         */\n        beg_label_asym_id: str,\n        /**\n         * A component of the identifier for the residue at which the\n         * conformation segment begins.\n         *\n         * This data item is a pointer to _atom_site.label_comp_id in\n         * the ATOM_SITE category.\n         */\n        beg_label_comp_id: str,\n        /**\n         * A component of the identifier for the residue at which the\n         * conformation segment begins.\n         *\n         * This data item is a pointer to _atom_site.label_seq_id in the\n         * ATOM_SITE category.\n         */\n        beg_label_seq_id: int,\n        /**\n         * A component of the identifier for the residue at which the\n         * conformation segment begins.\n         *\n         * This data item is a pointer to _atom_site.auth_asym_id in the\n         * ATOM_SITE category.\n         */\n        beg_auth_asym_id: str,\n        /**\n         * A component of the identifier for the residue at which the\n         * conformation segment begins.\n         *\n         * This data item is a pointer to _atom_site.auth_comp_id in\n         * the ATOM_SITE category.\n         */\n        beg_auth_comp_id: str,\n        /**\n         * A component of the identifier for the residue at which the\n         * conformation segment begins.\n         *\n         * This data item is a pointer to _atom_site.auth_seq_id in the\n         * ATOM_SITE category.\n         */\n        beg_auth_seq_id: int,\n        /**\n         * This data item is a pointer to _struct_conf_type.id in the\n         * STRUCT_CONF_TYPE category.\n         */\n        conf_type_id: Aliased(lstr),\n        /**\n         * A description of special aspects of the conformation assignment.\n         */\n        details: str,\n        /**\n         * A component of the identifier for the residue at which the\n         * conformation segment ends.\n         *\n         * This data item is a pointer to _atom_site.label_asym_id in the\n         * ATOM_SITE category.\n         */\n        end_label_asym_id: str,\n        /**\n         * A component of the identifier for the residue at which the\n         * conformation segment ends.\n         *\n         * This data item is a pointer to _atom_site.label_comp_id in the\n         * ATOM_SITE category.\n         */\n        end_label_comp_id: str,\n        /**\n         * A component of the identifier for the residue at which the\n         * conformation segment ends.\n         *\n         * This data item is a pointer to _atom_site.label_seq_id in the\n         * ATOM_SITE category.\n         */\n        end_label_seq_id: int,\n        /**\n         * A component of the identifier for the residue at which the\n         * conformation segment ends.\n         *\n         * This data item is a pointer to _atom_site.auth_asym_id in the\n         * ATOM_SITE category.\n         */\n        end_auth_asym_id: str,\n        /**\n         * A component of the identifier for the residue at which the\n         * conformation segment ends.\n         *\n         * This data item is a pointer to _atom_site.auth_comp_id in the\n         * ATOM_SITE category.\n         */\n        end_auth_comp_id: str,\n        /**\n         * A component of the identifier for the residue at which the\n         * conformation segment ends.\n         *\n         * This data item is a pointer to _atom_site.auth_seq_id in the\n         * ATOM_SITE category.\n         */\n        end_auth_seq_id: int,\n        /**\n         * The value of _struct_conf.id must uniquely identify a record in\n         * the STRUCT_CONF list.\n         *\n         * Note that this item need not be a number; it can be any unique\n         * identifier.\n         */\n        id: str,\n        /**\n         * A component of the identifier for the residue at which the\n         * conformation segment starts.\n         */\n        pdbx_beg_PDB_ins_code: str,\n        /**\n         * A component of the identifier for the residue at which the\n         * conformation segment ends.\n         */\n        pdbx_end_PDB_ins_code: str,\n        /**\n         * This item is a place holder for the helix class used in the PDB\n         * HELIX record.\n         */\n        pdbx_PDB_helix_class: str,\n        /**\n         * A placeholder for the lengths of the helix of the PDB\n         * HELIX record.\n         */\n        pdbx_PDB_helix_length: int,\n        /**\n         * A placeholder for the helix identifier of the PDB\n         * HELIX record.\n         */\n        pdbx_PDB_helix_id: str,\n    },\n    /**\n     * Data items in the STRUCT_CONN category record details about\n     * the connections between portions of the structure. These can be\n     * hydrogen bonds, salt bridges, disulfide bridges and so on.\n     *\n     * The STRUCT_CONN_TYPE records define the criteria used to\n     * identify these connections.\n     */\n    struct_conn: {\n        /**\n         * This data item is a pointer to _struct_conn_type.id in the\n         * STRUCT_CONN_TYPE category.\n         */\n        conn_type_id: Aliased(lstr),\n        /**\n         * A description of special aspects of the connection.\n         */\n        details: str,\n        /**\n         * The value of _struct_conn.id must uniquely identify a record in\n         * the STRUCT_CONN list.\n         *\n         * Note that this item need not be a number; it can be any unique\n         * identifier.\n         */\n        id: str,\n        /**\n         * A component of the identifier for partner 1 of the structure\n         * connection.\n         *\n         * This data item is a pointer to _atom_site.label_asym_id in the\n         * ATOM_SITE category.\n         */\n        ptnr1_label_asym_id: str,\n        /**\n         * A component of the identifier for partner 1 of the structure\n         * connection.\n         *\n         * This data item is a pointer to _chem_comp_atom.atom_id in the\n         * CHEM_COMP_ATOM category.\n         */\n        ptnr1_label_atom_id: str,\n        /**\n         * A component of the identifier for partner 1 of the structure\n         * connection.\n         *\n         * This data item is a pointer to _atom_site.label_comp_id in the\n         * ATOM_SITE category.\n         */\n        ptnr1_label_comp_id: str,\n        /**\n         * A component of the identifier for partner 1 of the structure\n         * connection.\n         *\n         * This data item is a pointer to _atom_site.label_seq_id in the\n         * ATOM_SITE category.\n         */\n        ptnr1_label_seq_id: int,\n        /**\n         * A component of the identifier for partner 1 of the structure\n         * connection.\n         *\n         * This data item is a pointer to _atom_site.auth_asym_id in the\n         * ATOM_SITE category.\n         */\n        ptnr1_auth_asym_id: str,\n        /**\n         * A component of the identifier for partner 1 of the structure\n         * connection.\n         *\n         * This data item is a pointer to _atom_site.auth_comp_id in the\n         * ATOM_SITE category.\n         */\n        ptnr1_auth_comp_id: str,\n        /**\n         * A component of the identifier for partner 1 of the structure\n         * connection.\n         *\n         * This data item is a pointer to _atom_site.auth_seq_id in the\n         * ATOM_SITE category.\n         */\n        ptnr1_auth_seq_id: int,\n        /**\n         * Describes the symmetry operation that should be applied to the\n         * atom set specified by _struct_conn.ptnr1_label* to generate the\n         * first partner in the structure connection.\n         */\n        ptnr1_symmetry: str,\n        /**\n         * A component of the identifier for partner 2 of the structure\n         * connection.\n         *\n         * This data item is a pointer to _atom_site.label_asym_id in the\n         * ATOM_SITE category.\n         */\n        ptnr2_label_asym_id: str,\n        /**\n         * A component of the identifier for partner 2 of the structure\n         * connection.\n         *\n         * This data item is a pointer to _chem_comp_atom.atom_id in the\n         * CHEM_COMP_ATOM category.\n         */\n        ptnr2_label_atom_id: str,\n        /**\n         * A component of the identifier for partner 2 of the structure\n         * connection.\n         *\n         * This data item is a pointer to _atom_site.label_comp_id in the\n         * ATOM_SITE category.\n         */\n        ptnr2_label_comp_id: str,\n        /**\n         * A component of the identifier for partner 2 of the structure\n         * connection.\n         *\n         * This data item is a pointer to _atom_site.label_seq_id in the\n         * ATOM_SITE category.\n         */\n        ptnr2_label_seq_id: int,\n        /**\n         * A component of the identifier for partner 2 of the structure\n         * connection.\n         *\n         * This data item is a pointer to _atom_site.auth_asym_id in the\n         * ATOM_SITE category.\n         */\n        ptnr2_auth_asym_id: str,\n        /**\n         * A component of the identifier for partner 2 of the structure\n         * connection.\n         *\n         * This data item is a pointer to _atom_site.auth_comp_id in the\n         * ATOM_SITE category.\n         */\n        ptnr2_auth_comp_id: str,\n        /**\n         * A component of the identifier for partner 2 of the structure\n         * connection.\n         *\n         * This data item is a pointer to _atom_site.auth_seq_id in the\n         * ATOM_SITE category.\n         */\n        ptnr2_auth_seq_id: int,\n        /**\n         * Describes the symmetry operation that should be applied to the\n         * atom set specified by _struct_conn.ptnr2_label* to generate the\n         * second partner in the structure connection.\n         */\n        ptnr2_symmetry: str,\n        /**\n         * A component of the identifier for partner 1 of the structure\n         * connection.\n         *\n         * This data item is a pointer to _atom_site.pdbx_PDB_ins_code in the\n         * ATOM_SITE category.\n         */\n        pdbx_ptnr1_PDB_ins_code: str,\n        /**\n         * A component of the identifier for partner 1 of the\n         * structure connection. This data item is a pointer to\n         * _atom_site.label_alt_id in the ATOM_SITE category.\n         */\n        pdbx_ptnr1_label_alt_id: str,\n        /**\n         * A placeholder for the standard residue name found in\n         * the MODRES record of a PDB file.\n         */\n        pdbx_ptnr1_standard_comp_id: str,\n        /**\n         * A component of the identifier for partner 1 of the structure\n         * connection.\n         *\n         * This data item is a pointer to _atom_site.pdbx_PDB_ins_code in the\n         * ATOM_SITE category.\n         */\n        pdbx_ptnr2_PDB_ins_code: str,\n        /**\n         * A component of the identifier for partner 2 of the\n         * structure connection. This data item is a pointer to\n         * _atom_site.label_alt_id in the ATOM_SITE category.\n         */\n        pdbx_ptnr2_label_alt_id: str,\n        /**\n         * A component of the identifier for partner 3 of the\n         * structure connection. This data item is a pointer to\n         * _atom_site.pdbx_PDB_ins_code in the ATOM_SITE category.\n         */\n        pdbx_ptnr3_PDB_ins_code: str,\n        /**\n         * A component of the identifier for partner 3 of the\n         * structure connection. This data item is a pointer to\n         * _atom_site.label_alt_id in the ATOM_SITE category.\n         */\n        pdbx_ptnr3_label_alt_id: str,\n        /**\n         * A component of the identifier for partner 3 of the\n         * structure connection. This data item is a pointer to\n         * _atom_site.label_asym_id in the ATOM_SITE category.\n         */\n        pdbx_ptnr3_label_asym_id: str,\n        /**\n         * A component of the identifier for partner 3 of the\n         * structure connection. This data item is a pointer to\n         * _atom_site.label_atom_id in the ATOM_SITE category.\n         */\n        pdbx_ptnr3_label_atom_id: str,\n        /**\n         * A component of the identifier for partner 3 of the\n         * structure connection. This data item is a pointer to\n         * _atom_site.label_comp_id in the ATOM_SITE category.\n         */\n        pdbx_ptnr3_label_comp_id: str,\n        /**\n         * A component of the identifier for partner 1 of the\n         * structure connection. This data item is a pointer to\n         * _atom_site.label_seq_id in the ATOM_SITE category.\n         */\n        pdbx_ptnr3_label_seq_id: int,\n        /**\n         * A placeholder for the PDB id in the case the category\n         * is used to hold the information of the MODRES record of\n         * a PDB file.\n         */\n        pdbx_PDB_id: str,\n        /**\n         * Distance value for this contact.\n         */\n        pdbx_dist_value: float,\n        /**\n         * The chemical bond order associated with the specified atoms in\n         * this contact.\n         */\n        pdbx_value_order: Aliased(lstr),\n    },\n    /**\n     * Data items in the STRUCT_CONN_TYPE category record details\n     * about the criteria used to identify interactions between\n     * portions of the structure.\n     */\n    struct_conn_type: {\n        /**\n         * The criteria used to define the interaction.\n         */\n        criteria: str,\n        /**\n         * The chemical or structural type of the interaction.\n         */\n        id: Aliased(lstr),\n        /**\n         * A reference that specifies the criteria used to define the\n         * interaction.\n         */\n        reference: str,\n    },\n    /**\n     * Data items in the STRUCT_KEYWORDS category specify keywords\n     * that describe the chemical structure in this entry.\n     */\n    struct_keywords: {\n        /**\n         * This data item is a pointer to _entry.id in the ENTRY category.\n         */\n        entry_id: str,\n        /**\n         * Keywords describing this structure.\n         */\n        text: List(',', function (x) { return x; }),\n        /**\n         * Terms characterizing the macromolecular structure.\n         */\n        pdbx_keywords: str,\n    },\n    /**\n     * Data items in the STRUCT_NCS_OPER category describe the\n     * noncrystallographic symmetry operations.\n     *\n     * Each operator is specified as a matrix and a subsequent\n     * translation vector. Operators need not represent proper\n     * rotations.\n     */\n    struct_ncs_oper: {\n        /**\n         * A code to indicate whether this operator describes a\n         * relationship between coordinates all of which are given in the\n         * data block (in which case the value of code is 'given'), or\n         * whether the operator is used to generate new coordinates from\n         * those that are given in the data block (in which case the value\n         * of code is 'generate').\n         */\n        code: Aliased(str),\n        /**\n         * A description of special aspects of the noncrystallographic\n         * symmetry operator.\n         */\n        details: str,\n        /**\n         * The value of _struct_ncs_oper.id must uniquely identify a\n         * record in the STRUCT_NCS_OPER list.\n         *\n         * Note that for PDB _struct_ncs_oper.id must be a number.\n         */\n        id: int,\n        /**\n         * The elements of the 3x3 matrix component of a\n         * noncrystallographic symmetry operation.\n         */\n        matrix: Matrix(3, 3),\n        /**\n         * The elements of the three-element vector component of a\n         * noncrystallographic symmetry operation.\n         */\n        vector: Vector(3),\n    },\n    /**\n     * Data items in the STRUCT_SHEET_RANGE category record details\n     * about the residue ranges that form a beta-sheet. Residues are\n     * included in a range if they made beta-sheet-type hydrogen-bonding\n     * interactions with at least one adjacent strand and if there are\n     * at least two residues in the range.\n     */\n    struct_sheet_range: {\n        /**\n         * A component of the identifier for the residue at which the\n         * beta-sheet range begins.\n         *\n         * This data item is a pointer to _struct_asym.id in the\n         * STRUCT_ASYM category.\n         */\n        beg_label_asym_id: str,\n        /**\n         * A component of the identifier for the residue at which the\n         * beta-sheet range begins.\n         *\n         * This data item is a pointer to _chem_comp.id in the CHEM_COMP\n         * category.\n         */\n        beg_label_comp_id: str,\n        /**\n         * A component of the identifier for the residue at which the\n         * beta-sheet range begins.\n         *\n         * This data item is a pointer to _atom_site.label_seq_id in the\n         * ATOM_SITE category.\n         */\n        beg_label_seq_id: int,\n        /**\n         * A component of the identifier for the residue at which the\n         * beta-sheet range ends.\n         *\n         * This data item is a pointer to _struct_asym.id in the\n         * STRUCT_ASYM category.\n         */\n        end_label_asym_id: str,\n        /**\n         * A component of the identifier for the residue at which the\n         * beta-sheet range ends.\n         *\n         * This data item is a pointer to _chem_comp.id in the CHEM_COMP\n         * category.\n         */\n        end_label_comp_id: str,\n        /**\n         * A component of the identifier for the residue at which the\n         * beta-sheet range ends.\n         *\n         * This data item is a pointer to _atom_site.label_seq_id in the\n         * ATOM_SITE category.\n         */\n        end_label_seq_id: int,\n        /**\n         * A component of the identifier for the residue at which the\n         * beta-sheet range begins.\n         *\n         * This data item is a pointer to _atom_site.auth_asym_id in the\n         * ATOM_SITE category.\n         */\n        beg_auth_asym_id: str,\n        /**\n         * A component of the identifier for the residue at which the\n         * beta-sheet range begins.\n         *\n         * This data item is a pointer to _atom_site.auth_comp_id in\n         * the ATOM_SITE category.\n         */\n        beg_auth_comp_id: str,\n        /**\n         * A component of the identifier for the residue at which the\n         * beta-sheet range begins.\n         *\n         * This data item is a pointer to _atom_site.auth_seq_id in the\n         * ATOM_SITE category.\n         */\n        beg_auth_seq_id: int,\n        /**\n         * A component of the identifier for the residue at which the\n         * beta-sheet range ends.\n         *\n         * This data item is a pointer to _atom_site.auth_asym_id in the\n         * ATOM_SITE category.\n         */\n        end_auth_asym_id: str,\n        /**\n         * A component of the identifier for the residue at which the\n         * beta-sheet range ends.\n         *\n         * This data item is a pointer to _atom_site.auth_comp_id in the\n         * ATOM_SITE category.\n         */\n        end_auth_comp_id: str,\n        /**\n         * A component of the identifier for the residue at which the\n         * beta-sheet range ends.\n         *\n         * This data item is a pointer to _atom_site.auth_seq_id in the\n         * ATOM_SITE category.\n         */\n        end_auth_seq_id: int,\n        /**\n         * The value of _struct_sheet_range.id must uniquely identify a\n         * range in a given sheet in the STRUCT_SHEET_RANGE list.\n         *\n         * Note that this item need not be a number; it can be any unique\n         * identifier.\n         */\n        id: str,\n        /**\n         * This data item is a pointer to _struct_sheet.id in the\n         * STRUCT_SHEET category.\n         */\n        sheet_id: str,\n        /**\n         * A component of the identifier for the residue at which the\n         * beta sheet range begins.  Insertion code.\n         */\n        pdbx_beg_PDB_ins_code: str,\n        /**\n         * A component of the identifier for the residue at which the\n         * beta sheet range ends. Insertion code.\n         */\n        pdbx_end_PDB_ins_code: str,\n    },\n    /**\n     * Data items in the STRUCT_SITE category record details about\n     * portions of the structure that contribute to structurally\n     * relevant sites (e.g. active sites, substrate-binding subsites,\n     * metal-coordination sites).\n     */\n    struct_site: {\n        /**\n         * A description of special aspects of the site.\n         */\n        details: str,\n        /**\n         * The value of _struct_site.id must uniquely identify a record in\n         * the STRUCT_SITE list.\n         *\n         * Note that this item need not be a number; it can be any unique\n         * identifier.\n         */\n        id: str,\n        /**\n         * Number of residues in the site.\n         */\n        pdbx_num_residues: int,\n        /**\n         * Source of evidence supporting the assignment of this site.\n         */\n        pdbx_evidence_code: str,\n        /**\n         * A component of the identifier for the ligand in the site.\n         *\n         * This data item is a pointer to _atom_site.auth_asym_id in the\n         * ATOM_SITE category.\n         */\n        pdbx_auth_asym_id: str,\n        /**\n         * A component of the identifier for the ligand in the site.\n         *\n         * This data item is a pointer to _atom_site.auth_comp_id in the\n         * ATOM_SITE category.\n         */\n        pdbx_auth_comp_id: str,\n        /**\n         * A component of the identifier for the ligand in the site.\n         *\n         * This data item is a pointer to _atom_site.auth_seq_id in the\n         * ATOM_SITE category.\n         */\n        pdbx_auth_seq_id: str,\n        /**\n         * PDB insertion code for the ligand in the site.\n         */\n        pdbx_auth_ins_code: str,\n    },\n    /**\n     * Data items in the STRUCT_SITE_GEN category record details about\n     * the generation of portions of the structure that contribute to\n     * structurally relevant sites.\n     */\n    struct_site_gen: {\n        /**\n         * A description of special aspects of the symmetry generation of\n         * this portion of the structural site.\n         */\n        details: str,\n        /**\n         * The value of _struct_site_gen.id must uniquely identify a record\n         * in the STRUCT_SITE_GEN list.\n         *\n         * Note that this item need not be a number; it can be any unique\n         * identifier.\n         */\n        id: str,\n        /**\n         * A component of the identifier for participants in the site.\n         *\n         * This data item is a pointer to _atom_sites_alt.id in the\n         * ATOM_SITES_ALT category.\n         */\n        label_alt_id: str,\n        /**\n         * A component of the identifier for participants in the site.\n         *\n         * This data item is a pointer to _atom_site.label_asym_id in the\n         * ATOM_SITE category.\n         */\n        label_asym_id: str,\n        /**\n         * A component of the identifier for participants in the site.\n         *\n         * This data item is a pointer to _chem_comp_atom.atom_id in the\n         * CHEM_COMP_ATOM category.\n         */\n        label_atom_id: str,\n        /**\n         * A component of the identifier for participants in the site.\n         *\n         * This data item is a pointer to _atom_site.label_comp_id in the\n         * ATOM_SITE category.\n         */\n        label_comp_id: str,\n        /**\n         * A component of the identifier for participants in the site.\n         *\n         * This data item is a pointer to _atom_site.label_seq_id in the\n         * ATOM_SITE category.\n         */\n        label_seq_id: int,\n        /**\n         * A component of the identifier for participants in the site.\n         *\n         * This data item is a pointer to _atom_site.auth_asym_id in the\n         * ATOM_SITE category.\n         */\n        auth_asym_id: str,\n        /**\n         * A component of the identifier for participants in the site.\n         *\n         * This data item is a pointer to _atom_site.auth_comp_id in the\n         * ATOM_SITE category.\n         */\n        auth_comp_id: str,\n        /**\n         * A component of the identifier for participants in the site.\n         *\n         * This data item is a pointer to _atom_site.auth_seq_id in the\n         * ATOM_SITE category.\n         */\n        auth_seq_id: str,\n        /**\n         * This data item is a pointer to _struct_site.id in the STRUCT_SITE\n         * category.\n         */\n        site_id: str,\n        /**\n         * Describes the symmetry operation that should be applied to the\n         * atom set specified by _struct_site_gen.label* to generate a\n         * portion of the site.\n         */\n        symmetry: str,\n        /**\n         * PDB insertion code.\n         */\n        pdbx_auth_ins_code: str,\n        /**\n         * Number of residues in the site.\n         */\n        pdbx_num_res: int,\n    },\n    /**\n     * Data items in the SYMMETRY category record details about the\n     * space-group symmetry.\n     */\n    symmetry: {\n        /**\n         * This data item is a pointer to _entry.id in the ENTRY category.\n         */\n        entry_id: str,\n        /**\n         * The cell settings for this space-group symmetry.\n         */\n        cell_setting: Aliased(lstr),\n        /**\n         * Space-group number from International Tables for Crystallography\n         * Vol. A (2002).\n         */\n        Int_Tables_number: int,\n        /**\n         * Space-group symbol as described by Hall (1981). This symbol\n         * gives the space-group setting explicitly. Leave spaces between\n         * the separate components of the symbol.\n         *\n         * Ref: Hall, S. R. (1981). Acta Cryst. A37, 517-525; erratum\n         * (1981) A37, 921.\n         */\n        space_group_name_Hall: str,\n        /**\n         * Hermann-Mauguin space-group symbol. Note that the\n         * Hermann-Mauguin symbol does not necessarily contain complete\n         * information about the symmetry and the space-group origin. If\n         * used, always supply the FULL symbol from International Tables\n         * for Crystallography Vol. A (2002) and indicate the origin and\n         * the setting if it is not implicit. If there is any doubt that\n         * the equivalent positions can be uniquely deduced from this\n         * symbol, specify the  _symmetry_equiv.pos_as_xyz or\n         * _symmetry.space_group_name_Hall  data items as well. Leave\n         * spaces between symbols referring to\n         * different axes.\n         */\n        'space_group_name_H-M': str,\n    },\n    /**\n     * These are internal RCSB records to keep track of data processing\n     * and status of the entry.\n     */\n    pdbx_database_status: {\n        /**\n         * Code for status of file.\n         */\n        status_code: Aliased(str),\n        /**\n         * Code for status of structure factor file.\n         */\n        status_code_sf: Aliased(str),\n        /**\n         * Code for status of NMR constraints file.\n         */\n        status_code_mr: Aliased(str),\n        /**\n         * The value of _pdbx_database_status.entry_id identifies the data block.\n         */\n        entry_id: str,\n        /**\n         * The date of initial deposition.  (The first message for\n         * deposition has been received.)\n         */\n        recvd_initial_deposition_date: str,\n        /**\n         * This code indicates whether the entry belongs to\n         * Structural Genomics Project.\n         */\n        SG_entry: Aliased(lstr),\n        /**\n         * The site where the file was deposited.\n         */\n        deposit_site: Aliased(str),\n        /**\n         * The site where the file was deposited.\n         */\n        process_site: Aliased(str),\n        /**\n         * Code for status of chemical shift data file.\n         */\n        status_code_cs: Aliased(str),\n        /**\n         * The methods development category in which this\n         * entry has been placed.\n         */\n        methods_development_category: Aliased(str),\n        /**\n         * A flag indicating that the entry is compatible with the PDB format.\n         *\n         * A value of 'N' indicates that the no PDB format data file is\n         * corresponding to this entry is available in the PDB archive.\n         */\n        pdb_format_compatible: Aliased(lstr),\n    },\n    /**\n     * The PDBX_NONPOLY_SCHEME category provides residue level nomenclature\n     * mapping for non-polymer entities.\n     */\n    pdbx_nonpoly_scheme: {\n        /**\n         * Pointer to _atom_site.label_asym_id.\n         */\n        asym_id: str,\n        /**\n         * Pointer to _atom_site.label_entity_id.\n         */\n        entity_id: str,\n        /**\n         * Pointer to _atom_site.label_comp_id.\n         */\n        mon_id: str,\n        /**\n         * PDB strand/chain id.\n         */\n        pdb_strand_id: str,\n        /**\n         * NDB/RCSB residue number.\n         */\n        ndb_seq_num: str,\n        /**\n         * PDB residue number.\n         */\n        pdb_seq_num: str,\n        /**\n         * Author provided residue numbering.   This value may differ from the PDB residue\n         * number and may not correspond to residue numbering within the coordinate records.\n         */\n        auth_seq_num: str,\n        /**\n         * PDB residue identifier.\n         */\n        pdb_mon_id: str,\n        /**\n         * Author provided residue identifier.   This value may differ from the PDB residue\n         * identifier and may not correspond to residue identification within the coordinate records.\n         */\n        auth_mon_id: str,\n        /**\n         * PDB insertion code.\n         */\n        pdb_ins_code: str,\n    },\n    /**\n     * Data items in PDBX_DATABASE_RELATED contain references to entries\n     * that are related to the this entry.\n     */\n    pdbx_database_related: {\n        /**\n         * The name of the database containing the related entry.\n         */\n        db_name: str,\n        /**\n         * A description of the related entry.\n         */\n        details: str,\n        /**\n         * The identifying code in the related database.\n         */\n        db_id: str,\n        /**\n         * The identifying content type of the related entry.\n         */\n        content_type: Aliased(str),\n    },\n    /**\n     * The PDBX_ENTITY_NONPOLY category provides a mapping between\n     * entity and the nonpolymer component\n     */\n    pdbx_entity_nonpoly: {\n        /**\n         * This data item is a pointer to _entity.id in the ENTITY category.\n         */\n        entity_id: str,\n        /**\n         * This data item is a pointer to _chem_comp.id in the CHEM_COMP category.\n         */\n        comp_id: str,\n        /**\n         * A name for the non-polymer entity\n         */\n        name: str,\n    },\n    /**\n     * PDBX_CHEM_COMP_SYNONYMS holds chemical name and synonym correspondences.\n     */\n    pdbx_chem_comp_synonyms: {\n        /**\n         * The synonym of this particular chemical component.\n         */\n        name: str,\n        /**\n         * The chemical component for which this synonym applies.\n         */\n        comp_id: str,\n        /**\n         * The provenance of this synonym.\n         */\n        provenance: Aliased(str),\n    },\n    /**\n     * Data items in the CHEM_COMP_IDENTIFIER category provide\n     * identifiers for chemical components.\n     */\n    pdbx_chem_comp_identifier: {\n        /**\n         * This data item is a pointer to _chem_comp.id in the CHEM_COMP\n         * category.\n         */\n        comp_id: str,\n        /**\n         * This data item contains the identifier value for this\n         * component.\n         */\n        identifier: str,\n        /**\n         * This data item contains the identifier type.\n         */\n        type: Aliased(str),\n        /**\n         * This data item contains the name of the program\n         * or library used to compute the identifier.\n         */\n        program: str,\n        /**\n         * This data item contains the version of the program\n         * or library used to compute the identifier.\n         */\n        program_version: str,\n    },\n    /**\n     * Data items in the PDBX_UNOBS_OR_ZERO_OCC_RESIDUES category list the\n     * residues within the entry that are not observed or have zero occupancy.\n     */\n    pdbx_unobs_or_zero_occ_residues: {\n        /**\n         * The value of _pdbx_unobs_or_zero_occ_residues.id must uniquely identify\n         * each item in the PDBX_UNOBS_OR_ZERO_OCC_RESIDUES list.\n         *\n         * This is an integer serial number.\n         */\n        id: int,\n        /**\n         * The value of polymer flag indicates whether the unobserved or\n         * zero occupancy residue is part of a polymer chain or not\n         */\n        polymer_flag: Aliased(lstr),\n        /**\n         * The value of occupancy flag indicates whether the residue\n         * is unobserved (= 1) or the coordinates have an occupancy of zero (=0)\n         */\n        occupancy_flag: Aliased(int),\n        /**\n         * Part of the identifier for the unobserved or zero occupancy residue.\n         *\n         * This data item is a pointer to _atom_site.pdbx_PDB_model_num in the\n         * ATOM_SITE category.\n         */\n        PDB_model_num: int,\n        /**\n         * Part of the identifier for the unobserved or zero occupancy residue.\n         *\n         * This data item is a pointer to _atom_site.auth_asym_id in the\n         * ATOM_SITE category.\n         */\n        auth_asym_id: str,\n        /**\n         * Part of the identifier for the unobserved or zero occupancy residue.\n         *\n         * This data item is a pointer to _atom_site.auth_comp_id in the\n         * ATOM_SITE category.\n         */\n        auth_comp_id: str,\n        /**\n         * Part of the identifier for the unobserved or zero occupancy residue.\n         *\n         * This data item is a pointer to _atom_site.auth_seq_id in the\n         * ATOM_SITE category.\n         */\n        auth_seq_id: str,\n        /**\n         * Part of the identifier for the unobserved or zero occupancy residue.\n         *\n         * This data item is a pointer to _atom_site.pdbx_PDB_ins_code in the\n         * ATOM_SITE category.\n         */\n        PDB_ins_code: str,\n        /**\n         * Part of the identifier for the unobserved or zero occupancy residue.\n         *\n         * This data item is a pointer to _atom_site.label_asym_id in the\n         * ATOM_SITE category.\n         */\n        label_asym_id: str,\n        /**\n         * Part of the identifier for the unobserved or zero occupancy residue.\n         *\n         * This data item is a pointer to _atom_site.label_comp_id in the\n         * ATOM_SITE category.\n         */\n        label_comp_id: str,\n        /**\n         * Part of the identifier for the unobserved or zero occupancy residue.\n         *\n         * This data item is a pointer to _atom_site.label_seq_id in the\n         * ATOM_SITE category.\n         */\n        label_seq_id: int,\n    },\n    /**\n     * Data items in the PDBX_STRUCT_MOD_RESIDUE category list the\n     * modified polymer components in the entry and provide some\n     * details describing the nature of the modification.\n     */\n    pdbx_struct_mod_residue: {\n        /**\n         * The value of _pdbx_struct_mod_residue.id must uniquely identify\n         * each item in the PDBX_STRUCT_MOD_RESIDUE list.\n         *\n         * This is an integer serial number.\n         */\n        id: int,\n        /**\n         * Part of the identifier for the modified polymer component.\n         *\n         * This data item is a pointer to _atom_site.auth_asym_id in the\n         * ATOM_SITE category.\n         */\n        auth_asym_id: str,\n        /**\n         * Part of the identifier for the modified polymer component.\n         *\n         * This data item is a pointer to _atom_site.auth_comp_id in the\n         * ATOM_SITE category.\n         */\n        auth_comp_id: str,\n        /**\n         * Part of the identifier for the modified polymer component.\n         *\n         * This data item is a pointer to _atom_site.auth_seq_id in the\n         * ATOM_SITE category.\n         */\n        auth_seq_id: int,\n        /**\n         * Part of the identifier for the modified polymer component.\n         *\n         * This data item is a pointer to _atom_site.pdbx_PDB_ins_code in the\n         * ATOM_SITE category.\n         */\n        PDB_ins_code: str,\n        /**\n         * Part of the identifier for the modified polymer component.\n         *\n         * This data item is a pointer to _atom_site.label_asym_id in the\n         * ATOM_SITE category.\n         */\n        label_asym_id: str,\n        /**\n         * Part of the identifier for the modified polymer component.\n         *\n         * This data item is a pointer to _atom_site.label_comp_id in the\n         * ATOM_SITE category.\n         */\n        label_comp_id: str,\n        /**\n         * Part of the identifier for the unobserved or zero occupancy residue.\n         *\n         * This data item is a pointer to _atom_site.label_seq_id in the\n         * ATOM_SITE category.\n         */\n        label_seq_id: int,\n        /**\n         * The parent component identifier for this modified polymer component.\n         */\n        parent_comp_id: str,\n        /**\n         * Details of the modification for this polymer component.\n         */\n        details: str,\n    },\n    /**\n     * Data items in the PDBX_STRUCT_OPER_LIST category describe\n     * Cartesian rotation and translation operations required to\n     * generate or transform the coordinates deposited with this entry.\n     */\n    pdbx_struct_oper_list: {\n        /**\n         * This identifier code must uniquely identify a\n         * record in the PDBX_STRUCT_OPER_LIST list.\n         */\n        id: str,\n        /**\n         * A code to indicate the type of operator.\n         */\n        type: Aliased(str),\n        /**\n         * A descriptive name for the transformation operation.\n         */\n        name: str,\n        /**\n         * The symmetry operation corresponding to the transformation operation.\n         */\n        symmetry_operation: str,\n        /**\n         * The elements of the 3x3 matrix component of the\n         * transformation operation.\n         */\n        matrix: Matrix(3, 3),\n        /**\n         * The elements of the three-element vector component of the\n         * transformation operation.\n         */\n        vector: Vector(3),\n    },\n    /**\n     * Data items in the PDBX_STRUCT_ASSEMBLY category record details about\n     * the structural elements that form macromolecular assemblies.\n     */\n    pdbx_struct_assembly: {\n        /**\n         * Provides details of the method used to determine or\n         * compute the assembly.\n         */\n        method_details: str,\n        /**\n         * Provides the details of the oligomeric state of the assembly.\n         */\n        oligomeric_details: str,\n        /**\n         * The number of polymer molecules in the assembly.\n         */\n        oligomeric_count: int,\n        /**\n         * A description of special aspects of the macromolecular assembly.\n         *\n         * In the PDB, 'representative helical assembly', 'complete point assembly',\n         * 'complete icosahedral assembly', 'software_defined_assembly', 'author_defined_assembly',\n         * and 'author_and_software_defined_assembly' are considered \"biologically relevant assemblies.\n         */\n        details: str,\n        /**\n         * The value of _pdbx_struct_assembly.id must uniquely identify a record in\n         * the PDBX_STRUCT_ASSEMBLY list.\n         */\n        id: str,\n    },\n    /**\n     * Data items in the PDBX_STRUCT_ASSEMBLY_GEN category record details about\n     * the generation of each macromolecular assemblies. The PDBX_STRUCT_ASSEMBLY_GEN\n     * data items provide the specifications of the components that\n     * constitute that assembly in terms of cartesian transformations.\n     */\n    pdbx_struct_assembly_gen: {\n        /**\n         * This data item is a pointer to _struct_asym.id in\n         * the STRUCT_ASYM category.\n         *\n         * This item may be expressed as a comma separated list of identifiers.\n         */\n        asym_id_list: List(',', function (x) { return x; }),\n        /**\n         * This data item is a pointer to _pdbx_struct_assembly.id in the\n         * PDBX_STRUCT_ASSEMBLY category.\n         */\n        assembly_id: str,\n        /**\n         * Identifies the operation of collection of operations\n         * from category PDBX_STRUCT_OPER_LIST.\n         *\n         * Operation expressions may have the forms:\n         *\n         * (1)        the single operation 1\n         * (1,2,5)    the operations 1, 2, 5\n         * (1-4)      the operations 1,2,3 and 4\n         * (1,2)(3,4) the combinations of operations\n         * 3 and 4 followed by 1 and 2 (i.e.\n         * the cartesian product of parenthetical\n         * groups applied from right to left)\n         */\n        oper_expression: str,\n    },\n    /**\n     * Data items in the PDBX_REFERENCE_ENTITY_LIST category record\n     * the list of entities within each reference molecule.\n     */\n    pdbx_reference_entity_list: {\n        /**\n         * The value of _pdbx_reference_entity_list.prd_id is a reference\n         * _pdbx_reference_molecule.prd_id in the PDBX_REFERENCE_MOLECULE category.\n         */\n        prd_id: str,\n        /**\n         * The value of _pdbx_reference_entity_list.ref_entity_id is a unique identifier\n         * the a constituent entity within this reference molecule.\n         */\n        ref_entity_id: str,\n        /**\n         * Defines the polymer characteristic of the entity.\n         */\n        type: Aliased(lstr),\n        /**\n         * Additional details about this entity.\n         */\n        details: str,\n        /**\n         * The component number of this entity within the molecule.\n         */\n        component_id: int,\n    },\n    /**\n     * Data items in the PDBX_REFERENCE_ENTITY_LINK category give details about\n     * the linkages between entities within reference molecules.\n     */\n    pdbx_reference_entity_link: {\n        /**\n         * The value of _pdbx_reference_entity_link.link_id uniquely identifies\n         * linkages between entities with a molecule.\n         */\n        link_id: int,\n        /**\n         * The value of _pdbx_reference_entity_link.prd_id is a reference\n         * _pdbx_reference_entity_list.prd_id in the PDBX_REFERENCE_ENTITY_LIST category.\n         */\n        prd_id: str,\n        /**\n         * A description of special aspects of a linkage between\n         * chemical components in the structure.\n         */\n        details: str,\n        /**\n         * The reference entity id of the first of the two entities joined by the\n         * linkage.\n         *\n         * This data item is a pointer to _pdbx_reference_entity_list.ref_entity_id\n         * in the PDBX_REFERENCE_ENTITY_LIST category.\n         */\n        ref_entity_id_1: str,\n        /**\n         * The reference entity id of the second of the two entities joined by the\n         * linkage.\n         *\n         * This data item is a pointer to _pdbx_reference_entity_list.ref_entity_id\n         * in the PDBX_REFERENCE_ENTITY_LIST category.\n         */\n        ref_entity_id_2: str,\n        /**\n         * For a polymer entity, the sequence number in the first of\n         * the two entities containing the linkage.\n         *\n         * This data item is a pointer to _pdbx_reference_entity_poly_seq.num\n         * in the PDBX_REFERENCE_ENTITY_POLY_SEQ category.\n         */\n        entity_seq_num_1: int,\n        /**\n         * For a polymer entity, the sequence number in the second of\n         * the two entities containing the linkage.\n         *\n         * This data item is a pointer to _pdbx_reference_entity_poly_seq.num\n         * in the PDBX_REFERENCE_ENTITY_POLY_SEQ category.\n         */\n        entity_seq_num_2: int,\n        /**\n         * The component identifier in the first of the two entities containing the linkage.\n         *\n         * For polymer entities, this data item is a pointer to _pdbx_reference_entity_poly_seq.mon_id\n         * in the PDBX_REFERENCE_ENTITY_POLY_SEQ category.\n         *\n         * For non-polymer entities, this data item is a pointer to\n         * _pdbx_reference_entity_nonpoly.chem_comp_id in the\n         * PDBX_REFERENCE_ENTITY_NONPOLY category.\n         */\n        comp_id_1: str,\n        /**\n         * The component identifier in the second of the two entities containing the linkage.\n         *\n         * For polymer entities, this data item is a pointer to _pdbx_reference_entity_poly_seq.mon_id\n         * in the PDBX_REFERENCE_ENTITY_POLY_SEQ category.\n         *\n         * For non-polymer entities, this data item is a pointer to\n         * _pdbx_reference_entity_nonpoly.chem_comp_id in the\n         * PDBX_REFERENCE_ENTITY_NONPOLY category.\n         */\n        comp_id_2: str,\n        /**\n         * The atom identifier/name in the first of the two entities containing the linkage.\n         */\n        atom_id_1: str,\n        /**\n         * The atom identifier/name in the second of the two entities containing the linkage.\n         */\n        atom_id_2: str,\n        /**\n         * The bond order target for the chemical linkage.\n         */\n        value_order: Aliased(lstr),\n        /**\n         * The entity component identifier for the first of two entities containing the linkage.\n         */\n        component_1: int,\n        /**\n         * The entity component identifier for the second of two entities containing the linkage.\n         */\n        component_2: int,\n        /**\n         * A code indicating the entity types involved in the linkage.\n         */\n        link_class: Aliased(str),\n    },\n    /**\n     * Data items in the PDBX_REFERENCE_ENTITY_POLY_LINK category give details about\n     * polymer linkages including both standard and non-standard linkages between\n     * polymer componnents.\n     */\n    pdbx_reference_entity_poly_link: {\n        /**\n         * The value of _pdbx_reference_entity_poly_link.link_id uniquely identifies\n         * a linkage within a polymer entity.\n         */\n        link_id: int,\n        /**\n         * The value of _pdbx_reference_entity_poly_link.prd_id is a reference\n         * _pdbx_reference_entity_list.prd_id in the PDBX_REFERENCE_ENTITY_POLY category.\n         */\n        prd_id: str,\n        /**\n         * The reference entity id of the polymer entity containing the linkage.\n         *\n         * This data item is a pointer to _pdbx_reference_entity_poly.ref_entity_id\n         * in the PDBX_REFERENCE_ENTITY_POLY category.\n         */\n        ref_entity_id: str,\n        /**\n         * The entity component identifier entity containing the linkage.\n         */\n        component_id: int,\n        /**\n         * For a polymer entity, the sequence number in the first of\n         * the two components making the linkage.\n         *\n         * This data item is a pointer to _pdbx_reference_entity_poly_seq.num\n         * in the PDBX_REFERENCE_ENTITY_POLY_SEQ category.\n         */\n        entity_seq_num_1: int,\n        /**\n         * For a polymer entity, the sequence number in the second of\n         * the two components making the linkage.\n         *\n         * This data item is a pointer to _pdbx_reference_entity_poly_seq.num\n         * in the PDBX_REFERENCE_ENTITY_POLY_SEQ category.\n         */\n        entity_seq_num_2: int,\n        /**\n         * The component identifier in the first of the two components making the\n         * linkage.\n         *\n         * This data item is a pointer to _pdbx_reference_entity_poly_seq.mon_id\n         * in the PDBX_REFERENCE_ENTITY_POLY_SEQ category.\n         */\n        comp_id_1: str,\n        /**\n         * The component identifier in the second of the two components making the\n         * linkage.\n         *\n         * This data item is a pointer to _pdbx_reference_entity_poly_seq.mon_id\n         * in the PDBX_REFERENCE_ENTITY_POLY_SEQ category.\n         */\n        comp_id_2: str,\n        /**\n         * The atom identifier/name in the first of the two components making\n         * the linkage.\n         */\n        atom_id_1: str,\n        /**\n         * The atom identifier/name in the second of the two components making\n         * the linkage.\n         */\n        atom_id_2: str,\n        /**\n         * The bond order target for the non-standard linkage.\n         */\n        value_order: Aliased(lstr),\n    },\n    /**\n     * Data items in the PDBX_MOLECULE category identify reference molecules\n     * within a PDB entry.\n     */\n    pdbx_molecule: {\n        /**\n         * The value of _pdbx_molecule.prd_id is the PDB accession code for this\n         * reference molecule.\n         */\n        prd_id: str,\n        /**\n         * The value of _pdbx_molecule.instance_id is identifies a particular molecule\n         * in the molecule list.\n         */\n        instance_id: int,\n        /**\n         * A reference to _struct_asym.id in the STRUCT_ASYM category.\n         */\n        asym_id: str,\n    },\n    /**\n     * Data items in the PDBX_MOLECULE_FEATURES category record features of molecules\n     * within a PDB entry.\n     */\n    pdbx_molecule_features: {\n        /**\n         * The value of _pdbx_molecule_features.prd_id is the accession code for this\n         * reference molecule.\n         */\n        prd_id: str,\n        /**\n         * Broadly defines the function of the molecule.\n         */\n        class: Aliased(lstr),\n        /**\n         * Defines the structural classification of the molecule.\n         */\n        type: Aliased(lstr),\n        /**\n         * A name of the molecule.\n         */\n        name: str,\n        /**\n         * Additional details describing the molecule.\n         */\n        details: str,\n    },\n    /**\n     * Data items in the ENTITY_SRC_NAT category record details of\n     * the source from which the entity was obtained in cases\n     * where the entity was isolated directly from a natural tissue.\n     */\n    entity_src_nat: {\n        /**\n         * This data item is a pointer to _entity.id in the ENTITY category.\n         */\n        entity_id: str,\n        /**\n         * Scientific name of the organism of the natural source.\n         */\n        pdbx_organism_scientific: str,\n        /**\n         * The plasmid containing the gene.\n         */\n        pdbx_plasmid_name: str,\n        /**\n         * This data item is an ordinal identifier for entity_src_nat data records.\n         */\n        pdbx_src_id: int,\n        /**\n         * The beginning polymer sequence position for the polymer section corresponding\n         * to this source.\n         *\n         * A reference to the sequence position in the entity_poly category.\n         */\n        pdbx_beg_seq_num: int,\n        /**\n         * The ending polymer sequence position for the polymer section corresponding\n         * to this source.\n         *\n         * A reference to the sequence position in the entity_poly category.\n         */\n        pdbx_end_seq_num: int,\n    },\n    /**\n     * Data items in the ENTITY_SRC_GEN category record details of\n     * the source from which the entity was obtained in cases\n     * where the source was genetically manipulated.  The\n     * following are treated separately:  items pertaining to the tissue\n     * from which the gene was obtained, items pertaining to the host\n     * organism for gene expression and items pertaining to the actual\n     * producing organism (plasmid).\n     */\n    entity_src_gen: {\n        /**\n         * This data item is a pointer to _entity.id in the ENTITY category.\n         */\n        entity_id: str,\n        /**\n         * Identifies the gene.\n         */\n        pdbx_gene_src_gene: List(',', function (x) { return x; }),\n        /**\n         * Scientific name of the organism.\n         */\n        pdbx_gene_src_scientific_name: str,\n        /**\n         * The name of the plasmid that produced the entity in the host\n         * organism. Where full details of the protein production are available\n         * it would be expected that this item would be derived from\n         * _pdbx_construct.name of the construct pointed to from\n         * _entity_src_gen_express.plasmid_id.\n         */\n        plasmid_name: str,\n        /**\n         * This data item is an ordinal identifier for entity_src_gen data records.\n         */\n        pdbx_src_id: int,\n        /**\n         * The beginning polymer sequence position for the polymer section corresponding\n         * to this source.\n         *\n         * A reference to the sequence position in the entity_poly category.\n         */\n        pdbx_beg_seq_num: int,\n        /**\n         * The ending polymer sequence position for the polymer section corresponding\n         * to this source.\n         *\n         * A reference to the sequence position in the entity_poly category.\n         */\n        pdbx_end_seq_num: int,\n    },\n    /**\n     * The data items in category PDBX_ENTITY_SRC_SYN record the source details\n     * about chemically synthesized molecules.\n     */\n    pdbx_entity_src_syn: {\n        /**\n         * The scientific name of the organism from which the sequence of\n         * the synthetic entity was derived.\n         */\n        organism_scientific: str,\n        /**\n         * This data item is a pointer to _entity.id in the ENTITY category.\n         */\n        entity_id: str,\n        /**\n         * This data item is an ordinal identifier for pdbx_entity_src_syn data records.\n         */\n        pdbx_src_id: int,\n        /**\n         * The beginning polymer sequence position for the polymer section corresponding\n         * to this source.\n         *\n         * A reference to the sequence position in the entity_poly category.\n         */\n        pdbx_beg_seq_num: int,\n        /**\n         * The ending polymer sequence position for the polymer section corresponding\n         * to this source.\n         *\n         * A reference to the sequence position in the entity_poly category.\n         */\n        pdbx_end_seq_num: int,\n    },\n    /**\n     * Data items in the PDBX_ENTITY_BRANCH_DESCRIPTOR category provide\n     * string descriptors of entity chemical structure.\n     */\n    pdbx_entity_branch_descriptor: {\n        /**\n         * This data item is a pointer to _entity_poly.entity_id in the ENTITY\n         * category.\n         */\n        entity_id: str,\n        /**\n         * This data item contains the descriptor value for this\n         * entity.\n         */\n        descriptor: str,\n        /**\n         * This data item contains the descriptor type.\n         */\n        type: Aliased(lstr),\n        /**\n         * This data item contains the name of the program\n         * or library used to compute the descriptor.\n         */\n        program: str,\n        /**\n         * This data item contains the version of the program\n         * or library used to compute the descriptor.\n         */\n        program_version: str,\n        /**\n         * Ordinal index for this category.\n         */\n        ordinal: int,\n    },\n    /**\n     * Data items in the pdbx_entity_instance_feature category records\n     * special features of selected entity instances.\n     */\n    pdbx_entity_instance_feature: {\n        /**\n         * Special structural details about this entity instance.\n         */\n        details: str,\n        /**\n         * A feature type associated with entity instance.\n         */\n        feature_type: Aliased(str),\n        /**\n         * Author instance identifier (formerly PDB Chain ID)\n         */\n        auth_asym_id: str,\n        /**\n         * Instance identifier for this entity.\n         */\n        asym_id: str,\n        /**\n         * Author provided residue number.\n         */\n        auth_seq_num: str,\n        /**\n         * Position in the sequence.\n         */\n        seq_num: int,\n        /**\n         * Chemical component identifier\n         */\n        comp_id: str,\n        /**\n         * The author provided chemical component identifier\n         */\n        auth_comp_id: str,\n        /**\n         * An ordinal index for this category\n         */\n        ordinal: int,\n    },\n    /**\n     * Data items in the PDBX_ENTITY_BRANCH_LIST category specify the list\n     * of monomers in a branched entity.  Allowance is made for the possibility\n     * of microheterogeneity in a sample by allowing a given sequence\n     * number to be correlated with more than one monomer ID. The\n     * corresponding ATOM_SITE entries should reflect this\n     * heterogeneity.\n     */\n    pdbx_entity_branch_list: {\n        /**\n         * This data item is a pointer to _entity.id in the ENTITY category.\n         */\n        entity_id: str,\n        /**\n         * A flag to indicate whether this monomer in the entity is\n         * heterogeneous in sequence.\n         */\n        hetero: Aliased(lstr),\n        /**\n         * This data item is a pointer to _chem_comp.id in the CHEM_COMP\n         * category.\n         */\n        comp_id: str,\n        /**\n         * The value pair  _pdbx_entity_branch_list.num and _pdbx_entity_branch_list.comp_id\n         * must uniquely identify a record in the PDBX_ENTITY_BRANCH_LIST list.\n         */\n        num: int,\n    },\n    /**\n     * Data items in the PDBX_ENTITY_BRANCH_LINK category give details about\n     * the linkages between components within a branched entity.\n     */\n    pdbx_entity_branch_link: {\n        /**\n         * The value of _pdbx_entity_branch_link.link_id uniquely identifies\n         * linkages within the branched entity.\n         */\n        link_id: int,\n        /**\n         * A description of special aspects of this linkage.\n         */\n        details: str,\n        /**\n         * The entity id for this branched entity.\n         *\n         * This data item is a pointer to _pdbx_entity_branch_list.entity_id\n         * in the PDBX_ENTITY_BRANCH_LIST category.\n         */\n        entity_id: str,\n        /**\n         * The component number for the first component making the linkage.\n         *\n         * This data item is a pointer to _pdbx_entity_branch_list.num\n         * in the PDBX_ENTITY_BRANCH_LIST category.\n         */\n        entity_branch_list_num_1: int,\n        /**\n         * The component number for the second component making the linkage.\n         *\n         * This data item is a pointer to _pdbx_entity_branch_list.num\n         * in the PDBX_ENTITY_BRANCH_LIST category.\n         */\n        entity_branch_list_num_2: int,\n        /**\n         * The component identifier for the first component making the linkage.\n         *\n         * This data item is a pointer to _pdbx_entity_branch_list.comp_id\n         * in the PDBX_ENTITY_BRANCH_LIST category.\n         */\n        comp_id_1: str,\n        /**\n         * The component identifier for the second component making the linkage.\n         *\n         * This data item is a pointer to _pdbx_entity_branch_list.comp_id\n         * in the PDBX_ENTITY_BRANCH_LIST category.\n         */\n        comp_id_2: str,\n        /**\n         * The atom identifier/name for the first atom making the linkage.\n         */\n        atom_id_1: str,\n        /**\n         * The leaving atom identifier/name bonded to the first atom making the linkage.\n         */\n        leaving_atom_id_1: str,\n        /**\n         * The chiral configuration of the first atom making the linkage.\n         */\n        atom_stereo_config_1: Aliased(lstr),\n        /**\n         * The atom identifier/name for the second atom making the linkage.\n         */\n        atom_id_2: str,\n        /**\n         * The leaving atom identifier/name bonded to the second atom making the linkage.\n         */\n        leaving_atom_id_2: str,\n        /**\n         * The chiral configuration of the second atom making the linkage.\n         */\n        atom_stereo_config_2: Aliased(lstr),\n        /**\n         * The bond order target for the chemical linkage.\n         */\n        value_order: Aliased(lstr),\n    },\n    /**\n     * Data items in the PDBX_ENTITY_BRANCH category specify the list\n     * of branched entities and the type.\n     */\n    pdbx_entity_branch: {\n        /**\n         * The entity id for this branched entity.\n         *\n         * This data item is a pointer to _entity.id\n         */\n        entity_id: str,\n        /**\n         * The type of this branched oligosaccharide.\n         */\n        type: Aliased(str),\n    },\n    /**\n     * The PDBX_BRANCH_SCHEME category provides residue level nomenclature\n     * mapping for branch chain entities.\n     */\n    pdbx_branch_scheme: {\n        /**\n         * This data item is a pointer to _entity.id in the ENTITY category.\n         */\n        entity_id: str,\n        /**\n         * A flag to indicate whether this monomer in the entity is\n         * heterogeneous in sequence.\n         */\n        hetero: Aliased(lstr),\n        /**\n         * Pointer to _atom_site.label_asym_id.\n         */\n        asym_id: str,\n        /**\n         * This data item is a pointer to _atom_site.label_comp_id in the\n         * PDBX_ENTITY_BRANCH_LIST category.\n         */\n        mon_id: str,\n        /**\n         * This data item is a pointer to _pdbx_entity_branch_list.num in the\n         * PDBX_ENTITY_BRANCH_LIST category.\n         */\n        num: int,\n        /**\n         * This data item is a pointer to _atom_site.auth_asym_id in the\n         * ATOM_SITE category.\n         */\n        pdb_asym_id: str,\n        /**\n         * This data item is a pointer to _atom_site.auth_seq_id in the\n         * ATOM_SITE category.\n         */\n        pdb_seq_num: str,\n        /**\n         * This data item is a pointer to _atom_site.auth_comp_id in the\n         * ATOM_SITE category.\n         */\n        pdb_mon_id: str,\n        /**\n         * This data item is a pointer to _atom_site.pdbx_auth_asym_id in the\n         * ATOM_SITE category.\n         */\n        auth_asym_id: str,\n        /**\n         * This data item is a pointer to _atom_site.pdbx_auth_seq_id in the\n         * ATOM_SITE category.\n         */\n        auth_seq_num: str,\n        /**\n         * This data item is a pointer to _atom_site.pdbx_auth_comp_id in the\n         * ATOM_SITE category.\n         */\n        auth_mon_id: str,\n    },\n    /**\n     * PDBX_CHEM_COMP_RELATED describes the relationship between two chemical components.\n     */\n    pdbx_chem_comp_related: {\n        /**\n         * The chemical component for which this relationship applies.\n         */\n        comp_id: str,\n        /**\n         * The related chemical component for which this chemical component is based.\n         */\n        related_comp_id: str,\n        /**\n         * Describes the type of relationship\n         */\n        relationship_type: Aliased(str),\n        /**\n         * Describes the type of relationship\n         */\n        details: str,\n    },\n    /**\n     * Data items in the IHM_STARTING_MODEL_DETAILS category records the\n     * details about structural models used as starting inputs in\n     * the integrative model building process.\n     */\n    ihm_starting_model_details: {\n        /**\n         * A unique identifier for the starting structural model.\n         */\n        starting_model_id: str,\n        /**\n         * A unique identifier for the distinct molecular entities.\n         * This data item is a pointer to _entity.id in the ENTITY category.\n         */\n        entity_id: str,\n        /**\n         * A text description of the molecular entity\n         */\n        entity_description: str,\n        /**\n         * An asym/strand identifier for the entity molecule.\n         * This data item is a pointer to _struct_asym.id in the\n         * STRUCT_ASYM category.\n         */\n        asym_id: str,\n        /**\n         * The identifier for the polymeric segment modeled using this starting model.\n         * This data item is a pointer to _ihm_entity_poly_segment.id in the\n         * IHM_ENTITY_POLY_SEGMENT category.\n         */\n        entity_poly_segment_id: int,\n        /**\n         * The source of the starting model.\n         */\n        starting_model_source: Aliased(str),\n        /**\n         * The author assigned chainId/auth_asym_id corresponding to this starting model.\n         * This corresponds to the chainId/auth_asym_id of the experimental models in the\n         * PDB or comparative models in the Model Archive or the starting models referenced\n         * via a DOI. If starting models are included in IHM_STARTING_MODEL_COORD, then\n         * this will be the same as _ihm_starting_model_details.asym_id.\n         */\n        starting_model_auth_asym_id: str,\n        /**\n         * The offset in residue numbering between the starting model and the deposited I/H model, if applicable.\n         * I/H model residue number = Starting model residue number + offset\n         */\n        starting_model_sequence_offset: int,\n        /**\n         * Identifier to the starting model (comparative, experimental or integrative)\n         * used as input in the integrative modeling.\n         * This data item is a pointer to the _ihm_dataset_list.id in the\n         * IHM_DATASET_LIST category.\n         */\n        dataset_list_id: int,\n    },\n    /**\n     * Data items in the IHM_STARTING_COMPARATIVE_MODELS category records\n     * additional details about comparative models used as starting inputs in\n     * the integrative model building process.\n     */\n    ihm_starting_comparative_models: {\n        /**\n         * A unique identifier for the starting comparative model.\n         */\n        id: int,\n        /**\n         * The identifier for the starting structural model.\n         * This data item is a pointer to _ihm_starting_model_details.starting_model_id\n         * in the IHM_STARTING_MODEL_DETAILS category.\n         */\n        starting_model_id: str,\n        /**\n         * The chainId/auth_asym_id corresponding to the starting model.\n         */\n        starting_model_auth_asym_id: str,\n        /**\n         * The starting residue index of the starting model.\n         */\n        starting_model_seq_id_begin: int,\n        /**\n         * The ending residue index of the starting model.\n         */\n        starting_model_seq_id_end: int,\n        /**\n         * The chainId/auth_asym_id corresponding to the template.\n         */\n        template_auth_asym_id: str,\n        /**\n         * The starting residue index of the template.\n         */\n        template_seq_id_begin: int,\n        /**\n         * The ending residue index of the template.\n         */\n        template_seq_id_end: int,\n        /**\n         * The percentage sequence identity between the template sequence and the comparative model sequence.\n         */\n        template_sequence_identity: float,\n        /**\n         * The denominator used while calculating the sequence identity provided in\n         * _ihm_starting_comparative_models.template_sequence_identity.\n         */\n        template_sequence_identity_denominator: Aliased(int),\n        /**\n         * The dataset list id corresponding to the template used to obtain the comparative model.\n         * This data item is a pointer to _ihm_dataset_list.id in the IHM_DATASET_LIST category.\n         */\n        template_dataset_list_id: int,\n        /**\n         * The file id corresponding to the sequence alignment of the template sequence and the comparative model sequence.\n         * This data item is a pointer to _ihm_external_files.id in the IHM_EXTERNAL_FILES category.\n         */\n        alignment_file_id: int,\n    },\n    /**\n     * Data items in the IHM_STARTING_MODEL_SEQ_DIF category provide a\n     * mechanism for indicating and annotating point differences\n     * between the sequence of the entity or biological unit described\n     * in the data block and the sequence of the starting model used in\n     * the integrative modeling referenced from a database. The point\n     * differences may be due to point mutations introduced in the\n     * starting model or the presence of modified amino acid residues.\n     */\n    ihm_starting_model_seq_dif: {\n        /**\n         * A unique identifier for the entry.\n         */\n        id: int,\n        /**\n         * A unique identifier for the distinct molecular entities.\n         * This data item is a pointer to _entity_poly_seq.entity_id in the ENTITY_POLY category.\n         */\n        entity_id: str,\n        /**\n         * An asym/strand identifier for the entity molecule.\n         * This data item is a pointer to _struct_asym.id in the\n         * STRUCT_ASYM category.\n         */\n        asym_id: str,\n        /**\n         * The residue index.\n         * This data item is a pointer to _entity_poly_seq.num in the ENTITY_POLY_SEQ category.\n         */\n        seq_id: int,\n        /**\n         * The component identifier for the residue.\n         * This data item is a pointer to _entity_poly_seq.mon_id in the ENTITY_POLY_SEQ category.\n         */\n        comp_id: str,\n        /**\n         * Unique identifier for the starting model record.\n         * This data item is a pointer to _ihm_starting_model_details.starting_model_id in the\n         * IHM_STARTING_MODEL_DETAILS category.\n         */\n        starting_model_id: str,\n        /**\n         * The asym/strand identifier for the entity molecule of the database starting model.\n         */\n        db_asym_id: str,\n        /**\n         * The corresponding residue index of the database starting model.\n         */\n        db_seq_id: int,\n        /**\n         * The correspinding component identifier for the residue in the database starting model.\n         */\n        db_comp_id: str,\n        /**\n         * A description of special aspects of the point differences\n         * between the sequence of the entity or biological unit described\n         * in the data block and that in the starting model referenced\n         * from a database.\n         */\n        details: str,\n    },\n    /**\n     * Data items in the IHM_MODEL_REPRESENTATION category lists the\n     * various mono or multi-scale model representations used in the\n     * integrative modeling study.\n     */\n    ihm_model_representation: {\n        /**\n         * A unique identifier for the model representation.\n         */\n        id: int,\n        /**\n         * Name/brief description for the model representation.\n         */\n        name: str,\n        /**\n         * Additional details about the model representation.\n         */\n        details: str,\n    },\n    /**\n     * Data items in the IHM_MODEL_REPRESENTATION_DETAILS category records the\n     * details about the architecture and representation of structural\n     * models involved in the integrative modeling study.\n     */\n    ihm_model_representation_details: {\n        /**\n         * A unique identifier for the category.\n         */\n        id: int,\n        /**\n         * An identifier that collects or groups together a set of representations.\n         * This data item is a pointer to _ihm_model_representation.id in the\n         * IHM_MODEL_REPRESENTATION category.\n         */\n        representation_id: int,\n        /**\n         * The identifier for the polymeric segment in the representation.\n         * This data item is a pointer to _ihm_entity_poly_segment.id in the\n         * IHM_ENTITY_POLY_SEGMENT category.\n         */\n        entity_poly_segment_id: int,\n        /**\n         * A unique identifier distinct molecular entities.\n         * This data item is a pointer to _entity.id in the\n         * ENTITY category.\n         */\n        entity_id: str,\n        /**\n         * A text description of the molecular entity\n         */\n        entity_description: str,\n        /**\n         * An asym/strand identifier for the entity molecule.\n         * This data item is a pointer to _struct_asym.id in the\n         * STRUCT_ASYM category.\n         */\n        entity_asym_id: str,\n        /**\n         * The primitive object used to model this segment.\n         */\n        model_object_primitive: Aliased(str),\n        /**\n         * The identifier for the starting structural model.\n         * This data item is a pointer to _ihm_starting_model_details.starting_model_id\n         * in the IHM_STARTING_MODEL_DETAILS category.\n         */\n        starting_model_id: str,\n        /**\n         * The manner in which the segment is modeled.\n         */\n        model_mode: Aliased(str),\n        /**\n         * The level of detail at which model primitive objects are applied to the structure.\n         */\n        model_granularity: Aliased(str),\n        /**\n         * The number of primitive objects used to model a feature in the case of 'by-feature' granularity.\n         */\n        model_object_count: int,\n    },\n    /**\n     * Data items in the IHM_STRUCT_ASSEMBLY_DETAILS category records\n     * the details of the structural assemblies and used in the\n     * integrative modeling.\n     */\n    ihm_struct_assembly_details: {\n        /**\n         * A unique identifier for the structural assembly description.\n         */\n        id: int,\n        /**\n         * An identifier for the structural assembly.\n         * This data item will remain the same for all components\n         * of an assembly.\n         * This data item is a pointer to _ihm_struct_assembly.id\n         * in the IHM_STRUCT_ASSEMBLY category.\n         */\n        assembly_id: int,\n        /**\n         * The parent of this assembly in a hierarchy.\n         * This data item is a pointer to _ihm_struct_assembly.id in the\n         * IHM_STRUCT_ASSEMBLY category.\n         * This data item should point to the assembly id of the immediate\n         * parent in a hierarchy.\n         * By convention, the full assembly (top of hierarchy) is assigned parent id 0 (zero).\n         * In case of assemblies that do not conform to a hierarchy,\n         * _ihm_struct_assembly_details.parent_assembly_id is the same as\n         * _ihm_struct_assembly_details.assembly_id indicating a self-parent.\n         */\n        parent_assembly_id: int,\n        /**\n         * A text description of the molecular entity\n         */\n        entity_description: str,\n        /**\n         * A unique identifier for distinct molecular entities.\n         * This data item is a pointer to _entity.id in the\n         * ENTITY category.\n         */\n        entity_id: str,\n        /**\n         * An asym/strand identifier for the component in the assembly.\n         * This data item is a pointer to _struct_asym.id in the\n         * STRUCT_ASYM category.\n         */\n        asym_id: str,\n        /**\n         * The identifier for the polymeric segment in the assembly.\n         * This data item is a pointer to _ihm_entity_poly_segment.id in the\n         * IHM_ENTITY_POLY_SEGMENT category.\n         */\n        entity_poly_segment_id: int,\n    },\n    /**\n     * Data items in the IHM_STRUCT_ASSEMBLY category lists\n     * all the structural assemblies used in the integrative\n     * modeling study.\n     */\n    ihm_struct_assembly: {\n        /**\n         * A unique identifier for the structural assembly.\n         */\n        id: int,\n        /**\n         * A name for the structural assembly.\n         */\n        name: str,\n        /**\n         * Description of the structural assembly.\n         */\n        description: str,\n    },\n    /**\n     * Data items in the IHM_MODELING_PROTOCOL category lists all\n     * modeling protocols used in the integrative modeling study.\n     */\n    ihm_modeling_protocol: {\n        /**\n         * A unique identifier for the modeling protocol.\n         */\n        id: int,\n        /**\n         * Number of independent steps in the modeling protocol.\n         */\n        num_steps: int,\n        /**\n         * The name for the modeling protocol.\n         */\n        protocol_name: str,\n    },\n    /**\n     * Data items in the IHM_MODELING_PROTOCOL_DETAILS category records the\n     * step-wise details of the integrative modeling workflow.\n     */\n    ihm_modeling_protocol_details: {\n        /**\n         * A unique identifier for the modeling protocol/step combination.\n         */\n        id: int,\n        /**\n         * An index for the modeling protocol carried out.\n         * This data item is a pointer to _ihm_modeling_protocol.id in the\n         * IHM_MODELING_PROTOCOL category.\n         */\n        protocol_id: int,\n        /**\n         * An index for a particular step within the modeling protocol.\n         */\n        step_id: int,\n        /**\n         * An index for the structural assembly being modeled.\n         * This is an indicator to whether the whole assembly is modeled\n         * or if only a subset of the structural assembly is modeled.\n         * This data item is a pointer to _ihm_struct_assembly.id in the\n         * IHM_STRUCT_ASSEMBLY category. The IHM_STRUCT_ASSEMBLY category provides the\n         * details regarding the different structural assemblies used in the modeling.\n         * The default value for this data item is \"1\", indicating that the entire\n         * assembly is being modeled.\n         */\n        struct_assembly_id: int,\n        /**\n         * An index for the dataset group being used in the modeling protocol.\n         * This data item is a pointer to the _ihm_dataset_group.id in the\n         * IHM_DATASET_GROUP category.\n         */\n        dataset_group_id: int,\n        /**\n         * A textual description of the structural assembly being modeled.\n         */\n        struct_assembly_description: str,\n        /**\n         * The name or type of the modeling step.\n         */\n        step_name: str,\n        /**\n         * Description of the method involved in the modeling step.\n         */\n        step_method: str,\n        /**\n         * The number of models in the beginning of the step.\n         */\n        num_models_begin: int,\n        /**\n         * The number of models at the end of the step.\n         */\n        num_models_end: int,\n        /**\n         * A flag to indicate if the modeling is multi scale.\n         */\n        multi_scale_flag: Aliased(lstr),\n        /**\n         * A flag to indicate if the modeling is multi state.\n         */\n        multi_state_flag: Aliased(lstr),\n        /**\n         * A flag to indicate if the modeling involves an ensemble ordered by time or other order.\n         */\n        ordered_flag: Aliased(lstr),\n        /**\n         * The file id corresponding to the script used in the modeling protocol step.\n         * This data item is a pointer to _ihm_external_files.id in the IHM_EXTERNAL_FILES category.\n         */\n        script_file_id: int,\n        /**\n         * Identifier to the software used in the modeling protocol step.\n         * This data item is a pointer to the _software.pdbx_ordinal in the\n         * SOFTWARE category.\n         */\n        software_id: int,\n    },\n    /**\n     * Data items in the IHM_MULTI_STATE_MODELING category records the\n     * details of the multi-state modeling protocol, if applicable.\n     */\n    ihm_multi_state_modeling: {\n        /**\n         * A unique identifier for a particular state in the multi-state modeling.\n         */\n        state_id: int,\n        /**\n         * An identifier for a collections of states in the multi-state modeling.\n         * This data item can be used when structural models belong to diffent\n         * multi-state modeling types.\n         */\n        state_group_id: int,\n        /**\n         * A fraction representing the population of the particular state.\n         */\n        population_fraction: float,\n        /**\n         * The standard deviation of the population fraction.\n         */\n        population_fraction_sd: float,\n        /**\n         * The type that the multiple states being modeled belong to.\n         */\n        state_type: str,\n        /**\n         * A descriptive name for the state.\n         */\n        state_name: str,\n        /**\n         * The type of multi-state modeling experiment carried out.\n         */\n        experiment_type: Aliased(str),\n        /**\n         * Additional textual details of the multi-state modeling, if required.\n         */\n        details: str,\n    },\n    /**\n     * Data items in the IHM_MODELING_POST_PROCESS category records\n     * the details of the post processing of the models/results of\n     * the modeling protocol.\n     */\n    ihm_modeling_post_process: {\n        /**\n         * A unique identifier for the post modeling analysis/step combination.\n         */\n        id: int,\n        /**\n         * An identifier for the modeling protocol, whose post modeling analysis\n         * is being carried out.\n         * This data item is a pointer to the _ihm_modeling_protocol.id\n         * in the IHM_MODELING_PROTOCOL category.\n         */\n        protocol_id: int,\n        /**\n         * An identifier for the post modeling analysis. This data item accounts for\n         * multiple post-modeling analyses that can be carried out.\n         */\n        analysis_id: int,\n        /**\n         * In a multi-step process, this identifier denotes the particular\n         * step in the post modeling analysis.\n         */\n        step_id: int,\n        /**\n         * The type of post modeling analysis being carried out.\n         */\n        type: Aliased(str),\n        /**\n         * The parameter/feature used in the post modeling analysis.\n         */\n        feature: Aliased(str),\n        /**\n         * The number of models at the beginning of the post processing step.\n         */\n        num_models_begin: int,\n        /**\n         * The number of models the the end of the post processing step.\n         */\n        num_models_end: int,\n    },\n    /**\n     * Data items in the IHM_ENSEMBLE_INFO category records the\n     * details of the model clusters or ensembles obtained after\n     * sampling.\n     */\n    ihm_ensemble_info: {\n        /**\n         * A unique id for the ensemble.\n         */\n        ensemble_id: int,\n        /**\n         * An optional name for the cluster or ensemble for better description.\n         */\n        ensemble_name: str,\n        /**\n         * An identifier for the post modeling analyses carried out.\n         * This data item is a pointer to _ihm_modeling_post_process.id in\n         * the IHM_MODELING_POST_PROCESS category.\n         */\n        post_process_id: int,\n        /**\n         * An identifier for the cluster or group of models being deposited.\n         * This data item is a pointer to the _ihm_model_group.id\n         * in the IHM_MODEL_GROUP category.\n         */\n        model_group_id: int,\n        /**\n         * The clustering method used to obtain the ensemble, if applicable.\n         */\n        ensemble_clustering_method: Aliased(str),\n        /**\n         * The parameter/feature used for clustering the models, if applicable.\n         */\n        ensemble_clustering_feature: Aliased(str),\n        /**\n         * The number of models in the current ensemble being described.\n         */\n        num_ensemble_models: int,\n        /**\n         * The number of models from the current ensemble that is deposited.\n         */\n        num_ensemble_models_deposited: int,\n        /**\n         * The precision of each cluster or ensemble is calculated as dRMSD, which\n         * is the average C-alpha distance root mean square deviation (dRMSD)\n         * between the individual models in the cluster and the cluster centroid.\n         * The cluster centroid is defined as the model with the minimal sum of\n         * dRMSDs to the other models in the cluster or ensemble.\n         */\n        ensemble_precision_value: float,\n        /**\n         * A reference to the external file containing the structural models\n         * in the ensemble. The number of models in the external file should\n         * correspond to the number of models in the ensemble. This data item\n         * is a pointer to _ihm_external_files.id in the IHM_EXTERNAL_FILES\n         * category.\n         * It is recommended that the large ensemble files be stored as separate\n         * zip files within the same DOI. It is also recommended that large sphere\n         * model ensembles be in binary format, which facilitates faster access.\n         * Currently, a binary dump of co-ordinates in dcd format is suggested.\n         * The topology can be inferred from the IHM_SPHERE_OBJ_SITE and the\n         * ATOM_SITE categories in the corresponding mmCIF file.\n         */\n        ensemble_file_id: int,\n    },\n    /**\n     * Data items in the IHM_MODEL_LIST category record the\n     * details of the models being deposited.\n     */\n    ihm_model_list: {\n        /**\n         * A unique identifier for the structural model being deposited.\n         */\n        model_id: int,\n        /**\n         * A decsriptive name for the model.\n         */\n        model_name: str,\n        /**\n         * An identifier to the structure assembly corresponding to the model.\n         * This data item is a pointer to the _ihm_struct_assembly.id\n         * in the IHM_STRUCT_ASSEMBLY category.\n         */\n        assembly_id: int,\n        /**\n         * An identifier to the modeling protocol that produced the model.\n         * This data item is a pointer to the _ihm_modeling_protocol.id\n         * in the IHM_MODELING_PROTOCOL category.\n         */\n        protocol_id: int,\n        /**\n         * An identifier to the multi-scale model representation id of the model.\n         * This data item is a pointer to the _ihm_model_representation.id\n         * in the IHM_MODEL_REPRESENTATION category.\n         */\n        representation_id: int,\n    },\n    /**\n     * IHM_MODEL_GROUP category defines collections or groups of integrative\n     * structural models.\n     */\n    ihm_model_group: {\n        /**\n         * A unique identifier for a collection or group of structural models.\n         * This data item can be used to group models into structural clusters\n         * or using other criteria based on experimental data or other\n         * relationships such as those belonging to the same state or time stamp.\n         * An ensemble of models and its representative can either be grouped together\n         * or can be separate groups in the ihm_model_group table. The choice between\n         * the two options should be decided based on how the modeling was carried out\n         * and how the representative was chosen. If the representative is a member of\n         * the ensemble (i.e., best scoring model), then it is recommended that the\n         * representative and the ensemble belong to the same model group. If the\n         * representative is calculated from the ensemble (i.e., centroid), then it is\n         * recommended that the representative be separated into a different group.\n         */\n        id: int,\n        /**\n         * A name for the collection of models.\n         */\n        name: str,\n        /**\n         * Additional details about the collection of models.\n         */\n        details: str,\n    },\n    /**\n     * IHM_MODEL_GROUP_LINK category provides the list of models present in\n     * a particular model group.\n     */\n    ihm_model_group_link: {\n        /**\n         * An identifier for the structural model.\n         * This data item is a pointer to _ihm_model_list.model_id in the\n         * IHM_MODEL_LIST category.\n         */\n        model_id: int,\n        /**\n         * An identifier for the structural model group.\n         * This data item is a pointer to _ihm_model_group.id in the\n         * IHM_MODEL_GROUP category.\n         */\n        group_id: int,\n    },\n    /**\n     * Data items in the IHM_MODEL_REPRESENTATIVE category record the\n     * details of the representative model in an ensemble or cluster.\n     */\n    ihm_model_representative: {\n        /**\n         * A unique identifier for the representative of the model group.\n         */\n        id: int,\n        /**\n         * The model group identifier corresponding to the representative model.\n         * This data item is a pointer to _ihm_model_group.id in the\n         * IHM_MODEL_GROUP category.\n         */\n        model_group_id: int,\n        /**\n         * The model identifier corresponding to the representative model.\n         * This data item is a pointer to _ihm_model_list.model_id in the\n         * IHM_MODEL_LIST category.\n         */\n        model_id: int,\n        /**\n         * The selection criteria based on which the representative is chosen.\n         */\n        selection_criteria: Aliased(str),\n    },\n    /**\n     * Category holds the list of all datasets used in the IHM modeling.\n     * These can be datasets archived in other related databases such as\n     * BMRB, EMDB, EMPIAR, SASBDB, PRIDE etc., or can be hosted in other\n     * places such as the authors website, github etc. These datasets are\n     * elaborated in detail in the IHM_DATASET_RELATED_DB_REFERENCE and/or\n     * the IHM_DATASET_EXTERNAL_REFERENCE categories. This category\n     * holds the list of all datasets used.\n     */\n    ihm_dataset_list: {\n        /**\n         * A unique identifier for the dataset.\n         */\n        id: int,\n        /**\n         * The type of data held in the dataset.\n         */\n        data_type: Aliased(str),\n        /**\n         * A flag that indicates whether the dataset is archived in\n         * an IHM related database or elsewhere.\n         */\n        database_hosted: Aliased(lstr),\n    },\n    /**\n     * Category to define groups or collections of input datasets.\n     */\n    ihm_dataset_group: {\n        /**\n         * A unique identifier for the dataset group.\n         */\n        id: int,\n        /**\n         * A name for the dataset group.\n         */\n        name: str,\n        /**\n         * The application / utilization of the dataset group in modeling.\n         */\n        application: Aliased(str),\n        /**\n         * Additional details regarding the dataset group.\n         */\n        details: str,\n    },\n    /**\n     * IHM_DATASET_GROUP_LINK category provides the list of datasets present in\n     * a particular group.\n     */\n    ihm_dataset_group_link: {\n        /**\n         * An identifier for the dataset.\n         * This data item is a pointer to _ihm_dataset_list.id in the\n         * IHM_DATASET_LIST category.\n         */\n        dataset_list_id: int,\n        /**\n         * An identifier for the dataset group.\n         * This data item is a pointer to _ihm_dataset_group.id in the\n         * IHM_DATASET_GROUP category.\n         */\n        group_id: int,\n    },\n    /**\n     * Category holds information about related datasets, where one is derived from the other.\n     */\n    ihm_related_datasets: {\n        /**\n         * The dataset list id corresponding to the derived dataset.\n         * This data item is a pointer to _ihm_dataset_list.id in the\n         * IHM_DATASET_LIST category.\n         */\n        dataset_list_id_derived: int,\n        /**\n         * The primary dataset list id from which the corresponding derived dataset is obtained.\n         * This data item is a pointer to _ihm_dataset_list.id in the\n         * IHM_DATASET_LIST category.\n         */\n        dataset_list_id_primary: int,\n    },\n    /**\n     * Category holds information related to data sources for the entry.\n     * These can be datasets archived in other related databases such as\n     * BMRB, EMDB, EMPIAR, SASBDB, PRIDE etc.\n     */\n    ihm_dataset_related_db_reference: {\n        /**\n         * A unique identifier for the related database entry.\n         */\n        id: int,\n        /**\n         * Identifier to the dataset list used in the IHM modeling.\n         * This data item is a pointer to the _ihm_dataset_list.id in the\n         * IHM_DATASET_LIST category.\n         */\n        dataset_list_id: int,\n        /**\n         * The name of the database containing the dataset entry.\n         */\n        db_name: Aliased(str),\n        /**\n         * The accession code for the database entry.\n         */\n        accession_code: str,\n        /**\n         * Version of the database entry, if the database allows versioning.\n         */\n        version: str,\n        /**\n         * Details regarding the dataset entry.\n         */\n        details: str,\n    },\n    /**\n     * Category holds links to other external data sources for the I/H model entry.\n     * Input datasets held in other databases such as EMDB, BMRB, SASBDB etc.\n     * are referenced in the IHM_DATASET_RELATED_DB_REFERENCE category.\n     * This data category, along with IHM_EXTERNAL_FILES category, holds information\n     * regarding other non-database external data sources, such as  DOIs (digital\n     * object identifiers) or supplementary files stored locally. The DOIs can either\n     * lead to the external data file(s) directly (as in case of DOIs provided by the PDB)\n     * or might lead to an HTML landing page (as provided by Zenodo). In the latter case,\n     * additional URL (Uniform Resource Locator) information is required to retrieve\n     * the external data file(s).\n     */\n    ihm_external_reference_info: {\n        /**\n         * A unique identifier for the external reference.\n         */\n        reference_id: int,\n        /**\n         * The name of the reference provider.\n         */\n        reference_provider: str,\n        /**\n         * The type of external reference.\n         * Currently, only Digital Object Identifiers (DOIs) and supplementary files\n         * stored locally are supported.\n         */\n        reference_type: Aliased(str),\n        /**\n         * The external reference or the Digital Object Identifier (DOI).\n         * This field is not relevant for local files.\n         */\n        reference: str,\n        /**\n         * The type of object that the external reference points to, usually\n         * a single file or an archive.\n         */\n        refers_to: Aliased(str),\n        /**\n         * The Uniform Resource Locator (URL) corresponding to the external reference (DOI).\n         * This URL should link to the corresponding downloadable file or archive and is provided\n         * to enable automated software to download the referenced file or archive.\n         */\n        associated_url: str,\n    },\n    /**\n     * Category provides details regarding external files. The IHM_EXTERNAL_REFERENCE_INFO\n     * category captures the top-level details regarding external data sources.\n     * This category captures the specific details regarding externally stored files\n     * related to the particular I/H model entry.\n     */\n    ihm_external_files: {\n        /**\n         * A unique identifier for each external file.\n         */\n        id: int,\n        /**\n         * A pointer to the source of the external file - either DOI or locally stored.\n         * This data item is a pointer to _ihm_external_reference_info.reference_id in the\n         * IHM_EXTERNAL_REFERENCE_INFO category.\n         */\n        reference_id: int,\n        /**\n         * The relative path (including filename) for each external file.\n         * Absolute paths (starting with \"/\") are not permitted.\n         * This is required for identifying individual files from within\n         * a tar-zipped archive file or for identifying supplementary local\n         * files organized within a directory structure.\n         * This data item assumes a POSIX-like directory structure or file path.\n         */\n        file_path: str,\n        /**\n         * The type of content in the file.\n         */\n        content_type: Aliased(str),\n        /**\n         * Storage size of the external file in bytes.\n         */\n        file_size_bytes: float,\n        /**\n         * Additional textual details regarding the external file.\n         */\n        details: str,\n    },\n    /**\n     * Category provides additional details regarding input data hosted externally\n     * at other resources.\n     */\n    ihm_dataset_external_reference: {\n        /**\n         * A unique identifier for the external data.\n         */\n        id: int,\n        /**\n         * Identifier to the dataset list used in the I/H modeling.\n         * This data item is a pointer to the _ihm_dataset_list.id in the\n         * IHM_DATASET_LIST category.\n         */\n        dataset_list_id: int,\n        /**\n         * The file id corresponding to this external data file.\n         * This data item is a pointer to _ihm_external_files.id\n         * in the IHM_EXTERNAL_FILES category.\n         */\n        file_id: int,\n    },\n    /**\n     * Data items in the IHM_LOCALIZATION_DENSITY_FILES category records the\n     * details of files that provide information regarding localization densities\n     * of ensembles. These may be stored externally as local files or linked via\n     * DOI and can be in any accepted format that provides volume information\n     * (CCP4, MRC, etc.).\n     */\n    ihm_localization_density_files: {\n        /**\n         * A unique identifier.\n         */\n        id: int,\n        /**\n         * The file id for the externally stored localization density file.\n         * This data item is a pointer to _ihm_external_files.id\n         * in the IHM_EXTERNAL_FILES category.\n         */\n        file_id: int,\n        /**\n         * The ensemble identifier for the ensemble, for which the localization density is provided.\n         * This data item is a pointer to _ihm_ensemble_info.ensemble_id in the IHM_ENSEMBLE_INFO category.\n         */\n        ensemble_id: int,\n        /**\n         * The entity identifier corresponding to this localization density.\n         * This data item is a pointer to _entity.id in the ENTITY category.\n         */\n        entity_id: str,\n        /**\n         * The identifier for the polymeric segment corresponding to this\n         * localization density.\n         * This data item is a pointer to _ihm_entity_poly_segment.id in the\n         * IHM_ENTITY_POLY_SEGMENT category.\n         */\n        entity_poly_segment_id: int,\n        /**\n         * An asym/strand identifier corresponding to this localization density.\n         * This data item is a pointer to _struct_asym.id in the STRUCT_ASYM category.\n         */\n        asym_id: str,\n    },\n    /**\n     * Data items in the IHM_PREDICTED_CONTACT_RESTRAINT category records the\n     * list of predicted contacts used in the integrative modeling experiment.\n     * This has been adapted from the widely used CASP RR format\n     * (http://www.predictioncenter.org/casp8/index.cgi?page=format#RR).\n     * These contacts may be derived from various computational tools.\n     * The software information can be provided in the SOFTWARE category.\n     */\n    ihm_predicted_contact_restraint: {\n        /**\n         * A unique identifier for the predicted contact restraint.\n         */\n        id: int,\n        /**\n         * An identifier to group the predicted contacts.\n         */\n        group_id: int,\n        /**\n         * The entity identifier for the first monomer partner in the predicted contact.\n         * This data item is a pointer to _entity_poly_seq.entity_id in the ENTITY_POLY_SEQ category.\n         */\n        entity_id_1: str,\n        /**\n         * The entity identifier for the second monomer partner in the predicted contact.\n         * This data item is a pointer to _entity_poly_seq.entity_id in the ENTITY_POLY_SEQ category.\n         */\n        entity_id_2: str,\n        /**\n         * An asym/strand identifier for the first monomer partner in the predicted contact.\n         * This data item is a pointer to _struct_asym.id in the\n         * STRUCT_ASYM category.\n         */\n        asym_id_1: str,\n        /**\n         * An asym/strand identifier for the second monomer partner in the predicted contact.\n         * This data item is a pointer to _struct_asym.id in the\n         * STRUCT_ASYM category.\n         */\n        asym_id_2: str,\n        /**\n         * The component identifier for the first monomer partner in the predicted contact.\n         * This data item is a pointer to _entity_poly_seq.mon_id in the ENTITY_POLY_SEQ category.\n         */\n        comp_id_1: str,\n        /**\n         * The component identifier for the second monomer partner in the predicted contact.\n         * This data item is a pointer to _entity_poly_seq.mon_id in the ENTITY_POLY_SEQ category.\n         */\n        comp_id_2: str,\n        /**\n         * The sequence index for the first monomer partner in the predicted contact.\n         * This data item is a pointer to _entity_poly_seq.num in the ENTITY_POLY_SEQ category.\n         */\n        seq_id_1: int,\n        /**\n         * The sequence index for the second monomer partner in the predicted contact.\n         * This data item is a pointer to _entity_poly_seq.num in the ENTITY_POLY_SEQ category.\n         */\n        seq_id_2: int,\n        /**\n         * If _ihm_predicted_contact_restraint.model_granularity is by-residue, then indicate the atom\n         * used to represent the first monomer partner in three-dimension. Default is the C-alpha atom.\n         */\n        rep_atom_1: Aliased(str),\n        /**\n         * If _ihm_predicted_contact_restraint.model_granularity is by-residue, then indicate the atom\n         * used to represent the second monomer partner in three-dimension. Default is the C-alpha atom.\n         */\n        rep_atom_2: Aliased(str),\n        /**\n         * The lower limit to the distance threshold applied to this predicted contact restraint\n         * in the integrative modeling task.\n         */\n        distance_lower_limit: float,\n        /**\n         * The upper limit to the distance threshold applied to this predicted contact restraint\n         * in the integrative modeling task.\n         */\n        distance_upper_limit: float,\n        /**\n         * The real number that indicates the probability that the predicted distance restraint\n         * is correct. This number should fall between 0.0 and 1.0.\n         */\n        probability: float,\n        /**\n         * The type of distance restraint applied.\n         */\n        restraint_type: Aliased(str),\n        /**\n         * The granularity of the predicted contact as applied to the multi-scale model.\n         */\n        model_granularity: Aliased(str),\n        /**\n         * Identifier to the predicted contacts dataset.\n         * This data item is a pointer to the _ihm_dataset_list.id in the\n         * IHM_DATASET_LIST category.\n         */\n        dataset_list_id: int,\n        /**\n         * Identifier to the software used to obtain the predicted contacts dataset.\n         * This data item is a pointer to the _software.pdbx_ordinal in the\n         * SOFTWARE category.\n         */\n        software_id: int,\n    },\n    /**\n     * Data items in the IHM_CROSS_LINK_LIST category records the\n     * list of spatial restraints derived from chemical crosslinking\n     * experiment.\n     */\n    ihm_cross_link_list: {\n        /**\n         * A unique identifier for the cross link restraint.\n         */\n        id: int,\n        /**\n         * An identifier for a set of ambiguous crosslink restraints.\n         * Handles experimental uncertainties in the identities of\n         * crosslinked residues.\n         */\n        group_id: int,\n        /**\n         * A text description of molecular entity 1.\n         */\n        entity_description_1: str,\n        /**\n         * A text description of molecular entity 2.\n         */\n        entity_description_2: str,\n        /**\n         * The entity identifier for the first monomer partner in the cross link\n         * This data item is a pointer to _entity_poly_seq.entity_id in the ENTITY_POLY_SEQ category.\n         */\n        entity_id_1: str,\n        /**\n         * The entity identifier for the second monomer partner in the cross link\n         *\n         * This data item is a pointer to _entity_poly_seq.entity_id in the ENTITY_POLY_SEQ category.\n         */\n        entity_id_2: str,\n        /**\n         * The component identifier for the first monomer partner in the cross link.\n         *\n         * This data item is a pointer to _entity_poly_seq.mon_id in the ENTITY_POLY_SEQ category.\n         */\n        comp_id_1: str,\n        /**\n         * The component identifier for the second monomer partner in the cross link.\n         *\n         * This data item is a pointer to _entity_poly_seq.mon_id in the ENTITY_POLY_SEQ category.\n         */\n        comp_id_2: str,\n        /**\n         * The sequence index for the first monomer partner in the cross link.\n         *\n         * This data item is a pointer to _entity_poly_seq.num in the ENTITY_POLY_SEQ category.\n         */\n        seq_id_1: int,\n        /**\n         * The sequence index for the second monomer partner in the cross link.\n         *\n         * This data item is a pointer to _entity_poly_seq.num in the ENTITY_POLY_SEQ category.\n         */\n        seq_id_2: int,\n        /**\n         * The type of crosslinker used.\n         */\n        linker_type: Aliased(str),\n        /**\n         * Identifier to the crosslinking dataset.\n         * This data item is a pointer to the _ihm_dataset_list.id in the\n         * IHM_DATASET_LIST category.\n         */\n        dataset_list_id: int,\n    },\n    /**\n     * Data items in the IHM_CROSS_LINK_RESTRAINT category enumerates the\n     * implementation details of the chemical crosslinking restraints in\n     * the integrative modeling. This category holds the details of how\n     * the experimentally derived crosslinks are applied in the modeling.\n     */\n    ihm_cross_link_restraint: {\n        /**\n         * A unique identifier for the cross link record.\n         */\n        id: int,\n        /**\n         * An identifier for a set of ambiguous cross-links.\n         * Handles implementation uncertainties related to multiple copies of subunit.\n         * This data item is a pointer to _ihm_cross_link_list.id in the\n         * IHM_CROSS_LINK_LIST category.\n         */\n        group_id: int,\n        /**\n         * The entity identifier for the first monomer partner in the cross link\n         *\n         * This data item is a pointer to _entity_poly_seq.entity_id in the ENTITY_POLY_SEQ category\n         * and the _ihm_cross_link_restraint.entity_id_1 in the IHM_CROSS_LINK_RESTRAINT category.\n         */\n        entity_id_1: str,\n        /**\n         * The entity identifier for the second monomer partner in the cross link\n         *\n         * This data item is a pointer to _entity_poly_seq.entity_id in the ENTITY_POLY_SEQ category\n         * and the _ihm_cross_link_restraint.entity_id_2 in the IHM_CROSS_LINK_RESTRAINT category.\n         */\n        entity_id_2: str,\n        /**\n         * An asym/strand identifier for the first monomer partner in the cross-link.\n         *\n         * This data item is a pointer to _struct_asym.id in the\n         * STRUCT_ASYM category.\n         */\n        asym_id_1: str,\n        /**\n         * An asym/strand identifier for the second monomer partner in the cross-link.\n         *\n         * This data item is a pointer to _struct_asym.id in the\n         * STRUCT_ASYM category.\n         */\n        asym_id_2: str,\n        /**\n         * The component identifier for the first monomer partner in the cross link.\n         *\n         * This data item is a pointer to _entity_poly_seq.mon_id in the ENTITY_POLY_SEQ category\n         * and the _ihm_cross_link_restraint.comp_id_1 in the IHM_CROSS_LINK_RESTRAINT category.\n         */\n        comp_id_1: str,\n        /**\n         * The component identifier for the second monomer partner in the cross link.\n         *\n         * This data item is a pointer to _entity_poly_seq.mon_id in the ENTITY_POLY_SEQ category\n         * and the _ihm_cross_link_restraint.comp_id_2 in the IHM_CROSS_LINK_RESTRAINT category.\n         */\n        comp_id_2: str,\n        /**\n         * The sequence index for the first monomer partner in the cross link.\n         *\n         * This data item is a pointer to _entity_poly_seq.num in the ENTITY_POLY_SEQ category\n         * and the _ihm_cross_link_restraint.seq_id_1 in the IHM_CROSS_LINK_RESTRAINT category.\n         */\n        seq_id_1: int,\n        /**\n         * The sequence index for the second monomer partner in the cross link.\n         *\n         * This data item is a pointer to _entity_poly_seq.num in the ENTITY_POLY_SEQ category\n         * and the _ihm_cross_link_restraint.seq_id_2 in the IHM_CROSS_LINK_RESTRAINT category.\n         */\n        seq_id_2: int,\n        /**\n         * The atom identifier for the first monomer partner in the cross link.\n         * This data item is a pointer to _chem_comp_atom.atom_id in the\n         * CHEM_COMP_ATOM category.\n         */\n        atom_id_1: str,\n        /**\n         * The atom identifier for the second monomer partner in the cross link.\n         * This data item is a pointer to _chem_comp_atom.atom_id in the\n         * CHEM_COMP_ATOM category.\n         */\n        atom_id_2: str,\n        /**\n         * The type of the cross link restraint applied.\n         */\n        restraint_type: Aliased(str),\n        /**\n         * The cross link conditionality.\n         */\n        conditional_crosslink_flag: Aliased(str),\n        /**\n         * The coarse-graining information for the crosslink implementation.\n         */\n        model_granularity: Aliased(str),\n        /**\n         * The distance threshold applied to this crosslink in the integrative modeling task.\n         */\n        distance_threshold: float,\n        /**\n         * The uncertainty in the crosslinking experimental data;\n         * may be approximated to the false positive rate.\n         */\n        psi: float,\n        /**\n         * The uncertainty in the position of residue 1 in the crosslink\n         * arising due to the multi-scale nature of the model represention.\n         */\n        sigma_1: float,\n        /**\n         * The uncertainty in the position of residue 2 in the crosslink\n         * arising due to the multi-scale nature of the model represention.\n         */\n        sigma_2: float,\n    },\n    /**\n     * Data items in the IHM_CROSS_LINK_RESULT_PARAMETERS category records the\n     * results of the crosslinking restraint parameters in the IHM modeling.\n     */\n    ihm_cross_link_result_parameters: {\n        /**\n         * A unique identifier for the restraint/model combination.\n         */\n        id: int,\n        /**\n         * An identifier for the crosslink restraint between a pair of residues.\n         * This data item is a pointer to _ihm_cross_link_restraint.id in the\n         * IHM_CROSS_LINK_RESTRAINT category.\n         */\n        restraint_id: int,\n        /**\n         * The model number corresponding to the cross link result presented.\n         * This data item is a pointer to _ihm_model_list.model_id in the\n         * IHM_MODEL_LIST category.\n         */\n        model_id: int,\n        /**\n         * The uncertainty in the crosslinking experimental data;\n         * May be approximated to the false positive rate.\n         */\n        psi: float,\n        /**\n         * The uncertainty in the position of residue 1 in the crosslink\n         * arising due to the multi-scale nature of the model represention.\n         */\n        sigma_1: float,\n        /**\n         * The uncertainty in the position of residue 2 in the crosslink\n         * arising due to the multi-scale nature of the model represention.\n         */\n        sigma_2: float,\n    },\n    /**\n     * Data items in the IHM_2DEM_CLASS_AVERAGE_RESTRAINT category records the\n     * details of the 2DEM class averages used in the IHM modeling.\n     */\n    ihm_2dem_class_average_restraint: {\n        /**\n         * A unique identifier for the 2dem class average.\n         */\n        id: int,\n        /**\n         * Identifier to the 2dem class average dataset.\n         * This data item is a pointer to the _ihm_dataset_list.id in the\n         * IHM_DATASET_LIST category.\n         */\n        dataset_list_id: int,\n        /**\n         * The number of raw micrographs used to obtain the class average.\n         */\n        number_raw_micrographs: int,\n        /**\n         * Pixel size width of the 2dem class average image.\n         * While fitting the model to the image, _ihm_2dem_class_average_restraint.pixel_size_width\n         * is used along with _ihm_2dem_class_average_restraint.pixel_size_height to scale the image.\n         */\n        pixel_size_width: float,\n        /**\n         * Pixel size height of the 2dem class average image.\n         * While fitting the model to the image, _ihm_2dem_class_average_restraint.pixel_size_height\n         * is used along with _ihm_2dem_class_average_restraint.pixel_size_width to scale the image.\n         */\n        pixel_size_height: float,\n        /**\n         * Resolution of the 2dem class average.\n         */\n        image_resolution: float,\n        /**\n         * A flag that indicates whether or not the 2DEM class average image is segmented i.e.,\n         * whether the whole image is used or only a portion of it is used (by masking\n         * or by other means) as restraint in the modeling.\n         */\n        image_segment_flag: Aliased(lstr),\n        /**\n         * Number of 2D projections of the model used in the fitting.\n         */\n        number_of_projections: int,\n        /**\n         * An indicator to whether the whole assembly that is modeled is fit into the image\n         * or if only a subset of the structural assembly is fit into the image.\n         * This data item is a pointer to _ihm_struct_assembly.id in the\n         * IHM_STRUCT_ASSEMBLY category. The IHM_STRUCT_ASSEMBLY category provides the\n         * details regarding the different structural assemblies used in the modeling.\n         * The default value for this data item is \"1\" indicating that the entire assembly\n         * being modeled is fit into the EM data.\n         */\n        struct_assembly_id: int,\n        /**\n         * Details of how the 2DEM restraint is applied in the modeling algorithm.\n         */\n        details: str,\n    },\n    /**\n     * Data items in the IHM_2DEM_CLASS_AVERAGE_FITTING category records the\n     * details of the fitting of the model to the 2DEM class averages\n     * used in the IHM modeling. The following conventions are recommended\n     * while generating the rotation matrix and translation vector for\n     * transformation.\n     *\n     * - The model is rotated and translated to fit to the 2DEM image.\n     * - The 2DEM image should be in the XY plane.\n     * - The lower left image corner (image pixel index 0,0) should be at x,y,z = (0,0,0).\n     * - The 2D image is scaled by the _ihm_2dem_class_average_restraint.pixel_size_width\n     * and _ihm_2dem_class_average_restraint.pixel_size_height from the\n     * IHM_2DEM_CLASS_AVERAGE_RESTRAINT table.\n     * - The transformation is applied after the scaling and hence the translation vector\n     * should account for the scaling.\n     * - There are no specifications for Z translations i.e., how far the image should be\n     * from the model while projecting. It may be set to zero.\n     */\n    ihm_2dem_class_average_fitting: {\n        /**\n         * A unique identifier for the 2dem class average fitting data.\n         */\n        id: int,\n        /**\n         * Identifier to the 2dem class average restraint.\n         * This data item is a pointer to the _ihm_2dem_class_average_restraint.id in the\n         * IHM_2DEM_CLASS_AVERAGE_RESTRAINT category.\n         */\n        restraint_id: int,\n        /**\n         * The model number corresponding to the 2DEM fitting result presented.\n         * This data item is a pointer to _ihm_model_list.model_id in the\n         * IHM_MODEL_LIST category.\n         */\n        model_id: int,\n        /**\n         * The cross correlation coefficient corresponding to the model to image fitting.\n         */\n        cross_correlation_coefficient: float,\n        /**\n         * Data item  of the rotation matrix used in the fitting of the model to the image.\n         */\n        rot_matrix: Matrix(3, 3),\n        /**\n         * Data item  of the tranlation vector used in the fitting of the model to the image.\n         */\n        tr_vector: Vector(3),\n    },\n    /**\n     * Data items in the IHM_3DEM_RESTRAINT category records the\n     * details of the 3DEM maps used as restraints in the\n     * IHM modeling.\n     */\n    ihm_3dem_restraint: {\n        /**\n         * A unique identifier for the 3DEM restraint description.\n         */\n        id: int,\n        /**\n         * Identifier to the 3DEM map used.\n         * This data item is a pointer to the _ihm_dataset_list.id in the\n         * IHM_DATASET_LIST category.\n         */\n        dataset_list_id: int,\n        /**\n         * The model number corresponding to the 3DEM fitting result presented.\n         * This data item is a pointer to _ihm_model_list.model_id in the\n         * IHM_MODEL_LIST category.\n         */\n        model_id: int,\n        /**\n         * An indicator to whether the whole assembly that is modeled is fit into the 3DEM map\n         * or if only a subset of the structural assembly is fit into the map.\n         * This data item is a pointer to _ihm_struct_assembly.id in the\n         * IHM_STRUCT_ASSEMBLY category. The IHM_STRUCT_ASSEMBLY category provides the\n         * details regarding the different structural assemblies used in the modeling.\n         * The default value for this data item is \"1\" indicating that the entire assembly\n         * being modeled is fit into the EM map.\n         */\n        struct_assembly_id: int,\n        /**\n         * Method used to fit the model to the 3DEM map.\n         */\n        fitting_method: str,\n        /**\n         * In case of Gaussian mixture models, the number of gaussians\n         * is a parameter used to covert the 3DEM maps and models into\n         * GMMs. This captures the level of granularity used in\n         * representing the maps and/or models as 3D Gaussians.\n         */\n        number_of_gaussians: int,\n        /**\n         * The cross correlation coefficient corresponding to the model to map fitting.\n         */\n        cross_correlation_coefficient: float,\n    },\n    /**\n     * Data items in the IHM_SAS_RESTRAINT category records the\n     * details of the SAS data used as restraints in the\n     * IHM modeling.\n     */\n    ihm_sas_restraint: {\n        /**\n         * A unique identifier for the SAS restraint description.\n         */\n        id: int,\n        /**\n         * Identifier to the SAS data used.\n         * This data item is a pointer to the _ihm_dataset_list.id in the\n         * IHM_DATASET_LIST category.\n         */\n        dataset_list_id: int,\n        /**\n         * The model number corresponding to the SAS fitting result presented.\n         * This data item is a pointer to _ihm_model_list.model_id in the\n         * IHM_MODEL_LIST category.\n         */\n        model_id: int,\n        /**\n         * An indicator to whether the whole assembly that is modeled is fit into the SAS data\n         * or if only a subset of the structural assembly is fit into the data.\n         * This data item is a pointer to _ihm_struct_assembly.id in the\n         * IHM_STRUCT_ASSEMBLY category. The IHM_STRUCT_ASSEMBLY category provides the\n         * details regarding the different structural assemblies used in the modeling.\n         * The default value for this data item is \"1\" indicating that the entire assembly\n         * being modeled is fit into the SAS data.\n         */\n        struct_assembly_id: int,\n        /**\n         * A flag that indicates whether or not the SAS profile is segmented i.e.,\n         * whether the whole SAS profile is used or only a portion of it is used\n         * (by masking or by other means) as restraint in the modeling.\n         */\n        profile_segment_flag: Aliased(lstr),\n        /**\n         * The type of atoms in the model fit to the SAS data.\n         */\n        fitting_atom_type: str,\n        /**\n         * The method used for fitting the model to the SAS data.\n         */\n        fitting_method: str,\n        /**\n         * An indicator to single or multiple state fitting.\n         */\n        fitting_state: Aliased(str),\n        /**\n         * Radius of gyration obtained from the SAS profile, if used as input restraint.\n         */\n        radius_of_gyration: float,\n        /**\n         * The chi value resulting from fitting the model to the SAS data.\n         */\n        chi_value: float,\n        /**\n         * Additional details regarding the SAS restraint used.\n         */\n        details: str,\n    },\n    /**\n     * Data items in the IHM_STARTING_MODEL_COORD category records the coordinates\n     * for structural templates used as starting inputs in the integrative model\n     * building tasks.\n     */\n    ihm_starting_model_coord: {\n        /**\n         * A unique identifier for this coordinate position.\n         */\n        ordinal_id: int,\n        /**\n         * The identifier for the starting structural model.\n         * This data item is a pointer to _ihm_starting_model_details.starting_model_id\n         * in the IHM_STARTING_MODEL_DETAILS category.\n         */\n        starting_model_id: str,\n        /**\n         * The group of atoms to which the atom site in the starting model belongs. This data\n         * item is provided for compatibility with the original Protein Data Bank format,\n         * and only for that purpose.\n         */\n        group_PDB: Aliased(str),\n        /**\n         * The serial number for this coordinate position.\n         */\n        id: int,\n        /**\n         * The atom type symbol(element symbol) corresponding to this coordinate position.\n         */\n        type_symbol: str,\n        /**\n         * The entity identifier corresponding to this coordinate position.\n         * This data item is a pointer to _entity.id in the ENTITY category.\n         */\n        entity_id: str,\n        /**\n         * The atom identifier/name corresponding to this coordinate position.\n         * This data item is a pointer to _chem_comp_atom.atom_id in the\n         * CHEM_COMP_ATOM category.\n         */\n        atom_id: str,\n        /**\n         * The component identifier corresponding to this coordinate position.\n         * This data item is a pointer to _chem_comp.id in the\n         * CHEM_COMP category.\n         */\n        comp_id: str,\n        /**\n         * The sequence index corresponding this to coordinate position.\n         * This data item is a pointer to _entity_poly_seq.num in the ENTITY_POLY_SEQ category.\n         */\n        seq_id: int,\n        /**\n         * The asym/strand id corresponding to this coordinate position.\n         *\n         * This data item is a pointer to _struct_asym.id in the STRUCT_ASYM category.\n         */\n        asym_id: str,\n        /**\n         * The Cartesian X component corresponding to this coordinate position.\n         */\n        Cartn_x: float,\n        /**\n         * The Cartesian Y component corresponding to this coordinate position.\n         */\n        Cartn_y: float,\n        /**\n         * The Cartesian Z component corresponding to this coordinate position.\n         */\n        Cartn_z: float,\n        /**\n         * The isotropic temperature factor corresponding to this coordinate position.\n         */\n        B_iso_or_equiv: float,\n    },\n    /**\n     * Data items in the IHM_SPHERE_OBJ_SITE category records the details\n     * of the spherical objects modeled in the integrative structural model.\n     */\n    ihm_sphere_obj_site: {\n        /**\n         * A unique identifier for this pseudo atom / sphere object.\n         */\n        id: int,\n        /**\n         * The entity identifier corresponding to this sphere object.\n         * This data item is a pointer to _entity.id in the ENTITY category.\n         */\n        entity_id: str,\n        /**\n         * The leading sequence index corresponding to this sphere object.\n         * This data item is a pointer to _entity_poly_seq.num in the ENTITY_POLY_SEQ category.\n         */\n        seq_id_begin: int,\n        /**\n         * The trailing sequence index corresponding to this sphere object.\n         * This data item is a pointer to _entity_poly_seq.num in the ENTITY_POLY_SEQ category.\n         */\n        seq_id_end: int,\n        /**\n         * An asym/strand identifier corresponding to this sphere object.\n         * This data item is a pointer to _struct_asym.id in the STRUCT_ASYM category.\n         */\n        asym_id: str,\n        /**\n         * The Cartesian X component corresponding to this sphere object.\n         */\n        Cartn_x: float,\n        /**\n         * The Cartesian Y component corresponding to this sphere object.\n         */\n        Cartn_y: float,\n        /**\n         * The Cartesian Z component corresponding to this sphere object.\n         */\n        Cartn_z: float,\n        /**\n         * The radius associated with the primitive sphere object at this position.\n         */\n        object_radius: float,\n        /**\n         * The Root Mean Square Fluctuation (RMSF) observed in the primitive\n         * sphere object at this position.\n         */\n        rmsf: float,\n        /**\n         * The model id corresponding to the sphere object.\n         * This data item is a pointer to _ihm_model_list.model_id\n         * in the IHM_MODEL_LIST category.\n         */\n        model_id: int,\n    },\n    /**\n     * Data items in the IHM_GAUSSIAN_OBJ_SITE category records the details\n     * of the gaussian objects modeled in the integrative structural model.\n     */\n    ihm_gaussian_obj_site: {\n        /**\n         * A unique identifier for this gaussian object in the model.\n         */\n        id: int,\n        /**\n         * The entity identifier corresponding to this gaussian object.\n         * This data item is a pointer to _entity.id in the ENTITY category.\n         */\n        entity_id: str,\n        /**\n         * The leading sequence index corresponding to this gaussian object.\n         * This data item is a pointer to _entity_poly_seq.num in the ENTITY_POLY_SEQ category.\n         */\n        seq_id_begin: int,\n        /**\n         * The trailing sequence index corresponding to this gaussian object.\n         * This data item is a pointer to _entity_poly_seq.num in the ENTITY_POLY_SEQ category.\n         */\n        seq_id_end: int,\n        /**\n         * An asym/strand identifier corresponding to this gaussian object.\n         * This data item is a pointer to _struct_asym.id in the STRUCT_ASYM category.\n         */\n        asym_id: str,\n        /**\n         * The mean Cartesian X component corresponding to this gaussian object.\n         */\n        mean_Cartn_x: float,\n        /**\n         * The mean Cartesian Y component corresponding to this gaussian object.\n         */\n        mean_Cartn_y: float,\n        /**\n         * The mean Cartesian Z component corresponding to this gaussian object.\n         */\n        mean_Cartn_z: float,\n        /**\n         * The weight of the gaussian object.\n         */\n        weight: float,\n        /**\n         * Data item  of the covariance matrix representing the Gaussian object.\n         */\n        covariance_matrix: Matrix(3, 3),\n        /**\n         * The model id corresponding to the gaussian object.\n         * This data item is a pointer to _ihm_model_list.model_id\n         * in the IHM_MODEL_LIST category.\n         */\n        model_id: int,\n    },\n    /**\n     * Data items in the IHM_GAUSSIAN_OBJ_ENSEMBLE category records the details\n     * of the gaussian objects representing an ensemble or cluster of models.\n     */\n    ihm_gaussian_obj_ensemble: {\n        /**\n         * A unique identifier for this gaussian object.\n         */\n        id: int,\n        /**\n         * The entity identifier corresponding to this gaussian object.\n         * This data item is a pointer to _entity.id in the ENTITY category.\n         */\n        entity_id: str,\n        /**\n         * The leading sequence index corresponding to this gaussian object.\n         * This data item is a pointer to _entity_poly_seq.num in the ENTITY_POLY_SEQ category.\n         */\n        seq_id_begin: int,\n        /**\n         * The trailing sequence index corresponding to this gaussian object.\n         * This data item is a pointer to _entity_poly_seq.num in the ENTITY_POLY_SEQ category.\n         */\n        seq_id_end: int,\n        /**\n         * An asym/strand identifier corresponding to this gaussian object.\n         * This data item is a pointer to _struct_asym.id in the STRUCT_ASYM category.\n         */\n        asym_id: str,\n        /**\n         * The mean Cartesian X component corresponding to this gaussian object.\n         */\n        mean_Cartn_x: float,\n        /**\n         * The mean Cartesian Y component corresponding to this gaussian object.\n         */\n        mean_Cartn_y: float,\n        /**\n         * The mean Cartesian Z component corresponding to this gaussian object.\n         */\n        mean_Cartn_z: float,\n        /**\n         * The weight of the gaussian object.\n         */\n        weight: float,\n        /**\n         * Data item  of the covariance matrix representing the Gaussian object.\n         */\n        covariance_matrix: Matrix(3, 3),\n        /**\n         * The ensemble id corresponding to the gaussian object.\n         * This data item is a pointer to _ihm_ensemble_info.ensemble_id\n         * in the IHM_ENSEMBLE_INFO category.\n         */\n        ensemble_id: int,\n    },\n    /**\n     * IHM_FEATURE_LIST is the high level category that provides defintions\n     * to select atoms/residues from polymeric and non-polymeric entities.\n     */\n    ihm_feature_list: {\n        /**\n         * A unique identifier for the feature.\n         */\n        feature_id: int,\n        /**\n         * The type of feature.\n         */\n        feature_type: Aliased(str),\n        /**\n         * The type of entity.\n         */\n        entity_type: Aliased(str),\n    },\n    /**\n     * Data items in the IHM_POLY_RESIDUE_FEATURE category provides the defintions\n     * required to select a specific residue or a set of residues that may or may not be\n     * in a contiguous range.\n     */\n    ihm_poly_residue_feature: {\n        /**\n         * A unique identifier for the category.\n         */\n        ordinal_id: int,\n        /**\n         * An identifier for the selected residue / residue range feature.\n         * This data item is a pointer to _ihm_feature_list.feature_id in the\n         * IHM_FEATURE_LIST category.\n         */\n        feature_id: int,\n        /**\n         * The entity identifier for residue / residue range.\n         * This data item is a pointer to _entity_poly_seq.entity_id in the\n         * ENTITY_POLY_SEQ category.\n         */\n        entity_id: str,\n        /**\n         * An asym/strand identifier for the residue / residue range, if applicable.\n         * This data item is a pointer to _struct_asym.id in the\n         * STRUCT_ASYM category.\n         */\n        asym_id: str,\n        /**\n         * The component identifier of the beginning residue / residue range.\n         * This data item is a pointer to _entity_poly_seq.mon_id in the ENTITY_POLY_SEQ category.\n         */\n        comp_id_begin: str,\n        /**\n         * The component identifier of the ending residue / residue range.\n         * This data item is a pointer to _entity_poly_seq.mon_id in the ENTITY_POLY_SEQ category.\n         */\n        comp_id_end: str,\n        /**\n         * The sequence index of the beginning residue / residue range.\n         * This data item is a pointer to _entity_poly_seq.num in the ENTITY_POLY_SEQ category.\n         */\n        seq_id_begin: int,\n        /**\n         * The sequence index of the ending residue / residue range.\n         * This data item is a pointer to _entity_poly_seq.num in the ENTITY_POLY_SEQ category.\n         */\n        seq_id_end: int,\n    },\n    /**\n     * Data items in the IHM_DERIVED_DISTANCE_RESTRAINT category records the\n     * list of distance restraints used in the integrative modeling experiment.\n     * These distance redistance restraints may be derived from various kinds of experiments.\n     */\n    ihm_derived_distance_restraint: {\n        /**\n         * A unique identifier for the derived distance restraint.\n         */\n        id: int,\n        /**\n         * An identifier to group the distance restraints.\n         * This can be the same as the _ihm_derived_distance_restraint.id in case\n         * the some of the restraints are not grouped.\n         */\n        group_id: int,\n        /**\n         * The feature identifier for the first partner in the distance restraint.\n         * This data item is a pointer to _ihm_feature_list.feature_id in the\n         * IHM_FEATURE_LIST category.\n         */\n        feature_id_1: int,\n        /**\n         * The feature identifier for the second partner in the distance restraint.\n         * This data item is a pointer to _ihm_feature_list.feature_id in the\n         * IHM_FEATURE_LIST category.\n         */\n        feature_id_2: int,\n        /**\n         * If a group of atoms or residues are restrained, this data item defines\n         * the conditionality based on which the restraint is applied in the modeling.\n         */\n        group_conditionality: Aliased(str),\n        /**\n         * The fraction of randomly excluded distance restraints during modeling.\n         * In HADDOCK, this is used along with ambiguous interface restraints (AIRs)\n         * to account for uncertainties in AIRs.\n         */\n        random_exclusion_fraction: float,\n        /**\n         * The upper limit to the distance threshold applied to this distance restraint\n         * in the integrative modeling task.\n         */\n        distance_upper_limit: float,\n        /**\n         * The type of distance restraint applied.\n         */\n        restraint_type: Aliased(str),\n        /**\n         * Identifier to the input data from which the distance restraint is derived.\n         * This data item is a pointer to the _ihm_dataset_list.id in the\n         * IHM_DATASET_LIST category.\n         * This data item may not be applicable for all cases. For example, in case of\n         * ambiguous interface restraints where the interface residues are identified\n         * from multiple experiments, the reference to the _ihm_dataset_list.id is\n         * handled in the IHM_INTERFACE_RESIDUE_FEATURE category rather than here.\n         */\n        dataset_list_id: int,\n    },\n    /**\n     * Data items in the MA_MODEL_LIST category record the\n     * details of the models being deposited.\n     */\n    ma_model_list: {\n        /**\n         * A unique identifier for the model / model group combination.\n         */\n        ordinal_id: int,\n        /**\n         * A unique identifier for the structural model being deposited.\n         */\n        model_id: int,\n        /**\n         * An identifier to group structural models into collections or sets.\n         * A cluster of models and its representative can either be grouped together\n         * or can be separate groups in the ma_model_list table. The choice between\n         * the two options should be decided based on how the modeling was carried out\n         * and how the representative was chosen. If the representative is a member of\n         * the ensemble (i.e., best scoring model), then it is recommended that the\n         * representative and the ensemble belong to the same model group. If the\n         * representative is calculated from the ensemble (i.e., centroid), then it is\n         * recommended that the representative be separated into a different group.\n         * If the models do not need to be grouped into collections, then the\n         * _ma_model_list.model_group_id is the same as _ma_model_list.model_id.\n         */\n        model_group_id: int,\n        /**\n         * A decsriptive name for the model.\n         */\n        model_name: str,\n        /**\n         * A decsriptive name for the model group.\n         */\n        model_group_name: str,\n        /**\n         * The type of model.\n         */\n        model_type: Aliased(str),\n        /**\n         * The data_id identifier. This data item is a pointer to\n         * _ma_data.id in the MA_DATA category.\n         */\n        data_id: int,\n    },\n    /**\n     * Data items in the MA_TARGET_ENTITY category record details about\n     * the target entities. The details are provided for each entity\n     * being modeled.\n     */\n    ma_target_entity: {\n        /**\n         * A unique identifier for the distinct molecular entity of the target.\n         * This data item is a pointer to _entity.id in the ENTITY category.\n         */\n        entity_id: str,\n        /**\n         * The data_id identifier. This data item is a pointer to\n         * _ma_data.id in the MA_DATA category.\n         */\n        data_id: int,\n        /**\n         * The origin of the target entity.\n         */\n        origin: Aliased(str),\n    },\n    /**\n     * Data items in the MA_TARGET_ENTITY_INSTANCE category record details about\n     * the instances of target entities modeled.\n     */\n    ma_target_entity_instance: {\n        /**\n         * A unique identifier for the instance of the entity.\n         */\n        asym_id: str,\n        /**\n         * A unique identifier for the distinct molecular entity of the target.\n         * This data item is a pointer to _ma_target_entity.entity_id in the\n         * MA_TARGET_ENTITY category.\n         */\n        entity_id: str,\n        /**\n         * Additional details about the entity instance.\n         */\n        details: str,\n    },\n    /**\n     * Data items in the MA_TARGET_REF_DB_DETAILS category record details about\n     * the reference databases for the target sequences.\n     */\n    ma_target_ref_db_details: {\n        /**\n         * An identifier for the target entity.\n         */\n        target_entity_id: str,\n        /**\n         * The name of the database containing reference information about\n         * this entity or biological unit.\n         */\n        db_name: Aliased(str),\n        /**\n         * The code for this entity or biological unit or for a closely\n         * related entity or biological unit in the named database.\n         * This can include the version number.\n         */\n        db_code: str,\n        /**\n         * Accession code assigned by the reference database.\n         */\n        db_accession: str,\n        /**\n         * Database code assigned by the reference database for a sequence isoform.   An isoform sequence is an\n         * alternative protein sequence that can be generated from the same gene by a single or by a combination of\n         * biological events such as: alternative promoter usage, alternative splicing, alternative initiation\n         * and ribosomal frameshifting.\n         */\n        seq_db_isoform: str,\n        /**\n         * Beginning index in the chemical sequence from the\n         * reference database.\n         */\n        seq_db_align_begin: str,\n        /**\n         * Ending index in the chemical sequence from the\n         * reference database.\n         */\n        seq_db_align_end: str,\n        /**\n         * Taxonomy identifier provided by NCBI.\n         */\n        ncbi_taxonomy_id: str,\n        /**\n         * Scientific name of the organism.\n         */\n        organism_scientific: str,\n    },\n    /**\n     * Data items in the MA_DATA category capture the different kinds of\n     * data used in the modeling. These can be multiple sequence\n     * alignments, spatial restraints, template structures etc.\n     */\n    ma_data: {\n        /**\n         * A unique identifier for the data.\n         */\n        id: int,\n        /**\n         * The type of data held in the dataset.\n         */\n        content_type: Aliased(str),\n        /**\n         * Details for other content types.\n         */\n        content_type_other_details: str,\n        /**\n         * An author-given name for the content held in the dataset.\n         */\n        name: str,\n    },\n    /**\n     * Data items in the MA_SOFTWARE_GROUP category describes the\n     * collection of software into groups so that they can be used\n     * efficiently in the MA_PROTOCOL_STEP category.\n     */\n    ma_software_group: {\n        /**\n         * A unique identifier for the category.\n         */\n        ordinal_id: int,\n        /**\n         * An identifier for the group entry.\n         * If data does not need to be grouped, then _ma_software_group.group_id\n         * is the same as _ma_software_group.software_id.\n         */\n        group_id: int,\n        /**\n         * The identifier for the software.\n         * This data item is a pointer to _software.pdbx_ordinal\n         * in the SOFTWARE category.\n         */\n        software_id: int,\n    },\n    /**\n     * Data items in the MA_QA_METRIC category record the\n     * details of the metrics use to assess model quality.\n     */\n    ma_qa_metric: {\n        /**\n         * An identifier for the QA metric.\n         */\n        id: int,\n        /**\n         * Name of the QA metric.\n         */\n        name: str,\n        /**\n         * The type of QA metric.\n         */\n        type: Aliased(str),\n        /**\n         * The mode of calculation of the QA metric.\n         */\n        mode: Aliased(str),\n        /**\n         * Identifier to the set of software used to calculate the QA metric.\n         * This data item is a pointer to the _ma_software_group.group_id in the\n         * MA_SOFTWARE_GROUP category.\n         */\n        software_group_id: int,\n    },\n    /**\n     * Data items in the MA_QA_METRIC_GLOBAL category captures the\n     * details of the global QA metrics, calculated at the model-level.\n     */\n    ma_qa_metric_global: {\n        /**\n         * A unique identifier for the category.\n         */\n        ordinal_id: int,\n        /**\n         * The identifier for the structural model, for which global QA metric is provided.\n         * This data item is a pointer to _ma_model_list.model_id\n         * in the MA_MODEL_LIST category.\n         */\n        model_id: int,\n        /**\n         * The identifier for the QA metric.\n         * This data item is a pointer to _ma_qa_metric.id in the\n         * MA_QA_METRIC category.\n         */\n        metric_id: int,\n        /**\n         * The value of the global QA metric.\n         */\n        metric_value: float,\n    },\n    /**\n     * Data items in the MA_QA_METRIC_LOCAL category captures the\n     * details of the local QA metrics, calculated at the residue-level.\n     */\n    ma_qa_metric_local: {\n        /**\n         * A unique identifier for the category.\n         */\n        ordinal_id: int,\n        /**\n         * The identifier for the structural model, for which local QA metric is provided.\n         * This data item is a pointer to _ma_model_list.model_id\n         * in the MA_MODEL_LIST category.\n         */\n        model_id: int,\n        /**\n         * The identifier for the asym id of the residue in the\n         * structural model, for which local QA metric is provided.\n         * This data item is a pointer to _atom_site.label_asym_id\n         * in the ATOM_SITE category.\n         */\n        label_asym_id: str,\n        /**\n         * The identifier for the sequence index of the residue\n         * in the structural model, for which local QA metric is provided.\n         * This data item is a pointer to _atom_site.label_seq_id\n         * in the ATOM_SITE category.\n         */\n        label_seq_id: int,\n        /**\n         * The component identifier for the residue in the\n         * structural model, for which local QA metric is provided.\n         * This data item is a pointer to _atom_site.label_comp_id\n         * in the ATOM_SITE category.\n         */\n        label_comp_id: str,\n        /**\n         * The identifier for the QA metric.\n         * This data item is a pointer to _ma_qa_metric.id in the\n         * MA_QA_METRIC category.\n         */\n        metric_id: int,\n        /**\n         * The value of the local QA metric.\n         */\n        metric_value: float,\n    },\n};\n;\n","/**\n * Copyright (c) 2017 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * From CIFTools.js\n * @author David Sehnal <david.sehnal@gmail.com>\n */\nexport var VERSION = '0.3.0';\nexport var Encoding;\n(function (Encoding) {\n    var IntDataType;\n    (function (IntDataType) {\n        IntDataType[IntDataType[\"Int8\"] = 1] = \"Int8\";\n        IntDataType[IntDataType[\"Int16\"] = 2] = \"Int16\";\n        IntDataType[IntDataType[\"Int32\"] = 3] = \"Int32\";\n        IntDataType[IntDataType[\"Uint8\"] = 4] = \"Uint8\";\n        IntDataType[IntDataType[\"Uint16\"] = 5] = \"Uint16\";\n        IntDataType[IntDataType[\"Uint32\"] = 6] = \"Uint32\";\n    })(IntDataType = Encoding.IntDataType || (Encoding.IntDataType = {}));\n    var FloatDataType;\n    (function (FloatDataType) {\n        FloatDataType[FloatDataType[\"Float32\"] = 32] = \"Float32\";\n        FloatDataType[FloatDataType[\"Float64\"] = 33] = \"Float64\";\n    })(FloatDataType = Encoding.FloatDataType || (Encoding.FloatDataType = {}));\n    function getDataType(data) {\n        var srcType;\n        if (data instanceof Int8Array)\n            srcType = Encoding.IntDataType.Int8;\n        else if (data instanceof Int16Array)\n            srcType = Encoding.IntDataType.Int16;\n        else if (data instanceof Int32Array)\n            srcType = Encoding.IntDataType.Int32;\n        else if (data instanceof Uint8Array)\n            srcType = Encoding.IntDataType.Uint8;\n        else if (data instanceof Uint16Array)\n            srcType = Encoding.IntDataType.Uint16;\n        else if (data instanceof Uint32Array)\n            srcType = Encoding.IntDataType.Uint32;\n        else if (data instanceof Float32Array)\n            srcType = Encoding.FloatDataType.Float32;\n        else if (data instanceof Float64Array)\n            srcType = Encoding.FloatDataType.Float64;\n        else\n            srcType = Encoding.IntDataType.Int32; // throw new Error('Unsupported integer data type.');\n        return srcType;\n    }\n    Encoding.getDataType = getDataType;\n    function isSignedIntegerDataType(data) {\n        if (data instanceof Int8Array || data instanceof Int16Array || data instanceof Int32Array)\n            return true;\n        for (var i = 0, _i = data.length; i < _i; i++) {\n            if (i < 0)\n                return false;\n        }\n        return true;\n    }\n    Encoding.isSignedIntegerDataType = isSignedIntegerDataType;\n})(Encoding || (Encoding = {}));\n","/**\n * Copyright (c) 2017-2019 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @author David Sehnal <david.sehnal@gmail.com>\n */\nexport var IsNativeEndianLittle = new Uint16Array(new Uint8Array([0x12, 0x34]).buffer)[0] === 0x3412;\nexport function flipByteOrder(data, bytes) {\n    var buffer = new ArrayBuffer(data.length);\n    var ret = new Uint8Array(buffer);\n    for (var i = 0, n = data.length; i < n; i += bytes) {\n        for (var j = 0; j < bytes; j++) {\n            ret[i + bytes - j - 1] = data[i + j];\n        }\n    }\n    return buffer;\n}\nvar ChunkSize = 0x7000;\nexport function uint8ToString(array) {\n    if (array.length > ChunkSize) {\n        var c = [];\n        for (var i = 0; i < array.length; i += ChunkSize) {\n            c.push(String.fromCharCode.apply(null, array.subarray(i, i + ChunkSize)));\n        }\n        return c.join('');\n    }\n    else {\n        return String.fromCharCode.apply(null, array);\n    }\n}\n","/**\n * Copyright (c) 2018 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n */\nimport { __assign } from \"tslib\";\nimport { ArrayEncoding as E } from './array-encoder';\nimport { getArrayDigitCount } from '../../../mol-util/number';\nimport { assertUnreachable } from '../../../mol-util/type-helpers';\nexport function classifyIntArray(xs) {\n    return IntClassifier.classify(xs);\n}\nexport function classifyFloatArray(xs) {\n    return FloatClassifier.classify(xs);\n}\nvar IntClassifier;\n(function (IntClassifier) {\n    function packSize(value, upperLimit) {\n        return value >= 0\n            ? Math.ceil((value + 1) / upperLimit)\n            : Math.ceil((value + 1) / (-upperLimit - 1));\n    }\n    function getInfo(data) {\n        var signed = false;\n        for (var i = 0, n = data.length; i < n; i++) {\n            if (data[i] < 0) {\n                signed = true;\n                break;\n            }\n        }\n        return signed ? { signed: signed, limit8: 0x7F, limit16: 0x7FFF } : { signed: signed, limit8: 0xFF, limit16: 0xFFFF };\n    }\n    function SizeInfo() { return { pack8: 0, pack16: 0, count: 0 }; }\n    ;\n    function incSize(_a, info, value) {\n        var limit8 = _a.limit8, limit16 = _a.limit16;\n        info.pack8 += packSize(value, limit8);\n        info.pack16 += packSize(value, limit16);\n        info.count += 1;\n    }\n    function incSizeSigned(info, value) {\n        info.pack8 += packSize(value, 0x7F);\n        info.pack16 += packSize(value, 0x7FFF);\n        info.count += 1;\n    }\n    function byteSize(info) {\n        if (info.count * 4 < info.pack16 * 2)\n            return { length: info.count * 4, elem: 4 };\n        if (info.pack16 * 2 < info.pack8)\n            return { length: info.pack16 * 2, elem: 2 };\n        return { length: info.pack8, elem: 1 };\n    }\n    function packingSize(data, info) {\n        var size = SizeInfo();\n        for (var i = 0, n = data.length; i < n; i++) {\n            incSize(info, size, data[i]);\n        }\n        return __assign(__assign({}, byteSize(size)), { kind: 'pack' });\n    }\n    function deltaSize(data, info) {\n        var size = SizeInfo();\n        var prev = data[0];\n        for (var i = 1, n = data.length; i < n; i++) {\n            incSizeSigned(size, data[i] - prev);\n            prev = data[i];\n        }\n        return __assign(__assign({}, byteSize(size)), { kind: 'delta' });\n    }\n    function rleSize(data, info) {\n        var size = SizeInfo();\n        var run = 1;\n        for (var i = 1, n = data.length; i < n; i++) {\n            if (data[i - 1] !== data[i]) {\n                incSize(info, size, data[i - 1]);\n                incSize(info, size, run);\n                run = 1;\n            }\n            else {\n                run++;\n            }\n        }\n        incSize(info, size, data[data.length - 1]);\n        incSize(info, size, run);\n        return __assign(__assign({}, byteSize(size)), { kind: 'rle' });\n    }\n    function deltaRleSize(data, info) {\n        var size = SizeInfo();\n        var run = 1, prev = 0, prevValue = 0;\n        for (var i = 1, n = data.length; i < n; i++) {\n            var v = data[i] - prev;\n            if (prevValue !== v) {\n                incSizeSigned(size, prevValue);\n                incSizeSigned(size, run);\n                run = 1;\n            }\n            else {\n                run++;\n            }\n            prevValue = v;\n            prev = data[i];\n        }\n        incSizeSigned(size, prevValue);\n        incSizeSigned(size, run);\n        return __assign(__assign({}, byteSize(size)), { kind: 'delta-rle' });\n    }\n    function getSize(data) {\n        var info = getInfo(data);\n        var sizes = [packingSize(data, info), rleSize(data, info), deltaSize(data, info), deltaRleSize(data, info)];\n        sizes.sort(function (a, b) { return a.length - b.length; });\n        return sizes;\n    }\n    IntClassifier.getSize = getSize;\n    function classify(data) {\n        if (data.length < 2)\n            return E.by(E.byteArray);\n        var sizes = getSize(data);\n        var size = sizes[0];\n        switch (size.kind) {\n            case 'pack': return E.by(E.integerPacking);\n            case 'rle': return E.by(E.runLength).and(E.integerPacking);\n            case 'delta': return E.by(E.delta).and(E.integerPacking);\n            case 'delta-rle': return E.by(E.delta).and(E.runLength).and(E.integerPacking);\n            default: assertUnreachable(size);\n        }\n    }\n    IntClassifier.classify = classify;\n})(IntClassifier || (IntClassifier = {}));\nvar FloatClassifier;\n(function (FloatClassifier) {\n    var delta = 1e-6;\n    function classify(data) {\n        var maxDigits = 4;\n        var _a = getArrayDigitCount(data, maxDigits, delta), mantissaDigits = _a.mantissaDigits, integerDigits = _a.integerDigits;\n        // TODO: better check for overflows here?\n        if (mantissaDigits < 0 || mantissaDigits + integerDigits > 10)\n            return E.by(E.byteArray);\n        // TODO: this needs a conversion to Int?Array?\n        if (mantissaDigits === 0)\n            return IntClassifier.classify(data);\n        var multiplier = getMultiplier(mantissaDigits);\n        var intArray = new Int32Array(data.length);\n        for (var i = 0, n = data.length; i < n; i++) {\n            intArray[i] = Math.round(multiplier * data[i]);\n            // TODO: enable this again?\n            // const v = Math.round(multiplier * data[i]);\n            // if (Math.abs(Math.round(v) / multiplier - intArray[i] / multiplier) > delta) {\n            //     return E.by(E.byteArray);\n            // }\n        }\n        var sizes = IntClassifier.getSize(intArray);\n        var size = sizes[0];\n        var fp = E.by(E.fixedPoint(multiplier));\n        switch (size.kind) {\n            case 'pack': return fp.and(E.integerPacking);\n            case 'rle': return fp.and(E.runLength).and(E.integerPacking);\n            case 'delta': return fp.and(E.delta).and(E.integerPacking);\n            case 'delta-rle': return fp.and(E.delta).and(E.runLength).and(E.integerPacking);\n            default: assertUnreachable(size);\n        }\n    }\n    FloatClassifier.classify = classify;\n    function getMultiplier(mantissaDigits) {\n        var m = 1;\n        for (var i = 0; i < mantissaDigits; i++)\n            m *= 10;\n        return m;\n    }\n})(FloatClassifier || (FloatClassifier = {}));\n","/**\n * Copyright (c) 2018-2019 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\n/**\n * Determine the number of digits in a floating point number\n * Find a number M such that round(M * v) - M * v <= delta.\n * If no such M exists, return -1.\n */\nexport function getMantissaMultiplier(v, maxDigits, delta) {\n    var m = 1, i;\n    for (i = 0; i < maxDigits; i++) {\n        var mv = m * v;\n        if (Math.abs(Math.round(mv) - mv) <= delta)\n            return i;\n        m *= 10;\n    }\n    return -1;\n}\nexport function integerDigitCount(v, delta) {\n    var f = Math.abs(v);\n    if (f < delta)\n        return 0;\n    return Math.floor(Math.log10(Math.abs(v))) + 1;\n}\n/**\n * Determine the maximum number of digits in a floating point array.\n * Find a number M such that round(M * v) - M * v <= delta.\n * If no such M exists, return -1.\n */\nexport function getArrayDigitCount(xs, maxDigits, delta) {\n    var mantissaDigits = 1;\n    var integerDigits = 0;\n    for (var i = 0, _i = xs.length; i < _i; i++) {\n        if (mantissaDigits >= 0) {\n            var t = getMantissaMultiplier(xs[i], maxDigits, delta);\n            if (t < 0)\n                mantissaDigits = -1;\n            else if (t > mantissaDigits)\n                mantissaDigits = t;\n        }\n        var abs = Math.abs(xs[i]);\n        if (abs > delta) {\n            var d = Math.floor(Math.log10(Math.abs(abs))) + 1;\n            if (d > integerDigits)\n                integerDigits = d;\n        }\n    }\n    return { mantissaDigits: mantissaDigits, integerDigits: integerDigits };\n}\nexport function isInteger(s) {\n    s = s.trim();\n    var n = parseInt(s, 10);\n    return isNaN(n) ? false : n.toString() === s;\n}\nexport function getPrecision(v) {\n    if (!isFinite(v))\n        return 0;\n    var e = 1;\n    var p = 0;\n    while (Math.round(v * e) / e !== v) {\n        e *= 10;\n        ++p;\n    }\n    return p;\n}\nexport function toPrecision(v, precision) {\n    return parseFloat(v.toPrecision(precision));\n}\nexport function toFixed(v, fractionDigits) {\n    return parseFloat(v.toFixed(fractionDigits));\n}\n","/**\n * Copyright (c) 2017 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * Adapted from CIFTools.js (https://github.com/dsehnal/CIFTools.js; MIT) and MMTF (https://github.com/rcsb/mmtf-javascript/; MIT)\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\nimport { ChunkedArray } from '../../../mol-data/util';\nimport { Encoding } from './encoding';\nimport { classifyIntArray } from './classifier';\nvar ArrayEncoderImpl = /** @class */ (function () {\n    function ArrayEncoderImpl(providers) {\n        this.providers = providers;\n    }\n    ArrayEncoderImpl.prototype.and = function (f) {\n        return new ArrayEncoderImpl(this.providers.concat([f]));\n    };\n    ArrayEncoderImpl.prototype.encode = function (data) {\n        var encoding = [];\n        for (var _i = 0, _a = this.providers; _i < _a.length; _i++) {\n            var p = _a[_i];\n            var t = p(data);\n            if (!t.encodings.length) {\n                throw new Error('Encodings must be non-empty.');\n            }\n            data = t.data;\n            for (var _b = 0, _c = t.encodings; _b < _c.length; _b++) {\n                var e = _c[_b];\n                encoding.push(e);\n            }\n        }\n        if (!(data instanceof Uint8Array)) {\n            throw new Error('The encoding must result in a Uint8Array. Fix your encoding chain.');\n        }\n        return {\n            encoding: encoding,\n            data: data\n        };\n    };\n    return ArrayEncoderImpl;\n}());\nexport { ArrayEncoderImpl };\nexport var ArrayEncoder;\n(function (ArrayEncoder) {\n    function by(f) {\n        return new ArrayEncoderImpl([f]);\n    }\n    ArrayEncoder.by = by;\n    function fromEncoding(encoding) {\n        var e = by(getProvider(encoding[0]));\n        for (var i = 1; i < encoding.length; i++)\n            e = e.and(getProvider(encoding[i]));\n        return e;\n    }\n    ArrayEncoder.fromEncoding = fromEncoding;\n    function getProvider(e) {\n        switch (e.kind) {\n            case 'ByteArray': return ArrayEncoding.byteArray;\n            case 'FixedPoint': return ArrayEncoding.fixedPoint(e.factor);\n            case 'IntervalQuantization': return ArrayEncoding.intervalQuantizaiton(e.min, e.max, e.numSteps);\n            case 'RunLength': return ArrayEncoding.runLength;\n            case 'Delta': return ArrayEncoding.delta;\n            case 'IntegerPacking': return ArrayEncoding.integerPacking;\n            case 'StringArray': return ArrayEncoding.stringArray;\n        }\n    }\n})(ArrayEncoder || (ArrayEncoder = {}));\nexport var ArrayEncoding;\n(function (ArrayEncoding) {\n    var _a, _b;\n    function by(f) {\n        return new ArrayEncoderImpl([f]);\n    }\n    ArrayEncoding.by = by;\n    function uint8(data) {\n        return {\n            encodings: [{ kind: 'ByteArray', type: Encoding.IntDataType.Uint8 }],\n            data: data\n        };\n    }\n    function int8(data) {\n        return {\n            encodings: [{ kind: 'ByteArray', type: Encoding.IntDataType.Int8 }],\n            data: new Uint8Array(data.buffer, data.byteOffset)\n        };\n    }\n    var writers = (_a = {},\n        _a[Encoding.IntDataType.Int16] = function (v, i, a) { v.setInt16(2 * i, a, true); },\n        _a[Encoding.IntDataType.Uint16] = function (v, i, a) { v.setUint16(2 * i, a, true); },\n        _a[Encoding.IntDataType.Int32] = function (v, i, a) { v.setInt32(4 * i, a, true); },\n        _a[Encoding.IntDataType.Uint32] = function (v, i, a) { v.setUint32(4 * i, a, true); },\n        _a[Encoding.FloatDataType.Float32] = function (v, i, a) { v.setFloat32(4 * i, a, true); },\n        _a[Encoding.FloatDataType.Float64] = function (v, i, a) { v.setFloat64(8 * i, a, true); },\n        _a);\n    var byteSizes = (_b = {},\n        _b[Encoding.IntDataType.Int16] = 2,\n        _b[Encoding.IntDataType.Uint16] = 2,\n        _b[Encoding.IntDataType.Int32] = 4,\n        _b[Encoding.IntDataType.Uint32] = 4,\n        _b[Encoding.FloatDataType.Float32] = 4,\n        _b[Encoding.FloatDataType.Float64] = 8,\n        _b);\n    function byteArray(data) {\n        var type = Encoding.getDataType(data);\n        if (type === Encoding.IntDataType.Int8)\n            return int8(data);\n        else if (type === Encoding.IntDataType.Uint8)\n            return uint8(data);\n        var result = new Uint8Array(data.length * byteSizes[type]);\n        var w = writers[type];\n        var view = new DataView(result.buffer);\n        for (var i = 0, n = data.length; i < n; i++) {\n            w(view, i, data[i]);\n        }\n        return {\n            encodings: [{ kind: 'ByteArray', type: type }],\n            data: result\n        };\n    }\n    ArrayEncoding.byteArray = byteArray;\n    function _fixedPoint(data, factor) {\n        var srcType = Encoding.getDataType(data);\n        var result = new Int32Array(data.length);\n        for (var i = 0, n = data.length; i < n; i++) {\n            result[i] = Math.round(data[i] * factor);\n        }\n        return {\n            encodings: [{ kind: 'FixedPoint', factor: factor, srcType: srcType }],\n            data: result\n        };\n    }\n    function fixedPoint(factor) { return function (data) { return _fixedPoint(data, factor); }; }\n    ArrayEncoding.fixedPoint = fixedPoint;\n    function _intervalQuantizaiton(data, min, max, numSteps, arrayType) {\n        var srcType = Encoding.getDataType(data);\n        if (!data.length) {\n            return {\n                encodings: [{ kind: 'IntervalQuantization', min: min, max: max, numSteps: numSteps, srcType: srcType }],\n                data: new Int32Array(0)\n            };\n        }\n        if (max < min) {\n            var t = min;\n            min = max;\n            max = t;\n        }\n        var delta = (max - min) / (numSteps - 1);\n        var output = new arrayType(data.length);\n        for (var i = 0, n = data.length; i < n; i++) {\n            var v = data[i];\n            if (v <= min)\n                output[i] = 0;\n            else if (v >= max)\n                output[i] = numSteps - 1;\n            else\n                output[i] = (Math.round((v - min) / delta)) | 0;\n        }\n        return {\n            encodings: [{ kind: 'IntervalQuantization', min: min, max: max, numSteps: numSteps, srcType: srcType }],\n            data: output\n        };\n    }\n    function intervalQuantizaiton(min, max, numSteps, arrayType) {\n        if (arrayType === void 0) { arrayType = Int32Array; }\n        return function (data) { return _intervalQuantizaiton(data, min, max, numSteps, arrayType); };\n    }\n    ArrayEncoding.intervalQuantizaiton = intervalQuantizaiton;\n    function runLength(data) {\n        var srcType = Encoding.getDataType(data);\n        if (srcType === void 0) {\n            data = new Int32Array(data);\n            srcType = Encoding.IntDataType.Int32;\n        }\n        if (!data.length) {\n            return {\n                encodings: [{ kind: 'RunLength', srcType: srcType, srcSize: 0 }],\n                data: new Int32Array(0)\n            };\n        }\n        // calculate output size\n        var fullLength = 2;\n        for (var i = 1, il = data.length; i < il; i++) {\n            if (data[i - 1] !== data[i]) {\n                fullLength += 2;\n            }\n        }\n        var output = new Int32Array(fullLength);\n        var offset = 0;\n        var runLength = 1;\n        for (var i = 1, il = data.length; i < il; i++) {\n            if (data[i - 1] !== data[i]) {\n                output[offset] = data[i - 1];\n                output[offset + 1] = runLength;\n                runLength = 1;\n                offset += 2;\n            }\n            else {\n                ++runLength;\n            }\n        }\n        output[offset] = data[data.length - 1];\n        output[offset + 1] = runLength;\n        return {\n            encodings: [{ kind: 'RunLength', srcType: srcType, srcSize: data.length }],\n            data: output\n        };\n    }\n    ArrayEncoding.runLength = runLength;\n    function delta(data) {\n        if (!Encoding.isSignedIntegerDataType(data)) {\n            throw new Error('Only signed integer types can be encoded using delta encoding.');\n        }\n        var srcType = Encoding.getDataType(data);\n        if (srcType === void 0) {\n            data = new Int32Array(data);\n            srcType = Encoding.IntDataType.Int32;\n        }\n        if (!data.length) {\n            return {\n                encodings: [{ kind: 'Delta', origin: 0, srcType: srcType }],\n                data: new data.constructor(0)\n            };\n        }\n        var output = new data.constructor(data.length);\n        var origin = data[0];\n        output[0] = data[0];\n        for (var i = 1, n = data.length; i < n; i++) {\n            output[i] = data[i] - data[i - 1];\n        }\n        output[0] = 0;\n        return {\n            encodings: [{ kind: 'Delta', origin: origin, srcType: srcType }],\n            data: output\n        };\n    }\n    ArrayEncoding.delta = delta;\n    function isSigned(data) {\n        for (var i = 0, n = data.length; i < n; i++) {\n            if (data[i] < 0)\n                return true;\n        }\n        return false;\n    }\n    function packingSizeUnsigned(data, upperLimit) {\n        var size = 0;\n        for (var i = 0, n = data.length; i < n; i++) {\n            size += (data[i] / upperLimit) | 0;\n        }\n        size += data.length;\n        return size;\n    }\n    function packingSizeSigned(data, upperLimit) {\n        var lowerLimit = -upperLimit - 1;\n        var size = 0;\n        for (var i = 0, n = data.length; i < n; i++) {\n            var value = data[i];\n            if (value >= 0) {\n                size += (value / upperLimit) | 0;\n            }\n            else {\n                size += (value / lowerLimit) | 0;\n            }\n        }\n        size += data.length;\n        return size;\n    }\n    function determinePacking(data) {\n        var signed = isSigned(data);\n        var size8 = signed ? packingSizeSigned(data, 0x7F) : packingSizeUnsigned(data, 0xFF);\n        var size16 = signed ? packingSizeSigned(data, 0x7FFF) : packingSizeUnsigned(data, 0xFFFF);\n        if (data.length * 4 < size16 * 2) {\n            // 4 byte packing is the most effective\n            return {\n                isSigned: signed,\n                size: data.length,\n                bytesPerElement: 4\n            };\n        }\n        else if (size16 * 2 < size8) {\n            // 2 byte packing is the most effective\n            return {\n                isSigned: signed,\n                size: size16,\n                bytesPerElement: 2\n            };\n        }\n        else {\n            // 1 byte packing is the most effective\n            return {\n                isSigned: signed,\n                size: size8,\n                bytesPerElement: 1\n            };\n        }\n        ;\n    }\n    function _integerPacking(data, packing) {\n        var upperLimit = packing.isSigned\n            ? (packing.bytesPerElement === 1 ? 0x7F : 0x7FFF)\n            : (packing.bytesPerElement === 1 ? 0xFF : 0xFFFF);\n        var lowerLimit = -upperLimit - 1;\n        var n = data.length;\n        var packed = packing.isSigned\n            ? packing.bytesPerElement === 1 ? new Int8Array(packing.size) : new Int16Array(packing.size)\n            : packing.bytesPerElement === 1 ? new Uint8Array(packing.size) : new Uint16Array(packing.size);\n        var j = 0;\n        for (var i = 0; i < n; i++) {\n            var value = data[i];\n            if (value >= 0) {\n                while (value >= upperLimit) {\n                    packed[j] = upperLimit;\n                    ++j;\n                    value -= upperLimit;\n                }\n            }\n            else {\n                while (value <= lowerLimit) {\n                    packed[j] = lowerLimit;\n                    ++j;\n                    value -= lowerLimit;\n                }\n            }\n            packed[j] = value;\n            ++j;\n        }\n        var result = byteArray(packed);\n        return {\n            encodings: [{\n                    kind: 'IntegerPacking',\n                    byteCount: packing.bytesPerElement,\n                    isUnsigned: !packing.isSigned,\n                    srcSize: n\n                },\n                result.encodings[0]\n            ],\n            data: result.data\n        };\n    }\n    /**\n     * Packs Int32 array. The packing level is determined automatically to either 1-, 2-, or 4-byte words.\n     */\n    function integerPacking(data) {\n        // if (!(data instanceof Int32Array)) {\n        //     throw new Error('Integer packing can only be applied to Int32 data.');\n        // }\n        var packing = determinePacking(data);\n        if (packing.bytesPerElement === 4) {\n            // no packing done, Int32 encoding will be used\n            return byteArray(data);\n        }\n        return _integerPacking(data, packing);\n    }\n    ArrayEncoding.integerPacking = integerPacking;\n    function stringArray(data) {\n        var map = Object.create(null);\n        var strings = [];\n        var output = new Int32Array(data.length);\n        var offsets = ChunkedArray.create(Int32Array, 1, Math.min(1024, data.length < 32 ? data.length + 1 : Math.round(data.length / 8) + 1));\n        ChunkedArray.add(offsets, 0);\n        var accLength = 0;\n        var i = 0;\n        for (var _i = 0, data_1 = data; _i < data_1.length; _i++) {\n            var s = data_1[_i];\n            // handle null strings.\n            if (s === null || s === void 0) {\n                output[i++] = -1;\n                continue;\n            }\n            var index = map[s];\n            if (index === void 0) {\n                // increment the length\n                accLength += s.length;\n                // store the string and index\n                index = strings.length;\n                strings[index] = s;\n                map[s] = index;\n                // write the offset\n                ChunkedArray.add(offsets, accLength);\n            }\n            output[i++] = index;\n        }\n        var offsetArray = ChunkedArray.compact(offsets);\n        var offsetEncoding = classifyIntArray(offsetArray);\n        var encodedOddsets = offsetEncoding.encode(offsetArray);\n        var dataEncoding = classifyIntArray(output);\n        var encodedData = dataEncoding.encode(output);\n        return {\n            encodings: [{ kind: 'StringArray', dataEncoding: encodedData.encoding, stringData: strings.join(''), offsetEncoding: encodedOddsets.encoding, offsets: encodedOddsets.data }],\n            data: encodedData.data\n        };\n    }\n    ArrayEncoding.stringArray = stringArray;\n})(ArrayEncoding || (ArrayEncoding = {}));\n","/**\n * Copyright (c) 2017-2018 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\nimport { __spreadArray } from \"tslib\";\nimport { Iterator } from '../../../mol-data/iterator';\nimport { ArrayEncoding } from '../../common/binary-cif';\nimport { assertUnreachable } from '../../../mol-util/type-helpers';\nexport var Field;\n(function (Field) {\n    function str(name, value, params) {\n        return { name: name, type: 0 /* Type.Str */, value: value, valueKind: params && params.valueKind, defaultFormat: params && params.encoder ? { encoder: params.encoder } : void 0, shouldInclude: params && params.shouldInclude };\n    }\n    Field.str = str;\n    function int(name, value, params) {\n        return {\n            name: name,\n            type: 1 /* Type.Int */,\n            value: value,\n            valueKind: params && params.valueKind,\n            defaultFormat: params ? { encoder: params.encoder, typedArray: params.typedArray } : void 0,\n            shouldInclude: params && params.shouldInclude\n        };\n    }\n    Field.int = int;\n    function float(name, value, params) {\n        return {\n            name: name,\n            type: 2 /* Type.Float */,\n            value: value,\n            valueKind: params && params.valueKind,\n            defaultFormat: params ? { encoder: params.encoder, typedArray: params.typedArray, digitCount: typeof params.digitCount !== 'undefined' ? params.digitCount : void 0 } : void 0,\n            shouldInclude: params && params.shouldInclude\n        };\n    }\n    Field.float = float;\n    function index(name) {\n        return int(name, function (e, d, i) { return i + 1; }, { typedArray: Int32Array, encoder: ArrayEncoding.by(ArrayEncoding.delta).and(ArrayEncoding.runLength).and(ArrayEncoding.integerPacking) });\n    }\n    Field.index = index;\n    var Builder = /** @class */ (function () {\n        function Builder() {\n            this.fields = [];\n        }\n        Builder.prototype.index = function (name) {\n            this.fields.push(Field.index(name));\n            return this;\n        };\n        Builder.prototype.str = function (name, value, params) {\n            this.fields.push(Field.str(name, value, params));\n            return this;\n        };\n        Builder.prototype.int = function (name, value, params) {\n            this.fields.push(Field.int(name, value, params));\n            return this;\n        };\n        Builder.prototype.vec = function (name, values, params) {\n            for (var i = 0; i < values.length; i++) {\n                this.fields.push(Field.int(\"\".concat(name, \"[\").concat(i + 1, \"]\"), values[i], params));\n            }\n            return this;\n        };\n        Builder.prototype.float = function (name, value, params) {\n            this.fields.push(Field.float(name, value, params));\n            return this;\n        };\n        Builder.prototype.many = function (fields) {\n            for (var i = 0; i < fields.length; i++)\n                this.fields.push(fields[i]);\n            return this;\n        };\n        Builder.prototype.add = function (field) {\n            this.fields.push(field);\n            return this;\n        };\n        Builder.prototype.getFields = function () { return this.fields; };\n        return Builder;\n    }());\n    Field.Builder = Builder;\n    function build() {\n        return new Builder();\n    }\n    Field.build = build;\n})(Field || (Field = {}));\nexport var Category;\n(function (Category) {\n    Category.Empty = { fields: [], source: [] };\n    function filterOf(directives) {\n        var cat_whitelist = [];\n        var cat_blacklist = [];\n        var field_whitelist = [];\n        var field_blacklist = [];\n        for (var _i = 0, _a = directives.split(/[\\r\\n]+/); _i < _a.length; _i++) {\n            var d = _a[_i];\n            d = d.trim();\n            // allow for empty lines in config\n            if (d.length === 0)\n                continue;\n            // let ! denote blacklisted entries\n            var blacklist = /^!/.test(d);\n            if (blacklist)\n                d = d.substr(1);\n            var split = d.split(/\\./);\n            var field = split[1];\n            var list = blacklist ? (field ? field_blacklist : cat_blacklist) : (field ? field_whitelist : cat_whitelist);\n            list[list.length] = d;\n            // ensure categories are aware about whitelisted columns\n            if (field && !cat_whitelist.includes(split[0])) {\n                cat_whitelist[cat_whitelist.length] = split[0];\n            }\n        }\n        var wlcatcol = field_whitelist.map(function (it) { return it.split('.')[0]; });\n        // blacklist has higher priority\n        return {\n            includeCategory: function (cat) {\n                // block if category in black\n                if (cat_blacklist.includes(cat)) {\n                    return false;\n                }\n                else {\n                    // if there is a whitelist, the category has to be explicitly allowed\n                    return cat_whitelist.length <= 0 ||\n                        // otherwise include if whitelist contains category\n                        cat_whitelist.indexOf(cat) !== -1;\n                }\n            },\n            includeField: function (cat, field) {\n                // column names are assumed to follow the pattern 'category_name.column_name'\n                var full = cat + '.' + field;\n                if (field_blacklist.includes(full)) {\n                    return false;\n                }\n                else {\n                    // if for this category no whitelist entries exist\n                    return !wlcatcol.includes(cat) ||\n                        // otherwise must be specifically allowed\n                        field_whitelist.includes(full);\n                }\n            }\n        };\n    }\n    Category.filterOf = filterOf;\n    Category.DefaultFilter = {\n        includeCategory: function (cat) { return true; },\n        includeField: function (cat, field) { return true; }\n    };\n    Category.DefaultFormatter = {\n        getFormat: function (cat, field) { return void 0; }\n    };\n    function ofTable(table, indices) {\n        if (indices) {\n            return {\n                fields: cifFieldsFromTableSchema(table._schema),\n                source: [{ data: table, rowCount: indices.length, keys: function () { return Iterator.Array(indices); } }]\n            };\n        }\n        return {\n            fields: cifFieldsFromTableSchema(table._schema),\n            source: [{ data: table, rowCount: table._rowCount }]\n        };\n    }\n    Category.ofTable = ofTable;\n})(Category || (Category = {}));\nexport var Encoder;\n(function (Encoder) {\n    function writeDatabase(encoder, name, database) {\n        encoder.startDataBlock(name);\n        var _loop_1 = function (table) {\n            encoder.writeCategory({ name: table, instance: function () { return Category.ofTable(database[table]); } });\n        };\n        for (var _i = 0, _a = database._tableNames; _i < _a.length; _i++) {\n            var table = _a[_i];\n            _loop_1(table);\n        }\n    }\n    Encoder.writeDatabase = writeDatabase;\n    function writeDatabaseCollection(encoder, collection) {\n        for (var _i = 0, _a = Object.keys(collection); _i < _a.length; _i++) {\n            var name_1 = _a[_i];\n            writeDatabase(encoder, name_1, collection[name_1]);\n        }\n    }\n    Encoder.writeDatabaseCollection = writeDatabaseCollection;\n})(Encoder || (Encoder = {}));\nfunction columnValue(k) {\n    return function (i, d) { return d[k].value(i); };\n}\nfunction columnListValue(k) {\n    return function (i, d) { return d[k].value(i).join(d[k].schema.separator); };\n}\nfunction columnTensorValue(k) {\n    var coords = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        coords[_i - 1] = arguments[_i];\n    }\n    return function (i, d) {\n        var _a;\n        return (_a = d[k].schema.space).get.apply(_a, __spreadArray([d[k].value(i)], coords, false));\n    };\n}\nfunction columnValueKind(k) {\n    return function (i, d) { return d[k].valueKind(i); };\n}\nfunction getTensorDefinitions(field, space) {\n    var fieldDefinitions = [];\n    var type = 2 /* Field.Type.Float */;\n    var valueKind = columnValueKind(field);\n    if (space.rank === 1) {\n        var rows = space.dimensions[0];\n        for (var i = 0; i < rows; i++) {\n            var name_2 = \"\".concat(field, \"[\").concat(i + 1, \"]\");\n            fieldDefinitions.push({ name: name_2, type: type, value: columnTensorValue(field, i), valueKind: valueKind });\n        }\n    }\n    else if (space.rank === 2) {\n        var rows = space.dimensions[0], cols = space.dimensions[1];\n        for (var i = 0; i < rows; i++) {\n            for (var j = 0; j < cols; j++) {\n                var name_3 = \"\".concat(field, \"[\").concat(i + 1, \"][\").concat(j + 1, \"]\");\n                fieldDefinitions.push({ name: name_3, type: type, value: columnTensorValue(field, i, j), valueKind: valueKind });\n            }\n        }\n    }\n    else if (space.rank === 3) {\n        var d0 = space.dimensions[0], d1 = space.dimensions[1], d2 = space.dimensions[2];\n        for (var i = 0; i < d0; i++) {\n            for (var j = 0; j < d1; j++) {\n                for (var k = 0; k < d2; k++) {\n                    var name_4 = \"\".concat(field, \"[\").concat(i + 1, \"][\").concat(j + 1, \"][\").concat(k + 1, \"]\");\n                    fieldDefinitions.push({ name: name_4, type: type, value: columnTensorValue(field, i, j, k), valueKind: valueKind });\n                }\n            }\n        }\n    }\n    else {\n        throw new Error('Tensors with rank > 3 or rank 0 are currently not supported.');\n    }\n    return fieldDefinitions;\n}\nfunction cifFieldsFromTableSchema(schema) {\n    var fields = [];\n    for (var _i = 0, _a = Object.keys(schema); _i < _a.length; _i++) {\n        var k = _a[_i];\n        var t = schema[k];\n        if (t.valueType === 'int') {\n            fields.push({ name: k, type: 1 /* Field.Type.Int */, value: columnValue(k), valueKind: columnValueKind(k) });\n        }\n        else if (t.valueType === 'float') {\n            fields.push({ name: k, type: 2 /* Field.Type.Float */, value: columnValue(k), valueKind: columnValueKind(k) });\n        }\n        else if (t.valueType === 'str') {\n            fields.push({ name: k, type: 0 /* Field.Type.Str */, value: columnValue(k), valueKind: columnValueKind(k) });\n        }\n        else if (t.valueType === 'list') {\n            fields.push({ name: k, type: 0 /* Field.Type.Str */, value: columnListValue(k), valueKind: columnValueKind(k) });\n        }\n        else if (t.valueType === 'tensor') {\n            fields.push.apply(fields, getTensorDefinitions(k, t.space));\n        }\n        else {\n            assertUnreachable(t.valueType);\n        }\n    }\n    return fields;\n}\n","/**\n * Copyright (c) 2018 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n */\nimport { Iterator } from '../../../../mol-data';\nexport function getFieldDigitCount(field) {\n    if (field.defaultFormat && typeof field.defaultFormat.digitCount !== 'undefined')\n        return Math.max(0, Math.min(field.defaultFormat.digitCount, 16));\n    return 6;\n}\nexport function getIncludedFields(category) {\n    return category.fields.some(function (f) { return !!f.shouldInclude; })\n        ? category.fields.filter(function (f) { return !f.shouldInclude || category.source.some(function (src) { return f.shouldInclude(src.data); }); })\n        : category.fields;\n}\nexport function getCategoryInstanceData(category, ctx) {\n    var instance = category.instance(ctx);\n    var sources = instance.source.filter(function (s) { return s.rowCount > 0; });\n    if (!sources.length)\n        return { instance: instance, rowCount: 0, source: [] };\n    var rowCount = sources.reduce(function (a, c) { return a + c.rowCount; }, 0);\n    var source = sources.map(function (c) { return ({\n        data: c.data,\n        keys: function () { return c.keys ? c.keys() : Iterator.Range(0, c.rowCount - 1); },\n        rowCount: c.rowCount\n    }); });\n    return { instance: instance, rowCount: rowCount, source: source };\n}\n","/**\n * Copyright (c) 2017-2021 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * Adapted from CIFTools.js (https://github.com/dsehnal/CIFTools.js)\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n */\nimport { StringBuilder } from '../../../../mol-util/string-builder';\nimport { Category } from '../encoder';\nimport { getFieldDigitCount, getIncludedFields, getCategoryInstanceData } from './util';\nvar TextEncoder = /** @class */ (function () {\n    function TextEncoder() {\n        this.builder = StringBuilder.create();\n        this.encoded = false;\n        this.dataBlockCreated = false;\n        this.filter = Category.DefaultFilter;\n        this.formatter = Category.DefaultFormatter;\n        this.isBinary = false;\n        this.binaryEncodingProvider = void 0;\n    }\n    TextEncoder.prototype.setFilter = function (filter) {\n        this.filter = filter || Category.DefaultFilter;\n    };\n    TextEncoder.prototype.isCategoryIncluded = function (name) {\n        return this.filter.includeCategory(name);\n    };\n    TextEncoder.prototype.setFormatter = function (formatter) {\n        this.formatter = formatter || Category.DefaultFormatter;\n    };\n    TextEncoder.prototype.startDataBlock = function (header) {\n        this.dataBlockCreated = true;\n        StringBuilder.write(this.builder, \"data_\".concat((header || '').replace(/[ \\n\\t]/g, '').toUpperCase(), \"\\n#\\n\"));\n    };\n    TextEncoder.prototype.writeCategory = function (category, context, options) {\n        if (this.encoded) {\n            throw new Error('The writer contents have already been encoded, no more writing.');\n        }\n        if (!this.dataBlockCreated) {\n            throw new Error('No data block created.');\n        }\n        if (!(options === null || options === void 0 ? void 0 : options.ignoreFilter) && !this.filter.includeCategory(category.name))\n            return;\n        var _a = getCategoryInstanceData(category, context), instance = _a.instance, rowCount = _a.rowCount, source = _a.source;\n        if (!rowCount)\n            return;\n        if (rowCount === 1) {\n            writeCifSingleRecord(category, instance, source, this.builder, this.filter, this.formatter);\n        }\n        else {\n            writeCifLoop(category, instance, source, this.builder, this.filter, this.formatter);\n        }\n    };\n    TextEncoder.prototype.encode = function () {\n        this.encoded = true;\n    };\n    TextEncoder.prototype.writeTo = function (stream) {\n        var chunks = StringBuilder.getChunks(this.builder);\n        for (var i = 0, _i = chunks.length; i < _i; i++) {\n            stream.writeString(chunks[i]);\n        }\n    };\n    TextEncoder.prototype.getSize = function () {\n        return StringBuilder.getSize(this.builder);\n    };\n    TextEncoder.prototype.getData = function () {\n        return StringBuilder.getString(this.builder);\n    };\n    return TextEncoder;\n}());\nexport { TextEncoder };\nfunction writeValue(builder, data, key, f, floatPrecision, index) {\n    var kind = f.valueKind;\n    var p = kind ? kind(key, data) : 0 /* Column.ValueKinds.Present */;\n    if (p !== 0 /* Column.ValueKinds.Present */) {\n        if (p === 1 /* Column.ValueKinds.NotPresent */)\n            writeNotPresent(builder);\n        else\n            writeUnknown(builder);\n    }\n    else {\n        var val = f.value(key, data, index);\n        var t = f.type;\n        if (t === 0 /* Field.Type.Str */) {\n            if (isMultiline(val)) {\n                writeMultiline(builder, val);\n                return true;\n            }\n            else {\n                return writeChecked(builder, val);\n            }\n        }\n        else if (t === 1 /* Field.Type.Int */) {\n            writeInteger(builder, val);\n        }\n        else {\n            writeFloat(builder, val, floatPrecision);\n        }\n    }\n    return false;\n}\nfunction getFloatPrecisions(categoryName, fields, formatter) {\n    var ret = [];\n    for (var _a = 0, fields_1 = fields; _a < fields_1.length; _a++) {\n        var f = fields_1[_a];\n        var format = formatter.getFormat(categoryName, f.name);\n        if (format && typeof format.digitCount !== 'undefined')\n            ret[ret.length] = f.type === 2 /* Field.Type.Float */ ? Math.pow(10, Math.max(0, Math.min(format.digitCount, 15))) : 0;\n        else\n            ret[ret.length] = f.type === 2 /* Field.Type.Float */ ? Math.pow(10, getFieldDigitCount(f)) : 0;\n    }\n    return ret;\n}\nfunction writeCifSingleRecord(category, instance, source, builder, filter, formatter) {\n    var fields = getIncludedFields(instance);\n    var src = source[0];\n    var data = src.data;\n    var width = fields.reduce(function (w, f) { return filter.includeField(category.name, f.name) ? Math.max(w, f.name.length) : 0; }, 0);\n    // this means no field from this category is included.\n    if (width === 0)\n        return;\n    width += category.name.length + 6;\n    var it = src.keys();\n    var key = it.move();\n    var precisions = getFloatPrecisions(category.name, instance.fields, formatter);\n    for (var _f = 0; _f < fields.length; _f++) {\n        var f = fields[_f];\n        if (!filter.includeField(category.name, f.name))\n            continue;\n        StringBuilder.writePadRight(builder, \"_\".concat(category.name, \".\").concat(f.name), width);\n        var multiline = writeValue(builder, data, key, f, precisions[_f], 0);\n        if (!multiline)\n            StringBuilder.newline(builder);\n    }\n    StringBuilder.write(builder, '#\\n');\n}\nfunction writeCifLoop(category, instance, source, builder, filter, formatter) {\n    var fieldSource = getIncludedFields(instance);\n    var fields = filter === Category.DefaultFilter ? fieldSource : fieldSource.filter(function (f) { return filter.includeField(category.name, f.name); });\n    var fieldCount = fields.length;\n    if (fieldCount === 0)\n        return;\n    var precisions = getFloatPrecisions(category.name, fields, formatter);\n    writeLine(builder, 'loop_');\n    for (var i = 0; i < fieldCount; i++) {\n        writeLine(builder, \"_\".concat(category.name, \".\").concat(fields[i].name));\n    }\n    var index = 0;\n    for (var _c = 0; _c < source.length; _c++) {\n        var src = source[_c];\n        var data = src.data;\n        if (src.rowCount === 0)\n            continue;\n        var it_1 = src.keys();\n        while (it_1.hasNext) {\n            var key = it_1.move();\n            var multiline = false;\n            for (var _f = 0; _f < fieldCount; _f++) {\n                multiline = writeValue(builder, data, key, fields[_f], precisions[_f], index);\n            }\n            if (!multiline)\n                StringBuilder.newline(builder);\n            index++;\n        }\n    }\n    StringBuilder.write(builder, '#\\n');\n}\nfunction isMultiline(value) {\n    return typeof value === 'string' && value.indexOf('\\n') >= 0;\n}\nfunction writeLine(builder, val) {\n    StringBuilder.write(builder, val);\n    StringBuilder.newline(builder);\n}\nfunction writeInteger(builder, val) {\n    StringBuilder.writeInteger(builder, val);\n    StringBuilder.whitespace1(builder);\n}\nfunction writeFloat(builder, val, precisionMultiplier) {\n    StringBuilder.writeFloat(builder, val, precisionMultiplier);\n    StringBuilder.whitespace1(builder);\n}\nfunction writeNotPresent(builder) {\n    StringBuilder.writeSafe(builder, '. ');\n}\nfunction writeUnknown(builder) {\n    StringBuilder.writeSafe(builder, '? ');\n}\nfunction writeChecked(builder, val) {\n    if (!val) {\n        StringBuilder.writeSafe(builder, '. ');\n        return false;\n    }\n    var fst = val.charCodeAt(0);\n    var escape = false;\n    var escapeKind = 0; // 0 => ', 1 => \"\n    var hasSingleQuote = false, hasDoubleQuote = false;\n    for (var i = 0, _l = val.length - 1; i <= _l; i++) {\n        var c = val.charCodeAt(i);\n        switch (c) {\n            case 9: // \\t\n                escape = true;\n                break;\n            case 10: // \\n\n                writeMultiline(builder, val);\n                return true;\n            case 32: // ' '\n                escape = true;\n                break;\n            case 34: // \"\n                // no need to escape quote if it's the last char and the length is > 1\n                if (i && i === _l)\n                    break;\n                if (hasSingleQuote) {\n                    // the string already has a \" => use multiline value\n                    writeMultiline(builder, val);\n                    return true;\n                }\n                hasDoubleQuote = true;\n                escape = true;\n                escapeKind = 0;\n                break;\n            case 39: // '\n                // no need to escape quote if it's the last char and the length is > 1\n                if (i && i === _l)\n                    break;\n                if (hasDoubleQuote) {\n                    writeMultiline(builder, val);\n                    return true;\n                }\n                hasSingleQuote = true;\n                escape = true;\n                escapeKind = 1;\n                break;\n        }\n    }\n    if (!escape && (fst === 35 /* # */ || fst === 36 /* $ */ || fst === 59 /* ; */ || fst === 91 /* [ */ || fst === 93 /* ] */ || fst === 95 /* _ */)) {\n        escape = true;\n    }\n    if (escape) {\n        StringBuilder.writeSafe(builder, escapeKind ? '\"' : '\\'');\n        StringBuilder.writeSafe(builder, val);\n        StringBuilder.writeSafe(builder, escapeKind ? '\" ' : '\\' ');\n    }\n    else {\n        StringBuilder.writeSafe(builder, val);\n        StringBuilder.writeSafe(builder, ' ');\n    }\n    return false;\n}\nfunction writeMultiline(builder, val) {\n    StringBuilder.writeSafe(builder, '\\n;' + val);\n    StringBuilder.writeSafe(builder, '\\n;\\n');\n}\n","/**\n * Copyright (c) 2017-2020 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * Adapted from https://github.com/rcsb/mmtf-javascript\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @author David Sehnal <david.sehnal@gmail.com>\n */\nexport function utf8Write(data, offset, str) {\n    for (var i = 0, l = str.length; i < l; i++) {\n        var codePoint = str.charCodeAt(i);\n        // One byte of UTF-8\n        if (codePoint < 0x80) {\n            data[offset++] = codePoint >>> 0 & 0x7f | 0x00;\n            continue;\n        }\n        // Two bytes of UTF-8\n        if (codePoint < 0x800) {\n            data[offset++] = codePoint >>> 6 & 0x1f | 0xc0;\n            data[offset++] = codePoint >>> 0 & 0x3f | 0x80;\n            continue;\n        }\n        // Three bytes of UTF-8.\n        if (codePoint < 0x10000) {\n            data[offset++] = codePoint >>> 12 & 0x0f | 0xe0;\n            data[offset++] = codePoint >>> 6 & 0x3f | 0x80;\n            data[offset++] = codePoint >>> 0 & 0x3f | 0x80;\n            continue;\n        }\n        // Four bytes of UTF-8\n        if (codePoint < 0x110000) {\n            data[offset++] = codePoint >>> 18 & 0x07 | 0xf0;\n            data[offset++] = codePoint >>> 12 & 0x3f | 0x80;\n            data[offset++] = codePoint >>> 6 & 0x3f | 0x80;\n            data[offset++] = codePoint >>> 0 & 0x3f | 0x80;\n            continue;\n        }\n        throw new Error('bad codepoint ' + codePoint);\n    }\n}\nvar __chars = function () {\n    var data = [];\n    for (var i = 0; i < 1024; i++)\n        data[i] = String.fromCharCode(i);\n    return data;\n}();\nfunction throwError(err) {\n    throw new Error(err);\n}\nfunction _utf8Read(data, offset, length) {\n    var chars = __chars;\n    var str = void 0, chunkOffset = 0;\n    var chunk = [], chunkSize = 512;\n    for (var i = offset, end = offset + length; i < end; i++) {\n        var byte = data[i];\n        if ((byte & 0x80) === 0x00) {\n            // One byte character\n            chunk[chunkOffset++] = chars[byte];\n        }\n        else if ((byte & 0xe0) === 0xc0) {\n            // Two byte character\n            chunk[chunkOffset++] = chars[((byte & 0x0f) << 6) | (data[++i] & 0x3f)];\n        }\n        else if ((byte & 0xf0) === 0xe0) {\n            // Three byte character\n            chunk[chunkOffset++] = String.fromCharCode(((byte & 0x0f) << 12) |\n                ((data[++i] & 0x3f) << 6) |\n                ((data[++i] & 0x3f) << 0));\n        }\n        else if ((byte & 0xf8) === 0xf0) {\n            // Four byte character\n            chunk[chunkOffset++] = String.fromCharCode(((byte & 0x07) << 18) |\n                ((data[++i] & 0x3f) << 12) |\n                ((data[++i] & 0x3f) << 6) |\n                ((data[++i] & 0x3f) << 0));\n        }\n        else\n            throwError('Invalid byte ' + byte.toString(16));\n        if (chunkOffset === chunkSize) {\n            str = str || [];\n            str[str.length] = chunk.join('');\n            chunkOffset = 0;\n        }\n    }\n    if (!str)\n        return chunk.slice(0, chunkOffset).join('');\n    if (chunkOffset > 0) {\n        str[str.length] = chunk.slice(0, chunkOffset).join('');\n    }\n    return str.join('');\n}\nvar utf8Decoder = (typeof TextDecoder !== 'undefined') ? new TextDecoder() : undefined;\nexport function utf8Read(data, offset, length) {\n    if (utf8Decoder) {\n        var input = (offset || length !== data.length) ? data.subarray(offset, offset + length) : data;\n        return utf8Decoder.decode(input);\n    }\n    else {\n        return _utf8Read(data, offset, length);\n    }\n}\nexport function utf8ByteCount(str) {\n    var count = 0;\n    for (var i = 0, l = str.length; i < l; i++) {\n        var codePoint = str.charCodeAt(i);\n        if (codePoint < 0x80) {\n            count += 1;\n            continue;\n        }\n        if (codePoint < 0x800) {\n            count += 2;\n            continue;\n        }\n        if (codePoint < 0x10000) {\n            count += 3;\n            continue;\n        }\n        if (codePoint < 0x110000) {\n            count += 4;\n            continue;\n        }\n        throwError('bad codepoint ' + codePoint);\n    }\n    return count;\n}\n","/*\n * Copyright (c) 2017 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * Adapted from https://github.com/rcsb/mmtf-javascript\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @author David Sehnal <david.sehnal@gmail.com>\n */\nimport { utf8ByteCount, utf8Write } from '../utf8';\nexport function encodeMsgPack(value) {\n    var buffer = new ArrayBuffer(encodedSize(value));\n    var view = new DataView(buffer);\n    var bytes = new Uint8Array(buffer);\n    encodeInternal(value, view, bytes, 0);\n    return bytes;\n}\nfunction encodedSize(value) {\n    var type = typeof value;\n    // Raw Bytes\n    if (type === 'string') {\n        var length_1 = utf8ByteCount(value);\n        if (length_1 < 0x20) {\n            return 1 + length_1;\n        }\n        if (length_1 < 0x100) {\n            return 2 + length_1;\n        }\n        if (length_1 < 0x10000) {\n            return 3 + length_1;\n        }\n        if (length_1 < 0x100000000) {\n            return 5 + length_1;\n        }\n    }\n    if (value instanceof Uint8Array) {\n        var length_2 = value.byteLength;\n        if (length_2 < 0x100) {\n            return 2 + length_2;\n        }\n        if (length_2 < 0x10000) {\n            return 3 + length_2;\n        }\n        if (length_2 < 0x100000000) {\n            return 5 + length_2;\n        }\n    }\n    if (type === 'number') {\n        // Floating Point\n        // double\n        if (Math.floor(value) !== value)\n            return 9;\n        // Integers\n        if (value >= 0) {\n            // positive fixnum\n            if (value < 0x80)\n                return 1;\n            // uint 8\n            if (value < 0x100)\n                return 2;\n            // uint 16\n            if (value < 0x10000)\n                return 3;\n            // uint 32\n            if (value < 0x100000000)\n                return 5;\n            throw new Error('Number too big 0x' + value.toString(16));\n        }\n        // negative fixnum\n        if (value >= -0x20)\n            return 1;\n        // int 8\n        if (value >= -0x80)\n            return 2;\n        // int 16\n        if (value >= -0x8000)\n            return 3;\n        // int 32\n        if (value >= -0x80000000)\n            return 5;\n        throw new Error('Number too small -0x' + value.toString(16).substr(1));\n    }\n    // Boolean, null\n    if (type === 'boolean' || value === null || value === void 0)\n        return 1;\n    // Container Types\n    if (type === 'object') {\n        var length_3, size = 0;\n        if (Array.isArray(value)) {\n            length_3 = value.length;\n            for (var i = 0; i < length_3; i++) {\n                size += encodedSize(value[i]);\n            }\n        }\n        else {\n            var keys = Object.keys(value);\n            length_3 = keys.length;\n            for (var i = 0; i < length_3; i++) {\n                var key = keys[i];\n                size += encodedSize(key) + encodedSize(value[key]);\n            }\n        }\n        if (length_3 < 0x10) {\n            return 1 + size;\n        }\n        if (length_3 < 0x10000) {\n            return 3 + size;\n        }\n        if (length_3 < 0x100000000) {\n            return 5 + size;\n        }\n        throw new Error('Array or object too long 0x' + length_3.toString(16));\n    }\n    throw new Error('Unknown type ' + type);\n}\nfunction encodeInternal(value, view, bytes, offset) {\n    var type = typeof value;\n    // Strings Bytes\n    if (type === 'string') {\n        var length_4 = utf8ByteCount(value);\n        // fix str\n        if (length_4 < 0x20) {\n            view.setUint8(offset, length_4 | 0xa0);\n            utf8Write(bytes, offset + 1, value);\n            return 1 + length_4;\n        }\n        // str 8\n        if (length_4 < 0x100) {\n            view.setUint8(offset, 0xd9);\n            view.setUint8(offset + 1, length_4);\n            utf8Write(bytes, offset + 2, value);\n            return 2 + length_4;\n        }\n        // str 16\n        if (length_4 < 0x10000) {\n            view.setUint8(offset, 0xda);\n            view.setUint16(offset + 1, length_4);\n            utf8Write(bytes, offset + 3, value);\n            return 3 + length_4;\n        }\n        // str 32\n        if (length_4 < 0x100000000) {\n            view.setUint8(offset, 0xdb);\n            view.setUint32(offset + 1, length_4);\n            utf8Write(bytes, offset + 5, value);\n            return 5 + length_4;\n        }\n    }\n    if (value instanceof Uint8Array) {\n        var length_5 = value.byteLength;\n        var bytes_1 = new Uint8Array(view.buffer);\n        // bin 8\n        if (length_5 < 0x100) {\n            view.setUint8(offset, 0xc4);\n            view.setUint8(offset + 1, length_5);\n            bytes_1.set(value, offset + 2);\n            return 2 + length_5;\n        }\n        // bin 16\n        if (length_5 < 0x10000) {\n            view.setUint8(offset, 0xc5);\n            view.setUint16(offset + 1, length_5);\n            bytes_1.set(value, offset + 3);\n            return 3 + length_5;\n        }\n        // bin 32\n        if (length_5 < 0x100000000) {\n            view.setUint8(offset, 0xc6);\n            view.setUint32(offset + 1, length_5);\n            bytes_1.set(value, offset + 5);\n            return 5 + length_5;\n        }\n    }\n    if (type === 'number') {\n        if (!isFinite(value)) {\n            throw new Error('Number not finite: ' + value);\n        }\n        // Floating point\n        if (Math.floor(value) !== value) {\n            view.setUint8(offset, 0xcb);\n            view.setFloat64(offset + 1, value);\n            return 9;\n        }\n        // Integers\n        if (value >= 0) {\n            // positive fixnum\n            if (value < 0x80) {\n                view.setUint8(offset, value);\n                return 1;\n            }\n            // uint 8\n            if (value < 0x100) {\n                view.setUint8(offset, 0xcc);\n                view.setUint8(offset + 1, value);\n                return 2;\n            }\n            // uint 16\n            if (value < 0x10000) {\n                view.setUint8(offset, 0xcd);\n                view.setUint16(offset + 1, value);\n                return 3;\n            }\n            // uint 32\n            if (value < 0x100000000) {\n                view.setUint8(offset, 0xce);\n                view.setUint32(offset + 1, value);\n                return 5;\n            }\n            throw new Error('Number too big 0x' + value.toString(16));\n        }\n        // negative fixnum\n        if (value >= -0x20) {\n            view.setInt8(offset, value);\n            return 1;\n        }\n        // int 8\n        if (value >= -0x80) {\n            view.setUint8(offset, 0xd0);\n            view.setInt8(offset + 1, value);\n            return 2;\n        }\n        // int 16\n        if (value >= -0x8000) {\n            view.setUint8(offset, 0xd1);\n            view.setInt16(offset + 1, value);\n            return 3;\n        }\n        // int 32\n        if (value >= -0x80000000) {\n            view.setUint8(offset, 0xd2);\n            view.setInt32(offset + 1, value);\n            return 5;\n        }\n        throw new Error('Number too small -0x' + (-value).toString(16).substr(1));\n    }\n    // null\n    if (value === null || value === undefined) {\n        view.setUint8(offset, 0xc0);\n        return 1;\n    }\n    // Boolean\n    if (type === 'boolean') {\n        view.setUint8(offset, value ? 0xc3 : 0xc2);\n        return 1;\n    }\n    // Container Types\n    if (type === 'object') {\n        var length_6, size = 0;\n        var isArray = Array.isArray(value);\n        var keys = void 0;\n        if (isArray) {\n            length_6 = value.length;\n        }\n        else {\n            keys = Object.keys(value);\n            length_6 = keys.length;\n        }\n        if (length_6 < 0x10) {\n            view.setUint8(offset, length_6 | (isArray ? 0x90 : 0x80));\n            size = 1;\n        }\n        else if (length_6 < 0x10000) {\n            view.setUint8(offset, isArray ? 0xdc : 0xde);\n            view.setUint16(offset + 1, length_6);\n            size = 3;\n        }\n        else if (length_6 < 0x100000000) {\n            view.setUint8(offset, isArray ? 0xdd : 0xdf);\n            view.setUint32(offset + 1, length_6);\n            size = 5;\n        }\n        if (isArray) {\n            for (var i = 0; i < length_6; i++) {\n                size += encodeInternal(value[i], view, bytes, offset + size);\n            }\n        }\n        else {\n            for (var i = 0, _i = keys.length; i < _i; i++) {\n                var key = keys[i];\n                size += encodeInternal(key, view, bytes, offset + size);\n                size += encodeInternal(value[key], view, bytes, offset + size);\n            }\n        }\n        return size;\n    }\n    throw new Error('Unknown type ' + type);\n}\n","/**\n * Copyright (c) 2017 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * Adapted from CIFTools.js (https://github.com/dsehnal/CIFTools.js)\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n */\nimport { encodeMsgPack } from '../../../common/msgpack/encode';\nimport { ArrayEncoder, ArrayEncoding as E, VERSION } from '../../../common/binary-cif';\nimport { Category } from '../encoder';\nimport { getIncludedFields, getCategoryInstanceData } from './util';\nimport { classifyIntArray, classifyFloatArray } from '../../../common/binary-cif/classifier';\nvar BinaryEncoder = /** @class */ (function () {\n    function BinaryEncoder(encoder, encodingProvider, autoClassify) {\n        this.autoClassify = autoClassify;\n        this.dataBlocks = [];\n        this.filter = Category.DefaultFilter;\n        this.formatter = Category.DefaultFormatter;\n        this.isBinary = true;\n        this.binaryEncodingProvider = void 0;\n        this.binaryEncodingProvider = encodingProvider;\n        this.data = {\n            encoder: encoder,\n            version: VERSION,\n            dataBlocks: this.dataBlocks\n        };\n    }\n    BinaryEncoder.prototype.setFilter = function (filter) {\n        this.filter = filter || Category.DefaultFilter;\n    };\n    BinaryEncoder.prototype.isCategoryIncluded = function (name) {\n        return this.filter.includeCategory(name);\n    };\n    BinaryEncoder.prototype.setFormatter = function (formatter) {\n        this.formatter = formatter || Category.DefaultFormatter;\n    };\n    BinaryEncoder.prototype.startDataBlock = function (header) {\n        this.dataBlocks.push({\n            header: (header || '').replace(/[ \\n\\t]/g, '').toUpperCase(),\n            categories: []\n        });\n    };\n    BinaryEncoder.prototype.writeCategory = function (category, context, options) {\n        if (!this.data) {\n            throw new Error('The writer contents have already been encoded, no more writing.');\n        }\n        if (!this.dataBlocks.length) {\n            throw new Error('No data block created.');\n        }\n        if (!(options === null || options === void 0 ? void 0 : options.ignoreFilter) && !this.filter.includeCategory(category.name))\n            return;\n        var _a = getCategoryInstanceData(category, context), instance = _a.instance, rowCount = _a.rowCount, source = _a.source;\n        if (!rowCount)\n            return;\n        var cat = { name: '_' + category.name, columns: [], rowCount: rowCount };\n        var fields = getIncludedFields(instance);\n        for (var _i = 0, fields_1 = fields; _i < fields_1.length; _i++) {\n            var f = fields_1[_i];\n            if (!this.filter.includeField(category.name, f.name))\n                continue;\n            var format = this.formatter.getFormat(category.name, f.name);\n            cat.columns.push(encodeField(category.name, f, source, rowCount, format, this.binaryEncodingProvider, this.autoClassify));\n        }\n        // no columns included.\n        if (!cat.columns.length)\n            return;\n        this.dataBlocks[this.dataBlocks.length - 1].categories.push(cat);\n    };\n    BinaryEncoder.prototype.encode = function () {\n        if (this.encodedData)\n            return;\n        this.encodedData = encodeMsgPack(this.data);\n        this.data = null;\n        this.dataBlocks = null;\n    };\n    BinaryEncoder.prototype.writeTo = function (writer) {\n        writer.writeBinary(this.encodedData);\n    };\n    BinaryEncoder.prototype.getData = function () {\n        this.encode();\n        return this.encodedData;\n    };\n    BinaryEncoder.prototype.getSize = function () {\n        return this.encodedData.length;\n    };\n    return BinaryEncoder;\n}());\nexport { BinaryEncoder };\nfunction getArrayCtor(field, format) {\n    if (format && format.typedArray)\n        return format.typedArray;\n    if (field.defaultFormat && field.defaultFormat.typedArray)\n        return field.defaultFormat.typedArray;\n    if (field.type === 0 /* Field.Type.Str */)\n        return Array;\n    if (field.type === 1 /* Field.Type.Int */)\n        return Int32Array;\n    return Float64Array;\n}\nfunction getDefaultEncoder(type) {\n    if (type === 0 /* Field.Type.Str */)\n        return ArrayEncoder.by(E.stringArray);\n    return ArrayEncoder.by(E.byteArray);\n}\nfunction tryGetEncoder(categoryName, field, format, provider) {\n    if (format && format.encoder) {\n        return format.encoder;\n    }\n    else if (field.defaultFormat && field.defaultFormat.encoder) {\n        return field.defaultFormat.encoder;\n    }\n    else if (provider) {\n        return provider.get(categoryName, field.name);\n    }\n    else {\n        return void 0;\n    }\n}\nfunction classify(type, data) {\n    if (type === 0 /* Field.Type.Str */)\n        return ArrayEncoder.by(E.stringArray);\n    if (type === 1 /* Field.Type.Int */)\n        return classifyIntArray(data);\n    return classifyFloatArray(data);\n}\nfunction encodeField(categoryName, field, data, totalCount, format, encoderProvider, autoClassify) {\n    var _a = getFieldData(field, getArrayCtor(field, format), totalCount, data), array = _a.array, allPresent = _a.allPresent, mask = _a.mask;\n    var encoder = tryGetEncoder(categoryName, field, format, encoderProvider);\n    if (!encoder) {\n        if (autoClassify)\n            encoder = classify(field.type, array);\n        else\n            encoder = getDefaultEncoder(field.type);\n    }\n    var encoded = encoder.encode(array);\n    var maskData = void 0;\n    if (!allPresent) {\n        var maskRLE = ArrayEncoder.by(E.runLength).and(E.byteArray).encode(mask);\n        if (maskRLE.data.length < mask.length) {\n            maskData = maskRLE;\n        }\n        else {\n            maskData = ArrayEncoder.by(E.byteArray).encode(mask);\n        }\n    }\n    return {\n        name: field.name,\n        data: encoded,\n        mask: maskData\n    };\n}\nfunction getFieldData(field, arrayCtor, totalCount, data) {\n    var isStr = field.type === 0 /* Field.Type.Str */;\n    var array = new arrayCtor(totalCount);\n    var mask = new Uint8Array(totalCount);\n    var valueKind = field.valueKind;\n    var getter = field.value;\n    var allPresent = true;\n    var offset = 0;\n    for (var _d = 0; _d < data.length; _d++) {\n        var d = data[_d].data;\n        var keys = data[_d].keys();\n        while (keys.hasNext) {\n            var key = keys.move();\n            var p = valueKind ? valueKind(key, d) : 0 /* Column.ValueKinds.Present */;\n            if (p !== 0 /* Column.ValueKinds.Present */) {\n                mask[offset] = p;\n                if (isStr)\n                    array[offset] = '';\n                allPresent = false;\n            }\n            else {\n                var value = getter(key, d, offset);\n                if (typeof value === 'string' && !value) {\n                    mask[offset] = 1 /* Column.ValueKinds.NotPresent */;\n                    allPresent = false;\n                }\n                else {\n                    mask[offset] = 0 /* Column.ValueKinds.Present */;\n                }\n                array[offset] = value;\n            }\n            offset++;\n        }\n    }\n    return { array: array, allPresent: allPresent, mask: mask };\n}\n","/**\n * Copyright (c) 2017 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\nimport { TextEncoder } from './cif/encoder/text';\nimport { BinaryEncoder } from './cif/encoder/binary';\nimport * as _Encoder from './cif/encoder';\nimport { ArrayEncoding, ArrayEncoder } from '../common/binary-cif';\nexport var CifWriter;\n(function (CifWriter) {\n    CifWriter.Encoder = _Encoder.Encoder;\n    CifWriter.Category = _Encoder.Category;\n    CifWriter.Field = _Encoder.Field;\n    CifWriter.Encoding = ArrayEncoding;\n    function createEncoder(params) {\n        var _a = params || {}, _b = _a.binary, binary = _b === void 0 ? false : _b, _c = _a.encoderName, encoderName = _c === void 0 ? 'mol*' : _c;\n        return binary ? new BinaryEncoder(encoderName, params ? params.binaryEncodingPovider : void 0, params ? !!params.binaryAutoClassifyEncoding : false) : new TextEncoder();\n    }\n    CifWriter.createEncoder = createEncoder;\n    function fields() {\n        return CifWriter.Field.build();\n    }\n    CifWriter.fields = fields;\n    var E = CifWriter.Encoding;\n    CifWriter.Encodings = {\n        deltaRLE: E.by(E.delta).and(E.runLength).and(E.integerPacking),\n        fixedPoint2: E.by(E.fixedPoint(100)).and(E.delta).and(E.integerPacking),\n        fixedPoint3: E.by(E.fixedPoint(1000)).and(E.delta).and(E.integerPacking),\n    };\n    function categoryInstance(fields, source) {\n        return { fields: fields, source: [source] };\n    }\n    CifWriter.categoryInstance = categoryInstance;\n    function createEncodingProviderFromCifFrame(frame) {\n        return {\n            get: function (c, f) {\n                var cat = frame.categories[c];\n                if (!cat)\n                    return void 0;\n                var ff = cat.getField(f);\n                return ff && ff.binaryEncoding ? ArrayEncoder.fromEncoding(ff.binaryEncoding) : void 0;\n            }\n        };\n    }\n    CifWriter.createEncodingProviderFromCifFrame = createEncodingProviderFromCifFrame;\n    ;\n    function createEncodingProviderFromJsonConfig(hints) {\n        return {\n            get: function (c, f) {\n                for (var i = 0; i < hints.length; i++) {\n                    var hint = hints[i];\n                    if (hint.categoryName === c && hint.columnName === f) {\n                        return resolveEncoding(hint);\n                    }\n                }\n            }\n        };\n    }\n    CifWriter.createEncodingProviderFromJsonConfig = createEncodingProviderFromJsonConfig;\n    function resolveEncoding(hint) {\n        var precision = hint.precision;\n        if (precision !== void 0) {\n            var multiplier = Math.pow(10, precision);\n            var fixedPoint = E.by(E.fixedPoint(multiplier));\n            switch (hint.encoding) {\n                case 'pack':\n                    return fixedPoint.and(E.integerPacking);\n                case 'rle':\n                    return fixedPoint.and(E.runLength).and(E.integerPacking);\n                case 'delta':\n                    return fixedPoint.and(E.delta).and(E.integerPacking);\n                case 'delta-rle':\n                    return fixedPoint.and(E.delta).and(E.runLength).and(E.integerPacking);\n            }\n            ;\n        }\n        else {\n            switch (hint.encoding) {\n                case 'pack':\n                    return E.by(E.integerPacking);\n                case 'rle':\n                    return E.by(E.runLength).and(E.integerPacking);\n                case 'delta':\n                    return E.by(E.delta).and(E.integerPacking);\n                case 'delta-rle':\n                    return E.by(E.delta).and(E.runLength).and(E.integerPacking);\n            }\n        }\n        throw new Error('cannot be reached');\n    }\n})(CifWriter || (CifWriter = {}));\n","/**\n * Copyright (c) 2017-2022 Mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\nimport { mmCIF_Schema } from '../../../../mol-io/reader/cif/schema/mmcif';\nimport { CifWriter } from '../../../../mol-io/writer/cif';\nimport { Table } from '../../../../mol-data/db';\nimport { FormatPropertyProvider } from '../../common/property';\nexport var ComponentBond;\n(function (ComponentBond) {\n    ComponentBond.Descriptor = {\n        name: 'chem_comp_bond',\n        cifExport: {\n            prefix: '',\n            categories: [{\n                    name: 'chem_comp_bond',\n                    instance: function (ctx) {\n                        var p = ComponentBond.Provider.get(ctx.firstModel);\n                        if (!p)\n                            return CifWriter.Category.Empty;\n                        var chem_comp_bond = p.data;\n                        if (!chem_comp_bond)\n                            return CifWriter.Category.Empty;\n                        var comp_names = ctx.structures[0].uniqueResidueNames;\n                        var comp_id = chem_comp_bond.comp_id, _rowCount = chem_comp_bond._rowCount;\n                        var indices = [];\n                        for (var i = 0; i < _rowCount; i++) {\n                            if (comp_names.has(comp_id.value(i)))\n                                indices[indices.length] = i;\n                        }\n                        return CifWriter.Category.ofTable(chem_comp_bond, indices);\n                    }\n                }]\n        }\n    };\n    ComponentBond.Provider = FormatPropertyProvider.create(ComponentBond.Descriptor);\n    function chemCompBondFromTable(model, table) {\n        return Table.pick(table, mmCIF_Schema.chem_comp_bond, function (i) {\n            return model.properties.chemicalComponentMap.has(table.comp_id.value(i));\n        });\n    }\n    ComponentBond.chemCompBondFromTable = chemCompBondFromTable;\n    function getEntriesFromChemCompBond(data) {\n        var entries = new Map();\n        function addEntry(id) {\n            // weird behavior when 'PRO' is requested - will report a single bond\n            // between N and H because a later operation would override real content\n            if (entries.has(id))\n                return entries.get(id);\n            var e = new Entry(id);\n            entries.set(id, e);\n            return e;\n        }\n        var comp_id = data.comp_id, atom_id_1 = data.atom_id_1, atom_id_2 = data.atom_id_2, value_order = data.value_order, pdbx_aromatic_flag = data.pdbx_aromatic_flag, _rowCount = data._rowCount, pdbx_ordinal = data.pdbx_ordinal;\n        var entry = addEntry(comp_id.value(0));\n        for (var i = 0; i < _rowCount; i++) {\n            var id = comp_id.value(i);\n            var nameA = atom_id_1.value(i);\n            var nameB = atom_id_2.value(i);\n            var order = value_order.value(i);\n            var aromatic = pdbx_aromatic_flag.value(i) === 'y';\n            var key = pdbx_ordinal.value(i);\n            if (entry.id !== id) {\n                entry = addEntry(id);\n            }\n            var flags = 1 /* BondType.Flag.Covalent */;\n            var ord = 1;\n            if (aromatic)\n                flags |= 16 /* BondType.Flag.Aromatic */;\n            switch (order.toLowerCase()) {\n                case 'delo':\n                    flags |= 16 /* BondType.Flag.Aromatic */;\n                    break;\n                case 'doub':\n                    ord = 2;\n                    break;\n                case 'trip':\n                    ord = 3;\n                    break;\n                case 'quad':\n                    ord = 4;\n                    break;\n            }\n            entry.add(nameA, nameB, ord, flags, key);\n        }\n        return entries;\n    }\n    ComponentBond.getEntriesFromChemCompBond = getEntriesFromChemCompBond;\n    var Entry = /** @class */ (function () {\n        function Entry(id) {\n            this.id = id;\n            this.map = new Map();\n        }\n        Entry.prototype.add = function (a, b, order, flags, key, swap) {\n            if (swap === void 0) { swap = true; }\n            var e = this.map.get(a);\n            if (e !== void 0) {\n                var f = e.get(b);\n                if (f === void 0) {\n                    e.set(b, { order: order, flags: flags, key: key });\n                }\n            }\n            else {\n                var map = new Map();\n                map.set(b, { order: order, flags: flags, key: key });\n                this.map.set(a, map);\n            }\n            if (swap)\n                this.add(b, a, order, flags, key, false);\n        };\n        return Entry;\n    }());\n    ComponentBond.Entry = Entry;\n})(ComponentBond || (ComponentBond = {}));\n","/**\n * Copyright (c) 2017-2021 Mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\nimport { SortedArray } from '../../../../mol-data/int';\nimport { CifWriter } from '../../../../mol-io/writer/cif';\nimport { getInterBondOrderFromTable } from '../../../../mol-model/structure/model/properties/atomic/bonds';\nimport { FormatPropertyProvider } from '../../common/property';\nexport var StructConn;\n(function (StructConn) {\n    StructConn.Descriptor = {\n        name: 'struct_conn',\n        cifExport: {\n            prefix: '',\n            categories: [{\n                    name: 'struct_conn',\n                    instance: function (ctx) {\n                        var p = StructConn.Provider.get(ctx.firstModel);\n                        if (!p || p.entries.length === 0)\n                            return CifWriter.Category.Empty;\n                        var structure = ctx.structures[0];\n                        var indices = [];\n                        for (var _a = 0, _b = p.entries; _a < _b.length; _a++) {\n                            var e = _b[_a];\n                            if (hasAtom(structure, e.partnerA.atomIndex) &&\n                                hasAtom(structure, e.partnerB.atomIndex)) {\n                                indices[indices.length] = e.rowIndex;\n                            }\n                        }\n                        return CifWriter.Category.ofTable(p.data, indices);\n                    }\n                }]\n        }\n    };\n    StructConn.Provider = FormatPropertyProvider.create(StructConn.Descriptor);\n    /**\n     * Heuristic to test if StructConn likely provides all atomic bonds by\n     * checking if the fraction of bonds and atoms is high (> 0.95).\n     */\n    function isExhaustive(model) {\n        var structConn = StructConn.Provider.get(model);\n        return !!structConn && (structConn.data.id.rowCount / model.atomicConformation.atomId.rowCount) > 0.95;\n    }\n    StructConn.isExhaustive = isExhaustive;\n    function hasAtom(_a, element) {\n        var units = _a.units;\n        for (var i = 0, _i = units.length; i < _i; i++) {\n            if (SortedArray.indexOf(units[i].elements, element) >= 0)\n                return true;\n        }\n        return false;\n    }\n    function getAtomIndexFromEntries(entries) {\n        var m = new Map();\n        for (var _a = 0, entries_1 = entries; _a < entries_1.length; _a++) {\n            var e = entries_1[_a];\n            var iA = e.partnerA.atomIndex, iB = e.partnerB.atomIndex;\n            if (m.has(iA))\n                m.get(iA).push(e);\n            else\n                m.set(iA, [e]);\n            if (m.has(iB))\n                m.get(iB).push(e);\n            else\n                m.set(iB, [e]);\n        }\n        return m;\n    }\n    StructConn.getAtomIndexFromEntries = getAtomIndexFromEntries;\n    function getEntriesFromStructConn(struct_conn, model) {\n        var conn_type_id = struct_conn.conn_type_id, pdbx_dist_value = struct_conn.pdbx_dist_value, pdbx_value_order = struct_conn.pdbx_value_order;\n        var p1 = {\n            label_asym_id: struct_conn.ptnr1_label_asym_id,\n            label_seq_id: struct_conn.ptnr1_label_seq_id,\n            auth_seq_id: struct_conn.ptnr1_auth_seq_id,\n            label_atom_id: struct_conn.ptnr1_label_atom_id,\n            label_alt_id: struct_conn.pdbx_ptnr1_label_alt_id,\n            ins_code: struct_conn.pdbx_ptnr1_PDB_ins_code,\n            symmetry: struct_conn.ptnr1_symmetry\n        };\n        var p2 = {\n            label_asym_id: struct_conn.ptnr2_label_asym_id,\n            label_seq_id: struct_conn.ptnr2_label_seq_id,\n            auth_seq_id: struct_conn.ptnr2_auth_seq_id,\n            label_atom_id: struct_conn.ptnr2_label_atom_id,\n            label_alt_id: struct_conn.pdbx_ptnr2_label_alt_id,\n            ins_code: struct_conn.pdbx_ptnr2_PDB_ins_code,\n            symmetry: struct_conn.ptnr2_symmetry\n        };\n        var entityIds = Array.from(model.entities.data.id.toArray());\n        var _p = function (row, ps) {\n            if (ps.label_asym_id.valueKind(row) !== 0 /* Column.ValueKinds.Present */)\n                return void 0;\n            var asymId = ps.label_asym_id.value(row);\n            var atomName = ps.label_atom_id.value(row);\n            // turns out \"mismat\" records might not have atom name value\n            if (!atomName)\n                return undefined;\n            var altId = ps.label_alt_id.value(row);\n            for (var _a = 0, entityIds_1 = entityIds; _a < entityIds_1.length; _a++) {\n                var eId = entityIds_1[_a];\n                var residueIndex = model.atomicHierarchy.index.findResidue(eId, asymId, ps.auth_seq_id.value(row), ps.ins_code.value(row));\n                if (residueIndex < 0)\n                    continue;\n                var atomIndex = model.atomicHierarchy.index.findAtomOnResidue(residueIndex, atomName, altId);\n                if (atomIndex < 0)\n                    continue;\n                return { residueIndex: residueIndex, atomIndex: atomIndex, symmetry: ps.symmetry.value(row) };\n            }\n            return void 0;\n        };\n        var entries = [];\n        for (var i = 0; i < struct_conn._rowCount; i++) {\n            var partnerA = _p(i, p1);\n            var partnerB = _p(i, p2);\n            if (partnerA === undefined || partnerB === undefined)\n                continue;\n            var type = conn_type_id.value(i);\n            var orderType = (pdbx_value_order.value(i) || '');\n            var flags = 0 /* BondType.Flag.None */;\n            var order = 1;\n            switch (orderType) {\n                case 'sing':\n                    order = 1;\n                    break;\n                case 'doub':\n                    order = 2;\n                    break;\n                case 'trip':\n                    order = 3;\n                    break;\n                case 'quad':\n                    order = 4;\n                    break;\n                default:\n                    order = getInterBondOrderFromTable(struct_conn.ptnr1_label_comp_id.value(i), struct_conn.ptnr1_label_atom_id.value(i), struct_conn.ptnr2_label_comp_id.value(i), struct_conn.ptnr2_label_atom_id.value(i));\n            }\n            switch (type) {\n                case 'covale':\n                    flags = 1 /* BondType.Flag.Covalent */;\n                    break;\n                case 'disulf':\n                    flags = 1 /* BondType.Flag.Covalent */ | 8 /* BondType.Flag.Disulfide */;\n                    break;\n                case 'hydrog':\n                    flags = 4 /* BondType.Flag.HydrogenBond */;\n                    break;\n                case 'metalc':\n                    flags = 2 /* BondType.Flag.MetallicCoordination */;\n                    break;\n            }\n            entries.push({\n                rowIndex: i,\n                flags: flags,\n                order: order,\n                distance: pdbx_dist_value.value(i),\n                partnerA: partnerA,\n                partnerB: partnerB\n            });\n        }\n        return entries;\n    }\n    StructConn.getEntriesFromStructConn = getEntriesFromStructConn;\n})(StructConn || (StructConn = {}));\n","/**\n * Copyright (c) 2017-2022 Mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\nimport { __assign } from \"tslib\";\nimport { IntraUnitBonds } from './data';\nimport { IntAdjacencyGraph } from '../../../../../mol-math/graph';\nimport { getElementIdx, MetalsSet, getElementThreshold, isHydrogen, DefaultBondComputationProps, getPairingThreshold } from './common';\nimport { SortedArray } from '../../../../../mol-data/int';\nimport { getIntraBondOrderFromTable } from '../../../model/properties/atomic/bonds';\nimport { IndexPairBonds } from '../../../../../mol-model-formats/structure/property/bonds/index-pair';\nimport { ComponentBond } from '../../../../../mol-model-formats/structure/property/bonds/chem_comp';\nimport { StructConn } from '../../../../../mol-model-formats/structure/property/bonds/struct_conn';\nimport { Vec3 } from '../../../../../mol-math/linear-algebra';\nimport { equalEps } from '../../../../../mol-math/linear-algebra/3d/common';\nimport { Model } from '../../../model/model';\n// avoiding namespace lookup improved performance in Chrome (Aug 2020)\nvar v3distance = Vec3.distance;\nfunction getGraph(atomA, atomB, _order, _flags, _key, atomCount, canRemap) {\n    var builder = new IntAdjacencyGraph.EdgeBuilder(atomCount, atomA, atomB);\n    var flags = new Uint16Array(builder.slotCount);\n    var order = new Int8Array(builder.slotCount);\n    var key = new Uint32Array(builder.slotCount);\n    for (var i = 0, _i = builder.edgeCount; i < _i; i++) {\n        builder.addNextEdge();\n        builder.assignProperty(flags, _flags[i]);\n        builder.assignProperty(order, _order[i]);\n        builder.assignProperty(key, _key[i]);\n    }\n    return builder.createGraph({ flags: flags, order: order, key: key }, { canRemap: canRemap });\n}\nvar tmpDistVecA = Vec3();\nvar tmpDistVecB = Vec3();\nfunction getDistance(unit, indexA, indexB) {\n    unit.conformation.position(indexA, tmpDistVecA);\n    unit.conformation.position(indexB, tmpDistVecB);\n    return v3distance(tmpDistVecA, tmpDistVecB);\n}\nvar __structConnAdded = new Set();\nfunction findIndexPairBonds(unit) {\n    var indexPairs = IndexPairBonds.Provider.get(unit.model);\n    var atoms = unit.elements;\n    var type_symbol = unit.model.atomicHierarchy.atoms.type_symbol;\n    var atomCount = unit.elements.length;\n    var maxDistance = indexPairs.maxDistance;\n    var _a = indexPairs.bonds, offset = _a.offset, b = _a.b, _b = _a.edgeProps, order = _b.order, distance = _b.distance, flag = _b.flag, key = _b.key, operatorA = _b.operatorA, operatorB = _b.operatorB;\n    var sourceIndex = unit.model.atomicHierarchy.atomSourceIndex;\n    var invertedIndex = Model.getInvertedAtomSourceIndex(unit.model).invertedIndex;\n    var atomA = [];\n    var atomB = [];\n    var flags = [];\n    var orders = [];\n    var keys = [];\n    var opKey = unit.conformation.operator.key;\n    for (var _aI = 0; _aI < atomCount; _aI++) {\n        var aI = atoms[_aI];\n        var aeI = getElementIdx(type_symbol.value(aI));\n        var isHa = isHydrogen(aeI);\n        var srcA = sourceIndex.value(aI);\n        for (var i = offset[srcA], il = offset[srcA + 1]; i < il; ++i) {\n            var bI = invertedIndex[b[i]];\n            if (aI >= bI)\n                continue;\n            var _bI = SortedArray.indexOf(unit.elements, bI);\n            if (_bI < 0)\n                continue;\n            var opA = operatorA[i];\n            var opB = operatorB[i];\n            if ((opA >= 0 && opA !== opKey) || (opB >= 0 && opB !== opKey))\n                continue;\n            var beI = getElementIdx(type_symbol.value(bI));\n            var d = distance[i];\n            var dist = getDistance(unit, aI, bI);\n            var add = false;\n            if (d >= 0) {\n                add = equalEps(dist, d, 0.3);\n            }\n            else if (maxDistance >= 0) {\n                add = dist < maxDistance;\n            }\n            else {\n                var pairingThreshold = getPairingThreshold(aeI, beI, getElementThreshold(aeI), getElementThreshold(beI));\n                add = dist < pairingThreshold;\n                if (isHa && isHydrogen(beI)) {\n                    // TODO handle molecular hydrogen\n                    add = false;\n                }\n            }\n            if (add) {\n                atomA[atomA.length] = _aI;\n                atomB[atomB.length] = _bI;\n                orders[orders.length] = order[i];\n                flags[flags.length] = flag[i];\n                keys[keys.length] = key[i];\n            }\n        }\n    }\n    return getGraph(atomA, atomB, orders, flags, keys, atomCount, false);\n}\nfunction findBonds(unit, props) {\n    var maxRadius = props.maxRadius;\n    var _a = unit.model.atomicConformation, x = _a.x, y = _a.y, z = _a.z;\n    var atomCount = unit.elements.length;\n    var atoms = unit.elements, residueIndex = unit.residueIndex, chainIndex = unit.chainIndex;\n    var _b = unit.model.atomicHierarchy.atoms, type_symbol = _b.type_symbol, label_atom_id = _b.label_atom_id, label_alt_id = _b.label_alt_id, label_comp_id = _b.label_comp_id;\n    var label_seq_id = unit.model.atomicHierarchy.residues.label_seq_id;\n    var index = unit.model.atomicHierarchy.index;\n    var byEntityKey = unit.model.sequence.byEntityKey;\n    var query3d = unit.lookup3d;\n    var structConn = StructConn.Provider.get(unit.model);\n    var component = ComponentBond.Provider.get(unit.model);\n    var structConnExhaustive = StructConn.isExhaustive(unit.model);\n    var atomA = [];\n    var atomB = [];\n    var flags = [];\n    var order = [];\n    var key = [];\n    var lastResidue = -1;\n    var componentMap = void 0;\n    var isWatery = true, isDictionaryBased = true, isSequenced = true;\n    var structConnAdded = __structConnAdded;\n    for (var _aI = 0; _aI < atomCount; _aI++) {\n        var aI = atoms[_aI];\n        var elemA = type_symbol.value(aI);\n        if (isWatery && (elemA !== 'H' && elemA !== 'O'))\n            isWatery = false;\n        var structConnEntries = props.forceCompute ? void 0 : structConn && structConn.byAtomIndex.get(aI);\n        var hasStructConn = false;\n        if (structConnEntries) {\n            for (var _c = 0, structConnEntries_1 = structConnEntries; _c < structConnEntries_1.length; _c++) {\n                var se = structConnEntries_1[_c];\n                var partnerA = se.partnerA, partnerB = se.partnerB;\n                // symmetry must be the same for intra-unit bonds\n                if (partnerA.symmetry !== partnerB.symmetry)\n                    continue;\n                var p = partnerA.atomIndex === aI ? partnerB : partnerA;\n                var _bI = SortedArray.indexOf(unit.elements, p.atomIndex);\n                if (_bI < 0 || atoms[_bI] < aI)\n                    continue;\n                atomA[atomA.length] = _aI;\n                atomB[atomB.length] = _bI;\n                flags[flags.length] = se.flags;\n                order[order.length] = se.order;\n                key[key.length] = se.rowIndex;\n                if (!hasStructConn)\n                    structConnAdded.clear();\n                hasStructConn = true;\n                structConnAdded.add(_bI);\n            }\n        }\n        if (structConnExhaustive)\n            continue;\n        var raI = residueIndex[aI];\n        var seqIdA = label_seq_id.value(raI);\n        var compId = label_comp_id.value(aI);\n        if (!props.forceCompute && raI !== lastResidue) {\n            if (!!component && component.entries.has(compId)) {\n                var entitySeq = byEntityKey[index.getEntityFromChain(chainIndex[aI])];\n                if (entitySeq && entitySeq.sequence.microHet.has(seqIdA)) {\n                    // compute for sequence positions with micro-heterogeneity\n                    componentMap = void 0;\n                }\n                else {\n                    componentMap = component.entries.get(compId).map;\n                }\n            }\n            else {\n                componentMap = void 0;\n            }\n        }\n        lastResidue = raI;\n        var aeI = getElementIdx(elemA);\n        var atomIdA = label_atom_id.value(aI);\n        var componentPairs = componentMap ? componentMap.get(atomIdA) : void 0;\n        var _d = query3d.find(x[aI], y[aI], z[aI], maxRadius), indices = _d.indices, count = _d.count, squaredDistances = _d.squaredDistances;\n        var isHa = isHydrogen(aeI);\n        var thresholdA = getElementThreshold(aeI);\n        var altA = label_alt_id.value(aI);\n        var metalA = MetalsSet.has(aeI);\n        for (var ni = 0; ni < count; ni++) {\n            var _bI = indices[ni];\n            if (hasStructConn && structConnAdded.has(_bI))\n                continue;\n            var bI = atoms[_bI];\n            if (bI <= aI)\n                continue;\n            var altB = label_alt_id.value(bI);\n            if (altA && altB && altA !== altB)\n                continue;\n            var beI = getElementIdx(type_symbol.value(bI));\n            var isHb = isHydrogen(beI);\n            if (isHa && isHb)\n                continue;\n            var isMetal = (metalA || MetalsSet.has(beI)) && !(isHa || isHb);\n            var rbI = residueIndex[bI];\n            // handle \"component dictionary\" bonds.\n            if (raI === rbI && componentPairs) {\n                var e = componentPairs.get(label_atom_id.value(bI));\n                if (e) {\n                    atomA[atomA.length] = _aI;\n                    atomB[atomB.length] = _bI;\n                    order[order.length] = e.order;\n                    var flag = e.flags;\n                    if (isMetal) {\n                        if (flag | 1 /* BondType.Flag.Covalent */)\n                            flag ^= 1 /* BondType.Flag.Covalent */;\n                        flag |= 2 /* BondType.Flag.MetallicCoordination */;\n                    }\n                    flags[flags.length] = flag;\n                    key[key.length] = e.key;\n                }\n                continue;\n            }\n            var dist = Math.sqrt(squaredDistances[ni]);\n            if (dist === 0)\n                continue;\n            var pairingThreshold = getPairingThreshold(aeI, beI, thresholdA, getElementThreshold(beI));\n            if (dist <= pairingThreshold) {\n                atomA[atomA.length] = _aI;\n                atomB[atomB.length] = _bI;\n                order[order.length] = getIntraBondOrderFromTable(compId, atomIdA, label_atom_id.value(bI));\n                flags[flags.length] = (isMetal ? 2 /* BondType.Flag.MetallicCoordination */ : 1 /* BondType.Flag.Covalent */) | 32 /* BondType.Flag.Computed */;\n                key[key.length] = -1;\n                var seqIdB = label_seq_id.value(rbI);\n                if (seqIdA === seqIdB)\n                    isDictionaryBased = false;\n                if (Math.abs(seqIdA - seqIdB) > 1)\n                    isSequenced = false;\n            }\n        }\n    }\n    var canRemap = isWatery || (isDictionaryBased && isSequenced);\n    return getGraph(atomA, atomB, order, flags, key, atomCount, canRemap);\n}\nfunction computeIntraUnitBonds(unit, props) {\n    var p = __assign(__assign({}, DefaultBondComputationProps), props);\n    if (p.noCompute || (Model.isCoarseGrained(unit.model) && !IndexPairBonds.Provider.get(unit.model) && !StructConn.isExhaustive(unit.model))) {\n        return IntraUnitBonds.Empty;\n    }\n    if (!p.forceCompute && IndexPairBonds.Provider.get(unit.model)) {\n        return findIndexPairBonds(unit);\n    }\n    else {\n        return findBonds(unit, p);\n    }\n}\nexport { computeIntraUnitBonds };\n","/**\n * Copyright (c) 2017-2023 Mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\nimport { __assign } from \"tslib\";\nimport { Structure } from '../../structure';\nimport { Unit } from '../../unit';\nimport { getElementIdx, getElementThreshold, isHydrogen, MetalsSet, DefaultBondComputationProps, getPairingThreshold } from './common';\nimport { InterUnitBonds } from './data';\nimport { SortedArray } from '../../../../../mol-data/int';\nimport { Vec3, Mat4 } from '../../../../../mol-math/linear-algebra';\nimport { getInterBondOrderFromTable } from '../../../model/properties/atomic/bonds';\nimport { IndexPairBonds } from '../../../../../mol-model-formats/structure/property/bonds/index-pair';\nimport { InterUnitGraph } from '../../../../../mol-math/graph/inter-unit-graph';\nimport { StructConn } from '../../../../../mol-model-formats/structure/property/bonds/struct_conn';\nimport { equalEps } from '../../../../../mol-math/linear-algebra/3d/common';\nimport { Model } from '../../../model';\n// avoiding namespace lookup improved performance in Chrome (Aug 2020)\nvar v3distance = Vec3.distance;\nvar v3set = Vec3.set;\nvar v3squaredDistance = Vec3.squaredDistance;\nvar v3transformMat4 = Vec3.transformMat4;\nvar tmpDistVecA = Vec3();\nvar tmpDistVecB = Vec3();\nfunction getDistance(unitA, indexA, unitB, indexB) {\n    unitA.conformation.position(indexA, tmpDistVecA);\n    unitB.conformation.position(indexB, tmpDistVecB);\n    return v3distance(tmpDistVecA, tmpDistVecB);\n}\nvar _imageTransform = Mat4();\nvar _imageA = Vec3();\nfunction findPairBonds(unitA, unitB, props, builder) {\n    var maxRadius = props.maxRadius;\n    var atomsA = unitA.elements, residueIndexA = unitA.residueIndex;\n    var _a = unitA.model.atomicConformation, xA = _a.x, yA = _a.y, zA = _a.z;\n    var atomsB = unitB.elements, residueIndexB = unitB.residueIndex;\n    var atomCount = unitA.elements.length;\n    var _b = unitA.model.atomicHierarchy.atoms, type_symbolA = _b.type_symbol, label_alt_idA = _b.label_alt_id, label_atom_idA = _b.label_atom_id, label_comp_idA = _b.label_comp_id;\n    var _c = unitB.model.atomicHierarchy.atoms, type_symbolB = _c.type_symbol, label_alt_idB = _c.label_alt_id, label_atom_idB = _c.label_atom_id, label_comp_idB = _c.label_comp_id;\n    var auth_seq_idA = unitA.model.atomicHierarchy.residues.auth_seq_id;\n    var auth_seq_idB = unitB.model.atomicHierarchy.residues.auth_seq_id;\n    var occupancyA = unitA.model.atomicConformation.occupancy;\n    var occupancyB = unitB.model.atomicConformation.occupancy;\n    var hasOccupancy = occupancyA.isDefined && occupancyB.isDefined;\n    var structConn = unitA.model === unitB.model && StructConn.Provider.get(unitA.model);\n    var indexPairs = !props.forceCompute && unitA.model === unitB.model && IndexPairBonds.Provider.get(unitA.model);\n    var sourceIndex = unitA.model.atomicHierarchy.atomSourceIndex;\n    var invertedIndex = (indexPairs ? Model.getInvertedAtomSourceIndex(unitB.model) : { invertedIndex: void 0 }).invertedIndex;\n    var structConnExhaustive = unitA.model === unitB.model && StructConn.isExhaustive(unitA.model);\n    // the lookup queries need to happen in the \"unitB space\".\n    // that means _imageA = inverseOperB(operA(aI))\n    var imageTransform = Mat4.mul(_imageTransform, unitB.conformation.operator.inverse, unitA.conformation.operator.matrix);\n    var isNotIdentity = !Mat4.isIdentity(imageTransform);\n    var _d = unitB.boundary.sphere, bCenter = _d.center, bRadius = _d.radius;\n    var testDistanceSq = (bRadius + maxRadius) * (bRadius + maxRadius);\n    builder.startUnitPair(unitA.id, unitB.id);\n    var opKeyA = unitA.conformation.operator.key;\n    var opKeyB = unitB.conformation.operator.key;\n    for (var _aI = 0; _aI < atomCount; _aI++) {\n        var aI = atomsA[_aI];\n        v3set(_imageA, xA[aI], yA[aI], zA[aI]);\n        if (isNotIdentity)\n            v3transformMat4(_imageA, _imageA, imageTransform);\n        if (v3squaredDistance(_imageA, bCenter) > testDistanceSq)\n            continue;\n        if (!props.forceCompute && indexPairs) {\n            var maxDistance = indexPairs.maxDistance;\n            var _e = indexPairs.bonds, offset = _e.offset, b = _e.b, _f = _e.edgeProps, order = _f.order, distance = _f.distance, flag = _f.flag, key = _f.key, operatorA = _f.operatorA, operatorB = _f.operatorB;\n            var srcA = sourceIndex.value(aI);\n            var aeI_1 = getElementIdx(type_symbolA.value(aI));\n            for (var i = offset[srcA], il = offset[srcA + 1]; i < il; ++i) {\n                var bI = invertedIndex[b[i]];\n                var _bI = SortedArray.indexOf(unitB.elements, bI);\n                if (_bI < 0)\n                    continue;\n                var opA = operatorA[i];\n                var opB = operatorB[i];\n                if ((opA >= 0 && opA !== opKeyA && opA !== opKeyB) ||\n                    (opB >= 0 && opB !== opKeyB && opB !== opKeyA))\n                    continue;\n                var beI = getElementIdx(type_symbolA.value(bI));\n                var d = distance[i];\n                var dist = getDistance(unitA, aI, unitB, bI);\n                var add = false;\n                if (d >= 0) {\n                    add = equalEps(dist, d, 0.3);\n                }\n                else if (maxDistance >= 0) {\n                    add = dist < maxDistance;\n                }\n                else {\n                    var pairingThreshold = getPairingThreshold(aeI_1, beI, getElementThreshold(aeI_1), getElementThreshold(beI));\n                    add = dist < pairingThreshold;\n                    if (isHydrogen(aeI_1) && isHydrogen(beI)) {\n                        // TODO handle molecular hydrogen\n                        add = false;\n                    }\n                }\n                if (add) {\n                    builder.add(_aI, _bI, { order: order[i], flag: flag[i], key: key[i] });\n                }\n            }\n            continue; // assume `indexPairs` supplies all bonds\n        }\n        var structConnEntries = props.forceCompute ? void 0 : structConn && structConn.byAtomIndex.get(aI);\n        if (structConnEntries && structConnEntries.length) {\n            var added = false;\n            for (var _g = 0, structConnEntries_1 = structConnEntries; _g < structConnEntries_1.length; _g++) {\n                var se = structConnEntries_1[_g];\n                var partnerA = se.partnerA, partnerB = se.partnerB;\n                var p = partnerA.atomIndex === aI ? partnerB : partnerA;\n                var _bI = SortedArray.indexOf(unitB.elements, p.atomIndex);\n                if (_bI < 0)\n                    continue;\n                // check if the bond is within MAX_RADIUS for this pair of units\n                if (getDistance(unitA, aI, unitB, p.atomIndex) > maxRadius)\n                    continue;\n                builder.add(_aI, _bI, { order: se.order, flag: se.flags, key: se.rowIndex });\n                added = true;\n            }\n            // assume, for an atom, that if any inter unit bond is given\n            // all are given and thus we don't need to compute any other\n            if (added)\n                continue;\n        }\n        if (structConnExhaustive)\n            continue;\n        var occA = occupancyA.value(aI);\n        var lookup3d = unitB.lookup3d;\n        var _h = lookup3d.find(_imageA[0], _imageA[1], _imageA[2], maxRadius), indices = _h.indices, count = _h.count, squaredDistances = _h.squaredDistances;\n        if (count === 0)\n            continue;\n        var aeI = getElementIdx(type_symbolA.value(aI));\n        var isHa = isHydrogen(aeI);\n        var thresholdA = getElementThreshold(aeI);\n        var altA = label_alt_idA.value(aI);\n        var metalA = MetalsSet.has(aeI);\n        var atomIdA = label_atom_idA.value(aI);\n        var compIdA = label_comp_idA.value(residueIndexA[aI]);\n        for (var ni = 0; ni < count; ni++) {\n            var _bI = indices[ni];\n            var bI = atomsB[_bI];\n            var altB = label_alt_idB.value(bI);\n            if (altA && altB && altA !== altB)\n                continue;\n            // Do not include bonds between images of the same residue with partial occupancy.\n            // TODO: is this condition good enough?\n            // - It works for cases like 3WQJ (label_asym_id: I) which have partial occupancy.\n            // - Does NOT work for cases like 1RB8 (DC 7) with full occupancy.\n            if (hasOccupancy && occupancyB.value(bI) < 1 && occA < 1) {\n                if (auth_seq_idA.value(aI) === auth_seq_idB.value(bI)) {\n                    continue;\n                }\n            }\n            var beI = getElementIdx(type_symbolB.value(bI));\n            var isHb = isHydrogen(beI);\n            if (isHa && isHb)\n                continue;\n            var isMetal = (metalA || MetalsSet.has(beI)) && !(isHa || isHb);\n            var dist = Math.sqrt(squaredDistances[ni]);\n            if (dist === 0)\n                continue;\n            var pairingThreshold = getPairingThreshold(aeI, beI, thresholdA, getElementThreshold(beI));\n            if (dist <= pairingThreshold) {\n                var atomIdB = label_atom_idB.value(bI);\n                var compIdB = label_comp_idB.value(residueIndexB[bI]);\n                builder.add(_aI, _bI, {\n                    order: getInterBondOrderFromTable(compIdA, compIdB, atomIdA, atomIdB),\n                    flag: (isMetal ? 2 /* BondType.Flag.MetallicCoordination */ : 1 /* BondType.Flag.Covalent */) | 32 /* BondType.Flag.Computed */,\n                    key: -1\n                });\n            }\n        }\n    }\n    builder.finishUnitPair();\n}\nvar DefaultInterBondComputationProps = __assign(__assign({}, DefaultBondComputationProps), { ignoreWater: true, ignoreIon: true });\nfunction findBonds(structure, props) {\n    var builder = new InterUnitGraph.Builder();\n    var hasIndexPairBonds = structure.models.some(function (m) { return IndexPairBonds.Provider.get(m); });\n    var hasExhaustiveStructConn = structure.models.some(function (m) { return StructConn.isExhaustive(m); });\n    if (props.noCompute || (structure.isCoarseGrained && !hasIndexPairBonds && !hasExhaustiveStructConn)) {\n        return new InterUnitBonds(builder.getMap());\n    }\n    Structure.eachUnitPair(structure, function (unitA, unitB) {\n        findPairBonds(unitA, unitB, props, builder);\n    }, {\n        maxRadius: props.maxRadius,\n        validUnit: function (unit) { return props.validUnit(unit); },\n        validUnitPair: function (unitA, unitB) { return props.validUnitPair(structure, unitA, unitB); }\n    });\n    return new InterUnitBonds(builder.getMap());\n}\nfunction computeInterUnitBonds(structure, props) {\n    var p = __assign(__assign({}, DefaultInterBondComputationProps), props);\n    return findBonds(structure, __assign(__assign({}, p), { validUnit: (props && props.validUnit) || (function (u) { return Unit.isAtomic(u); }), validUnitPair: (props && props.validUnitPair) || (function (s, a, b) {\n            var isValidPair = Structure.validUnitPair(s, a, b);\n            if (!isValidPair)\n                return false;\n            var mtA = a.model.atomicHierarchy.derived.residue.moleculeType;\n            var mtB = b.model.atomicHierarchy.derived.residue.moleculeType;\n            var notWater = ((!Unit.isAtomic(a) || mtA[a.residueIndex[a.elements[0]]] !== 2 /* MoleculeType.Water */) &&\n                (!Unit.isAtomic(b) || mtB[b.residueIndex[b.elements[0]]] !== 2 /* MoleculeType.Water */));\n            var notIonA = (!Unit.isAtomic(a) || mtA[a.residueIndex[a.elements[0]]] !== 3 /* MoleculeType.Ion */);\n            var notIonB = (!Unit.isAtomic(b) || mtB[b.residueIndex[b.elements[0]]] !== 3 /* MoleculeType.Ion */);\n            var notIon = notIonA && notIonB;\n            var check = (notWater || !p.ignoreWater) && (notIon || !p.ignoreIon);\n            if (!check) {\n                // In case both units have a struct conn record, ignore other criteria\n                return hasCommonStructConnRecord(a, b);\n            }\n            return true;\n        }) }));\n}\nfunction hasCommonStructConnRecord(unitA, unitB) {\n    if (unitA.model !== unitB.model || !Unit.isAtomic(unitA) || !Unit.isAtomic(unitB))\n        return false;\n    var structConn = StructConn.Provider.get(unitA.model);\n    if (!structConn)\n        return false;\n    var smaller = unitA.elements.length < unitB.elements.length ? unitA : unitB;\n    var bigger = unitA.elements.length >= unitB.elements.length ? unitA : unitB;\n    var xs = smaller.elements;\n    var ys = bigger.elements;\n    var indexOf = SortedArray.indexOf;\n    for (var i = 0, _i = xs.length; i < _i; i++) {\n        var aI = xs[i];\n        var entries = structConn.byAtomIndex.get(aI);\n        if (!(entries === null || entries === void 0 ? void 0 : entries.length))\n            continue;\n        for (var _a = 0, entries_1 = entries; _a < entries_1.length; _a++) {\n            var e = entries_1[_a];\n            var bI = e.partnerA.atomIndex === aI ? e.partnerB.atomIndex : e.partnerA.atomIndex;\n            if (indexOf(ys, bI) >= 0)\n                return true;\n        }\n    }\n    return false;\n}\nexport { computeInterUnitBonds };\n","/**\n * Copyright (c) 2017-2021 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\nimport { Unit, StructureElement } from '../../structure';\nimport { BondType } from '../../model/types';\nimport { SortedArray, OrderedSet } from '../../../../mol-data/int';\nimport { CentroidHelper } from '../../../../mol-math/geometry/centroid-helper';\nexport * from './bonds/data';\nexport * from './bonds/intra-compute';\nexport * from './bonds/inter-compute';\nvar Bond;\n(function (Bond) {\n    function Location(aStructure, aUnit, aIndex, bStructure, bUnit, bIndex) {\n        return {\n            kind: 'bond-location',\n            aStructure: aStructure,\n            aUnit: aUnit,\n            aIndex: aIndex,\n            bStructure: bStructure,\n            bUnit: bUnit,\n            bIndex: bIndex\n        };\n    }\n    Bond.Location = Location;\n    function isLocation(x) {\n        return !!x && x.kind === 'bond-location';\n    }\n    Bond.isLocation = isLocation;\n    function areLocationsEqual(locA, locB) {\n        return (locA.aStructure.label === locB.aStructure.label && locA.bStructure.label === locB.bStructure.label &&\n            locA.aIndex === locB.aIndex && locA.bIndex === locB.bIndex &&\n            locA.aUnit.id === locB.aUnit.id && locA.bUnit.id === locB.bUnit.id);\n    }\n    Bond.areLocationsEqual = areLocationsEqual;\n    function Loci(structure, bonds) {\n        return { kind: 'bond-loci', structure: structure, bonds: bonds };\n    }\n    Bond.Loci = Loci;\n    function isLoci(x) {\n        return !!x && x.kind === 'bond-loci';\n    }\n    Bond.isLoci = isLoci;\n    function areLociEqual(a, b) {\n        if (a.structure !== b.structure)\n            return false;\n        if (a.bonds.length !== b.bonds.length)\n            return false;\n        for (var i = 0, il = a.bonds.length; i < il; ++i) {\n            if (!areLocationsEqual(a.bonds[i], b.bonds[i]))\n                return false;\n        }\n        return true;\n    }\n    Bond.areLociEqual = areLociEqual;\n    function isLociEmpty(loci) {\n        return loci.bonds.length === 0 ? true : false;\n    }\n    Bond.isLociEmpty = isLociEmpty;\n    function remapLoci(loci, structure) {\n        if (structure === loci.structure)\n            return loci;\n        var bonds = [];\n        loci.bonds.forEach(function (l) {\n            var unitA = structure.unitMap.get(l.aUnit.id);\n            if (!unitA)\n                return;\n            var unitB = structure.unitMap.get(l.bUnit.id);\n            if (!unitB)\n                return;\n            var elementA = l.aUnit.elements[l.aIndex];\n            var indexA = SortedArray.indexOf(unitA.elements, elementA);\n            if (indexA === -1)\n                return;\n            var elementB = l.bUnit.elements[l.bIndex];\n            var indexB = SortedArray.indexOf(unitB.elements, elementB);\n            if (indexB === -1)\n                return;\n            bonds.push(Location(loci.structure, unitA, indexA, loci.structure, unitB, indexB));\n        });\n        return Loci(structure, bonds);\n    }\n    Bond.remapLoci = remapLoci;\n    function toStructureElementLoci(loci) {\n        var elements = [];\n        var map = new Map();\n        for (var _i = 0, _a = loci.bonds; _i < _a.length; _i++) {\n            var lociBond = _a[_i];\n            var aIndex = lociBond.aIndex, aUnit = lociBond.aUnit, bIndex = lociBond.bIndex, bUnit = lociBond.bUnit;\n            if (aUnit === bUnit) {\n                if (map.has(aUnit.id))\n                    map.get(aUnit.id).push(aIndex, bIndex);\n                else\n                    map.set(aUnit.id, [aIndex, bIndex]);\n            }\n            else {\n                if (map.has(aUnit.id))\n                    map.get(aUnit.id).push(aIndex);\n                else\n                    map.set(aUnit.id, [aIndex]);\n                if (map.has(bUnit.id))\n                    map.get(bUnit.id).push(bIndex);\n                else\n                    map.set(bUnit.id, [bIndex]);\n            }\n        }\n        map.forEach(function (indices, id) {\n            elements.push({\n                unit: loci.structure.unitMap.get(id),\n                indices: SortedArray.deduplicate(SortedArray.ofUnsortedArray(indices))\n            });\n        });\n        return StructureElement.Loci(loci.structure, elements);\n    }\n    Bond.toStructureElementLoci = toStructureElementLoci;\n    function toFirstStructureElementLoci(loci) {\n        var _a = loci.bonds[0], aUnit = _a.aUnit, aIndex = _a.aIndex;\n        return StructureElement.Loci(loci.structure, [{ unit: aUnit, indices: OrderedSet.ofSingleton(aIndex) }]);\n    }\n    Bond.toFirstStructureElementLoci = toFirstStructureElementLoci;\n    function getType(structure, location) {\n        if (location.aUnit === location.bUnit) {\n            var bonds = location.aUnit.bonds;\n            var idx = bonds.getEdgeIndex(location.aIndex, location.bIndex);\n            if (idx < 0)\n                return BondType.create(0 /* BondType.Flag.None */);\n            return BondType.create(bonds.edgeProps.flags[idx]);\n        }\n        else {\n            var bond = structure.interUnitBonds.getBondFromLocation(location);\n            if (bond)\n                return BondType.create(bond.props.flag);\n            return BondType.create(0 /* BondType.Flag.None */);\n        }\n    }\n    Bond.getType = getType;\n    function getOrder(structure, location) {\n        if (location.aUnit === location.bUnit) {\n            var bonds = location.aUnit.bonds;\n            var idx = bonds.getEdgeIndex(location.aIndex, location.bIndex);\n            if (idx < 0)\n                return 0;\n            return bonds.edgeProps.order[idx];\n        }\n        else {\n            var bond = structure.interUnitBonds.getBondFromLocation(location);\n            if (bond)\n                return bond.props.order;\n            return 0;\n        }\n    }\n    Bond.getOrder = getOrder;\n    function getIntraUnitBondCount(structure) {\n        var count = 0;\n        for (var i = 0, il = structure.units.length; i < il; ++i) {\n            var u = structure.units[i];\n            if (Unit.isAtomic(u))\n                count += u.bonds.edgeCount;\n        }\n        return count;\n    }\n    Bond.getIntraUnitBondCount = getIntraUnitBondCount;\n    var ElementBondIterator = /** @class */ (function () {\n        function ElementBondIterator() {\n            this.current = {};\n            this.hasNext = false;\n        }\n        ElementBondIterator.prototype.move = function () {\n            this.advance();\n            return this.current;\n        };\n        ElementBondIterator.prototype.setElement = function (structure, unit, index) {\n            this.structure = structure;\n            this.unit = unit;\n            this.index = index;\n            this.interBondIndices = structure.interUnitBonds.getEdgeIndices(index, unit.id);\n            this.interBondCount = this.interBondIndices.length;\n            this.interBondIndex = 0;\n            this.intraBondEnd = unit.bonds.offset[index + 1];\n            this.intraBondIndex = unit.bonds.offset[index];\n            this.hasNext = this.interBondIndex < this.interBondCount || this.intraBondIndex < this.intraBondEnd;\n        };\n        ElementBondIterator.prototype.advance = function () {\n            if (this.intraBondIndex < this.intraBondEnd) {\n                this.current.otherUnit = this.unit;\n                this.current.otherIndex = this.unit.bonds.b[this.intraBondIndex];\n                this.current.type = this.unit.bonds.edgeProps.flags[this.intraBondIndex];\n                this.current.order = this.unit.bonds.edgeProps.order[this.intraBondIndex];\n                this.intraBondIndex += 1;\n            }\n            else if (this.interBondIndex < this.interBondCount) {\n                var b = this.structure.interUnitBonds.edges[this.interBondIndex];\n                this.current.otherUnit = this.structure.unitMap.get(b.unitA !== this.unit.id ? b.unitA : b.unitB);\n                this.current.otherIndex = b.indexA !== this.index ? b.indexA : b.indexB;\n                this.current.type = b.props.flag;\n                this.current.order = b.props.order;\n                this.interBondIndex += 1;\n            }\n            else {\n                this.hasNext = false;\n                return;\n            }\n            this.hasNext = this.interBondIndex < this.interBondCount || this.intraBondIndex < this.intraBondEnd;\n        };\n        return ElementBondIterator;\n    }());\n    Bond.ElementBondIterator = ElementBondIterator;\n    function getBoundingSphere(loci, boundingSphere) {\n        return CentroidHelper.fromPairProvider(loci.bonds.length, function (i, pA, pB) {\n            var _a = loci.bonds[i], aUnit = _a.aUnit, aIndex = _a.aIndex, bUnit = _a.bUnit, bIndex = _a.bIndex;\n            aUnit.conformation.position(aUnit.elements[aIndex], pA);\n            bUnit.conformation.position(bUnit.elements[bIndex], pB);\n        }, boundingSphere);\n    }\n    Bond.getBoundingSphere = getBoundingSphere;\n})(Bond || (Bond = {}));\nexport { Bond };\n","/**\n * Copyright (c) 2018 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n */\nimport { Segmentation, SortedArray } from '../../../../../mol-data/int';\nimport { IntAdjacencyGraph } from '../../../../../mol-math/graph';\nimport { BondType } from '../../../model/types';\nimport { sortArray } from '../../../../../mol-data/util';\nimport { arraySetAdd, arraySetRemove } from '../../../../../mol-util/array';\nexport function computeRings(unit) {\n    var size = largestResidue(unit);\n    var state = State(unit, size);\n    var residuesIt = Segmentation.transientSegments(unit.model.atomicHierarchy.residueAtomSegments, unit.elements);\n    while (residuesIt.hasNext) {\n        var seg = residuesIt.move();\n        processResidue(state, seg.start, seg.end);\n    }\n    return state.rings;\n}\nfunction State(unit, capacity) {\n    return {\n        startVertex: 0,\n        endVertex: 0,\n        count: 0,\n        isRingAtom: new Int32Array(capacity),\n        marked: new Int32Array(capacity),\n        queue: new Int32Array(capacity),\n        pred: new Int32Array(capacity),\n        depth: new Int32Array(capacity),\n        left: new Int32Array(5 /* Constants.MaxDepth */),\n        right: new Int32Array(5 /* Constants.MaxDepth */),\n        color: new Int32Array(capacity),\n        currentColor: 0,\n        currentAltLoc: '',\n        hasAltLoc: false,\n        rings: [],\n        currentRings: [],\n        unit: unit,\n        bonds: unit.bonds,\n        altLoc: unit.model.atomicHierarchy.atoms.label_alt_id\n    };\n}\nfunction resetState(state) {\n    state.count = state.endVertex - state.startVertex;\n    var isRingAtom = state.isRingAtom, pred = state.pred, color = state.color, depth = state.depth, marked = state.marked;\n    for (var i = 0; i < state.count; i++) {\n        isRingAtom[i] = 0;\n        pred[i] = -1;\n        marked[i] = -1;\n        color[i] = 0;\n        depth[i] = 0;\n    }\n    state.currentColor = 0;\n    state.currentAltLoc = '';\n    state.hasAltLoc = false;\n}\nfunction resetDepth(state) {\n    var depth = state.depth;\n    for (var i = 0; i < state.count; i++) {\n        depth[i] = state.count + 1;\n    }\n}\nfunction largestResidue(unit) {\n    var residuesIt = Segmentation.transientSegments(unit.model.atomicHierarchy.residueAtomSegments, unit.elements);\n    var size = 0;\n    while (residuesIt.hasNext) {\n        var seg = residuesIt.move();\n        size = Math.max(size, seg.end - seg.start);\n    }\n    return size;\n}\nfunction isStartIndex(state, i) {\n    var bondOffset = state.bonds.offset;\n    var a = state.startVertex + i;\n    var bStart = bondOffset[a], bEnd = bondOffset[a + 1];\n    var bondCount = bEnd - bStart;\n    if (bondCount <= 1 || (state.isRingAtom[i] && bondCount === 2))\n        return false;\n    return true;\n}\nfunction processResidue(state, start, end) {\n    state.startVertex = start;\n    state.endVertex = end;\n    // no two atom rings\n    if (state.endVertex - state.startVertex < 3)\n        return;\n    state.currentRings = [];\n    var elements = state.unit.elements;\n    var altLocs = [];\n    for (var i = state.startVertex; i < state.endVertex; i++) {\n        var altLoc = state.altLoc.value(elements[i]);\n        arraySetAdd(altLocs, altLoc);\n    }\n    arraySetRemove(altLocs, '');\n    var mark = 1;\n    if (altLocs.length === 0) {\n        resetState(state);\n        for (var i = 0; i < state.count; i++) {\n            if (!isStartIndex(state, i))\n                continue;\n            resetDepth(state);\n            mark = findRings(state, i, mark);\n        }\n    }\n    else {\n        for (var aI = 0; aI < altLocs.length; aI++) {\n            resetState(state);\n            state.hasAltLoc = true;\n            state.currentAltLoc = altLocs[aI];\n            for (var i = 0; i < state.count; i++) {\n                if (!isStartIndex(state, i))\n                    continue;\n                var altLoc = state.altLoc.value(elements[state.startVertex + i]);\n                if (altLoc && altLoc !== state.currentAltLoc) {\n                    continue;\n                }\n                resetDepth(state);\n                mark = findRings(state, i, mark);\n            }\n        }\n    }\n    for (var i = 0, _i = state.currentRings.length; i < _i; i++) {\n        state.rings.push(state.currentRings[i]);\n    }\n}\nfunction addRing(state, a, b, isRingAtom) {\n    // only \"monotonous\" rings\n    if (b < a) {\n        return false;\n    }\n    var pred = state.pred, color = state.color, left = state.left, right = state.right;\n    var nc = ++state.currentColor;\n    var current = a;\n    for (var t = 0; t < 5 /* Constants.MaxDepth */; t++) {\n        color[current] = nc;\n        current = pred[current];\n        if (current < 0)\n            break;\n    }\n    var leftOffset = 0, rightOffset = 0;\n    var found = false, target = 0;\n    current = b;\n    for (var t = 0; t < 5 /* Constants.MaxDepth */; t++) {\n        if (color[current] === nc) {\n            target = current;\n            found = true;\n            break;\n        }\n        right[rightOffset++] = current;\n        current = pred[current];\n        if (current < 0)\n            break;\n    }\n    if (!found) {\n        return false;\n    }\n    current = a;\n    for (var t = 0; t < 5 /* Constants.MaxDepth */; t++) {\n        left[leftOffset++] = current;\n        if (target === current)\n            break;\n        current = pred[current];\n        if (current < 0)\n            break;\n    }\n    var len = leftOffset + rightOffset;\n    // rings must have at least three elements\n    if (len < 3) {\n        return false;\n    }\n    var ring = new Int32Array(len);\n    var ringOffset = 0;\n    for (var t = 0; t < leftOffset; t++) {\n        ring[ringOffset++] = state.startVertex + left[t];\n        isRingAtom[left[t]] = 1;\n    }\n    for (var t = rightOffset - 1; t >= 0; t--) {\n        ring[ringOffset++] = state.startVertex + right[t];\n        isRingAtom[right[t]] = 1;\n    }\n    sortArray(ring);\n    // Check if the ring is unique and another one is not it's subset\n    for (var rI = 0, _rI = state.currentRings.length; rI < _rI; rI++) {\n        var r = state.currentRings[rI];\n        if (ring.length === r.length) {\n            if (SortedArray.areEqual(ring, r))\n                return false;\n        }\n        else if (ring.length > r.length) {\n            if (SortedArray.isSubset(ring, r))\n                return false;\n        }\n    }\n    state.currentRings.push(SortedArray.ofSortedArray(ring));\n    return true;\n}\nfunction findRings(state, from, mark) {\n    var bonds = state.bonds, startVertex = state.startVertex, endVertex = state.endVertex, isRingAtom = state.isRingAtom, marked = state.marked, queue = state.queue, pred = state.pred, depth = state.depth;\n    var elements = state.unit.elements;\n    var neighbor = bonds.b, bondFlags = bonds.edgeProps.flags, offset = bonds.offset;\n    marked[from] = mark;\n    depth[from] = 0;\n    queue[0] = from;\n    var head = 0, size = 1;\n    while (head < size) {\n        var top_1 = queue[head++];\n        var d = depth[top_1];\n        var a = startVertex + top_1;\n        var start = offset[a], end = offset[a + 1];\n        for (var i = start; i < end; i++) {\n            var b = neighbor[i];\n            if (b < startVertex || b >= endVertex || !BondType.isCovalent(bondFlags[i]))\n                continue;\n            if (state.hasAltLoc) {\n                var altLoc = state.altLoc.value(elements[b]);\n                if (altLoc && state.currentAltLoc !== altLoc) {\n                    continue;\n                }\n            }\n            var other = b - startVertex;\n            if (marked[other] === mark) {\n                if (pred[other] !== top_1 && pred[top_1] !== other) {\n                    if (addRing(state, top_1, other, isRingAtom)) {\n                        return mark + 1;\n                    }\n                }\n                continue;\n            }\n            var newDepth = Math.min(depth[other], d + 1);\n            if (newDepth > 5 /* Constants.MaxDepth */)\n                continue;\n            depth[other] = newDepth;\n            marked[other] = mark;\n            queue[size++] = other;\n            pred[other] = top_1;\n        }\n    }\n    return mark + 1;\n}\nexport function getFingerprint(elements) {\n    var len = elements.length;\n    var reversed = new Array(len);\n    for (var i = 0; i < len; i++)\n        reversed[i] = elements[len - i - 1];\n    var rotNormal = getMinimalRotation(elements);\n    var rotReversed = getMinimalRotation(reversed);\n    var isNormalSmaller = false;\n    for (var i = 0; i < len; i++) {\n        var u = elements[(i + rotNormal) % len], v = reversed[(i + rotReversed) % len];\n        if (u !== v) {\n            isNormalSmaller = u < v;\n            break;\n        }\n    }\n    if (isNormalSmaller)\n        return buildFinderprint(elements, rotNormal);\n    return buildFinderprint(reversed, rotReversed);\n}\nfunction getMinimalRotation(elements) {\n    // adapted from http://en.wikipedia.org/wiki/Lexicographically_minimal_string_rotation\n    var len = elements.length;\n    var f = new Int32Array(len * 2);\n    for (var i = 0; i < f.length; i++)\n        f[i] = -1;\n    var u = '', v = '', k = 0;\n    for (var j = 1; j < f.length; j++) {\n        var i = f[j - k - 1];\n        while (i !== -1) {\n            u = elements[j % len];\n            v = elements[(k + i + 1) % len];\n            if (u === v)\n                break;\n            if (u < v)\n                k = j - i - 1;\n            i = f[i];\n        }\n        if (i === -1) {\n            u = elements[j % len];\n            v = elements[(k + i + 1) % len];\n            if (u !== v) {\n                if (u < v)\n                    k = j;\n                f[j - k] = -1;\n            }\n            else\n                f[j - k] = i + 1;\n        }\n        else\n            f[j - k] = i + 1;\n    }\n    return k;\n}\nfunction buildFinderprint(elements, offset) {\n    var len = elements.length;\n    var ret = [];\n    var i;\n    for (i = 0; i < len - 1; i++) {\n        ret.push(elements[(i + offset) % len]);\n        ret.push('-');\n    }\n    ret.push(elements[(i + offset) % len]);\n    return ret.join('');\n}\nexport function createIndex(rings, aromaticRings) {\n    var elementRingIndices = new Map();\n    var elementAromaticRingIndices = new Map();\n    // for each ring atom, assign all rings that it is present in\n    for (var rI = 0, _rI = rings.length; rI < _rI; rI++) {\n        var r = rings[rI];\n        for (var i = 0, _i = r.length; i < _i; i++) {\n            var e = r[i];\n            if (elementRingIndices.has(e))\n                elementRingIndices.get(e).push(rI);\n            else\n                elementRingIndices.set(e, [rI]);\n        }\n    }\n    // for each ring atom, assign all aromatic rings that it is present in\n    for (var aI = 0, _aI = aromaticRings.length; aI < _aI; aI++) {\n        var rI = aromaticRings[aI];\n        var r = rings[rI];\n        for (var i = 0, _i = r.length; i < _i; i++) {\n            var e = r[i];\n            if (elementAromaticRingIndices.has(e))\n                elementAromaticRingIndices.get(e).push(rI);\n            else\n                elementAromaticRingIndices.set(e, [rI]);\n        }\n    }\n    // create a graph where vertices are rings, edge if two rings share at least one atom\n    var graph = new IntAdjacencyGraph.UniqueEdgeBuilder(rings.length);\n    for (var rI = 0, _rI = rings.length; rI < _rI; rI++) {\n        var r = rings[rI];\n        for (var i = 0, _i = r.length; i < _i; i++) {\n            var e = r[i];\n            var containedRings = elementRingIndices.get(e);\n            if (containedRings.length === 1)\n                continue;\n            for (var j = 0, _j = containedRings.length; j < _j; j++) {\n                var rJ = containedRings[j];\n                if (rI >= rJ)\n                    continue;\n                graph.addEdge(rI, rJ);\n            }\n        }\n    }\n    var components = IntAdjacencyGraph.connectedComponents(graph.getGraph());\n    var ringComponentIndex = components.componentIndex;\n    var ringComponents = [];\n    for (var i = 0; i < components.componentCount; i++)\n        ringComponents[i] = [];\n    for (var rI = 0, _rI = rings.length; rI < _rI; rI++) {\n        ringComponents[ringComponentIndex[rI]].push(rI);\n    }\n    return { elementRingIndices: elementRingIndices, elementAromaticRingIndices: elementAromaticRingIndices, ringComponentIndex: ringComponentIndex, ringComponents: ringComponents };\n}\n","/**\n * Copyright (c) 2018-2019 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\nimport { PolymerTypeAtomRoleId, getMoleculeType } from './model/types';\nimport { Vec3 } from '../../mol-math/linear-algebra';\nexport function getCoarseBegCompId(unit, element) {\n    var entityKey = unit.coarseElements.entityKey[element];\n    var seq = unit.model.sequence.byEntityKey[entityKey].sequence;\n    var seq_id_begin = unit.coarseElements.seq_id_begin.value(element);\n    return seq.compId.value(seq_id_begin - 1); // 1-indexed\n}\nexport function getElementMoleculeType(unit, element) {\n    switch (unit.kind) {\n        case 0 /* Unit.Kind.Atomic */:\n            return unit.model.atomicHierarchy.derived.residue.moleculeType[unit.residueIndex[element]];\n        case 1 /* Unit.Kind.Spheres */:\n        case 2 /* Unit.Kind.Gaussians */:\n            // TODO add unit.model.coarseHierarchy.derived.residue.moleculeType\n            var compId = getCoarseBegCompId(unit, element);\n            var cc = unit.model.properties.chemicalComponentMap.get(compId);\n            if (cc)\n                return getMoleculeType(cc.type, compId);\n    }\n    return 0 /* MoleculeType.Unknown */;\n}\nexport function getAtomicMoleculeType(model, rI) {\n    return model.atomicHierarchy.derived.residue.moleculeType[rI];\n}\nvar EmptyAtomIds = new Set();\nexport function getAtomIdForAtomRole(polymerType, atomRole) {\n    var p = PolymerTypeAtomRoleId[polymerType];\n    if (p !== undefined) {\n        var a = p[atomRole];\n        if (a !== undefined)\n            return a;\n    }\n    return EmptyAtomIds;\n}\nvar tmpPositionsVec = Vec3.zero();\nexport function getPositions(unit, indices) {\n    var pos = unit.conformation.position;\n    var positions = new Float32Array(indices.length * 3);\n    var elements = unit.elements;\n    for (var i = 0, il = indices.length; i < il; ++i) {\n        pos(elements[indices[i]], tmpPositionsVec);\n        Vec3.toArray(tmpPositionsVec, positions, i * 3);\n    }\n    return positions;\n}\n","/**\n * Copyright (c) 2018-2019 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\nimport { computeRings, getFingerprint, createIndex } from './rings/compute';\nimport { SortedArray } from '../../../../mol-data/int';\nimport { BondType } from '../../model/types';\nimport { getPositions } from '../../util';\nimport { PrincipalAxes } from '../../../../mol-math/linear-algebra/matrix/principal-axes';\nimport { Vec3 } from '../../../../mol-math/linear-algebra';\nvar UnitRings = /** @class */ (function () {\n    function UnitRings(all, unit) {\n        this.unit = unit;\n        this.all = all;\n    }\n    Object.defineProperty(UnitRings.prototype, \"index\", {\n        get: function () {\n            if (this._index)\n                return this._index;\n            this._index = createIndex(this.all, this.aromaticRings);\n            return this._index;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(UnitRings.prototype, \"byFingerprint\", {\n        get: function () {\n            if (this._byFingerprint)\n                return this._byFingerprint;\n            this._byFingerprint = createByFingerprint(this.unit, this.all);\n            return this._byFingerprint;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(UnitRings.prototype, \"elementRingIndices\", {\n        /** Maps atom index inside a Unit to ring indices (an atom can be part of more than one ring) */\n        get: function () {\n            return this.index.elementRingIndices;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(UnitRings.prototype, \"elementAromaticRingIndices\", {\n        get: function () {\n            return this.index.elementAromaticRingIndices;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(UnitRings.prototype, \"ringComponentIndex\", {\n        /** Maps UnitRings.Index to index to ringComponents */\n        get: function () {\n            return this.index.ringComponentIndex;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(UnitRings.prototype, \"ringComponents\", {\n        get: function () {\n            return this.index.ringComponents;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(UnitRings.prototype, \"aromaticRings\", {\n        get: function () {\n            if (this._aromaticRings)\n                return this._aromaticRings;\n            this._aromaticRings = getAromaticRings(this.unit, this.all);\n            return this._aromaticRings;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return UnitRings;\n}());\nvar UnitRing;\n(function (UnitRing) {\n    function fingerprint(unit, ring) {\n        var elements = unit.elements;\n        var type_symbol = unit.model.atomicHierarchy.atoms.type_symbol;\n        var symbols = [];\n        for (var i = 0, _i = ring.length; i < _i; i++)\n            symbols[symbols.length] = type_symbol.value(elements[ring[i]]);\n        return elementFingerprint(symbols);\n    }\n    UnitRing.fingerprint = fingerprint;\n    function elementFingerprint(elements) {\n        return getFingerprint(elements);\n    }\n    UnitRing.elementFingerprint = elementFingerprint;\n    var AromaticRingElements = new Set([\n        \"B\" /* Elements.B */, \"C\" /* Elements.C */, \"N\" /* Elements.N */, \"O\" /* Elements.O */,\n        \"SI\" /* Elements.SI */, \"P\" /* Elements.P */, \"S\" /* Elements.S */,\n        \"GE\" /* Elements.GE */, \"AS\" /* Elements.AS */,\n        \"SN\" /* Elements.SN */, \"SB\" /* Elements.SB */,\n        \"BI\" /* Elements.BI */\n    ]);\n    var AromaticRingPlanarityThreshold = 0.05;\n    function isAromatic(unit, ring) {\n        var elements = unit.elements, _a = unit.bonds, b = _a.b, offset = _a.offset, flags = _a.edgeProps.flags;\n        var _b = unit.model.atomicHierarchy.atoms, type_symbol = _b.type_symbol, label_comp_id = _b.label_comp_id;\n        // ignore Proline (can be flat because of bad geometry)\n        if (label_comp_id.value(unit.elements[ring[0]]) === 'PRO')\n            return false;\n        var aromaticBondCount = 0;\n        var hasAromaticRingElement = false;\n        for (var i = 0, il = ring.length; i < il; ++i) {\n            var aI = ring[i];\n            if (!hasAromaticRingElement && AromaticRingElements.has(type_symbol.value(elements[aI]))) {\n                hasAromaticRingElement = true;\n            }\n            for (var j = offset[aI], jl = offset[aI + 1]; j < jl; ++j) {\n                // comes e.g. from `chem_comp_bond.pdbx_aromatic_flag`\n                if (BondType.is(16 /* BondType.Flag.Aromatic */, flags[j])) {\n                    if (SortedArray.has(ring, b[j]))\n                        aromaticBondCount += 1;\n                }\n            }\n        }\n        if (aromaticBondCount === 2 * ring.length)\n            return true;\n        if (!hasAromaticRingElement)\n            return false;\n        if (ring.length < 5)\n            return false;\n        // no planarity-based aromaticity if any aromatic flags are present\n        if (aromaticBondCount > 0)\n            return false;\n        var ma = PrincipalAxes.calculateMomentsAxes(getPositions(unit, ring));\n        return Vec3.magnitude(ma.dirC) < AromaticRingPlanarityThreshold;\n    }\n    UnitRing.isAromatic = isAromatic;\n    /** Get the alternate location of the 1st non '' alt loc atom. */\n    function getAltId(unit, ring) {\n        var label_alt_id = unit.model.atomicHierarchy.atoms.label_alt_id;\n        var elements = unit.elements;\n        for (var i = 0, il = ring.length; i < il; ++i) {\n            var eI = elements[ring[i]];\n            var altId = label_alt_id.value(eI);\n            if (altId)\n                return altId;\n        }\n        return '';\n    }\n    UnitRing.getAltId = getAltId;\n})(UnitRing || (UnitRing = {}));\n(function (UnitRings) {\n    function create(unit) {\n        var rings = computeRings(unit);\n        return new UnitRings(rings, unit);\n    }\n    UnitRings.create = create;\n    /** Creates a mapping ResidueIndex -> list or rings that are on that residue and have one of the specified fingerprints. */\n    function byFingerprintAndResidue(rings, fingerprints) {\n        var map = new Map();\n        for (var fI = 0, _fI = fingerprints.length; fI < _fI; fI++) {\n            var fp = fingerprints[fI];\n            addSingleResidueRings(rings, fp, map);\n        }\n        return map;\n    }\n    UnitRings.byFingerprintAndResidue = byFingerprintAndResidue;\n})(UnitRings || (UnitRings = {}));\nfunction createByFingerprint(unit, rings) {\n    var byFingerprint = new Map();\n    var idx = 0;\n    for (var rI = 0, _rI = rings.length; rI < _rI; rI++) {\n        var r = rings[rI];\n        var fp = UnitRing.fingerprint(unit, r);\n        if (byFingerprint.has(fp))\n            byFingerprint.get(fp).push(idx);\n        else\n            byFingerprint.set(fp, [idx]);\n        idx++;\n    }\n    return byFingerprint;\n}\nfunction ringResidueIdx(unit, ring) {\n    var elements = unit.elements;\n    var residueIndex = unit.model.atomicHierarchy.residueAtomSegments.index;\n    var idx = residueIndex[elements[ring[0]]];\n    for (var rI = 1, _rI = ring.length; rI < _rI; rI++) {\n        if (idx !== residueIndex[elements[ring[rI]]])\n            return -1;\n    }\n    return idx;\n}\nfunction addSingleResidueRings(rings, fp, map) {\n    var byFp = rings.byFingerprint.get(fp);\n    if (!byFp)\n        return;\n    for (var rI = 0, _rI = byFp.length; rI < _rI; rI++) {\n        var r = byFp[rI];\n        var idx = ringResidueIdx(rings.unit, rings.all[r]);\n        if (idx >= 0) {\n            if (map.has(idx))\n                map.get(idx).push(r);\n            else\n                map.set(idx, [r]);\n        }\n    }\n}\nfunction getAromaticRings(unit, rings) {\n    var aromaticRings = [];\n    for (var i = 0, il = rings.length; i < il; ++i) {\n        if (UnitRing.isAromatic(unit, rings[i]))\n            aromaticRings.push(i);\n    }\n    return aromaticRings;\n}\nexport { UnitRing, UnitRings };\n","/**\n * Copyright (c) 2018-2019 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\nimport { OrderedSet, SortedArray, Interval } from '../int';\nvar SortedRanges;\n(function (SortedRanges) {\n    function ofSortedRanges(array) { return SortedArray.ofSortedArray(array); }\n    SortedRanges.ofSortedRanges = ofSortedRanges;\n    function start(ranges) { return ranges[0]; }\n    SortedRanges.start = start;\n    function end(ranges) { return ranges[ranges.length - 1] + 1; }\n    SortedRanges.end = end;\n    function min(ranges) { return ranges[0]; }\n    SortedRanges.min = min;\n    function max(ranges) { return ranges[ranges.length - 1]; }\n    SortedRanges.max = max;\n    function size(ranges) {\n        var size = 0;\n        for (var i = 0, il = ranges.length; i < il; i += 2) {\n            size += ranges[i + 1] - ranges[i] + 1;\n        }\n        return size;\n    }\n    SortedRanges.size = size;\n    function count(ranges) { return ranges.length / 2; }\n    SortedRanges.count = count;\n    function startAt(ranges, index) {\n        return ranges[index * 2];\n    }\n    SortedRanges.startAt = startAt;\n    function endAt(ranges, index) {\n        return ranges[index * 2 + 1] + 1;\n    }\n    SortedRanges.endAt = endAt;\n    function minAt(ranges, index) {\n        return ranges[index * 2];\n    }\n    SortedRanges.minAt = minAt;\n    function maxAt(ranges, index) {\n        return ranges[index * 2 + 1];\n    }\n    SortedRanges.maxAt = maxAt;\n    function areEqual(a, b) {\n        if (a.length !== b.length)\n            return false;\n        for (var i = 0, il = a.length; i < il; ++i) {\n            if (a[i] !== b[i])\n                return false;\n        }\n        return true;\n    }\n    SortedRanges.areEqual = areEqual;\n    function forEach(ranges, f) {\n        var k = 0;\n        for (var i = 0, il = ranges.length; i < il; i += 2) {\n            for (var j = ranges[i], jl = ranges[i + 1]; j <= jl; ++j) {\n                f(j, k);\n                ++k;\n            }\n        }\n    }\n    SortedRanges.forEach = forEach;\n    /** Returns if a value of `set` is included in `ranges` */\n    function has(ranges, set) {\n        return firstIntersectionIndex(ranges, set) !== -1;\n    }\n    SortedRanges.has = has;\n    /** Returns if a value of `set` is included in `ranges` from given index */\n    function hasFrom(ranges, set, from) {\n        return firstIntersectionIndexFrom(ranges, set, from) !== -1;\n    }\n    SortedRanges.hasFrom = hasFrom;\n    function firstIntersectionIndex(ranges, set) {\n        return firstIntersectionIndexFrom(ranges, set, 0);\n    }\n    SortedRanges.firstIntersectionIndex = firstIntersectionIndex;\n    function firstIntersectionIndexFrom(ranges, set, from) {\n        if (minAt(ranges, from) > OrderedSet.max(set) || max(ranges) < OrderedSet.min(set))\n            return -1;\n        for (var i = from, il = count(ranges); i < il; ++i) {\n            var interval = Interval.ofRange(minAt(ranges, i), maxAt(ranges, i));\n            if (OrderedSet.areIntersecting(interval, set))\n                return i;\n        }\n        return -1;\n    }\n    SortedRanges.firstIntersectionIndexFrom = firstIntersectionIndexFrom;\n    function transientSegments(ranges, set) {\n        return new Iterator(ranges, set);\n    }\n    SortedRanges.transientSegments = transientSegments;\n    var Iterator = /** @class */ (function () {\n        function Iterator(ranges, set) {\n            this.ranges = ranges;\n            this.set = set;\n            this.value = { index: 0, start: 0, end: 0 };\n            this.curIndex = 0;\n            this.hasNext = false;\n            this.curIndex = firstIntersectionIndex(ranges, set);\n            this.hasNext = this.curIndex !== -1;\n        }\n        Iterator.prototype.updateValue = function () {\n            this.value.index = this.curIndex;\n            this.value.start = OrderedSet.findPredecessorIndex(this.set, startAt(this.ranges, this.curIndex));\n            this.value.end = OrderedSet.findPredecessorIndex(this.set, endAt(this.ranges, this.curIndex));\n        };\n        Iterator.prototype.move = function () {\n            if (this.hasNext) {\n                this.updateValue();\n                this.curIndex = firstIntersectionIndexFrom(this.ranges, this.set, this.curIndex + 1);\n                this.hasNext = this.curIndex !== -1;\n            }\n            return this.value;\n        };\n        return Iterator;\n    }());\n    SortedRanges.Iterator = Iterator;\n})(SortedRanges || (SortedRanges = {}));\nexport { SortedRanges };\n","/**\n * Copyright (c) 2019 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\nimport { PrincipalAxes } from '../../../../mol-math/linear-algebra/matrix/principal-axes';\nimport { Vec3 } from '../../../../mol-math/linear-algebra';\nvar tempPos = Vec3.zero();\nexport function toPositionsArray(unit) {\n    var pos = unit.conformation.invariantPosition;\n    var elements = unit.elements;\n    var positions = new Float32Array(elements.length * 3);\n    for (var i = 0, il = elements.length; i < il; i++) {\n        pos(elements[i], tempPos);\n        Vec3.toArray(tempPos, positions, i * 3);\n    }\n    return positions;\n}\nexport function getPrincipalAxes(unit) {\n    var positions = toPositionsArray(unit);\n    return PrincipalAxes.ofPositions(positions);\n}\n","/**\n * Copyright (c) 2020-2023 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\nimport { __spreadArray } from \"tslib\";\nimport { Vec3 } from '../linear-algebra/3d/vec3';\nimport { CentroidHelper } from './centroid-helper';\nimport { Sphere3D } from '../geometry';\nimport { Box3D } from './primitives/box3d';\n// avoiding namespace lookup improved performance in Chrome (Aug 2020)\nvar v3dot = Vec3.dot;\nvar v3copy = Vec3.copy;\nvar v3scaleAndSub = Vec3.scaleAndSub;\nvar v3scaleAndAdd = Vec3.scaleAndAdd;\n// implementing http://www.ep.liu.se/ecp/034/009/ecp083409.pdf\nvar BoundaryHelper = /** @class */ (function () {\n    function BoundaryHelper(quality) {\n        this.minDist = [];\n        this.maxDist = [];\n        this.extrema = [];\n        this.centroidHelper = new CentroidHelper();\n        this.dir = getEposDir(quality);\n        this.dirLength = this.dir.length;\n        this.reset();\n    }\n    BoundaryHelper.prototype.computeExtrema = function (i, p) {\n        var d = v3dot(this.dir[i], p);\n        if (d < this.minDist[i]) {\n            this.minDist[i] = d;\n            v3copy(this.extrema[i * 2], p);\n        }\n        if (d > this.maxDist[i]) {\n            this.maxDist[i] = d;\n            v3copy(this.extrema[i * 2 + 1], p);\n        }\n    };\n    BoundaryHelper.prototype.computeSphereExtrema = function (i, center, radius) {\n        var di = this.dir[i];\n        var d = v3dot(di, center);\n        if (d - radius < this.minDist[i]) {\n            this.minDist[i] = d - radius;\n            v3scaleAndSub(this.extrema[i * 2], center, di, radius);\n        }\n        if (d + radius > this.maxDist[i]) {\n            this.maxDist[i] = d + radius;\n            v3scaleAndAdd(this.extrema[i * 2 + 1], center, di, radius);\n        }\n    };\n    BoundaryHelper.prototype.includeSphere = function (s) {\n        if (Sphere3D.hasExtrema(s) && s.extrema.length > 1) {\n            for (var _i = 0, _a = s.extrema; _i < _a.length; _i++) {\n                var e = _a[_i];\n                this.includePosition(e);\n            }\n        }\n        else {\n            this.includePositionRadius(s.center, s.radius);\n        }\n    };\n    BoundaryHelper.prototype.includePosition = function (p) {\n        for (var i = 0; i < this.dirLength; ++i) {\n            this.computeExtrema(i, p);\n        }\n    };\n    BoundaryHelper.prototype.includePositionRadius = function (center, radius) {\n        for (var i = 0; i < this.dirLength; ++i) {\n            this.computeSphereExtrema(i, center, radius);\n        }\n    };\n    BoundaryHelper.prototype.finishedIncludeStep = function () {\n        for (var i = 0; i < this.extrema.length; i++) {\n            this.centroidHelper.includeStep(this.extrema[i]);\n        }\n        this.centroidHelper.finishedIncludeStep();\n    };\n    BoundaryHelper.prototype.radiusSphere = function (s) {\n        if (Sphere3D.hasExtrema(s) && s.extrema.length > 1) {\n            for (var _i = 0, _a = s.extrema; _i < _a.length; _i++) {\n                var e = _a[_i];\n                this.radiusPosition(e);\n            }\n        }\n        else {\n            this.radiusPositionRadius(s.center, s.radius);\n        }\n    };\n    BoundaryHelper.prototype.radiusPosition = function (p) {\n        this.centroidHelper.radiusStep(p);\n    };\n    BoundaryHelper.prototype.radiusPositionRadius = function (center, radius) {\n        this.centroidHelper.radiusSphereStep(center, radius);\n    };\n    BoundaryHelper.prototype.getSphere = function (sphere) {\n        return Sphere3D.setExtrema(this.centroidHelper.getSphere(sphere), this.extrema.slice());\n    };\n    BoundaryHelper.prototype.getBox = function (box) {\n        return Box3D.fromVec3Array(box || Box3D(), this.extrema);\n    };\n    BoundaryHelper.prototype.reset = function () {\n        for (var i = 0; i < this.dirLength; ++i) {\n            this.minDist[i] = Infinity;\n            this.maxDist[i] = -Infinity;\n            this.extrema[i * 2] = Vec3();\n            this.extrema[i * 2 + 1] = Vec3();\n        }\n        this.centroidHelper.reset();\n    };\n    return BoundaryHelper;\n}());\nexport { BoundaryHelper };\nfunction getEposDir(quality) {\n    var dir;\n    switch (quality) {\n        case '6':\n            dir = __spreadArray([], Type001, true);\n            break;\n        case '14':\n            dir = __spreadArray(__spreadArray([], Type001, true), Type111, true);\n            break;\n        case '26':\n            dir = __spreadArray(__spreadArray(__spreadArray([], Type001, true), Type111, true), Type011, true);\n            break;\n        case '98':\n            dir = __spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray([], Type001, true), Type111, true), Type011, true), Type012, true), Type112, true), Type122, true);\n            break;\n    }\n    return dir.map(function (a) {\n        var v = Vec3.create(a[0], a[1], a[2]);\n        return Vec3.normalize(v, v);\n    });\n}\nvar Type001 = [\n    [1, 0, 0], [0, 1, 0], [0, 0, 1]\n];\nvar Type111 = [\n    [1, 1, 1], [-1, 1, 1], [-1, -1, 1], [1, -1, 1]\n];\nvar Type011 = [\n    [1, 1, 0], [1, -1, 0], [1, 0, 1], [1, 0, -1], [0, 1, 1], [0, 1, -1]\n];\nvar Type012 = [\n    [0, 1, 2], [0, 2, 1], [1, 0, 2], [2, 0, 1], [1, 2, 0], [2, 1, 0],\n    [0, 1, -2], [0, 2, -1], [1, 0, -2], [2, 0, -1], [1, -2, 0], [2, -1, 0]\n];\nvar Type112 = [\n    [1, 1, 2], [2, 1, 1], [1, 2, 1], [1, -1, 2], [1, 1, -2], [1, -1, -2],\n    [2, -1, 1], [2, 1, -1], [2, -1, -1], [1, -2, 1], [1, 2, -1], [1, -2, -1]\n];\nvar Type122 = [\n    [2, 2, 1], [1, 2, 2], [2, 1, 2], [2, -2, 1], [2, 2, -1], [2, -2, -1],\n    [1, -2, 2], [1, 2, -2], [1, -2, -2], [2, -1, 2], [2, 1, -2], [2, -1, -2]\n];\n","/**\n * Copyright (c) 2018-2023 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\nimport { Vec3 } from '../linear-algebra';\nimport { OrderedSet } from '../../mol-data/int';\nimport { BoundaryHelper } from './boundary-helper';\nimport { Box3D, Sphere3D } from '../geometry';\n// avoiding namespace lookup improved performance in Chrome (Aug 2020)\nvar v3set = Vec3.set;\nvar boundaryHelperCoarse = new BoundaryHelper('14');\nvar boundaryHelperFine = new BoundaryHelper('98');\nfunction getBoundaryHelper(count) {\n    return count > 10000 ? boundaryHelperCoarse : boundaryHelperFine;\n}\nexport function getFastBoundary(data) {\n    var box = Box3D.computeBounding(data);\n    return { box: box, sphere: Sphere3D.fromBox3D(Sphere3D(), box) };\n}\nvar p = Vec3();\nexport function getBoundary(data) {\n    var x = data.x, y = data.y, z = data.z, radius = data.radius, indices = data.indices;\n    var n = OrderedSet.size(indices);\n    if (n > 250000) {\n        return getFastBoundary(data);\n    }\n    var boundaryHelper = getBoundaryHelper(n);\n    boundaryHelper.reset();\n    for (var t = 0; t < n; t++) {\n        var i = OrderedSet.getAt(indices, t);\n        v3set(p, x[i], y[i], z[i]);\n        boundaryHelper.includePositionRadius(p, (radius && radius[i]) || 0);\n    }\n    boundaryHelper.finishedIncludeStep();\n    for (var t = 0; t < n; t++) {\n        var i = OrderedSet.getAt(indices, t);\n        v3set(p, x[i], y[i], z[i]);\n        boundaryHelper.radiusPositionRadius(p, (radius && radius[i]) || 0);\n    }\n    var sphere = boundaryHelper.getSphere();\n    if (!radius && Sphere3D.hasExtrema(sphere) && n <= sphere.extrema.length) {\n        var extrema = [];\n        for (var t = 0; t < n; t++) {\n            var i = OrderedSet.getAt(indices, t);\n            extrema.push(Vec3.create(x[i], y[i], z[i]));\n        }\n        Sphere3D.setExtrema(sphere, extrema);\n    }\n    return { box: boundaryHelper.getBox(), sphere: sphere };\n}\n","/**\n * Copyright (c) 2020 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n */\nimport { SortedArray } from '../../../../../mol-data/int';\nvar ElementSetIntraBondCache = /** @class */ (function () {\n    function ElementSetIntraBondCache() {\n        this.data = new Map();\n    }\n    ElementSetIntraBondCache.prototype.get = function (xs) {\n        var hash = SortedArray.hashCode(xs);\n        if (!this.data.has(hash))\n            return void 0;\n        for (var _i = 0, _a = this.data.get(hash); _i < _a.length; _i++) {\n            var _b = _a[_i], s = _b[0], b = _b[1];\n            if (SortedArray.areEqual(xs, s))\n                return b;\n        }\n    };\n    ElementSetIntraBondCache.prototype.set = function (xs, bonds) {\n        var hash = SortedArray.hashCode(xs);\n        if (this.data.has(hash)) {\n            var es = this.data.get(hash);\n            for (var _i = 0, es_1 = es; _i < es_1.length; _i++) {\n                var e = es_1[_i];\n                if (SortedArray.areEqual(xs, e[0])) {\n                    e[1] = bonds;\n                    return;\n                }\n            }\n            es.push([xs, bonds]);\n        }\n        else {\n            this.data.set(hash, [[xs, bonds]]);\n        }\n    };\n    ElementSetIntraBondCache.get = function (model) {\n        if (!model._dynamicPropertyData.ElementSetIntraBondCache) {\n            model._dynamicPropertyData.ElementSetIntraBondCache = new ElementSetIntraBondCache();\n        }\n        return model._dynamicPropertyData.ElementSetIntraBondCache;\n    };\n    return ElementSetIntraBondCache;\n}());\nexport { ElementSetIntraBondCache };\n","/**\n * Copyright (c) 2017-2023 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n */\nimport { arrayFind } from '../../../../mol-data/util';\nimport { Spacegroup } from '../../../../mol-math/geometry';\nimport { ModelSymmetry } from '../../../../mol-model-formats/structure/property/symmetry';\nimport { radToDeg } from '../../../../mol-math/misc';\nvar Assembly = /** @class */ (function () {\n    function Assembly(id, details, operatorsProvider) {\n        this.operatorsProvider = operatorsProvider;\n        this.id = id;\n        this.details = details;\n    }\n    Object.defineProperty(Assembly.prototype, \"operatorGroups\", {\n        get: function () {\n            if (this._operators)\n                return this._operators;\n            this._operators = this.operatorsProvider();\n            return this._operators;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return Assembly;\n}());\nexport { Assembly };\n(function (Assembly) {\n    function create(id, details, operatorsProvider) {\n        return new Assembly(id, details, operatorsProvider);\n    }\n    Assembly.create = create;\n})(Assembly || (Assembly = {}));\nvar Symmetry;\n(function (Symmetry) {\n    Symmetry.Default = { assemblies: [], spacegroup: Spacegroup.ZeroP1, isNonStandardCrystalFrame: false };\n    function findAssembly(model, id) {\n        var _id = id.toLocaleLowerCase();\n        var symmetry = ModelSymmetry.Provider.get(model);\n        return symmetry ? arrayFind(symmetry.assemblies, function (a) { return a.id.toLowerCase() === _id; }) : undefined;\n    }\n    Symmetry.findAssembly = findAssembly;\n    function getUnitcellLabel(symmetry) {\n        var _a = symmetry.spacegroup, cell = _a.cell, name = _a.name, num = _a.num;\n        var size = cell.size, anglesInRadians = cell.anglesInRadians;\n        var a = size[0].toFixed(2);\n        var b = size[1].toFixed(2);\n        var c = size[2].toFixed(2);\n        var alpha = radToDeg(anglesInRadians[0]).toFixed(2);\n        var beta = radToDeg(anglesInRadians[1]).toFixed(2);\n        var gamma = radToDeg(anglesInRadians[2]).toFixed(2);\n        var label = [];\n        // name\n        label.push(\"Unit Cell <b>\".concat(name, \"</b> #\").concat(num));\n        // sizes\n        label.push(\"\".concat(a, \"\\u00D7\").concat(b, \"\\u00D7\").concat(c, \" \\u212B\"));\n        // angles\n        label.push(\"\\u03B1=\".concat(alpha, \"\\u00B0 \\u03B2=\").concat(beta, \"\\u00B0 \\u03B3=\").concat(gamma, \"\\u00B0\"));\n        return label.join(' | ');\n    }\n    Symmetry.getUnitcellLabel = getUnitcellLabel;\n})(Symmetry || (Symmetry = {}));\nexport { Symmetry };\n","/**\n * Copyright (c) 2017-2020 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\nimport { mmCIF_Schema } from '../../../mol-io/reader/cif/schema/mmcif';\nimport { Spacegroup, SpacegroupCell, SymmetryOperator } from '../../../mol-math/geometry';\nimport { Tensor, Vec3, Mat3 } from '../../../mol-math/linear-algebra';\nimport { createAssemblies } from './assembly';\nimport { FormatPropertyProvider } from '../common/property';\nexport { ModelSymmetry };\nvar ModelSymmetry;\n(function (ModelSymmetry) {\n    ModelSymmetry.Descriptor = {\n        name: 'model_symmetry',\n    };\n    ModelSymmetry.Provider = FormatPropertyProvider.create(ModelSymmetry.Descriptor);\n    function fromData(data) {\n        var assemblies = createAssemblies(data.pdbx_struct_assembly, data.pdbx_struct_assembly_gen, data.pdbx_struct_oper_list);\n        var spacegroup = getSpacegroup(data.symmetry, data.cell);\n        var isNonStandardCrystalFrame = checkNonStandardCrystalFrame(data.atom_sites, spacegroup);\n        return { assemblies: assemblies, spacegroup: spacegroup, isNonStandardCrystalFrame: isNonStandardCrystalFrame, ncsOperators: getNcsOperators(data.struct_ncs_oper) };\n    }\n    ModelSymmetry.fromData = fromData;\n    function fromCell(size, anglesInRadians) {\n        var spaceCell = SpacegroupCell.create('P 1', size, anglesInRadians);\n        var spacegroup = Spacegroup.create(spaceCell);\n        return { assemblies: [], spacegroup: spacegroup, isNonStandardCrystalFrame: false };\n    }\n    ModelSymmetry.fromCell = fromCell;\n})(ModelSymmetry || (ModelSymmetry = {}));\nfunction checkNonStandardCrystalFrame(atom_sites, spacegroup) {\n    if (atom_sites._rowCount === 0)\n        return false;\n    // TODO: parse atom_sites transform and check if it corresponds to the toFractional matrix\n    return false;\n}\nfunction getSpacegroupNameOrNumber(symmetry) {\n    var groupNumber = symmetry['Int_Tables_number'].value(0);\n    var groupName = symmetry['space_group_name_H-M'].value(0);\n    if (!symmetry['Int_Tables_number'].isDefined)\n        return groupName;\n    if (!symmetry['space_group_name_H-M'].isDefined)\n        return groupNumber;\n    return groupName;\n}\nfunction getSpacegroup(symmetry, cell) {\n    if (symmetry._rowCount === 0 || cell._rowCount === 0)\n        return Spacegroup.ZeroP1;\n    var a = cell.length_a.value(0);\n    var b = cell.length_b.value(0);\n    var c = cell.length_c.value(0);\n    if (a === 0 || b === 0 || c === 0)\n        return Spacegroup.ZeroP1;\n    var alpha = cell.angle_alpha.value(0);\n    var beta = cell.angle_beta.value(0);\n    var gamma = cell.angle_gamma.value(0);\n    if (alpha === 0 || beta === 0 || gamma === 0)\n        return Spacegroup.ZeroP1;\n    var nameOrNumber = getSpacegroupNameOrNumber(symmetry);\n    var spaceCell = SpacegroupCell.create(nameOrNumber, Vec3.create(a, b, c), Vec3.scale(Vec3(), Vec3.create(alpha, beta, gamma), Math.PI / 180));\n    return Spacegroup.create(spaceCell);\n}\nfunction getNcsOperators(struct_ncs_oper) {\n    if (struct_ncs_oper._rowCount === 0)\n        return void 0;\n    var id = struct_ncs_oper.id, matrix = struct_ncs_oper.matrix, vector = struct_ncs_oper.vector;\n    var matrixSpace = mmCIF_Schema.struct_ncs_oper.matrix.space, vectorSpace = mmCIF_Schema.struct_ncs_oper.vector.space;\n    var opers = [];\n    for (var i = 0; i < struct_ncs_oper._rowCount; i++) {\n        var m = Tensor.toMat3(Mat3(), matrixSpace, matrix.value(i));\n        var v = Tensor.toVec3(Vec3(), vectorSpace, vector.value(i));\n        if (!SymmetryOperator.checkIfRotationAndTranslation(m, v))\n            continue;\n        // ignore non-identity 'given' NCS operators\n        if (struct_ncs_oper.code.value(i) === 'given' && !Mat3.isIdentity(m) && !Vec3.isZero(v))\n            continue;\n        var ncsId = id.value(i);\n        opers[opers.length] = SymmetryOperator.ofRotationAndOffset(\"ncs_\".concat(ncsId), m, v, ncsId);\n    }\n    return opers;\n}\n","/**\n * Copyright (c) 2017-2023 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\nimport { __assign, __extends } from \"tslib\";\nimport { SymmetryOperator } from '../../../mol-math/geometry/symmetry-operator';\nimport { Model } from '../model';\nimport { GridLookup3D, Spacegroup } from '../../../mol-math/geometry';\nimport { computeIntraUnitBonds } from './unit/bonds';\nimport { BitFlags } from '../../../mol-util';\nimport { UnitRings } from './unit/rings';\nimport { IntMap, SortedArray, Segmentation } from '../../../mol-data/int';\nimport { hash2, hashFnv32a } from '../../../mol-data/util';\nimport { getAtomicPolymerElements, getCoarsePolymerElements, getAtomicGapElements, getCoarseGapElements, getNucleotideElements, getProteinElements } from './util/polymer';\nimport { getPrincipalAxes } from './util/principal-axes';\nimport { getBoundary, getFastBoundary } from '../../../mol-math/geometry/boundary';\nimport { Mat4, Vec3 } from '../../../mol-math/linear-algebra';\nimport { IndexPairBonds } from '../../../mol-model-formats/structure/property/bonds/index-pair';\nimport { ElementSetIntraBondCache } from './unit/bonds/element-set-intra-bond-cache';\nimport { ModelSymmetry } from '../../../mol-model-formats/structure/property/symmetry';\nimport { getResonance } from './unit/resonance';\nvar Unit;\n(function (Unit) {\n    // To use with isolatedModules\n    var Kinds;\n    (function (Kinds) {\n        Kinds[Kinds[\"Atomic\"] = 0] = \"Atomic\";\n        Kinds[Kinds[\"Spheres\"] = 1] = \"Spheres\";\n        Kinds[Kinds[\"Gaussians\"] = 2] = \"Gaussians\";\n    })(Kinds = Unit.Kinds || (Unit.Kinds = {}));\n    function isAtomic(u) { return u.kind === 0 /* Kind.Atomic */; }\n    Unit.isAtomic = isAtomic;\n    function isCoarse(u) { return u.kind === 1 /* Kind.Spheres */ || u.kind === 2 /* Kind.Gaussians */; }\n    Unit.isCoarse = isCoarse;\n    function isSpheres(u) { return u.kind === 1 /* Kind.Spheres */; }\n    Unit.isSpheres = isSpheres;\n    function isGaussians(u) { return u.kind === 2 /* Kind.Gaussians */; }\n    Unit.isGaussians = isGaussians;\n    function create(id, invariantId, chainGroupId, traits, kind, model, operator, elements, props) {\n        switch (kind) {\n            case 0 /* Kind.Atomic */: return new Atomic(id, invariantId, chainGroupId, traits, model, elements, SymmetryOperator.createMapping(operator, model.atomicConformation), props !== null && props !== void 0 ? props : AtomicProperties());\n            case 1 /* Kind.Spheres */: return createCoarse(id, invariantId, chainGroupId, traits, model, 1 /* Kind.Spheres */, elements, SymmetryOperator.createMapping(operator, model.coarseConformation.spheres, getSphereRadiusFunc(model)), props !== null && props !== void 0 ? props : CoarseProperties());\n            case 2 /* Kind.Gaussians */: return createCoarse(id, invariantId, chainGroupId, traits, model, 2 /* Kind.Gaussians */, elements, SymmetryOperator.createMapping(operator, model.coarseConformation.gaussians, getGaussianRadiusFunc(model)), props !== null && props !== void 0 ? props : CoarseProperties());\n        }\n    }\n    Unit.create = create;\n    function getUnitIndexMap(units) {\n        var unitIndexMap = IntMap.Mutable();\n        for (var i = 0, _i = units.length; i < _i; i++) {\n            unitIndexMap.set(units[i].id, i);\n        }\n        return unitIndexMap;\n    }\n    function getTransformHash(units) {\n        var ids = [];\n        for (var i = 0, _i = units.length; i < _i; i++) {\n            ids.push(units[i].id);\n        }\n        return hashFnv32a(ids);\n    }\n    function SymmetryGroup(units) {\n        var props = {};\n        return {\n            elements: units[0].elements,\n            units: units,\n            get unitIndexMap() {\n                if (props.unitIndexMap)\n                    return props.unitIndexMap;\n                props.unitIndexMap = getUnitIndexMap(units);\n                return props.unitIndexMap;\n            },\n            hashCode: hashUnit(units[0]),\n            transformHash: getTransformHash(units)\n        };\n    }\n    Unit.SymmetryGroup = SymmetryGroup;\n    (function (SymmetryGroup) {\n        function areInvariantElementsEqual(a, b) {\n            if (a.hashCode !== b.hashCode)\n                return false;\n            return SortedArray.areEqual(a.elements, b.elements);\n        }\n        SymmetryGroup.areInvariantElementsEqual = areInvariantElementsEqual;\n        function getUnitSymmetryGroupsIndexMap(symmetryGroups) {\n            var unitSymmetryGroupsIndexMap = IntMap.Mutable();\n            for (var i = 0, il = symmetryGroups.length; i < il; ++i) {\n                var sg = symmetryGroups[i];\n                for (var j = 0, jl = sg.units.length; j < jl; ++j) {\n                    unitSymmetryGroupsIndexMap.set(sg.units[j].id, i);\n                }\n            }\n            return unitSymmetryGroupsIndexMap;\n        }\n        SymmetryGroup.getUnitSymmetryGroupsIndexMap = getUnitSymmetryGroupsIndexMap;\n    })(SymmetryGroup = Unit.SymmetryGroup || (Unit.SymmetryGroup = {}));\n    function conformationId(unit) {\n        return Unit.isAtomic(unit) ? unit.model.atomicConformation.id : unit.model.coarseConformation.id;\n    }\n    Unit.conformationId = conformationId;\n    function hashUnit(u) {\n        return hash2(u.invariantId, SortedArray.hashCode(u.elements));\n    }\n    Unit.hashUnit = hashUnit;\n    var Trait;\n    (function (Trait) {\n        Trait[Trait[\"None\"] = 0] = \"None\";\n        Trait[Trait[\"MultiChain\"] = 1] = \"MultiChain\";\n        Trait[Trait[\"Partitioned\"] = 2] = \"Partitioned\";\n        Trait[Trait[\"FastBoundary\"] = 4] = \"FastBoundary\";\n    })(Trait = Unit.Trait || (Unit.Trait = {}));\n    var Traits;\n    (function (Traits) {\n        Traits.is = BitFlags.has;\n        Traits.create = BitFlags.create;\n    })(Traits = Unit.Traits || (Unit.Traits = {}));\n    function BaseProperties() {\n        return {};\n    }\n    function getSphereRadiusFunc(model) {\n        var r = model.coarseConformation.spheres.radius;\n        return function (i) { return r[i]; };\n    }\n    function getGaussianRadiusFunc(model) {\n        // TODO: compute radius for gaussians\n        return function (i) { return 0; };\n    }\n    /**\n     * A bulding block of a structure that corresponds\n     * to a \"natural group of atoms\" (most often a \"chain\")\n     * together with a transformation (rotation and translation)\n     * that is dynamically applied to the underlying atom set.\n     *\n     * An atom set can be referenced by multiple different units which\n     * makes construction of assemblies and spacegroups very efficient.\n     */\n    var Atomic = /** @class */ (function () {\n        function Atomic(id, invariantId, chainGroupId, traits, model, elements, conformation, props) {\n            this.kind = 0 /* Kind.Atomic */;\n            this.objectPrimitive = 'atomistic';\n            this.id = id;\n            this.invariantId = invariantId;\n            this.chainGroupId = chainGroupId;\n            this.traits = traits;\n            this.model = model;\n            this.elements = elements;\n            this.conformation = conformation;\n            this.residueIndex = model.atomicHierarchy.residueAtomSegments.index;\n            this.chainIndex = model.atomicHierarchy.chainAtomSegments.index;\n            this.props = props;\n        }\n        Atomic.prototype.getChild = function (elements) {\n            if (elements.length === this.elements.length)\n                return this;\n            return new Atomic(this.id, this.invariantId, this.chainGroupId, this.traits, this.model, elements, this.conformation, AtomicProperties());\n        };\n        Atomic.prototype.applyOperator = function (id, operator, dontCompose) {\n            if (dontCompose === void 0) { dontCompose = false; }\n            var op = dontCompose ? operator : SymmetryOperator.compose(this.conformation.operator, operator);\n            return new Atomic(id, this.invariantId, this.chainGroupId, this.traits, this.model, this.elements, SymmetryOperator.createMapping(op, this.model.atomicConformation, this.conformation.r), this.props);\n        };\n        Atomic.prototype.remapModel = function (model, dynamicBonds, props) {\n            var _a, _b;\n            if (!props) {\n                props = __assign(__assign({}, this.props), { bonds: dynamicBonds && !((_b = (_a = this.props.bonds) === null || _a === void 0 ? void 0 : _a.props) === null || _b === void 0 ? void 0 : _b.canRemap)\n                        ? undefined\n                        : tryRemapBonds(this, this.props.bonds, model, dynamicBonds) });\n                if (!Unit.isSameConformation(this, model)) {\n                    props.boundary = undefined;\n                    props.lookup3d = undefined;\n                    props.principalAxes = undefined;\n                }\n            }\n            var operator = this.conformation.operator;\n            var symmetry = ModelSymmetry.Provider.get(model);\n            if (operator.spgrOp !== -1 && symmetry && symmetry !== ModelSymmetry.Provider.get(this.model)) {\n                var _c = operator.hkl, i = _c[0], j = _c[1], k = _c[2];\n                var toFractional = symmetry.spacegroup.cell.toFractional;\n                var ref = Vec3.transformMat4(Vec3(), Model.getCenter(model), toFractional);\n                operator = Spacegroup.getSymmetryOperatorRef(symmetry.spacegroup, operator.spgrOp, i, j, k, ref);\n            }\n            var conformation = (this.model.atomicConformation !== model.atomicConformation || operator !== this.conformation.operator)\n                ? SymmetryOperator.createMapping(operator, model.atomicConformation)\n                : this.conformation;\n            return new Atomic(this.id, this.invariantId, this.chainGroupId, this.traits, model, this.elements, conformation, props);\n        };\n        Object.defineProperty(Atomic.prototype, \"boundary\", {\n            get: function () {\n                if (this.props.boundary)\n                    return this.props.boundary;\n                var _a = this.model.atomicConformation, x = _a.x, y = _a.y, z = _a.z;\n                this.props.boundary = Traits.is(this.traits, Trait.FastBoundary)\n                    ? getFastBoundary({ x: x, y: y, z: z, indices: this.elements })\n                    : getBoundary({ x: x, y: y, z: z, indices: this.elements });\n                return this.props.boundary;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(Atomic.prototype, \"lookup3d\", {\n            get: function () {\n                if (this.props.lookup3d)\n                    return this.props.lookup3d;\n                var _a = this.model.atomicConformation, x = _a.x, y = _a.y, z = _a.z;\n                this.props.lookup3d = GridLookup3D({ x: x, y: y, z: z, indices: this.elements }, this.boundary);\n                return this.props.lookup3d;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(Atomic.prototype, \"principalAxes\", {\n            get: function () {\n                if (this.props.principalAxes)\n                    return this.props.principalAxes;\n                this.props.principalAxes = getPrincipalAxes(this);\n                return this.props.principalAxes;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(Atomic.prototype, \"bonds\", {\n            get: function () {\n                if (this.props.bonds)\n                    return this.props.bonds;\n                var cache = ElementSetIntraBondCache.get(this.model);\n                var bonds = cache.get(this.elements);\n                if (!bonds) {\n                    bonds = computeIntraUnitBonds(this);\n                    cache.set(this.elements, bonds);\n                }\n                this.props.bonds = bonds;\n                return this.props.bonds;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(Atomic.prototype, \"rings\", {\n            get: function () {\n                if (this.props.rings)\n                    return this.props.rings;\n                this.props.rings = UnitRings.create(this);\n                return this.props.rings;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(Atomic.prototype, \"resonance\", {\n            get: function () {\n                if (this.props.resonance)\n                    return this.props.resonance;\n                this.props.resonance = getResonance(this);\n                return this.props.resonance;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(Atomic.prototype, \"polymerElements\", {\n            get: function () {\n                if (this.props.polymerElements)\n                    return this.props.polymerElements;\n                this.props.polymerElements = getAtomicPolymerElements(this);\n                return this.props.polymerElements;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(Atomic.prototype, \"gapElements\", {\n            get: function () {\n                if (this.props.gapElements)\n                    return this.props.gapElements;\n                this.props.gapElements = getAtomicGapElements(this);\n                return this.props.gapElements;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(Atomic.prototype, \"nucleotideElements\", {\n            get: function () {\n                if (this.props.nucleotideElements)\n                    return this.props.nucleotideElements;\n                this.props.nucleotideElements = getNucleotideElements(this);\n                return this.props.nucleotideElements;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(Atomic.prototype, \"proteinElements\", {\n            get: function () {\n                if (this.props.proteinElements)\n                    return this.props.proteinElements;\n                this.props.proteinElements = getProteinElements(this);\n                return this.props.proteinElements;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(Atomic.prototype, \"residueCount\", {\n            get: function () {\n                if (this.props.residueCount !== undefined)\n                    return this.props.residueCount;\n                var residueCount = 0;\n                var residueIt = Segmentation.transientSegments(this.model.atomicHierarchy.residueAtomSegments, this.elements);\n                while (residueIt.hasNext) {\n                    residueIt.move();\n                    residueCount += 1;\n                }\n                this.props.residueCount = residueCount;\n                return this.props.residueCount;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Atomic.prototype.getResidueIndex = function (elementIndex) {\n            return this.residueIndex[this.elements[elementIndex]];\n        };\n        return Atomic;\n    }());\n    Unit.Atomic = Atomic;\n    function AtomicProperties() {\n        return BaseProperties();\n    }\n    var Coarse = /** @class */ (function () {\n        function Coarse(id, invariantId, chainGroupId, traits, model, kind, elements, conformation, props) {\n            this.kind = kind;\n            this.objectPrimitive = kind === 1 /* Kind.Spheres */ ? 'sphere' : 'gaussian';\n            this.id = id;\n            this.invariantId = invariantId;\n            this.chainGroupId = chainGroupId;\n            this.traits = traits;\n            this.model = model;\n            this.elements = elements;\n            this.conformation = conformation;\n            this.coarseElements = kind === 1 /* Kind.Spheres */ ? model.coarseHierarchy.spheres : model.coarseHierarchy.gaussians;\n            this.coarseConformation = (kind === 1 /* Kind.Spheres */ ? model.coarseConformation.spheres : model.coarseConformation.gaussians);\n            this.props = props;\n        }\n        Coarse.prototype.getChild = function (elements) {\n            if (elements.length === this.elements.length)\n                return this; // lets call this an ugly temporary hack\n            return createCoarse(this.id, this.invariantId, this.chainGroupId, this.traits, this.model, this.kind, elements, this.conformation, CoarseProperties());\n        };\n        Coarse.prototype.applyOperator = function (id, operator, dontCompose) {\n            if (dontCompose === void 0) { dontCompose = false; }\n            var op = dontCompose ? operator : SymmetryOperator.compose(this.conformation.operator, operator);\n            return createCoarse(id, this.invariantId, this.chainGroupId, this.traits, this.model, this.kind, this.elements, SymmetryOperator.createMapping(op, this.getCoarseConformation(), this.conformation.r), this.props);\n        };\n        Coarse.prototype.remapModel = function (model, dynamicBonds, props) {\n            var coarseConformation = this.getCoarseConformation();\n            var modelCoarseConformation = getCoarseConformation(this.kind, model);\n            if (!props) {\n                props = __assign({}, this.props);\n                if (!Unit.isSameConformation(this, model)) { // TODO get rid of casting\n                    props.boundary = undefined;\n                    props.lookup3d = undefined;\n                    props.principalAxes = undefined;\n                }\n            }\n            var conformation = coarseConformation !== modelCoarseConformation\n                ? SymmetryOperator.createMapping(this.conformation.operator, modelCoarseConformation)\n                : this.conformation;\n            return new Coarse(this.id, this.invariantId, this.chainGroupId, this.traits, model, this.kind, this.elements, conformation, props); // TODO get rid of casting\n        };\n        Object.defineProperty(Coarse.prototype, \"boundary\", {\n            get: function () {\n                if (this.props.boundary)\n                    return this.props.boundary;\n                // TODO: support sphere radius?\n                var _a = this.getCoarseConformation(), x = _a.x, y = _a.y, z = _a.z;\n                this.props.boundary = Traits.is(this.traits, Trait.FastBoundary)\n                    ? getFastBoundary({ x: x, y: y, z: z, indices: this.elements })\n                    : getBoundary({ x: x, y: y, z: z, indices: this.elements });\n                return this.props.boundary;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(Coarse.prototype, \"lookup3d\", {\n            get: function () {\n                if (this.props.lookup3d)\n                    return this.props.lookup3d;\n                // TODO: support sphere radius?\n                var _a = this.getCoarseConformation(), x = _a.x, y = _a.y, z = _a.z;\n                this.props.lookup3d = GridLookup3D({ x: x, y: y, z: z, indices: this.elements }, this.boundary);\n                return this.props.lookup3d;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(Coarse.prototype, \"principalAxes\", {\n            get: function () {\n                if (this.props.principalAxes)\n                    return this.props.principalAxes;\n                this.props.principalAxes = getPrincipalAxes(this); // TODO get rid of casting\n                return this.props.principalAxes;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(Coarse.prototype, \"polymerElements\", {\n            get: function () {\n                if (this.props.polymerElements)\n                    return this.props.polymerElements;\n                this.props.polymerElements = getCoarsePolymerElements(this); // TODO get rid of casting\n                return this.props.polymerElements;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(Coarse.prototype, \"gapElements\", {\n            get: function () {\n                if (this.props.gapElements)\n                    return this.props.gapElements;\n                this.props.gapElements = getCoarseGapElements(this); // TODO get rid of casting\n                return this.props.gapElements;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Coarse.prototype.getCoarseConformation = function () {\n            return getCoarseConformation(this.kind, this.model);\n        };\n        return Coarse;\n    }());\n    function getCoarseConformation(kind, model) {\n        return kind === 1 /* Kind.Spheres */ ? model.coarseConformation.spheres : model.coarseConformation.gaussians;\n    }\n    function CoarseProperties() {\n        return BaseProperties();\n    }\n    var Spheres = /** @class */ (function (_super) {\n        __extends(Spheres, _super);\n        function Spheres() {\n            return _super !== null && _super.apply(this, arguments) || this;\n        }\n        return Spheres;\n    }(Coarse));\n    Unit.Spheres = Spheres;\n    var Gaussians = /** @class */ (function (_super) {\n        __extends(Gaussians, _super);\n        function Gaussians() {\n            return _super !== null && _super.apply(this, arguments) || this;\n        }\n        return Gaussians;\n    }(Coarse));\n    Unit.Gaussians = Gaussians;\n    function createCoarse(id, invariantId, chainGroupId, traits, model, kind, elements, conformation, props) {\n        return new Coarse(id, invariantId, chainGroupId, traits, model, kind, elements, conformation, props); // lets call this an ugly temporary hack\n    }\n    function areSameChainOperatorGroup(a, b) {\n        return a.chainGroupId === b.chainGroupId && a.conformation.operator.name === b.conformation.operator.name;\n    }\n    Unit.areSameChainOperatorGroup = areSameChainOperatorGroup;\n    function areOperatorsEqual(a, b) {\n        return Mat4.areEqual(a.conformation.operator.matrix, b.conformation.operator.matrix, 1e-6);\n    }\n    Unit.areOperatorsEqual = areOperatorsEqual;\n    function areConformationsEqual(a, b) {\n        if (a === b)\n            return true;\n        if (!SortedArray.areEqual(a.elements, b.elements))\n            return false;\n        return isSameConformation(a, b.model);\n    }\n    Unit.areConformationsEqual = areConformationsEqual;\n    function tryRemapBonds(a, old, model, dynamicBonds) {\n        // TODO: should include additional checks?\n        var _a;\n        if (!old)\n            return void 0;\n        if (a.model.atomicConformation.id === model.atomicConformation.id)\n            return old;\n        var oldIndex = IndexPairBonds.Provider.get(a.model);\n        if (oldIndex) {\n            var newIndex = IndexPairBonds.Provider.get(model);\n            // TODO: check the actual indices instead of just reference equality?\n            if (!newIndex || oldIndex === newIndex)\n                return old;\n            return void 0;\n        }\n        if (((_a = old.props) === null || _a === void 0 ? void 0 : _a.canRemap) || !dynamicBonds) {\n            return old;\n        }\n        return isSameConformation(a, model) ? old : void 0;\n    }\n    function isSameConformation(u, model) {\n        var coordsHistory = Model.CoordinatesHistory.get(Model.getRoot(model));\n        if (coordsHistory)\n            return coordsHistory.areEqual(u.elements, u.kind, model);\n        var xs = u.elements;\n        var _a = u.conformation.coordinates, xa = _a.x, ya = _a.y, za = _a.z;\n        var _b = getModelConformationOfKind(u.kind, model), xb = _b.x, yb = _b.y, zb = _b.z;\n        for (var i = 0, _i = xs.length; i < _i; i++) {\n            var u_1 = xs[i];\n            if (xa[u_1] !== xb[u_1] || ya[u_1] !== yb[u_1] || za[u_1] !== zb[u_1])\n                return false;\n        }\n        return true;\n    }\n    Unit.isSameConformation = isSameConformation;\n    function getModelConformationOfKind(kind, model) {\n        return kind === 0 /* Kind.Atomic */ ? model.atomicConformation :\n            kind === 1 /* Kind.Spheres */ ? model.coarseConformation.spheres :\n                model.coarseConformation.gaussians;\n    }\n    Unit.getModelConformationOfKind = getModelConformationOfKind;\n    function getConformation(u) {\n        return getModelConformationOfKind(u.kind, u.model);\n    }\n    Unit.getConformation = getConformation;\n    function getModelHierarchyOfKind(kind, model) {\n        return kind === 0 /* Kind.Atomic */ ? model.atomicHierarchy :\n            kind === 1 /* Kind.Spheres */ ? model.coarseHierarchy.spheres :\n                model.coarseHierarchy.gaussians;\n    }\n    Unit.getModelHierarchyOfKind = getModelHierarchyOfKind;\n    function getHierarchy(u) {\n        return getModelHierarchyOfKind(u.kind, u.model);\n    }\n    Unit.getHierarchy = getHierarchy;\n})(Unit || (Unit = {}));\nexport { Unit };\n","/**\n * Copyright (c) 2018-2020 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @author Gianluca Tomasello <giagitom@gmail.com>\n */\nimport { GridLookup3D, Result } from '../../../../mol-math/geometry';\nimport { Vec3 } from '../../../../mol-math/linear-algebra';\nimport { OrderedSet } from '../../../../mol-data/int';\nimport { StructureElement } from '../element';\nimport { FibonacciHeap } from '../../../../mol-util/fibonacci-heap';\nexport var StructureResult;\n(function (StructureResult) {\n    function add(result, unit, index, distSq) {\n        result.indices[result.count] = index;\n        result.units[result.count] = unit;\n        result.squaredDistances[result.count] = distSq;\n        result.count++;\n    }\n    StructureResult.add = add;\n    function create() {\n        return { count: 0, indices: [], units: [], squaredDistances: [] };\n    }\n    StructureResult.create = create;\n    function copy(out, result) {\n        for (var i = 0; i < result.count; ++i) {\n            out.indices[i] = result.indices[i];\n            out.units[i] = result.units[i];\n            out.squaredDistances[i] = result.squaredDistances[i];\n        }\n        out.count = result.count;\n        return out;\n    }\n    StructureResult.copy = copy;\n})(StructureResult || (StructureResult = {}));\nexport function StructureLookup3DResultContext() {\n    return { result: StructureResult.create(), closeUnitsResult: Result.create(), unitGroupResult: Result.create() };\n}\nvar StructureLookup3D = /** @class */ (function () {\n    function StructureLookup3D(structure) {\n        this.structure = structure;\n        this.pivot = Vec3();\n        this.heap = new FibonacciHeap();\n        this.findContext = StructureLookup3DResultContext();\n        var units = structure.units, boundary = structure.boundary;\n        var unitCount = units.length;\n        var xs = new Float32Array(unitCount);\n        var ys = new Float32Array(unitCount);\n        var zs = new Float32Array(unitCount);\n        var radius = new Float32Array(unitCount);\n        var center = Vec3();\n        for (var i = 0; i < unitCount; i++) {\n            var unit = units[i];\n            var s = unit.boundary.sphere;\n            Vec3.transformMat4(center, s.center, unit.conformation.operator.matrix);\n            xs[i] = center[0];\n            ys[i] = center[1];\n            zs[i] = center[2];\n            radius[i] = s.radius;\n        }\n        var position = { x: xs, y: ys, z: zs, radius: radius, indices: OrderedSet.ofBounds(0, unitCount) };\n        this.unitLookup = GridLookup3D(position, boundary);\n    }\n    StructureLookup3D.prototype.findUnitIndices = function (x, y, z, radius) {\n        return this.unitLookup.find(x, y, z, radius);\n    };\n    StructureLookup3D.prototype.find = function (x, y, z, radius, ctx) {\n        return this._find(x, y, z, radius, ctx !== null && ctx !== void 0 ? ctx : this.findContext);\n    };\n    StructureLookup3D.prototype._find = function (x, y, z, radius, ctx) {\n        Result.reset(ctx.result);\n        var units = this.structure.units;\n        var closeUnits = this.unitLookup.find(x, y, z, radius, ctx.closeUnitsResult);\n        if (closeUnits.count === 0)\n            return ctx.result;\n        for (var t = 0, _t = closeUnits.count; t < _t; t++) {\n            var unit = units[closeUnits.indices[t]];\n            Vec3.set(this.pivot, x, y, z);\n            if (!unit.conformation.operator.isIdentity) {\n                Vec3.transformMat4(this.pivot, this.pivot, unit.conformation.operator.inverse);\n            }\n            var unitLookup = unit.lookup3d;\n            var groupResult = unitLookup.find(this.pivot[0], this.pivot[1], this.pivot[2], radius, ctx.unitGroupResult);\n            for (var j = 0, _j = groupResult.count; j < _j; j++) {\n                StructureResult.add(ctx.result, unit, groupResult.indices[j], groupResult.squaredDistances[j]);\n            }\n        }\n        return ctx.result;\n    };\n    StructureLookup3D.prototype.nearest = function (x, y, z, k, ctx) {\n        if (k === void 0) { k = 1; }\n        return this._nearest(x, y, z, k, ctx !== null && ctx !== void 0 ? ctx : this.findContext);\n    };\n    StructureLookup3D.prototype._nearest = function (x, y, z, k, ctx) {\n        var result = ctx.result, heap = this.heap;\n        Result.reset(result);\n        heap.clear();\n        var units = this.structure.units;\n        var elementsCount = 0;\n        var closeUnits = this.unitLookup.nearest(x, y, z, units.length, function (uid) { return (elementsCount += units[uid].elements.length) >= k; }, ctx.closeUnitsResult); // sort units based on distance to the point\n        if (closeUnits.count === 0)\n            return result;\n        var totalCount = 0, maxDistResult = -Number.MAX_VALUE;\n        for (var t = 0, _t = closeUnits.count; t < _t; t++) {\n            var unitSqDist = closeUnits.squaredDistances[t];\n            if (totalCount >= k && maxDistResult < unitSqDist)\n                break;\n            Vec3.set(this.pivot, x, y, z);\n            var unit = units[closeUnits.indices[t]];\n            if (!unit.conformation.operator.isIdentity) {\n                Vec3.transformMat4(this.pivot, this.pivot, unit.conformation.operator.inverse);\n            }\n            var unitLookup = unit.lookup3d;\n            var groupResult = unitLookup.nearest(this.pivot[0], this.pivot[1], this.pivot[2], k, void 0, ctx.unitGroupResult);\n            if (groupResult.count === 0)\n                continue;\n            totalCount += groupResult.count;\n            maxDistResult = Math.max(maxDistResult, groupResult.squaredDistances[groupResult.count - 1]);\n            for (var j = 0, _j = groupResult.count; j < _j; j++) {\n                heap.insert(groupResult.squaredDistances[j], { index: groupResult.indices[j], unit: unit });\n            }\n        }\n        if (k === 1) {\n            var node = heap.findMinimum();\n            if (node) {\n                var squaredDistance = node.key;\n                var _a = node.value, unit = _a.unit, index = _a.index;\n                StructureResult.add(result, unit, index, squaredDistance);\n            }\n        }\n        else {\n            while (!heap.isEmpty() && result.count < k) {\n                var node = heap.extractMinimum();\n                var squaredDistance = node.key;\n                var _b = node.value, unit = _b.unit, index = _b.index;\n                StructureResult.add(result, unit, index, squaredDistance);\n            }\n        }\n        return result;\n    };\n    StructureLookup3D.prototype.findIntoBuilder = function (x, y, z, radius, builder) {\n        var units = this.structure.units;\n        var closeUnits = this.unitLookup.find(x, y, z, radius);\n        if (closeUnits.count === 0)\n            return;\n        for (var t = 0, _t = closeUnits.count; t < _t; t++) {\n            var unit = units[closeUnits.indices[t]];\n            Vec3.set(this.pivot, x, y, z);\n            if (!unit.conformation.operator.isIdentity) {\n                Vec3.transformMat4(this.pivot, this.pivot, unit.conformation.operator.inverse);\n            }\n            var unitLookup = unit.lookup3d;\n            var groupResult = unitLookup.find(this.pivot[0], this.pivot[1], this.pivot[2], radius);\n            if (groupResult.count === 0)\n                continue;\n            var elements = unit.elements;\n            builder.beginUnit(unit.id);\n            for (var j = 0, _j = groupResult.count; j < _j; j++) {\n                builder.addElement(elements[groupResult.indices[j]]);\n            }\n            builder.commitUnit();\n        }\n    };\n    StructureLookup3D.prototype.findIntoBuilderIf = function (x, y, z, radius, builder, test) {\n        var units = this.structure.units;\n        var closeUnits = this.unitLookup.find(x, y, z, radius);\n        if (closeUnits.count === 0)\n            return;\n        var loc = StructureElement.Location.create(this.structure);\n        for (var t = 0, _t = closeUnits.count; t < _t; t++) {\n            var unit = units[closeUnits.indices[t]];\n            Vec3.set(this.pivot, x, y, z);\n            if (!unit.conformation.operator.isIdentity) {\n                Vec3.transformMat4(this.pivot, this.pivot, unit.conformation.operator.inverse);\n            }\n            var unitLookup = unit.lookup3d;\n            var groupResult = unitLookup.find(this.pivot[0], this.pivot[1], this.pivot[2], radius);\n            if (groupResult.count === 0)\n                continue;\n            var elements = unit.elements;\n            loc.unit = unit;\n            builder.beginUnit(unit.id);\n            for (var j = 0, _j = groupResult.count; j < _j; j++) {\n                loc.element = elements[groupResult.indices[j]];\n                if (test(loc)) {\n                    builder.addElement(loc.element);\n                }\n            }\n            builder.commitUnit();\n        }\n    };\n    StructureLookup3D.prototype.findIntoBuilderWithRadius = function (x, y, z, pivotR, maxRadius, radius, eRadius, builder) {\n        var units = this.structure.units;\n        var closeUnits = this.unitLookup.find(x, y, z, radius);\n        if (closeUnits.count === 0)\n            return;\n        var se = StructureElement.Location.create(this.structure);\n        var queryRadius = pivotR + maxRadius + radius;\n        for (var t = 0, _t = closeUnits.count; t < _t; t++) {\n            var unit = units[closeUnits.indices[t]];\n            Vec3.set(this.pivot, x, y, z);\n            if (!unit.conformation.operator.isIdentity) {\n                Vec3.transformMat4(this.pivot, this.pivot, unit.conformation.operator.inverse);\n            }\n            var unitLookup = unit.lookup3d;\n            var groupResult = unitLookup.find(this.pivot[0], this.pivot[1], this.pivot[2], queryRadius);\n            if (groupResult.count === 0)\n                continue;\n            var elements = unit.elements;\n            se.unit = unit;\n            builder.beginUnit(unit.id);\n            for (var j = 0, _j = groupResult.count; j < _j; j++) {\n                se.element = elements[groupResult.indices[j]];\n                var rr = eRadius(se);\n                if (Math.sqrt(groupResult.squaredDistances[j]) - pivotR - rr > radius)\n                    continue;\n                builder.addElement(elements[groupResult.indices[j]]);\n            }\n            builder.commitUnit();\n        }\n    };\n    StructureLookup3D.prototype.check = function (x, y, z, radius) {\n        var units = this.structure.units;\n        var closeUnits = this.unitLookup.find(x, y, z, radius);\n        if (closeUnits.count === 0)\n            return false;\n        for (var t = 0, _t = closeUnits.count; t < _t; t++) {\n            var unit = units[closeUnits.indices[t]];\n            Vec3.set(this.pivot, x, y, z);\n            if (!unit.conformation.operator.isIdentity) {\n                Vec3.transformMat4(this.pivot, this.pivot, unit.conformation.operator.inverse);\n            }\n            var groupLookup = unit.lookup3d;\n            if (groupLookup.check(this.pivot[0], this.pivot[1], this.pivot[2], radius))\n                return true;\n        }\n        return false;\n    };\n    Object.defineProperty(StructureLookup3D.prototype, \"boundary\", {\n        get: function () {\n            return this.structure.boundary;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return StructureLookup3D;\n}());\nexport { StructureLookup3D };\n","/**\n * Copyright (c) 2017-2023 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n */\nimport { Mat4, Tensor, Vec3 } from '../../../mol-math/linear-algebra';\nimport { SymmetryOperator } from '../../../mol-math/geometry/symmetry-operator';\nimport { Assembly } from '../../../mol-model/structure/model/properties/symmetry';\nimport { Queries as Q } from '../../../mol-model/structure';\nimport { StructureProperties } from '../../../mol-model/structure';\nexport function createAssemblies(pdbx_struct_assembly, pdbx_struct_assembly_gen, pdbx_struct_oper_list) {\n    if (!pdbx_struct_assembly._rowCount)\n        return [];\n    var matrices = getMatrices(pdbx_struct_oper_list);\n    var assemblies = [];\n    for (var i = 0; i < pdbx_struct_assembly._rowCount; i++) {\n        assemblies[assemblies.length] = createAssembly(pdbx_struct_assembly, pdbx_struct_assembly_gen, i, matrices);\n    }\n    return assemblies;\n}\nfunction createAssembly(pdbx_struct_assembly, pdbx_struct_assembly_gen, index, matrices) {\n    var id = pdbx_struct_assembly.id.value(index);\n    var details = pdbx_struct_assembly.details.value(index);\n    var generators = [];\n    var assembly_id = pdbx_struct_assembly_gen.assembly_id, oper_expression = pdbx_struct_assembly_gen.oper_expression, asym_id_list = pdbx_struct_assembly_gen.asym_id_list;\n    for (var i = 0, _i = pdbx_struct_assembly_gen._rowCount; i < _i; i++) {\n        if (assembly_id.value(i) !== id)\n            continue;\n        generators[generators.length] = {\n            assemblyId: id,\n            expression: oper_expression.value(i),\n            asymIds: asym_id_list.value(i)\n        };\n    }\n    return Assembly.create(id, details, operatorGroupsProvider(generators, matrices));\n}\nexport function operatorGroupsProvider(generators, matrices) {\n    return function () {\n        var groups = [];\n        var operatorOffset = 0;\n        for (var i = 0; i < generators.length; i++) {\n            var gen = generators[i];\n            var operatorList = parseOperatorList(gen.expression);\n            var operatorNames = expandOperators(operatorList);\n            var operators = getAssemblyOperators(matrices, operatorNames, operatorOffset, gen.assemblyId);\n            var selector = Q.generators.atoms({ chainTest: Q.pred.and(Q.pred.eq(function (ctx) { return StructureProperties.unit.operator_name(ctx.element); }, SymmetryOperator.DefaultName), Q.pred.inSet(function (ctx) { return StructureProperties.chain.label_asym_id(ctx.element); }, gen.asymIds)) });\n            groups[groups.length] = { selector: selector, operators: operators, asymIds: gen.asymIds };\n            operatorOffset += operators.length;\n        }\n        return groups;\n    };\n}\nexport function getMatrices(pdbx_struct_oper_list) {\n    var id = pdbx_struct_oper_list.id, matrix = pdbx_struct_oper_list.matrix, vector = pdbx_struct_oper_list.vector, _schema = pdbx_struct_oper_list._schema;\n    var matrices = new Map();\n    var t = Vec3();\n    for (var i = 0, _i = pdbx_struct_oper_list._rowCount; i < _i; i++) {\n        var m = Tensor.toMat4(Mat4(), _schema.matrix.space, matrix.value(i));\n        Tensor.toVec3(t, _schema.vector.space, vector.value(i));\n        Mat4.setTranslation(m, t);\n        Mat4.setValue(m, 3, 3, 1);\n        matrices.set(id.value(i), m);\n    }\n    return matrices;\n}\nfunction expandOperators(operatorList) {\n    var ops = [];\n    var currentOp = [];\n    for (var i = 0; i < operatorList.length; i++)\n        currentOp[i] = '';\n    expandOperators1(operatorList, ops, operatorList.length - 1, currentOp);\n    return ops;\n}\nfunction expandOperators1(operatorNames, list, i, current) {\n    if (i < 0) {\n        list[list.length] = current.slice(0);\n        return;\n    }\n    var ops = operatorNames[i], len = ops.length;\n    for (var j = 0; j < len; j++) {\n        current[i] = ops[j];\n        expandOperators1(operatorNames, list, i - 1, current);\n    }\n}\nfunction getAssemblyOperators(matrices, operatorNames, startIndex, assemblyId) {\n    var operators = [];\n    var index = startIndex;\n    for (var _a = 0, operatorNames_1 = operatorNames; _a < operatorNames_1.length; _a++) {\n        var op = operatorNames_1[_a];\n        var m = Mat4.identity();\n        for (var i = 0; i < op.length; i++) {\n            Mat4.mul(m, m, matrices.get(op[i]));\n        }\n        index++;\n        operators[operators.length] = SymmetryOperator.create(\"ASM_\".concat(index), m, { assembly: { id: assemblyId, operId: index, operList: op } });\n    }\n    return operators;\n}\nfunction parseOperatorList(value) {\n    // '(X0)(1-5)' becomes [['X0'], ['1', '2', '3', '4', '5']]\n    // kudos to Glen van Ginkel.\n    var oeRegex = /\\(?([^\\(\\)]+)\\)?]*/g, groups = [], ret = [];\n    var g;\n    while (g = oeRegex.exec(value))\n        groups[groups.length] = g[1];\n    groups.forEach(function (g) {\n        var group = [];\n        g.split(',').forEach(function (e) {\n            var dashIndex = e.indexOf('-');\n            if (dashIndex > 0) {\n                var from = parseInt(e.substring(0, dashIndex)), to = parseInt(e.substr(dashIndex + 1));\n                for (var i = from; i <= to; i++)\n                    group[group.length] = i.toString();\n            }\n            else {\n                group[group.length] = e.trim();\n            }\n        });\n        ret[ret.length] = group;\n    });\n    return ret;\n}\n","/**\n * Copyright (c) 2022 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\nimport { SortedArray } from '../../../../mol-data/int/sorted-array';\nimport { sortedCantorPairing } from '../../../../mol-data/util';\nimport { BondType } from '../../model/types';\nexport function getResonance(unit) {\n    return {\n        delocalizedTriplets: getDelocalizedTriplets(unit)\n    };\n}\nfunction getDelocalizedTriplets(unit) {\n    var bonds = unit.bonds;\n    var b = bonds.b, edgeProps = bonds.edgeProps, offset = bonds.offset;\n    var _order = edgeProps.order, _flags = edgeProps.flags;\n    var elementAromaticRingIndices = unit.rings.elementAromaticRingIndices;\n    var triplets = [];\n    var thirdElementMap = new Map();\n    var indicesMap = new Map();\n    var add = function (a, b, c) {\n        var index = triplets.length;\n        triplets.push(SortedArray.ofUnsortedArray([a, b, c]));\n        thirdElementMap.set(sortedCantorPairing(a, b), c);\n        if (indicesMap.has(a))\n            indicesMap.get(a).push(index);\n        else\n            indicesMap.set(a, [index]);\n    };\n    for (var i = 0; i < unit.elements.length; i++) {\n        if (elementAromaticRingIndices.has(i))\n            continue;\n        var count = offset[i + 1] - offset[i] + 1;\n        if (count < 2)\n            continue;\n        var deloBonds = [];\n        for (var t = offset[i], _t = offset[i + 1]; t < _t; t++) {\n            var f = _flags[t];\n            if (!BondType.is(f, 16 /* BondType.Flag.Aromatic */))\n                continue;\n            deloBonds.push(b[t]);\n        }\n        if (deloBonds.length >= 2) {\n            add(i, deloBonds[0], deloBonds[1]);\n            for (var j = 1, jl = deloBonds.length; j < jl; j++) {\n                add(i, deloBonds[j], deloBonds[0]);\n            }\n        }\n    }\n    return {\n        getThirdElement: function (a, b) {\n            return thirdElementMap.get(sortedCantorPairing(a, b));\n        },\n        getTripletIndices: function (a) {\n            return indicesMap.get(a);\n        },\n        triplets: triplets,\n    };\n}\n","/**\n * Copyright (c) 2018-2019 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\nimport { Unit } from '../../../../mol-model/structure';\nimport { Segmentation, OrderedSet, Interval, SortedArray } from '../../../../mol-data/int';\nimport { SortedRanges } from '../../../../mol-data/int/sorted-ranges';\nimport { isNucleic, isProtein } from '../../../../mol-model/structure/model/types';\nexport function getAtomicPolymerElements(unit) {\n    var indices = [];\n    var elements = unit.elements, model = unit.model;\n    var residueAtomSegments = unit.model.atomicHierarchy.residueAtomSegments;\n    var traceElementIndex = model.atomicHierarchy.derived.residue.traceElementIndex;\n    var polymerIt = SortedRanges.transientSegments(unit.model.atomicRanges.polymerRanges, elements);\n    var residueIt = Segmentation.transientSegments(residueAtomSegments, elements);\n    while (polymerIt.hasNext) {\n        var polymerSegment = polymerIt.move();\n        residueIt.setSegment(polymerSegment);\n        while (residueIt.hasNext) {\n            var residueSegment = residueIt.move();\n            var start = residueSegment.start, end = residueSegment.end, index = residueSegment.index;\n            if (OrderedSet.areIntersecting(Interval.ofRange(elements[start], elements[end - 1]), elements)) {\n                var elementIndex = traceElementIndex[index];\n                indices.push(elementIndex === -1 ? residueAtomSegments.offsets[index] : elementIndex);\n            }\n        }\n    }\n    return SortedArray.ofSortedArray(indices);\n}\nexport function getCoarsePolymerElements(unit) {\n    var indices = [];\n    var elements = unit.elements, model = unit.model;\n    var _a = model.coarseHierarchy, spheres = _a.spheres, gaussians = _a.gaussians;\n    var polymerRanges = Unit.isSpheres(unit) ? spheres.polymerRanges : gaussians.polymerRanges;\n    var polymerIt = SortedRanges.transientSegments(polymerRanges, elements);\n    while (polymerIt.hasNext) {\n        var _b = polymerIt.move(), start = _b.start, end = _b.end;\n        for (var i = start; i < end; ++i) {\n            indices.push(elements[i]);\n        }\n    }\n    return SortedArray.ofSortedArray(indices);\n}\n//\nexport function getAtomicGapElements(unit) {\n    var indices = [];\n    var elements = unit.elements, model = unit.model, residueIndex = unit.residueIndex;\n    var residueAtomSegments = unit.model.atomicHierarchy.residueAtomSegments;\n    var traceElementIndex = model.atomicHierarchy.derived.residue.traceElementIndex;\n    var gapIt = SortedRanges.transientSegments(unit.model.atomicRanges.gapRanges, unit.elements);\n    while (gapIt.hasNext) {\n        var gapSegment = gapIt.move();\n        var indexStart = residueIndex[elements[gapSegment.start]];\n        var indexEnd = residueIndex[elements[gapSegment.end - 1]];\n        var elementIndexStart = traceElementIndex[indexStart];\n        var elementIndexEnd = traceElementIndex[indexEnd];\n        indices.push(elementIndexStart === -1 ? residueAtomSegments.offsets[indexStart] : elementIndexStart);\n        indices.push(elementIndexEnd === -1 ? residueAtomSegments.offsets[indexEnd] : elementIndexEnd);\n    }\n    return SortedArray.ofSortedArray(indices);\n}\nexport function getCoarseGapElements(unit) {\n    var indices = [];\n    var elements = unit.elements, model = unit.model;\n    var _a = model.coarseHierarchy, spheres = _a.spheres, gaussians = _a.gaussians;\n    var gapRanges = Unit.isSpheres(unit) ? spheres.gapRanges : gaussians.gapRanges;\n    var gapIt = SortedRanges.transientSegments(gapRanges, elements);\n    while (gapIt.hasNext) {\n        var _b = gapIt.move(), start = _b.start, end = _b.end;\n        indices.push(elements[start], elements[end - 1]);\n    }\n    return SortedArray.ofSortedArray(indices);\n}\n//\nexport function getNucleotideElements(unit) {\n    var indices = [];\n    var elements = unit.elements, model = unit.model;\n    var _a = model.atomicHierarchy, chainAtomSegments = _a.chainAtomSegments, residueAtomSegments = _a.residueAtomSegments;\n    var _b = model.atomicHierarchy.derived.residue, moleculeType = _b.moleculeType, traceElementIndex = _b.traceElementIndex;\n    var chainIt = Segmentation.transientSegments(chainAtomSegments, elements);\n    var residueIt = Segmentation.transientSegments(residueAtomSegments, elements);\n    while (chainIt.hasNext) {\n        residueIt.setSegment(chainIt.move());\n        while (residueIt.hasNext) {\n            var index = residueIt.move().index;\n            if (isNucleic(moleculeType[index])) {\n                var elementIndex = traceElementIndex[index];\n                indices.push(elementIndex === -1 ? residueAtomSegments.offsets[index] : elementIndex);\n            }\n        }\n    }\n    return SortedArray.ofSortedArray(indices);\n}\nexport function getProteinElements(unit) {\n    var indices = [];\n    var elements = unit.elements, model = unit.model;\n    var _a = model.atomicHierarchy, chainAtomSegments = _a.chainAtomSegments, residueAtomSegments = _a.residueAtomSegments;\n    var _b = model.atomicHierarchy.derived.residue, moleculeType = _b.moleculeType, traceElementIndex = _b.traceElementIndex;\n    var chainIt = Segmentation.transientSegments(chainAtomSegments, elements);\n    var residueIt = Segmentation.transientSegments(residueAtomSegments, elements);\n    while (chainIt.hasNext) {\n        residueIt.setSegment(chainIt.move());\n        while (residueIt.hasNext) {\n            var index = residueIt.move().index;\n            if (isProtein(moleculeType[index])) {\n                var elementIndex = traceElementIndex[index];\n                indices.push(elementIndex === -1 ? residueAtomSegments.offsets[index] : elementIndex);\n            }\n        }\n    }\n    return SortedArray.ofSortedArray(indices);\n}\n","/**\n * Copyright (c) 2017 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n */\nimport { HashSet } from '../../../mol-data/generic';\nimport { Structure, StructureElement } from '../structure';\nimport { structureUnion } from './utils/structure-set';\nimport { OrderedSet, SortedArray } from '../../../mol-data/int';\nvar StructureSelection;\n(function (StructureSelection) {\n    function Singletons(source, structure) { return { kind: 'singletons', source: source, structure: structure }; }\n    StructureSelection.Singletons = Singletons;\n    function Sequence(source, structures) { return { kind: 'sequence', source: source, structures: structures }; }\n    StructureSelection.Sequence = Sequence;\n    function Empty(source) { return Singletons(source, Structure.Empty); }\n    StructureSelection.Empty = Empty;\n    ;\n    function isSingleton(s) { return s.kind === 'singletons'; }\n    StructureSelection.isSingleton = isSingleton;\n    function isEmpty(s) { return isSingleton(s) ? s.structure.units.length === 0 : s.structures.length === 0; }\n    StructureSelection.isEmpty = isEmpty;\n    function structureCount(sel) {\n        if (isSingleton(sel))\n            return sel.structure.elementCount;\n        return sel.structures.length;\n    }\n    StructureSelection.structureCount = structureCount;\n    function unionStructure(sel) {\n        if (isEmpty(sel))\n            return Structure.Empty;\n        if (isSingleton(sel))\n            return sel.structure;\n        return structureUnion(sel.source, sel.structures);\n    }\n    StructureSelection.unionStructure = unionStructure;\n    /** Convert selection to loci and use \"current structure units\" in Loci elements */\n    function toLociWithCurrentUnits(sel) {\n        var elements = [];\n        var unitMap = sel.source.unitMap;\n        for (var _a = 0, _b = unionStructure(sel).units; _a < _b.length; _a++) {\n            var unit = _b[_a];\n            if (unit === unitMap.get(unit.id)) {\n                elements[elements.length] = {\n                    unit: unit,\n                    indices: OrderedSet.ofBounds(0, unit.elements.length)\n                };\n            }\n            else {\n                elements[elements.length] = {\n                    unit: unit,\n                    indices: OrderedSet.ofSortedArray(SortedArray.indicesOf(unitMap.get(unit.id).elements, unit.elements))\n                };\n            }\n        }\n        return StructureElement.Loci(sel.source, elements);\n    }\n    StructureSelection.toLociWithCurrentUnits = toLociWithCurrentUnits;\n    /** use source unit in loci.elements */\n    function toLociWithSourceUnits(sel) {\n        var elements = [];\n        var unitMap = sel.source.unitMap;\n        for (var _a = 0, _b = unionStructure(sel).units; _a < _b.length; _a++) {\n            var _unit = _b[_a];\n            var unit = unitMap.get(_unit.id);\n            if (unit === _unit) {\n                elements[elements.length] = {\n                    unit: unit,\n                    indices: OrderedSet.ofBounds(0, unit.elements.length)\n                };\n            }\n            else {\n                elements[elements.length] = {\n                    unit: unit,\n                    indices: OrderedSet.ofSortedArray(SortedArray.indicesOf(unit.elements, _unit.elements))\n                };\n            }\n        }\n        return StructureElement.Loci(sel.source, elements);\n    }\n    StructureSelection.toLociWithSourceUnits = toLociWithSourceUnits;\n    function getSelection(source, structures, allSingletons) {\n        var len = structures.length;\n        if (len === 0)\n            return Empty(source);\n        if (allSingletons)\n            return Singletons(source, structureUnion(source, structures));\n        return Sequence(source, structures);\n    }\n    var LinearBuilderImpl = /** @class */ (function () {\n        function LinearBuilderImpl(source) {\n            this.source = source;\n            this.structures = [];\n            this.allSingletons = true;\n        }\n        LinearBuilderImpl.prototype.add = function (structure) {\n            var elementCount = structure.elementCount;\n            if (elementCount === 0)\n                return;\n            this.structures[this.structures.length] = structure;\n            if (elementCount !== 1)\n                this.allSingletons = false;\n        };\n        LinearBuilderImpl.prototype.getSelection = function () { return getSelection(this.source, this.structures, this.allSingletons); };\n        return LinearBuilderImpl;\n    }());\n    var HashBuilderImpl = /** @class */ (function () {\n        function HashBuilderImpl(structure) {\n            this.structure = structure;\n            this.structures = [];\n            this.allSingletons = true;\n            this.uniqueSets = HashSet(Structure.hashCode, Structure.areUnitIdsAndIndicesEqual);\n        }\n        HashBuilderImpl.prototype.add = function (structure) {\n            var atomCount = structure.elementCount;\n            if (atomCount === 0 || !this.uniqueSets.add(structure))\n                return;\n            this.structures[this.structures.length] = structure;\n            if (atomCount !== 1)\n                this.allSingletons = false;\n        };\n        HashBuilderImpl.prototype.getSelection = function () { return getSelection(this.structure, this.structures, this.allSingletons); };\n        return HashBuilderImpl;\n    }());\n    function LinearBuilder(structure) { return new LinearBuilderImpl(structure); }\n    StructureSelection.LinearBuilder = LinearBuilder;\n    function UniqueBuilder(structure) { return new HashBuilderImpl(structure); }\n    StructureSelection.UniqueBuilder = UniqueBuilder;\n    // TODO: build timeout checking into this?\n    function forEach(sel, fn) {\n        var idx = 0;\n        if (StructureSelection.isSingleton(sel)) {\n            for (var _a = 0, _b = sel.structure.units; _a < _b.length; _a++) {\n                var unit = _b[_a];\n                var elements = unit.elements;\n                for (var i = 0, _i = elements.length; i < _i; i++) {\n                    // TODO: optimize this somehow???\n                    var s = Structure.create([unit.getChild(SortedArray.ofSingleton(elements[i]))], { parent: sel.source });\n                    fn(s, idx++);\n                }\n            }\n        }\n        else {\n            for (var _c = 0, _d = sel.structures; _c < _d.length; _c++) {\n                var s = _d[_c];\n                fn(s, idx++);\n            }\n        }\n    }\n    StructureSelection.forEach = forEach;\n    function withInputStructure(selection, structure) {\n        if (isSingleton(selection))\n            return Singletons(structure, selection.structure);\n        return Sequence(structure, selection.structures);\n    }\n    StructureSelection.withInputStructure = withInputStructure;\n    // TODO: spatial lookup?\n})(StructureSelection || (StructureSelection = {}));\nexport { StructureSelection };\n","/**\n * Copyright (c) 2019 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\nimport { OrderedSet, SortedArray, Interval } from '../../../../mol-data/int';\nimport { Structure } from '../structure';\nimport { hashFnv32a, hash2 } from '../../../../mol-data/util';\nimport { SortedRanges } from '../../../../mol-data/int/sorted-ranges';\nimport { Loci } from './loci';\nimport { MolScriptBuilder as MS } from '../../../../mol-script/language/builder';\nimport { StructureSelection } from '../../query';\nexport var Bundle;\n(function (Bundle) {\n    Bundle.Empty = { hash: -1, elements: [] };\n    function fromSubStructure(parent, structure) {\n        return fromLoci(StructureSelection.toLociWithSourceUnits(StructureSelection.Singletons(parent, structure)));\n    }\n    Bundle.fromSubStructure = fromSubStructure;\n    function fromSelection(selection) {\n        return fromLoci(StructureSelection.toLociWithSourceUnits(selection));\n    }\n    Bundle.fromSelection = fromSelection;\n    function fromLoci(loci) {\n        var _elements = [];\n        for (var _i = 0, _a = loci.elements; _i < _a.length; _i++) {\n            var e = _a[_i];\n            var unit = e.unit, indices = e.indices;\n            if (OrderedSet.size(indices) === 0)\n                continue;\n            var ranges = [];\n            var set = [];\n            if (OrderedSet.isInterval(indices)) {\n                if (OrderedSet.size(indices) === 1) {\n                    set.push(Interval.min(indices));\n                }\n                else {\n                    ranges.push(Interval.min(indices), Interval.max(indices));\n                }\n            }\n            else {\n                var i = 0;\n                var len = indices.length;\n                while (i < len) {\n                    var start = i;\n                    i++;\n                    while (i < len && indices[i - 1] + 1 === indices[i])\n                        i++;\n                    var end = i;\n                    if (end - start > 2) {\n                        ranges.push(indices[start], indices[end - 1]);\n                    }\n                    else {\n                        for (var j = start; j < end; j++) {\n                            set[set.length] = indices[j];\n                        }\n                    }\n                }\n            }\n            _elements.push({\n                unit: unit,\n                set: SortedArray.ofSortedArray(set),\n                ranges: SortedRanges.ofSortedRanges(ranges)\n            });\n        }\n        var elementGroups = new Map();\n        for (var i = 0, il = _elements.length; i < il; ++i) {\n            var e = _elements[i];\n            var key = hash2(hashFnv32a(e.ranges), hashFnv32a(e.set));\n            if (elementGroups.has(key)) {\n                var groupedUnits = elementGroups.get(key).groupedUnits;\n                if (groupedUnits.has(e.unit.invariantId)) {\n                    groupedUnits.get(e.unit.invariantId).push(e.unit.id);\n                }\n                else {\n                    groupedUnits.set(e.unit.invariantId, [e.unit.id]);\n                }\n            }\n            else {\n                var groupedUnits = new Map();\n                groupedUnits.set(e.unit.invariantId, [e.unit.id]);\n                elementGroups.set(key, { groupedUnits: groupedUnits, set: e.set, ranges: e.ranges });\n            }\n        }\n        var elements = [];\n        elementGroups.forEach(function (e) {\n            var groupedUnits = [];\n            e.groupedUnits.forEach(function (g) { return groupedUnits.push(SortedArray.ofUnsortedArray(g)); });\n            groupedUnits.sort(function (a, b) { return a[0] - b[0]; }); // sort by first unit id of each group\n            elements.push({ groupedUnits: groupedUnits, set: e.set, ranges: e.ranges });\n        });\n        return { hash: loci.structure.hashCode, elements: elements };\n    }\n    Bundle.fromLoci = fromLoci;\n    function getUnitsFromIds(unitIds, structure) {\n        var units = [];\n        for (var i = 0, il = unitIds.length; i < il; ++i) {\n            var unitId = unitIds[i];\n            if (structure.unitMap.has(unitId))\n                units.push(structure.unitMap.get(unitId));\n        }\n        return units;\n    }\n    function toLoci(bundle, structure) {\n        if (bundle.hash !== -1 && bundle.hash !== structure.hashCode) {\n            new Error('Bundle not compatible with given structure');\n        }\n        var elements = [];\n        for (var _i = 0, _a = bundle.elements; _i < _a.length; _i++) {\n            var e = _a[_i];\n            var _loop_1 = function (g) {\n                var units = getUnitsFromIds(g, structure);\n                if (units.length === 0)\n                    return \"continue\";\n                var indices = void 0;\n                if (e.ranges.length === 0) {\n                    indices = e.set;\n                }\n                else if (e.set.length === 0) {\n                    if (e.ranges.length === 2) {\n                        indices = Interval.ofRange(e.ranges[0], e.ranges[1]);\n                    }\n                    else {\n                        var _indices_1 = new Int32Array(SortedRanges.size(e.ranges));\n                        SortedRanges.forEach(e.ranges, function (v, i) { return _indices_1[i] = v; });\n                        indices = SortedArray.ofSortedArray(_indices_1);\n                    }\n                }\n                else {\n                    var rangesSize = SortedRanges.size(e.ranges);\n                    var _indices_2 = new Int32Array(e.set.length + rangesSize);\n                    SortedRanges.forEach(e.ranges, function (v, i) { return _indices_2[i] = v; });\n                    _indices_2.set(e.set, rangesSize);\n                    indices = SortedArray.ofUnsortedArray(_indices_2); // requires sort\n                }\n                for (var _d = 0, units_1 = units; _d < units_1.length; _d++) {\n                    var unit = units_1[_d];\n                    elements.push({ unit: unit, indices: indices });\n                }\n            };\n            for (var _b = 0, _c = e.groupedUnits; _b < _c.length; _b++) {\n                var g = _c[_b];\n                _loop_1(g);\n            }\n        }\n        return Loci(structure, elements);\n    }\n    Bundle.toLoci = toLoci;\n    function toStructure(bundle, parent) {\n        if (bundle.hash !== -1 && bundle.hash !== parent.hashCode) {\n            new Error('Bundle not compatible with given structure');\n        }\n        var units = [];\n        for (var _i = 0, _a = bundle.elements; _i < _a.length; _i++) {\n            var e = _a[_i];\n            var _loop_2 = function (g) {\n                var _units = getUnitsFromIds(g, parent);\n                if (_units.length === 0)\n                    return \"continue\";\n                var ue = _units[0].elements; // the elements are grouped by unit.invariantId\n                var rangesSize = SortedRanges.size(e.ranges);\n                var setSize = e.set.length;\n                var _indices = new Int32Array(setSize + rangesSize);\n                var indices = void 0;\n                if (rangesSize === 0) {\n                    for (var i = 0, il = setSize; i < il; ++i) {\n                        _indices[i] = ue[e.set[i]];\n                    }\n                    indices = SortedArray.ofSortedArray(_indices);\n                }\n                else if (setSize === 0) {\n                    SortedRanges.forEach(e.ranges, function (v, i) { return _indices[i] = ue[v]; });\n                    indices = SortedArray.ofSortedArray(_indices);\n                }\n                else {\n                    if (SortedArray.min(e.set) > SortedRanges.max(e.ranges)) {\n                        SortedRanges.forEach(e.ranges, function (v, i) { return _indices[i] = ue[v]; });\n                        for (var i = 0, il = setSize; i < il; ++i) {\n                            _indices[i + rangesSize] = ue[e.set[i]];\n                        }\n                        indices = SortedArray.ofSortedArray(_indices);\n                    }\n                    else if (SortedRanges.min(e.ranges) > SortedArray.max(e.set)) {\n                        for (var i = 0, il = setSize; i < il; ++i) {\n                            _indices[i] = ue[e.set[i]];\n                        }\n                        SortedRanges.forEach(e.ranges, function (v, i) { return _indices[i + setSize] = ue[v]; });\n                        indices = SortedArray.ofSortedArray(_indices);\n                    }\n                    else {\n                        SortedRanges.forEach(e.ranges, function (v, i) { return _indices[i] = ue[v]; });\n                        for (var i = 0, il = setSize; i < il; ++i) {\n                            _indices[i + rangesSize] = ue[e.set[i]];\n                        }\n                        indices = SortedArray.ofUnsortedArray(_indices); // requires sort\n                    }\n                }\n                for (var _d = 0, _units_1 = _units; _d < _units_1.length; _d++) {\n                    var unit = _units_1[_d];\n                    units.push(unit.getChild(indices));\n                }\n            };\n            for (var _b = 0, _c = e.groupedUnits; _b < _c.length; _b++) {\n                var g = _c[_b];\n                _loop_2(g);\n            }\n        }\n        return Structure.create(units, { parent: parent });\n    }\n    Bundle.toStructure = toStructure;\n    function elementToExpression(e) {\n        return MS.internal.generator.bundleElement({\n            groupedUnits: MS.core.type.list(e.groupedUnits.map(function (u) { return MS.core.type.list(u); })),\n            ranges: MS.core.type.list(e.ranges),\n            set: MS.core.type.list(e.set),\n        });\n    }\n    function toExpression(bundle) {\n        return MS.internal.generator.bundle({\n            elements: MS.core.type.list(bundle.elements.map(elementToExpression))\n        });\n    }\n    Bundle.toExpression = toExpression;\n    function areEqual(a, b) {\n        if (a.elements.length !== b.elements.length)\n            return false;\n        for (var i = 0, il = a.elements.length; i < il; ++i) {\n            var elementA = a.elements[i], elementB = b.elements[i];\n            if (elementA.groupedUnits.length !== elementB.groupedUnits.length)\n                return false;\n            for (var j = 0, jl = elementB.groupedUnits.length; j < jl; ++j) {\n                if (!SortedArray.areEqual(elementA.groupedUnits[j], elementB.groupedUnits[j]))\n                    return false;\n            }\n            if (!SortedArray.areEqual(elementA.set, elementB.set))\n                return false;\n            if (!SortedRanges.areEqual(elementA.ranges, elementB.ranges))\n                return false;\n        }\n        return true;\n    }\n    Bundle.areEqual = areEqual;\n})(Bundle || (Bundle = {}));\n","/**\n * Copyright (c) 2017 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n */\nimport { Structure } from '../../structure';\nimport { SortedArray } from '../../../../mol-data/int';\nexport function structureUnion(source, structures) {\n    if (structures.length === 0)\n        return Structure.Empty;\n    if (structures.length === 1)\n        return structures[0];\n    var unitMap = new Map();\n    var fullUnits = new Set();\n    for (var _a = 0, structures_1 = structures; _a < structures_1.length; _a++) {\n        var units = structures_1[_a].units;\n        for (var i = 0, _i = units.length; i < _i; i++) {\n            var u = units[i];\n            if (unitMap.has(u.id)) {\n                // check if there is anything more to union in this particual unit.\n                if (fullUnits.has(u.id))\n                    continue;\n                var merged = SortedArray.union(unitMap.get(u.id), u.elements);\n                unitMap.set(u.id, merged);\n                if (merged.length === source.unitMap.get(u.id).elements.length)\n                    fullUnits.add(u.id);\n            }\n            else {\n                unitMap.set(u.id, u.elements);\n                if (u.elements.length === source.unitMap.get(u.id).elements.length)\n                    fullUnits.add(u.id);\n            }\n        }\n    }\n    var builder = source.subsetBuilder(true);\n    unitMap.forEach(buildUnion, builder);\n    return builder.getStructure();\n}\nfunction buildUnion(elements, id) {\n    this.setUnit(id, elements);\n}\nexport function structureAreEqual(sA, sB) {\n    if (sA === sB)\n        return true;\n    if (sA.units.length !== sB.units.length)\n        return false;\n    var aU = sA.units, bU = sB.unitMap;\n    for (var i = 0, _i = aU.length; i < _i; i++) {\n        var u = aU[i];\n        if (!bU.has(u.id))\n            return false;\n        var v = bU.get(u.id);\n        if (!SortedArray.areEqual(u.elements, v.elements))\n            return false;\n    }\n    return true;\n}\nexport function structureAreIntersecting(sA, sB) {\n    if (sA === sB)\n        return true;\n    var a, b;\n    if (sA.units.length < sB.units.length) {\n        a = sA;\n        b = sB;\n    }\n    else {\n        a = sB;\n        b = sA;\n    }\n    var aU = a.units, bU = b.unitMap;\n    for (var i = 0, _i = aU.length; i < _i; i++) {\n        var u = aU[i];\n        if (!bU.has(u.id))\n            continue;\n        var v = bU.get(u.id);\n        if (SortedArray.areIntersecting(u.elements, v.elements))\n            return true;\n    }\n    return false;\n}\nexport function structureIntersect(sA, sB) {\n    if (sA === sB)\n        return sA;\n    if (!structureAreIntersecting(sA, sB))\n        return Structure.Empty;\n    var a, b;\n    if (sA.units.length < sB.units.length) {\n        a = sA;\n        b = sB;\n    }\n    else {\n        a = sB;\n        b = sA;\n    }\n    var aU = a.units, bU = b.unitMap;\n    var units = [];\n    for (var i = 0, _i = aU.length; i < _i; i++) {\n        var u = aU[i];\n        if (!bU.has(u.id))\n            continue;\n        var v = bU.get(u.id);\n        if (SortedArray.areIntersecting(u.elements, v.elements)) {\n            var int = SortedArray.intersect(u.elements, v.elements);\n            units[units.length] = u.getChild(int);\n        }\n    }\n    return Structure.create(units, { parent: sA.parent || sB.parent });\n}\nexport function structureSubtract(a, b) {\n    if (a === b)\n        return Structure.Empty;\n    if (!structureAreIntersecting(a, b))\n        return a;\n    var aU = a.units, bU = b.unitMap;\n    var units = [];\n    for (var i = 0, _i = aU.length; i < _i; i++) {\n        var u = aU[i];\n        if (!bU.has(u.id)) {\n            units[units.length] = u;\n            continue;\n        }\n        var v = bU.get(u.id);\n        var sub = SortedArray.subtract(u.elements, v.elements);\n        if (sub.length > 0) {\n            units[units.length] = u.getChild(sub);\n        }\n    }\n    return Structure.create(units, { parent: a.parent || b.parent });\n}\n","/**\n * Copyright (c) 2017 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n */\nimport { Segmentation } from '../../../../mol-data/int';\nimport { StructureElement } from '../../../../mol-model/structure/structure/element';\nimport { StructureProperties as P } from '../../structure';\nimport { Structure } from '../../structure/structure';\nimport { StructureSelection } from '../selection';\nimport { BondType } from '../../model/types';\nimport { Bundle } from '../../structure/element/bundle';\nexport function defaultBondTest(ctx) {\n    return BondType.isCovalent(ctx.atomicBond.type);\n}\nexport function atomicSequence() {\n    return function query_atomicSequence(ctx) {\n        var inputStructure = ctx.inputStructure;\n        var l = StructureElement.Location.create(inputStructure);\n        var units = [];\n        for (var _i = 0, _a = inputStructure.units; _i < _a.length; _i++) {\n            var unit = _a[_i];\n            if (unit.kind !== 0 /* Unit.Kind.Atomic */)\n                continue;\n            l.unit = unit;\n            var elements = unit.elements;\n            l.element = elements[0];\n            if (P.entity.type(l) !== 'polymer')\n                continue;\n            var residuesIt = Segmentation.transientSegments(unit.model.atomicHierarchy.residueAtomSegments, elements);\n            var residueCount = 0;\n            while (residuesIt.hasNext) {\n                residueCount++;\n                residuesIt.move();\n            }\n            if (residueCount < 8)\n                continue;\n            units.push(unit);\n        }\n        return StructureSelection.Singletons(inputStructure, Structure.create(units, { parent: inputStructure }));\n    };\n}\nexport function water() {\n    return function query_water(ctx) {\n        var inputStructure = ctx.inputStructure;\n        var l = StructureElement.Location.create(inputStructure);\n        var units = [];\n        for (var _i = 0, _a = inputStructure.units; _i < _a.length; _i++) {\n            var unit = _a[_i];\n            if (unit.kind !== 0 /* Unit.Kind.Atomic */)\n                continue;\n            l.unit = unit;\n            var elements = unit.elements;\n            l.element = elements[0];\n            if (P.entity.type(l) !== 'water')\n                continue;\n            units.push(unit);\n        }\n        return StructureSelection.Singletons(inputStructure, Structure.create(units, { parent: inputStructure }));\n    };\n}\nexport function atomicHet() {\n    return function query_atomicHet(ctx) {\n        var inputStructure = ctx.inputStructure;\n        var l = StructureElement.Location.create(inputStructure);\n        var units = [];\n        for (var _i = 0, _a = inputStructure.units; _i < _a.length; _i++) {\n            var unit = _a[_i];\n            if (unit.kind !== 0 /* Unit.Kind.Atomic */)\n                continue;\n            l.unit = unit;\n            var elements = unit.elements;\n            l.element = elements[0];\n            if (P.entity.type(l) === 'water')\n                continue;\n            if (P.entity.type(l) === 'polymer') {\n                var residuesIt = Segmentation.transientSegments(unit.model.atomicHierarchy.residueAtomSegments, elements);\n                var residueCount = 0;\n                while (residuesIt.hasNext) {\n                    residueCount++;\n                    residuesIt.move();\n                }\n                if (residueCount >= 8)\n                    continue;\n            }\n            units.push(unit);\n        }\n        return StructureSelection.Singletons(inputStructure, Structure.create(units, { parent: inputStructure }));\n    };\n}\nexport function spheres() {\n    return function query_spheres(ctx) {\n        var inputStructure = ctx.inputStructure;\n        var units = [];\n        for (var _i = 0, _a = inputStructure.units; _i < _a.length; _i++) {\n            var unit = _a[_i];\n            if (unit.kind !== 1 /* Unit.Kind.Spheres */)\n                continue;\n            units.push(unit);\n        }\n        return StructureSelection.Singletons(inputStructure, Structure.create(units, { parent: inputStructure }));\n    };\n}\nexport function bundleElementImpl(groupedUnits, ranges, set) {\n    return {\n        groupedUnits: groupedUnits,\n        ranges: ranges,\n        set: set\n    };\n}\nexport function bundleGenerator(elements) {\n    return function query_bundleGenerator(ctx) {\n        var bundle = {\n            hash: ctx.inputStructure.hashCode,\n            elements: elements\n        };\n        return StructureSelection.Sequence(ctx.inputStructure, [Bundle.toStructure(bundle, ctx.inputStructure)]);\n    };\n}\n","/**\n * Copyright (c) 2018-2022 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\nimport { StructureElement } from '../structure';\nimport { now } from '../../../mol-util/now';\nimport { defaultBondTest } from './queries/internal';\nvar QueryContext = /** @class */ (function () {\n    function QueryContext(structure, options) {\n        this.currentElementStack = [];\n        this.currentAtomicBondStack = [];\n        this.currentStructureStack = [];\n        this.inputStructureStack = [];\n        this.timeCreated = now();\n        /** Current element */\n        this.element = StructureElement.Location.create(void 0);\n        this.currentStructure = void 0;\n        /** Current bond between atoms */\n        this.atomicBond = new QueryContextBondInfo();\n        /** Supply this from the outside. Used by the internal.generator.current symbol */\n        this.currentSelection = void 0;\n        this.inputStructure = structure;\n        this.timeoutMs = (options && options.timeoutMs) || 0;\n        this.currentSelection = options && options.currentSelection;\n    }\n    QueryContext.prototype.pushCurrentElement = function () {\n        this.currentElementStack[this.currentElementStack.length] = this.element;\n        this.element = StructureElement.Location.create(void 0);\n        return this.element;\n    };\n    QueryContext.prototype.popCurrentElement = function () {\n        this.element = this.currentElementStack.pop();\n    };\n    QueryContext.prototype.pushCurrentBond = function () {\n        if (this.atomicBond)\n            this.currentAtomicBondStack.push(this.atomicBond);\n        this.atomicBond = new QueryContextBondInfo();\n        return this.atomicBond;\n    };\n    QueryContext.prototype.popCurrentBond = function () {\n        if (this.currentAtomicBondStack.length > 0) {\n            this.atomicBond = this.currentAtomicBondStack.pop();\n        }\n        else {\n            this.atomicBond = void 0;\n        }\n    };\n    QueryContext.prototype.pushCurrentStructure = function () {\n        if (this.currentStructure)\n            this.currentStructureStack.push(this.currentStructure);\n    };\n    QueryContext.prototype.popCurrentStructure = function () {\n        if (this.currentStructureStack.length)\n            this.currentStructure = this.currentStructureStack.pop();\n        else\n            this.currentStructure = void 0;\n    };\n    QueryContext.prototype.pushInputStructure = function (structure) {\n        this.inputStructureStack.push(this.inputStructure);\n        this.inputStructure = structure;\n    };\n    QueryContext.prototype.popInputStructure = function () {\n        if (this.inputStructureStack.length === 0)\n            throw new Error('Must push before pop.');\n        this.inputStructure = this.inputStructureStack.pop();\n    };\n    QueryContext.prototype.throwIfTimedOut = function () {\n        if (this.timeoutMs === 0)\n            return;\n        if (now() - this.timeCreated > this.timeoutMs) {\n            throw new Error(\"The query took too long to execute (> \".concat(this.timeoutMs / 1000, \"s).\"));\n        }\n    };\n    QueryContext.prototype.tryGetCurrentSelection = function () {\n        if (!this.currentSelection)\n            throw new Error('The current selection is not assigned.');\n        return this.currentSelection;\n    };\n    return QueryContext;\n}());\nexport { QueryContext };\nvar QueryContextBondInfo = /** @class */ (function () {\n    function QueryContextBondInfo() {\n        this.a = StructureElement.Location.create(void 0);\n        this.aIndex = 0;\n        this.b = StructureElement.Location.create(void 0);\n        this.bIndex = 0;\n        this.type = 0 /* BondType.Flag.None */;\n        this.order = 0;\n        this.key = -1;\n        this.testFn = defaultBondTest;\n    }\n    QueryContextBondInfo.prototype.setStructure = function (s) {\n        this.a.structure = s;\n        this.b.structure = s;\n    };\n    QueryContextBondInfo.prototype.setTestFn = function (fn) {\n        this.testFn = fn || defaultBondTest;\n    };\n    QueryContextBondInfo.prototype.test = function (ctx, trySwap) {\n        if (this.testFn(ctx))\n            return true;\n        if (trySwap) {\n            this.swap();\n            return this.testFn(ctx);\n        }\n        return false;\n    };\n    QueryContextBondInfo.prototype.swap = function () {\n        // const sA = this.a.structure;\n        // this.a.structure = this.b.structure;\n        // this.b.structure = sA;\n        var idxA = this.aIndex;\n        this.aIndex = this.bIndex;\n        this.bIndex = idxA;\n        var unitA = this.a.unit;\n        this.a.unit = this.b.unit;\n        this.b.unit = unitA;\n        var eA = this.a.element;\n        this.a.element = this.b.element;\n        this.b.element = eA;\n    };\n    Object.defineProperty(QueryContextBondInfo.prototype, \"length\", {\n        get: function () {\n            return StructureElement.Location.distance(this.a, this.b);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return QueryContextBondInfo;\n}());\n","/**\n * Copyright (c) 2017 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n */\nimport { QueryContext } from './context';\nvar StructureQuery;\n(function (StructureQuery) {\n    function run(query, structure, options) {\n        return query(new QueryContext(structure, options));\n    }\n    StructureQuery.run = run;\n})(StructureQuery || (StructureQuery = {}));\nexport { StructureQuery };\n","/**\n * Copyright (c) 2017 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n */\nimport { StructureElement, Structure } from '../../structure';\nimport { StructureSelection } from '../selection';\nimport { HashSet } from '../../../../mol-data/generic';\nimport { structureUnion } from './structure-set';\nvar UniqueStructuresBuilder = /** @class */ (function () {\n    function UniqueStructuresBuilder(source) {\n        this.source = source;\n        this.set = HashSet(Structure.hashCode, Structure.areUnitIdsAndIndicesEqual);\n        this.structures = [];\n        this.allSingletons = true;\n    }\n    UniqueStructuresBuilder.prototype.add = function (s) {\n        if (!s.elementCount)\n            return;\n        if (s.elementCount !== 1)\n            this.allSingletons = false;\n        if (this.set.add(s)) {\n            this.structures[this.structures.length] = s;\n        }\n    };\n    UniqueStructuresBuilder.prototype.getSelection = function () {\n        if (this.allSingletons)\n            return StructureSelection.Singletons(this.source, structureUnion(this.source, this.structures));\n        return StructureSelection.Sequence(this.source, this.structures);\n    };\n    return UniqueStructuresBuilder;\n}());\nexport { UniqueStructuresBuilder };\nvar LinearGroupingBuilder = /** @class */ (function () {\n    function LinearGroupingBuilder(source) {\n        this.source = source;\n        this.builders = [];\n        this.builderMap = new Map();\n    }\n    LinearGroupingBuilder.prototype.add = function (key, unit, element) {\n        var b = this.builderMap.get(key);\n        if (!b) {\n            b = this.source.subsetBuilder(true);\n            this.builders[this.builders.length] = b;\n            this.builderMap.set(key, b);\n        }\n        b.addToUnit(unit, element);\n    };\n    LinearGroupingBuilder.prototype.allSingletons = function () {\n        for (var i = 0, _i = this.builders.length; i < _i; i++) {\n            if (this.builders[i].elementCount > 1)\n                return false;\n        }\n        return true;\n    };\n    LinearGroupingBuilder.prototype.singletonSelection = function () {\n        var builder = this.source.subsetBuilder(true);\n        var loc = StructureElement.Location.create(this.source);\n        for (var i = 0, _i = this.builders.length; i < _i; i++) {\n            this.builders[i].setSingletonLocation(loc);\n            builder.addToUnit(loc.unit.id, loc.element);\n        }\n        return StructureSelection.Singletons(this.source, builder.getStructure());\n    };\n    LinearGroupingBuilder.prototype.fullSelection = function () {\n        var structures = new Array(this.builders.length);\n        for (var i = 0, _i = this.builders.length; i < _i; i++) {\n            structures[i] = this.builders[i].getStructure();\n        }\n        return StructureSelection.Sequence(this.source, structures);\n    };\n    LinearGroupingBuilder.prototype.getSelection = function () {\n        var len = this.builders.length;\n        if (len === 0)\n            return StructureSelection.Empty(this.source);\n        if (this.allSingletons())\n            return this.singletonSelection();\n        return this.fullSelection();\n    };\n    return LinearGroupingBuilder;\n}());\nexport { LinearGroupingBuilder };\n","/**\n * Copyright (c) 2017-2022 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\nimport { __assign } from \"tslib\";\nimport { UniqueArray } from '../../../../mol-data/generic';\nimport { Segmentation, SortedArray } from '../../../../mol-data/int';\nimport { StructureProperties as P, Unit } from '../../structure';\nimport { Structure } from '../../structure/structure';\nimport { StructureSelection } from '../selection';\nimport { LinearGroupingBuilder } from '../utils/builders';\nimport { structureSubtract } from '../utils/structure-set';\nexport var none = function (ctx) { return StructureSelection.Sequence(ctx.inputStructure, []); };\nexport var all = function (ctx) { return StructureSelection.Singletons(ctx.inputStructure, ctx.inputStructure); };\nexport function residues(params) { return atoms(__assign(__assign({}, params), { groupBy: function (ctx) { return P.residue.key(ctx.element); } })); }\nexport function chains(params) { return atoms(__assign(__assign({}, params), { groupBy: function (ctx) { return P.chain.key(ctx.element); } })); }\nfunction _true(ctx) { return true; }\nfunction _zero(ctx) { return 0; }\nexport function atoms(params) {\n    if (!params || (!params.atomTest && !params.residueTest && !params.chainTest && !params.entityTest && !params.unitTest && !params.groupBy))\n        return all;\n    if (!!params.atomTest && !params.residueTest && !params.chainTest && !params.entityTest && !params.unitTest && !params.groupBy)\n        return atomGroupsLinear(params.atomTest);\n    var normalized = {\n        unitTest: params.unitTest || _true,\n        entityTest: params.entityTest || _true,\n        chainTest: params.chainTest || _true,\n        residueTest: params.residueTest || _true,\n        atomTest: params.atomTest || _true,\n        groupBy: params.groupBy || _zero,\n    };\n    if (!params.groupBy)\n        return atomGroupsSegmented(normalized);\n    return atomGroupsGrouped(normalized);\n}\nfunction atomGroupsLinear(atomTest) {\n    return function query_atomGroupsLinear(ctx) {\n        var inputStructure = ctx.inputStructure;\n        var units = inputStructure.units;\n        var l = ctx.pushCurrentElement();\n        var builder = inputStructure.subsetBuilder(true);\n        l.structure = inputStructure;\n        for (var _a = 0, units_1 = units; _a < units_1.length; _a++) {\n            var unit = units_1[_a];\n            l.unit = unit;\n            var elements = unit.elements;\n            builder.beginUnit(unit.id);\n            for (var j = 0, _j = elements.length; j < _j; j++) {\n                l.element = elements[j];\n                if (atomTest(ctx))\n                    builder.addElement(l.element);\n            }\n            builder.commitUnit();\n            ctx.throwIfTimedOut();\n        }\n        ctx.popCurrentElement();\n        return StructureSelection.Singletons(inputStructure, builder.getStructure());\n    };\n}\nfunction atomGroupsSegmented(_a) {\n    var unitTest = _a.unitTest, entityTest = _a.entityTest, chainTest = _a.chainTest, residueTest = _a.residueTest, atomTest = _a.atomTest;\n    return function query_atomGroupsSegmented(ctx) {\n        var inputStructure = ctx.inputStructure;\n        var units = inputStructure.units;\n        var l = ctx.pushCurrentElement();\n        var builder = inputStructure.subsetBuilder(true);\n        var chainLevel = residueTest === _true && atomTest === _true;\n        var residueLevel = atomTest === _true;\n        l.structure = inputStructure;\n        for (var _a = 0, units_2 = units; _a < units_2.length; _a++) {\n            var unit = units_2[_a];\n            l.unit = unit;\n            if (!unitTest(ctx))\n                continue;\n            var elements = unit.elements, model = unit.model;\n            builder.beginUnit(unit.id);\n            if (unit.kind === 0 /* Unit.Kind.Atomic */) {\n                var chainsIt = Segmentation.transientSegments(unit.model.atomicHierarchy.chainAtomSegments, elements);\n                var residuesIt = Segmentation.transientSegments(unit.model.atomicHierarchy.residueAtomSegments, elements);\n                while (chainsIt.hasNext) {\n                    var chainSegment = chainsIt.move();\n                    l.element = elements[chainSegment.start];\n                    // test entity and chain\n                    if (!entityTest(ctx) || !chainTest(ctx))\n                        continue;\n                    if (chainLevel) {\n                        builder.addElementRange(elements, chainSegment.start, chainSegment.end);\n                        continue;\n                    }\n                    residuesIt.setSegment(chainSegment);\n                    while (residuesIt.hasNext) {\n                        var residueSegment = residuesIt.move();\n                        l.element = elements[residueSegment.start];\n                        // test residue\n                        if (!residueTest(ctx))\n                            continue;\n                        if (residueLevel) {\n                            builder.addElementRange(elements, residueSegment.start, residueSegment.end);\n                            continue;\n                        }\n                        for (var j = residueSegment.start, _j = residueSegment.end; j < _j; j++) {\n                            l.element = elements[j];\n                            // test atom\n                            if (atomTest(ctx)) {\n                                builder.addElement(l.element);\n                            }\n                        }\n                    }\n                }\n            }\n            else {\n                var chainElementSegments = (1 /* Unit.Kind.Spheres */ ? model.coarseHierarchy.spheres : model.coarseHierarchy.gaussians).chainElementSegments;\n                var chainsIt = Segmentation.transientSegments(chainElementSegments, elements);\n                while (chainsIt.hasNext) {\n                    var chainSegment = chainsIt.move();\n                    l.element = elements[chainSegment.start];\n                    // test entity and chain\n                    if (!entityTest(ctx) || !chainTest(ctx))\n                        continue;\n                    if (chainLevel) {\n                        builder.addElementRange(elements, chainSegment.start, chainSegment.end);\n                        continue;\n                    }\n                    for (var j = chainSegment.start, _j = chainSegment.end; j < _j; j++) {\n                        l.element = elements[j];\n                        // test residue/coarse element\n                        if (residueTest(ctx)) {\n                            builder.addElement(l.element);\n                        }\n                    }\n                }\n            }\n            builder.commitUnit();\n            ctx.throwIfTimedOut();\n        }\n        ctx.popCurrentElement();\n        return StructureSelection.Singletons(inputStructure, builder.getStructure());\n    };\n}\nfunction atomGroupsGrouped(_a) {\n    var unitTest = _a.unitTest, entityTest = _a.entityTest, chainTest = _a.chainTest, residueTest = _a.residueTest, atomTest = _a.atomTest, groupBy = _a.groupBy;\n    return function query_atomGroupsGrouped(ctx) {\n        var inputStructure = ctx.inputStructure;\n        var units = inputStructure.units;\n        var l = ctx.pushCurrentElement();\n        var builder = new LinearGroupingBuilder(inputStructure);\n        l.structure = inputStructure;\n        for (var _a = 0, units_3 = units; _a < units_3.length; _a++) {\n            var unit = units_3[_a];\n            l.unit = unit;\n            if (!unitTest(ctx))\n                continue;\n            var elements = unit.elements, model = unit.model;\n            if (unit.kind === 0 /* Unit.Kind.Atomic */) {\n                var chainsIt = Segmentation.transientSegments(model.atomicHierarchy.chainAtomSegments, elements);\n                var residuesIt = Segmentation.transientSegments(model.atomicHierarchy.residueAtomSegments, elements);\n                while (chainsIt.hasNext) {\n                    var chainSegment = chainsIt.move();\n                    l.element = elements[chainSegment.start];\n                    // test entity and chain\n                    if (!entityTest(ctx) || !chainTest(ctx))\n                        continue;\n                    residuesIt.setSegment(chainSegment);\n                    while (residuesIt.hasNext) {\n                        var residueSegment = residuesIt.move();\n                        l.element = elements[residueSegment.start];\n                        // test residue\n                        if (!residueTest(ctx))\n                            continue;\n                        for (var j = residueSegment.start, _j = residueSegment.end; j < _j; j++) {\n                            l.element = elements[j];\n                            // test atom\n                            if (atomTest(ctx)) {\n                                builder.add(groupBy(ctx), unit.id, l.element);\n                            }\n                        }\n                    }\n                }\n            }\n            else {\n                var chainElementSegments = (1 /* Unit.Kind.Spheres */ ? model.coarseHierarchy.spheres : model.coarseHierarchy.gaussians).chainElementSegments;\n                var chainsIt = Segmentation.transientSegments(chainElementSegments, elements);\n                while (chainsIt.hasNext) {\n                    var chainSegment = chainsIt.move();\n                    l.element = elements[chainSegment.start];\n                    // test entity and chain\n                    if (!entityTest(ctx) || !chainTest(ctx))\n                        continue;\n                    for (var j = chainSegment.start, _j = chainSegment.end; j < _j; j++) {\n                        l.element = elements[j];\n                        // test residue/coarse element\n                        if (residueTest(ctx)) {\n                            builder.add(groupBy(ctx), unit.id, l.element);\n                        }\n                    }\n                }\n            }\n            ctx.throwIfTimedOut();\n        }\n        ctx.popCurrentElement();\n        return builder.getSelection();\n    };\n}\nfunction getRingStructure(unit, ring, inputStructure) {\n    var elements = new Int32Array(ring.length);\n    for (var i = 0, _i = ring.length; i < _i; i++)\n        elements[i] = unit.elements[ring[i]];\n    return Structure.create([unit.getChild(SortedArray.ofSortedArray(elements))], { parent: inputStructure });\n}\nexport function rings(fingerprints, onlyAromatic) {\n    return function query_rings(ctx) {\n        var units = ctx.inputStructure.units;\n        var ret = StructureSelection.LinearBuilder(ctx.inputStructure);\n        if (!fingerprints || fingerprints.length === 0) {\n            for (var _a = 0, units_4 = units; _a < units_4.length; _a++) {\n                var u = units_4[_a];\n                if (!Unit.isAtomic(u))\n                    continue;\n                if (onlyAromatic) {\n                    for (var _b = 0, _c = u.rings.aromaticRings; _b < _c.length; _b++) {\n                        var r = _c[_b];\n                        ret.add(getRingStructure(u, u.rings.all[r], ctx.inputStructure));\n                    }\n                }\n                else {\n                    for (var _d = 0, _e = u.rings.all; _d < _e.length; _d++) {\n                        var r = _e[_d];\n                        ret.add(getRingStructure(u, r, ctx.inputStructure));\n                    }\n                }\n            }\n        }\n        else {\n            var uniqueFps = UniqueArray.create();\n            for (var i = 0; i < fingerprints.length; i++)\n                UniqueArray.add(uniqueFps, fingerprints[i], fingerprints[i]);\n            for (var _f = 0, units_5 = units; _f < units_5.length; _f++) {\n                var u = units_5[_f];\n                if (!Unit.isAtomic(u))\n                    continue;\n                var rings_1 = u.rings;\n                for (var _g = 0, _h = uniqueFps.array; _g < _h.length; _g++) {\n                    var fp = _h[_g];\n                    if (!rings_1.byFingerprint.has(fp))\n                        continue;\n                    for (var _k = 0, _l = rings_1.byFingerprint.get(fp); _k < _l.length; _k++) {\n                        var r = _l[_k];\n                        if (onlyAromatic && !rings_1.aromaticRings.includes(r))\n                            continue;\n                        ret.add(getRingStructure(u, rings_1.all[r], ctx.inputStructure));\n                    }\n                }\n            }\n        }\n        return ret.getSelection();\n    };\n}\nexport function querySelection(selection, query, inComplement) {\n    if (inComplement === void 0) { inComplement = false; }\n    return function query_querySelection(ctx) {\n        var targetSel = selection(ctx);\n        if (StructureSelection.structureCount(targetSel) === 0)\n            return targetSel;\n        var target = inComplement\n            ? structureSubtract(ctx.inputStructure, StructureSelection.unionStructure(targetSel))\n            : StructureSelection.unionStructure(targetSel);\n        if (target.elementCount === 0)\n            return StructureSelection.Empty(ctx.inputStructure);\n        ctx.throwIfTimedOut();\n        ctx.pushInputStructure(target);\n        var result = query(ctx);\n        ctx.popInputStructure();\n        return StructureSelection.withInputStructure(result, ctx.inputStructure);\n    };\n}\nexport function bondedAtomicPairs(bondTest) {\n    return function query_bondedAtomicPairs(ctx) {\n        var structure = ctx.inputStructure;\n        var interBonds = structure.interUnitBonds;\n        // Note: each bond is called twice, that's why we need the unique builder.\n        var ret = StructureSelection.UniqueBuilder(ctx.inputStructure);\n        ctx.pushCurrentBond();\n        var atomicBond = ctx.atomicBond;\n        atomicBond.setTestFn(bondTest);\n        atomicBond.setStructure(structure);\n        // Process intra unit bonds\n        for (var _a = 0, _b = structure.units; _a < _b.length; _a++) {\n            var unit = _b[_a];\n            if (unit.kind !== 0 /* Unit.Kind.Atomic */)\n                continue;\n            var _c = unit.bonds, intraBondOffset = _c.offset, intraBondB = _c.b, _d = _c.edgeProps, flags = _d.flags, order = _d.order, key = _d.key;\n            atomicBond.a.unit = unit;\n            atomicBond.b.unit = unit;\n            for (var i = 0, _i = unit.elements.length; i < _i; i++) {\n                atomicBond.aIndex = i;\n                atomicBond.a.element = unit.elements[i];\n                // check intra unit bonds\n                for (var lI = intraBondOffset[i], _lI = intraBondOffset[i + 1]; lI < _lI; lI++) {\n                    atomicBond.bIndex = intraBondB[lI];\n                    atomicBond.b.element = unit.elements[intraBondB[lI]];\n                    atomicBond.type = flags[lI];\n                    atomicBond.order = order[lI];\n                    atomicBond.key = key[lI];\n                    // No need to \"swap test\" because each bond direction will be visited eventually.\n                    if (atomicBond.test(ctx, false)) {\n                        var b = structure.subsetBuilder(false);\n                        b.beginUnit(unit.id);\n                        b.addElement(atomicBond.a.element);\n                        b.addElement(atomicBond.b.element);\n                        b.commitUnit();\n                        ret.add(b.getStructure());\n                    }\n                }\n            }\n        }\n        // Process inter unit bonds\n        for (var _e = 0, _f = interBonds.edges; _e < _f.length; _e++) {\n            var bond = _f[_e];\n            atomicBond.a.unit = structure.unitMap.get(bond.unitA);\n            atomicBond.a.element = atomicBond.a.unit.elements[bond.indexA];\n            atomicBond.aIndex = bond.indexA;\n            atomicBond.b.unit = structure.unitMap.get(bond.unitB);\n            atomicBond.b.element = atomicBond.b.unit.elements[bond.indexB];\n            atomicBond.bIndex = bond.indexB;\n            atomicBond.order = bond.props.order;\n            atomicBond.type = bond.props.flag;\n            atomicBond.key = bond.props.key;\n            // No need to \"swap test\" because each bond direction will be visited eventually.\n            if (atomicBond.test(ctx, false)) {\n                var b = structure.subsetBuilder(false);\n                b.addToUnit(atomicBond.a.unit.id, atomicBond.a.element);\n                b.addToUnit(atomicBond.b.unit.id, atomicBond.b.element);\n                ret.add(b.getStructure());\n            }\n        }\n        ctx.popCurrentBond();\n        return ret.getSelection();\n    };\n}\n","/**\n * Copyright (c) 2017 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n */\nimport { IntMap, SortedArray } from '../../../../mol-data/int';\nimport { sortArray } from '../../../../mol-data/util';\nimport { StructureSymmetry } from '../symmetry';\nimport { Structure } from '../structure';\nimport { UniqueArray } from '../../../../mol-data/generic';\nvar StructureUniqueSubsetBuilder = /** @class */ (function () {\n    function StructureUniqueSubsetBuilder(parent) {\n        this.parent = parent;\n        this.ids = [];\n        this.unitMap = IntMap.Mutable();\n        this.parentId = -1;\n        this.currentUnit = UniqueArray.create();\n        this.elementCount = 0;\n    }\n    StructureUniqueSubsetBuilder.prototype.addToUnit = function (parentId, e) {\n        var unit = this.unitMap.get(parentId);\n        if (!!unit) {\n            if (UniqueArray.add(unit, e, e))\n                this.elementCount++;\n        }\n        else {\n            var arr = UniqueArray.create();\n            UniqueArray.add(arr, e, e);\n            this.unitMap.set(parentId, arr);\n            this.ids[this.ids.length] = parentId;\n            this.elementCount++;\n        }\n    };\n    StructureUniqueSubsetBuilder.prototype.has = function (parentId, e) {\n        var unit = this.unitMap.get(parentId);\n        if (!unit)\n            return false;\n        return UniqueArray.has(unit, e);\n    };\n    StructureUniqueSubsetBuilder.prototype.beginUnit = function (parentId) {\n        this.parentId = parentId;\n        if (this.unitMap.has(parentId)) {\n            this.currentUnit = this.unitMap.get(parentId);\n        }\n        else {\n            this.currentUnit = this.currentUnit.array.length > 0 ? UniqueArray.create() : this.currentUnit;\n        }\n    };\n    StructureUniqueSubsetBuilder.prototype.addElement = function (e) {\n        if (UniqueArray.add(this.currentUnit, e, e))\n            this.elementCount++;\n    };\n    StructureUniqueSubsetBuilder.prototype.commitUnit = function () {\n        if (this.currentUnit.array.length === 0 || this.unitMap.has(this.parentId))\n            return;\n        this.ids[this.ids.length] = this.parentId;\n        this.unitMap.set(this.parentId, this.currentUnit);\n        this.parentId = -1;\n    };\n    StructureUniqueSubsetBuilder.prototype.getStructure = function () {\n        if (this.isEmpty)\n            return Structure.Empty;\n        var newUnits = [];\n        sortArray(this.ids);\n        var symmGroups = StructureSymmetry.UnitEquivalenceBuilder();\n        for (var i = 0, _i = this.ids.length; i < _i; i++) {\n            var id = this.ids[i];\n            var parent_1 = this.parent.unitMap.get(id);\n            var unit = this.unitMap.get(id).array;\n            var l = unit.length;\n            // if the length is the same, just copy the old unit.\n            if (unit.length === parent_1.elements.length) {\n                newUnits[newUnits.length] = parent_1;\n                symmGroups.add(parent_1.id, parent_1);\n                continue;\n            }\n            if (l > 1)\n                sortArray(unit);\n            var child = parent_1.getChild(SortedArray.ofSortedArray(unit));\n            var pivot = symmGroups.add(child.id, child);\n            if (child !== pivot)\n                child = pivot.applyOperator(child.id, child.conformation.operator, true);\n            newUnits[newUnits.length] = child;\n        }\n        return Structure.create(newUnits, { parent: this.parent });\n    };\n    Object.defineProperty(StructureUniqueSubsetBuilder.prototype, \"isEmpty\", {\n        get: function () {\n            return this.elementCount === 0;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return StructureUniqueSubsetBuilder;\n}());\nexport { StructureUniqueSubsetBuilder };\n","/**\n * Copyright (c) 2017 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * mostly from https://github.com/dsehnal/CIFTools.js\n * @author David Sehnal <david.sehnal@gmail.com>\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\nimport { __awaiter, __generator } from \"tslib\";\nimport { chunkedSubtask } from '../../../../mol-task';\nexport { Tokenizer };\nfunction Tokenizer(data) {\n    return {\n        data: data,\n        position: 0,\n        length: data.length,\n        lineNumber: 1,\n        tokenStart: 0,\n        tokenEnd: 0\n    };\n}\n(function (Tokenizer) {\n    function getTokenString(state) {\n        return state.data.substring(state.tokenStart, state.tokenEnd);\n    }\n    Tokenizer.getTokenString = getTokenString;\n    /** Resets the state */\n    function reset(state) {\n        state.position = 0;\n        state.lineNumber = 1;\n        state.tokenStart = 0;\n        state.tokenEnd = 0;\n    }\n    Tokenizer.reset = reset;\n    /**\n     * Eat everything until a newline occurs.\n     */\n    function eatLine(state) {\n        var data = state.data;\n        while (state.position < state.length) {\n            switch (data.charCodeAt(state.position)) {\n                case 10: // \\n\n                    state.tokenEnd = state.position;\n                    ++state.position;\n                    ++state.lineNumber;\n                    return true;\n                case 13: // \\r\n                    state.tokenEnd = state.position;\n                    ++state.position;\n                    ++state.lineNumber;\n                    if (data.charCodeAt(state.position) === 10) {\n                        ++state.position;\n                    }\n                    return true;\n                default:\n                    ++state.position;\n                    break;\n            }\n        }\n        state.tokenEnd = state.position;\n        return state.tokenStart !== state.tokenEnd;\n    }\n    Tokenizer.eatLine = eatLine;\n    /** Sets the current token start to the current position */\n    function markStart(state) {\n        state.tokenStart = state.position;\n    }\n    Tokenizer.markStart = markStart;\n    /** Sets the current token start to current position and moves to the next line. */\n    function markLine(state) {\n        state.tokenStart = state.position;\n        return eatLine(state);\n    }\n    Tokenizer.markLine = markLine;\n    /** Advance the state and return line as string. */\n    function readLine(state) {\n        markLine(state);\n        return getTokenString(state);\n    }\n    Tokenizer.readLine = readLine;\n    /** Advance the state and return trimmed line as string. */\n    function readLineTrim(state) {\n        markLine(state);\n        var position = state.position;\n        trim(state, state.tokenStart, state.tokenEnd);\n        state.position = position;\n        return getTokenString(state);\n    }\n    Tokenizer.readLineTrim = readLineTrim;\n    function readLinesChunk(state, count, tokens) {\n        var read = 0;\n        for (var i = 0; i < count; i++) {\n            if (!markLine(state))\n                return read;\n            TokenBuilder.addUnchecked(tokens, state.tokenStart, state.tokenEnd);\n            read++;\n        }\n        return read;\n    }\n    /** Advance the state by the given number of lines and return them*/\n    function markLines(state, count) {\n        var lineTokens = TokenBuilder.create(state.data, count * 2);\n        readLinesChunk(state, count, lineTokens);\n        return lineTokens;\n    }\n    Tokenizer.markLines = markLines;\n    /** Advance the state by the given number of lines and return them */\n    function readLines(state, count) {\n        var ret = [];\n        for (var i = 0; i < count; i++) {\n            ret.push(Tokenizer.readLine(state));\n        }\n        return ret;\n    }\n    Tokenizer.readLines = readLines;\n    /** Advance the state by the given number of lines and return line starts/ends as tokens. */\n    function readLinesAsync(state, count, ctx, initialLineCount) {\n        if (initialLineCount === void 0) { initialLineCount = 100000; }\n        return __awaiter(this, void 0, void 0, function () {\n            var lineTokens, linesAlreadyRead;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        lineTokens = TokenBuilder.create(state.data, count * 2);\n                        linesAlreadyRead = 0;\n                        return [4 /*yield*/, chunkedSubtask(ctx, initialLineCount, state, function (chunkSize, state) {\n                                var linesToRead = Math.min(count - linesAlreadyRead, chunkSize);\n                                readLinesChunk(state, linesToRead, lineTokens);\n                                linesAlreadyRead += linesToRead;\n                                return linesToRead;\n                            }, function (ctx, state) { return ctx.update({ message: 'Parsing...', current: state.position, max: state.length }); })];\n                    case 1:\n                        _a.sent();\n                        return [2 /*return*/, lineTokens];\n                }\n            });\n        });\n    }\n    Tokenizer.readLinesAsync = readLinesAsync;\n    function readAllLines(data) {\n        var state = Tokenizer(data);\n        var tokens = TokenBuilder.create(state.data, Math.max(data.length / 80, 2));\n        while (markLine(state)) {\n            TokenBuilder.add(tokens, state.tokenStart, state.tokenEnd);\n        }\n        return tokens;\n    }\n    Tokenizer.readAllLines = readAllLines;\n    function readLinesChunkChecked(state, count, tokens) {\n        var read = 0;\n        for (var i = 0; i < count; i++) {\n            if (!markLine(state))\n                return read;\n            TokenBuilder.add(tokens, state.tokenStart, state.tokenEnd);\n            read++;\n        }\n        return read;\n    }\n    function readAllLinesAsync(data, ctx, chunkSize) {\n        if (chunkSize === void 0) { chunkSize = 100000; }\n        return __awaiter(this, void 0, void 0, function () {\n            var state, tokens;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        state = Tokenizer(data);\n                        tokens = TokenBuilder.create(state.data, Math.max(data.length / 80, 2));\n                        return [4 /*yield*/, chunkedSubtask(ctx, chunkSize, state, function (chunkSize, state) {\n                                readLinesChunkChecked(state, chunkSize, tokens);\n                                return state.position < state.length ? chunkSize : 0;\n                            }, function (ctx, state) { return ctx.update({ message: 'Parsing...', current: state.position, max: state.length }); })];\n                    case 1:\n                        _a.sent();\n                        return [2 /*return*/, tokens];\n                }\n            });\n        });\n    }\n    Tokenizer.readAllLinesAsync = readAllLinesAsync;\n    /**\n     * Eat everything until a whitespace/newline occurs.\n     */\n    function eatValue(state) {\n        while (state.position < state.length) {\n            switch (state.data.charCodeAt(state.position)) {\n                case 9: // \\t\n                case 10: // \\n\n                case 13: // \\r\n                case 32: // ' '\n                    state.tokenEnd = state.position;\n                    return;\n                default:\n                    ++state.position;\n                    break;\n            }\n        }\n        state.tokenEnd = state.position;\n    }\n    Tokenizer.eatValue = eatValue;\n    /**\n     * Skips all the whitespace - space, tab, newline, CR\n     * Handles incrementing line count.\n     */\n    function skipWhitespace(state) {\n        var prev = -1;\n        while (state.position < state.length) {\n            var c = state.data.charCodeAt(state.position);\n            switch (c) {\n                case 9: // '\\t'\n                case 32: // ' '\n                    prev = c;\n                    ++state.position;\n                    break;\n                case 10: // \\n\n                    // handle \\r\\n\n                    if (prev !== 13) {\n                        ++state.lineNumber;\n                    }\n                    prev = c;\n                    ++state.position;\n                    break;\n                case 13: // \\r\n                    prev = c;\n                    ++state.position;\n                    ++state.lineNumber;\n                    break;\n                default:\n                    return prev;\n            }\n        }\n        return prev;\n    }\n    Tokenizer.skipWhitespace = skipWhitespace;\n    /** Trims spaces and tabs */\n    function trim(state, start, end) {\n        var data = state.data;\n        var s = start, e = end - 1;\n        var c = data.charCodeAt(s);\n        while ((c === 9 || c === 32) && s <= e)\n            c = data.charCodeAt(++s);\n        c = data.charCodeAt(e);\n        while ((c === 9 || c === 32) && e >= s)\n            c = data.charCodeAt(--e);\n        state.tokenStart = s;\n        state.tokenEnd = e + 1;\n        state.position = end;\n        return state;\n    }\n    Tokenizer.trim = trim;\n})(Tokenizer || (Tokenizer = {}));\nexport function trimStr(data, start, end) {\n    var s = start, e = end - 1;\n    var c = data.charCodeAt(s);\n    while ((c === 9 || c === 32) && s <= e)\n        c = data.charCodeAt(++s);\n    c = data.charCodeAt(e);\n    while ((c === 9 || c === 32) && e >= s)\n        c = data.charCodeAt(--e);\n    return data.substring(s, e + 1);\n}\nexport var TokenBuilder;\n(function (TokenBuilder) {\n    function resize(builder) {\n        // scale the size using golden ratio, because why not.\n        var newBuffer = new Uint32Array((1.61 * builder.indices.length) | 0);\n        newBuffer.set(builder.indices);\n        builder.indices = newBuffer;\n        builder.indicesLenMinus2 = (newBuffer.length - 2) | 0;\n    }\n    function add(tokens, start, end) {\n        var builder = tokens;\n        if (builder.offset > builder.indicesLenMinus2) {\n            resize(builder);\n        }\n        builder.indices[builder.offset++] = start;\n        builder.indices[builder.offset++] = end;\n        tokens.count++;\n    }\n    TokenBuilder.add = add;\n    function addToken(tokens, tokenizer) {\n        add(tokens, tokenizer.tokenStart, tokenizer.tokenEnd);\n    }\n    TokenBuilder.addToken = addToken;\n    function addUnchecked(tokens, start, end) {\n        tokens.indices[tokens.offset++] = start;\n        tokens.indices[tokens.offset++] = end;\n        tokens.count++;\n    }\n    TokenBuilder.addUnchecked = addUnchecked;\n    function create(data, size) {\n        size = Math.max(10, size);\n        return {\n            data: data,\n            indicesLenMinus2: (size - 2) | 0,\n            count: 0,\n            offset: 0,\n            indices: new Uint32Array(size)\n        };\n    }\n    TokenBuilder.create = create;\n})(TokenBuilder || (TokenBuilder = {}));\n","/*\n * Copyright (c) 2017 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * from https://github.com/dsehnal/CIFTools.js\n * @author David Sehnal <david.sehnal@gmail.com>\n */\nvar ReaderResult;\n(function (ReaderResult) {\n    function error(message, line) {\n        if (line === void 0) { line = -1; }\n        return new Error(message, line);\n    }\n    ReaderResult.error = error;\n    function success(result, warnings) {\n        if (warnings === void 0) { warnings = []; }\n        return new Success(result, warnings);\n    }\n    ReaderResult.success = success;\n    var Error = /** @class */ (function () {\n        function Error(message, line) {\n            this.message = message;\n            this.line = line;\n            this.isError = true;\n        }\n        Error.prototype.toString = function () {\n            if (this.line >= 0) {\n                return \"[Line \".concat(this.line, \"] \").concat(this.message);\n            }\n            return this.message;\n        };\n        return Error;\n    }());\n    ReaderResult.Error = Error;\n    var Success = /** @class */ (function () {\n        function Success(result, warnings) {\n            this.result = result;\n            this.warnings = warnings;\n            this.isError = false;\n        }\n        return Success;\n    }());\n    ReaderResult.Success = Success;\n})(ReaderResult || (ReaderResult = {}));\nexport { ReaderResult };\n","/**\n * Copyright (c) 2017-2022 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * Code-generated 'CCD' schema file. Dictionary versions: mmCIF 5.379, IHM 1.23, MA 1.4.5.\n *\n * @author molstar/ciftools package\n */\nimport { Column } from '../../../../mol-data/db';\nvar Schema = Column.Schema;\nvar str = Schema.str;\nvar float = Schema.float;\nvar List = Schema.List;\nvar lstr = Schema.lstr;\nvar Aliased = Schema.Aliased;\nvar int = Schema.int;\nvar coord = Schema.coord;\nexport var CCD_Schema = {\n    /**\n     * Data items in the CHEM_COMP category give details about each\n     * of the chemical components from which the relevant chemical\n     * structures can be constructed, such as name, mass or charge.\n     *\n     * The related categories CHEM_COMP_ATOM, CHEM_COMP_BOND,\n     * CHEM_COMP_ANGLE etc. describe the detailed geometry of these\n     * chemical components.\n     */\n    chem_comp: {\n        /**\n         * The formula for the chemical component. Formulae are written\n         * according to the following rules:\n         *\n         * (1) Only recognized element symbols may be used.\n         *\n         * (2) Each element symbol is followed by a 'count' number. A count\n         * of '1' may be omitted.\n         *\n         * (3) A space or parenthesis must separate each cluster of\n         * (element symbol + count), but in general parentheses are\n         * not used.\n         *\n         * (4) The order of elements depends on whether carbon is\n         * present or not. If carbon is present, the order should be:\n         * C, then H, then the other elements in alphabetical order\n         * of their symbol. If carbon is not present, the elements\n         * are listed purely in alphabetic order of their symbol. This\n         * is the 'Hill' system used by Chemical Abstracts.\n         */\n        formula: str,\n        /**\n         * Formula mass in daltons of the chemical component.\n         */\n        formula_weight: float,\n        /**\n         * The value of _chem_comp.id must uniquely identify each item in\n         * the CHEM_COMP list.\n         *\n         * For protein polymer entities, this is the three-letter code for\n         * the amino acid.\n         *\n         * For nucleic acid polymer entities, this is the one-letter code\n         * for the base.\n         */\n        id: str,\n        /**\n         * The identifier for the parent component of the nonstandard\n         * component. May be be a comma separated list if this component\n         * is derived from multiple components.\n         *\n         * Items in this indirectly point to _chem_comp.id in\n         * the CHEM_COMP category.\n         */\n        mon_nstd_parent_comp_id: List(',', function (x) { return x; }),\n        /**\n         * The full name of the component.\n         */\n        name: str,\n        /**\n         * For standard polymer components, the one-letter code for\n         * the component.   For non-standard polymer components, the\n         * one-letter code for parent component if this exists;\n         * otherwise, the one-letter code should be given as 'X'.\n         *\n         * Components that derived from multiple parents components\n         * are described by a sequence of one-letter-codes.\n         */\n        one_letter_code: str,\n        /**\n         * For standard polymer components, the common three-letter code for\n         * the component.   Non-standard polymer components and non-polymer\n         * components are also assigned three-letter-codes.\n         *\n         * For ambiguous polymer components three-letter code should\n         * be given as 'UNK'.  Ambiguous ions are assigned the code 'UNX'.\n         * Ambiguous non-polymer components are assigned the code 'UNL'.\n         */\n        three_letter_code: str,\n        /**\n         * For standard polymer components, the type of the monomer.\n         * Note that monomers that will form polymers are of three types:\n         * linking monomers, monomers with some type of N-terminal (or 5')\n         * cap and monomers with some type of C-terminal (or 3') cap.\n         */\n        type: Aliased(lstr),\n        /**\n         * Synonym list for the component.\n         */\n        pdbx_synonyms: List(';', function (x) { return x; }),\n        /**\n         * A preliminary classification used by PDB.\n         */\n        pdbx_type: str,\n        /**\n         * A preliminary classification used by PDB to indicate\n         * that the chemistry of this component while described\n         * as clearly as possible is still ambiguous.  Software\n         * tools may not be able to process this component\n         * definition.\n         */\n        pdbx_ambiguous_flag: str,\n        /**\n         * Identifies the _chem_comp.id of the component that\n         * has replaced this component.\n         */\n        pdbx_replaced_by: str,\n        /**\n         * Identifies the _chem_comp.id's of the components\n         * which have been replaced by this component.\n         * Multiple id codes should be separated by commas.\n         */\n        pdbx_replaces: str,\n        /**\n         * The net integer charge assigned to this component. This is the\n         * formal charge assignment normally found in chemical diagrams.\n         */\n        pdbx_formal_charge: int,\n        /**\n         * This data item provides additional details about the model coordinates\n         * in the component definition.\n         */\n        pdbx_model_coordinates_details: str,\n        /**\n         * This data item identifies the PDB database code from which the heavy\n         * atom model coordinates were obtained.\n         */\n        pdbx_model_coordinates_db_code: str,\n        /**\n         * This data item identifies the source of the ideal coordinates in the\n         * component definition.\n         */\n        pdbx_ideal_coordinates_details: str,\n        /**\n         * This data item identifies if ideal coordinates are missing in this definition.\n         */\n        pdbx_ideal_coordinates_missing_flag: Aliased(lstr),\n        /**\n         * This data item identifies if model coordinates are missing in this definition.\n         */\n        pdbx_model_coordinates_missing_flag: Aliased(lstr),\n        /**\n         * Date component was added to database.\n         */\n        pdbx_initial_date: str,\n        /**\n         * Date component was last modified.\n         */\n        pdbx_modified_date: str,\n        /**\n         * This data item holds the current release status for the component.\n         */\n        pdbx_release_status: Aliased(str),\n        /**\n         * This data item identifies the deposition site that processed\n         * this chemical component defintion.\n         */\n        pdbx_processing_site: Aliased(str),\n    },\n    /**\n     * Data items in the CHEM_COMP_ATOM category record details about\n     * the atoms in a chemical component. Specifying the atomic\n     * coordinates for the components in this category is an\n     * alternative to specifying the structure of the component\n     * via bonds, angles, planes etc. in the appropriate\n     * CHEM_COMP subcategories.\n     */\n    chem_comp_atom: {\n        /**\n         * An alternative identifier for the atom. This data item would be\n         * used in cases where alternative nomenclatures exist for labelling\n         * atoms in a group.\n         */\n        alt_atom_id: str,\n        /**\n         * The value of _chem_comp_atom.atom_id must uniquely identify\n         * each atom in each monomer in the CHEM_COMP_ATOM list.\n         *\n         * The atom identifiers need not be unique over all atoms in the\n         * data block; they need only be unique for each atom in a\n         * component.\n         *\n         * Note that this item need not be a number; it can be any unique\n         * identifier.\n         */\n        atom_id: str,\n        /**\n         * The net integer charge assigned to this atom. This is the\n         * formal charge assignment normally found in chemical diagrams.\n         */\n        charge: int,\n        /**\n         * The x component of the coordinates for this atom in this\n         * component specified as orthogonal angstroms. The choice of\n         * reference axis frame for the coordinates is arbitrary.\n         *\n         * The set of coordinates input for the entity here is intended to\n         * correspond to the atomic model used to generate restraints for\n         * structure refinement, not to atom sites in the ATOM_SITE\n         * list.\n         */\n        model_Cartn_x: coord,\n        /**\n         * The y component of the coordinates for this atom in this\n         * component specified as orthogonal angstroms. The choice of\n         * reference axis frame for the coordinates is arbitrary.\n         *\n         * The set of coordinates input for the entity here is intended to\n         * correspond to the atomic model used to generate restraints for\n         * structure refinement, not to atom sites in the ATOM_SITE\n         * list.\n         */\n        model_Cartn_y: coord,\n        /**\n         * The z component of the coordinates for this atom in this\n         * component specified as orthogonal angstroms. The choice of\n         * reference axis frame for the coordinates is arbitrary.\n         *\n         * The set of coordinates input for the entity here is intended to\n         * correspond to the atomic model used to generate restraints for\n         * structure refinement, not to atom sites in the ATOM_SITE\n         * list.\n         */\n        model_Cartn_z: coord,\n        /**\n         * This data item is a pointer to _chem_comp.id in the CHEM_COMP\n         * category.\n         */\n        comp_id: str,\n        /**\n         * The code used to identify the atom species representing\n         * this atom type. Normally this code is the element\n         * symbol.\n         */\n        type_symbol: str,\n        /**\n         * Atom name alignment offset in PDB atom field.\n         */\n        pdbx_align: int,\n        /**\n         * Ordinal index for the component atom list.\n         */\n        pdbx_ordinal: int,\n        /**\n         * An alternative x component of the coordinates for this atom in this\n         * component specified as orthogonal angstroms.\n         */\n        pdbx_model_Cartn_x_ideal: coord,\n        /**\n         * An alternative y component of the coordinates for this atom in this\n         * component specified as orthogonal angstroms.\n         */\n        pdbx_model_Cartn_y_ideal: coord,\n        /**\n         * An alternative z component of the coordinates for this atom in this\n         * component specified as orthogonal angstroms.\n         */\n        pdbx_model_Cartn_z_ideal: coord,\n        /**\n         * The chiral configuration of the atom that is a chiral center.\n         */\n        pdbx_stereo_config: Aliased(lstr),\n        /**\n         * A flag indicating an aromatic atom.\n         */\n        pdbx_aromatic_flag: Aliased(lstr),\n        /**\n         * A flag indicating a leaving atom.\n         */\n        pdbx_leaving_atom_flag: Aliased(lstr),\n    },\n    /**\n     * Data items in the CHEM_COMP_BOND category record details about\n     * the bonds between atoms in a chemical component. Target values\n     * may be specified as bond orders, as a distance between the two\n     * atoms, or both.\n     */\n    chem_comp_bond: {\n        /**\n         * The ID of the first of the two atoms that define the bond.\n         *\n         * This data item is a pointer to _chem_comp_atom.atom_id in the\n         * CHEM_COMP_ATOM category.\n         */\n        atom_id_1: str,\n        /**\n         * The ID of the second of the two atoms that define the bond.\n         *\n         * This data item is a pointer to _chem_comp_atom.atom_id in the\n         * CHEM_COMP_ATOM category.\n         */\n        atom_id_2: str,\n        /**\n         * This data item is a pointer to _chem_comp.id in the CHEM_COMP\n         * category.\n         */\n        comp_id: str,\n        /**\n         * The value that should be taken as the target for the chemical\n         * bond associated with the specified atoms, expressed as a bond\n         * order.\n         */\n        value_order: Aliased(lstr),\n        /**\n         * Ordinal index for the component bond list.\n         */\n        pdbx_ordinal: int,\n        /**\n         * Stereochemical configuration across a double bond.\n         */\n        pdbx_stereo_config: Aliased(lstr),\n        /**\n         * A flag indicating an aromatic bond.\n         */\n        pdbx_aromatic_flag: Aliased(lstr),\n    },\n    /**\n     * Data items in the CHEM_COMP_DESCRIPTOR category provide\n     * string descriptors of component chemical structure.\n     */\n    pdbx_chem_comp_descriptor: {\n        /**\n         * This data item is a pointer to _chem_comp.id in the CHEM_COMP\n         * category.\n         */\n        comp_id: str,\n        /**\n         * This data item contains the descriptor value for this\n         * component.\n         */\n        descriptor: str,\n        /**\n         * This data item contains the descriptor type.\n         */\n        type: Aliased(lstr),\n        /**\n         * This data item contains the name of the program\n         * or library used to compute the descriptor.\n         */\n        program: str,\n        /**\n         * This data item contains the version of the program\n         * or library used to compute the descriptor.\n         */\n        program_version: str,\n    },\n    /**\n     * Data items in the CHEM_COMP_IDENTIFIER category provide\n     * identifiers for chemical components.\n     */\n    pdbx_chem_comp_identifier: {\n        /**\n         * This data item is a pointer to _chem_comp.id in the CHEM_COMP\n         * category.\n         */\n        comp_id: str,\n        /**\n         * This data item contains the identifier value for this\n         * component.\n         */\n        identifier: str,\n        /**\n         * This data item contains the identifier type.\n         */\n        type: Aliased(str),\n        /**\n         * This data item contains the name of the program\n         * or library used to compute the identifier.\n         */\n        program: str,\n        /**\n         * This data item contains the version of the program\n         * or library used to compute the identifier.\n         */\n        program_version: str,\n    },\n};\n;\n","/**\n * Copyright (c) 2017-2021 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\nimport { Column } from '../../../../../mol-data/db';\nimport { mmCIF_Schema as mmCIF } from '../../../../../mol-io/reader/cif/schema/mmcif';\nexport var AtomsSchema = {\n    /**\n     * The chemical element of this atom site.\n     * For mmCIF files, this points to atom_type.symbol in the ATOM_TYPE category.\n     */\n    type_symbol: Column.Schema.Aliased(mmCIF.atom_site.type_symbol),\n    /**\n     * A component of the identifier for this atom site.\n     * This is a standardized name for the atom within its residue.\n     * For mmCIF files, this points to chem_comp_atom.atom_id in the CHEM_COMP_ATOM category.\n     */\n    label_atom_id: mmCIF.atom_site.label_atom_id,\n    /**\n     * An alternative identifier for label_atom_id that may be provided by an author\n     * in order to match the identification used in the publication that describes the structure.\n     */\n    auth_atom_id: mmCIF.atom_site.auth_atom_id,\n    /**\n     * A component of the identifier for this atom site.\n     * Identifies an alternative conformation for this atom site.\n     */\n    label_alt_id: mmCIF.atom_site.label_alt_id,\n    /**\n     * A component of the identifier for this atom site.\n     * For mmCIF files, this points to chem_comp.id in the CHEM_COMP category.\n     */\n    label_comp_id: mmCIF.atom_site.label_comp_id,\n    /**\n     * An alternative identifier for atom_site.label_comp_id that may be provided by an author\n     * in order to match the identification used in the publication that describes the structure.\n     */\n    auth_comp_id: mmCIF.atom_site.auth_comp_id,\n    /**\n     * The net integer charge assigned to this atom.\n     * This is the formal charge assignment normally found in chemical diagrams.\n     */\n    pdbx_formal_charge: mmCIF.atom_site.pdbx_formal_charge,\n    // id, occupancy and B_iso_or_equiv are part of conformation\n};\nexport var ResiduesSchema = {\n    /**\n     * The group of atoms to which the atom site belongs. This data item is provided for\n     * compatibility with the original Protein Data Bank format, and only for that purpose.\n     */\n    group_PDB: mmCIF.atom_site.group_PDB,\n    /**\n     * For mmCIF files, this points to entity_poly_seq.num in the ENTITY_POLY_SEQ category.\n     */\n    label_seq_id: mmCIF.atom_site.label_seq_id,\n    /**\n     * An alternative identifier for atom_site.label_seq_id that may be provided by an author\n     * in order to match the identification used in the publication that describes the structure.\n     */\n    auth_seq_id: mmCIF.atom_site.auth_seq_id,\n    /**\n     * PDB insertion code.\n     */\n    pdbx_PDB_ins_code: mmCIF.atom_site.pdbx_PDB_ins_code,\n    // comp_id is part of atoms because of microheterogeneity\n};\nexport var ChainsSchema = {\n    /**\n     * A component of the identifier for this atom site.\n     * For mmCIF files, this points to struct_asym.id in the STRUCT_ASYM category.\n     */\n    label_asym_id: mmCIF.atom_site.label_asym_id,\n    /**\n     * An alternative identifier for atomsite.label_asym_id that may be provided by an author\n     * in order to match the identification used in the publication that describes the structure.\n     */\n    auth_asym_id: mmCIF.atom_site.auth_asym_id,\n    /**\n     * For mmCIF files, this points to _entity.id in the ENTITY category.\n     */\n    label_entity_id: mmCIF.atom_site.label_entity_id\n};\nexport var AtomicIndex;\n(function (AtomicIndex) {\n    function EmptyResidueKey() { return { label_entity_id: '', label_asym_id: '', auth_seq_id: 0, pdbx_PDB_ins_code: void 0 }; }\n    AtomicIndex.EmptyResidueKey = EmptyResidueKey;\n})(AtomicIndex || (AtomicIndex = {}));\nexport var AtomicHierarchy;\n(function (AtomicHierarchy) {\n    /** Start residue inclusive */\n    function chainStartResidueIndex(segs, cI) {\n        return segs.residueAtomSegments.index[segs.chainAtomSegments.offsets[cI]];\n    }\n    AtomicHierarchy.chainStartResidueIndex = chainStartResidueIndex;\n    /** End residue exclusive */\n    function chainEndResidueIndexExcl(segs, cI) {\n        return segs.residueAtomSegments.index[segs.chainAtomSegments.offsets[cI + 1] - 1] + 1;\n    }\n    AtomicHierarchy.chainEndResidueIndexExcl = chainEndResidueIndexExcl;\n    function chainResidueCount(segs, cI) {\n        return chainEndResidueIndexExcl(segs, cI) - chainStartResidueIndex(segs, cI);\n    }\n    AtomicHierarchy.chainResidueCount = chainResidueCount;\n})(AtomicHierarchy || (AtomicHierarchy = {}));\n","/**\n * Copyright (c) 2017-2022 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * Code-generated 'BIRD' schema file. Dictionary versions: mmCIF 5.379, IHM 1.23, MA 1.4.5.\n *\n * @author molstar/ciftools package\n */\nimport { Column } from '../../../../mol-data/db';\nvar Schema = Column.Schema;\nvar str = Schema.str;\nvar float = Schema.float;\nvar lstr = Schema.lstr;\nvar Aliased = Schema.Aliased;\nvar int = Schema.int;\nexport var BIRD_Schema = {\n    /**\n     * Data items in the PDBX_REFERENCE_MOLECULE category record\n     * reference information about small polymer molecules.\n     */\n    pdbx_reference_molecule: {\n        /**\n         * The value of _pdbx_reference_molecule.prd_id is the unique identifier\n         * for the reference molecule in this family.\n         *\n         * By convention this ID uniquely identifies the reference molecule in\n         * in the PDB reference dictionary.\n         *\n         * The ID has the template form PRD_dddddd (e.g. PRD_000001)\n         */\n        prd_id: str,\n        /**\n         * Formula mass in daltons of the entity.\n         */\n        formula_weight: float,\n        /**\n         * The formula for the reference entity. Formulae are written\n         * according to the rules:\n         *\n         * 1. Only recognised element symbols may be used.\n         *\n         * 2. Each element symbol is followed by a 'count' number. A count\n         * of '1' may be omitted.\n         *\n         * 3. A space or parenthesis must separate each element symbol and\n         * its count, but in general parentheses are not used.\n         *\n         * 4. The order of elements depends on whether or not carbon is\n         * present. If carbon is present, the order should be: C, then\n         * H, then the other elements in alphabetical order of their\n         * symbol. If carbon is not present, the elements are listed\n         * purely in alphabetic order of their symbol. This is the\n         * 'Hill' system used by Chemical Abstracts.\n         */\n        formula: str,\n        /**\n         * Defines the structural classification of the entity.\n         */\n        type: Aliased(lstr),\n        /**\n         * Evidence for the assignment of _pdbx_reference_molecule.type\n         */\n        type_evidence_code: str,\n        /**\n         * Broadly defines the function of the entity.\n         */\n        class: Aliased(lstr),\n        /**\n         * Evidence for the assignment of _pdbx_reference_molecule.class\n         */\n        class_evidence_code: str,\n        /**\n         * A name of the entity.\n         */\n        name: str,\n        /**\n         * Defines how this entity is represented in PDB data files.\n         */\n        represent_as: Aliased(lstr),\n        /**\n         * For entities represented as single molecules, the identifier\n         * corresponding to the chemical definition for the molecule.\n         */\n        chem_comp_id: str,\n        /**\n         * Special details about this molecule.\n         */\n        compound_details: str,\n        /**\n         * Description of this molecule.\n         */\n        description: str,\n        /**\n         * The PDB accession code for the entry containing a representative example of this molecule.\n         */\n        representative_PDB_id_code: str,\n        /**\n         * Defines the current PDB release status for this molecule definition.\n         */\n        release_status: Aliased(lstr),\n        /**\n         * Assigns the identifier for the reference molecule which have been replaced\n         * by this reference molecule.\n         * Multiple molecule identifier codes should be separated by commas.\n         */\n        replaces: str,\n        /**\n         * Assigns the identifier of the reference molecule that has replaced this molecule.\n         */\n        replaced_by: str,\n    },\n    /**\n     * Data items in the PDBX_REFERENCE_ENTITY_LIST category record\n     * the list of entities within each reference molecule.\n     */\n    pdbx_reference_entity_list: {\n        /**\n         * The value of _pdbx_reference_entity_list.prd_id is a reference\n         * _pdbx_reference_molecule.prd_id in the PDBX_REFERENCE_MOLECULE category.\n         */\n        prd_id: str,\n        /**\n         * The value of _pdbx_reference_entity_list.ref_entity_id is a unique identifier\n         * the a constituent entity within this reference molecule.\n         */\n        ref_entity_id: str,\n        /**\n         * Defines the polymer characteristic of the entity.\n         */\n        type: Aliased(lstr),\n        /**\n         * Additional details about this entity.\n         */\n        details: str,\n        /**\n         * The component number of this entity within the molecule.\n         */\n        component_id: int,\n    },\n    /**\n     * Data items in the PDBX_REFERENCE_ENTITY_NONPOLY category record\n     * the list of entities within each reference molecule.\n     */\n    pdbx_reference_entity_nonpoly: {\n        /**\n         * The value of _pdbx_reference_entity_nonpoly.prd_id is a reference\n         * _pdbx_reference_entity_list.prd_id in the PDBX_REFERENCE_ENTITY_LIST category.\n         */\n        prd_id: str,\n        /**\n         * The value of _pdbx_reference_entity_nonpoly.ref_entity_id is a reference\n         * to _pdbx_reference_entity_list.ref_entity_id in PDBX_REFERENCE_ENTITY_LIST category.\n         */\n        ref_entity_id: str,\n        /**\n         * A name of the non-polymer entity.\n         */\n        name: str,\n        /**\n         * For non-polymer entities, the identifier corresponding\n         * to the chemical definition for the molecule.\n         */\n        chem_comp_id: str,\n    },\n    /**\n     * Data items in the PDBX_REFERENCE_ENTITY_LINK category give details about\n     * the linkages between entities within reference molecules.\n     */\n    pdbx_reference_entity_link: {\n        /**\n         * The value of _pdbx_reference_entity_link.link_id uniquely identifies\n         * linkages between entities with a molecule.\n         */\n        link_id: int,\n        /**\n         * The value of _pdbx_reference_entity_link.prd_id is a reference\n         * _pdbx_reference_entity_list.prd_id in the PDBX_REFERENCE_ENTITY_LIST category.\n         */\n        prd_id: str,\n        /**\n         * A description of special aspects of a linkage between\n         * chemical components in the structure.\n         */\n        details: str,\n        /**\n         * The reference entity id of the first of the two entities joined by the\n         * linkage.\n         *\n         * This data item is a pointer to _pdbx_reference_entity_list.ref_entity_id\n         * in the PDBX_REFERENCE_ENTITY_LIST category.\n         */\n        ref_entity_id_1: str,\n        /**\n         * The reference entity id of the second of the two entities joined by the\n         * linkage.\n         *\n         * This data item is a pointer to _pdbx_reference_entity_list.ref_entity_id\n         * in the PDBX_REFERENCE_ENTITY_LIST category.\n         */\n        ref_entity_id_2: str,\n        /**\n         * For a polymer entity, the sequence number in the first of\n         * the two entities containing the linkage.\n         *\n         * This data item is a pointer to _pdbx_reference_entity_poly_seq.num\n         * in the PDBX_REFERENCE_ENTITY_POLY_SEQ category.\n         */\n        entity_seq_num_1: int,\n        /**\n         * For a polymer entity, the sequence number in the second of\n         * the two entities containing the linkage.\n         *\n         * This data item is a pointer to _pdbx_reference_entity_poly_seq.num\n         * in the PDBX_REFERENCE_ENTITY_POLY_SEQ category.\n         */\n        entity_seq_num_2: int,\n        /**\n         * The component identifier in the first of the two entities containing the linkage.\n         *\n         * For polymer entities, this data item is a pointer to _pdbx_reference_entity_poly_seq.mon_id\n         * in the PDBX_REFERENCE_ENTITY_POLY_SEQ category.\n         *\n         * For non-polymer entities, this data item is a pointer to\n         * _pdbx_reference_entity_nonpoly.chem_comp_id in the\n         * PDBX_REFERENCE_ENTITY_NONPOLY category.\n         */\n        comp_id_1: str,\n        /**\n         * The component identifier in the second of the two entities containing the linkage.\n         *\n         * For polymer entities, this data item is a pointer to _pdbx_reference_entity_poly_seq.mon_id\n         * in the PDBX_REFERENCE_ENTITY_POLY_SEQ category.\n         *\n         * For non-polymer entities, this data item is a pointer to\n         * _pdbx_reference_entity_nonpoly.chem_comp_id in the\n         * PDBX_REFERENCE_ENTITY_NONPOLY category.\n         */\n        comp_id_2: str,\n        /**\n         * The atom identifier/name in the first of the two entities containing the linkage.\n         */\n        atom_id_1: str,\n        /**\n         * The atom identifier/name in the second of the two entities containing the linkage.\n         */\n        atom_id_2: str,\n        /**\n         * The bond order target for the chemical linkage.\n         */\n        value_order: Aliased(lstr),\n        /**\n         * The entity component identifier for the first of two entities containing the linkage.\n         */\n        component_1: int,\n        /**\n         * The entity component identifier for the second of two entities containing the linkage.\n         */\n        component_2: int,\n        /**\n         * A code indicating the entity types involved in the linkage.\n         */\n        link_class: Aliased(str),\n    },\n    /**\n     * Data items in the PDBX_REFERENCE_ENTITY_POLY_LINK category give details about\n     * polymer linkages including both standard and non-standard linkages between\n     * polymer componnents.\n     */\n    pdbx_reference_entity_poly_link: {\n        /**\n         * The value of _pdbx_reference_entity_poly_link.link_id uniquely identifies\n         * a linkage within a polymer entity.\n         */\n        link_id: int,\n        /**\n         * The value of _pdbx_reference_entity_poly_link.prd_id is a reference\n         * _pdbx_reference_entity_list.prd_id in the PDBX_REFERENCE_ENTITY_POLY category.\n         */\n        prd_id: str,\n        /**\n         * The reference entity id of the polymer entity containing the linkage.\n         *\n         * This data item is a pointer to _pdbx_reference_entity_poly.ref_entity_id\n         * in the PDBX_REFERENCE_ENTITY_POLY category.\n         */\n        ref_entity_id: str,\n        /**\n         * The entity component identifier entity containing the linkage.\n         */\n        component_id: int,\n        /**\n         * For a polymer entity, the sequence number in the first of\n         * the two components making the linkage.\n         *\n         * This data item is a pointer to _pdbx_reference_entity_poly_seq.num\n         * in the PDBX_REFERENCE_ENTITY_POLY_SEQ category.\n         */\n        entity_seq_num_1: int,\n        /**\n         * For a polymer entity, the sequence number in the second of\n         * the two components making the linkage.\n         *\n         * This data item is a pointer to _pdbx_reference_entity_poly_seq.num\n         * in the PDBX_REFERENCE_ENTITY_POLY_SEQ category.\n         */\n        entity_seq_num_2: int,\n        /**\n         * The component identifier in the first of the two components making the\n         * linkage.\n         *\n         * This data item is a pointer to _pdbx_reference_entity_poly_seq.mon_id\n         * in the PDBX_REFERENCE_ENTITY_POLY_SEQ category.\n         */\n        comp_id_1: str,\n        /**\n         * The component identifier in the second of the two components making the\n         * linkage.\n         *\n         * This data item is a pointer to _pdbx_reference_entity_poly_seq.mon_id\n         * in the PDBX_REFERENCE_ENTITY_POLY_SEQ category.\n         */\n        comp_id_2: str,\n        /**\n         * The atom identifier/name in the first of the two components making\n         * the linkage.\n         */\n        atom_id_1: str,\n        /**\n         * The atom identifier/name in the second of the two components making\n         * the linkage.\n         */\n        atom_id_2: str,\n        /**\n         * The bond order target for the non-standard linkage.\n         */\n        value_order: Aliased(lstr),\n    },\n    /**\n     * Data items in the PDBX_REFERENCE_ENTITY_POLY category record details about\n     * the polymer, such as the type of the polymer, the number of\n     * monomers and whether it has nonstandard features.\n     */\n    pdbx_reference_entity_poly: {\n        /**\n         * The value of _pdbx_reference_entity_poly.prd_id is a reference\n         * _pdbx_reference_entity_list.prd_id in the  PDBX_REFERENCE_ENTITY_LIST category.\n         */\n        prd_id: str,\n        /**\n         * The value of _pdbx_reference_entity_poly.ref_entity_id is a reference\n         * to _pdbx_reference_entity_list.ref_entity_id in PDBX_REFERENCE_ENTITY_LIST category.\n         */\n        ref_entity_id: str,\n        /**\n         * The type of the polymer.\n         */\n        type: Aliased(str),\n        /**\n         * The database code for this source information\n         */\n        db_code: str,\n        /**\n         * The database name for this source information\n         */\n        db_name: str,\n    },\n    /**\n     * Data items in the PDBX_REFERENCE_ENTITY_POLY_SEQ category specify the sequence\n     * of monomers in a polymer.\n     */\n    pdbx_reference_entity_poly_seq: {\n        /**\n         * The value of _pdbx_reference_entity_poly_seq.prd_id is a reference\n         * _pdbx_reference_entity_poly.prd_id in the  PDBX_REFERENCE_ENTITY_POLY category.\n         */\n        prd_id: str,\n        /**\n         * The value of _pdbx_reference_entity_poly_seq.ref_entity_id is a reference\n         * to _pdbx_reference_entity_poly.ref_entity_id in PDBX_REFERENCE_ENTITY_POLY category.\n         */\n        ref_entity_id: str,\n        /**\n         * This data item is the chemical component identifier of monomer.\n         */\n        mon_id: str,\n        /**\n         * This data item is the chemical component identifier for the parent component corresponding to this monomer.\n         */\n        parent_mon_id: str,\n        /**\n         * The value of _pdbx_reference_entity_poly_seq.num must uniquely and sequentially\n         * identify a record in the PDBX_REFERENCE_ENTITY_POLY_SEQ list.\n         *\n         * This value is conforms to author numbering conventions and does not map directly\n         * to the numbering conventions used for _entity_poly_seq.num.\n         */\n        num: int,\n        /**\n         * A flag to indicate that this monomer is observed in the instance example.\n         */\n        observed: Aliased(lstr),\n        /**\n         * A flag to indicate that sequence heterogeneity at this monomer position.\n         */\n        hetero: Aliased(lstr),\n    },\n    /**\n     * Additional features associated with the reference entity.\n     */\n    pdbx_reference_entity_sequence: {\n        /**\n         * The value of _pdbx_reference_entity_sequence.prd_id is a reference\n         * _pdbx_reference_entity_list.prd_id in the  PDBX_REFERENCE_ENTITY_LIST category.\n         */\n        prd_id: str,\n        /**\n         * The value of _pdbx_reference_entity_sequence.ref_entity_id is a reference\n         * to _pdbx_reference_entity_list.ref_entity_id in PDBX_REFERENCE_ENTITY_LIST category.\n         */\n        ref_entity_id: str,\n        /**\n         * The monomer type for the sequence.\n         */\n        type: Aliased(str),\n        /**\n         * A flag to indicate a non-ribosomal entity.\n         */\n        NRP_flag: Aliased(str),\n        /**\n         * The one-letter-code sequence for this entity.  Non-standard monomers are represented as 'X'.\n         */\n        one_letter_codes: str,\n    },\n    /**\n     * Data items in the PDBX_REFERENCE_ENTITY_SRC_NAT category record\n     * details of the source from which the entity was obtained.\n     */\n    pdbx_reference_entity_src_nat: {\n        /**\n         * The value of _pdbx_reference_entity_src_nat.prd_id is a reference\n         * _pdbx_reference_entity_list.prd_id in the  PDBX_REFERENCE_ENTITY_LIST category.\n         */\n        prd_id: str,\n        /**\n         * The value of _pdbx_reference_entity_src_nat.ref_entity_id is a reference\n         * to _pdbx_reference_entity_list.ref_entity_id in PDBX_REFERENCE_ENTITY_LIST category.\n         */\n        ref_entity_id: str,\n        /**\n         * The value of _pdbx_reference_entity_src_nat.ordinal distinguishes\n         * source details for this entity.\n         */\n        ordinal: int,\n        /**\n         * The scientific name of the organism from which the entity was isolated.\n         */\n        organism_scientific: str,\n        /**\n         * The NCBI TaxId of the organism from which the entity was isolated.\n         */\n        taxid: str,\n        /**\n         * The database code for this source information\n         */\n        db_code: str,\n        /**\n         * The database name for this source information\n         */\n        db_name: str,\n    },\n    /**\n     * Data items in the PDBX_PRD_AUDIT category records\n     * the status and tracking information for this molecule.\n     */\n    pdbx_prd_audit: {\n        /**\n         * This data item is a pointer to _pdbx_reference_molecule.prd_id in the\n         * pdbx_reference_molecule category.\n         */\n        prd_id: str,\n        /**\n         * The date associated with this audit record.\n         */\n        date: str,\n        /**\n         * An identifier for the wwPDB site creating or modifying the molecule.\n         */\n        processing_site: Aliased(str),\n        /**\n         * The action associated with this audit record.\n         */\n        action_type: Aliased(str),\n    },\n};\n;\n","/**\n * Copyright (c) 2017-2018 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\nimport { Column } from '../../../../mol-data/db';\nvar Schema = Column.Schema;\nvar str = Schema.str;\nvar float = Schema.float;\nvar datablock = {\n    id: str,\n    description: str\n};\nvar dictionary = {\n    title: str,\n    datablock_id: str,\n    version: str\n};\nvar dictionary_history = {\n    version: str,\n    update: str,\n    revision: str\n};\nvar sub_category = {\n    id: str,\n    description: str\n};\nvar category_group_list = {\n    id: str,\n    parent_id: str,\n    description: str\n};\nvar item_type_list = {\n    code: str,\n    primitive_code: str,\n    construct: str,\n    detail: str\n};\nvar item_units_list = {\n    code: str,\n    detail: str\n};\nvar item_units_conversion = {\n    from_code: str,\n    to_code: str,\n    operator: str,\n    factor: float\n};\n// TODO save frame dic schema\nexport var dic_Schema = {\n    datablock: datablock,\n    dictionary: dictionary,\n    dictionary_history: dictionary_history,\n    sub_category: sub_category,\n    category_group_list: category_group_list,\n    item_type_list: item_type_list,\n    item_units_list: item_units_list,\n    item_units_conversion: item_units_conversion\n};\n","/**\n * Copyright (c) 2018 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n */\nimport { Column } from '../../../../mol-data/db';\nvar Schema = Column.Schema;\nvar str = Schema.str;\nvar int = Schema.int;\nvar float = Schema.float;\nvar Aliased = Schema.Aliased;\nvar Vector = Schema.Vector;\nexport var DensityServer_Header_Schema = {\n    density_server_result: {\n        'server_version': str,\n        'datetime_utc': str,\n        'guid': str,\n        'is_empty': Aliased(str),\n        'has_error': Aliased(str),\n        'error': str,\n        'query_source_id': str,\n        'query_type': Aliased(str),\n        'query_box_type': Aliased(str),\n        'query_box_a': Vector(3),\n        'query_box_b': Vector(3)\n    }\n};\nexport var DensityServer_Data_Schema = {\n    volume_data_3d_info: {\n        'name': str,\n        // zero indexed axis order of the data\n        'axis_order': Vector(3, int),\n        // Origin in fractional coords\n        'origin': Vector(3),\n        // Dimension in fractional coords\n        'dimensions': Vector(3),\n        'sample_rate': int,\n        // number of samples along each axis\n        'sample_count': Vector(3, int),\n        'spacegroup_number': int,\n        'spacegroup_cell_size': Vector(3),\n        // angles in degrees\n        'spacegroup_cell_angles': Vector(3),\n        'mean_source': float,\n        'mean_sampled': float,\n        'sigma_source': float,\n        'sigma_sampled': float,\n        'min_source': float,\n        'min_sampled': float,\n        'max_source': float,\n        'max_sampled': float\n    },\n    volume_data_3d: {\n        values: float\n    }\n};\n","/**\n * Copyright (c) 2017-2022 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * Code-generated 'CifCore' schema file. Dictionary versions: CifCore 3.1.0.\n *\n * @author molstar/ciftools package\n */\nimport { Column } from '../../../../mol-data/db';\nvar Schema = Column.Schema;\nvar float = Schema.float;\nvar int = Schema.int;\nvar str = Schema.str;\nvar Matrix = Schema.Matrix;\nexport var CifCore_Schema = {\n    /**\n     * The CATEGORY of data items used to describe the parameters of\n     * the crystal unit cell and their measurement.\n     */\n    cell: {\n        /**\n         * The angle between the bounding cell axes.\n         */\n        angle_alpha: float,\n        /**\n         * The angle between the bounding cell axes.\n         */\n        angle_beta: float,\n        /**\n         * The angle between the bounding cell axes.\n         */\n        angle_gamma: float,\n        /**\n         * The number of the formula units in the unit cell as specified\n         * by _chemical_formula.structural, _chemical_formula.moiety or\n         * _chemical_formula.sum.\n         */\n        formula_units_z: int,\n        /**\n         * The length of each cell axis.\n         */\n        length_a: float,\n        /**\n         * The length of each cell axis.\n         */\n        length_b: float,\n        /**\n         * The length of each cell axis.\n         */\n        length_c: float,\n        /**\n         * Volume of the crystal unit cell.\n         */\n        volume: float,\n    },\n    /**\n     * The CATEGORY of data items which describe the composition and\n     * chemical properties of the compound under study. The formula data\n     * items must be consistent with the density, unit-cell and Z values.\n     */\n    chemical: {\n        /**\n         * The temperature at which a crystalline solid changes to a liquid.\n         */\n        melting_point: float,\n        /**\n         * Trivial name by which the compound is commonly known.\n         */\n        name_common: str,\n        /**\n         * IUPAC or Chemical Abstracts full name of compound.\n         */\n        name_systematic: str,\n    },\n    /**\n     * The CATEGORY of data items which specify the composition and chemical\n     * properties of the compound. The formula data items must agree\n     * with those that specify the density, unit-cell and Z values.\n     *\n     * The following rules apply to the construction of the data items\n     * _chemical_formula.analytical, *.structural and *.sum. For the\n     * data item *.moiety the formula construction is broken up into\n     * residues or moieties, i.e. groups of atoms that form a molecular\n     * unit or molecular ion. The  rules given below apply within each\n     * moiety but different requirements apply to the way that moieties\n     * are connected (see _chemical_formula.moiety).\n     *\n     * 1. Only recognized element symbols may be used.\n     *\n     * 2. Each element symbol is followed by a 'count' number. A count of\n     * '1' may be omitted.\n     *\n     * 3. A space or parenthesis must separate each cluster of (element\n     * symbol + count).\n     *\n     * 4. Where a group of elements is enclosed in parentheses, the\n     * multiplier for the group must follow the closing parentheses.\n     * That is, all element and group multipliers are assumed to be\n     * printed as subscripted numbers. [An exception to this rule\n     * exists for *.moiety formulae where pre- and post-multipliers\n     * are permitted for molecular units].\n     *\n     * 5. Unless the elements are ordered in a manner that corresponds to\n     * their chemical structure, as in _chemical_formula.structural,\n     * the order of the elements within any group or moiety\n     * depends on whether or not carbon is present. If carbon is\n     * present, the order should be: C, then H, then the other\n     * elements in alphabetical order of their symbol. If carbon is\n     * not present, the elements are listed purely in alphabetic order\n     * of their symbol. This is the 'Hill' system used by Chemical\n     * Abstracts. This ordering is used in _chemical_formula.moiety\n     * and _chemical_formula.sum.\n     *\n     * _chemical_formula.IUPAC      '[Mo (C O)4 (C18 H33 P)2]'\n     * _chemical_formula.moiety     'C40 H66 Mo O4 P2'\n     * _chemical_formula.structural '((C O)4 (P (C6 H11)3)2)Mo'\n     * _chemical_formula.sum         'C40 H66 Mo O4 P2'\n     * _chemical_formula.weight      768.81\n     */\n    chemical_formula: {\n        /**\n         * Formula with each discrete bonded residue or ion shown as a\n         * separate moiety. See above CHEMICAL_FORMULA for rules\n         * for writing chemical formulae. In addition to the general\n         * formulae requirements, the following rules apply:\n         * 1. Moieties are separated by commas ','.\n         * 2. The order of elements within a moiety follows general rule\n         * 5 in CHEMICAL_FORMULA.\n         * 3. Parentheses are not used within moieties but may surround\n         * a moiety. Parentheses may not be nested.\n         * 4. Charges should be placed at the end of the moiety. The\n         * Singlege '+' or '-' may be preceded by a numerical multiplier\n         * and should be separated from the last (element symbol +\n         * count) by a space. Pre- or post-multipliers may be used for\n         * individual moieties.\n         */\n        moiety: str,\n        /**\n         * Chemical formulae in which all discrete bonded residues and ions are\n         * summed over the constituent elements, following the ordering given\n         * in rule 5 of the CATEGORY description. Parentheses normally not used.\n         */\n        sum: str,\n        /**\n         * Mass corresponding to the formulae _chemical_formula.structural,\n         * *_IUPAC, *_moiety or *_sum and, together with the Z value and cell\n         * parameters yield the density given as _exptl_crystal.density_diffrn.\n         */\n        weight: float,\n    },\n    /**\n     * The CATEGORY of data items used to specify space group\n     * information about the crystal used in the diffraction measurements.\n     *\n     * Space-group types are identified by their number as listed in\n     * International Tables for Crystallography Volume A, or by their\n     * Schoenflies symbol. Specific settings of the space groups can\n     * be identified by their Hall symbol, by specifying their\n     * symmetry operations or generators, or by giving the\n     * transformation that relates the specific setting to the\n     * reference setting based on International Tables Volume A and\n     * stored in this dictionary.\n     *\n     * The commonly used Hermann-Mauguin symbol determines the\n     * space-group type uniquely but several different Hermann-Mauguin\n     * symbols may refer to the same space-group type. A\n     * Hermann-Mauguin symbol contains information on the choice of\n     * the basis, but not on the choice of origin.\n     *\n     * Ref: International Tables for Crystallography (2002). Volume A,\n     * Space-group symmetry, edited by Th. Hahn, 5th ed.\n     * Dordrecht: Kluwer Academic Publishers.\n     */\n    space_group: {\n        /**\n         * The name of the system of geometric crystal classes of space\n         * groups (crystal system) to which the space group belongs.\n         * Note that rhombohedral space groups belong to the\n         * trigonal system.\n         */\n        crystal_system: str,\n        /**\n         * The number as assigned in International Tables for Crystallography\n         * Vol. A, specifying the proper affine class (i.e. the orientation\n         * preserving affine class) of space groups (crystallographic space\n         * group type) to which the space group belongs. This number defines\n         * the space group type but not the coordinate system expressed.\n         */\n        it_number: int,\n        /**\n         * The full international Hermann-Mauguin space-group symbol as\n         * defined in Section 2.2.3 and given as the second item of the\n         * second line of each of the space-group tables of Part 7 of\n         * International Tables for Crystallography Volume A (2002).\n         *\n         * Each component of the space-group name is separated by a\n         * space or an underscore character. The use of a space is\n         * strongly recommended.  The underscore is only retained\n         * because it was used in old CIFs. It should not be used in\n         * new CIFs.\n         *\n         * Subscripts should appear without special symbols. Bars should\n         * be given as negative signs before the numbers to which they\n         * apply. The commonly used Hermann-Mauguin symbol determines the\n         * space-group type uniquely but a given space-group type may\n         * be described by more than one Hermann-Mauguin symbol. The\n         * space-group type is best described using\n         * _space_group.IT_number or _space_group.name_Schoenflies. The\n         * full international Hermann-Mauguin symbol contains information\n         * about the choice of basis for monoclinic and orthorhombic\n         * space groups but does not give information about the choice\n         * of origin. To define the setting uniquely use\n         * _space_group.name_Hall, or list the symmetry operations\n         * or generators.\n         *\n         * Ref: International Tables for Crystallography (2002). Volume A,\n         * Space-group symmetry, edited by Th. Hahn, 5th ed.\n         * Dordrecht: Kluwer Academic Publishers.\n         */\n        'name_h-m_full': str,\n    },\n    /**\n     * The CATEGORY of data items used to describe symmetry equivalent sites\n     * in the crystal unit cell.\n     */\n    space_group_symop: {\n        /**\n         * A parsable string giving one of the symmetry operations of the\n         * space group in algebraic form.  If W is a matrix representation\n         * of the rotational part of the symmetry operation defined by the\n         * positions and signs of x, y and z, and w is a column of\n         * translations defined by fractions, an equivalent position\n         * X' is generated from a given position X by the equation\n         *\n         * X' = WX + w\n         *\n         * (Note: X is used to represent bold_italics_x in International\n         * Tables for Crystallography Vol. A, Part 5)\n         *\n         * When a list of symmetry operations is given, it must contain\n         * a complete set of coordinate representatives which generates\n         * all the operations of the space group by the addition of\n         * all primitive translations of the space group. Such\n         * representatives are to be found as the coordinates of\n         * the general-equivalent position in International Tables for\n         * Crystallography Vol. A (2002), to which it is necessary to\n         * add any centring translations shown above the\n         * general-equivalent position.\n         *\n         * That is to say, it is necessary to list explicitly all the\n         * symmetry operations required to generate all the atoms in\n         * the unit cell defined by the setting used.\n         */\n        operation_xyz: str,\n    },\n    /**\n     * The CATEGORY of data items used to specify the geometry bonds in the\n     * structural model as derived from the atomic sites.\n     */\n    geom_bond: {\n        /**\n         * This label is a unique identifier for a particular site in the\n         * asymmetric unit of the crystal unit cell.\n         */\n        atom_site_label_1: str,\n        /**\n         * This label is a unique identifier for a particular site in the\n         * asymmetric unit of the crystal unit cell.\n         */\n        atom_site_label_2: str,\n        /**\n         * Intramolecular bond distance between the sites identified\n         * by _geom_bond.id\n         */\n        distance: float,\n        /**\n         * This code signals whether the angle is referred to in a\n         * publication or should be placed in a table of significant angles.\n         */\n        publ_flag: str,\n        /**\n         * The set of data items which specify the symmetry operation codes\n         * which must be applied to the atom sites involved in the geometry angle.\n         *\n         * The symmetry code of each atom site as the symmetry-equivalent position\n         * number 'n' and the cell translation number 'pqr'. These numbers are\n         * combined to form the code 'n pqr' or n_pqr.\n         *\n         * The character string n_pqr is composed as follows:\n         *\n         * n refers to the symmetry operation that is applied to the\n         * coordinates stored in _atom_site.fract_xyz. It must match a\n         * number given in _symmetry_equiv.pos_site_id.\n         *\n         * p, q and r refer to the translations that are subsequently\n         * applied to the symmetry transformed coordinates to generate\n         * the atom used in calculating the angle. These translations\n         * (x,y,z) are related to (p,q,r) by the relations\n         * p = 5 + x\n         * q = 5 + y\n         * r = 5 + z\n         */\n        site_symmetry_1: str,\n        /**\n         * The set of data items which specify the symmetry operation codes\n         * which must be applied to the atom sites involved in the geometry angle.\n         *\n         * The symmetry code of each atom site as the symmetry-equivalent position\n         * number 'n' and the cell translation number 'pqr'. These numbers are\n         * combined to form the code 'n pqr' or n_pqr.\n         *\n         * The character string n_pqr is composed as follows:\n         *\n         * n refers to the symmetry operation that is applied to the\n         * coordinates stored in _atom_site.fract_xyz. It must match a\n         * number given in _symmetry_equiv.pos_site_id.\n         *\n         * p, q and r refer to the translations that are subsequently\n         * applied to the symmetry transformed coordinates to generate\n         * the atom used in calculating the angle. These translations\n         * (x,y,z) are related to (p,q,r) by the relations\n         * p = 5 + x\n         * q = 5 + y\n         * r = 5 + z\n         */\n        site_symmetry_2: str,\n        /**\n         * Bond valence calculated from the bond distance.\n         */\n        valence: float,\n    },\n    /**\n     * The CATEGORY of data items used to record details about the\n     * creation and subsequent updating of the data block.\n     */\n    audit: {\n        /**\n         * The digital object identifier (DOI) registered to identify\n         * the data set publication represented by the current\n         * data block. This can be used as a unique identifier for\n         * the data block so long as the code used is a valid DOI\n         * (i.e. begins with a valid publisher prefix assigned by a\n         * Registration Agency and a suffix guaranteed to be unique\n         * by the publisher) and has had its metadata deposited\n         * with a DOI Registration Agency.\n         *\n         * A DOI is a unique character string identifying any\n         * object of intellectual property. It provides a\n         * persistent identifier for an object on a digital network\n         * and permits the association of related current data in a\n         * structured extensible way. A DOI is an implementation\n         * of the Internet concepts of Uniform Resource Name and\n         * Universal Resource Locator managed according to the\n         * specifications of the International DOI Foundation\n         * (see http://www.doi.org).\n         */\n        block_doi: str,\n    },\n    /**\n     * The CATEGORY of data items recording database deposition. These data items\n     * are assigned by database managers and should only appear in a CIF if they\n     * originate from that source.\n     */\n    database_code: {\n        /**\n         * Code assigned by the Crystallography Open Database (COD).\n         */\n        cod: str,\n        /**\n         * Code assigned by the Cambridge Structural Database.\n         */\n        csd: str,\n        /**\n         * Deposition numbers assigned by the Cambridge Crystallographic\n         * Data Centre (CCDC) to files containing structural information\n         * archived by the CCDC.\n         */\n        depnum_ccdc_archive: str,\n        /**\n         * Deposition numbers assigned by the Fachinformationszentrum\n         * Karlsruhe (FIZ) to files containing structural information\n         * archived by the Cambridge Crystallographic Data Centre (CCDC).\n         */\n        depnum_ccdc_fiz: str,\n        /**\n         * Code assigned by the Inorganic Crystal Structure Database.\n         */\n        icsd: str,\n        /**\n         * Code assigned in the Metals Data File.\n         */\n        mdf: str,\n        /**\n         * Code assigned by the NBS (NIST) Crystal Data Database.\n         */\n        nbs: str,\n    },\n    /**\n     * The CATEGORY of data items used to describe atom site information\n     * used in crystallographic structure studies.\n     */\n    atom_site: {\n        /**\n         * Code for type of atomic displacement parameters used for the site.\n         */\n        adp_type: str,\n        /**\n         * A standard code to signal if the site coordinates have been\n         * determined from the intensities or calculated from the geometry\n         * of surrounding sites, or have been assigned dummy coordinates.\n         */\n        calc_flag: str,\n        /**\n         * A code which identifies a cluster of atoms that show long range\n         * positional disorder but are locally ordered. Within each such\n         * cluster of atoms, _atom_site.disorder_group is used to identify\n         * the sites that are simultaneously occupied. This field is only\n         * needed if there is more than one cluster of disordered atoms\n         * showing independent local order.\n         */\n        disorder_assembly: str,\n        /**\n         * A code that identifies a group of positionally disordered atom\n         * sites that are locally simultaneously occupied. Atoms that are\n         * positionally disordered over two or more sites (e.g. the H\n         * atoms of a methyl group that exists in two orientations) can\n         * be assigned to two or more groups. Sites belonging to the same\n         * group are simultaneously occupied, but those belonging to\n         * different groups are not. A minus prefix (e.g. \"-1\") is used to\n         * indicate sites disordered about a special position.\n         */\n        disorder_group: str,\n        /**\n         * Atom site coordinates as fractions of the cell length values.\n         */\n        fract_x: float,\n        /**\n         * Atom site coordinates as fractions of the cell length values.\n         */\n        fract_y: float,\n        /**\n         * Atom site coordinates as fractions of the cell length values.\n         */\n        fract_z: float,\n        /**\n         * This label is a unique identifier for a particular site in the\n         * asymmetric unit of the crystal unit cell. It is made up of\n         * components, _atom_site.label_component_0 to *_6, which may be\n         * specified as separate data items. Component 0 usually matches one\n         * of the specified _atom_type.symbol codes. This is not mandatory\n         * if an _atom_site.type_symbol item is included in the atom site\n         * list. The _atom_site.type_symbol always takes precedence over\n         * an _atom_site.label in the identification of the atom type. The\n         * label components 1 to 6 are optional, and normally only\n         * components 0 and 1 are used. Note that components 0 and 1 are\n         * concatenated, while all other components, if specified, are\n         * separated by an underline character. Underline separators are\n         * only used if higher-order components exist. If an intermediate\n         * component is not used it may be omitted provided the underline\n         * separators are inserted. For example the label 'C233__ggg' is\n         * acceptable and represents the components C, 233, '', and ggg.\n         * Each label may have a different number of components.\n         */\n        label: str,\n        /**\n         * The fraction of the atom type present at this site.\n         * The sum of the occupancies of all the atom types at this site\n         * may not significantly exceed 1.0 unless it is a dummy site. The\n         * value must lie in the 99.97% Gaussian confidence interval\n         * -3u =< x =< 1 + 3u. The _enumeration.range of 0.0:1.0 is thus\n         * correctly interpreted as meaning (0.0 - 3u) =< x =< (1.0 + 3u).\n         */\n        occupancy: float,\n        /**\n         * A concatenated series of single-letter codes which indicate the\n         * refinement restraints or constraints applied to this site. This\n         * item should not be used. It has been replaced by\n         * _atom_site.refinement_flags_posn, _ADP and _occupancy. It is\n         * retained in this dictionary only to provide compatibility with\n         * legacy CIFs.\n         */\n        refinement_flags: str,\n        /**\n         * The number of different sites that are generated by the\n         * application of the space-group symmetry to the coordinates\n         * given for this site. It is equal to the multiplicity given\n         * for this Wyckoff site in International Tables for Cryst.\n         * Vol. A (2002). It is equal to the multiplicity of the general\n         * position divided by the order of the site symmetry given in\n         * _atom_site.site_symmetry_order.\n         */\n        site_symmetry_multiplicity: int,\n        /**\n         * A code to identify the atom specie(s) occupying this site.\n         * This code must match a corresponding _atom_type.symbol. The\n         * specification of this code is optional if component_0 of the\n         * _atom_site.label is used for this purpose. See _atom_type.symbol.\n         */\n        type_symbol: str,\n        /**\n         * Isotropic atomic displacement parameter, or equivalent isotropic\n         * atomic  displacement parameter, U(equiv), in angstroms squared,\n         * calculated from anisotropic atomic displacement  parameters.\n         *\n         * U(equiv) = (1/3) sum~i~[sum~j~(U^ij^ a*~i~ a*~j~ a~i~.a~j~)]\n         *\n         * a  = the real-space cell vectors\n         * a* = the reciprocal-space cell lengths\n         * Ref: Fischer, R. X. & Tillmanns, E. (1988). Acta Cryst. C44, 775-776.\n         */\n        u_iso_or_equiv: float,\n    },\n    /**\n     * The CATEGORY of data items used to describe the anisotropic\n     * thermal parameters of the atomic sites in a crystal structure.\n     */\n    atom_site_aniso: {\n        /**\n         * Anisotropic atomic displacement parameters are usually looped in\n         * a separate list. If this is the case, this code must match the\n         * _atom_site.label of the associated atom in the atom coordinate\n         * list and conform with the same rules described in _atom_site.label.\n         */\n        label: str,\n        /**\n         * These are the standard anisotropic atomic displacement\n         * components in angstroms squared which appear in the\n         * structure factor term:\n         *\n         * T = exp{-2pi^2^ sum~i~ [sum~j~ (U^ij^ h~i~ h~j~ a*~i~ a*~j~) ] }\n         *\n         * h = the Miller indices\n         * a* = the reciprocal-space cell lengths\n         *\n         * The unique elements of the real symmetric matrix are entered by row.\n         */\n        u_11: float,\n        /**\n         * These are the standard anisotropic atomic displacement\n         * components in angstroms squared which appear in the\n         * structure factor term:\n         *\n         * T = exp{-2pi^2^ sum~i~ [sum~j~ (U^ij^ h~i~ h~j~ a*~i~ a*~j~) ] }\n         *\n         * h = the Miller indices\n         * a* = the reciprocal-space cell lengths\n         *\n         * The unique elements of the real symmetric matrix are entered by row.\n         */\n        u: Matrix(3, 3),\n        /**\n         * These are the standard anisotropic atomic displacement\n         * components in angstroms squared which appear in the\n         * structure factor term:\n         *\n         * T = exp{-2pi^2^ sum~i~ [sum~j~ (U^ij^ h~i~ h~j~ a*~i~ a*~j~) ] }\n         *\n         * h = the Miller indices\n         * a* = the reciprocal-space cell lengths\n         *\n         * The unique elements of the real symmetric matrix are entered by row.\n         */\n        u_12: float,\n        /**\n         * These are the standard anisotropic atomic displacement\n         * components in angstroms squared which appear in the\n         * structure factor term:\n         *\n         * T = exp{-2pi^2^ sum~i~ [sum~j~ (U^ij^ h~i~ h~j~ a*~i~ a*~j~) ] }\n         *\n         * h = the Miller indices\n         * a* = the reciprocal-space cell lengths\n         *\n         * The unique elements of the real symmetric matrix are entered by row.\n         */\n        u_13: float,\n        /**\n         * These are the standard anisotropic atomic displacement\n         * components in angstroms squared which appear in the\n         * structure factor term:\n         *\n         * T = exp{-2pi^2^ sum~i~ [sum~j~ (U^ij^ h~i~ h~j~ a*~i~ a*~j~) ] }\n         *\n         * h = the Miller indices\n         * a* = the reciprocal-space cell lengths\n         *\n         * The unique elements of the real symmetric matrix are entered by row.\n         */\n        u_22: float,\n        /**\n         * These are the standard anisotropic atomic displacement\n         * components in angstroms squared which appear in the\n         * structure factor term:\n         *\n         * T = exp{-2pi^2^ sum~i~ [sum~j~ (U^ij^ h~i~ h~j~ a*~i~ a*~j~) ] }\n         *\n         * h = the Miller indices\n         * a* = the reciprocal-space cell lengths\n         *\n         * The unique elements of the real symmetric matrix are entered by row.\n         */\n        u_23: float,\n        /**\n         * These are the standard anisotropic atomic displacement\n         * components in angstroms squared which appear in the\n         * structure factor term:\n         *\n         * T = exp{-2pi^2^ sum~i~ [sum~j~ (U^ij^ h~i~ h~j~ a*~i~ a*~j~) ] }\n         *\n         * h = the Miller indices\n         * a* = the reciprocal-space cell lengths\n         *\n         * The unique elements of the real symmetric matrix are entered by row.\n         */\n        u_33: float,\n    },\n    /**\n     * The CATEGORY of data items used to describe atomic type information\n     * used in crystallographic structure studies.\n     */\n    atom_type: {\n        /**\n         * A description of the atom(s) designated by this atom type. In\n         * most cases this will be the element name and oxidation state of\n         * a single atom  species. For disordered or nonstoichiometric\n         * structures it will describe a combination of atom species.\n         */\n        description: str,\n        /**\n         * The identity of the atom specie(s) representing this atom type.\n         * Normally this code is the element symbol followed by the charge\n         * if there is one. The symbol may be composed of any character except\n         * an underline or a blank, with the proviso that digits designate an\n         * oxidation state and must be followed by a + or - character.\n         */\n        symbol: str,\n    },\n    /**\n     * The CATEGORY of data items used to describe atomic scattering\n     * information used in crystallographic structure studies.\n     */\n    atom_type_scat: {\n        /**\n         * The imaginary component of the anomalous dispersion scattering factors\n         * for this atom type and radiation by _diffrn_radiation_wavelength.value\n         */\n        dispersion_imag: float,\n        /**\n         * The real component of the anomalous dispersion scattering factors\n         * for this atom type and radiation by _diffrn_radiation_wavelength.value\n         */\n        dispersion_real: float,\n        /**\n         * Reference to source of scattering factors used for this atom type.\n         */\n        source: str,\n    },\n};\nexport var CifCore_Aliases = {\n    'cell.formula_units_z': [\n        'cell_formula_units_Z',\n    ],\n    'space_group.it_number': [\n        'space_group_IT_number',\n        'symmetry_Int_Tables_number',\n    ],\n    'space_group.name_h-m_full': [\n        'symmetry_space_group_name_H-M',\n    ],\n    'space_group_symop.operation_xyz': [\n        'symmetry_equiv_pos_as_xyz',\n    ],\n    'geom_bond.atom_site_label_1': [\n        'geom_bond_atom_site_id_1',\n    ],\n    'geom_bond.atom_site_label_2': [\n        'geom_bond_atom_site_id_2',\n    ],\n    'geom_bond.distance': [\n        'geom_bond_dist',\n    ],\n    'audit.block_doi': [\n        'audit_block_DOI',\n    ],\n    'database_code.cod': [\n        'database_code_COD',\n    ],\n    'database_code.csd': [\n        'database_code_CSD',\n    ],\n    'database_code.depnum_ccdc_archive': [\n        'database_code_depnum_CCDC_archive',\n    ],\n    'database_code.depnum_ccdc_fiz': [\n        'database_code_depnum_CCDC_fiz',\n    ],\n    'database_code.icsd': [\n        'database_code_ICSD',\n    ],\n    'database_code.mdf': [\n        'database_code_MDF',\n    ],\n    'database_code.nbs': [\n        'database_code_NBS',\n    ],\n    'atom_site.adp_type': [\n        'atom_site_ADP_type',\n        'atom_site_thermal_displace_type',\n    ],\n    'atom_site.label': [\n        'atom_site_id',\n    ],\n    'atom_site.site_symmetry_multiplicity': [\n        'atom_site_symmetry_multiplicity',\n    ],\n    'atom_site.u_iso_or_equiv': [\n        'atom_site_U_iso_or_equiv',\n    ],\n    'atom_site_aniso.label': [\n        'atom_site_anisotrop_id',\n    ],\n    'atom_site_aniso.u_11': [\n        'atom_site_aniso_U_11',\n        'atom_site_anisotrop_U_11',\n    ],\n    'atom_site_aniso.u_12': [\n        'atom_site_aniso_U_12',\n        'atom_site_anisotrop_U_12',\n    ],\n    'atom_site_aniso.u_13': [\n        'atom_site_aniso_U_13',\n        'atom_site_anisotrop_U_13',\n    ],\n    'atom_site_aniso.u_22': [\n        'atom_site_aniso_U_22',\n        'atom_site_anisotrop_U_22',\n    ],\n    'atom_site_aniso.u_23': [\n        'atom_site_aniso_U_23',\n        'atom_site_anisotrop_U_23',\n    ],\n    'atom_site_aniso.u_33': [\n        'atom_site_aniso_U_33',\n        'atom_site_anisotrop_U_33',\n    ],\n};\n;\n","/**\n * Copyright (c) 2022 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\nimport { Column } from '../../../../mol-data/db';\nimport { DensityServer_Data_Schema } from './density-server';\nvar Schema = Column.Schema;\nvar int = Schema.int;\nexport var Segmentation_Data_Schema = {\n    volume_data_3d_info: DensityServer_Data_Schema.volume_data_3d_info,\n    segmentation_data_table: {\n        set_id: int,\n        segment_id: int,\n    },\n    segmentation_data_3d: {\n        values: int\n    }\n};\n","/**\n * Copyright (c) 2017-2022 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\nimport { parseCifText } from './cif/text/parser';\nimport { parseCifBinary } from './cif/binary/parser';\nimport { toDatabaseCollection, toDatabase } from './cif/schema';\nimport { mmCIF_Schema } from './cif/schema/mmcif';\nimport { CCD_Schema } from './cif/schema/ccd';\nimport { BIRD_Schema } from './cif/schema/bird';\nimport { dic_Schema } from './cif/schema/dic';\nimport { DensityServer_Data_Schema } from './cif/schema/density-server';\nimport { CifCore_Schema, CifCore_Aliases } from './cif/schema/cif-core';\nimport { Segmentation_Data_Schema } from './cif/schema/segmentation';\nexport var CIF = {\n    parse: function (data) { return typeof data === 'string' ? parseCifText(data) : parseCifBinary(data); },\n    parseText: parseCifText,\n    parseBinary: parseCifBinary,\n    toDatabaseCollection: toDatabaseCollection,\n    toDatabase: toDatabase,\n    schema: {\n        mmCIF: function (frame) { return toDatabase(mmCIF_Schema, frame); },\n        CCD: function (frame) { return toDatabase(CCD_Schema, frame); },\n        BIRD: function (frame) { return toDatabase(BIRD_Schema, frame); },\n        dic: function (frame) { return toDatabase(dic_Schema, frame); },\n        cifCore: function (frame) { return toDatabase(CifCore_Schema, frame, CifCore_Aliases); },\n        densityServer: function (frame) { return toDatabase(DensityServer_Data_Schema, frame); },\n        segmentation: function (frame) { return toDatabase(Segmentation_Data_Schema, frame); },\n    }\n};\nexport * from './cif/data-model';\n","/**\n * Copyright (c) 2018-2019 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\nexport var AtomicNumbers = {\n    'H': 1, 'D': 1, 'T': 1, 'HE': 2, 'LI': 3, 'BE': 4, 'B': 5, 'C': 6, 'N': 7, 'O': 8, 'F': 9, 'NE': 10, 'NA': 11, 'MG': 12, 'AL': 13, 'SI': 14, 'P': 15, 'S': 16, 'CL': 17, 'AR': 18, 'K': 19, 'CA': 20, 'SC': 21, 'TI': 22, 'V': 23, 'CR': 24, 'MN': 25, 'FE': 26, 'CO': 27, 'NI': 28, 'CU': 29, 'ZN': 30, 'GA': 31, 'GE': 32, 'AS': 33, 'SE': 34, 'BR': 35, 'KR': 36, 'RB': 37, 'SR': 38, 'Y': 39, 'ZR': 40, 'NB': 41, 'MO': 42, 'TC': 43, 'RU': 44, 'RH': 45, 'PD': 46, 'AG': 47, 'CD': 48, 'IN': 49, 'SN': 50, 'SB': 51, 'TE': 52, 'I': 53, 'XE': 54, 'CS': 55, 'BA': 56, 'LA': 57, 'CE': 58, 'PR': 59, 'ND': 60, 'PM': 61, 'SM': 62, 'EU': 63, 'GD': 64, 'TB': 65, 'DY': 66, 'HO': 67, 'ER': 68, 'TM': 69, 'YB': 70, 'LU': 71, 'HF': 72, 'TA': 73, 'W': 74, 'RE': 75, 'OS': 76, 'IR': 77, 'PT': 78, 'AU': 79, 'HG': 80, 'TL': 81, 'PB': 82, 'BI': 83, 'PO': 84, 'AT': 85, 'RN': 86, 'FR': 87, 'RA': 88, 'AC': 89, 'TH': 90, 'PA': 91, 'U': 92, 'NP': 93, 'PU': 94, 'AM': 95, 'CM': 96, 'BK': 97, 'CF': 98, 'ES': 99, 'FM': 100, 'MD': 101, 'NO': 102, 'LR': 103, 'RF': 104, 'DB': 105, 'SG': 106, 'BH': 107, 'HS': 108, 'MT': 109\n};\n// http://dx.doi.org/10.1021/jp8111556 (or 2.0)\nexport var ElementVdwRadii = {\n    1: 1.1, 2: 1.4, 3: 1.81, 4: 1.53, 5: 1.92, 6: 1.7, 7: 1.55, 8: 1.52, 9: 1.47, 10: 1.54, 11: 2.27, 12: 1.73, 13: 1.84, 14: 2.1, 15: 1.8, 16: 1.8, 17: 1.75, 18: 1.88, 19: 2.75, 20: 2.31, 21: 2.3, 22: 2.15, 23: 2.05, 24: 2.05, 25: 2.05, 26: 2.05, 27: 2.0, 28: 2.0, 29: 2.0, 30: 2.1, 31: 1.87, 32: 2.11, 33: 1.85, 34: 1.9, 35: 1.83, 36: 2.02, 37: 3.03, 38: 2.49, 39: 2.4, 40: 2.3, 41: 2.15, 42: 2.1, 43: 2.05, 44: 2.05, 45: 2.0, 46: 2.05, 47: 2.1, 48: 2.2, 49: 2.2, 50: 1.93, 51: 2.17, 52: 2.06, 53: 1.98, 54: 2.16, 55: 3.43, 56: 2.68, 57: 2.5, 58: 2.48, 59: 2.47, 60: 2.45, 61: 2.43, 62: 2.42, 63: 2.4, 64: 2.38, 65: 2.37, 66: 2.35, 67: 2.33, 68: 2.32, 69: 2.3, 70: 2.28, 71: 2.27, 72: 2.25, 73: 2.2, 74: 2.1, 75: 2.05, 76: 2.0, 77: 2.0, 78: 2.05, 79: 2.1, 80: 2.05, 81: 1.96, 82: 2.02, 83: 2.07, 84: 1.97, 85: 2.02, 86: 2.2, 87: 3.48, 88: 2.83, 89: 2.0, 90: 2.4, 91: 2.0, 92: 2.3, 93: 2.0, 94: 2.0, 95: 2.0, 96: 2.0, 97: 2.0, 98: 2.0, 99: 2.0, 100: 2.0, 101: 2.0, 102: 2.0, 103: 2.0, 104: 2.0, 105: 2.0, 106: 2.0, 107: 2.0, 108: 2.0, 109: 2.0\n};\n// https://doi.org/10.1515/pac-2015-0305 (table 2, 3, and 4)\nexport var ElementAtomWeights = {\n    1: 1.008, 2: 4.0026, 3: 6.94, 4: 9.0122, 5: 10.81, 6: 10.81, 7: 14.007, 8: 15.999, 9: 18.998, 10: 20.180, 11: 22.990, 12: 24.305, 13: 26.982, 14: 28.085, 15: 30.974, 16: 32.06, 17: 35.45, 18: 39.948, 19: 39.098, 20: 40.078, 21: 44.956, 22: 47.867, 23: 50.942, 24: 51.996, 25: 54.938, 26: 55.845, 27: 58.933, 28: 58.693, 29: 63.546, 30: 65.38, 31: 69.723, 32: 72.630, 33: 74.922, 34: 78.971, 35: 79.904, 36: 83.798, 37: 85.468, 38: 87.62, 39: 88.906, 40: 91.224, 41: 92.906, 42: 95.95, 43: 96.906, 44: 101.07, 45: 102.91, 46: 106.42, 47: 107.87, 48: 112.41, 49: 114.82, 50: 118.71, 51: 121.76, 52: 127.60, 53: 127.60, 54: 131.29, 55: 132.91, 56: 137.33, 57: 138.91, 58: 140.12, 59: 140.91, 60: 144.24, 61: 144.912, 62: 150.36, 63: 151.96, 64: 157.25, 65: 158.93, 66: 162.50, 67: 164.93, 68: 167.26, 69: 168.93, 70: 173.05, 71: 174.97, 72: 178.49, 73: 180.95, 74: 183.84, 75: 186.21, 76: 190.23, 77: 192.22, 78: 195.08, 79: 196.97, 80: 200.59, 81: 204.38, 82: 207.2, 83: 208.98, 84: 1.97, 85: 2.02, 86: 2.2, 87: 3.48, 88: 2.83, 89: 2.0, 90: 232.04, 91: 231.04, 92: 238.03, 93: 237.048, 94: 244.064, 95: 243.061, 96: 247.070, 97: 247.070, 98: 251.079, 99: 252.083, 100: 257.095, 101: 258.098, 102: 259.101, 103: 262.110, 104: 267.122, 105: 270.131, 106: 271.134, 107: 270.133, 108: 270.134, 109: 278.156\n};\nexport var DefaultVdwRadius = 1.7; // C\nexport var DefaultAtomWeight = 10.81; // C\nexport var DefaultAtomNumber = 0;\nexport function VdwRadius(element) {\n    var i = AtomicNumbers[element];\n    return i === void 0 ? DefaultVdwRadius : ElementVdwRadii[i];\n}\nexport function AtomWeight(element) {\n    var i = AtomicNumbers[element];\n    return i === void 0 ? DefaultAtomWeight : ElementAtomWeights[i];\n}\nexport function AtomNumber(element) {\n    var i = AtomicNumbers[element];\n    return i === void 0 ? DefaultAtomNumber : i;\n}\n","/**\n * Copyright (c) 2018-2022 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\nimport { SecondaryStructureType } from '../../../mol-model/structure/model/types';\nimport { AtomicHierarchy } from '../../../mol-model/structure/model/properties/atomic';\nimport { SecondaryStructure } from '../../../mol-model/structure/model/properties/seconday-structure';\nimport { FormatPropertyProvider } from '../common/property';\nexport { ModelSecondaryStructure };\nvar ModelSecondaryStructure;\n(function (ModelSecondaryStructure) {\n    ModelSecondaryStructure.Descriptor = {\n        name: 'model_secondary_structure',\n    };\n    ModelSecondaryStructure.Provider = FormatPropertyProvider.create(ModelSecondaryStructure.Descriptor);\n    function fromStruct(conf, sheetRange, hierarchy) {\n        var map = new Map();\n        var elements = [{ kind: 'none' }];\n        var coordinates = getCoordinateType(conf, sheetRange);\n        addHelices(conf, coordinates, map, elements);\n        // must add Helices 1st because of 'key' value assignment.\n        addSheets(sheetRange, coordinates, map, conf._rowCount, elements);\n        var n = hierarchy.residues._rowCount;\n        var getIndex = function (rI) { return rI; };\n        var secStruct = {\n            type: new Int32Array(n),\n            key: new Int32Array(n),\n            elements: elements\n        };\n        if (map.size > 0)\n            assignSecondaryStructureRanges(hierarchy, coordinates, map, secStruct);\n        return SecondaryStructure(secStruct.type, secStruct.key, secStruct.elements, getIndex);\n    }\n    ModelSecondaryStructure.fromStruct = fromStruct;\n})(ModelSecondaryStructure || (ModelSecondaryStructure = {}));\nfunction getCoordinateType(conf, sheetRange) {\n    if (conf._rowCount > 0) {\n        if (conf.beg_label_seq_id.valueKind(0) !== 0 /* Column.ValueKinds.Present */ || conf.end_label_seq_id.valueKind(0) !== 0 /* Column.ValueKinds.Present */)\n            return 'auth';\n    }\n    else if (sheetRange) {\n        if (sheetRange.beg_label_seq_id.valueKind(0) !== 0 /* Column.ValueKinds.Present */ || sheetRange.end_label_seq_id.valueKind(0) !== 0 /* Column.ValueKinds.Present */)\n            return 'auth';\n    }\n    return 'label';\n}\nfunction addHelices(cat, coordinates, map, elements) {\n    if (!cat._rowCount)\n        return;\n    var beg_label_asym_id = cat.beg_label_asym_id, beg_label_seq_id = cat.beg_label_seq_id, beg_auth_seq_id = cat.beg_auth_seq_id, pdbx_beg_PDB_ins_code = cat.pdbx_beg_PDB_ins_code;\n    var end_label_seq_id = cat.end_label_seq_id, end_auth_seq_id = cat.end_auth_seq_id, pdbx_end_PDB_ins_code = cat.pdbx_end_PDB_ins_code;\n    var pdbx_PDB_helix_class = cat.pdbx_PDB_helix_class, conf_type_id = cat.conf_type_id, details = cat.details;\n    var beg_seq_id = coordinates === 'label' ? beg_label_seq_id : beg_auth_seq_id;\n    var end_seq_id = coordinates === 'label' ? end_label_seq_id : end_auth_seq_id;\n    for (var i = 0, _i = cat._rowCount; i < _i; i++) {\n        var type = SecondaryStructureType.create(pdbx_PDB_helix_class.valueKind(i) === 0 /* Column.ValueKinds.Present */\n            ? SecondaryStructureType.SecondaryStructurePdb[pdbx_PDB_helix_class.value(i)]\n            : conf_type_id.valueKind(i) === 0 /* Column.ValueKinds.Present */\n                ? SecondaryStructureType.SecondaryStructureMmcif[conf_type_id.value(i)]\n                : 536870912 /* SecondaryStructureType.Flag.NA */);\n        var element = {\n            kind: 'helix',\n            flags: type,\n            type_id: conf_type_id.valueKind(i) === 0 /* Column.ValueKinds.Present */ ? conf_type_id.value(i) : 'helx_p',\n            helix_class: pdbx_PDB_helix_class.value(i),\n            details: details.valueKind(i) === 0 /* Column.ValueKinds.Present */ ? details.value(i) : void 0\n        };\n        var entry = {\n            startSeqId: beg_seq_id.value(i),\n            startInsCode: pdbx_beg_PDB_ins_code.value(i),\n            endSeqId: end_seq_id.value(i),\n            endInsCode: pdbx_end_PDB_ins_code.value(i),\n            type: type,\n            key: elements.length\n        };\n        elements[elements.length] = element;\n        var asymId = beg_label_asym_id.value(i);\n        if (map.has(asymId)) {\n            var entries = map.get(asymId);\n            if (entries.has(entry.startSeqId)) {\n                entries.get(entry.startSeqId).push(entry);\n            }\n            else {\n                entries.set(entry.startSeqId, [entry]);\n            }\n        }\n        else {\n            map.set(asymId, new Map([[entry.startSeqId, [entry]]]));\n        }\n    }\n}\nfunction addSheets(cat, coordinates, map, sheetCount, elements) {\n    if (!cat._rowCount)\n        return;\n    var beg_label_asym_id = cat.beg_label_asym_id, beg_label_seq_id = cat.beg_label_seq_id, beg_auth_seq_id = cat.beg_auth_seq_id, pdbx_beg_PDB_ins_code = cat.pdbx_beg_PDB_ins_code;\n    var end_label_seq_id = cat.end_label_seq_id, end_auth_seq_id = cat.end_auth_seq_id, pdbx_end_PDB_ins_code = cat.pdbx_end_PDB_ins_code;\n    var sheet_id = cat.sheet_id;\n    var beg_seq_id = coordinates === 'label' ? beg_label_seq_id : beg_auth_seq_id;\n    var end_seq_id = coordinates === 'label' ? end_label_seq_id : end_auth_seq_id;\n    var sheet_id_key = new Map();\n    var currentKey = sheetCount + 1;\n    for (var i = 0, _i = cat._rowCount; i < _i; i++) {\n        var id = sheet_id.value(i);\n        var key = void 0;\n        if (sheet_id_key.has(id))\n            key = sheet_id_key.get(id);\n        else {\n            key = currentKey++;\n            sheet_id_key.set(id, key);\n        }\n        var type = SecondaryStructureType.create(4 /* SecondaryStructureType.Flag.Beta */ | 8388608 /* SecondaryStructureType.Flag.BetaSheet */);\n        var element = {\n            kind: 'sheet',\n            flags: type,\n            sheet_id: id,\n            symmetry: void 0\n        };\n        var entry = {\n            startSeqId: beg_seq_id.value(i),\n            startInsCode: pdbx_beg_PDB_ins_code.value(i),\n            endSeqId: end_seq_id.value(i),\n            endInsCode: pdbx_end_PDB_ins_code.value(i),\n            type: type,\n            key: elements.length\n        };\n        elements[elements.length] = element;\n        var asymId = beg_label_asym_id.value(i);\n        if (map.has(asymId)) {\n            var entries = map.get(asymId);\n            if (entries.has(entry.startSeqId)) {\n                entries.get(entry.startSeqId).push(entry);\n            }\n            else {\n                entries.set(entry.startSeqId, [entry]);\n            }\n        }\n        else {\n            map.set(asymId, new Map([[entry.startSeqId, [entry]]]));\n        }\n    }\n    return;\n}\nfunction assignSecondaryStructureEntry(hierarchy, coordinates, entry, resStart, resEnd, data) {\n    var _a = hierarchy.residues, auth_seq_id = _a.auth_seq_id, label_seq_id = _a.label_seq_id, pdbx_PDB_ins_code = _a.pdbx_PDB_ins_code;\n    var endSeqId = entry.endSeqId, endInsCode = entry.endInsCode, key = entry.key, type = entry.type;\n    var seq_id = coordinates === 'label' ? label_seq_id : auth_seq_id;\n    var rI = resStart;\n    while (rI < resEnd) {\n        var seqNumber = seq_id.value(rI);\n        data.type[rI] = type;\n        data.key[rI] = key;\n        if ((seqNumber > endSeqId) ||\n            (seqNumber === endSeqId && pdbx_PDB_ins_code.value(rI) === endInsCode)) {\n            break;\n        }\n        rI++;\n    }\n}\nfunction assignSecondaryStructureRanges(hierarchy, coordinates, map, data) {\n    var chainCount = hierarchy.chainAtomSegments.count;\n    var label_asym_id = hierarchy.chains.label_asym_id;\n    var _a = hierarchy.residues, auth_seq_id = _a.auth_seq_id, label_seq_id = _a.label_seq_id, pdbx_PDB_ins_code = _a.pdbx_PDB_ins_code;\n    var seq_id = coordinates === 'label' ? label_seq_id : auth_seq_id;\n    for (var cI = 0; cI < chainCount; cI++) {\n        var resStart = AtomicHierarchy.chainStartResidueIndex(hierarchy, cI), resEnd = AtomicHierarchy.chainEndResidueIndexExcl(hierarchy, cI);\n        var asymId = label_asym_id.value(cI);\n        if (map.has(asymId)) {\n            var entries = map.get(asymId);\n            for (var rI = resStart; rI < resEnd; rI++) {\n                var seqId = seq_id.value(rI);\n                if (entries.has(seqId)) {\n                    var entryList = entries.get(seqId);\n                    for (var _b = 0, entryList_1 = entryList; _b < entryList_1.length; _b++) {\n                        var entry = entryList_1[_b];\n                        var insCode = pdbx_PDB_ins_code.value(rI);\n                        if (entry.startInsCode !== insCode)\n                            continue;\n                        assignSecondaryStructureEntry(hierarchy, coordinates, entry, rI, resEnd, data);\n                    }\n                }\n            }\n        }\n    }\n}\n","/**\n * Copyright (c) 2017-2022 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\nfunction SecondaryStructure(type, key, elements, getIndex) {\n    return { type: type, key: key, elements: elements, getIndex: getIndex };\n}\nexport { SecondaryStructure };\n","/**\n * Copyright (c) 2019-2020 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\nimport { mmCIF_Schema } from '../../../mol-io/reader/cif/schema/mmcif';\nimport { CifWriter } from '../../../mol-io/writer/cif';\nimport { FormatPropertyProvider } from '../common/property';\nimport { MmcifFormat } from '../mmcif';\nexport { AtomSiteAnisotrop };\nvar Anisotrop = {\n    U: mmCIF_Schema.atom_site_anisotrop.U,\n    U_esd: mmCIF_Schema.atom_site_anisotrop.U_esd\n};\nvar AtomSiteAnisotrop;\n(function (AtomSiteAnisotrop) {\n    AtomSiteAnisotrop.Schema = Anisotrop;\n    AtomSiteAnisotrop.Descriptor = {\n        name: 'atom_site_anisotrop',\n        cifExport: {\n            prefix: '',\n            categories: [{\n                    name: 'atom_site_anisotrop',\n                    instance: function (ctx) {\n                        var p = AtomSiteAnisotrop.Provider.get(ctx.firstModel);\n                        if (!p)\n                            return CifWriter.Category.Empty;\n                        if (!MmcifFormat.is(ctx.firstModel.sourceData))\n                            return CifWriter.Category.Empty;\n                        // TODO filter to write only data for elements that exist in model\n                        return CifWriter.Category.ofTable(ctx.firstModel.sourceData.data.db.atom_site_anisotrop);\n                    }\n                }]\n        }\n    };\n    AtomSiteAnisotrop.Provider = FormatPropertyProvider.create(AtomSiteAnisotrop.Descriptor);\n    function getElementToAnsiotrop(atomId, ansioId) {\n        var atomIdToElement = new Int32Array(atomId.rowCount);\n        atomIdToElement.fill(-1);\n        for (var i = 0, il = atomId.rowCount; i < il; i++) {\n            atomIdToElement[atomId.value(i)] = i;\n        }\n        var elementToAnsiotrop = new Int32Array(atomId.rowCount);\n        elementToAnsiotrop.fill(-1);\n        for (var i = 0, il = ansioId.rowCount; i < il; ++i) {\n            var ei = atomIdToElement[ansioId.value(i)];\n            if (ei !== -1)\n                elementToAnsiotrop[ei] = i;\n        }\n        return elementToAnsiotrop;\n    }\n    AtomSiteAnisotrop.getElementToAnsiotrop = getElementToAnsiotrop;\n    function getElementToAnsiotropFromLabel(atomLabel, ansioLabel) {\n        var atomLabelToElement = {};\n        for (var i = 0, il = atomLabel.rowCount; i < il; i++) {\n            atomLabelToElement[atomLabel.value(i)] = i;\n        }\n        var elementToAnsiotrop = new Int32Array(atomLabel.rowCount);\n        elementToAnsiotrop.fill(-1);\n        for (var i = 0, il = ansioLabel.rowCount; i < il; ++i) {\n            var ei = atomLabelToElement[ansioLabel.value(i)];\n            if (ei !== undefined)\n                elementToAnsiotrop[ei] = i;\n        }\n        return elementToAnsiotrop;\n    }\n    AtomSiteAnisotrop.getElementToAnsiotropFromLabel = getElementToAnsiotropFromLabel;\n})(AtomSiteAnisotrop || (AtomSiteAnisotrop = {}));\n","/**\n * Copyright (c) 2020 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n */\nimport { FormatPropertyProvider } from '../../../../mol-model-formats/structure/common/property';\nimport { CustomPropertyDescriptor } from '../../../custom-property';\nimport { Column, Table } from '../../../../mol-data/db';\nimport { CifWriter } from '../../../../mol-io/writer/cif';\nimport { MmcifFormat } from '../../../../mol-model-formats/structure/mmcif';\nimport { toTable } from '../../../../mol-io/reader/cif/schema';\nexport var GlobalModelTransformInfo;\n(function (GlobalModelTransformInfo) {\n    var _a;\n    var CategoryName = 'molstar_global_model_transform_info';\n    GlobalModelTransformInfo.Schema = (_a = {},\n        _a[CategoryName] = {\n            matrix: Column.Schema.Matrix(4, 4, Column.Schema.float)\n        },\n        _a);\n    GlobalModelTransformInfo.Descriptor = CustomPropertyDescriptor({\n        name: CategoryName,\n        cifExport: {\n            categories: [{\n                    name: CategoryName,\n                    instance: function (ctx) {\n                        var mat = get(ctx.firstModel);\n                        if (!mat)\n                            return CifWriter.Category.Empty;\n                        var table = Table.ofRows(GlobalModelTransformInfo.Schema.molstar_global_model_transform_info, [{ matrix: mat }]);\n                        return CifWriter.Category.ofTable(table);\n                    }\n                }],\n            prefix: 'molstar'\n        }\n    });\n    GlobalModelTransformInfo.Provider = FormatPropertyProvider.create(GlobalModelTransformInfo.Descriptor);\n    function attach(model, matrix) {\n        if (!model.customProperties.has(GlobalModelTransformInfo.Descriptor)) {\n            model.customProperties.add(GlobalModelTransformInfo.Descriptor);\n        }\n        GlobalModelTransformInfo.Provider.set(model, matrix);\n    }\n    GlobalModelTransformInfo.attach = attach;\n    function get(model) {\n        return GlobalModelTransformInfo.Provider.get(model);\n    }\n    GlobalModelTransformInfo.get = get;\n    function fromMmCif(model) {\n        if (!MmcifFormat.is(model.sourceData))\n            return;\n        var cat = model.sourceData.data.frame.categories[CategoryName];\n        if (!cat)\n            return;\n        var table = toTable(GlobalModelTransformInfo.Schema[CategoryName], cat);\n        if (table._rowCount === 0)\n            return;\n        return table.matrix.value(0);\n    }\n    GlobalModelTransformInfo.fromMmCif = fromMmCif;\n    function hasData(model) {\n        if (!MmcifFormat.is(model.sourceData))\n            return false;\n        var cat = model.sourceData.data.frame.categories[CategoryName];\n        return !!cat && cat.rowCount > 0;\n    }\n    GlobalModelTransformInfo.hasData = hasData;\n    function writeMmCif(encoder, matrix) {\n        encoder.writeCategory({\n            name: CategoryName,\n            instance: function () {\n                var table = Table.ofRows(GlobalModelTransformInfo.Schema.molstar_global_model_transform_info, [{ matrix: matrix }]);\n                return CifWriter.Category.ofTable(table);\n            }\n        });\n    }\n    GlobalModelTransformInfo.writeMmCif = writeMmCif;\n})(GlobalModelTransformInfo || (GlobalModelTransformInfo = {}));\n","/**\n * Copyright (c) 2018-2022 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\nimport { __assign } from \"tslib\";\nimport { mmCIF_Schema } from './mmcif';\nimport { Column } from '../../../../mol-data/db';\nexport var mmCIF_residueId_schema = {\n    label_comp_id: mmCIF_Schema.atom_site.label_comp_id,\n    label_seq_id: mmCIF_Schema.atom_site.label_seq_id,\n    pdbx_PDB_ins_code: mmCIF_Schema.atom_site.pdbx_PDB_ins_code,\n    label_asym_id: mmCIF_Schema.atom_site.label_asym_id,\n    label_entity_id: mmCIF_Schema.atom_site.label_entity_id,\n    auth_comp_id: mmCIF_Schema.atom_site.auth_atom_id,\n    auth_seq_id: mmCIF_Schema.atom_site.auth_seq_id,\n    auth_asym_id: mmCIF_Schema.atom_site.auth_asym_id\n};\nexport var mmCIF_chemCompBond_schema = __assign(__assign({}, mmCIF_Schema.chem_comp_bond), { \n    /** Indicates if the bond entry was taken from the protonation variant dictionary */\n    molstar_protonation_variant: Column.Schema.Str() });\n/** Has `type` extended with 'ION' and 'LIPID' */\nexport var mmCIF_chemComp_schema = __assign(__assign({}, mmCIF_Schema.chem_comp), { type: Column.Schema.Aliased(Column.Schema.str) });\n","/**\n * Copyright (c) 2017-2022 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\nimport { Table } from '../../../mol-data/db';\nexport function getModelGroupName(model_id, data) {\n    var ihm_model_group = data.ihm_model_group, ihm_model_group_link = data.ihm_model_group_link;\n    var link = Table.pickRow(ihm_model_group_link, function (i) { return ihm_model_group_link.model_id.value(i) === model_id; });\n    if (link) {\n        var group = Table.pickRow(ihm_model_group, function (i) { return ihm_model_group.id.value(i) === link.group_id; });\n        if (group)\n            return group.name;\n    }\n    return '';\n}\n//\nfunction hasPresentValues(column) {\n    for (var i = 0, il = column.rowCount; i < il; i++) {\n        if (column.valueKind(i) === 0 /* Column.ValueKinds.Present */)\n            return true;\n    }\n    return false;\n}\nfunction substUndefinedColumn(table, a, b) {\n    if (!table[a].isDefined || !hasPresentValues(table[a]))\n        table[a] = table[b];\n    if (!table[b].isDefined || !hasPresentValues(table[b]))\n        table[b] = table[a];\n}\n/** Fix possibly missing auth_/label_ columns */\nexport function getNormalizedAtomSite(atom_site) {\n    var normalized = Table.ofColumns(atom_site._schema, atom_site);\n    substUndefinedColumn(normalized, 'label_atom_id', 'auth_atom_id');\n    substUndefinedColumn(normalized, 'label_comp_id', 'auth_comp_id');\n    substUndefinedColumn(normalized, 'label_seq_id', 'auth_seq_id');\n    substUndefinedColumn(normalized, 'label_asym_id', 'auth_asym_id');\n    return normalized;\n}\n","/**\n * Copyright (c) 2020-2022 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\nimport { mmCIF_Schema } from '../../../mol-io/reader/cif/schema/mmcif';\nimport { Table } from '../../../mol-data/db';\nimport { mmCIF_chemComp_schema } from '../../../mol-io/reader/cif/schema/mmcif-extras';\nimport { getNormalizedAtomSite } from './util';\nexport var BasicSchema = {\n    entry: mmCIF_Schema.entry,\n    struct: mmCIF_Schema.struct,\n    struct_asym: mmCIF_Schema.struct_asym,\n    ihm_model_list: mmCIF_Schema.ihm_model_list,\n    ihm_model_group: mmCIF_Schema.ihm_model_group,\n    ihm_model_group_link: mmCIF_Schema.ihm_model_group_link,\n    entity: mmCIF_Schema.entity,\n    entity_poly: mmCIF_Schema.entity_poly,\n    entity_poly_seq: mmCIF_Schema.entity_poly_seq,\n    pdbx_entity_branch: mmCIF_Schema.pdbx_entity_branch,\n    chem_comp: mmCIF_chemComp_schema,\n    pdbx_chem_comp_identifier: mmCIF_Schema.pdbx_chem_comp_identifier,\n    atom_site: mmCIF_Schema.atom_site,\n    ihm_sphere_obj_site: mmCIF_Schema.ihm_sphere_obj_site,\n    ihm_gaussian_obj_site: mmCIF_Schema.ihm_gaussian_obj_site,\n    pdbx_unobs_or_zero_occ_residues: mmCIF_Schema.pdbx_unobs_or_zero_occ_residues,\n    pdbx_molecule: mmCIF_Schema.pdbx_molecule,\n};\nexport function createBasic(data, normalize) {\n    if (normalize === void 0) { normalize = false; }\n    var basic = Object.create(null);\n    for (var _i = 0, _a = Object.keys(BasicSchema); _i < _a.length; _i++) {\n        var name_1 = _a[_i];\n        if (name_1 in data) {\n            basic[name_1] = data[name_1];\n        }\n        else {\n            basic[name_1] = Table.ofUndefinedColumns(BasicSchema[name_1], 0);\n        }\n    }\n    if (normalize) {\n        basic.atom_site = getNormalizedAtomSite(basic.atom_site);\n    }\n    return basic;\n}\n","/**\n * Copyright (c) 2019-2020 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\nimport { isPolymer } from '../../../mol-model/structure/model/types';\nimport { Column, Table } from '../../../mol-data/db';\nimport { BasicSchema } from '../basic/schema';\nvar EntityBuilder = /** @class */ (function () {\n    function EntityBuilder() {\n        this.count = 0;\n        this.ids = [];\n        this.types = [];\n        this.descriptions = [];\n        this.compoundsMap = new Map();\n        this.namesMap = new Map();\n        this.heteroMap = new Map();\n        this.chainMap = new Map();\n    }\n    EntityBuilder.prototype.set = function (type, description) {\n        this.count += 1;\n        this.ids.push(\"\".concat(this.count));\n        this.types.push(type);\n        this.descriptions.push([description]);\n    };\n    EntityBuilder.prototype.getEntityId = function (compId, moleculeType, chainId, options) {\n        if (moleculeType === 2 /* MoleculeType.Water */) {\n            if (this.waterId === undefined) {\n                this.set('water', (options === null || options === void 0 ? void 0 : options.customName) || 'Water');\n                this.waterId = \"\".concat(this.count);\n            }\n            return this.waterId;\n        }\n        else if (isPolymer(moleculeType)) {\n            if (this.compoundsMap.has(chainId)) {\n                return this.compoundsMap.get(chainId);\n            }\n            else {\n                if (!this.chainMap.has(chainId)) {\n                    this.set('polymer', (options === null || options === void 0 ? void 0 : options.customName) || \"Polymer \".concat(this.chainMap.size + 1));\n                    this.chainMap.set(chainId, \"\".concat(this.count));\n                }\n                return this.chainMap.get(chainId);\n            }\n        }\n        else {\n            if (!this.heteroMap.has(compId)) {\n                this.set('non-polymer', (options === null || options === void 0 ? void 0 : options.customName) || this.namesMap.get(compId) || compId);\n                this.heteroMap.set(compId, \"\".concat(this.count));\n            }\n            return this.heteroMap.get(compId);\n        }\n    };\n    EntityBuilder.prototype.getEntityTable = function () {\n        return Table.ofPartialColumns(BasicSchema.entity, {\n            id: Column.ofStringArray(this.ids),\n            type: Column.ofStringAliasArray(this.types),\n            pdbx_description: Column.ofStringListArray(this.descriptions),\n        }, this.count);\n    };\n    EntityBuilder.prototype.setCompounds = function (compounds) {\n        for (var i = 0, il = compounds.length; i < il; ++i) {\n            var _a = compounds[i], chains = _a.chains, description = _a.description;\n            this.set('polymer', description);\n            for (var j = 0, jl = chains.length; j < jl; ++j) {\n                this.compoundsMap.set(chains[j], \"\".concat(this.count));\n            }\n        }\n    };\n    EntityBuilder.prototype.setNames = function (names) {\n        var _this = this;\n        names.forEach(function (n) { return _this.namesMap.set(n[0], n[1]); });\n    };\n    return EntityBuilder;\n}());\nexport { EntityBuilder };\n","/**\n * Copyright (c) 2019-2022 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\nimport { Table, Column } from '../../../mol-data/db';\nimport { WaterNames, PolymerNames } from '../../../mol-model/structure/model/types';\nimport { SetUtils } from '../../../mol-util/set';\nimport { BasicSchema } from '../basic/schema';\nimport { SaccharideCompIdMap } from '../../../mol-model/structure/structure/carbohydrates/constants';\nvar ProteinAtomIdsList = [\n    new Set(['CA']),\n    new Set(['C']),\n    new Set(['N'])\n];\nvar RnaAtomIdsList = [\n    new Set(['P', 'O3\\'', 'O3*']),\n    new Set(['C4\\'', 'C4*']),\n    new Set(['O2\\'', 'O2*', 'F2\\'', 'F2*'])\n];\nvar DnaAtomIdsList = [\n    new Set(['P', 'O3\\'', 'O3*']),\n    new Set(['C3\\'', 'C3*']),\n    new Set(['O2\\'', 'O2*', 'F2\\'', 'F2*'])\n];\n/** Used to reduce false positives for atom name-based type guessing */\nvar NonPolymerNames = new Set([\n    'FMN', 'NCN', 'FNS', 'FMA', 'ATP', 'ADP', 'AMP', 'GTP', 'GDP', 'GMP',\n    'LIG'\n]);\nvar StandardComponents = (function () {\n    var map = new Map();\n    var components = [\n        { id: 'HIS', name: 'HISTIDINE', type: 'l-peptide linking' },\n        { id: 'ARG', name: 'ARGININE', type: 'l-peptide linking' },\n        { id: 'LYS', name: 'LYSINE', type: 'l-peptide linking' },\n        { id: 'ILE', name: 'ISOLEUCINE', type: 'l-peptide linking' },\n        { id: 'PHE', name: 'PHENYLALANINE', type: 'l-peptide linking' },\n        { id: 'LEU', name: 'LEUCINE', type: 'l-peptide linking' },\n        { id: 'TRP', name: 'TRYPTOPHAN', type: 'l-peptide linking' },\n        { id: 'ALA', name: 'ALANINE', type: 'l-peptide linking' },\n        { id: 'MET', name: 'METHIONINE', type: 'l-peptide linking' },\n        { id: 'CYS', name: 'CYSTEINE', type: 'l-peptide linking' },\n        { id: 'ASN', name: 'ASPARAGINE', type: 'l-peptide linking' },\n        { id: 'VAL', name: 'VALINE', type: 'l-peptide linking' },\n        { id: 'GLY', name: 'GLYCINE', type: 'peptide linking' },\n        { id: 'SER', name: 'SERINE', type: 'l-peptide linking' },\n        { id: 'GLN', name: 'GLUTAMINE', type: 'l-peptide linking' },\n        { id: 'TYR', name: 'TYROSINE', type: 'l-peptide linking' },\n        { id: 'ASP', name: 'ASPARTIC ACID', type: 'l-peptide linking' },\n        { id: 'GLU', name: 'GLUTAMIC ACID', type: 'l-peptide linking' },\n        { id: 'THR', name: 'THREONINE', type: 'l-peptide linking' },\n        { id: 'PRO', name: 'PROLINE', type: 'l-peptide linking' },\n        { id: 'SEC', name: 'SELENOCYSTEINE', type: 'l-peptide linking' },\n        { id: 'PYL', name: 'PYRROLYSINE', type: 'l-peptide linking' },\n        { id: 'MSE', name: 'SELENOMETHIONINE', type: 'l-peptide linking' },\n        { id: 'SEP', name: 'PHOSPHOSERINE', type: 'l-peptide linking' },\n        { id: 'TPO', name: 'PHOSPHOTHREONINE', type: 'l-peptide linking' },\n        { id: 'PTR', name: 'O-PHOSPHOTYROSINE', type: 'l-peptide linking' },\n        { id: 'PCA', name: 'PYROGLUTAMIC ACID', type: 'l-peptide linking' },\n        { id: 'A', name: 'ADENOSINE-5\\'-MONOPHOSPHATE', type: 'rna linking' },\n        { id: 'C', name: 'CYTIDINE-5\\'-MONOPHOSPHATE', type: 'rna linking' },\n        { id: 'T', name: 'THYMIDINE-5\\'-MONOPHOSPHATE', type: 'rna linking' },\n        { id: 'G', name: 'GUANOSINE-5\\'-MONOPHOSPHATE', type: 'rna linking' },\n        { id: 'I', name: 'INOSINIC ACID', type: 'rna linking' },\n        { id: 'U', name: 'URIDINE-5\\'-MONOPHOSPHATE', type: 'rna linking' },\n        { id: 'DA', name: '2\\'-DEOXYADENOSINE-5\\'-MONOPHOSPHATE', type: 'dna linking' },\n        { id: 'DC', name: '2\\'-DEOXYCYTIDINE-5\\'-MONOPHOSPHATE', type: 'dna linking' },\n        { id: 'DT', name: 'THYMIDINE-5\\'-MONOPHOSPHATE', type: 'dna linking' },\n        { id: 'DG', name: '2\\'-DEOXYGUANOSINE-5\\'-MONOPHOSPHATE', type: 'dna linking' },\n        { id: 'DI', name: '2\\'-DEOXYINOSINE-5\\'-MONOPHOSPHATE', type: 'dna linking' },\n        { id: 'DU', name: '2\\'-DEOXYURIDINE-5\\'-MONOPHOSPHATE', type: 'dna linking' },\n    ];\n    components.forEach(function (c) { return map.set(c.id, c); });\n    return map;\n})();\nvar CharmmIonComponents = (function () {\n    var map = new Map();\n    var components = [\n        { id: 'ZN2', name: 'ZINC ION', type: 'ion' },\n        { id: 'SOD', name: 'SODIUM ION', type: 'ion' },\n        { id: 'CES', name: 'CESIUM ION', type: 'ion' },\n        { id: 'CLA', name: 'CHLORIDE ION', type: 'ion' },\n        { id: 'CAL', name: 'CALCIUM ION', type: 'ion' },\n        { id: 'POT', name: 'POTASSIUM ION', type: 'ion' },\n    ];\n    components.forEach(function (c) { return map.set(c.id, c); });\n    return map;\n})();\nvar ComponentBuilder = /** @class */ (function () {\n    function ComponentBuilder(seqId, atomId) {\n        this.seqId = seqId;\n        this.atomId = atomId;\n        this.namesMap = new Map();\n        this.comps = new Map();\n        this.ids = [];\n        this.names = [];\n        this.types = [];\n        this.mon_nstd_flags = [];\n    }\n    ComponentBuilder.prototype.set = function (c) {\n        this.comps.set(c.id, c);\n        this.ids.push(c.id);\n        this.names.push(c.name);\n        this.types.push(c.type);\n        this.mon_nstd_flags.push(PolymerNames.has(c.id) ? 'y' : 'n');\n    };\n    ComponentBuilder.prototype.getAtomIds = function (index) {\n        var atomIds = new Set();\n        var prevSeqId = this.seqId.value(index);\n        while (index < this.seqId.rowCount) {\n            var seqId = this.seqId.value(index);\n            if (seqId !== prevSeqId)\n                break;\n            atomIds.add(this.atomId.value(index));\n            prevSeqId - seqId;\n            index += 1;\n        }\n        return atomIds;\n    };\n    ComponentBuilder.prototype.hasAtomIds = function (atomIds, atomIdsList) {\n        for (var i = 0, il = atomIdsList.length; i < il; ++i) {\n            if (!SetUtils.areIntersecting(atomIds, atomIdsList[i])) {\n                return false;\n            }\n        }\n        return true;\n    };\n    ComponentBuilder.prototype.getType = function (atomIds) {\n        if (this.hasAtomIds(atomIds, ProteinAtomIdsList)) {\n            return 'peptide linking';\n        }\n        else if (this.hasAtomIds(atomIds, RnaAtomIdsList)) {\n            return 'rna linking';\n        }\n        else if (this.hasAtomIds(atomIds, DnaAtomIdsList)) {\n            return 'dna linking';\n        }\n        else {\n            return 'other';\n        }\n    };\n    ComponentBuilder.prototype.has = function (compId) { return this.comps.has(compId); };\n    ComponentBuilder.prototype.get = function (compId) { return this.comps.get(compId); };\n    ComponentBuilder.prototype.add = function (compId, index) {\n        if (!this.has(compId)) {\n            if (StandardComponents.has(compId)) {\n                this.set(StandardComponents.get(compId));\n            }\n            else if (WaterNames.has(compId)) {\n                this.set({ id: compId, name: 'WATER', type: 'non-polymer' });\n            }\n            else if (NonPolymerNames.has(compId.toUpperCase())) {\n                this.set({ id: compId, name: this.namesMap.get(compId) || compId, type: 'non-polymer' });\n            }\n            else if (SaccharideCompIdMap.has(compId.toUpperCase())) {\n                this.set({ id: compId, name: this.namesMap.get(compId) || compId, type: 'saccharide' });\n            }\n            else {\n                var atomIds = this.getAtomIds(index);\n                if (atomIds.size === 1 && CharmmIonComponents.has(compId)) {\n                    this.set(CharmmIonComponents.get(compId));\n                }\n                else {\n                    var type = this.getType(atomIds);\n                    this.set({ id: compId, name: this.namesMap.get(compId) || compId, type: type });\n                }\n            }\n        }\n        return this.get(compId);\n    };\n    ComponentBuilder.prototype.getChemCompTable = function () {\n        return Table.ofPartialColumns(BasicSchema.chem_comp, {\n            id: Column.ofStringArray(this.ids),\n            name: Column.ofStringArray(this.names),\n            type: Column.ofStringAliasArray(this.types),\n            mon_nstd_flag: Column.ofStringAliasArray(this.mon_nstd_flags),\n        }, this.ids.length);\n    };\n    ComponentBuilder.prototype.setNames = function (names) {\n        var _this = this;\n        names.forEach(function (n) { return _this.namesMap.set(n[0], n[1]); });\n    };\n    return ComponentBuilder;\n}());\nexport { ComponentBuilder };\n","/**\n * Copyright (c) 2017-2023 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @author Sebastian Bittrich <sebastian.bittrich@rcsb.org>\n */\nimport { __awaiter, __generator } from \"tslib\";\nimport { Model } from '../../mol-model/structure/model/model';\nimport { Task } from '../../mol-task';\nimport { CIF } from '../../mol-io/reader/cif';\nimport { createModels } from './basic/parser';\nimport { ModelSymmetry } from './property/symmetry';\nimport { ModelSecondaryStructure } from './property/secondary-structure';\nimport { Column, Table } from '../../mol-data/db';\nimport { AtomSiteAnisotrop } from './property/anisotropic';\nimport { ComponentBond } from './property/bonds/chem_comp';\nimport { StructConn } from './property/bonds/struct_conn';\nimport { ArrayTrajectory } from '../../mol-model/structure';\nimport { GlobalModelTransformInfo } from '../../mol-model/structure/model/properties/global-transform';\nimport { BasicSchema, createBasic } from './basic/schema';\nimport { EntityBuilder } from './common/entity';\nimport { ComponentBuilder } from './common/component';\nfunction modelSymmetryFromMmcif(model) {\n    if (!MmcifFormat.is(model.sourceData))\n        return;\n    return ModelSymmetry.fromData(model.sourceData.data.db);\n}\nModelSymmetry.Provider.formatRegistry.add('mmCIF', modelSymmetryFromMmcif);\nfunction secondaryStructureFromMmcif(model) {\n    if (!MmcifFormat.is(model.sourceData))\n        return;\n    var _a = model.sourceData.data.db, struct_conf = _a.struct_conf, struct_sheet_range = _a.struct_sheet_range;\n    return ModelSecondaryStructure.fromStruct(struct_conf, struct_sheet_range, model.atomicHierarchy);\n}\nModelSecondaryStructure.Provider.formatRegistry.add('mmCIF', secondaryStructureFromMmcif);\nfunction atomSiteAnisotropFromMmcif(model) {\n    if (!MmcifFormat.is(model.sourceData))\n        return;\n    var atom_site_anisotrop = model.sourceData.data.db.atom_site_anisotrop;\n    var data = Table.ofColumns(AtomSiteAnisotrop.Schema, atom_site_anisotrop);\n    var elementToAnsiotrop = AtomSiteAnisotrop.getElementToAnsiotrop(model.atomicConformation.atomId, atom_site_anisotrop.id);\n    return { data: data, elementToAnsiotrop: elementToAnsiotrop };\n}\nfunction atomSiteAnisotropApplicableMmcif(model) {\n    if (!MmcifFormat.is(model.sourceData))\n        return false;\n    return model.sourceData.data.db.atom_site_anisotrop.U.isDefined;\n}\nAtomSiteAnisotrop.Provider.formatRegistry.add('mmCIF', atomSiteAnisotropFromMmcif, atomSiteAnisotropApplicableMmcif);\nfunction componentBondFromMmcif(model) {\n    if (!MmcifFormat.is(model.sourceData))\n        return;\n    var chem_comp_bond = model.sourceData.data.db.chem_comp_bond;\n    if (chem_comp_bond._rowCount === 0)\n        return;\n    return {\n        data: chem_comp_bond,\n        entries: ComponentBond.getEntriesFromChemCompBond(chem_comp_bond)\n    };\n}\nComponentBond.Provider.formatRegistry.add('mmCIF', componentBondFromMmcif);\nfunction structConnFromMmcif(model) {\n    if (!MmcifFormat.is(model.sourceData))\n        return;\n    var struct_conn = model.sourceData.data.db.struct_conn;\n    if (struct_conn._rowCount === 0)\n        return;\n    var entries = StructConn.getEntriesFromStructConn(struct_conn, model);\n    return {\n        data: struct_conn,\n        byAtomIndex: StructConn.getAtomIndexFromEntries(entries),\n        entries: entries,\n    };\n}\nStructConn.Provider.formatRegistry.add('mmCIF', structConnFromMmcif);\nGlobalModelTransformInfo.Provider.formatRegistry.add('mmCIF', GlobalModelTransformInfo.fromMmCif, GlobalModelTransformInfo.hasData);\n//\nexport { MmcifFormat };\nvar MmcifFormat;\n(function (MmcifFormat) {\n    function is(x) {\n        return (x === null || x === void 0 ? void 0 : x.kind) === 'mmCIF';\n    }\n    MmcifFormat.is = is;\n    function fromFrame(frame, db, source) {\n        if (!db)\n            db = CIF.schema.mmCIF(frame);\n        return { kind: 'mmCIF', name: db._name, data: { db: db, frame: frame, source: source } };\n    }\n    MmcifFormat.fromFrame = fromFrame;\n})(MmcifFormat || (MmcifFormat = {}));\nexport function trajectoryFromMmCIF(frame) {\n    var format = MmcifFormat.fromFrame(frame);\n    var basic = createBasic(format.data.db, true);\n    return Task.create('Create mmCIF Model', function (ctx) { return createModels(basic, format, ctx); });\n}\nexport { CCDFormat };\nvar CCDFormat;\n(function (CCDFormat) {\n    var CoordinateTypeProp = '__CcdCoordinateType__';\n    CCDFormat.CoordinateType = {\n        get: function (model) {\n            return model._staticPropertyData[CoordinateTypeProp];\n        },\n        set: function (model, type) {\n            return model._staticPropertyData[CoordinateTypeProp] = type;\n        }\n    };\n    function is(x) {\n        return (x === null || x === void 0 ? void 0 : x.kind) === 'CCD';\n    }\n    CCDFormat.is = is;\n    function fromFrame(frame, db) {\n        if (!db)\n            db = CIF.schema.CCD(frame);\n        return { kind: 'CCD', name: db._name, data: { db: db, frame: frame } };\n    }\n    CCDFormat.fromFrame = fromFrame;\n})(CCDFormat || (CCDFormat = {}));\nexport function trajectoryFromCCD(frame) {\n    var format = CCDFormat.fromFrame(frame);\n    return Task.create('Create CCD Models', function (ctx) { return createCcdModels(format.data.db, CCDFormat.fromFrame(frame), ctx); });\n}\nfunction createCcdModels(data, format, ctx) {\n    return __awaiter(this, void 0, void 0, function () {\n        var ideal, model, models, i, il;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, createCcdModel(data, format, { coordinateType: 'ideal', cartn_x: 'pdbx_model_Cartn_x_ideal', cartn_y: 'pdbx_model_Cartn_y_ideal', cartn_z: 'pdbx_model_Cartn_z_ideal' }, ctx)];\n                case 1:\n                    ideal = _a.sent();\n                    return [4 /*yield*/, createCcdModel(data, format, { coordinateType: 'model', cartn_x: 'model_Cartn_x', cartn_y: 'model_Cartn_y', cartn_z: 'model_Cartn_z' }, ctx)];\n                case 2:\n                    model = _a.sent();\n                    models = [];\n                    if (ideal)\n                        models.push(ideal);\n                    if (model)\n                        models.push(model);\n                    for (i = 0, il = models.length; i < il; ++i) {\n                        Model.TrajectoryInfo.set(models[i], { index: i, size: models.length });\n                    }\n                    return [2 /*return*/, new ArrayTrajectory(models)];\n            }\n        });\n    });\n}\nfunction createCcdModel(data, format, props, ctx) {\n    return __awaiter(this, void 0, void 0, function () {\n        var chem_comp, chem_comp_atom, chem_comp_bond, coordinateType, cartn_x, cartn_y, cartn_z, name, id, atom_id, charge, comp_id, pdbx_ordinal, type_symbol, atomCount, filteredRows, i, filteredRowCount, A, seq_id, entity_id, occupancy, model_num, filteredAtomId, filteredCompId, filteredX, filteredY, filteredZ, filteredId, filteredTypeSymbol, filteredCharge, model_atom_site, entityBuilder, componentBuilder, basicModel, models, first, entries;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    chem_comp = data.chem_comp, chem_comp_atom = data.chem_comp_atom, chem_comp_bond = data.chem_comp_bond;\n                    coordinateType = props.coordinateType, cartn_x = props.cartn_x, cartn_y = props.cartn_y, cartn_z = props.cartn_z;\n                    name = chem_comp.name.value(0);\n                    id = chem_comp.id.value(0);\n                    atom_id = chem_comp_atom.atom_id, charge = chem_comp_atom.charge, comp_id = chem_comp_atom.comp_id, pdbx_ordinal = chem_comp_atom.pdbx_ordinal, type_symbol = chem_comp_atom.type_symbol;\n                    atomCount = chem_comp_atom._rowCount;\n                    filteredRows = [];\n                    for (i = 0; i < atomCount; i++) {\n                        if (chem_comp_atom[cartn_x].valueKind(i) > 0)\n                            continue;\n                        filteredRows[filteredRows.length] = i;\n                    }\n                    filteredRowCount = filteredRows.length;\n                    A = Column.ofConst('A', filteredRowCount, Column.Schema.str);\n                    seq_id = Column.ofConst(1, filteredRowCount, Column.Schema.int);\n                    entity_id = Column.ofConst('1', filteredRowCount, Column.Schema.str);\n                    occupancy = Column.ofConst(1, filteredRowCount, Column.Schema.float);\n                    model_num = Column.ofConst(1, filteredRowCount, Column.Schema.int);\n                    filteredAtomId = Column.view(atom_id, filteredRows);\n                    filteredCompId = Column.view(comp_id, filteredRows);\n                    filteredX = Column.view(chem_comp_atom[cartn_x], filteredRows);\n                    filteredY = Column.view(chem_comp_atom[cartn_y], filteredRows);\n                    filteredZ = Column.view(chem_comp_atom[cartn_z], filteredRows);\n                    filteredId = Column.view(pdbx_ordinal, filteredRows);\n                    filteredTypeSymbol = Column.view(type_symbol, filteredRows);\n                    filteredCharge = Column.view(charge, filteredRows);\n                    model_atom_site = Table.ofPartialColumns(BasicSchema.atom_site, {\n                        auth_asym_id: A,\n                        auth_atom_id: filteredAtomId,\n                        auth_comp_id: filteredCompId,\n                        auth_seq_id: seq_id,\n                        Cartn_x: filteredX,\n                        Cartn_y: filteredY,\n                        Cartn_z: filteredZ,\n                        id: filteredId,\n                        label_asym_id: A,\n                        label_atom_id: filteredAtomId,\n                        label_comp_id: filteredCompId,\n                        label_seq_id: seq_id,\n                        label_entity_id: entity_id,\n                        occupancy: occupancy,\n                        type_symbol: filteredTypeSymbol,\n                        pdbx_PDB_model_num: model_num,\n                        pdbx_formal_charge: filteredCharge\n                    }, filteredRowCount);\n                    entityBuilder = new EntityBuilder();\n                    entityBuilder.setNames([[id, \"\".concat(name, \" (\").concat(coordinateType, \")\")]]);\n                    entityBuilder.getEntityId(id, 0 /* MoleculeType.Unknown */, 'A');\n                    componentBuilder = new ComponentBuilder(seq_id, type_symbol);\n                    componentBuilder.setNames([[id, \"\".concat(name, \" (\").concat(coordinateType, \")\")]]);\n                    componentBuilder.add(id, 0);\n                    basicModel = createBasic({\n                        entity: entityBuilder.getEntityTable(),\n                        chem_comp: componentBuilder.getChemCompTable(),\n                        atom_site: model_atom_site\n                    });\n                    return [4 /*yield*/, createModels(basicModel, format, ctx)];\n                case 1:\n                    models = _a.sent();\n                    // all ideal or model coordinates might be absent\n                    if (!models.representative)\n                        return [2 /*return*/];\n                    first = models.representative;\n                    entries = ComponentBond.getEntriesFromChemCompBond(chem_comp_bond);\n                    ComponentBond.Provider.set(first, { data: chem_comp_bond, entries: entries });\n                    CCDFormat.CoordinateType.set(first, coordinateType);\n                    return [2 /*return*/, models.representative];\n            }\n        });\n    });\n}\n","/**\n * Copyright (c) 2017 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n/** Assign to the object if a given property in update is undefined */\nexport function assignIfUndefined(to, full) {\n    for (var _i = 0, _a = Object.keys(full); _i < _a.length; _i++) {\n        var k = _a[_i];\n        if (!hasOwnProperty.call(full, k))\n            continue;\n        if (typeof to[k] === 'undefined') {\n            to[k] = full[k];\n        }\n    }\n    return to;\n}\n/** Create new object if any property in \"update\" changes in \"source\". */\nexport function shallowMerge2(source, update) {\n    // Adapted from LiteMol (https://github.com/dsehnal/LiteMol)\n    var changed = false;\n    for (var _i = 0, _a = Object.keys(update); _i < _a.length; _i++) {\n        var k = _a[_i];\n        if (!hasOwnProperty.call(update, k))\n            continue;\n        if (update[k] !== source[k]) {\n            changed = true;\n            break;\n        }\n    }\n    if (!changed)\n        return source;\n    return Object.assign({}, source, update);\n}\nexport function shallowEqual(a, b) {\n    if (!a) {\n        if (!b)\n            return true;\n        return false;\n    }\n    if (!b)\n        return false;\n    var keys = Object.keys(a);\n    if (Object.keys(b).length !== keys.length)\n        return false;\n    for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n        var k = keys_1[_i];\n        if (!hasOwnProperty.call(a, k) || a[k] !== b[k])\n            return false;\n    }\n    return true;\n}\nexport function shallowMerge(source) {\n    var rest = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        rest[_i - 1] = arguments[_i];\n    }\n    return shallowMergeArray(source, rest);\n}\nexport function shallowMergeArray(source, rest) {\n    // Adapted from LiteMol (https://github.com/dsehnal/LiteMol)\n    var ret = source;\n    for (var s = 0; s < rest.length; s++) {\n        if (!rest[s])\n            continue;\n        ret = shallowMerge2(source, rest[s]);\n        if (ret !== source) {\n            for (var i = s + 1; i < rest.length; i++) {\n                ret = Object.assign(ret, rest[i]);\n            }\n            break;\n        }\n    }\n    return ret;\n}\n/** Simple deep clone for number, boolean, string, null, undefined, object, array */\nexport function deepClone(source) {\n    if (null === source || 'object' !== typeof source)\n        return source;\n    if (source instanceof Array) {\n        var copy = [];\n        for (var i = 0, len = source.length; i < len; i++) {\n            copy[i] = deepClone(source[i]);\n        }\n        return copy;\n    }\n    // `instanceof Object` does not find `Object.create(null)`\n    if (typeof source === 'object' && !('prototype' in source)) {\n        var copy = {};\n        for (var k in source) {\n            if (hasOwnProperty.call(source, k))\n                copy[k] = deepClone(source[k]);\n        }\n        return copy;\n    }\n    throw new Error(\"Can't clone, type \\\"\".concat(typeof source, \"\\\" unsupported\"));\n}\nexport function mapObjectMap(o, f) {\n    var ret = {};\n    for (var _i = 0, _a = Object.keys(o); _i < _a.length; _i++) {\n        var k = _a[_i];\n        ret[k] = f(o[k]);\n    }\n    return ret;\n}\nexport function objectForEach(o, f) {\n    if (!o)\n        return;\n    for (var _i = 0, _a = Object.keys(o); _i < _a.length; _i++) {\n        var k = _a[_i];\n        f(o[k], k);\n    }\n}\n","/**\n * Copyright (c) 2020 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n *\n * ported from https://github.com/photopea/UZIP.js/blob/master/UZIP.js\n * MIT License, Copyright (c) 2018 Photopea\n */\nexport function toUint32(x) {\n    return x >>> 0;\n}\nexport function toInt32(x) {\n    return x >> 0;\n}\nexport function readUshort(buff, p) {\n    return (buff[p]) | (buff[p + 1] << 8);\n}\nexport function writeUshort(buff, p, n) {\n    buff[p] = (n) & 255;\n    buff[p + 1] = (n >> 8) & 255;\n}\nexport function readUint(buff, p) {\n    return (buff[p + 3] * (256 * 256 * 256)) + ((buff[p + 2] << 16) | (buff[p + 1] << 8) | buff[p]);\n}\nexport function writeUint(buff, p, n) {\n    buff[p] = n & 255;\n    buff[p + 1] = (n >> 8) & 255;\n    buff[p + 2] = (n >> 16) & 255;\n    buff[p + 3] = (n >> 24) & 255;\n}\nfunction readASCII(buff, p, l) {\n    var s = '';\n    for (var i = 0; i < l; i++)\n        s += String.fromCharCode(buff[p + i]);\n    return s;\n}\n// function writeASCII(data: Uint8Array, p: number, s: string){\n//     for(let i=0; i<s.length; i++) data[p+i] = s.charCodeAt(i);\n// }\nfunction pad(n) {\n    return n.length < 2 ? '0' + n : n;\n}\nexport function readUTF8(buff, p, l) {\n    var s = '', ns;\n    for (var i = 0; i < l; i++)\n        s += '%' + pad(buff[p + i].toString(16));\n    try {\n        ns = decodeURIComponent(s);\n    }\n    catch (e) {\n        return readASCII(buff, p, l);\n    }\n    return ns;\n}\nexport function writeUTF8(buff, p, str) {\n    var strl = str.length;\n    var i = 0;\n    for (var ci = 0; ci < strl; ci++) {\n        var code = str.charCodeAt(ci);\n        if ((code & (0xffffffff - (1 << 7) + 1)) === 0) {\n            buff[p + i] = (code);\n            i++;\n        }\n        else if ((code & (0xffffffff - (1 << 11) + 1)) === 0) {\n            buff[p + i] = (192 | (code >> 6));\n            buff[p + i + 1] = (128 | ((code >> 0) & 63));\n            i += 2;\n        }\n        else if ((code & (0xffffffff - (1 << 16) + 1)) === 0) {\n            buff[p + i] = (224 | (code >> 12));\n            buff[p + i + 1] = (128 | ((code >> 6) & 63));\n            buff[p + i + 2] = (128 | ((code >> 0) & 63));\n            i += 3;\n        }\n        else if ((code & (0xffffffff - (1 << 21) + 1)) === 0) {\n            buff[p + i] = (240 | (code >> 18));\n            buff[p + i + 1] = (128 | ((code >> 12) & 63));\n            buff[p + i + 2] = (128 | ((code >> 6) & 63));\n            buff[p + i + 3] = (128 | ((code >> 0) & 63));\n            i += 4;\n        }\n        else\n            throw new Error('e');\n    }\n    return i;\n}\nexport function sizeUTF8(str) {\n    var strl = str.length;\n    var i = 0;\n    for (var ci = 0; ci < strl; ci++) {\n        var code = str.charCodeAt(ci);\n        if ((code & (0xffffffff - (1 << 7) + 1)) === 0) {\n            i++;\n        }\n        else if ((code & (0xffffffff - (1 << 11) + 1)) === 0) {\n            i += 2;\n        }\n        else if ((code & (0xffffffff - (1 << 16) + 1)) === 0) {\n            i += 3;\n        }\n        else if ((code & (0xffffffff - (1 << 21) + 1)) === 0) {\n            i += 4;\n        }\n        else {\n            throw new Error('e');\n        }\n    }\n    return i;\n}\n","/**\n * Copyright (c) 2020 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n *\n * ported from https://github.com/photopea/UZIP.js/blob/master/UZIP.js\n * MIT License, Copyright (c) 2018 Photopea\n */\nvar CrcTable = (function () {\n    var tab = new Uint32Array(256);\n    for (var n = 0; n < 256; n++) {\n        var c = n;\n        for (var k = 0; k < 8; k++) {\n            if (c & 1)\n                c = 0xedb88320 ^ (c >>> 1);\n            else\n                c = c >>> 1;\n        }\n        tab[n] = c;\n    }\n    return tab;\n})();\nfunction _crc(c, buf, off, len) {\n    for (var i = 0; i < len; i++) {\n        c = CrcTable[(c ^ buf[off + i]) & 0xff] ^ (c >>> 8);\n    }\n    return c;\n}\nexport function crc(b, o, l) {\n    return _crc(0xffffffff, b, o, l) ^ 0xffffffff;\n}\nexport function adler(data, o, len) {\n    var a = 1, b = 0;\n    var off = o;\n    var end = o + len;\n    while (off < end) {\n        var eend = Math.min(off + 5552, end);\n        while (off < eend) {\n            a += data[off++];\n            b += a;\n        }\n        a = a % 65521;\n        b = b % 65521;\n    }\n    return (b << 16) | a;\n}\n","/**\n * Copyright (c) 2020 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n *\n * ported from https://github.com/photopea/UZIP.js/blob/master/UZIP.js\n * MIT License, Copyright (c) 2018 Photopea\n */\nexport var U = (function () {\n    var u16 = Uint16Array, u32 = Uint32Array;\n    return {\n        next_code: new u16(16),\n        bl_count: new u16(16),\n        ordr: [16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15],\n        of0: [3, 4, 5, 6, 7, 8, 9, 10, 11, 13, 15, 17, 19, 23, 27, 31, 35, 43, 51, 59, 67, 83, 99, 115, 131, 163, 195, 227, 258, 999, 999, 999],\n        exb: [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 0, 0, 0, 0],\n        ldef: new u16(32),\n        df0: [1, 2, 3, 4, 5, 7, 9, 13, 17, 25, 33, 49, 65, 97, 129, 193, 257, 385, 513, 769, 1025, 1537, 2049, 3073, 4097, 6145, 8193, 12289, 16385, 24577, 65535, 65535],\n        dxb: [0, 0, 0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8, 9, 9, 10, 10, 11, 11, 12, 12, 13, 13, 0, 0],\n        ddef: new u32(32),\n        flmap: new u16(512), fltree: [],\n        fdmap: new u16(32), fdtree: [],\n        lmap: new u16(32768), ltree: [], ttree: [],\n        dmap: new u16(32768), dtree: [],\n        imap: new u16(512), itree: [],\n        // rev9 : new u16(  512)\n        rev15: new u16(1 << 15),\n        lhst: new u32(286), dhst: new u32(30), ihst: new u32(19),\n        lits: new u32(15000),\n        strt: new u16(1 << 16),\n        prev: new u16(1 << 15)\n    };\n})();\n(function () {\n    var len = 1 << 15;\n    for (var i = 0; i < len; i++) {\n        var x = i;\n        x = (((x & 0xaaaaaaaa) >>> 1) | ((x & 0x55555555) << 1));\n        x = (((x & 0xcccccccc) >>> 2) | ((x & 0x33333333) << 2));\n        x = (((x & 0xf0f0f0f0) >>> 4) | ((x & 0x0f0f0f0f) << 4));\n        x = (((x & 0xff00ff00) >>> 8) | ((x & 0x00ff00ff) << 8));\n        U.rev15[i] = (((x >>> 16) | (x << 16))) >>> 17;\n    }\n    function pushV(tgt, n, sv) {\n        while (n-- !== 0)\n            tgt.push(0, sv);\n    }\n    for (var i = 0; i < 32; i++) {\n        U.ldef[i] = (U.of0[i] << 3) | U.exb[i];\n        U.ddef[i] = (U.df0[i] << 4) | U.dxb[i];\n    }\n    pushV(U.fltree, 144, 8);\n    pushV(U.fltree, 255 - 143, 9);\n    pushV(U.fltree, 279 - 255, 7);\n    pushV(U.fltree, 287 - 279, 8);\n    /*\n    var i = 0;\n    for(; i<=143; i++) U.fltree.push(0,8);\n    for(; i<=255; i++) U.fltree.push(0,9);\n    for(; i<=279; i++) U.fltree.push(0,7);\n    for(; i<=287; i++) U.fltree.push(0,8);\n    */\n    makeCodes(U.fltree, 9);\n    codes2map(U.fltree, 9, U.flmap);\n    revCodes(U.fltree, 9);\n    pushV(U.fdtree, 32, 5);\n    // for(i=0;i<32; i++) U.fdtree.push(0,5);\n    makeCodes(U.fdtree, 5);\n    codes2map(U.fdtree, 5, U.fdmap);\n    revCodes(U.fdtree, 5);\n    pushV(U.itree, 19, 0);\n    pushV(U.ltree, 286, 0);\n    pushV(U.dtree, 30, 0);\n    pushV(U.ttree, 320, 0);\n    /*\n    for(var i=0; i< 19; i++) U.itree.push(0,0);\n    for(var i=0; i<286; i++) U.ltree.push(0,0);\n    for(var i=0; i< 30; i++) U.dtree.push(0,0);\n    for(var i=0; i<320; i++) U.ttree.push(0,0);\n    */\n})();\nexport function codes2map(tree, MAX_BITS, map) {\n    var max_code = tree.length;\n    var r15 = U.rev15;\n    for (var i = 0; i < max_code; i += 2) {\n        if (tree[i + 1] !== 0) {\n            var lit = i >> 1;\n            var cl = tree[i + 1], val = (lit << 4) | cl; // :  (0x8000 | (U.of0[lit-257]<<7) | (U.exb[lit-257]<<4) | cl);\n            var rest = (MAX_BITS - cl);\n            var i0 = tree[i] << rest;\n            var i1 = i0 + (1 << rest);\n            // tree[i]=r15[i0]>>>(15-MAX_BITS);\n            while (i0 !== i1) {\n                var p0 = r15[i0] >>> (15 - MAX_BITS);\n                map[p0] = val;\n                i0++;\n            }\n        }\n    }\n}\nexport function makeCodes(tree, MAX_BITS) {\n    var max_code = tree.length;\n    var bl_count = U.bl_count;\n    for (var i = 0; i <= MAX_BITS; i++)\n        bl_count[i] = 0;\n    for (var i = 1; i < max_code; i += 2)\n        bl_count[tree[i]]++;\n    var next_code = U.next_code; // smallest code for each length\n    var code = 0;\n    bl_count[0] = 0;\n    for (var bits = 1; bits <= MAX_BITS; bits++) {\n        code = (code + bl_count[bits - 1]) << 1;\n        next_code[bits] = code;\n    }\n    for (var n = 0; n < max_code; n += 2) {\n        var len = tree[n + 1];\n        if (len !== 0) {\n            tree[n] = next_code[len];\n            next_code[len]++;\n        }\n    }\n}\nexport function revCodes(tree, MAX_BITS) {\n    var r15 = U.rev15, imb = 15 - MAX_BITS;\n    for (var i = 0; i < tree.length; i += 2) {\n        var i0 = (tree[i] << (MAX_BITS - tree[i + 1]));\n        tree[i] = r15[i0] >>> imb;\n    }\n}\n","/**\n * Copyright (c) 2020 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n *\n * ported from https://github.com/photopea/UZIP.js/blob/master/UZIP.js\n * MIT License, Copyright (c) 2018 Photopea\n */\nimport { __awaiter, __generator } from \"tslib\";\nimport { U, makeCodes, codes2map } from './util';\nfunction InflateContext(data, buf) {\n    var noBuf = buf === undefined;\n    if (buf === undefined)\n        buf = new Uint8Array((data.length >>> 2) << 3);\n    return {\n        data: data,\n        buf: buf,\n        noBuf: noBuf,\n        BFINAL: 0,\n        off: 0,\n        pos: 0\n    };\n}\nfunction inflateBlocks(ctx, count) {\n    var data = ctx.data, noBuf = ctx.noBuf;\n    var buf = ctx.buf, BFINAL = ctx.BFINAL, off = ctx.off, pos = ctx.pos;\n    var iBlock = 0;\n    while (BFINAL === 0 && iBlock < count) {\n        var lmap = void 0, dmap = void 0;\n        var ML = 0, MD = 0;\n        BFINAL = _bitsF(data, pos, 1);\n        iBlock += 1;\n        var BTYPE = _bitsF(data, pos + 1, 2);\n        pos += 3;\n        if (BTYPE === 0) {\n            // uncompressed block\n            if ((pos & 7) !== 0)\n                pos += 8 - (pos & 7);\n            var p8 = (pos >>> 3) + 4;\n            var len = data[p8 - 4] | (data[p8 - 3] << 8);\n            if (noBuf)\n                buf = _check(buf, off + len);\n            buf.set(new Uint8Array(data.buffer, data.byteOffset + p8, len), off);\n            pos = ((p8 + len) << 3);\n            off += len;\n            continue;\n        }\n        // grow output buffer if not provided\n        if (noBuf)\n            buf = _check(buf, off + (1 << 17));\n        if (BTYPE === 1) {\n            // block compressed with fixed Huffman codes\n            lmap = U.flmap;\n            dmap = U.fdmap;\n            ML = (1 << 9) - 1;\n            MD = (1 << 5) - 1;\n        }\n        else if (BTYPE === 2) {\n            // block compressed with dynamic Huffman codes\n            var HLIT = _bitsE(data, pos, 5) + 257;\n            var HDIST = _bitsE(data, pos + 5, 5) + 1;\n            var HCLEN = _bitsE(data, pos + 10, 4) + 4;\n            pos += 14;\n            for (var i = 0; i < 38; i += 2) {\n                U.itree[i] = 0;\n                U.itree[i + 1] = 0;\n            }\n            var tl = 1;\n            for (var i = 0; i < HCLEN; i++) {\n                var l = _bitsE(data, pos + i * 3, 3);\n                U.itree[(U.ordr[i] << 1) + 1] = l;\n                if (l > tl)\n                    tl = l;\n            }\n            pos += 3 * HCLEN;\n            makeCodes(U.itree, tl);\n            codes2map(U.itree, tl, U.imap);\n            lmap = U.lmap;\n            dmap = U.dmap;\n            pos = _decodeTiny(U.imap, (1 << tl) - 1, HLIT + HDIST, data, pos, U.ttree);\n            var mx0 = _copyOut(U.ttree, 0, HLIT, U.ltree);\n            ML = (1 << mx0) - 1;\n            var mx1 = _copyOut(U.ttree, HLIT, HDIST, U.dtree);\n            MD = (1 << mx1) - 1;\n            makeCodes(U.ltree, mx0);\n            codes2map(U.ltree, mx0, lmap);\n            makeCodes(U.dtree, mx1);\n            codes2map(U.dtree, mx1, dmap);\n        }\n        else {\n            throw new Error(\"unknown BTYPE \".concat(BTYPE));\n        }\n        while (true) {\n            var code = lmap[_get17(data, pos) & ML];\n            pos += code & 15;\n            var lit = code >>> 4;\n            if ((lit >>> 8) === 0) {\n                buf[off++] = lit;\n            }\n            else if (lit === 256) {\n                break;\n            }\n            else {\n                var end = off + lit - 254;\n                if (lit > 264) {\n                    var ebs = U.ldef[lit - 257];\n                    end = off + (ebs >>> 3) + _bitsE(data, pos, ebs & 7);\n                    pos += ebs & 7;\n                }\n                var dcode = dmap[_get17(data, pos) & MD];\n                pos += dcode & 15;\n                var dlit = dcode >>> 4;\n                var dbs = U.ddef[dlit];\n                var dst = (dbs >>> 4) + _bitsF(data, pos, dbs & 15);\n                pos += dbs & 15;\n                if (noBuf)\n                    buf = _check(buf, off + (1 << 17));\n                while (off < end) {\n                    buf[off] = buf[off++ - dst];\n                    buf[off] = buf[off++ - dst];\n                    buf[off] = buf[off++ - dst];\n                    buf[off] = buf[off++ - dst];\n                }\n                off = end;\n            }\n        }\n    }\n    ctx.buf = buf;\n    ctx.BFINAL = BFINAL;\n    ctx.off = off;\n    ctx.pos = pos;\n}\n// https://tools.ietf.org/html/rfc1951\nexport function _inflate(runtime, data, buf) {\n    return __awaiter(this, void 0, void 0, function () {\n        var ctx;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    if (data[0] === 3 && data[1] === 0)\n                        return [2 /*return*/, (buf ? buf : new Uint8Array(0))];\n                    ctx = InflateContext(data, buf);\n                    _a.label = 1;\n                case 1:\n                    if (!(ctx.BFINAL === 0)) return [3 /*break*/, 4];\n                    if (!runtime.shouldUpdate) return [3 /*break*/, 3];\n                    return [4 /*yield*/, runtime.update({ message: 'Inflating blocks...', current: ctx.pos, max: data.length })];\n                case 2:\n                    _a.sent();\n                    _a.label = 3;\n                case 3:\n                    inflateBlocks(ctx, 100);\n                    return [3 /*break*/, 1];\n                case 4: return [2 /*return*/, ctx.buf.length === ctx.off ? ctx.buf : ctx.buf.slice(0, ctx.off)];\n            }\n        });\n    });\n}\nfunction _check(buf, len) {\n    var bl = buf.length;\n    if (len <= bl)\n        return buf;\n    var nbuf = new Uint8Array(Math.max(bl << 1, len));\n    nbuf.set(buf, 0);\n    return nbuf;\n}\nfunction _decodeTiny(lmap, LL, len, data, pos, tree) {\n    var i = 0;\n    while (i < len) {\n        var code = lmap[_get17(data, pos) & LL];\n        pos += code & 15;\n        var lit = code >>> 4;\n        if (lit <= 15) {\n            tree[i] = lit;\n            i++;\n        }\n        else {\n            var ll = 0, n = 0;\n            if (lit === 16) {\n                n = (3 + _bitsE(data, pos, 2));\n                pos += 2;\n                ll = tree[i - 1];\n            }\n            else if (lit === 17) {\n                n = (3 + _bitsE(data, pos, 3));\n                pos += 3;\n            }\n            else if (lit === 18) {\n                n = (11 + _bitsE(data, pos, 7));\n                pos += 7;\n            }\n            var ni = i + n;\n            while (i < ni) {\n                tree[i] = ll;\n                i++;\n            }\n        }\n    }\n    return pos;\n}\nfunction _copyOut(src, off, len, tree) {\n    var mx = 0, i = 0;\n    var tl = tree.length >>> 1;\n    while (i < len) {\n        var v = src[i + off];\n        tree[(i << 1)] = 0;\n        tree[(i << 1) + 1] = v;\n        if (v > mx)\n            mx = v;\n        i++;\n    }\n    while (i < tl) {\n        tree[(i << 1)] = 0;\n        tree[(i << 1) + 1] = 0;\n        i++;\n    }\n    return mx;\n}\nfunction _bitsE(dt, pos, length) {\n    return ((dt[pos >>> 3] | (dt[(pos >>> 3) + 1] << 8)) >>> (pos & 7)) & ((1 << length) - 1);\n}\nfunction _bitsF(dt, pos, length) {\n    return ((dt[pos >>> 3] | (dt[(pos >>> 3) + 1] << 8) | (dt[(pos >>> 3) + 2] << 16)) >>> (pos & 7)) & ((1 << length) - 1);\n}\nfunction _get17(dt, pos) {\n    return (dt[pos >>> 3] | (dt[(pos >>> 3) + 1] << 8) | (dt[(pos >>> 3) + 2] << 16)) >>> (pos & 7);\n}\n","/**\n * Copyright (c) 2020-2021 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n *\n * ported from https://github.com/photopea/UZIP.js/blob/master/UZIP.js\n * MIT License, Copyright (c) 2018 Photopea\n */\nimport { __awaiter, __generator } from \"tslib\";\nimport { assertUnreachable } from '../type-helpers';\nimport { _hufTree } from './huffman';\nimport { U, revCodes, makeCodes } from './util';\nfunction DeflateContext(data, out, opos, lvl) {\n    var lits = U.lits, strt = U.strt, prev = U.prev;\n    return {\n        data: data,\n        out: out,\n        opt: Opts[lvl],\n        i: 0,\n        pos: opos << 3,\n        cvrd: 0,\n        dlen: data.length,\n        li: 0,\n        lc: 0,\n        bs: 0,\n        ebits: 0,\n        c: 0,\n        nc: 0,\n        lits: lits,\n        strt: strt,\n        prev: prev\n    };\n}\nfunction deflateChunk(ctx, count) {\n    var data = ctx.data, dlen = ctx.dlen, out = ctx.out, opt = ctx.opt;\n    var i = ctx.i, pos = ctx.pos, cvrd = ctx.cvrd, li = ctx.li, lc = ctx.lc, bs = ctx.bs, ebits = ctx.ebits, c = ctx.c, nc = ctx.nc;\n    var lits = U.lits, strt = U.strt, prev = U.prev;\n    var end = Math.min(i + count, dlen);\n    for (; i < end; i++) {\n        c = nc;\n        if (i + 1 < dlen - 2) {\n            nc = _hash(data, i + 1);\n            var ii = ((i + 1) & 0x7fff);\n            prev[ii] = strt[nc];\n            strt[nc] = ii;\n        }\n        if (cvrd <= i) {\n            if ((li > 14000 || lc > 26697) && (dlen - i) > 100) {\n                if (cvrd < i) {\n                    lits[li] = i - cvrd;\n                    li += 2;\n                    cvrd = i;\n                }\n                pos = _writeBlock(((i === dlen - 1) || (cvrd === dlen)) ? 1 : 0, lits, li, ebits, data, bs, i - bs, out, pos);\n                li = lc = ebits = 0;\n                bs = i;\n            }\n            var mch = 0;\n            if (i < dlen - 2) {\n                mch = _bestMatch(data, i, prev, c, Math.min(opt[2], dlen - i), opt[3]);\n            }\n            if (mch !== 0) {\n                var len = mch >>> 16, dst = mch & 0xffff;\n                var lgi = _goodIndex(len, U.of0);\n                U.lhst[257 + lgi]++;\n                var dgi = _goodIndex(dst, U.df0);\n                U.dhst[dgi]++;\n                ebits += U.exb[lgi] + U.dxb[dgi];\n                lits[li] = (len << 23) | (i - cvrd);\n                lits[li + 1] = (dst << 16) | (lgi << 8) | dgi;\n                li += 2;\n                cvrd = i + len;\n            }\n            else {\n                U.lhst[data[i]]++;\n            }\n            lc++;\n        }\n    }\n    ctx.i = i;\n    ctx.pos = pos;\n    ctx.cvrd = cvrd;\n    ctx.li = li;\n    ctx.lc = lc;\n    ctx.bs = bs;\n    ctx.ebits = ebits;\n    ctx.c = c;\n    ctx.nc = nc;\n}\n/**\n * - good_length: reduce lazy search above this match length;\n * - max_lazy: do not perform lazy search above this match length;\n * - nice_length: quit search above this match length;\n */\nvar Opts = [\n    /*      good lazy nice chain */\n    /* 0 */ [0, 0, 0, 0, 0],\n    /* 1 */ [4, 4, 8, 4, 0],\n    /* 2 */ [4, 5, 16, 8, 0],\n    /* 3 */ [4, 6, 16, 16, 0],\n    /* 4 */ [4, 10, 16, 32, 0],\n    /* 5 */ [8, 16, 32, 32, 0],\n    /* 6 */ [8, 16, 128, 128, 0],\n    /* 7 */ [8, 32, 128, 256, 0],\n    /* 8 */ [32, 128, 258, 1024, 1],\n    /* 9 */ [32, 258, 258, 4096, 1] /* max compression */\n];\nexport function _deflateRaw(runtime, data, out, opos, lvl) {\n    return __awaiter(this, void 0, void 0, function () {\n        var ctx, dlen, i_1, pos_1, len, li, cvrd, pos, i, lits, bs, ebits;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    ctx = DeflateContext(data, out, opos, lvl);\n                    dlen = ctx.dlen;\n                    if (lvl === 0) {\n                        i_1 = ctx.i, pos_1 = ctx.pos;\n                        while (i_1 < dlen) {\n                            len = Math.min(0xffff, dlen - i_1);\n                            _putsE(out, pos_1, (i_1 + len === dlen ? 1 : 0));\n                            pos_1 = _copyExact(data, i_1, len, out, pos_1 + 8);\n                            i_1 += len;\n                        }\n                        return [2 /*return*/, pos_1 >>> 3];\n                    }\n                    if (dlen > 2) {\n                        ctx.nc = _hash(data, 0);\n                        ctx.strt[ctx.nc] = 0;\n                    }\n                    _a.label = 1;\n                case 1:\n                    if (!(ctx.i < dlen)) return [3 /*break*/, 4];\n                    if (!runtime.shouldUpdate) return [3 /*break*/, 3];\n                    return [4 /*yield*/, runtime.update({ message: 'Deflating...', current: ctx.i, max: dlen })];\n                case 2:\n                    _a.sent();\n                    _a.label = 3;\n                case 3:\n                    deflateChunk(ctx, 1024 * 1024);\n                    return [3 /*break*/, 1];\n                case 4:\n                    li = ctx.li, cvrd = ctx.cvrd, pos = ctx.pos;\n                    i = ctx.i, lits = ctx.lits, bs = ctx.bs, ebits = ctx.ebits;\n                    if (bs !== i || data.length === 0) {\n                        if (cvrd < i) {\n                            lits[li] = i - cvrd;\n                            li += 2;\n                            cvrd = i;\n                        }\n                        pos = _writeBlock(1, lits, li, ebits, data, bs, i - bs, out, pos);\n                    }\n                    while ((pos & 7) !== 0)\n                        pos++;\n                    return [2 /*return*/, pos >>> 3];\n            }\n        });\n    });\n}\nfunction _bestMatch(data, i, prev, c, nice, chain) {\n    var ci = (i & 0x7fff), pi = prev[ci];\n    // console.log(\"----\", i);\n    var dif = ((ci - pi + (1 << 15)) & 0x7fff);\n    if (pi === ci || c !== _hash(data, i - dif))\n        return 0;\n    var tl = 0, td = 0; // top length, top distance\n    var dlim = Math.min(0x7fff, i);\n    while (dif <= dlim && --chain !== 0 && pi !== ci /* && c==UZIP.F._hash(data,i-dif)*/) {\n        if (tl === 0 || (data[i + tl] === data[i + tl - dif])) {\n            var cl = _howLong(data, i, dif);\n            if (cl > tl) {\n                tl = cl;\n                td = dif;\n                if (tl >= nice)\n                    break; //*\n                if (dif + 2 < cl)\n                    cl = dif + 2;\n                var maxd = 0; // pi does not point to the start of the word\n                for (var j = 0; j < cl - 2; j++) {\n                    var ei = (i - dif + j + (1 << 15)) & 0x7fff;\n                    var li = prev[ei];\n                    var curd = (ei - li + (1 << 15)) & 0x7fff;\n                    if (curd > maxd) {\n                        maxd = curd;\n                        pi = ei;\n                    }\n                }\n            }\n        }\n        ci = pi;\n        pi = prev[ci];\n        dif += ((ci - pi + (1 << 15)) & 0x7fff);\n    }\n    return (tl << 16) | td;\n}\nfunction _howLong(data, i, dif) {\n    if (data[i] !== data[i - dif] || data[i + 1] !== data[i + 1 - dif] || data[i + 2] !== data[i + 2 - dif])\n        return 0;\n    var oi = i, l = Math.min(data.length, i + 258);\n    i += 3;\n    // while(i+4<l && data[i]==data[i-dif] && data[i+1]==data[i+1-dif] && data[i+2]==data[i+2-dif] && data[i+3]==data[i+3-dif]) i+=4;\n    while (i < l && data[i] === data[i - dif])\n        i++;\n    return i - oi;\n}\nfunction _hash(data, i) {\n    return (((data[i] << 8) | data[i + 1]) + (data[i + 2] << 4)) & 0xffff;\n    // var hash_shift = 0, hash_mask = 255;\n    // var h = data[i+1] % 251;\n    // h = (((h << 8) + data[i+2]) % 251);\n    // h = (((h << 8) + data[i+2]) % 251);\n    // h = ((h<<hash_shift) ^ (c) ) & hash_mask;\n    // return h | (data[i]<<8);\n    // return (data[i] | (data[i+1]<<8));\n}\nfunction _writeBlock(BFINAL, lits, li, ebits, data, o0, l0, out, pos) {\n    U.lhst[256]++;\n    var _a = getTrees(), ML = _a[0], MD = _a[1], MH = _a[2], numl = _a[3], numd = _a[4], numh = _a[5], lset = _a[6], dset = _a[7];\n    var cstSize = (((pos + 3) & 7) === 0 ? 0 : 8 - ((pos + 3) & 7)) + 32 + (l0 << 3);\n    var fxdSize = ebits + contSize(U.fltree, U.lhst) + contSize(U.fdtree, U.dhst);\n    var dynSize = ebits + contSize(U.ltree, U.lhst) + contSize(U.dtree, U.dhst);\n    dynSize += 14 + 3 * numh + contSize(U.itree, U.ihst) + (U.ihst[16] * 2 + U.ihst[17] * 3 + U.ihst[18] * 7);\n    for (var j = 0; j < 286; j++)\n        U.lhst[j] = 0;\n    for (var j = 0; j < 30; j++)\n        U.dhst[j] = 0;\n    for (var j = 0; j < 19; j++)\n        U.ihst[j] = 0;\n    var BTYPE = (cstSize < fxdSize && cstSize < dynSize) ? 0 : (fxdSize < dynSize ? 1 : 2);\n    _putsF(out, pos, BFINAL);\n    _putsF(out, pos + 1, BTYPE);\n    pos += 3;\n    // let opos = pos;\n    if (BTYPE === 0) {\n        while ((pos & 7) !== 0)\n            pos++;\n        pos = _copyExact(data, o0, l0, out, pos);\n    }\n    else {\n        var ltree = void 0, dtree = void 0;\n        if (BTYPE === 1) {\n            ltree = U.fltree;\n            dtree = U.fdtree;\n        }\n        else if (BTYPE === 2) {\n            makeCodes(U.ltree, ML);\n            revCodes(U.ltree, ML);\n            makeCodes(U.dtree, MD);\n            revCodes(U.dtree, MD);\n            makeCodes(U.itree, MH);\n            revCodes(U.itree, MH);\n            ltree = U.ltree;\n            dtree = U.dtree;\n            _putsE(out, pos, numl - 257);\n            pos += 5; // 286\n            _putsE(out, pos, numd - 1);\n            pos += 5; // 30\n            _putsE(out, pos, numh - 4);\n            pos += 4; // 19\n            for (var i = 0; i < numh; i++)\n                _putsE(out, pos + i * 3, U.itree[(U.ordr[i] << 1) + 1]);\n            pos += 3 * numh;\n            pos = _codeTiny(lset, U.itree, out, pos);\n            pos = _codeTiny(dset, U.itree, out, pos);\n        }\n        else {\n            assertUnreachable(BTYPE);\n        }\n        var off = o0;\n        for (var si = 0; si < li; si += 2) {\n            var qb = lits[si], len = (qb >>> 23), end = off + (qb & ((1 << 23) - 1));\n            while (off < end)\n                pos = _writeLit(data[off++], ltree, out, pos);\n            if (len !== 0) {\n                var qc = lits[si + 1], dst = (qc >> 16), lgi = (qc >> 8) & 255, dgi = (qc & 255);\n                pos = _writeLit(257 + lgi, ltree, out, pos);\n                _putsE(out, pos, len - U.of0[lgi]);\n                pos += U.exb[lgi];\n                pos = _writeLit(dgi, dtree, out, pos);\n                _putsF(out, pos, dst - U.df0[dgi]);\n                pos += U.dxb[dgi];\n                off += len;\n            }\n        }\n        pos = _writeLit(256, ltree, out, pos);\n    }\n    // console.log(pos-opos, fxdSize, dynSize, cstSize);\n    return pos;\n}\nfunction _copyExact(data, off, len, out, pos) {\n    var p8 = (pos >>> 3);\n    out[p8] = (len);\n    out[p8 + 1] = (len >>> 8);\n    out[p8 + 2] = 255 - out[p8];\n    out[p8 + 3] = 255 - out[p8 + 1];\n    p8 += 4;\n    out.set(new Uint8Array(data.buffer, off, len), p8);\n    // for(var i=0; i<len; i++) out[p8+i]=data[off+i];\n    return pos + ((len + 4) << 3);\n}\n/*\n    Interesting facts:\n    - decompressed block can have bytes, which do not occur in a Huffman tree (copied from the previous block by reference)\n*/\nfunction getTrees() {\n    var ML = _hufTree(U.lhst, U.ltree, 15);\n    var MD = _hufTree(U.dhst, U.dtree, 15);\n    var lset = [];\n    var numl = _lenCodes(U.ltree, lset);\n    var dset = [];\n    var numd = _lenCodes(U.dtree, dset);\n    for (var i = 0; i < lset.length; i += 2)\n        U.ihst[lset[i]]++;\n    for (var i = 0; i < dset.length; i += 2)\n        U.ihst[dset[i]]++;\n    var MH = _hufTree(U.ihst, U.itree, 7);\n    var numh = 19;\n    while (numh > 4 && U.itree[(U.ordr[numh - 1] << 1) + 1] === 0)\n        numh--;\n    return [ML, MD, MH, numl, numd, numh, lset, dset];\n}\nfunction contSize(tree, hst) {\n    var s = 0;\n    for (var i = 0; i < hst.length; i++)\n        s += hst[i] * tree[(i << 1) + 1];\n    return s;\n}\nfunction _codeTiny(set, tree, out, pos) {\n    for (var i = 0; i < set.length; i += 2) {\n        var l = set[i], rst = set[i + 1]; // console.log(l, pos, tree[(l<<1)+1]);\n        pos = _writeLit(l, tree, out, pos);\n        var rsl = l === 16 ? 2 : (l === 17 ? 3 : 7);\n        if (l > 15) {\n            _putsE(out, pos, rst);\n            pos += rsl;\n        }\n    }\n    return pos;\n}\nfunction _lenCodes(tree, set) {\n    var len = tree.length;\n    while (len !== 2 && tree[len - 1] === 0)\n        len -= 2; // when no distances, keep one code with length 0\n    for (var i = 0; i < len; i += 2) {\n        var l = tree[i + 1], nxt = (i + 3 < len ? tree[i + 3] : -1), nnxt = (i + 5 < len ? tree[i + 5] : -1), prv = (i === 0 ? -1 : tree[i - 1]);\n        if (l === 0 && nxt === l && nnxt === l) {\n            var lz = i + 5;\n            while (lz + 2 < len && tree[lz + 2] === l)\n                lz += 2;\n            var zc = Math.min((lz + 1 - i) >>> 1, 138);\n            if (zc < 11)\n                set.push(17, zc - 3);\n            else\n                set.push(18, zc - 11);\n            i += zc * 2 - 2;\n        }\n        else if (l === prv && nxt === l && nnxt === l) {\n            var lz = i + 5;\n            while (lz + 2 < len && tree[lz + 2] === l)\n                lz += 2;\n            var zc = Math.min((lz + 1 - i) >>> 1, 6);\n            set.push(16, zc - 3);\n            i += zc * 2 - 2;\n        }\n        else {\n            set.push(l, 0);\n        }\n    }\n    return len >>> 1;\n}\nfunction _goodIndex(v, arr) {\n    var i = 0;\n    if (arr[i | 16] <= v)\n        i |= 16;\n    if (arr[i | 8] <= v)\n        i |= 8;\n    if (arr[i | 4] <= v)\n        i |= 4;\n    if (arr[i | 2] <= v)\n        i |= 2;\n    if (arr[i | 1] <= v)\n        i |= 1;\n    return i;\n}\nfunction _writeLit(ch, ltree, out, pos) {\n    _putsF(out, pos, ltree[ch << 1]);\n    return pos + ltree[(ch << 1) + 1];\n}\nfunction _putsE(dt, pos, val) {\n    val = val << (pos & 7);\n    var o = (pos >>> 3);\n    dt[o] |= val;\n    dt[o + 1] |= (val >>> 8);\n}\nfunction _putsF(dt, pos, val) {\n    val = val << (pos & 7);\n    var o = (pos >>> 3);\n    dt[o] |= val;\n    dt[o + 1] |= (val >>> 8);\n    dt[o + 2] |= (val >>> 16);\n}\n","/**\n * Copyright (c) 2018-2023 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @author Adam Midlik <midlik@gmail.com>\n *\n * Adapted from LiteMol\n */\nimport { __awaiter, __generator } from \"tslib\";\nimport { utf8Read } from '../mol-io/common/utf8';\nimport { Task } from '../mol-task';\nimport { Asset } from './assets';\nimport { File_ as File, RUNNING_IN_NODEJS, XMLHttpRequest_ as XMLHttpRequest } from './nodejs-shims';\nimport { ungzip, unzip } from './zip/zip';\nexport var DataCompressionMethod;\n(function (DataCompressionMethod) {\n    DataCompressionMethod[DataCompressionMethod[\"None\"] = 0] = \"None\";\n    DataCompressionMethod[DataCompressionMethod[\"Gzip\"] = 1] = \"Gzip\";\n    DataCompressionMethod[DataCompressionMethod[\"Zip\"] = 2] = \"Zip\";\n})(DataCompressionMethod || (DataCompressionMethod = {}));\nexport function readStringFromFile(file) {\n    return readFromFileInternal(file, 'string');\n}\nexport function readUint8ArrayFromFile(file) {\n    return readFromFileInternal(file, 'binary');\n}\nexport function readFromFile(file, type) {\n    return readFromFileInternal(file, type);\n}\nexport function ajaxGet(params) {\n    if (typeof params === 'string')\n        return ajaxGetInternal(params, params, 'string');\n    return ajaxGetInternal(params.title, params.url, params.type || 'string', params.body, params.headers);\n}\nfunction isDone(data) {\n    if (!RUNNING_IN_NODEJS && data instanceof FileReader) { // FileReader is not available in Node.js\n        return data.readyState === FileReader.DONE;\n    }\n    else if (data instanceof XMLHttpRequest) {\n        return data.readyState === XMLHttpRequest.DONE;\n    }\n    throw new Error('unknown data type');\n}\nfunction genericError(isDownload) {\n    if (isDownload)\n        return 'Failed to download data. Possible reasons: Resource is not available, or CORS is not allowed on the server.';\n    return 'Failed to open file.';\n}\nfunction readData(ctx, action, data) {\n    return new Promise(function (resolve, reject) {\n        // first check if data reading is already done\n        if (isDone(data)) {\n            var error = data.error;\n            if (error !== null && error !== undefined) {\n                reject(error !== null && error !== void 0 ? error : genericError(data instanceof XMLHttpRequest));\n            }\n            else {\n                resolve(data);\n            }\n            return;\n        }\n        var hasError = false;\n        data.onerror = function (e) {\n            if (hasError)\n                return;\n            var error = e.target.error;\n            reject(error !== null && error !== void 0 ? error : genericError(data instanceof XMLHttpRequest));\n        };\n        data.onprogress = function (e) {\n            if (!ctx.shouldUpdate || hasError)\n                return;\n            try {\n                if (e.lengthComputable) {\n                    ctx.update({ message: action, isIndeterminate: false, current: e.loaded, max: e.total });\n                }\n                else {\n                    ctx.update({ message: \"\".concat(action, \" \").concat((e.loaded / 1024 / 1024).toFixed(2), \" MB\"), isIndeterminate: true });\n                }\n            }\n            catch (e) {\n                hasError = true;\n                reject(e);\n            }\n        };\n        data.onload = function (e) {\n            resolve(data);\n        };\n    });\n}\nfunction getCompression(name) {\n    return /\\.gz$/i.test(name) ? DataCompressionMethod.Gzip :\n        /\\.zip$/i.test(name) ? DataCompressionMethod.Zip :\n            DataCompressionMethod.None;\n}\nvar reFilterPath = /^(__MACOSX|.DS_Store)/;\nfunction decompress(ctx, data, compression) {\n    return __awaiter(this, void 0, void 0, function () {\n        var _a, parsed, names;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    _a = compression;\n                    switch (_a) {\n                        case DataCompressionMethod.None: return [3 /*break*/, 1];\n                        case DataCompressionMethod.Gzip: return [3 /*break*/, 2];\n                        case DataCompressionMethod.Zip: return [3 /*break*/, 3];\n                    }\n                    return [3 /*break*/, 5];\n                case 1: return [2 /*return*/, data];\n                case 2: return [2 /*return*/, ungzip(ctx, data)];\n                case 3: return [4 /*yield*/, unzip(ctx, data.buffer)];\n                case 4:\n                    parsed = _b.sent();\n                    names = Object.keys(parsed).filter(function (n) { return !reFilterPath.test(n); });\n                    if (names.length !== 1)\n                        throw new Error('can only decompress zip files with a single entry');\n                    return [2 /*return*/, parsed[names[0]]];\n                case 5: return [2 /*return*/];\n            }\n        });\n    });\n}\nfunction processFile(ctx, fileContent, type, compression) {\n    return __awaiter(this, void 0, void 0, function () {\n        var data, decompressed, parser;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    data = fileContent instanceof ArrayBuffer ? new Uint8Array(fileContent) : fileContent;\n                    if (data === null)\n                        throw new Error('no data given');\n                    if (!(compression !== DataCompressionMethod.None)) return [3 /*break*/, 4];\n                    if (!(data instanceof Uint8Array))\n                        throw new Error('need Uint8Array for decompression');\n                    return [4 /*yield*/, decompress(ctx, data, compression)];\n                case 1:\n                    decompressed = _a.sent();\n                    if (!(type === 'string')) return [3 /*break*/, 3];\n                    return [4 /*yield*/, ctx.update({ message: 'Decoding text...' })];\n                case 2:\n                    _a.sent();\n                    data = utf8Read(decompressed, 0, decompressed.length);\n                    return [3 /*break*/, 4];\n                case 3:\n                    data = decompressed;\n                    _a.label = 4;\n                case 4:\n                    if (!(type === 'binary' && data instanceof Uint8Array)) return [3 /*break*/, 5];\n                    return [2 /*return*/, data];\n                case 5:\n                    if (!(type === 'zip' && data instanceof Uint8Array)) return [3 /*break*/, 7];\n                    return [4 /*yield*/, unzip(ctx, data.buffer)];\n                case 6: return [2 /*return*/, _a.sent()];\n                case 7:\n                    if (type === 'string' && typeof data === 'string') {\n                        return [2 /*return*/, data];\n                    }\n                    else if (type === 'xml' && typeof data === 'string') {\n                        parser = new DOMParser();\n                        return [2 /*return*/, parser.parseFromString(data, 'application/xml')];\n                    }\n                    else if (type === 'json' && typeof data === 'string') {\n                        return [2 /*return*/, JSON.parse(data)];\n                    }\n                    _a.label = 8;\n                case 8: throw new Error(\"could not get requested response data '\".concat(type, \"'\"));\n            }\n        });\n    });\n}\nfunction readFromFileInternal(file, type) {\n    var _this = this;\n    if (RUNNING_IN_NODEJS) {\n        return readFromFileInternal_NodeJS(file, type);\n    }\n    var reader = void 0;\n    return Task.create('Read File', function (ctx) { return __awaiter(_this, void 0, void 0, function () {\n        var compression, fileReader;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    _a.trys.push([0, , 5, 6]);\n                    reader = new FileReader();\n                    compression = type === 'zip' ? DataCompressionMethod.None : getCompression(file.name);\n                    if (type === 'binary' || type === 'zip' || compression !== DataCompressionMethod.None) {\n                        reader.readAsArrayBuffer(file);\n                    }\n                    else {\n                        reader.readAsText(file);\n                    }\n                    return [4 /*yield*/, ctx.update({ message: 'Opening file...', canAbort: true })];\n                case 1:\n                    _a.sent();\n                    return [4 /*yield*/, readData(ctx, 'Reading...', reader)];\n                case 2:\n                    fileReader = _a.sent();\n                    return [4 /*yield*/, ctx.update({ message: 'Processing file...', canAbort: false })];\n                case 3:\n                    _a.sent();\n                    return [4 /*yield*/, processFile(ctx, fileReader.result, type, compression)];\n                case 4: return [2 /*return*/, _a.sent()];\n                case 5:\n                    reader = void 0;\n                    return [7 /*endfinally*/];\n                case 6: return [2 /*return*/];\n            }\n        });\n    }); }, function () {\n        if (reader)\n            reader.abort();\n    });\n}\nfunction readFromFileInternal_NodeJS(file, type) {\n    var _this = this;\n    return Task.create('Read File', function (ctx) { return __awaiter(_this, void 0, void 0, function () {\n        var compression, content;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    compression = type === 'zip' ? DataCompressionMethod.None : getCompression(file.name);\n                    return [4 /*yield*/, ctx.update({ message: 'Opening file...', canAbort: false })];\n                case 1:\n                    _a.sent();\n                    if (!(type === 'binary' || type === 'zip' || compression !== DataCompressionMethod.None)) return [3 /*break*/, 3];\n                    return [4 /*yield*/, file.arrayBuffer()];\n                case 2:\n                    content = _a.sent();\n                    return [3 /*break*/, 5];\n                case 3: return [4 /*yield*/, file.text()];\n                case 4:\n                    content = _a.sent();\n                    _a.label = 5;\n                case 5: return [4 /*yield*/, ctx.update({ message: 'Processing file...', canAbort: false })];\n                case 6:\n                    _a.sent();\n                    return [4 /*yield*/, processFile(ctx, content, type, compression)];\n                case 7: return [2 /*return*/, _a.sent()];\n            }\n        });\n    }); });\n}\nvar RequestPool = /** @class */ (function () {\n    function RequestPool() {\n    }\n    RequestPool.get = function () {\n        if (this.pool.length) {\n            return this.pool.pop();\n        }\n        return new XMLHttpRequest();\n    };\n    RequestPool.emptyFunc = function () { };\n    RequestPool.deposit = function (req) {\n        if (this.pool.length < this.poolSize) {\n            req.onabort = RequestPool.emptyFunc;\n            req.onerror = RequestPool.emptyFunc;\n            req.onload = RequestPool.emptyFunc;\n            req.onprogress = RequestPool.emptyFunc;\n            this.pool.push(req);\n        }\n    };\n    RequestPool.pool = [];\n    RequestPool.poolSize = 15;\n    return RequestPool;\n}());\nfunction processAjax(req, type) {\n    if (req.status >= 200 && req.status < 400) {\n        var response = req.response;\n        RequestPool.deposit(req);\n        if ((type === 'binary' || type === 'zip') && response instanceof ArrayBuffer) {\n            return new Uint8Array(response);\n        }\n        else if (type === 'string' && typeof response === 'string') {\n            return response;\n        }\n        else if (type === 'xml' && response instanceof XMLDocument) {\n            return response;\n        }\n        else if (type === 'json' && typeof response === 'object') {\n            return response;\n        }\n        throw new Error(\"could not get requested response data '\".concat(type, \"'\"));\n    }\n    else {\n        RequestPool.deposit(req);\n        throw new Error(\"Download failed with status code \".concat(req.status));\n    }\n}\nfunction getRequestResponseType(type) {\n    switch (type) {\n        case 'json': return 'json';\n        case 'xml': return 'document';\n        case 'string': return 'text';\n        case 'binary': return 'arraybuffer';\n        case 'zip': return 'arraybuffer';\n    }\n}\nfunction ajaxGetInternal(title, url, type, body, headers) {\n    var _this = this;\n    if (RUNNING_IN_NODEJS && url.startsWith('file://')) {\n        return ajaxGetInternal_file_NodeJS(title, url, type, body, headers);\n    }\n    var xhttp = void 0;\n    return Task.create(title ? title : 'Download', function (ctx) { return __awaiter(_this, void 0, void 0, function () {\n        var _a, headers_1, _b, name_1, value, req, result;\n        return __generator(this, function (_c) {\n            switch (_c.label) {\n                case 0:\n                    xhttp = RequestPool.get();\n                    xhttp.open(body ? 'post' : 'get', url, true);\n                    if (headers) {\n                        for (_a = 0, headers_1 = headers; _a < headers_1.length; _a++) {\n                            _b = headers_1[_a], name_1 = _b[0], value = _b[1];\n                            xhttp.setRequestHeader(name_1, value);\n                        }\n                    }\n                    xhttp.responseType = getRequestResponseType(type);\n                    xhttp.send(body);\n                    return [4 /*yield*/, ctx.update({ message: 'Waiting for server...', canAbort: true })];\n                case 1:\n                    _c.sent();\n                    return [4 /*yield*/, readData(ctx, 'Downloading...', xhttp)];\n                case 2:\n                    req = _c.sent();\n                    xhttp = void 0; // guard against reuse, help garbage collector\n                    return [4 /*yield*/, ctx.update({ message: 'Parsing response...', canAbort: false })];\n                case 3:\n                    _c.sent();\n                    result = processAjax(req, type);\n                    return [2 /*return*/, result];\n            }\n        });\n    }); }, function () {\n        if (xhttp) {\n            xhttp.abort();\n            xhttp = void 0; // guard against reuse, help garbage collector\n        }\n    });\n}\n// NOTE: a workaround for using this in Node.js\nvar _fs = undefined;\nfunction getFS() {\n    if (!_fs) {\n        throw new Error('When running in Node.js and reading from files, call mol-util/data-source\\'s setFSModule function first.');\n    }\n    return _fs;\n}\nexport function setFSModule(fs) {\n    _fs = fs;\n}\n/** Alternative implementation of ajaxGetInternal (because xhr2 does not support file:// protocol) */\nfunction ajaxGetInternal_file_NodeJS(title, url, type, body, headers) {\n    if (!RUNNING_IN_NODEJS)\n        throw new Error('This function should only be used when running in Node.js');\n    if (!url.startsWith('file://'))\n        throw new Error('This function is only for URLs with protocol file://');\n    var filename = url.substring('file://'.length);\n    var data = getFS().readFileSync(filename);\n    var file = new File([data], 'raw-data');\n    return readFromFile(file, type);\n}\nexport function ajaxGetMany(ctx, assetManager, sources, maxConcurrency) {\n    return __awaiter(this, void 0, void 0, function () {\n        var len, slots, promises, promiseKeys, currentSrc, _i, current, done, r, src, idx, current, asset;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    len = sources.length;\n                    slots = new Array(sources.length);\n                    return [4 /*yield*/, ctx.update({ message: 'Downloading...', current: 0, max: len })];\n                case 1:\n                    _a.sent();\n                    promises = [], promiseKeys = [];\n                    currentSrc = 0;\n                    for (_i = Math.min(len, maxConcurrency); currentSrc < _i; currentSrc++) {\n                        current = sources[currentSrc];\n                        promises.push(wrapPromise(currentSrc, current.id, assetManager.resolve(Asset.getUrlAsset(assetManager, current.url), current.isBinary ? 'binary' : 'string').runAsChild(ctx)));\n                        promiseKeys.push(currentSrc);\n                    }\n                    done = 0;\n                    _a.label = 2;\n                case 2:\n                    if (!(promises.length > 0)) return [3 /*break*/, 6];\n                    return [4 /*yield*/, Promise.race(promises)];\n                case 3:\n                    r = _a.sent();\n                    src = sources[r.index];\n                    idx = promiseKeys.indexOf(r.index);\n                    done++;\n                    if (r.kind === 'error' && !src.canFail) {\n                        // TODO: cancel other downloads\n                        throw new Error(\"\".concat(src.url, \": \").concat(r.error));\n                    }\n                    if (!ctx.shouldUpdate) return [3 /*break*/, 5];\n                    return [4 /*yield*/, ctx.update({ message: 'Downloading...', current: done, max: len })];\n                case 4:\n                    _a.sent();\n                    _a.label = 5;\n                case 5:\n                    slots[r.index] = r;\n                    promises = promises.filter(_filterRemoveIndex, idx);\n                    promiseKeys = promiseKeys.filter(_filterRemoveIndex, idx);\n                    if (currentSrc < len) {\n                        current = sources[currentSrc];\n                        asset = assetManager.resolve(Asset.getUrlAsset(assetManager, current.url), current.isBinary ? 'binary' : 'string').runAsChild(ctx);\n                        promises.push(wrapPromise(currentSrc, current.id, asset));\n                        promiseKeys.push(currentSrc);\n                        currentSrc++;\n                    }\n                    return [3 /*break*/, 2];\n                case 6: return [2 /*return*/, slots];\n            }\n        });\n    });\n}\nfunction _filterRemoveIndex(_, i) {\n    return this !== i;\n}\nfunction wrapPromise(index, id, p) {\n    return __awaiter(this, void 0, void 0, function () {\n        var result, error_1;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    _a.trys.push([0, 2, , 3]);\n                    return [4 /*yield*/, p];\n                case 1:\n                    result = _a.sent();\n                    return [2 /*return*/, { kind: 'ok', result: result, index: index, id: id }];\n                case 2:\n                    error_1 = _a.sent();\n                    return [2 /*return*/, { kind: 'error', error: error_1, index: index, id: id }];\n                case 3: return [2 /*return*/];\n            }\n        });\n    });\n}\n","/**\n * Copyright (c) 2020-2022 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n *\n * ported from https://github.com/photopea/UZIP.js/blob/master/UZIP.js\n * MIT License, Copyright (c) 2018 Photopea\n *\n * - added `ungzip`\n */\nimport { __awaiter, __generator } from \"tslib\";\nimport { writeUint, writeUshort, sizeUTF8, writeUTF8, readUshort, readUint, readUTF8, toInt32 } from './bin';\nimport { crc, adler } from './checksum';\nimport { _inflate } from './inflate';\nimport { _deflateRaw } from './deflate';\nimport { Task } from '../../mol-task';\nexport function Unzip(buf, onlyNames) {\n    if (onlyNames === void 0) { onlyNames = false; }\n    return Task.create('Unzip', function (ctx) { return unzip(ctx, buf, onlyNames); });\n}\nexport function unzip(runtime, buf, onlyNames) {\n    if (onlyNames === void 0) { onlyNames = false; }\n    return __awaiter(this, void 0, void 0, function () {\n        var out, data, eocd, o, cnu, coffs, i, csize, usize, nl, el, cl, roff;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    out = Object.create(null);\n                    data = new Uint8Array(buf);\n                    eocd = data.length - 4;\n                    while (readUint(data, eocd) !== 0x06054b50)\n                        eocd--;\n                    o = eocd;\n                    o += 4; // sign  = 0x06054b50\n                    o += 4; // disks = 0;\n                    cnu = readUshort(data, o);\n                    o += 2;\n                    // const cnt = readUshort(data, o);\n                    o += 2;\n                    // const csize = readUint(data, o);\n                    o += 4;\n                    coffs = readUint(data, o);\n                    o += 4;\n                    o = coffs;\n                    i = 0;\n                    _a.label = 1;\n                case 1:\n                    if (!(i < cnu)) return [3 /*break*/, 4];\n                    // const sign = readUint(data, o);\n                    o += 4;\n                    o += 4; // versions;\n                    o += 4; // flag + compr\n                    o += 4; // time\n                    // const crc32 = readUint(data, o);\n                    o += 4;\n                    csize = readUint(data, o);\n                    o += 4;\n                    usize = readUint(data, o);\n                    o += 4;\n                    nl = readUshort(data, o);\n                    el = readUshort(data, o + 2);\n                    cl = readUshort(data, o + 4);\n                    o += 6; // name, extra, comment\n                    o += 8; // disk, attribs\n                    roff = readUint(data, o);\n                    o += 4;\n                    o += nl + el + cl;\n                    return [4 /*yield*/, _readLocal(runtime, data, roff, out, csize, usize, onlyNames)];\n                case 2:\n                    _a.sent();\n                    _a.label = 3;\n                case 3:\n                    i++;\n                    return [3 /*break*/, 1];\n                case 4: \n                // console.log(out);\n                return [2 /*return*/, out];\n            }\n        });\n    });\n}\nfunction _readLocal(runtime, data, o, out, csize, usize, onlyNames) {\n    return __awaiter(this, void 0, void 0, function () {\n        var cmpr, nlen, elen, name, file, buf;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    // const sign  = readUint(data, o);\n                    o += 4;\n                    // const ver   = readUshort(data, o);\n                    o += 2;\n                    // const gpflg = readUshort(data, o);\n                    o += 2;\n                    cmpr = readUshort(data, o);\n                    o += 2;\n                    // const time  = readUint(data, o);\n                    o += 4;\n                    // const crc32 = readUint(data, o);\n                    o += 4;\n                    // var csize = rUi(data, o);  o+=4;\n                    // var usize = rUi(data, o);  o+=4;\n                    o += 8;\n                    nlen = readUshort(data, o);\n                    o += 2;\n                    elen = readUshort(data, o);\n                    o += 2;\n                    name = readUTF8(data, o, nlen);\n                    o += nlen; // console.log(name);\n                    o += elen;\n                    if (onlyNames) {\n                        out[name] = { size: usize, csize: csize };\n                        return [2 /*return*/];\n                    }\n                    file = new Uint8Array(data.buffer, o);\n                    if (!(cmpr === 0)) return [3 /*break*/, 1];\n                    out[name] = new Uint8Array(file.buffer.slice(o, o + csize));\n                    return [3 /*break*/, 4];\n                case 1:\n                    if (!(cmpr === 8)) return [3 /*break*/, 3];\n                    buf = new Uint8Array(usize);\n                    return [4 /*yield*/, inflateRaw(runtime, file, buf)];\n                case 2:\n                    _a.sent();\n                    out[name] = buf;\n                    return [3 /*break*/, 4];\n                case 3: throw new Error(\"unknown compression method: \".concat(cmpr));\n                case 4: return [2 /*return*/];\n            }\n        });\n    });\n}\nexport function inflateRaw(runtime, file, buf) {\n    return __awaiter(this, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            return [2 /*return*/, _inflate(runtime, file, buf)];\n        });\n    });\n}\nexport function inflate(runtime, file, buf) {\n    // const CMF = file[0]\n    // const FLG = file[1]\n    // const CM = (CMF&15)\n    // const CINFO = (CMF>>>4);\n    // console.log(CM, CINFO,CMF,FLG);\n    return inflateRaw(runtime, new Uint8Array(file.buffer, file.byteOffset + 2, file.length - 6), buf);\n}\n// https://tools.ietf.org/html/rfc1952\nexport function ungzip(runtime, file, buf) {\n    return __awaiter(this, void 0, void 0, function () {\n        var flg, o, xlen, zero, zero, crc32, isize, blocks, inflated, crcValue;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    flg = file[3];\n                    o = 10;\n                    if (flg & 4) { // FEXTRA\n                        xlen = readUshort(file, o);\n                        // console.log('FEXTRA', xlen)\n                        o += xlen;\n                    }\n                    if (flg & 8) { // FNAME\n                        zero = o;\n                        while (file[zero] !== 0)\n                            ++zero;\n                        // const name = readUTF8(file, o, zero - o)\n                        // console.log('FNAME', name, zero - o)\n                        o = zero + 1;\n                    }\n                    if (flg & 16) { // FCOMMENT\n                        zero = o;\n                        while (file[zero] !== 0)\n                            ++zero;\n                        // const comment = readUTF8(file, o, zero - o)\n                        // console.log('FCOMMENT', comment)\n                        o = zero + 1;\n                    }\n                    if (flg & 1) { // FHCRC\n                        // const hcrc = readUshort(file, o)\n                        // console.log('FHCRC', hcrc)\n                        o += 2;\n                    }\n                    crc32 = toInt32(readUint(file, file.length - 8));\n                    isize = readUint(file, file.length - 4);\n                    if (buf === undefined)\n                        buf = new Uint8Array(isize);\n                    blocks = new Uint8Array(file.buffer, file.byteOffset + o, file.length - o - 8);\n                    return [4 /*yield*/, inflateRaw(runtime, blocks, buf)];\n                case 1:\n                    inflated = _a.sent();\n                    crcValue = crc(inflated, 0, inflated.length);\n                    if (crc32 !== crcValue) {\n                        console.error(\"ungzip: checksums don't match\");\n                    }\n                    return [2 /*return*/, inflated];\n            }\n        });\n    });\n}\nexport function deflate(runtime, data, opts /* , buf, off*/) {\n    return __awaiter(this, void 0, void 0, function () {\n        var off, buf, crcValue;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    if (opts === undefined)\n                        opts = { level: 6 };\n                    off = 0;\n                    buf = new Uint8Array(50 + Math.floor(data.length * 1.1));\n                    buf[off] = 120;\n                    buf[off + 1] = 156;\n                    off += 2;\n                    return [4 /*yield*/, _deflateRaw(runtime, data, buf, off, opts.level)];\n                case 1:\n                    off = _a.sent();\n                    crcValue = adler(data, 0, data.length);\n                    buf[off + 0] = ((crcValue >>> 24) & 255);\n                    buf[off + 1] = ((crcValue >>> 16) & 255);\n                    buf[off + 2] = ((crcValue >>> 8) & 255);\n                    buf[off + 3] = ((crcValue >>> 0) & 255);\n                    return [2 /*return*/, new Uint8Array(buf.buffer, 0, off + 4)];\n            }\n        });\n    });\n}\nfunction deflateRaw(runtime, data, opts) {\n    return __awaiter(this, void 0, void 0, function () {\n        var buf, off;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    if (opts === undefined)\n                        opts = { level: 6 };\n                    buf = new Uint8Array(50 + Math.floor(data.length * 1.1));\n                    return [4 /*yield*/, _deflateRaw(runtime, data, buf, 0, opts.level)];\n                case 1:\n                    off = _a.sent();\n                    return [2 /*return*/, new Uint8Array(buf.buffer, 0, off)];\n            }\n        });\n    });\n}\nexport function Zip(obj, noCmpr) {\n    if (noCmpr === void 0) { noCmpr = false; }\n    return Task.create('Zip', function (ctx) { return zip(ctx, obj, noCmpr); });\n}\nexport function zip(runtime, obj, noCmpr) {\n    if (noCmpr === void 0) { noCmpr = false; }\n    return __awaiter(this, void 0, void 0, function () {\n        var tot, zpd, _a, _b, _c, _i, p, cpr, buf, crcValue, _d, _e, _f, p, data, o, fof, p, file, i, ioff, p, file, csize;\n        var _g;\n        return __generator(this, function (_h) {\n            switch (_h.label) {\n                case 0:\n                    tot = 0;\n                    zpd = {};\n                    _a = obj;\n                    _b = [];\n                    for (_c in _a)\n                        _b.push(_c);\n                    _i = 0;\n                    _h.label = 1;\n                case 1:\n                    if (!(_i < _b.length)) return [3 /*break*/, 6];\n                    _c = _b[_i];\n                    if (!(_c in _a)) return [3 /*break*/, 5];\n                    p = _c;\n                    cpr = !_noNeed(p) && !noCmpr, buf = obj[p];\n                    crcValue = crc(buf, 0, buf.length);\n                    _d = zpd;\n                    _e = p;\n                    _g = {\n                        cpr: cpr,\n                        usize: buf.length,\n                        crc: crcValue\n                    };\n                    if (!cpr) return [3 /*break*/, 3];\n                    return [4 /*yield*/, deflateRaw(runtime, buf)];\n                case 2:\n                    _f = _h.sent();\n                    return [3 /*break*/, 4];\n                case 3:\n                    _f = buf;\n                    _h.label = 4;\n                case 4:\n                    _d[_e] = (_g.file = (_f),\n                        _g);\n                    _h.label = 5;\n                case 5:\n                    _i++;\n                    return [3 /*break*/, 1];\n                case 6:\n                    for (p in zpd)\n                        tot += zpd[p].file.length + 30 + 46 + 2 * sizeUTF8(p);\n                    tot += 22;\n                    data = new Uint8Array(tot);\n                    o = 0;\n                    fof = [];\n                    for (p in zpd) {\n                        file = zpd[p];\n                        fof.push(o);\n                        o = _writeHeader(data, o, p, file, 0);\n                    }\n                    i = 0;\n                    ioff = o;\n                    for (p in zpd) {\n                        file = zpd[p];\n                        fof.push(o);\n                        o = _writeHeader(data, o, p, file, 1, fof[i++]);\n                    }\n                    csize = o - ioff;\n                    writeUint(data, o, 0x06054b50);\n                    o += 4;\n                    o += 4; // disks\n                    writeUshort(data, o, i);\n                    o += 2;\n                    writeUshort(data, o, i);\n                    o += 2; // number of c d records\n                    writeUint(data, o, csize);\n                    o += 4;\n                    writeUint(data, o, ioff);\n                    o += 4;\n                    o += 2;\n                    return [2 /*return*/, data.buffer];\n            }\n        });\n    });\n}\n// no need to compress .PNG, .ZIP, .JPEG ....\nfunction _noNeed(fn) {\n    var ext = fn.split('.').pop().toLowerCase();\n    return 'png,jpg,jpeg,zip'.indexOf(ext) !== -1;\n}\nfunction _writeHeader(data, o, p, obj, t, roff) {\n    if (roff === void 0) { roff = 0; }\n    var file = obj.file;\n    writeUint(data, o, t === 0 ? 0x04034b50 : 0x02014b50);\n    o += 4; // sign\n    if (t === 1)\n        o += 2; // ver made by\n    writeUshort(data, o, 20);\n    o += 2; // ver\n    writeUshort(data, o, 0);\n    o += 2; // gflip\n    writeUshort(data, o, obj.cpr ? 8 : 0);\n    o += 2; // cmpr\n    writeUint(data, o, 0);\n    o += 4; // time\n    writeUint(data, o, obj.crc);\n    o += 4; // crc32\n    writeUint(data, o, file.length);\n    o += 4; // csize\n    writeUint(data, o, obj.usize);\n    o += 4; // usize\n    writeUshort(data, o, sizeUTF8(p));\n    o += 2; // nlen\n    writeUshort(data, o, 0);\n    o += 2; // elen\n    if (t === 1) {\n        o += 2; // comment length\n        o += 2; // disk number\n        o += 6; // attributes\n        writeUint(data, o, roff);\n        o += 4; // usize\n    }\n    var nlen = writeUTF8(data, o, p);\n    o += nlen;\n    if (t === 0) {\n        data.set(file, o);\n        o += file.length;\n    }\n    return o;\n}\n","/**\n * Copyright (c) 2020-2023 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\nimport { __assign, __awaiter, __generator } from \"tslib\";\nimport { UUID } from './uuid';\nimport { iterableToArray } from '../mol-data/util';\nimport { ajaxGet, readFromFile } from './data-source';\nimport { Task } from '../mol-task';\nimport { File_ as File } from './nodejs-shims';\nexport { AssetManager, Asset };\nvar Asset;\n(function (Asset) {\n    function Url(url, options) {\n        return __assign({ kind: 'url', id: UUID.create22(), url: url }, options);\n    }\n    Asset.Url = Url;\n    function File(file) {\n        return { kind: 'file', id: UUID.create22(), name: file.name, file: file };\n    }\n    Asset.File = File;\n    function isUrl(x) {\n        return (x === null || x === void 0 ? void 0 : x.kind) === 'url';\n    }\n    Asset.isUrl = isUrl;\n    function isFile(x) {\n        return (x === null || x === void 0 ? void 0 : x.kind) === 'file';\n    }\n    Asset.isFile = isFile;\n    function Wrapper(data, asset, manager) {\n        return {\n            data: data,\n            dispose: function () {\n                manager.release(asset);\n            }\n        };\n    }\n    Asset.Wrapper = Wrapper;\n    function getUrl(url) {\n        return typeof url === 'string' ? url : url.url;\n    }\n    Asset.getUrl = getUrl;\n    function getUrlAsset(manager, url, body) {\n        if (typeof url === 'string') {\n            var asset = manager.tryFindUrl(url, body);\n            return asset || Url(url, { body: body });\n        }\n        return url;\n    }\n    Asset.getUrlAsset = getUrlAsset;\n})(Asset || (Asset = {}));\nvar AssetManager = /** @class */ (function () {\n    function AssetManager() {\n        // TODO: add URL based ref-counted cache?\n        // TODO: when serializing, check for duplicates?\n        this._assets = new Map();\n    }\n    Object.defineProperty(AssetManager.prototype, \"assets\", {\n        get: function () {\n            return iterableToArray(this._assets.values());\n        },\n        enumerable: false,\n        configurable: true\n    });\n    AssetManager.prototype.tryFindUrl = function (url, body) {\n        var assets = this.assets.values();\n        while (true) {\n            var v = assets.next();\n            if (v.done)\n                return;\n            var asset = v.value.asset;\n            if (Asset.isUrl(asset) && asset.url === url && (asset.body || '') === (body || ''))\n                return asset;\n        }\n    };\n    AssetManager.prototype.set = function (asset, file) {\n        this._assets.set(asset.id, { asset: asset, file: file, refCount: 0 });\n    };\n    AssetManager.prototype.get = function (asset) {\n        return this._assets.get(asset.id);\n    };\n    AssetManager.prototype.delete = function (asset) {\n        return this._assets.delete(asset.id);\n    };\n    AssetManager.prototype.has = function (asset) {\n        return this._assets.has(asset.id);\n    };\n    AssetManager.prototype.resolve = function (asset, type, store) {\n        var _this = this;\n        if (store === void 0) { store = true; }\n        if (Asset.isUrl(asset)) {\n            return Task.create(\"Download \".concat(asset.title || asset.url), function (ctx) { return __awaiter(_this, void 0, void 0, function () {\n                var entry, _a, _b, _c, _d, data, file, _e, _f;\n                return __generator(this, function (_g) {\n                    switch (_g.label) {\n                        case 0:\n                            if (!this._assets.has(asset.id)) return [3 /*break*/, 2];\n                            entry = this._assets.get(asset.id);\n                            entry.refCount++;\n                            _b = (_a = Asset).Wrapper;\n                            return [4 /*yield*/, readFromFile(entry.file, type).runInContext(ctx)];\n                        case 1: return [2 /*return*/, _b.apply(_a, [_g.sent(), asset, this])];\n                        case 2:\n                            if (!!store) return [3 /*break*/, 4];\n                            _d = (_c = Asset).Wrapper;\n                            return [4 /*yield*/, ajaxGet(__assign(__assign({}, asset), { type: type })).runInContext(ctx)];\n                        case 3: return [2 /*return*/, _d.apply(_c, [_g.sent(), asset, this])];\n                        case 4: return [4 /*yield*/, ajaxGet(__assign(__assign({}, asset), { type: 'binary' })).runInContext(ctx)];\n                        case 5:\n                            data = _g.sent();\n                            file = new File([data], 'raw-data');\n                            this._assets.set(asset.id, { asset: asset, file: file, refCount: 1 });\n                            _f = (_e = Asset).Wrapper;\n                            return [4 /*yield*/, readFromFile(file, type).runInContext(ctx)];\n                        case 6: return [2 /*return*/, _f.apply(_e, [_g.sent(), asset, this])];\n                    }\n                });\n            }); });\n        }\n        else {\n            return Task.create(\"Read \".concat(asset.name), function (ctx) { return __awaiter(_this, void 0, void 0, function () {\n                var entry, _a, _b, _c, _d;\n                return __generator(this, function (_e) {\n                    switch (_e.label) {\n                        case 0:\n                            if (!this._assets.has(asset.id)) return [3 /*break*/, 2];\n                            entry = this._assets.get(asset.id);\n                            entry.refCount++;\n                            _b = (_a = Asset).Wrapper;\n                            return [4 /*yield*/, readFromFile(entry.file, type).runInContext(ctx)];\n                        case 1: return [2 /*return*/, _b.apply(_a, [_e.sent(), asset, this])];\n                        case 2:\n                            if (!(asset.file instanceof File)) {\n                                throw new Error(\"Cannot resolve file asset '\".concat(asset.name, \"' (\").concat(asset.id, \")\"));\n                            }\n                            if (store) {\n                                this._assets.set(asset.id, { asset: asset, file: asset.file, refCount: 1 });\n                            }\n                            _d = (_c = Asset).Wrapper;\n                            return [4 /*yield*/, readFromFile(asset.file, type).runInContext(ctx)];\n                        case 3: return [2 /*return*/, _d.apply(_c, [_e.sent(), asset, this])];\n                    }\n                });\n            }); });\n        }\n    };\n    AssetManager.prototype.release = function (asset) {\n        var entry = this._assets.get(asset.id);\n        if (!entry)\n            return;\n        entry.refCount--;\n        if (entry.refCount <= 0)\n            this._assets.delete(asset.id);\n    };\n    return AssetManager;\n}());\n","/**\n * Copyright (c) 2018-2023 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @author David Sehnal <david.sehnal@gmail.com>\n */\nimport { __assign } from \"tslib\";\nimport { shallowEqualObjects } from './index';\nimport { Vec2 as Vec2Data, Vec3 as Vec3Data, Mat4 as Mat4Data, EPSILON } from '../mol-math/linear-algebra';\nimport { deepClone } from './object';\nimport { stringToWords } from './string';\nimport { getColorListFromName } from './color/lists';\nimport { Asset } from './assets';\nexport var ParamDefinition;\n(function (ParamDefinition) {\n    ParamDefinition.Essential = { isEssential: true };\n    function setInfo(param, info) {\n        if (!info)\n            return param;\n        if (info.label)\n            param.label = info.label;\n        if (info.description)\n            param.description = info.description;\n        if (info.legend)\n            param.legend = info.legend;\n        if (info.fieldLabels)\n            param.fieldLabels = info.fieldLabels;\n        if (info.isHidden)\n            param.isHidden = info.isHidden;\n        if (info.shortLabel)\n            param.shortLabel = info.shortLabel;\n        if (info.twoColumns)\n            param.twoColumns = info.twoColumns;\n        if (info.isEssential)\n            param.isEssential = info.isEssential;\n        if (info.category)\n            param.category = info.category;\n        if (info.hideIf)\n            param.hideIf = info.hideIf;\n        if (info.help)\n            param.help = info.help;\n        return param;\n    }\n    function Optional(p) {\n        var ret = __assign({}, p);\n        ret.isOptional = true;\n        return ret;\n    }\n    ParamDefinition.Optional = Optional;\n    function Value(defaultValue, info) {\n        return setInfo({ type: 'value', defaultValue: defaultValue }, info);\n    }\n    ParamDefinition.Value = Value;\n    function Select(defaultValue, options, info) {\n        return setInfo({ type: 'select', defaultValue: checkDefaultKey(defaultValue, options), options: options, cycle: info === null || info === void 0 ? void 0 : info.cycle }, info);\n    }\n    ParamDefinition.Select = Select;\n    function MultiSelect(defaultValue, options, info) {\n        // TODO: check if default value is a subset of options?\n        var ret = setInfo({ type: 'multi-select', defaultValue: defaultValue, options: options }, info);\n        if (info === null || info === void 0 ? void 0 : info.emptyValue)\n            ret.emptyValue = info.emptyValue;\n        return ret;\n    }\n    ParamDefinition.MultiSelect = MultiSelect;\n    function Boolean(defaultValue, info) {\n        return setInfo({ type: 'boolean', defaultValue: defaultValue }, info);\n    }\n    ParamDefinition.Boolean = Boolean;\n    function Text(defaultValue, info) {\n        if (defaultValue === void 0) { defaultValue = ''; }\n        return setInfo({ type: 'text', defaultValue: defaultValue }, info);\n    }\n    ParamDefinition.Text = Text;\n    function Color(defaultValue, info) {\n        var ret = setInfo({ type: 'color', defaultValue: defaultValue }, info);\n        if (info === null || info === void 0 ? void 0 : info.isExpanded)\n            ret.isExpanded = info.isExpanded;\n        return ret;\n    }\n    ParamDefinition.Color = Color;\n    function ColorList(defaultValue, info) {\n        var def;\n        if (typeof defaultValue === 'string') {\n            var colors = getColorListFromName(defaultValue);\n            def = { kind: colors.type !== 'qualitative' ? 'interpolate' : 'set', colors: colors.list };\n        }\n        else {\n            def = defaultValue;\n        }\n        return setInfo({ type: 'color-list', presetKind: (info === null || info === void 0 ? void 0 : info.presetKind) || 'all', defaultValue: def, offsets: !!(info === null || info === void 0 ? void 0 : info.offsets) }, info);\n    }\n    ParamDefinition.ColorList = ColorList;\n    function Vec3(defaultValue, range, info) {\n        return setInfo(setRange({ type: 'vec3', defaultValue: defaultValue }, range), info);\n    }\n    ParamDefinition.Vec3 = Vec3;\n    function Mat4(defaultValue, info) {\n        return setInfo({ type: 'mat4', defaultValue: defaultValue }, info);\n    }\n    ParamDefinition.Mat4 = Mat4;\n    function Url(url, info) {\n        var defaultValue = typeof url === 'string' ? Asset.Url(url) : Asset.Url(url.url, { body: url.body });\n        var ret = setInfo({ type: 'url', defaultValue: defaultValue }, info);\n        return ret;\n    }\n    ParamDefinition.Url = Url;\n    function File(info) {\n        var ret = setInfo({ type: 'file', defaultValue: null }, info);\n        if (info === null || info === void 0 ? void 0 : info.accept)\n            ret.accept = info.accept;\n        return ret;\n    }\n    ParamDefinition.File = File;\n    function FileList(info) {\n        var ret = setInfo({ type: 'file-list', defaultValue: null }, info);\n        if (info === null || info === void 0 ? void 0 : info.accept)\n            ret.accept = info.accept;\n        return ret;\n    }\n    ParamDefinition.FileList = FileList;\n    function setRange(p, range) {\n        if (!range)\n            return p;\n        if (typeof range.min !== 'undefined')\n            p.min = range.min;\n        if (typeof range.max !== 'undefined')\n            p.max = range.max;\n        if (typeof range.step !== 'undefined')\n            p.step = range.step;\n        return p;\n    }\n    function Numeric(defaultValue, range, info) {\n        var ret = setInfo(setRange({ type: 'number', defaultValue: defaultValue }, range), info);\n        if (info === null || info === void 0 ? void 0 : info.immediateUpdate)\n            ret.immediateUpdate = true;\n        return ret;\n    }\n    ParamDefinition.Numeric = Numeric;\n    function Interval(defaultValue, range, info) {\n        return setInfo(setRange({ type: 'interval', defaultValue: defaultValue }, range), info);\n    }\n    ParamDefinition.Interval = Interval;\n    function LineGraph(defaultValue, info) {\n        var ret = setInfo({ type: 'line-graph', defaultValue: defaultValue }, info);\n        if (info === null || info === void 0 ? void 0 : info.getVolume)\n            ret.getVolume = info.getVolume;\n        return ret;\n    }\n    ParamDefinition.LineGraph = LineGraph;\n    function Group(params, info) {\n        var ret = setInfo({ type: 'group', defaultValue: (info === null || info === void 0 ? void 0 : info.customDefault) || getDefaultValues(params), params: params }, info);\n        if (info === null || info === void 0 ? void 0 : info.presets)\n            ret.presets = info.presets;\n        if (info === null || info === void 0 ? void 0 : info.isExpanded)\n            ret.isExpanded = info.isExpanded;\n        if (info === null || info === void 0 ? void 0 : info.isFlat)\n            ret.isFlat = info.isFlat;\n        if (info === null || info === void 0 ? void 0 : info.pivot)\n            ret.pivot = info.pivot;\n        return ret;\n    }\n    ParamDefinition.Group = Group;\n    function EmptyGroup(info) {\n        return Group({}, info);\n    }\n    ParamDefinition.EmptyGroup = EmptyGroup;\n    function Mapped(defaultKey, names, map, info) {\n        var name = checkDefaultKey(defaultKey, names);\n        return setInfo({\n            type: 'mapped',\n            defaultValue: { name: name, params: map(name).defaultValue },\n            select: Select(name, names, info),\n            map: map\n        }, info);\n    }\n    ParamDefinition.Mapped = Mapped;\n    function MappedStatic(defaultKey, map, info) {\n        var options = (info === null || info === void 0 ? void 0 : info.options)\n            ? info.options\n            : Object.keys(map).map(function (k) { return [k, map[k].label || stringToWords(k)]; });\n        var name = checkDefaultKey(defaultKey, options);\n        return setInfo({\n            type: 'mapped',\n            defaultValue: { name: name, params: map[name].defaultValue },\n            select: Select(name, options, info),\n            map: function (key) { return map[key]; }\n        }, info);\n    }\n    ParamDefinition.MappedStatic = MappedStatic;\n    function ObjectList(element, getLabel, info) {\n        return setInfo({ type: 'object-list', element: element, getLabel: getLabel, ctor: _defaultObjectListCtor, defaultValue: (info === null || info === void 0 ? void 0 : info.defaultValue) || [] }, info);\n    }\n    ParamDefinition.ObjectList = ObjectList;\n    function _defaultObjectListCtor() { return getDefaultValues(this.element); }\n    function unsetGetValue() {\n        throw new Error('getValue not set. Fix runtime.');\n    }\n    function ValueRef(getOptions, resolveRef, info) {\n        var _a;\n        return setInfo({ type: 'value-ref', defaultValue: { ref: (_a = info === null || info === void 0 ? void 0 : info.defaultRef) !== null && _a !== void 0 ? _a : '', getValue: unsetGetValue }, getOptions: getOptions, resolveRef: resolveRef }, info);\n    }\n    ParamDefinition.ValueRef = ValueRef;\n    function DataRef(info) {\n        var _a;\n        return setInfo({ type: 'data-ref', defaultValue: { ref: (_a = info === null || info === void 0 ? void 0 : info.defaultRef) !== null && _a !== void 0 ? _a : '', getValue: unsetGetValue } }, info);\n    }\n    ParamDefinition.DataRef = DataRef;\n    function Converted(fromValue, toValue, converted) {\n        return setInfo({ type: 'converted', defaultValue: toValue(converted.defaultValue), converted: converted, fromValue: fromValue, toValue: toValue }, converted);\n    }\n    ParamDefinition.Converted = Converted;\n    function Conditioned(defaultValue, conditionParams, conditionForValue, conditionedValue, info) {\n        var options = Object.keys(conditionParams).map(function (k) { return [k, k]; });\n        return setInfo({ type: 'conditioned', select: Select(conditionForValue(defaultValue), options, info), defaultValue: defaultValue, conditionParams: conditionParams, conditionForValue: conditionForValue, conditionedValue: conditionedValue }, info);\n    }\n    ParamDefinition.Conditioned = Conditioned;\n    function Script(defaultValue, info) {\n        return setInfo({ type: 'script', defaultValue: defaultValue }, info);\n    }\n    ParamDefinition.Script = Script;\n    function For(params) {\n        return 0;\n    }\n    ParamDefinition.For = For;\n    function getDefaultValues(params) {\n        var d = {};\n        for (var _a = 0, _b = Object.keys(params); _a < _b.length; _a++) {\n            var k = _b[_a];\n            if (params[k].isOptional)\n                continue;\n            d[k] = params[k].defaultValue;\n        }\n        return d;\n    }\n    ParamDefinition.getDefaultValues = getDefaultValues;\n    function _resolveRef(resolve, ref, getData) {\n        return function () { return resolve(ref, getData); };\n    }\n    function resolveRefValue(p, value, getData) {\n        if (!value)\n            return;\n        if (p.type === 'value-ref') {\n            var v = value;\n            if (!v.ref)\n                v.getValue = function () { throw new Error('Unset ref in ValueRef value.'); };\n            else\n                v.getValue = _resolveRef(p.resolveRef, v.ref, getData);\n        }\n        else if (p.type === 'data-ref') {\n            var v = value;\n            if (!v.ref)\n                v.getValue = function () { throw new Error('Unset ref in ValueRef value.'); };\n            else\n                v.getValue = _resolveRef(getData, v.ref, getData);\n        }\n        else if (p.type === 'group') {\n            resolveRefs(p.params, value, getData);\n        }\n        else if (p.type === 'mapped') {\n            var v = value;\n            var param = p.map(v.name);\n            resolveRefValue(param, v.params, getData);\n        }\n        else if (p.type === 'object-list') {\n            if (!hasValueRef(p.element))\n                return;\n            for (var _a = 0, value_1 = value; _a < value_1.length; _a++) {\n                var e = value_1[_a];\n                resolveRefs(p.element, e, getData);\n            }\n        }\n    }\n    function hasParamValueRef(p) {\n        if (p.type === 'value-ref' || p.type === 'data-ref') {\n            return true;\n        }\n        else if (p.type === 'group') {\n            if (hasValueRef(p.params))\n                return true;\n        }\n        else if (p.type === 'mapped') {\n            for (var _a = 0, _b = p.select.options; _a < _b.length; _a++) {\n                var o = _b[_a][0];\n                if (hasParamValueRef(p.map(o)))\n                    return true;\n            }\n        }\n        else if (p.type === 'object-list') {\n            return hasValueRef(p.element);\n        }\n        return false;\n    }\n    function hasValueRef(params) {\n        for (var _a = 0, _b = Object.keys(params); _a < _b.length; _a++) {\n            var n = _b[_a];\n            if (hasParamValueRef(params[n]))\n                return true;\n        }\n        return false;\n    }\n    function resolveRefs(params, values, getData) {\n        for (var _a = 0, _b = Object.keys(params); _a < _b.length; _a++) {\n            var n = _b[_a];\n            resolveRefValue(params[n], values === null || values === void 0 ? void 0 : values[n], getData);\n        }\n    }\n    ParamDefinition.resolveRefs = resolveRefs;\n    function setDefaultValues(params, defaultValues) {\n        for (var _a = 0, _b = Object.keys(params); _a < _b.length; _a++) {\n            var k = _b[_a];\n            if (params[k].isOptional)\n                continue;\n            params[k].defaultValue = defaultValues[k];\n        }\n    }\n    ParamDefinition.setDefaultValues = setDefaultValues;\n    function clone(params) {\n        return deepClone(params);\n    }\n    ParamDefinition.clone = clone;\n    function validate(params, values) {\n        // TODO\n        return void 0;\n    }\n    ParamDefinition.validate = validate;\n    function areEqual(params, a, b) {\n        if (a === b)\n            return true;\n        if (typeof a !== 'object' || typeof b !== 'object')\n            return false;\n        for (var _a = 0, _b = Object.keys(params); _a < _b.length; _a++) {\n            var k = _b[_a];\n            if (!isParamEqual(params[k], a[k], b[k]))\n                return false;\n        }\n        return true;\n    }\n    ParamDefinition.areEqual = areEqual;\n    function isParamEqual(p, a, b) {\n        if (a === b)\n            return true;\n        if (p.type === 'group') {\n            return areEqual(p.params, a, b);\n        }\n        else if (p.type === 'mapped') {\n            var u = a, v = b;\n            if (u.name !== v.name)\n                return false;\n            var map = p.map(u.name);\n            return isParamEqual(map, u.params, v.params);\n        }\n        else if (p.type === 'multi-select') {\n            var u = a, v = b;\n            if (u.length !== v.length)\n                return false;\n            if (u.length < 10) {\n                for (var i = 0, _i = u.length; i < _i; i++) {\n                    if (u[i] === v[i])\n                        continue;\n                    if (v.indexOf(u[i]) < 0)\n                        return false;\n                }\n            }\n            else {\n                // TODO: should the value of multiselect be a set?\n                var vSet = new Set(v);\n                for (var i = 0, _i = u.length; i < _i; i++) {\n                    if (u[i] === v[i])\n                        continue;\n                    if (!vSet.has(u[i]))\n                        return false;\n                }\n            }\n            return true;\n        }\n        else if (p.type === 'interval') {\n            return a[0] === b[0] && a[1] === b[1];\n        }\n        else if (p.type === 'line-graph') {\n            var u = a, v = b;\n            if (u.length !== v.length)\n                return false;\n            for (var i = 0, _i = u.length; i < _i; i++) {\n                if (!Vec2Data.areEqual(u[i], v[i]))\n                    return false;\n            }\n            return true;\n        }\n        else if (p.type === 'vec3') {\n            return Vec3Data.equals(a, b);\n        }\n        else if (p.type === 'mat4') {\n            return Mat4Data.areEqual(a, b, EPSILON);\n        }\n        else if (p.type === 'script') {\n            var u = a, v = b;\n            return u.language === v.language && u.expression === v.expression;\n        }\n        else if (p.type === 'object-list') {\n            var u = a, v = b;\n            var l = u.length;\n            if (l !== v.length)\n                return false;\n            for (var i = 0; i < l; i++) {\n                if (!areEqual(p.element, u[i], v[i]))\n                    return false;\n            }\n            return true;\n        }\n        else if (typeof a === 'object' && typeof b === 'object') {\n            return shallowEqualObjects(a, b);\n        }\n        // a === b was checked at the top.\n        return false;\n    }\n    ParamDefinition.isParamEqual = isParamEqual;\n    function merge(params, a, b) {\n        if (a === undefined)\n            return __assign({}, b);\n        if (b === undefined)\n            return __assign({}, a);\n        var o = Object.create(null);\n        for (var _a = 0, _b = Object.keys(params); _a < _b.length; _a++) {\n            var k = _b[_a];\n            o[k] = mergeParam(params[k], a[k], b[k]);\n        }\n        return o;\n    }\n    ParamDefinition.merge = merge;\n    function mergeParam(p, a, b) {\n        if (a === undefined)\n            return typeof b === 'object' && !Array.isArray(b) ? __assign({}, b) : b;\n        if (b === undefined)\n            return typeof a === 'object' && !Array.isArray(a) ? __assign({}, a) : a;\n        if (p.type === 'group') {\n            return merge(p.params, a, b);\n        }\n        else if (p.type === 'mapped') {\n            var u = a, v = b;\n            if (u.name !== v.name)\n                return __assign({}, v);\n            var map = p.map(v.name);\n            return {\n                name: v.name,\n                params: mergeParam(map, u.params, v.params)\n            };\n        }\n        else if (p.type === 'value') {\n            return b;\n        }\n        else if (typeof a === 'object' && typeof b === 'object') {\n            if (Array.isArray(b)) {\n                return b;\n            }\n            return __assign(__assign({}, a), b);\n        }\n        else {\n            return b;\n        }\n    }\n    ParamDefinition.mergeParam = mergeParam;\n    function selectHasOption(p, v) {\n        for (var _a = 0, _b = p.options; _a < _b.length; _a++) {\n            var o = _b[_a];\n            if (o[0] === v)\n                return true;\n        }\n        return false;\n    }\n    function normalizeParam(p, value, defaultIfUndefined) {\n        if (value === void 0 || value === null) {\n            return defaultIfUndefined ? p.defaultValue : void 0;\n        }\n        // TODO: is this a good idea and will work well?\n        // if (typeof p.defaultValue !== typeof value) {\n        //     return p.defaultValue;\n        // }\n        if (p.type === 'value') {\n            return value;\n        }\n        else if (p.type === 'group') {\n            var ret = Object.create(null);\n            for (var _a = 0, _b = Object.keys(p.params); _a < _b.length; _a++) {\n                var key = _b[_a];\n                var param = p.params[key];\n                if (value[key] === void 0) {\n                    if (defaultIfUndefined)\n                        ret[key] = param.defaultValue;\n                }\n                else {\n                    ret[key] = normalizeParam(param, value[key], defaultIfUndefined);\n                }\n            }\n            return ret;\n        }\n        else if (p.type === 'mapped') {\n            var v = value;\n            if (typeof v.name !== 'string') {\n                return p.defaultValue;\n            }\n            if (typeof v.params === 'undefined') {\n                return defaultIfUndefined ? p.defaultValue : void 0;\n            }\n            if (!selectHasOption(p.select, v.name)) {\n                return p.defaultValue;\n            }\n            var param = p.map(v.name);\n            return {\n                name: v.name,\n                params: normalizeParam(param, v.params, defaultIfUndefined)\n            };\n        }\n        else if (p.type === 'select') {\n            if (!selectHasOption(p, value))\n                return p.defaultValue;\n            return value;\n        }\n        else if (p.type === 'multi-select') {\n            if (!Array.isArray(value))\n                return p.defaultValue;\n            var ret = value.filter(function (v) { return selectHasOption(this, v); }, p);\n            if (value.length > 0 && ret.length === 0)\n                return p.defaultValue;\n            return ret;\n        }\n        else if (p.type === 'object-list') {\n            if (!Array.isArray(value))\n                return p.defaultValue;\n            return value.map(function (v) { return normalizeParams(p.element, v, defaultIfUndefined ? 'all' : 'skip'); });\n        }\n        // TODO: validate/normalize all param types \"properly\"??\n        return value;\n    }\n    function normalizeParams(p, value, defaultIfUndefined) {\n        if (typeof value !== 'object' || value === null) {\n            return defaultIfUndefined ? getDefaultValues(p) : value;\n        }\n        var ret = Object.create(null);\n        for (var _a = 0, _b = Object.keys(p); _a < _b.length; _a++) {\n            var key = _b[_a];\n            var param = p[key];\n            if (value[key] === void 0) {\n                if (defaultIfUndefined === 'all')\n                    ret[key] = param.defaultValue;\n            }\n            else {\n                ret[key] = normalizeParam(param, value[key], defaultIfUndefined !== 'skip');\n            }\n        }\n        return ret;\n    }\n    ParamDefinition.normalizeParams = normalizeParams;\n    /**\n     * Map an object to a list of [K, string][] to be used as options, stringToWords for key used by default (or identity of null).\n     *\n     * if options is { [string]: string } and mapping is not provided, use the Value.\n     */\n    function objectToOptions(options, f) {\n        var ret = [];\n        for (var _a = 0, _b = Object.keys(options); _a < _b.length; _a++) {\n            var k = _b[_a];\n            if (!f) {\n                if (typeof options[k] === 'string')\n                    ret.push([k, options[k]]);\n                else\n                    ret.push([k, f === null ? k : stringToWords(k)]);\n            }\n            else {\n                var o = f(k, options[k]);\n                ret.push(typeof o === 'string' ? [k, o] : [k, o[0], o[1]]);\n            }\n        }\n        return ret;\n    }\n    ParamDefinition.objectToOptions = objectToOptions;\n    /**\n     * Map array of options using stringToWords by default (or identity of null).\n     */\n    function arrayToOptions(xs, f) {\n        var ret = [];\n        for (var _a = 0, xs_1 = xs; _a < xs_1.length; _a++) {\n            var x = xs_1[_a];\n            if (!f) {\n                ret.push([x, f === null ? x : stringToWords(x)]);\n            }\n            else {\n                ret.push([x, f(x)]);\n            }\n        }\n        return ret;\n    }\n    ParamDefinition.arrayToOptions = arrayToOptions;\n    function optionLabel(param, value) {\n        for (var _a = 0, _b = param.options; _a < _b.length; _a++) {\n            var o = _b[_a];\n            if (o[0] === value)\n                return o[1];\n        }\n        return '';\n    }\n    ParamDefinition.optionLabel = optionLabel;\n    function checkDefaultKey(k, options) {\n        for (var _a = 0, options_1 = options; _a < options_1.length; _a++) {\n            var o = options_1[_a];\n            if (o[0] === k)\n                return k;\n        }\n        return options.length > 0 ? options[0][0] : void 0;\n    }\n})(ParamDefinition || (ParamDefinition = {}));\n","/**\n * Copyright (c) 2019 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @author Sebastian Bittrich <sebastian.bittrich@rcsb.org>\n */\nimport { IntAdjacencyGraph } from '../../../../mol-math/graph';\nimport { Vec3 } from '../../../../mol-math/linear-algebra';\n/** max distance between two C-alpha atoms to check for hbond */\nvar caMaxDist = 9.0;\n/**\n * Constant for electrostatic energy in kcal/mol\n *      f  *  q1 *   q2\n * Q = -332 * 0.42 * 0.20\n *\n * f is the dimensional factor\n *\n * q1 and q2 are partial charges which are placed on the C,O\n * (+q1,-q1) and N,H (-q2,+q2)\n */\nvar Q = -27.888;\n/** cutoff for hbonds in kcal/mol, must be lower to be consider as an hbond */\nvar hbondEnergyCutoff = -0.5;\n/** prevent extremely low hbond energies */\nvar hbondEnergyMinimal = -9.9;\n/**\n * E = Q * (1/r(ON) + l/r(CH) - l/r(OH) - l/r(CN))\n */\nfunction calcHbondEnergy(oPos, cPos, nPos, hPos) {\n    var distOH = Vec3.distance(oPos, hPos);\n    var distCH = Vec3.distance(cPos, hPos);\n    var distCN = Vec3.distance(cPos, nPos);\n    var distON = Vec3.distance(oPos, nPos);\n    var e1 = Q / distOH - Q / distCH;\n    var e2 = Q / distCN - Q / distON;\n    var e = e1 + e2;\n    // cap lowest possible energy\n    if (e < hbondEnergyMinimal)\n        return hbondEnergyMinimal;\n    return e;\n}\nexport function calcUnitBackboneHbonds(unit, proteinInfo, lookup3d) {\n    var residueIndices = proteinInfo.residueIndices, cIndices = proteinInfo.cIndices, hIndices = proteinInfo.hIndices, nIndices = proteinInfo.nIndices, oIndices = proteinInfo.oIndices;\n    var index = unit.model.atomicHierarchy.index;\n    var invariantPosition = unit.conformation.invariantPosition;\n    var traceElementIndex = unit.model.atomicHierarchy.derived.residue.traceElementIndex;\n    var residueCount = residueIndices.length;\n    var oAtomResidues = [];\n    var nAtomResidues = [];\n    var energies = [];\n    var oPos = Vec3();\n    var cPos = Vec3();\n    var caPos = Vec3();\n    var nPos = Vec3();\n    var hPos = Vec3();\n    var cPosPrev = Vec3();\n    var oPosPrev = Vec3();\n    for (var i = 0, il = residueIndices.length; i < il; ++i) {\n        var oPI = i;\n        var oRI = residueIndices[i];\n        var oAtom = oIndices[oPI];\n        var cAtom = cIndices[oPI];\n        var caAtom = traceElementIndex[oRI];\n        // continue if residue is missing O or C atom\n        if (oAtom === -1 || cAtom === -1)\n            continue;\n        // ignore C-terminal residue as acceptor\n        if (index.findAtomOnResidue(oRI, 'OXT') !== -1)\n            continue;\n        invariantPosition(oAtom, oPos);\n        invariantPosition(cAtom, cPos);\n        invariantPosition(caAtom, caPos);\n        var _a = lookup3d.find(caPos[0], caPos[1], caPos[2], caMaxDist), indices = _a.indices, count = _a.count;\n        for (var j = 0; j < count; ++j) {\n            var nPI = indices[j];\n            // ignore bonds within a residue or to prev or next residue\n            if (nPI === oPI || nPI - 1 === oPI || nPI + 1 === oPI)\n                continue;\n            var nAtom = nIndices[nPI];\n            if (nAtom === -1)\n                continue;\n            invariantPosition(nAtom, nPos);\n            var hAtom = hIndices[nPI];\n            if (hAtom === -1) {\n                // approximate calculation of H position, TODO factor out\n                if (nPI === 0)\n                    continue;\n                var nPIprev = nPI - 1;\n                var oAtomPrev = oIndices[nPIprev];\n                var cAtomPrev = cIndices[nPIprev];\n                if (oAtomPrev === -1 || cAtomPrev === -1)\n                    continue;\n                invariantPosition(oAtomPrev, oPosPrev);\n                invariantPosition(cAtomPrev, cPosPrev);\n                Vec3.sub(hPos, cPosPrev, oPosPrev);\n                var dist = Vec3.distance(oPosPrev, cPosPrev);\n                Vec3.scaleAndAdd(hPos, nPos, hPos, 1 / dist);\n            }\n            else {\n                invariantPosition(hAtom, hPos);\n            }\n            var e = calcHbondEnergy(oPos, cPos, nPos, hPos);\n            if (e > hbondEnergyCutoff)\n                continue;\n            oAtomResidues[oAtomResidues.length] = oPI;\n            nAtomResidues[nAtomResidues.length] = nPI;\n            energies[energies.length] = e;\n        }\n    }\n    return buildHbondGraph(residueCount, oAtomResidues, nAtomResidues, energies);\n}\nfunction buildHbondGraph(residueCount, oAtomResidues, nAtomResidues, energies) {\n    var builder = new IntAdjacencyGraph.DirectedEdgeBuilder(residueCount, oAtomResidues, nAtomResidues);\n    var _energies = new Float32Array(builder.slotCount);\n    for (var i = 0, _i = builder.edgeCount; i < _i; i++) {\n        builder.addNextEdge();\n        builder.assignProperty(_energies, energies[i]);\n    }\n    return builder.createGraph({ energies: energies });\n}\n","/**\n * Copyright (c) 2019 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @author Sebastian Bittrich <sebastian.bittrich@rcsb.org>\n */\nimport { BitFlags } from '../../../../mol-util';\nexport { DSSPType };\nvar DSSPType;\n(function (DSSPType) {\n    DSSPType.is = BitFlags.has;\n    DSSPType.create = BitFlags.create;\n})(DSSPType || (DSSPType = {}));\nvar Bridge = /** @class */ (function () {\n    function Bridge(p1, p2, type) {\n        this.partner1 = Math.min(p1, p2);\n        this.partner2 = Math.max(p1, p2);\n        this.type = type;\n    }\n    return Bridge;\n}());\nexport { Bridge };\n","/**\n * Copyright (c) 2019 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @author Sebastian Bittrich <sebastian.bittrich@rcsb.org>\n */\nfunction shouldExtendLadder(ladder, bridge) {\n    // in order to extend ladders, same type must be present\n    if (bridge.type !== ladder.type)\n        return false;\n    // only extend if residue 1 is sequence neighbor with regard to ladder\n    if (bridge.partner1 !== ladder.firstEnd + 1)\n        return false;\n    if (bridge.type === 0 /* BridgeType.PARALLEL */) {\n        if (bridge.partner2 === ladder.secondEnd + 1) {\n            return true;\n        }\n    }\n    else {\n        if (bridge.partner2 === ladder.secondStart - 1) {\n            return true;\n        }\n    }\n    return false;\n}\n/**\n * For beta structures, we define: a bulge-linked ladder consists of two ladders or bridges of the same type\n * connected by at most one extra residue of one strand and at most four extra residues  on the other strand,\n * all residues in bulge-linked ladders are marked E, including any extra residues.\n */\nfunction resemblesBulge(ladder1, ladder2) {\n    if (!(ladder1.type === ladder2.type && ladder2.firstStart - ladder1.firstEnd < 6 &&\n        ladder1.firstStart < ladder2.firstStart && ladder2.nextLadder === 0))\n        return false;\n    if (ladder1.type === 0 /* BridgeType.PARALLEL */) {\n        return bulgeCriterion2(ladder1, ladder2);\n    }\n    else {\n        return bulgeCriterion2(ladder2, ladder1);\n    }\n}\nfunction bulgeCriterion2(ladder1, ladder2) {\n    return ladder2.secondStart - ladder1.secondEnd > 0 && ((ladder2.secondStart - ladder1.secondEnd < 6 &&\n        ladder2.firstStart - ladder1.firstEnd < 3) || ladder2.secondStart - ladder1.secondEnd < 3);\n}\n/**\n * ladder=: set of one or more consecutive bridges of identical type\n *\n * Type: E\n */\nexport function assignLadders(ctx) {\n    var bridges = ctx.bridges, ladders = ctx.ladders;\n    // create ladders\n    for (var bridgeIndex = 0; bridgeIndex < bridges.length; bridgeIndex++) {\n        var bridge = bridges[bridgeIndex];\n        var found = false;\n        for (var ladderIndex = 0; ladderIndex < ladders.length; ladderIndex++) {\n            var ladder = ladders[ladderIndex];\n            if (shouldExtendLadder(ladder, bridge)) {\n                found = true;\n                ladder.firstEnd++;\n                if (bridge.type === 0 /* BridgeType.PARALLEL */) {\n                    ladder.secondEnd++;\n                }\n                else {\n                    ladder.secondStart--;\n                }\n            }\n        }\n        // no suitable assignment: create new ladder with single bridge as content\n        if (!found) {\n            ladders[ladders.length] = {\n                previousLadder: 0,\n                nextLadder: 0,\n                firstStart: bridge.partner1,\n                firstEnd: bridge.partner1,\n                secondStart: bridge.partner2,\n                secondEnd: bridge.partner2,\n                type: bridge.type\n            };\n        }\n    }\n    // connect ladders\n    for (var ladderIndex1 = 0; ladderIndex1 < ladders.length; ladderIndex1++) {\n        var ladder1 = ladders[ladderIndex1];\n        for (var ladderIndex2 = ladderIndex1; ladderIndex2 < ladders.length; ladderIndex2++) {\n            var ladder2 = ladders[ladderIndex2];\n            if (resemblesBulge(ladder1, ladder2)) {\n                ladder1.nextLadder = ladderIndex2;\n                ladder2.previousLadder = ladderIndex1;\n            }\n        }\n    }\n}\n","/**\n * Copyright (c) 2019 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @author Sebastian Bittrich <sebastian.bittrich@rcsb.org>\n */\nimport { DSSPType } from './common';\nfunction isHelixType(f) {\n    return DSSPType.is(f, 8 /* DSSPType.Flag.G */) || DSSPType.is(f, 1 /* DSSPType.Flag.H */) || DSSPType.is(f, 16 /* DSSPType.Flag.I */);\n}\n/**\n * sheet=: set of one or more ladders connected by shared residues\n *\n * Type: E\n */\nexport function assignSheets(ctx) {\n    var ladders = ctx.ladders, flags = ctx.flags;\n    for (var ladderIndex = 0; ladderIndex < ladders.length; ladderIndex++) {\n        var ladder = ladders[ladderIndex];\n        for (var lcount = ladder.firstStart; lcount <= ladder.firstEnd; lcount++) {\n            var diff = ladder.firstStart - lcount;\n            var l2count = ladder.secondStart - diff;\n            if (ladder.firstStart !== ladder.firstEnd) {\n                flags[lcount] |= 4 /* DSSPType.Flag.E */;\n                flags[l2count] |= 4 /* DSSPType.Flag.E */;\n            }\n            else {\n                if (!isHelixType(flags[lcount]) && DSSPType.is(flags[lcount], 4 /* DSSPType.Flag.E */)) {\n                    flags[lcount] |= 2 /* DSSPType.Flag.B */;\n                }\n                if (!isHelixType(flags[l2count]) && DSSPType.is(flags[l2count], 4 /* DSSPType.Flag.E */)) {\n                    flags[l2count] |= 2 /* DSSPType.Flag.B */;\n                }\n            }\n        }\n        if (ladder.nextLadder === 0)\n            continue;\n        var conladder = ladders[ladder.nextLadder];\n        for (var lcount = ladder.firstStart; lcount <= conladder.firstEnd; lcount++) {\n            flags[lcount] |= 4 /* DSSPType.Flag.E */;\n        }\n        if (ladder.type === 0 /* BridgeType.PARALLEL */) {\n            for (var lcount = ladder.secondStart; lcount <= conladder.secondEnd; lcount++) {\n                flags[lcount] |= 4 /* DSSPType.Flag.E */;\n            }\n        }\n        else {\n            for (var lcount = conladder.secondEnd; lcount <= ladder.secondStart; lcount++) {\n                flags[lcount] |= 4 /* DSSPType.Flag.E */;\n            }\n        }\n    }\n}\n","/**\n * Copyright (c) 2019 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @author Sebastian Bittrich <sebastian.bittrich@rcsb.org>\n */\nimport { __awaiter, __generator } from \"tslib\";\nimport { SecondaryStructure } from '../../../mol-model/structure/model/properties/seconday-structure';\nimport { SecondaryStructureType } from '../../../mol-model/structure/model/types';\nimport { ParamDefinition as PD } from '../../../mol-util/param-definition';\nimport { assignBends } from './dssp/bends';\nimport { calcUnitBackboneHbonds } from './dssp/backbone-hbonds';\nimport { DSSPType } from './dssp/common';\nimport { assignTurns } from './dssp/turns';\nimport { assignHelices } from './dssp/helices';\nimport { assignLadders } from './dssp/ladders';\nimport { assignBridges } from './dssp/bridges';\nimport { assignSheets } from './dssp/sheets';\nimport { calculateUnitDihedralAngles } from './dssp/dihedral-angles';\nimport { calcUnitProteinTraceLookup3D } from './dssp/trace-lookup';\nimport { getUnitProteinInfo } from './dssp/protein-info';\nimport { SortedArray } from '../../../mol-data/int';\n/**\n * TODO bugs to fix:\n * - some turns are not detected correctly: see e.g. pdb:1acj - maybe more than 2 hbonds require some residue to donate electrons\n * - some sheets are not extended correctly: see e.g. pdb:1acj\n * - validate new helix definition\n * - validate new ordering of secondary structure elements\n */\nexport var DSSPComputationParams = {\n    oldDefinition: PD.Boolean(true, { description: 'Whether to use the old DSSP convention for the annotation of turns and helices, causes them to be two residues shorter' }),\n    oldOrdering: PD.Boolean(true, { description: 'Alpha-helices are preferred over 3-10 helices' })\n};\nexport function computeUnitDSSP(unit, params) {\n    return __awaiter(this, void 0, void 0, function () {\n        var proteinInfo, residueIndices, lookup3d, hbonds, residueCount, flags, torsionAngles, ladders, bridges, getResidueFlag, getFlagName, ctx, assignment, type, keys, elements, getIndex, i, il, assign, flag;\n        return __generator(this, function (_a) {\n            proteinInfo = getUnitProteinInfo(unit);\n            residueIndices = proteinInfo.residueIndices;\n            lookup3d = calcUnitProteinTraceLookup3D(unit, residueIndices);\n            hbonds = calcUnitBackboneHbonds(unit, proteinInfo, lookup3d);\n            residueCount = residueIndices.length;\n            flags = new Uint32Array(residueCount);\n            torsionAngles = calculateUnitDihedralAngles(unit, proteinInfo);\n            ladders = [];\n            bridges = [];\n            getResidueFlag = params.oldDefinition ? getOriginalResidueFlag : getUpdatedResidueFlag;\n            getFlagName = params.oldOrdering ? getOriginalFlagName : getUpdatedFlagName;\n            ctx = {\n                params: params,\n                getResidueFlag: getResidueFlag,\n                getFlagName: getFlagName,\n                unit: unit,\n                proteinInfo: proteinInfo,\n                flags: flags,\n                hbonds: hbonds,\n                torsionAngles: torsionAngles,\n                ladders: ladders,\n                bridges: bridges\n            };\n            assignTurns(ctx);\n            assignHelices(ctx);\n            assignBends(ctx);\n            assignBridges(ctx);\n            assignLadders(ctx);\n            assignSheets(ctx);\n            assignment = getDSSPAssignment(flags, getResidueFlag);\n            type = new Uint32Array(residueCount);\n            keys = [];\n            elements = [];\n            getIndex = function (rI) { return SortedArray.indexOf(residueIndices, rI); };\n            for (i = 0, il = residueIndices.length; i < il; ++i) {\n                assign = assignment[i];\n                type[i] = assign;\n                flag = getResidueFlag(flags[i]);\n                // console.log(i, SortedArray.indexOf(residueIndices, i), getFlagName(flags[i]))\n                // TODO is this expected behavior? elements will be strictly split depending on 'winning' flag\n                if (elements.length === 0 /* would fail at very start */ || flag !== elements[elements.length - 1].flags /* flag changed */) {\n                    elements[elements.length] = createElement(mapToKind(assign), flags[i], getResidueFlag);\n                }\n                keys[i] = elements.length - 1;\n            }\n            return [2 /*return*/, SecondaryStructure(type, keys, elements, getIndex)];\n        });\n    });\n}\nfunction createElement(kind, flag, getResidueFlag) {\n    // TODO would be nice to add more detailed information\n    if (kind === 'helix') {\n        return {\n            kind: 'helix',\n            flags: getResidueFlag(flag)\n        };\n    }\n    else if (kind === 'sheet') {\n        return {\n            kind: 'sheet',\n            flags: getResidueFlag(flag)\n        };\n    }\n    else if (kind === 'turn' || kind === 'bend') {\n        return {\n            kind: 'turn',\n            flags: getResidueFlag(flag)\n        };\n    }\n    else {\n        return {\n            kind: 'none'\n        };\n    }\n}\nfunction mapToKind(assignment) {\n    if (assignment === SecondaryStructureType.SecondaryStructureDssp.H || assignment === SecondaryStructureType.SecondaryStructureDssp.G || assignment === SecondaryStructureType.SecondaryStructureDssp.I) {\n        return 'helix';\n    }\n    else if (assignment === SecondaryStructureType.SecondaryStructureDssp.B || assignment === SecondaryStructureType.SecondaryStructureDssp.E) {\n        return 'sheet';\n    }\n    else if (assignment === SecondaryStructureType.SecondaryStructureDssp.T) {\n        return 'turn';\n    }\n    else if (assignment === SecondaryStructureType.SecondaryStructureDssp.S) {\n        return 'bend';\n    }\n    else {\n        return 'none';\n    }\n}\n/** Original priority: H,B,E,G,I,T,S */\nfunction getOriginalResidueFlag(f) {\n    if (DSSPType.is(f, 1 /* DSSPType.Flag.H */))\n        return SecondaryStructureType.SecondaryStructureDssp.H;\n    if (DSSPType.is(f, 4 /* DSSPType.Flag.E */))\n        return SecondaryStructureType.SecondaryStructureDssp.E;\n    if (DSSPType.is(f, 2 /* DSSPType.Flag.B */))\n        return SecondaryStructureType.SecondaryStructureDssp.B;\n    if (DSSPType.is(f, 8 /* DSSPType.Flag.G */))\n        return SecondaryStructureType.SecondaryStructureDssp.G;\n    if (DSSPType.is(f, 16 /* DSSPType.Flag.I */))\n        return SecondaryStructureType.SecondaryStructureDssp.I;\n    if (DSSPType.is(f, 64 /* DSSPType.Flag.T */))\n        return SecondaryStructureType.SecondaryStructureDssp.T;\n    if (DSSPType.is(f, 32 /* DSSPType.Flag.S */))\n        return SecondaryStructureType.SecondaryStructureDssp.S;\n    return 0 /* SecondaryStructureType.Flag.None */;\n}\nfunction getOriginalFlagName(f) {\n    if (DSSPType.is(f, 1 /* DSSPType.Flag.H */))\n        return 'H';\n    if (DSSPType.is(f, 4 /* DSSPType.Flag.E */))\n        return 'E';\n    if (DSSPType.is(f, 2 /* DSSPType.Flag.B */))\n        return 'B';\n    if (DSSPType.is(f, 8 /* DSSPType.Flag.G */))\n        return 'G';\n    if (DSSPType.is(f, 16 /* DSSPType.Flag.I */))\n        return 'I';\n    if (DSSPType.is(f, 64 /* DSSPType.Flag.T */))\n        return 'T';\n    if (DSSPType.is(f, 32 /* DSSPType.Flag.S */))\n        return 'S';\n    return '-';\n}\n/** Version 2.1.0 priority: I,H,B,E,G,T,S */\nfunction getUpdatedResidueFlag(f) {\n    if (DSSPType.is(f, 16 /* DSSPType.Flag.I */))\n        return SecondaryStructureType.SecondaryStructureDssp.I;\n    if (DSSPType.is(f, 1 /* DSSPType.Flag.H */))\n        return SecondaryStructureType.SecondaryStructureDssp.H;\n    if (DSSPType.is(f, 4 /* DSSPType.Flag.E */))\n        return SecondaryStructureType.SecondaryStructureDssp.E;\n    if (DSSPType.is(f, 2 /* DSSPType.Flag.B */))\n        return SecondaryStructureType.SecondaryStructureDssp.B;\n    if (DSSPType.is(f, 8 /* DSSPType.Flag.G */))\n        return SecondaryStructureType.SecondaryStructureDssp.G;\n    if (DSSPType.is(f, 64 /* DSSPType.Flag.T */))\n        return SecondaryStructureType.SecondaryStructureDssp.T;\n    if (DSSPType.is(f, 32 /* DSSPType.Flag.S */))\n        return SecondaryStructureType.SecondaryStructureDssp.S;\n    return 0 /* SecondaryStructureType.Flag.None */;\n}\nfunction getUpdatedFlagName(f) {\n    if (DSSPType.is(f, 16 /* DSSPType.Flag.I */))\n        return 'I';\n    if (DSSPType.is(f, 1 /* DSSPType.Flag.H */))\n        return 'H';\n    if (DSSPType.is(f, 4 /* DSSPType.Flag.E */))\n        return 'E';\n    if (DSSPType.is(f, 2 /* DSSPType.Flag.B */))\n        return 'B';\n    if (DSSPType.is(f, 8 /* DSSPType.Flag.G */))\n        return 'G';\n    if (DSSPType.is(f, 64 /* DSSPType.Flag.T */))\n        return 'T';\n    if (DSSPType.is(f, 32 /* DSSPType.Flag.S */))\n        return 'S';\n    return '-';\n}\nfunction getDSSPAssignment(flags, getResidueFlag) {\n    var type = new Uint32Array(flags.length);\n    for (var i = 0, il = flags.length; i < il; ++i) {\n        var f = DSSPType.create(flags[i]);\n        type[i] = getResidueFlag(f);\n    }\n    return type;\n}\n","/**\n * Copyright (c) 2019-2020 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\nimport { __assign, __awaiter, __generator } from \"tslib\";\nimport { ParamDefinition as PD } from '../../mol-util/param-definition';\nimport { ValueBox } from '../../mol-util';\nimport { CustomPropertyDescriptor } from '../../mol-model/custom-property';\nimport { stringToWords } from '../../mol-util/string';\nexport { CustomStructureProperty };\nvar CustomStructureProperty;\n(function (CustomStructureProperty) {\n    function createProvider(builder) {\n        var _this = this;\n        var descriptorName = builder.descriptor.name;\n        var propertyDataName = builder.type === 'root' ? 'inheritedPropertyData' : 'currentPropertyData';\n        var get = function (data) {\n            if (!(descriptorName in data[propertyDataName])) {\n                data[propertyDataName][descriptorName] = {\n                    props: __assign({}, PD.getDefaultValues(builder.getParams(data))),\n                    data: ValueBox.create(undefined)\n                };\n            }\n            return data[propertyDataName][descriptorName];\n        };\n        var set = function (data, props, value) {\n            var property = get(data);\n            data[propertyDataName][descriptorName] = {\n                props: props,\n                data: ValueBox.withValue(property.data, value)\n            };\n        };\n        return {\n            label: builder.label,\n            descriptor: builder.descriptor,\n            isHidden: builder.isHidden,\n            getParams: function (data) {\n                var params = PD.clone(builder.getParams(data));\n                PD.setDefaultValues(params, get(data).props);\n                return params;\n            },\n            defaultParams: builder.defaultParams,\n            isApplicable: builder.isApplicable,\n            attach: function (ctx, data, props, addRef) {\n                if (props === void 0) { props = {}; }\n                return __awaiter(_this, void 0, void 0, function () {\n                    var rootProps, property, p, _a, value, assets;\n                    return __generator(this, function (_b) {\n                        switch (_b.label) {\n                            case 0:\n                                if (addRef)\n                                    data.customPropertyDescriptors.reference(builder.descriptor, true);\n                                if (builder.type === 'root')\n                                    data = data.root;\n                                rootProps = get(data.root).props;\n                                property = get(data);\n                                p = PD.merge(builder.defaultParams, rootProps, props);\n                                if (property.data.value && PD.areEqual(builder.defaultParams, property.props, p))\n                                    return [2 /*return*/];\n                                return [4 /*yield*/, builder.obtain(ctx, data, p)];\n                            case 1:\n                                _a = _b.sent(), value = _a.value, assets = _a.assets;\n                                data.customPropertyDescriptors.add(builder.descriptor);\n                                data.customPropertyDescriptors.assets(builder.descriptor, assets);\n                                set(data, p, value);\n                                return [2 /*return*/];\n                        }\n                    });\n                });\n            },\n            ref: function (data, add) { return data.customPropertyDescriptors.reference(builder.descriptor, add); },\n            get: function (data) { return get(data).data; },\n            set: function (data, props, value) {\n                if (props === void 0) { props = {}; }\n                if (builder.type === 'root')\n                    data = data.root;\n                var property = get(data);\n                var p = PD.merge(builder.defaultParams, property.props, props);\n                if (!PD.areEqual(builder.defaultParams, property.props, p)) {\n                    // this invalidates property.value\n                    set(data, p, value);\n                    // dispose of assets\n                    data.customPropertyDescriptors.assets(builder.descriptor);\n                }\n            },\n            props: function (data) { return get(data).props; },\n        };\n    }\n    CustomStructureProperty.createProvider = createProvider;\n    function createSimple(name, type, defaultValue) {\n        var _this = this;\n        var defaultParams = { value: PD.Value(defaultValue, { isHidden: true }) };\n        return createProvider({\n            label: stringToWords(name),\n            descriptor: CustomPropertyDescriptor({ name: name }),\n            isHidden: true,\n            type: type,\n            defaultParams: defaultParams,\n            getParams: function () { return ({ value: PD.Value(defaultValue, { isHidden: true }) }); },\n            isApplicable: function () { return true; },\n            obtain: function (ctx, data, props) { return __awaiter(_this, void 0, void 0, function () {\n                return __generator(this, function (_a) {\n                    return [2 /*return*/, __assign(__assign({}, PD.getDefaultValues(defaultParams)), props)];\n                });\n            }); }\n        });\n    }\n    CustomStructureProperty.createSimple = createSimple;\n})(CustomStructureProperty || (CustomStructureProperty = {}));\n","/**\n * Copyright (c) 2019 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @author Sebastian Bittrich <sebastian.bittrich@rcsb.org>\n */\nimport { SortedArray } from '../../../../mol-data/int';\nexport function getUnitProteinInfo(unit) {\n    var index = unit.model.atomicHierarchy.index;\n    var proteinElements = unit.proteinElements, residueIndex = unit.residueIndex;\n    var residueCount = proteinElements.length;\n    var unitProteinResidues = new Uint32Array(residueCount);\n    var c = new Int32Array(residueCount);\n    var h = new Int32Array(residueCount);\n    var o = new Int32Array(residueCount);\n    var n = new Int32Array(residueCount);\n    for (var i = 0; i < residueCount; ++i) {\n        var rI = residueIndex[proteinElements[i]];\n        unitProteinResidues[i] = rI;\n        c[i] = index.findAtomOnResidue(rI, 'C');\n        h[i] = index.findAtomOnResidue(rI, 'H');\n        o[i] = index.findAtomOnResidue(rI, 'O');\n        n[i] = index.findAtomOnResidue(rI, 'N');\n    }\n    return {\n        residueIndices: SortedArray.ofSortedArray(unitProteinResidues),\n        cIndices: c,\n        hIndices: h,\n        oIndices: o,\n        nIndices: n,\n    };\n}\n","/**\n * Copyright (c) 2019-2020 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\nimport { GridLookup3D } from '../../../../mol-math/geometry';\nimport { SortedArray } from '../../../../mol-data/int';\nimport { getBoundary } from '../../../../mol-math/geometry/boundary';\nexport function calcUnitProteinTraceLookup3D(unit, unitProteinResidues) {\n    var _a = unit.model.atomicConformation, x = _a.x, y = _a.y, z = _a.z;\n    var traceElementIndex = unit.model.atomicHierarchy.derived.residue.traceElementIndex;\n    var indices = new Uint32Array(unitProteinResidues.length);\n    for (var i = 0, il = unitProteinResidues.length; i < il; ++i) {\n        indices[i] = traceElementIndex[unitProteinResidues[i]];\n    }\n    var position = { x: x, y: y, z: z, indices: SortedArray.ofSortedArray(indices) };\n    return GridLookup3D(position, getBoundary(position));\n}\n","/**\n * Copyright (c) 2019 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @author Sebastian Bittrich <sebastian.bittrich@rcsb.org>\n */\nimport { Vec3 } from '../../../../mol-math/linear-algebra';\nimport { radToDeg } from '../../../../mol-math/misc';\nexport function calculateUnitDihedralAngles(unit, proteinInfo) {\n    var cIndices = proteinInfo.cIndices, nIndices = proteinInfo.nIndices, residueIndices = proteinInfo.residueIndices;\n    var position = unit.conformation.position;\n    var index = unit.model.atomicHierarchy.index;\n    var traceElementIndex = unit.model.atomicHierarchy.derived.residue.traceElementIndex;\n    var residueCount = residueIndices.length;\n    var p = function (i, v) { return i === -1 ? Vec3.setNaN(v) : position(i, v); };\n    var cPosPrev = Vec3(), caPosPrev = Vec3(), nPosPrev = Vec3();\n    var cPos = Vec3(), caPos = Vec3(), nPos = Vec3();\n    var cPosNext = Vec3(), caPosNext = Vec3(), nPosNext = Vec3();\n    if (residueCount === 0)\n        return { phi: new Float32Array(0), psi: new Float32Array(0) };\n    var phi = new Float32Array(residueCount - 1);\n    var psi = new Float32Array(residueCount - 1);\n    p(-1, cPosPrev);\n    p(-1, caPosPrev);\n    p(-1, nPosPrev);\n    p(cIndices[0], cPos);\n    p(traceElementIndex[residueIndices[0]], caPos);\n    p(nIndices[0], nPos);\n    p(cIndices[1], cPosNext);\n    p(traceElementIndex[residueIndices[1]], caPosNext);\n    p(nIndices[1], nPosNext);\n    for (var i = 0; i < residueCount - 1; ++i) {\n        // ignore C-terminal residue as acceptor\n        if (index.findAtomOnResidue(residueIndices[i], 'OXT') !== -1)\n            continue;\n        // returns NaN for missing atoms\n        phi[i] = radToDeg(Vec3.dihedralAngle(cPosPrev, nPos, caPos, cPos));\n        psi[i] = radToDeg(Vec3.dihedralAngle(nPos, caPos, cPos, nPosNext));\n        cPosPrev = cPos, caPosPrev = caPos, nPosPrev = nPos;\n        cPos = cPosNext, caPos = caPosNext, nPos = nPosNext;\n        p(cIndices[i + 1], cPosNext);\n        p(traceElementIndex[residueIndices[i + 1]], caPosNext);\n        p(nIndices[i + 1], nPosNext);\n    }\n    return { phi: phi, psi: psi };\n}\n","/**\n * Copyright (c) 2019 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @author Sebastian Bittrich <sebastian.bittrich@rcsb.org>\n */\n/**\n * The basic turn pattern is a single H bond of type (i, i + n).\n * We assign an n-turn at residue i if there is an H bond from CO(i) to NH(i + n),\n * i.e., n-turn(i)=: Hbond(i, i + n), n = 3, 4, 5.\n *\n * Type: T\n */\nexport function assignTurns(ctx) {\n    var proteinInfo = ctx.proteinInfo, hbonds = ctx.hbonds, flags = ctx.flags;\n    var turnFlag = [1024 /* DSSPType.Flag.T3S */, 2048 /* DSSPType.Flag.T4S */, 4096 /* DSSPType.Flag.T5S */, 128 /* DSSPType.Flag.T3 */, 256 /* DSSPType.Flag.T4 */, 512 /* DSSPType.Flag.T5 */];\n    for (var idx = 0; idx < 3; idx++) {\n        for (var i = 0, il = proteinInfo.residueIndices.length - 1; i < il; ++i) {\n            // check if hbond exists\n            if (hbonds.getDirectedEdgeIndex(i, i + idx + 3) !== -1) {\n                flags[i] |= turnFlag[idx + 3] | turnFlag[idx];\n                if (ctx.params.oldDefinition) {\n                    for (var k = 1; k < idx + 3; ++k) {\n                        flags[i + k] |= turnFlag[idx + 3] | 64 /* DSSPType.Flag.T */;\n                    }\n                }\n                else {\n                    for (var k = 0; k <= idx + 3; ++k) {\n                        flags[i + k] |= turnFlag[idx + 3] | 64 /* DSSPType.Flag.T */;\n                    }\n                }\n            }\n        }\n    }\n}\n","/**\n * Copyright (c) 2019 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @author Sebastian Bittrich <sebastian.bittrich@rcsb.org>\n */\nimport { DSSPType } from './common';\n/**\n * A minimal helix is defined by two consecutive n-turns.\n * For example, a 4-helix, of minimal length 4 from residues i to i + 3,\n * requires 4-turns at residues i - 1 and i,\n *\n *      3-helix(i,i + 2)=: [3-turn(i - 1) and 3-turn(i)]\n *      4-helix(i,i + 3)=: [4-turn(i - 1) and 4-turn(i)]\n *      5-helix(i,i + 4)=: [5-turn(i - 1) and 5-turn(i)]\n *\n * Type: G (n=3), H (n=4), I (n=5)\n */\nexport function assignHelices(ctx) {\n    var proteinInfo = ctx.proteinInfo, flags = ctx.flags;\n    var residueCount = proteinInfo.residueIndices.length;\n    var turnFlag = [1024 /* DSSPType.Flag.T3S */, 2048 /* DSSPType.Flag.T4S */, 4096 /* DSSPType.Flag.T5S */, 128 /* DSSPType.Flag.T3 */, 256 /* DSSPType.Flag.T4 */, 512 /* DSSPType.Flag.T5 */];\n    var helixFlag = [0, 0, 0, 8 /* DSSPType.Flag.G */, 1 /* DSSPType.Flag.H */, 16 /* DSSPType.Flag.I */];\n    var helixCheckOrder = ctx.params.oldOrdering ? [4, 3, 5] : [3, 4, 5];\n    for (var ni = 0; ni < helixCheckOrder.length; ni++) {\n        var n = helixCheckOrder[ni];\n        for (var i = 1, il = residueCount - n; i < il; i++) {\n            var fI = DSSPType.create(flags[i]);\n            var fI1 = DSSPType.create(flags[i - 1]);\n            var fI2 = DSSPType.create(flags[i + 1]);\n            // TODO rework to elegant solution which will not break instantly\n            if (ctx.params.oldOrdering) {\n                if ((n === 3 && (DSSPType.is(fI, 1 /* DSSPType.Flag.H */) || DSSPType.is(fI2, 1 /* DSSPType.Flag.H */)) || // for 3-10 yield to alpha helix\n                    (n === 5 && ((DSSPType.is(fI, 1 /* DSSPType.Flag.H */) || DSSPType.is(fI, 8 /* DSSPType.Flag.G */)) || (DSSPType.is(fI2, 1 /* DSSPType.Flag.H */) || DSSPType.is(fI2, 8 /* DSSPType.Flag.G */)))))) { // for pi yield to all other helices\n                    continue;\n                }\n            }\n            else {\n                if ((n === 4 && (DSSPType.is(fI, 8 /* DSSPType.Flag.G */) || DSSPType.is(fI2, 8 /* DSSPType.Flag.G */)) || // for alpha helix yield to 3-10\n                    (n === 5 && ((DSSPType.is(fI, 1 /* DSSPType.Flag.H */) || DSSPType.is(fI, 8 /* DSSPType.Flag.G */)) || (DSSPType.is(fI2, 1 /* DSSPType.Flag.H */) || DSSPType.is(fI2, 8 /* DSSPType.Flag.G */)))))) { // for pi yield to all other helices\n                    continue;\n                }\n            }\n            if (DSSPType.is(fI, turnFlag[n]) && DSSPType.is(fI, turnFlag[n - 3]) && // check fI for turn start of proper type\n                DSSPType.is(fI1, turnFlag[n]) && DSSPType.is(fI1, turnFlag[n - 3])) { // check fI1 accordingly\n                if (ctx.params.oldDefinition) {\n                    for (var k = 0; k < n; k++) {\n                        flags[i + k] |= helixFlag[n];\n                    }\n                }\n                else {\n                    for (var k = -1; k <= n; k++) {\n                        flags[i + k] |= helixFlag[n];\n                    }\n                }\n            }\n        }\n    }\n}\n","/**\n * Copyright (c) 2019 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @author Sebastian Bittrich <sebastian.bittrich@rcsb.org>\n */\nimport { Vec3 } from '../../../../mol-math/linear-algebra';\nimport { radToDeg } from '../../../../mol-math/misc';\n/**\n * Bend(i) =: [angle ((CW - Ca(i - 2)),(C\"(i + 2) - C\"(i))) > 70\"]\n *\n * Type: S\n */\nexport function assignBends(ctx) {\n    var unit = ctx.unit, flags = ctx.flags, proteinInfo = ctx.proteinInfo;\n    var position = unit.conformation.position;\n    var traceElementIndex = unit.model.atomicHierarchy.derived.residue.traceElementIndex;\n    var residueIndices = proteinInfo.residueIndices, nIndices = proteinInfo.nIndices;\n    var residueCount = residueIndices.length;\n    // const position = (i: number, v: Vec3) => Vec3.set(v, x[i], y[i], z[i])\n    var p = function (i, v) { return i === -1 ? Vec3.setNaN(v) : position(i, v); };\n    var caPosPrev2 = Vec3();\n    var caPos = Vec3();\n    var caPosNext2 = Vec3();\n    var cPos = Vec3();\n    var nPosNext = Vec3();\n    var caMinus2 = Vec3();\n    var caPlus2 = Vec3();\n    f1: for (var i = 2; i < residueCount - 2; i++) {\n        // check for peptide bond\n        for (var k = 0; k < 4; k++) {\n            var index = i + k - 2;\n            p(traceElementIndex[index], cPos);\n            p(nIndices[index + 1], nPosNext);\n            if (Vec3.squaredDistance(cPos, nPosNext) > 6.25 /* max squared peptide bond distance allowed */) {\n                continue f1;\n            }\n        }\n        var oRIprev2 = residueIndices[i - 2];\n        var oRI = residueIndices[i];\n        var oRInext2 = residueIndices[i + 2];\n        var caAtomPrev2 = traceElementIndex[oRIprev2];\n        var caAtom = traceElementIndex[oRI];\n        var caAtomNext2 = traceElementIndex[oRInext2];\n        p(caAtomPrev2, caPosPrev2);\n        p(caAtom, caPos);\n        p(caAtomNext2, caPosNext2);\n        Vec3.sub(caMinus2, caPosPrev2, caPos);\n        Vec3.sub(caPlus2, caPos, caPosNext2);\n        var angle = radToDeg(Vec3.angle(caMinus2, caPlus2));\n        if (angle && angle > 70.00) {\n            flags[i] |= 32 /* DSSPType.Flag.S */;\n        }\n    }\n}\n","/**\n * Copyright (c) 2019 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @author Sebastian Bittrich <sebastian.bittrich@rcsb.org>\n */\nimport { Bridge } from './common';\n/**\n * Two nonoverlapping stretches of three residues each, i - 1, i, i + 1 and j - 1, j, j + 1,\n * form either a parallel or antiparallel bridge, depending on which of\n * two basic patterns is matched. We assign a bridge between residues i and j\n * if there are two H bonds characteristic of P-structure; in particular,\n *\n * Parallel Bridge(i, j) =:\n *      [Hbond(i - 1, j) and Hbond(j, i + 1)] or\n *      [Hbond(j - 1, i) and Hbond(i, j + 1)]\n *\n * Antiparallel Bridge(i, j) =:\n *      [Hbond(i, j) and Hbond(j, i)] or\n *      [Hbond(i - 1, j + 1) and Hbond(j - 1, i + l)]\n *\n * Type: B\n */\nexport function assignBridges(ctx) {\n    var proteinInfo = ctx.proteinInfo, hbonds = ctx.hbonds, flags = ctx.flags, bridges = ctx.bridges;\n    var offset = hbonds.offset, b = hbonds.b;\n    var i, j;\n    for (var k = 0, kl = proteinInfo.residueIndices.length; k < kl; ++k) {\n        for (var t = offset[k], _t = offset[k + 1]; t < _t; t++) {\n            var l = b[t];\n            if (k > l)\n                continue;\n            // Parallel Bridge(i, j) =: [Hbond(i - 1, j) and Hbond(j, i + 1)]\n            i = k + 1; // k is i - 1\n            j = l;\n            if (i !== j && hbonds.getDirectedEdgeIndex(j, i + 1) !== -1) {\n                flags[i] |= 2 /* DSSPType.Flag.B */;\n                flags[j] |= 2 /* DSSPType.Flag.B */;\n                // TODO move to constructor, actually omit object all together\n                bridges[bridges.length] = new Bridge(i, j, 0 /* BridgeType.PARALLEL */);\n            }\n            // Parallel Bridge(i, j) =: [Hbond(j - 1, i) and Hbond(i, j + 1)]\n            i = k;\n            j = l - 1; // l is j + 1\n            if (i !== j && hbonds.getDirectedEdgeIndex(j - 1, i) !== -1) {\n                flags[i] |= 2 /* DSSPType.Flag.B */;\n                flags[j] |= 2 /* DSSPType.Flag.B */;\n                bridges[bridges.length] = new Bridge(j, i, 0 /* BridgeType.PARALLEL */);\n            }\n            // Antiparallel Bridge(i, j) =: [Hbond(i, j) and Hbond(j, i)]\n            i = k;\n            j = l;\n            if (i !== j && hbonds.getDirectedEdgeIndex(j, i) !== -1) {\n                flags[i] |= 2 /* DSSPType.Flag.B */;\n                flags[j] |= 2 /* DSSPType.Flag.B */;\n                bridges[bridges.length] = new Bridge(j, i, 1 /* BridgeType.ANTI_PARALLEL */);\n            }\n            // Antiparallel Bridge(i, j) =: [Hbond(i - 1, j + 1) and Hbond(j - 1, i + l)]\n            i = k + 1;\n            j = l - 1;\n            if (i !== j && hbonds.getDirectedEdgeIndex(j - 1, i + 1) !== -1) {\n                flags[i] |= 2 /* DSSPType.Flag.B */;\n                flags[j] |= 2 /* DSSPType.Flag.B */;\n                bridges[bridges.length] = new Bridge(j, i, 1 /* BridgeType.ANTI_PARALLEL */);\n            }\n        }\n    }\n    bridges.sort(function (a, b) { return a.partner1 > b.partner1 ? 1 : a.partner1 < b.partner1 ? -1 : 0; });\n}\n","/**\n * Copyright (c) 2019-2020 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\nimport { __assign, __awaiter, __generator } from \"tslib\";\nimport { DSSPComputationParams, computeUnitDSSP } from './secondary-structure/dssp';\nimport { ParamDefinition as PD } from '../../mol-util/param-definition';\nimport { Unit } from '../../mol-model/structure/structure';\nimport { CustomStructureProperty } from '../common/custom-structure-property';\nimport { ModelSecondaryStructure } from '../../mol-model-formats/structure/property/secondary-structure';\nimport { CustomPropertyDescriptor } from '../../mol-model/custom-property';\nimport { Model } from '../../mol-model/structure/model';\nfunction getSecondaryStructureParams(data) {\n    var defaultType = 'model';\n    if (data) {\n        defaultType = 'dssp';\n        for (var i = 0, il = data.models.length; i < il; ++i) {\n            var m = data.models[i];\n            if (Model.isFromPdbArchive(m) || Model.hasSecondaryStructure(m)) {\n                // if there is any secondary structure definition given or if there is\n                // an archival model, don't calculate dssp by default\n                defaultType = 'model';\n                break;\n            }\n        }\n    }\n    return {\n        type: PD.MappedStatic(defaultType, {\n            'model': PD.EmptyGroup({ label: 'Model' }),\n            'dssp': PD.Group(DSSPComputationParams, { label: 'DSSP', isFlat: true })\n        }, { options: [['model', 'Model'], ['dssp', 'DSSP']] })\n    };\n}\nexport var SecondaryStructureParams = getSecondaryStructureParams();\nexport var SecondaryStructureProvider = CustomStructureProperty.createProvider({\n    label: 'Secondary Structure',\n    descriptor: CustomPropertyDescriptor({\n        name: 'molstar_computed_secondary_structure',\n        // TODO `cifExport` and `symbol`\n    }),\n    type: 'root',\n    defaultParams: SecondaryStructureParams,\n    getParams: getSecondaryStructureParams,\n    isApplicable: function (data) { return true; },\n    obtain: function (ctx, data, props) { return __awaiter(void 0, void 0, void 0, function () {\n        var p, _a;\n        var _b, _c;\n        return __generator(this, function (_d) {\n            switch (_d.label) {\n                case 0:\n                    p = __assign(__assign({}, PD.getDefaultValues(SecondaryStructureParams)), props);\n                    _a = p.type.name;\n                    switch (_a) {\n                        case 'dssp': return [3 /*break*/, 1];\n                        case 'model': return [3 /*break*/, 3];\n                    }\n                    return [3 /*break*/, 5];\n                case 1:\n                    _b = {};\n                    return [4 /*yield*/, computeDssp(data, p.type.params)];\n                case 2: return [2 /*return*/, (_b.value = _d.sent(), _b)];\n                case 3:\n                    _c = {};\n                    return [4 /*yield*/, computeModel(data)];\n                case 4: return [2 /*return*/, (_c.value = _d.sent(), _c)];\n                case 5: return [2 /*return*/];\n            }\n        });\n    }); }\n});\nfunction computeDssp(structure, props) {\n    return __awaiter(this, void 0, void 0, function () {\n        var map, i, il, u, secondaryStructure;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    map = new Map();\n                    i = 0, il = structure.unitSymmetryGroups.length;\n                    _a.label = 1;\n                case 1:\n                    if (!(i < il)) return [3 /*break*/, 4];\n                    u = structure.unitSymmetryGroups[i].units[0];\n                    if (!(Unit.isAtomic(u) && !Model.isCoarseGrained(u.model))) return [3 /*break*/, 3];\n                    return [4 /*yield*/, computeUnitDSSP(u, props)];\n                case 2:\n                    secondaryStructure = _a.sent();\n                    map.set(u.invariantId, secondaryStructure);\n                    _a.label = 3;\n                case 3:\n                    ++i;\n                    return [3 /*break*/, 1];\n                case 4: return [2 /*return*/, map];\n            }\n        });\n    });\n}\nfunction computeModel(structure) {\n    return __awaiter(this, void 0, void 0, function () {\n        var map, i, il, u, secondaryStructure;\n        return __generator(this, function (_a) {\n            map = new Map();\n            for (i = 0, il = structure.unitSymmetryGroups.length; i < il; ++i) {\n                u = structure.unitSymmetryGroups[i].units[0];\n                if (Unit.isAtomic(u)) {\n                    secondaryStructure = ModelSecondaryStructure.Provider.get(u.model);\n                    if (secondaryStructure) {\n                        map.set(u.invariantId, secondaryStructure);\n                    }\n                }\n            }\n            return [2 /*return*/, map];\n        });\n    });\n}\n","/**\n * Copyright (c) 2017-2022 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\nimport { Unit } from './unit';\nimport { VdwRadius } from '../model/properties/atomic';\nimport { SecondaryStructureProvider } from '../../../mol-model-props/computed/secondary-structure';\nimport { SymmetryOperator } from '../../../mol-math/geometry';\nfunction p(p) { return p; }\nvar constant = {\n    true: p(function (l) { return true; }),\n    false: p(function (l) { return false; }),\n    zero: p(function (l) { return 0; })\n};\nfunction notAtomic() {\n    throw new Error('Property only available for atomic models.');\n}\nfunction notCoarse(kind) {\n    if (!!kind)\n        throw new Error(\"Property only available for coarse models (\".concat(kind, \").\"));\n    throw new Error('Property only available for coarse models.');\n}\n// TODO: remove the type checks?\nvar atom = {\n    key: p(function (l) { return l.element; }),\n    // Conformation\n    x: p(function (l) { return l.unit.conformation.x(l.element); }),\n    y: p(function (l) { return l.unit.conformation.y(l.element); }),\n    z: p(function (l) { return l.unit.conformation.z(l.element); }),\n    id: p(function (l) { return !Unit.isAtomic(l.unit) ? notAtomic() : l.unit.model.atomicConformation.atomId.value(l.element); }),\n    occupancy: p(function (l) { return !Unit.isAtomic(l.unit) ? notAtomic() : l.unit.model.atomicConformation.occupancy.value(l.element); }),\n    B_iso_or_equiv: p(function (l) { return !Unit.isAtomic(l.unit) ? notAtomic() : l.unit.model.atomicConformation.B_iso_or_equiv.value(l.element); }),\n    sourceIndex: p(function (l) { return Unit.isAtomic(l.unit)\n        ? l.unit.model.atomicHierarchy.atomSourceIndex.value(l.element)\n        // TODO: when implemented, this should map to the source index.\n        : l.element; }),\n    // Hierarchy\n    type_symbol: p(function (l) { return !Unit.isAtomic(l.unit) ? notAtomic() : l.unit.model.atomicHierarchy.atoms.type_symbol.value(l.element); }),\n    label_atom_id: p(function (l) { return !Unit.isAtomic(l.unit) ? notAtomic() : l.unit.model.atomicHierarchy.atoms.label_atom_id.value(l.element); }),\n    auth_atom_id: p(function (l) { return !Unit.isAtomic(l.unit) ? notAtomic() : l.unit.model.atomicHierarchy.atoms.auth_atom_id.value(l.element); }),\n    label_alt_id: p(function (l) { return !Unit.isAtomic(l.unit) ? notAtomic() : l.unit.model.atomicHierarchy.atoms.label_alt_id.value(l.element); }),\n    label_comp_id: p(compId),\n    auth_comp_id: p(function (l) { return !Unit.isAtomic(l.unit) ? notAtomic() : l.unit.model.atomicHierarchy.atoms.auth_comp_id.value(l.element); }),\n    pdbx_formal_charge: p(function (l) { return !Unit.isAtomic(l.unit) ? notAtomic() : l.unit.model.atomicHierarchy.atoms.pdbx_formal_charge.value(l.element); }),\n    // Derived\n    vdw_radius: p(function (l) { return !Unit.isAtomic(l.unit) ? notAtomic() : VdwRadius(l.unit.model.atomicHierarchy.atoms.type_symbol.value(l.element)); }),\n};\nfunction compId(l) {\n    if (!Unit.isAtomic(l.unit))\n        notAtomic();\n    return l.unit.model.atomicHierarchy.atoms.label_comp_id.value(l.element);\n}\nfunction seqId(l) {\n    return !Unit.isAtomic(l.unit) ? notAtomic() : l.unit.model.atomicHierarchy.residues.label_seq_id.value(l.unit.residueIndex[l.element]);\n}\nfunction hasMicroheterogeneity(l) {\n    if (!Unit.isAtomic(l.unit))\n        notAtomic();\n    var entitySeq = l.unit.model.sequence.byEntityKey[eK(l)];\n    return entitySeq && entitySeq.sequence.microHet.has(seqId(l));\n}\nfunction microheterogeneityCompIds(l) {\n    if (!Unit.isAtomic(l.unit))\n        notAtomic();\n    var entitySeq = l.unit.model.sequence.byEntityKey[eK(l)];\n    if (entitySeq) {\n        return entitySeq.sequence.microHet.get(seqId(l)) || [compId(l)];\n    }\n    else {\n        return [compId(l)];\n    }\n}\nvar residue = {\n    key: p(function (l) { return !Unit.isAtomic(l.unit) ? notAtomic() : l.unit.residueIndex[l.element]; }),\n    group_PDB: p(function (l) { return !Unit.isAtomic(l.unit) ? notAtomic() : l.unit.model.atomicHierarchy.residues.group_PDB.value(l.unit.residueIndex[l.element]); }),\n    label_seq_id: p(seqId),\n    auth_seq_id: p(function (l) { return !Unit.isAtomic(l.unit) ? notAtomic() : l.unit.model.atomicHierarchy.residues.auth_seq_id.value(l.unit.residueIndex[l.element]); }),\n    pdbx_PDB_ins_code: p(function (l) { return !Unit.isAtomic(l.unit) ? notAtomic() : l.unit.model.atomicHierarchy.residues.pdbx_PDB_ins_code.value(l.unit.residueIndex[l.element]); }),\n    // Properties\n    isNonStandard: p(function (l) { return !Unit.isAtomic(l.unit) ? notAtomic() : microheterogeneityCompIds(l).some(function (c) { return l.unit.model.properties.chemicalComponentMap.get(c).mon_nstd_flag[0] === 'n'; }); }),\n    hasMicroheterogeneity: p(hasMicroheterogeneity),\n    microheterogeneityCompIds: p(microheterogeneityCompIds),\n    secondary_structure_type: p(function (l) {\n        var _a;\n        if (!Unit.isAtomic(l.unit))\n            notAtomic();\n        var secStruc = (_a = SecondaryStructureProvider.get(l.structure).value) === null || _a === void 0 ? void 0 : _a.get(l.unit.invariantId);\n        return secStruc ? secStruc.type[secStruc.getIndex(l.unit.residueIndex[l.element])] : 536870912 /* SecondaryStructureType.Flag.NA */;\n    }),\n    secondary_structure_key: p(function (l) {\n        var _a;\n        if (!Unit.isAtomic(l.unit))\n            notAtomic();\n        var secStruc = (_a = SecondaryStructureProvider.get(l.structure).value) === null || _a === void 0 ? void 0 : _a.get(l.unit.invariantId);\n        return secStruc ? secStruc.key[secStruc.getIndex(l.unit.residueIndex[l.element])] : -1;\n    }),\n    chem_comp_type: p(function (l) { return !Unit.isAtomic(l.unit) ? notAtomic() : l.unit.model.properties.chemicalComponentMap.get(compId(l)).type; }),\n};\nvar chain = {\n    key: p(function (l) { return !Unit.isAtomic(l.unit) ? notAtomic() : l.unit.chainIndex[l.element]; }),\n    label_asym_id: p(function (l) { return !Unit.isAtomic(l.unit) ? notAtomic() : l.unit.model.atomicHierarchy.chains.label_asym_id.value(l.unit.chainIndex[l.element]); }),\n    auth_asym_id: p(function (l) { return !Unit.isAtomic(l.unit) ? notAtomic() : l.unit.model.atomicHierarchy.chains.auth_asym_id.value(l.unit.chainIndex[l.element]); }),\n    label_entity_id: p(function (l) { return !Unit.isAtomic(l.unit) ? notAtomic() : l.unit.model.atomicHierarchy.chains.label_entity_id.value(l.unit.chainIndex[l.element]); })\n};\nvar coarse = {\n    key: atom.key,\n    entityKey: p(function (l) { return !Unit.isCoarse(l.unit) ? notCoarse() : l.unit.coarseElements.entityKey[l.element]; }),\n    x: atom.x,\n    y: atom.y,\n    z: atom.z,\n    asym_id: p(function (l) { return !Unit.isCoarse(l.unit) ? notCoarse() : l.unit.coarseElements.asym_id.value(l.element); }),\n    entity_id: p(function (l) { return !Unit.isCoarse(l.unit) ? notCoarse() : l.unit.coarseElements.entity_id.value(l.element); }),\n    seq_id_begin: p(function (l) { return !Unit.isCoarse(l.unit) ? notCoarse() : l.unit.coarseElements.seq_id_begin.value(l.element); }),\n    seq_id_end: p(function (l) { return !Unit.isCoarse(l.unit) ? notCoarse() : l.unit.coarseElements.seq_id_end.value(l.element); }),\n    sphere_radius: p(function (l) { return !Unit.isSpheres(l.unit) ? notCoarse('spheres') : l.unit.coarseConformation.radius[l.element]; }),\n    sphere_rmsf: p(function (l) { return !Unit.isSpheres(l.unit) ? notCoarse('spheres') : l.unit.coarseConformation.rmsf[l.element]; }),\n    gaussian_weight: p(function (l) { return !Unit.isGaussians(l.unit) ? notCoarse('gaussians') : l.unit.coarseConformation.weight[l.element]; }),\n    gaussian_covariance_matrix: p(function (l) { return !Unit.isGaussians(l.unit) ? notCoarse('gaussians') : l.unit.coarseConformation.covariance_matrix[l.element]; })\n};\nfunction eK(l) {\n    switch (l.unit.kind) {\n        case 0 /* Unit.Kind.Atomic */:\n            return l.unit.model.atomicHierarchy.index.getEntityFromChain(l.unit.chainIndex[l.element]);\n        case 1 /* Unit.Kind.Spheres */:\n            return l.unit.model.coarseHierarchy.spheres.entityKey[l.element];\n        case 2 /* Unit.Kind.Gaussians */:\n            return l.unit.model.coarseHierarchy.gaussians.entityKey[l.element];\n    }\n}\nvar entity = {\n    key: p(eK),\n    id: p(function (l) { return l.unit.model.entities.data.id.value(eK(l)); }),\n    type: p(function (l) { return l.unit.model.entities.data.type.value(eK(l)); }),\n    src_method: p(function (l) { return l.unit.model.entities.data.src_method.value(eK(l)); }),\n    pdbx_description: p(function (l) { return l.unit.model.entities.data.pdbx_description.value(eK(l)); }),\n    formula_weight: p(function (l) { return l.unit.model.entities.data.formula_weight.value(eK(l)); }),\n    pdbx_number_of_molecules: p(function (l) { return l.unit.model.entities.data.pdbx_number_of_molecules.value(eK(l)); }),\n    details: p(function (l) { return l.unit.model.entities.data.details.value(eK(l)); }),\n    pdbx_mutation: p(function (l) { return l.unit.model.entities.data.pdbx_mutation.value(eK(l)); }),\n    pdbx_fragment: p(function (l) { return l.unit.model.entities.data.pdbx_fragment.value(eK(l)); }),\n    pdbx_ec: p(function (l) { return l.unit.model.entities.data.pdbx_ec.value(eK(l)); }),\n    subtype: p(function (l) { return l.unit.model.entities.subtype.value(eK(l)); }),\n    prd_id: p(function (l) { var _a, _b; return (_b = (_a = l.unit.model.entities.prd_id) === null || _a === void 0 ? void 0 : _a.value(eK(l))) !== null && _b !== void 0 ? _b : ''; }),\n};\nvar _emptyList = [];\nvar unit = {\n    id: p(function (l) { return l.unit.id; }),\n    chainGroupId: p(function (l) { return l.unit.chainGroupId; }),\n    multiChain: p(function (l) { return Unit.Traits.is(l.unit.traits, Unit.Trait.MultiChain); }),\n    object_primitive: p(function (l) { return l.unit.objectPrimitive; }),\n    operator_name: p(function (l) { return l.unit.conformation.operator.name; }),\n    operator_key: p(function (l) { return l.unit.conformation.operator.key; }),\n    model_index: p(function (l) { return l.unit.model.modelNum; }),\n    model_label: p(function (l) { return l.unit.model.label; }),\n    model_entry_id: p(function (l) { return l.unit.model.entryId; }),\n    hkl: p(function (l) { return l.unit.conformation.operator.hkl; }),\n    spgrOp: p(function (l) { return l.unit.conformation.operator.spgrOp; }),\n    model_num: p(function (l) { return l.unit.model.modelNum; }),\n    pdbx_struct_assembly_id: p(function (l) { var _a; return ((_a = l.unit.conformation.operator.assembly) === null || _a === void 0 ? void 0 : _a.id) || SymmetryOperator.DefaultName; }),\n    pdbx_struct_oper_list_ids: p(function (l) { var _a; return ((_a = l.unit.conformation.operator.assembly) === null || _a === void 0 ? void 0 : _a.operList) || _emptyList; }),\n    struct_ncs_oper_id: p(function (l) { return l.unit.conformation.operator.ncsId; }),\n};\nvar StructureProperties = {\n    constant: constant,\n    atom: atom,\n    residue: residue,\n    chain: chain,\n    entity: entity,\n    unit: unit,\n    coarse: coarse\n};\nexport { StructureProperties };\n","/**\n * Copyright (c) 2021 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n */\nimport { StructureProperties } from '../../../structure/properties';\nvar ResidueSet = /** @class */ (function () {\n    function ResidueSet(options) {\n        var _a;\n        this.index = new Map();\n        this.checkOperator = false;\n        this.checkOperator = (_a = options === null || options === void 0 ? void 0 : options.checkOperator) !== null && _a !== void 0 ? _a : false;\n    }\n    ResidueSet.prototype.add = function (entry) {\n        var root = this.index.get(entry.label_asym_id);\n        if (!root) {\n            root = new Map();\n            this.index.set(entry.label_asym_id, root);\n        }\n        var entries = root.get(entry.label_seq_id);\n        if (!entries) {\n            entries = [];\n            root.set(entry.label_seq_id, entries);\n        }\n        var exists = this._find(entry, entries);\n        if (!exists) {\n            entries.push(entry);\n            return true;\n        }\n        return false;\n    };\n    ResidueSet.prototype.hasLabelAsymId = function (asym_id) {\n        return this.index.has(asym_id);\n    };\n    ResidueSet.prototype.has = function (loc) {\n        var _a, _b;\n        var asym_id = _asym_id(loc);\n        if (!this.index.has(asym_id))\n            return;\n        var root = this.index.get(asym_id);\n        var seq_id = _seq_id(loc);\n        if (!root.has(seq_id))\n            return;\n        var entries = root.get(seq_id);\n        var comp_id = _comp_id(loc);\n        var alt_id = _alt_id(loc);\n        var ins_code = _ins_code(loc);\n        var op_name = (_a = _op_name(loc)) !== null && _a !== void 0 ? _a : '1_555';\n        for (var _i = 0, entries_1 = entries; _i < entries_1.length; _i++) {\n            var e = entries_1[_i];\n            if (e.label_comp_id !== comp_id || e.label_alt_id !== alt_id || e.ins_code !== ins_code)\n                continue;\n            if (this.checkOperator && ((_b = e.operator_name) !== null && _b !== void 0 ? _b : '1_555') !== op_name)\n                continue;\n            return e;\n        }\n    };\n    ResidueSet.getLabel = function (entry, checkOperator) {\n        var _a;\n        if (checkOperator === void 0) { checkOperator = false; }\n        return \"\".concat(entry.label_asym_id, \" \").concat(entry.label_comp_id, \" \").concat(entry.label_seq_id, \":\").concat(entry.ins_code, \":\").concat(entry.label_alt_id).concat(checkOperator ? ' ' + ((_a = entry.operator_name) !== null && _a !== void 0 ? _a : '1_555') : '');\n    };\n    ResidueSet.getEntryFromLocation = function (loc) {\n        var _a;\n        return {\n            label_asym_id: _asym_id(loc),\n            label_comp_id: _comp_id(loc),\n            label_seq_id: _seq_id(loc),\n            label_alt_id: _alt_id(loc),\n            ins_code: _ins_code(loc),\n            operator_name: (_a = _op_name(loc)) !== null && _a !== void 0 ? _a : '1_555'\n        };\n    };\n    ResidueSet.prototype._find = function (entry, xs) {\n        var _a, _b;\n        for (var _i = 0, xs_1 = xs; _i < xs_1.length; _i++) {\n            var e = xs_1[_i];\n            if (e.label_comp_id !== entry.label_comp_id || e.label_alt_id !== entry.label_alt_id || e.ins_code !== entry.ins_code)\n                continue;\n            if (this.checkOperator && ((_a = e.operator_name) !== null && _a !== void 0 ? _a : '1_555') !== ((_b = entry.operator_name) !== null && _b !== void 0 ? _b : '1_555'))\n                continue;\n            return true;\n        }\n        return false;\n    };\n    return ResidueSet;\n}());\nexport { ResidueSet };\nvar _asym_id = StructureProperties.chain.label_asym_id;\nvar _seq_id = StructureProperties.residue.label_seq_id;\nvar _comp_id = StructureProperties.atom.label_comp_id;\nvar _alt_id = StructureProperties.atom.label_alt_id;\nvar _ins_code = StructureProperties.residue.pdbx_PDB_ins_code;\nvar _op_name = StructureProperties.unit.operator_name;\n","/**\n * Copyright (c) 2017-2022 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\nimport { __assign } from \"tslib\";\nimport { Segmentation, SortedArray } from '../../../../mol-data/int';\nimport { StructureSelection } from '../selection';\nimport { UniqueStructuresBuilder } from '../utils/builders';\nimport { StructureUniqueSubsetBuilder } from '../../structure/util/unique-subset-builder';\nimport { structureIntersect, structureSubtract, structureUnion } from '../utils/structure-set';\nimport { UniqueArray } from '../../../../mol-data/generic';\nimport { StructureElement } from '../../structure/element';\nimport { MmcifFormat } from '../../../../mol-model-formats/structure/mmcif';\nimport { ResidueSet } from '../../model/properties/utils/residue-set';\nimport { StructureProperties } from '../../structure/properties';\nimport { arraySetAdd } from '../../../../mol-util/array';\nfunction getWholeResidues(ctx, source, structure) {\n    var builder = source.subsetBuilder(true);\n    for (var _a = 0, _b = structure.units; _a < _b.length; _a++) {\n        var unit = _b[_a];\n        if (unit.kind !== 0 /* Unit.Kind.Atomic */) {\n            // just copy non-atomic units.\n            builder.setUnit(unit.id, unit.elements);\n            continue;\n        }\n        var residueAtomSegments = unit.model.atomicHierarchy.residueAtomSegments;\n        var sourceElements = source.unitMap.get(unit.id).elements;\n        var elements = unit.elements;\n        builder.beginUnit(unit.id);\n        var residuesIt = Segmentation.transientSegments(residueAtomSegments, elements);\n        while (residuesIt.hasNext) {\n            var rI = residuesIt.move().index;\n            for (var j = residueAtomSegments.offsets[rI], _j = residueAtomSegments.offsets[rI + 1]; j < _j; j++) {\n                if (SortedArray.has(sourceElements, j))\n                    builder.addElement(j);\n            }\n        }\n        builder.commitUnit();\n        ctx.throwIfTimedOut();\n    }\n    return builder.getStructure();\n}\nexport function wholeResidues(query) {\n    return function query_wholeResidues(ctx) {\n        var inner = query(ctx);\n        if (StructureSelection.isSingleton(inner)) {\n            return StructureSelection.Singletons(ctx.inputStructure, getWholeResidues(ctx, ctx.inputStructure, inner.structure));\n        }\n        else {\n            var builder = new UniqueStructuresBuilder(ctx.inputStructure);\n            for (var _a = 0, _b = inner.structures; _a < _b.length; _a++) {\n                var s = _b[_a];\n                builder.add(getWholeResidues(ctx, ctx.inputStructure, s));\n            }\n            return builder.getSelection();\n        }\n    };\n}\nfunction getIncludeSurroundings(ctx, source, structure, params) {\n    var builder = new StructureUniqueSubsetBuilder(source);\n    var lookup = source.lookup3d;\n    var r = params.radius;\n    for (var _a = 0, _b = structure.units; _a < _b.length; _a++) {\n        var unit = _b[_a];\n        var _c = unit.conformation, x = _c.x, y = _c.y, z = _c.z;\n        var elements = unit.elements;\n        for (var i = 0, _i = elements.length; i < _i; i++) {\n            var e = elements[i];\n            lookup.findIntoBuilder(x(e), y(e), z(e), r, builder);\n        }\n        ctx.throwIfTimedOut();\n    }\n    return !!params.wholeResidues ? getWholeResidues(ctx, source, builder.getStructure()) : builder.getStructure();\n}\nfunction getIncludeSurroundingsWithRadius(ctx, source, structure, params) {\n    var builder = new StructureUniqueSubsetBuilder(source);\n    var lookup = source.lookup3d;\n    var elementRadius = params.elementRadius, elementRadiusClosure = params.elementRadiusClosure, sourceMaxRadius = params.sourceMaxRadius, radius = params.radius;\n    ctx.pushCurrentElement();\n    ctx.element.structure = structure;\n    for (var _a = 0, _b = structure.units; _a < _b.length; _a++) {\n        var unit = _b[_a];\n        ctx.element.unit = unit;\n        var _c = unit.conformation, x = _c.x, y = _c.y, z = _c.z;\n        var elements = unit.elements;\n        for (var i = 0, _i = elements.length; i < _i; i++) {\n            var e = elements[i];\n            ctx.element.element = e;\n            var eRadius = elementRadius(ctx);\n            lookup.findIntoBuilderWithRadius(x(e), y(e), z(e), eRadius, sourceMaxRadius, radius, elementRadiusClosure, builder);\n        }\n        ctx.throwIfTimedOut();\n    }\n    ctx.popCurrentElement();\n    return !!params.wholeResidues ? getWholeResidues(ctx, source, builder.getStructure()) : builder.getStructure();\n}\nfunction createElementRadiusFn(ctx, eRadius) {\n    return function (e) {\n        ctx.element.structure = e.structure;\n        ctx.element.unit = e.unit;\n        ctx.element.element = e.element;\n        return eRadius(ctx);\n    };\n}\nfunction findStructureRadius(ctx, eRadius) {\n    var r = 0;\n    ctx.element.structure = ctx.inputStructure;\n    for (var _a = 0, _b = ctx.inputStructure.units; _a < _b.length; _a++) {\n        var unit = _b[_a];\n        ctx.element.unit = unit;\n        var elements = unit.elements;\n        for (var i = 0, _i = elements.length; i < _i; i++) {\n            var e = elements[i];\n            ctx.element.element = e;\n            var eR = eRadius(ctx);\n            if (eR > r)\n                r = eR;\n        }\n    }\n    ctx.throwIfTimedOut();\n    return r;\n}\nexport function includeSurroundings(query, params) {\n    return function query_includeSurroundings(ctx) {\n        var inner = query(ctx);\n        if (params.elementRadius) {\n            var prms = __assign(__assign({}, params), { elementRadius: params.elementRadius, elementRadiusClosure: createElementRadiusFn(ctx, params.elementRadius), sourceMaxRadius: findStructureRadius(ctx, params.elementRadius) });\n            if (StructureSelection.isSingleton(inner)) {\n                var surr = getIncludeSurroundingsWithRadius(ctx, ctx.inputStructure, inner.structure, prms);\n                var ret = StructureSelection.Singletons(ctx.inputStructure, surr);\n                return ret;\n            }\n            else {\n                var builder = new UniqueStructuresBuilder(ctx.inputStructure);\n                for (var _a = 0, _b = inner.structures; _a < _b.length; _a++) {\n                    var s = _b[_a];\n                    builder.add(getIncludeSurroundingsWithRadius(ctx, ctx.inputStructure, s, prms));\n                }\n                return builder.getSelection();\n            }\n        }\n        if (StructureSelection.isSingleton(inner)) {\n            var surr = getIncludeSurroundings(ctx, ctx.inputStructure, inner.structure, params);\n            var ret = StructureSelection.Singletons(ctx.inputStructure, surr);\n            return ret;\n        }\n        else {\n            var builder = new UniqueStructuresBuilder(ctx.inputStructure);\n            for (var _c = 0, _d = inner.structures; _c < _d.length; _c++) {\n                var s = _d[_c];\n                builder.add(getIncludeSurroundings(ctx, ctx.inputStructure, s, params));\n            }\n            return builder.getSelection();\n        }\n    };\n}\nexport function querySelection(selection, query) {\n    return function query_querySelection(ctx) {\n        var targetSel = selection(ctx);\n        if (StructureSelection.structureCount(targetSel) === 0)\n            return targetSel;\n        var ret = StructureSelection.UniqueBuilder(ctx.inputStructure);\n        var add = function (s) { return ret.add(s); };\n        StructureSelection.forEach(targetSel, function (s, sI) {\n            ctx.pushInputStructure(s);\n            StructureSelection.forEach(query(ctx), add);\n            ctx.popInputStructure();\n            if (sI % 10 === 0)\n                ctx.throwIfTimedOut();\n        });\n        return ret.getSelection();\n    };\n}\nexport function intersectBy(query, by) {\n    return function query_intersectBy(ctx) {\n        var selection = query(ctx);\n        if (StructureSelection.structureCount(selection) === 0)\n            return selection;\n        var bySel = by(ctx);\n        if (StructureSelection.structureCount(bySel) === 0)\n            return StructureSelection.Empty(ctx.inputStructure);\n        var unionBy = StructureSelection.unionStructure(bySel);\n        var ret = StructureSelection.UniqueBuilder(ctx.inputStructure);\n        StructureSelection.forEach(selection, function (s, sI) {\n            var ii = structureIntersect(unionBy, s);\n            if (ii.elementCount !== 0)\n                ret.add(ii);\n            if (sI % 50 === 0)\n                ctx.throwIfTimedOut();\n        });\n        return ret.getSelection();\n    };\n}\nexport function exceptBy(query, by) {\n    return function query_exceptBy(ctx) {\n        var selection = query(ctx);\n        if (StructureSelection.structureCount(selection) === 0)\n            return selection;\n        var bySel = by(ctx);\n        if (StructureSelection.structureCount(bySel) === 0)\n            return selection;\n        var subtractBy = StructureSelection.unionStructure(bySel);\n        var ret = StructureSelection.UniqueBuilder(ctx.inputStructure);\n        StructureSelection.forEach(selection, function (s, sI) {\n            var diff = structureSubtract(s, subtractBy);\n            if (diff.elementCount !== 0)\n                ret.add(diff);\n            if (sI % 50 === 0)\n                ctx.throwIfTimedOut();\n        });\n        return ret.getSelection();\n    };\n}\nexport function union(query) {\n    return function query_union(ctx) {\n        var ret = StructureSelection.LinearBuilder(ctx.inputStructure);\n        ret.add(StructureSelection.unionStructure(query(ctx)));\n        return ret.getSelection();\n    };\n}\nexport function expandProperty(query, property) {\n    return function query_expandProperty(ctx) {\n        var src = query(ctx);\n        var propertyToStructureIndexMap = new Map();\n        var builders = [];\n        ctx.pushCurrentElement();\n        StructureSelection.forEach(src, function (s, sI) {\n            ctx.element.structure = s;\n            for (var _a = 0, _b = s.units; _a < _b.length; _a++) {\n                var unit = _b[_a];\n                ctx.element.unit = unit;\n                var elements = unit.elements;\n                for (var i = 0, _i = elements.length; i < _i; i++) {\n                    ctx.element.element = elements[i];\n                    var p = property(ctx);\n                    var arr = void 0;\n                    if (propertyToStructureIndexMap.has(p))\n                        arr = propertyToStructureIndexMap.get(p);\n                    else {\n                        arr = UniqueArray.create();\n                        propertyToStructureIndexMap.set(p, arr);\n                    }\n                    UniqueArray.add(arr, sI, sI);\n                }\n            }\n            builders[sI] = ctx.inputStructure.subsetBuilder(true);\n            if (sI % 10 === 0)\n                ctx.throwIfTimedOut();\n        });\n        ctx.element.structure = ctx.inputStructure;\n        for (var _a = 0, _b = ctx.inputStructure.units; _a < _b.length; _a++) {\n            var unit = _b[_a];\n            ctx.element.unit = unit;\n            var elements = unit.elements;\n            for (var i = 0, _i = elements.length; i < _i; i++) {\n                ctx.element.element = elements[i];\n                var p = property(ctx);\n                if (!propertyToStructureIndexMap.has(p))\n                    continue;\n                var indices = propertyToStructureIndexMap.get(p).array;\n                for (var _sI = 0, __sI = indices.length; _sI < __sI; _sI++) {\n                    builders[indices[_sI]].addToUnit(unit.id, elements[i]);\n                }\n            }\n        }\n        ctx.popCurrentElement();\n        var ret = StructureSelection.UniqueBuilder(ctx.inputStructure);\n        for (var _c = 0, builders_1 = builders; _c < builders_1.length; _c++) {\n            var b = builders_1[_c];\n            ret.add(b.getStructure());\n        }\n        return ret.getSelection();\n    };\n}\nexport function includeConnected(_a) {\n    var query = _a.query, layerCount = _a.layerCount, wholeResidues = _a.wholeResidues, bondTest = _a.bondTest, fixedPoint = _a.fixedPoint;\n    var lc = Math.max(layerCount, 0);\n    return function query_includeConnected(ctx) {\n        var builder = StructureSelection.UniqueBuilder(ctx.inputStructure);\n        var src = query(ctx);\n        ctx.pushCurrentBond();\n        ctx.atomicBond.setTestFn(bondTest);\n        StructureSelection.forEach(src, function (s, sI) {\n            var incl = s;\n            if (fixedPoint) {\n                while (true) {\n                    var prevCount = incl.elementCount;\n                    incl = includeConnectedStep(ctx, wholeResidues, incl);\n                    if (incl.elementCount === prevCount)\n                        break;\n                }\n            }\n            else {\n                for (var i = 0; i < lc; i++) {\n                    incl = includeConnectedStep(ctx, wholeResidues, incl);\n                }\n            }\n            builder.add(incl);\n            if (sI % 10 === 0)\n                ctx.throwIfTimedOut();\n        });\n        ctx.popCurrentBond();\n        return builder.getSelection();\n    };\n}\nfunction includeConnectedStep(ctx, wholeResidues, structure) {\n    var expanded = expandConnected(ctx, structure);\n    if (wholeResidues)\n        return getWholeResidues(ctx, ctx.inputStructure, expanded);\n    return expanded;\n}\nfunction expandConnected(ctx, structure) {\n    var inputStructure = ctx.inputStructure;\n    var interBonds = inputStructure.interUnitBonds;\n    var builder = new StructureUniqueSubsetBuilder(inputStructure);\n    var atomicBond = ctx.atomicBond;\n    // Process intra unit bonds\n    for (var _a = 0, _b = structure.units; _a < _b.length; _a++) {\n        var unit = _b[_a];\n        if (unit.kind !== 0 /* Unit.Kind.Atomic */) {\n            // add the whole unit\n            builder.beginUnit(unit.id);\n            for (var i = 0, _i = unit.elements.length; i < _i; i++) {\n                builder.addElement(unit.elements[i]);\n            }\n            builder.commitUnit();\n            continue;\n        }\n        var inputUnitA = inputStructure.unitMap.get(unit.id);\n        var _c = inputUnitA.bonds, intraBondOffset = _c.offset, intraBondB = _c.b, _d = _c.edgeProps, flags = _d.flags, order = _d.order, key = _d.key;\n        atomicBond.setStructure(inputStructure);\n        // Process intra unit bonds\n        atomicBond.a.unit = inputUnitA;\n        atomicBond.b.unit = inputUnitA;\n        for (var i = 0, _i = unit.elements.length; i < _i; i++) {\n            // add the current element\n            builder.addToUnit(unit.id, unit.elements[i]);\n            var aIndex = SortedArray.indexOf(inputUnitA.elements, unit.elements[i]);\n            // check intra unit bonds\n            for (var lI = intraBondOffset[aIndex], _lI = intraBondOffset[aIndex + 1]; lI < _lI; lI++) {\n                var bIndex = intraBondB[lI];\n                var bElement = inputUnitA.elements[bIndex];\n                // Check if the element is already present:\n                if (SortedArray.has(unit.elements, bElement) || builder.has(unit.id, bElement))\n                    continue;\n                atomicBond.aIndex = aIndex;\n                atomicBond.a.element = unit.elements[i];\n                atomicBond.bIndex = bIndex;\n                atomicBond.b.element = bElement;\n                atomicBond.type = flags[lI];\n                atomicBond.order = order[lI];\n                atomicBond.key = key[lI];\n                if (atomicBond.test(ctx, true)) {\n                    builder.addToUnit(unit.id, bElement);\n                }\n            }\n        }\n        // Process inter unit bonds\n        for (var _e = 0, _f = interBonds.getConnectedUnits(inputUnitA.id); _e < _f.length; _e++) {\n            var bondedUnit = _f[_e];\n            var currentUnitB = structure.unitMap.get(bondedUnit.unitB);\n            var inputUnitB = inputStructure.unitMap.get(bondedUnit.unitB);\n            for (var _g = 0, _h = bondedUnit.connectedIndices; _g < _h.length; _g++) {\n                var aI = _h[_g];\n                // check if the element is in the expanded structure\n                if (!SortedArray.has(unit.elements, inputUnitA.elements[aI]))\n                    continue;\n                for (var _k = 0, _l = bondedUnit.getEdges(aI); _k < _l.length; _k++) {\n                    var bond = _l[_k];\n                    var bElement = inputUnitB.elements[bond.indexB];\n                    // Check if the element is already present:\n                    if ((currentUnitB && SortedArray.has(currentUnitB.elements, bElement)) || builder.has(bondedUnit.unitB, bElement))\n                        continue;\n                    atomicBond.a.unit = inputUnitA;\n                    atomicBond.aIndex = aI;\n                    atomicBond.a.element = inputUnitA.elements[aI];\n                    atomicBond.b.unit = inputUnitB;\n                    atomicBond.bIndex = bond.indexB;\n                    atomicBond.b.element = bElement;\n                    atomicBond.type = bond.props.flag;\n                    atomicBond.order = bond.props.order;\n                    atomicBond.key = bond.props.key;\n                    if (atomicBond.test(ctx, true)) {\n                        builder.addToUnit(bondedUnit.unitB, bElement);\n                    }\n                }\n            }\n        }\n    }\n    return builder.getStructure();\n}\n/**\n * Includes expanded surrounding ligands based on radius from the source, struct_conn entries & pdbx_molecule entries.\n */\nexport function surroundingLigands(_a) {\n    var query = _a.query, radius = _a.radius, includeWater = _a.includeWater;\n    return function query_surroundingLigands(ctx) {\n        var inner = StructureSelection.unionStructure(query(ctx));\n        var surroundings = getWholeResidues(ctx, ctx.inputStructure, getIncludeSurroundings(ctx, ctx.inputStructure, inner, { radius: radius }));\n        var prd = getPrdAsymIdx(ctx.inputStructure);\n        var graph = getStructConnInfo(ctx.inputStructure);\n        var l = StructureElement.Location.create(surroundings);\n        var includedPrdChains = new Map();\n        var componentResidues = new ResidueSet({ checkOperator: true });\n        for (var _a = 0, _b = surroundings.units; _a < _b.length; _a++) {\n            var unit = _b[_a];\n            if (unit.kind !== 0 /* Unit.Kind.Atomic */)\n                continue;\n            l.unit = unit;\n            var elements = unit.elements;\n            var chainsIt = Segmentation.transientSegments(unit.model.atomicHierarchy.chainAtomSegments, elements);\n            var residuesIt = Segmentation.transientSegments(unit.model.atomicHierarchy.residueAtomSegments, elements);\n            while (chainsIt.hasNext) {\n                var chainSegment = chainsIt.move();\n                l.element = elements[chainSegment.start];\n                var asym_id = StructureProperties.chain.label_asym_id(l);\n                var op_name = StructureProperties.unit.operator_name(l);\n                // check for PRD molecules\n                if (prd.has(asym_id)) {\n                    if (includedPrdChains.has(asym_id)) {\n                        arraySetAdd(includedPrdChains.get(asym_id), op_name);\n                    }\n                    else {\n                        includedPrdChains.set(asym_id, [op_name]);\n                    }\n                    continue;\n                }\n                var entityType = StructureProperties.entity.type(l);\n                // test entity and chain\n                if (entityType === 'water' || entityType === 'polymer')\n                    continue;\n                residuesIt.setSegment(chainSegment);\n                while (residuesIt.hasNext) {\n                    var residueSegment = residuesIt.move();\n                    l.element = elements[residueSegment.start];\n                    graph.addComponent(ResidueSet.getEntryFromLocation(l), componentResidues);\n                }\n            }\n            ctx.throwIfTimedOut();\n        }\n        // assemble the core structure\n        var builder = ctx.inputStructure.subsetBuilder(true);\n        for (var _c = 0, _d = ctx.inputStructure.units; _c < _d.length; _c++) {\n            var unit = _d[_c];\n            if (unit.kind !== 0 /* Unit.Kind.Atomic */)\n                continue;\n            l.unit = unit;\n            var elements = unit.elements;\n            var chainsIt = Segmentation.transientSegments(unit.model.atomicHierarchy.chainAtomSegments, elements);\n            var residuesIt = Segmentation.transientSegments(unit.model.atomicHierarchy.residueAtomSegments, elements);\n            builder.beginUnit(unit.id);\n            while (chainsIt.hasNext) {\n                var chainSegment = chainsIt.move();\n                l.element = elements[chainSegment.start];\n                var asym_id = StructureProperties.chain.label_asym_id(l);\n                var op_name = StructureProperties.unit.operator_name(l);\n                if (includedPrdChains.has(asym_id) && includedPrdChains.get(asym_id).indexOf(op_name) >= 0) {\n                    builder.addElementRange(elements, chainSegment.start, chainSegment.end);\n                    continue;\n                }\n                if (!componentResidues.hasLabelAsymId(asym_id)) {\n                    continue;\n                }\n                residuesIt.setSegment(chainSegment);\n                while (residuesIt.hasNext) {\n                    var residueSegment = residuesIt.move();\n                    l.element = elements[residueSegment.start];\n                    if (!componentResidues.has(l))\n                        continue;\n                    builder.addElementRange(elements, residueSegment.start, residueSegment.end);\n                }\n            }\n            builder.commitUnit();\n            ctx.throwIfTimedOut();\n        }\n        var components = structureUnion(ctx.inputStructure, [builder.getStructure(), inner]);\n        // add water\n        if (includeWater) {\n            var finalBuilder = new StructureUniqueSubsetBuilder(ctx.inputStructure);\n            var lookup = ctx.inputStructure.lookup3d;\n            for (var _e = 0, _f = components.units; _e < _f.length; _e++) {\n                var unit = _f[_e];\n                var _g = unit.conformation, x = _g.x, y = _g.y, z = _g.z;\n                var elements = unit.elements;\n                for (var i = 0, _i = elements.length; i < _i; i++) {\n                    var e = elements[i];\n                    lookup.findIntoBuilderIf(x(e), y(e), z(e), radius, finalBuilder, testIsWater);\n                    finalBuilder.addToUnit(unit.id, e);\n                }\n                ctx.throwIfTimedOut();\n            }\n            return StructureSelection.Sequence(ctx.inputStructure, [finalBuilder.getStructure()]);\n        }\n        else {\n            return StructureSelection.Sequence(ctx.inputStructure, [components]);\n        }\n    };\n}\nvar _entity_type = StructureProperties.entity.type;\nfunction testIsWater(l) {\n    return _entity_type(l) === 'water';\n}\nfunction getPrdAsymIdx(structure) {\n    var model = structure.models[0];\n    var ids = new Set();\n    if (!MmcifFormat.is(model.sourceData))\n        return ids;\n    var _a = model.sourceData.data.db.pdbx_molecule, _rowCount = _a._rowCount, asym_id = _a.asym_id;\n    for (var i = 0; i < _rowCount; i++) {\n        ids.add(asym_id.value(i));\n    }\n    return ids;\n}\nfunction getStructConnInfo(structure) {\n    var _a, _b;\n    var model = structure.models[0];\n    var graph = new StructConnGraph();\n    if (!MmcifFormat.is(model.sourceData))\n        return graph;\n    var struct_conn = model.sourceData.data.db.struct_conn;\n    var conn_type_id = struct_conn.conn_type_id;\n    var ptnr1_label_asym_id = struct_conn.ptnr1_label_asym_id, ptnr1_label_comp_id = struct_conn.ptnr1_label_comp_id, ptnr1_label_seq_id = struct_conn.ptnr1_label_seq_id, ptnr1_symmetry = struct_conn.ptnr1_symmetry, pdbx_ptnr1_label_alt_id = struct_conn.pdbx_ptnr1_label_alt_id, pdbx_ptnr1_PDB_ins_code = struct_conn.pdbx_ptnr1_PDB_ins_code;\n    var ptnr2_label_asym_id = struct_conn.ptnr2_label_asym_id, ptnr2_label_comp_id = struct_conn.ptnr2_label_comp_id, ptnr2_label_seq_id = struct_conn.ptnr2_label_seq_id, ptnr2_symmetry = struct_conn.ptnr2_symmetry, pdbx_ptnr2_label_alt_id = struct_conn.pdbx_ptnr2_label_alt_id, pdbx_ptnr2_PDB_ins_code = struct_conn.pdbx_ptnr2_PDB_ins_code;\n    for (var i = 0; i < struct_conn._rowCount; i++) {\n        var bondType = conn_type_id.value(i);\n        if (bondType !== 'covale' && bondType !== 'metalc')\n            continue;\n        var a = {\n            label_asym_id: ptnr1_label_asym_id.value(i),\n            label_comp_id: ptnr1_label_comp_id.value(i),\n            label_seq_id: ptnr1_label_seq_id.value(i),\n            label_alt_id: pdbx_ptnr1_label_alt_id.value(i),\n            ins_code: pdbx_ptnr1_PDB_ins_code.value(i),\n            operator_name: (_a = ptnr1_symmetry.value(i)) !== null && _a !== void 0 ? _a : '1_555'\n        };\n        var b = {\n            label_asym_id: ptnr2_label_asym_id.value(i),\n            label_comp_id: ptnr2_label_comp_id.value(i),\n            label_seq_id: ptnr2_label_seq_id.value(i),\n            label_alt_id: pdbx_ptnr2_label_alt_id.value(i),\n            ins_code: pdbx_ptnr2_PDB_ins_code.value(i),\n            operator_name: (_b = ptnr2_symmetry.value(i)) !== null && _b !== void 0 ? _b : '1_555'\n        };\n        graph.addEdge(a, b);\n    }\n    return graph;\n}\nvar StructConnGraph = /** @class */ (function () {\n    function StructConnGraph() {\n        this.vertices = new Map();\n        this.edges = new Map();\n    }\n    StructConnGraph.prototype.addVertex = function (e, label) {\n        if (this.vertices.has(label))\n            return;\n        this.vertices.set(label, e);\n        this.edges.set(label, []);\n    };\n    StructConnGraph.prototype.addEdge = function (a, b) {\n        var al = ResidueSet.getLabel(a);\n        var bl = ResidueSet.getLabel(b);\n        this.addVertex(a, al);\n        this.addVertex(b, bl);\n        arraySetAdd(this.edges.get(al), bl);\n        arraySetAdd(this.edges.get(bl), al);\n    };\n    StructConnGraph.prototype.addComponent = function (start, set) {\n        var startLabel = ResidueSet.getLabel(start);\n        if (!this.vertices.has(startLabel)) {\n            set.add(start);\n            return;\n        }\n        var visited = new Set();\n        var added = new Set();\n        var stack = [startLabel];\n        added.add(startLabel);\n        set.add(start);\n        while (stack.length > 0) {\n            var a = stack.pop();\n            visited.add(a);\n            var u = this.vertices.get(a);\n            for (var _a = 0, _b = this.edges.get(a); _a < _b.length; _a++) {\n                var b = _b[_a];\n                if (visited.has(b))\n                    continue;\n                stack.push(b);\n                if (added.has(b))\n                    continue;\n                added.add(b);\n                var v = this.vertices.get(b);\n                if (u.operator_name === v.operator_name) {\n                    set.add(__assign(__assign({}, v), { operator_name: start.operator_name }));\n                }\n                else {\n                    set.add(v);\n                }\n            }\n        }\n    };\n    return StructConnGraph;\n}());\n// TODO: unionBy (skip this one?), cluster\n","/**\n * Copyright (c) 2017 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n */\nimport { Vec3 } from '../../../../mol-math/linear-algebra';\nexport function checkStructureMinMaxDistance(ctx, a, b, minDist, maxDist, elementRadius) {\n    if (a.elementCount === 0 || b.elementCount === 0)\n        return true;\n    if (a.elementCount <= b.elementCount)\n        return MinMaxDist.check(ctx, a, b, minDist, maxDist, elementRadius);\n    return MinMaxDist.check(ctx, b, a, minDist, maxDist, elementRadius);\n}\nexport function checkStructureMaxRadiusDistance(ctx, a, b, maxDist, elementRadius) {\n    if (a.elementCount === 0 || b.elementCount === 0)\n        return true;\n    if (a.elementCount <= b.elementCount)\n        return MaxRadiusDist.check(ctx, a, b, maxDist, elementRadius);\n    return MaxRadiusDist.check(ctx, b, a, maxDist, elementRadius);\n}\nvar MinMaxDist;\n(function (MinMaxDist) {\n    var distVec = Vec3.zero();\n    function inUnit(ctx, unit, p, eRadius, minDist, maxDist, elementRadius) {\n        var elements = unit.elements, position = unit.conformation.position, dV = distVec;\n        ctx.element.unit = unit;\n        var withinRange = false;\n        for (var i = 0, _i = elements.length; i < _i; i++) {\n            var e = elements[i];\n            ctx.element.element = e;\n            var d = Math.max(0, Vec3.distance(p, position(e, dV)) - eRadius - elementRadius(ctx));\n            if (d < minDist)\n                return 0 /* Result.BelowMin */;\n            if (d < maxDist)\n                withinRange = true;\n        }\n        return withinRange ? 1 /* Result.WithinMax */ : 2 /* Result.Miss */;\n    }\n    function toPoint(ctx, s, point, radius, minDist, maxDist, elementRadius) {\n        var units = s.units;\n        var withinRange = false;\n        for (var i = 0, _i = units.length; i < _i; i++) {\n            var iu = inUnit(ctx, units[i], point, radius, minDist, maxDist, elementRadius);\n            if (iu === 0 /* Result.BelowMin */)\n                return 0 /* Result.BelowMin */;\n            if (iu === 1 /* Result.WithinMax */)\n                withinRange = true;\n        }\n        return withinRange ? 1 /* Result.WithinMax */ : 2 /* Result.Miss */;\n    }\n    var distPivot = Vec3.zero();\n    function check(ctx, a, b, minDist, maxDist, elementRadius) {\n        if (a.elementCount === 0 || b.elementCount === 0)\n            return 0;\n        var units = a.units;\n        var withinRange = false;\n        ctx.element.structure = a;\n        for (var i = 0, _i = units.length; i < _i; i++) {\n            var unit = units[i];\n            var elements = unit.elements, position = unit.conformation.position;\n            ctx.element.unit = unit;\n            for (var i_1 = 0, _i_1 = elements.length; i_1 < _i_1; i_1++) {\n                var e = elements[i_1];\n                ctx.element.element = e;\n                var tp = toPoint(ctx, b, position(e, distPivot), elementRadius(ctx), minDist, maxDist, elementRadius);\n                if (tp === 0 /* Result.BelowMin */)\n                    return false;\n                if (tp === 1 /* Result.WithinMax */)\n                    withinRange = true;\n            }\n        }\n        return withinRange;\n    }\n    MinMaxDist.check = check;\n})(MinMaxDist || (MinMaxDist = {}));\nvar MaxRadiusDist;\n(function (MaxRadiusDist) {\n    var distVec = Vec3.zero();\n    function inUnit(ctx, unit, p, eRadius, maxDist, elementRadius) {\n        var elements = unit.elements, position = unit.conformation.position, dV = distVec;\n        ctx.element.unit = unit;\n        for (var i = 0, _i = elements.length; i < _i; i++) {\n            var e = elements[i];\n            ctx.element.element = e;\n            if (Math.max(0, Vec3.distance(p, position(e, dV)) - eRadius - elementRadius(ctx)) <= maxDist)\n                return true;\n        }\n        return false;\n    }\n    function toPoint(ctx, s, point, radius, maxDist, elementRadius) {\n        var units = s.units;\n        for (var i = 0, _i = units.length; i < _i; i++) {\n            if (inUnit(ctx, units[i], point, radius, maxDist, elementRadius))\n                return true;\n        }\n        return false;\n    }\n    var distPivot = Vec3.zero();\n    function check(ctx, a, b, maxDist, elementRadius) {\n        if (a.elementCount === 0 || b.elementCount === 0)\n            return 0;\n        var units = a.units;\n        ctx.element.structure = a;\n        for (var i = 0, _i = units.length; i < _i; i++) {\n            var unit = units[i];\n            ctx.element.unit = unit;\n            var elements = unit.elements, position = unit.conformation.position;\n            for (var i_2 = 0, _i_2 = elements.length; i_2 < _i_2; i_2++) {\n                var e = elements[i_2];\n                ctx.element.element = e;\n                if (toPoint(ctx, b, position(e, distPivot), elementRadius(ctx), maxDist, elementRadius))\n                    return true;\n            }\n        }\n        return false;\n    }\n    MaxRadiusDist.check = check;\n})(MaxRadiusDist || (MaxRadiusDist = {}));\n","/**\n * Copyright (c) 2017 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n */\nvar Predicates;\n(function (Predicates) {\n    function isSetLike(x) { return !!x && !!x.has; }\n    function eq(p, value) { return function (l) { return p(l) === value; }; }\n    Predicates.eq = eq;\n    function lt(p, value) { return function (l) { return p(l) < value; }; }\n    Predicates.lt = lt;\n    function lte(p, value) { return function (l) { return p(l) <= value; }; }\n    Predicates.lte = lte;\n    function gt(p, value) { return function (l) { return p(l) > value; }; }\n    Predicates.gt = gt;\n    function gte(p, value) { return function (l) { return p(l) >= value; }; }\n    Predicates.gte = gte;\n    function _true(ctx) { return true; }\n    function _false(ctx) { return false; }\n    function inSet(p, values) {\n        if (isSetLike(values)) {\n            return function (l) { return values.has(p(l)); };\n        }\n        else {\n            if (values.length === 0)\n                return _false;\n            var set_1 = new Set();\n            for (var i = 0; i < values.length; i++)\n                set_1.add(values[i]);\n            return function (l) { return set_1.has(p(l)); };\n        }\n    }\n    Predicates.inSet = inSet;\n    function and() {\n        var ps = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            ps[_i] = arguments[_i];\n        }\n        switch (ps.length) {\n            case 0: return _true;\n            case 1: return ps[0];\n            case 2: {\n                var a_1 = ps[0], b_1 = ps[1];\n                return function (l) { return a_1(l) && b_1(l); };\n            }\n            case 3: {\n                var a_2 = ps[0], b_2 = ps[1], c_1 = ps[2];\n                return function (l) { return a_2(l) && b_2(l) && c_1(l); };\n            }\n            case 4: {\n                var a_3 = ps[0], b_3 = ps[1], c_2 = ps[2], d_1 = ps[3];\n                return function (l) { return a_3(l) && b_3(l) && c_2(l) && d_1(l); };\n            }\n            case 5: {\n                var a_4 = ps[0], b_4 = ps[1], c_3 = ps[2], d_2 = ps[3], e_1 = ps[4];\n                return function (l) { return a_4(l) && b_4(l) && c_3(l) && d_2(l) && e_1(l); };\n            }\n            case 6: {\n                var a_5 = ps[0], b_5 = ps[1], c_4 = ps[2], d_3 = ps[3], e_2 = ps[4], f_1 = ps[5];\n                return function (l) { return a_5(l) && b_5(l) && c_4(l) && d_3(l) && e_2(l) && f_1(l); };\n            }\n            default: {\n                var count_1 = ps.length;\n                return function (l) {\n                    for (var i = 0; i < count_1; i++)\n                        if (!ps[i])\n                            return false;\n                    return true;\n                };\n            }\n        }\n    }\n    Predicates.and = and;\n    function or() {\n        var ps = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            ps[_i] = arguments[_i];\n        }\n        switch (ps.length) {\n            case 0: return _false;\n            case 1: return ps[0];\n            case 2: {\n                var a_6 = ps[0], b_6 = ps[1];\n                return function (l) { return a_6(l) || b_6(l); };\n            }\n            case 3: {\n                var a_7 = ps[0], b_7 = ps[1], c_5 = ps[2];\n                return function (l) { return a_7(l) || b_7(l) || c_5(l); };\n            }\n            case 4: {\n                var a_8 = ps[0], b_8 = ps[1], c_6 = ps[2], d_4 = ps[3];\n                return function (l) { return a_8(l) || b_8(l) || c_6(l) || d_4(l); };\n            }\n            case 5: {\n                var a_9 = ps[0], b_9 = ps[1], c_7 = ps[2], d_5 = ps[3], e_3 = ps[4];\n                return function (l) { return a_9(l) || b_9(l) || c_7(l) || d_5(l) || e_3(l); };\n            }\n            case 6: {\n                var a_10 = ps[0], b_10 = ps[1], c_8 = ps[2], d_6 = ps[3], e_4 = ps[4], f_2 = ps[5];\n                return function (l) { return a_10(l) || b_10(l) || c_8(l) || d_6(l) || e_4(l) || f_2(l); };\n            }\n            default: {\n                var count_2 = ps.length;\n                return function (l) {\n                    for (var i = 0; i < count_2; i++)\n                        if (ps[i])\n                            return true;\n                    return false;\n                };\n            }\n        }\n    }\n    Predicates.or = or;\n})(Predicates || (Predicates = {}));\nexport { Predicates };\n","/**\n * Copyright (c) 2018-2022 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\nimport { SetUtils } from '../../../../mol-util/set';\nimport { Unit } from '../../structure';\nimport { StructureSelection } from '../selection';\nimport { structureAreIntersecting } from '../utils/structure-set';\nimport { Vec3 } from '../../../../mol-math/linear-algebra';\nimport { checkStructureMaxRadiusDistance, checkStructureMinMaxDistance } from '../utils/structure-distance';\nimport { Structure } from '../../structure/structure';\nimport { SortedArray } from '../../../../mol-data/int';\nexport function pick(query, pred) {\n    return function (ctx) {\n        var sel = query(ctx);\n        var ret = StructureSelection.LinearBuilder(ctx.inputStructure);\n        ctx.pushCurrentElement();\n        StructureSelection.forEach(sel, function (s, i) {\n            ctx.currentStructure = s;\n            if (pred(ctx))\n                ret.add(s);\n            if (i % 100)\n                ctx.throwIfTimedOut();\n        });\n        ctx.popCurrentStructure();\n        return ret.getSelection();\n    };\n}\nexport function first(query) {\n    return function (ctx) {\n        var sel = query(ctx);\n        var ret = StructureSelection.LinearBuilder(ctx.inputStructure);\n        if (sel.kind === 'singletons') {\n            if (sel.structure.elementCount > 0) {\n                var u = sel.structure.units[0];\n                var s = Structure.create([u.getChild(SortedArray.ofSingleton(u.elements[0]))], { parent: ctx.inputStructure });\n                ret.add(s);\n            }\n        }\n        else {\n            if (sel.structures.length > 0) {\n                ret.add(sel.structures[0]);\n            }\n        }\n        return ret.getSelection();\n    };\n}\nexport function getCurrentStructureProperties(ctx, props, set) {\n    var units = ctx.currentStructure.units;\n    var l = ctx.pushCurrentElement();\n    l.structure = ctx.currentStructure;\n    for (var _a = 0, units_1 = units; _a < units_1.length; _a++) {\n        var unit = units_1[_a];\n        l.unit = unit;\n        var elements = unit.elements;\n        var fn = props;\n        //        if (Unit.isAtomic(unit)) fn = props.atomic;\n        //        else fn = props.coarse;\n        if (!fn)\n            continue;\n        for (var j = 0, _j = elements.length; j < _j; j++) {\n            l.element = elements[j];\n            set.add(fn(ctx));\n        }\n        ctx.throwIfTimedOut();\n    }\n    ctx.popCurrentElement();\n    return set;\n}\nfunction getSelectionProperties(ctx, query, props) {\n    var set = new Set();\n    var sel = query(ctx);\n    ctx.pushCurrentElement();\n    StructureSelection.forEach(sel, function (s, i) {\n        ctx.currentStructure = s;\n        getCurrentStructureProperties(ctx, props, set);\n        if (i % 10)\n            ctx.throwIfTimedOut();\n    });\n    ctx.popCurrentElement();\n    return set;\n}\nexport function withSameAtomProperties(query, propertySource, props) {\n    return function (ctx) {\n        var sel = query(ctx);\n        var propSet = getSelectionProperties(ctx, propertySource, props);\n        var ret = StructureSelection.LinearBuilder(ctx.inputStructure);\n        ctx.pushCurrentStructure();\n        StructureSelection.forEach(sel, function (s, i) {\n            ctx.currentStructure = s;\n            var currentProps = getCurrentStructureProperties(ctx, props, new Set());\n            if (SetUtils.isSuperset(propSet, currentProps)) {\n                ret.add(s);\n            }\n            if (i % 10)\n                ctx.throwIfTimedOut();\n        });\n        ctx.popCurrentStructure();\n        return ret.getSelection();\n    };\n}\nexport function areIntersectedBy(query, by) {\n    return function (ctx) {\n        var mask = StructureSelection.unionStructure(by(ctx));\n        var ret = StructureSelection.LinearBuilder(ctx.inputStructure);\n        StructureSelection.forEach(query(ctx), function (s, i) {\n            if (structureAreIntersecting(mask, s))\n                ret.add(s);\n            if (i % 10)\n                ctx.throwIfTimedOut();\n        });\n        return ret.getSelection();\n    };\n}\nexport function within(params) {\n    return function (queryCtx) {\n        var ctx = {\n            queryCtx: queryCtx,\n            selection: params.query(queryCtx),\n            target: params.target(queryCtx),\n            maxRadius: params.maxRadius,\n            minRadius: params.minRadius ? Math.max(0, params.minRadius) : 0,\n            elementRadius: params.elementRadius,\n            invert: !!params.invert,\n        };\n        if (ctx.minRadius === 0 && typeof params.minRadius === 'undefined') {\n            return withinMaxRadiusLookup(ctx);\n        }\n        else if (ctx.minRadius === 0) {\n            return withinMaxRadius(ctx);\n        }\n        else {\n            return withinMinMaxRadius(ctx);\n        }\n    };\n}\nfunction withinMaxRadiusLookup(_a) {\n    var queryCtx = _a.queryCtx, selection = _a.selection, target = _a.target, maxRadius = _a.maxRadius, invert = _a.invert;\n    var targetLookup = StructureSelection.unionStructure(target).lookup3d;\n    var ret = StructureSelection.LinearBuilder(queryCtx.inputStructure);\n    var pos = Vec3.zero();\n    StructureSelection.forEach(selection, function (s, sI) {\n        var units = s.units;\n        var withinRadius = false;\n        for (var i = 0, _i = units.length; i < _i; i++) {\n            var unit = units[i];\n            var elements = unit.elements, _a = unit.conformation, position = _a.position, r = _a.r;\n            for (var i_1 = 0, _i_1 = elements.length; i_1 < _i_1; i_1++) {\n                var e = elements[i_1];\n                position(e, pos);\n                if (targetLookup.check(pos[0], pos[1], pos[2], maxRadius + r(e))) {\n                    withinRadius = true;\n                    break;\n                }\n            }\n            if (withinRadius)\n                break;\n        }\n        if (invert)\n            withinRadius = !withinRadius;\n        if (withinRadius)\n            ret.add(s);\n        if (sI % 10 === 0)\n            queryCtx.throwIfTimedOut();\n    });\n    return ret.getSelection();\n}\nfunction withinMaxRadius(_a) {\n    var queryCtx = _a.queryCtx, selection = _a.selection, target = _a.target, maxRadius = _a.maxRadius, invert = _a.invert, elementRadius = _a.elementRadius;\n    var targetStructure = StructureSelection.unionStructure(target);\n    var ret = StructureSelection.LinearBuilder(queryCtx.inputStructure);\n    queryCtx.pushCurrentElement();\n    StructureSelection.forEach(selection, function (s, sI) {\n        var withinRadius = checkStructureMaxRadiusDistance(queryCtx, targetStructure, s, maxRadius, elementRadius);\n        if (invert)\n            withinRadius = !withinRadius;\n        if (withinRadius)\n            ret.add(s);\n        if (sI % 10 === 0)\n            queryCtx.throwIfTimedOut();\n    });\n    queryCtx.popCurrentElement();\n    return ret.getSelection();\n}\nfunction withinMinMaxRadius(_a) {\n    var queryCtx = _a.queryCtx, selection = _a.selection, target = _a.target, minRadius = _a.minRadius, maxRadius = _a.maxRadius, invert = _a.invert, elementRadius = _a.elementRadius;\n    var targetStructure = StructureSelection.unionStructure(target);\n    var ret = StructureSelection.LinearBuilder(queryCtx.inputStructure);\n    queryCtx.pushCurrentElement();\n    StructureSelection.forEach(selection, function (s, sI) {\n        var withinRadius = checkStructureMinMaxDistance(queryCtx, targetStructure, s, minRadius, maxRadius, elementRadius);\n        if (invert)\n            withinRadius = !withinRadius;\n        if (withinRadius)\n            ret.add(s);\n        if (sI % 10 === 0)\n            queryCtx.throwIfTimedOut();\n    });\n    queryCtx.popCurrentElement();\n    return ret.getSelection();\n}\nfunction checkConnected(ctx, structure) {\n    var queryCtx = ctx.queryCtx, input = ctx.input, target = ctx.target, disjunct = ctx.disjunct;\n    var atomicBond = queryCtx.atomicBond;\n    var interBonds = input.interUnitBonds;\n    atomicBond.setStructure(input);\n    for (var _a = 0, _b = structure.units; _a < _b.length; _a++) {\n        var unit = _b[_a];\n        if (!Unit.isAtomic(unit))\n            continue;\n        var inputUnit = input.unitMap.get(unit.id);\n        var _c = inputUnit.bonds, offset = _c.offset, b = _c.b, _d = _c.edgeProps, flags = _d.flags, order = _d.order, key = _d.key;\n        var bondedUnits = interBonds.getConnectedUnits(unit.id);\n        var buCount = bondedUnits.length;\n        var srcElements = unit.elements;\n        var inputElements = inputUnit.elements;\n        for (var i = 0, _i = srcElements.length; i < _i; i++) {\n            var inputIndex = SortedArray.indexOf(inputElements, srcElements[i]);\n            atomicBond.a.unit = inputUnit;\n            atomicBond.b.unit = inputUnit;\n            // tElement.unit = unit;\n            for (var l = offset[inputIndex], _l = offset[inputIndex + 1]; l < _l; l++) {\n                // tElement.element = inputElements[b[l]];\n                atomicBond.b.element = inputUnit.elements[b[l]];\n                if (disjunct && SortedArray.has(unit.elements, atomicBond.b.element))\n                    continue;\n                if (!target.hasElement(atomicBond.b))\n                    continue;\n                atomicBond.aIndex = inputIndex;\n                atomicBond.a.element = srcElements[i];\n                atomicBond.bIndex = b[l];\n                atomicBond.type = flags[l];\n                atomicBond.order = order[l];\n                atomicBond.key = key[l];\n                if (atomicBond.test(queryCtx, true))\n                    return true;\n            }\n            for (var li = 0; li < buCount; li++) {\n                var lu = bondedUnits[li];\n                var bUnit = input.unitMap.get(lu.unitB);\n                var bElements = bUnit.elements;\n                var bonds = lu.getEdges(inputIndex);\n                for (var bi = 0, _bi = bonds.length; bi < _bi; bi++) {\n                    var bond = bonds[bi];\n                    atomicBond.b.unit = bUnit;\n                    atomicBond.b.element = bElements[bond.indexB];\n                    if (!target.hasElement(atomicBond.b))\n                        continue;\n                    if (disjunct && structure.hasElement(atomicBond.b))\n                        continue;\n                    atomicBond.a.unit = inputUnit;\n                    atomicBond.aIndex = inputIndex;\n                    atomicBond.a.element = srcElements[i];\n                    atomicBond.bIndex = bond.indexB;\n                    atomicBond.type = bond.props.flag;\n                    atomicBond.order = bond.props.order;\n                    atomicBond.key = bond.props.key;\n                    if (atomicBond.test(queryCtx, true))\n                        return true;\n                }\n            }\n        }\n    }\n    return false;\n}\nexport function isConnectedTo(_a) {\n    var query = _a.query, target = _a.target, disjunct = _a.disjunct, invert = _a.invert, bondTest = _a.bondTest;\n    return function (ctx) {\n        var targetSel = target(ctx);\n        if (StructureSelection.isEmpty(targetSel))\n            return targetSel;\n        var selection = query(ctx);\n        if (StructureSelection.isEmpty(selection))\n            return selection;\n        var connCtx = {\n            queryCtx: ctx,\n            input: ctx.inputStructure,\n            disjunct: disjunct,\n            target: StructureSelection.unionStructure(targetSel)\n        };\n        var ret = StructureSelection.LinearBuilder(ctx.inputStructure);\n        ctx.pushCurrentBond();\n        ctx.atomicBond.setTestFn(bondTest);\n        StructureSelection.forEach(selection, function (s, sI) {\n            if (checkConnected(connCtx, s)) {\n                ret.add(s);\n            }\n            else if (invert) {\n                ret.add(s);\n            }\n            if (sI % 5 === 0)\n                ctx.throwIfTimedOut();\n        });\n        ctx.popCurrentBond();\n        return ret.getSelection();\n    };\n}\n","/**\n * Copyright (c) 2018 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n */\nimport { StructureSelection } from '../selection';\nimport { none } from './generators';\nimport { HashSet } from '../../../../mol-data/generic';\nimport { Structure } from '../../structure';\nexport function merge(queries) {\n    if (queries.length === 0) {\n        return none;\n    }\n    else if (queries.length === 1) {\n        return queries[0];\n    }\n    return function (ctx) {\n        var ret = StructureSelection.UniqueBuilder(ctx.inputStructure);\n        var _loop_1 = function (i) {\n            StructureSelection.forEach(queries[i](ctx), function (s, j) {\n                ret.add(s);\n                if (i % 100)\n                    ctx.throwIfTimedOut();\n            });\n        };\n        for (var i = 0; i < queries.length; i++) {\n            _loop_1(i);\n        }\n        return ret.getSelection();\n    };\n}\nexport function intersect(queries) {\n    if (queries.length === 0) {\n        return none;\n    }\n    else if (queries.length === 1) {\n        return queries[0];\n    }\n    return function (ctx) {\n        var selections = [];\n        for (var i = 0; i < queries.length; i++)\n            selections.push(queries[i](ctx));\n        var pivotIndex = 0, pivotLength = StructureSelection.structureCount(selections[0]);\n        for (var i = 1; i < selections.length; i++) {\n            var len = StructureSelection.structureCount(selections[i]);\n            if (len < pivotLength) {\n                pivotIndex = i;\n                pivotLength = len;\n            }\n        }\n        ctx.throwIfTimedOut();\n        var pivotSet = HashSet(function (s) { return s.hashCode; }, Structure.areUnitIdsAndIndicesEqual);\n        StructureSelection.forEach(selections[pivotIndex], function (s) { return pivotSet.add(s); });\n        var ret = StructureSelection.UniqueBuilder(ctx.inputStructure);\n        for (var pI = 0; pI < selections.length; pI++) {\n            if (pI === pivotIndex)\n                continue;\n            StructureSelection.forEach(selections[pI], function (s) {\n                if (pivotSet.has(s))\n                    ret.add(s);\n            });\n            ctx.throwIfTimedOut();\n        }\n        return ret.getSelection();\n    };\n}\n// TODO: distanceCluster\n","/**\n * Copyright (c) 2019 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author Koya Sakuma\n * Adapted from MolQL implemtation of atom-set.ts\n *\n * Copyright (c) 2017 MolQL contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n */\nimport { StructureSelection } from '../selection';\nimport { getCurrentStructureProperties } from './filters';\nexport function atomCount(ctx) {\n    return ctx.currentStructure.elementCount;\n}\nexport function countQuery(query) {\n    return function (ctx) {\n        var sel = query(ctx);\n        return StructureSelection.structureCount(sel);\n    };\n}\nexport function propertySet(prop) {\n    return function (ctx) {\n        var set = new Set();\n        return getCurrentStructureProperties(ctx, prop, set);\n    };\n}\n","/**\n * Copyright (c) 2017 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n */\nimport { StructureSelection } from './query/selection';\nimport { StructureQuery } from './query/query';\nexport * from './query/context';\nimport * as generators from './query/queries/generators';\nimport * as modifiers from './query/queries/modifiers';\nimport * as filters from './query/queries/filters';\nimport * as combinators from './query/queries/combinators';\nimport * as internal from './query/queries/internal';\nimport * as atomset from './query/queries/atom-set';\nimport { Predicates as pred } from './query/predicates';\nexport var Queries = {\n    generators: generators,\n    filters: filters,\n    modifiers: modifiers,\n    combinators: combinators,\n    pred: pred,\n    internal: internal,\n    atomset: atomset\n};\nexport { StructureSelection, StructureQuery };\n","/**\n * Copyright (c) 2017-2021 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\nimport { __awaiter, __generator } from \"tslib\";\nimport { SortedArray } from '../../../mol-data/int';\nimport { EquivalenceClasses } from '../../../mol-data/util';\nimport { Spacegroup, SpacegroupCell, SymmetryOperator } from '../../../mol-math/geometry';\nimport { Vec3, Mat4 } from '../../../mol-math/linear-algebra';\nimport { Task } from '../../../mol-task';\nimport { Symmetry, Model } from '../model';\nimport { QueryContext, StructureSelection, Queries as Q } from '../query';\nimport { Structure } from './structure';\nimport { Unit } from './unit';\nimport { ModelSymmetry } from '../../../mol-model-formats/structure/property/symmetry';\nimport { StructureProperties } from './properties';\nvar StructureSymmetry;\n(function (StructureSymmetry) {\n    function buildAssembly(structure, asmName) {\n        var _this = this;\n        return Task.create('Build Assembly', function (ctx) { return __awaiter(_this, void 0, void 0, function () {\n            var models, assembly, coordinateSystem, assembler, queryCtx, _i, _a, g, selection, units, _b, _c, oper, _d, units_1, unit;\n            return __generator(this, function (_e) {\n                models = structure.models;\n                if (models.length !== 1)\n                    throw new Error('Can only build assemblies from structures based on 1 model.');\n                assembly = Symmetry.findAssembly(models[0], asmName);\n                if (!assembly)\n                    throw new Error(\"Assembly '\".concat(asmName, \"' is not defined.\"));\n                coordinateSystem = SymmetryOperator.create(assembly.id, Mat4.identity(), { assembly: { id: assembly.id, operId: 0, operList: [] } });\n                assembler = Structure.Builder({\n                    coordinateSystem: coordinateSystem,\n                    label: structure.label,\n                    dynamicBonds: structure.dynamicBonds\n                });\n                queryCtx = new QueryContext(structure);\n                for (_i = 0, _a = assembly.operatorGroups; _i < _a.length; _i++) {\n                    g = _a[_i];\n                    selection = g.selector(queryCtx);\n                    if (StructureSelection.structureCount(selection) === 0) {\n                        continue;\n                    }\n                    units = StructureSelection.unionStructure(selection).units;\n                    for (_b = 0, _c = g.operators; _b < _c.length; _b++) {\n                        oper = _c[_b];\n                        for (_d = 0, units_1 = units; _d < units_1.length; _d++) {\n                            unit = units_1[_d];\n                            assembler.addWithOperator(unit, oper);\n                        }\n                    }\n                }\n                return [2 /*return*/, assembler.getStructure()];\n            });\n        }); });\n    }\n    StructureSymmetry.buildAssembly = buildAssembly;\n    function buildSymmetryAssembly(structure, generators, symmetry) {\n        var _this = this;\n        return Task.create('Build Symmetry Assembly', function (ctx) { return __awaiter(_this, void 0, void 0, function () {\n            var models, modelCenter, assembler, queryCtx, _i, generators_1, g, selector, selection, units, _a, _b, _c, index, _d, i, j, k, operators, _e, units_2, unit, _f, operators_1, op;\n            return __generator(this, function (_g) {\n                models = structure.models;\n                if (models.length !== 1)\n                    throw new Error('Can only build symmetry assemblies from structures based on 1 model.');\n                modelCenter = Vec3();\n                assembler = Structure.Builder({\n                    label: structure.label,\n                    representativeModel: models[0],\n                    dynamicBonds: structure.dynamicBonds\n                });\n                queryCtx = new QueryContext(structure);\n                for (_i = 0, generators_1 = generators; _i < generators_1.length; _i++) {\n                    g = generators_1[_i];\n                    selector = getSelector(g.asymIds);\n                    selection = selector(queryCtx);\n                    if (StructureSelection.structureCount(selection) === 0) {\n                        continue;\n                    }\n                    units = StructureSelection.unionStructure(selection).units;\n                    for (_a = 0, _b = g.operators; _a < _b.length; _a++) {\n                        _c = _b[_a], index = _c.index, _d = _c.shift, i = _d[0], j = _d[1], k = _d[2];\n                        operators = getOperatorsForIndex(symmetry, index, i, j, k, modelCenter);\n                        for (_e = 0, units_2 = units; _e < units_2.length; _e++) {\n                            unit = units_2[_e];\n                            for (_f = 0, operators_1 = operators; _f < operators_1.length; _f++) {\n                                op = operators_1[_f];\n                                assembler.addWithOperator(unit, op);\n                            }\n                        }\n                    }\n                }\n                return [2 /*return*/, assembler.getStructure()];\n            });\n        }); });\n    }\n    StructureSymmetry.buildSymmetryAssembly = buildSymmetryAssembly;\n    function builderSymmetryMates(structure, radius) {\n        return Task.create('Find Symmetry Mates', function (ctx) { return findMatesRadius(ctx, structure, radius); });\n    }\n    StructureSymmetry.builderSymmetryMates = builderSymmetryMates;\n    function buildSymmetryRange(structure, ijkMin, ijkMax) {\n        return Task.create('Build Symmetry', function (ctx) { return findSymmetryRange(ctx, structure, ijkMin, ijkMax); });\n    }\n    StructureSymmetry.buildSymmetryRange = buildSymmetryRange;\n    /** Builds NCS structure, returns the original if NCS operators are not present. */\n    function buildNcs(structure) {\n        return Task.create('Build NCS', function (ctx) { return _buildNCS(ctx, structure); });\n    }\n    StructureSymmetry.buildNcs = buildNcs;\n    function areUnitsEquivalent(a, b) {\n        return a.invariantId === b.invariantId && a.model.id === b.model.id && SortedArray.areEqual(a.elements, b.elements);\n    }\n    StructureSymmetry.areUnitsEquivalent = areUnitsEquivalent;\n    function UnitEquivalenceBuilder() {\n        return EquivalenceClasses(Unit.hashUnit, areUnitsEquivalent);\n    }\n    StructureSymmetry.UnitEquivalenceBuilder = UnitEquivalenceBuilder;\n    function computeTransformGroups(s) {\n        var groups = UnitEquivalenceBuilder();\n        for (var _i = 0, _a = s.units; _i < _a.length; _i++) {\n            var u = _a[_i];\n            groups.add(u.id, u);\n        }\n        var ret = [];\n        for (var _b = 0, _c = groups.groups; _b < _c.length; _b++) {\n            var eqUnits = _c[_b];\n            ret.push(Unit.SymmetryGroup(eqUnits.map(function (id) { return s.unitMap.get(id); })));\n        }\n        return ret;\n    }\n    StructureSymmetry.computeTransformGroups = computeTransformGroups;\n    /** Checks if transform groups are equal up to their unit's transformations */\n    function areTransformGroupsEquivalent(a, b) {\n        if (a.length !== b.length)\n            return false;\n        for (var i = 0, il = a.length; i < il; ++i) {\n            var au = a[i].units, bu = b[i].units;\n            if (au.length !== bu.length)\n                return false;\n            if (a[i].hashCode !== b[i].hashCode)\n                return false;\n            for (var j = 0, _j = au.length; j < _j; j++) {\n                if (au[j].conformation !== bu[j].conformation)\n                    return false;\n            }\n        }\n        return true;\n    }\n    StructureSymmetry.areTransformGroupsEquivalent = areTransformGroupsEquivalent;\n})(StructureSymmetry || (StructureSymmetry = {}));\nfunction getSelector(asymIds) {\n    return Q.generators.atoms({ chainTest: Q.pred.and(Q.pred.eq(function (ctx) { return StructureProperties.unit.operator_name(ctx.element); }, SymmetryOperator.DefaultName), Q.pred.inSet(function (ctx) { return StructureProperties.chain.label_asym_id(ctx.element); }, asymIds)) });\n}\nfunction getOperatorsForIndex(symmetry, index, i, j, k, modelCenter) {\n    var spacegroup = symmetry.spacegroup, ncsOperators = symmetry.ncsOperators;\n    var operators = [];\n    var toFractional = spacegroup.cell.toFractional;\n    var ref = Vec3.transformMat4(Vec3(), modelCenter, toFractional);\n    var symOp = Spacegroup.getSymmetryOperatorRef(spacegroup, index, i, j, k, ref);\n    if (ncsOperators && ncsOperators.length) {\n        for (var u = 0, ul = ncsOperators.length; u < ul; ++u) {\n            var ncsOp = ncsOperators[u];\n            var matrix = Mat4.mul(Mat4(), symOp.matrix, ncsOp.matrix);\n            var operator = SymmetryOperator.create(\"\".concat(symOp.name, \" \").concat(ncsOp.name), matrix, {\n                assembly: symOp.assembly,\n                ncsId: ncsOp.ncsId,\n                hkl: symOp.hkl,\n                spgrOp: symOp.spgrOp\n            });\n            operators.push(operator);\n        }\n    }\n    else {\n        operators.push(symOp);\n    }\n    return operators;\n}\nfunction getOperatorsForRange(symmetry, ijkMin, ijkMax, modelCenter) {\n    var spacegroup = symmetry.spacegroup, ncsOperators = symmetry.ncsOperators;\n    var ncsCount = (ncsOperators && ncsOperators.length) || 0;\n    var operators = [];\n    if (!ncsCount &&\n        ijkMin[0] <= 0 && ijkMax[0] >= 0 &&\n        ijkMin[1] <= 0 && ijkMax[1] >= 0 &&\n        ijkMin[2] <= 0 && ijkMax[2] >= 0) {\n        operators[0] = Spacegroup.getSymmetryOperator(spacegroup, 0, 0, 0, 0);\n    }\n    for (var op = 0; op < spacegroup.operators.length; op++) {\n        for (var i = ijkMin[0]; i <= ijkMax[0]; i++) {\n            for (var j = ijkMin[1]; j <= ijkMax[1]; j++) {\n                for (var k = ijkMin[2]; k <= ijkMax[2]; k++) {\n                    // check if we have added identity as the 1st operator.\n                    if (!ncsCount && op === 0 && i === 0 && j === 0 && k === 0)\n                        continue;\n                    operators.push.apply(operators, getOperatorsForIndex(symmetry, op, i, j, k, modelCenter));\n                }\n            }\n        }\n    }\n    return operators;\n}\nfunction getOperatorsCached333(symmetry, ref) {\n    if (symmetry._operators_333 && Vec3.equals(ref, symmetry._operators_333.ref)) {\n        return symmetry._operators_333.operators;\n    }\n    symmetry._operators_333 = {\n        ref: Vec3.clone(ref),\n        operators: getOperatorsForRange(symmetry, Vec3.create(-3, -3, -3), Vec3.create(3, 3, 3), ref)\n    };\n    return symmetry._operators_333.operators;\n}\nfunction assembleOperators(structure, operators) {\n    var assembler = Structure.Builder({\n        label: structure.label,\n        dynamicBonds: structure.dynamicBonds\n    });\n    var units = structure.units;\n    for (var _i = 0, operators_2 = operators; _i < operators_2.length; _i++) {\n        var oper = operators_2[_i];\n        for (var _a = 0, units_3 = units; _a < units_3.length; _a++) {\n            var unit = units_3[_a];\n            assembler.addWithOperator(unit, oper);\n        }\n    }\n    return assembler.getStructure();\n}\nfunction _buildNCS(ctx, structure) {\n    return __awaiter(this, void 0, void 0, function () {\n        var models, symmetry, operators;\n        return __generator(this, function (_a) {\n            models = structure.models;\n            if (models.length !== 1)\n                throw new Error('Can only build NCS from structures based on 1 model.');\n            symmetry = ModelSymmetry.Provider.get(models[0]);\n            if (!symmetry)\n                return [2 /*return*/, structure];\n            operators = symmetry.ncsOperators;\n            if (!operators || !operators.length)\n                return [2 /*return*/, structure];\n            return [2 /*return*/, assembleOperators(structure, operators)];\n        });\n    });\n}\nfunction findSymmetryRange(ctx, structure, ijkMin, ijkMax) {\n    return __awaiter(this, void 0, void 0, function () {\n        var models, symmetry, spacegroup, modelCenter, operators;\n        return __generator(this, function (_a) {\n            models = structure.models;\n            if (models.length !== 1)\n                throw new Error('Can only build symmetries from structures based on 1 model.');\n            symmetry = ModelSymmetry.Provider.get(models[0]);\n            if (!symmetry)\n                return [2 /*return*/, structure];\n            spacegroup = symmetry.spacegroup;\n            if (SpacegroupCell.isZero(spacegroup.cell))\n                return [2 /*return*/, structure];\n            modelCenter = Model.getCenter(models[0]);\n            operators = getOperatorsForRange(symmetry, ijkMin, ijkMax, modelCenter);\n            return [2 /*return*/, assembleOperators(structure, operators)];\n        });\n    });\n}\nfunction findMatesRadius(ctx, structure, radius) {\n    return __awaiter(this, void 0, void 0, function () {\n        function hash(unit, oper) {\n            return \"\".concat(unit.invariantId, \"|\").concat(oper.name);\n        }\n        var models, symmetry, spacegroup, modelCenter, operators, lookup, added, assembler, units, center, _i, operators_3, oper, _a, units_4, unit, boundingSphere, closeUnits, uI, _uI, closeUnit, h;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    models = structure.models;\n                    if (models.length !== 1)\n                        throw new Error('Can only build symmetries from structures based on 1 model.');\n                    symmetry = ModelSymmetry.Provider.get(models[0]);\n                    if (!symmetry)\n                        return [2 /*return*/, structure];\n                    spacegroup = symmetry.spacegroup;\n                    if (SpacegroupCell.isZero(spacegroup.cell))\n                        return [2 /*return*/, structure];\n                    if (!ctx.shouldUpdate) return [3 /*break*/, 2];\n                    return [4 /*yield*/, ctx.update('Initialing...')];\n                case 1:\n                    _b.sent();\n                    _b.label = 2;\n                case 2:\n                    modelCenter = Model.getCenter(models[0]);\n                    operators = getOperatorsCached333(symmetry, modelCenter);\n                    lookup = structure.lookup3d;\n                    added = new Set();\n                    assembler = Structure.Builder({\n                        label: structure.label,\n                        dynamicBonds: structure.dynamicBonds\n                    });\n                    units = structure.units;\n                    center = Vec3.zero();\n                    _i = 0, operators_3 = operators;\n                    _b.label = 3;\n                case 3:\n                    if (!(_i < operators_3.length)) return [3 /*break*/, 6];\n                    oper = operators_3[_i];\n                    for (_a = 0, units_4 = units; _a < units_4.length; _a++) {\n                        unit = units_4[_a];\n                        boundingSphere = unit.lookup3d.boundary.sphere;\n                        Vec3.transformMat4(center, boundingSphere.center, oper.matrix);\n                        closeUnits = lookup.findUnitIndices(center[0], center[1], center[2], boundingSphere.radius + radius);\n                        for (uI = 0, _uI = closeUnits.count; uI < _uI; uI++) {\n                            closeUnit = units[closeUnits.indices[uI]];\n                            if (!closeUnit.lookup3d.check(center[0], center[1], center[2], boundingSphere.radius + radius))\n                                continue;\n                            h = hash(unit, oper);\n                            if (!added.has(h)) {\n                                assembler.addWithOperator(unit, oper);\n                                added.add(h);\n                            }\n                        }\n                    }\n                    if (!ctx.shouldUpdate) return [3 /*break*/, 5];\n                    return [4 /*yield*/, ctx.update('Building symmetry...')];\n                case 4:\n                    _b.sent();\n                    _b.label = 5;\n                case 5:\n                    _i++;\n                    return [3 /*break*/, 3];\n                case 6: return [2 /*return*/, assembler.getStructure()];\n            }\n        });\n    });\n}\nexport { StructureSymmetry };\n","/**\n * Copyright (c) 2017 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n */\nimport { IntMap, SortedArray } from '../../../../mol-data/int';\nimport { sortArray } from '../../../../mol-data/util';\nimport { StructureSymmetry } from '../symmetry';\nimport { Structure } from '../structure';\nvar StructureSubsetBuilder = /** @class */ (function () {\n    function StructureSubsetBuilder(parent, isSorted) {\n        this.parent = parent;\n        this.isSorted = isSorted;\n        this.ids = [];\n        this.unitMap = IntMap.Mutable();\n        this.parentId = -1;\n        this.currentUnit = [];\n        this.elementCount = 0;\n    }\n    StructureSubsetBuilder.prototype.addToUnit = function (parentId, e) {\n        var unit = this.unitMap.get(parentId);\n        if (!!unit) {\n            unit[unit.length] = e;\n        }\n        else {\n            this.unitMap.set(parentId, [e]);\n            this.ids[this.ids.length] = parentId;\n        }\n        this.elementCount++;\n    };\n    StructureSubsetBuilder.prototype.beginUnit = function (parentId) {\n        this.parentId = parentId;\n        this.currentUnit = this.currentUnit.length > 0 ? [] : this.currentUnit;\n    };\n    StructureSubsetBuilder.prototype.addElement = function (e) {\n        this.currentUnit[this.currentUnit.length] = e;\n        this.elementCount++;\n    };\n    StructureSubsetBuilder.prototype.addElementRange = function (elements, start, end) {\n        for (var i = start; i < end; i++) {\n            this.currentUnit[this.currentUnit.length] = elements[i];\n            this.elementCount++;\n        }\n    };\n    StructureSubsetBuilder.prototype.commitUnit = function () {\n        if (this.currentUnit.length === 0)\n            return;\n        this.ids[this.ids.length] = this.parentId;\n        this.unitMap.set(this.parentId, this.currentUnit);\n        this.parentId = -1;\n    };\n    StructureSubsetBuilder.prototype.setUnit = function (parentId, elements) {\n        this.ids[this.ids.length] = parentId;\n        this.unitMap.set(parentId, elements);\n        this.elementCount += elements.length;\n    };\n    StructureSubsetBuilder.prototype._getStructure = function (deduplicateElements) {\n        if (this.isEmpty)\n            return Structure.Empty;\n        var newUnits = [];\n        sortArray(this.ids);\n        var symmGroups = StructureSymmetry.UnitEquivalenceBuilder();\n        for (var i = 0, _i = this.ids.length; i < _i; i++) {\n            var id = this.ids[i];\n            var parent_1 = this.parent.unitMap.get(id);\n            var unit = this.unitMap.get(id);\n            var sorted = false;\n            if (deduplicateElements) {\n                if (!this.isSorted)\n                    sortArray(unit);\n                unit = SortedArray.deduplicate(SortedArray.ofSortedArray(this.currentUnit));\n                sorted = true;\n            }\n            var l = unit.length;\n            // if the length is the same, just copy the old unit.\n            if (unit.length === parent_1.elements.length) {\n                newUnits[newUnits.length] = parent_1;\n                symmGroups.add(parent_1.id, parent_1);\n                continue;\n            }\n            if (!this.isSorted && !sorted && l > 1)\n                sortArray(unit);\n            var child = parent_1.getChild(SortedArray.ofSortedArray(unit));\n            var pivot = symmGroups.add(child.id, child);\n            if (child !== pivot)\n                child = pivot.applyOperator(child.id, child.conformation.operator, true);\n            newUnits[newUnits.length] = child;\n        }\n        return Structure.create(newUnits, { parent: this.parent });\n    };\n    StructureSubsetBuilder.prototype.getStructure = function () {\n        return this._getStructure(false);\n    };\n    StructureSubsetBuilder.prototype.getStructureDeduplicate = function () {\n        return this._getStructure(true);\n    };\n    StructureSubsetBuilder.prototype.setSingletonLocation = function (location) {\n        var id = this.ids[0];\n        location.unit = this.parent.unitMap.get(id);\n        location.element = this.unitMap.get(id)[0];\n    };\n    Object.defineProperty(StructureSubsetBuilder.prototype, \"isEmpty\", {\n        get: function () {\n            return this.elementCount === 0;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return StructureSubsetBuilder;\n}());\nexport { StructureSubsetBuilder };\n","/**\n * Copyright (c) 2018-2019 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\nfunction P(m, n) {\n    var p = 1;\n    while (n--)\n        p *= m--;\n    return p;\n}\nfunction C(m, n) {\n    if (n > m)\n        return 0;\n    return P(m, n) / P(n, n);\n}\nfunction nextIndex(n) {\n    var smallest = n & -n;\n    var ripple = n + smallest;\n    var newSmallest = ripple & -ripple;\n    var ones = ((newSmallest / smallest) >> 1) - 1;\n    return ripple | ones;\n}\n;\nvar CombinationIterator = /** @class */ (function () {\n    function CombinationIterator(array, count) {\n        this.array = array;\n        this.hasNext = false;\n        this.index = (1 << count) - 1;\n        this.size = C(array.length, count);\n        this.maxIndex = 1 << array.length,\n            this.value = new Array(count);\n        this.hasNext = count > 0 && count <= array.length;\n    }\n    CombinationIterator.prototype.move = function () {\n        if (this.hasNext) {\n            var i = 0, j = 0, n = this.index;\n            for (; n; n >>>= 1, i++) {\n                if (n & 1)\n                    this.value[j++] = this.array[i];\n            }\n            this.index = nextIndex(this.index);\n            this.hasNext = this.index < this.maxIndex;\n        }\n        return this.value;\n    };\n    return CombinationIterator;\n}());\nexport { CombinationIterator };\nexport function combinations(array, count) {\n    var out = [];\n    var combinationIt = new CombinationIterator(array, count);\n    while (combinationIt.hasNext)\n        out.push(combinationIt.move().slice());\n    return out;\n}\n","/**\n * Copyright (c) 2018-2020 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\nvar EmptyArray = [];\nexport var EmptyCarbohydrates = {\n    links: EmptyArray,\n    terminalLinks: EmptyArray,\n    elements: EmptyArray,\n    partialElements: EmptyArray,\n    getElementIndices: function () { return EmptyArray; },\n    getLinkIndices: function () { return EmptyArray; },\n    getTerminalLinkIndices: function () { return EmptyArray; },\n};\n","/**\n * Copyright (c) 2018-2022 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @author David Sehnal <david.sehnal@gmail.com>\n */\nimport { __assign } from \"tslib\";\nimport { Segmentation, SortedArray } from '../../../../mol-data/int';\nimport { combinations } from '../../../../mol-data/util/combination';\nimport { IntAdjacencyGraph } from '../../../../mol-math/graph';\nimport { Vec3 } from '../../../../mol-math/linear-algebra';\nimport { PrincipalAxes } from '../../../../mol-math/linear-algebra/matrix/principal-axes';\nimport { fillSerial, arraySetAdd } from '../../../../mol-util/array';\nimport { ElementSymbol, BondType } from '../../model/types';\nimport { getPositions } from '../../util';\nimport { Unit } from '../unit';\nimport { EmptyCarbohydrates } from './data';\nimport { UnitRings, UnitRing } from '../unit/rings';\nimport { cantorPairing } from '../../../../mol-data/util';\nvar C = ElementSymbol('C'), O = ElementSymbol('O');\nvar SugarRingFps = [\n    UnitRing.elementFingerprint([C, C, C, O]),\n    UnitRing.elementFingerprint([C, C, C, C, O]),\n    UnitRing.elementFingerprint([C, C, C, C, C, O]),\n    UnitRing.elementFingerprint([C, C, C, C, C, C, O]),\n];\nfunction getAnomericCarbon(unit, ringAtoms) {\n    var indexHasTwoOxygen = -1, indexHasOxygenAndCarbon = -1, indexHasC1Name = -1, indexIsCarbon = -1;\n    var elements = unit.elements;\n    var _a = unit.model.atomicHierarchy.atoms, type_symbol = _a.type_symbol, label_atom_id = _a.label_atom_id;\n    var _b = unit.bonds, neighbor = _b.b, offset = _b.offset;\n    for (var i = 0, il = ringAtoms.length; i < il; ++i) {\n        var ei = elements[ringAtoms[i]];\n        if (type_symbol.value(ei) !== C)\n            continue;\n        var linkedOxygenCount = 0;\n        var linkedCarbonCount = 0;\n        for (var j = offset[ringAtoms[i]], jl = offset[ringAtoms[i] + 1]; j < jl; ++j) {\n            var ej = elements[neighbor[j]];\n            var typeSymbol = type_symbol.value(ej);\n            if (typeSymbol === O)\n                ++linkedOxygenCount;\n            else if (typeSymbol === C)\n                ++linkedCarbonCount;\n        }\n        if (linkedOxygenCount === 2) {\n            // found anomeric carbon\n            indexHasTwoOxygen = ei;\n            break;\n        }\n        else if (linkedOxygenCount === 1 && linkedCarbonCount === 1) {\n            // possibly an anomeric carbon if this is a mono-saccharide without a glycosidic bond\n            indexHasOxygenAndCarbon = ei;\n        }\n        else if (label_atom_id.value(ei).startsWith('C1')) {\n            // likely the anomeric carbon as it is named C1 by convention\n            indexHasC1Name = ei;\n        }\n        else {\n            // use any carbon as a fallback\n            indexIsCarbon = ei;\n        }\n    }\n    return (indexHasTwoOxygen !== -1 ? indexHasTwoOxygen\n        : indexHasOxygenAndCarbon !== -1 ? indexHasOxygenAndCarbon\n            : indexHasC1Name !== -1 ? indexHasC1Name\n                : indexIsCarbon !== -1 ? indexIsCarbon\n                    : elements[ringAtoms[0]]);\n}\nfunction getAltId(unit, index) {\n    var elements = unit.elements;\n    var label_alt_id = unit.model.atomicHierarchy.atoms.label_alt_id;\n    return label_alt_id.value(elements[index]);\n}\nfunction getDirection(direction, unit, index, center) {\n    var position = unit.conformation.position;\n    Vec3.normalize(direction, Vec3.sub(direction, center, position(index, direction)));\n    return direction;\n}\nfunction getAtomId(unit, index) {\n    var elements = unit.elements;\n    var label_atom_id = unit.model.atomicHierarchy.atoms.label_atom_id;\n    return label_atom_id.value(elements[index]);\n}\nfunction filterFusedRings(unitRings, rings) {\n    if (!rings || !rings.length)\n        return;\n    var unit = unitRings.unit, all = unitRings.all;\n    var fusedRings = new Set();\n    var ringCombinations = combinations(fillSerial(new Array(rings.length)), 2);\n    for (var i = 0, il = ringCombinations.length; i < il; ++i) {\n        var rc = ringCombinations[i];\n        var r0 = all[rings[rc[0]]], r1 = all[rings[rc[1]]];\n        if (SortedArray.areIntersecting(r0, r1) &&\n            UnitRing.getAltId(unit, r0) === UnitRing.getAltId(unit, r1)) {\n            fusedRings.add(rings[rc[0]]);\n            fusedRings.add(rings[rc[1]]);\n        }\n    }\n    if (fusedRings.size) {\n        var filteredRings = [];\n        for (var i = 0, il = rings.length; i < il; ++i) {\n            if (!fusedRings.has(rings[i]))\n                filteredRings.push(rings[i]);\n        }\n        return filteredRings;\n    }\n    else {\n        return rings;\n    }\n}\nfunction getSaccharideComp(compId, model) {\n    return model.properties.saccharideComponentMap.get(compId);\n}\nexport function computeCarbohydrates(structure) {\n    // skip computation if there are no saccharide components in any model\n    if (structure.models.reduce(function (a, v) { return a + v.properties.saccharideComponentMap.size; }, 0) === 0)\n        return EmptyCarbohydrates;\n    var links = [];\n    var terminalLinks = [];\n    var elements = [];\n    var partialElements = [];\n    var elementsWithRingMap = new Map();\n    function ringElementKey(residueIndex, unitId, altId) {\n        return \"\".concat(residueIndex, \"|\").concat(unitId, \"|\").concat(altId);\n    }\n    function addRingElement(key, elementIndex) {\n        if (elementsWithRingMap.has(key))\n            elementsWithRingMap.get(key).push(elementIndex);\n        else\n            elementsWithRingMap.set(key, [elementIndex]);\n    }\n    function fixLinkDirection(iA, iB) {\n        Vec3.sub(elements[iA].geometry.direction, elements[iB].geometry.center, elements[iA].geometry.center);\n        Vec3.normalize(elements[iA].geometry.direction, elements[iA].geometry.direction);\n    }\n    var tmpV = Vec3();\n    function fixTerminalLinkDirection(iA, indexB, unitB) {\n        var pos = unitB.conformation.position, geo = elements[iA].geometry;\n        Vec3.sub(geo.direction, pos(unitB.elements[indexB], tmpV), geo.center);\n        Vec3.normalize(geo.direction, geo.direction);\n    }\n    // get carbohydrate elements and carbohydrate links induced by intra-residue bonds\n    for (var i = 0, il = structure.units.length; i < il; ++i) {\n        var unit = structure.units[i];\n        if (!Unit.isAtomic(unit))\n            continue;\n        var model = unit.model, rings = unit.rings;\n        var _a = model.atomicHierarchy, chainAtomSegments = _a.chainAtomSegments, residueAtomSegments = _a.residueAtomSegments, atoms = _a.atoms;\n        var label_comp_id = atoms.label_comp_id;\n        var chainIt = Segmentation.transientSegments(chainAtomSegments, unit.elements);\n        var residueIt = Segmentation.transientSegments(residueAtomSegments, unit.elements);\n        var sugarResidueMap = void 0;\n        while (chainIt.hasNext) {\n            residueIt.setSegment(chainIt.move());\n            while (residueIt.hasNext) {\n                var residueIndex = residueIt.move().index;\n                var saccharideComp = getSaccharideComp(label_comp_id.value(residueAtomSegments.offsets[residueIndex]), model);\n                if (!saccharideComp)\n                    continue;\n                if (!sugarResidueMap) {\n                    sugarResidueMap = UnitRings.byFingerprintAndResidue(rings, SugarRingFps);\n                }\n                var sugarRings = filterFusedRings(rings, sugarResidueMap.get(residueIndex));\n                if (!sugarRings || !sugarRings.length) {\n                    partialElements.push({ unit: unit, residueIndex: residueIndex, component: saccharideComp });\n                    continue;\n                }\n                var ringElements = [];\n                for (var j = 0, jl = sugarRings.length; j < jl; ++j) {\n                    var ringAtoms = rings.all[sugarRings[j]];\n                    var anomericCarbon = getAnomericCarbon(unit, ringAtoms);\n                    var ma = PrincipalAxes.calculateMomentsAxes(getPositions(unit, ringAtoms));\n                    var a = PrincipalAxes.calculateNormalizedAxes(ma);\n                    var center = Vec3.copy(Vec3(), a.origin);\n                    var normal = Vec3.copy(Vec3(), a.dirC);\n                    var direction = getDirection(Vec3(), unit, anomericCarbon, center);\n                    Vec3.orthogonalize(direction, normal, direction);\n                    var ringAltId = UnitRing.getAltId(unit, ringAtoms);\n                    var elementIndex = elements.length;\n                    ringElements.push(elementIndex);\n                    addRingElement(ringElementKey(residueIndex, unit.id, ringAltId), elementIndex);\n                    if (ringAltId)\n                        addRingElement(ringElementKey(residueIndex, unit.id, ''), elementIndex);\n                    elements.push({\n                        geometry: { center: center, normal: normal, direction: direction },\n                        component: saccharideComp,\n                        ringIndex: sugarRings[j],\n                        altId: ringAltId,\n                        unit: unit,\n                        residueIndex: residueIndex\n                    });\n                }\n                // add carbohydrate links induced by intra-residue bonds\n                // (e.g. for structures from the PDB archive __before__ carbohydrate remediation)\n                var ringCombinations = combinations(fillSerial(new Array(sugarRings.length)), 2);\n                for (var j = 0, jl = ringCombinations.length; j < jl; ++j) {\n                    var rc = ringCombinations[j];\n                    var r0 = rings.all[sugarRings[rc[0]]], r1 = rings.all[sugarRings[rc[1]]];\n                    // 1,6 glycosidic links are distance 3 and 1,4 glycosidic links are distance 2\n                    if (IntAdjacencyGraph.areVertexSetsConnected(unit.bonds, r0, r1, 3)) {\n                        var re0 = ringElements[rc[0]];\n                        var re1 = ringElements[rc[1]];\n                        if (elements[re0].altId === elements[re1].altId) {\n                            // TODO handle better, for now fix both directions as it is unclear where the C1 atom is\n                            //      would need to know the path connecting the two rings\n                            fixLinkDirection(re0, re1);\n                            fixLinkDirection(re1, re0);\n                            links.push({ carbohydrateIndexA: re0, carbohydrateIndexB: re1 });\n                            links.push({ carbohydrateIndexA: re1, carbohydrateIndexB: re0 });\n                        }\n                    }\n                }\n            }\n        }\n    }\n    function getRingElementIndices(unit, index) {\n        return elementsWithRingMap.get(ringElementKey(unit.getResidueIndex(index), unit.id, getAltId(unit, index))) || [];\n    }\n    // add carbohydrate links induced by intra-unit bonds\n    // (e.g. for structures from the PDB archive __after__ carbohydrate remediation)\n    for (var i = 0, il = elements.length; i < il; ++i) {\n        var cA = elements[i];\n        var unit = cA.unit;\n        for (var j = i + 1; j < il; ++j) {\n            var cB = elements[j];\n            if (unit !== cB.unit || cA.residueIndex === cB.residueIndex)\n                continue;\n            var rA = unit.rings.all[cA.ringIndex];\n            var rB = unit.rings.all[cB.ringIndex];\n            if (IntAdjacencyGraph.areVertexSetsConnected(unit.bonds, rA, rB, 3)) {\n                // TODO handle better, for now fix both directions as it is unclear where the C1 atom is\n                //      would need to know the path connecting the two rings\n                fixLinkDirection(i, j);\n                fixLinkDirection(j, i);\n                links.push({ carbohydrateIndexA: i, carbohydrateIndexB: j });\n                links.push({ carbohydrateIndexA: j, carbohydrateIndexB: i });\n            }\n        }\n    }\n    // get carbohydrate links induced by inter-unit bonds, that is\n    // inter monosaccharide links for structures from the\n    // PDB archive __before__ carbohydrate remediation\n    // plus terminal links for __before__ and __after__\n    for (var i = 0, il = structure.units.length; i < il; ++i) {\n        var unit = structure.units[i];\n        if (!Unit.isAtomic(unit))\n            continue;\n        structure.interUnitBonds.getConnectedUnits(unit.id).forEach(function (pairBonds) {\n            pairBonds.connectedIndices.forEach(function (indexA) {\n                pairBonds.getEdges(indexA).forEach(function (_a) {\n                    var props = _a.props, indexB = _a.indexB;\n                    if (!BondType.isCovalent(props.flag))\n                        return;\n                    var unitA = structure.unitMap.get(pairBonds.unitA);\n                    var unitB = structure.unitMap.get(pairBonds.unitB);\n                    var ringElementIndicesA = getRingElementIndices(unitA, indexA);\n                    var ringElementIndicesB = getRingElementIndices(unitB, indexB);\n                    if (ringElementIndicesA.length > 0 && ringElementIndicesB.length > 0) {\n                        var lA = ringElementIndicesA.length;\n                        var lB = ringElementIndicesB.length;\n                        for (var j = 0, jl = Math.max(lA, lB); j < jl; ++j) {\n                            var ringElementIndexA = ringElementIndicesA[Math.min(j, lA - 1)];\n                            var ringElementIndexB = ringElementIndicesB[Math.min(j, lB - 1)];\n                            var atomIdA = getAtomId(unitA, indexA);\n                            if (atomIdA.startsWith('O1') || atomIdA.startsWith('C1')) {\n                                fixLinkDirection(ringElementIndexA, ringElementIndexB);\n                            }\n                            links.push({\n                                carbohydrateIndexA: ringElementIndexA,\n                                carbohydrateIndexB: ringElementIndexB\n                            });\n                        }\n                    }\n                    else if (ringElementIndicesB.length === 0) {\n                        for (var _i = 0, ringElementIndicesA_1 = ringElementIndicesA; _i < ringElementIndicesA_1.length; _i++) {\n                            var ringElementIndexA = ringElementIndicesA_1[_i];\n                            var atomIdA = getAtomId(unitA, indexA);\n                            if (atomIdA.startsWith('O1') || atomIdA.startsWith('C1')) {\n                                fixTerminalLinkDirection(ringElementIndexA, indexB, unitB);\n                            }\n                            terminalLinks.push({\n                                carbohydrateIndex: ringElementIndexA,\n                                elementIndex: indexB,\n                                elementUnit: unitB,\n                                fromCarbohydrate: true\n                            });\n                        }\n                    }\n                    else if (ringElementIndicesA.length === 0) {\n                        for (var _b = 0, ringElementIndicesB_1 = ringElementIndicesB; _b < ringElementIndicesB_1.length; _b++) {\n                            var ringElementIndexB = ringElementIndicesB_1[_b];\n                            terminalLinks.push({\n                                carbohydrateIndex: ringElementIndexB,\n                                elementIndex: indexA,\n                                elementUnit: unitA,\n                                fromCarbohydrate: false\n                            });\n                        }\n                    }\n                });\n            });\n        });\n    }\n    return __assign({ links: links, terminalLinks: terminalLinks, elements: elements, partialElements: partialElements }, buildLookups(elements, links, terminalLinks));\n}\nfunction buildLookups(elements, links, terminalLinks) {\n    function key(unit, element) {\n        return cantorPairing(unit.id, element);\n    }\n    function getIndices(map, unit, index) {\n        var indices = [];\n        var il = map.get(key(unit, index));\n        if (il !== undefined) {\n            for (var _i = 0, il_1 = il; _i < il_1.length; _i++) {\n                var i = il_1[_i];\n                arraySetAdd(indices, i);\n            }\n        }\n        return indices;\n    }\n    // elements\n    var elementsMap = new Map();\n    for (var i = 0, il = elements.length; i < il; ++i) {\n        var _a = elements[i], unit = _a.unit, ringIndex = _a.ringIndex;\n        var ring = unit.rings.all[ringIndex];\n        for (var j = 0, jl = ring.length; j < jl; ++j) {\n            var k = key(unit, unit.elements[ring[j]]);\n            var e = elementsMap.get(k);\n            if (e === undefined)\n                elementsMap.set(k, [i]);\n            else\n                e.push(i);\n        }\n    }\n    function getElementIndices(unit, index) {\n        return getIndices(elementsMap, unit, index);\n    }\n    // links\n    var linksMap = new Map();\n    for (var i = 0, il = links.length; i < il; ++i) {\n        var l = links[i];\n        var _b = elements[l.carbohydrateIndexA], unit = _b.unit, ringIndex = _b.ringIndex;\n        var ring = unit.rings.all[ringIndex];\n        for (var j = 0, jl = ring.length; j < jl; ++j) {\n            var k = key(unit, unit.elements[ring[j]]);\n            var e = linksMap.get(k);\n            if (e === undefined)\n                linksMap.set(k, [i]);\n            else\n                e.push(i);\n        }\n    }\n    function getLinkIndices(unit, index) {\n        return getIndices(linksMap, unit, index);\n    }\n    // terminal links\n    var terminalLinksMap = new Map();\n    for (var i = 0, il = terminalLinks.length; i < il; ++i) {\n        var _c = terminalLinks[i], fromCarbohydrate = _c.fromCarbohydrate, carbohydrateIndex = _c.carbohydrateIndex, elementUnit = _c.elementUnit, elementIndex = _c.elementIndex;\n        if (fromCarbohydrate) {\n            var _d = elements[carbohydrateIndex], unit = _d.unit, ringIndex = _d.ringIndex;\n            var ring = unit.rings.all[ringIndex];\n            for (var j = 0, jl = ring.length; j < jl; ++j) {\n                var k = key(unit, unit.elements[ring[j]]);\n                var e = terminalLinksMap.get(k);\n                if (e === undefined)\n                    terminalLinksMap.set(k, [i]);\n                else\n                    e.push(i);\n            }\n        }\n        else {\n            var k = key(elementUnit, elementUnit.elements[elementIndex]);\n            var e = terminalLinksMap.get(k);\n            if (e === undefined)\n                terminalLinksMap.set(k, [i]);\n            else\n                e.push(i);\n        }\n    }\n    function getTerminalLinkIndices(unit, index) {\n        return getIndices(terminalLinksMap, unit, index);\n    }\n    return { getElementIndices: getElementIndices, getLinkIndices: getLinkIndices, getTerminalLinkIndices: getTerminalLinkIndices };\n}\n","/**\n * Copyright (c) 2018-2020 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\nimport { Sphere3D } from '../../../../mol-math/geometry';\nimport { BoundaryHelper } from '../../../../mol-math/geometry/boundary-helper';\nvar tmpSphere = Sphere3D();\nvar boundaryHelperCoarse = new BoundaryHelper('14');\nvar boundaryHelperFine = new BoundaryHelper('98');\nfunction getBoundaryHelper(count) {\n    return count > 500 ? boundaryHelperCoarse : boundaryHelperFine;\n}\nexport function computeStructureBoundary(s) {\n    var units = s.units;\n    var boundaryHelper = getBoundaryHelper(units.length);\n    boundaryHelper.reset();\n    for (var i = 0, _i = units.length; i < _i; i++) {\n        var u = units[i];\n        var invariantBoundary = u.boundary;\n        var o = u.conformation.operator;\n        if (o.isIdentity) {\n            boundaryHelper.includeSphere(invariantBoundary.sphere);\n        }\n        else {\n            Sphere3D.transform(tmpSphere, invariantBoundary.sphere, o.matrix);\n            boundaryHelper.includeSphere(tmpSphere);\n        }\n    }\n    boundaryHelper.finishedIncludeStep();\n    for (var i = 0, _i = units.length; i < _i; i++) {\n        var u = units[i];\n        var invariantBoundary = u.boundary;\n        var o = u.conformation.operator;\n        if (o.isIdentity) {\n            boundaryHelper.radiusSphere(invariantBoundary.sphere);\n        }\n        else {\n            Sphere3D.transform(tmpSphere, invariantBoundary.sphere, o.matrix);\n            boundaryHelper.radiusSphere(tmpSphere);\n        }\n    }\n    return { box: boundaryHelper.getBox(), sphere: boundaryHelper.getSphere() };\n}\n","/**\n * Copyright (c) 2017-2023 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\nimport { __assign, __awaiter, __generator } from \"tslib\";\nimport { IntMap, SortedArray, Segmentation, Interval, OrderedSet } from '../../../mol-data/int';\nimport { UniqueArray } from '../../../mol-data/generic';\nimport { SymmetryOperator } from '../../../mol-math/geometry/symmetry-operator';\nimport { Model } from '../model';\nimport { sort, arraySwap, hash1, sortArray, hashString, hashFnv32a } from '../../../mol-data/util';\nimport { StructureElement } from './element';\nimport { Unit } from './unit';\nimport { StructureLookup3D } from './util/lookup3d';\nimport { StructureSubsetBuilder } from './util/subset-builder';\nimport { InterUnitBonds, computeInterUnitBonds, Bond } from './unit/bonds';\nimport { StructureSymmetry } from './symmetry';\nimport { StructureProperties } from './properties';\nimport { computeCarbohydrates } from './carbohydrates/compute';\nimport { Vec3, Mat4 } from '../../../mol-math/linear-algebra';\nimport { idFactory } from '../../../mol-util/id-factory';\nimport { GridLookup3D } from '../../../mol-math/geometry';\nimport { CustomProperties } from '../../custom-property';\nimport { AtomicHierarchy } from '../model/properties/atomic';\nimport { StructureSelection } from '../query/selection';\nimport { getBoundary } from '../../../mol-math/geometry/boundary';\nimport { CustomStructureProperty } from '../../../mol-model-props/common/custom-structure-property';\nimport { Task } from '../../../mol-task';\nimport { computeStructureBoundary } from './util/boundary';\nvar Structure = /** @class */ (function () {\n    /**\n     * @param units Array of all units in the structure, sorted by unit.id\n     * @param unitMap Maps unit.id to index of unit in units array\n     * @param unitIndexMap Array of all units in the structure, sorted by unit.id\n     */\n    function Structure(units, unitMap, unitIndexMap, state, asParent) {\n        this.units = units;\n        this.unitMap = unitMap;\n        this.unitIndexMap = unitIndexMap;\n        this.state = state;\n        // always assign to ensure object shape\n        this._child = asParent === null || asParent === void 0 ? void 0 : asParent.child;\n        this._target = asParent === null || asParent === void 0 ? void 0 : asParent.target;\n        this._proxy = undefined;\n    }\n    Structure.prototype.subsetBuilder = function (isSorted) {\n        return new StructureSubsetBuilder(this, isSorted);\n    };\n    Object.defineProperty(Structure.prototype, \"elementCount\", {\n        /** Count of all elements in the structure, i.e. the sum of the elements in the units */\n        get: function () {\n            return this.state.elementCount;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Structure.prototype, \"bondCount\", {\n        /** Count of all bonds (intra- and inter-unit) in the structure */\n        get: function () {\n            if (this.state.bondCount === -1) {\n                this.state.bondCount = this.interUnitBonds.edgeCount + Bond.getIntraUnitBondCount(this);\n            }\n            return this.state.bondCount;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Structure.prototype, \"hasCustomProperties\", {\n        get: function () {\n            return !!this.state.customProps && this.state.customProps.all.length > 0;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Structure.prototype, \"customPropertyDescriptors\", {\n        get: function () {\n            if (!this.state.customProps)\n                this.state.customProps = new CustomProperties();\n            return this.state.customProps;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Structure.prototype, \"currentPropertyData\", {\n        /**\n         * Property data unique to this instance of the structure.\n         */\n        get: function () {\n            if (!this.state.propertyData)\n                this.state.propertyData = Object.create(null);\n            return this.state.propertyData;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Structure.prototype, \"inheritedPropertyData\", {\n        /**\n         * Property data of the parent structure if it exists, currentPropertyData otherwise.\n         */\n        get: function () {\n            return this.parent ? this.parent.currentPropertyData : this.currentPropertyData;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Structure.prototype, \"polymerResidueCount\", {\n        /** Count of all polymer residues in the structure */\n        get: function () {\n            if (this.state.polymerResidueCount === -1) {\n                this.state.polymerResidueCount = getPolymerResidueCount(this);\n            }\n            return this.state.polymerResidueCount;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Structure.prototype, \"polymerGapCount\", {\n        /** Count of all polymer gaps in the structure */\n        get: function () {\n            if (this.state.polymerGapCount === -1) {\n                this.state.polymerGapCount = getPolymerGapCount(this);\n            }\n            return this.state.polymerGapCount;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Structure.prototype, \"polymerUnitCount\", {\n        get: function () {\n            if (this.state.polymerUnitCount === -1) {\n                this.state.polymerUnitCount = getPolymerUnitCount(this);\n            }\n            return this.state.polymerUnitCount;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Structure.prototype, \"uniqueElementCount\", {\n        get: function () {\n            if (this.state.uniqueElementCount === -1) {\n                this.state.uniqueElementCount = getUniqueElementCount(this);\n            }\n            return this.state.uniqueElementCount;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Structure.prototype, \"atomicResidueCount\", {\n        get: function () {\n            if (this.state.atomicResidueCount === -1) {\n                this.state.atomicResidueCount = getAtomicResidueCount(this);\n            }\n            return this.state.atomicResidueCount;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Structure.prototype, \"isCoarseGrained\", {\n        /**\n         * True if any model the structure is based on is coarse grained.\n         * @see Model.isCoarseGrained\n         */\n        get: function () {\n            return this.models.some(function (m) { return Model.isCoarseGrained(m); });\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Structure.prototype, \"isEmpty\", {\n        get: function () {\n            return this.units.length === 0;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Structure.prototype, \"hashCode\", {\n        get: function () {\n            if (this.state.hashCode !== -1)\n                return this.state.hashCode;\n            return this.computeHash();\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Structure.prototype, \"transformHash\", {\n        /** Hash based on all unit.id values in the structure, reflecting the units transformation */\n        get: function () {\n            if (this.state.transformHash !== -1)\n                return this.state.transformHash;\n            this.state.transformHash = hashFnv32a(this.units.map(function (u) { return u.id; }));\n            return this.state.transformHash;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Structure.prototype.computeHash = function () {\n        var hash = 23;\n        for (var i = 0, _i = this.units.length; i < _i; i++) {\n            var u = this.units[i];\n            hash = (31 * hash + u.id) | 0;\n            hash = (31 * hash + SortedArray.hashCode(u.elements)) | 0;\n        }\n        hash = (31 * hash + this.elementCount) | 0;\n        hash = hash1(hash);\n        if (hash === -1)\n            hash = 0;\n        this.state.hashCode = hash;\n        return hash;\n    };\n    /** Returns a new element location iterator */\n    Structure.prototype.elementLocations = function () {\n        return new Structure.ElementLocationIterator(this);\n    };\n    Object.defineProperty(Structure.prototype, \"root\", {\n        /** The parent or itself in case this is the root */\n        get: function () {\n            var _a;\n            return (_a = this.state.parent) !== null && _a !== void 0 ? _a : this;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Structure.prototype, \"parent\", {\n        /** The root/top-most parent or `undefined` in case this is the root */\n        get: function () {\n            return this.state.parent;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Structure.prototype, \"coordinateSystem\", {\n        /**\n         * Conformation transformation that was applied to every unit of this structure.\n         *\n         * Coordinate system applies to the *current* structure only.\n         * A parent structure can have a different coordinate system and thefore it has to be composed \"manualy\"\n         * by the consumer.\n         */\n        get: function () {\n            return this.state.coordinateSystem;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Structure.prototype, \"label\", {\n        get: function () {\n            return this.state.label;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Structure.prototype, \"boundary\", {\n        get: function () {\n            if (this.state.boundary)\n                return this.state.boundary;\n            this.state.boundary = computeStructureBoundary(this);\n            return this.state.boundary;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Structure.prototype, \"lookup3d\", {\n        get: function () {\n            if (this.state.lookup3d)\n                return this.state.lookup3d;\n            this.state.lookup3d = new StructureLookup3D(this);\n            return this.state.lookup3d;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Structure.prototype, \"interUnitBonds\", {\n        get: function () {\n            if (this.state.interUnitBonds)\n                return this.state.interUnitBonds;\n            if (this.parent && this.state.dynamicBonds === this.parent.state.dynamicBonds &&\n                this.parent.state.interUnitBonds && this.parent.state.interUnitBonds.edgeCount === 0) {\n                // no need to compute InterUnitBonds if parent's ones are empty\n                this.state.interUnitBonds = new InterUnitBonds(new Map());\n            }\n            else {\n                this.state.interUnitBonds = computeInterUnitBonds(this, {\n                    ignoreWater: !this.dynamicBonds,\n                    ignoreIon: !this.dynamicBonds,\n                    validUnit: this.state.interBondsValidUnit,\n                    validUnitPair: this.state.interBondsValidUnitPair,\n                });\n            }\n            return this.state.interUnitBonds;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Structure.prototype, \"dynamicBonds\", {\n        get: function () {\n            return this.state.dynamicBonds;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Structure.prototype, \"interBondsValidUnit\", {\n        get: function () {\n            return this.state.interBondsValidUnit;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Structure.prototype, \"interBondsValidUnitPair\", {\n        get: function () {\n            return this.state.interBondsValidUnitPair;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Structure.prototype, \"unitSymmetryGroups\", {\n        get: function () {\n            if (this.state.unitSymmetryGroups)\n                return this.state.unitSymmetryGroups;\n            this.state.unitSymmetryGroups = StructureSymmetry.computeTransformGroups(this);\n            return this.state.unitSymmetryGroups;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Structure.prototype, \"unitSymmetryGroupsIndexMap\", {\n        /** Maps unit.id to index of SymmetryGroup in unitSymmetryGroups array */\n        get: function () {\n            if (this.state.unitSymmetryGroupsIndexMap)\n                return this.state.unitSymmetryGroupsIndexMap;\n            this.state.unitSymmetryGroupsIndexMap = Unit.SymmetryGroup.getUnitSymmetryGroupsIndexMap(this.unitSymmetryGroups);\n            return this.state.unitSymmetryGroupsIndexMap;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Structure.prototype, \"carbohydrates\", {\n        get: function () {\n            if (this.state.carbohydrates)\n                return this.state.carbohydrates;\n            this.state.carbohydrates = computeCarbohydrates(this);\n            return this.state.carbohydrates;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Structure.prototype, \"models\", {\n        get: function () {\n            if (this.state.models)\n                return this.state.models;\n            this.state.models = getModels(this);\n            return this.state.models;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Structure.prototype, \"uniqueResidueNames\", {\n        get: function () {\n            return this.state.uniqueResidueNames\n                || (this.state.uniqueResidueNames = getUniqueResidueNames(this));\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Structure.prototype, \"uniqueElementSymbols\", {\n        get: function () {\n            return this.state.uniqueElementSymbols\n                || (this.state.uniqueElementSymbols = getUniqueElementSymbols(this));\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Structure.prototype, \"entityIndices\", {\n        get: function () {\n            return this.state.entityIndices\n                || (this.state.entityIndices = getEntityIndices(this));\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Structure.prototype, \"uniqueAtomicResidueIndices\", {\n        get: function () {\n            return this.state.uniqueAtomicResidueIndices\n                || (this.state.uniqueAtomicResidueIndices = getUniqueAtomicResidueIndices(this));\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Structure.prototype, \"isAtomic\", {\n        /** Contains only atomic units */\n        get: function () {\n            for (var _a = 0, _b = this.units; _a < _b.length; _a++) {\n                var u = _b[_a];\n                if (!Unit.isAtomic(u))\n                    return false;\n            }\n            return true;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Structure.prototype, \"hasAtomic\", {\n        /** Contains some atomic units */\n        get: function () {\n            for (var _a = 0, _b = this.units; _a < _b.length; _a++) {\n                var u = _b[_a];\n                if (Unit.isAtomic(u))\n                    return true;\n            }\n            return false;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Structure.prototype, \"isCoarse\", {\n        /** Contains only coarse units */\n        get: function () {\n            for (var _a = 0, _b = this.units; _a < _b.length; _a++) {\n                var u = _b[_a];\n                if (!Unit.isCoarse(u))\n                    return false;\n            }\n            return true;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Structure.prototype, \"hasCoarse\", {\n        /** Contains some coarse units */\n        get: function () {\n            for (var _a = 0, _b = this.units; _a < _b.length; _a++) {\n                var u = _b[_a];\n                if (Unit.isCoarse(u))\n                    return true;\n            }\n            return false;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Structure.prototype, \"serialMapping\", {\n        /**\n         * Provides mapping for serial element indices accross all units.\n         *\n         * Note that this is especially costly for structures with many units that are grouped\n         * into few symmetry groups. Use only when needed and prefer `StructureElement`\n         * to address elements in a structure.\n         */\n        get: function () {\n            return this.state.serialMapping || (this.state.serialMapping = getSerialMapping(this));\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Structure.prototype, \"model\", {\n        /**\n         * If the structure is based on a single model or has a master-/representative-model, return it.\n         * Otherwise throw an exception.\n         */\n        get: function () {\n            if (this.state.model)\n                return this.state.model;\n            if (this.state.representativeModel)\n                return this.state.representativeModel;\n            if (this.state.masterModel)\n                return this.state.masterModel;\n            var models = this.models;\n            if (models.length > 1) {\n                throw new Error('The structure is based on multiple models and has neither a master- nor a representative-model.');\n            }\n            this.state.model = models[0];\n            return this.state.model;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Structure.prototype, \"masterModel\", {\n        /** The master-model, other models can have bonds to it  */\n        get: function () {\n            return this.state.masterModel;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Structure.prototype, \"representativeModel\", {\n        /** A representative model, e.g. the first model of a trajectory */\n        get: function () {\n            return this.state.representativeModel;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Structure.prototype.hasElement = function (e) {\n        if (!this.unitMap.has(e.unit.id))\n            return false;\n        return SortedArray.has(this.unitMap.get(e.unit.id).elements, e.element);\n    };\n    Structure.prototype.getModelIndex = function (m) {\n        return this.models.indexOf(m);\n    };\n    Structure.prototype.remapModel = function (m) {\n        var _a = this.state, dynamicBonds = _a.dynamicBonds, interUnitBonds = _a.interUnitBonds, parent = _a.parent;\n        var units = [];\n        for (var _b = 0, _c = this.unitSymmetryGroups; _b < _c.length; _b++) {\n            var ug = _c[_b];\n            var unit = ug.units[0].remapModel(m, dynamicBonds);\n            units.push(unit);\n            for (var i = 1, il = ug.units.length; i < il; ++i) {\n                var u = ug.units[i];\n                units.push(u.remapModel(m, dynamicBonds, unit.props));\n            }\n        }\n        return Structure.create(units, {\n            parent: parent === null || parent === void 0 ? void 0 : parent.remapModel(m),\n            label: this.label,\n            interUnitBonds: dynamicBonds ? undefined : interUnitBonds,\n            dynamicBonds: dynamicBonds,\n            interBondsValidUnit: this.state.interBondsValidUnit,\n            interBondsValidUnitPair: this.state.interBondsValidUnitPair,\n            coordinateSystem: this.state.coordinateSystem,\n            masterModel: this.state.masterModel,\n            representativeModel: this.state.representativeModel,\n        });\n    };\n    /**\n     * For `structure` with `parent` this returns a proxy that\n     * targets `parent` and has `structure` attached as a child.\n     */\n    Structure.prototype.asParent = function () {\n        if (this._proxy)\n            return this._proxy;\n        if (this.parent) {\n            var p = this.parent.coordinateSystem.isIdentity ? this.parent : Structure.transform(this.parent, this.parent.coordinateSystem.inverse);\n            var s = this.coordinateSystem.isIdentity ? p : Structure.transform(p, this.coordinateSystem.matrix);\n            this._proxy = new Structure(s.units, s.unitMap, s.unitIndexMap, __assign(__assign({}, s.state), { dynamicBonds: this.dynamicBonds }), { child: this, target: this.parent });\n        }\n        else {\n            this._proxy = this;\n        }\n        return this._proxy;\n    };\n    Object.defineProperty(Structure.prototype, \"child\", {\n        get: function () {\n            return this._child;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Structure.prototype, \"target\", {\n        /** Get the proxy target. Usefull for equality checks. */\n        get: function () {\n            var _a;\n            return (_a = this._target) !== null && _a !== void 0 ? _a : this;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return Structure;\n}());\nfunction cmpUnits(units, i, j) {\n    return units[i].id - units[j].id;\n}\nfunction getModels(s) {\n    var units = s.units;\n    var arr = UniqueArray.create();\n    for (var _a = 0, units_1 = units; _a < units_1.length; _a++) {\n        var u = units_1[_a];\n        UniqueArray.add(arr, u.model.id, u.model);\n    }\n    return arr.array;\n}\nfunction getUniqueResidueNames(s) {\n    var microheterogeneityCompIds = StructureProperties.residue.microheterogeneityCompIds;\n    var names = new Set();\n    var loc = StructureElement.Location.create(s);\n    for (var _a = 0, _b = s.unitSymmetryGroups; _a < _b.length; _a++) {\n        var unitGroup = _b[_a];\n        var unit = unitGroup.units[0];\n        // TODO: support coarse unit?\n        if (!Unit.isAtomic(unit))\n            continue;\n        var residues = Segmentation.transientSegments(unit.model.atomicHierarchy.residueAtomSegments, unit.elements);\n        loc.unit = unit;\n        while (residues.hasNext) {\n            var seg = residues.move();\n            loc.element = unit.elements[seg.start];\n            var compIds = microheterogeneityCompIds(loc);\n            for (var _c = 0, compIds_1 = compIds; _c < compIds_1.length; _c++) {\n                var compId = compIds_1[_c];\n                names.add(compId);\n            }\n        }\n    }\n    return names;\n}\nfunction getUniqueElementSymbols(s) {\n    var prop = StructureProperties.atom.type_symbol;\n    var symbols = new Set();\n    var loc = StructureElement.Location.create(s);\n    for (var _a = 0, _b = s.unitSymmetryGroups; _a < _b.length; _a++) {\n        var unitGroup = _b[_a];\n        var unit = unitGroup.units[0];\n        if (!Unit.isAtomic(unit))\n            continue;\n        loc.unit = unit;\n        for (var i = 0, il = unit.elements.length; i < il; ++i) {\n            loc.element = unit.elements[i];\n            symbols.add(prop(loc));\n        }\n    }\n    return symbols;\n}\nfunction getEntityIndices(structure) {\n    var units = structure.units;\n    var l = StructureElement.Location.create(structure);\n    var keys = UniqueArray.create();\n    for (var _a = 0, units_2 = units; _a < units_2.length; _a++) {\n        var unit = units_2[_a];\n        var prop = unit.kind === 0 /* Unit.Kind.Atomic */ ? StructureProperties.entity.key : StructureProperties.coarse.entityKey;\n        l.unit = unit;\n        var elements = unit.elements;\n        var chainsIt = Segmentation.transientSegments(unit.model.atomicHierarchy.chainAtomSegments, elements);\n        while (chainsIt.hasNext) {\n            var chainSegment = chainsIt.move();\n            l.element = elements[chainSegment.start];\n            var key = prop(l);\n            UniqueArray.add(keys, key, key);\n        }\n    }\n    sortArray(keys.array);\n    return keys.array;\n}\nfunction getUniqueAtomicResidueIndices(structure) {\n    var map = new Map();\n    var modelIds = [];\n    var unitGroups = structure.unitSymmetryGroups;\n    for (var _a = 0, unitGroups_1 = unitGroups; _a < unitGroups_1.length; _a++) {\n        var unitGroup = unitGroups_1[_a];\n        var unit = unitGroup.units[0];\n        if (!Unit.isAtomic(unit))\n            continue;\n        var uniqueResidues = void 0;\n        if (map.has(unit.model.id))\n            uniqueResidues = map.get(unit.model.id);\n        else {\n            uniqueResidues = UniqueArray.create();\n            modelIds.push(unit.model.id);\n            map.set(unit.model.id, uniqueResidues);\n        }\n        var residues = Segmentation.transientSegments(unit.model.atomicHierarchy.residueAtomSegments, unit.elements);\n        while (residues.hasNext) {\n            var seg = residues.move();\n            UniqueArray.add(uniqueResidues, seg.index, seg.index);\n        }\n    }\n    var ret = new Map();\n    for (var _b = 0, modelIds_1 = modelIds; _b < modelIds_1.length; _b++) {\n        var id = modelIds_1[_b];\n        var array = map.get(id).array;\n        sortArray(array);\n        ret.set(id, array);\n    }\n    return ret;\n}\nfunction getUniqueElementCount(structure) {\n    var unitSymmetryGroups = structure.unitSymmetryGroups;\n    var uniqueElementCount = 0;\n    for (var i = 0, _i = unitSymmetryGroups.length; i < _i; i++) {\n        uniqueElementCount += unitSymmetryGroups[i].elements.length;\n    }\n    return uniqueElementCount;\n}\nfunction getPolymerResidueCount(structure) {\n    var units = structure.units;\n    var polymerResidueCount = 0;\n    for (var i = 0, _i = units.length; i < _i; i++) {\n        polymerResidueCount += units[i].polymerElements.length;\n    }\n    return polymerResidueCount;\n}\nfunction getPolymerGapCount(structure) {\n    var units = structure.units;\n    var polymerGapCount = 0;\n    for (var i = 0, _i = units.length; i < _i; i++) {\n        polymerGapCount += units[i].gapElements.length / 2;\n    }\n    return polymerGapCount;\n}\nfunction getPolymerUnitCount(structure) {\n    var units = structure.units;\n    var polymerUnitCount = 0;\n    for (var i = 0, _i = units.length; i < _i; i++) {\n        if (units[i].polymerElements.length > 0)\n            polymerUnitCount += 1;\n    }\n    return polymerUnitCount;\n}\nfunction getAtomicResidueCount(structure) {\n    var units = structure.units;\n    var atomicResidueCount = 0;\n    for (var i = 0, _i = units.length; i < _i; i++) {\n        var unit = units[i];\n        if (!Unit.isAtomic(unit))\n            continue;\n        var elements = unit.elements, residueIndex = unit.residueIndex;\n        var idx = -1;\n        var prevIdx = -1;\n        for (var j = 0, jl = elements.length; j < jl; ++j) {\n            idx = residueIndex[elements[j]];\n            if (idx !== prevIdx) {\n                atomicResidueCount += 1;\n                prevIdx = idx;\n            }\n        }\n    }\n    return atomicResidueCount;\n}\nfunction getSerialMapping(structure) {\n    var units = structure.units, elementCount = structure.elementCount, unitIndexMap = structure.unitIndexMap;\n    var cumulativeUnitElementCount = new Uint32Array(units.length);\n    var unitIndices = new Uint32Array(elementCount);\n    var elementIndices = new Uint32Array(elementCount);\n    for (var i = 0, m = 0, il = units.length; i < il; ++i) {\n        cumulativeUnitElementCount[i] = m;\n        var elements = units[i].elements;\n        for (var j = 0, jl = elements.length; j < jl; ++j) {\n            var mj = m + j;\n            unitIndices[mj] = i;\n            elementIndices[mj] = elements[j];\n        }\n        m += elements.length;\n    }\n    return {\n        cumulativeUnitElementCount: cumulativeUnitElementCount,\n        unitIndices: unitIndices,\n        elementIndices: elementIndices,\n        getSerialIndex: function (unit, element) { return cumulativeUnitElementCount[unitIndexMap.get(unit.id)] + OrderedSet.indexOf(unit.elements, element); }\n    };\n}\n(function (Structure) {\n    Structure.Empty = create([]);\n    function Loci(structure) {\n        return { kind: 'structure-loci', structure: structure };\n    }\n    Structure.Loci = Loci;\n    function toStructureElementLoci(structure) {\n        var elements = [];\n        for (var _a = 0, _b = structure.units; _a < _b.length; _a++) {\n            var unit = _b[_a];\n            elements.push({ unit: unit, indices: Interval.ofBounds(0, unit.elements.length) });\n        }\n        return StructureElement.Loci(structure, elements);\n    }\n    Structure.toStructureElementLoci = toStructureElementLoci;\n    function toSubStructureElementLoci(parent, structure) {\n        return StructureSelection.toLociWithSourceUnits(StructureSelection.Singletons(parent, structure));\n    }\n    Structure.toSubStructureElementLoci = toSubStructureElementLoci;\n    function isLoci(x) {\n        return !!x && x.kind === 'structure-loci';\n    }\n    Structure.isLoci = isLoci;\n    function areLociEqual(a, b) {\n        return a.structure === b.structure;\n    }\n    Structure.areLociEqual = areLociEqual;\n    function isLociEmpty(loci) {\n        return loci.structure.isEmpty;\n    }\n    Structure.isLociEmpty = isLociEmpty;\n    function remapLoci(loci, structure) {\n        if (structure === loci.structure)\n            return loci;\n        return Loci(structure);\n    }\n    Structure.remapLoci = remapLoci;\n    function create(units, props) {\n        if (props === void 0) { props = {}; }\n        // init units\n        var unitMap = IntMap.Mutable();\n        var unitIndexMap = IntMap.Mutable();\n        var elementCount = 0;\n        var isSorted = true;\n        var lastId = units.length > 0 ? units[0].id : 0;\n        for (var i = 0, _i = units.length; i < _i; i++) {\n            var u = units[i];\n            unitMap.set(u.id, u);\n            elementCount += u.elements.length;\n            if (u.id < lastId)\n                isSorted = false;\n            lastId = u.id;\n        }\n        if (!isSorted)\n            sort(units, 0, units.length, cmpUnits, arraySwap);\n        for (var i = 0, _i = units.length; i < _i; i++) {\n            unitIndexMap.set(units[i].id, i);\n        }\n        // initial state\n        var state = {\n            hashCode: -1,\n            transformHash: -1,\n            elementCount: elementCount,\n            bondCount: -1,\n            uniqueElementCount: -1,\n            atomicResidueCount: -1,\n            polymerResidueCount: -1,\n            polymerGapCount: -1,\n            polymerUnitCount: -1,\n            dynamicBonds: false,\n            coordinateSystem: SymmetryOperator.Default,\n            label: ''\n        };\n        // handle props\n        if (props.parent)\n            state.parent = props.parent.parent || props.parent;\n        if (props.interUnitBonds)\n            state.interUnitBonds = props.interUnitBonds;\n        if (props.interBondsValidUnit)\n            state.interBondsValidUnit = props.interBondsValidUnit;\n        else if (props.parent)\n            state.interBondsValidUnit = props.parent.interBondsValidUnit;\n        if (props.interBondsValidUnitPair)\n            state.interBondsValidUnitPair = props.interBondsValidUnitPair;\n        else if (props.parent)\n            state.interBondsValidUnitPair = props.parent.interBondsValidUnitPair;\n        if (props.dynamicBonds)\n            state.dynamicBonds = props.dynamicBonds;\n        else if (props.parent)\n            state.dynamicBonds = props.parent.dynamicBonds;\n        if (props.coordinateSystem)\n            state.coordinateSystem = props.coordinateSystem;\n        else if (props.parent)\n            state.coordinateSystem = props.parent.coordinateSystem;\n        if (props.label)\n            state.label = props.label;\n        else if (props.parent)\n            state.label = props.parent.label;\n        if (props.masterModel)\n            state.masterModel = props.masterModel;\n        else if (props.parent)\n            state.masterModel = props.parent.masterModel;\n        if (props.representativeModel)\n            state.representativeModel = props.representativeModel;\n        else if (props.parent)\n            state.representativeModel = props.parent.representativeModel;\n        return new Structure(units, unitMap, unitIndexMap, state);\n    }\n    Structure.create = create;\n    function ofTrajectory(trajectory, ctx) {\n        return __awaiter(this, void 0, void 0, function () {\n            var units, first, count, i, il, frame, structure, j, jl, u, invariantId, chainGroupId, newUnit;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (trajectory.frameCount === 0)\n                            return [2 /*return*/, Structure.Empty];\n                        units = [];\n                        first = void 0;\n                        count = 0;\n                        i = 0, il = trajectory.frameCount;\n                        _a.label = 1;\n                    case 1:\n                        if (!(i < il)) return [3 /*break*/, 4];\n                        return [4 /*yield*/, Task.resolveInContext(trajectory.getFrameAtIndex(i), ctx)];\n                    case 2:\n                        frame = _a.sent();\n                        if (!first)\n                            first = frame;\n                        structure = ofModel(frame);\n                        for (j = 0, jl = structure.units.length; j < jl; ++j) {\n                            u = structure.units[j];\n                            invariantId = u.invariantId + count;\n                            chainGroupId = u.chainGroupId + count;\n                            newUnit = Unit.create(units.length, invariantId, chainGroupId, u.traits, u.kind, u.model, u.conformation.operator, u.elements);\n                            units.push(newUnit);\n                        }\n                        count = units.length;\n                        _a.label = 3;\n                    case 3:\n                        ++i;\n                        return [3 /*break*/, 1];\n                    case 4: return [2 /*return*/, create(units, { representativeModel: first, label: first.label })];\n                }\n            });\n        });\n    }\n    Structure.ofTrajectory = ofTrajectory;\n    var PARTITION = false;\n    /**\n     * Construct a Structure from a model.\n     *\n     * Generally, a single unit corresponds to a single chain, with the exception\n     * of consecutive \"single atom chains\" with same entity_id and same auth_asym_id.\n     */\n    function ofModel(model, props) {\n        if (props === void 0) { props = {}; }\n        var chains = model.atomicHierarchy.chainAtomSegments;\n        var index = model.atomicHierarchy.index;\n        var auth_asym_id = model.atomicHierarchy.chains.auth_asym_id;\n        var atomicChainOperatorMappinng = model.atomicChainOperatorMappinng;\n        var builder = new StructureBuilder(__assign({ label: model.label }, props));\n        for (var c = 0; c < chains.count; c++) {\n            var operator = atomicChainOperatorMappinng.get(c) || SymmetryOperator.Default;\n            var start = chains.offsets[c];\n            // set to true for chains that consist of \"single atom residues\",\n            // note that it assumes there are no \"zero atom residues\"\n            var singleAtomResidues = AtomicHierarchy.chainResidueCount(model.atomicHierarchy, c) === chains.offsets[c + 1] - chains.offsets[c];\n            var multiChain = false;\n            if (isWaterChain(model, c)) {\n                // merge consecutive water chains\n                while (c + 1 < chains.count && isWaterChain(model, c + 1)) {\n                    var op1 = atomicChainOperatorMappinng.get(c);\n                    var op2 = atomicChainOperatorMappinng.get(c + 1);\n                    if (op1 !== op2)\n                        break;\n                    multiChain = true;\n                    c++;\n                }\n            }\n            else {\n                // merge consecutive \"single atom chains\" with same entity_id and auth_asym_id\n                while (c + 1 < chains.count\n                    && chains.offsets[c + 1] - chains.offsets[c] === 1\n                    && chains.offsets[c + 2] - chains.offsets[c + 1] === 1) {\n                    singleAtomResidues = true;\n                    var e1 = index.getEntityFromChain(c);\n                    var e2 = index.getEntityFromChain(c + 1);\n                    if (e1 !== e2)\n                        break;\n                    var a1 = auth_asym_id.value(c);\n                    var a2 = auth_asym_id.value(c + 1);\n                    if (a1 !== a2)\n                        break;\n                    var op1 = atomicChainOperatorMappinng.get(c);\n                    var op2 = atomicChainOperatorMappinng.get(c + 1);\n                    if (op1 !== op2)\n                        break;\n                    multiChain = true;\n                    c++;\n                }\n            }\n            var elements = SortedArray.ofBounds(start, chains.offsets[c + 1]);\n            if (PARTITION) {\n                // check for polymer to exclude CA/P-only models\n                if (singleAtomResidues && !isPolymerChain(model, c)) {\n                    partitionAtomicUnitByAtom(model, elements, builder, multiChain, operator);\n                }\n                else if (elements.length > 200000 || isWaterChain(model, c)) {\n                    // split up very large chains e.g. lipid bilayers, micelles or water with explicit H\n                    partitionAtomicUnitByResidue(model, elements, builder, multiChain, operator);\n                }\n                else {\n                    builder.addUnit(0 /* Unit.Kind.Atomic */, model, operator, elements, multiChain ? Unit.Trait.MultiChain : Unit.Trait.None);\n                }\n            }\n            else {\n                builder.addUnit(0 /* Unit.Kind.Atomic */, model, operator, elements, multiChain ? Unit.Trait.MultiChain : Unit.Trait.None);\n            }\n        }\n        var cs = model.coarseHierarchy;\n        if (cs.isDefined) {\n            if (cs.spheres.count > 0) {\n                addCoarseUnits(builder, model, model.coarseHierarchy.spheres, 1 /* Unit.Kind.Spheres */);\n            }\n            if (cs.gaussians.count > 0) {\n                addCoarseUnits(builder, model, model.coarseHierarchy.gaussians, 2 /* Unit.Kind.Gaussians */);\n            }\n        }\n        return builder.getStructure();\n    }\n    Structure.ofModel = ofModel;\n    function isWaterChain(model, chainIndex) {\n        var e = model.atomicHierarchy.index.getEntityFromChain(chainIndex);\n        return model.entities.data.type.value(e) === 'water';\n    }\n    function isPolymerChain(model, chainIndex) {\n        var e = model.atomicHierarchy.index.getEntityFromChain(chainIndex);\n        return model.entities.data.type.value(e) === 'polymer';\n    }\n    function partitionAtomicUnitByAtom(model, indices, builder, multiChain, operator) {\n        var _a = model.atomicConformation, x = _a.x, y = _a.y, z = _a.z;\n        var position = { x: x, y: y, z: z, indices: indices };\n        var lookup = GridLookup3D(position, getBoundary(position), 8192);\n        var _b = lookup.buckets, offset = _b.offset, count = _b.count, array = _b.array;\n        var traits = (multiChain ? Unit.Trait.MultiChain : Unit.Trait.None) | (offset.length > 1 ? Unit.Trait.Partitioned : Unit.Trait.None);\n        builder.beginChainGroup();\n        for (var i = 0, _i = offset.length; i < _i; i++) {\n            var start = offset[i];\n            var set = new Int32Array(count[i]);\n            for (var j = 0, _j = count[i]; j < _j; j++) {\n                set[j] = indices[array[start + j]];\n            }\n            builder.addUnit(0 /* Unit.Kind.Atomic */, model, operator, SortedArray.ofSortedArray(set), traits);\n        }\n        builder.endChainGroup();\n    }\n    // keeps atoms of residues together\n    function partitionAtomicUnitByResidue(model, indices, builder, multiChain, operator) {\n        var residueAtomSegments = model.atomicHierarchy.residueAtomSegments;\n        var startIndices = [];\n        var endIndices = [];\n        var residueIt = Segmentation.transientSegments(residueAtomSegments, indices);\n        while (residueIt.hasNext) {\n            var residueSegment = residueIt.move();\n            startIndices[startIndices.length] = indices[residueSegment.start];\n            endIndices[endIndices.length] = indices[residueSegment.end];\n        }\n        var firstResidueAtomCount = endIndices[0] - startIndices[0];\n        var gridCellCount = 512 * firstResidueAtomCount;\n        var _a = model.atomicConformation, x = _a.x, y = _a.y, z = _a.z;\n        var position = { x: x, y: y, z: z, indices: SortedArray.ofSortedArray(startIndices) };\n        var lookup = GridLookup3D(position, getBoundary(position), gridCellCount);\n        var _b = lookup.buckets, offset = _b.offset, count = _b.count, array = _b.array;\n        var traits = (multiChain ? Unit.Trait.MultiChain : Unit.Trait.None) | (offset.length > 1 ? Unit.Trait.Partitioned : Unit.Trait.None);\n        builder.beginChainGroup();\n        for (var i = 0, _i = offset.length; i < _i; i++) {\n            var start = offset[i];\n            var set = [];\n            for (var j = 0, _j = count[i]; j < _j; j++) {\n                var k = array[start + j];\n                for (var l = startIndices[k], _l = endIndices[k]; l < _l; l++) {\n                    set[set.length] = l;\n                }\n            }\n            builder.addUnit(0 /* Unit.Kind.Atomic */, model, operator, SortedArray.ofSortedArray(new Int32Array(set)), traits);\n        }\n        builder.endChainGroup();\n    }\n    function addCoarseUnits(builder, model, elements, kind) {\n        var chainElementSegments = elements.chainElementSegments;\n        for (var cI = 0; cI < chainElementSegments.count; cI++) {\n            var elements_1 = SortedArray.ofBounds(chainElementSegments.offsets[cI], chainElementSegments.offsets[cI + 1]);\n            builder.addUnit(kind, model, SymmetryOperator.Default, elements_1, Unit.Trait.None);\n        }\n    }\n    function transform(s, transform) {\n        if (Mat4.isIdentity(transform))\n            return s;\n        if (!Mat4.isRotationAndTranslation(transform, SymmetryOperator.RotationTranslationEpsilon))\n            throw new Error('Only rotation/translation combination can be applied.');\n        var units = [];\n        for (var _a = 0, _b = s.units; _a < _b.length; _a++) {\n            var u = _b[_a];\n            var old = u.conformation.operator;\n            var op = SymmetryOperator.create(old.name, transform, old);\n            units.push(u.applyOperator(u.id, op));\n        }\n        var cs = s.coordinateSystem;\n        var newCS = SymmetryOperator.compose(SymmetryOperator.create(cs.name, transform, cs), cs);\n        return create(units, { parent: s, coordinateSystem: newCS });\n    }\n    Structure.transform = transform;\n    var StructureBuilder = /** @class */ (function () {\n        function StructureBuilder(props) {\n            if (props === void 0) { props = {}; }\n            this.props = props;\n            this.units = [];\n            this.invariantId = idFactory();\n            this.chainGroupId = -1;\n            this.inChainGroup = false;\n            this.p = Vec3();\n            this.singleElementUnits = new Map();\n        }\n        StructureBuilder.prototype.beginChainGroup = function () {\n            this.chainGroupId++;\n            this.inChainGroup = true;\n        };\n        StructureBuilder.prototype.endChainGroup = function () {\n            this.inChainGroup = false;\n        };\n        StructureBuilder.prototype.addUnit = function (kind, model, operator, elements, traits, invariantId) {\n            if (invariantId === undefined)\n                invariantId = this.invariantId();\n            var chainGroupId = this.inChainGroup ? this.chainGroupId : ++this.chainGroupId;\n            var unit = Unit.create(this.units.length, invariantId, chainGroupId, traits, kind, model, operator, elements);\n            return this.add(unit);\n        };\n        StructureBuilder.prototype.add = function (unit) {\n            // this is to avoid adding many identical single atom units,\n            // for example, from 'degenerate' spacegroups\n            // - Diamond (COD 9008564)\n            if (unit.elements.length === 1) {\n                unit.conformation.position(unit.elements[0], this.p);\n                var hash = [unit.invariantId, this.p[0], this.p[1], this.p[2]].join('|');\n                if (this.singleElementUnits.has(hash)) {\n                    return this.singleElementUnits.get(hash);\n                }\n                else {\n                    this.singleElementUnits.set(hash, unit);\n                }\n            }\n            this.units.push(unit);\n            return unit;\n        };\n        StructureBuilder.prototype.addWithOperator = function (unit, operator, dontCompose) {\n            if (dontCompose === void 0) { dontCompose = false; }\n            return this.add(unit.applyOperator(this.units.length, operator, dontCompose));\n        };\n        StructureBuilder.prototype.getStructure = function () {\n            return create(this.units, this.props);\n        };\n        Object.defineProperty(StructureBuilder.prototype, \"isEmpty\", {\n            get: function () {\n                return this.units.length === 0;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        return StructureBuilder;\n    }());\n    Structure.StructureBuilder = StructureBuilder;\n    function Builder(props) {\n        if (props === void 0) { props = {}; }\n        return new StructureBuilder(props);\n    }\n    Structure.Builder = Builder;\n    function hashCode(s) {\n        return s.hashCode;\n    }\n    Structure.hashCode = hashCode;\n    /** Hash based on all unit.model conformation values in the structure */\n    function conformationHash(s) {\n        return hashString(s.units.map(function (u) { return Unit.conformationId(u); }).join('|'));\n    }\n    Structure.conformationHash = conformationHash;\n    // TODO: there should be a version that properly supports partitioned units\n    function areUnitIdsEqual(a, b) {\n        if (a === b)\n            return true;\n        if (a.elementCount !== b.elementCount)\n            return false;\n        var len = a.units.length;\n        if (len !== b.units.length)\n            return false;\n        for (var i = 0; i < len; i++) {\n            if (a.units[i].id !== b.units[i].id)\n                return false;\n        }\n        return true;\n    }\n    Structure.areUnitIdsEqual = areUnitIdsEqual;\n    function areUnitIdsAndIndicesEqual(a, b) {\n        if (a === b)\n            return true;\n        if (!areUnitIdsEqual(a, b))\n            return false;\n        for (var i = 0, il = a.units.length; i < il; i++) {\n            if (!SortedArray.areEqual(a.units[i].elements, b.units[i].elements))\n                return false;\n        }\n        return true;\n    }\n    Structure.areUnitIdsAndIndicesEqual = areUnitIdsAndIndicesEqual;\n    function areHierarchiesEqual(a, b) {\n        if (a.hashCode !== b.hashCode)\n            return false;\n        var len = a.models.length;\n        if (len !== b.models.length)\n            return false;\n        for (var i = 0; i < len; i++) {\n            if (!Model.areHierarchiesEqual(a.models[i], b.models[i]))\n                return false;\n        }\n        return true;\n    }\n    Structure.areHierarchiesEqual = areHierarchiesEqual;\n    function areEquivalent(a, b) {\n        return a === b || (a.hashCode === b.hashCode &&\n            StructureSymmetry.areTransformGroupsEquivalent(a.unitSymmetryGroups, b.unitSymmetryGroups));\n    }\n    Structure.areEquivalent = areEquivalent;\n    /** Check if the structures or their parents are equivalent */\n    function areRootsEquivalent(a, b) {\n        return areEquivalent(a.root, b.root);\n    }\n    Structure.areRootsEquivalent = areRootsEquivalent;\n    /** Check if the structures or their parents are equal */\n    function areRootsEqual(a, b) {\n        return a.root === b.root;\n    }\n    Structure.areRootsEqual = areRootsEqual;\n    var ElementLocationIterator = /** @class */ (function () {\n        function ElementLocationIterator(structure) {\n            this.structure = structure;\n            this.unitIndex = 0;\n            this.maxIdx = 0;\n            this.idx = -1;\n            this.current = StructureElement.Location.create(structure);\n            this.hasNext = structure.elementCount > 0;\n            if (this.hasNext) {\n                this.elements = structure.units[0].elements;\n                this.maxIdx = this.elements.length - 1;\n                this.current.unit = structure.units[0];\n            }\n        }\n        ElementLocationIterator.prototype.move = function () {\n            this.advance();\n            this.current.element = this.elements[this.idx];\n            return this.current;\n        };\n        ElementLocationIterator.prototype.advance = function () {\n            if (this.idx < this.maxIdx) {\n                this.idx++;\n                if (this.idx === this.maxIdx)\n                    this.hasNext = this.unitIndex + 1 < this.structure.units.length;\n                return;\n            }\n            this.idx = 0;\n            this.unitIndex++;\n            if (this.unitIndex >= this.structure.units.length) {\n                this.hasNext = false;\n                return;\n            }\n            this.current.unit = this.structure.units[this.unitIndex];\n            this.elements = this.current.unit.elements;\n            this.maxIdx = this.elements.length - 1;\n            if (this.maxIdx === 0) {\n                this.hasNext = this.unitIndex + 1 < this.structure.units.length;\n            }\n        };\n        return ElementLocationIterator;\n    }());\n    Structure.ElementLocationIterator = ElementLocationIterator;\n    var distVec = Vec3();\n    function unitElementMinDistance(unit, p, eRadius) {\n        var elements = unit.elements, _a = unit.conformation, position = _a.position, r = _a.r, dV = distVec;\n        var minD = Number.MAX_VALUE;\n        for (var i = 0, _i = elements.length; i < _i; i++) {\n            var e = elements[i];\n            var d = Vec3.distance(p, position(e, dV)) - eRadius - r(e);\n            if (d < minD)\n                minD = d;\n        }\n        return minD;\n    }\n    function minDistanceToPoint(s, point, radius) {\n        var units = s.units;\n        var minD = Number.MAX_VALUE;\n        for (var i = 0, _i = units.length; i < _i; i++) {\n            var unit = units[i];\n            var d = unitElementMinDistance(unit, point, radius);\n            if (d < minD)\n                minD = d;\n        }\n        return minD;\n    }\n    Structure.minDistanceToPoint = minDistanceToPoint;\n    var distPivot = Vec3();\n    function distance(a, b) {\n        if (a.elementCount === 0 || b.elementCount === 0)\n            return 0;\n        var units = a.units;\n        var minD = Number.MAX_VALUE;\n        for (var i = 0, _i = units.length; i < _i; i++) {\n            var unit = units[i];\n            var elements = unit.elements, _a = unit.conformation, position = _a.position, r = _a.r;\n            for (var i_1 = 0, _i_1 = elements.length; i_1 < _i_1; i_1++) {\n                var e = elements[i_1];\n                var d = minDistanceToPoint(b, position(e, distPivot), r(e));\n                if (d < minD)\n                    minD = d;\n            }\n        }\n        return minD;\n    }\n    Structure.distance = distance;\n    function elementDescription(s) {\n        return s.elementCount === 1 ? '1 element' : \"\".concat(s.elementCount, \" elements\");\n    }\n    Structure.elementDescription = elementDescription;\n    function validUnitPair(s, a, b) {\n        return s.masterModel\n            ? a.model === b.model || a.model === s.masterModel || b.model === s.masterModel\n            : a.model === b.model;\n    }\n    Structure.validUnitPair = validUnitPair;\n    /**\n     * Iterate over all unit pairs of a structure and invokes callback for valid units\n     * and unit pairs if their boundaries are within a max distance.\n     */\n    function eachUnitPair(structure, callback, props) {\n        var maxRadius = props.maxRadius, validUnit = props.validUnit, validUnitPair = props.validUnitPair;\n        if (!structure.units.some(function (u) { return validUnit(u); }))\n            return;\n        var lookup = structure.lookup3d;\n        var imageCenter = Vec3();\n        for (var _a = 0, _b = structure.units; _a < _b.length; _a++) {\n            var unitA = _b[_a];\n            if (!validUnit(unitA))\n                continue;\n            var bs = unitA.boundary.sphere;\n            Vec3.transformMat4(imageCenter, bs.center, unitA.conformation.operator.matrix);\n            var closeUnits = lookup.findUnitIndices(imageCenter[0], imageCenter[1], imageCenter[2], bs.radius + maxRadius);\n            for (var i = 0; i < closeUnits.count; i++) {\n                var unitB = structure.units[closeUnits.indices[i]];\n                if (unitA.id >= unitB.id)\n                    continue;\n                if (!validUnit(unitB) || !validUnitPair(unitA, unitB))\n                    continue;\n                if (unitB.elements.length >= unitA.elements.length)\n                    callback(unitA, unitB);\n                else\n                    callback(unitB, unitA);\n            }\n        }\n    }\n    Structure.eachUnitPair = eachUnitPair;\n    ;\n    function eachAtomicHierarchyElement(structure, _a) {\n        var chain = _a.chain, residue = _a.residue, atom = _a.atom;\n        var l = StructureElement.Location.create(structure);\n        for (var _b = 0, _c = structure.units; _b < _c.length; _b++) {\n            var unit = _c[_b];\n            if (unit.kind !== 0 /* Unit.Kind.Atomic */)\n                continue;\n            l.unit = unit;\n            var elements = unit.elements;\n            var chainsIt = Segmentation.transientSegments(unit.model.atomicHierarchy.chainAtomSegments, elements);\n            var residuesIt = Segmentation.transientSegments(unit.model.atomicHierarchy.residueAtomSegments, elements);\n            while (chainsIt.hasNext) {\n                var chainSegment = chainsIt.move();\n                if (chain) {\n                    l.element = elements[chainSegment.start];\n                    chain(l);\n                }\n                if (!residue && !atom)\n                    continue;\n                residuesIt.setSegment(chainSegment);\n                while (residuesIt.hasNext) {\n                    var residueSegment = residuesIt.move();\n                    if (residue) {\n                        l.element = elements[residueSegment.start];\n                        residue(l);\n                    }\n                    if (!atom)\n                        continue;\n                    for (var j = residueSegment.start, _j = residueSegment.end; j < _j; j++) {\n                        l.element = elements[j];\n                        atom(l);\n                    }\n                }\n            }\n        }\n    }\n    Structure.eachAtomicHierarchyElement = eachAtomicHierarchyElement;\n    //\n    Structure.DefaultSizeThresholds = {\n        /** Must be lower to be small */\n        smallResidueCount: 10,\n        /** Must be lower to be medium */\n        mediumResidueCount: 5000,\n        /** Must be lower to be large (big ribosomes like 4UG0 should still be `large`) */\n        largeResidueCount: 30000,\n        /**\n         * Structures above `largeResidueCount` are consider huge when they have\n         * a `highSymmetryUnitCount` or gigantic when not\n         */\n        highSymmetryUnitCount: 10,\n        /** Fiber-like structure are consider small when below this */\n        fiberResidueCount: 15,\n    };\n    function getPolymerSymmetryGroups(structure) {\n        return structure.unitSymmetryGroups.filter(function (ug) { return ug.units[0].polymerElements.length > 0; });\n    }\n    /**\n     * Try to match fiber-like structures like 6nk4\n     */\n    function isFiberLike(structure, thresholds) {\n        var polymerSymmetryGroups = getPolymerSymmetryGroups(structure);\n        return (polymerSymmetryGroups.length === 1 &&\n            polymerSymmetryGroups[0].units.length > 2 &&\n            polymerSymmetryGroups[0].units[0].polymerElements.length < thresholds.fiberResidueCount);\n    }\n    function hasHighSymmetry(structure, thresholds) {\n        var polymerSymmetryGroups = getPolymerSymmetryGroups(structure);\n        return (polymerSymmetryGroups.length >= 1 &&\n            polymerSymmetryGroups[0].units.length > thresholds.highSymmetryUnitCount);\n    }\n    var Size;\n    (function (Size) {\n        Size[Size[\"Small\"] = 0] = \"Small\";\n        Size[Size[\"Medium\"] = 1] = \"Medium\";\n        Size[Size[\"Large\"] = 2] = \"Large\";\n        Size[Size[\"Huge\"] = 3] = \"Huge\";\n        Size[Size[\"Gigantic\"] = 4] = \"Gigantic\";\n    })(Size = Structure.Size || (Structure.Size = {}));\n    /**\n     * @param residueCountFactor - modifies the threshold counts, useful when estimating\n     *                             the size of a structure comprised of multiple models\n     */\n    function getSize(structure, thresholds, residueCountFactor) {\n        if (thresholds === void 0) { thresholds = {}; }\n        if (residueCountFactor === void 0) { residueCountFactor = 1; }\n        var t = __assign(__assign({}, Structure.DefaultSizeThresholds), thresholds);\n        if (structure.polymerResidueCount >= t.largeResidueCount * residueCountFactor) {\n            if (hasHighSymmetry(structure, t)) {\n                return Size.Huge;\n            }\n            else {\n                return Size.Gigantic;\n            }\n        }\n        else if (isFiberLike(structure, t)) {\n            return Size.Small;\n        }\n        else if (structure.polymerResidueCount < t.smallResidueCount * residueCountFactor) {\n            return Size.Small;\n        }\n        else if (structure.polymerResidueCount < t.mediumResidueCount * residueCountFactor) {\n            return Size.Medium;\n        }\n        else {\n            return Size.Large;\n        }\n    }\n    Structure.getSize = getSize;\n    Structure.Index = CustomStructureProperty.createSimple('index', 'root');\n    Structure.MaxIndex = CustomStructureProperty.createSimple('max_index', 'root');\n    var PrincipalAxesProp = '__PrincipalAxes__';\n    function getPrincipalAxes(structure) {\n        if (structure.currentPropertyData[PrincipalAxesProp])\n            return structure.currentPropertyData[PrincipalAxesProp];\n        var principalAxes = StructureElement.Loci.getPrincipalAxes(Structure.toStructureElementLoci(structure));\n        structure.currentPropertyData[PrincipalAxesProp] = principalAxes;\n        return principalAxes;\n    }\n    Structure.getPrincipalAxes = getPrincipalAxes;\n})(Structure || (Structure = {}));\nexport { Structure };\n","/**\n * Copyright (c) 2017-2022 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\nimport { UniqueArray } from '../../../../mol-data/generic';\nimport { OrderedSet, SortedArray, Interval } from '../../../../mol-data/int';\nimport { Vec3 } from '../../../../mol-math/linear-algebra';\nimport { MolScriptBuilder as MS } from '../../../../mol-script/language/builder';\nimport { Structure } from '../structure';\nimport { Unit } from '../unit';\nimport { sortArray, hashFnv32a, hash2 } from '../../../../mol-data/util';\nimport { Location } from './location';\nimport { PrincipalAxes } from '../../../../mol-math/linear-algebra/matrix/principal-axes';\nimport { StructureProperties } from '../properties';\nimport { BoundaryHelper } from '../../../../mol-math/geometry/boundary-helper';\nimport { IntTuple } from '../../../../mol-data/int/tuple';\n// avoiding namespace lookup improved performance in Chrome (Aug 2020)\nvar itDiff = IntTuple.diff;\nexport function Loci(structure, elements) {\n    return { kind: 'element-loci', structure: structure, elements: elements };\n}\n(function (Loci) {\n    function is(x) {\n        return !!x && x.kind === 'element-loci';\n    }\n    Loci.is = is;\n    function areEqual(a, b) {\n        if (a.structure !== b.structure)\n            return false;\n        if (a.elements.length !== b.elements.length)\n            return false;\n        for (var i = 0, il = a.elements.length; i < il; ++i) {\n            var elementA = a.elements[i];\n            var elementB = b.elements[i];\n            if (elementA.unit.id !== elementB.unit.id)\n                return false;\n            if (!OrderedSet.areEqual(elementA.indices, elementB.indices))\n                return false;\n        }\n        return true;\n    }\n    Loci.areEqual = areEqual;\n    function isEmpty(loci) {\n        for (var _a = 0, _b = loci.elements; _a < _b.length; _a++) {\n            var u = _b[_a];\n            if (OrderedSet.size(u.indices) > 0)\n                return false;\n        }\n        return true;\n    }\n    Loci.isEmpty = isEmpty;\n    function isWholeStructure(loci) {\n        return size(loci) === loci.structure.elementCount;\n    }\n    Loci.isWholeStructure = isWholeStructure;\n    function size(loci) {\n        var s = 0;\n        // inlined for max performance, crucial for marking large cellpack models\n        // `for (const u of loci.elements) s += OrderedSet.size(u.indices);`\n        for (var _a = 0, _b = loci.elements; _a < _b.length; _a++) {\n            var indices = _b[_a].indices;\n            if (typeof indices === 'number') {\n                s += itDiff(indices);\n            }\n            else {\n                s += indices.length;\n            }\n        }\n        return s;\n    }\n    Loci.size = size;\n    function all(structure) {\n        return Loci(structure, structure.units.map(function (unit) { return ({\n            unit: unit,\n            indices: OrderedSet.ofBounds(0, unit.elements.length)\n        }); }));\n    }\n    Loci.all = all;\n    function none(structure) {\n        return Loci(structure, []);\n    }\n    Loci.none = none;\n    function getFirstLocation(loci, e) {\n        if (isEmpty(loci))\n            return void 0;\n        var unit = loci.elements[0].unit;\n        var element = unit.elements[OrderedSet.getAt(loci.elements[0].indices, 0)];\n        if (e) {\n            e.structure = loci.structure;\n            e.unit = loci.elements[0].unit;\n            e.element = element;\n            return e;\n        }\n        return Location.create(loci.structure, unit, element);\n    }\n    Loci.getFirstLocation = getFirstLocation;\n    function firstElement(loci) {\n        if (isEmpty(loci))\n            return loci;\n        return Loci(loci.structure, [{\n                unit: loci.elements[0].unit,\n                indices: OrderedSet.ofSingleton(OrderedSet.start(loci.elements[0].indices))\n            }]);\n    }\n    Loci.firstElement = firstElement;\n    function firstResidue(loci) {\n        if (isEmpty(loci))\n            return loci;\n        return extendToWholeResidues(firstElement(loci));\n    }\n    Loci.firstResidue = firstResidue;\n    function firstChain(loci) {\n        if (isEmpty(loci))\n            return loci;\n        return extendToWholeChains(firstElement(loci));\n    }\n    Loci.firstChain = firstChain;\n    function toStructure(loci) {\n        var units = [];\n        var _loop_1 = function (e) {\n            var unit = e.unit, indices = e.indices;\n            var elements = new Int32Array(OrderedSet.size(indices));\n            OrderedSet.forEach(indices, function (v, i) { return elements[i] = unit.elements[v]; });\n            units.push(unit.getChild(SortedArray.ofSortedArray(elements)));\n        };\n        for (var _a = 0, _b = loci.elements; _a < _b.length; _a++) {\n            var e = _b[_a];\n            _loop_1(e);\n        }\n        return Structure.create(units, { parent: loci.structure.parent });\n    }\n    Loci.toStructure = toStructure;\n    /**\n     * Iterates over all locations.\n     * The loc argument of the callback is mutable, use Location.clone() if you intend to keep\n     * the value around.\n     */\n    function forEachLocation(loci, f) {\n        if (Loci.isEmpty(loci))\n            return;\n        var location = Location.create(loci.structure);\n        for (var _a = 0, _b = loci.elements; _a < _b.length; _a++) {\n            var e = _b[_a];\n            var unit = e.unit, indices = e.indices;\n            location.unit = unit;\n            var elements = e.unit.elements;\n            for (var i = 0, _i = OrderedSet.size(indices); i < _i; i++) {\n                location.element = elements[OrderedSet.getAt(indices, i)];\n                f(location);\n            }\n        }\n    }\n    Loci.forEachLocation = forEachLocation;\n    // TODO: there should be a version that properly supports partitioned units\n    function remap(loci, structure) {\n        if (structure === loci.structure)\n            return loci;\n        var elements = [];\n        loci.elements.forEach(function (e) {\n            if (!structure.unitMap.has(e.unit.id))\n                return;\n            var unit = structure.unitMap.get(e.unit.id);\n            var indices = OrderedSet.indexedIntersect(e.indices, e.unit.elements, unit.elements);\n            if (OrderedSet.size(indices) > 0)\n                elements.push({ unit: unit, indices: indices });\n        });\n        return Loci(structure, elements);\n    }\n    Loci.remap = remap;\n    /** Create union of `xs` and `ys` */\n    function union(xs, ys) {\n        if (xs.elements.length > ys.elements.length)\n            return union(ys, xs);\n        if (Loci.isEmpty(xs))\n            return ys;\n        var map = new Map();\n        for (var _a = 0, _b = xs.elements; _a < _b.length; _a++) {\n            var e = _b[_a];\n            map.set(e.unit.id, e.indices);\n        }\n        var elements = [];\n        for (var _c = 0, _d = ys.elements; _c < _d.length; _c++) {\n            var e = _d[_c];\n            if (map.has(e.unit.id)) {\n                elements[elements.length] = { unit: e.unit, indices: OrderedSet.union(map.get(e.unit.id), e.indices) };\n                map.delete(e.unit.id);\n            }\n            else {\n                elements[elements.length] = e;\n            }\n        }\n        map.forEach(function (indices, id) {\n            elements[elements.length] = { unit: xs.structure.unitMap.get(id), indices: indices };\n        });\n        return Loci(xs.structure, elements);\n    }\n    Loci.union = union;\n    /** Subtract `ys` from `xs` */\n    function subtract(xs, ys) {\n        var map = new Map();\n        for (var _a = 0, _b = ys.elements; _a < _b.length; _a++) {\n            var e = _b[_a];\n            map.set(e.unit.id, e.indices);\n        }\n        var elements = [];\n        for (var _c = 0, _d = xs.elements; _c < _d.length; _c++) {\n            var e = _d[_c];\n            if (map.has(e.unit.id)) {\n                var indices = OrderedSet.subtract(e.indices, map.get(e.unit.id));\n                if (OrderedSet.size(indices) === 0)\n                    continue;\n                elements[elements.length] = { unit: e.unit, indices: indices };\n            }\n            else {\n                elements[elements.length] = e;\n            }\n        }\n        return Loci(xs.structure, elements);\n    }\n    Loci.subtract = subtract;\n    /** Intersect `xs` and `ys` */\n    function intersect(xs, ys) {\n        var map = new Map();\n        for (var _a = 0, _b = xs.elements; _a < _b.length; _a++) {\n            var e = _b[_a];\n            map.set(e.unit.id, e.indices);\n        }\n        var elements = [];\n        for (var _c = 0, _d = ys.elements; _c < _d.length; _c++) {\n            var e = _d[_c];\n            if (!map.has(e.unit.id))\n                continue;\n            var indices = OrderedSet.intersect(map.get(e.unit.id), e.indices);\n            if (OrderedSet.size(indices) === 0)\n                continue;\n            elements[elements.length] = { unit: e.unit, indices: indices };\n        }\n        return Loci(xs.structure, elements);\n    }\n    Loci.intersect = intersect;\n    function areIntersecting(xs, ys) {\n        if (xs.elements.length > ys.elements.length)\n            return areIntersecting(ys, xs);\n        if (Loci.isEmpty(xs))\n            return Loci.isEmpty(ys);\n        var map = new Map();\n        for (var _a = 0, _b = xs.elements; _a < _b.length; _a++) {\n            var e = _b[_a];\n            map.set(e.unit.id, e.indices);\n        }\n        for (var _c = 0, _d = ys.elements; _c < _d.length; _c++) {\n            var e = _d[_c];\n            if (!map.has(e.unit.id))\n                continue;\n            if (OrderedSet.areIntersecting(map.get(e.unit.id), e.indices))\n                return true;\n        }\n        return false;\n    }\n    Loci.areIntersecting = areIntersecting;\n    /** Check if second loci is a subset of the first */\n    function isSubset(xs, ys) {\n        if (Loci.isEmpty(xs))\n            return Loci.isEmpty(ys);\n        var map = new Map();\n        for (var _a = 0, _b = xs.elements; _a < _b.length; _a++) {\n            var e = _b[_a];\n            map.set(e.unit.id, e.indices);\n        }\n        var isSubset = false;\n        for (var _c = 0, _d = ys.elements; _c < _d.length; _c++) {\n            var e = _d[_c];\n            if (!map.has(e.unit.id))\n                continue;\n            if (!OrderedSet.isSubset(map.get(e.unit.id), e.indices))\n                return false;\n            else\n                isSubset = true;\n        }\n        return isSubset;\n    }\n    Loci.isSubset = isSubset;\n    function makeIndexSet(newIndices) {\n        if (newIndices.length > 3 && SortedArray.isRange(newIndices)) {\n            return Interval.ofRange(newIndices[0], newIndices[newIndices.length - 1]);\n        }\n        else {\n            return SortedArray.ofSortedArray(newIndices);\n        }\n    }\n    function extendToWholeResidues(loci, restrictToConformation) {\n        var elements = [];\n        var residueAltIds = new Set();\n        for (var _a = 0, _b = loci.elements; _a < _b.length; _a++) {\n            var lociElement = _b[_a];\n            if (isWholeUnit(lociElement)) {\n                elements[elements.length] = lociElement;\n                continue;\n            }\n            if (lociElement.unit.kind === 0 /* Unit.Kind.Atomic */) {\n                var unitElements = lociElement.unit.elements;\n                var h = lociElement.unit.model.atomicHierarchy;\n                var label_alt_id = lociElement.unit.model.atomicHierarchy.atoms.label_alt_id;\n                var _c = h.residueAtomSegments, residueIndex = _c.index, residueOffsets = _c.offsets;\n                var newIndices = [];\n                var indices = lociElement.indices, len = OrderedSet.size(indices);\n                var i = 0;\n                while (i < len) {\n                    residueAltIds.clear();\n                    var eI = unitElements[OrderedSet.getAt(indices, i)];\n                    var rI = residueIndex[eI];\n                    residueAltIds.add(label_alt_id.value(eI));\n                    i++;\n                    while (i < len) {\n                        var eI_1 = unitElements[OrderedSet.getAt(indices, i)];\n                        if (residueIndex[eI_1] !== rI)\n                            break;\n                        residueAltIds.add(label_alt_id.value(eI_1));\n                        i++;\n                    }\n                    var hasSharedAltId = residueAltIds.has('');\n                    for (var j = residueOffsets[rI], _j = residueOffsets[rI + 1]; j < _j; j++) {\n                        var idx = OrderedSet.indexOf(unitElements, j);\n                        if (idx >= 0) {\n                            var altId = label_alt_id.value(j);\n                            if (!restrictToConformation || hasSharedAltId || !altId || residueAltIds.has(altId)) {\n                                newIndices[newIndices.length] = idx;\n                            }\n                        }\n                    }\n                }\n                elements[elements.length] = { unit: lociElement.unit, indices: makeIndexSet(newIndices) };\n            }\n            else {\n                // coarse elements are already by-residue\n                elements[elements.length] = lociElement;\n            }\n        }\n        return Loci(loci.structure, elements);\n    }\n    Loci.extendToWholeResidues = extendToWholeResidues;\n    function getChainSegments(unit) {\n        switch (unit.kind) {\n            case 0 /* Unit.Kind.Atomic */: return unit.model.atomicHierarchy.chainAtomSegments;\n            case 1 /* Unit.Kind.Spheres */: return unit.model.coarseHierarchy.spheres.chainElementSegments;\n            case 2 /* Unit.Kind.Gaussians */: return unit.model.coarseHierarchy.gaussians.chainElementSegments;\n        }\n    }\n    function isWholeUnit(element) {\n        return element.unit.elements.length === OrderedSet.size(element.indices);\n    }\n    function collectChains(unit, chainIndices, elements) {\n        var index = getChainSegments(unit).index;\n        var xs = unit.elements;\n        var size = 0;\n        for (var i = 0, _i = xs.length; i < _i; i++) {\n            var eI = xs[i];\n            var cI = index[eI];\n            if (!chainIndices.has(cI))\n                continue;\n            size++;\n        }\n        if (size === unit.elements.length) {\n            elements[elements.length] = { unit: unit, indices: Interval.ofBounds(0, size) };\n            return;\n        }\n        var newIndices = new Int32Array(size);\n        size = 0;\n        for (var i = 0, _i = xs.length; i < _i; i++) {\n            var eI = xs[i];\n            var cI = index[eI];\n            if (!chainIndices.has(cI))\n                continue;\n            newIndices[size++] = i;\n        }\n        if (newIndices.length > 0) {\n            elements[elements.length] = { unit: unit, indices: makeIndexSet(newIndices) };\n        }\n    }\n    function extendGroupToWholeChains(loci, start, end, isPartitioned, elements) {\n        var chainIndex = getChainSegments(loci.elements[0].unit).index;\n        var chainIndices = new Set();\n        for (var lI = start; lI < end; lI++) {\n            var lociElement = loci.elements[lI];\n            var indices = lociElement.indices;\n            var unitElements = lociElement.unit.elements;\n            for (var i = 0, _i = OrderedSet.size(indices); i < _i; i++) {\n                chainIndices.add(chainIndex[unitElements[OrderedSet.getAt(indices, i)]]);\n            }\n        }\n        if (isPartitioned) {\n            var baseUnit = loci.elements[0].unit;\n            // TODO: check for accidental quadratic for really large structures (but should be ok).\n            for (var _a = 0, _b = loci.structure.units; _a < _b.length; _a++) {\n                var unit = _b[_a];\n                if (!Unit.areSameChainOperatorGroup(unit, baseUnit))\n                    continue;\n                collectChains(unit, chainIndices, elements);\n            }\n        }\n        else {\n            for (var lI = start; lI < end; lI++) {\n                collectChains(loci.elements[lI].unit, chainIndices, elements);\n            }\n        }\n    }\n    function extendToWholeChains(loci) {\n        var elements = [];\n        for (var i = 0, len = loci.elements.length; i < len; i++) {\n            var e = loci.elements[i];\n            if (Unit.Traits.is(e.unit.traits, Unit.Trait.Partitioned)) {\n                var start = i;\n                while (i < len && Unit.areSameChainOperatorGroup(loci.elements[i].unit, e.unit)) {\n                    i++;\n                }\n                var end = i;\n                i--;\n                extendGroupToWholeChains(loci, start, end, true, elements);\n            }\n            else {\n                if (isWholeUnit(e)) {\n                    elements[elements.length] = e;\n                }\n                else {\n                    extendGroupToWholeChains(loci, i, i + 1, false, elements);\n                }\n            }\n        }\n        return Loci(loci.structure, elements);\n    }\n    Loci.extendToWholeChains = extendToWholeChains;\n    function entityModelKey(location) {\n        return \"\".concat(location.unit.model.id, \"|\").concat(StructureProperties.entity.id(location));\n    }\n    function extendToWholeEntities(loci) {\n        var elements = [];\n        var l = Location.create(loci.structure);\n        var entities = new Set();\n        var units = loci.structure.units;\n        for (var i = 0, len = loci.elements.length; i < len; i++) {\n            var e = loci.elements[i];\n            l.unit = e.unit;\n            l.element = e.unit.elements[0];\n            entities.add(entityModelKey(l));\n        }\n        for (var i = 0, il = units.length; i < il; ++i) {\n            var unit = units[i];\n            l.unit = unit;\n            l.element = unit.elements[0];\n            if (entities.has(entityModelKey(l))) {\n                var indices = OrderedSet.ofBounds(0, unit.elements.length);\n                elements[elements.length] = { unit: unit, indices: indices };\n            }\n        }\n        return Loci(loci.structure, elements);\n    }\n    Loci.extendToWholeEntities = extendToWholeEntities;\n    function extendToWholeModels(loci) {\n        var elements = [];\n        var models = new Set();\n        var units = loci.structure.units;\n        for (var i = 0, len = loci.elements.length; i < len; i++) {\n            var e = loci.elements[i];\n            models.add(e.unit.model.id);\n        }\n        for (var i = 0, il = units.length; i < il; ++i) {\n            var unit = units[i];\n            if (models.has(unit.model.id)) {\n                var indices = OrderedSet.ofBounds(0, unit.elements.length);\n                elements[elements.length] = { unit: unit, indices: indices };\n            }\n        }\n        return Loci(loci.structure, elements);\n    }\n    Loci.extendToWholeModels = extendToWholeModels;\n    function getElementIndices(elements, indices) {\n        var elementIndices = [];\n        for (var i = 0, il = OrderedSet.size(indices); i < il; ++i) {\n            elementIndices.push(elements[OrderedSet.getAt(indices, i)]);\n        }\n        return SortedArray.ofSortedArray(elementIndices);\n    }\n    function getUnitIndices(elements, indices) {\n        if (SortedArray.isRange(elements) && SortedArray.areEqual(elements, indices)) {\n            return Interval.ofLength(elements.length);\n        }\n        return makeIndexSet(SortedArray.indicesOf(elements, indices));\n    }\n    function extendToAllInstances(loci) {\n        var elements = [];\n        var byModel = new Map();\n        for (var i = 0, len = loci.elements.length; i < len; i++) {\n            var e = loci.elements[i];\n            var model = e.unit.model;\n            var elementIndices = getElementIndices(e.unit.elements, e.indices);\n            if (byModel.has(model)) {\n                byModel.set(model, SortedArray.union(elementIndices, byModel.get(model)));\n            }\n            else {\n                byModel.set(model, elementIndices);\n            }\n        }\n        for (var i = 0, il = loci.structure.units.length; i < il; ++i) {\n            var unit = loci.structure.units[i];\n            var elementIndices = byModel.get(unit.model);\n            if (!elementIndices)\n                continue;\n            var indices = getUnitIndices(unit.elements, elementIndices);\n            if (OrderedSet.size(indices)) {\n                elements[elements.length] = { unit: unit, indices: indices };\n            }\n        }\n        return Loci(loci.structure, elements);\n    }\n    Loci.extendToAllInstances = extendToAllInstances;\n    function extendToWholeOperators(loci) {\n        var elements = [];\n        var operators = new Set();\n        var units = loci.structure.units;\n        for (var i = 0, len = loci.elements.length; i < len; i++) {\n            var e = loci.elements[i];\n            operators.add(e.unit.conformation.operator.name);\n        }\n        for (var i = 0, il = units.length; i < il; ++i) {\n            var unit = units[i];\n            if (operators.has(unit.conformation.operator.name)) {\n                var indices = OrderedSet.ofBounds(0, unit.elements.length);\n                elements[elements.length] = { unit: unit, indices: indices };\n            }\n        }\n        return Loci(loci.structure, elements);\n    }\n    Loci.extendToWholeOperators = extendToWholeOperators;\n    //\n    var boundaryHelper = new BoundaryHelper('98');\n    var tempPosBoundary = Vec3();\n    function getBoundary(loci, transform) {\n        boundaryHelper.reset();\n        for (var _a = 0, _b = loci.elements; _a < _b.length; _a++) {\n            var e = _b[_a];\n            var indices = e.indices;\n            var pos = e.unit.conformation.position, r = e.unit.conformation.r;\n            var elements = e.unit.elements;\n            for (var i = 0, _i = OrderedSet.size(indices); i < _i; i++) {\n                var eI = elements[OrderedSet.getAt(indices, i)];\n                pos(eI, tempPosBoundary);\n                if (transform)\n                    Vec3.transformMat4(tempPosBoundary, tempPosBoundary, transform);\n                boundaryHelper.includePositionRadius(tempPosBoundary, r(eI));\n            }\n        }\n        boundaryHelper.finishedIncludeStep();\n        for (var _c = 0, _d = loci.elements; _c < _d.length; _c++) {\n            var e = _d[_c];\n            var indices = e.indices;\n            var pos = e.unit.conformation.position, r = e.unit.conformation.r;\n            var elements = e.unit.elements;\n            for (var i = 0, _i = OrderedSet.size(indices); i < _i; i++) {\n                var eI = elements[OrderedSet.getAt(indices, i)];\n                pos(eI, tempPosBoundary);\n                if (transform)\n                    Vec3.transformMat4(tempPosBoundary, tempPosBoundary, transform);\n                boundaryHelper.radiusPositionRadius(tempPosBoundary, r(eI));\n            }\n        }\n        return { box: boundaryHelper.getBox(), sphere: boundaryHelper.getSphere() };\n    }\n    Loci.getBoundary = getBoundary;\n    var tempPos = Vec3();\n    function toPositionsArray(loci, positions, offset) {\n        if (offset === void 0) { offset = 0; }\n        var m = offset;\n        for (var _a = 0, _b = loci.elements; _a < _b.length; _a++) {\n            var e = _b[_a];\n            var indices = e.indices;\n            var pos = e.unit.conformation.position;\n            var elements = e.unit.elements;\n            var indexCount = OrderedSet.size(indices);\n            for (var i = 0; i < indexCount; i++) {\n                var eI = elements[OrderedSet.getAt(indices, i)];\n                pos(eI, tempPos);\n                Vec3.toArray(tempPos, positions, m + i * 3);\n            }\n            m += indexCount * 3;\n        }\n        return positions;\n    }\n    Loci.toPositionsArray = toPositionsArray;\n    function getPrincipalAxes(loci) {\n        var elementCount = size(loci);\n        var positions = toPositionsArray(loci, new Float32Array(3 * elementCount));\n        return PrincipalAxes.ofPositions(positions);\n    }\n    Loci.getPrincipalAxes = getPrincipalAxes;\n    function getPrincipalAxesMany(locis) {\n        var elementCount = 0;\n        locis.forEach(function (l) {\n            elementCount += size(l);\n        });\n        var positions = new Float32Array(3 * elementCount);\n        var offset = 0;\n        locis.forEach(function (l) {\n            toPositionsArray(l, positions, offset);\n            offset += size(l) * 3;\n        });\n        return PrincipalAxes.ofPositions(positions);\n    }\n    Loci.getPrincipalAxesMany = getPrincipalAxesMany;\n    function sourceIndex(unit, element) {\n        return Unit.isAtomic(unit)\n            ? unit.model.atomicHierarchy.atomSourceIndex.value(element)\n            // TODO: when implemented, this should map to the source index.\n            : element;\n    }\n    function toExpression(loci) {\n        var _a;\n        if (Loci.isEmpty(loci))\n            return MS.struct.generator.empty();\n        var models = loci.structure.models;\n        var sourceIndexMap = new Map();\n        for (var _b = 0, _c = loci.elements; _b < _c.length; _b++) {\n            var e = _c[_b];\n            var indices = e.indices;\n            var elements = e.unit.elements;\n            var key = e.unit.conformation.operator.name;\n            var sourceIndices = void 0;\n            if (sourceIndexMap.has(key))\n                sourceIndices = sourceIndexMap.get(key).xs;\n            else {\n                sourceIndices = UniqueArray.create();\n                sourceIndexMap.set(key, { modelLabel: e.unit.model.label, modelIndex: e.unit.model.modelNum, xs: sourceIndices });\n            }\n            for (var i = 0, _i = OrderedSet.size(indices); i < _i; i++) {\n                var idx = sourceIndex(e.unit, elements[OrderedSet.getAt(indices, i)]);\n                UniqueArray.add(sourceIndices, idx, idx);\n            }\n        }\n        var opData = [];\n        var keys = sourceIndexMap.keys();\n        while (true) {\n            var k = keys.next();\n            if (k.done)\n                break;\n            var e = sourceIndexMap.get(k.value);\n            opData.push(getOpData(k.value, e.xs.array, models.length > 1, e.modelLabel, e.modelIndex));\n        }\n        var opGroups = new Map();\n        for (var i = 0, il = opData.length; i < il; ++i) {\n            var d = opData[i];\n            var hash = hash2(hashFnv32a(d.atom.ranges), hashFnv32a(d.atom.set));\n            var key = \"\".concat(hash, \"|\").concat(d.entity ? (d.entity.modelLabel + d.entity.modelIndex) : '');\n            if (opGroups.has(key)) {\n                (_a = opGroups.get(key).chain.opName).push.apply(_a, d.chain.opName);\n            }\n            else {\n                opGroups.set(key, d);\n            }\n        }\n        var opQueries = [];\n        opGroups.forEach(function (d) {\n            var _a = d.atom, ranges = _a.ranges, set = _a.set;\n            var opName = d.chain.opName;\n            var opProp = MS.struct.atomProperty.core.operatorName();\n            var siProp = MS.struct.atomProperty.core.sourceIndex();\n            var tests = [];\n            // TODO: add set.ofRanges constructor to MolQL???\n            if (set.length > 0) {\n                tests[tests.length] = MS.core.set.has([MS.core.type.set(set), siProp]);\n            }\n            for (var rI = 0, _rI = ranges.length / 2; rI < _rI; rI++) {\n                tests[tests.length] = MS.core.rel.inRange([siProp, ranges[2 * rI], ranges[2 * rI + 1]]);\n            }\n            if (d.entity) {\n                var _b = d.entity, modelLabel = _b.modelLabel, modelIndex = _b.modelIndex;\n                opQueries.push(MS.struct.generator.atomGroups({\n                    'atom-test': tests.length > 1 ? MS.core.logic.or(tests) : tests[0],\n                    'chain-test': opName.length > 1\n                        ? MS.core.set.has([MS.core.type.set(opName), opProp])\n                        : MS.core.rel.eq([opProp, opName[0]]),\n                    'entity-test': MS.core.logic.and([\n                        MS.core.rel.eq([MS.struct.atomProperty.core.modelLabel(), modelLabel]),\n                        MS.core.rel.eq([MS.struct.atomProperty.core.modelIndex(), modelIndex]),\n                    ])\n                }));\n            }\n            else {\n                opQueries.push(MS.struct.generator.atomGroups({\n                    'atom-test': tests.length > 1 ? MS.core.logic.or(tests) : tests[0],\n                    'chain-test': opName.length > 1\n                        ? MS.core.set.has([MS.core.type.set(opName), opProp])\n                        : MS.core.rel.eq([opProp, opName[0]])\n                }));\n            }\n        });\n        return MS.struct.modifier.union([\n            opQueries.length === 1\n                ? opQueries[0]\n                // Need to union before merge for fast performance\n                : MS.struct.combinator.merge(opQueries.map(function (q) { return MS.struct.modifier.union([q]); }))\n        ]);\n    }\n    Loci.toExpression = toExpression;\n    function getOpData(opName, xs, multimodel, modelLabel, modelIndex) {\n        sortArray(xs);\n        var ranges = [];\n        var set = [];\n        var i = 0;\n        var len = xs.length;\n        while (i < len) {\n            var start = i;\n            i++;\n            while (i < len && xs[i - 1] + 1 === xs[i])\n                i++;\n            var end = i;\n            // TODO: is this a good value?\n            if (end - start > 12) {\n                ranges[ranges.length] = xs[start];\n                ranges[ranges.length] = xs[end - 1];\n            }\n            else {\n                for (var j = start; j < end; j++) {\n                    set[set.length] = xs[j];\n                }\n            }\n        }\n        return multimodel\n            ? {\n                atom: { set: set, ranges: ranges },\n                chain: { opName: [opName] },\n                entity: { modelLabel: modelLabel, modelIndex: modelIndex }\n            }\n            : {\n                atom: { set: set, ranges: ranges },\n                chain: { opName: [opName] },\n            };\n    }\n})(Loci || (Loci = {}));\n","/**\n * Copyright (c) 2019 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @author David Sehnal <david.sehnal@gmail.com>\n */\nimport { OrderedSet } from '../../../../mol-data/int';\nimport { Unit } from '../unit';\nimport { Loci } from './loci';\nimport { Location } from './location';\nexport var Stats;\n(function (Stats) {\n    function create() {\n        return {\n            elementCount: 0,\n            conformationCount: 0,\n            residueCount: 0,\n            chainCount: 0,\n            unitCount: 0,\n            structureCount: 0,\n            firstElementLoc: Location.create(void 0),\n            firstConformationLoc: Location.create(void 0),\n            firstResidueLoc: Location.create(void 0),\n            firstChainLoc: Location.create(void 0),\n            firstUnitLoc: Location.create(void 0),\n            firstStructureLoc: Location.create(void 0),\n        };\n    }\n    Stats.create = create;\n    function addCountHelper(map, key, inc) {\n        var count = map.get(key) || 0;\n        map.set(key, count + inc);\n    }\n    function handleElement(stats, structure, element) {\n        var indices = element.indices, unit = element.unit;\n        var elements = unit.elements;\n        var size = OrderedSet.size(indices);\n        var lociResidueAltIdCounts = new Map();\n        var residueAltIdCounts = new Map();\n        if (size > 0) {\n            Location.set(stats.firstElementLoc, structure, unit, elements[OrderedSet.start(indices)]);\n        }\n        // count single element unit as unit not element\n        if (size === elements.length) {\n            stats.unitCount += 1;\n            if (stats.unitCount === 1) {\n                Location.set(stats.firstUnitLoc, structure, unit, elements[OrderedSet.start(indices)]);\n            }\n        }\n        else if (size === 1) {\n            if (Unit.Traits.is(unit.traits, Unit.Trait.MultiChain)) {\n                // handled in `handleUnitChainsSimple`\n                return;\n            }\n            else {\n                stats.elementCount += 1;\n                if (stats.elementCount === 1) {\n                    Location.set(stats.firstElementLoc, structure, unit, elements[OrderedSet.start(indices)]);\n                }\n            }\n        }\n        else {\n            if (Unit.isAtomic(unit)) {\n                var _a = unit.model.atomicHierarchy.residueAtomSegments, index = _a.index, offsets_1 = _a.offsets;\n                var label_alt_id_1 = unit.model.atomicHierarchy.atoms.label_alt_id;\n                var i = 0;\n                var _loop_1 = function () {\n                    lociResidueAltIdCounts.clear();\n                    var j = 0;\n                    var eI = elements[OrderedSet.getAt(indices, i)];\n                    var rI = index[eI];\n                    addCountHelper(lociResidueAltIdCounts, label_alt_id_1.value(eI), 1);\n                    ++i;\n                    ++j;\n                    while (i < size) {\n                        var eI_1 = elements[OrderedSet.getAt(indices, i)];\n                        if (index[eI_1] !== rI)\n                            break;\n                        addCountHelper(lociResidueAltIdCounts, label_alt_id_1.value(eI_1), 1);\n                        ++i;\n                        ++j;\n                    }\n                    if (offsets_1[rI + 1] - offsets_1[rI] === j) {\n                        // full residue\n                        stats.residueCount += 1;\n                        if (stats.residueCount === 1) {\n                            Location.set(stats.firstResidueLoc, structure, unit, offsets_1[rI]);\n                        }\n                    }\n                    else {\n                        // partial residue\n                        residueAltIdCounts.clear();\n                        for (var l = offsets_1[rI], _l = offsets_1[rI + 1]; l < _l; ++l) {\n                            addCountHelper(residueAltIdCounts, label_alt_id_1.value(l), 1);\n                        }\n                        // check if shared atom count match\n                        if (residueAltIdCounts.get('') === lociResidueAltIdCounts.get('')) {\n                            lociResidueAltIdCounts.forEach(function (v, k) {\n                                if (residueAltIdCounts.get(k) !== v)\n                                    return;\n                                if (k !== '') {\n                                    stats.conformationCount += 1;\n                                    if (stats.conformationCount === 1) {\n                                        for (var l = offsets_1[rI], _l = offsets_1[rI + 1]; l < _l; ++l) {\n                                            if (k === label_alt_id_1.value(l)) {\n                                                Location.set(stats.firstConformationLoc, structure, unit, l);\n                                                break;\n                                            }\n                                        }\n                                    }\n                                }\n                                j -= v;\n                            });\n                        }\n                        stats.elementCount += j;\n                    }\n                };\n                while (i < size) {\n                    _loop_1();\n                }\n            }\n            else {\n                stats.elementCount += size;\n                if (stats.elementCount === 1) {\n                    Location.set(stats.firstElementLoc, structure, unit, elements[OrderedSet.start(indices)]);\n                }\n            }\n        }\n    }\n    function handleUnitChainsSimple(stats, structure, element) {\n        var indices = element.indices, unit = element.unit;\n        var size = OrderedSet.size(indices);\n        if (size === 0)\n            return;\n        var elements = unit.elements;\n        if (!Unit.Traits.is(unit.traits, Unit.Trait.MultiChain)) {\n            if (size === elements.length) {\n                stats.chainCount += 1;\n                if (stats.chainCount === 1) {\n                    Location.set(stats.firstChainLoc, structure, unit, elements[OrderedSet.start(indices)]);\n                }\n            }\n            return;\n        }\n        var segments = Unit.isAtomic(unit)\n            ? unit.model.atomicHierarchy.chainAtomSegments\n            : Unit.isSpheres(unit)\n                ? unit.model.coarseHierarchy.spheres.chainElementSegments\n                : Unit.isGaussians(unit)\n                    ? unit.model.coarseHierarchy.gaussians.chainElementSegments\n                    : void 0;\n        if (!segments) {\n            console.warn('StructureElement loci stats: unknown unit type');\n            return;\n        }\n        var index = segments.index, offsets = segments.offsets;\n        var i = 0;\n        while (i < size) {\n            var j = 0;\n            var eI = elements[OrderedSet.getAt(indices, i)];\n            var cI = index[eI];\n            ++i;\n            ++j;\n            while (i < size) {\n                var eI_2 = elements[OrderedSet.getAt(indices, i)];\n                if (index[eI_2] !== cI)\n                    break;\n                ++i;\n                ++j;\n            }\n            if (offsets[cI + 1] - offsets[cI] === j) {\n                // full chain\n                stats.chainCount += 1;\n                if (stats.chainCount === 1) {\n                    Location.set(stats.firstChainLoc, structure, unit, offsets[cI]);\n                }\n            }\n            else if (size === 1) {\n                // need to handle here, skipped in `handleElement`\n                stats.elementCount += 1;\n                if (stats.elementCount === 1) {\n                    Location.set(stats.firstElementLoc, structure, unit, eI);\n                }\n            }\n        }\n    }\n    function handleUnitChainsPartitioned(stats, structure, lociElements, start, end) {\n        var element = lociElements[start];\n        // all the elements have the same model since they are part of the same group so this is ok.\n        var segments = Unit.isAtomic(element.unit)\n            ? element.unit.model.atomicHierarchy.chainAtomSegments\n            : Unit.isSpheres(element.unit)\n                ? element.unit.model.coarseHierarchy.spheres.chainElementSegments\n                : Unit.isGaussians(element.unit)\n                    ? element.unit.model.coarseHierarchy.gaussians.chainElementSegments\n                    : void 0;\n        if (!segments) {\n            console.warn('StructureElement loci stats: unknown unit type');\n            return;\n        }\n        var index = segments.index, offsets = segments.offsets;\n        var chainCounts = new Map();\n        for (var elIndex = start; elIndex < end; elIndex++) {\n            element = lociElements[elIndex];\n            var indices = element.indices, unit = element.unit;\n            var size = OrderedSet.size(indices);\n            if (size === 0)\n                continue;\n            var elements = unit.elements;\n            if (!Unit.Traits.is(unit.traits, Unit.Trait.MultiChain)) {\n                var eI = elements[OrderedSet.start(indices)];\n                addCountHelper(chainCounts, index[eI], elements.length);\n                continue;\n            }\n            var i = 0;\n            while (i < size) {\n                var j = 0;\n                var eI = elements[OrderedSet.getAt(indices, i)];\n                var cI = index[eI];\n                ++i;\n                ++j;\n                while (i < size) {\n                    var eI_3 = elements[OrderedSet.getAt(indices, i)];\n                    if (index[eI_3] !== cI)\n                        break;\n                    ++i;\n                    ++j;\n                }\n                addCountHelper(chainCounts, cI, j);\n            }\n        }\n        var firstCI = -1;\n        chainCounts.forEach(function (count, cI) {\n            if (offsets[cI + 1] - offsets[cI] === count) {\n                // full chain\n                stats.chainCount += 1;\n                if (stats.chainCount === 1) {\n                    firstCI = cI;\n                }\n            }\n        });\n        if (firstCI < 0)\n            return;\n        for (var elIndex = start; elIndex < end; elIndex++) {\n            element = lociElements[elIndex];\n            var indices = element.indices, unit = element.unit;\n            var size = OrderedSet.size(indices);\n            if (size === 0)\n                continue;\n            var elements = unit.elements;\n            var i = 0;\n            while (i < size) {\n                var eI = elements[OrderedSet.getAt(indices, i)];\n                var cI = index[eI];\n                if (cI === firstCI) {\n                    Location.set(stats.firstChainLoc, structure, unit, eI);\n                    return;\n                }\n            }\n        }\n    }\n    function ofLoci(loci) {\n        var stats = create();\n        if (Loci.isEmpty(loci))\n            return stats;\n        var hasPartitions = false;\n        if (Loci.isWholeStructure(loci)) {\n            stats.structureCount += 1;\n            if (stats.structureCount === 1) {\n                var _a = loci.elements[0], unit = _a.unit, indices = _a.indices;\n                Location.set(stats.firstStructureLoc, loci.structure, unit, unit.elements[OrderedSet.min(indices)]);\n            }\n        }\n        else {\n            for (var _i = 0, _b = loci.elements; _i < _b.length; _i++) {\n                var e = _b[_i];\n                handleElement(stats, loci.structure, e);\n                if (!Unit.Traits.is(e.unit.traits, Unit.Trait.Partitioned)) {\n                    handleUnitChainsSimple(stats, loci.structure, e);\n                }\n                else {\n                    hasPartitions = true;\n                }\n            }\n        }\n        if (hasPartitions) {\n            for (var i = 0, len = loci.elements.length; i < len; i++) {\n                var e = loci.elements[i];\n                if (!Unit.Traits.is(e.unit.traits, Unit.Trait.Partitioned))\n                    continue;\n                var start = i;\n                while (i < len && Unit.areSameChainOperatorGroup(loci.elements[i].unit, e.unit)) {\n                    i++;\n                }\n                var end = i;\n                i--;\n                if (end - start === 1) {\n                    handleUnitChainsSimple(stats, loci.structure, e);\n                }\n                else {\n                    handleUnitChainsPartitioned(stats, loci.structure, loci.elements, start, end);\n                }\n            }\n        }\n        return stats;\n    }\n    Stats.ofLoci = ofLoci;\n    /** Adds counts of two Stats objects together, assumes they describe different structures */\n    function add(out, a, b) {\n        if (a.elementCount === 1 && b.elementCount === 0) {\n            Location.copy(out.firstElementLoc, a.firstElementLoc);\n        }\n        else if (a.elementCount === 0 && b.elementCount === 1) {\n            Location.copy(out.firstElementLoc, b.firstElementLoc);\n        }\n        if (a.conformationCount === 1 && b.conformationCount === 0) {\n            Location.copy(out.firstConformationLoc, a.firstConformationLoc);\n        }\n        else if (a.conformationCount === 0 && b.conformationCount === 1) {\n            Location.copy(out.firstConformationLoc, b.firstConformationLoc);\n        }\n        if (a.residueCount === 1 && b.residueCount === 0) {\n            Location.copy(out.firstResidueLoc, a.firstResidueLoc);\n        }\n        else if (a.residueCount === 0 && b.residueCount === 1) {\n            Location.copy(out.firstResidueLoc, b.firstResidueLoc);\n        }\n        if (a.chainCount === 1 && b.chainCount === 0) {\n            Location.copy(out.firstChainLoc, a.firstChainLoc);\n        }\n        else if (a.chainCount === 0 && b.chainCount === 1) {\n            Location.copy(out.firstChainLoc, b.firstChainLoc);\n        }\n        if (a.unitCount === 1 && b.unitCount === 0) {\n            Location.copy(out.firstUnitLoc, a.firstUnitLoc);\n        }\n        else if (a.unitCount === 0 && b.unitCount === 1) {\n            Location.copy(out.firstUnitLoc, b.firstUnitLoc);\n        }\n        if (a.structureCount === 1 && b.structureCount === 0) {\n            Location.copy(out.firstStructureLoc, a.firstStructureLoc);\n        }\n        else if (a.structureCount === 0 && b.structureCount === 1) {\n            Location.copy(out.firstStructureLoc, b.firstStructureLoc);\n        }\n        out.elementCount = a.elementCount + b.elementCount;\n        out.conformationCount = a.conformationCount + b.conformationCount;\n        out.residueCount = a.residueCount + b.residueCount;\n        out.chainCount = a.chainCount + b.chainCount;\n        out.unitCount = a.unitCount + b.unitCount;\n        out.structureCount = a.structureCount + b.structureCount;\n        return out;\n    }\n    Stats.add = add;\n})(Stats || (Stats = {}));\n","/**\n * Copyright (c) 2019-2022 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\nimport { __assign, __awaiter, __generator } from \"tslib\";\nimport { ParamDefinition as PD } from '../../mol-util/param-definition';\nimport { ValueBox } from '../../mol-util';\nimport { CustomPropertyDescriptor } from '../../mol-model/custom-property';\nimport { stringToWords } from '../../mol-util/string';\nexport { CustomModelProperty };\nvar CustomModelProperty;\n(function (CustomModelProperty) {\n    function createProvider(builder) {\n        var _this = this;\n        var descriptorName = builder.descriptor.name;\n        var propertyDataName = builder.type === 'static' ? '_staticPropertyData' : '_dynamicPropertyData';\n        var get = function (data) {\n            if (!(descriptorName in data[propertyDataName])) {\n                data[propertyDataName][descriptorName] = {\n                    props: __assign({}, PD.getDefaultValues(builder.getParams(data))),\n                    data: ValueBox.create(undefined)\n                };\n            }\n            return data[propertyDataName][descriptorName];\n        };\n        var set = function (data, props, value) {\n            var property = get(data);\n            data[propertyDataName][descriptorName] = {\n                props: props,\n                data: ValueBox.withValue(property.data, value)\n            };\n        };\n        return {\n            label: builder.label,\n            descriptor: builder.descriptor,\n            isHidden: builder.isHidden,\n            getParams: function (data) {\n                var params = PD.clone(builder.getParams(data));\n                PD.setDefaultValues(params, get(data).props);\n                return params;\n            },\n            defaultParams: builder.defaultParams,\n            isApplicable: builder.isApplicable,\n            attach: function (ctx, data, props, addRef) {\n                if (props === void 0) { props = {}; }\n                return __awaiter(_this, void 0, void 0, function () {\n                    var property, p, _a, value, assets;\n                    return __generator(this, function (_b) {\n                        switch (_b.label) {\n                            case 0:\n                                if (addRef)\n                                    data.customProperties.reference(builder.descriptor, true);\n                                property = get(data);\n                                p = PD.merge(builder.defaultParams, property.props, props);\n                                if (property.data.value && PD.areEqual(builder.defaultParams, property.props, p))\n                                    return [2 /*return*/];\n                                return [4 /*yield*/, builder.obtain(ctx, data, p)];\n                            case 1:\n                                _a = _b.sent(), value = _a.value, assets = _a.assets;\n                                data.customProperties.add(builder.descriptor);\n                                data.customProperties.assets(builder.descriptor, assets);\n                                set(data, p, value);\n                                return [2 /*return*/];\n                        }\n                    });\n                });\n            },\n            ref: function (data, add) { return data.customProperties.reference(builder.descriptor, add); },\n            get: function (data) { var _a; return (_a = get(data)) === null || _a === void 0 ? void 0 : _a.data; },\n            set: function (data, props, value) {\n                if (props === void 0) { props = {}; }\n                var property = get(data);\n                var p = PD.merge(builder.defaultParams, property.props, props);\n                if (!PD.areEqual(builder.defaultParams, property.props, p)) {\n                    // this invalidates property.value\n                    set(data, p, value);\n                    // dispose of assets\n                    data.customProperties.assets(builder.descriptor);\n                }\n            },\n            props: function (data) { return get(data).props; },\n        };\n    }\n    CustomModelProperty.createProvider = createProvider;\n    function createSimple(name, type, defaultValue) {\n        var _this = this;\n        var defaultParams = { value: PD.Value(defaultValue, { isHidden: true }) };\n        return createProvider({\n            label: stringToWords(name),\n            descriptor: CustomPropertyDescriptor({ name: name }),\n            isHidden: true,\n            type: type,\n            defaultParams: defaultParams,\n            getParams: function () { return ({ value: PD.Value(defaultValue, { isHidden: true }) }); },\n            isApplicable: function () { return true; },\n            obtain: function (ctx, data, props) { return __awaiter(_this, void 0, void 0, function () {\n                return __generator(this, function (_a) {\n                    return [2 /*return*/, __assign(__assign({}, PD.getDefaultValues(defaultParams)), props)];\n                });\n            }); }\n        });\n    }\n    CustomModelProperty.createSimple = createSimple;\n})(CustomModelProperty || (CustomModelProperty = {}));\n","/**\n * Copyright (c) 2021-23 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n */\nimport { __awaiter, __generator } from \"tslib\";\nimport { MmcifFormat } from '../../mol-model-formats/structure/mmcif';\nimport { CustomPropertyDescriptor } from '../../mol-model/custom-property';\nimport { CustomModelProperty } from '../common/custom-model-property';\nexport { SIFTSMapping as SIFTSMapping };\nvar SIFTSMapping;\n(function (SIFTSMapping) {\n    var _this = this;\n    SIFTSMapping.Provider = CustomModelProperty.createProvider({\n        label: 'SIFTS Mapping',\n        descriptor: CustomPropertyDescriptor({\n            name: 'sifts_sequence_mapping'\n        }),\n        type: 'static',\n        defaultParams: {},\n        getParams: function () { return ({}); },\n        isApplicable: function (data) { return isAvailable(data); },\n        obtain: function (ctx, data) { return __awaiter(_this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/, { value: fromCif(data) }];\n            });\n        }); }\n    });\n    function isAvailable(model) {\n        if (!MmcifFormat.is(model.sourceData))\n            return false;\n        var _a = model.sourceData.data.db.atom_site, db_name = _a.pdbx_sifts_xref_db_name, db_acc = _a.pdbx_sifts_xref_db_acc, db_num = _a.pdbx_sifts_xref_db_num, db_res = _a.pdbx_sifts_xref_db_res;\n        return db_name.isDefined && db_acc.isDefined && db_num.isDefined && db_res.isDefined;\n    }\n    SIFTSMapping.isAvailable = isAvailable;\n    function getKey(loc) {\n        var model = loc.unit.model;\n        var data = SIFTSMapping.Provider.get(model).value;\n        if (!data)\n            return '';\n        var rI = model.atomicHierarchy.residueAtomSegments.index[loc.element];\n        return data.accession[rI];\n    }\n    SIFTSMapping.getKey = getKey;\n    function getLabel(loc) {\n        var model = loc.unit.model;\n        var data = SIFTSMapping.Provider.get(model).value;\n        if (!data)\n            return;\n        var rI = model.atomicHierarchy.residueAtomSegments.index[loc.element];\n        var dbName = data.dbName[rI];\n        if (!dbName)\n            return;\n        return \"\".concat(dbName, \" \").concat(data.accession[rI], \" \").concat(data.num[rI], \" \").concat(data.residue[rI]);\n    }\n    SIFTSMapping.getLabel = getLabel;\n    function fromCif(model) {\n        if (!MmcifFormat.is(model.sourceData))\n            return;\n        var _a = model.sourceData.data.db.atom_site, db_name = _a.pdbx_sifts_xref_db_name, db_acc = _a.pdbx_sifts_xref_db_acc, db_num = _a.pdbx_sifts_xref_db_num, db_res = _a.pdbx_sifts_xref_db_res;\n        if (!db_name.isDefined || !db_acc.isDefined || !db_num.isDefined || !db_res.isDefined)\n            return;\n        var atomSourceIndex = model.atomicHierarchy.atomSourceIndex;\n        var _b = model.atomicHierarchy.residueAtomSegments, count = _b.count, residueOffsets = _b.offsets;\n        var dbName = new Array(count);\n        var accession = new Array(count);\n        var num = new Array(count);\n        var residue = new Array(count);\n        for (var i = 0; i < count; i++) {\n            var row = atomSourceIndex.value(residueOffsets[i]);\n            if (db_name.valueKind(row) !== 0 /* Column.ValueKinds.Present */) {\n                dbName[i] = '';\n                accession[i] = '';\n                num[i] = '';\n                residue[i] = '';\n                continue;\n            }\n            dbName[i] = db_name.value(row);\n            accession[i] = db_acc.value(row);\n            num[i] = db_num.value(row);\n            residue[i] = db_res.value(row);\n        }\n        return { dbName: dbName, accession: accession, num: num, residue: residue };\n    }\n})(SIFTSMapping || (SIFTSMapping = {}));\n","/**\n * Copyright (c) 2017-2019 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\nimport { Unit } from '../unit';\nimport { StructureProperties } from '../properties';\nexport function property(p) { return p; }\nfunction _wrongUnitKind(kind) { throw new Error(\"Property only available for \".concat(kind, \" models.\")); }\nexport function atomicProperty(p) {\n    return property(function (l) { return Unit.isAtomic(l.unit) ? p(l) : _wrongUnitKind('atomic'); });\n}\nexport function coarseProperty(p) {\n    return property(function (l) { return Unit.isCoarse(l.unit) ? p(l) : _wrongUnitKind('coarse'); });\n}\nexport function residueIndex(e) {\n    if (Unit.isAtomic(e.unit)) {\n        return e.unit.residueIndex[e.element];\n    }\n    else {\n        // TODO: throw error instead?\n        return -1;\n    }\n}\nexport function chainIndex(e) {\n    if (Unit.isAtomic(e.unit)) {\n        return e.unit.chainIndex[e.element];\n    }\n    else {\n        // TODO: throw error instead?\n        return -1;\n    }\n}\nexport function entityIndex(l) {\n    return StructureProperties.entity.key(l);\n}\n","/**\n * Copyright (c) 2017-2018 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\nimport { CifWriter } from '../../../../mol-io/writer/cif';\nimport { MmcifFormat } from '../../../../mol-model-formats/structure/mmcif';\nimport { SIFTSMapping } from '../../../../mol-model-props/sequence/sifts-mapping';\nimport { StructureProperties as P } from '../../structure';\nvar CifField = CifWriter.Field;\nvar E = CifWriter.Encodings;\nfunction atom_site_label_asym_id(e) {\n    var l = P.chain.label_asym_id(e);\n    var suffix = e.unit.conformation.operator.suffix;\n    if (!suffix)\n        return l;\n    return l + suffix;\n}\nfunction atom_site_auth_asym_id(e) {\n    var l = P.chain.auth_asym_id(e);\n    var suffix = e.unit.conformation.operator.suffix;\n    if (!suffix)\n        return l;\n    return l + suffix;\n}\nvar atom_site_pdbx_label_index = {\n    shouldInclude: function (s) {\n        var _a;\n        return !!((_a = s.atom_site) === null || _a === void 0 ? void 0 : _a.pdbx_label_index.isDefined);\n    },\n    value: function (e, d) {\n        var srcIndex = d.sourceIndex.value(e.element);\n        return d.atom_site.pdbx_label_index.value(srcIndex);\n    },\n};\nvar SIFTS = {\n    shouldInclude: function (s) {\n        return SIFTSMapping.isAvailable(s.structure.models[0]);\n    },\n    pdbx_sifts_xref_db_name: {\n        value: function (e, d) {\n            var srcIndex = d.sourceIndex.value(e.element);\n            return d.atom_site.pdbx_sifts_xref_db_name.value(srcIndex);\n        },\n        valueKind: function (e, d) {\n            var srcIndex = d.sourceIndex.value(e.element);\n            return d.atom_site.pdbx_sifts_xref_db_name.valueKind(srcIndex);\n        },\n    },\n    pdbx_sifts_xref_db_acc: {\n        value: function (e, d) {\n            var srcIndex = d.sourceIndex.value(e.element);\n            return d.atom_site.pdbx_sifts_xref_db_acc.value(srcIndex);\n        },\n        valueKind: function (e, d) {\n            var srcIndex = d.sourceIndex.value(e.element);\n            return d.atom_site.pdbx_sifts_xref_db_acc.valueKind(srcIndex);\n        },\n    },\n    pdbx_sifts_xref_db_num: {\n        value: function (e, d) {\n            var srcIndex = d.sourceIndex.value(e.element);\n            return d.atom_site.pdbx_sifts_xref_db_num.value(srcIndex);\n        },\n        valueKind: function (e, d) {\n            var srcIndex = d.sourceIndex.value(e.element);\n            return d.atom_site.pdbx_sifts_xref_db_num.valueKind(srcIndex);\n        },\n    },\n    pdbx_sifts_xref_db_res: {\n        value: function (e, d) {\n            var srcIndex = d.sourceIndex.value(e.element);\n            return d.atom_site.pdbx_sifts_xref_db_res.value(srcIndex);\n        },\n        valueKind: function (e, d) {\n            var srcIndex = d.sourceIndex.value(e.element);\n            return d.atom_site.pdbx_sifts_xref_db_res.valueKind(srcIndex);\n        },\n    }\n};\nvar atom_site_fields = function () { return CifWriter.fields()\n    .str('group_PDB', P.residue.group_PDB)\n    .index('id')\n    .str('type_symbol', P.atom.type_symbol)\n    .str('label_atom_id', P.atom.label_atom_id)\n    .str('label_comp_id', P.atom.label_comp_id)\n    .int('label_seq_id', P.residue.label_seq_id, {\n    encoder: E.deltaRLE,\n    valueKind: function (k, d) {\n        var m = k.unit.model;\n        return m.atomicHierarchy.residues.label_seq_id.valueKind(m.atomicHierarchy.residueAtomSegments.index[k.element]);\n    }\n})\n    .str('label_alt_id', P.atom.label_alt_id)\n    .str('pdbx_PDB_ins_code', P.residue.pdbx_PDB_ins_code)\n    .str('label_asym_id', atom_site_label_asym_id)\n    .str('label_entity_id', P.chain.label_entity_id)\n    .float('Cartn_x', P.atom.x, { digitCount: 3, encoder: E.fixedPoint3 })\n    .float('Cartn_y', P.atom.y, { digitCount: 3, encoder: E.fixedPoint3 })\n    .float('Cartn_z', P.atom.z, { digitCount: 3, encoder: E.fixedPoint3 })\n    .float('occupancy', P.atom.occupancy, { digitCount: 2, encoder: E.fixedPoint2 })\n    .float('B_iso_or_equiv', P.atom.B_iso_or_equiv, { digitCount: 2, encoder: E.fixedPoint2 })\n    .int('pdbx_formal_charge', P.atom.pdbx_formal_charge, {\n    encoder: E.deltaRLE,\n    valueKind: function (k, d) { return k.unit.model.atomicHierarchy.atoms.pdbx_formal_charge.valueKind(k.element); }\n})\n    .str('auth_atom_id', P.atom.auth_atom_id)\n    .str('auth_comp_id', P.atom.auth_comp_id)\n    .int('auth_seq_id', P.residue.auth_seq_id, { encoder: E.deltaRLE })\n    .str('auth_asym_id', atom_site_auth_asym_id)\n    .int('pdbx_PDB_model_num', P.unit.model_num, { encoder: E.deltaRLE })\n    .int('pdbx_label_index', atom_site_pdbx_label_index.value, { shouldInclude: atom_site_pdbx_label_index.shouldInclude })\n    // SIFTS\n    .str('pdbx_sifts_xref_db_name', SIFTS.pdbx_sifts_xref_db_name.value, { shouldInclude: SIFTS.shouldInclude, valueKind: SIFTS.pdbx_sifts_xref_db_name.valueKind })\n    .str('pdbx_sifts_xref_db_acc', SIFTS.pdbx_sifts_xref_db_acc.value, { shouldInclude: SIFTS.shouldInclude, valueKind: SIFTS.pdbx_sifts_xref_db_acc.valueKind })\n    .str('pdbx_sifts_xref_db_num', SIFTS.pdbx_sifts_xref_db_num.value, { shouldInclude: SIFTS.shouldInclude, valueKind: SIFTS.pdbx_sifts_xref_db_num.valueKind })\n    .str('pdbx_sifts_xref_db_res', SIFTS.pdbx_sifts_xref_db_res.value, { shouldInclude: SIFTS.shouldInclude, valueKind: SIFTS.pdbx_sifts_xref_db_res.valueKind })\n    // .str('operator_name', P.unit.operator_name, {\n    //     shouldInclude: structure => structure.units.some(u => !u.conformation.operator.isIdentity)\n    // })\n    .getFields(); };\nexport var _atom_site = {\n    name: 'atom_site',\n    instance: function (_a) {\n        var structures = _a.structures;\n        return {\n            fields: atom_site_fields(),\n            source: structures.map(function (s) { return ({\n                data: {\n                    structure: s,\n                    sourceIndex: s.model.atomicHierarchy.atomSourceIndex,\n                    atom_site: MmcifFormat.is(s.model.sourceData) ? s.model.sourceData.data.db.atom_site : void 0\n                },\n                rowCount: s.elementCount,\n                keys: function () { return s.elementLocations(); }\n            }); })\n        };\n    }\n};\nfunction prepostfixed(prefix, name) {\n    if (prefix)\n        return \"\".concat(prefix, \"_\").concat(name);\n    return name;\n}\nfunction prefixedInsCode(prefix) {\n    if (!prefix)\n        return 'pdbx_PDB_ins_code';\n    return \"pdbx_\".concat(prefix, \"_PDB_ins_code\");\n}\nfunction mappedProp(loc, prop) {\n    return function (k, d) { return prop(loc(k, d)); };\n}\nfunction addModelNum(fields, getLocation, options) {\n    if (options && options.includeModelNum) {\n        fields.int('pdbx_PDB_model_num', mappedProp(getLocation, P.unit.model_num));\n    }\n}\nexport function residueIdFields(getLocation, options) {\n    var prefix = options && options.prefix;\n    var ret = CifWriter.fields()\n        .str(prepostfixed(prefix, \"label_comp_id\"), mappedProp(getLocation, P.atom.label_comp_id))\n        .int(prepostfixed(prefix, \"label_seq_id\"), mappedProp(getLocation, P.residue.label_seq_id), {\n        encoder: E.deltaRLE,\n        valueKind: function (k, d) {\n            var e = getLocation(k, d);\n            var m = e.unit.model;\n            return m.atomicHierarchy.residues.label_seq_id.valueKind(m.atomicHierarchy.residueAtomSegments.index[e.element]);\n        }\n    })\n        .str(prefixedInsCode(prefix), mappedProp(getLocation, P.residue.pdbx_PDB_ins_code))\n        .str(prepostfixed(prefix, \"label_asym_id\"), mappedProp(getLocation, P.chain.label_asym_id))\n        .str(prepostfixed(prefix, \"label_entity_id\"), mappedProp(getLocation, P.chain.label_entity_id))\n        .str(prepostfixed(prefix, \"auth_comp_id\"), mappedProp(getLocation, P.atom.auth_comp_id))\n        .int(prepostfixed(prefix, \"auth_seq_id\"), mappedProp(getLocation, P.residue.auth_seq_id), { encoder: E.deltaRLE })\n        .str(prepostfixed(prefix, \"auth_asym_id\"), mappedProp(getLocation, P.chain.auth_asym_id));\n    addModelNum(ret, getLocation, options);\n    return ret.getFields();\n}\nexport function chainIdFields(getLocation, options) {\n    var prefix = options && options.prefix;\n    var ret = CifField.build()\n        .str(prepostfixed(prefix, \"label_asym_id\"), mappedProp(getLocation, P.chain.label_asym_id))\n        .str(prepostfixed(prefix, \"label_entity_id\"), mappedProp(getLocation, P.chain.label_entity_id))\n        .str(prepostfixed(prefix, \"auth_asym_id\"), mappedProp(getLocation, P.chain.auth_asym_id));\n    addModelNum(ret, getLocation, options);\n    return ret.getFields();\n}\nexport function entityIdFields(getLocation, options) {\n    var prefix = options && options.prefix;\n    var ret = CifField.build()\n        .str(prepostfixed(prefix, \"label_entity_id\"), mappedProp(getLocation, P.chain.label_entity_id));\n    addModelNum(ret, getLocation, options);\n    return ret.getFields();\n}\nexport function atomIdFields(getLocation, options) {\n    var prefix = options && options.prefix;\n    var ret = CifWriter.fields()\n        .str(prepostfixed(prefix, \"label_atom_id\"), mappedProp(getLocation, P.atom.label_atom_id))\n        .str(prepostfixed(prefix, \"label_comp_id\"), mappedProp(getLocation, P.atom.label_comp_id))\n        .int(prepostfixed(prefix, \"label_seq_id\"), mappedProp(getLocation, P.residue.label_seq_id), {\n        encoder: E.deltaRLE,\n        valueKind: function (k, d) {\n            var e = getLocation(k, d);\n            var m = e.unit.model;\n            return m.atomicHierarchy.residues.label_seq_id.valueKind(m.atomicHierarchy.residueAtomSegments.index[e.element]);\n        }\n    })\n        .str(prepostfixed(prefix, \"label_alt_id\"), mappedProp(getLocation, P.atom.label_alt_id))\n        .str(prefixedInsCode(prefix), mappedProp(getLocation, P.residue.pdbx_PDB_ins_code))\n        .str(prepostfixed(prefix, \"label_asym_id\"), mappedProp(getLocation, P.chain.label_asym_id))\n        .str(prepostfixed(prefix, \"label_entity_id\"), mappedProp(getLocation, P.chain.label_entity_id))\n        .str(prepostfixed(prefix, \"auth_atom_id\"), mappedProp(getLocation, P.atom.auth_atom_id))\n        .str(prepostfixed(prefix, \"auth_comp_id\"), mappedProp(getLocation, P.atom.auth_comp_id))\n        .int(prepostfixed(prefix, \"auth_seq_id\"), mappedProp(getLocation, P.residue.auth_seq_id), { encoder: E.deltaRLE })\n        .str(prepostfixed(prefix, \"auth_asym_id\"), mappedProp(getLocation, P.chain.auth_asym_id));\n    addModelNum(ret, getLocation, options);\n    return ret.getFields();\n}\n","/**\n * Copyright (c) 2018 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n */\nimport { __spreadArray } from \"tslib\";\nimport { Segmentation } from '../../../../mol-data/int';\nimport { CifWriter } from '../../../../mol-io/writer/cif';\nimport { StructureElement, Unit } from '../../structure';\nvar CifField = CifWriter.Field;\nimport { residueIdFields } from './atom_site';\nimport { ModelSecondaryStructure } from '../../../../mol-model-formats/structure/property/secondary-structure';\nexport var _struct_conf = {\n    name: 'struct_conf',\n    instance: function (ctx) {\n        var elements = findElements(ctx, 'helix');\n        return {\n            fields: struct_conf_fields(),\n            source: [{ data: elements, rowCount: elements.length }]\n        };\n    }\n};\nexport var _struct_sheet_range = {\n    name: 'struct_sheet_range',\n    instance: function (ctx) {\n        var elements = findElements(ctx, 'sheet').sort(compare_ssr);\n        return {\n            fields: struct_sheet_range_fields(),\n            source: [{ data: elements, rowCount: elements.length }]\n        };\n    }\n};\nfunction compare_ssr(x, y) {\n    var a = x.element, b = y.element;\n    return a.sheet_id < b.sheet_id ? -1 : a.sheet_id === b.sheet_id ? x.start.element - y.start.element : 1;\n}\n;\nvar struct_conf_fields = function () { return __spreadArray(__spreadArray(__spreadArray([\n    CifField.str('conf_type_id', function (i, data) { return data[i].element.type_id; }),\n    CifField.str('id', function (i, data, idx) { return \"\".concat(data[i].element.type_id).concat(idx + 1); })\n], residueIdFields(function (i, e) { return e[i].start; }, { prefix: 'beg' }), true), residueIdFields(function (i, e) { return e[i].end; }, { prefix: 'end' }), true), [\n    CifField.str('pdbx_PDB_helix_class', function (i, data) { return data[i].element.helix_class; }),\n    CifField.str('details', function (i, data) { return data[i].element.details || ''; }, {\n        valueKind: function (i, d) { return !!d[i].element.details ? 0 /* Column.ValueKinds.Present */ : 2 /* Column.ValueKinds.Unknown */; }\n    }),\n    CifField.int('pdbx_PDB_helix_length', function (i, data) { return data[i].length; })\n], false); };\nvar struct_sheet_range_fields = function () { return __spreadArray(__spreadArray(__spreadArray([\n    CifField.str('sheet_id', function (i, data) { return data[i].element.sheet_id; }),\n    CifField.index('id')\n], residueIdFields(function (i, e) { return e[i].start; }, { prefix: 'beg' }), true), residueIdFields(function (i, e) { return e[i].end; }, { prefix: 'end' }), true), [\n    CifField.str('symmetry', function (i, data) { return ''; }, { valueKind: function (i, d) { return 2 /* Column.ValueKinds.Unknown */; } })\n], false); };\nfunction findElements(ctx, kind) {\n    // TODO: encode secondary structure for different models?\n    var secondaryStructure = ModelSecondaryStructure.Provider.get(ctx.firstModel);\n    if (!secondaryStructure)\n        return [];\n    var key = secondaryStructure.key, elements = secondaryStructure.elements;\n    var ssElements = [];\n    var structure = ctx.structures[0];\n    for (var _i = 0, _a = structure.unitSymmetryGroups; _i < _a.length; _i++) {\n        var units = _a[_i].units;\n        var u = units[0];\n        if (!Unit.isAtomic(u))\n            continue;\n        var segs = u.model.atomicHierarchy.residueAtomSegments;\n        var residues = Segmentation.transientSegments(segs, u.elements);\n        var current = void 0, move = true;\n        while (residues.hasNext) {\n            if (move)\n                current = residues.move();\n            var start = current.index;\n            var startIdx = key[start];\n            var element = elements[startIdx];\n            if (element.kind !== kind) {\n                move = true;\n                continue;\n            }\n            var prev = start;\n            while (residues.hasNext) {\n                prev = current.index;\n                current = residues.move();\n                if (startIdx !== key[current.index]) {\n                    move = false;\n                    ssElements[ssElements.length] = {\n                        start: StructureElement.Location.create(structure, u, segs.offsets[start]),\n                        end: StructureElement.Location.create(structure, u, segs.offsets[prev]),\n                        length: prev - start + 1,\n                        element: element\n                    };\n                    break;\n                }\n            }\n        }\n    }\n    return ssElements;\n}\n","/**\n * Copyright (c) 2017-2018 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n */\nimport { SetUtils } from '../../../../mol-util/set';\nimport { UniqueArray } from '../../../../mol-data/generic';\nimport { sortArray } from '../../../../mol-data/util';\nimport { CifWriter } from '../../../../mol-io/writer/cif';\nimport { MmcifFormat } from '../../../../mol-model-formats/structure/mmcif';\nimport { getCifFieldType } from '../../../../mol-io/reader/cif';\nexport function getModelMmCifCategory(model, name) {\n    if (!MmcifFormat.is(model.sourceData))\n        return;\n    return model.sourceData.data.db[name];\n}\nexport function getUniqueResidueNamesFromStructures(structures) {\n    return SetUtils.unionMany.apply(SetUtils, structures.map(function (s) { return s.uniqueResidueNames; }));\n}\nexport function getUniqueEntityIdsFromStructures(structures) {\n    if (structures.length === 0)\n        return new Set();\n    var names = structures[0].model.entities.data.id;\n    return new Set(getUniqueEntityIndicesFromStructures(structures).map(function (i) { return names.value(i); }));\n}\nexport function getUniqueEntityIndicesFromStructures(structures) {\n    if (structures.length === 0)\n        return [];\n    if (structures.length === 1)\n        return structures[0].entityIndices;\n    var ret = UniqueArray.create();\n    for (var _i = 0, structures_1 = structures; _i < structures_1.length; _i++) {\n        var s = structures_1[_i];\n        for (var _a = 0, _b = s.entityIndices; _a < _b.length; _a++) {\n            var e = _b[_a];\n            UniqueArray.add(ret, e, e);\n        }\n    }\n    sortArray(ret.array);\n    return ret.array;\n}\nexport function copy_mmCif_category(name, condition) {\n    return {\n        name: name,\n        instance: function (_a) {\n            var structures = _a.structures;\n            if (condition && !condition(structures[0]))\n                return CifWriter.Category.Empty;\n            var model = structures[0].model;\n            if (!MmcifFormat.is(model.sourceData))\n                return CifWriter.Category.Empty;\n            var table = model.sourceData.data.db[name];\n            if (!table || !table._rowCount)\n                return CifWriter.Category.Empty;\n            return CifWriter.Category.ofTable(table);\n        }\n    };\n}\nexport function copy_source_mmCifCategory(encoder, ctx, category) {\n    if (!MmcifFormat.is(ctx.firstModel.sourceData))\n        return;\n    var fs = CifWriter.fields();\n    if (encoder.isBinary) {\n        for (var _i = 0, _a = category.fieldNames; _i < _a.length; _i++) {\n            var f = _a[_i];\n            // TODO: this could be optimized\n            var field = classifyField(f, category.getField(f));\n            fs.add(field);\n        }\n    }\n    else {\n        var _loop_1 = function (f) {\n            var field = category.getField(f);\n            fs.str(f, function (row) { return field.str(row); });\n        };\n        for (var _b = 0, _c = category.fieldNames; _b < _c.length; _b++) {\n            var f = _c[_b];\n            _loop_1(f);\n        }\n    }\n    var fields = fs.getFields();\n    return {\n        name: category.name,\n        instance: function () {\n            return { fields: fields, source: [{ data: void 0, rowCount: category.rowCount }] };\n        }\n    };\n}\nfunction classifyField(name, field) {\n    var type = getCifFieldType(field);\n    if (type['@type'] === 'str') {\n        return { name: name, type: 0 /* CifWriter.Field.Type.Str */, value: field.str, valueKind: field.valueKind };\n    }\n    else if (type['@type'] === 'float') {\n        return CifWriter.Field.float(name, field.float, { valueKind: field.valueKind, typedArray: Float64Array });\n    }\n    else {\n        return CifWriter.Field.int(name, field.int, { valueKind: field.valueKind, typedArray: Int32Array });\n    }\n}\n","/**\n * Copyright (c) 2017-2018 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n */\nimport { Column } from '../../../../mol-data/db';\nimport { CifWriter } from '../../../../mol-io/writer/cif';\nimport { getModelMmCifCategory, getUniqueResidueNamesFromStructures } from './utils';\nvar CifCategory = CifWriter.Category;\nexport var _chem_comp = {\n    name: 'chem_comp',\n    instance: function (_a) {\n        var firstModel = _a.firstModel, structures = _a.structures, cache = _a.cache;\n        var chem_comp = getModelMmCifCategory(structures[0].model, 'chem_comp');\n        if (!chem_comp)\n            return CifCategory.Empty;\n        var id = chem_comp.id;\n        var names = cache.uniqueResidueNames || (cache.uniqueResidueNames = getUniqueResidueNamesFromStructures(structures));\n        var indices = Column.indicesOf(id, function (id) { return names.has(id); });\n        return CifCategory.ofTable(chem_comp, indices);\n    }\n};\nexport var _chem_comp_bond = {\n    name: 'chem_comp_bond',\n    instance: function (_a) {\n        var firstModel = _a.firstModel, structures = _a.structures, cache = _a.cache;\n        var chem_comp_bond = getModelMmCifCategory(structures[0].model, 'chem_comp_bond');\n        if (!chem_comp_bond)\n            return CifCategory.Empty;\n        var comp_id = chem_comp_bond.comp_id;\n        var names = cache.uniqueResidueNames || (cache.uniqueResidueNames = getUniqueResidueNamesFromStructures(structures));\n        var indices = Column.indicesOf(comp_id, function (id) { return names.has(id); });\n        return CifCategory.ofTable(chem_comp_bond, indices);\n    }\n};\nexport var _pdbx_chem_comp_identifier = {\n    name: 'pdbx_chem_comp_identifier',\n    instance: function (_a) {\n        var firstModel = _a.firstModel, structures = _a.structures, cache = _a.cache;\n        var pdbx_chem_comp_identifier = getModelMmCifCategory(firstModel, 'pdbx_chem_comp_identifier');\n        if (!pdbx_chem_comp_identifier)\n            return CifCategory.Empty;\n        var comp_id = pdbx_chem_comp_identifier.comp_id;\n        var names = cache.uniqueResidueNames || (cache.uniqueResidueNames = getUniqueResidueNamesFromStructures(structures));\n        var indices = Column.indicesOf(comp_id, function (id) { return names.has(id); });\n        return CifCategory.ofTable(pdbx_chem_comp_identifier, indices);\n    }\n};\nexport var _pdbx_nonpoly_scheme = {\n    name: 'pdbx_nonpoly_scheme',\n    instance: function (_a) {\n        var firstModel = _a.firstModel, structures = _a.structures, cache = _a.cache;\n        var pdbx_nonpoly_scheme = getModelMmCifCategory(firstModel, 'pdbx_nonpoly_scheme');\n        if (!pdbx_nonpoly_scheme)\n            return CifCategory.Empty;\n        // TODO: filter?\n        return CifCategory.ofTable(pdbx_nonpoly_scheme);\n    }\n};\n","/**\n * Copyright (c) 2017-2018 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n */\nimport { Column } from '../../../../mol-data/db';\nimport { CifWriter } from '../../../../mol-io/writer/cif';\nimport { getModelMmCifCategory, getUniqueEntityIdsFromStructures } from './utils';\nvar CifCategory = CifWriter.Category;\nexport var _struct_asym = createCategory('struct_asym');\nexport var _entity_poly = createCategory('entity_poly');\nexport var _entity_poly_seq = createCategory('entity_poly_seq');\nfunction createCategory(categoryName) {\n    return {\n        name: categoryName,\n        instance: function (_a) {\n            var structures = _a.structures, cache = _a.cache;\n            return getCategoryInstance(structures, categoryName, cache);\n        }\n    };\n}\nfunction getCategoryInstance(structures, categoryName, cache) {\n    var category = getModelMmCifCategory(structures[0].model, categoryName);\n    if (!category)\n        return CifCategory.Empty;\n    var entity_id = category.entity_id;\n    var names = cache.uniqueEntityIds || (cache.uniqueEntityIds = getUniqueEntityIdsFromStructures(structures));\n    var indices = Column.indicesOf(entity_id, function (id) { return names.has(id); });\n    return CifCategory.ofTable(category, indices);\n}\n","/**\n * Copyright (c) 2017-2018 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\nimport { CifWriter } from '../../../mol-io/writer/cif';\nimport { _atom_site } from './categories/atom_site';\nvar CifCategory = CifWriter.Category;\nimport { _struct_conf, _struct_sheet_range } from './categories/secondary-structure';\nimport { _chem_comp, _chem_comp_bond, _pdbx_chem_comp_identifier, _pdbx_nonpoly_scheme } from './categories/misc';\nimport { getUniqueEntityIndicesFromStructures, copy_mmCif_category, copy_source_mmCifCategory } from './categories/utils';\nimport { _struct_asym, _entity_poly, _entity_poly_seq } from './categories/sequence';\nimport { CustomPropertyDescriptor } from '../../custom-property';\nimport { atom_site_operator_mapping } from './categories/atom_site_operator_mapping';\nimport { MmcifFormat } from '../../../mol-model-formats/structure/mmcif';\nexport var CifExportContext;\n(function (CifExportContext) {\n    function create(structures) {\n        var structureArray = Array.isArray(structures) ? structures : [structures];\n        return {\n            structures: structureArray,\n            firstModel: structureArray[0].model,\n            cache: Object.create(null)\n        };\n    }\n    CifExportContext.create = create;\n})(CifExportContext || (CifExportContext = {}));\nvar _entity = {\n    name: 'entity',\n    instance: function (_a) {\n        var structures = _a.structures;\n        var indices = getUniqueEntityIndicesFromStructures(structures);\n        return CifCategory.ofTable(structures[0].model.entities.data, indices);\n    }\n};\nfunction isWithoutSymmetry(structure) {\n    return structure.units.every(function (u) { return u.conformation.operator.isIdentity; });\n}\nfunction isWithoutOperator(structure) {\n    return isWithoutSymmetry(structure) && structure.units.every(function (u) { return !u.conformation.operator.assembly && !u.conformation.operator.suffix; });\n}\nvar Categories = [\n    // Basics\n    copy_mmCif_category('entry'),\n    copy_mmCif_category('exptl'),\n    _entity,\n    // Symmetry\n    copy_mmCif_category('cell', isWithoutSymmetry),\n    copy_mmCif_category('symmetry', isWithoutSymmetry),\n    // Assemblies\n    copy_mmCif_category('pdbx_struct_assembly', isWithoutOperator),\n    copy_mmCif_category('pdbx_struct_assembly_gen', isWithoutOperator),\n    copy_mmCif_category('pdbx_struct_oper_list', isWithoutOperator),\n    // Secondary structure\n    _struct_conf,\n    _struct_sheet_range,\n    // Sequence\n    _struct_asym,\n    _entity_poly,\n    _entity_poly_seq,\n    // Branch\n    copy_mmCif_category('pdbx_entity_branch'),\n    copy_mmCif_category('pdbx_entity_branch_link'),\n    copy_mmCif_category('pdbx_branch_scheme'),\n    // Struct conn\n    copy_mmCif_category('struct_conn'),\n    // Misc\n    _chem_comp,\n    _chem_comp_bond,\n    _pdbx_chem_comp_identifier,\n    copy_mmCif_category('atom_sites'),\n    _pdbx_nonpoly_scheme,\n    // Atoms\n    _atom_site\n];\nvar _Filters;\n(function (_Filters) {\n    _Filters.AtomSitePositionsFieldNames = new Set(['id', 'Cartn_x', 'Cartn_y', 'Cartn_z']);\n})(_Filters || (_Filters = {}));\nexport var mmCIF_Export_Filters = {\n    onlyPositions: {\n        includeCategory: function (name) { return name === 'atom_site'; },\n        includeField: function (cat, field) { return _Filters.AtomSitePositionsFieldNames.has(field); }\n    }\n};\nfunction getCustomPropCategories(customProp, ctx, params) {\n    var _a;\n    if (!customProp.cifExport || customProp.cifExport.categories.length === 0)\n        return [];\n    var prefix = customProp.cifExport.prefix;\n    var cats = customProp.cifExport.categories;\n    var propCtx = ctx;\n    if (customProp.cifExport.context) {\n        var propId = CustomPropertyDescriptor.getUUID(customProp);\n        if (ctx.cache[propId + '__ctx'])\n            propCtx = ctx.cache[propId + '__ctx'];\n        else {\n            propCtx = customProp.cifExport.context(ctx) || ctx;\n            ctx.cache[propId + '__ctx'] = propCtx;\n        }\n    }\n    var ret = [];\n    for (var _i = 0, cats_1 = cats; _i < cats_1.length; _i++) {\n        var cat = cats_1[_i];\n        if ((_a = params === null || params === void 0 ? void 0 : params.skipCategoryNames) === null || _a === void 0 ? void 0 : _a.has(cat.name))\n            continue;\n        if (cat.name.indexOf(prefix) !== 0)\n            throw new Error(\"Custom category '\".concat(cat.name, \"' name must start with prefix '\").concat(prefix, \".'\"));\n        ret.push([cat, propCtx]);\n    }\n    return ret;\n}\n/** Doesn't start a data block */\nexport function encode_mmCIF_categories(encoder, structures, params) {\n    var first = Array.isArray(structures) ? structures[0] : structures;\n    var models = first.models;\n    if (models.length !== 1)\n        throw new Error('Can\\'t export stucture composed from multiple models.');\n    var ctx = (params === null || params === void 0 ? void 0 : params.exportCtx) || CifExportContext.create(structures);\n    if ((params === null || params === void 0 ? void 0 : params.copyAllCategories) && MmcifFormat.is(models[0].sourceData)) {\n        encode_mmCIF_categories_copyAll(encoder, ctx, params);\n    }\n    else {\n        encode_mmCIF_categories_default(encoder, ctx, params);\n    }\n}\nfunction encode_mmCIF_categories_default(encoder, ctx, params) {\n    var _a;\n    for (var _i = 0, Categories_1 = Categories; _i < Categories_1.length; _i++) {\n        var cat = Categories_1[_i];\n        if ((params === null || params === void 0 ? void 0 : params.skipCategoryNames) && (params === null || params === void 0 ? void 0 : params.skipCategoryNames.has(cat.name)))\n            continue;\n        encoder.writeCategory(cat, ctx);\n    }\n    if (!((_a = params === null || params === void 0 ? void 0 : params.skipCategoryNames) === null || _a === void 0 ? void 0 : _a.has('atom_site')) && encoder.isCategoryIncluded('atom_site')) {\n        var info = atom_site_operator_mapping(ctx);\n        if (info)\n            encoder.writeCategory(info[0], info[1], info[2]);\n    }\n    var _params = params || {};\n    for (var _b = 0, _c = ctx.firstModel.customProperties.all; _b < _c.length; _b++) {\n        var customProp = _c[_b];\n        for (var _d = 0, _e = getCustomPropCategories(customProp, ctx, _params); _d < _e.length; _d++) {\n            var _f = _e[_d], cat = _f[0], propCtx = _f[1];\n            encoder.writeCategory(cat, propCtx);\n        }\n    }\n    if (params === null || params === void 0 ? void 0 : params.customProperties) {\n        for (var _g = 0, _h = params === null || params === void 0 ? void 0 : params.customProperties; _g < _h.length; _g++) {\n            var customProp = _h[_g];\n            for (var _j = 0, _k = getCustomPropCategories(customProp, ctx, _params); _j < _k.length; _j++) {\n                var _l = _k[_j], cat = _l[0], propCtx = _l[1];\n                encoder.writeCategory(cat, propCtx);\n            }\n        }\n    }\n    for (var _m = 0, _o = ctx.structures; _m < _o.length; _m++) {\n        var s = _o[_m];\n        if (!s.hasCustomProperties)\n            continue;\n        for (var _p = 0, _q = s.customPropertyDescriptors.all; _p < _q.length; _p++) {\n            var customProp = _q[_p];\n            for (var _r = 0, _s = getCustomPropCategories(customProp, ctx, _params); _r < _s.length; _r++) {\n                var _t = _s[_r], cat = _t[0], propCtx = _t[1];\n                encoder.writeCategory(cat, propCtx);\n            }\n        }\n    }\n}\nfunction encode_mmCIF_categories_copyAll(encoder, ctx, params) {\n    var providedCategories = new Map();\n    for (var _i = 0, Categories_2 = Categories; _i < Categories_2.length; _i++) {\n        var cat = Categories_2[_i];\n        providedCategories.set(cat.name, [cat, ctx]);\n    }\n    var mapping = atom_site_operator_mapping(ctx);\n    if (mapping)\n        providedCategories.set(mapping[0].name, mapping);\n    var _params = params || {};\n    for (var _a = 0, _b = ctx.firstModel.customProperties.all; _a < _b.length; _a++) {\n        var customProp = _b[_a];\n        for (var _c = 0, _d = getCustomPropCategories(customProp, ctx, _params); _c < _d.length; _c++) {\n            var info = _d[_c];\n            providedCategories.set(info[0].name, info);\n        }\n    }\n    if (params === null || params === void 0 ? void 0 : params.customProperties) {\n        for (var _e = 0, _f = params === null || params === void 0 ? void 0 : params.customProperties; _e < _f.length; _e++) {\n            var customProp = _f[_e];\n            for (var _g = 0, _h = getCustomPropCategories(customProp, ctx, _params); _g < _h.length; _g++) {\n                var info = _h[_g];\n                providedCategories.set(info[0].name, info);\n            }\n        }\n    }\n    for (var _j = 0, _k = ctx.structures; _j < _k.length; _j++) {\n        var s = _k[_j];\n        if (!s.hasCustomProperties)\n            continue;\n        for (var _l = 0, _m = s.customPropertyDescriptors.all; _l < _m.length; _l++) {\n            var customProp = _m[_l];\n            for (var _o = 0, _p = getCustomPropCategories(customProp, ctx); _o < _p.length; _o++) {\n                var info = _p[_o];\n                providedCategories.set(info[0].name, info);\n            }\n        }\n    }\n    var handled = new Set();\n    var data = ctx.firstModel.sourceData.data;\n    for (var _q = 0, _r = data.frame.categoryNames; _q < _r.length; _q++) {\n        var catName = _r[_q];\n        handled.add(catName);\n        if (providedCategories.has(catName)) {\n            var info = providedCategories.get(catName);\n            encoder.writeCategory(info[0], info[1], info[2]);\n        }\n        else {\n            if (data.db[catName]) {\n                var cat = copy_mmCif_category(catName);\n                encoder.writeCategory(cat, ctx);\n            }\n            else {\n                var cat = copy_source_mmCifCategory(encoder, ctx, data.frame.categories[catName]);\n                if (cat)\n                    encoder.writeCategory(cat);\n            }\n        }\n    }\n    providedCategories.forEach(function (info, name) {\n        if (!handled.has(name))\n            encoder.writeCategory(info[0], info[1], info[2]);\n    });\n}\nfunction to_mmCIF(name, structure, asBinary, params) {\n    if (asBinary === void 0) { asBinary = false; }\n    var enc = CifWriter.createEncoder({ binary: asBinary });\n    enc.startDataBlock(name);\n    encode_mmCIF_categories(enc, structure, params);\n    return enc.getData();\n}\nexport { to_mmCIF };\n","/**\n * Copyright (c) 2020 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n */\nimport { StructureElement, StructureProperties as P } from '../../structure';\nimport { Segmentation } from '../../../../mol-data/int';\nimport { CifWriter } from '../../../../mol-io/writer/cif';\nimport { Column } from '../../../../mol-data/db';\nexport function atom_site_operator_mapping(ctx) {\n    var entries = getEntries(ctx);\n    if (entries.length === 0)\n        return;\n    return [Category, entries, { ignoreFilter: true }];\n}\nexport var AtomSiteOperatorMappingCategoryName = 'molstar_atom_site_operator_mapping';\nexport var AtomSiteOperatorMappingSchema = {\n    molstar_atom_site_operator_mapping: {\n        label_asym_id: Column.Schema.Str(),\n        auth_asym_id: Column.Schema.Str(),\n        operator_name: Column.Schema.Str(),\n        suffix: Column.Schema.Str(),\n        // assembly\n        assembly_id: Column.Schema.Str(),\n        assembly_operator_id: Column.Schema.Int(),\n        // symmetry\n        symmetry_operator_index: Column.Schema.Int(),\n        symmetry_hkl: Column.Schema.Vector(3),\n        // NCS\n        ncs_id: Column.Schema.Int(),\n    }\n};\nvar asmValueKind = function (i, xs) { return typeof xs[i].operator.assembly === 'undefined' ? 1 /* Column.ValueKinds.NotPresent */ : 0 /* Column.ValueKinds.Present */; };\nvar symmetryValueKind = function (i, xs) { return xs[i].operator.spgrOp === -1 ? 1 /* Column.ValueKinds.NotPresent */ : 0 /* Column.ValueKinds.Present */; };\nvar Fields = CifWriter.fields()\n    .str('label_asym_id', function (i, xs) { return xs[i].label_asym_id; })\n    .str('auth_asym_id', function (i, xs) { return xs[i].auth_asym_id; })\n    .str('operator_name', function (i, xs) { return xs[i].operator.name; })\n    .str('suffix', function (i, xs) { return xs[i].operator.suffix; })\n    // assembly\n    // TODO: include oper list as well?\n    .str('assembly_id', function (i, xs) { var _a; return ((_a = xs[i].operator.assembly) === null || _a === void 0 ? void 0 : _a.id) || ''; }, { valueKind: asmValueKind })\n    .int('assembly_operator_id', function (i, xs) { var _a; return ((_a = xs[i].operator.assembly) === null || _a === void 0 ? void 0 : _a.operId) || 0; }, { valueKind: asmValueKind })\n    // symmetry\n    .int('symmetry_operator_index', function (i, xs) { return xs[i].operator.spgrOp; }, { valueKind: symmetryValueKind })\n    .vec('symmetry_hkl', [function (i, xs) { return xs[i].operator.hkl[0]; }, function (i, xs) { return xs[i].operator.hkl[1]; }, function (i, xs) { return xs[i].operator.hkl[2]; }], { valueKind: symmetryValueKind })\n    // NCS\n    .int('ncs_id', function (i, xs) { return xs[i].operator.ncsId; }, { valueKind: symmetryValueKind })\n    .getFields();\nvar Category = {\n    name: 'molstar_atom_site_operator_mapping',\n    instance: function (entries) {\n        return { fields: Fields, source: [{ data: entries, rowCount: entries.length }] };\n    }\n};\nfunction getEntries(ctx) {\n    var existing = new Set();\n    var entries = [];\n    for (var _i = 0, _a = ctx.structures; _i < _a.length; _i++) {\n        var s = _a[_i];\n        var l = StructureElement.Location.create(s);\n        for (var _b = 0, _c = s.units; _b < _c.length; _b++) {\n            var unit = _c[_b];\n            var operator = unit.conformation.operator;\n            if (!operator.suffix || unit.kind !== 0 /* Unit.Kind.Atomic */)\n                continue;\n            l.unit = unit;\n            var elements = unit.elements;\n            var chainsIt = Segmentation.transientSegments(unit.model.atomicHierarchy.chainAtomSegments, elements);\n            while (chainsIt.hasNext) {\n                var chainSegment = chainsIt.move();\n                l.element = elements[chainSegment.start];\n                var label_asym_id = P.chain.label_asym_id(l);\n                var key = \"\".concat(label_asym_id).concat(operator.suffix);\n                if (existing.has(key))\n                    continue;\n                existing.add(key);\n                var auth_asym_id = P.chain.label_asym_id(l);\n                entries.push({ label_asym_id: label_asym_id, auth_asym_id: auth_asym_id, operator: operator });\n            }\n        }\n    }\n    return entries;\n}\n","/**\n * Copyright (c) 2017-2021 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\nimport { Interval, Segmentation, SortedArray } from '../../../../../mol-data/int';\nimport { AtomicIndex, AtomicHierarchy } from '../atomic/hierarchy';\nimport { cantorPairing } from '../../../../../mol-data/util';\nfunction getResidueId(seq_id, ins_code) {\n    if (!ins_code)\n        return seq_id;\n    if (ins_code.length === 1)\n        return cantorPairing(ins_code.charCodeAt(0), seq_id);\n    if (ins_code.length === 2)\n        return cantorPairing(ins_code.charCodeAt(0), cantorPairing(ins_code.charCodeAt(1), seq_id));\n    return \"\".concat(seq_id, \" \").concat(ins_code);\n}\nfunction updateMapMapIndex(map, key0, key1, index) {\n    if (map.has(key0)) {\n        var submap = map.get(key0);\n        if (!submap.has(key1)) {\n            submap.set(key1, index);\n        }\n    }\n    else {\n        var submap = new Map();\n        map.set(key0, submap);\n        submap.set(key1, index);\n    }\n}\nfunction missingEntity(k) {\n    throw new Error(\"Missing entity entry for entity id '\".concat(k, \"'.\"));\n}\nfunction createMapping(entities, data, segments) {\n    return {\n        entities: entities,\n        segments: segments,\n        label_seq_id: SortedArray.ofSortedArray(data.residues.label_seq_id.toArray({ array: Int32Array })),\n        label_atom_id: data.atoms.label_atom_id,\n        auth_atom_id: data.atoms.auth_atom_id,\n        label_alt_id: data.atoms.label_alt_id,\n        type_symbol: data.atoms.type_symbol,\n        chain_index_entity_index: new Int32Array(data.chains._rowCount),\n        entity_index_label_asym_id: new Map(),\n        chain_index_label_seq_id: new Map(),\n        auth_asym_id_auth_seq_id: new Map(),\n        chain_index_auth_seq_id: new Map(),\n        label_asym_id: new Map(),\n    };\n}\nvar _tempResidueKey = AtomicIndex.EmptyResidueKey();\nvar Index = /** @class */ (function () {\n    function Index(map) {\n        this.map = map;\n        this.entityIndex = map.entities.getEntityIndex;\n        this.residueOffsets = this.map.segments.residueAtomSegments.offsets;\n    }\n    Index.prototype.getEntityFromChain = function (cI) {\n        return this.map.chain_index_entity_index[cI];\n    };\n    Index.prototype.findEntity = function (label_asym_id) {\n        var entityIndex = this.map.label_asym_id.get(label_asym_id);\n        return entityIndex !== undefined ? entityIndex : -1;\n    };\n    Index.prototype.findChainLabel = function (key) {\n        var eI = this.entityIndex(key.label_entity_id);\n        if (eI < 0 || !this.map.entity_index_label_asym_id.has(eI))\n            return -1;\n        var cm = this.map.entity_index_label_asym_id.get(eI);\n        if (!cm)\n            return -1;\n        return cm.has(key.label_asym_id) ? cm.get(key.label_asym_id) : -1;\n    };\n    Index.prototype.findChainAuth = function (key) {\n        if (!this.map.auth_asym_id_auth_seq_id.has(key.auth_asym_id))\n            return -1;\n        var rm = this.map.auth_asym_id_auth_seq_id.get(key.auth_asym_id);\n        return rm.has(key.auth_seq_id) ? rm.get(key.auth_seq_id) : -1;\n    };\n    Index.prototype.findResidue = function (label_entity_id_or_key, label_asym_id, auth_seq_id, pdbx_PDB_ins_code) {\n        var key;\n        if (arguments.length === 1) {\n            key = label_entity_id_or_key;\n        }\n        else {\n            _tempResidueKey.label_entity_id = label_entity_id_or_key;\n            _tempResidueKey.label_asym_id = label_asym_id;\n            _tempResidueKey.auth_seq_id = auth_seq_id;\n            _tempResidueKey.pdbx_PDB_ins_code = pdbx_PDB_ins_code;\n            key = _tempResidueKey;\n        }\n        var cI = this.findChainLabel(key);\n        if (cI < 0)\n            return -1;\n        var rm = this.map.chain_index_auth_seq_id.get(cI);\n        var id = getResidueId(key.auth_seq_id, key.pdbx_PDB_ins_code || '');\n        return rm.has(id) ? rm.get(id) : -1;\n    };\n    Index.prototype.findResidueLabel = function (key) {\n        var cI = this.findChainLabel(key);\n        if (cI < 0)\n            return -1;\n        var rm = this.map.chain_index_label_seq_id.get(cI);\n        var id = getResidueId(key.label_seq_id, key.pdbx_PDB_ins_code || '');\n        return rm.has(id) ? rm.get(id) : -1;\n    };\n    Index.prototype.findResidueAuth = function (key) {\n        var cI = this.findChainAuth(key);\n        if (cI < 0)\n            return -1;\n        var rm = this.map.chain_index_auth_seq_id.get(cI);\n        var id = getResidueId(key.auth_seq_id, key.pdbx_PDB_ins_code || '');\n        return rm.has(id) ? rm.get(id) : -1;\n    };\n    Index.prototype.findResidueInsertion = function (key) {\n        var cI = this.findChainLabel(key);\n        if (cI < 0)\n            return -1;\n        var rm = this.map.chain_index_label_seq_id.get(cI);\n        var id = getResidueId(key.label_seq_id, key.pdbx_PDB_ins_code || '');\n        if (rm.has(id))\n            return rm.get(id);\n        var idx = SortedArray.findPredecessorIndex(this.map.label_seq_id, key.label_seq_id);\n        var start = AtomicHierarchy.chainStartResidueIndex(this.map.segments, cI);\n        if (idx < start)\n            return start;\n        var end = AtomicHierarchy.chainEndResidueIndexExcl(this.map.segments, cI) - 1;\n        if (idx >= end)\n            return end;\n        return idx;\n    };\n    Index.prototype.findAtom = function (key) {\n        var rI = this.findResidue(key);\n        if (rI < 0)\n            return -1;\n        if (typeof key.label_alt_id === 'undefined') {\n            return findAtomByName(this.residueOffsets[rI], this.residueOffsets[rI + 1], this.map.label_atom_id, key.label_atom_id);\n        }\n        return findAtomByNameAndAltLoc(this.residueOffsets[rI], this.residueOffsets[rI + 1], this.map.label_atom_id, this.map.label_alt_id, key.label_atom_id, key.label_alt_id);\n    };\n    Index.prototype.findAtomAuth = function (key) {\n        var rI = this.findResidueAuth(key);\n        if (rI < 0)\n            return -1;\n        if (typeof key.label_alt_id === 'undefined') {\n            return findAtomByName(this.residueOffsets[rI], this.residueOffsets[rI + 1], this.map.auth_atom_id, key.auth_atom_id);\n        }\n        return findAtomByNameAndAltLoc(this.residueOffsets[rI], this.residueOffsets[rI + 1], this.map.auth_atom_id, this.map.label_alt_id, key.auth_atom_id, key.label_alt_id);\n    };\n    Index.prototype.findAtomOnResidue = function (rI, label_atom_id, label_alt_id) {\n        if (typeof label_alt_id === 'undefined') {\n            return findAtomByName(this.residueOffsets[rI], this.residueOffsets[rI + 1], this.map.label_atom_id, label_atom_id);\n        }\n        return findAtomByNameAndAltLoc(this.residueOffsets[rI], this.residueOffsets[rI + 1], this.map.label_atom_id, this.map.label_alt_id, label_atom_id, label_alt_id);\n    };\n    Index.prototype.findAtomsOnResidue = function (rI, label_atom_ids) {\n        return findAtomByNames(this.residueOffsets[rI], this.residueOffsets[rI + 1], this.map.label_atom_id, label_atom_ids);\n    };\n    Index.prototype.findElementOnResidue = function (rI, type_symbol) {\n        return findAtomByElement(this.residueOffsets[rI], this.residueOffsets[rI + 1], this.map.type_symbol, type_symbol);\n    };\n    return Index;\n}());\nfunction findAtomByName(start, end, data, atomName) {\n    for (var i = start; i < end; i++) {\n        if (data.value(i) === atomName)\n            return i;\n    }\n    return -1;\n}\nfunction findAtomByNames(start, end, data, atomNames) {\n    for (var i = start; i < end; i++) {\n        if (atomNames.has(data.value(i)))\n            return i;\n    }\n    return -1;\n}\nfunction findAtomByNameAndAltLoc(start, end, nameData, altLocData, atomName, altLoc) {\n    for (var i = start; i < end; i++) {\n        if (nameData.value(i) === atomName && altLocData.value(i) === altLoc)\n            return i;\n    }\n    return -1;\n}\nfunction findAtomByElement(start, end, data, typeSymbol) {\n    for (var i = start; i < end; i++) {\n        if (data.value(i) === typeSymbol)\n            return i;\n    }\n    return -1;\n}\nexport function getAtomicIndex(data, entities, segments) {\n    var map = createMapping(entities, data, segments);\n    var _a = data.residues, label_seq_id = _a.label_seq_id, auth_seq_id = _a.auth_seq_id, pdbx_PDB_ins_code = _a.pdbx_PDB_ins_code;\n    var _b = data.chains, label_entity_id = _b.label_entity_id, label_asym_id = _b.label_asym_id, auth_asym_id = _b.auth_asym_id;\n    var atomSet = Interval.ofBounds(0, data.atoms._rowCount);\n    var chainsIt = Segmentation.transientSegments(segments.chainAtomSegments, atomSet);\n    while (chainsIt.hasNext) {\n        var chainSegment = chainsIt.move();\n        var chainIndex = chainSegment.index;\n        var entityIndex = entities.getEntityIndex(label_entity_id.value(chainIndex));\n        if (entityIndex < 0)\n            missingEntity(label_entity_id.value(chainIndex));\n        map.chain_index_entity_index[chainIndex] = entityIndex;\n        var authAsymId = auth_asym_id.value(chainIndex);\n        var auth_asym_id_auth_seq_id = map.auth_asym_id_auth_seq_id.get(authAsymId);\n        if (!auth_asym_id_auth_seq_id) {\n            auth_asym_id_auth_seq_id = new Map();\n            map.auth_asym_id_auth_seq_id.set(authAsymId, auth_asym_id_auth_seq_id);\n        }\n        var labelAsymId = label_asym_id.value(chainIndex);\n        if (!map.label_asym_id.has(labelAsymId))\n            map.label_asym_id.set(labelAsymId, entityIndex);\n        updateMapMapIndex(map.entity_index_label_asym_id, entityIndex, labelAsymId, chainIndex);\n        var chain_index_label_seq_id = new Map();\n        var chain_index_auth_seq_id = new Map();\n        map.chain_index_label_seq_id.set(chainIndex, chain_index_label_seq_id);\n        map.chain_index_auth_seq_id.set(chainIndex, chain_index_auth_seq_id);\n        var residuesIt = Segmentation.transientSegments(segments.residueAtomSegments, atomSet, chainSegment);\n        while (residuesIt.hasNext) {\n            var residueSegment = residuesIt.move();\n            var rI = residueSegment.index;\n            var authSeqId = auth_seq_id.value(rI);\n            var insCode = pdbx_PDB_ins_code.value(rI);\n            chain_index_label_seq_id.set(getResidueId(label_seq_id.value(rI), insCode), rI);\n            chain_index_auth_seq_id.set(getResidueId(authSeqId, insCode), rI);\n            auth_asym_id_auth_seq_id.set(authSeqId, chainIndex);\n        }\n    }\n    return new Index(map);\n}\n","/**\n * Copyright (c) 2017-2022 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\nimport { __assign } from \"tslib\";\nimport { Column, Table } from '../../../mol-data/db';\nimport { Interval, Segmentation } from '../../../mol-data/int';\nimport { toDatabase } from '../../../mol-io/reader/cif/schema';\nimport { SymmetryOperator } from '../../../mol-math/geometry';\nimport { Mat4, Vec3 } from '../../../mol-math/linear-algebra';\nimport { AtomSiteOperatorMappingSchema } from '../../../mol-model/structure/export/categories/atom_site_operator_mapping';\nimport { AtomsSchema, ChainsSchema, ResiduesSchema } from '../../../mol-model/structure/model/properties/atomic';\nimport { getAtomicDerivedData } from '../../../mol-model/structure/model/properties/utils/atomic-derived';\nimport { getAtomicIndex } from '../../../mol-model/structure/model/properties/utils/atomic-index';\nimport { ElementSymbol } from '../../../mol-model/structure/model/types';\nimport { UUID } from '../../../mol-util/uuid';\nimport { MmcifFormat } from '../mmcif';\nfunction findHierarchyOffsets(atom_site) {\n    if (atom_site._rowCount === 0)\n        return { residues: [], chains: [] };\n    var start = 0, end = atom_site._rowCount;\n    var residues = [start], chains = [start];\n    var label_entity_id = atom_site.label_entity_id, label_asym_id = atom_site.label_asym_id, label_seq_id = atom_site.label_seq_id, auth_seq_id = atom_site.auth_seq_id, pdbx_PDB_ins_code = atom_site.pdbx_PDB_ins_code;\n    for (var i = start + 1; i < end; i++) {\n        var newChain = !label_entity_id.areValuesEqual(i - 1, i) || !label_asym_id.areValuesEqual(i - 1, i);\n        var newResidue = newChain\n            || !label_seq_id.areValuesEqual(i - 1, i)\n            || !auth_seq_id.areValuesEqual(i - 1, i)\n            || !pdbx_PDB_ins_code.areValuesEqual(i - 1, i);\n        // not checking label_comp_id to allow for MICROHETEROGENEITY\n        if (newResidue)\n            residues[residues.length] = i;\n        if (newChain)\n            chains[chains.length] = i;\n    }\n    return { residues: residues, chains: chains };\n}\nfunction createHierarchyData(atom_site, sourceIndex, offsets) {\n    var atoms = Table.ofColumns(AtomsSchema, {\n        type_symbol: Column.ofArray({ array: Column.mapToArray(atom_site.type_symbol, ElementSymbol), schema: Column.Schema.Aliased(Column.Schema.str) }),\n        label_atom_id: atom_site.label_atom_id,\n        auth_atom_id: atom_site.auth_atom_id,\n        label_alt_id: atom_site.label_alt_id,\n        label_comp_id: atom_site.label_comp_id,\n        auth_comp_id: atom_site.auth_comp_id,\n        pdbx_formal_charge: atom_site.pdbx_formal_charge\n    });\n    var residues = Table.view(atom_site, ResiduesSchema, offsets.residues);\n    var chains = Table.view(atom_site, ChainsSchema, offsets.chains);\n    if (!residues.label_seq_id.isDefined) {\n        var seqIds = new Int32Array(residues.label_seq_id.rowCount);\n        var residueOffsets = offsets.residues, chainOffsets = offsets.chains;\n        var cI = 0;\n        var seqId = 0;\n        for (var i = 0, il = seqIds.length; i < il; ++i) {\n            if (residueOffsets[i] >= chainOffsets[cI + 1]) {\n                cI += 1;\n                seqId = 0;\n            }\n            seqIds[i] = ++seqId; // start id on one\n        }\n        residues.label_seq_id = Column.ofIntArray(seqIds);\n    }\n    // Optimize the numeric columns\n    Table.columnToArray(residues, 'label_seq_id', Int32Array);\n    Table.columnToArray(residues, 'auth_seq_id', Int32Array);\n    return { atoms: atoms, residues: residues, chains: chains, atomSourceIndex: sourceIndex };\n}\nfunction getConformation(atom_site) {\n    return {\n        id: UUID.create22(),\n        atomId: atom_site.id,\n        occupancy: atom_site.occupancy.isDefined ? atom_site.occupancy : Column.ofConst(1, atom_site._rowCount, Column.Schema.float),\n        B_iso_or_equiv: atom_site.B_iso_or_equiv,\n        xyzDefined: atom_site.Cartn_x.isDefined && atom_site.Cartn_y.isDefined && atom_site.Cartn_z.isDefined,\n        x: atom_site.Cartn_x.toArray({ array: Float32Array }),\n        y: atom_site.Cartn_y.toArray({ array: Float32Array }),\n        z: atom_site.Cartn_z.toArray({ array: Float32Array }),\n    };\n}\nfunction isHierarchyDataEqual(a, b) {\n    return Table.areEqual(a.chains, b.chains)\n        && Table.areEqual(a.residues, b.residues)\n        && Table.areEqual(a.atoms, b.atoms);\n}\nfunction createChainOperatorMappingAndSubstituteNames(hierarchy, format) {\n    var mapping = new Map();\n    if (!MmcifFormat.is(format))\n        return mapping;\n    var entries = toDatabase(AtomSiteOperatorMappingSchema, format.data.frame).molstar_atom_site_operator_mapping;\n    if (entries._rowCount === 0)\n        return mapping;\n    var labelMap = new Map();\n    var authMap = new Map();\n    for (var i = 0; i < entries._rowCount; i++) {\n        var assembly = entries.assembly_operator_id.valueKind(i) === 0 /* Column.ValueKinds.Present */\n            ? { id: entries.assembly_id.value(i), operList: [], operId: entries.assembly_operator_id.value(i) }\n            : void 0;\n        var operator = SymmetryOperator.create(entries.operator_name.value(i), Mat4.identity(), {\n            assembly: assembly,\n            spgrOp: entries.symmetry_operator_index.valueKind(i) === 0 /* Column.ValueKinds.Present */ ? entries.symmetry_operator_index.value(i) : void 0,\n            hkl: Vec3.ofArray(entries.symmetry_hkl.value(i)),\n            ncsId: entries.ncs_id.value(i)\n        });\n        var suffix = entries.suffix.value(i);\n        var label = entries.label_asym_id.value(i);\n        labelMap.set(\"\".concat(label).concat(suffix), { name: label, operator: operator });\n        var auth = entries.auth_asym_id.value(i);\n        authMap.set(\"\".concat(auth).concat(suffix), auth);\n    }\n    var _a = hierarchy.chains, label_asym_id = _a.label_asym_id, auth_asym_id = _a.auth_asym_id;\n    var mappedLabel = new Array(label_asym_id.rowCount);\n    var mappedAuth = new Array(label_asym_id.rowCount);\n    for (var i = 0; i < label_asym_id.rowCount; i++) {\n        var label = label_asym_id.value(i), auth = auth_asym_id.value(i);\n        if (!labelMap.has(label)) {\n            mappedLabel[i] = label;\n            mappedAuth[i] = auth;\n            continue;\n        }\n        var _b = labelMap.get(label), name_1 = _b.name, operator = _b.operator;\n        mapping.set(i, operator);\n        mappedLabel[i] = name_1;\n        mappedAuth[i] = authMap.get(auth) || auth;\n    }\n    hierarchy.chains.label_asym_id = Column.ofArray({ array: mappedLabel, valueKind: hierarchy.chains.label_asym_id.valueKind, schema: hierarchy.chains.label_asym_id.schema });\n    hierarchy.chains.auth_asym_id = Column.ofArray({ array: mappedAuth, valueKind: hierarchy.chains.auth_asym_id.valueKind, schema: hierarchy.chains.auth_asym_id.schema });\n    return mapping;\n}\nfunction getAtomicHierarchy(atom_site, sourceIndex, entities, chemicalComponentMap, format, previous) {\n    var hierarchyOffsets = findHierarchyOffsets(atom_site);\n    var hierarchyData = createHierarchyData(atom_site, sourceIndex, hierarchyOffsets);\n    var chainOperatorMapping = createChainOperatorMappingAndSubstituteNames(hierarchyData, format);\n    if (previous && isHierarchyDataEqual(previous.atomicHierarchy, hierarchyData)) {\n        return {\n            sameAsPrevious: true,\n            hierarchy: previous.atomicHierarchy,\n            chainOperatorMapping: chainOperatorMapping\n        };\n    }\n    var hierarchySegments = {\n        residueAtomSegments: Segmentation.ofOffsets(hierarchyOffsets.residues, Interval.ofBounds(0, atom_site._rowCount)),\n        chainAtomSegments: Segmentation.ofOffsets(hierarchyOffsets.chains, Interval.ofBounds(0, atom_site._rowCount)),\n    };\n    var index = getAtomicIndex(hierarchyData, entities, hierarchySegments);\n    var derived = getAtomicDerivedData(hierarchyData, hierarchySegments, index, chemicalComponentMap);\n    var hierarchy = __assign(__assign(__assign({}, hierarchyData), hierarchySegments), { index: index, derived: derived });\n    return { sameAsPrevious: false, hierarchy: hierarchy, chainOperatorMapping: chainOperatorMapping };\n}\nexport function getAtomicHierarchyAndConformation(atom_site, sourceIndex, entities, chemicalComponentMap, format, previous) {\n    var _a = getAtomicHierarchy(atom_site, sourceIndex, entities, chemicalComponentMap, format, previous), sameAsPrevious = _a.sameAsPrevious, hierarchy = _a.hierarchy, chainOperatorMapping = _a.chainOperatorMapping;\n    var conformation = getConformation(atom_site);\n    return { sameAsPrevious: sameAsPrevious, hierarchy: hierarchy, conformation: conformation, chainOperatorMapping: chainOperatorMapping };\n}\n","/**\n * Copyright (c) 2018-2021 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\nimport { AtomNumber } from '../atomic';\nimport { getMoleculeType, getComponentType, getPolymerType, isPolymer, ElementSymbol } from '../../types';\nimport { getAtomIdForAtomRole } from '../../../../../mol-model/structure/util';\nimport { isProductionMode } from '../../../../../mol-util/debug';\nexport function getAtomicDerivedData(data, segments, index, chemicalComponentMap) {\n    var _a = data.atoms, label_comp_id = _a.label_comp_id, type_symbol = _a.type_symbol, atomCount = _a._rowCount;\n    var residueCount = data.residues._rowCount;\n    var offsets = segments.residueAtomSegments.offsets;\n    var atomicNumber = new Uint8Array(atomCount);\n    for (var i = 0; i < atomCount; ++i) {\n        atomicNumber[i] = AtomNumber(type_symbol.value(i));\n    }\n    var traceElementIndex = new Int32Array(residueCount);\n    var directionFromElementIndex = new Int32Array(residueCount);\n    var directionToElementIndex = new Int32Array(residueCount);\n    var moleculeType = new Uint8Array(residueCount);\n    var polymerType = new Uint8Array(residueCount);\n    var moleculeTypeMap = new Map();\n    var polymerTypeMap = new Map();\n    for (var i = 0; i < residueCount; ++i) {\n        var compId = label_comp_id.value(offsets[i]);\n        var chemCompMap = chemicalComponentMap;\n        var molType = void 0;\n        var polyType = void 0;\n        if (moleculeTypeMap.has(compId)) {\n            molType = moleculeTypeMap.get(compId);\n            polyType = polymerTypeMap.get(compId);\n        }\n        else {\n            var type = void 0;\n            if (chemCompMap.has(compId)) {\n                type = chemCompMap.get(compId).type;\n            }\n            else {\n                if (!isProductionMode)\n                    console.info('chemComp not found', compId);\n                type = getComponentType(compId);\n            }\n            molType = getMoleculeType(type, compId);\n            // TODO if unknown molecule type, use atom names to guess molecule type\n            polyType = getPolymerType(type, molType);\n            moleculeTypeMap.set(compId, molType);\n            polymerTypeMap.set(compId, polyType);\n        }\n        moleculeType[i] = molType;\n        polymerType[i] = polyType;\n        var traceAtomId = getAtomIdForAtomRole(polyType, 'trace');\n        var traceIndex = index.findAtomsOnResidue(i, traceAtomId);\n        if (traceIndex === -1) {\n            var coarseAtomId = getAtomIdForAtomRole(polyType, 'coarseBackbone');\n            traceIndex = index.findAtomsOnResidue(i, coarseAtomId);\n            if (traceIndex === -1 && isPolymer(molType)) {\n                traceIndex = index.findElementOnResidue(i, ElementSymbol('C'));\n            }\n        }\n        traceElementIndex[i] = traceIndex;\n        var directionFromAtomId = getAtomIdForAtomRole(polyType, 'directionFrom');\n        directionFromElementIndex[i] = index.findAtomsOnResidue(i, directionFromAtomId);\n        var directionToAtomId = getAtomIdForAtomRole(polyType, 'directionTo');\n        directionToElementIndex[i] = index.findAtomsOnResidue(i, directionToAtomId);\n    }\n    return {\n        atom: {\n            atomicNumber: atomicNumber\n        },\n        residue: {\n            traceElementIndex: traceElementIndex,\n            directionFromElementIndex: directionFromElementIndex,\n            directionToElementIndex: directionToElementIndex,\n            moleculeType: moleculeType,\n            polymerType: polymerType,\n        }\n    };\n}\n","/**\n * Copyright (c) 2018-2022 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\nimport { Column } from '../../../../../mol-data/db';\nimport { Segmentation } from '../../../../../mol-data/int';\nimport { SortedRanges } from '../../../../../mol-data/int/sorted-ranges';\nvar EmptyCoarseElements = {\n    chainKey: [],\n    entityKey: [],\n    findSequenceKey: function () { return -1; },\n    findChainKey: function () { return -1; },\n    getEntityFromChain: function () { return -1; },\n    count: 0,\n    entity_id: Column.Undefined(0, Column.Schema.str),\n    asym_id: Column.Undefined(0, Column.Schema.str),\n    seq_id_begin: Column.Undefined(0, Column.Schema.int),\n    seq_id_end: Column.Undefined(0, Column.Schema.int),\n    chainElementSegments: Segmentation.create([]),\n    polymerRanges: SortedRanges.ofSortedRanges([]),\n    gapRanges: SortedRanges.ofSortedRanges([]),\n};\nexport var CoarseHierarchy;\n(function (CoarseHierarchy) {\n    CoarseHierarchy.Empty = {\n        isDefined: false,\n        spheres: EmptyCoarseElements,\n        gaussians: EmptyCoarseElements\n    };\n})(CoarseHierarchy || (CoarseHierarchy = {}));\n","/**\n * Copyright (c) 2017-2018 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\nimport { SortedRanges } from '../../../../../mol-data/int/sorted-ranges';\nimport { OrderedSet } from '../../../../../mol-data/int';\nfunction getElementKey(map, key, counter) {\n    if (map.has(key))\n        return map.get(key);\n    var ret = counter.index++;\n    map.set(key, ret);\n    return ret;\n}\nfunction getElementSubstructureKeyMap(map, key) {\n    if (map.has(key))\n        return map.get(key);\n    var ret = new Map();\n    map.set(key, ret);\n    return ret;\n}\nfunction createLookUp(entities, chain, seq) {\n    var getEntKey = entities.getEntityIndex;\n    var findChainKey = function (e, c) {\n        var eKey = getEntKey(e);\n        if (eKey < 0)\n            return -1;\n        var cm = chain.get(eKey);\n        if (!cm.has(c))\n            return -1;\n        return cm.get(c);\n    };\n    var findSequenceKey = function (e, c, s) {\n        var eKey = getEntKey(e);\n        if (eKey < 0)\n            return -1;\n        var cm = chain.get(eKey);\n        if (cm === undefined)\n            return -1;\n        var cKey = cm.get(c);\n        if (cKey === undefined)\n            return -1;\n        var sm = seq.get(cKey);\n        var elementIndices = sm.elementIndices, seqRanges = sm.seqRanges;\n        var idx = SortedRanges.firstIntersectionIndex(seqRanges, OrderedSet.ofSingleton(s));\n        return (idx !== -1 ? elementIndices[idx] : -1);\n    };\n    return { findChainKey: findChainKey, findSequenceKey: findSequenceKey };\n}\nfunction missingEntity(k) {\n    throw new Error(\"Missing entity entry for entity id '\".concat(k, \"'.\"));\n}\nexport function getCoarseKeys(data, entities) {\n    var entity_id = data.entity_id, asym_id = data.asym_id, seq_id_begin = data.seq_id_begin, seq_id_end = data.seq_id_end, count = data.count, chainElementSegments = data.chainElementSegments;\n    var seqMaps = new Map();\n    var chainMaps = new Map(), chainCounter = { index: 0 };\n    var chainKey = new Int32Array(count);\n    var entityKey = new Int32Array(count);\n    var chainToEntity = new Int32Array(chainElementSegments.count);\n    for (var i = 0; i < count; i++) {\n        entityKey[i] = entities.getEntityIndex(entity_id.value(i));\n        if (entityKey[i] < 0)\n            missingEntity(entity_id.value(i));\n    }\n    for (var cI = 0; cI < chainElementSegments.count; cI++) {\n        var start = chainElementSegments.offsets[cI];\n        var end = chainElementSegments.offsets[cI + 1];\n        var eK = entityKey[start];\n        chainToEntity[cI] = eK;\n        var map = getElementSubstructureKeyMap(chainMaps, eK);\n        var key = getElementKey(map, asym_id.value(start), chainCounter);\n        for (var i = start; i < end; i++)\n            chainKey[i] = key;\n        // create seq_id map for the ranges defined by seq_id_begin and seq_id_end\n        var elementIndices = [];\n        var seqRanges = [];\n        for (var i = start; i < end; i++) {\n            var seqStart = seq_id_begin.value(i);\n            var seqEnd = seq_id_end.value(i);\n            elementIndices.push(i);\n            seqRanges.push(seqStart, seqEnd);\n        }\n        var seqMap = { elementIndices: elementIndices, seqRanges: SortedRanges.ofSortedRanges(seqRanges) };\n        seqMaps.set(key, seqMap);\n    }\n    var _a = createLookUp(entities, chainMaps, seqMaps), findChainKey = _a.findChainKey, findSequenceKey = _a.findSequenceKey;\n    var getEntityFromChain = function (c) {\n        return chainToEntity[c];\n    };\n    return { chainKey: chainKey, entityKey: entityKey, findSequenceKey: findSequenceKey, findChainKey: findChainKey, getEntityFromChain: getEntityFromChain };\n}\n","/**\n * Copyright (c) 2018 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\nimport { Segmentation, Interval } from '../../../../../mol-data/int';\nimport { SortedRanges } from '../../../../../mol-data/int/sorted-ranges';\n// TODO assumes all coarse elements are part of a polymer\n// TODO add gaps at the ends of the chains by comparing to the polymer sequence data\nexport function getCoarseRanges(data, chemicalComponentMap) {\n    var polymerRanges = [];\n    var gapRanges = [];\n    var chainIt = Segmentation.transientSegments(data.chainElementSegments, Interval.ofBounds(0, data.count));\n    var seq_id_begin = data.seq_id_begin, seq_id_end = data.seq_id_end;\n    while (chainIt.hasNext) {\n        var _a = chainIt.move(), start = _a.start, end = _a.end;\n        var startIndex = -1;\n        var prevSeqEnd = -1;\n        for (var i = start; i < end; ++i) {\n            var seqEnd = seq_id_end.value(i);\n            if (i === start) {\n                startIndex = i;\n                prevSeqEnd = seq_id_end.value(i);\n            }\n            else {\n                if (seq_id_begin.value(i) - prevSeqEnd > 1) {\n                    polymerRanges.push(startIndex, i - 1);\n                    gapRanges.push(i - 1, i);\n                    startIndex = i;\n                }\n            }\n            if (i === end - 1) {\n                polymerRanges.push(startIndex, i);\n            }\n            prevSeqEnd = seqEnd;\n        }\n    }\n    return {\n        polymerRanges: SortedRanges.ofSortedRanges(polymerRanges),\n        gapRanges: SortedRanges.ofSortedRanges(gapRanges)\n    };\n}\n","/**\n * Copyright (c) 2018-2020 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\nimport { __assign } from \"tslib\";\nimport { CoarseHierarchy } from '../../../mol-model/structure/model/properties/coarse';\nimport { getCoarseKeys } from '../../../mol-model/structure/model/properties/utils/coarse-keys';\nimport { UUID } from '../../../mol-util';\nimport { Segmentation, Interval } from '../../../mol-data/int';\nimport { Mat3, Tensor } from '../../../mol-math/linear-algebra';\nimport { getCoarseRanges } from '../../../mol-model/structure/model/properties/utils/coarse-ranges';\nimport { BasicSchema } from './schema';\nexport var EmptyCoarse = { hierarchy: CoarseHierarchy.Empty, conformation: void 0 };\nexport function getCoarse(data, chemicalComponentMap) {\n    var ihm_sphere_obj_site = data.ihm_sphere_obj_site, ihm_gaussian_obj_site = data.ihm_gaussian_obj_site;\n    if (ihm_sphere_obj_site._rowCount === 0 && ihm_gaussian_obj_site._rowCount === 0)\n        return EmptyCoarse;\n    var sphereData = getData(ihm_sphere_obj_site);\n    var sphereConformation = getSphereConformation(ihm_sphere_obj_site);\n    var sphereKeys = getCoarseKeys(sphereData, data.entities);\n    var sphereRanges = getCoarseRanges(sphereData, chemicalComponentMap);\n    var gaussianData = getData(ihm_gaussian_obj_site);\n    var gaussianConformation = getGaussianConformation(ihm_gaussian_obj_site);\n    var gaussianKeys = getCoarseKeys(gaussianData, data.entities);\n    var gaussianRanges = getCoarseRanges(gaussianData, chemicalComponentMap);\n    return {\n        hierarchy: {\n            isDefined: true,\n            spheres: __assign(__assign(__assign({}, sphereData), sphereKeys), sphereRanges),\n            gaussians: __assign(__assign(__assign({}, gaussianData), gaussianKeys), gaussianRanges),\n        },\n        conformation: {\n            id: UUID.create22(),\n            spheres: sphereConformation,\n            gaussians: gaussianConformation\n        }\n    };\n}\nfunction getSphereConformation(data) {\n    return {\n        x: data.Cartn_x.toArray({ array: Float32Array }),\n        y: data.Cartn_y.toArray({ array: Float32Array }),\n        z: data.Cartn_z.toArray({ array: Float32Array }),\n        radius: data.object_radius.toArray({ array: Float32Array }),\n        rmsf: data.rmsf.toArray({ array: Float32Array })\n    };\n}\nfunction getGaussianConformation(data) {\n    var matrix_space = BasicSchema.ihm_gaussian_obj_site.covariance_matrix.space;\n    var covariance_matrix = [];\n    var cm = data.covariance_matrix;\n    for (var i = 0, _i = cm.rowCount; i < _i; i++) {\n        covariance_matrix[i] = Tensor.toMat3(Mat3(), matrix_space, cm.value(i));\n    }\n    return {\n        x: data.mean_Cartn_x.toArray({ array: Float32Array }),\n        y: data.mean_Cartn_y.toArray({ array: Float32Array }),\n        z: data.mean_Cartn_z.toArray({ array: Float32Array }),\n        weight: data.weight.toArray({ array: Float32Array }),\n        covariance_matrix: covariance_matrix\n    };\n}\nfunction getSegments(asym_id, seq_id_begin, seq_id_end) {\n    var chainOffsets = [0];\n    for (var i = 1, _i = asym_id.rowCount; i < _i; i++) {\n        var newChain = !asym_id.areValuesEqual(i - 1, i);\n        if (newChain)\n            chainOffsets[chainOffsets.length] = i;\n    }\n    return {\n        chainElementSegments: Segmentation.ofOffsets(chainOffsets, Interval.ofBounds(0, asym_id.rowCount))\n    };\n}\nfunction getData(data) {\n    var entity_id = data.entity_id, seq_id_begin = data.seq_id_begin, seq_id_end = data.seq_id_end, asym_id = data.asym_id;\n    return __assign({ count: entity_id.rowCount, entity_id: entity_id, asym_id: asym_id, seq_id_begin: seq_id_begin, seq_id_end: seq_id_end }, getSegments(asym_id, seq_id_begin, seq_id_end));\n}\n","/**\n * Copyright (c) 2018 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n */\n// from NGL\nvar ProteinOneLetterCodes = {\n    'HIS': 'H',\n    'ARG': 'R',\n    'LYS': 'K',\n    'ILE': 'I',\n    'PHE': 'F',\n    'LEU': 'L',\n    'TRP': 'W',\n    'ALA': 'A',\n    'MET': 'M',\n    'PRO': 'P',\n    'CYS': 'C',\n    'ASN': 'N',\n    'VAL': 'V',\n    'GLY': 'G',\n    'SER': 'S',\n    'GLN': 'Q',\n    'TYR': 'Y',\n    'ASP': 'D',\n    'GLU': 'E',\n    'THR': 'T',\n    'SEC': 'U',\n    'PYL': 'O',\n    // charmm ff\n    'HSD': 'H', 'HSE': 'H', 'HSP': 'H',\n    'LSN': 'K',\n    'ASPP': 'D',\n    'GLUP': 'E',\n    // amber ff\n    'HID': 'H', 'HIE': 'H', 'HIP': 'H',\n    'LYN': 'K',\n    'ASH': 'D',\n    'GLH': 'E',\n};\nvar DnaOneLetterCodes = {\n    'DA': 'A',\n    'DC': 'C',\n    'DG': 'G',\n    'DT': 'T',\n    'DU': 'U'\n};\nvar RnaOneLetterCodes = {\n    'A': 'A',\n    'C': 'C',\n    'G': 'G',\n    'T': 'T',\n    'U': 'U'\n};\nexport function getProteinOneLetterCode(residueName) {\n    var code = ProteinOneLetterCodes[residueName];\n    return code || 'X';\n}\nexport function getRnaOneLetterCode(residueName) {\n    var code = RnaOneLetterCodes[residueName];\n    return code || 'X';\n}\nexport function getDnaOneLetterCode(residueName) {\n    var code = DnaOneLetterCodes[residueName];\n    return code || 'X';\n}\n","/**\n * Copyright (c) 2018-2020 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\nimport { getProteinOneLetterCode, getRnaOneLetterCode, getDnaOneLetterCode } from './constants';\nimport { Column } from '../../mol-data/db';\nimport { assertUnreachable } from '../../mol-util/type-helpers';\nvar Sequence;\n(function (Sequence) {\n    var Kind;\n    (function (Kind) {\n        Kind[\"Protein\"] = \"protein\";\n        Kind[\"RNA\"] = \"RNA\";\n        Kind[\"DNA\"] = \"DNA\";\n        Kind[\"Generic\"] = \"generic\";\n    })(Kind = Sequence.Kind || (Sequence.Kind = {}));\n    function getSequenceString(seq) {\n        var array = seq.code.toArray();\n        return (array instanceof Array ? array : Array.from(array)).join('');\n    }\n    Sequence.getSequenceString = getSequenceString;\n    function determineKind(names) {\n        for (var i = 0, _i = Math.min(names.rowCount, 10); i < _i; i++) {\n            var name_1 = names.value(i) || '';\n            if (getProteinOneLetterCode(name_1) !== 'X')\n                return Kind.Protein;\n            if (getRnaOneLetterCode(name_1) !== 'X')\n                return Kind.RNA;\n            if (getDnaOneLetterCode(name_1) !== 'X')\n                return Kind.DNA;\n        }\n        return Kind.Generic;\n    }\n    function codeProvider(kind, map) {\n        var code;\n        switch (kind) {\n            case Kind.Protein:\n                code = getProteinOneLetterCode;\n                break;\n            case Kind.DNA:\n                code = getDnaOneLetterCode;\n                break;\n            case Kind.RNA:\n                code = getRnaOneLetterCode;\n                break;\n            case Kind.Generic:\n                code = function () { return 'X'; };\n                break;\n            default: assertUnreachable(kind);\n        }\n        if (map && map.size > 0) {\n            return function (name) {\n                var ret = code(name);\n                if (ret !== 'X' || !map.has(name))\n                    return ret;\n                return code(map.get(name));\n            };\n        }\n        return code;\n    }\n    function ofResidueNames(compId, seqId) {\n        if (seqId.rowCount === 0)\n            throw new Error('cannot be empty');\n        var kind = determineKind(compId);\n        return new ResidueNamesImpl(kind, compId, seqId);\n    }\n    Sequence.ofResidueNames = ofResidueNames;\n    var ResidueNamesImpl = /** @class */ (function () {\n        function ResidueNamesImpl(kind, compId, seqId) {\n            this.kind = kind;\n            this.microHet = new Map();\n            var codeFromName = codeProvider(kind);\n            var codes = [];\n            var compIds = [];\n            var seqIds = [];\n            var microHet = new Map();\n            var idx = 0;\n            var indexMap = new Map();\n            for (var i = 0, il = seqId.rowCount; i < il; ++i) {\n                var seq_id = seqId.value(i);\n                if (!indexMap.has(seq_id)) {\n                    indexMap.set(seq_id, idx);\n                    var comp_id = compId.value(i);\n                    compIds[idx] = comp_id;\n                    seqIds[idx] = seq_id;\n                    codes[idx] = codeFromName(comp_id);\n                    idx += 1;\n                }\n                else {\n                    // micro-heterogeneity\n                    if (!microHet.has(seq_id)) {\n                        microHet.set(seq_id, [compIds[indexMap.get(seq_id)], compId.value(i)]);\n                    }\n                    else {\n                        microHet.get(seq_id).push(compId.value(i));\n                    }\n                }\n            }\n            var labels = [];\n            for (var i = 0, il = idx; i < il; ++i) {\n                var mh = microHet.get(seqIds[i]);\n                if (mh) {\n                    var l = mh.map(function (id) {\n                        var c = codeFromName(id);\n                        return c === 'X' ? id : c;\n                    });\n                    labels[i] = \"(\".concat(l.join('|'), \")\");\n                }\n                else {\n                    labels[i] = codes[i] === 'X' ? compIds[i] : codes[i];\n                }\n            }\n            this.length = idx;\n            this.code = Column.ofStringArray(codes);\n            this.compId = Column.ofStringArray(compIds);\n            this.seqId = Column.ofIntArray(seqIds);\n            this.label = Column.ofStringArray(labels);\n            this.microHet = microHet;\n            this.indexMap = indexMap;\n        }\n        ResidueNamesImpl.prototype.index = function (seqId) {\n            return this.indexMap.get(seqId);\n        };\n        return ResidueNamesImpl;\n    }());\n    function ofSequenceRanges(seqIdBegin, seqIdEnd) {\n        var kind = Kind.Generic;\n        return new SequenceRangesImpl(kind, seqIdBegin, seqIdEnd);\n    }\n    Sequence.ofSequenceRanges = ofSequenceRanges;\n    var SequenceRangesImpl = /** @class */ (function () {\n        function SequenceRangesImpl(kind, seqIdStart, seqIdEnd) {\n            this.kind = kind;\n            this.seqIdStart = seqIdStart;\n            this.seqIdEnd = seqIdEnd;\n            this.microHet = new Map();\n            var maxSeqId = 0, minSeqId = Number.MAX_SAFE_INTEGER;\n            for (var i = 0, _i = this.seqIdStart.rowCount; i < _i; i++) {\n                var idStart = this.seqIdStart.value(i);\n                var idEnd = this.seqIdEnd.value(i);\n                if (idStart < minSeqId)\n                    minSeqId = idStart;\n                if (maxSeqId < idEnd)\n                    maxSeqId = idEnd;\n            }\n            var count = maxSeqId - minSeqId + 1;\n            this.code = Column.ofConst('X', count, Column.Schema.str);\n            this.label = Column.ofConst('', count, Column.Schema.str);\n            this.seqId = Column.ofLambda({\n                value: function (row) { return row + minSeqId + 1; },\n                rowCount: count,\n                schema: Column.Schema.int\n            });\n            this.compId = Column.ofConst('', count, Column.Schema.str);\n            this.length = count;\n            this.minSeqId = minSeqId;\n        }\n        SequenceRangesImpl.prototype.index = function (seqId) {\n            return seqId - this.minSeqId;\n        };\n        return SequenceRangesImpl;\n    }());\n})(Sequence || (Sequence = {}));\nexport { Sequence };\n","/**\n * Copyright (c) 2018-2019 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\nimport { Column } from '../../../../mol-data/db';\nimport { Sequence } from '../../../sequence';\nvar StructureSequence;\n(function (StructureSequence) {\n    var Empty = { byEntityKey: {}, sequences: [] };\n    function merge() {\n        var entitySeqs = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            entitySeqs[_i] = arguments[_i];\n        }\n        var sequences = [];\n        var byEntityKey = {};\n        for (var i = 0, il = entitySeqs.length; i < il; ++i) {\n            sequences.push.apply(sequences, entitySeqs[i].sequences);\n            Object.assign(byEntityKey, entitySeqs[i].byEntityKey);\n        }\n        return { sequences: sequences, byEntityKey: byEntityKey };\n    }\n    function fromHierarchy(entities, atomicHierarchy, coarseHierarchy) {\n        var atomic = fromAtomicHierarchy(entities, atomicHierarchy);\n        var coarse = coarseHierarchy.isDefined ? fromCoarseHierarchy(entities, coarseHierarchy) : Empty;\n        return merge(atomic, coarse);\n    }\n    StructureSequence.fromHierarchy = fromHierarchy;\n    function fromAtomicHierarchy(entities, hierarchy) {\n        var label_comp_id = hierarchy.atoms.label_comp_id;\n        var label_seq_id = hierarchy.residues.label_seq_id;\n        var chainAtomSegments = hierarchy.chainAtomSegments, residueAtomSegments = hierarchy.residueAtomSegments;\n        var count = chainAtomSegments.count, offsets = chainAtomSegments.offsets;\n        var byEntityKey = {};\n        var sequences = [];\n        // check if chain segments are empty\n        if (count === 1 && offsets[0] === 0 && offsets[1] === 0) {\n            return { byEntityKey: byEntityKey, sequences: sequences };\n        }\n        for (var cI = 0, _cI = hierarchy.chains._rowCount; cI < _cI; cI++) {\n            var entityKey = hierarchy.index.getEntityFromChain(cI);\n            // Only for polymers, trying to mirror _entity_poly_seq\n            if (byEntityKey[entityKey] !== void 0 || entities.data.type.value(entityKey) !== 'polymer')\n                continue;\n            var start = cI;\n            cI++;\n            while (cI < _cI && entityKey === hierarchy.index.getEntityFromChain(cI) && entities.data.type.value(entityKey) !== 'polymer') {\n                cI++;\n            }\n            cI--;\n            var rStart = residueAtomSegments.index[offsets[start]];\n            var rEnd = residueAtomSegments.index[offsets[cI + 1] - 1] + 1;\n            var seqId = Column.window(label_seq_id, rStart, rEnd);\n            var _compId = [];\n            for (var rI = rStart; rI < rEnd; ++rI) {\n                _compId.push(label_comp_id.value(residueAtomSegments.offsets[rI]));\n            }\n            var compId = Column.ofStringArray(_compId);\n            byEntityKey[entityKey] = {\n                entityId: entities.data.id.value(entityKey),\n                sequence: Sequence.ofResidueNames(compId, seqId)\n            };\n            sequences.push(byEntityKey[entityKey]);\n        }\n        return { byEntityKey: byEntityKey, sequences: sequences };\n    }\n    StructureSequence.fromAtomicHierarchy = fromAtomicHierarchy;\n    function fromCoarseHierarchy(entities, hierarchy) {\n        var spheres = fromCoarseElements(entities, hierarchy.spheres);\n        var gaussians = fromCoarseElements(entities, hierarchy.gaussians);\n        return merge(spheres, gaussians);\n    }\n    StructureSequence.fromCoarseHierarchy = fromCoarseHierarchy;\n    function fromCoarseElements(entities, elements) {\n        var chainElementSegments = elements.chainElementSegments, seq_id_begin = elements.seq_id_begin, seq_id_end = elements.seq_id_end;\n        var count = chainElementSegments.count, offsets = chainElementSegments.offsets;\n        var byEntityKey = {};\n        var sequences = [];\n        // check if chain segments are empty\n        if (count === 1 && offsets[0] === 0 && offsets[1] === 0) {\n            return { byEntityKey: byEntityKey, sequences: sequences };\n        }\n        for (var cI = 0, _cI = count; cI < _cI; cI++) {\n            var eK = elements.getEntityFromChain(cI);\n            if (byEntityKey[eK] !== void 0)\n                continue;\n            var start = cI;\n            cI++;\n            while (cI < _cI && eK === elements.getEntityFromChain(cI)) {\n                cI++;\n            }\n            cI--;\n            var eStart = offsets[start];\n            var eEnd = offsets[cI + 1] - 1;\n            var seqIdBegin = Column.window(seq_id_begin, eStart, eEnd);\n            var seqIdEnd = Column.window(seq_id_end, eStart, eEnd);\n            byEntityKey[eK] = {\n                entityId: entities.data.id.value(eK),\n                sequence: Sequence.ofSequenceRanges(seqIdBegin, seqIdEnd)\n            };\n            sequences.push(byEntityKey[eK]);\n        }\n        return { byEntityKey: byEntityKey, sequences: sequences };\n    }\n    StructureSequence.fromCoarseElements = fromCoarseElements;\n})(StructureSequence || (StructureSequence = {}));\nexport { StructureSequence };\n","/**\n * Copyright (c) 2018-2020 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\nimport { StructureSequence } from '../../../mol-model/structure/model/properties/sequence';\nimport { Column } from '../../../mol-data/db';\nimport { Sequence } from '../../../mol-model/sequence';\nexport function getSequence(data, entities, atomicHierarchy, coarseHierarchy) {\n    if (!data.entity_poly_seq || !data.entity_poly_seq._rowCount) {\n        return StructureSequence.fromHierarchy(entities, atomicHierarchy, coarseHierarchy);\n    }\n    var _a = data.entity_poly_seq, entity_id = _a.entity_id, num = _a.num, mon_id = _a.mon_id;\n    var byEntityKey = {};\n    var sequences = [];\n    var count = entity_id.rowCount;\n    var i = 0;\n    while (i < count) {\n        var start = i;\n        while (i < count - 1 && entity_id.areValuesEqual(i, i + 1))\n            i++;\n        i++;\n        var id = entity_id.value(start);\n        var compId = Column.window(mon_id, start, i);\n        var seqId = Column.window(num, start, i);\n        var entityKey = entities.getEntityIndex(id);\n        byEntityKey[entityKey] = {\n            entityId: id,\n            sequence: Sequence.ofResidueNames(compId, seqId)\n        };\n        sequences.push(byEntityKey[entityKey]);\n    }\n    return { byEntityKey: byEntityKey, sequences: sequences };\n}\n","/**\n * Copyright (c) 2018 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n */\nimport { __awaiter, __generator } from \"tslib\";\nimport { createRangeArray, makeBuckets } from '../../../mol-data/util';\nimport { Column, Table } from '../../../mol-data/db';\nimport { arrayIsIdentity } from '../../../mol-util/array';\nexport function sortAtomSite(ctx, atom_site, start, end) {\n    return __awaiter(this, void 0, void 0, function () {\n        var indices, label_entity_id, label_asym_id, label_seq_id, entityBuckets, ei, _eI, chainBuckets, cI, _cI, aI;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    indices = createRangeArray(start, end - 1);\n                    label_entity_id = atom_site.label_entity_id, label_asym_id = atom_site.label_asym_id, label_seq_id = atom_site.label_seq_id;\n                    entityBuckets = makeBuckets(indices, label_entity_id.value);\n                    if (!ctx.shouldUpdate) return [3 /*break*/, 2];\n                    return [4 /*yield*/, ctx.update()];\n                case 1:\n                    _a.sent();\n                    _a.label = 2;\n                case 2:\n                    ei = 0, _eI = entityBuckets.length - 1;\n                    _a.label = 3;\n                case 3:\n                    if (!(ei < _eI)) return [3 /*break*/, 10];\n                    chainBuckets = makeBuckets(indices, label_asym_id.value, { start: entityBuckets[ei], end: entityBuckets[ei + 1] });\n                    cI = 0, _cI = chainBuckets.length - 1;\n                    _a.label = 4;\n                case 4:\n                    if (!(cI < _cI)) return [3 /*break*/, 7];\n                    aI = chainBuckets[cI];\n                    // are we in HETATM territory?\n                    if (label_seq_id.valueKind(aI) !== 0 /* Column.ValueKinds.Present */)\n                        return [3 /*break*/, 6];\n                    makeBuckets(indices, label_seq_id.value, { sort: true, start: aI, end: chainBuckets[cI + 1] });\n                    if (!ctx.shouldUpdate) return [3 /*break*/, 6];\n                    return [4 /*yield*/, ctx.update()];\n                case 5:\n                    _a.sent();\n                    _a.label = 6;\n                case 6:\n                    cI++;\n                    return [3 /*break*/, 4];\n                case 7:\n                    if (!ctx.shouldUpdate) return [3 /*break*/, 9];\n                    return [4 /*yield*/, ctx.update()];\n                case 8:\n                    _a.sent();\n                    _a.label = 9;\n                case 9:\n                    ei++;\n                    return [3 /*break*/, 3];\n                case 10:\n                    if (arrayIsIdentity(indices) && indices.length === atom_site._rowCount) {\n                        return [2 /*return*/, { atom_site: atom_site, sourceIndex: Column.ofIntArray(indices) }];\n                    }\n                    return [2 /*return*/, {\n                            atom_site: Table.view(atom_site, atom_site._schema, indices),\n                            sourceIndex: Column.ofIntArray(indices)\n                        }];\n            }\n        });\n    });\n}\n","/**\n * Copyright (c) 2018-2019 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\nimport { Segmentation, Interval } from '../../../../../mol-data/int';\nimport { SortedRanges } from '../../../../../mol-data/int/sorted-ranges';\nimport { isPolymer } from '../../types';\nimport { getAtomIdForAtomRole } from '../../../util';\nimport { Vec3 } from '../../../../../mol-math/linear-algebra';\nfunction areBackboneConnected(riStart, riEnd, conformation, index, derived) {\n    var _a = derived.residue, polymerType = _a.polymerType, traceElementIndex = _a.traceElementIndex, directionFromElementIndex = _a.directionFromElementIndex, directionToElementIndex = _a.directionToElementIndex;\n    var ptStart = polymerType[riStart];\n    var ptEnd = polymerType[riEnd];\n    if (ptStart === 0 /* PolymerType.NA */ || ptEnd === 0 /* PolymerType.NA */)\n        return false;\n    if (traceElementIndex[riStart] === -1 || traceElementIndex[riEnd] === -1)\n        return false;\n    var eiStart = index.findAtomsOnResidue(riStart, getAtomIdForAtomRole(ptStart, 'backboneStart'));\n    var eiEnd = index.findAtomsOnResidue(riEnd, getAtomIdForAtomRole(ptEnd, 'backboneEnd'));\n    if (eiStart === -1 || eiEnd === -1) {\n        eiStart = index.findAtomsOnResidue(riStart, getAtomIdForAtomRole(ptStart, 'coarseBackbone'));\n        eiEnd = index.findAtomsOnResidue(riEnd, getAtomIdForAtomRole(ptEnd, 'coarseBackbone'));\n    }\n    var x = conformation.x, y = conformation.y, z = conformation.z;\n    var pStart = Vec3.create(x[eiStart], y[eiStart], z[eiStart]);\n    var pEnd = Vec3.create(x[eiEnd], y[eiEnd], z[eiEnd]);\n    var isCoarse = directionFromElementIndex[riStart] === -1 || directionToElementIndex[riStart] === -1 || directionFromElementIndex[riEnd] === -1 || directionToElementIndex[riEnd] === -1;\n    return Vec3.distance(pStart, pEnd) < (isCoarse ? 10 : 3);\n}\nexport function getAtomicRanges(hierarchy, entities, conformation, sequence) {\n    var polymerRanges = [];\n    var gapRanges = [];\n    var cyclicPolymerMap = new Map();\n    var chainIt = Segmentation.transientSegments(hierarchy.chainAtomSegments, Interval.ofBounds(0, hierarchy.atoms._rowCount));\n    var residueIt = Segmentation.transientSegments(hierarchy.residueAtomSegments, Interval.ofBounds(0, hierarchy.atoms._rowCount));\n    var index = hierarchy.index, derived = hierarchy.derived;\n    var label_seq_id = hierarchy.residues.label_seq_id;\n    var label_entity_id = hierarchy.chains.label_entity_id;\n    var _a = derived.residue, moleculeType = _a.moleculeType, traceElementIndex = _a.traceElementIndex;\n    var prevSeqId;\n    var prevStart;\n    var prevEnd;\n    var startIndex;\n    while (chainIt.hasNext) {\n        var chainSegment = chainIt.move();\n        residueIt.setSegment(chainSegment);\n        prevSeqId = -1;\n        prevStart = -1;\n        prevEnd = -1;\n        startIndex = -1;\n        var eI = entities.getEntityIndex(label_entity_id.value(chainSegment.index));\n        var seq = sequence.byEntityKey[eI];\n        var maxSeqId = seq ? seq.sequence.seqId.value(seq.sequence.seqId.rowCount - 1) : -1;\n        // check cyclic peptides, seqIds and distance must be compatible\n        var riStart = hierarchy.residueAtomSegments.index[chainSegment.start];\n        var riEnd = hierarchy.residueAtomSegments.index[chainSegment.end - 1];\n        var seqIdStart = label_seq_id.value(riStart);\n        var seqIdEnd = label_seq_id.value(riEnd);\n        if (seqIdStart === 1 && seqIdEnd === maxSeqId && conformation.xyzDefined && areBackboneConnected(riStart, riEnd, conformation, index, derived)) {\n            cyclicPolymerMap.set(riStart, riEnd);\n            cyclicPolymerMap.set(riEnd, riStart);\n        }\n        while (residueIt.hasNext) {\n            var residueSegment = residueIt.move();\n            var residueIndex = residueSegment.index;\n            var seqId = label_seq_id.value(residueIndex);\n            // treat polymers residues that don't have a trace element resolved as gaps\n            if (isPolymer(moleculeType[residueIndex]) && traceElementIndex[residueIndex] !== -1) {\n                if (startIndex !== -1) {\n                    if (seqId !== prevSeqId + 1) {\n                        polymerRanges.push(startIndex, prevEnd - 1);\n                        gapRanges.push(prevStart, residueSegment.end - 1);\n                        startIndex = residueSegment.start;\n                    }\n                    else if (!residueIt.hasNext) {\n                        polymerRanges.push(startIndex, residueSegment.end - 1);\n                        // TODO store terminal gaps\n                    }\n                    else {\n                        var riStart_1 = hierarchy.residueAtomSegments.index[residueSegment.start];\n                        var riEnd_1 = hierarchy.residueAtomSegments.index[prevEnd - 1];\n                        if (conformation.xyzDefined && !areBackboneConnected(riStart_1, riEnd_1, conformation, hierarchy.index, derived)) {\n                            polymerRanges.push(startIndex, prevEnd - 1);\n                            // add gap even for consecutive residues if they are not connected\n                            gapRanges.push(prevStart, residueSegment.end - 1);\n                            startIndex = residueSegment.start;\n                        }\n                    }\n                }\n                else {\n                    startIndex = residueSegment.start; // start polymer\n                    // TODO store terminal gaps\n                }\n            }\n            else {\n                if (startIndex !== -1) {\n                    polymerRanges.push(startIndex, prevEnd - 1);\n                    startIndex = -1;\n                }\n            }\n            prevStart = residueSegment.start;\n            prevEnd = residueSegment.end;\n            prevSeqId = seqId;\n        }\n    }\n    return {\n        polymerRanges: SortedRanges.ofSortedRanges(polymerRanges),\n        gapRanges: SortedRanges.ofSortedRanges(gapRanges),\n        cyclicPolymerMap: cyclicPolymerMap\n    };\n}\n","/**\n * Copyright (c) 2017-2020 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\nimport { Table } from '../../../mol-data/db';\nimport { getDefaultChemicalComponent, getMoleculeType } from '../../../mol-model/structure/model/types';\nimport { SaccharideCompIdMap, SaccharidesSnfgMap, UnknownSaccharideComponent } from '../../../mol-model/structure/structure/carbohydrates/constants';\nimport { memoize1 } from '../../../mol-util/memoize';\nexport function getMissingResidues(data) {\n    var map = new Map();\n    var getKey = function (model_num, asym_id, seq_id) {\n        return \"\".concat(model_num, \"|\").concat(asym_id, \"|\").concat(seq_id);\n    };\n    var c = data.pdbx_unobs_or_zero_occ_residues;\n    for (var i = 0, il = c._rowCount; i < il; ++i) {\n        var key = getKey(c.PDB_model_num.value(i), c.label_asym_id.value(i), c.label_seq_id.value(i));\n        map.set(key, { polymer_flag: c.polymer_flag.value(i), occupancy_flag: c.occupancy_flag.value(i) });\n    }\n    return {\n        has: function (model_num, asym_id, seq_id) {\n            return map.has(getKey(model_num, asym_id, seq_id));\n        },\n        get: function (model_num, asym_id, seq_id) {\n            return map.get(getKey(model_num, asym_id, seq_id));\n        },\n        size: map.size\n    };\n}\nexport function getChemicalComponentMap(data) {\n    var map = new Map();\n    if (data.chem_comp._rowCount > 0) {\n        var id = data.chem_comp.id;\n        for (var i = 0, il = id.rowCount; i < il; ++i) {\n            map.set(id.value(i), Table.getRow(data.chem_comp, i));\n        }\n    }\n    else {\n        var uniqueNames = getUniqueComponentNames(data);\n        uniqueNames.forEach(function (n) {\n            map.set(n, getDefaultChemicalComponent(n));\n        });\n    }\n    return map;\n}\nexport function getSaccharideComponentMap(data) {\n    var map = new Map();\n    if (data.pdbx_chem_comp_identifier._rowCount > 0) {\n        // note that `pdbx_chem_comp_identifier` does not contain\n        // a 'SNFG CARBOHYDRATE SYMBOL' entry for 'Unknown' saccharide components\n        // so we always need to check `chem_comp` for those\n        var _a = data.pdbx_chem_comp_identifier, comp_id = _a.comp_id, type = _a.type, identifier = _a.identifier;\n        for (var i = 0, il = comp_id.rowCount; i < il; ++i) {\n            if (type.value(i) === 'SNFG CARBOHYDRATE SYMBOL' ||\n                type.value(i) === 'SNFG CARB SYMBOL' // legacy, to be removed from mmCIF dictionary\n            ) {\n                var snfgName = identifier.value(i);\n                var saccharideComp = SaccharidesSnfgMap.get(snfgName);\n                if (saccharideComp) {\n                    map.set(comp_id.value(i), saccharideComp);\n                }\n                else {\n                    console.warn(\"Unknown SNFG name '\".concat(snfgName, \"'\"));\n                }\n            }\n        }\n    }\n    if (data.chem_comp._rowCount > 0) {\n        var _b = data.chem_comp, id = _b.id, type = _b.type;\n        for (var i = 0, il = id.rowCount; i < il; ++i) {\n            var _id = id.value(i);\n            if (map.has(_id))\n                continue;\n            var _type = type.value(i);\n            if (SaccharideCompIdMap.has(_id)) {\n                map.set(_id, SaccharideCompIdMap.get(_id));\n            }\n            else if (getMoleculeType(_type, _id) === 9 /* MoleculeType.Saccharide */) {\n                map.set(_id, UnknownSaccharideComponent);\n            }\n        }\n    }\n    else {\n        var uniqueNames_1 = getUniqueComponentNames(data);\n        SaccharideCompIdMap.forEach(function (v, k) {\n            if (!map.has(k) && uniqueNames_1.has(k))\n                map.set(k, v);\n        });\n    }\n    return map;\n}\nvar getUniqueComponentNames = memoize1(function (data) {\n    var uniqueNames = new Set();\n    var _a = data.atom_site, label_comp_id = _a.label_comp_id, auth_comp_id = _a.auth_comp_id;\n    var comp_id = label_comp_id.isDefined ? label_comp_id : auth_comp_id;\n    for (var i = 0, il = comp_id.rowCount; i < il; ++i) {\n        uniqueNames.add(comp_id.value(i));\n    }\n    return uniqueNames;\n});\nexport function getStructAsymMap(atomic, data) {\n    var map = new Map();\n    var _a = atomic.chains, auth_asym_id = _a.auth_asym_id, label_asym_id = _a.label_asym_id, label_entity_id = _a.label_entity_id;\n    for (var i = 0, _i = atomic.chains._rowCount; i < _i; i++) {\n        var id = label_asym_id.value(i);\n        map.set(id, { id: id, auth_id: auth_asym_id.value(i), entity_id: label_entity_id.value(i) });\n    }\n    // to get asym mapping for coarse/ihm data\n    if (data === null || data === void 0 ? void 0 : data.struct_asym._rowCount) {\n        var _b = data.struct_asym, id = _b.id, entity_id = _b.entity_id;\n        for (var i = 0, il = id.rowCount; i < il; ++i) {\n            var _id = id.value(i);\n            if (!map.has(_id)) {\n                map.set(_id, {\n                    id: _id,\n                    auth_id: '',\n                    entity_id: entity_id.value(i)\n                });\n            }\n        }\n    }\n    return map;\n}\n","/**\n * Copyright (c) 2018 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n */\n/** Cache the latest result from calls to a function with any number of arguments */\nexport function memoizeLatest(f) {\n    var lastArgs = void 0, value = void 0;\n    return function () {\n        var args = [];\n        for (var _a = 0; _a < arguments.length; _a++) {\n            args[_a] = arguments[_a];\n        }\n        if (!lastArgs || lastArgs.length !== args.length) {\n            lastArgs = args;\n            value = f.apply(void 0, args);\n            return value;\n        }\n        for (var i = 0, _i = args.length; i < _i; i++) {\n            if (args[i] !== lastArgs[i]) {\n                lastArgs = args;\n                value = f.apply(void 0, args);\n                return value;\n            }\n        }\n        return value;\n    };\n}\n/** Cache all results from calls to a function with a single argument */\nexport function memoize1(f) {\n    var cache = new Map();\n    return function (a) {\n        if (cache.has(a))\n            return cache.get(a);\n        var v = f(a);\n        cache.set(a, v);\n        return v;\n    };\n}\n","/**\n * Copyright (c) 2018-2021 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @author David Sehnal <david.sehnal@gmail.com>\n */\nimport { Column } from '../../../../mol-data/db';\nexport var EntitySubtype = Column.Schema.Aliased(Column.Schema.Str());\n","/**\n * Copyright (c) 2017-2020 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\nimport { __assign } from \"tslib\";\nimport { Column, Table } from '../../../mol-data/db';\nimport { EntitySubtype } from '../../../mol-model/structure/model/properties/common';\nimport { getEntityType, getEntitySubtype } from '../../../mol-model/structure/model/types';\nimport { BasicSchema } from './schema';\nexport function getEntityData(data) {\n    var entityData;\n    if (!data.entity.id.isDefined) {\n        var entityIds_1 = new Set();\n        var ids = [];\n        var types = [];\n        var _a = data.atom_site, label_entity_id = _a.label_entity_id, label_comp_id = _a.label_comp_id;\n        for (var i = 0, il = data.atom_site._rowCount; i < il; i++) {\n            var entityId = label_entity_id.value(i);\n            if (!entityIds_1.has(entityId)) {\n                ids.push(entityId);\n                types.push(getEntityType(label_comp_id.value(i)));\n                entityIds_1.add(entityId);\n            }\n        }\n        var sphere_entity_id = data.ihm_sphere_obj_site.entity_id;\n        for (var i = 0, il = data.ihm_sphere_obj_site._rowCount; i < il; i++) {\n            var entityId = sphere_entity_id.value(i);\n            if (!entityIds_1.has(entityId)) {\n                ids.push(entityId);\n                types.push('polymer');\n                entityIds_1.add(entityId);\n            }\n        }\n        var gaussian_entity_id = data.ihm_gaussian_obj_site.entity_id;\n        for (var i = 0, il = data.ihm_gaussian_obj_site._rowCount; i < il; i++) {\n            var entityId = gaussian_entity_id.value(i);\n            if (!entityIds_1.has(entityId)) {\n                ids.push(entityId);\n                types.push('polymer');\n                entityIds_1.add(entityId);\n            }\n        }\n        entityData = Table.ofPartialColumns(BasicSchema.entity, {\n            id: Column.ofArray({ array: ids, schema: BasicSchema.entity.id }),\n            type: Column.ofArray({ array: types, schema: BasicSchema.entity.type }),\n        }, ids.length);\n    }\n    else {\n        entityData = data.entity;\n    }\n    var getEntityIndex = Column.createIndexer(entityData.id);\n    //\n    var subtypes = new Array(entityData._rowCount);\n    subtypes.fill('other');\n    var entityIds = new Set();\n    var assignSubtype = false;\n    if (data.entity_poly && data.entity_poly.type.isDefined) {\n        var _b = data.entity_poly, entity_id = _b.entity_id, type = _b.type, _rowCount = _b._rowCount;\n        for (var i = 0; i < _rowCount; ++i) {\n            var entityId = entity_id.value(i);\n            subtypes[getEntityIndex(entityId)] = type.value(i);\n            entityIds.add(entityId);\n        }\n    }\n    else {\n        assignSubtype = true;\n    }\n    if (data.pdbx_entity_branch && data.pdbx_entity_branch.entity_id.isDefined) {\n        var _c = data.pdbx_entity_branch, entity_id = _c.entity_id, type = _c.type, _rowCount = _c._rowCount;\n        for (var i = 0; i < _rowCount; ++i) {\n            var entityId = entity_id.value(i);\n            subtypes[getEntityIndex(entityId)] = type.value(i);\n            entityIds.add(entityId);\n        }\n    }\n    else {\n        assignSubtype = true;\n    }\n    if (entityIds.size < subtypes.length) {\n        // still unassigned subtypes, need to derive from component id/type\n        assignSubtype = true;\n    }\n    if (assignSubtype) {\n        var chemCompType = new Map();\n        if (data.chem_comp) {\n            var _d = data.chem_comp, id = _d.id, type = _d.type;\n            for (var i = 0, il = data.chem_comp._rowCount; i < il; i++) {\n                chemCompType.set(id.value(i), type.value(i));\n            }\n        }\n        if (data.atom_site) {\n            var _e = data.atom_site, label_entity_id = _e.label_entity_id, label_comp_id = _e.label_comp_id;\n            for (var i = 0, il = data.atom_site._rowCount; i < il; i++) {\n                var entityId = label_entity_id.value(i);\n                if (!entityIds.has(entityId)) {\n                    var compId = label_comp_id.value(i);\n                    var compType = chemCompType.get(compId) || 'other';\n                    subtypes[getEntityIndex(entityId)] = getEntitySubtype(compId, compType);\n                    entityIds.add(entityId);\n                }\n            }\n        }\n        // TODO how to handle coarse?\n    }\n    var subtypeColumn = Column.ofArray({ array: subtypes, schema: EntitySubtype });\n    return {\n        data: entityData,\n        subtype: subtypeColumn,\n        getEntityIndex: getEntityIndex\n    };\n}\nexport function getEntitiesWithPRD(data, entities, structAsymMap) {\n    var _a;\n    if (!data.pdbx_molecule || !data.pdbx_molecule.prd_id.isDefined) {\n        return entities;\n    }\n    var prdIds = new Array(entities.data._rowCount);\n    prdIds.fill('');\n    var _b = data.pdbx_molecule, asym_id = _b.asym_id, prd_id = _b.prd_id, _rowCount = _b._rowCount;\n    for (var i = 0; i < _rowCount; ++i) {\n        var asymId = asym_id.value(i);\n        var entityId = (_a = structAsymMap.get(asymId)) === null || _a === void 0 ? void 0 : _a.entity_id;\n        if (entityId !== undefined) {\n            prdIds[entities.getEntityIndex(entityId)] = prd_id.value(i);\n        }\n    }\n    var prdIdColumn = Column.ofArray({ array: prdIds, schema: Column.Schema.str });\n    return __assign(__assign({}, entities), { prd_id: prdIdColumn });\n}\n","/**\n * Copyright (c) 2020 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n */\nvar ArrayTrajectory = /** @class */ (function () {\n    function ArrayTrajectory(frames) {\n        this.frames = frames;\n        this.frameCount = frames.length;\n        this.representative = frames[0];\n        this.duration = frames.length;\n    }\n    ArrayTrajectory.prototype.getFrameAtIndex = function (i) {\n        return this.frames[i];\n    };\n    return ArrayTrajectory;\n}());\nexport { ArrayTrajectory };\n","/**\n * Copyright (c) 2017-2023 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\nimport { __assign, __awaiter, __generator } from \"tslib\";\nimport { UUID } from '../../../mol-util/uuid';\nimport { CustomProperties } from '../../custom-property';\nimport { calcModelCenter, getAsymIdCount } from './util';\nimport { Vec3 } from '../../../mol-math/linear-algebra';\nimport { Coordinates } from '../coordinates';\nimport { Task } from '../../../mol-task';\nimport { IndexPairBonds } from '../../../mol-model-formats/structure/property/bonds/index-pair';\nimport { createModels } from '../../../mol-model-formats/structure/basic/parser';\nimport { MmcifFormat } from '../../../mol-model-formats/structure/mmcif';\nimport { ModelSymmetry } from '../../../mol-model-formats/structure/property/symmetry';\nimport { Column } from '../../../mol-data/db';\nimport { CustomModelProperty } from '../../../mol-model-props/common/custom-model-property';\nimport { ArrayTrajectory } from '../trajectory';\nimport { ModelSecondaryStructure } from '../../../mol-model-formats/structure/property/secondary-structure';\n{ }\nexport var Model;\n(function (Model) {\n    function _trajectoryFromModelAndCoordinates(model, coordinates) {\n        var trajectory = [];\n        var frames = coordinates.frames;\n        var srcIndex = model.atomicHierarchy.atomSourceIndex;\n        var isIdentity = Column.isIdentity(srcIndex);\n        var srcIndexArray = isIdentity ? void 0 : srcIndex.toArray({ array: Int32Array });\n        var coarseGrained = isCoarseGrained(model);\n        var elementCount = model.atomicHierarchy.atoms._rowCount;\n        for (var i = 0, il = frames.length; i < il; ++i) {\n            var f = frames[i];\n            if (f.elementCount !== elementCount) {\n                throw new Error(\"Frame element count mismatch, got \".concat(f.elementCount, \" but expected \").concat(elementCount, \".\"));\n            }\n            var m = __assign(__assign({}, model), { id: UUID.create22(), modelNum: i, atomicConformation: Coordinates.getAtomicConformation(f, {\n                    atomId: model.atomicConformation.atomId,\n                    occupancy: model.atomicConformation.occupancy,\n                    B_iso_or_equiv: model.atomicConformation.B_iso_or_equiv\n                }, srcIndexArray), \n                // TODO: add support for supplying sphere and gaussian coordinates in addition to atomic coordinates?\n                // coarseConformation: coarse.conformation,\n                customProperties: new CustomProperties(), _staticPropertyData: Object.create(null), _dynamicPropertyData: Object.create(null) });\n            if (f.cell) {\n                var symmetry = ModelSymmetry.fromCell(f.cell.size, f.cell.anglesInRadians);\n                ModelSymmetry.Provider.set(m, symmetry);\n            }\n            Model.TrajectoryInfo.set(m, { index: i, size: frames.length });\n            Model.CoarseGrained.set(m, coarseGrained);\n            trajectory.push(m);\n        }\n        return { trajectory: trajectory, srcIndexArray: srcIndexArray };\n    }\n    function trajectoryFromModelAndCoordinates(model, coordinates) {\n        return new ArrayTrajectory(_trajectoryFromModelAndCoordinates(model, coordinates).trajectory);\n    }\n    Model.trajectoryFromModelAndCoordinates = trajectoryFromModelAndCoordinates;\n    function trajectoryFromTopologyAndCoordinates(topology, coordinates) {\n        var _this = this;\n        return Task.create('Create Trajectory', function (ctx) { return __awaiter(_this, void 0, void 0, function () {\n            var models, model, trajectory, bondData, indexPairBonds, coarseGrained, index, _a, trajectory_1, m;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0: return [4 /*yield*/, createModels(topology.basic, topology.sourceData, ctx)];\n                    case 1:\n                        models = _b.sent();\n                        if (models.frameCount === 0)\n                            throw new Error('found no model');\n                        model = models.representative;\n                        trajectory = _trajectoryFromModelAndCoordinates(model, coordinates).trajectory;\n                        bondData = { pairs: topology.bonds, count: model.atomicHierarchy.atoms._rowCount };\n                        indexPairBonds = IndexPairBonds.fromData(bondData);\n                        coarseGrained = isCoarseGrained(model);\n                        index = 0;\n                        for (_a = 0, trajectory_1 = trajectory; _a < trajectory_1.length; _a++) {\n                            m = trajectory_1[_a];\n                            IndexPairBonds.Provider.set(m, indexPairBonds);\n                            Model.TrajectoryInfo.set(m, { index: index++, size: trajectory.length });\n                            Model.CoarseGrained.set(m, coarseGrained);\n                        }\n                        return [2 /*return*/, new ArrayTrajectory(trajectory)];\n                }\n            });\n        }); });\n    }\n    Model.trajectoryFromTopologyAndCoordinates = trajectoryFromTopologyAndCoordinates;\n    var CenterProp = '__Center__';\n    function getCenter(model) {\n        if (model._dynamicPropertyData[CenterProp])\n            return model._dynamicPropertyData[CenterProp];\n        var center = calcModelCenter(model.atomicConformation, model.coarseConformation);\n        model._dynamicPropertyData[CenterProp] = center;\n        return center;\n    }\n    Model.getCenter = getCenter;\n    function invertIndex(xs) {\n        var invertedIndex = new Int32Array(xs.rowCount);\n        var isIdentity = false;\n        for (var i = 0, _i = xs.rowCount; i < _i; i++) {\n            var x = xs.value(i);\n            if (x !== i)\n                isIdentity = false;\n            invertedIndex[x] = i;\n        }\n        return { isIdentity: isIdentity, invertedIndex: invertedIndex };\n    }\n    var InvertedAtomSrcIndexProp = '__InvertedAtomSrcIndex__';\n    function getInvertedAtomSourceIndex(model) {\n        if (model._staticPropertyData[InvertedAtomSrcIndexProp])\n            return model._staticPropertyData[InvertedAtomSrcIndexProp];\n        var index = invertIndex(model.atomicHierarchy.atomSourceIndex);\n        model._staticPropertyData[InvertedAtomSrcIndexProp] = index;\n        return index;\n    }\n    Model.getInvertedAtomSourceIndex = getInvertedAtomSourceIndex;\n    var TrajectoryInfoProp = '__TrajectoryInfo__';\n    Model.TrajectoryInfo = {\n        get: function (model) {\n            return model._dynamicPropertyData[TrajectoryInfoProp] || { index: 0, size: 1 };\n        },\n        set: function (model, trajectoryInfo) {\n            return model._dynamicPropertyData[TrajectoryInfoProp] = trajectoryInfo;\n        }\n    };\n    var AsymIdCountProp = '__AsymIdCount__';\n    Model.AsymIdCount = {\n        get: function (model) {\n            if (model._dynamicPropertyData[AsymIdCountProp])\n                return model._dynamicPropertyData[AsymIdCountProp];\n            var asymIdCount = getAsymIdCount(model);\n            model._dynamicPropertyData[AsymIdCountProp] = asymIdCount;\n            return asymIdCount;\n        },\n    };\n    Model.AsymIdOffset = CustomModelProperty.createSimple('asym_id_offset', 'static');\n    Model.Index = CustomModelProperty.createSimple('index', 'static');\n    Model.MaxIndex = CustomModelProperty.createSimple('max_index', 'static');\n    function getRoot(model) {\n        return model.parent || model;\n    }\n    Model.getRoot = getRoot;\n    function areHierarchiesEqual(a, b) {\n        return a.atomicHierarchy === b.atomicHierarchy && a.coarseHierarchy === b.coarseHierarchy;\n    }\n    Model.areHierarchiesEqual = areHierarchiesEqual;\n    var CoordinatesHistoryProp = '__CoordinatesHistory__';\n    Model.CoordinatesHistory = {\n        get: function (model) {\n            return model._staticPropertyData[CoordinatesHistoryProp];\n        },\n        set: function (model, coordinatesHistory) {\n            return model._staticPropertyData[CoordinatesHistoryProp] = coordinatesHistory;\n        }\n    };\n    var CoarseGrainedProp = '__CoarseGrained__';\n    Model.CoarseGrained = {\n        get: function (model) {\n            return model._staticPropertyData[CoarseGrainedProp];\n        },\n        set: function (model, coarseGrained) {\n            return model._staticPropertyData[CoarseGrainedProp] = coarseGrained;\n        }\n    };\n    /**\n     * Has typical coarse grained atom names (BB, SC1) or less than three times as many\n     * atoms as polymer residues (C-alpha only models).\n     */\n    function isCoarseGrained(model) {\n        var coarseGrained = Model.CoarseGrained.get(model);\n        if (coarseGrained === undefined) {\n            var polymerResidueCount = 0;\n            var polymerType = model.atomicHierarchy.derived.residue.polymerType;\n            for (var i = 0; i < polymerType.length; ++i) {\n                if (polymerType[i] !== 0 /* PolymerType.NA */)\n                    polymerResidueCount += 1;\n            }\n            // check for coarse grained atom names\n            var hasBB = false, hasSC1 = false;\n            var _a = model.atomicHierarchy.atoms, label_atom_id = _a.label_atom_id, atomCount = _a._rowCount;\n            for (var i = 0; i < atomCount; ++i) {\n                var atomName = label_atom_id.value(i);\n                if (!hasBB && atomName === 'BB')\n                    hasBB = true;\n                if (!hasSC1 && atomName === 'SC1')\n                    hasSC1 = true;\n                if (hasBB && hasSC1)\n                    break;\n            }\n            coarseGrained = (hasBB && hasSC1) || (polymerResidueCount && atomCount\n                ? atomCount / polymerResidueCount < 3\n                : false);\n            Model.CoarseGrained.set(model, coarseGrained);\n        }\n        return coarseGrained;\n    }\n    Model.isCoarseGrained = isCoarseGrained;\n    //\n    function hasCarbohydrate(model) {\n        return model.properties.saccharideComponentMap.size > 0;\n    }\n    Model.hasCarbohydrate = hasCarbohydrate;\n    function hasProtein(model) {\n        var subtype = model.entities.subtype;\n        for (var i = 0, il = subtype.rowCount; i < il; ++i) {\n            if (subtype.value(i).startsWith('polypeptide'))\n                return true;\n        }\n        return false;\n    }\n    Model.hasProtein = hasProtein;\n    function hasNucleic(model) {\n        var subtype = model.entities.subtype;\n        for (var i = 0, il = subtype.rowCount; i < il; ++i) {\n            var s = subtype.value(i);\n            if (s.endsWith('ribonucleotide hybrid') || s.endsWith('ribonucleotide'))\n                return true;\n        }\n        return false;\n    }\n    Model.hasNucleic = hasNucleic;\n    function isFromPdbArchive(model) {\n        if (!MmcifFormat.is(model.sourceData))\n            return false;\n        var db = model.sourceData.data.db;\n        for (var i = 0, il = db.database_2.database_id.rowCount; i < il; ++i) {\n            if (db.database_2.database_id.value(i) === 'pdb')\n                return true;\n        }\n        return false;\n    }\n    Model.isFromPdbArchive = isFromPdbArchive;\n    function hasPdbId(model) {\n        if (!MmcifFormat.is(model.sourceData))\n            return false;\n        return (\n        // 4 character PDB id\n        model.entryId.match(/^[1-9][a-z0-9]{3,3}$/i) !== null ||\n            // long PDB id\n            model.entryId.match(/^pdb_[0-9]{4,4}[1-9][a-z0-9]{3,3}$/i) !== null);\n    }\n    Model.hasPdbId = hasPdbId;\n    function hasSecondaryStructure(model) {\n        if (MmcifFormat.is(model.sourceData)) {\n            var db = model.sourceData.data.db;\n            return (db.struct_conf.id.isDefined ||\n                db.struct_sheet_range.id.isDefined);\n        }\n        else {\n            return ModelSecondaryStructure.Provider.isApplicable(model);\n        }\n    }\n    Model.hasSecondaryStructure = hasSecondaryStructure;\n    var tmpAngles90 = Vec3.create(1.5707963, 1.5707963, 1.5707963); // in radians\n    var tmpLengths1 = Vec3.create(1, 1, 1);\n    function hasCrystalSymmetry(model) {\n        var _a;\n        var spacegroup = (_a = ModelSymmetry.Provider.get(model)) === null || _a === void 0 ? void 0 : _a.spacegroup;\n        return !!spacegroup && !(spacegroup.num === 1 &&\n            Vec3.equals(spacegroup.cell.anglesInRadians, tmpAngles90) &&\n            Vec3.equals(spacegroup.cell.size, tmpLengths1));\n    }\n    Model.hasCrystalSymmetry = hasCrystalSymmetry;\n    function isFromXray(model) {\n        if (!MmcifFormat.is(model.sourceData))\n            return false;\n        var db = model.sourceData.data.db;\n        for (var i = 0; i < db.exptl.method.rowCount; i++) {\n            var v = db.exptl.method.value(i).toUpperCase();\n            if (v.indexOf('DIFFRACTION') >= 0)\n                return true;\n        }\n        return false;\n    }\n    Model.isFromXray = isFromXray;\n    function isFromEm(model) {\n        if (!MmcifFormat.is(model.sourceData))\n            return false;\n        var db = model.sourceData.data.db;\n        for (var i = 0; i < db.exptl.method.rowCount; i++) {\n            var v = db.exptl.method.value(i).toUpperCase();\n            if (v.indexOf('MICROSCOPY') >= 0)\n                return true;\n        }\n        return false;\n    }\n    Model.isFromEm = isFromEm;\n    function isFromNmr(model) {\n        if (!MmcifFormat.is(model.sourceData))\n            return false;\n        var db = model.sourceData.data.db;\n        for (var i = 0; i < db.exptl.method.rowCount; i++) {\n            var v = db.exptl.method.value(i).toUpperCase();\n            if (v.indexOf('NMR') >= 0)\n                return true;\n        }\n        return false;\n    }\n    Model.isFromNmr = isFromNmr;\n    function hasXrayMap(model) {\n        if (!MmcifFormat.is(model.sourceData))\n            return false;\n        // Check exprimental method to exclude models solved with\n        // 'ELECTRON CRYSTALLOGRAPHY' which also have structure factors\n        if (!isFromXray(model))\n            return false;\n        var db = model.sourceData.data.db;\n        var status_code_sf = db.pdbx_database_status.status_code_sf;\n        return status_code_sf.isDefined && status_code_sf.value(0) === 'REL';\n    }\n    Model.hasXrayMap = hasXrayMap;\n    /**\n     * Also checks for `content_type` of 'associated EM volume' to exclude cases\n     * like 6TEK which are solved with 'X-RAY DIFFRACTION' but have an related\n     * EMDB entry of type 'other EM volume'.\n     */\n    function hasEmMap(model) {\n        if (!MmcifFormat.is(model.sourceData))\n            return false;\n        var db = model.sourceData.data.db;\n        var _a = db.pdbx_database_related, db_name = _a.db_name, content_type = _a.content_type;\n        for (var i = 0, il = db.pdbx_database_related._rowCount; i < il; ++i) {\n            if (db_name.value(i).toUpperCase() === 'EMDB' && content_type.value(i) === 'associated EM volume') {\n                return true;\n            }\n        }\n        return false;\n    }\n    Model.hasEmMap = hasEmMap;\n    function hasDensityMap(model) {\n        if (!MmcifFormat.is(model.sourceData))\n            return false;\n        return hasXrayMap(model) || hasEmMap(model);\n    }\n    Model.hasDensityMap = hasDensityMap;\n    function probablyHasDensityMap(model) {\n        if (!MmcifFormat.is(model.sourceData))\n            return false;\n        var db = model.sourceData.data.db;\n        return hasDensityMap(model) || (\n        // check if from pdb archive but missing relevant meta data\n        hasPdbId(model) && (!db.exptl.method.isDefined ||\n            (isFromXray(model) && (!db.pdbx_database_status.status_code_sf.isDefined ||\n                db.pdbx_database_status.status_code_sf.valueKind(0) === 2 /* Column.ValueKinds.Unknown */)) ||\n            (isFromEm(model) && (!db.pdbx_database_related.db_name.isDefined))));\n    }\n    Model.probablyHasDensityMap = probablyHasDensityMap;\n})(Model || (Model = {}));\n","/**\n * Copyright (c) 2018 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n */\nimport { StructureElement } from '../../../structure';\nimport { Segmentation } from '../../../../../mol-data/int';\nimport { UUID } from '../../../../../mol-util';\nexport var IndexedCustomProperty;\n(function (IndexedCustomProperty) {\n    function getCifDataSource(structure, prop, cache) {\n        if (!prop)\n            return { rowCount: 0 };\n        if (cache && cache[prop.id])\n            return cache[prop.id];\n        var data = prop.getElements(structure);\n        var ret = { data: data, rowCount: data.elements.length };\n        if (cache)\n            cache[prop.id] = ret;\n        return ret;\n    }\n    IndexedCustomProperty.getCifDataSource = getCifDataSource;\n    function fromAtomMap(map) {\n        return new ElementMappedCustomProperty(map);\n    }\n    IndexedCustomProperty.fromAtomMap = fromAtomMap;\n    function fromAtomArray(array) {\n        // TODO: create \"array based custom property\" as optimization\n        return new ElementMappedCustomProperty(arrayToMap(array));\n    }\n    IndexedCustomProperty.fromAtomArray = fromAtomArray;\n    var getResidueSegments = function (model) { return model.atomicHierarchy.residueAtomSegments; };\n    function fromResidueMap(map) {\n        return new SegmentedMappedIndexedCustomProperty('residue', map, getResidueSegments, 0 /* Unit.Kind.Atomic */);\n    }\n    IndexedCustomProperty.fromResidueMap = fromResidueMap;\n    function fromResidueArray(array) {\n        // TODO: create \"array based custom property\" as optimization\n        return new SegmentedMappedIndexedCustomProperty('residue', arrayToMap(array), getResidueSegments, 0 /* Unit.Kind.Atomic */);\n    }\n    IndexedCustomProperty.fromResidueArray = fromResidueArray;\n    var getChainSegments = function (model) { return model.atomicHierarchy.chainAtomSegments; };\n    function fromChainMap(map) {\n        return new SegmentedMappedIndexedCustomProperty('chain', map, getChainSegments, 0 /* Unit.Kind.Atomic */);\n    }\n    IndexedCustomProperty.fromChainMap = fromChainMap;\n    function fromChainArray(array) {\n        // TODO: create \"array based custom property\" as optimization\n        return new SegmentedMappedIndexedCustomProperty('chain', arrayToMap(array), getChainSegments, 0 /* Unit.Kind.Atomic */);\n    }\n    IndexedCustomProperty.fromChainArray = fromChainArray;\n    function fromEntityMap(map) {\n        return new EntityMappedCustomProperty(map);\n    }\n    IndexedCustomProperty.fromEntityMap = fromEntityMap;\n})(IndexedCustomProperty || (IndexedCustomProperty = {}));\nfunction arrayToMap(array) {\n    var ret = new Map();\n    for (var i = 0, _i = array.length; i < _i; i++)\n        ret.set(i, array[i]);\n    return ret;\n}\nvar SegmentedMappedIndexedCustomProperty = /** @class */ (function () {\n    function SegmentedMappedIndexedCustomProperty(level, map, segmentGetter, kind) {\n        this.level = level;\n        this.map = map;\n        this.segmentGetter = segmentGetter;\n        this.id = UUID.create22();\n        this.kind = kind;\n    }\n    SegmentedMappedIndexedCustomProperty.prototype.has = function (idx) { return this.map.has(idx); };\n    SegmentedMappedIndexedCustomProperty.prototype.get = function (idx) { return this.map.get(idx); };\n    SegmentedMappedIndexedCustomProperty.prototype.getStructureElements = function (structure) {\n        var models = structure.models;\n        if (models.length !== 1)\n            throw new Error(\"Only works on structures with a single model.\");\n        var seenIndices = new Set();\n        var unitGroups = structure.unitSymmetryGroups;\n        var loci = [];\n        var segments = this.segmentGetter(models[0]);\n        for (var _a = 0, unitGroups_1 = unitGroups; _a < unitGroups_1.length; _a++) {\n            var unitGroup = unitGroups_1[_a];\n            var unit = unitGroup.units[0];\n            if (unit.kind !== this.kind) {\n                continue;\n            }\n            var chains = Segmentation.transientSegments(segments, unit.elements);\n            while (chains.hasNext) {\n                var seg = chains.move();\n                if (!this.has(seg.index) || seenIndices.has(seg.index))\n                    continue;\n                seenIndices.add(seg.index);\n                loci[loci.length] = StructureElement.Location.create(structure, unit, unit.elements[seg.start]);\n            }\n        }\n        loci.sort(function (x, y) { return x.element - y.element; });\n        return loci;\n    };\n    SegmentedMappedIndexedCustomProperty.prototype.getElements = function (structure) {\n        var _this = this;\n        var index = this.segmentGetter(structure.model).index;\n        var elements = this.getStructureElements(structure);\n        return { elements: elements, property: function (i) { return _this.get(index[elements[i].element]); } };\n    };\n    return SegmentedMappedIndexedCustomProperty;\n}());\nvar ElementMappedCustomProperty = /** @class */ (function () {\n    function ElementMappedCustomProperty(map) {\n        this.map = map;\n        this.id = UUID.create22();\n        this.level = 'atom';\n        this.kind = 0 /* Unit.Kind.Atomic */;\n    }\n    ElementMappedCustomProperty.prototype.has = function (idx) { return this.map.has(idx); };\n    ElementMappedCustomProperty.prototype.get = function (idx) { return this.map.get(idx); };\n    ElementMappedCustomProperty.prototype.getStructureElements = function (structure) {\n        var models = structure.models;\n        if (models.length !== 1)\n            throw new Error(\"Only works on structures with a single model.\");\n        var seenIndices = new Set();\n        var unitGroups = structure.unitSymmetryGroups;\n        var loci = [];\n        for (var _a = 0, unitGroups_2 = unitGroups; _a < unitGroups_2.length; _a++) {\n            var unitGroup = unitGroups_2[_a];\n            var unit = unitGroup.units[0];\n            if (unit.kind !== this.kind) {\n                continue;\n            }\n            var elements = unit.elements;\n            for (var i = 0, _i = elements.length; i < _i; i++) {\n                var e = elements[i];\n                if (!this.has(e) || seenIndices.has(e))\n                    continue;\n                seenIndices.add(elements[i]);\n                loci[loci.length] = StructureElement.Location.create(structure, unit, e);\n            }\n        }\n        loci.sort(function (x, y) { return x.element - y.element; });\n        return loci;\n    };\n    ElementMappedCustomProperty.prototype.getElements = function (structure) {\n        var _this = this;\n        var elements = this.getStructureElements(structure);\n        return { elements: elements, property: function (i) { return _this.get(elements[i].element); } };\n    };\n    return ElementMappedCustomProperty;\n}());\nvar EntityMappedCustomProperty = /** @class */ (function () {\n    function EntityMappedCustomProperty(map) {\n        this.map = map;\n        this.id = UUID.create22();\n        this.level = 'entity';\n        this.kind = 0 /* Unit.Kind.Atomic */;\n    }\n    EntityMappedCustomProperty.prototype.has = function (idx) { return this.map.has(idx); };\n    EntityMappedCustomProperty.prototype.get = function (idx) { return this.map.get(idx); };\n    EntityMappedCustomProperty.prototype.getStructureElements = function (structure) {\n        var models = structure.models;\n        if (models.length !== 1)\n            throw new Error(\"Only works on structures with a single model.\");\n        var index = models[0].atomicHierarchy.index;\n        var seenIndices = new Set();\n        var unitGroups = structure.unitSymmetryGroups;\n        var loci = [];\n        var segments = models[0].atomicHierarchy.chainAtomSegments;\n        for (var _a = 0, unitGroups_3 = unitGroups; _a < unitGroups_3.length; _a++) {\n            var unitGroup = unitGroups_3[_a];\n            var unit = unitGroup.units[0];\n            if (unit.kind !== this.kind) {\n                continue;\n            }\n            var chains = Segmentation.transientSegments(segments, unit.elements);\n            while (chains.hasNext) {\n                var seg = chains.move();\n                var eI = index.getEntityFromChain(seg.index);\n                if (!this.has(eI) || seenIndices.has(eI))\n                    continue;\n                seenIndices.add(eI);\n                loci[loci.length] = StructureElement.Location.create(structure, unit, unit.elements[seg.start]);\n            }\n        }\n        loci.sort(function (x, y) { return x.element - y.element; });\n        return loci;\n    };\n    EntityMappedCustomProperty.prototype.getElements = function (structure) {\n        var _this = this;\n        var elements = this.getStructureElements(structure);\n        var chainIndex = structure.model.atomicHierarchy.chainAtomSegments.index;\n        var index = structure.model.atomicHierarchy.index;\n        return { elements: elements, property: function (i) { return _this.get(index.getEntityFromChain(chainIndex[elements[i].element])); } };\n    };\n    return EntityMappedCustomProperty;\n}());\n","/**\n * Copyright (c) 2017-2022 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\nimport { __assign, __awaiter, __generator } from \"tslib\";\nimport { Column, Table } from '../../../mol-data/db';\nimport { UUID } from '../../../mol-util/uuid';\nimport { Model } from '../../../mol-model/structure/model/model';\nimport { CustomProperties } from '../../../mol-model/custom-property';\nimport { getAtomicHierarchyAndConformation } from './atomic';\nimport { getCoarse, EmptyCoarse } from './coarse';\nimport { getSequence } from './sequence';\nimport { sortAtomSite } from './sort';\nimport { getAtomicRanges } from '../../../mol-model/structure/model/properties/utils/atomic-ranges';\nimport { getChemicalComponentMap, getMissingResidues, getSaccharideComponentMap, getStructAsymMap } from './properties';\nimport { getEntitiesWithPRD, getEntityData } from './entities';\nimport { getModelGroupName } from './util';\nimport { ArrayTrajectory } from '../../../mol-model/structure/trajectory';\nexport function createModels(data, format, ctx) {\n    return __awaiter(this, void 0, void 0, function () {\n        var properties, models, _a, i;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    properties = getCommonProperties(data, format);\n                    if (!(data.ihm_model_list._rowCount > 0)) return [3 /*break*/, 2];\n                    return [4 /*yield*/, readIntegrative(ctx, data, properties, format)];\n                case 1:\n                    _a = _b.sent();\n                    return [3 /*break*/, 4];\n                case 2: return [4 /*yield*/, readStandard(ctx, data, properties, format)];\n                case 3:\n                    _a = _b.sent();\n                    _b.label = 4;\n                case 4:\n                    models = _a;\n                    for (i = 0; i < models.length; i++) {\n                        Model.TrajectoryInfo.set(models[i], { index: i, size: models.length });\n                    }\n                    return [2 /*return*/, new ArrayTrajectory(models)];\n            }\n        });\n    });\n}\nfunction getCommonProperties(data, format) {\n    return {\n        missingResidues: getMissingResidues(data),\n        chemicalComponentMap: getChemicalComponentMap(data),\n        saccharideComponentMap: getSaccharideComponentMap(data)\n    };\n}\n/** Standard atomic model */\nfunction createStandardModel(data, atom_site, sourceIndex, entities, properties, format, previous) {\n    var atomic = getAtomicHierarchyAndConformation(atom_site, sourceIndex, entities, properties.chemicalComponentMap, format, previous);\n    var modelNum = atom_site.pdbx_PDB_model_num.value(0);\n    if (previous && atomic.sameAsPrevious) {\n        return __assign(__assign({}, previous), { id: UUID.create22(), modelNum: modelNum, atomicConformation: atomic.conformation, _dynamicPropertyData: Object.create(null) });\n    }\n    var coarse = EmptyCoarse;\n    var sequence = getSequence(data, entities, atomic.hierarchy, coarse.hierarchy);\n    var atomicRanges = getAtomicRanges(atomic.hierarchy, entities, atomic.conformation, sequence);\n    var structAsymMap = getStructAsymMap(atomic.hierarchy);\n    var entry = data.entry.id.valueKind(0) === 0 /* Column.ValueKinds.Present */\n        ? data.entry.id.value(0) : format.name;\n    var label = [];\n    if (entry)\n        label.push(entry);\n    if (data.struct.title.valueKind(0) === 0 /* Column.ValueKinds.Present */)\n        label.push(data.struct.title.value(0));\n    return {\n        id: UUID.create22(),\n        entryId: entry,\n        label: label.join(' | '),\n        entry: entry,\n        sourceData: format,\n        modelNum: modelNum,\n        parent: undefined,\n        entities: getEntitiesWithPRD(data, entities, structAsymMap),\n        sequence: sequence,\n        atomicHierarchy: atomic.hierarchy,\n        atomicConformation: atomic.conformation,\n        atomicRanges: atomicRanges,\n        atomicChainOperatorMappinng: atomic.chainOperatorMapping,\n        coarseHierarchy: coarse.hierarchy,\n        coarseConformation: coarse.conformation,\n        properties: __assign(__assign({}, properties), { structAsymMap: structAsymMap }),\n        customProperties: new CustomProperties(),\n        _staticPropertyData: Object.create(null),\n        _dynamicPropertyData: Object.create(null)\n    };\n}\n/** Integrative model with atomic/coarse parts */\nfunction createIntegrativeModel(data, ihm, properties, format) {\n    var atomic = getAtomicHierarchyAndConformation(ihm.atom_site, ihm.atom_site_sourceIndex, ihm.entities, properties.chemicalComponentMap, format);\n    var coarse = getCoarse(ihm, properties.chemicalComponentMap);\n    var sequence = getSequence(data, ihm.entities, atomic.hierarchy, coarse.hierarchy);\n    var atomicRanges = getAtomicRanges(atomic.hierarchy, ihm.entities, atomic.conformation, sequence);\n    var entry = data.entry.id.valueKind(0) === 0 /* Column.ValueKinds.Present */\n        ? data.entry.id.value(0) : format.name;\n    var label = [];\n    if (entry)\n        label.push(entry);\n    if (data.struct.title.valueKind(0) === 0 /* Column.ValueKinds.Present */)\n        label.push(data.struct.title.value(0));\n    if (ihm.model_name)\n        label.push(ihm.model_name);\n    if (ihm.model_group_name)\n        label.push(ihm.model_group_name);\n    var structAsymMap = getStructAsymMap(atomic.hierarchy, data);\n    return {\n        id: UUID.create22(),\n        entryId: entry,\n        label: label.join(' | '),\n        entry: entry,\n        sourceData: format,\n        modelNum: ihm.model_id,\n        parent: undefined,\n        entities: getEntitiesWithPRD(data, ihm.entities, structAsymMap),\n        sequence: sequence,\n        atomicHierarchy: atomic.hierarchy,\n        atomicConformation: atomic.conformation,\n        atomicRanges: atomicRanges,\n        atomicChainOperatorMappinng: atomic.chainOperatorMapping,\n        coarseHierarchy: coarse.hierarchy,\n        coarseConformation: coarse.conformation,\n        properties: __assign(__assign({}, properties), { structAsymMap: structAsymMap }),\n        customProperties: new CustomProperties(),\n        _staticPropertyData: Object.create(null),\n        _dynamicPropertyData: Object.create(null)\n    };\n}\nfunction findModelEnd(num, startIndex) {\n    var rowCount = num.rowCount;\n    if (!num.isDefined)\n        return rowCount;\n    var endIndex = startIndex + 1;\n    while (endIndex < rowCount && num.areValuesEqual(startIndex, endIndex))\n        endIndex++;\n    return endIndex;\n}\nfunction readStandard(ctx, data, properties, format) {\n    return __awaiter(this, void 0, void 0, function () {\n        var models, atomCount, entities, modelStart, modelEnd, _a, atom_site, sourceIndex, model;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    models = [];\n                    if (!data.atom_site) return [3 /*break*/, 3];\n                    atomCount = data.atom_site.id.rowCount;\n                    entities = getEntityData(data);\n                    modelStart = 0;\n                    _b.label = 1;\n                case 1:\n                    if (!(modelStart < atomCount)) return [3 /*break*/, 3];\n                    modelEnd = findModelEnd(data.atom_site.pdbx_PDB_model_num, modelStart);\n                    return [4 /*yield*/, sortAtomSite(ctx, data.atom_site, modelStart, modelEnd)];\n                case 2:\n                    _a = _b.sent(), atom_site = _a.atom_site, sourceIndex = _a.sourceIndex;\n                    model = createStandardModel(data, atom_site, sourceIndex, entities, properties, format, models.length > 0 ? models[models.length - 1] : void 0);\n                    models.push(model);\n                    modelStart = modelEnd;\n                    return [3 /*break*/, 1];\n                case 3: return [2 /*return*/, models];\n            }\n        });\n    });\n}\nfunction splitTable(table, col) {\n    var ret = new Map();\n    var rowCount = table._rowCount;\n    var modelStart = 0;\n    while (modelStart < rowCount) {\n        var modelEnd = findModelEnd(col, modelStart);\n        var id = col.value(modelStart);\n        ret.set(id, {\n            table: Table.window(table, table._schema, modelStart, modelEnd),\n            start: modelStart,\n            end: modelEnd\n        });\n        modelStart = modelEnd;\n    }\n    return ret;\n}\nfunction readIntegrative(ctx, data, properties, format) {\n    return __awaiter(this, void 0, void 0, function () {\n        var entities, atom_sites_modelColumn, atom_sites, sphere_sites, gauss_sites, models, _a, model_id, model_name, i, id, atom_site, atom_site_sourceIndex, e, _b, sorted, sourceIndex, ihm, model;\n        return __generator(this, function (_c) {\n            switch (_c.label) {\n                case 0:\n                    entities = getEntityData(data);\n                    atom_sites_modelColumn = data.atom_site.ihm_model_id.isDefined\n                        ? data.atom_site.ihm_model_id : data.atom_site.pdbx_PDB_model_num;\n                    atom_sites = splitTable(data.atom_site, atom_sites_modelColumn);\n                    sphere_sites = splitTable(data.ihm_sphere_obj_site, data.ihm_sphere_obj_site.model_id);\n                    gauss_sites = splitTable(data.ihm_gaussian_obj_site, data.ihm_gaussian_obj_site.model_id);\n                    models = [];\n                    if (!data.ihm_model_list) return [3 /*break*/, 6];\n                    _a = data.ihm_model_list, model_id = _a.model_id, model_name = _a.model_name;\n                    i = 0;\n                    _c.label = 1;\n                case 1:\n                    if (!(i < data.ihm_model_list._rowCount)) return [3 /*break*/, 6];\n                    id = model_id.value(i);\n                    atom_site = void 0, atom_site_sourceIndex = void 0;\n                    if (!atom_sites.has(id)) return [3 /*break*/, 3];\n                    e = atom_sites.get(id);\n                    return [4 /*yield*/, sortAtomSite(ctx, data.atom_site, e.start, e.end)];\n                case 2:\n                    _b = _c.sent(), sorted = _b.atom_site, sourceIndex = _b.sourceIndex;\n                    atom_site = sorted;\n                    atom_site_sourceIndex = sourceIndex;\n                    return [3 /*break*/, 4];\n                case 3:\n                    atom_site = Table.window(data.atom_site, data.atom_site._schema, 0, 0);\n                    atom_site_sourceIndex = Column.ofIntArray([]);\n                    _c.label = 4;\n                case 4:\n                    ihm = {\n                        model_id: id,\n                        model_name: model_name.value(i),\n                        model_group_name: getModelGroupName(id, data),\n                        entities: entities,\n                        atom_site: atom_site,\n                        atom_site_sourceIndex: atom_site_sourceIndex,\n                        ihm_sphere_obj_site: sphere_sites.has(id) ? sphere_sites.get(id).table : Table.window(data.ihm_sphere_obj_site, data.ihm_sphere_obj_site._schema, 0, 0),\n                        ihm_gaussian_obj_site: gauss_sites.has(id) ? gauss_sites.get(id).table : Table.window(data.ihm_gaussian_obj_site, data.ihm_gaussian_obj_site._schema, 0, 0)\n                    };\n                    model = createIntegrativeModel(data, ihm, properties, format);\n                    models.push(model);\n                    _c.label = 5;\n                case 5:\n                    i++;\n                    return [3 /*break*/, 1];\n                case 6: return [2 /*return*/, models];\n            }\n        });\n    });\n}\n","/**\n * Copyright (c) 2019-2020 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\nimport { Vec3 } from '../../../mol-math/linear-algebra';\nimport { arrayMinMax } from '../../../mol-util/array';\nexport function calcModelCenter(atomicConformation, coarseConformation) {\n    var rangesX = [];\n    var rangesY = [];\n    var rangesZ = [];\n    if (atomicConformation.x.length) {\n        rangesX.push.apply(rangesX, arrayMinMax(atomicConformation.x));\n        rangesY.push.apply(rangesY, arrayMinMax(atomicConformation.y));\n        rangesZ.push.apply(rangesZ, arrayMinMax(atomicConformation.z));\n    }\n    if (coarseConformation) {\n        if (coarseConformation.spheres.x.length) {\n            rangesX.push.apply(rangesX, arrayMinMax(coarseConformation.spheres.x));\n            rangesY.push.apply(rangesY, arrayMinMax(coarseConformation.spheres.y));\n            rangesZ.push.apply(rangesZ, arrayMinMax(coarseConformation.spheres.z));\n        }\n        if (coarseConformation.gaussians.x.length) {\n            rangesX.push.apply(rangesX, arrayMinMax(coarseConformation.gaussians.x));\n            rangesY.push.apply(rangesY, arrayMinMax(coarseConformation.gaussians.y));\n            rangesZ.push.apply(rangesZ, arrayMinMax(coarseConformation.gaussians.z));\n        }\n    }\n    var _a = arrayMinMax(rangesX), minX = _a[0], maxX = _a[1];\n    var _b = arrayMinMax(rangesY), minY = _b[0], maxY = _b[1];\n    var _c = arrayMinMax(rangesZ), minZ = _c[0], maxZ = _c[1];\n    var x = minX + (maxX - minX) / 2;\n    var y = minY + (maxY - minY) / 2;\n    var z = minZ + (maxZ - minZ) / 2;\n    return Vec3.create(x, y, z);\n}\nexport function getAsymIdCount(model) {\n    var auth = new Set();\n    var label = new Set();\n    model.properties.structAsymMap.forEach(function (_a, label_id) {\n        var auth_id = _a.auth_id;\n        auth.add(auth_id);\n        label.add(label_id);\n    });\n    return { auth: auth.size, label: label.size };\n}\n","/**\n * Copyright (c) 2023 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author Adam Midlik <midlik@gmail.com>\n */\nimport { __assign } from \"tslib\";\nimport { Mat3, Vec3 } from '../../../mol-math/linear-algebra';\nimport { PrincipalAxes } from '../../../mol-math/linear-algebra/matrix/principal-axes';\nimport { StructureElement, StructureProperties } from '../../../mol-model/structure';\n/** Minimum number of atoms necessary for running PCA.\n * If enough atoms cannot be selected, XYZ axes will be used instead of PCA axes. */\nvar MIN_ATOMS_FOR_PCA = 3;\n/** Rotation matrices for the basic rotations by 90 degrees */\nexport var ROTATION_MATRICES = {\n    // The order of elements in the matrices in column-wise (F-style)\n    identity: Mat3.create(1, 0, 0, 0, 1, 0, 0, 0, 1),\n    rotX90: Mat3.create(1, 0, 0, 0, 0, 1, 0, -1, 0),\n    rotY90: Mat3.create(0, 0, -1, 0, 1, 0, 1, 0, 0),\n    rotZ90: Mat3.create(0, 1, 0, -1, 0, 0, 0, 0, 1),\n    rotX270: Mat3.create(1, 0, 0, 0, 0, -1, 0, 1, 0),\n    rotY270: Mat3.create(0, 0, 1, 0, 1, 0, -1, 0, 0),\n    rotZ270: Mat3.create(0, -1, 0, 1, 0, 0, 0, 0, 1),\n    rotX180: Mat3.create(1, 0, 0, 0, -1, 0, 0, 0, -1),\n    rotY180: Mat3.create(-1, 0, 0, 0, 1, 0, 0, 0, -1),\n    rotZ180: Mat3.create(-1, 0, 0, 0, -1, 0, 0, 0, 1),\n};\n/** Return transformation which will align the PCA axes of an atomic structure\n * (or multiple structures) to the Cartesian axes x, y, z\n * (transformed = rotation * (coords - origin)).\n *\n * There are always 4 equally good rotations to do this (4 flips).\n * If `referenceRotation` is provided, select the one nearest to `referenceRotation`.\n * Otherwise use arbitrary rules to ensure the orientation after transform does not depend on the original orientation.\n */\nexport function structureLayingTransform(structures, referenceRotation) {\n    var coords = smartSelectCoords(structures, MIN_ATOMS_FOR_PCA);\n    return layingTransform(coords, referenceRotation);\n}\n/** Return transformation which will align the PCA axes of a sequence\n * of points to the Cartesian axes x, y, z\n * (transformed = rotation * (coords - origin)).\n *\n * `coords` is a flattened array of 3D coordinates (i.e. the first 3 values are x, y, and z of the first point etc.).\n *\n * There are always 4 equally good rotations to do this (4 flips).\n * If `referenceRotation` is provided, select the one nearest to `referenceRotation`.\n * Otherwise use arbitrary rules to ensure the orientation after transform does not depend on the original orientation.\n */\nexport function layingTransform(coords, referenceRotation) {\n    if (coords.length === 0) {\n        console.warn('Skipping PCA, no atoms');\n        return { rotation: ROTATION_MATRICES.identity, origin: Vec3.zero() };\n    }\n    var axes = PrincipalAxes.calculateMomentsAxes(coords);\n    var normAxes = PrincipalAxes.calculateNormalizedAxes(axes);\n    var R = mat3FromRows(normAxes.dirA, normAxes.dirB, normAxes.dirC);\n    avoidMirrorRotation(R); // The SVD implementation seems to always provide proper rotation, but just to be sure\n    var flip = referenceRotation ? minimalFlip(R, referenceRotation) : canonicalFlip(coords, R, axes.origin);\n    Mat3.mul(R, flip, R);\n    return { rotation: R, origin: normAxes.origin };\n}\n/** Try these selection strategies until having at least `minAtoms` atoms:\n * 1. only trace atoms (e.g. C-alpha and O3')\n * 2. all non-hydrogen atoms with exception of water (HOH)\n * 3. all atoms\n * Return the coordinates in a flattened array (in triples).\n * If the total number of atoms is less than `minAtoms`, return only those. */\nfunction smartSelectCoords(structures, minAtoms) {\n    var coords;\n    coords = selectCoords(structures, { onlyTrace: true });\n    if (coords.length >= 3 * minAtoms)\n        return coords;\n    coords = selectCoords(structures, { skipHydrogens: true, skipWater: true });\n    if (coords.length >= 3 * minAtoms)\n        return coords;\n    coords = selectCoords(structures, {});\n    return coords;\n}\n/** Select coordinates of atoms in `structures` as a flattened array (in triples).\n * If `onlyTrace`, include only trace atoms (CA, O3');\n * if `skipHydrogens`, skip all hydrogen atoms;\n * if `skipWater`, skip all water residues. */\nfunction selectCoords(structures, options) {\n    var onlyTrace = options.onlyTrace, skipHydrogens = options.skipHydrogens, skipWater = options.skipWater;\n    var _a = StructureProperties.atom, x = _a.x, y = _a.y, z = _a.z, type_symbol = _a.type_symbol, label_comp_id = _a.label_comp_id;\n    var coords = [];\n    for (var _i = 0, structures_1 = structures; _i < structures_1.length; _i++) {\n        var struct = structures_1[_i];\n        var loc = StructureElement.Location.create(struct);\n        for (var _b = 0, _c = struct.units; _b < _c.length; _b++) {\n            var unit = _c[_b];\n            loc.unit = unit;\n            var elements = onlyTrace ? unit.polymerElements : unit.elements;\n            for (var i = 0; i < elements.length; i++) {\n                loc.element = elements[i];\n                if (skipHydrogens && type_symbol(loc) === 'H')\n                    continue;\n                if (skipWater && label_comp_id(loc) === 'HOH')\n                    continue;\n                coords.push(x(loc), y(loc), z(loc));\n            }\n        }\n    }\n    return coords;\n}\n/** Return a flip around XYZ axes which minimizes the difference between flip*rotation and referenceRotation. */\nfunction minimalFlip(rotation, referenceRotation) {\n    var bestFlip = ROTATION_MATRICES.identity;\n    var bestScore = 0; // there will always be at least one positive score\n    var aux = Mat3();\n    for (var _i = 0, _a = [ROTATION_MATRICES.identity, ROTATION_MATRICES.rotX180, ROTATION_MATRICES.rotY180, ROTATION_MATRICES.rotZ180]; _i < _a.length; _i++) {\n        var flip = _a[_i];\n        var score = Mat3.innerProduct(Mat3.mul(aux, flip, rotation), referenceRotation);\n        if (score > bestScore) {\n            bestFlip = flip;\n            bestScore = score;\n        }\n    }\n    return bestFlip;\n}\n/** Return a rotation matrix (flip) that should be applied to `coords` (after being rotated by `rotation`)\n * to ensure a deterministic \"canonical\" rotation.\n * There are 4 flips to choose from (one identity and three 180-degree rotations around the X, Y, and Z axes).\n * One of these 4 possible results is selected so that:\n *   1) starting and ending coordinates tend to be more in front (z > 0), middle more behind (z < 0).\n *   2) starting coordinates tend to be more left-top (x < y), ending more right-bottom (x > y).\n * These rules are arbitrary, but try to avoid ties for at least some basic symmetries.\n * Provided `origin` parameter MUST be the mean of the coordinates, otherwise it will not work!\n */\nfunction canonicalFlip(coords, rotation, origin) {\n    var pcaX = Vec3.create(Mat3.getValue(rotation, 0, 0), Mat3.getValue(rotation, 0, 1), Mat3.getValue(rotation, 0, 2));\n    var pcaY = Vec3.create(Mat3.getValue(rotation, 1, 0), Mat3.getValue(rotation, 1, 1), Mat3.getValue(rotation, 1, 2));\n    var pcaZ = Vec3.create(Mat3.getValue(rotation, 2, 0), Mat3.getValue(rotation, 2, 1), Mat3.getValue(rotation, 2, 2));\n    var n = Math.floor(coords.length / 3);\n    var v = Vec3();\n    var xCum = 0;\n    var yCum = 0;\n    var zCum = 0;\n    for (var i = 0; i < n; i++) {\n        Vec3.fromArray(v, coords, 3 * i);\n        Vec3.sub(v, v, origin);\n        xCum += i * Vec3.dot(v, pcaX);\n        yCum += i * Vec3.dot(v, pcaY);\n        zCum += veeSlope(i, n) * Vec3.dot(v, pcaZ);\n        // Thanks to subtracting `origin` from `coords` the slope functions `i` and `veeSlope(i, n)`\n        // don't have to have zero sum (can be shifted up or down):\n        //     sum{(slope[i]+shift)*(coords[i]-origin).PCA} =\n        //     = sum{slope[i]*coords[i].PCA - slope[i]*origin.PCA + shift*coords[i].PCA - shift*origin.PCA} =\n        //     = sum{slope[i]*(coords[i]-origin).PCA} + shift*sum{coords[i]-origin}.PCA =\n        //     = sum{slope[i]*(coords[i]-origin).PCA}\n    }\n    var wrongFrontBack = zCum < 0;\n    var wrongLeftTopRightBottom = wrongFrontBack ? xCum + yCum < 0 : xCum - yCum < 0;\n    if (wrongLeftTopRightBottom && wrongFrontBack) {\n        return ROTATION_MATRICES.rotY180; // flip around Y = around X then Z\n    }\n    else if (wrongFrontBack) {\n        return ROTATION_MATRICES.rotX180; // flip around X\n    }\n    else if (wrongLeftTopRightBottom) {\n        return ROTATION_MATRICES.rotZ180; // flip around Z\n    }\n    else {\n        return ROTATION_MATRICES.identity; // do not flip\n    }\n}\n/** Auxiliary function defined for i in [0, n), linearly decreasing from 0 to n/2\n * and then increasing back from n/2 to n, resembling letter V. */\nfunction veeSlope(i, n) {\n    var mid = Math.floor(n / 2);\n    if (i < mid) {\n        if (n % 2)\n            return mid - i;\n        else\n            return mid - i - 1;\n    }\n    else {\n        return i - mid;\n    }\n}\nfunction mat3FromRows(row0, row1, row2) {\n    var m = Mat3();\n    Mat3.setValue(m, 0, 0, row0[0]);\n    Mat3.setValue(m, 0, 1, row0[1]);\n    Mat3.setValue(m, 0, 2, row0[2]);\n    Mat3.setValue(m, 1, 0, row1[0]);\n    Mat3.setValue(m, 1, 1, row1[1]);\n    Mat3.setValue(m, 1, 2, row1[2]);\n    Mat3.setValue(m, 2, 0, row2[0]);\n    Mat3.setValue(m, 2, 1, row2[1]);\n    Mat3.setValue(m, 2, 2, row2[2]);\n    return m;\n}\n/** Check if a rotation matrix includes mirroring and invert Z axis in such case, to ensure a proper rotation (in-place). */\nfunction avoidMirrorRotation(rot) {\n    if (Mat3.determinant(rot) < 0) {\n        Mat3.setValue(rot, 2, 0, -Mat3.getValue(rot, 2, 0));\n        Mat3.setValue(rot, 2, 1, -Mat3.getValue(rot, 2, 1));\n        Mat3.setValue(rot, 2, 2, -Mat3.getValue(rot, 2, 2));\n    }\n}\n/** Return a new camera snapshot with the same target and camera distance from the target as `old`\n * but with diferent orientation.\n * The actual rotation applied to the camera is the inverse of `rotation`,\n * which creates the same effect as if `rotation` were applied to the whole scene without moving the camera.\n * The rotation is relative to the default camera orientation (not to the current orientation). */\nexport function changeCameraRotation(old, rotation) {\n    var cameraRotation = Mat3.invert(Mat3(), rotation);\n    var dist = Vec3.distance(old.position, old.target);\n    var relPosition = Vec3.transformMat3(Vec3(), Vec3.create(0, 0, dist), cameraRotation);\n    var newUp = Vec3.transformMat3(Vec3(), Vec3.create(0, 1, 0), cameraRotation);\n    var newPosition = Vec3.add(Vec3(), old.target, relPosition);\n    return __assign(__assign({}, old), { position: newPosition, up: newUp });\n}\n","/**\n * Copyright (c) 2018-2019 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\nimport { ColorMap } from './color';\n/** X11 color names http://www.w3.org/TR/css3-color/#svg-color */\nexport var ColorNames = ColorMap({\n    aliceblue: 0xf0f8ff,\n    antiquewhite: 0xfaebd7,\n    aqua: 0x00ffff,\n    aquamarine: 0x7fffd4,\n    azure: 0xf0ffff,\n    beige: 0xf5f5dc,\n    bisque: 0xffe4c4,\n    black: 0x000000,\n    blanchedalmond: 0xffebcd,\n    blue: 0x0000ff,\n    blueviolet: 0x8a2be2,\n    brown: 0xa52a2a,\n    burlywood: 0xdeb887,\n    cadetblue: 0x5f9ea0,\n    chartreuse: 0x7fff00,\n    chocolate: 0xd2691e,\n    coral: 0xff7f50,\n    cornflower: 0x6495ed,\n    cornflowerblue: 0x6495ed,\n    cornsilk: 0xfff8dc,\n    crimson: 0xdc143c,\n    cyan: 0x00ffff,\n    darkblue: 0x00008b,\n    darkcyan: 0x008b8b,\n    darkgoldenrod: 0xb8860b,\n    darkgray: 0xa9a9a9,\n    darkgreen: 0x006400,\n    darkgrey: 0xa9a9a9,\n    darkkhaki: 0xbdb76b,\n    darkmagenta: 0x8b008b,\n    darkolivegreen: 0x556b2f,\n    darkorange: 0xff8c00,\n    darkorchid: 0x9932cc,\n    darkred: 0x8b0000,\n    darksalmon: 0xe9967a,\n    darkseagreen: 0x8fbc8f,\n    darkslateblue: 0x483d8b,\n    darkslategray: 0x2f4f4f,\n    darkslategrey: 0x2f4f4f,\n    darkturquoise: 0x00ced1,\n    darkviolet: 0x9400d3,\n    deeppink: 0xff1493,\n    deepskyblue: 0x00bfff,\n    dimgray: 0x696969,\n    dimgrey: 0x696969,\n    dodgerblue: 0x1e90ff,\n    firebrick: 0xb22222,\n    floralwhite: 0xfffaf0,\n    forestgreen: 0x228b22,\n    fuchsia: 0xff00ff,\n    gainsboro: 0xdcdcdc,\n    ghostwhite: 0xf8f8ff,\n    gold: 0xffd700,\n    goldenrod: 0xdaa520,\n    gray: 0x808080,\n    green: 0x008000,\n    greenyellow: 0xadff2f,\n    grey: 0x808080,\n    honeydew: 0xf0fff0,\n    hotpink: 0xff69b4,\n    indianred: 0xcd5c5c,\n    indigo: 0x4b0082,\n    ivory: 0xfffff0,\n    khaki: 0xf0e68c,\n    laserlemon: 0xffff54,\n    lavender: 0xe6e6fa,\n    lavenderblush: 0xfff0f5,\n    lawngreen: 0x7cfc00,\n    lemonchiffon: 0xfffacd,\n    lightblue: 0xadd8e6,\n    lightcoral: 0xf08080,\n    lightcyan: 0xe0ffff,\n    lightgoldenrod: 0xfafad2,\n    lightgoldenrodyellow: 0xfafad2,\n    lightgray: 0xd3d3d3,\n    lightgreen: 0x90ee90,\n    lightgrey: 0xd3d3d3,\n    lightpink: 0xffb6c1,\n    lightsalmon: 0xffa07a,\n    lightseagreen: 0x20b2aa,\n    lightskyblue: 0x87cefa,\n    lightslategray: 0x778899,\n    lightslategrey: 0x778899,\n    lightsteelblue: 0xb0c4de,\n    lightyellow: 0xffffe0,\n    lime: 0x00ff00,\n    limegreen: 0x32cd32,\n    linen: 0xfaf0e6,\n    magenta: 0xff00ff,\n    maroon: 0x800000,\n    maroon2: 0x7f0000,\n    maroon3: 0xb03060,\n    mediumaquamarine: 0x66cdaa,\n    mediumblue: 0x0000cd,\n    mediumorchid: 0xba55d3,\n    mediumpurple: 0x9370db,\n    mediumseagreen: 0x3cb371,\n    mediumslateblue: 0x7b68ee,\n    mediumspringgreen: 0x00fa9a,\n    mediumturquoise: 0x48d1cc,\n    mediumvioletred: 0xc71585,\n    midnightblue: 0x191970,\n    mintcream: 0xf5fffa,\n    mistyrose: 0xffe4e1,\n    moccasin: 0xffe4b5,\n    navajowhite: 0xffdead,\n    navy: 0x000080,\n    oldlace: 0xfdf5e6,\n    olive: 0x808000,\n    olivedrab: 0x6b8e23,\n    orange: 0xffa500,\n    orangered: 0xff4500,\n    orchid: 0xda70d6,\n    palegoldenrod: 0xeee8aa,\n    palegreen: 0x98fb98,\n    paleturquoise: 0xafeeee,\n    palevioletred: 0xdb7093,\n    papayawhip: 0xffefd5,\n    peachpuff: 0xffdab9,\n    peru: 0xcd853f,\n    pink: 0xffc0cb,\n    plum: 0xdda0dd,\n    powderblue: 0xb0e0e6,\n    purple: 0x800080,\n    purple2: 0x7f007f,\n    purple3: 0xa020f0,\n    rebeccapurple: 0x663399,\n    red: 0xff0000,\n    rosybrown: 0xbc8f8f,\n    royalblue: 0x4169e1,\n    saddlebrown: 0x8b4513,\n    salmon: 0xfa8072,\n    sandybrown: 0xf4a460,\n    seagreen: 0x2e8b57,\n    seashell: 0xfff5ee,\n    sienna: 0xa0522d,\n    silver: 0xc0c0c0,\n    skyblue: 0x87ceeb,\n    slateblue: 0x6a5acd,\n    slategray: 0x708090,\n    slategrey: 0x708090,\n    snow: 0xfffafa,\n    springgreen: 0x00ff7f,\n    steelblue: 0x4682b4,\n    tan: 0xd2b48c,\n    teal: 0x008080,\n    thistle: 0xd8bfd8,\n    tomato: 0xff6347,\n    turquoise: 0x40e0d0,\n    violet: 0xee82ee,\n    wheat: 0xf5deb3,\n    white: 0xffffff,\n    whitesmoke: 0xf5f5f5,\n    yellow: 0xffff00,\n    yellowgreen: 0x9acd32\n});\nexport var ColorNamesValueMap = (function () {\n    var map = new Map();\n    Object.keys(ColorNames).forEach(function (name) {\n        map.set(ColorNames[name], name);\n    });\n    return map;\n})();\n","import React, { Component, createRef } from 'react';\nimport PropTypes from 'prop-types';\nimport { Vec3, Mat3 } from 'molstar/lib/mol-math/linear-algebra';\nimport { changeCameraRotation, structureLayingTransform } from 'molstar/lib/mol-plugin-state/manager/focus-camera/orient-axes';\nimport { Structure } from 'molstar/lib/mol-model/structure/structure';\nimport _ from 'lodash';\nimport { ColorNames } from 'molstar/lib/mol-util/color/names';\n\n\nconst isMobile = {\n    Android: function() {\n        return navigator.userAgent.match(/Android/i);\n    },\n    BlackBerry: function() {\n        return navigator.userAgent.match(/BlackBerry/i);\n    },\n    iOS: function() {\n        return navigator.userAgent.match(/iPhone|iPad|iPod/i);\n    },\n    Opera: function() {\n        return navigator.userAgent.match(/Opera Mini/i);\n    },\n    Windows: function() {\n        return navigator.userAgent.match(/IEMobile/i) || navigator.userAgent.match(/WPDesktop/i);\n    },\n    any: function() {\n        return (isMobile.Android() || isMobile.BlackBerry() || isMobile.iOS() || isMobile.Opera() || isMobile.Windows());\n    }\n  };\n\n/**\n * The Molstar viewer component for dash\n */\nexport default class MolstarViewer extends Component {\n    constructor(props) {\n        super(props);\n        const defaultLayout = {\n            showImportControls: false,\n            showSessionControls: true,\n            showStructureSourceControls: true,\n            showMeasurementsControls: true,\n            showStrucmotifSubmitControls: true,\n            showSuperpositionControls: true,\n            showQuickStylesControls: true,\n            showStructureComponentControls: true,\n            showVolumeStreamingControls: false,\n            showAssemblySymmetryControls: false,\n            showValidationReportControls: false,\n            showMembraneOrientationPreset: false,\n            showNakbColorTheme: false,\n            detachedFromSierra: true,\n            layoutIsExpanded: false,\n            layoutShowControls: false,\n            layoutControlsDisplay: 'reactive',\n            layoutShowSequence: true,\n            layoutShowLog: false,\n            viewportShowExpand: true,\n            viewportShowSelectionMode: true,\n            showWelcomeToast: false,\n        };\n        const defaultStyle = {\n            'zIndex': 10,\n            'position': 'relative'\n        };\n        this.state = {\n            data: props.data || [],\n            layout: defaultLayout,\n            style: defaultStyle,\n            className: props.className,\n            selection: props.selection,\n            //focus: props.focus,\n        };\n\n\n        this.loadedShapes = {};\n        this.loadedStructures = {};\n        this.loadedComponents = {};\n        this.loadedSnapshots = {};\n\n        this.setProps = props.setProps;\n        this.viewerRef = createRef();\n        const updatedLayout = Object.assign({}, this.state.layout, props.layout);\n        this.state.layout = updatedLayout;\n        const updatedStyle = Object.assign({}, this.state.style, props.style);\n        this.state.style = updatedStyle;\n    }\n\n\n    getStructureByLabel(name) {\n        for (const structure of this.viewer._plugin.managers.structure.hierarchy.current.structures) {\n            if (structure.cell.obj.data.state.label === name) {\n                return structure;\n            }\n        }\n    }\n\n    getStructuresByLabel(name) {\n        return this.viewer._plugin.managers.structure.hierarchy.current.structures.filter((structure) => structure.cell.obj.data.state.label === name);\n    }\n\n    syncItems() {\n        let items = this.state.data;\n\n        if (!Array.isArray(items)) {\n            items = [items];\n        }\n\n        const structureItems = items.filter((item) => item.type === 'mol' || item.type === 'url');\n        const shapeItems = items.filter((item) => item.type === 'shape');\n\n        // sync structures  \n        let newLabels = [];\n        structureItems.forEach((item) => {\n            const label = item.hasOwnProperty('label') ? item.label : '';\n            newLabels.push(label);\n            this.syncStructure(label, item);\n        });\n        for (const [label, ref] of Object.entries(this.loadedStructures)) {\n            if (!newLabels.includes(label)) {\n                delete this.loadedComponents[label];\n                this.getStructuresByLabel(label).forEach((structure) => {\n\n                    this.viewer.removeRef(structure.cell.sourceRef);\n                });\n                delete this.loadedStructures[label];\n            }\n        };\n\n        // sync shapes\n        newLabels = [];\n        shapeItems.forEach((item) => {\n            const label = item.hasOwnProperty('label') ? item.label : '';\n            newLabels.push(label);\n            this.syncShape(item);\n        });\n        for (const [label, ref] of Object.entries(this.loadedShapes)) {\n            if (!newLabels.includes(label)) {\n                this.viewer.removeRef(ref);\n                delete this.loadedShapes[label];\n            }\n        };\n    }\n\n    syncAutoFocus(focus=false) {\n        focus && this.props.setProps({ focus: {\n            molecule: this.state.data[this.state.data.length - 1]?.label\n        }});\n    }\n\n    autoRotate(structures, rotate = false) {\n        if (!rotate) {\n            return;\n        }\n        const { rotation } = structureLayingTransform(structures);\n        const x = Mat3.create(\n            Math.cos(Math.PI / 180 * 180),\n            Math.sin(Math.PI / 180 * 180),\n            0,\n            -Math.sin(Math.PI / 180 * 180),\n            Math.cos(Math.PI / 180 * 180),\n            0,\n            0,\n            0,\n            1,\n        );\n        const newViewMatrix = Mat3.mul(Mat3(), rotation, x);\n        const newSnapshot = changeCameraRotation(this.viewer._plugin.canvas3d.camera.getSnapshot(), newViewMatrix);\n        const durationMs = 10;\n        this.viewer._plugin.managers.camera.setSnapshot(newSnapshot, durationMs);\n    }\n\n    syncStructure(label, item) {\n        if (!this.loadedStructures[label]) {\n            this.loadedStructures[label] = 1;\n            if (item.type === \"mol\") {\n                this.viewer.loadStructureFromData(item.data, item.format, false, { props: { dataLabel: label} }).then((x) => {\n                    this.loadedStructures[label] = 2;\n                    window.viewer = this.viewer;\n                    window.x = x;\n                    //const structure = x.structure;\n                    //const polymer = structure.select({ 'entity.type': 'polymer' });\n                    //const polymerRepresentations = this.viewer.plugin.structureComponent.representations;\n                    //polymerRepresentations.addRepresentation(polymer, { type: 'surface' });\n\n                    // for (const s of this._plugin.managers.structure.hierarchy.current.structures) {\n                    //     for (const c of s.components) {\n                    //         const isHidden = c.cell.state.isHidden === true || !this.customState.showLabels;\n                    //         await this._plugin.builders.structure.representation.addRepresentation(c.cell, { \n                    //             type: 'label', color: 'uniform', colorParams: { value: ColorNames.black },\n                    //             typeParams: { level: 'element', fontQuality: 4, borderWidth: 0.1, borderColor: ColorNames.lightgray, attachment: 'bottom-left', ignoreHydrogens: this.customState.ignoreHydrogens } \n                    //         }, { initialState: { isHidden } });\n                    //     }\n                    //}\n\n\n\n                    const res = x.representation;\n\n                    const sphere = res.components.ligand? res.components.ligand.data.boundary.sphere: null;\n                    if (res.representations.polymer){\n                        const ismobile = isMobile.any();\n                        const cell = res.representations.polymer.cell;\n                        viewer.plugin.builders.structure.representation.addRepresentation(cell, {\n                            type: 'molecular-surface', //molecular-surface could be probably better, but is slower\n                            color: 'uniform', colorParams: {value: ColorNames.forestgreen},\n                            ref: \"polymer_surface\",\n                            typeParams: {alpha: (ismobile? 1.0: 0.90)}\n                        });\n                        this.viewer.plugin.state.data.build().to(cell.transform.ref).update({\n                            ...cell.params?.values,\n                            type: {\n                                name: cell.params?.values.type.name,\n                                params: {\n                                    ...cell.params?.values.type.params,\n                                    alpha: (ismobile? 1.0: 0.90),\n                                },\n                            },\n                            colorTheme: {\n                                name: 'uniform',\n                                params: {\n                                   value: ColorNames.forestgreen,\n                                },\n                            },\n                        }).commit();\n                    }\n                    if (sphere){\n                        this.viewer.plugin.managers.camera.focusSphere(sphere);\n                    }\n                    item.hasOwnProperty('component') && this.syncComponent(label, item.component, item.prevComponent);\n                    this.autoRotate([x.structure.data]);\n                    this.syncAutoFocus(item.focus);\n                });\n            } else if (item.type === \"url\") {\n                if (item.urlfor === 'mol') {\n                    this.viewer.loadStructureFromUrl(item.data, item.format, false).then((x) => {\n                        const res = x.representation;\n                        const sphere = res.components.ligand? res.components.ligand.data.boundary.sphere: null;\n                        if (res.representations.polymer){\n                            const cell = res.representations.polymer.cell;\n                            const ismobile = isMobile.any();\n                            this.viewer.plugin.state.data.build().to(cell.transform.ref).update({\n                                ...cell.params?.values,\n                                type: {\n                                    name: cell.params?.values.type.name,\n                                    params: {\n                                        ...cell.params?.values.type.params,\n                                        alpha: (ismobile? 1.0: 0.90),\n                                    },\n                                },\n                                colorTheme: {\n                                    name: 'uniform',\n                                    params: {\n                                       value: ColorNames.forestgreen,\n                                    },\n                                },\n                            }).commit();\n                        }\n\n                        if (sphere){\n                            this.viewer.plugin.managers.camera.focusSphere(sphere);\n                        }\n                        this.loadedStructures[label] = 2;\n                        item.hasOwnProperty('component') && this.syncComponent(label, item.component, item.prevComponent);\n                        this.autoRotate([x.structure.data]);\n                        this.syncAutoFocus(item.focus);\n                    });\n                } else {\n                    this.viewer.loadSnapshotFromUrl(item.data, item.format).then((x) => {\n                        this.loadedSnapshots[label] = x.snapshot.ref;\n                        this.autoRotate([x.structure.data]);\n                        this.syncAutoFocus(item.focus);\n                    });\n                }\n            }\n\n        } if ((item.type === \"mol\" || (item.type === 'url' && item.urlfor === 'mol')) && this.loadedStructures[label] === 2) {\n            item.hasOwnProperty('component') && this.syncComponent(label, item.component, item.prevComponent);\n        }\n    }\n\n    syncComponent(label, components, prevComponents) {\n        components = components || [];\n        if (!Array.isArray(components)) {\n            components = [components];\n        }\n        let loadedComponents = this.loadedComponents[label] || [];\n\n        if (prevComponents && prevComponents.length) {\n            const shouldBeRemovedComponents = _.differenceWith(prevComponents, components, _.isEqual) || [];\n            shouldBeRemovedComponents.forEach((component) => {\n                const componentLabel = `${label}.${component.hasOwnProperty('label') ? component.label : ''}`;\n                this.viewer.removeComponent(componentLabel);\n                if (loadedComponents.includes(componentLabel)) {\n                    loadedComponents = loadedComponents.filter((item) => item !== componentLabel);\n                }\n            });\n        }\n        this.loadedComponents[label] = loadedComponents;\n\n        const structure = this.getStructureByLabel(label);\n        const id = structure.cell.obj.data.units[0].model.id;\n        components.forEach((component) => {\n            let componentLabel = component.hasOwnProperty('label') ? component.label : '';\n            if (componentLabel === 'Polymer') {\n                this.viewer.removeComponent(componentLabel);\n            }\n            componentLabel = `${label}.${componentLabel}`;\n\n            if (!loadedComponents.includes(componentLabel)) {\n\n                const targets = [];\n                for (let target of component.targets) {\n                    const newTarget = {\n                        modelId: id,\n                        ...target.author ? { authAsymId: target.chain_name } : { labelAsymId: target.chain_name },\n                    }\n                    if (target.hasOwnProperty('residue_numbers')) {\n                        if (target.author) {\n                            newTarget.authSeqId = target.residue_numbers;\n                        } else {\n                            newTarget.labelSeqId = target.residue_numbers;\n                        }\n                    }\n                    targets.push(newTarget);\n                }\n                this.viewer.createComponent(componentLabel, targets, component.representation);\n            }\n            loadedComponents.push(componentLabel);\n        });\n\n        structure.components.forEach((component) => {\n            const componentLabel = component.cell.obj.data.label;\n            if (!loadedComponents.includes(componentLabel) && componentLabel.startsWith(`${label}.`)) {\n                this.viewer.removeComponent(componentLabel);\n                // remove from list\n                loadedComponents.splice(loadedComponents.indexOf(componentLabel), 1);\n            }\n        });\n    }\n\n\n    getSelectionSubStructure(){\n        const structure = this.viewer._plugin.managers.structure.selection.entries.values().next().value._selection.structure;\n        const elements = this.viewer._plugin.managers.structure.selection.entries.values().next().value._selection.elements[0].unit.elements;\n        const indices = this.viewer._plugin.managers.structure.selection.entries.values().next().value._selection.elements[0].indices;\n        const elementIds = indices.map(index => elements[index]);\n\n        const builder = Structure.Builder()\n        const elementSet = new Set(elementIds)\n        for (const unit of structure.units) {\n            const elements = elementIds\n            ? [...(unit.elements)].filter((item) => elementSet.has(item))\n            : unit.elements\n            if (elements.length) {\n            builder.addUnit(\n                unit.kind,\n                unit.model,\n                unit.conformation.operator,\n                elements,\n                unit.traits\n            )\n            }\n        }\n        return builder.getStructure()\n    }\n\n    syncSelections() {\n        const selection = this.state.selection;\n        if (!selection) {\n            this.viewer.clearSelection(\"select\");\n            this.viewer.clearSelection(\"hover\");\n            return;\n        }\n        const molecule_name = this.state.selection.molecule;\n        let structure = null;\n        if (!molecule_name) {\n            const model_index = this.viewer._plugin.managers.structure.hierarchy.current.structures.length - 1;\n            structure = this.viewer._plugin.managers.structure.hierarchy.current.structures[model_index];\n        } else {\n            structure = this.getStructureByLabel(molecule_name);\n        }\n\n        const id = structure.cell.obj.data.units[0].model.id;\n        const targets = [];\n        if (selection.targets) {\n            // convert data from python to molstar data structure\n            for (let target of selection.targets) {\n                const newTarget = {\n                    modelId: id,\n                    ...target.auth ? { authAsymId: target.chain_name } : { labelAsymId: target.chain_name },\n                }\n                // check if any residue number has been selected\n                if (target.hasOwnProperty('residue_numbers')) {\n                    if (target.auth) {\n                        newTarget.authSeqId = target.residue_numbers;\n                    } else {\n                        newTarget.labelSeqId = target.residue_numbers;\n                    }\n                }\n                targets.push(newTarget);\n            }\n        }\n        this.viewer.select(targets, selection.mode, selection.modifier);\n        const subStructure = this.getSelectionSubStructure();\n        this.autoRotate([subStructure], selection.rotate);\n    }\n\n    syncFocus() {\n        const focus = this.props.focus;\n        if (!focus) {\n            this.viewer.clearFocus();\n            return;\n        }\n        const molecule_name = focus?.molecule\n        if (!molecule_name) {\n            return;\n        }\n        let currentComponents = null;\n        const componentGroups = this.viewer._plugin.managers.structure.hierarchy.currentComponentGroups;\n        for (let i = 0; i < componentGroups.length; i++) {\n            currentComponents = componentGroups[i].filter(e => e.cell.obj.data.state.label === molecule_name);\n            if (currentComponents.length) {\n                break;\n            }\n        }\n\n        if (!currentComponents || !currentComponents.length) {\n            return;\n        }\n\n        this.viewer._plugin.managers.camera.focusSpheres(currentComponents, e => {\n            if (e.cell.state.isHidden) return;\n            return e.cell.obj?.data.boundary.sphere;\n        });\n    }\n\n    syncShape(item) {\n        if (this.loadedShapes[item.label]) {\n            return;\n        }\n        if (item.shape === 'box') {\n            this.viewer.createBoundingBox(item.label, item.min, item.max, item.radius, item.color).then((ref) => {\n                this.loadedShapes[item.label] = ref;\n            });\n        }\n    }\n\n\n    syncViewerState() {\n        this.syncItems();\n        this.syncFocus();\n        this.syncSelections();\n    }\n\n    componentDidMount() {\n        if (this.viewerRef.current) {\n            this.viewer = new rcsbMolstar.Viewer(this.viewerRef.current, this.state.layout);\n            this.syncViewerState();\n        }\n        let timeoutid = null;\n        if (this.viewerRef.current) {\n            this.resizeObserver = new ResizeObserver((entries) => {\n                for (const entry of entries) {\n                    timeoutid && clearTimeout(timeoutid);\n                    timeoutid = setTimeout(this.viewer.handleResize.bind(this.viewer), 100);\n                }\n            });\n            this.resizeObserver.observe(this.viewerRef.current);\n        }\n    }\n\n    componentDidUpdate(prevProps) {\n        if (this.props.data !== prevProps.data) {\n            const data = _.differenceWith(prevProps.data, this.props.data, _.isEqual);\n            if (data && data.length) {\n                for (let d of data) {\n                    d.label && this.viewer.removeComponent(d.label);\n                }\n            }\n\n\n            const currentData = _.cloneDeep(this.props.data || []);\n            const prevData = prevProps.data || [];\n            currentData.forEach((current) => {\n                prevData.forEach((prev) => {\n                    if (current.label === prev.label) {\n                        current.prevComponent = prev.component;\n                    }\n                });\n            });\n\n            this.state.data = currentData || [];\n            this.syncItems();\n        }\n        if (this.props.selection !== prevProps.selection) {\n            this.state.selection = this.props.selection;\n            this.syncSelections();\n        }\n        if (this.state.focus !== this.props.focus) {\n            this.state.focus = this.props.focus;\n            this.syncFocus();\n        }\n    }\n\n    render() {\n        return (<div\n            id={this.props.id}\n            ref={this.viewerRef}\n            style={this.state.style}\n            className={this.state.className}\n        />\n        );\n    }\n}\n\n\nMolstarViewer.defaultProps = {\n    data: [],\n};\n\n\nMolstarViewer.propTypes = {\n    /**\n     * The ID used to identify this component in Dash callbacks.\n     */\n    id: PropTypes.string,\n\n    /**\n     * The HTML property `style` to control the appearence of the container of molstar viewer.\n     */\n    style: PropTypes.object,\n\n    /**\n     * The HTML property `class` for additional class names of the container of molstar viewer.\n     */\n    className: PropTypes.string,\n\n    /**\n     * Data containing the structure info that should be loaded into molstar viewer, as well as some control flags.\n     * The data can be generated with python method `parse_molecule`.\n     */\n    data: PropTypes.any,\n\n    /**\n     * The layout of the molstar viewer. Determining what controls to be displayed. \n     * \n     * The layout is not allowed to be changed once the component has been initialized.\n     */\n    layout: PropTypes.object,\n\n    /**\n     * The structure region to be selected in the molstar viewer.\n     */\n    selection: PropTypes.object,\n\n    /**\n     * The structure region to let the camera focus on in the molstar viewer.\n     */\n    focus: PropTypes.object,\n\n    /**\n     * Dash-assigned callback that should be called to report property changes\n     * to Dash, to make them available for callbacks.\n     */\n    setProps: PropTypes.func,\n};","/* eslint-disable import/prefer-default-export */\nimport MolstarViewer from './components/MolstarViewer.react';\nimport '../rcsb-molstar.css';\nexport {\n    MolstarViewer\n};\n"],"sourceRoot":""}